function ZQ(E,I){return function(){return E.apply(I,arguments)}}const{toString:Ite}=Object.prototype,{getPrototypeOf:WX}=Object,{iterator:MP,toStringTag:GQ}=Symbol,IP=(E=>I=>{const x=Ite.call(I);return E[x]||(E[x]=x.slice(8,-1).toLowerCase())})(Object.create(null)),Dg=E=>(E=E.toLowerCase(),I=>IP(I)===E),BP=E=>I=>typeof I===E,{isArray:By}=Array,Ak=BP("undefined");function Lk(E){return E!==null&&!Ak(E)&&E.constructor!==null&&!Ak(E.constructor)&&xf(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const qQ=Dg("ArrayBuffer");function Bte(E){let I;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?I=ArrayBuffer.isView(E):I=E&&E.buffer&&qQ(E.buffer),I}const Fte=BP("string"),xf=BP("function"),YQ=BP("number"),Dk=E=>E!==null&&typeof E=="object",Pte=E=>E===!0||E===!1,EP=E=>{if(IP(E)!=="object")return!1;const I=WX(E);return(I===null||I===Object.prototype||Object.getPrototypeOf(I)===null)&&!(GQ in E)&&!(MP in E)},$te=E=>{if(!Dk(E)||Lk(E))return!1;try{return Object.keys(E).length===0&&Object.getPrototypeOf(E)===Object.prototype}catch{return!1}},Hte=Dg("Date"),zte=Dg("File"),Ute=Dg("Blob"),Vte=Dg("FileList"),Wte=E=>Dk(E)&&xf(E.pipe),Kte=E=>{let I;return E&&(typeof FormData=="function"&&E instanceof FormData||xf(E.append)&&((I=IP(E))==="formdata"||I==="object"&&xf(E.toString)&&E.toString()==="[object FormData]"))},jte=Dg("URLSearchParams"),[Zte,Gte,qte,Yte]=["ReadableStream","Request","Response","Headers"].map(Dg),Xte=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nk(E,I,{allOwnKeys:x=!1}={}){if(E===null||typeof E>"u")return;let de,Ae;if(typeof E!="object"&&(E=[E]),By(E))for(de=0,Ae=E.length;de<Ae;de++)I.call(null,E[de],de,E);else{if(Lk(E))return;const Ie=x?Object.getOwnPropertyNames(E):Object.keys(E),Ke=Ie.length;let ot;for(de=0;de<Ke;de++)ot=Ie[de],I.call(null,E[ot],ot,E)}}function XQ(E,I){if(Lk(E))return null;I=I.toLowerCase();const x=Object.keys(E);let de=x.length,Ae;for(;de-- >0;)if(Ae=x[de],I===Ae.toLowerCase())return Ae;return null}const U6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JQ=E=>!Ak(E)&&E!==U6;function CX(){const{caseless:E}=JQ(this)&&this||{},I={},x=(de,Ae)=>{const Ie=E&&XQ(I,Ae)||Ae;EP(I[Ie])&&EP(de)?I[Ie]=CX(I[Ie],de):EP(de)?I[Ie]=CX({},de):By(de)?I[Ie]=de.slice():I[Ie]=de};for(let de=0,Ae=arguments.length;de<Ae;de++)arguments[de]&&Nk(arguments[de],x);return I}const Jte=(E,I,x,{allOwnKeys:de}={})=>(Nk(I,(Ae,Ie)=>{x&&xf(Ae)?E[Ie]=ZQ(Ae,x):E[Ie]=Ae},{allOwnKeys:de}),E),Qte=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),ene=(E,I,x,de)=>{E.prototype=Object.create(I.prototype,de),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:I.prototype}),x&&Object.assign(E.prototype,x)},tne=(E,I,x,de)=>{let Ae,Ie,Ke;const ot={};if(I=I||{},E==null)return I;do{for(Ae=Object.getOwnPropertyNames(E),Ie=Ae.length;Ie-- >0;)Ke=Ae[Ie],(!de||de(Ke,E,I))&&!ot[Ke]&&(I[Ke]=E[Ke],ot[Ke]=!0);E=x!==!1&&WX(E)}while(E&&(!x||x(E,I))&&E!==Object.prototype);return I},nne=(E,I,x)=>{E=String(E),(x===void 0||x>E.length)&&(x=E.length),x-=I.length;const de=E.indexOf(I,x);return de!==-1&&de===x},one=E=>{if(!E)return null;if(By(E))return E;let I=E.length;if(!YQ(I))return null;const x=new Array(I);for(;I-- >0;)x[I]=E[I];return x},sne=(E=>I=>E&&I instanceof E)(typeof Uint8Array<"u"&&WX(Uint8Array)),rne=(E,I)=>{const de=(E&&E[MP]).call(E);let Ae;for(;(Ae=de.next())&&!Ae.done;){const Ie=Ae.value;I.call(E,Ie[0],Ie[1])}},ane=(E,I)=>{let x;const de=[];for(;(x=E.exec(I))!==null;)de.push(x);return de},ine=Dg("HTMLFormElement"),lne=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(x,de,Ae){return de.toUpperCase()+Ae}),yQ=(({hasOwnProperty:E})=>(I,x)=>E.call(I,x))(Object.prototype),cne=Dg("RegExp"),QQ=(E,I)=>{const x=Object.getOwnPropertyDescriptors(E),de={};Nk(x,(Ae,Ie)=>{let Ke;(Ke=I(Ae,Ie,E))!==!1&&(de[Ie]=Ke||Ae)}),Object.defineProperties(E,de)},dne=E=>{QQ(E,(I,x)=>{if(xf(E)&&["arguments","caller","callee"].indexOf(x)!==-1)return!1;const de=E[x];if(xf(de)){if(I.enumerable=!1,"writable"in I){I.writable=!1;return}I.set||(I.set=()=>{throw Error("Can not rewrite read-only method '"+x+"'")})}})},une=(E,I)=>{const x={},de=Ae=>{Ae.forEach(Ie=>{x[Ie]=!0})};return By(E)?de(E):de(String(E).split(I)),x},fne=()=>{},pne=(E,I)=>E!=null&&Number.isFinite(E=+E)?E:I;function gne(E){return!!(E&&xf(E.append)&&E[GQ]==="FormData"&&E[MP])}const mne=E=>{const I=new Array(10),x=(de,Ae)=>{if(Dk(de)){if(I.indexOf(de)>=0)return;if(Lk(de))return de;if(!("toJSON"in de)){I[Ae]=de;const Ie=By(de)?[]:{};return Nk(de,(Ke,ot)=>{const Mt=x(Ke,Ae+1);!Ak(Mt)&&(Ie[ot]=Mt)}),I[Ae]=void 0,Ie}}return de};return x(E,0)},hne=Dg("AsyncFunction"),bne=E=>E&&(Dk(E)||xf(E))&&xf(E.then)&&xf(E.catch),eee=((E,I)=>E?setImmediate:I?((x,de)=>(U6.addEventListener("message",({source:Ae,data:Ie})=>{Ae===U6&&Ie===x&&de.length&&de.shift()()},!1),Ae=>{de.push(Ae),U6.postMessage(x,"*")}))(`axios@${Math.random()}`,[]):x=>setTimeout(x))(typeof setImmediate=="function",xf(U6.postMessage)),vne=typeof queueMicrotask<"u"?queueMicrotask.bind(U6):typeof process<"u"&&process.nextTick||eee,xne=E=>E!=null&&xf(E[MP]),Jn={isArray:By,isArrayBuffer:qQ,isBuffer:Lk,isFormData:Kte,isArrayBufferView:Bte,isString:Fte,isNumber:YQ,isBoolean:Pte,isObject:Dk,isPlainObject:EP,isEmptyObject:$te,isReadableStream:Zte,isRequest:Gte,isResponse:qte,isHeaders:Yte,isUndefined:Ak,isDate:Hte,isFile:zte,isBlob:Ute,isRegExp:cne,isFunction:xf,isStream:Wte,isURLSearchParams:jte,isTypedArray:sne,isFileList:Vte,forEach:Nk,merge:CX,extend:Jte,trim:Xte,stripBOM:Qte,inherits:ene,toFlatObject:tne,kindOf:IP,kindOfTest:Dg,endsWith:nne,toArray:one,forEachEntry:rne,matchAll:ane,isHTMLForm:ine,hasOwnProperty:yQ,hasOwnProp:yQ,reduceDescriptors:QQ,freezeMethods:dne,toObjectSet:une,toCamelCase:lne,noop:fne,toFiniteNumber:pne,findKey:XQ,global:U6,isContextDefined:JQ,isSpecCompliantForm:gne,toJSONObject:mne,isAsyncFn:hne,isThenable:bne,setImmediate:eee,asap:vne,isIterable:xne};function Fr(E,I,x,de,Ae){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",I&&(this.code=I),x&&(this.config=x),de&&(this.request=de),Ae&&(this.response=Ae,this.status=Ae.status?Ae.status:null)}Jn.inherits(Fr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Jn.toJSONObject(this.config),code:this.code,status:this.status}}});const tee=Fr.prototype,nee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{nee[E]={value:E}});Object.defineProperties(Fr,nee);Object.defineProperty(tee,"isAxiosError",{value:!0});Fr.from=(E,I,x,de,Ae,Ie)=>{const Ke=Object.create(tee);return Jn.toFlatObject(E,Ke,function(Mt){return Mt!==Error.prototype},ot=>ot!=="isAxiosError"),Fr.call(Ke,E.message,I,x,de,Ae),Ke.cause=E,Ke.name=E.name,Ie&&Object.assign(Ke,Ie),Ke};const yne=null;function _X(E){return Jn.isPlainObject(E)||Jn.isArray(E)}function oee(E){return Jn.endsWith(E,"[]")?E.slice(0,-2):E}function CQ(E,I,x){return E?E.concat(I).map(function(Ae,Ie){return Ae=oee(Ae),!x&&Ie?"["+Ae+"]":Ae}).join(x?".":""):I}function Cne(E){return Jn.isArray(E)&&!E.some(_X)}const _ne=Jn.toFlatObject(Jn,{},null,function(I){return/^is[A-Z]/.test(I)});function FP(E,I,x){if(!Jn.isObject(E))throw new TypeError("target must be an object");I=I||new FormData,x=Jn.toFlatObject(x,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Eo,jt){return!Jn.isUndefined(jt[Eo])});const de=x.metaTokens,Ae=x.visitor||un,Ie=x.dots,Ke=x.indexes,Mt=(x.Blob||typeof Blob<"u"&&Blob)&&Jn.isSpecCompliantForm(I);if(!Jn.isFunction(Ae))throw new TypeError("visitor must be a function");function Oe(Co){if(Co===null)return"";if(Jn.isDate(Co))return Co.toISOString();if(Jn.isBoolean(Co))return Co.toString();if(!Mt&&Jn.isBlob(Co))throw new Fr("Blob is not supported. Use a Buffer instead.");return Jn.isArrayBuffer(Co)||Jn.isTypedArray(Co)?Mt&&typeof Blob=="function"?new Blob([Co]):Buffer.from(Co):Co}function un(Co,Eo,jt){let Wo=Co;if(Co&&!jt&&typeof Co=="object"){if(Jn.endsWith(Eo,"{}"))Eo=de?Eo:Eo.slice(0,-2),Co=JSON.stringify(Co);else if(Jn.isArray(Co)&&Cne(Co)||(Jn.isFileList(Co)||Jn.endsWith(Eo,"[]"))&&(Wo=Jn.toArray(Co)))return Eo=oee(Eo),Wo.forEach(function(lt,qn){!(Jn.isUndefined(lt)||lt===null)&&I.append(Ke===!0?CQ([Eo],qn,Ie):Ke===null?Eo:Eo+"[]",Oe(lt))}),!1}return _X(Co)?!0:(I.append(CQ(jt,Eo,Ie),Oe(Co)),!1)}const On=[],xe=Object.assign(_ne,{defaultVisitor:un,convertValue:Oe,isVisitable:_X});function Go(Co,Eo){if(!Jn.isUndefined(Co)){if(On.indexOf(Co)!==-1)throw Error("Circular reference detected in "+Eo.join("."));On.push(Co),Jn.forEach(Co,function(Wo,Yt){(!(Jn.isUndefined(Wo)||Wo===null)&&Ae.call(I,Wo,Jn.isString(Yt)?Yt.trim():Yt,Eo,xe))===!0&&Go(Wo,Eo?Eo.concat(Yt):[Yt])}),On.pop()}}if(!Jn.isObject(E))throw new TypeError("data must be an object");return Go(E),I}function _Q(E){const I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(de){return I[de]})}function KX(E,I){this._pairs=[],E&&FP(E,this,I)}const see=KX.prototype;see.append=function(I,x){this._pairs.push([I,x])};see.toString=function(I){const x=I?function(de){return I.call(this,de,_Q)}:_Q;return this._pairs.map(function(Ae){return x(Ae[0])+"="+x(Ae[1])},"").join("&")};function Ene(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ree(E,I,x){if(!I)return E;const de=x&&x.encode||Ene;Jn.isFunction(x)&&(x={serialize:x});const Ae=x&&x.serialize;let Ie;if(Ae?Ie=Ae(I,x):Ie=Jn.isURLSearchParams(I)?I.toString():new KX(I,x).toString(de),Ie){const Ke=E.indexOf("#");Ke!==-1&&(E=E.slice(0,Ke)),E+=(E.indexOf("?")===-1?"?":"&")+Ie}return E}class EQ{constructor(){this.handlers=[]}use(I,x,de){return this.handlers.push({fulfilled:I,rejected:x,synchronous:de?de.synchronous:!1,runWhen:de?de.runWhen:null}),this.handlers.length-1}eject(I){this.handlers[I]&&(this.handlers[I]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(I){Jn.forEach(this.handlers,function(de){de!==null&&I(de)})}}const aee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wne=typeof URLSearchParams<"u"?URLSearchParams:KX,Sne=typeof FormData<"u"?FormData:null,Tne=typeof Blob<"u"?Blob:null,kne={isBrowser:!0,classes:{URLSearchParams:wne,FormData:Sne,Blob:Tne},protocols:["http","https","file","blob","url","data"]},jX=typeof window<"u"&&typeof document<"u",EX=typeof navigator=="object"&&navigator||void 0,Ane=jX&&(!EX||["ReactNative","NativeScript","NS"].indexOf(EX.product)<0),One=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lne=jX&&window.location.href||"http://localhost",Dne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jX,hasStandardBrowserEnv:Ane,hasStandardBrowserWebWorkerEnv:One,navigator:EX,origin:Lne},Symbol.toStringTag,{value:"Module"})),Qd={...Dne,...kne};function Nne(E,I){return FP(E,new Qd.classes.URLSearchParams,{visitor:function(x,de,Ae,Ie){return Qd.isNode&&Jn.isBuffer(x)?(this.append(de,x.toString("base64")),!1):Ie.defaultVisitor.apply(this,arguments)},...I})}function Rne(E){return Jn.matchAll(/\w+|\[(\w*)]/g,E).map(I=>I[0]==="[]"?"":I[1]||I[0])}function Mne(E){const I={},x=Object.keys(E);let de;const Ae=x.length;let Ie;for(de=0;de<Ae;de++)Ie=x[de],I[Ie]=E[Ie];return I}function iee(E){function I(x,de,Ae,Ie){let Ke=x[Ie++];if(Ke==="__proto__")return!0;const ot=Number.isFinite(+Ke),Mt=Ie>=x.length;return Ke=!Ke&&Jn.isArray(Ae)?Ae.length:Ke,Mt?(Jn.hasOwnProp(Ae,Ke)?Ae[Ke]=[Ae[Ke],de]:Ae[Ke]=de,!ot):((!Ae[Ke]||!Jn.isObject(Ae[Ke]))&&(Ae[Ke]=[]),I(x,de,Ae[Ke],Ie)&&Jn.isArray(Ae[Ke])&&(Ae[Ke]=Mne(Ae[Ke])),!ot)}if(Jn.isFormData(E)&&Jn.isFunction(E.entries)){const x={};return Jn.forEachEntry(E,(de,Ae)=>{I(Rne(de),Ae,x,0)}),x}return null}function Ine(E,I,x){if(Jn.isString(E))try{return(I||JSON.parse)(E),Jn.trim(E)}catch(de){if(de.name!=="SyntaxError")throw de}return(x||JSON.stringify)(E)}const Rk={transitional:aee,adapter:["xhr","http","fetch"],transformRequest:[function(I,x){const de=x.getContentType()||"",Ae=de.indexOf("application/json")>-1,Ie=Jn.isObject(I);if(Ie&&Jn.isHTMLForm(I)&&(I=new FormData(I)),Jn.isFormData(I))return Ae?JSON.stringify(iee(I)):I;if(Jn.isArrayBuffer(I)||Jn.isBuffer(I)||Jn.isStream(I)||Jn.isFile(I)||Jn.isBlob(I)||Jn.isReadableStream(I))return I;if(Jn.isArrayBufferView(I))return I.buffer;if(Jn.isURLSearchParams(I))return x.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),I.toString();let ot;if(Ie){if(de.indexOf("application/x-www-form-urlencoded")>-1)return Nne(I,this.formSerializer).toString();if((ot=Jn.isFileList(I))||de.indexOf("multipart/form-data")>-1){const Mt=this.env&&this.env.FormData;return FP(ot?{"files[]":I}:I,Mt&&new Mt,this.formSerializer)}}return Ie||Ae?(x.setContentType("application/json",!1),Ine(I)):I}],transformResponse:[function(I){const x=this.transitional||Rk.transitional,de=x&&x.forcedJSONParsing,Ae=this.responseType==="json";if(Jn.isResponse(I)||Jn.isReadableStream(I))return I;if(I&&Jn.isString(I)&&(de&&!this.responseType||Ae)){const Ke=!(x&&x.silentJSONParsing)&&Ae;try{return JSON.parse(I)}catch(ot){if(Ke)throw ot.name==="SyntaxError"?Fr.from(ot,Fr.ERR_BAD_RESPONSE,this,null,this.response):ot}}return I}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qd.classes.FormData,Blob:Qd.classes.Blob},validateStatus:function(I){return I>=200&&I<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Jn.forEach(["delete","get","head","post","put","patch"],E=>{Rk.headers[E]={}});const Bne=Jn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fne=E=>{const I={};let x,de,Ae;return E&&E.split(`
`).forEach(function(Ke){Ae=Ke.indexOf(":"),x=Ke.substring(0,Ae).trim().toLowerCase(),de=Ke.substring(Ae+1).trim(),!(!x||I[x]&&Bne[x])&&(x==="set-cookie"?I[x]?I[x].push(de):I[x]=[de]:I[x]=I[x]?I[x]+", "+de:de)}),I},wQ=Symbol("internals");function yk(E){return E&&String(E).trim().toLowerCase()}function wP(E){return E===!1||E==null?E:Jn.isArray(E)?E.map(wP):String(E)}function Pne(E){const I=Object.create(null),x=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let de;for(;de=x.exec(E);)I[de[1]]=de[2];return I}const $ne=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function pX(E,I,x,de,Ae){if(Jn.isFunction(de))return de.call(this,I,x);if(Ae&&(I=x),!!Jn.isString(I)){if(Jn.isString(de))return I.indexOf(de)!==-1;if(Jn.isRegExp(de))return de.test(I)}}function Hne(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(I,x,de)=>x.toUpperCase()+de)}function zne(E,I){const x=Jn.toCamelCase(" "+I);["get","set","has"].forEach(de=>{Object.defineProperty(E,de+x,{value:function(Ae,Ie,Ke){return this[de].call(this,I,Ae,Ie,Ke)},configurable:!0})})}let yf=class{constructor(I){I&&this.set(I)}set(I,x,de){const Ae=this;function Ie(ot,Mt,Oe){const un=yk(Mt);if(!un)throw new Error("header name must be a non-empty string");const On=Jn.findKey(Ae,un);(!On||Ae[On]===void 0||Oe===!0||Oe===void 0&&Ae[On]!==!1)&&(Ae[On||Mt]=wP(ot))}const Ke=(ot,Mt)=>Jn.forEach(ot,(Oe,un)=>Ie(Oe,un,Mt));if(Jn.isPlainObject(I)||I instanceof this.constructor)Ke(I,x);else if(Jn.isString(I)&&(I=I.trim())&&!$ne(I))Ke(Fne(I),x);else if(Jn.isObject(I)&&Jn.isIterable(I)){let ot={},Mt,Oe;for(const un of I){if(!Jn.isArray(un))throw TypeError("Object iterator must return a key-value pair");ot[Oe=un[0]]=(Mt=ot[Oe])?Jn.isArray(Mt)?[...Mt,un[1]]:[Mt,un[1]]:un[1]}Ke(ot,x)}else I!=null&&Ie(x,I,de);return this}get(I,x){if(I=yk(I),I){const de=Jn.findKey(this,I);if(de){const Ae=this[de];if(!x)return Ae;if(x===!0)return Pne(Ae);if(Jn.isFunction(x))return x.call(this,Ae,de);if(Jn.isRegExp(x))return x.exec(Ae);throw new TypeError("parser must be boolean|regexp|function")}}}has(I,x){if(I=yk(I),I){const de=Jn.findKey(this,I);return!!(de&&this[de]!==void 0&&(!x||pX(this,this[de],de,x)))}return!1}delete(I,x){const de=this;let Ae=!1;function Ie(Ke){if(Ke=yk(Ke),Ke){const ot=Jn.findKey(de,Ke);ot&&(!x||pX(de,de[ot],ot,x))&&(delete de[ot],Ae=!0)}}return Jn.isArray(I)?I.forEach(Ie):Ie(I),Ae}clear(I){const x=Object.keys(this);let de=x.length,Ae=!1;for(;de--;){const Ie=x[de];(!I||pX(this,this[Ie],Ie,I,!0))&&(delete this[Ie],Ae=!0)}return Ae}normalize(I){const x=this,de={};return Jn.forEach(this,(Ae,Ie)=>{const Ke=Jn.findKey(de,Ie);if(Ke){x[Ke]=wP(Ae),delete x[Ie];return}const ot=I?Hne(Ie):String(Ie).trim();ot!==Ie&&delete x[Ie],x[ot]=wP(Ae),de[ot]=!0}),this}concat(...I){return this.constructor.concat(this,...I)}toJSON(I){const x=Object.create(null);return Jn.forEach(this,(de,Ae)=>{de!=null&&de!==!1&&(x[Ae]=I&&Jn.isArray(de)?de.join(", "):de)}),x}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([I,x])=>I+": "+x).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(I){return I instanceof this?I:new this(I)}static concat(I,...x){const de=new this(I);return x.forEach(Ae=>de.set(Ae)),de}static accessor(I){const de=(this[wQ]=this[wQ]={accessors:{}}).accessors,Ae=this.prototype;function Ie(Ke){const ot=yk(Ke);de[ot]||(zne(Ae,Ke),de[ot]=!0)}return Jn.isArray(I)?I.forEach(Ie):Ie(I),this}};yf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Jn.reduceDescriptors(yf.prototype,({value:E},I)=>{let x=I[0].toUpperCase()+I.slice(1);return{get:()=>E,set(de){this[x]=de}}});Jn.freezeMethods(yf);function gX(E,I){const x=this||Rk,de=I||x,Ae=yf.from(de.headers);let Ie=de.data;return Jn.forEach(E,function(ot){Ie=ot.call(x,Ie,Ae.normalize(),I?I.status:void 0)}),Ae.normalize(),Ie}function lee(E){return!!(E&&E.__CANCEL__)}function Fy(E,I,x){Fr.call(this,E??"canceled",Fr.ERR_CANCELED,I,x),this.name="CanceledError"}Jn.inherits(Fy,Fr,{__CANCEL__:!0});function cee(E,I,x){const de=x.config.validateStatus;!x.status||!de||de(x.status)?E(x):I(new Fr("Request failed with status code "+x.status,[Fr.ERR_BAD_REQUEST,Fr.ERR_BAD_RESPONSE][Math.floor(x.status/100)-4],x.config,x.request,x))}function Une(E){const I=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return I&&I[1]||""}function Vne(E,I){E=E||10;const x=new Array(E),de=new Array(E);let Ae=0,Ie=0,Ke;return I=I!==void 0?I:1e3,function(Mt){const Oe=Date.now(),un=de[Ie];Ke||(Ke=Oe),x[Ae]=Mt,de[Ae]=Oe;let On=Ie,xe=0;for(;On!==Ae;)xe+=x[On++],On=On%E;if(Ae=(Ae+1)%E,Ae===Ie&&(Ie=(Ie+1)%E),Oe-Ke<I)return;const Go=un&&Oe-un;return Go?Math.round(xe*1e3/Go):void 0}}function Wne(E,I){let x=0,de=1e3/I,Ae,Ie;const Ke=(Oe,un=Date.now())=>{x=un,Ae=null,Ie&&(clearTimeout(Ie),Ie=null),E(...Oe)};return[(...Oe)=>{const un=Date.now(),On=un-x;On>=de?Ke(Oe,un):(Ae=Oe,Ie||(Ie=setTimeout(()=>{Ie=null,Ke(Ae)},de-On)))},()=>Ae&&Ke(Ae)]}const AP=(E,I,x=3)=>{let de=0;const Ae=Vne(50,250);return Wne(Ie=>{const Ke=Ie.loaded,ot=Ie.lengthComputable?Ie.total:void 0,Mt=Ke-de,Oe=Ae(Mt),un=Ke<=ot;de=Ke;const On={loaded:Ke,total:ot,progress:ot?Ke/ot:void 0,bytes:Mt,rate:Oe||void 0,estimated:Oe&&ot&&un?(ot-Ke)/Oe:void 0,event:Ie,lengthComputable:ot!=null,[I?"download":"upload"]:!0};E(On)},x)},SQ=(E,I)=>{const x=E!=null;return[de=>I[0]({lengthComputable:x,total:E,loaded:de}),I[1]]},TQ=E=>(...I)=>Jn.asap(()=>E(...I)),Kne=Qd.hasStandardBrowserEnv?((E,I)=>x=>(x=new URL(x,Qd.origin),E.protocol===x.protocol&&E.host===x.host&&(I||E.port===x.port)))(new URL(Qd.origin),Qd.navigator&&/(msie|trident)/i.test(Qd.navigator.userAgent)):()=>!0,jne=Qd.hasStandardBrowserEnv?{write(E,I,x,de,Ae,Ie){const Ke=[E+"="+encodeURIComponent(I)];Jn.isNumber(x)&&Ke.push("expires="+new Date(x).toGMTString()),Jn.isString(de)&&Ke.push("path="+de),Jn.isString(Ae)&&Ke.push("domain="+Ae),Ie===!0&&Ke.push("secure"),document.cookie=Ke.join("; ")},read(E){const I=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return I?decodeURIComponent(I[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zne(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function Gne(E,I){return I?E.replace(/\/?\/$/,"")+"/"+I.replace(/^\/+/,""):E}function dee(E,I,x){let de=!Zne(I);return E&&(de||x==!1)?Gne(E,I):I}const kQ=E=>E instanceof yf?{...E}:E;function q6(E,I){I=I||{};const x={};function de(Oe,un,On,xe){return Jn.isPlainObject(Oe)&&Jn.isPlainObject(un)?Jn.merge.call({caseless:xe},Oe,un):Jn.isPlainObject(un)?Jn.merge({},un):Jn.isArray(un)?un.slice():un}function Ae(Oe,un,On,xe){if(Jn.isUndefined(un)){if(!Jn.isUndefined(Oe))return de(void 0,Oe,On,xe)}else return de(Oe,un,On,xe)}function Ie(Oe,un){if(!Jn.isUndefined(un))return de(void 0,un)}function Ke(Oe,un){if(Jn.isUndefined(un)){if(!Jn.isUndefined(Oe))return de(void 0,Oe)}else return de(void 0,un)}function ot(Oe,un,On){if(On in I)return de(Oe,un);if(On in E)return de(void 0,Oe)}const Mt={url:Ie,method:Ie,data:Ie,baseURL:Ke,transformRequest:Ke,transformResponse:Ke,paramsSerializer:Ke,timeout:Ke,timeoutMessage:Ke,withCredentials:Ke,withXSRFToken:Ke,adapter:Ke,responseType:Ke,xsrfCookieName:Ke,xsrfHeaderName:Ke,onUploadProgress:Ke,onDownloadProgress:Ke,decompress:Ke,maxContentLength:Ke,maxBodyLength:Ke,beforeRedirect:Ke,transport:Ke,httpAgent:Ke,httpsAgent:Ke,cancelToken:Ke,socketPath:Ke,responseEncoding:Ke,validateStatus:ot,headers:(Oe,un,On)=>Ae(kQ(Oe),kQ(un),On,!0)};return Jn.forEach(Object.keys({...E,...I}),function(un){const On=Mt[un]||Ae,xe=On(E[un],I[un],un);Jn.isUndefined(xe)&&On!==ot||(x[un]=xe)}),x}const uee=E=>{const I=q6({},E);let{data:x,withXSRFToken:de,xsrfHeaderName:Ae,xsrfCookieName:Ie,headers:Ke,auth:ot}=I;I.headers=Ke=yf.from(Ke),I.url=ree(dee(I.baseURL,I.url,I.allowAbsoluteUrls),E.params,E.paramsSerializer),ot&&Ke.set("Authorization","Basic "+btoa((ot.username||"")+":"+(ot.password?unescape(encodeURIComponent(ot.password)):"")));let Mt;if(Jn.isFormData(x)){if(Qd.hasStandardBrowserEnv||Qd.hasStandardBrowserWebWorkerEnv)Ke.setContentType(void 0);else if((Mt=Ke.getContentType())!==!1){const[Oe,...un]=Mt?Mt.split(";").map(On=>On.trim()).filter(Boolean):[];Ke.setContentType([Oe||"multipart/form-data",...un].join("; "))}}if(Qd.hasStandardBrowserEnv&&(de&&Jn.isFunction(de)&&(de=de(I)),de||de!==!1&&Kne(I.url))){const Oe=Ae&&Ie&&jne.read(Ie);Oe&&Ke.set(Ae,Oe)}return I},qne=typeof XMLHttpRequest<"u",Yne=qne&&function(E){return new Promise(function(x,de){const Ae=uee(E);let Ie=Ae.data;const Ke=yf.from(Ae.headers).normalize();let{responseType:ot,onUploadProgress:Mt,onDownloadProgress:Oe}=Ae,un,On,xe,Go,Co;function Eo(){Go&&Go(),Co&&Co(),Ae.cancelToken&&Ae.cancelToken.unsubscribe(un),Ae.signal&&Ae.signal.removeEventListener("abort",un)}let jt=new XMLHttpRequest;jt.open(Ae.method.toUpperCase(),Ae.url,!0),jt.timeout=Ae.timeout;function Wo(){if(!jt)return;const lt=yf.from("getAllResponseHeaders"in jt&&jt.getAllResponseHeaders()),fs={data:!ot||ot==="text"||ot==="json"?jt.responseText:jt.response,status:jt.status,statusText:jt.statusText,headers:lt,config:E,request:jt};cee(function(ht){x(ht),Eo()},function(ht){de(ht),Eo()},fs),jt=null}"onloadend"in jt?jt.onloadend=Wo:jt.onreadystatechange=function(){!jt||jt.readyState!==4||jt.status===0&&!(jt.responseURL&&jt.responseURL.indexOf("file:")===0)||setTimeout(Wo)},jt.onabort=function(){jt&&(de(new Fr("Request aborted",Fr.ECONNABORTED,E,jt)),jt=null)},jt.onerror=function(){de(new Fr("Network Error",Fr.ERR_NETWORK,E,jt)),jt=null},jt.ontimeout=function(){let qn=Ae.timeout?"timeout of "+Ae.timeout+"ms exceeded":"timeout exceeded";const fs=Ae.transitional||aee;Ae.timeoutErrorMessage&&(qn=Ae.timeoutErrorMessage),de(new Fr(qn,fs.clarifyTimeoutError?Fr.ETIMEDOUT:Fr.ECONNABORTED,E,jt)),jt=null},Ie===void 0&&Ke.setContentType(null),"setRequestHeader"in jt&&Jn.forEach(Ke.toJSON(),function(qn,fs){jt.setRequestHeader(fs,qn)}),Jn.isUndefined(Ae.withCredentials)||(jt.withCredentials=!!Ae.withCredentials),ot&&ot!=="json"&&(jt.responseType=Ae.responseType),Oe&&([xe,Co]=AP(Oe,!0),jt.addEventListener("progress",xe)),Mt&&jt.upload&&([On,Go]=AP(Mt),jt.upload.addEventListener("progress",On),jt.upload.addEventListener("loadend",Go)),(Ae.cancelToken||Ae.signal)&&(un=lt=>{jt&&(de(!lt||lt.type?new Fy(null,E,jt):lt),jt.abort(),jt=null)},Ae.cancelToken&&Ae.cancelToken.subscribe(un),Ae.signal&&(Ae.signal.aborted?un():Ae.signal.addEventListener("abort",un)));const Yt=Une(Ae.url);if(Yt&&Qd.protocols.indexOf(Yt)===-1){de(new Fr("Unsupported protocol "+Yt+":",Fr.ERR_BAD_REQUEST,E));return}jt.send(Ie||null)})},Xne=(E,I)=>{const{length:x}=E=E?E.filter(Boolean):[];if(I||x){let de=new AbortController,Ae;const Ie=function(Oe){if(!Ae){Ae=!0,ot();const un=Oe instanceof Error?Oe:this.reason;de.abort(un instanceof Fr?un:new Fy(un instanceof Error?un.message:un))}};let Ke=I&&setTimeout(()=>{Ke=null,Ie(new Fr(`timeout ${I} of ms exceeded`,Fr.ETIMEDOUT))},I);const ot=()=>{E&&(Ke&&clearTimeout(Ke),Ke=null,E.forEach(Oe=>{Oe.unsubscribe?Oe.unsubscribe(Ie):Oe.removeEventListener("abort",Ie)}),E=null)};E.forEach(Oe=>Oe.addEventListener("abort",Ie));const{signal:Mt}=de;return Mt.unsubscribe=()=>Jn.asap(ot),Mt}},Jne=function*(E,I){let x=E.byteLength;if(x<I){yield E;return}let de=0,Ae;for(;de<x;)Ae=de+I,yield E.slice(de,Ae),de=Ae},Qne=async function*(E,I){for await(const x of eoe(E))yield*Jne(x,I)},eoe=async function*(E){if(E[Symbol.asyncIterator]){yield*E;return}const I=E.getReader();try{for(;;){const{done:x,value:de}=await I.read();if(x)break;yield de}}finally{await I.cancel()}},AQ=(E,I,x,de)=>{const Ae=Qne(E,I);let Ie=0,Ke,ot=Mt=>{Ke||(Ke=!0,de&&de(Mt))};return new ReadableStream({async pull(Mt){try{const{done:Oe,value:un}=await Ae.next();if(Oe){ot(),Mt.close();return}let On=un.byteLength;if(x){let xe=Ie+=On;x(xe)}Mt.enqueue(new Uint8Array(un))}catch(Oe){throw ot(Oe),Oe}},cancel(Mt){return ot(Mt),Ae.return()}},{highWaterMark:2})},PP=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fee=PP&&typeof ReadableStream=="function",toe=PP&&(typeof TextEncoder=="function"?(E=>I=>E.encode(I))(new TextEncoder):async E=>new Uint8Array(await new Response(E).arrayBuffer())),pee=(E,...I)=>{try{return!!E(...I)}catch{return!1}},noe=fee&&pee(()=>{let E=!1;const I=new Request(Qd.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!I}),OQ=64*1024,wX=fee&&pee(()=>Jn.isReadableStream(new Response("").body)),OP={stream:wX&&(E=>E.body)};PP&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!OP[I]&&(OP[I]=Jn.isFunction(E[I])?x=>x[I]():(x,de)=>{throw new Fr(`Response type '${I}' is not supported`,Fr.ERR_NOT_SUPPORT,de)})})})(new Response);const ooe=async E=>{if(E==null)return 0;if(Jn.isBlob(E))return E.size;if(Jn.isSpecCompliantForm(E))return(await new Request(Qd.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Jn.isArrayBufferView(E)||Jn.isArrayBuffer(E))return E.byteLength;if(Jn.isURLSearchParams(E)&&(E=E+""),Jn.isString(E))return(await toe(E)).byteLength},soe=async(E,I)=>{const x=Jn.toFiniteNumber(E.getContentLength());return x??ooe(I)},roe=PP&&(async E=>{let{url:I,method:x,data:de,signal:Ae,cancelToken:Ie,timeout:Ke,onDownloadProgress:ot,onUploadProgress:Mt,responseType:Oe,headers:un,withCredentials:On="same-origin",fetchOptions:xe}=uee(E);Oe=Oe?(Oe+"").toLowerCase():"text";let Go=Xne([Ae,Ie&&Ie.toAbortSignal()],Ke),Co;const Eo=Go&&Go.unsubscribe&&(()=>{Go.unsubscribe()});let jt;try{if(Mt&&noe&&x!=="get"&&x!=="head"&&(jt=await soe(un,de))!==0){let fs=new Request(I,{method:"POST",body:de,duplex:"half"}),_o;if(Jn.isFormData(de)&&(_o=fs.headers.get("content-type"))&&un.setContentType(_o),fs.body){const[ht,eo]=SQ(jt,AP(TQ(Mt)));de=AQ(fs.body,OQ,ht,eo)}}Jn.isString(On)||(On=On?"include":"omit");const Wo="credentials"in Request.prototype;Co=new Request(I,{...xe,signal:Go,method:x.toUpperCase(),headers:un.normalize().toJSON(),body:de,duplex:"half",credentials:Wo?On:void 0});let Yt=await fetch(Co,xe);const lt=wX&&(Oe==="stream"||Oe==="response");if(wX&&(ot||lt&&Eo)){const fs={};["status","statusText","headers"].forEach(ks=>{fs[ks]=Yt[ks]});const _o=Jn.toFiniteNumber(Yt.headers.get("content-length")),[ht,eo]=ot&&SQ(_o,AP(TQ(ot),!0))||[];Yt=new Response(AQ(Yt.body,OQ,ht,()=>{eo&&eo(),Eo&&Eo()}),fs)}Oe=Oe||"text";let qn=await OP[Jn.findKey(OP,Oe)||"text"](Yt,E);return!lt&&Eo&&Eo(),await new Promise((fs,_o)=>{cee(fs,_o,{data:qn,headers:yf.from(Yt.headers),status:Yt.status,statusText:Yt.statusText,config:E,request:Co})})}catch(Wo){throw Eo&&Eo(),Wo&&Wo.name==="TypeError"&&/Load failed|fetch/i.test(Wo.message)?Object.assign(new Fr("Network Error",Fr.ERR_NETWORK,E,Co),{cause:Wo.cause||Wo}):Fr.from(Wo,Wo&&Wo.code,E,Co)}}),SX={http:yne,xhr:Yne,fetch:roe};Jn.forEach(SX,(E,I)=>{if(E){try{Object.defineProperty(E,"name",{value:I})}catch{}Object.defineProperty(E,"adapterName",{value:I})}});const LQ=E=>`- ${E}`,aoe=E=>Jn.isFunction(E)||E===null||E===!1,gee={getAdapter:E=>{E=Jn.isArray(E)?E:[E];const{length:I}=E;let x,de;const Ae={};for(let Ie=0;Ie<I;Ie++){x=E[Ie];let Ke;if(de=x,!aoe(x)&&(de=SX[(Ke=String(x)).toLowerCase()],de===void 0))throw new Fr(`Unknown adapter '${Ke}'`);if(de)break;Ae[Ke||"#"+Ie]=de}if(!de){const Ie=Object.entries(Ae).map(([ot,Mt])=>`adapter ${ot} `+(Mt===!1?"is not supported by the environment":"is not available in the build"));let Ke=I?Ie.length>1?`since :
`+Ie.map(LQ).join(`
`):" "+LQ(Ie[0]):"as no adapter specified";throw new Fr("There is no suitable adapter to dispatch the request "+Ke,"ERR_NOT_SUPPORT")}return de},adapters:SX};function mX(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new Fy(null,E)}function DQ(E){return mX(E),E.headers=yf.from(E.headers),E.data=gX.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),gee.getAdapter(E.adapter||Rk.adapter)(E).then(function(de){return mX(E),de.data=gX.call(E,E.transformResponse,de),de.headers=yf.from(de.headers),de},function(de){return lee(de)||(mX(E),de&&de.response&&(de.response.data=gX.call(E,E.transformResponse,de.response),de.response.headers=yf.from(de.response.headers))),Promise.reject(de)})}const mee="1.11.0",$P={};["object","boolean","number","function","string","symbol"].forEach((E,I)=>{$P[E]=function(de){return typeof de===E||"a"+(I<1?"n ":" ")+E}});const NQ={};$P.transitional=function(I,x,de){function Ae(Ie,Ke){return"[Axios v"+mee+"] Transitional option '"+Ie+"'"+Ke+(de?". "+de:"")}return(Ie,Ke,ot)=>{if(I===!1)throw new Fr(Ae(Ke," has been removed"+(x?" in "+x:"")),Fr.ERR_DEPRECATED);return x&&!NQ[Ke]&&(NQ[Ke]=!0,console.warn(Ae(Ke," has been deprecated since v"+x+" and will be removed in the near future"))),I?I(Ie,Ke,ot):!0}};$P.spelling=function(I){return(x,de)=>(console.warn(`${de} is likely a misspelling of ${I}`),!0)};function ioe(E,I,x){if(typeof E!="object")throw new Fr("options must be an object",Fr.ERR_BAD_OPTION_VALUE);const de=Object.keys(E);let Ae=de.length;for(;Ae-- >0;){const Ie=de[Ae],Ke=I[Ie];if(Ke){const ot=E[Ie],Mt=ot===void 0||Ke(ot,Ie,E);if(Mt!==!0)throw new Fr("option "+Ie+" must be "+Mt,Fr.ERR_BAD_OPTION_VALUE);continue}if(x!==!0)throw new Fr("Unknown option "+Ie,Fr.ERR_BAD_OPTION)}}const SP={assertOptions:ioe,validators:$P},fh=SP.validators;let W6=class{constructor(I){this.defaults=I||{},this.interceptors={request:new EQ,response:new EQ}}async request(I,x){try{return await this._request(I,x)}catch(de){if(de instanceof Error){let Ae={};Error.captureStackTrace?Error.captureStackTrace(Ae):Ae=new Error;const Ie=Ae.stack?Ae.stack.replace(/^.+\n/,""):"";try{de.stack?Ie&&!String(de.stack).endsWith(Ie.replace(/^.+\n.+\n/,""))&&(de.stack+=`
`+Ie):de.stack=Ie}catch{}}throw de}}_request(I,x){typeof I=="string"?(x=x||{},x.url=I):x=I||{},x=q6(this.defaults,x);const{transitional:de,paramsSerializer:Ae,headers:Ie}=x;de!==void 0&&SP.assertOptions(de,{silentJSONParsing:fh.transitional(fh.boolean),forcedJSONParsing:fh.transitional(fh.boolean),clarifyTimeoutError:fh.transitional(fh.boolean)},!1),Ae!=null&&(Jn.isFunction(Ae)?x.paramsSerializer={serialize:Ae}:SP.assertOptions(Ae,{encode:fh.function,serialize:fh.function},!0)),x.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?x.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:x.allowAbsoluteUrls=!0),SP.assertOptions(x,{baseUrl:fh.spelling("baseURL"),withXsrfToken:fh.spelling("withXSRFToken")},!0),x.method=(x.method||this.defaults.method||"get").toLowerCase();let Ke=Ie&&Jn.merge(Ie.common,Ie[x.method]);Ie&&Jn.forEach(["delete","get","head","post","put","patch","common"],Co=>{delete Ie[Co]}),x.headers=yf.concat(Ke,Ie);const ot=[];let Mt=!0;this.interceptors.request.forEach(function(Eo){typeof Eo.runWhen=="function"&&Eo.runWhen(x)===!1||(Mt=Mt&&Eo.synchronous,ot.unshift(Eo.fulfilled,Eo.rejected))});const Oe=[];this.interceptors.response.forEach(function(Eo){Oe.push(Eo.fulfilled,Eo.rejected)});let un,On=0,xe;if(!Mt){const Co=[DQ.bind(this),void 0];for(Co.unshift(...ot),Co.push(...Oe),xe=Co.length,un=Promise.resolve(x);On<xe;)un=un.then(Co[On++],Co[On++]);return un}xe=ot.length;let Go=x;for(On=0;On<xe;){const Co=ot[On++],Eo=ot[On++];try{Go=Co(Go)}catch(jt){Eo.call(this,jt);break}}try{un=DQ.call(this,Go)}catch(Co){return Promise.reject(Co)}for(On=0,xe=Oe.length;On<xe;)un=un.then(Oe[On++],Oe[On++]);return un}getUri(I){I=q6(this.defaults,I);const x=dee(I.baseURL,I.url,I.allowAbsoluteUrls);return ree(x,I.params,I.paramsSerializer)}};Jn.forEach(["delete","get","head","options"],function(I){W6.prototype[I]=function(x,de){return this.request(q6(de||{},{method:I,url:x,data:(de||{}).data}))}});Jn.forEach(["post","put","patch"],function(I){function x(de){return function(Ie,Ke,ot){return this.request(q6(ot||{},{method:I,headers:de?{"Content-Type":"multipart/form-data"}:{},url:Ie,data:Ke}))}}W6.prototype[I]=x(),W6.prototype[I+"Form"]=x(!0)});let loe=class hee{constructor(I){if(typeof I!="function")throw new TypeError("executor must be a function.");let x;this.promise=new Promise(function(Ie){x=Ie});const de=this;this.promise.then(Ae=>{if(!de._listeners)return;let Ie=de._listeners.length;for(;Ie-- >0;)de._listeners[Ie](Ae);de._listeners=null}),this.promise.then=Ae=>{let Ie;const Ke=new Promise(ot=>{de.subscribe(ot),Ie=ot}).then(Ae);return Ke.cancel=function(){de.unsubscribe(Ie)},Ke},I(function(Ie,Ke,ot){de.reason||(de.reason=new Fy(Ie,Ke,ot),x(de.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(I){if(this.reason){I(this.reason);return}this._listeners?this._listeners.push(I):this._listeners=[I]}unsubscribe(I){if(!this._listeners)return;const x=this._listeners.indexOf(I);x!==-1&&this._listeners.splice(x,1)}toAbortSignal(){const I=new AbortController,x=de=>{I.abort(de)};return this.subscribe(x),I.signal.unsubscribe=()=>this.unsubscribe(x),I.signal}static source(){let I;return{token:new hee(function(Ae){I=Ae}),cancel:I}}};function coe(E){return function(x){return E.apply(null,x)}}function doe(E){return Jn.isObject(E)&&E.isAxiosError===!0}const TX={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TX).forEach(([E,I])=>{TX[I]=E});function bee(E){const I=new W6(E),x=ZQ(W6.prototype.request,I);return Jn.extend(x,W6.prototype,I,{allOwnKeys:!0}),Jn.extend(x,I,null,{allOwnKeys:!0}),x.create=function(Ae){return bee(q6(E,Ae))},x}const Dl=bee(Rk);Dl.Axios=W6;Dl.CanceledError=Fy;Dl.CancelToken=loe;Dl.isCancel=lee;Dl.VERSION=mee;Dl.toFormData=FP;Dl.AxiosError=Fr;Dl.Cancel=Dl.CanceledError;Dl.all=function(I){return Promise.all(I)};Dl.spread=coe;Dl.isAxiosError=doe;Dl.mergeConfig=q6;Dl.AxiosHeaders=yf;Dl.formToJSON=E=>iee(Jn.isHTMLForm(E)?new FormData(E):E);Dl.getAdapter=gee.getAdapter;Dl.HttpStatusCode=TX;Dl.default=Dl;const{Axios:Lre,AxiosError:Dre,CanceledError:Nre,isCancel:Rre,CancelToken:Mre,VERSION:Ire,all:Bre,Cancel:Fre,isAxiosError:Pre,spread:$re,toFormData:Hre,AxiosHeaders:zre,HttpStatusCode:Ure,formToJSON:Vre,getAdapter:Wre,mergeConfig:Kre}=Dl;window.axios=Dl;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var kX=!1,AX=!1,K6=[],OX=-1;function uoe(E){foe(E)}function foe(E){K6.includes(E)||K6.push(E),goe()}function poe(E){let I=K6.indexOf(E);I!==-1&&I>OX&&K6.splice(I,1)}function goe(){!AX&&!kX&&(kX=!0,queueMicrotask(moe))}function moe(){kX=!1,AX=!0;for(let E=0;E<K6.length;E++)K6[E](),OX=E;K6.length=0,OX=-1,AX=!1}var Py,X6,$y,vee,LX=!0;function hoe(E){LX=!1,E(),LX=!0}function boe(E){Py=E.reactive,$y=E.release,X6=I=>E.effect(I,{scheduler:x=>{LX?uoe(x):x()}}),vee=E.raw}function RQ(E){X6=E}function voe(E){let I=()=>{};return[de=>{let Ae=X6(de);return E._x_effects||(E._x_effects=new Set,E._x_runEffects=()=>{E._x_effects.forEach(Ie=>Ie())}),E._x_effects.add(Ae),I=()=>{Ae!==void 0&&(E._x_effects.delete(Ae),$y(Ae))},Ae},()=>{I()}]}function xee(E,I){let x=!0,de,Ae=X6(()=>{let Ie=E();JSON.stringify(Ie),x?de=Ie:queueMicrotask(()=>{I(Ie,de),de=Ie}),x=!1});return()=>$y(Ae)}var yee=[],Cee=[],_ee=[];function xoe(E){_ee.push(E)}function ZX(E,I){typeof I=="function"?(E._x_cleanups||(E._x_cleanups=[]),E._x_cleanups.push(I)):(I=E,Cee.push(I))}function Eee(E){yee.push(E)}function wee(E,I,x){E._x_attributeCleanups||(E._x_attributeCleanups={}),E._x_attributeCleanups[I]||(E._x_attributeCleanups[I]=[]),E._x_attributeCleanups[I].push(x)}function See(E,I){E._x_attributeCleanups&&Object.entries(E._x_attributeCleanups).forEach(([x,de])=>{(I===void 0||I.includes(x))&&(de.forEach(Ae=>Ae()),delete E._x_attributeCleanups[x])})}function yoe(E){var I,x;for((I=E._x_effects)==null||I.forEach(poe);(x=E._x_cleanups)!=null&&x.length;)E._x_cleanups.pop()()}var GX=new MutationObserver(JX),qX=!1;function YX(){GX.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),qX=!0}function Tee(){Coe(),GX.disconnect(),qX=!1}var Ck=[];function Coe(){let E=GX.takeRecords();Ck.push(()=>E.length>0&&JX(E));let I=Ck.length;queueMicrotask(()=>{if(Ck.length===I)for(;Ck.length>0;)Ck.shift()()})}function Ji(E){if(!qX)return E();Tee();let I=E();return YX(),I}var XX=!1,LP=[];function _oe(){XX=!0}function Eoe(){XX=!1,JX(LP),LP=[]}function JX(E){if(XX){LP=LP.concat(E);return}let I=[],x=new Set,de=new Map,Ae=new Map;for(let Ie=0;Ie<E.length;Ie++)if(!E[Ie].target._x_ignoreMutationObserver&&(E[Ie].type==="childList"&&(E[Ie].removedNodes.forEach(Ke=>{Ke.nodeType===1&&Ke._x_marker&&x.add(Ke)}),E[Ie].addedNodes.forEach(Ke=>{if(Ke.nodeType===1){if(x.has(Ke)){x.delete(Ke);return}Ke._x_marker||I.push(Ke)}})),E[Ie].type==="attributes")){let Ke=E[Ie].target,ot=E[Ie].attributeName,Mt=E[Ie].oldValue,Oe=()=>{de.has(Ke)||de.set(Ke,[]),de.get(Ke).push({name:ot,value:Ke.getAttribute(ot)})},un=()=>{Ae.has(Ke)||Ae.set(Ke,[]),Ae.get(Ke).push(ot)};Ke.hasAttribute(ot)&&Mt===null?Oe():Ke.hasAttribute(ot)?(un(),Oe()):un()}Ae.forEach((Ie,Ke)=>{See(Ke,Ie)}),de.forEach((Ie,Ke)=>{yee.forEach(ot=>ot(Ke,Ie))});for(let Ie of x)I.some(Ke=>Ke.contains(Ie))||Cee.forEach(Ke=>Ke(Ie));for(let Ie of I)Ie.isConnected&&_ee.forEach(Ke=>Ke(Ie));I=null,x=null,de=null,Ae=null}function kee(E){return Ik(My(E))}function Mk(E,I,x){return E._x_dataStack=[I,...My(x||E)],()=>{E._x_dataStack=E._x_dataStack.filter(de=>de!==I)}}function My(E){return E._x_dataStack?E._x_dataStack:typeof ShadowRoot=="function"&&E instanceof ShadowRoot?My(E.host):E.parentNode?My(E.parentNode):[]}function Ik(E){return new Proxy({objects:E},woe)}var woe={ownKeys({objects:E}){return Array.from(new Set(E.flatMap(I=>Object.keys(I))))},has({objects:E},I){return I==Symbol.unscopables?!1:E.some(x=>Object.prototype.hasOwnProperty.call(x,I)||Reflect.has(x,I))},get({objects:E},I,x){return I=="toJSON"?Soe:Reflect.get(E.find(de=>Reflect.has(de,I))||{},I,x)},set({objects:E},I,x,de){const Ae=E.find(Ke=>Object.prototype.hasOwnProperty.call(Ke,I))||E[E.length-1],Ie=Object.getOwnPropertyDescriptor(Ae,I);return Ie!=null&&Ie.set&&(Ie!=null&&Ie.get)?Ie.set.call(de,x)||!0:Reflect.set(Ae,I,x)}};function Soe(){return Reflect.ownKeys(this).reduce((I,x)=>(I[x]=Reflect.get(this,x),I),{})}function Aee(E){let I=de=>typeof de=="object"&&!Array.isArray(de)&&de!==null,x=(de,Ae="")=>{Object.entries(Object.getOwnPropertyDescriptors(de)).forEach(([Ie,{value:Ke,enumerable:ot}])=>{if(ot===!1||Ke===void 0||typeof Ke=="object"&&Ke!==null&&Ke.__v_skip)return;let Mt=Ae===""?Ie:`${Ae}.${Ie}`;typeof Ke=="object"&&Ke!==null&&Ke._x_interceptor?de[Ie]=Ke.initialize(E,Mt,Ie):I(Ke)&&Ke!==de&&!(Ke instanceof Element)&&x(Ke,Mt)})};return x(E)}function Oee(E,I=()=>{}){let x={initialValue:void 0,_x_interceptor:!0,initialize(de,Ae,Ie){return E(this.initialValue,()=>Toe(de,Ae),Ke=>DX(de,Ae,Ke),Ae,Ie)}};return I(x),de=>{if(typeof de=="object"&&de!==null&&de._x_interceptor){let Ae=x.initialize.bind(x);x.initialize=(Ie,Ke,ot)=>{let Mt=de.initialize(Ie,Ke,ot);return x.initialValue=Mt,Ae(Ie,Ke,ot)}}else x.initialValue=de;return x}}function Toe(E,I){return I.split(".").reduce((x,de)=>x[de],E)}function DX(E,I,x){if(typeof I=="string"&&(I=I.split(".")),I.length===1)E[I[0]]=x;else{if(I.length===0)throw error;return E[I[0]]||(E[I[0]]={}),DX(E[I[0]],I.slice(1),x)}}var Lee={};function Ng(E,I){Lee[E]=I}function NX(E,I){let x=koe(I);return Object.entries(Lee).forEach(([de,Ae])=>{Object.defineProperty(E,`$${de}`,{get(){return Ae(I,x)},enumerable:!1})}),E}function koe(E){let[I,x]=Bee(E),de={interceptor:Oee,...I};return ZX(E,x),de}function Aoe(E,I,x,...de){try{return x(...de)}catch(Ae){Ok(Ae,E,I)}}function Ok(E,I,x=void 0){E=Object.assign(E??{message:"No error message given."},{el:I,expression:x}),console.warn(`Alpine Expression Error: ${E.message}

${x?'Expression: "'+x+`"

`:""}`,I),setTimeout(()=>{throw E},0)}var TP=!0;function Dee(E){let I=TP;TP=!1;let x=E();return TP=I,x}function j6(E,I,x={}){let de;return Iu(E,I)(Ae=>de=Ae,x),de}function Iu(...E){return Nee(...E)}var Nee=Ree;function Ooe(E){Nee=E}function Ree(E,I){let x={};NX(x,E);let de=[x,...My(E)],Ae=typeof I=="function"?Loe(de,I):Noe(de,I,E);return Aoe.bind(null,E,I,Ae)}function Loe(E,I){return(x=()=>{},{scope:de={},params:Ae=[]}={})=>{let Ie=I.apply(Ik([de,...E]),Ae);DP(x,Ie)}}var hX={};function Doe(E,I){if(hX[E])return hX[E];let x=Object.getPrototypeOf(async function(){}).constructor,de=/^[\n\s]*if.*\(.*\)/.test(E.trim())||/^(let|const)\s/.test(E.trim())?`(async()=>{ ${E} })()`:E,Ie=(()=>{try{let Ke=new x(["__self","scope"],`with (scope) { __self.result = ${de} }; __self.finished = true; return __self.result;`);return Object.defineProperty(Ke,"name",{value:`[Alpine] ${E}`}),Ke}catch(Ke){return Ok(Ke,I,E),Promise.resolve()}})();return hX[E]=Ie,Ie}function Noe(E,I,x){let de=Doe(I,x);return(Ae=()=>{},{scope:Ie={},params:Ke=[]}={})=>{de.result=void 0,de.finished=!1;let ot=Ik([Ie,...E]);if(typeof de=="function"){let Mt=de(de,ot).catch(Oe=>Ok(Oe,x,I));de.finished?(DP(Ae,de.result,ot,Ke,x),de.result=void 0):Mt.then(Oe=>{DP(Ae,Oe,ot,Ke,x)}).catch(Oe=>Ok(Oe,x,I)).finally(()=>de.result=void 0)}}}function DP(E,I,x,de,Ae){if(TP&&typeof I=="function"){let Ie=I.apply(x,de);Ie instanceof Promise?Ie.then(Ke=>DP(E,Ke,x,de)).catch(Ke=>Ok(Ke,Ae,I)):E(Ie)}else typeof I=="object"&&I instanceof Promise?I.then(Ie=>E(Ie)):E(I)}var QX="x-";function Hy(E=""){return QX+E}function Roe(E){QX=E}var NP={};function ql(E,I){return NP[E]=I,{before(x){if(!NP[x]){console.warn(String.raw`Cannot find directive \`${x}\`. \`${E}\` will use the default order of execution`);return}const de=V6.indexOf(x);V6.splice(de>=0?de:V6.indexOf("DEFAULT"),0,E)}}}function Moe(E){return Object.keys(NP).includes(E)}function eJ(E,I,x){if(I=Array.from(I),E._x_virtualDirectives){let Ie=Object.entries(E._x_virtualDirectives).map(([ot,Mt])=>({name:ot,value:Mt})),Ke=Mee(Ie);Ie=Ie.map(ot=>Ke.find(Mt=>Mt.name===ot.name)?{name:`x-bind:${ot.name}`,value:`"${ot.value}"`}:ot),I=I.concat(Ie)}let de={};return I.map($ee((Ie,Ke)=>de[Ie]=Ke)).filter(zee).map(Foe(de,x)).sort(Poe).map(Ie=>Boe(E,Ie))}function Mee(E){return Array.from(E).map($ee()).filter(I=>!zee(I))}var RX=!1,wk=new Map,Iee=Symbol();function Ioe(E){RX=!0;let I=Symbol();Iee=I,wk.set(I,[]);let x=()=>{for(;wk.get(I).length;)wk.get(I).shift()();wk.delete(I)},de=()=>{RX=!1,x()};E(x),de()}function Bee(E){let I=[],x=ot=>I.push(ot),[de,Ae]=voe(E);return I.push(Ae),[{Alpine:Bk,effect:de,cleanup:x,evaluateLater:Iu.bind(Iu,E),evaluate:j6.bind(j6,E)},()=>I.forEach(ot=>ot())]}function Boe(E,I){let x=()=>{},de=NP[I.type]||x,[Ae,Ie]=Bee(E);wee(E,I.original,Ie);let Ke=()=>{E._x_ignore||E._x_ignoreSelf||(de.inline&&de.inline(E,I,Ae),de=de.bind(de,E,I,Ae),RX?wk.get(Iee).push(de):de())};return Ke.runCleanups=Ie,Ke}var Fee=(E,I)=>({name:x,value:de})=>(x.startsWith(E)&&(x=x.replace(E,I)),{name:x,value:de}),Pee=E=>E;function $ee(E=()=>{}){return({name:I,value:x})=>{let{name:de,value:Ae}=Hee.reduce((Ie,Ke)=>Ke(Ie),{name:I,value:x});return de!==I&&E(de,I),{name:de,value:Ae}}}var Hee=[];function tJ(E){Hee.push(E)}function zee({name:E}){return Uee().test(E)}var Uee=()=>new RegExp(`^${QX}([^:^.]+)\\b`);function Foe(E,I){return({name:x,value:de})=>{let Ae=x.match(Uee()),Ie=x.match(/:([a-zA-Z0-9\-_:]+)/),Ke=x.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],ot=I||E[x]||x;return{type:Ae?Ae[1]:null,value:Ie?Ie[1]:null,modifiers:Ke.map(Mt=>Mt.replace(".","")),expression:de,original:ot}}}var MX="DEFAULT",V6=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",MX,"teleport"];function Poe(E,I){let x=V6.indexOf(E.type)===-1?MX:E.type,de=V6.indexOf(I.type)===-1?MX:I.type;return V6.indexOf(x)-V6.indexOf(de)}function Tk(E,I,x={}){E.dispatchEvent(new CustomEvent(I,{detail:x,bubbles:!0,composed:!0,cancelable:!0}))}function Y6(E,I){if(typeof ShadowRoot=="function"&&E instanceof ShadowRoot){Array.from(E.children).forEach(Ae=>Y6(Ae,I));return}let x=!1;if(I(E,()=>x=!0),x)return;let de=E.firstElementChild;for(;de;)Y6(de,I),de=de.nextElementSibling}function gp(E,...I){console.warn(`Alpine Warning: ${E}`,...I)}var MQ=!1;function $oe(){MQ&&gp("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),MQ=!0,document.body||gp("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Tk(document,"alpine:init"),Tk(document,"alpine:initializing"),YX(),xoe(I=>y2(I,Y6)),ZX(I=>Uy(I)),Eee((I,x)=>{eJ(I,x).forEach(de=>de())});let E=I=>!HP(I.parentElement,!0);Array.from(document.querySelectorAll(Kee().join(","))).filter(E).forEach(I=>{y2(I)}),Tk(document,"alpine:initialized"),setTimeout(()=>{Voe()})}var nJ=[],Vee=[];function Wee(){return nJ.map(E=>E())}function Kee(){return nJ.concat(Vee).map(E=>E())}function jee(E){nJ.push(E)}function Zee(E){Vee.push(E)}function HP(E,I=!1){return zy(E,x=>{if((I?Kee():Wee()).some(Ae=>x.matches(Ae)))return!0})}function zy(E,I){if(E){if(I(E))return E;if(E._x_teleportBack&&(E=E._x_teleportBack),!!E.parentElement)return zy(E.parentElement,I)}}function Hoe(E){return Wee().some(I=>E.matches(I))}var Gee=[];function zoe(E){Gee.push(E)}var Uoe=1;function y2(E,I=Y6,x=()=>{}){zy(E,de=>de._x_ignore)||Ioe(()=>{I(E,(de,Ae)=>{de._x_marker||(x(de,Ae),Gee.forEach(Ie=>Ie(de,Ae)),eJ(de,de.attributes).forEach(Ie=>Ie()),de._x_ignore||(de._x_marker=Uoe++),de._x_ignore&&Ae())})})}function Uy(E,I=Y6){I(E,x=>{yoe(x),See(x),delete x._x_marker})}function Voe(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([I,x,de])=>{Moe(x)||de.some(Ae=>{if(document.querySelector(Ae))return gp(`found "${Ae}", but missing ${I} plugin`),!0})})}var IX=[],oJ=!1;function sJ(E=()=>{}){return queueMicrotask(()=>{oJ||setTimeout(()=>{BX()})}),new Promise(I=>{IX.push(()=>{E(),I()})})}function BX(){for(oJ=!1;IX.length;)IX.shift()()}function Woe(){oJ=!0}function rJ(E,I){return Array.isArray(I)?IQ(E,I.join(" ")):typeof I=="object"&&I!==null?Koe(E,I):typeof I=="function"?rJ(E,I()):IQ(E,I)}function IQ(E,I){let x=Ae=>Ae.split(" ").filter(Ie=>!E.classList.contains(Ie)).filter(Boolean),de=Ae=>(E.classList.add(...Ae),()=>{E.classList.remove(...Ae)});return I=I===!0?I="":I||"",de(x(I))}function Koe(E,I){let x=ot=>ot.split(" ").filter(Boolean),de=Object.entries(I).flatMap(([ot,Mt])=>Mt?x(ot):!1).filter(Boolean),Ae=Object.entries(I).flatMap(([ot,Mt])=>Mt?!1:x(ot)).filter(Boolean),Ie=[],Ke=[];return Ae.forEach(ot=>{E.classList.contains(ot)&&(E.classList.remove(ot),Ke.push(ot))}),de.forEach(ot=>{E.classList.contains(ot)||(E.classList.add(ot),Ie.push(ot))}),()=>{Ke.forEach(ot=>E.classList.add(ot)),Ie.forEach(ot=>E.classList.remove(ot))}}function zP(E,I){return typeof I=="object"&&I!==null?joe(E,I):Zoe(E,I)}function joe(E,I){let x={};return Object.entries(I).forEach(([de,Ae])=>{x[de]=E.style[de],de.startsWith("--")||(de=Goe(de)),E.style.setProperty(de,Ae)}),setTimeout(()=>{E.style.length===0&&E.removeAttribute("style")}),()=>{zP(E,x)}}function Zoe(E,I){let x=E.getAttribute("style",I);return E.setAttribute("style",I),()=>{E.setAttribute("style",x||"")}}function Goe(E){return E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function FX(E,I=()=>{}){let x=!1;return function(){x?I.apply(this,arguments):(x=!0,E.apply(this,arguments))}}ql("transition",(E,{value:I,modifiers:x,expression:de},{evaluate:Ae})=>{typeof de=="function"&&(de=Ae(de)),de!==!1&&(!de||typeof de=="boolean"?Yoe(E,x,I):qoe(E,de,I))});function qoe(E,I,x){qee(E,rJ,""),{enter:Ae=>{E._x_transition.enter.during=Ae},"enter-start":Ae=>{E._x_transition.enter.start=Ae},"enter-end":Ae=>{E._x_transition.enter.end=Ae},leave:Ae=>{E._x_transition.leave.during=Ae},"leave-start":Ae=>{E._x_transition.leave.start=Ae},"leave-end":Ae=>{E._x_transition.leave.end=Ae}}[x](I)}function Yoe(E,I,x){qee(E,zP);let de=!I.includes("in")&&!I.includes("out")&&!x,Ae=de||I.includes("in")||["enter"].includes(x),Ie=de||I.includes("out")||["leave"].includes(x);I.includes("in")&&!de&&(I=I.filter((Wo,Yt)=>Yt<I.indexOf("out"))),I.includes("out")&&!de&&(I=I.filter((Wo,Yt)=>Yt>I.indexOf("out")));let Ke=!I.includes("opacity")&&!I.includes("scale"),ot=Ke||I.includes("opacity"),Mt=Ke||I.includes("scale"),Oe=ot?0:1,un=Mt?_k(I,"scale",95)/100:1,On=_k(I,"delay",0)/1e3,xe=_k(I,"origin","center"),Go="opacity, transform",Co=_k(I,"duration",150)/1e3,Eo=_k(I,"duration",75)/1e3,jt="cubic-bezier(0.4, 0.0, 0.2, 1)";Ae&&(E._x_transition.enter.during={transformOrigin:xe,transitionDelay:`${On}s`,transitionProperty:Go,transitionDuration:`${Co}s`,transitionTimingFunction:jt},E._x_transition.enter.start={opacity:Oe,transform:`scale(${un})`},E._x_transition.enter.end={opacity:1,transform:"scale(1)"}),Ie&&(E._x_transition.leave.during={transformOrigin:xe,transitionDelay:`${On}s`,transitionProperty:Go,transitionDuration:`${Eo}s`,transitionTimingFunction:jt},E._x_transition.leave.start={opacity:1,transform:"scale(1)"},E._x_transition.leave.end={opacity:Oe,transform:`scale(${un})`})}function qee(E,I,x={}){E._x_transition||(E._x_transition={enter:{during:x,start:x,end:x},leave:{during:x,start:x,end:x},in(de=()=>{},Ae=()=>{}){PX(E,I,{during:this.enter.during,start:this.enter.start,end:this.enter.end},de,Ae)},out(de=()=>{},Ae=()=>{}){PX(E,I,{during:this.leave.during,start:this.leave.start,end:this.leave.end},de,Ae)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(E,I,x,de){const Ae=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let Ie=()=>Ae(x);if(I){E._x_transition&&(E._x_transition.enter||E._x_transition.leave)?E._x_transition.enter&&(Object.entries(E._x_transition.enter.during).length||Object.entries(E._x_transition.enter.start).length||Object.entries(E._x_transition.enter.end).length)?E._x_transition.in(x):Ie():E._x_transition?E._x_transition.in(x):Ie();return}E._x_hidePromise=E._x_transition?new Promise((Ke,ot)=>{E._x_transition.out(()=>{},()=>Ke(de)),E._x_transitioning&&E._x_transitioning.beforeCancel(()=>ot({isFromCancelledTransition:!0}))}):Promise.resolve(de),queueMicrotask(()=>{let Ke=Yee(E);Ke?(Ke._x_hideChildren||(Ke._x_hideChildren=[]),Ke._x_hideChildren.push(E)):Ae(()=>{let ot=Mt=>{let Oe=Promise.all([Mt._x_hidePromise,...(Mt._x_hideChildren||[]).map(ot)]).then(([un])=>un==null?void 0:un());return delete Mt._x_hidePromise,delete Mt._x_hideChildren,Oe};ot(E).catch(Mt=>{if(!Mt.isFromCancelledTransition)throw Mt})})})};function Yee(E){let I=E.parentNode;if(I)return I._x_hidePromise?I:Yee(I)}function PX(E,I,{during:x,start:de,end:Ae}={},Ie=()=>{},Ke=()=>{}){if(E._x_transitioning&&E._x_transitioning.cancel(),Object.keys(x).length===0&&Object.keys(de).length===0&&Object.keys(Ae).length===0){Ie(),Ke();return}let ot,Mt,Oe;Xoe(E,{start(){ot=I(E,de)},during(){Mt=I(E,x)},before:Ie,end(){ot(),Oe=I(E,Ae)},after:Ke,cleanup(){Mt(),Oe()}})}function Xoe(E,I){let x,de,Ae,Ie=FX(()=>{Ji(()=>{x=!0,de||I.before(),Ae||(I.end(),BX()),I.after(),E.isConnected&&I.cleanup(),delete E._x_transitioning})});E._x_transitioning={beforeCancels:[],beforeCancel(Ke){this.beforeCancels.push(Ke)},cancel:FX(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();Ie()}),finish:Ie},Ji(()=>{I.start(),I.during()}),Woe(),requestAnimationFrame(()=>{if(x)return;let Ke=Number(getComputedStyle(E).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,ot=Number(getComputedStyle(E).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;Ke===0&&(Ke=Number(getComputedStyle(E).animationDuration.replace("s",""))*1e3),Ji(()=>{I.before()}),de=!0,requestAnimationFrame(()=>{x||(Ji(()=>{I.end()}),BX(),setTimeout(E._x_transitioning.finish,Ke+ot),Ae=!0)})})}function _k(E,I,x){if(E.indexOf(I)===-1)return x;const de=E[E.indexOf(I)+1];if(!de||I==="scale"&&isNaN(de))return x;if(I==="duration"||I==="delay"){let Ae=de.match(/([0-9]+)ms/);if(Ae)return Ae[1]}return I==="origin"&&["top","right","left","center","bottom"].includes(E[E.indexOf(I)+2])?[de,E[E.indexOf(I)+2]].join(" "):de}var X4=!1;function Q4(E,I=()=>{}){return(...x)=>X4?I(...x):E(...x)}function Joe(E){return(...I)=>X4&&E(...I)}var Xee=[];function UP(E){Xee.push(E)}function Qoe(E,I){Xee.forEach(x=>x(E,I)),X4=!0,Jee(()=>{y2(I,(x,de)=>{de(x,()=>{})})}),X4=!1}var $X=!1;function ese(E,I){I._x_dataStack||(I._x_dataStack=E._x_dataStack),X4=!0,$X=!0,Jee(()=>{tse(I)}),X4=!1,$X=!1}function tse(E){let I=!1;y2(E,(de,Ae)=>{Y6(de,(Ie,Ke)=>{if(I&&Hoe(Ie))return Ke();I=!0,Ae(Ie,Ke)})})}function Jee(E){let I=X6;RQ((x,de)=>{let Ae=I(x);return $y(Ae),()=>{}}),E(),RQ(I)}function Qee(E,I,x,de=[]){switch(E._x_bindings||(E._x_bindings=Py({})),E._x_bindings[I]=x,I=de.includes("camel")?cse(I):I,I){case"value":nse(E,x);break;case"style":sse(E,x);break;case"class":ose(E,x);break;case"selected":case"checked":rse(E,I,x);break;default:ete(E,I,x);break}}function nse(E,I){if(ote(E))E.attributes.value===void 0&&(E.value=I),window.fromModel&&(typeof I=="boolean"?E.checked=kP(E.value)===I:E.checked=BQ(E.value,I));else if(aJ(E))Number.isInteger(I)?E.value=I:!Array.isArray(I)&&typeof I!="boolean"&&![null,void 0].includes(I)?E.value=String(I):Array.isArray(I)?E.checked=I.some(x=>BQ(x,E.value)):E.checked=!!I;else if(E.tagName==="SELECT")lse(E,I);else{if(E.value===I)return;E.value=I===void 0?"":I}}function ose(E,I){E._x_undoAddedClasses&&E._x_undoAddedClasses(),E._x_undoAddedClasses=rJ(E,I)}function sse(E,I){E._x_undoAddedStyles&&E._x_undoAddedStyles(),E._x_undoAddedStyles=zP(E,I)}function rse(E,I,x){ete(E,I,x),ise(E,I,x)}function ete(E,I,x){[null,void 0,!1].includes(x)&&use(I)?E.removeAttribute(I):(tte(I)&&(x=I),ase(E,I,x))}function ase(E,I,x){E.getAttribute(I)!=x&&E.setAttribute(I,x)}function ise(E,I,x){E[I]!==x&&(E[I]=x)}function lse(E,I){const x=[].concat(I).map(de=>de+"");Array.from(E.options).forEach(de=>{de.selected=x.includes(de.value)})}function cse(E){return E.toLowerCase().replace(/-(\w)/g,(I,x)=>x.toUpperCase())}function BQ(E,I){return E==I}function kP(E){return[1,"1","true","on","yes",!0].includes(E)?!0:[0,"0","false","off","no",!1].includes(E)?!1:E?!!E:null}var dse=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function tte(E){return dse.has(E)}function use(E){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(E)}function fse(E,I,x){return E._x_bindings&&E._x_bindings[I]!==void 0?E._x_bindings[I]:nte(E,I,x)}function pse(E,I,x,de=!0){if(E._x_bindings&&E._x_bindings[I]!==void 0)return E._x_bindings[I];if(E._x_inlineBindings&&E._x_inlineBindings[I]!==void 0){let Ae=E._x_inlineBindings[I];return Ae.extract=de,Dee(()=>j6(E,Ae.expression))}return nte(E,I,x)}function nte(E,I,x){let de=E.getAttribute(I);return de===null?typeof x=="function"?x():x:de===""?!0:tte(I)?!![I,"true"].includes(de):de}function aJ(E){return E.type==="checkbox"||E.localName==="ui-checkbox"||E.localName==="ui-switch"}function ote(E){return E.type==="radio"||E.localName==="ui-radio"}function ste(E,I){var x;return function(){var de=this,Ae=arguments,Ie=function(){x=null,E.apply(de,Ae)};clearTimeout(x),x=setTimeout(Ie,I)}}function rte(E,I){let x;return function(){let de=this,Ae=arguments;x||(E.apply(de,Ae),x=!0,setTimeout(()=>x=!1,I))}}function ate({get:E,set:I},{get:x,set:de}){let Ae=!0,Ie,Ke=X6(()=>{let ot=E(),Mt=x();if(Ae)de(bX(ot)),Ae=!1;else{let Oe=JSON.stringify(ot),un=JSON.stringify(Mt);Oe!==Ie?de(bX(ot)):Oe!==un&&I(bX(Mt))}Ie=JSON.stringify(E()),JSON.stringify(x())});return()=>{$y(Ke)}}function bX(E){return typeof E=="object"?JSON.parse(JSON.stringify(E)):E}function gse(E){(Array.isArray(E)?E:[E]).forEach(x=>x(Bk))}var z6={},FQ=!1;function mse(E,I){if(FQ||(z6=Py(z6),FQ=!0),I===void 0)return z6[E];z6[E]=I,Aee(z6[E]),typeof I=="object"&&I!==null&&I.hasOwnProperty("init")&&typeof I.init=="function"&&z6[E].init()}function hse(){return z6}var ite={};function bse(E,I){let x=typeof I!="function"?()=>I:I;return E instanceof Element?lte(E,x()):(ite[E]=x,()=>{})}function vse(E){return Object.entries(ite).forEach(([I,x])=>{Object.defineProperty(E,I,{get(){return(...de)=>x(...de)}})}),E}function lte(E,I,x){let de=[];for(;de.length;)de.pop()();let Ae=Object.entries(I).map(([Ke,ot])=>({name:Ke,value:ot})),Ie=Mee(Ae);return Ae=Ae.map(Ke=>Ie.find(ot=>ot.name===Ke.name)?{name:`x-bind:${Ke.name}`,value:`"${Ke.value}"`}:Ke),eJ(E,Ae,x).map(Ke=>{de.push(Ke.runCleanups),Ke()}),()=>{for(;de.length;)de.pop()()}}var cte={};function xse(E,I){cte[E]=I}function yse(E,I){return Object.entries(cte).forEach(([x,de])=>{Object.defineProperty(E,x,{get(){return(...Ae)=>de.bind(I)(...Ae)},enumerable:!1})}),E}var Cse={get reactive(){return Py},get release(){return $y},get effect(){return X6},get raw(){return vee},version:"3.14.9",flushAndStopDeferringMutations:Eoe,dontAutoEvaluateFunctions:Dee,disableEffectScheduling:hoe,startObservingMutations:YX,stopObservingMutations:Tee,setReactivityEngine:boe,onAttributeRemoved:wee,onAttributesAdded:Eee,closestDataStack:My,skipDuringClone:Q4,onlyDuringClone:Joe,addRootSelector:jee,addInitSelector:Zee,interceptClone:UP,addScopeToNode:Mk,deferMutations:_oe,mapAttributes:tJ,evaluateLater:Iu,interceptInit:zoe,setEvaluator:Ooe,mergeProxies:Ik,extractProp:pse,findClosest:zy,onElRemoved:ZX,closestRoot:HP,destroyTree:Uy,interceptor:Oee,transition:PX,setStyles:zP,mutateDom:Ji,directive:ql,entangle:ate,throttle:rte,debounce:ste,evaluate:j6,initTree:y2,nextTick:sJ,prefixed:Hy,prefix:Roe,plugin:gse,magic:Ng,store:mse,start:$oe,clone:ese,cloneNode:Qoe,bound:fse,$data:kee,watch:xee,walk:Y6,data:xse,bind:bse},Bk=Cse;function _se(E,I){const x=Object.create(null),de=E.split(",");for(let Ae=0;Ae<de.length;Ae++)x[de[Ae]]=!0;return Ae=>!!x[Ae]}var Ese=Object.freeze({}),wse=Object.prototype.hasOwnProperty,VP=(E,I)=>wse.call(E,I),Z6=Array.isArray,kk=E=>dte(E)==="[object Map]",Sse=E=>typeof E=="string",iJ=E=>typeof E=="symbol",WP=E=>E!==null&&typeof E=="object",Tse=Object.prototype.toString,dte=E=>Tse.call(E),ute=E=>dte(E).slice(8,-1),lJ=E=>Sse(E)&&E!=="NaN"&&E[0]!=="-"&&""+parseInt(E,10)===E,kse=E=>{const I=Object.create(null);return x=>I[x]||(I[x]=E(x))},Ase=kse(E=>E.charAt(0).toUpperCase()+E.slice(1)),fte=(E,I)=>E!==I&&(E===E||I===I),HX=new WeakMap,Ek=[],ph,G6=Symbol("iterate"),zX=Symbol("Map key iterate");function Ose(E){return E&&E._isEffect===!0}function Lse(E,I=Ese){Ose(E)&&(E=E.raw);const x=Rse(E,I);return I.lazy||x(),x}function Dse(E){E.active&&(pte(E),E.options.onStop&&E.options.onStop(),E.active=!1)}var Nse=0;function Rse(E,I){const x=function(){if(!x.active)return E();if(!Ek.includes(x)){pte(x);try{return Ise(),Ek.push(x),ph=x,E()}finally{Ek.pop(),gte(),ph=Ek[Ek.length-1]}}};return x.id=Nse++,x.allowRecurse=!!I.allowRecurse,x._isEffect=!0,x.active=!0,x.raw=E,x.deps=[],x.options=I,x}function pte(E){const{deps:I}=E;if(I.length){for(let x=0;x<I.length;x++)I[x].delete(E);I.length=0}}var Iy=!0,cJ=[];function Mse(){cJ.push(Iy),Iy=!1}function Ise(){cJ.push(Iy),Iy=!0}function gte(){const E=cJ.pop();Iy=E===void 0?!0:E}function Lg(E,I,x){if(!Iy||ph===void 0)return;let de=HX.get(E);de||HX.set(E,de=new Map);let Ae=de.get(x);Ae||de.set(x,Ae=new Set),Ae.has(ph)||(Ae.add(ph),ph.deps.push(Ae),ph.options.onTrack&&ph.options.onTrack({effect:ph,target:E,type:I,key:x}))}function J4(E,I,x,de,Ae,Ie){const Ke=HX.get(E);if(!Ke)return;const ot=new Set,Mt=un=>{un&&un.forEach(On=>{(On!==ph||On.allowRecurse)&&ot.add(On)})};if(I==="clear")Ke.forEach(Mt);else if(x==="length"&&Z6(E))Ke.forEach((un,On)=>{(On==="length"||On>=de)&&Mt(un)});else switch(x!==void 0&&Mt(Ke.get(x)),I){case"add":Z6(E)?lJ(x)&&Mt(Ke.get("length")):(Mt(Ke.get(G6)),kk(E)&&Mt(Ke.get(zX)));break;case"delete":Z6(E)||(Mt(Ke.get(G6)),kk(E)&&Mt(Ke.get(zX)));break;case"set":kk(E)&&Mt(Ke.get(G6));break}const Oe=un=>{un.options.onTrigger&&un.options.onTrigger({effect:un,target:E,key:x,type:I,newValue:de,oldValue:Ae,oldTarget:Ie}),un.options.scheduler?un.options.scheduler(un):un()};ot.forEach(Oe)}var Bse=_se("__proto__,__v_isRef,__isVue"),mte=new Set(Object.getOwnPropertyNames(Symbol).map(E=>Symbol[E]).filter(iJ)),Fse=hte(),Pse=hte(!0),PQ=$se();function $se(){const E={};return["includes","indexOf","lastIndexOf"].forEach(I=>{E[I]=function(...x){const de=Li(this);for(let Ie=0,Ke=this.length;Ie<Ke;Ie++)Lg(de,"get",Ie+"");const Ae=de[I](...x);return Ae===-1||Ae===!1?de[I](...x.map(Li)):Ae}}),["push","pop","shift","unshift","splice"].forEach(I=>{E[I]=function(...x){Mse();const de=Li(this)[I].apply(this,x);return gte(),de}}),E}function hte(E=!1,I=!1){return function(de,Ae,Ie){if(Ae==="__v_isReactive")return!E;if(Ae==="__v_isReadonly")return E;if(Ae==="__v_raw"&&Ie===(E?I?Qse:yte:I?Jse:xte).get(de))return de;const Ke=Z6(de);if(!E&&Ke&&VP(PQ,Ae))return Reflect.get(PQ,Ae,Ie);const ot=Reflect.get(de,Ae,Ie);return(iJ(Ae)?mte.has(Ae):Bse(Ae))||(E||Lg(de,"get",Ae),I)?ot:UX(ot)?!Ke||!lJ(Ae)?ot.value:ot:WP(ot)?E?Cte(ot):pJ(ot):ot}}var Hse=zse();function zse(E=!1){return function(x,de,Ae,Ie){let Ke=x[de];if(!E&&(Ae=Li(Ae),Ke=Li(Ke),!Z6(x)&&UX(Ke)&&!UX(Ae)))return Ke.value=Ae,!0;const ot=Z6(x)&&lJ(de)?Number(de)<x.length:VP(x,de),Mt=Reflect.set(x,de,Ae,Ie);return x===Li(Ie)&&(ot?fte(Ae,Ke)&&J4(x,"set",de,Ae,Ke):J4(x,"add",de,Ae)),Mt}}function Use(E,I){const x=VP(E,I),de=E[I],Ae=Reflect.deleteProperty(E,I);return Ae&&x&&J4(E,"delete",I,void 0,de),Ae}function Vse(E,I){const x=Reflect.has(E,I);return(!iJ(I)||!mte.has(I))&&Lg(E,"has",I),x}function Wse(E){return Lg(E,"iterate",Z6(E)?"length":G6),Reflect.ownKeys(E)}var Kse={get:Fse,set:Hse,deleteProperty:Use,has:Vse,ownKeys:Wse},jse={get:Pse,set(E,I){return console.warn(`Set operation on key "${String(I)}" failed: target is readonly.`,E),!0},deleteProperty(E,I){return console.warn(`Delete operation on key "${String(I)}" failed: target is readonly.`,E),!0}},dJ=E=>WP(E)?pJ(E):E,uJ=E=>WP(E)?Cte(E):E,fJ=E=>E,KP=E=>Reflect.getPrototypeOf(E);function vP(E,I,x=!1,de=!1){E=E.__v_raw;const Ae=Li(E),Ie=Li(I);I!==Ie&&!x&&Lg(Ae,"get",I),!x&&Lg(Ae,"get",Ie);const{has:Ke}=KP(Ae),ot=de?fJ:x?uJ:dJ;if(Ke.call(Ae,I))return ot(E.get(I));if(Ke.call(Ae,Ie))return ot(E.get(Ie));E!==Ae&&E.get(I)}function xP(E,I=!1){const x=this.__v_raw,de=Li(x),Ae=Li(E);return E!==Ae&&!I&&Lg(de,"has",E),!I&&Lg(de,"has",Ae),E===Ae?x.has(E):x.has(E)||x.has(Ae)}function yP(E,I=!1){return E=E.__v_raw,!I&&Lg(Li(E),"iterate",G6),Reflect.get(E,"size",E)}function $Q(E){E=Li(E);const I=Li(this);return KP(I).has.call(I,E)||(I.add(E),J4(I,"add",E,E)),this}function HQ(E,I){I=Li(I);const x=Li(this),{has:de,get:Ae}=KP(x);let Ie=de.call(x,E);Ie?vte(x,de,E):(E=Li(E),Ie=de.call(x,E));const Ke=Ae.call(x,E);return x.set(E,I),Ie?fte(I,Ke)&&J4(x,"set",E,I,Ke):J4(x,"add",E,I),this}function zQ(E){const I=Li(this),{has:x,get:de}=KP(I);let Ae=x.call(I,E);Ae?vte(I,x,E):(E=Li(E),Ae=x.call(I,E));const Ie=de?de.call(I,E):void 0,Ke=I.delete(E);return Ae&&J4(I,"delete",E,void 0,Ie),Ke}function UQ(){const E=Li(this),I=E.size!==0,x=kk(E)?new Map(E):new Set(E),de=E.clear();return I&&J4(E,"clear",void 0,void 0,x),de}function CP(E,I){return function(de,Ae){const Ie=this,Ke=Ie.__v_raw,ot=Li(Ke),Mt=I?fJ:E?uJ:dJ;return!E&&Lg(ot,"iterate",G6),Ke.forEach((Oe,un)=>de.call(Ae,Mt(Oe),Mt(un),Ie))}}function _P(E,I,x){return function(...de){const Ae=this.__v_raw,Ie=Li(Ae),Ke=kk(Ie),ot=E==="entries"||E===Symbol.iterator&&Ke,Mt=E==="keys"&&Ke,Oe=Ae[E](...de),un=x?fJ:I?uJ:dJ;return!I&&Lg(Ie,"iterate",Mt?zX:G6),{next(){const{value:On,done:xe}=Oe.next();return xe?{value:On,done:xe}:{value:ot?[un(On[0]),un(On[1])]:un(On),done:xe}},[Symbol.iterator](){return this}}}}function Y4(E){return function(...I){{const x=I[0]?`on key "${I[0]}" `:"";console.warn(`${Ase(E)} operation ${x}failed: target is readonly.`,Li(this))}return E==="delete"?!1:this}}function Zse(){const E={get(Ie){return vP(this,Ie)},get size(){return yP(this)},has:xP,add:$Q,set:HQ,delete:zQ,clear:UQ,forEach:CP(!1,!1)},I={get(Ie){return vP(this,Ie,!1,!0)},get size(){return yP(this)},has:xP,add:$Q,set:HQ,delete:zQ,clear:UQ,forEach:CP(!1,!0)},x={get(Ie){return vP(this,Ie,!0)},get size(){return yP(this,!0)},has(Ie){return xP.call(this,Ie,!0)},add:Y4("add"),set:Y4("set"),delete:Y4("delete"),clear:Y4("clear"),forEach:CP(!0,!1)},de={get(Ie){return vP(this,Ie,!0,!0)},get size(){return yP(this,!0)},has(Ie){return xP.call(this,Ie,!0)},add:Y4("add"),set:Y4("set"),delete:Y4("delete"),clear:Y4("clear"),forEach:CP(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Ie=>{E[Ie]=_P(Ie,!1,!1),x[Ie]=_P(Ie,!0,!1),I[Ie]=_P(Ie,!1,!0),de[Ie]=_P(Ie,!0,!0)}),[E,x,I,de]}var[Gse,qse,jre,Zre]=Zse();function bte(E,I){const x=E?qse:Gse;return(de,Ae,Ie)=>Ae==="__v_isReactive"?!E:Ae==="__v_isReadonly"?E:Ae==="__v_raw"?de:Reflect.get(VP(x,Ae)&&Ae in de?x:de,Ae,Ie)}var Yse={get:bte(!1)},Xse={get:bte(!0)};function vte(E,I,x){const de=Li(x);if(de!==x&&I.call(E,de)){const Ae=ute(E);console.warn(`Reactive ${Ae} contains both the raw and reactive versions of the same object${Ae==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var xte=new WeakMap,Jse=new WeakMap,yte=new WeakMap,Qse=new WeakMap;function ere(E){switch(E){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tre(E){return E.__v_skip||!Object.isExtensible(E)?0:ere(ute(E))}function pJ(E){return E&&E.__v_isReadonly?E:_te(E,!1,Kse,Yse,xte)}function Cte(E){return _te(E,!0,jse,Xse,yte)}function _te(E,I,x,de,Ae){if(!WP(E))return console.warn(`value cannot be made reactive: ${String(E)}`),E;if(E.__v_raw&&!(I&&E.__v_isReactive))return E;const Ie=Ae.get(E);if(Ie)return Ie;const Ke=tre(E);if(Ke===0)return E;const ot=new Proxy(E,Ke===2?de:x);return Ae.set(E,ot),ot}function Li(E){return E&&Li(E.__v_raw)||E}function UX(E){return!!(E&&E.__v_isRef===!0)}Ng("nextTick",()=>sJ);Ng("dispatch",E=>Tk.bind(Tk,E));Ng("watch",(E,{evaluateLater:I,cleanup:x})=>(de,Ae)=>{let Ie=I(de),ot=xee(()=>{let Mt;return Ie(Oe=>Mt=Oe),Mt},Ae);x(ot)});Ng("store",hse);Ng("data",E=>kee(E));Ng("root",E=>HP(E));Ng("refs",E=>(E._x_refs_proxy||(E._x_refs_proxy=Ik(nre(E))),E._x_refs_proxy));function nre(E){let I=[];return zy(E,x=>{x._x_refs&&I.push(x._x_refs)}),I}var vX={};function Ete(E){return vX[E]||(vX[E]=0),++vX[E]}function ore(E,I){return zy(E,x=>{if(x._x_ids&&x._x_ids[I])return!0})}function sre(E,I){E._x_ids||(E._x_ids={}),E._x_ids[I]||(E._x_ids[I]=Ete(I))}Ng("id",(E,{cleanup:I})=>(x,de=null)=>{let Ae=`${x}${de?`-${de}`:""}`;return rre(E,Ae,I,()=>{let Ie=ore(E,x),Ke=Ie?Ie._x_ids[x]:Ete(x);return de?`${x}-${Ke}-${de}`:`${x}-${Ke}`})});UP((E,I)=>{E._x_id&&(I._x_id=E._x_id)});function rre(E,I,x,de){if(E._x_id||(E._x_id={}),E._x_id[I])return E._x_id[I];let Ae=de();return E._x_id[I]=Ae,x(()=>{delete E._x_id[I]}),Ae}Ng("el",E=>E);wte("Focus","focus","focus");wte("Persist","persist","persist");function wte(E,I,x){Ng(I,de=>gp(`You can't use [$${I}] without first installing the "${E}" plugin here: https://alpinejs.dev/plugins/${x}`,de))}ql("modelable",(E,{expression:I},{effect:x,evaluateLater:de,cleanup:Ae})=>{let Ie=de(I),Ke=()=>{let un;return Ie(On=>un=On),un},ot=de(`${I} = __placeholder`),Mt=un=>ot(()=>{},{scope:{__placeholder:un}}),Oe=Ke();Mt(Oe),queueMicrotask(()=>{if(!E._x_model)return;E._x_removeModelListeners.default();let un=E._x_model.get,On=E._x_model.set,xe=ate({get(){return un()},set(Go){On(Go)}},{get(){return Ke()},set(Go){Mt(Go)}});Ae(xe)})});ql("teleport",(E,{modifiers:I,expression:x},{cleanup:de})=>{E.tagName.toLowerCase()!=="template"&&gp("x-teleport can only be used on a <template> tag",E);let Ae=VQ(x),Ie=E.content.cloneNode(!0).firstElementChild;E._x_teleport=Ie,Ie._x_teleportBack=E,E.setAttribute("data-teleport-template",!0),Ie.setAttribute("data-teleport-target",!0),E._x_forwardEvents&&E._x_forwardEvents.forEach(ot=>{Ie.addEventListener(ot,Mt=>{Mt.stopPropagation(),E.dispatchEvent(new Mt.constructor(Mt.type,Mt))})}),Mk(Ie,{},E);let Ke=(ot,Mt,Oe)=>{Oe.includes("prepend")?Mt.parentNode.insertBefore(ot,Mt):Oe.includes("append")?Mt.parentNode.insertBefore(ot,Mt.nextSibling):Mt.appendChild(ot)};Ji(()=>{Ke(Ie,Ae,I),Q4(()=>{y2(Ie)})()}),E._x_teleportPutBack=()=>{let ot=VQ(x);Ji(()=>{Ke(E._x_teleport,ot,I)})},de(()=>Ji(()=>{Ie.remove(),Uy(Ie)}))});var are=document.createElement("div");function VQ(E){let I=Q4(()=>document.querySelector(E),()=>are)();return I||gp(`Cannot find x-teleport element for selector: "${E}"`),I}var Ste=()=>{};Ste.inline=(E,{modifiers:I},{cleanup:x})=>{I.includes("self")?E._x_ignoreSelf=!0:E._x_ignore=!0,x(()=>{I.includes("self")?delete E._x_ignoreSelf:delete E._x_ignore})};ql("ignore",Ste);ql("effect",Q4((E,{expression:I},{effect:x})=>{x(Iu(E,I))}));function VX(E,I,x,de){let Ae=E,Ie=Mt=>de(Mt),Ke={},ot=(Mt,Oe)=>un=>Oe(Mt,un);if(x.includes("dot")&&(I=ire(I)),x.includes("camel")&&(I=lre(I)),x.includes("passive")&&(Ke.passive=!0),x.includes("capture")&&(Ke.capture=!0),x.includes("window")&&(Ae=window),x.includes("document")&&(Ae=document),x.includes("debounce")){let Mt=x[x.indexOf("debounce")+1]||"invalid-wait",Oe=RP(Mt.split("ms")[0])?Number(Mt.split("ms")[0]):250;Ie=ste(Ie,Oe)}if(x.includes("throttle")){let Mt=x[x.indexOf("throttle")+1]||"invalid-wait",Oe=RP(Mt.split("ms")[0])?Number(Mt.split("ms")[0]):250;Ie=rte(Ie,Oe)}return x.includes("prevent")&&(Ie=ot(Ie,(Mt,Oe)=>{Oe.preventDefault(),Mt(Oe)})),x.includes("stop")&&(Ie=ot(Ie,(Mt,Oe)=>{Oe.stopPropagation(),Mt(Oe)})),x.includes("once")&&(Ie=ot(Ie,(Mt,Oe)=>{Mt(Oe),Ae.removeEventListener(I,Ie,Ke)})),(x.includes("away")||x.includes("outside"))&&(Ae=document,Ie=ot(Ie,(Mt,Oe)=>{E.contains(Oe.target)||Oe.target.isConnected!==!1&&(E.offsetWidth<1&&E.offsetHeight<1||E._x_isShown!==!1&&Mt(Oe))})),x.includes("self")&&(Ie=ot(Ie,(Mt,Oe)=>{Oe.target===E&&Mt(Oe)})),(dre(I)||Tte(I))&&(Ie=ot(Ie,(Mt,Oe)=>{ure(Oe,x)||Mt(Oe)})),Ae.addEventListener(I,Ie,Ke),()=>{Ae.removeEventListener(I,Ie,Ke)}}function ire(E){return E.replace(/-/g,".")}function lre(E){return E.toLowerCase().replace(/-(\w)/g,(I,x)=>x.toUpperCase())}function RP(E){return!Array.isArray(E)&&!isNaN(E)}function cre(E){return[" ","_"].includes(E)?E:E.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function dre(E){return["keydown","keyup"].includes(E)}function Tte(E){return["contextmenu","click","mouse"].some(I=>E.includes(I))}function ure(E,I){let x=I.filter(Ie=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(Ie));if(x.includes("debounce")){let Ie=x.indexOf("debounce");x.splice(Ie,RP((x[Ie+1]||"invalid-wait").split("ms")[0])?2:1)}if(x.includes("throttle")){let Ie=x.indexOf("throttle");x.splice(Ie,RP((x[Ie+1]||"invalid-wait").split("ms")[0])?2:1)}if(x.length===0||x.length===1&&WQ(E.key).includes(x[0]))return!1;const Ae=["ctrl","shift","alt","meta","cmd","super"].filter(Ie=>x.includes(Ie));return x=x.filter(Ie=>!Ae.includes(Ie)),!(Ae.length>0&&Ae.filter(Ke=>((Ke==="cmd"||Ke==="super")&&(Ke="meta"),E[`${Ke}Key`])).length===Ae.length&&(Tte(E.type)||WQ(E.key).includes(x[0])))}function WQ(E){if(!E)return[];E=cre(E);let I={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return I[E]=E,Object.keys(I).map(x=>{if(I[x]===E)return x}).filter(x=>x)}ql("model",(E,{modifiers:I,expression:x},{effect:de,cleanup:Ae})=>{let Ie=E;I.includes("parent")&&(Ie=E.parentNode);let Ke=Iu(Ie,x),ot;typeof x=="string"?ot=Iu(Ie,`${x} = __placeholder`):typeof x=="function"&&typeof x()=="string"?ot=Iu(Ie,`${x()} = __placeholder`):ot=()=>{};let Mt=()=>{let xe;return Ke(Go=>xe=Go),KQ(xe)?xe.get():xe},Oe=xe=>{let Go;Ke(Co=>Go=Co),KQ(Go)?Go.set(xe):ot(()=>{},{scope:{__placeholder:xe}})};typeof x=="string"&&E.type==="radio"&&Ji(()=>{E.hasAttribute("name")||E.setAttribute("name",x)});var un=E.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(E.type)||I.includes("lazy")?"change":"input";let On=X4?()=>{}:VX(E,un,I,xe=>{Oe(xX(E,I,xe,Mt()))});if(I.includes("fill")&&([void 0,null,""].includes(Mt())||aJ(E)&&Array.isArray(Mt())||E.tagName.toLowerCase()==="select"&&E.multiple)&&Oe(xX(E,I,{target:E},Mt())),E._x_removeModelListeners||(E._x_removeModelListeners={}),E._x_removeModelListeners.default=On,Ae(()=>E._x_removeModelListeners.default()),E.form){let xe=VX(E.form,"reset",[],Go=>{sJ(()=>E._x_model&&E._x_model.set(xX(E,I,{target:E},Mt())))});Ae(()=>xe())}E._x_model={get(){return Mt()},set(xe){Oe(xe)}},E._x_forceModelUpdate=xe=>{xe===void 0&&typeof x=="string"&&x.match(/\./)&&(xe=""),window.fromModel=!0,Ji(()=>Qee(E,"value",xe)),delete window.fromModel},de(()=>{let xe=Mt();I.includes("unintrusive")&&document.activeElement.isSameNode(E)||E._x_forceModelUpdate(xe)})});function xX(E,I,x,de){return Ji(()=>{if(x instanceof CustomEvent&&x.detail!==void 0)return x.detail!==null&&x.detail!==void 0?x.detail:x.target.value;if(aJ(E))if(Array.isArray(de)){let Ae=null;return I.includes("number")?Ae=yX(x.target.value):I.includes("boolean")?Ae=kP(x.target.value):Ae=x.target.value,x.target.checked?de.includes(Ae)?de:de.concat([Ae]):de.filter(Ie=>!fre(Ie,Ae))}else return x.target.checked;else{if(E.tagName.toLowerCase()==="select"&&E.multiple)return I.includes("number")?Array.from(x.target.selectedOptions).map(Ae=>{let Ie=Ae.value||Ae.text;return yX(Ie)}):I.includes("boolean")?Array.from(x.target.selectedOptions).map(Ae=>{let Ie=Ae.value||Ae.text;return kP(Ie)}):Array.from(x.target.selectedOptions).map(Ae=>Ae.value||Ae.text);{let Ae;return ote(E)?x.target.checked?Ae=x.target.value:Ae=de:Ae=x.target.value,I.includes("number")?yX(Ae):I.includes("boolean")?kP(Ae):I.includes("trim")?Ae.trim():Ae}}})}function yX(E){let I=E?parseFloat(E):null;return pre(I)?I:E}function fre(E,I){return E==I}function pre(E){return!Array.isArray(E)&&!isNaN(E)}function KQ(E){return E!==null&&typeof E=="object"&&typeof E.get=="function"&&typeof E.set=="function"}ql("cloak",E=>queueMicrotask(()=>Ji(()=>E.removeAttribute(Hy("cloak")))));Zee(()=>`[${Hy("init")}]`);ql("init",Q4((E,{expression:I},{evaluate:x})=>typeof I=="string"?!!I.trim()&&x(I,{},!1):x(I,{},!1)));ql("text",(E,{expression:I},{effect:x,evaluateLater:de})=>{let Ae=de(I);x(()=>{Ae(Ie=>{Ji(()=>{E.textContent=Ie})})})});ql("html",(E,{expression:I},{effect:x,evaluateLater:de})=>{let Ae=de(I);x(()=>{Ae(Ie=>{Ji(()=>{E.innerHTML=Ie,E._x_ignoreSelf=!0,y2(E),delete E._x_ignoreSelf})})})});tJ(Fee(":",Pee(Hy("bind:"))));var kte=(E,{value:I,modifiers:x,expression:de,original:Ae},{effect:Ie,cleanup:Ke})=>{if(!I){let Mt={};vse(Mt),Iu(E,de)(un=>{lte(E,un,Ae)},{scope:Mt});return}if(I==="key")return gre(E,de);if(E._x_inlineBindings&&E._x_inlineBindings[I]&&E._x_inlineBindings[I].extract)return;let ot=Iu(E,de);Ie(()=>ot(Mt=>{Mt===void 0&&typeof de=="string"&&de.match(/\./)&&(Mt=""),Ji(()=>Qee(E,I,Mt,x))})),Ke(()=>{E._x_undoAddedClasses&&E._x_undoAddedClasses(),E._x_undoAddedStyles&&E._x_undoAddedStyles()})};kte.inline=(E,{value:I,modifiers:x,expression:de})=>{I&&(E._x_inlineBindings||(E._x_inlineBindings={}),E._x_inlineBindings[I]={expression:de,extract:!1})};ql("bind",kte);function gre(E,I){E._x_keyExpression=I}jee(()=>`[${Hy("data")}]`);ql("data",(E,{expression:I},{cleanup:x})=>{if(mre(E))return;I=I===""?"{}":I;let de={};NX(de,E);let Ae={};yse(Ae,de);let Ie=j6(E,I,{scope:Ae});(Ie===void 0||Ie===!0)&&(Ie={}),NX(Ie,E);let Ke=Py(Ie);Aee(Ke);let ot=Mk(E,Ke);Ke.init&&j6(E,Ke.init),x(()=>{Ke.destroy&&j6(E,Ke.destroy),ot()})});UP((E,I)=>{E._x_dataStack&&(I._x_dataStack=E._x_dataStack,I.setAttribute("data-has-alpine-state",!0))});function mre(E){return X4?$X?!0:E.hasAttribute("data-has-alpine-state"):!1}ql("show",(E,{modifiers:I,expression:x},{effect:de})=>{let Ae=Iu(E,x);E._x_doHide||(E._x_doHide=()=>{Ji(()=>{E.style.setProperty("display","none",I.includes("important")?"important":void 0)})}),E._x_doShow||(E._x_doShow=()=>{Ji(()=>{E.style.length===1&&E.style.display==="none"?E.removeAttribute("style"):E.style.removeProperty("display")})});let Ie=()=>{E._x_doHide(),E._x_isShown=!1},Ke=()=>{E._x_doShow(),E._x_isShown=!0},ot=()=>setTimeout(Ke),Mt=FX(On=>On?Ke():Ie(),On=>{typeof E._x_toggleAndCascadeWithTransitions=="function"?E._x_toggleAndCascadeWithTransitions(E,On,Ke,Ie):On?ot():Ie()}),Oe,un=!0;de(()=>Ae(On=>{!un&&On===Oe||(I.includes("immediate")&&(On?ot():Ie()),Mt(On),Oe=On,un=!1)}))});ql("for",(E,{expression:I},{effect:x,cleanup:de})=>{let Ae=bre(I),Ie=Iu(E,Ae.items),Ke=Iu(E,E._x_keyExpression||"index");E._x_prevKeys=[],E._x_lookup={},x(()=>hre(E,Ae,Ie,Ke)),de(()=>{Object.values(E._x_lookup).forEach(ot=>Ji(()=>{Uy(ot),ot.remove()})),delete E._x_prevKeys,delete E._x_lookup})});function hre(E,I,x,de){let Ae=Ke=>typeof Ke=="object"&&!Array.isArray(Ke),Ie=E;x(Ke=>{vre(Ke)&&Ke>=0&&(Ke=Array.from(Array(Ke).keys(),jt=>jt+1)),Ke===void 0&&(Ke=[]);let ot=E._x_lookup,Mt=E._x_prevKeys,Oe=[],un=[];if(Ae(Ke))Ke=Object.entries(Ke).map(([jt,Wo])=>{let Yt=jQ(I,Wo,jt,Ke);de(lt=>{un.includes(lt)&&gp("Duplicate key on x-for",E),un.push(lt)},{scope:{index:jt,...Yt}}),Oe.push(Yt)});else for(let jt=0;jt<Ke.length;jt++){let Wo=jQ(I,Ke[jt],jt,Ke);de(Yt=>{un.includes(Yt)&&gp("Duplicate key on x-for",E),un.push(Yt)},{scope:{index:jt,...Wo}}),Oe.push(Wo)}let On=[],xe=[],Go=[],Co=[];for(let jt=0;jt<Mt.length;jt++){let Wo=Mt[jt];un.indexOf(Wo)===-1&&Go.push(Wo)}Mt=Mt.filter(jt=>!Go.includes(jt));let Eo="template";for(let jt=0;jt<un.length;jt++){let Wo=un[jt],Yt=Mt.indexOf(Wo);if(Yt===-1)Mt.splice(jt,0,Wo),On.push([Eo,jt]);else if(Yt!==jt){let lt=Mt.splice(jt,1)[0],qn=Mt.splice(Yt-1,1)[0];Mt.splice(jt,0,qn),Mt.splice(Yt,0,lt),xe.push([lt,qn])}else Co.push(Wo);Eo=Wo}for(let jt=0;jt<Go.length;jt++){let Wo=Go[jt];Wo in ot&&(Ji(()=>{Uy(ot[Wo]),ot[Wo].remove()}),delete ot[Wo])}for(let jt=0;jt<xe.length;jt++){let[Wo,Yt]=xe[jt],lt=ot[Wo],qn=ot[Yt],fs=document.createElement("div");Ji(()=>{qn||gp('x-for ":key" is undefined or invalid',Ie,Yt,ot),qn.after(fs),lt.after(qn),qn._x_currentIfEl&&qn.after(qn._x_currentIfEl),fs.before(lt),lt._x_currentIfEl&&lt.after(lt._x_currentIfEl),fs.remove()}),qn._x_refreshXForScope(Oe[un.indexOf(Yt)])}for(let jt=0;jt<On.length;jt++){let[Wo,Yt]=On[jt],lt=Wo==="template"?Ie:ot[Wo];lt._x_currentIfEl&&(lt=lt._x_currentIfEl);let qn=Oe[Yt],fs=un[Yt],_o=document.importNode(Ie.content,!0).firstElementChild,ht=Py(qn);Mk(_o,ht,Ie),_o._x_refreshXForScope=eo=>{Object.entries(eo).forEach(([ks,Qo])=>{ht[ks]=Qo})},Ji(()=>{lt.after(_o),Q4(()=>y2(_o))()}),typeof fs=="object"&&gp("x-for key cannot be an object, it must be a string or an integer",Ie),ot[fs]=_o}for(let jt=0;jt<Co.length;jt++)ot[Co[jt]]._x_refreshXForScope(Oe[un.indexOf(Co[jt])]);Ie._x_prevKeys=un})}function bre(E){let I=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,x=/^\s*\(|\)\s*$/g,de=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ae=E.match(de);if(!Ae)return;let Ie={};Ie.items=Ae[2].trim();let Ke=Ae[1].replace(x,"").trim(),ot=Ke.match(I);return ot?(Ie.item=Ke.replace(I,"").trim(),Ie.index=ot[1].trim(),ot[2]&&(Ie.collection=ot[2].trim())):Ie.item=Ke,Ie}function jQ(E,I,x,de){let Ae={};return/^\[.*\]$/.test(E.item)&&Array.isArray(I)?E.item.replace("[","").replace("]","").split(",").map(Ke=>Ke.trim()).forEach((Ke,ot)=>{Ae[Ke]=I[ot]}):/^\{.*\}$/.test(E.item)&&!Array.isArray(I)&&typeof I=="object"?E.item.replace("{","").replace("}","").split(",").map(Ke=>Ke.trim()).forEach(Ke=>{Ae[Ke]=I[Ke]}):Ae[E.item]=I,E.index&&(Ae[E.index]=x),E.collection&&(Ae[E.collection]=de),Ae}function vre(E){return!Array.isArray(E)&&!isNaN(E)}function Ate(){}Ate.inline=(E,{expression:I},{cleanup:x})=>{let de=HP(E);de._x_refs||(de._x_refs={}),de._x_refs[I]=E,x(()=>delete de._x_refs[I])};ql("ref",Ate);ql("if",(E,{expression:I},{effect:x,cleanup:de})=>{E.tagName.toLowerCase()!=="template"&&gp("x-if can only be used on a <template> tag",E);let Ae=Iu(E,I),Ie=()=>{if(E._x_currentIfEl)return E._x_currentIfEl;let ot=E.content.cloneNode(!0).firstElementChild;return Mk(ot,{},E),Ji(()=>{E.after(ot),Q4(()=>y2(ot))()}),E._x_currentIfEl=ot,E._x_undoIf=()=>{Ji(()=>{Uy(ot),ot.remove()}),delete E._x_currentIfEl},ot},Ke=()=>{E._x_undoIf&&(E._x_undoIf(),delete E._x_undoIf)};x(()=>Ae(ot=>{ot?Ie():Ke()})),de(()=>E._x_undoIf&&E._x_undoIf())});ql("id",(E,{expression:I},{evaluate:x})=>{x(I).forEach(Ae=>sre(E,Ae))});UP((E,I)=>{E._x_ids&&(I._x_ids=E._x_ids)});tJ(Fee("@",Pee(Hy("on:"))));ql("on",Q4((E,{value:I,modifiers:x,expression:de},{cleanup:Ae})=>{let Ie=de?Iu(E,de):()=>{};E.tagName.toLowerCase()==="template"&&(E._x_forwardEvents||(E._x_forwardEvents=[]),E._x_forwardEvents.includes(I)||E._x_forwardEvents.push(I));let Ke=VX(E,I,x,ot=>{Ie(()=>{},{scope:{$event:ot},params:[ot]})});Ae(()=>Ke())}));jP("Collapse","collapse","collapse");jP("Intersect","intersect","intersect");jP("Focus","trap","focus");jP("Mask","mask","mask");function jP(E,I,x){ql(I,de=>gp(`You can't use [x-${I}] without first installing the "${E}" plugin here: https://alpinejs.dev/plugins/${x}`,de))}Bk.setEvaluator(Ree);Bk.setReactivityEngine({reactive:pJ,effect:Lse,release:Dse,raw:Li});var xre=Bk,Ote=xre,Sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lte(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}function yre(E){if(E.__esModule)return E;var I=E.default;if(typeof I=="function"){var x=function de(){return this instanceof de?Reflect.construct(I,arguments,this.constructor):I.apply(this,arguments)};x.prototype=I.prototype}else x={};return Object.defineProperty(x,"__esModule",{value:!0}),Object.keys(E).forEach(function(de){var Ae=Object.getOwnPropertyDescriptor(E,de);Object.defineProperty(x,de,Ae.get?Ae:{enumerable:!0,get:function(){return E[de]}})}),x}var Dte={exports:{}};/*!
 * froala_editor v4.6.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2025 Froala Labs
 */(function(E,I){(function(x,de){E.exports=de()})(Sk,function(){function x(a,f){(f==null||f>a.length)&&(f=a.length);for(var N=0,O=Array(f);N<f;N++)O[N]=a[N];return O}function de(a,f,N,O,T,L,B){try{var G=a[L](B),P=G.value}catch(F){return void N(F)}G.done?f(P):Promise.resolve(P).then(O,T)}function Ae(a,f){var N=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!N){if(Array.isArray(a)||(N=On(a))||f){N&&(a=N);var O=0,T=function(){};return{s:T,n:function(){return O>=a.length?{done:!0}:{done:!1,value:a[O++]}},e:function(P){throw P},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,B=!0,G=!1;return{s:function(){N=N.call(a)},n:function(){var P=N.next();return B=P.done,P},e:function(P){G=!0,L=P},f:function(){try{B||N.return==null||N.return()}finally{if(G)throw L}}}}function Ie(a,f,N){return(f=function(T){var L=function(G,P){if(typeof G!="object"||!G)return G;var F=G[Symbol.toPrimitive];if(F===void 0)return(P==="string"?String:Number)(G);var j=F.call(G,P);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}(T,"string");return typeof L=="symbol"?L:L+""}(f))in a?Object.defineProperty(a,f,{value:N,enumerable:!0,configurable:!0,writable:!0}):a[f]=N,a}function Ke(a,f){var N=Object.keys(a);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(a);f&&(O=O.filter(function(T){return Object.getOwnPropertyDescriptor(a,T).enumerable})),N.push.apply(N,O)}return N}function ot(){ot=function(){return f};var a,f={},N=Object.prototype,O=N.hasOwnProperty,T=Object.defineProperty||function(Ne,We,ct){Ne[We]=ct.value},L=typeof Symbol=="function"?Symbol:{},B=L.iterator||"@@iterator",G=L.asyncIterator||"@@asyncIterator",P=L.toStringTag||"@@toStringTag";function F(Ne,We,ct){return Object.defineProperty(Ne,We,{value:ct,enumerable:!0,configurable:!0,writable:!0}),Ne[We]}try{F({},"")}catch{F=function(We,ct,nt){return We[ct]=nt}}function j(Ne,We,ct,nt){var st=We&&We.prototype instanceof re?We:re,Me=Object.create(st.prototype),tt=new Ee(nt||[]);return T(Me,"_invoke",{value:function(Ze,qe,Fe){var Ye=ee;return function(xt,ft){if(Ye===he)throw Error("Generator is already running");if(Ye===be){if(xt==="throw")throw ft;return{value:a,done:!0}}for(Fe.method=xt,Fe.arg=ft;;){var Ot=Fe.delegate;if(Ot){var Rt=q(Ot,Fe);if(Rt){if(Rt===se)continue;return Rt}}if(Fe.method==="next")Fe.sent=Fe._sent=Fe.arg;else if(Fe.method==="throw"){if(Ye===ee)throw Ye=be,Fe.arg;Fe.dispatchException(Fe.arg)}else Fe.method==="return"&&Fe.abrupt("return",Fe.arg);Ye=he;var zt=H(Ze,qe,Fe);if(zt.type==="normal"){if(Ye=Fe.done?be:w,zt.arg===se)continue;return{value:zt.arg,done:Fe.done}}zt.type==="throw"&&(Ye=be,Fe.method="throw",Fe.arg=zt.arg)}}}(Ne,ct,tt)}),Me}function H(Ne,We,ct){try{return{type:"normal",arg:Ne.call(We,ct)}}catch(nt){return{type:"throw",arg:nt}}}f.wrap=j;var ee="suspendedStart",w="suspendedYield",he="executing",be="completed",se={};function re(){}function ie(){}function M(){}var W={};F(W,B,function(){return this});var K=Object.getPrototypeOf,R=K&&K(K(we([])));R&&R!==N&&O.call(R,B)&&(W=R);var A=M.prototype=re.prototype=Object.create(W);function J(Ne){["next","throw","return"].forEach(function(We){F(Ne,We,function(ct){return this._invoke(We,ct)})})}function V(Ne,We){var ct;T(this,"_invoke",{value:function(nt,st){function Me(){return new We(function(tt,ze){(function Ze(qe,Fe,Ye,xt){var ft=H(Ne[qe],Ne,Fe);if(ft.type!=="throw"){var Ot=ft.arg,Rt=Ot.value;return Rt&&typeof Rt=="object"&&O.call(Rt,"__await")?We.resolve(Rt.__await).then(function(zt){Ze("next",zt,Ye,xt)},function(zt){Ze("throw",zt,Ye,xt)}):We.resolve(Rt).then(function(zt){Ot.value=zt,Ye(Ot)},function(zt){return Ze("throw",zt,Ye,xt)})}xt(ft.arg)})(nt,st,tt,ze)})}return ct=ct?ct.then(Me,Me):Me()}})}function q(Ne,We){var ct=We.method,nt=Ne.iterator[ct];if(nt===a)return We.delegate=null,ct==="throw"&&Ne.iterator.return&&(We.method="return",We.arg=a,q(Ne,We),We.method==="throw")||ct!=="return"&&(We.method="throw",We.arg=new TypeError("The iterator does not provide a '"+ct+"' method")),se;var st=H(nt,Ne.iterator,We.arg);if(st.type==="throw")return We.method="throw",We.arg=st.arg,We.delegate=null,se;var Me=st.arg;return Me?Me.done?(We[Ne.resultName]=Me.value,We.next=Ne.nextLoc,We.method!=="return"&&(We.method="next",We.arg=a),We.delegate=null,se):Me:(We.method="throw",We.arg=new TypeError("iterator result is not an object"),We.delegate=null,se)}function ae(Ne){var We={tryLoc:Ne[0]};1 in Ne&&(We.catchLoc=Ne[1]),2 in Ne&&(We.finallyLoc=Ne[2],We.afterLoc=Ne[3]),this.tryEntries.push(We)}function Le(Ne){var We=Ne.completion||{};We.type="normal",delete We.arg,Ne.completion=We}function Ee(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(ae,this),this.reset(!0)}function we(Ne){if(Ne||Ne===""){var We=Ne[B];if(We)return We.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var ct=-1,nt=function st(){for(;++ct<Ne.length;)if(O.call(Ne,ct))return st.value=Ne[ct],st.done=!1,st;return st.value=a,st.done=!0,st};return nt.next=nt}}throw new TypeError(typeof Ne+" is not iterable")}return T(A,"constructor",{value:ie.prototype=M,configurable:!0}),T(M,"constructor",{value:ie,configurable:!0}),ie.displayName=F(M,P,"GeneratorFunction"),f.isGeneratorFunction=function(Ne){var We=typeof Ne=="function"&&Ne.constructor;return!!We&&(We===ie||(We.displayName||We.name)==="GeneratorFunction")},f.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,M):(Ne.__proto__=M,F(Ne,P,"GeneratorFunction")),Ne.prototype=Object.create(A),Ne},f.awrap=function(Ne){return{__await:Ne}},J(V.prototype),F(V.prototype,G,function(){return this}),f.AsyncIterator=V,f.async=function(Ne,We,ct,nt,st){st===void 0&&(st=Promise);var Me=new V(j(Ne,We,ct,nt),st);return f.isGeneratorFunction(We)?Me:Me.next().then(function(tt){return tt.done?tt.value:Me.next()})},J(A),F(A,P,"Generator"),F(A,B,function(){return this}),F(A,"toString",function(){return"[object Generator]"}),f.keys=function(Ne){var We=Object(Ne),ct=[];for(var nt in We)ct.push(nt);return ct.reverse(),function st(){for(;ct.length;){var Me=ct.pop();if(Me in We)return st.value=Me,st.done=!1,st}return st.done=!0,st}},f.values=we,Ee.prototype={constructor:Ee,reset:function(Ne){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Le),!Ne)for(var We in this)We.charAt(0)==="t"&&O.call(this,We)&&!isNaN(+We.slice(1))&&(this[We]=a)},stop:function(){this.done=!0;var Ne=this.tryEntries[0].completion;if(Ne.type==="throw")throw Ne.arg;return this.rval},dispatchException:function(Ne){if(this.done)throw Ne;var We=this;function ct(Ze,qe){return Me.type="throw",Me.arg=Ne,We.next=Ze,qe&&(We.method="next",We.arg=a),!!qe}for(var nt=this.tryEntries.length-1;0<=nt;--nt){var st=this.tryEntries[nt],Me=st.completion;if(st.tryLoc==="root")return ct("end");if(st.tryLoc<=this.prev){var tt=O.call(st,"catchLoc"),ze=O.call(st,"finallyLoc");if(tt&&ze){if(this.prev<st.catchLoc)return ct(st.catchLoc,!0);if(this.prev<st.finallyLoc)return ct(st.finallyLoc)}else if(tt){if(this.prev<st.catchLoc)return ct(st.catchLoc,!0)}else{if(!ze)throw Error("try statement without catch or finally");if(this.prev<st.finallyLoc)return ct(st.finallyLoc)}}}},abrupt:function(Ne,We){for(var ct=this.tryEntries.length-1;0<=ct;--ct){var nt=this.tryEntries[ct];if(nt.tryLoc<=this.prev&&O.call(nt,"finallyLoc")&&this.prev<nt.finallyLoc){var st=nt;break}}st&&(Ne==="break"||Ne==="continue")&&st.tryLoc<=We&&We<=st.finallyLoc&&(st=null);var Me=st?st.completion:{};return Me.type=Ne,Me.arg=We,st?(this.method="next",this.next=st.finallyLoc,se):this.complete(Me)},complete:function(Ne,We){if(Ne.type==="throw")throw Ne.arg;return Ne.type==="break"||Ne.type==="continue"?this.next=Ne.arg:Ne.type==="return"?(this.rval=this.arg=Ne.arg,this.method="return",this.next="end"):Ne.type==="normal"&&We&&(this.next=We),se},finish:function(Ne){for(var We=this.tryEntries.length-1;0<=We;--We){var ct=this.tryEntries[We];if(ct.finallyLoc===Ne)return this.complete(ct.completion,ct.afterLoc),Le(ct),se}},catch:function(Ne){for(var We=this.tryEntries.length-1;0<=We;--We){var ct=this.tryEntries[We];if(ct.tryLoc===Ne){var nt=ct.completion;if(nt.type==="throw"){var st=nt.arg;Le(ct)}return st}}throw Error("illegal catch attempt")},delegateYield:function(Ne,We,ct){return this.delegate={iterator:we(Ne),resultName:We,nextLoc:ct},this.method==="next"&&(this.arg=a),se}},f}function Mt(a,f){return function(O){if(Array.isArray(O))return O}(a)||function(O,T){var L=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(L!=null){var B,G,P,F,j=[],H=!0,ee=!1;try{if(P=(L=L.call(O)).next,T!==0)for(;!(H=(B=P.call(L)).done)&&(j.push(B.value),j.length!==T);H=!0);}catch(w){ee=!0,G=w}finally{try{if(!H&&L.return!=null&&(F=L.return(),Object(F)!==F))return}finally{if(ee)throw G}}return j}}(a,f)||On(a,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oe(a){return function(N){if(Array.isArray(N))return x(N)}(a)||function(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}(a)||On(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function un(a){return(un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(a)}function On(a,f){if(a){if(typeof a=="string")return x(a,f);var N={}.toString.call(a).slice(8,-1);return N==="Object"&&a.constructor&&(N=a.constructor.name),N==="Map"||N==="Set"?Array.from(a):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?x(a,f):void 0}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(a){var f=this;if(!document.documentElement.contains(f))return null;do{if(f.matches(a))return f;f=f.parentElement||f.parentNode}while(f!==null&&f.nodeType===1);return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var f=(this.document||this.ownerDocument).querySelectorAll(a),N=f.length;0<=--N&&f.item(N)!==this;);return-1<N}),Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(a,f){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(a),O=1;O<arguments.length;O++){var T=arguments[O];if(T!=null)for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(N[L]=T[L])}return N},writable:!0,configurable:!0}),function(){var a=/^\s*:scope/gi,f=/,\s*:scope/gi,N=document.createElement("div");function O(L,B){var G=L[B];L[B]=function(P){var F,j=!1,H=!1;if(!P||Array.isArray(P)||!P.match(a)&&!P.match(f))return G.call(this,P);this.parentNode||(N.appendChild(this),H=!0);var ee=this.parentNode;return this.id||(this.id="rootedQuerySelector_id_".concat(new Date().getTime()),j=!0),F=G.call(ee,P.replace(a,"#".concat(this.id)).replace(f,",#".concat(this.id))),j&&(this.id=""),H&&N.removeChild(this),F}}try{var T=N.querySelectorAll(":scope *");if(!T||Array.isArray(T))throw"error"}catch{O(Element.prototype,"querySelector"),O(Element.prototype,"querySelectorAll"),O(HTMLElement.prototype,"querySelector"),O(HTMLElement.prototype,"querySelectorAll")}}(),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(a){if("Element"in a){var f="classList",N="prototype",O=a.Element[N],T=Object,L=String[N].trim||function(){return this.replace(/^\s+|\s+$/g,"")},B=Array[N].indexOf||function(w){for(var he=0,be=this.length;he<be;he++)if(he in this&&this[he]===w)return he;return-1},G=function(he,be){this.name=he,this.code=DOMException[he],this.message=be},P=function(he,be){if(be==="")throw new G("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(be))throw new G("INVALID_CHARACTER_ERR","The token must not contain space characters.");return B.call(he,be)},F=function(he){for(var be=L.call(he.getAttribute("class")||""),se=be?be.split(/\s+/):[],re=0,ie=se.length;re<ie;re++)this.push(se[re]);this._updateClassName=function(){he.setAttribute("class",this.toString())}},j=F[N]=[],H=function(){return new F(this)};if(G[N]=Error[N],j.item=function(w){return this[w]||null},j.contains=function(w){return~P(this,w+"")},j.add=function(){for(var w,he=arguments,be=0,se=he.length,re=!1;w=he[be]+"",~P(this,w)||(this.push(w),re=!0),++be<se;);re&&this._updateClassName()},j.remove=function(){var w,he,be=arguments,se=0,re=be.length,ie=!1;do for(w=be[se]+"",he=P(this,w);~he;)this.splice(he,1),ie=!0,he=P(this,w);while(++se<re);ie&&this._updateClassName()},j.toggle=function(w,he){var be=this.contains(w),se=be?he!==!0&&"remove":he!==!1&&"add";return se&&this[se](w),he===!0||he===!1?he:!be},j.replace=function(w,he){var be=P(w+"");~be&&(this.splice(be,1,he),this._updateClassName())},j.toString=function(){return this.join(" ")},T.defineProperty){var ee={get:H,enumerable:!0,configurable:!0};try{T.defineProperty(O,f,ee)}catch(w){w.number!==void 0&&w.number!==-2146823252||(ee.enumerable=!1,T.defineProperty(O,f,ee))}}else T[N].__defineGetter__&&O.__defineGetter__(f,H)}}(self),function(){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var f=function(T){var L=DOMTokenList.prototype[T];DOMTokenList.prototype[T]=function(B){var G,P=arguments.length;for(G=0;G<P;G++)B=arguments[G],L.call(this,B)}};f("add"),f("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var N=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(O,T){return 1 in arguments&&!this.contains(O)==!T?T:N.call(this,O)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(O,T){var L=this.toString().split(" "),B=L.indexOf(O+"");~B&&(L=L.slice(B),this.remove.apply(this,L),this.add(T),this.add.apply(this,L.slice(1)))}),a=null}()),function(){var a,f=-1;if(navigator.appName==="Microsoft Internet Explorer"?(a=navigator.userAgent,new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(a)!==null&&(f=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(a=navigator.userAgent,new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(a)!==null&&(f=parseFloat(RegExp.$1))),!(typeof window>"u"||typeof document>"u"||typeof HTMLElement>"u"||f<0)){var N=!1;try{var O=document.createElement("div");O.addEventListener("focus",function(G){G.preventDefault(),G.stopPropagation()},!0),O.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&typeof navigator.userAgent<"u"&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return N=!1;N=!0}}))}catch{}if(HTMLElement.prototype.nativeFocus===void 0&&!N){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var T=function(P){for(var F=P.parentNode,j=[],H=document.scrollingElement||document.documentElement;F&&F!==H;)(F.offsetHeight<F.scrollHeight||F.offsetWidth<F.scrollWidth)&&j.push([F,F.scrollTop,F.scrollLeft]),F=F.parentNode;return F=H,j.push([F,F.scrollTop,F.scrollLeft]),j},L=function(P){for(var F=0;F<P.length;F++)P[F][0].scrollTop=P[F][1],P[F][0].scrollLeft=P[F][2];P=[]},B=function(P){if(P&&P.preventScroll){var F=T(this);if(typeof setTimeout=="function"){var j=this;setTimeout(function(){j.nativeFocus(),L(F)},0)}else this.nativeFocus(),L(F)}else this.nativeFocus()};HTMLElement.prototype.focus=B}}}();function xe(a,f,N){if(typeof a!="string")return new xe.Bootstrap(a,f,N);var O=document.querySelectorAll(a);f&&f.iframe_document&&(O=f.iframe_document.querySelectorAll(a));for(var T=[],L=0;L<O.length;L++){var B=O[L]["data-froala.editor"];B?T.push(B):T.push(new xe.Bootstrap(O[L],f,N))}return T.length==1?T[0]:T}xe.RegisterPlugins=function(a){for(var f=0;f<a.length;f++)a[f].call(xe)},Object.assign(xe,{DEFAULTS:{allowStylingOnNonEditable:!1,initOnClick:!1,pluginsEnabled:null,pluginsDisabled:null},MODULES:{},PLUGINS:{},VERSION:"4.6.0",INSTANCES:[],OPTS_MAPPING:{},SHARED:{},ID:0}),xe.MODULES.node=function(a){var f=a.$;function N(G){return G&&G.tagName!=="IFRAME"?Array.prototype.slice.call(G.childNodes||[]):[]}function O(G){return!!G&&G.nodeType===Node.ELEMENT_NODE&&0<=xe.BLOCK_TAGS.indexOf(G.tagName.toLowerCase())}function T(G){var P={},F=G.attributes;if(F)for(var j=0;j<F.length;j++){var H=F[j];P[H.nodeName]=H.value}return P}function L(G){for(var P="",F=T(G),j=Object.keys(F),H=0;H<j.length;H++){var ee=j[H],w=F[ee];w.indexOf("'")<0&&0<=w.indexOf('"')?P+=" ".concat(ee,"='").concat(w,"'"):(0<=w.indexOf('"')&&0<=w.indexOf("'")&&(w=w.replace(/"/g,"&quot;")),P+=" ".concat(ee,'="').concat(w,'"'))}return P}function B(G){return G===a.el}return{isBlock:O,isEmpty:function(P,F){if(!P)return!0;if(P.querySelector("table"))return!1;var j=N(P);j.length===1&&O(j[0])&&(j=N(j[0]));for(var H=!1,ee=0;ee<j.length;ee++){var w=j[ee];if(!(F&&a.node.hasClass(w,"fr-marker")||w.nodeType===Node.TEXT_NODE&&w.textContent.length===0)){if(w.tagName!=="BR"&&0<(w.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length||H)return!1;w.tagName==="BR"&&(H=!0)}}return!(P.querySelectorAll(xe.VOID_ELEMENTS.join(",")).length-P.querySelectorAll("br").length||P.querySelector("".concat(a.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),"),":not(.fr-marker)"))||1<P.querySelectorAll(xe.BLOCK_TAGS.join(",")).length||P.querySelector("".concat(a.opts.htmlDoNotWrapTags.join(":not(.fr-marker),"),":not(.fr-marker)")))},blockParent:function(P){for(;P&&P.parentNode!==a.el&&(!P.parentNode||!a.node.hasClass(P.parentNode,"fr-inner"));)if(O(P=P.parentNode))return P;return null},deepestParent:function(P,F,j){if(F===void 0&&(F=[]),j===void 0&&(j=!0),F.push(a.el),0<=F.indexOf(P.parentNode)||P.parentNode&&a.node.hasClass(P.parentNode,"fr-inner")||P.parentNode&&0<=xe.SIMPLE_ENTER_TAGS.indexOf(P.parentNode.tagName)&&j)return null;for(;F.indexOf(P.parentNode)<0&&P.parentNode&&!a.node.hasClass(P.parentNode,"fr-inner")&&(xe.SIMPLE_ENTER_TAGS.indexOf(P.parentNode.tagName)<0||!j)&&(!O(P)||O(P.parentNode))&&(!O(P)||!O(P.parentNode)||!j);)P=P.parentNode;return P},rawAttributes:T,attributes:L,clearAttributes:function(P){for(var F=P.attributes,j=F.length-1;0<=j;j--){var H=F[j];P.removeAttribute(H.nodeName)}},openTagString:function(P){return"<".concat(P.tagName.toLowerCase()).concat(L(P),">")},closeTagString:function(P){return"</".concat(P.tagName.toLowerCase(),">")},isFirstSibling:function G(P,F){F===void 0&&(F=!0);for(var j=P.previousSibling;j&&F&&a.node.hasClass(j,"fr-marker");)j=j.previousSibling;return!j||j.nodeType===Node.TEXT_NODE&&j.textContent===""&&G(j)},isLastSibling:function G(P,F){F===void 0&&(F=!0);for(var j=P.nextSibling;j&&F&&a.node.hasClass(j,"fr-marker");)j=j.nextSibling;return!j||j.nodeType===Node.TEXT_NODE&&j.textContent===""&&G(j)},isList:function(P){return!!P&&0<=["UL","OL"].indexOf(P.tagName)},isLink:function(P){return!!P&&P.nodeType===Node.ELEMENT_NODE&&P.tagName.toLowerCase()==="a"},isElement:B,contents:N,isVoid:function(P){return P&&P.nodeType===Node.ELEMENT_NODE&&0<=xe.VOID_ELEMENTS.indexOf((P.tagName||"").toLowerCase())},hasFocus:function(P){return P===a.doc.activeElement&&(!a.doc.hasFocus||a.doc.hasFocus())&&!!(B(P)||P.type||P.href||~P.tabIndex)},isEditable:function(P){return(!P.getAttribute||P.getAttribute("contenteditable")!=="false")&&["STYLE","SCRIPT"].indexOf(P.tagName)<0&&!(P.viewportElement&&P.viewportElement.tagName==="svg")},isDeletable:function(P){return P&&P.nodeType===Node.ELEMENT_NODE&&P.getAttribute("class")&&0<=(P.getAttribute("class")||"").indexOf("fr-deletable")},hasClass:function(P,F){return P instanceof f&&(P=P.get(0)),P&&P.classList&&P.classList.contains(F)},filter:function(P){return a.browser.msie?P:{acceptNode:P}}}},Object.assign(xe.DEFAULTS,{DOMPurify:window.DOMPurify,htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowedStyleProps:[".*"],htmlAllowComments:!0,htmlUntouched:!1,preserveTabSpaces:!1,fullPage:!1}),xe.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},xe.MODULES.clean=function(a){var f,N,O,T,L=a.$;function B(be){if(be.nodeType===Node.ELEMENT_NODE&&be.getAttribute("class")&&0<=be.getAttribute("class").indexOf("fr-marker")||["TABLE","TBODY","THEAD","TFOOT","TR","TD","TH"].includes(be.nodeName))return!1;var se,re=a.node.contents(be),ie=[];for(se=0;se<re.length;se++)re[se].nodeType!==Node.ELEMENT_NODE||a.node.isVoid(re[se])?re[se].nodeType===Node.TEXT_NODE&&(re[se].textContent=re[se].textContent.replace(/\u200b/g,"")):re[se].textContent.replace(/\u200b/g,"").length!==re[se].textContent.length&&B(re[se]);if(be.nodeType===Node.ELEMENT_NODE&&!a.node.isVoid(be)&&(be.normalize(),re=a.node.contents(be),ie=be.querySelectorAll(".fr-marker"),re.length-ie.length==0)){for(se=0;se<re.length;se++)if(re[se].nodeType===Node.ELEMENT_NODE&&(re[se].getAttribute("class")||"").indexOf("fr-marker")<0)return!1;for(se=0;se<ie.length;se++)be.parentNode.insertBefore(ie[se].cloneNode(!0),be);return be.parentNode.removeChild(be),!1}}function G(be,se){if(be.nodeType===Node.COMMENT_NODE)return"<!--".concat(be.nodeValue,"-->");if(be.nodeType===Node.TEXT_NODE)return se?be.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.opts.preserveTabSpaces?be.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\t/g," ".repeat(a.opts.tabSpaces)||" ".repeat(4)):be.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\t/g,"");if(be.nodeType!==Node.ELEMENT_NODE||be.nodeType===Node.ELEMENT_NODE&&0<=["STYLE","SCRIPT","NOSCRIPT"].indexOf(be.tagName))return be.outerHTML;if(be.nodeType===Node.ELEMENT_NODE&&be.tagName==="svg"){var re=document.createElement("div"),ie=be.cloneNode(!0);return re.appendChild(ie),re.innerHTML}if(be.tagName==="IFRAME")return be.outerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">");var M=be.childNodes;if(M.length===0)return be.outerHTML;for(var W="",K=0;K<M.length;K++)be.tagName==="PRE"&&(se=!0),W+=G(M[K],se);return a.node.openTagString(be)+W+a.node.closeTagString(be)}var P=[];function F(be){var se=be.replace(/;;/gi,";");return(se=se.replace(/^;/gi,"")).charAt(se.length)!==";"&&(se+=";"),se}function j(be){var se;for(se in be)if(Object.prototype.hasOwnProperty.call(be,se)){var re=se.match(O),ie=null;se==="style"&&a.opts.htmlAllowedStyleProps.length&&(ie=be[se].match(T)),re&&ie?be[se]=F(ie.join(";")):re&&(se!=="style"||ie)||delete be[se]}for(var M="",W=Object.keys(be).sort(),K=0;K<W.length;K++)be[se=W[K]].indexOf('"')<0?M+=" ".concat(se,'="').concat(be[se],'"'):M+=" ".concat(se,"='").concat(be[se],"'");return M}function H(be,se){var re,ie=document.implementation.createHTMLDocument("Froala DOC").createElement("DIV");L(ie).append(be);var M="";if(ie){var W=a.node.contents(ie);for(re=0;re<W.length;re++)se(W[re]);for(W=a.node.contents(ie),re=0;re<W.length;re++)M+=G(W[re])}return M}function ee(be,se,re){var ie=be=function(K){return P=[],K=(K=(K=(K=K.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(R){return P.push(R),"[FROALA.EDITOR.SCRIPT ".concat(P.length-1,"]")})).replace(/<noscript\b[^<]*(?:(?!<\/noscript>)<[^<]*)*<\/noscript>/gi,function(R){return P.push(R),"[FROALA.EDITOR.NOSCRIPT ".concat(P.length-1,"]")})).replace(/<meta((?:[\w\W]*?)) http-equiv="/g,'<meta$1 data-fr-http-equiv="')).replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}(be),M=null;return a.opts.fullPage&&(ie=a.html.extractNode(be,"body")||(0<=be.indexOf("<body")?"":be),re&&(M=a.html.extractNode(be,"head")||"")),ie=H(ie,se),M&&(M=H(M,se)),function(K){return K=(K=(K=K.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(R,A){return 0<=a.opts.htmlRemoveTags.indexOf("script")?"":P[parseInt(A,10)]})).replace(/\[FROALA\.EDITOR\.NOSCRIPT ([\d]*)\]/gi,function(R,A){if(0<=a.opts.htmlRemoveTags.indexOf("noscript"))return"";var J=P[parseInt(A,10)].replace(/&lt;/g,"<").replace(/&gt;/g,">"),V=L(J);if(V&&V.length){var q=H(V.html(),he);V.html(q),J=V.get(0).outerHTML}return J})).replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}(function(K,R,A){if(a.opts.fullPage){var J=a.html.extractDoctype(A),V=j(a.html.extractNodeAttrs(A,"html"));R=R===null?a.html.extractNode(A,"head")||"<title></title>":R;var q=j(a.html.extractNodeAttrs(A,"head")),ae=j(a.html.extractNodeAttrs(A,"body"));return"".concat(J,"<html").concat(V,"><head").concat(q,">").concat(R,"</head><body").concat(ae,">").concat(K,"</body></html>")}return K}(ie,M,be))}function w(be){var se=a.doc.createElement("DIV");return se.innerText=be,se.textContent}function he(be){for(var se=a.node.contents(be),re=0;re<se.length;re++)se[re].nodeType!==Node.TEXT_NODE&&he(se[re]);(function(M){if(M.tagName==="SPAN"&&0<=(M.getAttribute("class")||"").indexOf("fr-marker"))return!1;if(M.tagName==="PRE"&&function(nt){var st=nt.innerHTML;0<=st.indexOf(`
`)&&(nt.innerHTML=st.replace(/\n/g,"<br>"))}(M),M.nodeType===Node.ELEMENT_NODE&&(M.getAttribute("data-fr-src")&&M.getAttribute("data-fr-src").indexOf("blob:")!==0&&M.setAttribute("data-fr-src",a.helpers.sanitizeURL(w(M.getAttribute("data-fr-src")))),M.getAttribute("href")&&M.setAttribute("href",a.helpers.sanitizeURL(w(M.getAttribute("href")))),M.getAttribute("src")&&M.setAttribute("src",a.helpers.sanitizeURL(w(M.getAttribute("src")))),M.getAttribute("srcdoc")&&M.setAttribute("srcdoc",a.clean.html(M.getAttribute("srcdoc"))),0<=["TABLE","TBODY","TFOOT","TR"].indexOf(M.tagName)&&(M.innerHTML=M.innerHTML.trim())),!a.opts.pasteAllowLocalImages&&M.nodeType===Node.ELEMENT_NODE&&M.tagName==="IMG"&&M.getAttribute("data-fr-src")&&M.getAttribute("data-fr-src").indexOf("file://")===0)return M.parentNode.removeChild(M),!1;if(M.nodeType===Node.ELEMENT_NODE&&xe.HTML5Map[M.tagName]&&a.node.attributes(M)===""){var W=xe.HTML5Map[M.tagName],K="<".concat(W,">").concat(M.innerHTML,"</").concat(W,">");M.insertAdjacentHTML("beforebegin",K),(M=M.previousSibling).parentNode.removeChild(M.nextSibling)}if(a.opts.htmlAllowComments||M.nodeType!==Node.COMMENT_NODE)if(M.tagName&&M.tagName.match(N)){if(M.tagName=="STYLE"&&a.helpers.isMac()){var R,A=M.innerHTML.trim(),J=[],V=/{([^}]+)}/g;for(A=A.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*|<!--[\s\S]*?-->$/,"");R=V.exec(A);)J.push(R[1]);for(var q=function(nt){var st=A.substring(0,A.indexOf("{")).trim();!/^[a-z_-][a-z\d_-]*$/i.test(st)==0&&M.parentNode.querySelectorAll(st).forEach(function(Me){Me.removeAttribute("class"),Me.setAttribute("style",J[nt])}),A=A.substring(A.indexOf("}")+1)},ae=0;A.indexOf("{")!=-1;ae++)q(ae)}M.parentNode.removeChild(M)}else if(M.tagName&&!M.tagName.match(f))M.tagName==="svg"?M.parentNode.removeChild(M):a.browser.safari&&M.tagName==="path"&&M.parentNode&&M.parentNode.tagName==="svg"||(M.outerHTML=M.innerHTML);else{var Le=M.attributes;if(Le)for(var Ee=Le.length-1;0<=Ee;Ee--){var we=Le[Ee],Ne=we.nodeName.match(O),We=null;we.nodeName==="style"&&a.opts.htmlAllowedStyleProps.length&&(We=we.value.match(T)),Ne&&We?we.value=F(We.join(";")):Ne&&(we.nodeName!=="style"||We)||M.removeAttribute(we.nodeName)}}else M.data.indexOf("[FROALA.EDITOR")!==0&&M.parentNode.removeChild(M)})(be)}return{_init:function(){a.opts.fullPage&&L.merge(a.opts.htmlAllowedTags,["head","title","style","link","base","body","html","meta"])},html:function(se,re,ie,M){if(re===void 0&&(re=[]),ie===void 0&&(ie=[]),0<=se.indexOf("<plaintext>")){se=se.replace(/<plaintext>/g,"").replace(/<\/plaintext>/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\t/g,a.opts.preserveTabSpaces?" ".repeat(a.opts.tabSpaces||4):"");var W=a.html.defaultTag();a.opts.enter!=xe.ENTER_BR&&(se="<".concat(W,">").concat(se,"</").concat(W,">"))}var K,R=L.merge([],a.opts.htmlAllowedTags);for(K=0;K<re.length;K++)0<=R.indexOf(re[K])&&R.splice(R.indexOf(re[K]),1);var A=L.merge([],a.opts.htmlAllowedAttrs);for(K=0;K<ie.length;K++)0<=A.indexOf(ie[K])&&A.splice(A.indexOf(ie[K]),1);if(A.push("data-fr-.*"),A.push("fr-.*"),f=new RegExp("^".concat(R.join("$|^"),"$"),"gi"),O=new RegExp("^".concat(A.join("$|^"),"$"),"gi"),N=new RegExp("^".concat(a.opts.htmlRemoveTags.join("$|^"),"$"),"gi"),T=a.opts.htmlAllowedStyleProps.length?new RegExp("((^|;|\\s)".concat(a.opts.htmlAllowedStyleProps.join(":.+?(?=;|$))|((^|;|\\s)"),":.+?(?=(;)|$))"),"gi"):null,se=ee(se,he,!0),typeof a.opts.DOMPurify<"u"){var J={ALLOW_UNKNOWN_PROTOCOLS:!0};a.opts.htmlAllowedTags.length===1&&a.opts.htmlAllowedTags[0]===".*"||(J.ALLOWED_TAGS=a.opts.htmlAllowedTags),a.opts.htmlAllowedAttrs.length===1&&a.opts.htmlAllowedAttrs[0]===".*"||(J.ALLOWED_ATTR=a.opts.htmlAllowedAttrs),se=a.opts.DOMPurify.sanitize(se,J)}return se},toHTML5:function(){var se=a.el.querySelectorAll(Object.keys(xe.HTML5Map).join(","));if(se.length){var re=!1;a.el.querySelector(".fr-marker")||(a.selection.save(),re=!0);for(var ie=0;ie<se.length;ie++)a.node.attributes(se[ie])===""&&L(se[ie]).replaceWith("<".concat(xe.HTML5Map[se[ie].tagName],">").concat(se[ie].innerHTML,"</").concat(xe.HTML5Map[se[ie].tagName],">"));re&&a.selection.restore()}},tables:function(){(function(){for(var re=a.el.querySelectorAll("tr"),ie=0,M=0;M<re.length;M++){var W=re[M].outerHTML.match(/rowspan="([0-9]+)"/);W&&(ie+=Number(W[1])-1);for(var K=re[M].children,R=!0,A=0;A<K.length;A++)if(K[A].tagName!=="TH"){R=!1;break}if(R!==!1&&K.length!==0)if(K.length===1&&K[0].tagName==="TH"&&ie)ie--;else{var J=re[M],V=J.closest("table");if(V){var q=V.querySelector("thead");q||(q=a.doc.createElement("THEAD"),V.insertBefore(q,V.firstChild)),q.contains(J)||q.appendChild(J)}}}})(),function(){for(var re=a.$el.find("table[style]"),ie=0;ie<re.length;ie++){var M=L(re[ie]);M.attr("style").indexOf("width")<0&&M.css("width","100%")}for(var W=a.$el.find("td[width]"),K=0;K<W.length;K++){var R=L(W[K]),A=R.attr("width");A&&(R.css("width",A),R.removeAttr("width"))}}()},lists:function(){(function(){var re,ie=[];do{if(ie.length){var M=ie[0],W=a.doc.createElement("ul");M.parentNode.insertBefore(W,M);do{var K=M;M=M.nextSibling,W.appendChild(K)}while(M&&M.tagName==="LI")}ie=[];for(var R=a.el.querySelectorAll("li"),A=0;A<R.length;A++)re=R[A],a.node.isList(re.parentNode)||ie.push(R[A])}while(0<ie.length)})(),function(){for(var re=a.el.querySelectorAll("ol + ol, ul + ul"),ie=0;ie<re.length;ie++){var M=re[ie];if(a.node.isList(M.previousSibling)&&a.node.openTagString(M)===a.node.openTagString(M.previousSibling)){for(var W=a.node.contents(M),K=0;K<W.length;K++)M.previousSibling.appendChild(W[K]);M.parentNode.removeChild(M)}}}(),function(){for(var re=a.el.querySelectorAll("ul, ol"),ie=0;ie<re.length;ie++)for(var M=a.node.contents(re[ie]),W=null,K=M.length-1;0<=K;K--)!M[K].tagName&&a.opts.htmlUntouched||M[K].tagName==="LI"||M[K].tagName=="UL"||M[K].tagName=="OL"?W=null:M[K].tagName=="BR"?L(M[K]).remove():(W||(W=L(a.doc.createElement("LI"))).insertBefore(M[K]),W.prepend(M[K]))}(),function(){var re,ie,M;do{ie=!1;var W=a.el.querySelectorAll("li:empty");for(re=0;re<W.length;re++)W[re].parentNode.removeChild(W[re]);var K=a.el.querySelectorAll("ul, ol");for(re=0;re<K.length;re++)(M=K[re]).querySelector("LI")||(ie=!0,M.parentNode.removeChild(M))}while(ie===!0)}(),function(){for(var re=a.el.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),ie=0;ie<re.length;ie++){var M=re[ie],W=M.previousSibling;W&&(W.tagName==="LI"?W.appendChild(M):L(M).wrap("<li></li>"))}}(),function(){for(var re=a.el.querySelectorAll("li > ul, li > ol"),ie=0;ie<re.length;ie++){var M=re[ie];if(M.nextSibling)for(var W=M.nextSibling;0<W.childNodes.length;)M.append(W.childNodes[0])}}(),function(){for(var re=a.el.querySelectorAll("li > ul, li > ol"),ie=0;ie<re.length;ie++){var M=re[ie];if(a.node.isFirstSibling(M)&&M.parentNode.style.listStyleType!="none")L(M).before("<br/>");else if(M.previousSibling&&M.previousSibling.tagName==="BR"){for(var W=M.previousSibling.previousSibling;W&&a.node.hasClass(W,"fr-marker");)W=W.previousSibling;W&&W.tagName!=="BR"&&L(M.previousSibling).remove()}}}(),function(){for(var re=a.el.querySelectorAll("li:empty"),ie=0;ie<re.length;ie++)L(re[ie]).remove()}(),function(){for(var re=a.el.querySelectorAll("ul, ol"),ie=0;ie<re.length;ie++)for(var M=re[ie],W=a.node.contents(M),K=function(){var J=W[R],V=a.node.contents(J);if(J.nodeType!==Node.ELEMENT_NODE)return 0;var q=J.querySelectorAll("ul, ol");if(0<q.length&&V.length==1&&V[0].nodeType===Node.ELEMENT_NODE){var ae=q[0],Le=W[R-1];if(!Le)return 0;var Ee=L(Le).data("tracking")&&a.opts.trackChangesEnabled;Oe(ae.querySelectorAll("li")).reverse().forEach(function(we){if(Ee){var Ne="pending-".concat(a.id,"-").concat(a.track_changes.getPendingChanges().length),We=a.opts.showChangesEnabled?'class="fr-highlight-change"':"",ct=we.innerHTML;we.innerHTML='<span data-tracking="true" data-track-id="'.concat(Ne,'" ').concat(We,">").concat(ct,"</span>"),a.track_changes.pushChange(Ne)}}),Le.append(ae),J.remove()}},R=0;R<W.length;R++)K()}()},invisibleSpaces:function(se){return se.replace(/\u200b/g,"").length===se.length?se:a.clean.exec(se,B)},exec:ee}},xe.XS=0,xe.SM=1,xe.MD=2,xe.LG=3,xe.LinkRegExCommon="[".concat("a-z\\u0080-\\u009f\\u00a1-\\uffff0-9-_\\.","]{1,}"),xe.LinkRegExEnd="((:[0-9]{1,5})|)(((\\/|\\?|#)[a-zA-Z0-9\\u00a1-\\uffff@\\[\\]\\(\\)\\{\\}.,:;!?%&$^=*+~#_\\-`'\"\\\\\\/|]*)|())",xe.LinkRegExTLD="((".concat(xe.LinkRegExCommon,")(\\.(com|net|org|edu|mil|gov|co|biz|info|me|dev|in|fr|it)))"),xe.LinkRegExHTTP="((ftp|http|https):\\/\\/".concat(xe.LinkRegExCommon,")"),xe.LinkRegExAuth="((ftp|http|https):\\/\\/[\\u0021-\\uffff]{1,}@".concat(xe.LinkRegExCommon,")"),xe.LinkRegExWWW="(www\\.".concat(xe.LinkRegExCommon,"\\.[a-z0-9-]{2,24})"),xe.LinkRegEx="(".concat(xe.LinkRegExTLD,"|").concat(xe.LinkRegExHTTP,"|").concat(xe.LinkRegExWWW,"|").concat(xe.LinkRegExAuth,")").concat(xe.LinkRegExEnd),xe.LinkProtocols=["mailto","tel","sms","notes","data"],xe.MAIL_REGEX=/.+@.+\..+/i,xe.MODULES.helpers=function(a){var f,N=a.$;function O(){var F={},j=function(){var be,se=-1;return navigator.appName==="Microsoft Internet Explorer"?(be=navigator.userAgent,new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(be)!==null&&(se=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(be=navigator.userAgent,new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(be)!==null&&(se=parseFloat(RegExp.$1))),se}();if(0<j)F.msie=!0;else{var H=navigator.userAgent.toLowerCase(),ee=/(edge)[ /]([\w.]+)/.exec(H)||/(chrome)[ /]([\w.]+)/.exec(H)||/(webkit)[ /]([\w.]+)/.exec(H)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(H)||/(msie) ([\w.]+)/.exec(H)||H.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(H)||[],w=ee[1]||"";ee[2],ee[1]&&(F[w]=!0),F.chrome?F.webkit=!0:F.webkit&&(F.safari=!0)}return F.msie&&(F.version=j),F}function T(){return(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||function(){return navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&/Macintosh/.test(navigator.userAgent)}())&&!G()}function L(){return/(Android)/g.test(navigator.userAgent)&&!G()}function B(){return/(Blackberry)/g.test(navigator.userAgent)}function G(){return/(Windows Phone)/gi.test(navigator.userAgent)}var P=null;return{_init:function(){a.browser=O()},isIOS:T,isMac:function(){return P===null&&(P=0<=navigator.platform.toUpperCase().indexOf("MAC")),P},getIOSVersion:function(){if(T()){var j=navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)||navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/);return j&&j.length&&Math.abs(j[0].split("_")[0].replace("OS ",""))||NaN}return NaN},getSafariVersion:function(){var j=navigator.userAgent;if(j.indexOf("Safari")!==-1){var H=j.match(/Version\/(\d+\.\d+)/);if(H)return parseInt(H[1])}return null},isAndroid:L,isBlackberry:B,isWindowsPhone:G,isMobile:function(){return L()||T()||B()},isEmail:function(j){return!/^(https?:|ftps?:|)\/\//i.test(j)&&xe.MAIL_REGEX.test(j)},requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(j){window.setTimeout(j,1e3/60)}},getPX:function(j){return parseInt(j,10)||0},screenSize:function(j){try{var H=0;if((H=j?a.$box.width():a.$sc.width())<768)return xe.XS;if(768<=H&&H<992)return xe.SM;if(992<=H&&H<1200)return xe.MD;if(1200<=H)return xe.LG}catch{return xe.LG}},isTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch},sanitizeURL:function(j){if(a.opts.DOMPurify){var H={ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx):|[^a-z]|[a-z+.]+(?:[^a-z+.\-:]|$))/i};a.opts.htmlAllowedTags.length===1&&a.opts.htmlAllowedTags[0]===".*"||(H.ALLOWED_TAGS=a.opts.htmlAllowedTags),a.opts.htmlAllowedAttrs.length===1&&a.opts.htmlAllowedAttrs[0]===".*"||(H.ALLOWED_ATTR=a.opts.htmlAllowedAttrs),j=a.opts.DOMPurify.sanitize(j,H)}return j=j.replace(/(["'/]|\s+)on\w+=(?:"[^"]*"|'[^']*'|[^>\s]+)/gi,""),/^(https?:|ftps?:|)\/\//i.test(j)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(j)||new RegExp("^(".concat(xe.LinkProtocols.join("|"),"):"),"i").test(j)?j:j=encodeURIComponent(j).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/%3A(\d)/gi,":$1").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}").replace(/%[0-1]+[0-9]+|%[0-1]+[A-F]+/g,"")},isArray:function(j){return j&&!Object.prototype.propertyIsEnumerable.call(j,"length")&&un(j)==="object"&&typeof j.length=="number"},RGBToHex:function(j){function H(w){return"0".concat(parseInt(w,10).toString(16)).slice(-2)}try{if(!j||j==="transparent")return"";if(/^#[0-9A-F]{6}$/i.test(j)||/^#[0-9A-F]{8}$/i.test(j))return j.toUpperCase();var ee=j.match(/^rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)$/i);if(ee)return"#".concat(H(ee[1])).concat(H(ee[2])).concat(H(ee[3])).toUpperCase();if(ee=j.match(/^rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d*\.?\d+)\s*\)$/i))return"#".concat(H(ee[1])).concat(H(ee[2])).concat(H(ee[3])).concat(H(Math.round(255*parseFloat(ee[4])))).toUpperCase()}catch{return null}},HEXtoRGB:function(j){if(j=j.replace(/^#/,""),/^rgba?\(\d+,\s*\d+,\s*\d+(,\s*(0|1|0?\.\d+))?\)$/i.test(j))return j;if(j.length!==3&&j.length!==4||(j=j.split("").map(function(re){return re+re}).join("")),j.length===6){var H=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);return H?"rgb(".concat(parseInt(H[1],16),", ").concat(parseInt(H[2],16),", ").concat(parseInt(H[3],16),")"):""}if(j.length===8){var ee=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);if(ee){var w=parseInt(ee[1],16),he=parseInt(ee[2],16),be=parseInt(ee[3],16),se=parseInt(ee[4],16)/255;return"rgba(".concat(w,", ").concat(he,", ").concat(be,", ").concat(se.toFixed(2),")")}}return""},isURL:function(j){return!!/^(https?:|ftps?:|)\/\//i.test(j)&&(j=String(j).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20"),new RegExp("^".concat(xe.LinkRegExHTTP).concat(xe.LinkRegExEnd,"$"),"gi").test(j))},getAlignment:function(j){j.css||(j=N(j));var H=(j.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(H)<0){if(!f){var ee=N('<div dir="'.concat(a.opts.direction==="rtl"?"rtl":"auto",'" style="text-align: ').concat(a.$el.css("text-align"),'; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>'));N("body").first().append(ee);var w=ee.find("#s1").get(0).getBoundingClientRect().left,he=ee.find("#s2").get(0).getBoundingClientRect().left;ee.remove(),f=w<he?"left":"right"}H=f}return H},scrollTop:function(){return a.o_win.pageYOffset?a.o_win.pageYOffset:a.o_doc.documentElement&&a.o_doc.documentElement.scrollTop?a.o_doc.documentElement.scrollTop:a.o_doc.body.scrollTop?a.o_doc.body.scrollTop:0},scrollLeft:function(){return a.o_win.pageXOffset?a.o_win.pageXOffset:a.o_doc.documentElement&&a.o_doc.documentElement.scrollLeft?a.o_doc.documentElement.scrollLeft:a.o_doc.body.scrollLeft?a.o_doc.body.scrollLeft:0},isInViewPort:function(j){var H=j.getBoundingClientRect();return 0<=(H={top:Math.round(H.top),bottom:Math.round(H.bottom)}).top&&H.bottom<=(window.innerHeight||document.documentElement.clientHeight)||H.top<=0&&H.bottom>=(window.innerHeight||document.documentElement.clientHeight)},isValidHexColor:function(j){return/^#([0-9A-F]{3}|[0-9A-F]{6})$/i.test(j)},isRGBColor:function(j){return/^rgba?\(\d+,\s*\d+,\s*\d+(,\s*\d+\.?\d*)?\)$/i.test(j)}}},xe.MODULES.events=function(a){var f,N=a.$,O={};function T(K,R,A){se(K,R,A)}function L(K){if(K.originalEvent&&K.originalEvent.inputType==="insertReplacementText"){var R=a.selection.get();if(!R||R.rangeCount===0)return;for(var A=R.getRangeAt(0),J=A.startContainer,V=A.startOffset,q=A.endContainer,ae=A.endOffset;J;){for(var Le=J.textContent,Ee=V-1;0<=Ee&&P(Le[Ee]);)Ee--;if(Ee<=V-1){V=Ee+1;break}V=(J=B(J))?J.textContent.length:0}for(;q;){for(var we=q.textContent,Ne=ae;Ne<we.length&&P(we[Ne]);)Ne++;if(ae<=Ne&&(Ne<we.length||!J.isSameNode(q))){ae=Ne;break}q=G(q),ae=0}if(J&&q){var We=document.createRange();We.setStart(J,V),We.setEnd(q,ae),R.removeAllRanges(),R.addRange(We)}}}function B(K){for(;K;)if((!(K=K.previousSibling)||!N(K).hasClass("fr-marker"))&&K&&K.nodeType===Node.TEXT_NODE&&K.textContent.trim())return K;return null}function G(K){for(;K;)if((!(K=K.nextSibling)||!N(K).hasClass("fr-marker"))&&K&&K.nodeType===Node.TEXT_NODE&&K.textContent.trim())return K;return null}function P(K){return/\w/.test(K)}function F(K){if(K===void 0&&(K=!0),!a.$wp||(a.helpers.isIOS()&&a.$win.get(0).focus(),a.core.hasFocus()))return!1;if(!a.core.hasFocus()&&K){var R=a.$win.scrollTop();if(a.browser.msie&&a.$box&&a.$box.css("position","fixed"),a.browser.msie&&a.$wp&&a.$wp.css("overflow","visible"),a.browser.msie&&a.$sc&&a.$sc.css("position","fixed"),a.browser.msie||(ee(),a.el.focus(),a.events.trigger("focus"),H()),a.browser.msie&&a.$sc&&a.$sc.css("position",""),a.browser.msie&&a.$box&&a.$box.css("position",""),a.browser.msie&&a.$wp&&a.$wp.css("overflow","auto"),R!==a.$win.scrollTop()&&a.$win.scrollTop(R),!a.selection.info(a.el).atStart)return!1}if(!a.core.hasFocus()||0<a.$el.find(".fr-marker").length)return!1;if(a.selection.info(a.el).atStart&&a.selection.isCollapsed()&&a.html.defaultTag()!==null){var A=a.markers.insert();if(A&&!a.node.blockParent(A)){N(A).remove();var J=a.$el.find(a.html.blockTagsQuery()).get(0);J&&(N(J).prepend(xe.MARKERS),a.selection.restore())}else A&&N(A).remove()}}var j=!1;function H(){f=!0}function ee(){f=!1}function w(){return f}function he(K,R,A){var J,V=K.split(" ");if(1<V.length){for(var q=0;q<V.length;q++)he(V[q],R,A);return!0}A===void 0&&(A=!1),J=K.indexOf("shared.")!==0?(O[K]=O[K]||[],O[K]):(a.shared._events[K]=a.shared._events[K]||[],a.shared._events[K]),A?J.unshift(R):J.push(R)}var be=[];function se(K,R,A,J,V){typeof A=="function"&&(V=J,J=A,A=!1);var q=V?a.shared.$_events:be,ae=V?a.sid:a.id,Le="".concat(R.trim().split(" ").join(".ed".concat(ae," ")),".ed").concat(ae);A?K.on(Le,A,J):K.on(Le,J),q.push([K,Le])}function re(K){for(var R=0;R<K.length;R++)K[R][0].off(K[R][1])}function ie(K,R,A){if(!a.edit.isDisabled()||A){var J,V;if(K.indexOf("shared.")!==0)J=O[K];else{if(0<a.shared.count)return!1;J=a.shared._events[K]}if(J){for(var q=0;q<J.length;q++)if((V=J[q].apply(a,R))===!1)return!1}return(!a.opts.events||!a.opts.events[K]||(V=a.opts.events[K].apply(a,R))!==!1)&&V}}function M(){for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&delete O[K]}function W(){for(var K in a.shared._events)Object.prototype.hasOwnProperty.call(a.shared._events,K)&&delete a.shared._events[K]}return{_init:function(){a.shared.$_events=a.shared.$_events||[],a.shared._events={},function(){a.helpers.isMobile()?(a._mousedown="touchstart",a._mouseup="touchend",a._move="touchmove",a._mousemove="touchmove"):(a._mousedown="mousedown",a._mouseup="mouseup",a._move="",a._mousemove="mousemove")}(),function(){T(a.$el,"click mouseup mousemove mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(A){ie(A.type,[A])}),he("mousedown",function(){for(var A=0;A<xe.INSTANCES.length;A++)xe.INSTANCES[A]!==a&&xe.INSTANCES[A].popups&&xe.INSTANCES[A].popups.areVisible()&&xe.INSTANCES[A].$el.find(".fr-marker").remove()})}(),function(){T(a.$win,a._mousedown,function(A){ie("window.mousedown",[A]),H()}),T(a.$win,a._mouseup,function(A){ie("window.mouseup",[A])}),T(a.$win,"beforeinput cut copy keydown keyup touchmove touchend",function(A){ie("window.".concat(A.type),[A])})}(),function(){T(a.$doc,"dragend drop",function(A){ie("document.".concat(A.type),[A])})}(),function(){T(a.$el,"beforeinput keydown keypress keyup input",function(A){ie(A.type,[A])})}(),function(){T(a.$el,"focus",function(A){w()&&(F(!1),j===!1&&(ie(A.type,[A]),a.helpers.isMobile()&&ee()))}),T(a.$el,"blur",function(A){w()&&j===!0&&(ie(A.type,[A]),a.helpers.isMobile()&&a.opts.toolbarContainer&&(a.shared.selected_editor=a.id),H())}),se(a.$el,"mousedown",'[contenteditable="true"]',function(){ee(),a.$el.blur()}),he("focus",function(){j=!0}),he("blur",function(){j=!1})}(),H(),function(){T(a.$el,"cut copy paste beforepaste",function(A){ie(A.type,[A])})}(),he("destroy",M),he("shared.destroy",W),he("beforeinput",L)},on:he,trigger:ie,bindClick:function(R,A,J){se(R,a._mousedown,A,function(V){a.edit.isDisabled()||function(ae){var Le=N(ae.currentTarget);return a.edit.isDisabled()||a.node.hasClass(Le.get(0),"fr-disabled")?(ae.preventDefault(),!1):ae.type==="mousedown"&&ae.which!==1||(a.helpers.isMobile()||ae.preventDefault(),(a.helpers.isAndroid()||a.helpers.isWindowsPhone())&&Le.parents(".fr-dropdown-menu").length===0&&(ae.preventDefault(),ae.stopPropagation()),Le.addClass("fr-selected"),void a.events.trigger("commands.mousedown",[Le]))}(V)},!0),se(R,"".concat(a._mouseup," ").concat(a._move),A,function(V){a.edit.isDisabled()||(a.helpers.isIOS()&&a.selection.get().focusNode!==null&&a.selection.save(),function(ae,Le){var Ee=N(ae.currentTarget);if(a.edit.isDisabled()||a.node.hasClass(Ee.get(0),"fr-disabled"))return ae.preventDefault(),!1;if(ae.type==="mouseup"&&ae.which!==1||a.button.getButtons(".fr-selected",!0).get(0)==Ee.get(0)&&!a.node.hasClass(Ee.get(0),"fr-selected"))return!0;if(ae.type!=="touchmove"){if(ae.stopPropagation(),ae.stopImmediatePropagation(),ae.preventDefault(),!a.node.hasClass(Ee.get(0),"fr-selected"))return a.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),!1;if(a.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),Ee.data("dragging")||Ee.attr("disabled"))return Ee.removeData("dragging"),!1;var we=Ee.data("timeout");we&&(clearTimeout(we),Ee.removeData("timeout")),Le.apply(a,[ae])}else Ee.data("timeout")||Ee.data("timeout",setTimeout(function(){Ee.data("dragging",!0)},100))}(V,J))},!0),se(R,"mousedown click mouseup",A,function(V){a.edit.isDisabled()||V.stopPropagation()},!0),he("window.mouseup",function(){a.edit.isDisabled()||(R.find(A).removeClass("fr-selected"),H())}),se(R,"mouseover",A,function(){N(this).hasClass("fr-options")&&N(this).prev(".fr-btn").addClass("fr-btn-hover"),N(this).next(".fr-btn").hasClass("fr-options")&&N(this).next(".fr-btn").addClass("fr-btn-hover")}),se(R,"mouseout",A,function(){N(this).hasClass("fr-options")&&N(this).prev(".fr-btn").removeClass("fr-btn-hover"),N(this).next(".fr-btn").hasClass("fr-options")&&N(this).next(".fr-btn").removeClass("fr-btn-hover")})},disableBlur:ee,enableBlur:H,blurActive:w,focus:F,chainTrigger:function(R,A,J){if(!a.edit.isDisabled()||J){var V,q;if(R.indexOf("shared.")!==0)V=O[R];else{if(0<a.shared.count)return!1;V=a.shared._events[R]}if(V)for(var ae=0;ae<V.length;ae++)(q=V[ae].apply(a,[A]))!==void 0&&(A=q);return a.opts.events&&a.opts.events[R]&&(q=a.opts.events[R].apply(a,[A]))!==void 0&&(A=q),A}},$on:se,$off:function(){re(be),be=[],a.shared.count===0&&(re(a.shared.$_events),a.shared.$_events=[])}}},Object.assign(xe.DEFAULTS,{indentMargin:20}),xe.COMMANDS={bold:{title:"Bold",toggle:!0,refresh:function(a){var f=this.format.is("strong");a.toggleClass("fr-active",f).attr("aria-pressed",f)}},italic:{title:"Italic",toggle:!0,refresh:function(a){var f=this.format.is("em");a.toggleClass("fr-active",f).attr("aria-pressed",f)}},underline:{title:"Underline",toggle:!0,refresh:function(a){var f=this.format.is("u");a.toggleClass("fr-active",f).attr("aria-pressed",f)}},strikeThrough:{title:"Strikethrough",toggle:!0,refresh:function(a){var f=this.format.is("s");a.toggleClass("fr-active",f).attr("aria-pressed",f)}},subscript:{title:"Subscript",toggle:!0,refresh:function(a){var f=this.format.is("sub");a.toggleClass("fr-active",f).attr("aria-pressed",f)}},superscript:{title:"Superscript",toggle:!0,refresh:function(a){var f=this.format.is("sup");a.toggleClass("fr-active",f).attr("aria-pressed",f)}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1},moreText:{title:"More Text",undo:!1},moreParagraph:{title:"More Paragraph",undo:!1},moreRich:{title:"More Rich",undo:!1},moreMisc:{title:"More Misc",undo:!1}},xe.RegisterCommand=function(a,f){xe.COMMANDS[a]=f},xe.MODULES.commands=function(a){var f=a.$;function N(H){return a.html.defaultTag()&&(H="<".concat(a.html.defaultTag(),">").concat(H,"</").concat(a.html.defaultTag(),">")),H}var O={bold:function(){B("bold","strong")},subscript:function(){a.format.is("sup")&&a.format.remove("sup"),B("subscript","sub")},superscript:function(){a.format.is("sub")&&a.format.remove("sub"),B("superscript","sup")},italic:function(){B("italic","em")},strikeThrough:function(){B("strikeThrough","s")},underline:function(){B("underline","u")},undo:function(){a.undo.run()},redo:function(){a.undo.redo()},indent:function(){G(1)},outdent:function(){G(-1)},show:function(){a.opts.toolbarInline&&a.toolbar.showInline(null,!0)},insertHR:function(){a.selection.remove();var H="";a.core.isEmpty()&&(H=N(H="<br>"));var ee='<hr id="fr-just" class="fr-just">'.concat(H);a.opts.trackChangesEnabled&&(ee=a.track_changes.wrapInTracking(f(ee),"hrWrapper").get(0).outerHTML),a.html.insert(ee);var w,he=a.$el.find("hr#fr-just").length?a.$el.find("hr#fr-just"):a.$el.find(".fr-just");he.removeAttr("id"),he.removeAttr("class");var be=a.opts.trackChangesEnabled&&he[0].parentNode.tagName==="SPAN"&&he[0].parentNode.parentNode.tagName==="P";if(he.next().length===0){var se=a.html.defaultTag();se&&!be?he.after(f(a.doc.createElement(se)).append("<br>").get(0)):be?he[0].parentNode.after(f(a.doc.createElement(se)).append("<br>").get(0)):he.after("<br>")}he.prev().is("hr")?w=a.selection.setAfter(he.get(0),!1):he.next().is("hr")?w=a.selection.setBefore(he.get(0),!1):be||a.selection.setAfter(he.get(0),!1)?a.selection.setAfter(he[0].parentNode,!1):a.selection.setBefore(he.get(0),!1),w||w===void 0||(H=N(H="".concat(xe.MARKERS,"<br>")),he.after(H)),a.selection.restore()},clearFormatting:function(){a.format.remove()},selectAll:function(){a.doc.execCommand("selectAll",!1,!1),function(){var ee=null,w=null,he=null,be=null,se=a.opts.iframe===!0,re=f(".fr-iframe")[0],ie=se?f(re.contentWindow.document.body):a.$el;if(se&&re){var M=re.contentWindow;he=M.document.createRange.bind(M.document),be=M.getSelection()}else he=document.createRange.bind(document),be=window.getSelection();if(a.selection.isCollapsed()){be.removeAllRanges();var W=ie.contents();if(ee=W.first()[0],w=W.last()[0],ee&&w){var K=he();K.setStart(ee,0),K.setEnd(w,w.nodeType===Node.TEXT_NODE?w.textContent.length:w.childNodes.length),be.addRange(K),a.selection.save()}}}()},moreText:function(H){T(H)},moreParagraph:function(H){T(H)},moreRich:function(H){T(H)},moreMisc:function(H){T(H)},moreTrackChanges:function(){T("trackChanges")}};function T(H){var ee=a.$tb.find("[data-cmd=".concat(H,"]")),w=a.$tb.find("[data-cmd=html]");a.opts.trackChangesEnabled||a.markdown&&a.markdown.isEnabled()?w&&w.addClass("fr-disabled"):w&&w.removeClass("fr-disabled"),function(be){a.helpers.isMobile()&&a.opts.toolbarInline&&a.events.disableBlur();var se=a.$tb.find('.fr-more-toolbar[data-name="'.concat(be.attr("data-group-name"),'"]'));if(be.data("cmd")==="trackChanges"&&(se=a.$tb.find('.fr-more-toolbar[data-name="'.concat(be.attr("id"),'"]'))),a.$tb.find(".fr-open").not(be).not('[data-cmd="trackChanges"]').removeClass("fr-open").attr("aria-expanded",!1),be.toggleClass("fr-open"),be.attr("aria-expanded",be.hasClass("fr-open")),a.$tb.find(".fr-more-toolbar").removeClass("fr-overflow-visible"),a.$tb.find(".fr-expanded").not(se).length){var re=a.$tb.find(".fr-expanded").not(se);re.each(function(ie,M){f(M).data("name").indexOf("trackChanges-")!=0&&f(M).data("name").indexOf("moreRich-")!=0?f(M).toggleClass("fr-expanded"):be.parents('[data-name^="moreRich-"]').length||f(M).data("name").indexOf("trackChanges-")==0||f(M).find('[id^="trackChanges-"]').length&&a.opts.trackChangesEnabled||f(M).toggleClass("fr-expanded")}),se.toggleClass("fr-expanded")}else se.toggleClass("fr-expanded"),a.$box.toggleClass("fr-toolbar-open"),a.$tb.toggleClass("fr-toolbar-open")}(ee),a.toolbar.setMoreToolbarsHeight()}function L(H,ee){if(!(a.markdown&&a.markdown.isEnabled()&&(H==="bold"||H==="italic"||H==="underline")||a.opts.trackChangesEnabled&&H==="markdown")&&a.events.trigger("commands.before",f.merge([H],ee||[]))!==!1){var w=xe.COMMANDS[H]&&xe.COMMANDS[H].callback||O[H],he=!0,be=!1;if(xe.COMMANDS[H]&&(typeof xe.COMMANDS[H].focus<"u"&&(he=xe.COMMANDS[H].focus),typeof xe.COMMANDS[H].accessibilityFocus<"u"&&(be=xe.COMMANDS[H].accessibilityFocus)),!a.core.hasFocus()&&he||!a.core.hasFocus()&&be&&a.accessibility.hasFocus()){var se=a.selection.ranges()[0];a.opts.allowStylingOnNonEditable&&se&&f(se.startContainer).parentsUntil(a.$el,'[contenteditable="false"]').length&&a.selection.save(),a.el.focus({preventScroll:!0}),a.events.trigger("focus")}xe.COMMANDS[H]&&xe.COMMANDS[H].undo!==!1&&(a.$el.find(".fr-marker").length&&(a.events.disableBlur(),a.selection.restore()),a.undo.saveStep()),w&&w.apply(a,f.merge([H],ee||[])),a.events.trigger("commands.after",f.merge([H],ee||[])),xe.COMMANDS[H]&&xe.COMMANDS[H].undo!==!1&&a.undo.saveStep()}}function B(H,ee){a.format.toggle(ee)}function G(H){a.selection.save(),a.html.wrap(!0,!0,!0,!0),a.selection.restore();for(var ee=a.selection.blocks(),w=0;w<ee.length;w++)if(ee[w].tagName!=="LI"&&ee[w].parentNode.tagName!="LI"&&(ee[w].tagName!=="LI"||ee[w].parentNode.tagName!=="LI")){var he=f(ee[w]);ee[w].tagName!="LI"&&ee[w].parentNode.tagName=="LI"&&(he=f(ee[w].parentNode));var be=a.opts.direction==="rtl"||he.css("direction")==="rtl"?"margin-right":"margin-left",se=a.helpers.getPX(he.css(be)),re=a.helpers.getPX(he.css("text-indent"));if(he.width()<2*a.opts.indentMargin&&0<H||se+re<=0&&H<0)continue;ee[w].parentNode.tagName!="UL"&&ee[w].parentNode.tagName!="OL"&&ee[w].parentNode.tagName!="LI"&&he.css(be,Math.max(se+H*a.opts.indentMargin,0)||""),he.removeClass("fr-temp-div")}a.selection.save(),a.html.unwrap(),a.selection.restore()}function P(H){return function(){L(H)}}var F={};for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(F[j]=P(j));return Object.assign(F,{exec:L,_init:function(){a.events.on("keydown",function(ee){var w=a.selection.element();if((ee.ctrlKey||ee.metaKey)&&ee.key==="a"&&(ee.preventDefault(),L("selectAll")),w&&w.tagName==="HR"&&!a.keys.isArrow(ee.which))return ee.preventDefault(),!1}),a.events.on("keyup",function(ee){var w=a.selection.element();if(w&&w.tagName==="HR"){if(ee.which===xe.KEYCODE.ARROW_LEFT||ee.which===xe.KEYCODE.ARROW_UP){if(w.previousSibling)return a.node.isBlock(w.previousSibling)?a.selection.setAtEnd(w.previousSibling):f(w).before(xe.MARKERS),a.selection.restore(),!1}else if((ee.which===xe.KEYCODE.ARROW_RIGHT||ee.which===xe.KEYCODE.ARROW_DOWN)&&w.nextSibling)return a.node.isBlock(w.nextSibling)?a.selection.setAtStart(w.nextSibling):f(w).after(xe.MARKERS),a.selection.restore(),!1}}),a.events.on("mousedown",function(ee){if(ee.target&&ee.target.tagName==="HR")return ee.preventDefault(),ee.stopPropagation(),!1}),a.events.on("mouseup",function(){var ee=a.selection.element();ee===a.selection.endElement()&&ee&&ee.tagName==="HR"&&(ee.nextSibling&&(a.node.isBlock(ee.nextSibling)?a.selection.setAtStart(ee.nextSibling):f(ee).after(xe.MARKERS)),a.selection.restore())})}})},xe.MODULES.cursorLists=function(a){var f=a.$;function N(L){for(var B=L;B.tagName!=="LI";)B=B.parentNode;return B}function O(L){for(var B=L;!a.node.isList(B);)B=B.parentNode;return B}function T(L){for(var B="",G=0;G<L.length;G++){var P=L[G];B+="".concat(P.name,"='").concat(P.value,"' ")}return B}return{_startEnter:function(B){var G,P=N(B),F=P.nextSibling,j=P.previousSibling,H=a.html.defaultTag();if(a.node.isEmpty(P,!0)&&F){for(var ee="",w="",he=B.parentNode;!a.node.isList(he)&&he.parentNode&&(he.parentNode.tagName!=="LI"||he.parentNode===P);)-1<["OL","LI","UL"].indexOf(he.tagName)&&(ee=a.node.openTagString(he)+ee,w+=a.node.closeTagString(he)),he=he.parentNode;ee=a.node.openTagString(he)+ee,w+=a.node.closeTagString(he);var be="";if(he.parentNode&&he.parentNode.tagName==="LI")if(he.parentNode.attributes.length){var se=T(he.parentNode.attributes);be="".concat(w,"<li ").concat(se,">").concat(xe.MARKERS,"<br>").concat(ee)}else be="".concat(w,"<li>").concat(xe.MARKERS,"<br>").concat(ee);else be=H?"".concat(w,"<").concat(H,">").concat(xe.MARKERS,"<br></").concat(H,">").concat(ee):"".concat(w+xe.MARKERS,"<br>").concat(ee);for(;["UL","OL"].indexOf(he.tagName)<0||he.parentNode&&he.parentNode.tagName==="LI";)he=he.parentNode;f(P).replaceWith('<span id="fr-break"></span>');var re=a.node.openTagString(he)+f(he).html()+a.node.closeTagString(he);re=re.replace(/<span id="fr-break"><\/span>/g,be),f(he).replaceWith(re),a.$el.find("li:empty").remove(),a.$el.find("li > p > span:empty").length&&a.$el.find("li > p > span:empty")[0].parentNode.parentNode.remove()}else if(j&&F||!a.node.isEmpty(P,!0)){var ie="<br>",M=B.parentNode;for(M&&M.tagName==="A"&&(M=null);M&&M.tagName!=="LI";)ie=a.node.openTagString(M)+ie+a.node.closeTagString(M),M=M.parentNode;if(M&&M.attributes.length){var W=T(M.attributes);f(P).before("<li ".concat(W,">").concat(ie,"</li>"))}else f(P).before("<li>".concat(ie,"</li>"));f(B).remove()}else if(j){G=O(P);for(var K="".concat(xe.MARKERS,"<br>"),R=B.parentNode;R&&R.tagName!=="LI";)K=a.node.openTagString(R)+K+a.node.closeTagString(R),R=R.parentNode;if(G.parentNode&&G.parentNode.tagName==="LI")if(G.parentNode.attributes.length){var A=T(G.parentNode.attributes);f(G.parentNode).after("<li ".concat(A,">").concat(K,"</li>"))}else f(G.parentNode).after("<li>".concat(K,"</li>"));else H?f(G).after("<".concat(H,">").concat(K,"</").concat(H,">")):f(G).after(K);f(P).remove()}else(G=O(P)).parentNode&&G.parentNode.tagName==="LI"?F?f(G.parentNode).before("".concat(a.node.openTagString(P)+xe.MARKERS,"<br></li>")):f(G.parentNode).after("".concat(a.node.openTagString(P)+xe.MARKERS,"<br></li>")):H?f(G).before("<".concat(H,">").concat(xe.MARKERS,"<br></").concat(H,">")):f(G).before("".concat(xe.MARKERS,"<br>")),f(P).remove()},_middleEnter:function(B){for(var G=N(B),P="",F=B,j="",H="",ee=!1;F!==G;){var w=(F=F.parentNode).tagName==="A"&&a.cursor.isAtEnd(B,F)?"fr-to-remove":"";ee||F==G||a.node.isBlock(F)||(ee=!0,j+=xe.INVISIBLE_SPACE),j=a.node.openTagString(f(F).clone().addClass(w).get(0))+j,H+=a.node.closeTagString(F)}P=H+P+j+xe.MARKERS+(a.opts.keepFormatOnDelete?xe.INVISIBLE_SPACE:""),f(B).replaceWith('<span id="fr-break"></span>');var he=a.node.openTagString(G)+f(G).html()+a.node.closeTagString(G);he=he.replace(/<span id="fr-break"><\/span>/g,P),f(G).replaceWith(he)},_endEnter:function(B){for(var G=N(B),P=xe.MARKERS,F="",j=B,H=!1;j!==G;)if(!(j=j.parentNode).classList.contains("fr-img-space-wrap")&&!j.classList.contains("fr-img-space-wrap2")){var ee=j.tagName==="A"&&a.cursor.isAtEnd(B,j)?"fr-to-remove":"";H||j===G||a.node.isBlock(j)||(H=!0,F+=xe.INVISIBLE_SPACE),F=a.node.openTagString(f(j).clone().addClass(ee).get(0))+F,P+=a.node.closeTagString(j)}var w=F+P;f(B).remove(),f(G).after(w)},_backspace:function(B){var G=N(B),P=G.previousSibling;if(P){var F=f(P).children().last(),j=F[0]&&F[0].tagName?F[0].tagName:"",H=j==="P",ee=0<f(P).find("table").length;["TABLE","TBODY","TR","TD","TH"].includes(j)||ee&&H||(P=f(P).find(a.html.blockTagsQuery()).get(-1)||P),f(B).replaceWith(xe.MARKERS);var w=a.node.contents(P);w.length&&w[w.length-1].tagName==="BR"&&f(w[w.length-1]).remove(),f(G).find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===G&&f(this).replaceWith(f(this).html()+(a.node.isEmpty(this)?"":"<br>"))});for(var he,be=a.node.contents(G)[0];be&&!a.node.isList(be);)he=be.nextSibling,f(P).append(be),be=he;for(P=G.previousSibling;be;)he=be.nextSibling,f(P).append(be),be=he;1<(w=a.node.contents(P)).length&&w[w.length-1].tagName==="BR"&&f(w[w.length-1]).remove(),f(G).remove()}else{var se=O(G);if(f(B).replaceWith(xe.MARKERS),se.parentNode&&se.parentNode.tagName==="LI"){var re=se.previousSibling;a.node.isBlock(re)?(f(G).find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===G&&f(this).replaceWith(f(this).html()+(a.node.isEmpty(this)?"":"<br>"))}),f(re).append(f(G).html())):f(se).before(f(G).html())}else{var ie=a.html.defaultTag();ie&&f(G).find(a.html.blockTagsQuery()).length===0?f(se).before("<".concat(ie,">").concat(f(G).html(),"</").concat(ie,">")):f(se).before(f(G).html())}f(G).remove(),a.html.wrap(),f(se).find("li").length===0&&f(se).remove()}},_del:function(B){var G,P=N(B),F=P.nextSibling;if(F){(G=a.node.contents(F)).length&&G[0].tagName==="BR"&&f(G[0]).remove(),f(F).find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===F&&f(this).replaceWith(f(this).html()+(a.node.isEmpty(this)?"":"<br>"))});for(var j,H=B,ee=a.node.contents(F)[0];ee&&!a.node.isList(ee);)j=ee.nextSibling,f(H).after(ee),H=ee,ee=j;for(;ee;)j=ee.nextSibling,f(P).append(ee),ee=j;f(B).replaceWith(xe.MARKERS),f(F).remove()}else{for(var w=P;!w.nextSibling&&w!==a.el;)w=w.parentNode;if(w===a.el)return!1;if(w=w.nextSibling,a.node.isBlock(w)){if(xe.NO_DELETE_TAGS.indexOf(w.tagName)<0){if(f(B).replaceWith(xe.MARKERS),(G=a.node.contents(P)).length&&G[G.length-1].tagName==="BR"&&f(G[G.length-1]).remove(),w.isContentEditable&&w.tagName==="DIV"&&(!a.node.isBlock(w.previousSibling)||w.previousSibling.tagName==="DIV"))return;f(P).append(f(w).html()),f(w).remove()}}else{for((G=a.node.contents(P)).length&&G[G.length-1].tagName==="BR"&&f(G[G.length-1]).remove(),f(B).replaceWith(xe.MARKERS);w&&!a.node.isBlock(w)&&w.tagName!=="BR";)f(P).append(f(w)),w=w.nextSibling;f(w).remove()}}}}},xe.NO_DELETE_TAGS=["TH","TD","TR","TABLE","FORM"],xe.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],xe.MODULES.cursor=function(a){var f=a.$,N=function(ie){var M=null;ie&&ie.nodeType===Node.TEXT_NODE&&ie.nodeValue.trim()&&(M=ie);var W=function(K){f(K).contents().each(function(){this.nodeType===Node.TEXT_NODE&&this.nodeValue.trim()?M=this:this.nodeType===Node.ELEMENT_NODE&&W(this)})};return W(ie),M};function O(re){return!!re&&(a.node.isBlock(re)?re.tagName!=="P"||!re.nextElementSibling||!re.parentElement||re.nextElementSibling.tagName!=="OL"||re.parentElement.tagName!=="LI":re.nextSibling&&re.nextSibling.nodeType===Node.TEXT_NODE&&re.nextSibling.textContent.replace(/\u200b/g,"").length===0?O(re.nextSibling):!(re.nextSibling&&(!re.previousSibling||re.nextSibling.tagName!=="BR"||re.nextSibling.nextSibling))&&O(re.parentNode))}function T(re){return!!re&&(!!a.node.isBlock(re)||(re.previousSibling&&re.previousSibling.nodeType===Node.TEXT_NODE&&re.previousSibling.textContent.replace(/\u200b/g,"").length===0?T(re.previousSibling):!re.previousSibling&&(!(re.previousSibling||!a.node.hasClass(re.parentNode,"fr-inner"))||T(re.parentNode))))}function L(re,ie){return!!re&&re!==a.$wp.get(0)&&(re.previousSibling&&re.previousSibling.nodeType===Node.TEXT_NODE&&re.previousSibling.textContent.replace(/\u200b/g,"").length===0?L(re.previousSibling,ie):!re.previousSibling&&(re.parentNode===ie||L(re.parentNode,ie)))}function B(re,ie){return!!re&&re!==a.$wp.get(0)&&(re.nextSibling&&re.nextSibling.nodeType===Node.TEXT_NODE&&re.nextSibling.textContent.replace(/\u200b/g,"").length===0?B(re.nextSibling,ie):!(re.nextSibling&&(!re.previousSibling||re.nextSibling.tagName!=="BR"||re.nextSibling.nextSibling))&&(re.parentNode===ie||B(re.parentNode,ie)))}function G(re){return 0<f(re).parentsUntil(a.$el,"LI").length&&f(re).parentsUntil("LI","TABLE").length===0}function P(re,ie){var M=new RegExp("".concat(ie?"^":"","(([\\uD83C-\\uDBFF\\uDC00-\\uDFFF]+\\u200D)*[\\uD83C-\\uDBFF\\uDC00-\\uDFFF]{2})").concat(ie?"":"$"),"i"),W=re.match(M);return W?W[0].length:1}function F(re){for(var ie,M=re;!M.previousSibling;)if(M=M.parentNode,a.node.isElement(M))return!1;M=M.previousSibling;var W=a.opts.htmlAllowedEmptyTags,K=M.tagName&&M.tagName.toLowerCase();if((!a.node.isBlock(M)||M.lastChild&&K&&0<=W.indexOf(K))&&a.node.isEditable(M)){for(ie=a.node.contents(M);M.nodeType!==Node.TEXT_NODE&&!a.node.isDeletable(M)&&ie.length&&a.node.isEditable(M);)M=ie[ie.length-1],ie=a.node.contents(M);if(M.nodeType===Node.TEXT_NODE){var R=M.textContent,A=R.length;if(R.length&&R[R.length-1]===`
`)return M.textContent=R.substring(0,A-2),M.textContent.length===0&&M.parentNode.removeChild(M),F(re);if(a.opts.tabSpaces&&R.length>=a.opts.tabSpaces||a.opts.preserveTabSpaces&&4<=R.length){var J=a.opts.tabSpaces?a.opts.tabSpaces:4;R.substr(R.length-J,R.length-1).replace(/ /g,"").replace(new RegExp(xe.UNICODE_NBSP,"g"),"").length===0&&(A=R.length-J+1)}M.textContent=R.substring(0,A-P(R));var V=M.textContent;(a.opts.enter===xe.ENTER_BR&&0<V.length&&V.charAt(V.length-1)===" "||V.length===0&&re.previousSibling&&re.previousSibling.nodeType===Node.TEXT_NODE&&re.parentNode.tagName!=="TD"&&re.parentNode.tagName!=="LI"&&R!=="")&&(a.node.isBlock(f(re).parentsUntil(a.el).last().get(0))&&re.insertAdjacentHTML("beforebegin",xe.MARKERS),re.insertAdjacentHTML("beforebegin",xe.INVISIBLE_SPACE),M=M.nextSibling),a.opts.trackChangesEnabled&&M.textContent.length===0&&f(M.parentElement).data("tracking")&&f(M.parentElement).find("[data-tracking-deleted=true]").length===0&&(f(re).insertBefore(M.parentElement),f(M.parentElement).remove(),M=f(re)[0].previousSibling),a.opts.htmlUntouched&&!re.nextSibling&&M.textContent.length&&M.textContent[M.textContent.length-1]===" "&&(M.textContent=M.textContent.substring(0,M.textContent.length-1)+xe.UNICODE_NBSP);var q=R.length!==M.textContent.length;if(a.opts.enter!==xe.ENTER_BR&&M&&M.previousSibling&&M.previousSibling.previousSibling&&M.previousSibling.previousSibling.tagName==="BR"&&M.textContent.length===0&&M.previousSibling.previousSibling.remove(),M.textContent.length===0&&M.parentNode.tagName==="LI"&&M.previousSibling&&M.previousSibling.tagName==="BR"&&M.previousSibling.remove(),M.textContent.length===0&&M.parentNode.tagName&&M.parentNode.tagName.toLowerCase()==="svg"&&M.parentElement.remove(),M.textContent.length===0)if(q&&a.opts.keepFormatOnDelete)f(M).after(xe.INVISIBLE_SPACE+xe.MARKERS);else if(R.length!==0&&a.node.isBlock(M.parentNode))f(M).after(xe.MARKERS);else if((M.parentNode.childNodes.length!=2||M.parentNode!=re.parentNode)&&M.parentNode.childNodes.length!=1||a.node.isBlock(M.parentNode)||a.node.isElement(M.parentNode)||!a.node.isDeletable(M.parentNode)){for(var ae,Le=M;!a.node.isElement(M.parentNode)&&a.node.isEmpty(M.parentNode)&&xe.NO_DELETE_TAGS.indexOf(M.parentNode.tagName)<0;)if((M=M.parentNode).tagName==="A"){var Ee=M.childNodes[0];for(f(M).before(Ee),ae=!0;0<Ee.childNodes.length;)Ee=Ee.childNodes[0];M.parentNode.removeChild(M),M=Ee;break}ae||(M=Le),f(M).after(xe.MARKERS),a.node.isElement(M.parentNode)&&!re.nextSibling&&M.previousSibling&&M.previousSibling.tagName==="BR"&&f(re).after("<br>");var we=M.parentNode;M.parentNode.removeChild(M),a.node.isEmpty(we)&&f(we).html(xe.INVISIBLE_SPACE+xe.MARKERS)}else f(M.parentNode).after(xe.MARKERS),f(M.parentNode).remove();else f(M).after(xe.MARKERS)}else a.node.isDeletable(M)?(f(M).after(xe.MARKERS),f(M).remove()):re.nextSibling&&re.nextSibling.tagName==="BR"&&a.node.isVoid(M)&&M.tagName!=="BR"?(f(re.nextSibling).remove(),f(re).replaceWith(xe.MARKERS)):a.events.trigger("node.remove",[f(M)])!==!1&&(a.opts.enter===xe.ENTER_BR&&M.tagName==="BR"?f(N(M.previousSibling)).after(xe.MARKERS):f(M).after(xe.MARKERS),f(M).remove())}else if(xe.NO_DELETE_TAGS.indexOf(M.tagName)<0&&(a.node.isEditable(M)||a.node.isDeletable(M)))if(a.node.isDeletable(M))f(re).replaceWith(xe.MARKERS),f(M).remove();else if(a.node.isEmpty(M)&&!a.node.isList(M))f(M).remove(),f(re).replaceWith(xe.MARKERS);else{for(a.node.isList(M)&&(M=f(M).find("li").last().get(0)),(ie=a.node.contents(M))&&0<ie.length&&ie[ie.length-1].tagName==="BR"&&f(ie[ie.length-1]).remove(),ie=a.node.contents(M);ie&&0<ie.length&&a.node.isBlock(ie[ie.length-1]);)M=ie[ie.length-1],ie=a.node.contents(M);var Ne=N(M),We=Ne&&0<f(Ne).parents("span").length;if(a.opts.enter===xe.ENTER_BR&&We){var ct=f(M).find("span").last().get(0);ct?f(N(ct)).after(xe.MARKERS):f(M).append(xe.MARKERS)}else f(M).append(xe.MARKERS);for(var nt=re;!nt.previousSibling;)nt=nt.parentNode;for(;nt&&nt.tagName!=="BR"&&!a.node.isBlock(nt);){var st=nt;nt=nt.nextSibling,f(M).append(st)}nt&&nt.tagName==="BR"&&f(nt).remove(),f(re).remove()}else re.nextSibling&&re.nextSibling.tagName==="BR"&&f(re.nextSibling).remove();return!0}function j(re){var ie=0<f(re).parentsUntil(a.$el,"BLOCKQUOTE").length,M=a.node.deepestParent(re,[],!ie);if(M&&M.tagName==="BLOCKQUOTE"){var W=a.node.deepestParent(re,[f(re).parentsUntil(a.$el,"BLOCKQUOTE").get(0)]);W&&W.nextSibling&&(M=W)}if(M!==null){var K,R=M.nextSibling;if(a.node.isBlock(M)&&(a.node.isEditable(M)||a.node.isDeletable(M))&&R&&xe.NO_DELETE_TAGS.indexOf(R.tagName)<0)if(a.node.isDeletable(R))f(R).remove(),f(re).replaceWith(xe.MARKERS);else if(a.node.isBlock(R)&&a.node.isEditable(R))if(a.node.isList(R))if(a.node.isEmpty(M,!0))f(M).remove(),f(R).find("li").first().prepend(xe.MARKERS);else{var A=f(R).find("li").first();M.tagName==="BLOCKQUOTE"&&(K=a.node.contents(M)).length&&a.node.isBlock(K[K.length-1])&&(M=K[K.length-1]),A.find("ul, ol").length===0&&(f(re).replaceWith(xe.MARKERS),A.find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===A.get(0)&&f(this).replaceWith(f(this).html()+(a.node.isEmpty(this)?"":"<br>"))}),f(M).append(a.node.contents(A.get(0))),A.remove(),f(R).find("li").length===0&&f(R).remove())}else{if((K=a.node.contents(R)).length&&K[0].tagName==="BR"&&f(K[0]).remove(),R.tagName!=="BLOCKQUOTE"&&M.tagName==="BLOCKQUOTE")for(K=a.node.contents(M);K.length&&a.node.isBlock(K[K.length-1]);)M=K[K.length-1],K=a.node.contents(M);else if(R.tagName==="BLOCKQUOTE"&&M.tagName!=="BLOCKQUOTE")for(K=a.node.contents(R);K.length&&a.node.isBlock(K[0]);)R=K[0],K=a.node.contents(R);f(re).replaceWith(xe.MARKERS),f(M).append(R.innerHTML),f(R).remove()}else{for(f(re).replaceWith(xe.MARKERS);R&&R.tagName!=="BR"&&!a.node.isBlock(R)&&a.node.isEditable(R);){var J=R;R=R.nextSibling,f(M).append(J)}R&&R.tagName==="BR"&&a.node.isEditable(R)&&f(R).remove()}}}function H(re){for(var ie,M=re;!M.nextSibling;)if(M=M.parentNode,a.node.isElement(M))return!1;if((M=M.nextSibling).tagName==="BR"&&a.node.isEditable(M)){if(M.nextSibling){if(a.node.isBlock(M.nextSibling)&&a.node.isEditable(M.nextSibling)){if(!(xe.NO_DELETE_TAGS.indexOf(M.nextSibling.tagName)<0))return void f(M).remove();M=M.nextSibling,f(M.previousSibling).remove()}}else if(O(M)){G(re)?a.cursorLists._del(re):a.node.deepestParent(M)&&((!a.node.isEmpty(a.node.blockParent(M))||(a.node.blockParent(M).nextSibling&&xe.NO_DELETE_TAGS.indexOf(a.node.blockParent(M).nextSibling.tagName))<0)&&f(M).remove(),M&&M.parentNode&&M.parentNode.textContent.charCodeAt()===8203&&M.parentNode.childNodes[1]&&M.parentNode.childNodes[1].tagName==="BR"&&M.parentNode.tagName.toLowerCase()===a.html.defaultTag()&&M.parentNode.nextSibling&&M.parentNode.nextSibling.tagName==="TABLE"&&f(M.parentNode).remove(),j(re));return}}if(!a.node.isBlock(M)&&a.node.isEditable(M)){for(ie=a.node.contents(M);M.nodeType!==Node.TEXT_NODE&&ie.length&&!a.node.isDeletable(M)&&a.node.isEditable(M);)M=ie[0],ie=a.node.contents(M);M.nodeType===Node.TEXT_NODE?(f(M).before(xe.MARKERS),M.textContent.length&&(M.textContent=M.textContent.substring(P(M.textContent,!0),M.textContent.length))):(a.node.isDeletable(M)||a.events.trigger("node.remove",[f(M)])!==!1)&&(f(M).before(xe.MARKERS),f(M).remove()),f(re).remove()}else if(xe.NO_DELETE_TAGS.indexOf(M.tagName)<0&&(a.node.isEditable(M)||a.node.isDeletable(M)))if(a.node.isDeletable(M))f(re).replaceWith(xe.MARKERS),f(M).remove();else if(a.node.isList(M))re.previousSibling?(f(M).find("li").first().prepend(re),a.cursorLists._backspace(re)):(f(M).find("li").first().prepend(xe.MARKERS),f(re).remove());else if((ie=a.node.contents(M))&&0<ie.length&&ie[0].tagName==="BR"&&f(ie[0]).remove(),ie&&0<ie.length&&M.tagName==="BLOCKQUOTE"){var W=ie[0];for(f(re).before(xe.MARKERS);W&&W.tagName!=="BR";){var K=W;W=W.nextSibling,f(re).before(K)}W&&W.tagName==="BR"&&f(W).remove()}else f(re).after(f(M).html()).after(xe.MARKERS),f(M).remove()}function ee(){for(var re=a.el.querySelectorAll("blockquote:empty"),ie=0;ie<re.length;ie++)re[ie].parentNode.removeChild(re[ie])}function w(re,ie,M){var W,K=a.node.deepestParent(re,[],!M);if(K&&K.tagName==="BLOCKQUOTE")return B(re,K)?(W=a.html.defaultTag(),ie?f(re).replaceWith("<br>"+xe.MARKERS):W?f(K).after("<".concat(W,">").concat(xe.MARKERS,"<br></").concat(W,">")):f(K).after("".concat(xe.MARKERS,"<br>")),f(re).remove()):he(re,ie,M),!1;if(K===null)(W=a.html.defaultTag())&&a.node.isElement(re.parentNode)?f(re).replaceWith("<".concat(W,">").concat(xe.MARKERS,"<br></").concat(W,">")):!re.previousSibling||f(re.previousSibling).is("br")||re.nextSibling?f(re).replaceWith("<br>".concat(xe.MARKERS)):f(re).replaceWith("<br>".concat(xe.MARKERS,"<br>"));else{var R=re,A="";K.tagName!="PRE"||re.nextSibling||(ie=!0),a.node.isBlock(K)&&!ie||(A="<br/>");var J,V="",q="",ae="",Le="";(W=a.html.defaultTag())&&a.node.isBlock(K)&&(ae="<".concat(W,">"),Le="</".concat(W,">"),K.tagName===W.toUpperCase()&&(ae=a.node.openTagString(f(K).clone().removeAttr("id").get(0))));do if(R=R.parentNode,!ie||R!==K||ie&&!a.node.isBlock(K))if(V+=a.node.closeTagString(R),R===K&&a.node.isBlock(K))q=ae+q;else{var Ee=(R.tagName==="A"||a.node.hasClass(R,"fa"))&&B(re,R)?"fr-to-remove":"";q=R.getAttribute("id")==="isPasted"?a.node.openTagString(f(R).clone().attr("style","").addClass(Ee).get(0))+q:a.node.openTagString(f(R).clone().addClass(Ee).get(0))+q}while(R!==K);A=V+A+q+(re.parentNode===K&&a.node.isBlock(K)?"":xe.INVISIBLE_SPACE)+xe.MARKERS,a.node.isBlock(K)&&!f(K).find("*").last().is("br")&&f(K).append("<br/>"),f(re).after('<span id="fr-break"></span>'),f(re).remove(),K.nextSibling&&!a.node.isBlock(K.nextSibling)||a.node.isBlock(K)||f(K).after("<br>"),J=(J=!ie&&a.node.isBlock(K)?a.node.openTagString(K)+f(K).html()+Le:a.node.openTagString(K)+f(K).html()+a.node.closeTagString(K)).replace(/<span id="fr-break"><\/span>/g,A),f(K).replaceWith(J)}}function he(re,ie,M){var W=a.node.deepestParent(re,[],!M);if(W===null)a.html.defaultTag()&&re.parentNode===a.el?f(re).replaceWith("<".concat(a.html.defaultTag(),">").concat(xe.MARKERS,"<br></").concat(a.html.defaultTag(),">")):(re.nextSibling&&!a.node.isBlock(re.nextSibling)||f(re).after("<br>"),f(re).replaceWith("<br>".concat(xe.MARKERS)));else if(re.previousSibling&&re.previousSibling.tagName=="IMG"||re.nextSibling&&re.nextSibling.tagName=="IMG")f(re).replaceWith("<"+a.html.defaultTag()+">"+xe.MARKERS+"<br></"+a.html.defaultTag()+">");else{var K=re,R="";W.tagName==="PRE"&&(ie=!0),a.node.isBlock(W)&&!ie||(R="<br>");var A="",J="";do{var V=K;if(K=K.parentNode,W.tagName==="BLOCKQUOTE"&&a.node.isEmpty(V)&&!a.node.hasClass(V,"fr-marker")&&f(V).contains(re)&&f(V).after(re),W.tagName!=="BLOCKQUOTE"||!B(re,K)&&!L(re,K))if(!ie||K!==W||ie&&!a.node.isBlock(W)){A+=a.node.closeTagString(K);var q=K.tagName=="A"&&B(re,K)||a.node.hasClass(K,"fa")?"fr-to-remove":"";J=a.node.openTagString(f(K).clone().addClass(q).removeAttr("id").get(0))+J,a.opts.enter!==xe.ENTER_DIV&&K===W&&W.tagName==="DIV"&&(A="<br>",J="")}else W.tagName=="BLOCKQUOTE"&&ie&&(J=A="")}while(K!==W);var ae=W===re.parentNode&&a.node.isBlock(W)||re.nextSibling;if(W.tagName==="BLOCKQUOTE")if(re.previousSibling&&a.node.isBlock(re.previousSibling)&&re.nextSibling&&re.nextSibling.tagName==="BR"&&(f(re.nextSibling).after(re),re.nextSibling&&re.nextSibling.tagName==="BR"&&f(re.nextSibling).remove()),ie)R=A+R+xe.MARKERS+J;else{var Le=a.html.defaultTag();R="".concat(A+R+(Le?"<".concat(Le,">"):"")+xe.MARKERS,"<br>").concat(Le?"</".concat(Le,">"):"").concat(J)}else R=A+R+J+(ae?"":xe.INVISIBLE_SPACE)+xe.MARKERS;f(re).replaceWith('<span id="fr-break"></span>');var Ee=a.node.openTagString(W)+f(W).html()+a.node.closeTagString(W);Ee=Ee.replace(/<span id="fr-break"><\/span>/g,R),f(W).replaceWith(Ee)}}function be(re){var ie=re.getBoundingClientRect(),M=window.pageXOffset||document.documentElement.scrollLeft,W=window.pageYOffset||document.documentElement.scrollTop;return a.opts.iframe?{top:ie.top+a.$wp.offset().top,left:ie.left+M}:{top:ie.top+W,left:ie.left+M}}function se(){var re=a.selection.get(),ie=null;if(a.selection.inEditor()&&re.rangeCount)for(var M=a.selection.ranges(),W=0;W<M.length;W++){var K=M[W];ie=a.selection.rangeElement(K.startContainer,K.startOffset);break}return ie}return{enter:function(ie){var M=a.markers.insert();if(!M)return!0;for(var W=M.parentNode;W&&!a.node.isElement(W);){if(W.getAttribute("contenteditable")==="false")return f(M).replaceWith(xe.MARKERS),a.selection.restore(),!1;if(W.getAttribute("contenteditable")==="true")break;W=W.parentNode}a.el.normalize();var K=!1;0<f(M).parentsUntil(a.$el,"BLOCKQUOTE").length&&(K=!0),f(M).parentsUntil(a.$el,"TD, TH").length&&(K=!1),O(M)?!G(M)||ie||K?w(M,ie,K):a.cursorLists._endEnter(M):T(M)?!G(M)||ie||K?function Ee(we,Ne,We){var ct,nt=a.node.deepestParent(we,[],!We);if(nt&&nt.tagName==="TABLE")return f(nt).find("td, th").first().prepend(we),Ee(we,Ne,We);if(nt&&nt.tagName==="BLOCKQUOTE")if(L(we,nt)){if(!Ne)return(ct=a.html.defaultTag())?f(nt).before("<".concat(ct,">").concat(xe.MARKERS,"<br></").concat(ct,">")):f(nt).before("".concat(xe.MARKERS,"<br>")),f(we).remove(),!1}else B(we,nt)?w(we,Ne,!0):he(we,Ne,!0);if(nt===null)(ct=a.html.defaultTag())&&a.node.isElement(we.parentNode)?f(we).replaceWith("<".concat(ct,">").concat(xe.MARKERS,"<br></").concat(ct,">")):f(we).replaceWith("<br>".concat(xe.MARKERS));else{if(ct=a.html.defaultTag(),a.node.isBlock(nt))if(nt.tagName==="PRE"&&(Ne=!0),Ne)f(we).remove(),f(nt).prepend("<br>".concat(xe.MARKERS));else if(we.nextSibling&&we.nextSibling.tagName=="IMG"||we.nextSibling&&we.nextSibling.nextElementSibling&&we.nextSibling.nextElementSibling=="IMG")f(we).replaceWith("<"+a.html.defaultTag()+">"+xe.MARKERS+"<br></"+a.html.defaultTag()+">");else{if(a.node.isEmpty(nt,!0))return w(we,Ne,We);if(a.opts.keepFormatOnDelete||nt.tagName==="DIV"||a.html.defaultTag()==="div")if(!a.opts.keepFormatOnDelete&&nt.tagName==="DIV"||a.html.defaultTag()==="div")f(nt).before("<"+a.html.defaultTag()+"><br></"+a.html.defaultTag()+">");else if(a.opts.keepFormatOnDelete&&!a.opts.htmlUntouched&&nt.tagName!=="DIV"&&a.html.defaultTag()!=="div"&&T(a.selection.get().focusNode))f(nt).before("".concat(a.node.openTagString(f(nt).clone().removeAttr("id").get(0)),"<br>").concat(a.node.closeTagString(nt)));else{for(var st=we,Me=xe.INVISIBLE_SPACE;st!==nt&&!a.node.isElement(st);)st=st.parentNode,Me=a.node.openTagString(st)+Me+a.node.closeTagString(st);f(nt).before(Me)}else f(nt).before("".concat(a.node.openTagString(f(nt).clone().removeAttr("id").get(0)),"<br>").concat(a.node.closeTagString(nt)))}else f(nt).before("<br>");f(we).remove()}}(M,ie,K):a.cursorLists._startEnter(M):!G(M)||ie||K?he(M,ie,K):a.cursorLists._middleEnter(M),function(){a.$el.find(".fr-to-remove").each(function(){for(var we=a.node.contents(this),Ne=0;Ne<we.length;Ne++)we[Ne].nodeType===Node.TEXT_NODE&&(we[Ne].textContent=we[Ne].textContent.replace(/\u200B/g,""));f(this).replaceWith(this.innerHTML)})}(),a.html.fillEmptyBlocks(!0),a.opts.htmlUntouched||(a.html.cleanEmptyTags(),a.clean.lists(),a.spaces.normalizeAroundCursor()),a.selection.restore();var R=a.o_win.innerHeight;if(a.$oel[0].offsetHeight>R){var A=se();if(A){var J=be(A);J=J.top;var V=A.getBoundingClientRect().top;a.opts.iframe&&(V=V+a.$wp.offset().top-a.helpers.scrollTop()),a.opts.scrollableContainer&&a.opts.enter!==xe.ENTER_BR&&A.tagName==="BR"&&V+20===R&&(V=J=A.parentNode.offsetTop),A.parentNode&&A.parentNode.tagName==="TD"&&R<V?a.o_win.scroll(0,V-50):A.tagName==="BR"&&V<0?a.o_win.scroll(0,J-80):a.opts.scrollableContainer&&R<V+20?a.o_win.scroll(0,J-R+50):a.opts.scrollableContainer&&V+2*a.$tb.height()>a.$sc[0].scrollTop+f(a.$sc).height()&&a.$sc[0].scroll(0,J-f(a.$sc).height()+2*a.$tb.height())}}else if(a.opts.scrollableContainer&&a.opts.toolbarSticky){var q=se();if(q){var ae=be(q);ae=ae.top;var Le=q.getBoundingClientRect().top;a.opts.enter!==xe.ENTER_BR&&q.tagName==="BR"&&(Le=ae=q.parentNode.offsetTop),(a.opts.iframe&&Le+2*a.$tb.height()>a.$sc[0].scrollTop+f(a.$sc).height()||Le+2*a.$tb.height()>f(a.$sc).height())&&a.$sc[0].scroll(0,ae-f(a.$sc).height()+2*a.$tb.height())}}},backspace:function(){var ie=!1,M=a.markers.insert();if(!M)return!0;for(var W=M.parentNode;W&&!a.node.isElement(W);){if(W.getAttribute("contenteditable")==="false")return f(M).replaceWith(xe.MARKERS),a.selection.restore(),!1;if(W.innerText.length&&W.getAttribute("contenteditable")==="true")break;W=W.parentNode}a.el.normalize();var K=M.previousSibling;if(K){var R=K.textContent;R&&R.length&&R.charCodeAt(R.length-1)===8203&&(R.length===1?f(K).remove():K.textContent=K.textContent.substr(0,R.length-P(R)))}return O(M)?G(M)&&L(M,f(M).parents("li").first().get(0))?a.cursorLists._backspace(M):ie=F(M):T(M)?G(M)&&L(M,f(M).parents("li").first().get(0))?a.cursorLists._backspace(M):function(J){for(var V=0<f(J).parentsUntil(a.$el,"BLOCKQUOTE").length,q=a.node.deepestParent(J,[],!V),ae=q;q&&!q.previousSibling&&q.tagName!=="BLOCKQUOTE"&&q.parentElement!==a.el&&!a.node.hasClass(q.parentElement,"fr-inner")&&xe.SIMPLE_ENTER_TAGS.indexOf(q.parentElement.tagName)<0;)q=q.parentElement;if(q&&q.tagName==="BLOCKQUOTE"){var Le=a.node.deepestParent(J,[f(J).parentsUntil(a.$el,"BLOCKQUOTE").get(0)]);Le&&Le.previousSibling&&(ae=q=Le)}if(q!==null){var Ee,we=q.previousSibling;if(a.node.isBlock(q)&&a.node.isEditable(q))if(we&&xe.NO_DELETE_TAGS.indexOf(we.tagName)<0){if(a.node.isDeletable(we))f(we).remove(),f(J).replaceWith(xe.MARKERS);else if(a.node.isEditable(we))if(a.node.isBlock(we))if(a.node.isEmpty(we)&&!a.node.isList(we))f(we).remove(),f(J).after(a.opts.keepFormatOnDelete?xe.INVISIBLE_SPACE:"");else{if(a.node.isList(we)&&(we=f(we).find("li").last().get(0)),(Ee=a.node.contents(we)).length&&Ee[Ee.length-1].tagName==="BR"&&f(Ee[Ee.length-1]).remove(),we.tagName==="BLOCKQUOTE"&&q.tagName!=="BLOCKQUOTE")for(Ee=a.node.contents(we);Ee.length&&a.node.isBlock(Ee[Ee.length-1]);)we=Ee[Ee.length-1],Ee=a.node.contents(we);else if(we.tagName!=="BLOCKQUOTE"&&ae.tagName==="BLOCKQUOTE")for(Ee=a.node.contents(ae);Ee.length&&a.node.isBlock(Ee[0]);)ae=Ee[0],Ee=a.node.contents(ae);if(a.node.isEmpty(q))f(J).remove(),a.selection.setAtEnd(we,!0);else{f(J).replaceWith(xe.MARKERS);var Ne=we.childNodes;a.node.isBlock(Ne[Ne.length-1])?f(Ne[Ne.length-1]).append(ae.innerHTML):f(we).append(ae.innerHTML)}f(ae).remove(),a.node.isEmpty(q)&&f(q).remove()}else f(J).replaceWith(xe.MARKERS),q.tagName==="BLOCKQUOTE"&&we.nodeType===Node.ELEMENT_NODE?f(we).remove():(f(we).after(a.node.isEmpty(q)?"":f(q).html()),f(q).remove(),we.tagName==="BR"&&f(we).remove())}else if(we)q.textContent.charCodeAt()===8203&&q.childNodes[1]&&q.childNodes[1].tagName==="BR"&&q.tagName.toLowerCase()===a.html.defaultTag()&&q.previousSibling&&q.previousSibling.tagName==="TABLE"&&f(q).remove();else if(q&&q.tagName==="BLOCKQUOTE"&&f(q).text().replace(/\u200B/g,"").length===0)f(q).remove();else{var We=q.nextSibling;a.node.isEmpty(q)&&q.parentNode&&a.node.isEditable(q.parentNode)&&!We&&(q.parentNode!=a.el&&q.parentNode.tagName!=="TD"?f(q.parentNode).remove():q.parentNode!=a.el&&q.parentNode.tagName==="TD"&&f(q).remove())}}}(M):ie=F(M),f(M).remove(),ee(),a.html.fillEmptyBlocks(!0),a.opts.htmlUntouched||(a.html.cleanEmptyTags(),a.clean.lists(),a.spaces.normalizeAroundCursor()),a.selection.restore(),ie},del:function(){var ie=a.markers.insert();if(!ie)return!1;if(a.el.normalize(),O(ie))if(G(ie))if(f(ie).parents("li").first().find("ul, ol").length===0)a.cursorLists._del(ie);else{var M=f(ie).parents("li").first().find("ul, ol").first().find("li").first();(M=M.find(a.html.blockTagsQuery()).get(-1)||M).prepend(ie),a.cursorLists._backspace(ie)}else j(ie);else T(ie),H(ie);f(ie).remove(),ee(),a.html.fillEmptyBlocks(!0),a.opts.htmlUntouched||(a.html.cleanEmptyTags(),a.clean.lists()),a.spaces.normalizeAroundCursor(),a.selection.restore()},isAtEnd:B,isAtStart:L}},xe.MODULES.data=function(a){function f(W){return W}function N(W){for(var K=W.toString(),R=0,A=0;A<K.length;A++)R+=parseInt(K.charAt(A),10);return 10<R?R%9+1:R}function O(W,K,R){for(var A=Math.abs(R);0<A--;)W-=K;return R<0&&(W+=123),W}function T(W){return W&&W.css("display")!=="block"||W&&a.helpers.getPX(W.css("height"))===0?(W.remove(),!0):!(!W||W.css("position")!=="absolute"&&W.css("position")!=="fixed"||(W.remove(),0))}function L(W){return W&&a.$box.find(W).length===0}function B(){if(10<M&&(a[ie("0ppecjvc==")](),setTimeout(function(){H.FE=null},10)),!a.$box)return!1;a.$wp.prepend(ie(ie(se))),F=a.$wp.find("> div").first(),j=F.find("> a"),a.opts.direction==="rtl"&&F.css("left","auto").css("right",0).attr("direction","rtl"),M++}function G(W){for(var K=[ie("9qqG-7amjlwq=="),ie("KA3B3C2A6D1D5H5H1A3=="),ie("3B9B3B5F3C4G3E3=="),ie("QzbzvxyB2yA-9m=="),ie("ji1kacwmgG5bc=="),ie("nmA-13aogi1A3c1jd=="),ie("BA9ggq=="),ie("emznbjbH3fij=="),ie("tkC-22d1qC-13sD1wzF-7=="),ie("tA3jjf=="),ie("1D1brkm==")],R=0;R<K.length;R++)if(String.prototype.endsWith||(String.prototype.endsWith=function(A,J){return(J===void 0||J>this.length)&&(J=this.length),this.substring(J-A.length,J)===A}),W.endsWith(K[R]))return!0;return!1}function P(){var W=ie(he),K=ie("tzgatD-13eD1dtdrvmF3c1nrC-7saQcdav==").split(".");try{return window.parent.document.querySelector(W)&&window[K[1]][K[2]]}catch{return!1}}var F,j,H=a.$,ee="sC-7OB2fwhVC4vsG-7ohPA4ZD4D-8f1J3stzB-11bFE2FC1A3NB2IF1HE1TH4WB8eB-11zVG2F3I3yYB5ZG4CB2DA15CC5AD3F1A1KG1oLA10B1A6wQF1H3vgale2C4F4XA2qc2A5D5B3pepmriKB3OE1HD1fUC10pjD-11E-11TB4YJ3bC-16zE-11yc1B2CE2BC3jhjKC1pdA-21OA6C1D5B-8vF4QA11pD6sqf1C3lldA-16BD4A2H3qoEA7bB-16rmNH5H1F1vSB7RE2A3TH4YC5A5b1A4d1B3whepyAC3AA2zknC3mbgf1SC4WH4PD8TC5ZB2C3H3jb2A5ZA2EF2aoFC5qqHC4B1H1zeGA7UA5RF4TA29TA6ZC4d1C3hyWA10A3rBB2E3decorationRD3QC10UD3E6E6ZD2F3F3fme2E5uxxrEC9C3E4fB-11azhHB1LD7D6VF4VVTPC6b1C4TYG3qzDD6B3B3AH4I2H2kxbHE1JD1yihfd1QD6WB1D4mhrc1B5rvFG3A14A7cDA2OC1AA1JB5zC-16KA6WB4C-8wvlTB5A5lkZB2C2C7zynBD2D2bI-7C-21d1HE2cubyvPC8A6VB3aroxxZE4C4F4e1I2BE1WjdifH1H4A14NA1GB1YG-10tWA3A14A9sVA2C5XH2A29b2A6gsleGG2jaED2D-13fhE1OA8NjwytyTD4e1sc1D-16ZC3B5C-9e1C2FB6EFF5B2C2JH4E1C2tdLE5A3UG4G-7b2D3B4fA-9oh1G3kqvB4AG3ibnjcAC6D2B1cDA9KC2QA6bRC4VA30RB8hYB2A4A-8h1A21A2B2==",w="7D4YH4fkhHB3pqDC3H2E1fkMD1IB1NF1D3QD9wB5rxqlh1A8c2B4ZA3FD2AA6FB5EB3jJG4D2J-7aC-21GB6PC5RE4TC11QD6XC4XE3XH3mlvnqjbaOA2OC2BE6A1fmI-7ujwbc1G5f1F3e1C11mXF4owBG3E1yD1E4F1D2D-8B-8C-7yC-22HD1MF5UE4cWA3D8D6a1B2C3H3a3I3sZA4B3A2akfwEB3xHD5D1F1wIC11pA-16xdxtVI2C9A6YC4a1A2F3B2GA6B4C3lsjyJB1eMA1D-11MF5PE4ja1D3D7byrf1C3e1C7D-16lwqAF3H2A1B-21wNE1MA1OG1HB2A-16tSE5UD4RB3icRA4F-10wtwzBB3E1C3CC2DA8LA2LA1EB1kdH-8uVB7decorg1J2B7B6qjrqGI2J1C6ijehIB1hkemC-13hqkrH4H-7QD6XF5XF3HLNAC3CB2aD2CD2KB10B4ycg1A-8KA4H4B11jVB5TC4yqpB-21pd1E4pedzGB6MD5B3ncB-7MA4LD2JB6PD5uH-8TB9C7YD5XD2E3I3jmiDB3zeimhLD8E2F2JC1H-9ivkPC5lG-10SB1D3H3A-21rc1A3d1E3fsdqwfGA2KA1OrC-22LA6D1B4afUB16SC7AitC-8qYA11fsxcajGA15avjNE2A-9h1hDB16B9tPC1C5F5UC1G3B8d2A5d1D4RnHJ3C3JB5D3ucMG1yzD-17hafjC-8VD3yWC6e1YD2H3ZE2C8C5oBA3H3D2vFA4WzJC4C2i1A-65fNB8afWA1H4A26mvkC-13ZB3E3h1A21BC4eFB2GD2AA5ghqND2A2B2==",he="MekC-11nB-8tIzpD7pewxvzC6mD-16xerg1==",be="HE2A1A6A1A9D2D2A5D1C4EJ4B12C7A7C6E4A3F3F2A2B8B8D==",se="sC-7OB2fwhVC4vsG-7ohPA4ZD4D-8f1J3stzB-11bFE2EE1MA2ND1KD1IE4cA-21pSD2D5ve1G3h1A8b1E5ZC3CD2FA16mC5OC5E1hpnG1NA10B1D7hkUD4I-7b2C3C5nXD2E3F3whidEC2EH3GI2mJE2E2bxci1WA10VC7pllSG2F3A7xd1A4ZC3DB2aaeGA2DE4H2E1j1ywD-13FD1A3VE4WA3D8C6wuc1A2hf1B5B7vnrrjA1B9ic1mpbD1oMB1iSB7rWC4RI4G-7upB6jd1A2F3H2EA4FD3kDF4A2moc1anJD1TD4VI4b2C7oeQF4c1E3XC7ZA3C3G3uDB2wGB6D1JC4D1JD4C1hTE6QC5pH4pD3C-22D7c1A3textAA4gdlB2mpozkmhNC1mrxA3yWA5edhg1I2H3B7ozgmvAI3I2B5GD1LD2RSNH1KA1XA5SB4PA3sA9tlmC-9tnf1G3nd1coBH4I2I2JC3C-16LE6A1tnUA3vbwQB1G3f1A20a3A8a1C6pxAB2eniuE1F3kH2lnjB2hB-16XA5PF1G4zwtYA5B-11mzTG2B9pHB3BE2hGH3B3B2cMD5C1F1wzPA8E7VG5H5vD3H-7C8tyvsVF2I1G2A5fE3bg1mgajoyxMA4fhuzSD8aQB2B4g1A20ukb1A4B3F3GG2CujjanIC1ObiB11SD1C5pWC1D4YB8YE5FE-11jXE2F-7jB4CC2G-10uLH4E1C2tA-13yjUH5d1H1A7sWD5E4hmjF-7pykafoGA16hDD4joyD-8OA33B3C2tC7cRE4SA31a1B8d1e2A4F4g1A2A22CC5zwlAC2C1A12==",re=function(){for(var W=0,K=document.domain,R=K.split("."),A="_gd".concat(new Date().getTime());W<R.length-1&&document.cookie.indexOf("".concat(A,"=").concat(A))===-1;)K=R.slice(-1-++W).join("."),document.cookie="".concat(A,"=").concat(A,";domain=").concat(K,";");return document.cookie="".concat(A,"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(K,";"),(K||"").replace(/(^\.*)|(\.*$)/g,"")}(),ie=function(K){if(!K)return K;for(var R="",A="charCodeAt",J="fromCharCode",V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".indexOf(K[0]),q=1;q<K.length-2;q++){for(var ae=N(++V),Le=K[A](q),Ee="";/[0-9-]/.test(K[q+1]);)Ee+=K[++q];Le=O(Le,ae,Ee=parseInt(Ee,10)||0),Le^=V-1&31,R+=String[J](Le)}return R},M=0;return{_init:function(){var K=a.opts.key||[""],R=ie("ziRA1E3B9pA5B-11D-11xg1A3ZB5D1D4B-11ED2EG2pdeoC1clIH4wB-22yQD5uF4YE3E3A9==");typeof K=="string"&&(K=[K]);for(var A,J,V,q=!(a.ul=!0),ae=0,Le=0;Le<K.length;Le++){var Ee=(J=K[Le],(V=(ie(J)||"").split("|")).length===4&&V[0]==="V3"?[V[1],V[3],V[2]]:[null,null,""]),we=Ee[2];if(we===ie(ie("LGnD1KNZf1CPBYCAZB-8F3UDSLLSG1VFf1A3C2=="))||0<=we.indexOf(re,we.length-re.length)||G(re)||P()){if((A=Ee[1])!==null&&!(A.indexOf("TRIAL")==0?(A=new Date(A.replace(/TRIAL/,"")),new Date(A)<new Date&&(ee=w,1)):new Date(A)<new Date(ie(be)))||!(0<(re||"").length)||G(re)||P()){a.ul=!1;break}q=!0,se=ee,ae=Ee[0]||-1}}var Ne=new Image;a.ul===!0&&(B(),Ne.src=q?"".concat(ie(R),"e=").concat(ae):"".concat(ie(R),"u")),a.ul===!0&&(a.events.on("contentChanged",function(){(function(){return T(F)||T(j)||L(F)||L(j)})()&&B()}),a.events.on("html.get",function(We){return We+ie("qD2H-9G3ioD-17qA1tE1B-8qI3A4hA-13C-11E2C1njfldD1E6pg1C-8sC3hfbkcD2G3stC-22gqgB3G2B-7vtoA4nweeD1A31A15B9uC-16A1F5dkykdc1B8dE-11bA3F2D3A9gd1E7F2tlI-8H-7vtxB2A5B2C3B2F2B5A6ldbyC4iqC-22D-17E-13mA3D2dywiB3oxlvfC1H4C2TjqbzlnI3ntB4E3qA2zaqsC6D3pmnkoE3C6D5wvuE3bwifdhB6hch1E4xibD-17dmrC1rG-7pntnF6nB-8F1D2A11C8plrkmF2F3MC-16bocqA2WwA-21ayeA1C4d1isC-22rD-13D6DfjpjtC2E6hB2G2G4A-7D2==")})),a.events.on("html.set",function(){var We=a.el.querySelector('[data-f-id="pbf"]');We&&H(We).remove()}),a.events.on("destroy",function(){F&&F.length&&F.remove()},!0)}}},xe.MODULES.edit=function(a){function f(){if(a.browser.mozilla)try{a.doc.execCommand("enableObjectResizing",!1,"false"),a.doc.execCommand("enableInlineTableEditing",!1,"false")}catch{}if(a.browser.msie)try{a.doc.body.addEventListener("mscontrolselect",function(T){return T.srcElement.focus(),!1})}catch{}}var N=!1;function O(){return N}return{_init:function(){a.events.on("focus",function(){O()?a.edit.off():a.edit.on()})},on:function(){a.$wp?(a.$el.attr("contenteditable",!0),a.$el.removeClass("fr-disabled").attr("aria-disabled",!1),f()):a.$el.is("a")&&a.$el.attr("contenteditable",!0),a.events.trigger("edit.on",[],!0),N=!1},off:function(){a.events.disableBlur(),a.$wp?(a.$el.attr("contenteditable",!1),a.$el.addClass("fr-disabled").attr("aria-disabled",!0)):a.$el.is("a")&&a.$el.attr("contenteditable",!1),a.events.trigger("edit.off"),a.events.enableBlur(),N=!0},disableDesign:f,isDisabled:O}},xe.MODULES.format=function(a){var f=a.$;function N(w,he){var be=w;for(var se in he)Object.prototype.hasOwnProperty.call(he,se)&&(be+=se==="id"?"#".concat(he[se]):se==="class"?".".concat(he[se]):"[".concat(se,'="').concat(he[se],'"]'));return be}function O(w,he){return!(!w||w.nodeType!==Node.ELEMENT_NODE)&&(w.matches||w.matchesSelector||w.msMatchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.oMatchesSelector).call(w,he)}function T(w,he,be){var se,re,ie,M={strong:{prop:"font-weight",val:"bold"},em:{prop:"font-style",val:"italic"}},W=function(st){for(var Me=1;Me<arguments.length;Me++){var tt=arguments[Me]!=null?arguments[Me]:{};Me%2?Ke(Object(tt),!0).forEach(function(ze){Ie(st,ze,tt[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(tt)):Ke(Object(tt)).forEach(function(ze){Object.defineProperty(st,ze,Object.getOwnPropertyDescriptor(tt,ze))})}return st}({},be||{});if(w){var K=w.tagName==="LI"?w:f(w).parentsUntil(a.$el,"li").get(0),R=f(K).find(".fr-marker[data-type=false]").get(0);if(w.parentNode.parentNode.tagName!=="LI"||!R||R.previousSibling!=null){if(a.node.isBlock(w)&&w.hasAttribute("contenteditable")&&w.getAttribute("contenteditable")==="false"&&!a.opts.allowStylingOnNonEditable||w.parentNode&&w.parentNode.hasAttribute("contenteditable")&&w.parentNode.getAttribute("contenteditable")==="false"&&!a.opts.allowStylingOnNonEditable){if(w.nextSibling&&f(w.nextSibling).hasClass("fr-marker"))return;if(w.nextSibling)return void T(w.nextSibling,he,be);if(w.parentNode)return void T(w.parentNode,he,be)}for(;w&&w.nodeType===Node.COMMENT_NODE;)w=w.nextSibling;if(w){if(a.node.isBlock(w)&&w.tagName!=="HR"&&w.tagName!=="LI")return a.node.hasClass(w.firstChild,"fr-marker")?T(w.firstChild.nextSibling,he,be):T(w.firstChild,he,be),!1;if(W.style){var A=W.style.split(";").map(function(nt){return nt.trim()}).filter(function(nt){var st=Mt(nt.split(":").map(function(ze){return ze&&ze.trim()}),2),Me=st[0],tt=st[1];return Me&&tt}).join("; ");A?W.style=A+";":delete W.style}var J=f(a.doc.createElement(he));if(J.attr(W),!(he==="span"&&w.parentNode&&w.parentNode.tagName.toLowerCase()==="span")&&w.parentNode&&w.parentNode.hasAttribute("contenteditable")&&w.parentNode.getAttribute("contenteditable")==="false"&&a.opts.allowStylingOnNonEditable){for(var V=w.parentNode,q=f(a.doc.createElement(he)).attr(be);V.firstChild;)q.append(V.firstChild);return f(V).append(q),void(f(V.lastChild.lastChild).hasClass("fr-marker")||T(V.nextSibling,he,be))}if(J.insertBefore(w),(se=j(w))&&(0<=["strong","em"].indexOf(he)||he==="span"&&be.hasOwnProperty("style"))&&(ie=he==="span"?(M=be.style.replace(/;$/,"").split(":"),re=M[0].trim(),M[1].trim()):(re=M[he].prop,M[he].val),re!=="background-color")){var ae=f(se);ae.css(re,ie),ae.find("a").each(function(){var nt=f(this),st=this.style;ie===""?st.getPropertyValue(re)&&(st.removeProperty(re),st.length||this.removeAttribute("style")):nt.css(re,ie)}),function(st,Me){var tt,ze=st.childNodes;for(tt=0;tt<ze.length;tt++)0<=["UL","OL","LI"].indexOf(ze[tt].tagName)&&ze[tt].style[Me]===""&&f(ze[tt]).css(Me,"initial")}(se,re)}for(var Le,Ee=w,we=!1,Ne=function(){var st=Ee;if(Ee.tagName==="SPAN"&&f(Ee).hasClass("fr-tracking-deleted"))return Ee=Ee.nextSibling,0;if(a.node.isBlock(Ee)&&w.tagName!=="HR")return T(Ee.firstChild,he,be),{v:!1};if(Ee.tagName==="SPAN"&&a.node.isEditable(Ee))return J.is(":empty")&&J.remove(),T(Ee.firstChild,he,be),{v:!1};if(Ee.tagName&&Ee.hasAttribute("contenteditable")&&Ee.getAttribute("contenteditable")==="false"&&!a.opts.allowStylingOnNonEditable){var Me=J.get(0).parentNode,tt=Ee.nextSibling;return Ee.parentNode.tagName==="P"&&Ee.nextSibling==null?tt=Ee.parentNode.nextSibling:!tt&&Me&&Me.nextSibling&&Me.nextSibling.tagName==="DIV"&&(tt=Me.nextSibling),T(tt,he,be),{v:void 0}}if(!a.node.isEditable(Ee.parentNode)&&!a.opts.allowStylingOnNonEditable)return a.selection.restore(),a.toolbar.disable(),{v:void 0};if(Ee=Ee.nextSibling,he!="span"||se)J.append(st);else{var ze=st;["u","s"].forEach(function(Fe){0<f(st).parents(Fe).length&&(ze=f(ze).wrap("<".concat(Fe,"></").concat(Fe,">")).get(0).parentNode,we=!0)});var Ze=function(Ye){return[].filter.call(Ye.parentNode.childNodes,function(xt){return xt.nodeType===Node.TEXT_NODE&&xt!==Ye})}(ze);0<Ze.length&&0<f(ze).parents("u, s").length&&(Ze.forEach(function(Fe){var Ye=null,xt=null;0<f(ze).parents("u").length&&(xt=Ye=document.createElement("u")),0<f(ze).parents("s").length&&(xt=xt?(Ye.appendChild(document.createElement("s")),Ye.firstChild):Ye=document.createElement("s")),xt.appendChild(Fe.cloneNode()),Fe.replaceWith(Ye)}),a.selection.restore(),a.selection.save());var qe=ze.tagName==="A"?ze:ze.parentNode&&ze.parentNode.tagName==="A"?ze.parentNode:null;qe&&(!W.style&&qe.hasAttribute("style")?qe.removeAttribute("style"):W.style&&f(qe).attr("style",W.style)),J.append(ze)}a.browser.mozilla&&0<J.length&&function(Ye){if(f(Ye).parentsUntil(a.$el,"TABLE").length){for(var xt=null,ft=Ye.nextSibling;ft;)ft.nodeName==="BR"&&(xt=ft),ft=ft.nextSibling;xt&&!xt.nextSibling&&xt.parentNode.nodeName!="TD"&&xt.parentNode.textContent&&xt.remove()}}(J[0])};Ee&&!f(Ee).hasClass("fr-marker")&&f(Ee).find(".fr-marker").length===0&&Ee.tagName!=="UL"&&Ee.tagName!=="OL";)if((Le=Ne())!==0&&Le)return Le.v;if(Ee)(f(Ee).find(".fr-marker").length||Ee.tagName==="UL"||Ee.tagName==="OL")&&T(Ee.firstChild,he,be);else{for(var We=J.get(0).parentNode;We&&!We.nextSibling&&!a.node.isElement(We);)We=We.parentNode;if(We){var ct=We.nextSibling;ct&&(a.node.isBlock(ct)?ct.tagName==="HR"?T(ct.nextSibling,he,be):T(ct.firstChild,he,be):T(ct,he,be))}}J.is(":empty")?J.remove():we&&(J.parents("u, s").get().forEach(function(nt){var st=nt.parentNode;if(st){var Me=document.createDocumentFragment();nt.childNodes.forEach(function(tt){Me.appendChild(tt.cloneNode(!0))}),st.replaceChild(Me,nt)}}),a.selection.restore(),a.selection.save())}}}}function L(w,he){var be;if(he===void 0&&(he={}),he.style&&delete he.style,a.selection.isCollapsed()){a.markers.insert();var se=a.$el.find(".fr-marker");se.get(0).nextSibling&&a.node.isBlock(se.get(0).nextSibling)&&!se.get(0).previousSibling&&se.get(0).parentNode.tagName==="LI"&&se.get(0).nextSibling.prepend(se.get(0)),se.replaceWith(function(R,A){var J="<".concat(R);for(var V in A)Object.prototype.hasOwnProperty.call(A,V)&&(J+=" ".concat(V,'="').concat(A[V],'"'));return J+=">"}(w,he)+xe.INVISIBLE_SPACE+xe.MARKERS+function(R){return"</".concat(R,">")}(w)),a.selection.restore()}else{a.selection.save();var re,ie=a.$el.find('.fr-marker[data-type="true"]').length&&a.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;T(ie,w,he),f(ie).parent().find("a:empty").remove();do for(re=a.$el.find("".concat(N(w,he)," > ").concat(N(w,he))),be=0;be<re.length;be++)re[be].outerHTML=re[be].innerHTML;while(re.length);a.el.normalize();var M=a.el.querySelectorAll(".fr-marker");for(be=0;be<M.length;be++){var W=f(M[be]);W.data("type")===!0?O(W.get(0).nextSibling,N(w,he))&&W.next().prepend(W):O(W.get(0).previousSibling,N(w,he))&&W.prev().append(W)}a.selection.restore()}}function B(w,he,be,se){if(!se){var re=!1;if(w.data("type")===!0)for(;a.node.isFirstSibling(w.get(0))&&!w.parent().is(a.$el)&&!w.parent().is("ol")&&!w.parent().is("ul");)w.parent().before(w),re=!0;else if(w.data("type")===!1)for(;a.node.isLastSibling(w.get(0))&&!w.parent().is(a.$el)&&!w.parent().is("ol")&&!w.parent().is("ul");)w.parent().after(w),re=!0;if(re)return!0}if(w.parents(he).length||he===void 0){var ie,M="",W="",K=w.parent();if(K[0].tagName==="A"&&(K=K.parent()),K.is(a.$el)||a.node.isBlock(K.get(0)))return!1;for(;!(a.node.isBlock(K.parent().get(0))||he!==void 0&&O(K.get(0),N(he,be))||["#document","HTML","BODY"].includes(K.parent().get(0).nodeName.toUpperCase()));)M+=a.node.closeTagString(K.get(0)),W=a.node.openTagString(K.get(0))+W,K=K.parent();var R=w.get(0).outerHTML;return w.replaceWith('<span id="mark"></span>'),ie=K.html().replace(/<span id="mark"><\/span>/,M+a.node.closeTagString(K.get(0))+W+R+M+a.node.openTagString(K.get(0))+W),K.replaceWith(a.node.openTagString(K.get(0))+ie+a.node.closeTagString(K.get(0))),!0}return!1}function G(w,he){he===void 0&&(he={}),he.style&&delete he.style;var be=a.selection.isCollapsed();a.selection.save();var se=a.$el.find(".fr-marker");if(w&&se.length&&(se[0].parentNode&&se[0].parentNode.tagName===w.toUpperCase()||se[1].parentNode.tagName===w.toUpperCase())){var re=se[0];se[0].parentNode.tagName!==w.toUpperCase()&&(re=se[1]);for(var ie=re.parentNode.previousSibling;ie!=null;)ie.nodeType===Node.TEXT_NODE&&(ie.textContent=ie.textContent.replace(/\u200B/g,"")),ie=ie.previousSibling;for(var M=re.parentNode.nextSibling;M!=null;)M.nodeType===Node.TEXT_NODE&&(M.textContent=M.textContent.replace(/\u200B/g,"")),M=M.nextSibling}for(var W=!0;W;){W=!1;for(var K=a.$el.find(".fr-marker"),R=0;R<K.length;R++){var A=f(K[R]),J=null;if(A.attr("data-cloned")||be||(J=A.clone().removeClass("fr-marker").addClass("fr-clone"),A.data("type")&&A.data("type").toString()==="true"?A.attr("data-cloned",!0).after(J):A.attr("data-cloned",!0).before(J)),B(A,w,he,be)){W=!0;break}}}(function Ze(qe,Fe,Ye,xt){for(var ft,Ot={strong:{prop:"font-weight",val:"bold"},em:{prop:"font-style",val:"italic"}},Rt=a.node.contents(qe.get(0)),zt=0;zt<Rt.length;zt++){var Zt=Rt[zt];if(Zt.innerHTML&&Zt.innerHTML.charCodeAt()==8203&&Zt.tagName.toLocaleLowerCase()==Ye&&Zt.childNodes.length<2&&!a.helpers.isMobile()&&(Zt.outerHTML=Zt.innerHTML),a.node.hasClass(Zt,"fr-marker"))Fe=(Fe+1)%2;else if(Fe)if(0<f(Zt).find(".fr-marker").length)Fe=Ze(f(Zt),Fe,Ye,xt);else{(ft=Zt.tagName==="LI"?Zt:f(Zt).parentsUntil(a.$el,"li").get(0))&&(Ye===void 0||0<=["strong","em"].indexOf(Ye))&&(Ye?f(ft).css(Ot[Ye].prop,""):ft.style=""),(ft=Zt.parentNode!==a.el?Zt.parentNode:null)&&ft.nodeType===1&&["p","strong","u","em","s","sub","sup","a"].indexOf(Ye)<0&&ft.hasAttribute("style")&&ft.tagName!=="SPAN"&&ft.tagName!=="LI"?ft.style="":Zt&&Zt.nodeType===1&&Zt.hasAttribute("style")&&["p","strong","u","em","s","sub","sup","a"].indexOf(Ye)<0&&(a.browser.msie?f(Zt).attr("style",""):Zt.style="");for(var wn=f(Zt).find(Ye||"*:not(br)"),Zn=wn.length-1;0<=Zn;Zn--){var et=wn[Zn];if((ft=et.tagName==="LI"?et:f(et).parentsUntil(a.$el,"li").get(0))&&(!Ye||0<=["strong","em"].indexOf(Ye))&&(Ye?f(ft).css(Ot[Ye].prop,""):ft.style=""),et.tagName==="A"||a.node.isBlock(et)||a.node.isVoid(et)||Ye!==void 0&&!O(et,N(Ye,xt)))a.node.isBlock(et)&&Ye===void 0&&Zt.tagName!=="TABLE"&&et.tagName!=="VIDEO"&&a.node.clearAttributes(et);else{var wt=et.tagName==="IFRAME"&&et.parentNode&&et.parentNode.tagName==="SPAN"&&a.node.hasClass(et.parentNode,"fr-video")||et.tagName==="SPAN"&&a.node.hasClass(et,"fr-video");a.node.hasClass(et,"fr-clone")||wt||a.node.hasClass(et,"fr-tracking-deleted")||f(et).data("tracking")||(et.outerHTML=et.innerHTML)}}Zt.tagName!=="A"&&Ye===void 0&&Zt.nodeType===Node.ELEMENT_NODE&&!a.node.isVoid(Zt)||O(Zt,N(Ye,xt))?a.node.isBlock(Zt)?Zt.style="":a.node.hasClass(Zt,"fr-clone")||a.node.hasClass(Zt,"fr-video")||a.opts.trackChangesEnabled?!a.node.hasClass(Zt,"fr-clone")&&!a.node.hasClass(Zt,"fr-video")&&a.opts.trackChangesEnabled&&Zt.parentNode&&(Zt.outerHTML=Zt.innerHTML):Zt.outerHTML=Zt.innerHTML:Ye===void 0&&Zt.nodeType===Node.ELEMENT_NODE&&a.node.isBlock(Zt)&&!["TABLE","VIDEO"].includes(Zt.tagName)&&a.node.clearAttributes(Zt)}else 0<f(Zt).find(".fr-marker").length&&(Fe=Ze(f(Zt),Fe,Ye,xt))}return Fe})(a.$el,0,w,he),be||(a.$el.find(".fr-marker").remove(),a.$el.find(".fr-clone").removeClass("fr-clone").addClass("fr-marker")),be&&a.$el.find(".fr-marker").before(xe.INVISIBLE_SPACE).after(xe.INVISIBLE_SPACE),a.html.cleanEmptyTags(),a.el.normalize(),a.selection.restore();var V=a.win.getSelection()&&a.win.getSelection().anchorNode;if(V){var q=a.node.blockParent(V),ae=!!V.textContent.replace(/\u200B/g,"").length,Le=a.win.getSelection().getRangeAt(0),Ee=Le.startOffset,we=Le.endOffset;a.selection.text().replace(/\u200B/g,"").length||function Ze(qe,Fe){if(qe&&Fe){if(qe.isSameNode(Fe)?qe.textContent=qe.textContent.replace(/\u200B(?=.*\u200B)/g,""):qe.nodeType===Node.TEXT_NODE&&(qe.textContent=qe.textContent.replace(/\u200B/g,"")),!qe.childNodes.length)return!1;Array.isArray(qe.childNodes)&&qe.childNodes.forEach(function(Ye){Ze(Ye,Fe)})}}(q,V);var Ne=a.win.getSelection().getRangeAt(0);if(V.nodeType===Node.TEXT_NODE){if(!ae||!a.selection.text().length&&Ee===we){var We=V.textContent.search(/\u200B/g)+1;if(a.browser.msie){var ct=a.doc.createRange();a.selection.get().removeAllRanges(),ct.setStart(V,We),ct.setEnd(V,We),a.selection.get().addRange(ct)}else w!=="a"&&(Ne.setStart(V,We),Ne.setEnd(V,We))}}else{var nt,st,Me=0,tt=f(V).contents();if(a.browser.msie){for(;st=tt[Me];)st.nodeType===Node.TEXT_NODE&&0<=st.textContent.search(/\u200B/g)&&(nt=st),Me++;nt=f(nt)}else nt=tt.filter(function(Ze){return Ze.nodeType===Node.TEXT_NODE&&0<=Ze.textContent.search(/\u200B/g)});if(nt.length&&!a.opts.trackChangesEnabled){var ze=nt.text().search(/\u200B/g)+1;Ne.setStart(nt.get(0),ze),Ne.setEnd(nt.get(0),ze)}}}}function P(w,he){var be=f(w);be.css(he,"");var se=["fr-find-replace-highlight","fr-find-replace-current-highlight"].some(function(re){return be.hasClass(re)});be.attr("style")!==""||se||be.replaceWith(be.html())}function F(w,he){var be,se,re,ie,M=null;if(a.selection.isCollapsed()){a.markers.insert();var W=(se=a.$el.find(".fr-marker")).parent();if(a.node.openTagString(W.get(0))==='<span style="'.concat(w,": ").concat(W.css(w),';">')){if(a.node.isEmpty(W.get(0)))M=f(a.doc.createElement("span")).attr("style","".concat(w,": ").concat(he,";")).html("".concat(xe.INVISIBLE_SPACE).concat(xe.MARKERS)),W.replaceWith(M);else{var K={};K["style*"]="".concat(w,":"),B(se,"span",K,!0),se=a.$el.find(".fr-marker"),he?(M=f(a.doc.createElement("span")).attr("style","".concat(w,": ").concat(he,";")).html("".concat(xe.INVISIBLE_SPACE).concat(xe.MARKERS)),se.replaceWith(M)):se.replaceWith(xe.INVISIBLE_SPACE+xe.MARKERS)}a.html.cleanEmptyTags()}else a.node.isEmpty(W.get(0))&&W.is("span")?(se.replaceWith(xe.MARKERS),W.css(w,he)):(se.get(0).nextSibling&&a.node.isBlock(se.get(0).nextSibling)&&!se.get(0).previousSibling&&se.get(0).parentNode.tagName==="LI"&&se.get(0).nextSibling.prepend(se.get(0)),M=f(he?'<span style="'.concat(w,": ").concat(he,';">').concat(xe.INVISIBLE_SPACE).concat(xe.MARKERS,"</span>"):"<span>".concat(xe.INVISIBLE_SPACE).concat(xe.MARKERS,"</span>")),se.replaceWith(M));M&&H(M,w,he)}else{if(a.selection.save(),he===null||w==="color"&&0<a.$el.find(".fr-marker").parents("u, a").length){var R=a.$el.find(".fr-marker");for(be=0;be<R.length;be++)if((se=f(R[be])).data("type")===!0||se.data("type")==="true")for(;a.node.isFirstSibling(se.get(0))&&!se.parent().is(a.$el)&&!a.node.isElement(se.parent().get(0))&&!a.node.isBlock(se.parent().get(0));)se.parent().before(se);else for(;a.node.isLastSibling(se.get(0))&&!se.parent().is(a.$el)&&!a.node.isElement(se.parent().get(0))&&!a.node.isBlock(se.parent().get(0));)se.parent().after(se)}for(var A=a.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;A.firstChild;)A=A.firstChild;var J={class:"fr-unprocessed"};for((he||w)&&(J.style="".concat(w,": ").concat(he||"",";")),T(A,"span",J),a.$el.find(".fr-marker + .fr-unprocessed").each(function(){f(this).prepend(f(this).prev())}),a.$el.find(".fr-unprocessed + .fr-marker").each(function(){f(this).prev().append(f(this))}),(he||"").match(/\dem$/)&&a.$el.find("span.fr-unprocessed").removeClass("fr-unprocessed");0<a.$el.find("span.fr-unprocessed").length;){if(re=j(M=a.$el.find("span.fr-unprocessed").first().removeClass("fr-unprocessed")),M.parent().get(0).normalize(),M.parent().is("span")&&M.parent().get(0).childNodes.length===1){var V=he;a.browser.msie&&!he&&(V=""),M.parent().css(w,V);var q=M;M=M.parent(),q.replaceWith(q.html()),M.parent().get(0).childNodes.length!==1||he||w!=="background-color"||M.parents("span").css(w,he)}for(ie=M.find("span"),re&&w!=="background-color"&&(re.normalize(),ie=f(re).find("span:not(.fr-unprocessed)")),be=ie.length-1;0<=be;be--)P(ie[be],w);H(M,w,he)}}(function(){for(var Le;0<a.$el.find(".fr-split:empty").length;)a.$el.find(".fr-split:empty").remove();a.$el.find(".fr-split").removeClass("fr-split"),a.$el.find('[style=""]').removeAttr("style"),a.$el.find('[class=""]').removeAttr("class"),a.html.cleanEmptyTags();for(var Ee=a.$el.find("span"),we=Ee.length-1;0<=we;we--){var Ne=Ee[we];Ne.attributes&&Ne.attributes.length!==0||f(Ne).replaceWith(Ne.innerHTML)}a.el.normalize();var We=a.$el.find("span[style] + span[style]");for(Le=0;Le<We.length;Le++){var ct=f(We[Le]),nt=f(We[Le]).prev();ct.get(0).previousSibling===nt.get(0)&&a.node.openTagString(ct.get(0))===a.node.openTagString(nt.get(0))&&(ct.prepend(nt.html()),nt.remove())}a.$el.find("span[style] span[style]").each(function(){if(0<=f(this).attr("style").indexOf("font-size")){var st=f(this).parents("span[style]");st.attr("style")&&0<=st.attr("style").indexOf("background-color")&&(f(this).attr("style",function(tt,ze){var Ze=function(Ye){return Ye.split(";").reduce(function(xt,ft){var Ot=ft.split(":"),Rt=Mt(Ot,2),zt=Rt[0],Zt=Rt[1];return zt&&Zt&&(xt[zt.trim()]=Zt.trim()),xt},{})},qe=Object.assign(Ze(ze),Ze(tt));return Object.entries(qe).map(function(Fe){var Ye=Mt(Fe,2),xt=Ye[0],ft=Ye[1];return"".concat(xt,": ").concat(ft)}).join("; ")}(f(this).attr("style"),st.attr("style"))),B(f(this),"span[style]",{},!1))}}),a.el.normalize(),a.selection.restore()})()}function j(w){var he,be,se,re,ie,M;if((he=w.tagName==="LI"?w:f(w).parentsUntil(a.$el,"li").get(0))&&((M=a.selection.info(he)).atStart&&M.atEnd||M.atStart&&!M.atEnd&&(be=f(he).find(".fr-marker[data-type=false]").get(0),se=f(be).parentsUntil(a.$el,"li").get(0),re=f(be).parentsUntil(se).get(-1),(ie=be.nextSibling)&&0<=["UL","OL"].indexOf(ie.tagName)||!se.isSameNode(he)||!ie&&re&&(re.tagName==="LI"||!re.nextSibling||0<=["UL","OL"].indexOf(re.nextSibling.tagName)||a.node.isVoid(re.nextSibling)))))return he}function H(w,he,be){var se,re,ie,M=w.parentsUntil(a.$el,"span[style]"),W=[];for(se=M.length-1;0<=se;se--)re=M[se],ie=he,f(re).attr("style").indexOf("".concat(ie,":"))===0||0<=f(re).attr("style").indexOf(";".concat(ie,":"))||0<=f(re).attr("style").indexOf("; ".concat(ie,":"))||W.push(M[se]);if((M=M.not(W)).length){var K="",R="",A="",J="",V=w.get(0);do{if(V=V.parentNode,["TABLE","TD","TR"].includes(V.tagName))break;f(V).addClass("fr-split"),K+=a.node.closeTagString(V),R=a.node.openTagString(f(V).clone().addClass("fr-split").get(0))+R,M.get(0)!==V&&(A+=a.node.closeTagString(V),J=a.node.openTagString(f(V).clone().addClass("fr-split").get(0))+J)}while(M.get(0)!==V);var q="".concat(K+a.node.openTagString(f(M.get(0)).clone().css(he,be||"").get(0))+J+w.css(he,"").get(0).outerHTML+A,"</span>").concat(R);w.replaceWith('<span id="fr-break"></span>');var ae=M.get(0).outerHTML;f(M.get(0)).replaceWith(ae.replace(/<span id="fr-break"><\/span>/g,function(){return q}))}}function ee(w,he){he===void 0&&(he={}),he.style&&delete he.style;var be=a.selection.ranges(0),se=be.startContainer;if(se.nodeType===Node.ELEMENT_NODE&&0<se.childNodes.length&&se.childNodes[be.startOffset]&&(se=se.childNodes[be.startOffset]),!be.collapsed&&se.nodeType===Node.TEXT_NODE&&be.startOffset===(se.textContent||"").length){for(;!a.node.isBlock(se.parentNode)&&!se.nextSibling;)se=se.parentNode;se.nextSibling&&(se=se.nextSibling)}for(var re=se;re&&re.nodeType===Node.ELEMENT_NODE&&!O(re,N(w,he));)re=re.firstChild;if(re&&re.nodeType===Node.ELEMENT_NODE&&O(re,N(w,he)))return!0;var ie=se;for(ie&&ie.nodeType!==Node.ELEMENT_NODE&&(ie=ie.parentNode);ie&&ie.nodeType===Node.ELEMENT_NODE&&ie!==a.el&&!O(ie,N(w,he));)ie=ie.parentNode;return!(!ie||ie.nodeType!==Node.ELEMENT_NODE||ie===a.el||!O(ie,N(w,he)))}return{is:ee,toggle:function(he,be){if(a.browser.safari&&a.shared.safariSelection){var se=a.shared.safariSelection,re=se.startContainer,ie=se.endContainer,M=se.startOffset,W=se.endOffset,K=a.doc.createRange();K.setStart(re,M),K.setEnd(ie,W),a.selection.get().removeAllRanges(),a.selection.get().addRange(K),a.shared.safariSelection=null}ee(he,be)?G(he,be):L(he,be)},apply:L,remove:G,applyStyle:F,removeStyle:function(he){F(he,null)}}},xe.MODULES.spaces=function(a){var f=a.$;function N(T,L){var B=T.previousSibling,G=T.nextSibling,P=T.textContent,F=T.parentNode,j=[xe.ENTER_P,xe.ENTER_DIV,xe.ENTER_BR];if(!a.html.isPreformatted(F)){L&&(P=a.opts.preserveTabSpaces?P.replace(/[\f\n\r\v]{2,}/g," "):P.replace(/[\f\n\r\t\v ]{2,}/g," "),G&&G.tagName!=="BR"&&!a.node.isBlock(G)||!(a.node.isBlock(F)||a.node.isLink(F)&&!F.nextSibling||a.node.isElement(F))||(P=P.replace(/[\f\n\r\t\v ]{1,}$/g,"")),B&&B.tagName!=="BR"&&!a.node.isBlock(B)||!(a.node.isBlock(F)||a.node.isLink(F)&&!F.previousSibling||a.node.isElement(F))||(P=P.replace(/^[\f\n\r\t\v ]{1,}/g,"")),(a.node.isBlock(G)||a.node.isBlock(B))&&(!B||B&&B.tagName!=="A")&&(P=P.replace(/^[\f\n\r\t\v ]{1,}/g,"")),P===" "&&(B&&a.node.isVoid(B)||G&&a.node.isVoid(G))&&!(B&&G&&a.node.isVoid(B)||G&&B&&a.node.isVoid(G))&&(P="")),(!B&&a.node.isBlock(G)||!G&&a.node.isBlock(B))&&a.node.isBlock(F)&&F!==a.el&&(P=P.replace(/^[\f\n\r\t\v ]{1,}/g,"")),L||(P=P.replace(new RegExp(xe.UNICODE_NBSP,"g")," "));var H=F.nextSibling&&F.nextSibling.tagName,ee=F.previousSibling&&F.previousSibling.tagName,w=["SPAN","STRONG","U","EM"];H||f(F).parent().each(function(){return w.indexOf(this.tagName)!==-1&&(this.nextSibling?(H=this.nextSibling&&this.nextSibling.tagName,!1):void 0)}),ee||f(F).parent().each(function(){return w.indexOf(this.tagName)!==-1&&(this.previousSibling?(ee=this.previousSibling&&this.previousSibling.tagName,!1):void 0)});for(var he="",be=0;be<P.length;be++)P.charCodeAt(be)!=32||be!==0&&he.charCodeAt(be-1)!=32||T.nodeType===Node.TEXT_NODE&&F.tagName==="SPAN"&&F.parentNode&&0<=w.indexOf(F.parentNode.tagName)&&(0<=w.indexOf(H)||0<=w.indexOf(ee))||!((a.opts.enter===xe.ENTER_BR||a.opts.enter===xe.ENTER_DIV)&&(B&&B.tagName==="BR"||G&&G.tagName==="BR")||B&&G&&B.tagName===G.tagName||!(B&&G&&a.node.isVoid(B)||B&&G&&a.node.isVoid(G))||B&&G&&0<=["STRONG","U","EM"].indexOf(B.tagName)&&G.tagName==="BR")?he+=P[be]:he+=xe.UNICODE_NBSP;a.browser.chrome&&1<he.length&&he.charCodeAt(he.length-1)===32&&(G&&G.nextSibling&&G.nextSibling.nextSibling&&G.nextSibling.nextSibling.tagName==="BR"||G&&G.tagName==="BR")&&(he=he.substring(0,he.length-1)+xe.UNICODE_NBSP),!(!G||G&&a.node.isBlock(G)||G&&G.nodeType===Node.ELEMENT_NODE&&a.win.getComputedStyle(G)&&a.win.getComputedStyle(G).display==="block")||T.nodeType===Node.TEXT_NODE&&F.tagName==="SPAN"&&F.parentNode&&0<=w.indexOf(F.parentNode.tagName)&&(0<=w.indexOf(H)||0<=w.indexOf(ee))||(!a.node.isVoid(B)||B&&["P","DIV","BR"].indexOf(B.tagName)!==-1&&j.indexOf(a.opts.enter)!==-1)&&(he=he.replace(/ $/,xe.UNICODE_NBSP)),!B||a.node.isVoid(B)||a.node.isBlock(B)||(he=he.replace(/^\u00A0([^ $])/," $1")).length!==1||he.charCodeAt(0)!==160||!G||a.node.isVoid(G)||a.node.isBlock(G)||a.node.hasClass(B,"fr-marker")&&a.node.hasClass(G,"fr-marker")||(he=" "),L||(he=he.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2")),T.textContent!==he&&(T.textContent=he)}}function O(T,L){if(T!==void 0&&T||(T=a.el),L===void 0&&(L=!1),!T.getAttribute||T.getAttribute("contenteditable")!=="false"){if(T.nodeType===Node.TEXT_NODE)N(T,L);else if(T.nodeType===Node.ELEMENT_NODE)for(var B=a.doc.createTreeWalker(T,NodeFilter.SHOW_TEXT,a.node.filter(function(G){for(var P=G.parentNode;P&&P!==a.el;){if(P.tagName==="STYLE"||P.tagName==="IFRAME"||P.tagName==="PRE")return!1;P=P.parentNode}return G.textContent.match(/([ \u00A0\f\n\r\t\v]{2,})|(^[ \u00A0\f\n\r\t\v]{1,})|([ \u00A0\f\n\r\t\v]{1,}$)/g)!==null&&!a.node.hasClass(G.parentNode,"fr-marker")}),!1);B.nextNode();)N(B.currentNode,L)}}return{normalize:O,normalizeAroundCursor:function(){for(var L=[],B=a.el.querySelectorAll(".fr-marker"),G=0;G<B.length;G++){for(var P=null,F=a.node.blockParent(B[G]),j=(P=F||B[G]).nextSibling,H=P.previousSibling;j&&j.tagName==="BR";)j=j.nextSibling;for(;H&&H.tagName==="BR";)H=H.previousSibling;P&&L.indexOf(P)<0&&L.push(P),H&&L.indexOf(H)<0&&L.push(H),j&&L.indexOf(j)<0&&L.push(j)}for(var ee=0;ee<L.length;ee++)O(L[ee])}}},xe.INVISIBLE_SPACE="&#8203;",xe.HAIR_SPACE="&#8202;",xe.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'.concat(xe.INVISIBLE_SPACE,"</span>"),xe.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'.concat(xe.INVISIBLE_SPACE,"</span>"),xe.MARKERS=xe.START_MARKER+xe.END_MARKER,xe.MODULES.markers=function(a){var f=a.$;function N(){if(!a.$wp)return null;try{var T=a.selection.ranges(0),L=T.commonAncestorContainer;if(L!==a.el&&!a.$el.contains(L))return null;var B=T.cloneRange(),G=T.cloneRange();B.collapse(!0);var P=f(a.doc.createElement("SPAN")).addClass("fr-marker").attr("style","display: none; line-height: 0;").html(xe.INVISIBLE_SPACE).get(0);if(B.insertNode(P),P=a.$el.find("span.fr-marker").get(0)){for(var F=P.nextSibling;F&&F.nodeType===Node.TEXT_NODE&&F.textContent.length===0;)f(F).remove(),F=a.$el.find("span.fr-marker").get(0).nextSibling;return a.selection.clear(),a.selection.get().addRange(G),P}return null}catch{}}function O(){a.$el.find(".fr-marker").remove()}return{place:function(L,B,G){var P,F,j;try{var H=L.cloneRange();if(H.collapse(B),H.insertNode(function(he,be){var se=f(a.doc.createElement("SPAN"));return se.addClass("fr-marker").attr("data-id",be).attr("data-type",he).attr("style","display: ".concat(a.browser.safari?"none":"inline-block","; line-height: 0;")).html(xe.INVISIBLE_SPACE),se.get(0)}(B,G)),B===!0)for(j=(P=a.$el.find('span.fr-marker[data-type="true"][data-id="'.concat(G,'"]')).get(0)).nextSibling;j&&j.nodeType===Node.TEXT_NODE&&j.textContent.length===0;)f(j).remove(),j=P.nextSibling;if(B===!0&&!L.collapsed){for(;!a.node.isElement(P.parentNode)&&!j;)-1</\bfa\b/g.test(P.parentNode.className)&&P.parentNode.tagName==="I"?f(P.parentNode).before(P):f(P.parentNode).after(P),j=P.nextSibling;if(j&&j.nodeType===Node.ELEMENT_NODE&&a.node.isBlock(j)&&j.tagName!=="HR"){for(F=[j];j=F[0],(F=a.node.contents(j))[0]&&a.node.isBlock(F[0]););f(j).prepend(f(P))}}if(B===!1&&!L.collapsed){if((j=(P=a.$el.find('span.fr-marker[data-type="false"][data-id="'.concat(G,'"]')).get(0)).previousSibling)&&j.nodeType===Node.ELEMENT_NODE&&a.node.isBlock(j)&&!["TABLE","HR"].includes(j.tagName)){for(F=[j];j=F[F.length-1],(F=a.node.contents(j))[F.length-1]&&a.node.isBlock(F[F.length-1]););f(j).append(f(P))}(P.parentNode&&0<=["TD","TH"].indexOf(P.parentNode.tagName)||!P.previousSibling&&a.node.isBlock(P.parentElement))&&(P.parentNode.previousSibling&&!P.previousSibling?f(P.parentNode.previousSibling).append(P):0<=["TD","TH"].indexOf(P.parentNode.tagName)&&P.parentNode.firstChild===P&&(P.parentNode.previousSibling?f(P.parentNode.previousSibling).append(P):P.parentNode.parentNode&&P.parentNode.parentNode.previousSibling&&f(P.parentNode.parentNode.previousSibling).append(P)))}var ee=a.$el.find('span.fr-marker[data-type="'.concat(B,'"][data-id="').concat(G,'"]')).get(0);return ee&&(ee.style.display="none"),ee}catch{return null}},insert:N,split:function(){a.selection.isCollapsed()||a.selection.remove();var L=a.$el.find(".fr-marker").get(0);if(L||(L=N()),!L)return null;var B=a.node.deepestParent(L);if(B||(B=a.node.blockParent(L))&&B.tagName!=="LI"&&(B=null),B){if(a.node.isBlock(B)&&a.node.isEmpty(B))B.tagName!=="LI"||B.parentNode.firstElementChild!==B||a.node.isEmpty(B.parentNode)?f(B).replaceWith('<span class="fr-marker"></span>'):f(B).append('<span class="fr-marker"></span>');else if(a.cursor.isAtStart(L,B))f(B).before('<span class="fr-marker"></span>'),f(L).remove();else if(a.cursor.isAtEnd(L,B))f(B).after('<span class="fr-marker"></span>'),f(L).remove();else if(B.contentEditable!=="true"){for(var G=L,P="",F="";G=G.parentNode,P+=a.node.closeTagString(G),F=a.node.openTagString(G)+F,G!==B;);f(L).replaceWith('<span id="fr-break"></span>');var j=a.node.openTagString(B)+f(B).html()+a.node.closeTagString(B);j=j.replace(/<span id="fr-break"><\/span>/g,"".concat(P,'<span class="fr-marker"></span>').concat(F)),f(B).replaceWith(j)}}return a.$el.find(".fr-marker").get(0)},insertAtPoint:function(L){var B,G=L.clientX,P=L.clientY;O();var F=null;if(typeof a.doc.caretPositionFromPoint<"u"?(B=a.doc.caretPositionFromPoint(G,P),(F=a.doc.createRange()).setStart(B.offsetNode,B.offset),F.setEnd(B.offsetNode,B.offset)):typeof a.doc.caretRangeFromPoint<"u"&&(B=a.doc.caretRangeFromPoint(G,P),(F=a.doc.createRange()).setStart(B.startContainer,B.startOffset),F.setEnd(B.startContainer,B.startOffset)),F!==null&&typeof a.win.getSelection<"u"){var j=a.win.getSelection();j.removeAllRanges(),j.addRange(F)}else if(typeof a.doc.body.createTextRange<"u")try{(F=a.doc.body.createTextRange()).moveToPoint(G,P);var H=F.duplicate();H.moveToPoint(G,P),F.setEndPoint("EndToEnd",H),F.select()}catch{return!1}N()},remove:O}},xe.MODULES.selection=function(a){var f=a.$;function N(){var ie="";return a.win.getSelection?ie=a.win.getSelection():a.doc.getSelection?ie=a.doc.getSelection():a.doc.selection&&(ie=a.doc.selection.createRange().text),ie.toString()}function O(){return a.win.getSelection?a.win.getSelection():a.doc.getSelection?a.doc.getSelection():a.doc.selection.createRange()}function T(ie){var M=O(),W=[];if(M&&M.getRangeAt&&M.rangeCount){W=[];for(var K=0;K<M.rangeCount;K++)W.push(M.getRangeAt(K))}else W=a.doc.createRange?[a.doc.createRange()]:[];return ie!==void 0?W[ie]:W}function L(){var ie=O();try{ie.removeAllRanges?ie.removeAllRanges():ie.empty?ie.empty():ie.clear&&ie.clear()}catch{}}function B(ie,M){var W=ie;return W.nodeType===Node.ELEMENT_NODE&&0<W.childNodes.length&&W.childNodes[M]&&(W=W.childNodes[M]),W.nodeType===Node.TEXT_NODE&&(W=W.parentNode),W}function G(){if(a.$wp){a.markers.remove();var ie,M,W=T(),K=[];for(M=0;M<W.length;M++)if(W[M].startContainer!==a.doc||a.browser.msie){var R=(ie=W[M]).collapsed,A=a.markers.place(ie,!0,M),J=a.markers.place(ie,!1,M);if(A!==void 0&&A||!R||(f(".fr-marker").remove(),a.selection.setAtEnd(a.el)),a.el.normalize(),a.browser.safari&&!R)try{(ie=a.doc.createRange()).setStartAfter(A),ie.setEndBefore(J),K.push(ie)}catch{}}if(a.browser.safari&&K.length)for(a.selection.clear(),M=0;M<K.length;M++)a.selection.get().addRange(K[M])}}function P(){var ie,M=a.el.querySelectorAll('.fr-marker[data-type="true"]');if(!a.$wp)return a.markers.remove(),!1;if(M.length===0)return!1;if(a.browser.msie||a.browser.edge)for(ie=0;ie<M.length;ie++)M[ie].style.display="inline-block";a.core.hasFocus()||a.browser.msie||a.browser.webkit||a.$el.focus(),L();var W=O();for(ie=0;ie<M.length;ie++){var K=f(M[ie]).data("id"),R=M[ie],A=a.doc.createRange(),J=a.$el.find('.fr-marker[data-type="false"][data-id="'.concat(K,'"]'));(a.browser.msie||a.browser.edge)&&J.css("display","inline-block");var V=null;if(0<J.length){J=J[0];try{for(var q=!1,ae=R.nextSibling,Le=null;ae&&ae.nodeType===Node.TEXT_NODE&&ae.textContent.length===0;)ae=(Le=ae).nextSibling,f(Le).remove();for(var Ee=J.nextSibling;Ee&&Ee.nodeType===Node.TEXT_NODE&&Ee.textContent.length===0;)Ee=(Le=Ee).nextSibling,f(Le).remove();if(R.nextSibling===J||J.nextSibling===R){for(var we=R.nextSibling===J?R:J,Ne=we===R?J:R,We=we.previousSibling;We&&We.nodeType===Node.TEXT_NODE&&We.length===0;)We=(Le=We).previousSibling,f(Le).remove();if(We&&We.nodeType===Node.TEXT_NODE)for(;We&&We.previousSibling&&We.previousSibling.nodeType===Node.TEXT_NODE;)We.previousSibling.textContent+=We.textContent,We=We.previousSibling,f(We.nextSibling).remove();for(var ct=Ne.nextSibling;ct&&ct.nodeType===Node.TEXT_NODE&&ct.length===0;)ct=(Le=ct).nextSibling,f(Le).remove();if(ct&&ct.nodeType===Node.TEXT_NODE)for(;ct&&ct.nextSibling&&ct.nextSibling.nodeType===Node.TEXT_NODE;)ct.nextSibling.textContent=ct.textContent+ct.nextSibling.textContent,ct=ct.nextSibling,f(ct.previousSibling).remove();if(We&&(a.node.isVoid(We)||a.node.isBlock(We))&&(We=null),ct&&(a.node.isVoid(ct)||a.node.isBlock(ct))&&(ct=null),We&&ct&&We.nodeType===Node.TEXT_NODE&&ct.nodeType===Node.TEXT_NODE){f(R).remove(),f(J).remove();var nt=We.textContent.length;We.textContent+=ct.textContent,f(ct).remove(),a.spaces.normalize(We),A.setStart(We,nt),A.setEnd(We,nt),q=!0}else!We&&ct&&ct.nodeType===Node.TEXT_NODE?(f(R).remove(),f(J).remove(),a.opts.htmlUntouched||a.spaces.normalize(ct),V=f(a.doc.createTextNode("")).get(0),f(ct).before(V),A.setStart(ct,0),A.setEnd(ct,0),q=!0):!ct&&We&&We.nodeType===Node.TEXT_NODE&&(f(R).remove(),f(J).remove(),a.opts.htmlUntouched||a.spaces.normalize(We),V=f(a.doc.createTextNode("")).get(0),f(We).after(V),A.setStart(We,We.textContent.length),A.setEnd(We,We.textContent.length),q=!0)}if(!q){var st=void 0,Me=void 0;Me=(a.browser.chrome||a.browser.edge||a.helpers.isIOS())&&R.nextSibling===J?(st=F(J,A,!0)||A.setStartAfter(J),F(R,A,!1)||A.setEndBefore(R)):(R.previousSibling===J&&(J=(R=J).nextSibling),J.nextSibling&&J.nextSibling.tagName==="BR"||!J.nextSibling&&a.node.isBlock(R.previousSibling)||R.previousSibling&&R.previousSibling.tagName==="BR"||(R.style.display="inline",J.style.display="inline",V=f(a.doc.createTextNode("")).get(0)),st=F(R,A,!0)||f(R).before(V)&&A.setStartBefore(R),F(J,A,!1)||f(J).after(V)&&A.setEndAfter(J)),typeof st=="function"&&st(),typeof Me=="function"&&Me()}}catch{}}V&&f(V).remove();try{W.addRange(A)}catch{}}a.markers.remove()}function F(ie,M,W){var K,R=ie.previousSibling,A=ie.nextSibling;return R&&A&&R.nodeType===Node.TEXT_NODE&&A.nodeType===Node.TEXT_NODE?(K=R.textContent.length,W?(A.textContent=R.textContent+A.textContent,f(R).remove(),f(ie).remove(),a.opts.htmlUntouched||a.spaces.normalize(A),function(){M.setStart(A,K)}):(R.textContent+=A.textContent,f(A).remove(),f(ie).remove(),a.opts.htmlUntouched||a.spaces.normalize(R),function(){M.setEnd(R,K)})):R&&!A&&R.nodeType===Node.TEXT_NODE?(K=R.textContent.length,W?(a.opts.htmlUntouched||a.spaces.normalize(R),function(){M.setStart(R,K)}):(a.opts.htmlUntouched||a.spaces.normalize(R),function(){M.setEnd(R,K)})):!(!A||R||A.nodeType!==Node.TEXT_NODE)&&(W?(a.opts.htmlUntouched||a.spaces.normalize(A),function(){M.setStart(A,0)}):(a.opts.htmlUntouched||a.spaces.normalize(A),function(){M.setEnd(A,0)}))}function j(){for(var ie=T(),M=0;M<ie.length;M++)if(!ie[M].collapsed)return!1;return!0}function H(ie){var M,W,K=!1,R=!1;if(a.win.getSelection){var A=a.win.getSelection();A.rangeCount&&((W=(M=A.getRangeAt(0)).cloneRange()).selectNodeContents(ie),W.setEnd(M.startContainer,M.startOffset),K=ee(W),W.selectNodeContents(ie),W.setStart(M.endContainer,M.endOffset),R=ee(W))}else a.doc.selection&&a.doc.selection.type!=="Control"&&((W=(M=a.doc.selection.createRange()).duplicate()).moveToElementText(ie),W.setEndPoint("EndToStart",M),K=ee(W),W.moveToElementText(ie),W.setEndPoint("StartToEnd",M),R=ee(W));return{atStart:K,atEnd:R}}function ee(ie){return ie.toString().replace(/[\u200B-\u200D\uFEFF]/g,"")===""}function w(ie,M){M===void 0&&(M=!0);var W=f(ie).html();W&&W.replace(/\u200b/g,"").length!==W.length&&f(ie).html(W.replace(/\u200b/g,""));for(var K=a.node.contents(ie),R=0;R<K.length;R++)K[R].nodeType!==Node.ELEMENT_NODE?f(K[R]).remove():(w(K[R],R===0),R===0&&(M=!1));if(ie.nodeType===Node.TEXT_NODE){var A=f(document.createElement("span")).attr("data-first","true").attr("data-text","true");f(ie)[0].replaceWith(A[0])}else M&&f(ie).attr("data-first",!0)}function he(){return f(this).find("fr-inner").length===0}function be(){try{if(!a.$wp)return!1;for(var ie=T(0).commonAncestorContainer;ie&&!a.node.isElement(ie);)ie=ie.parentNode;return!!a.node.isElement(ie)}catch{return!1}}function se(ie,M){if(!ie||0<ie.getElementsByClassName("fr-marker").length)return!1;for(var W=ie.firstChild;W&&(a.node.isBlock(W)||M&&!a.node.isVoid(W)&&W.nodeType===Node.ELEMENT_NODE);)W=(ie=W).firstChild;ie.innerHTML=xe.MARKERS+ie.innerHTML}function re(ie,M){if(!ie||0<ie.getElementsByClassName("fr-marker").length)return!1;for(var W=ie.lastChild;W&&(a.node.isBlock(W)||M&&!a.node.isVoid(W)&&W.nodeType===Node.ELEMENT_NODE);)W=(ie=W).lastChild;var K=a.doc.createElement("SPAN");for(K.setAttribute("id","fr-sel-markers"),K.innerHTML=xe.MARKERS;ie.parentNode&&a.opts.htmlAllowedEmptyTags&&0<=a.opts.htmlAllowedEmptyTags.indexOf(ie.tagName.toLowerCase());)ie=ie.parentNode;ie.appendChild(K);var R=ie.querySelector("#fr-sel-markers");R.outerHTML=R.innerHTML}return{text:N,get:O,ranges:T,clear:L,element:function(){var M=O();try{if(M.rangeCount){var W,K=T(0),R=K.startContainer;if(a.node.isElement(R)&&K.startOffset===0&&R.childNodes.length)for(;R.childNodes.length&&R.childNodes[0].nodeType===Node.ELEMENT_NODE;)R=R.childNodes[0];if(R.nodeType===Node.TEXT_NODE&&K.startOffset===(R.textContent||"").length&&R.nextSibling&&(R=R.nextSibling),R.nodeType===Node.ELEMENT_NODE){var A=!1;if(a.node.isElement(R)&&R.textContent==""&&R.childNodes[0].tagName=="IMG"&&R.childNodes.length)for(;R.childNodes.length&&R.childNodes[0].nodeType===Node.ELEMENT_NODE;)R=R.childNodes[0];if(0<R.childNodes.length&&R.childNodes[K.startOffset]){for(W=R.childNodes[K.startOffset];W&&W.nodeType===Node.TEXT_NODE&&W.textContent.length===0;)W=W.nextSibling;if(W&&W.textContent.replace(/\u200B/g,"")===N().replace(/\u200B/g,"")&&(R=W,A=!0),!A&&1<R.childNodes.length&&0<K.startOffset&&R.childNodes[K.startOffset-1]){for(W=R.childNodes[K.startOffset-1];W&&W.nodeType===Node.TEXT_NODE&&W.textContent.length===0;)W=W.nextSibling;W&&W.textContent.replace(/\u200B/g,"")===N().replace(/\u200B/g,"")&&(R=W,A=!0)}}else!K.collapsed&&R.nextSibling&&R.nextSibling.nodeType===Node.ELEMENT_NODE&&(W=R.nextSibling)&&W.textContent.replace(/\u200B/g,"")===N().replace(/\u200B/g,"")&&(R=W,A=!0);!A&&0<R.childNodes.length&&f(R.childNodes[0]).text().replace(/\u200B/g,"")===N().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(R.childNodes[0].tagName)<0&&(R=R.childNodes[0])}for(;R.nodeType!==Node.ELEMENT_NODE&&R.parentNode;)R=R.parentNode;for(var J=R;J&&J.tagName!=="HTML";){if(J===a.el)return R;J=f(J).parent()[0]}}}catch{}return a.el},endElement:function(){var M=O();try{if(M.rangeCount){var W,K=T(0),R=K.endContainer;if(R.nodeType===Node.ELEMENT_NODE){var A=!1;0<R.childNodes.length&&R.childNodes[K.endOffset]&&f(R.childNodes[K.endOffset]).text()===N()?(R=R.childNodes[K.endOffset],A=!0):!K.collapsed&&R.previousSibling&&R.previousSibling.nodeType===Node.ELEMENT_NODE?(W=R.previousSibling)&&W.textContent.replace(/\u200B/g,"")===N().replace(/\u200B/g,"")&&(R=W,A=!0):!K.collapsed&&0<R.childNodes.length&&R.childNodes[K.endOffset]&&(W=R.childNodes[K.endOffset].previousSibling).nodeType===Node.ELEMENT_NODE&&W&&W.textContent.replace(/\u200B/g,"")===N().replace(/\u200B/g,"")&&(R=W,A=!0),!A&&0<R.childNodes.length&&f(R.childNodes[R.childNodes.length-1]).text()===N()&&["BR","IMG","HR"].indexOf(R.childNodes[R.childNodes.length-1].tagName)<0&&(R=R.childNodes[R.childNodes.length-1])}for(R.nodeType===Node.TEXT_NODE&&K.endOffset===0&&R.previousSibling&&R.previousSibling.nodeType===Node.ELEMENT_NODE&&(R=R.previousSibling);R.nodeType!==Node.ELEMENT_NODE&&R.parentNode;)R=R.parentNode;for(var J=R;J&&J.tagName!=="HTML";){if(J===a.el)return R;J=f(J).parent()[0]}}}catch{}return a.el},save:G,restore:P,isCollapsed:j,isFull:function(){if(j())return!1;a.selection.save();var M,W=a.el.querySelectorAll("td, th, img, br, iframe");for(M=0;M<W.length;M++)(W[M].nextSibling||W[M].tagName==="IMG"||W[M].tagName==="IFRAME")&&(W[M].innerHTML='<span class="fr-mk" style="display: none;">&nbsp;</span>'.concat(W[M].innerHTML));var K=!1,R=H(a.el);for(R.atStart&&R.atEnd&&(K=!0),W=a.el.querySelectorAll(".fr-mk"),M=0;M<W.length;M++)W[M].parentNode.removeChild(W[M]);return a.selection.restore(),K},inEditor:be,remove:function(){if(j())return!0;var M;function W(ze){for(var Ze=ze.previousSibling;Ze&&Ze.nodeType===Node.TEXT_NODE&&Ze.textContent.length===0;){var qe=Ze;Ze=Ze.previousSibling,f(qe).remove()}return Ze}function K(ze){for(var Ze=ze.nextSibling;Ze&&Ze.nodeType===Node.TEXT_NODE&&Ze.textContent.length===0;){var qe=Ze;Ze=Ze.nextSibling,f(qe).remove()}return Ze}G();var R=a.$el.find('.fr-marker[data-type="true"]');for(M=0;M<R.length;M++)for(var A=R[M];!(W(A)||a.node.isBlock(A.parentNode)||a.$el.is(A.parentNode)||a.node.hasClass(A.parentNode,"fr-inner"));)f(A.parentNode).before(A);var J=a.$el.find('.fr-marker[data-type="false"]');for(M=0;M<J.length;M++){for(var V=J[M];!(K(V)||a.node.isBlock(V.parentNode)||a.$el.is(V.parentNode)||a.node.hasClass(V.parentNode,"fr-inner"));)f(V.parentNode).after(V);V.parentNode&&a.node.isBlock(V.parentNode)&&a.node.isEmpty(V.parentNode)&&!a.$el.is(V.parentNode)&&!a.node.hasClass(V.parentNode,"fr-inner")&&a.opts.keepFormatOnDelete&&f(V.parentNode).after(V)}if(function(){for(var Ze=a.$el.find(".fr-marker"),qe=0;qe<Ze.length;qe++)if(f(Ze[qe]).parentsUntil('.fr-element, [contenteditable="true"]','[contenteditable="false"]').length)return!1;return!0}()){(function ze(Ze,qe){var Fe=a.node.contents(Ze.get(0));0<=["TD","TH"].indexOf(Ze.get(0).tagName)&&Ze.find(".fr-marker").length===1&&(a.node.hasClass(Fe[0],"fr-marker")||Fe[0].tagName=="BR"&&a.node.hasClass(Fe[0].nextElementSibling,"fr-marker"))&&Ze.attr("data-del-cell",!0);for(var Ye=0;Ye<Fe.length;Ye++){var xt=Fe[Ye];a.node.hasClass(xt,"fr-marker")?qe=(qe+1)%2:qe?0<f(xt).find(".fr-marker").length?qe=ze(f(xt),qe):["TD","TH"].indexOf(xt.tagName)<0&&!a.node.hasClass(xt,"fr-inner")?!a.opts.keepFormatOnDelete||0<a.$el.find("[data-first]").length||a.node.isVoid(xt)?f(xt).remove():w(xt):a.node.hasClass(xt,"fr-inner")?f(xt).find(".fr-inner").length===0?f(xt).html("<br>"):f(xt).find(".fr-inner").filter(he).html("<br>"):(f(xt).empty(),f(xt).attr("data-del-cell",!0)):0<f(xt).find(".fr-marker").length&&(qe=ze(f(xt),qe))}return qe})(a.$el,0);var q=a.$el.find('[data-first="true"]');if(q.length)a.$el.find(".fr-marker").remove(),q.append(xe.INVISIBLE_SPACE+xe.MARKERS).removeAttr("data-first"),q.attr("data-text")&&q.replaceWith(q.html());else for(a.$el.find("table").filter(function(){return 0<f(this).find("[data-del-cell]").length&&f(this).find("[data-del-cell]").length===f(this).find("td, th").length}).remove(),a.$el.find("[data-del-cell]").removeAttr("data-del-cell"),R=a.$el.find('.fr-marker[data-type="true"]'),M=0;M<R.length;M++){var ae=R[M],Le=ae.nextSibling,Ee=a.$el.find('.fr-marker[data-type="false"][data-id="'.concat(f(ae).data("id"),'"]')).get(0);if(Ee){if(ae&&(!Le||Le!==Ee)){var we=a.node.blockParent(ae),Ne=a.node.blockParent(Ee),We=!1,ct=!1;if(we&&0<=["UL","OL"].indexOf(we.tagName)&&(We=!(we=null)),Ne&&0<=["UL","OL"].indexOf(Ne.tagName)&&(ct=!(Ne=null)),f(ae).after(Ee),we!==Ne)if(we!==null||We)if(Ne!==null||ct||f(we).parentsUntil(a.$el,"table").length!==0)we&&Ne&&f(we).parentsUntil(a.$el,"table").length===0&&f(Ne).parentsUntil(a.$el,"table").length===0&&!f(we).contains(Ne)&&!f(Ne).contains(we)&&(f(we).append(f(Ne).html()),f(Ne).remove());else{for(Le=we;!Le.nextSibling&&Le.parentNode!==a.el;)Le=Le.parentNode;for(Le=Le.nextSibling;Le&&Le.tagName!=="BR";){var nt=Le.nextSibling;f(we).append(Le),Le=nt}Le&&Le.tagName==="BR"&&f(Le).remove()}else{var st=a.node.deepestParent(ae);st?(f(st).after(f(Ne).html()),f(Ne).remove()):f(Ne).parentsUntil(a.$el,"table").length===0&&(f(ae).next().after(f(Ne).html()),f(Ne).remove())}}}else Ee=f(ae).clone().attr("data-type",!1),f(ae).after(Ee)}}a.$el.find("li:empty").remove(),a.opts.keepFormatOnDelete||a.html.fillEmptyBlocks(),a.html.cleanEmptyTags(!0),a.opts.htmlUntouched||(a.clean.lists(),a.$el.find("li:empty").append("<br>"),a.spaces.normalize());var Me=a.$el.find(".fr-marker").last().get(0),tt=a.$el.find(".fr-marker").first().get(0);Me!==void 0&&tt!==void 0&&!Me.nextSibling&&tt.previousSibling&&tt.previousSibling.tagName==="BR"&&a.node.isElement(Me.parentNode)&&a.node.isElement(tt.parentNode)&&a.$el.append("<br>"),P()},blocks:function(M,W){var K,R,A=[],J=O();if(be()&&J.rangeCount){var V=T();for(K=0;K<V.length;K++){var q=V[K],ae=B(q.startContainer,q.startOffset),Le=B(q.endContainer,q.endOffset);(R=a.node.blockParent(ae))&&A.indexOf(R)<0&&A.push(R),(a.node.isBlock(ae)||a.node.hasClass(ae,"fr-inner"))&&A.indexOf(ae)<0&&A.push(ae);for(var Ee=[],we=ae;we!==Le&&we!==a.el;)Ee.indexOf(we)<0&&we.children&&we.children.length?(Ee.push(we),we=we.children[0]):we.nextSibling?we=we.nextSibling:we.parentNode&&(we=we.parentNode,Ee.push(we)),a.node.isBlock(we)&&Ee.indexOf(we)<0&&A.indexOf(we)<0&&(we!==Le||0<q.endOffset)&&A.push(we);a.node.isBlock(Le)&&A.indexOf(Le)<0&&0<q.endOffset&&A.push(Le),(R=a.node.blockParent(Le))&&A.indexOf(R)<0&&A.push(R)}}for(K=A.length-1;0<K;K--)if(f(A[K-1]).contains(A[K])){if(M&&f(A[K]).find("ul, ol").length||W&&A[K-1].tagName=="LI")continue;A.splice(K-1,1)}else if(f(A[K]).contains(A[K-1])){if(M&&f(A[K]).find("ul, ol").length)continue;A.splice(K,1)}return A},info:H,setAtEnd:re,setAtStart:se,setBefore:function(M,W){W===void 0&&(W=!0);for(var K=M.previousSibling;K&&K.nodeType===Node.TEXT_NODE&&K.textContent.length===0;)K=K.previousSibling;return K?(a.node.isBlock(K)?re(K):K.tagName==="BR"?f(K).before(xe.MARKERS):f(K).after(xe.MARKERS),!0):!!W&&(a.node.isBlock(M)?se(M):f(M).before(xe.MARKERS),!0)},setAfter:function(M,W){W===void 0&&(W=!0);for(var K=M.nextSibling;K&&K.nodeType===Node.TEXT_NODE&&K.textContent.length===0;)K=K.nextSibling;return K?(a.node.isBlock(K)?se(K):f(K).before(xe.MARKERS),!0):!!W&&(a.node.isBlock(M)?re(M):f(M).after(xe.MARKERS),!0)},rangeElement:B}},Object.assign(xe.DEFAULTS,{language:null}),xe.LANGUAGE={},xe.MODULES.language=function(a){var f;return{_init:function(){xe.LANGUAGE&&(f=xe.LANGUAGE[a.opts.language]),f&&f.direction&&(a.opts.direction=f.direction)},translate:function(O){return f&&f.translation[O]&&f.translation[O].length?f.translation[O]:O}}},Object.assign(xe.DEFAULTS,{placeholderText:"Type something"}),xe.MODULES.placeholder=function(a){var f=a.$;function N(){a.$placeholder||function(){a.$placeholder=f(a.doc.createElement("SPAN")).addClass("fr-placeholder"),a.$wp.append(a.$placeholder)}();var L=a.opts.iframe?a.$iframe.prev().outerHeight(!0):a.$el.prev().outerHeight(!0),B=0,G=0,P=0,F=0,j=0,H=0,ee=a.node.contents(a.el),w=a.selection.element(),he=f(w).css("text-align");if(ee.length&&ee[0].nodeType===Node.ELEMENT_NODE){var be=f(ee[0]);(0<a.$wp.prev().length||0<a.$el.prev().length)&&a.ready&&(B=a.helpers.getPX(be.css("margin-top")),F=a.helpers.getPX(be.css("padding-top")),G=a.helpers.getPX(be.css("margin-left")),P=a.helpers.getPX(be.css("margin-right")),j=a.helpers.getPX(be.css("padding-left")),H=a.helpers.getPX(be.css("padding-right")));var se=be.children().first(),re=w===a.el?se.length?se:be:f(w);a.$placeholder.css("font-size",re.css("font-size")),a.$placeholder.css("line-height",re.css("line-height")),a.$placeholder.css("font-family",re.css("font-family"))}else a.$placeholder.css("font-size",a.$el.css("font-size")),a.$placeholder.css("line-height",a.$el.css("line-height")),a.$placeholder.css("font-family",a.$el.css("font-family"));a.$wp.addClass("show-placeholder"),a.$placeholder.css({marginTop:Math.max(a.helpers.getPX(a.$el.css("margin-top")),B)+(L||0),paddingTop:Math.max(a.helpers.getPX(a.$el.css("padding-top")),F),paddingLeft:Math.max(a.helpers.getPX(a.$el.css("padding-left")),j),marginLeft:Math.max(a.helpers.getPX(a.$el.css("margin-left")),G),paddingRight:Math.max(a.helpers.getPX(a.$el.css("padding-right")),H),marginRight:Math.max(a.helpers.getPX(a.$el.css("margin-right")),P),textAlign:he}).text(a.language.translate(a.opts.placeholderText||a.$oel.attr("placeholder")||"")),a.$placeholder.html(a.$placeholder.text().replace(/\n/g,"<br>"))}function O(){a.$wp.removeClass("show-placeholder")}function T(){if(!a.$wp)return!1;a.core.isEmpty()?N():O()}return{_init:function(){if(!a.$wp)return!1;a.events.on("init input keydown keyup contentChanged initialized",T)},show:N,hide:O,refresh:T,isVisible:function(){return!a.$wp||a.node.hasClass(a.$wp.get(0),"show-placeholder")}}},xe.UNICODE_NBSP="",xe.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],xe.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],Object.assign(xe.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon",".fr-inner","path","line","hr"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1,htmlIgnoreCSSProperties:[],htmlExecuteScripts:!0}),xe.MODULES.html=function(a){var f=a.$;function N(){return a.opts.enter===xe.ENTER_P?"p":a.opts.enter===xe.ENTER_DIV?"div":a.opts.enter===xe.ENTER_BR?null:void 0}function O(ze,Ze){return!(!ze||ze===a.el)&&(Ze?["PRE","SCRIPT","STYLE"].indexOf(ze.tagName)!=-1||O(ze.parentNode,Ze):["PRE","SCRIPT","STYLE"].indexOf(ze.tagName)!==-1)}function T(ze){var Ze,qe=[],Fe=[];if(ze){var Ye=a.el.querySelectorAll(".fr-marker");for(Ze=0;Ze<Ye.length;Ze++){var xt=a.node.blockParent(Ye[Ze])||Ye[Ze];if(xt){var ft=xt.nextSibling,Ot=xt.previousSibling;xt&&Fe.indexOf(xt)<0&&a.node.isBlock(xt)&&Fe.push(xt),Ot&&a.node.isBlock(Ot)&&Fe.indexOf(Ot)<0&&Fe.push(Ot),ft&&a.node.isBlock(ft)&&Fe.indexOf(ft)<0&&Fe.push(ft)}}}else Fe=a.el.querySelectorAll(L());var Rt=L();for(Rt+=",".concat(xe.VOID_ELEMENTS.join(",")),Rt+=", .fr-inner",Rt+=",".concat(a.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),"),":not(.fr-marker)"),Ze=Fe.length-1;0<=Ze;Ze--)if(!(Fe[Ze].textContent&&0<Fe[Ze].textContent.replace(/\u200B|\n/g,"").length||0<Fe[Ze].querySelectorAll(Rt).length)){for(var zt=a.node.contents(Fe[Ze]),Zt=!1,wn=0;wn<zt.length;wn++)if(zt[wn].nodeType!==Node.COMMENT_NODE&&zt[wn].textContent&&0<zt[wn].textContent.replace(/\u200B|\n/g,"").length){Zt=!0;break}Zt||qe.push(Fe[Ze])}return qe}function L(){return xe.BLOCK_TAGS.join(", ")}function B(ze){var Ze,qe,Fe=f.merge([],xe.VOID_ELEMENTS);Fe=f.merge(Fe,a.opts.htmlAllowedEmptyTags),Fe=ze===void 0?f.merge(Fe,xe.BLOCK_TAGS):f.merge(Fe,xe.NO_DELETE_TAGS),Ze=a.el.querySelectorAll("*:empty:not(".concat(Fe.join("):not("),"):not(.fr-marker):not(template)"));do{qe=!1;for(var Ye=0;Ye<Ze.length;Ye++)Ze[Ye].attributes.length!==0&&Ze[Ye].getAttribute("href")===void 0||(Ze[Ye].parentNode.removeChild(Ze[Ye]),qe=!0);(Ze=a.el.querySelectorAll("*:empty:not(".concat(Fe.join("):not("),"):not(.fr-marker):not(template)"))).length||(Ze=a.el.querySelectorAll("a[href]:not([name]):empty"))}while(Ze.length&&qe)}function G(ze,Ze){var qe=N();if(Ze&&(qe="div"),qe){var Fe=a.doc.createDocumentFragment(),Ye=null,xt=!1,ft=ze.firstChild,Ot=!1,Rt=null,zt=a.selection.ranges(),Zt=null,wn=null,Zn=null;zt.length&&(Zt=zt[0].endContainer,wn=zt[0].startOffset,Zn=zt[0].endOffset);for(var et=!1,wt=function(Mn,vn){Mn===Zt?(et=!0,Rt=vn.lastChild):0<=Array.from(Mn.childNodes).indexOf(Zt)&&(et=!0,Rt=vn.lastChild.childNodes[Array.from(Mn.childNodes).indexOf(Zt)])};ft;){var It=ft.nextSibling;if(ft.nodeType===Node.ELEMENT_NODE&&(a.node.isBlock(ft)||0<=a.opts.htmlDoNotWrapTags.indexOf(ft.tagName.toLowerCase())&&!a.node.hasClass(ft,"fr-marker")))Ye=null,Fe.appendChild(ft.cloneNode(!0));else if(ft.nodeType!==Node.ELEMENT_NODE&&ft.nodeType!==Node.TEXT_NODE)Ye=null,Fe.appendChild(ft.cloneNode(!0));else if(ft.tagName==="BR")Ye===null?(Ye=a.doc.createElement(qe),Ze&&(Ye.setAttribute("class","fr-temp-div"),Ye.setAttribute("data-empty",!0)),Ye.appendChild(ft.cloneNode(!0)),ft&&ft.parentNode&&["TD","TH"].indexOf(ft.parentNode.tagName)<0&&(Fe.appendChild(Ye),Ot=!0)):xt===!1&&(Ye.appendChild(a.doc.createElement("br")),Ze&&(Ye.setAttribute("class","fr-temp-div"),Ye.setAttribute("data-empty",!0))),Ye=null;else{var nn=ft.textContent;if(ft.nodeType!==Node.TEXT_NODE||0<nn.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length||nn.replace(/(^ *)|( *$)/g,"").length&&nn.indexOf(`
`)<0){if(ft.tagName==="SPAN"&&f(ft).hasClass("fr-marker")&&!ft.previousSibling&&(ft.nextSibling&&ft.nextSibling.tagName=="TABLE"||ft.nextSibling&&ft.nextSibling.nextSibling&&ft.nextSibling.nextSibling.tagName=="TABLE")){Fe.appendChild(ft),wt(ft,Fe),ft=It;continue}if(ft.tagName==="SPAN"&&f(ft).hasClass("fr-marker")&&ft.previousSibling&&ft.previousSibling.nodeType===Node.ELEMENT_NODE&&(ft.nextSibling&&ft.nextSibling.tagName=="TABLE"||ft.nextSibling&&ft.nextSibling.nextSibling&&ft.nextSibling.nextSibling.tagName=="TABLE")){Fe.appendChild(ft),Ot=!0,wt(ft,Fe),ft=It;continue}Ye===null&&(Ye=a.doc.createElement(qe),Ot=!0,Ze&&Ye.setAttribute("class","fr-temp-div"),Fe.appendChild(Ye),xt=!1),Ye.appendChild(ft.cloneNode(!0)),xt||a.node.hasClass(ft,"fr-marker")||ft.nodeType===Node.TEXT_NODE&&nn.replace(/ /g,"").length===0||(xt=!0),wt(ft,Ye)}else Ot=!0}ft=It}if(Ot&&(ze.innerHTML="",ze.appendChild(Fe),et)){var bn=a.doc.createRange();a.selection.get().removeAllRanges(),bn.setStart(Rt,wn),bn.setEnd(Rt,Zn),a.selection.get().addRange(bn)}}}function P(ze,Ze){for(var qe=ze.length-1;0<=qe;qe--)G(ze[qe],Ze)}function F(ze,Ze,qe,Fe,Ye){if(!a.$wp)return!1;ze===void 0&&(ze=!1),Ze===void 0&&(Ze=!1),qe===void 0&&(qe=!1),Fe===void 0&&(Fe=!1),Ye===void 0&&(Ye=!1);var xt=a.$wp.scrollTop();G(a.el,ze),Fe&&P(a.el.querySelectorAll(".fr-inner"),ze),Ze&&P(a.el.querySelectorAll("td, th"),ze),qe&&P(a.el.querySelectorAll("blockquote"),ze),Ye&&P(a.el.querySelectorAll("li"),ze),xt!==a.$wp.scrollTop()&&a.$wp.scrollTop(xt)}function j(ze){if(ze===void 0&&(ze=a.el),ze&&0<=["SCRIPT","STYLE","PRE"].indexOf(ze.tagName))return!1;for(var Ze=a.doc.createTreeWalker(ze,NodeFilter.SHOW_TEXT,a.node.filter(function(Ot){return Ot.textContent.match(/([ \n]{2,})|(^[ \n]{1,})|([ \n]{1,}$)/g)!==null}),!1);Ze.nextNode();){var qe=Ze.currentNode;if(!O(qe.parentNode,!0)){var Fe=a.node.isBlock(qe.parentNode)||a.node.isElement(qe.parentNode),Ye=void 0;if(Ye=a.opts.preserveTabSpaces?qe.textContent.replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," "):qe.textContent.replace(/(?!^)( ){2,}(?!$)/g," ").replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," "),Fe){var xt=qe.previousSibling,ft=qe.nextSibling;xt&&ft&&Ye===" "?Ye=a.node.isBlock(xt)&&a.node.isBlock(ft)?"":" ":(xt||(Ye=Ye.replace(/^ */,"")),ft||(Ye=Ye.replace(/ *$/,"")))}qe.textContent=Ye}}}function H(ze,Ze,qe){var Fe=new RegExp(Ze,"gi").exec(ze);return Fe?Fe[qe]:null}function ee(ze){var Ze=ze.doctype,qe="<!DOCTYPE html>";return Ze&&(qe="<!DOCTYPE ".concat(Ze.name).concat(Ze.publicId?' PUBLIC "'.concat(Ze.publicId,'"'):"").concat(!Ze.publicId&&Ze.systemId?" SYSTEM":"").concat(Ze.systemId?' "'.concat(Ze.systemId,'"'):"",">")),qe}function w(ze){var Ze=ze.parentNode;if(Ze&&(a.node.isBlock(Ze)||a.node.isElement(Ze))&&["TD","TH"].indexOf(Ze.tagName)<0){for(var qe=ze.previousSibling,Fe=ze.nextSibling;qe&&(qe.nodeType===Node.TEXT_NODE&&qe.textContent.replace(/\n|\r/g,"").length===0||a.node.hasClass(qe,"fr-tmp"));)qe=qe.previousSibling;if(Fe)return!1;qe&&Ze&&qe.tagName!=="BR"&&!a.node.isBlock(qe)&&!Fe&&0<Ze.textContent.replace(/\u200B/g,"").length&&0<qe.textContent.length&&!a.node.hasClass(qe,"fr-marker")&&(a.el===Ze&&!Fe&&a.opts.enter===xe.ENTER_BR&&a.browser.msie||ze.parentNode.removeChild(ze))}else!Ze||a.node.isBlock(Ze)||a.node.isElement(Ze)||ze.previousSibling||ze.nextSibling||!a.node.isDeletable(ze.parentNode)||w(ze.parentNode)}function he(){a.opts.htmlUntouched||(B(),F(),j(),a.spaces.normalize(null,!0),a.html.fillEmptyBlocks(),a.clean.lists(),a.clean.tables(),a.clean.toHTML5(),a.html.cleanBRs()),function(Ze){if(Ze&&Ze.isContentEditable&&!a.node.isEmpty(Ze)){var qe=document.createTreeWalker(Ze,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(Rt){if(Rt.nodeType===Node.TEXT_NODE)return Rt.nodeValue.trim()?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;if(Rt.nodeType!==Node.ELEMENT_NODE)return NodeFilter.FILTER_SKIP;var zt=window.getComputedStyle(Rt);return zt.display!=="none"&&zt.visibility!=="hidden"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),Fe=null,Ye=!0,xt=qe.nextNode();if(xt&&xt.nodeType!==Node.TEXT_NODE){do{if(xt.nodeType===Node.ELEMENT_NODE&&xt.isContentEditable&&(xt.textContent.trim().length||["IMG","BR","HR"].includes(xt.tagName)||f(xt).find("img, br, hr").length)){if(Ye)break;Fe=xt;break}Ye=!1}while(xt=qe.nextNode());if(!Ye){var ft=a.doc.createRange(),Ot=a.selection.get();Fe?ft.selectNodeContents(Fe):(Fe=document.createTextNode(""),Ze.appendChild(Fe),ft.setStart(Fe,0)),ft.collapse(!0),Ot.removeAllRanges(),Ot.addRange(ft)}}}}(a.el),a.selection.restore(),be(),a.placeholder.refresh()}function be(){a.node.isEmpty(a.el)&&(N()!==null?a.el.querySelector(L())||a.el.querySelector("".concat(a.opts.htmlDoNotWrapTags.join(":not(.fr-marker),"),":not(.fr-marker)"))||(a.core.hasFocus()?(a.$el.html("<".concat(N(),">").concat(xe.MARKERS,"<br/></").concat(N(),">")),a.selection.restore()):a.$el.html("<".concat(N(),"><br/></").concat(N(),">"))):a.el.querySelector("*:not(.fr-marker):not(br)")||(a.core.hasFocus()?(a.$el.html("".concat(xe.MARKERS,"<br/>")),a.selection.restore()):a.$el.html("<br/>")))}function se(ze,Ze){return H(ze,"<".concat(Ze,"[^>]*?>([\\w\\W]*)</").concat(Ze,">"),1)}function re(ze,Ze){var qe=f("<div ".concat(H(ze,"<".concat(Ze,"([^>]*?)>"),1)||"",">"));return a.node.rawAttributes(qe.get(0))}function ie(ze){return(H(ze,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>").replace(/\n/g," ").replace(/ {2,}/g," ")}function M(ze,Ze){a.opts.htmlExecuteScripts?ze.html(Ze):ze.get(0).innerHTML=Ze}function W(ze){var Ze;(Ze=/:not\(([^)]*)\)/g).test(ze)&&(ze=ze.replace(Ze,"     $1 "));var qe=100*(ze.match(/(#[^\s+>~.[:]+)/g)||[]).length+10*(ze.match(/(\[[^]]+\])/g)||[]).length+10*(ze.match(/(\.[^\s+>~.[:]+)/g)||[]).length+10*(ze.match(/(:[\w-]+\([^)]*\))/gi)||[]).length+10*(ze.match(/(:[^\s+>~.[:]+)/g)||[]).length+(ze.match(/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi)||[]).length;return qe+=((ze=(ze=ze.replace(/[*\s+>~]/g," ")).replace(/[#.]/g," ")).match(/([^\s+>~.[:]+)/g)||[]).length}function K(ze){if(a.events.trigger("html.processGet",[ze]),ze&&ze.getAttribute&&ze.getAttribute("class")===""&&ze.removeAttribute("class"),ze&&ze.getAttribute&&ze.getAttribute("style")===""&&ze.removeAttribute("style"),ze&&ze.nodeType===Node.ELEMENT_NODE){var Ze,qe=ze.querySelectorAll('[class=""],[style=""]');for(Ze=0;Ze<qe.length;Ze++){var Fe=qe[Ze];Fe.getAttribute("class")===""&&Fe.removeAttribute("class"),Fe.getAttribute("style")===""&&Fe.removeAttribute("style")}if(ze.tagName==="BR")w(ze);else{var Ye=ze.querySelectorAll("br");for(Ze=0;Ze<Ye.length;Ze++)w(Ye[Ze])}}}function R(ze,Ze){return ze[3]-Ze[3]}function A(){for(var ze=a.el.querySelectorAll("input, textarea"),Ze=0;Ze<ze.length;Ze++)ze[Ze].type!=="checkbox"&&ze[Ze].type!=="radio"||(ze[Ze].checked?ze[Ze].setAttribute("checked",ze[Ze].checked):a.$(ze[Ze]).removeAttr("checked")),ze[Ze].getAttribute("value")&&ze[Ze].setAttribute("value",ze[Ze].value)}function J(ze){var Ze=a.doc.createElement("div");return Ze.innerHTML=ze,Ze.querySelector(L())!==null}function V(ze){var Ze=null;if(ze===void 0&&(Ze=a.selection.element()),a.opts.keepFormatOnDelete)return!1;var qe,Fe,Ye=Ze?(Ze.textContent.match(/\u200B/g)||[]).length-Ze.querySelectorAll(".fr-marker").length:0;if((a.el.textContent.match(/\u200B/g)||[]).length-a.el.querySelectorAll(".fr-marker").length===Ye)return!1;do{Fe=!1,qe=a.el.querySelectorAll("*:not(.fr-marker)");for(var xt=0;xt<qe.length;xt++){var ft=qe[xt];if(Ze!==ft){var Ot=ft.textContent;ft.children.length===0&&Ot.length===1&&Ot.charCodeAt(0)===8203&&["TD","STRONG","SPAN","EM","U","S","SUB","SUP"].indexOf(ft.tagName)<0&&(f(ft).remove(),Fe=!0)}}}while(Fe)}function q(){V(),a.placeholder&&setTimeout(a.placeholder.refresh,0)}function ae(){return a.opts.fontSizeDefaultSelection&&a.opts.fontSizeUnit&&a.opts.fontSizeDefaultSelection!="Font Size"}function Le(){return a.opts.fontFamilyDefaultSelection&&a.opts.fontFamilyDefaultSelection!="Font Family"}function Ee(ze){var Ze=a.selection.element(),qe=Ze.getAttribute("style")||"";!a.node.isEmpty(Ze)&&!ze||a.markdown&&a.markdown.isEnabled()||Ze==a.el&&a.opts.enter!=xe.ENTER_BR||(ae()&&!qe.includes("font-size")&&a.fontSize&&a.fontSize.apply(a.opts.fontSizeDefaultSelection+a.opts.fontSizeUnit),Le()&&!qe.includes("font-family")&&a.fontFamily&&a.fontFamily.apply(a.opts.fontFamilyDefaultSelection),a.placeholder.refresh())}function we(ze){var Ze=ze.which;if(a.keys.ctrlKey(ze)||37<=Ze&&Ze<=40||!a.keys.isCharacter(Ze)&&Ze!==xe.KEYCODE.DELETE&&Ze!==xe.KEYCODE.BACKSPACE&&Ze!==xe.KEYCODE.ENTER&&Ze!==xe.KEYCODE.IME)return!0;var qe=a.selection.element();if(!(0<=["UL","OL"].indexOf(qe.tagName))){var Fe=qe.tagName==="LI"?f(qe):f(qe).parents("li").first();if(Fe.length){var Ye=Fe.get(0),xt=a.node.isEmpty(Ye),ft=!Fe.siblings().last().length,Ot=Fe.parents("ul, ol"),Rt=Ot.first().get(0)===Ot.last().get(0);if(xt&&ft&&Rt){if(Ze===xe.KEYCODE.BACKSPACE)return void requestAnimationFrame(function(){a.cursor.backspace(),Ee()});ae()&&Fe.css("font-size",a.opts.fontSizeDefaultSelection+a.opts.fontSizeUnit),Le()&&Fe.css("font-family",a.opts.fontFamilyDefaultSelection)}}else if(Ze!==xe.KEYCODE.BACKSPACE&&Ze!==xe.KEYCODE.DELETE){var zt=a.selection.get();if(zt.baseOffset!==zt.focusOffset&&!a.keys.ctrlKey(ze)&&a.keys.isCharacter(ze.which)&&!a.selection.isCollapsed()&&!ze.ctrlKey&&!ze.altKey)return a.selection.remove(),void Ee();var Zt=["TD","TH"].includes(qe.tagName)||qe.parentElement&&["TD","TH"].includes(qe.parentElement.tagName);(J(qe)||Zt||qe.tagName=="BR")&&Ee()}else{var wn=a.selection.isFull();requestAnimationFrame(function(){var Zn=a.node.deepestParent(qe);(Zn&&a.node.isEmpty(Zn)||wn)&&Ee()})}}}function Ne(){a.node.isEmpty(a.el)&&(a.selection.setAtStart(a.el),Ee(),a.markers.remove(),a.placeholder.refresh())}function We(){var ze=f(a.selection.element());a.selection.text()&&!ze.attr("style")&&(Ee(!0),nt(a.selection.ranges(0).endContainer))}function ct(){0<f(a.selection.element()).filter("td, tr").length&&Ee(!0),nt(a.selection.ranges(0).endContainer)}function nt(ze){var Ze=a.doc.createRange();Ze.selectNodeContents(ze),Ze.collapse(!1);var qe=a.selection.get();qe.removeAllRanges(),qe.addRange(Ze)}function st(ze){var Ze=new DOMParser().parseFromString(ze,"text/html");return Array.from(Ze.body.childNodes).some(function(qe){return qe.nodeType===1})}function Me(ze){var Ze=/^<([a-z1-6]+)(\s[^>]*)?>[\s\S]*<\/\1>$|^<([a-z1-6]+)(\s[^>]*)?\/?>$/.test(ze.trim()),qe=!(!ze||ze.trim().length===0)&&st(ze)&&Ze&&J(ze),Fe=a.selection.element();if(ze&&!/<[^>]+style=["'][^"']*(font-(size|family))[^"']*["']/.test(ze)&&(a.node.isEmpty(Fe)||a.selection.isFull())&&!f(Fe).parents("ol, ul").length)return qe?ze.replace(/^<([^>]+)>/,"<$1>".concat(xe.START_MARKER)).replace(/<\/([^>]+)>$/,"".concat(xe.END_MARKER,"</$1>")):xe.START_MARKER+ze+xe.END_MARKER}function tt(){setTimeout(Ee,0)}return{defaultTag:N,isPreformatted:O,emptyBlocks:T,emptyBlockTagsQuery:function(){return"".concat(xe.BLOCK_TAGS.join(":empty, "),":empty")},blockTagsQuery:L,fillEmptyBlocks:function(Ze){var qe=T(Ze);a.node.isEmpty(a.el)&&a.opts.enter===xe.ENTER_BR&&qe.push(a.el);for(var Fe=0;Fe<qe.length;Fe++){var Ye=qe[Fe];Ye.getAttribute("contenteditable")==="false"||Ye.querySelector("".concat(a.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),"),":not(.fr-marker)"))||a.node.isVoid(Ye)||Ye.tagName==="TABLE"||Ye.tagName==="TBODY"||Ye.tagName==="TR"||Ye.tagName==="UL"||Ye.tagName==="OL"||Ye.querySelector("br")||Ye.appendChild(a.doc.createElement("br"))}if(a.browser.msie&&a.opts.enter===xe.ENTER_BR){var xt=a.node.contents(a.el);xt.length&&xt[xt.length-1].nodeType===Node.TEXT_NODE&&a.$el.append("<br>")}},cleanEmptyTags:B,cleanWhiteTags:V,cleanBlankSpaces:j,blocks:function(){return a.$el.get(0).querySelectorAll(L())},getDoctype:ee,set:function(Ze){var qe=a.clean.html((Ze||"").trim(),[],[],a.opts.fullPage);!Le()&&!ae()||st(qe)||(qe=xe.START_MARKER+qe+xe.END_MARKER);var Fe=new RegExp("%3A//","g"),Ye=qe.replace(Fe,"://");if(a.opts.fullPage){var xt=se(Ye,"body")||(0<=Ye.indexOf("<body")?"":Ye),ft=re(Ye,"body"),Ot=se(Ye,"head")||"<title></title>",Rt=re(Ye,"head"),zt=f("<div>");zt.append(Ot).contents().each(function(){(this.nodeType===Node.COMMENT_NODE||0<=["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName))&&this.parentNode.removeChild(this)});var Zt=zt.html().trim();Ot=f("<div>").append(Ot).contents().map(function(){return this.nodeType===Node.COMMENT_NODE?"<!--".concat(this.nodeValue,"-->"):0<=["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)?this.outerHTML:""}).toArray().join("");var wn=ie(Ye),Zn=re(Ye,"html");M(a.$el,"".concat(Zt,`
`).concat(xt)),a.node.clearAttributes(a.el),a.$el.attr(ft),a.$el.addClass("fr-view"),a.$el.attr("spellcheck",a.opts.spellcheck),a.$el.attr("dir",a.opts.direction),M(a.$head,Ot),a.node.clearAttributes(a.$head.get(0)),a.$head.attr(Rt),a.node.clearAttributes(a.$html.get(0)),a.$html.attr(Zn),a.iframe_document.doctype.parentNode.replaceChild(function(It,nn){var bn=It.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return bn?nn.implementation.createDocumentType(bn[1],bn[3],bn[4]):nn.implementation.createDocumentType("html")}(wn,a.iframe_document),a.iframe_document.doctype)}else M(a.$el,Ye);var et=a.edit.isDisabled();a.edit.on(),a.core.injectStyle(a.opts.iframeDefaultStyle+a.opts.iframeStyle),he(),a.opts.useClasses||(a.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),a.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),et&&a.edit.off(),a.events.trigger("html.set"),a.events.trigger("charCounter.update"),a.events.trigger("wordCounter.update")},syncInputs:A,get:function(Ze,qe){if(!a.$wp)return a.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var Fe="";a.events.trigger("html.beforeGet");var Ye,xt,ft=[],Ot={},Rt=[];if(A(),!a.opts.useClasses&&!qe){var zt=new RegExp("^".concat(a.opts.htmlIgnoreCSSProperties.join("$|^"),"$"),"gi");for(Ye=0;Ye<a.doc.styleSheets.length;Ye++){var Zt=void 0,wn=0;try{Zt=a.doc.styleSheets[Ye].cssRules,a.doc.styleSheets[Ye].ownerNode&&a.doc.styleSheets[Ye].ownerNode.nodeType==="STYLE"&&(wn=1)}catch{}if(Zt){for(var Zn=0,et=Zt.length;Zn<et;Zn++)if(Zt[Zn].selectorText&&0<Zt[Zn].style.cssText.length){var wt=Zt[Zn].selectorText.replace(/body \s tbody \.fr-view /g,"").replace(/::/g,":"),It=void 0;try{It=a.el.querySelectorAll(wt)}catch{It=[]}for(xt=0;xt<It.length;xt++){!It[xt].getAttribute("fr-original-style")&&It[xt].getAttribute("style")?(It[xt].setAttribute("fr-original-style",It[xt].getAttribute("style")),ft.push(It[xt])):It[xt].getAttribute("fr-original-style")||(It[xt].setAttribute("fr-original-style",""),ft.push(It[xt])),Ot[It[xt]]||(Ot[It[xt]]={});for(var nn=1e3*wn+W(Zt[Zn].selectorText),bn=Zt[Zn].style.cssText.split(";"),kn=0;kn<bn.length;kn++){var Mn=bn[kn].trim().split(":")[0];if(Mn&&!Mn.match(zt)&&((!Ot[It[xt]][Mn]||Ot[It[xt]][Mn]&&It[xt].getAttribute("fr-original-style")=="")&&(Ot[It[xt]][Mn]=0)<=(It[xt].getAttribute("fr-original-style")||"").indexOf("".concat(Mn,":"))&&(Ot[It[xt]][Mn]=1e4),nn>=Ot[It[xt]][Mn]&&(Ot[It[xt]][Mn]=nn,bn[kn].trim().length))){var vn=bn[kn].trim().split(":");vn.splice(0,1);var Hn=vn.join(":").trim();-1<Hn.indexOf("!important")&&(nn+=1),Rt.push([It[xt],Mn.trim(),Hn,nn])}}}}}}for(Rt.sort(R),Ye=0;Ye<Rt.length;Ye++){var So=Rt[Ye];So[0].style[So[1]]=So[2].replace(/!important/,"")}for(Ye=0;Ye<ft.length;Ye++)if(ft[Ye].getAttribute("class")&&(ft[Ye].setAttribute("fr-original-class",ft[Ye].getAttribute("class")),ft[Ye].removeAttribute("class")),0<(ft[Ye].getAttribute("fr-original-style")||"").trim().length){var ro=ft[Ye].getAttribute("fr-original-style").split(";");for(xt=0;xt<ro.length;xt++)if(0<ro[xt].indexOf(":")){var Xo=ro[xt].split(":"),zn=Xo[0];Xo.splice(0,1),ft[Ye].style[zn.trim()]=Xo.join(":").trim()}}}if(a.node.isEmpty(a.el))a.opts.fullPage&&(Fe=ee(a.iframe_document),Fe+="<html".concat(a.node.attributes(a.$html.get(0)),">").concat(a.$html.find("head").get(0).outerHTML,"<body></body></html>"));else if(Ze===void 0&&(Ze=!1),a.opts.fullPage){Fe=ee(a.iframe_document),a.$el.removeClass("fr-view");var cs=a.opts.heightMin,ms=a.opts.height,Et=a.opts.heightMax;a.opts.heightMin=null,a.opts.height=null,a.opts.heightMax=null,a.size.refresh(),Fe+="<html".concat(a.node.attributes(a.$html.get(0)),">").concat(a.$html.html(),"</html>"),a.opts.iframe&&a.$html&&0<a.$html.find(".fr-element").length&&(Fe=a.$html.find(".fr-element").html()),a.opts.heightMin=cs,a.opts.height=ms,a.opts.heightMax=Et,a.size.refresh(),a.$el.addClass("fr-view")}else Fe=a.$el.html(),a.opts.iframe&&a.$html&&0<a.$html.find(".fr-element").length&&(Fe=a.$html.find(".fr-element").html());if(!a.opts.useClasses&&!qe)for(Ye=0;Ye<ft.length;Ye++)ft[Ye].getAttribute("fr-original-class")&&(ft[Ye].setAttribute("class",ft[Ye].getAttribute("fr-original-class")),ft[Ye].removeAttribute("fr-original-class")),ft[Ye].getAttribute("fr-original-style")!==null&&ft[Ye].getAttribute("fr-original-style")!==void 0?(ft[Ye].getAttribute("fr-original-style").length!==0?ft[Ye].setAttribute("style",ft[Ye].getAttribute("fr-original-style")):ft[Ye].removeAttribute("style"),ft[Ye].removeAttribute("fr-original-style")):ft[Ye].removeAttribute("style");a.opts.fullPage&&(Fe=(Fe=(Fe=(Fe=(Fe=(Fe=(Fe=(Fe=Fe.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,"")).replace(/<link([^>]*)data-fr-style="true"([^>]*)>/g,"")).replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,"")).replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")).replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>')).replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),a.opts.htmlSimpleAmpersand&&(Fe=Fe.replace(/&amp;/gi,"&")),a.events.trigger("html.afterGet"),Ze||(Fe=Fe.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),Fe=a.clean.invisibleSpaces(Fe),Fe=a.clean.exec(Fe,K);var fe=a.events.chainTrigger("html.get",Fe);return typeof fe=="string"&&(Fe=fe),Fe=(Fe=Fe.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(Y){return Y.replace(/<br>/g,`
`)})).replace(/<meta((?:[\w\W]*?)) data-fr-http-equiv="/g,'<meta$1 http-equiv="')},getSelected:function(){function Ze(Rt,zt){for(;zt&&(zt.nodeType===Node.TEXT_NODE||!a.node.isBlock(zt))&&!a.node.isElement(zt)&&!a.node.hasClass(zt,"fr-inner")&&(a.opts.enter!==xe.ENTER_BR||zt!==a.$el[0]);)zt&&zt.nodeType!==Node.TEXT_NODE&&f(Rt).wrapContent(zt),zt=zt.parentNode;zt&&Rt.innerHTML===zt.innerHTML?Rt.innerHTML=zt.outerHTML:zt&&zt.tagName!=="DIV"&&zt.tagName!=="LI"&&zt.innerText&&zt.innerText.indexOf(Rt.innerHTML)!=-1&&zt!==a.$el.get(0)&&(Rt.innerHTML=a.node.openTagString(zt)+Rt.innerHTML+a.node.closeTagString(zt))}var qe,Fe,Ye="";if(typeof a.win.getSelection<"u"){a.browser.mozilla&&(a.selection.save(),1<a.$el.find('.fr-marker[data-type="false"]').length&&(a.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),a.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),a.$el.find(".fr-marker").not('[data-id="0"]').remove()),a.selection.restore());for(var xt=a.selection.ranges(),ft=0;ft<xt.length;ft++){var Ot=document.createElement("div");Ot.appendChild(xt[ft].cloneContents()),Ze(Ot,(Fe=qe=void 0,Fe=null,a.win.getSelection?(qe=a.win.getSelection())&&qe.rangeCount&&((Fe=qe.getRangeAt(0).commonAncestorContainer).nodeType===Node.ELEMENT_NODE||a.opts.enter===xe.ENTER_BR&&Fe.parentNode===a.$el[0]||(Fe=Fe.parentNode)):(qe=a.doc.selection)&&qe.type!=="Control"&&(Fe=qe.createRange().parentElement()),Fe!==null&&(0<=f(Fe).parents().toArray().indexOf(a.el)||Fe===a.el)?Fe:null)),0<f(Ot).find(".fr-element").length&&(Ot=a.el),Ye+=Ot.innerHTML}}else typeof a.doc.selection<"u"&&a.doc.selection.type==="Text"&&(Ye=a.doc.selection.createRange().htmlText);return Ye},insert:function(Ze,qe,Fe){if(a.events.trigger("html.beforeInsert",[Ze,qe,Fe])===!1)return!1;var Ye,xt=a.selection.element();if(!Le()&&!ae()||st(Ze)||!a.node.isEmpty(xt)||f(xt).parents("ol, ul").length||(Ze=xe.START_MARKER+Ze+xe.END_MARKER),a.selection.isCollapsed()||a.selection.remove(),Ye=qe?Ze:a.clean.html(Ze),Ze.indexOf('<i class="fa ')===0&&(Ye="<span>&nbsp;".concat(Ye,"</span>")),Ze.indexOf('class="fr-marker"')<0&&(Ye=function(Zt){var wn=a.doc.createElement("div");return wn.innerHTML=Zt,a.selection.setAtEnd(wn,!0),wn.innerHTML}(Ye)),a.node.isEmpty(a.el)&&!a.opts.keepFormatOnDelete&&J(Ye))a.opts.trackChangesEnabled?a.track_changes.pasteInEmptyEdior(Ye):a.el.innerHTML=Ye;else{(function(){var Zt=a.selection.ranges(0).commonAncestorContainer;return Zt!==a.el&&!a.$el.contains(Zt)})()&&a.selection.restore();var ft=a.markers.insert();if(ft)if(a.opts.trackChangesEnabled)a.track_changes.pasteInEdior(Ye);else{a.node.isLastSibling(ft)&&f(ft).parent().hasClass("fr-deletable")&&f(ft).insertAfter(f(ft).parent());var Ot=a.node.blockParent(ft);if((J(Ye)||Fe)&&(a.node.deepestParent(ft)||Ot&&Ot.tagName==="LI")){Ot&&Ot.tagName==="LI"&&(Ye=function(Zt){if(!a.html.defaultTag())return Zt;var wn=a.doc.createElement("div");wn.innerHTML=Zt;for(var Zn=wn.querySelectorAll(":scope > ".concat(a.html.defaultTag())),et=Zn.length-1;0<=et;et--){var wt=Zn[et];a.node.isBlock(wt.previousSibling)||(wt.previousSibling&&!a.node.isEmpty(wt)&&f("<br>").insertAfter(wt.previousSibling),wt.outerHTML=wt.innerHTML)}return wn.innerHTML}(Ye));var Rt=a.selection.element();if(Rt&&f(Rt).parentsUntil(a.el,"ul, ol").length&&ft.parentNode.tagName!="LI"&&(f(Ye).get(0).tagName=="DIV"&&f(Ye).length==1&&f(Ye).get(0).firstChild.tagName=="UL"?Ye=f(Ye).get(0).firstChild.innerHTML:f(Ye).get(0).tagName=="UL"&&(Ye=f(Ye).get(0).innerHTML),ft=a.markers.split()),!(ft=a.markers.split()))return!1;ft.outerHTML=Ye}else ft.outerHTML=Ye}else a.el.innerHTML+=Ye}he(),a.keys.positionCaret(),a.events.trigger("html.inserted")},wrap:F,unwrap:function(){a.$el.find("div.fr-temp-div").each(function(){this.previousSibling&&this.previousSibling.nodeType===Node.TEXT_NODE&&f(this).before("<br>"),f(this).attr("data-empty")||!this.nextSibling||a.node.isBlock(this.nextSibling)&&!f(this.nextSibling).hasClass("fr-temp-div")?f(this).replaceWith(f(this).html()):f(this).replaceWith("".concat(f(this).html(),"<br>"))}),a.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return f(this).attr("class")===""}).removeAttr("class")},escapeEntities:function(Ze){return Ze.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&#39;")},checkIfEmpty:be,extractNode:se,extractNodeAttrs:re,extractDoctype:ie,cleanBRs:function(){for(var Ze=a.el.getElementsByTagName("br"),qe=0;qe<Ze.length;qe++)w(Ze[qe])},_init:function(){a.events.$on(a.$el,"mousemove","span.fr-word-select",function(Ze){var qe=window.getSelection();qe=window.getSelection();var Fe=document.createRange();Fe.selectNodeContents(Ze.target),qe.removeAllRanges(),qe.addRange(Fe)}),a.$wp&&(a.events.on("mouseup",q),a.events.on("keydown",q),a.events.on("contentChanged",be),(ae()||Le())&&(a.events.on("keydown",we),a.events.on("initialized",Ne),a.events.on("html.inserted html.set",We),a.events.on("paste.afterCleanup",Me),a.events.on("paste.after",ct),a.events.on("window.cut",tt),a.events.on("commands.after",function(Ze){Ze!="clearFormatting"&&Ze!=="markdown"||Ee(!0)})))},_setHtml:M}},xe.ENTER_P=0,xe.ENTER_DIV=1,xe.ENTER_BR=2,xe.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,FF_HYPHEN:173,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,HYPHEN:189,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,IME:229},Object.assign(xe.DEFAULTS,{enter:xe.ENTER_P,multiLine:!0,tabSpaces:0}),xe.MODULES.keys=function(a){var f,N,O,T=a.$,L=!1;function B(q){if(a.selection.isCollapsed())if(["INPUT","BUTTON","TEXTAREA"].indexOf(q.target&&q.target.tagName)<0&&a.cursor.backspace(),a.helpers.isIOS()){var ae=a.selection.ranges(0);ae.deleteContents(),ae.insertNode(document.createTextNode("")),a.selection.get().modify("move","forward","character")}else["INPUT","BUTTON","TEXTAREA"].indexOf(q.target&&q.target.tagName)<0&&q.preventDefault(),q.stopPropagation();else q.preventDefault(),q.stopPropagation(),a.selection.remove();a.placeholder.refresh()}function G(q){["INPUT","BUTTON","TEXTAREA"].indexOf(q.target&&q.target.tagName)<0&&q.preventDefault(),q.stopPropagation(),a.selection.text()!==""||a.selection.element().hasAttribute("contenteditable")&&a.selection.element().getAttribute("contenteditable")==="false"||!a.selection.isCollapsed()&&a.selection.element().tagName=="IMG"?a.selection.remove():a.cursor.del(),a.placeholder.refresh()}function P(){if(a.browser.mozilla&&a.selection.isCollapsed()&&!L){var q=a.selection.ranges(0),ae=q.startContainer,Le=q.startOffset;ae&&ae.nodeType===Node.TEXT_NODE&&Le<=ae.textContent.length&&0<Le&&ae.textContent.charCodeAt(Le-1)===32&&(a.selection.save(),a.spaces.normalize(),a.selection.restore())}}function F(){a.selection.isFull()&&setTimeout(function(){var q=a.html.defaultTag();q?a.$el.html("<".concat(q,">").concat(xe.MARKERS,"<br/></").concat(q,">")):a.$el.html("".concat(xe.MARKERS,"<br/>")),a.selection.restore(),a.placeholder.refresh(),a.button.bulkRefresh(),a.undo.saveStep()},0)}function j(){L=!1}function H(){L=!1}function ee(){var q=a.html.defaultTag();q?a.$el.html("<".concat(q,">").concat(xe.MARKERS,"<br/></").concat(q,">")):a.$el.html("".concat(xe.MARKERS,"<br/>")),a.selection.restore()}function w(q,ae){if(!q||!q.parentElement)return!1;var Le=(q&&q.parentElement).parentElement;if(q.parentElement&&(-1<q.innerHTML.indexOf("<span")||-1<q.parentElement.innerHTML.indexOf("<span")||Le&&-1<q.parentElement.parentElement.innerHTML.indexOf("<span"))&&(q.classList.contains("fr-img-space-wrap")||q.parentElement.classList.contains("fr-img-space-wrap")||Le&&q.parentElement.parentElement.classList.contains("fr-img-space-wrap"))){if(T(q.parentElement).is("p")){var Ee=q.parentElement.innerHTML;return(Ee=Ee.replace(/<br>/g,"")).length<1?q.parentElement.insertAdjacentHTML("afterbegin","&nbsp;"):Ee!="&nbsp;"&&Ee!=" "&&ae.key=="Backspace"?B(ae):Ee!="&nbsp;"&&Ee!=" "&&ae.key=="Delete"&&G(ae),!0}if(T(q).is("p")){var we=q.innerHTML.replace(/<br>/g,"");return we.length<1?q.insertAdjacentHTML("afterbegin","&nbsp;"):we!="&nbsp;"&&we!=" "&&ae.key=="Backspace"?B(ae):we!="&nbsp;"&&we!=" "&&ae.key=="Delete"&&G(ae),!0}}return!1}function he(q){var ae=a.selection.element();if(ae&&0<=["INPUT","TEXTAREA"].indexOf(ae.tagName))return!0;if(q&&M(q.which)){var Le=a.selection.element(),Ee=a.selection.get(),we=Ee.anchorNode,Ne=Ee.anchorOffset;if(we.nodeType===Node.TEXT_NODE&&0<Ne&&1<we.textContent.length&&we.textContent.charCodeAt(Ne)===8203){be(Le);var We=a.doc.createRange();a.selection.get().removeAllRanges();var ct=Math.max(0,Math.min(Ne-1,we.textContent.length-1));We.setStart(we,ct),We.setEnd(we,ct),a.selection.get().addRange(We)}return!0}a.events.disableBlur();var nt=q.which;if(nt===16)return!0;if((f=nt)===xe.KEYCODE.IME)return L=!0;if(L=!1,ie(q))return!0;var st=W(nt)&&!ie(q)&&!q.altKey,Me=nt===xe.KEYCODE.BACKSPACE||nt===xe.KEYCODE.DELETE;if((a.selection.isFull()&&!a.opts.keepFormatOnDelete&&!a.placeholder.isVisible()||Me&&a.placeholder.isVisible()&&a.opts.keepFormatOnDelete)&&(st||Me)&&(ee(),!W(nt)))return q.preventDefault(),!0;if(nt===xe.KEYCODE.ENTER)!a.helpers.isIOS()&&q.shiftKey||ae.classList.contains("fr-inner")||ae.parentElement&&ae.parentElement.classList.contains("fr-inner")?function(ze){ze.preventDefault(),ze.stopPropagation(),a.opts.multiLine&&(a.selection.isCollapsed()||a.selection.remove(),a.cursor.enter(!0))}(q):function(ze){a.opts.multiLine?(a.helpers.isIOS()||(ze.preventDefault(),ze.stopPropagation()),a.selection.isCollapsed()||a.selection.remove(),a.cursor.enter()):(ze.preventDefault(),ze.stopPropagation())}(q);else if(nt===xe.KEYCODE.BACKSPACE&&(q.metaKey||q.ctrlKey))(function(){setTimeout(function(){a.events.disableBlur(),a.events.focus()},0)})();else if(nt!==xe.KEYCODE.BACKSPACE||ie(q)||q.altKey)if(nt!==xe.KEYCODE.DELETE||ie(q)||q.altKey||q.shiftKey)nt===xe.KEYCODE.SPACE?function(ze){var Ze=a.selection.element();if(!a.helpers.isMobile()&&Ze&&Ze.tagName==="A"){ze.preventDefault(),ze.stopPropagation(),a.selection.isCollapsed()||a.selection.remove();var qe=a.markers.insert();if(qe){var Fe=qe.previousSibling;!qe.nextSibling&&qe.parentNode&&qe.parentNode.tagName==="A"?(qe.parentNode.insertAdjacentHTML("afterend","&nbsp;".concat(xe.MARKERS)),qe.parentNode.removeChild(qe)):(Fe&&Fe.nodeType===Node.TEXT_NODE&&Fe.textContent.length===1&&Fe.textContent.charCodeAt(0)===160?Fe.textContent+=" ":qe.insertAdjacentHTML("beforebegin","&nbsp;"),qe.outerHTML=xe.MARKERS),a.selection.restore()}}}(q):nt===xe.KEYCODE.TAB?function(ze){if(0<a.opts.tabSpaces)if(a.selection.isCollapsed()){a.undo.saveStep(),ze.preventDefault(),ze.stopPropagation();for(var Ze="",qe=0;qe<a.opts.tabSpaces;qe++)Ze+="&nbsp;";a.html.insert(Ze),a.placeholder.refresh(),a.undo.saveStep()}else ze.preventDefault(),ze.stopPropagation(),ze.shiftKey?a.commands.outdent():a.commands.indent()}(q):ie(q)||!W(q.which)||a.selection.isCollapsed()||q.ctrlKey||q.altKey||a.browser.mozilla||a.selection.remove();else{if(w(ae,q))return q.preventDefault(),void q.stopPropagation();a.placeholder.isVisible()?(a.opts.keepFormatOnDelete||ee(),q.preventDefault(),q.stopPropagation()):G(q)}else{if(w(ae,q))return q.preventDefault(),void q.stopPropagation();a.placeholder.isVisible()?(a.opts.keepFormatOnDelete||ee(),q.preventDefault(),q.stopPropagation()):B(q)}a.events.enableBlur()}function be(q){var ae=q;-1<["STRONG","U","EM"].indexOf(q.nodeName)&&q.parentNode&&(ae=q.parentNode);for(var Le=a.doc.createTreeWalker(ae,NodeFilter.SHOW_TEXT,a.node.filter(function(we){return/\u200B/gi.test(we.textContent)}),!1);Le.nextNode();){var Ee=Le.currentNode;Ee.textContent=Ee.textContent.replace(/\u200B/gi,"")}}function se(){if(!a.$wp)return!0;var q;if(a.opts.height||a.opts.heightMax){q=a.position.getBoundingRect().top,(a.helpers.isIOS()||a.helpers.isAndroid())&&(q-=a.helpers.scrollTop()),a.opts.iframe&&(q+=a.$iframe.offset().top);var ae=a.selection.blocks(),Le=null;if(ae&&0<ae.length&&ae[0].offsetTop&&(Le=ae[0].getBoundingClientRect().top,a.selection.get().anchorNode.nodeType===3)){var Ee=a.doc.createRange(),we=a.selection.get().anchorNode,Ne=a.selection.get().anchorOffset;Ee.selectNode(we),Ee.setStart(we,Ne),Le=Ee.getBoundingClientRect().top}if(!a.opts.iframe&&q>a.$wp.offset().top-a.helpers.scrollTop()+a.$wp.height()-20)a.$wp.scrollTop(q+a.$wp.scrollTop()-(a.$wp.height()+a.$wp.offset().top)+a.helpers.scrollTop()+20);else if(a.opts.iframe&&Le){if(a.$wp.scrollTop()>Le)a.$wp.scrollTop(Le-20);else if(Le+20>a.$wp.scrollTop()+a.$wp.height()){var We=Le-a.$wp.height()+50;a.$wp.scrollTop(We)}}}else q=a.position.getBoundingRect().top,a.opts.toolbarBottom&&(q+=a.opts.toolbarStickyOffset),(a.helpers.isIOS()||a.helpers.isAndroid())&&(q-=a.helpers.scrollTop()),a.opts.iframe&&(q+=a.$iframe.offset().top,q-=a.helpers.scrollTop()),(q+=a.opts.toolbarStickyOffset)>a.o_win.innerHeight-20&&T(a.o_win).scrollTop(q+a.helpers.scrollTop()-a.o_win.innerHeight+20),q=a.position.getBoundingRect().top,a.opts.toolbarBottom||(q-=a.opts.toolbarStickyOffset),(a.helpers.isIOS()||a.helpers.isAndroid())&&(q-=a.helpers.scrollTop()),a.opts.iframe&&(q+=a.$iframe.offset().top,q-=a.helpers.scrollTop()),q<100&&T(a.o_win).scrollTop(q+a.helpers.scrollTop()-100)}function re(q){var ae=a.selection.element();if(ae&&0<=["INPUT","TEXTAREA"].indexOf(ae.tagName)||(q&&q.which===0&&f&&(q.which=f),a.helpers.isAndroid()&&a.browser.mozilla))return!0;if(L)return!1;if(q&&a.helpers.isIOS()&&q.which===xe.KEYCODE.ENTER&&a.doc.execCommand("undo"),!a.selection.isCollapsed()||q&&(q.which===xe.KEYCODE.META||q.which===xe.KEYCODE.CTRL)||q&&M(q.which))return!0;if(q&&!a.helpers.isIOS()&&(q.which===xe.KEYCODE.ENTER||q.which===xe.KEYCODE.BACKSPACE||37<=q.which&&q.which<=40&&!a.browser.msie))try{se()}catch{}var Le=a.selection.element();if(function(We){if(!We)return!1;var ct=We.innerHTML;return!!((ct=ct.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""))&&/\u200B/.test(ct)&&0<ct.replace(/\u200B/gi,"").length)}(Le)&&!a.node.hasClass(Le,"fr-marker")&&Le.tagName!=="IFRAME"&&function(We){return!a.helpers.isIOS()||((We.textContent||"").match(/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi)||[]).length===0}(Le)){a.selection.save();var Ee=a.$el.find(".fr-marker")[1],we=(q||"").which;a.opts.enter===xe.ENTER_BR&&Le===a.$el.get(0)&&we===8&&Ee.nextSibling==null||be(Le),a.selection.restore()}}function ie(q){if(navigator.userAgent.indexOf("Mac OS X")!==-1){if(q.metaKey&&!q.altKey)return!0}else if(q.ctrlKey&&!q.altKey)return!0;return!1}function M(q){if(q>=xe.KEYCODE.ARROW_LEFT&&q<=xe.KEYCODE.ARROW_DOWN)return!0}function W(q){if(q>=xe.KEYCODE.ZERO&&q<=xe.KEYCODE.NINE||q>=xe.KEYCODE.NUM_ZERO&&q<=xe.KEYCODE.NUM_MULTIPLY||q>=xe.KEYCODE.A&&q<=xe.KEYCODE.Z||a.browser.webkit&&q===0)return!0;switch(q){case xe.KEYCODE.SPACE:case xe.KEYCODE.QUESTION_MARK:case xe.KEYCODE.NUM_PLUS:case xe.KEYCODE.NUM_MINUS:case xe.KEYCODE.NUM_PERIOD:case xe.KEYCODE.NUM_DIVISION:case xe.KEYCODE.SEMICOLON:case xe.KEYCODE.FF_SEMICOLON:case xe.KEYCODE.DASH:case xe.KEYCODE.EQUALS:case xe.KEYCODE.FF_EQUALS:case xe.KEYCODE.COMMA:case xe.KEYCODE.PERIOD:case xe.KEYCODE.SLASH:case xe.KEYCODE.APOSTROPHE:case xe.KEYCODE.SINGLE_QUOTE:case xe.KEYCODE.OPEN_SQUARE_BRACKET:case xe.KEYCODE.BACKSLASH:case xe.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function K(q){var ae=q.which;if(ie(q)||37<=ae&&ae<=40||!W(ae)&&ae!==xe.KEYCODE.DELETE&&ae!==xe.KEYCODE.BACKSPACE&&ae!==xe.KEYCODE.ENTER&&ae!==xe.KEYCODE.IME)return!0;N||(O=a.snapshot.get(),a.undo.canDo()||a.undo.saveStep()),clearTimeout(N),N=setTimeout(function(){N=null,a.undo.saveStep()},Math.max(250,a.opts.typingTimer))}function R(q){var ae=q.which;if(ie(q)||37<=ae&&ae<=40)return!0;O&&N?(a.undo.saveStep(O),O=null):ae!==void 0&&ae!==0||O||N||a.undo.saveStep()}function A(q){if(q&&q.tagName==="BR")return!1;try{return(q.textContent||"").length===0&&q.querySelector&&!q.querySelector(":scope > br")||q.childNodes&&q.childNodes.length===1&&q.childNodes[0].getAttribute&&(q.childNodes[0].getAttribute("contenteditable")==="false"||a.node.hasClass(q.childNodes[0],"fr-img-caption"))}catch{return!1}}function J(q){var ae=a.el.childNodes,Le=a.html.defaultTag(),Ee=a.node.blockParent(a.selection.blocks()[0]);function we(ct){return!!T(ct).parentsUntil(a.$el,'[contenteditable="false"]').length}Ee&&Ee.tagName=="TR"&&Ee.getAttribute("contenteditable")==null&&(Ee=Ee.closest("table"));var Ne=window.getSelection(),We=0<Ne.rangeCount&&(we(Ne.getRangeAt(0).startContainer)||we(Ne.getRangeAt(0).endContainer));return!a.node.isEditable(q.target)||we(q.target)||We?a.toolbar.disable():a.toolbar.enable(),!(!q.target||q.target===a.el)||ae.length===0||void(ae[0].offsetHeight+ae[0].offsetTop<=q.offsetY?A(ae[ae.length-1])&&(Le?a.$el.append("<".concat(Le,">").concat(xe.MARKERS,"<br></").concat(Le,">")):a.$el.append("".concat(xe.MARKERS,"<br>")),a.selection.restore(),se()):q.offsetY<=10&&A(ae[0])&&(Le?a.$el.prepend("<".concat(Le,">").concat(xe.MARKERS,"<br></").concat(Le,">")):a.$el.prepend("".concat(xe.MARKERS,"<br>")),a.selection.restore(),se()))}function V(){N&&clearTimeout(N)}return{_init:function(){a.events.on("keydown",K),a.events.on("input",P),a.events.on("mousedown",H),a.events.on("keyup input",R),a.events.on("keypress",j),a.events.on("keydown",he),a.events.on("keyup",re),a.events.on("destroy",V),a.events.on("html.inserted",re),a.events.on("cut",F),a.opts.multiLine&&a.events.on("click",J),a.events.on("initialized",function(){a.el.addEventListener("compositionstart",function(){if(a.selection.isCollapsed()){var ae=a.selection.ranges(0),Le=ae.startContainer,Ee=ae.startOffset;if(Le&&Le.nodeType===Node.TEXT_NODE&&Ee<=Le.textContent.length&&0<Ee&&Le.textContent.charCodeAt(Ee-1)===8203){a.selection.save();var we=a.$el.find(".fr-marker");T(we.get(0).previousSibling).before(xe.HAIR_SPACE),we.get(0).previousSibling.textContent=we.get(0).previousSibling.textContent.replace(/\u200B/gi,""),a.selection.restore()}}}),a.el.addEventListener("compositionend",function(){if(a.selection.isCollapsed()){var ae=a.selection.ranges(0),Le=ae.startContainer,Ee=ae.startOffset;if(Le&&Le.nodeType===Node.TEXT_NODE&&Ee<=Le.textContent.length&&0<Ee&&Le.textContent.charCodeAt(0)===8202){a.selection.save();var we=a.$el.find(".fr-marker");we.get(0).previousSibling.textContent=we.get(0).previousSibling.textContent.replace(/\u200A/gi,""),a.selection.restore()}}})})},ctrlKey:ie,isCharacter:W,isArrow:M,forceUndo:function(){N&&(clearTimeout(N),a.undo.saveStep(),O=null)},isIME:function(){return L},isBrowserAction:function(ae){var Le=ae.which;return ie(ae)||Le===xe.KEYCODE.F5},positionCaret:se}},Object.assign(xe.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col","meta"],pasteDeniedAttrs:["class","id"],pasteAllowedStyleProps:[".*"],pasteAllowLocalImages:!1}),xe.MODULES.paste=function(a){var f,N,O,T,L,B,G,P=a.$;function F(q,ae){var Le=2<arguments.length&&arguments[2]!==void 0&&arguments[2];G=Le;try{a.win.localStorage.setItem("fr-copied-html",q),a.win.localStorage.setItem("fr-copied-text",ae)}catch{}}function j(q){var ae=a.html.getSelected();q.type==="cut"&&a.opts.trackChangesEnabled||(G=!1),G&&(ae=a.win.localStorage.getItem("fr-copied-html"));var Le=P(a.doc.createElement("div")).html(ae).text();G||F(ae,Le),q.type==="cut"&&(a.$el.find("table.fr-table-selected").length&&!a.opts.trackChangesEnabled&&(a.table.remove(),q.preventDefault()),q.clipboardData.setData("text/plain",Le),q.clipboardData.setData("text/html",ae),setTimeout(function(){a.selection.save(),a.html.wrap(),a.selection.restore(),a.events.focus(),a.undo.saveStep()},0))}var H,ee=!1;function w(q){if((H=q).target.nodeName==="INPUT"&&q.target.type==="text")return!0;if(a.edit.isDisabled()||be(q.target)||ee)return!1;q.originalEvent&&(q=q.originalEvent);var ae=navigator.userAgent.match(/(chrome(?=\/))\/?\s*(\d+)/i)||[],Le=3<=ae.length?ae[2]:0;return a.helpers.isAndroid()&&a.browser.chrome&&99<Le&&navigator.clipboard?(navigator.clipboard.read({unsanitized:["text/html"]}).then(function(){var Ee=function(Ne){return function(){var We=this,ct=arguments;return new Promise(function(nt,st){var Me=Ne.apply(We,ct);function tt(Ze){de(Me,nt,st,tt,ze,"next",Ze)}function ze(Ze){de(Me,nt,st,tt,ze,"throw",Ze)}tt(void 0)})}}(ot().mark(function we(Ne){var We,ct,nt,st,Me,tt,ze;return ot().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:We=Ne[0].types,ct=new DataTransfer,nt=Ae(We),Ze.prev=3,nt.s();case 5:if((st=nt.n()).done){Ze.next=21;break}return Me=st.value,Ze.next=9,Ne[0].getType(Me);case 9:if(tt=Ze.sent,Me.startsWith("text"))return Ze.next=13,tt.text();Ze.next=16;break;case 13:Ze.t0=Ze.sent,Ze.next=17;break;case 16:Ze.t0=tt;case 17:ze=Ze.t0,Me.startsWith("text")?ct.setData(Me,ze):ct.items.add(new File([ze],"file"));case 19:Ze.next=5;break;case 21:Ze.next=26;break;case 23:Ze.prev=23,Ze.t1=Ze.catch(3),nt.e(Ze.t1);case 26:return Ze.prev=26,nt.f(),Ze.finish(26);case 29:return Ze.abrupt("return",he(q,ct));case 30:case"end":return Ze.stop()}},we,null,[[3,23,26,29]])}));return function(we){return Ee.apply(this,arguments)}}()),q.preventDefault(),!1):he(q)}function he(q,ae){var Le=ae||q&&q.clipboardData;if(Le&&Le.getData){var Ee=(Le||window.clipboardData).getData("text/html")||"";if(Ee.match('content="Microsoft OneNote')){var we=/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(Ee)[1];return a.html.insert(a.clean.html(we)),q.preventDefault&&(q.stopPropagation(),q.preventDefault()),!1}}if(a.events.trigger("paste.before",[q,ae])===!1)return q.preventDefault(),!1;if(Le&&Le.getData){var Ne="";if(T=Le.types,a.helpers.isArray(T))for(var We=0;We<T.length;We++)Ne+="".concat(T[We],";");else Ne=T;if(f="",/text\/rtf/.test(Ne)&&(N=Le.getData("text/rtf")),/text\/html/.test(Ne)?(f=Le.getData("text/html"),a.browser.mozilla&&(f==="<p></p>"||f===""||/<!--StartFragment-->([ ])<!--EndFragment-->/.test(f)||/<!--StartFragment-->([<p></p>]*)<!--EndFragment-->/.test(f))&&(f=a.win.localStorage.getItem("fr-copied-html"))):/text\/uri-list/.test(Ne)&&a.browser.safari?f=Le.getData("text/uri-list"):/text\/rtf/.test(Ne)&&a.browser.safari?f=N:/public.rtf/.test(Ne)&&a.browser.safari&&(f=Le.getData("text/rtf")),O=Le.getData("text"),f!=="")return M(),q.preventDefault&&(q.stopPropagation(),q.preventDefault()),!1;f=null}return function(){if(a.selection.save(),a.events.disableBlur(),f=null,L){L.html("");var nt=re(a.selection.get().anchorNode)+a.$wp.offset().top;L.css("top",nt),a.browser.edge&&a.opts.iframe&&a.$el.append(L)}else{var st=document.getElementsByTagName("BODY")[0],Me=window.getComputedStyle(st).transform;if(Me!=="none"){var tt=re(a.selection.get().anchorNode)+a.$wp.offset().top;L=P('<div contenteditable="true" style="position: fixed; top: '+tt+'px; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;" tabIndex="-1"></div>')}else L=P('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;" tabIndex="-1"></div>');a.browser.webkit||a.browser.mozilla?(Me==="none"&&L.css("top",a.$sc.scrollTop()),a.$el.after(L)):a.browser.edge&&a.opts.iframe?a.$el.append(L):a.$box.after(L),a.events.on("destroy",function(){L.remove()})}var ze;a.helpers.isIOS()&&a.$sc&&(ze=a.$sc.scrollTop()),a.opts.iframe&&a.$el.attr("contenteditable","false"),a.helpers.isIOS()&&a.$sc&&a.$sc.scrollTop(ze);var Ze=H.clipboardData.getData("Text");if(4e5<Ze.length){H.preventDefault();var qe=ie(Ze);L.get(0).innerText="",L.get(0).appendChild(qe)}else L.focus();a.win.setTimeout(M,1)}(),!1}function be(q){return q&&q.contentEditable==="false"}function se(q){if(q.originalEvent&&(q=q.originalEvent),be(q.target))return!1;if(q&&q.dataTransfer&&q.dataTransfer.getData){var ae="";if(T=q.dataTransfer.types,a.helpers.isArray(T))for(var Le=0;Le<T.length;Le++)ae+="".concat(T[Le],";");else ae=T;if(f="",/text\/rtf/.test(ae)&&(N=q.dataTransfer.getData("text/rtf")),/text\/html/.test(ae)?f=q.dataTransfer.getData("text/html"):/text\/rtf/.test(ae)&&a.browser.safari?f=N:/text\/plain/.test(ae)&&!this.browser.mozilla&&(f=a.html.escapeEntities(q.dataTransfer.getData("text/plain")).replace(/\n/g,"<br>")),f!==""){a.keys.forceUndo(),B=a.snapshot.get(),a.selection.save(),a.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-helper");var Ee=a.markers.insertAtPoint(q);if(a.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder"),a.$el.find(".fr-marker-helper").addClass("fr-marker").removeClass("fr-marker-helper"),a.selection.restore(),a.selection.remove(),a.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),Ee!==!1){var we=a.el.querySelector(".fr-marker");return P(we).replaceWith(xe.MARKERS),a.selection.restore(),M(),q.preventDefault&&(q.stopPropagation(),q.preventDefault()),!1}}else f=null}}function re(q){return q.nodeType===Node.TEXT_NODE?q.parentNode.offsetTop:q.offsetTop}function ie(q){var ae=a.html.defaultTag()||"p",Le=q.split(/\n/g),Ee=document.createDocumentFragment();return Le.forEach(function(we){var Ne=document.createElement(ae);Ne.appendChild(we===""?document.createElement("br"):document.createTextNode(we)),Ee.appendChild(Ne)}),Ee}function M(){a.opts.iframe&&a.$el.attr("contenteditable","true"),a.browser.edge&&a.opts.iframe&&a.$box.after(L),B||(a.keys.forceUndo(),B=a.snapshot.get()),f||(f=L.get(0).innerHTML,O=L.text(),a.$el[0].setAttribute("plainpaste",!0),a.selection.restore(),a.events.enableBlur());var q=f.match(/(MSFontService|class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument|LibreOffice)/gi),ae=a.events.chainTrigger("paste.beforeCleanup",f);if(ae&&typeof ae=="string"){f=ae;var Le=new DOMParser().parseFromString(ae,"text/html");O=Le.body.innerText}(!q||q&&a.events.trigger("paste.wordPaste",[f])!==!1)&&R(f,q)}function W(){var q=null,ae=null;try{q=a.win.localStorage.getItem("fr-copied-text"),ae=a.win.localStorage.getItem("fr-copied-html")}catch{}var Le=new DOMParser().parseFromString(ae,"text/html").querySelector("table"),Ee=a.node.hasClass(Le,"fr-table-selected"),we=new DOMParser().parseFromString(f,"text/html").querySelector("table"),Ne=a.node.hasClass(we,"fr-table-selected"),We=Le&&we&&Ee===Ne;return!(!q||!O||T&&T.indexOf("text/html")===-1||O.replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")!==q.replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")&&O.replace(/\s/g,"")!==q.replace(/\s/g,""))||!(!(ae&&f&&We)||T&&T.indexOf("text/html")===-1)}function K(q){for(var ae="",Le=0;Le++<q;)ae+="&nbsp;";return ae}function R(q,ae,Le){var Ee,we=null,Ne=null;if(0<=q.toLowerCase().indexOf("<body")){var We="";0<=q.indexOf("<style")&&(We=q.replace(/[.\s\S\w\W<>]*(<style[^>]*>[\s]*[.\s\S\w\W<>]*[\s]*<\/style>)[.\s\S\w\W<>]*/gi,"$1")),q=(q=(q=We+q.replace(/[.\s\S\w\W<>]*<body[^>]*>[\s]*([.\s\S\w\W<>]*)[\s]*<\/body>[.\s\S\w\W<>]*/gi,"$1")).replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(Zt){return Zt.replace(/\n/g,"<br />")})).replace(/ \n/g," ").replace(/\n /g," ").replace(/([^>])\n([^<])/g,"$1 $2")}var ct=!1;0<=q.indexOf('id="docs-internal-guid')&&(q=q.replace(/^[\w\W\s\S]* id="docs-internal-guid[^>]*>([\w\W\s\S]*)<\/b>[\w\W\s\S]*$/g,"$1"),ct=!0),(0<=q.indexOf('content="Sheets"')||0<=q.indexOf("google-sheets-html-origin"))&&(q=q.replace(/width:0px;/g,""));var nt=!1;if(!ae)if((nt=W())&&(q=a.win.localStorage.getItem("fr-copied-html")),nt)q=a.clean.html(q,a.opts.pasteDeniedTags,a.opts.pasteDeniedAttrs);else{var st=a.opts.htmlAllowedStyleProps;a.opts.htmlAllowedStyleProps=a.opts.pasteAllowedStyleProps,a.opts.htmlAllowComments=!1,q=(q=(q=q.replace(/<span class="Apple-tab-span">\s*<\/span>/g,K(a.opts.tabSpaces||4))).replace(/<span class="Apple-tab-span" style="white-space:pre">(\t*)<\/span>/g,function(Zt,wn){return K(wn.length*(a.opts.tabSpaces||4))})).replace(/\t/g,K(a.opts.tabSpaces||4)),q=a.clean.html(q,a.opts.pasteDeniedTags,a.opts.pasteDeniedAttrs),a.opts.htmlAllowedStyleProps=st,a.opts.htmlAllowComments=!0,a.html.defaultTag()&&a.html.defaultTag()==="div"||(q=J(q)),q=(q=q.replace(/\r/g,"")).replace(/^ */g,"").replace(/ *$/g,"")}!ae||a.wordPaste&&Le||((q=q.replace(/^\n*/g,"").replace(/^ /g,"")).indexOf("<colgroup>")===0&&(q="<table>".concat(q,"</table>")),q=J(q=function(wn){var Zn;wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=(wn=wn.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>")).replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>")).replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>")).replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span")).replace(/<!--\[if !supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,"")).replace(/<!\[if !supportLists\]>([\s\S]*?)<!\[endif\]>/gi,"")).replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," ")).replace(/<!--[\s\S]*?-->/gi,"")).replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");var et,wt=["style","script","applet","embed","noframes","noscript"];for(Zn=0;Zn<wt.length;Zn++){var It=new RegExp("<".concat(wt[Zn],".*?").concat(wt[Zn],"(.*?)>"),"gi");wn=wn.replace(It,"")}for(wn=(wn=(wn=wn.replace(/&nbsp;/gi," ")).replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>")).replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");(wn=(et=wn).replace(/<[^/>][^>]*><\/[^>]+>/gi,""))!==et;);wn=(wn=wn.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>')).replace(/<lilevel1([^>]*)>/gi,"<li$1>"),wn=(wn=(wn=a.clean.html(wn,a.opts.pasteDeniedTags,a.opts.pasteDeniedAttrs)).replace(/<a>(.[^<]+)<\/a>/gi,"$1")).replace(/<br> */g,"<br>");var nn=a.o_doc.createElement("div");nn.innerHTML=wn;var bn=nn.querySelectorAll("li[data-indent]");for(Zn=0;Zn<bn.length;Zn++){var kn=bn[Zn],Mn=kn.previousElementSibling;if(Mn&&Mn.tagName==="LI"){var vn=Mn.querySelector(":scope > ul, :scope > ol");vn||(vn=document.createElement("ul"),Mn.appendChild(vn)),vn.appendChild(kn)}else kn.removeAttribute("data-indent")}return a.html.cleanBlankSpaces(nn),wn=nn.innerHTML}(q))),a.opts.pastePlain&&(q=function(wn){var Zn,et=null,wt=a.doc.createElement("div");wt.innerHTML=wn;var It=W(),nn=wt.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote");for(Zn=0;Zn<nn.length;Zn++)if((et=nn[Zn]).textContent){var bn=It?et.innerHTML:et.innerText,kn=a.clean.html("<".concat(a.html.defaultTag()||"DIV",">").concat(bn,"</").concat(a.html.defaultTag()||"DIV",">"));et.outerHTML=kn}for(Zn=(nn=wt.querySelectorAll("*:not(".concat("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img".split(",").join("):not("),")"))).length-1;0<=Zn;Zn--)(et=nn[Zn]).outerHTML=et.innerHTML;return function Mn(vn){for(var Hn=a.node.contents(vn),So=0;So<Hn.length;So++)Hn[So].nodeType!==Node.TEXT_NODE&&Hn[So].nodeType!==Node.ELEMENT_NODE?Hn[So].parentNode.removeChild(Hn[So]):Mn(Hn[So])}(wt),wt.innerHTML}(q));var Me=a.events.chainTrigger("paste.afterCleanup",q);if(a.$el[0].removeAttribute("plainpaste",!0),typeof Me=="string"&&(q=Me),q!==""){var tt=a.o_doc.createElement("div");0<=(tt.innerHTML=q).indexOf("<body>")?(a.html.cleanBlankSpaces(tt),a.spaces.normalize(tt,!0)):a.spaces.normalize(tt);var ze=tt.getElementsByTagName("span");for(Ee=ze.length-1;0<=Ee;Ee--){var Ze=ze[Ee];Ze.attributes.length===0&&(Ze.outerHTML=Ze.innerHTML)}if(a.opts.linkAlwaysBlank===!0){var qe=tt.getElementsByTagName("a");for(Ee=qe.length-1;0<=Ee;Ee--){var Fe=qe[Ee];Fe.getAttribute("target")||Fe.setAttribute("target","_blank")}}var Ye=a.selection.element(),xt=!1;if(Ye&&P(Ye).parentsUntil(a.el,"ul, ol").length&&(xt=!0),xt){var ft=tt.children;ft.length===1&&0<=["OL","UL"].indexOf(ft[0].tagName)&&(ft[0].outerHTML=ft[0].innerHTML)}if(!ct){var Ot=tt.getElementsByTagName("br");for(Ee=Ot.length-1;0<=Ee;Ee--){var Rt=Ot[Ee];a.node.isBlock(Rt.previousSibling)&&Rt.parentNode.removeChild(Rt)}}if(a.opts.enter===xe.ENTER_BR)for(Ee=(we=tt.querySelectorAll("p, div")).length-1;0<=Ee;Ee--)(Ne=we[Ee]).attributes.length===0&&(Ne.outerHTML=Ne.innerHTML+(Ne.nextSibling&&!a.node.isEmpty(Ne)?"<br>":""));else if(a.opts.enter===xe.ENTER_DIV)for(Ee=(we=tt.getElementsByTagName("p")).length-1;0<=Ee;Ee--)(Ne=we[Ee]).attributes.length===0&&(Ne.outerHTML="<div>".concat(Ne.innerHTML,"</div>"));else a.opts.enter===xe.ENTER_P&&tt.childNodes.length===1&&tt.childNodes[0].tagName==="P"&&tt.childNodes[0].attributes.length===0&&(tt.childNodes[0].outerHTML=tt.childNodes[0].innerHTML);if(tt.childNodes[0]instanceof HTMLHeadingElement&&a.selection.element().tagName===tt.childNodes[0].tagName&&(tt.childNodes[0].outerHTML=tt.childNodes[0].innerHTML),tt.children&&0<tt.children.length)if(a.opts.trackChangesEnabled)for(var zt=0;zt<tt.children.length;zt++)tt.children[zt].setAttribute("id","isPasted");else tt.children[0].setAttribute("id","isPasted");q=(q=tt.innerHTML).replace(/\n/g,""),nt&&(q=function(wn){var Zn,et=a.o_doc.createElement("div");et.innerHTML=wn;for(var wt=et.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(".concat(xe.VOID_ELEMENTS.join("):not("),"):not(").concat(a.opts.htmlAllowedEmptyTags.join("):not("),")"));wt.length;){for(Zn=0;Zn<wt.length;Zn++)wt[Zn].parentNode.removeChild(wt[Zn]);wt=et.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(".concat(xe.VOID_ELEMENTS.join("):not("),"):not(").concat(a.opts.htmlAllowedEmptyTags.join("):not("),")"))}return et.innerHTML}(q)),a.html.insert(q,!0)}(function(){a.events.trigger("paste.after")})(),a.undo.saveStep(B),B=null,a.undo.saveStep()}function A(q){for(var ae=q.length-1;0<=ae;ae--)q[ae].attributes&&q[ae].attributes.length&&q.splice(ae,1);return q}function J(q){var ae,Le=a.o_doc.createElement("div");Le.innerHTML=q;for(var Ee=A(Array.prototype.slice.call(Le.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")));Ee.length;){var we=Ee[Ee.length-1];if(a.html.defaultTag()&&a.html.defaultTag()!=="div")we.querySelector(a.html.blockTagsQuery())?we.outerHTML=we.innerHTML:we.outerHTML="<".concat(a.html.defaultTag(),">").concat(we.innerHTML,"</").concat(a.html.defaultTag(),">");else{var Ne=we.querySelectorAll("*");!Ne.length||Ne[Ne.length-1].tagName!=="BR"&&we.innerText.length===0||!Ne.length||Ne[Ne.length-1].tagName!=="BR"||Ne[Ne.length-1].nextSibling?we.outerHTML=we.innerHTML+(we.nextSibling?"<br>":""):we.outerHTML=we.innerHTML}Ee=A(Array.prototype.slice.call(Le.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")))}for(Ee=A(Array.prototype.slice.call(Le.querySelectorAll("div:not([style])")));Ee.length;){for(ae=0;ae<Ee.length;ae++){var We=Ee[ae],ct=We.innerHTML.replace(/\u0009/gi,"").trim();We.outerHTML=ct}Ee=A(Array.prototype.slice.call(Le.querySelectorAll("div:not([style])")))}return Le.innerHTML}function V(){a.el.removeEventListener("copy",j),a.el.removeEventListener("cut",j),a.el.removeEventListener("paste",w)}return{_init:function(){a.el.addEventListener("copy",j),a.el.addEventListener("cut",j),a.el.addEventListener("paste",w,{capture:!0}),a.events.on("drop",se),a.browser.msie&&a.browser.version<11&&(a.events.on("mouseup",function(ae){ae.button===2&&(setTimeout(function(){ee=!1},50),ee=!0)},!0),a.events.on("beforepaste",w)),a.events.on("destroy",V)},cleanEmptyTagsAndDivs:J,getRtfClipboard:function(){return N},saveCopiedText:F,clean:R,replaceNewLines:ie}},Object.assign(xe.DEFAULTS,{shortcutsEnabled:[],shortcutsHint:!0}),xe.SHORTCUTS_MAP={},xe.RegisterShortcut=function(a,f,N,O,T,L){xe.SHORTCUTS_MAP[(T?"^":"")+(L?"@":"")+a]={cmd:f,val:N,letter:O,shift:T,option:L},xe.DEFAULTS.shortcutsEnabled.push(f)},xe.RegisterShortcut(xe.KEYCODE.E,"show",null,"E",!1,!1),xe.RegisterShortcut(xe.KEYCODE.B,"bold",null,"B",!1,!1),xe.RegisterShortcut(xe.KEYCODE.I,"italic",null,"I",!1,!1),xe.RegisterShortcut(xe.KEYCODE.U,"underline",null,"U",!1,!1),xe.RegisterShortcut(xe.KEYCODE.S,"strikeThrough",null,"S",!1,!1),xe.RegisterShortcut(xe.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),xe.RegisterShortcut(xe.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),xe.RegisterShortcut(xe.KEYCODE.Z,"undo",null,"Z",!1,!1),xe.RegisterShortcut(xe.KEYCODE.Z,"redo",null,"Z",!0,!1),xe.RegisterShortcut(xe.KEYCODE.Y,"redo",null,"Y",!1,!1),xe.MODULES.shortcuts=function(a){var f=null,N=!1;function O(T){if(!a.core.hasFocus())return!0;var L=T.which,B=navigator.userAgent.indexOf("Mac OS X")!==-1?T.metaKey:T.ctrlKey;if(T.type==="keyup"&&N&&L!==xe.KEYCODE.META)return N=!1;T.type==="keydown"&&(N=!1);var G=(T.shiftKey?"^":"")+(T.altKey?"@":"")+L,P=a.node.blockParent(a.selection.blocks()[0]);if(P&&P.tagName=="TR"&&P.getAttribute("contenteditable")==null&&(P=P.closest("table")),B&&xe.SHORTCUTS_MAP[G]&&(!P||P.getAttribute("contenteditable")!=="false")){var F=xe.SHORTCUTS_MAP[G].cmd;if(F&&0<=a.opts.shortcutsEnabled.indexOf(F)){var j=xe.SHORTCUTS_MAP[G].val;if(a.events.trigger("shortcut",[T,F,j])===!1)return!(N=!0);if(F&&(a.commands[F]||xe.COMMANDS[F]&&xe.COMMANDS[F].callback))return T.preventDefault(),T.stopPropagation(),T.type==="keydown"&&((a.commands[F]||xe.COMMANDS[F].callback)(),N=!0),!1}}}return{_init:function(){a.events.on("keydown",O,!0),a.events.on("keyup",O,!0)},get:function(L){if(!a.opts.shortcutsHint)return null;if(!f)for(var B in f={},xe.SHORTCUTS_MAP)Object.prototype.hasOwnProperty.call(xe.SHORTCUTS_MAP,B)&&0<=a.opts.shortcutsEnabled.indexOf(xe.SHORTCUTS_MAP[B].cmd)&&(f["".concat(xe.SHORTCUTS_MAP[B].cmd,".").concat(xe.SHORTCUTS_MAP[B].val||"")]={shift:xe.SHORTCUTS_MAP[B].shift,option:xe.SHORTCUTS_MAP[B].option,letter:xe.SHORTCUTS_MAP[B].letter});var G=f[L];return G?(a.helpers.isMac()?"":"".concat(a.language.translate("Ctrl"),"+"))+(G.shift?a.helpers.isMac()?"":"".concat(a.language.translate("Shift"),"+"):"")+(G.option?a.helpers.isMac()?"":"".concat(a.language.translate("Alt"),"+"):"")+G.letter:null}}},xe.MODULES.snapshot=function(a){function f(B){for(var G=B.parentNode.childNodes,P=0,F=null,j=0;j<G.length;j++){if(F){var H=G[j].nodeType===Node.TEXT_NODE&&G[j].textContent==="",ee=F.nodeType===Node.TEXT_NODE&&G[j].nodeType===Node.TEXT_NODE,w=F.nodeType===Node.TEXT_NODE&&F.textContent==="";H||ee||w||P++}if(G[j]===B)return P;F=G[j]}}function N(B){var G=[];if(!B.parentNode)return[];for(;!a.node.isElement(B);)G.push(f(B)),B=B.parentNode;return G.reverse()}function O(B,G){for(;B&&B.nodeType===Node.TEXT_NODE;){var P=B.previousSibling;P&&P.nodeType===Node.TEXT_NODE&&(G+=P.textContent.length),B=P}return G}function T(B){for(var G=a.el,P=0;P<B.length;P++)G=G.childNodes[B[P]];return G}function L(B,G){try{var P=T(G.scLoc),F=G.scOffset,j=T(G.ecLoc),H=G.ecOffset,ee=a.doc.createRange();ee.setStart(P,F),ee.setEnd(j,H),B.addRange(ee)}catch{}}return{get:function(){var G,P={};if(a.events.trigger("snapshot.before"),P.html=(a.$wp?a.$el.html():a.$oel.get(0).outerHTML).replace(/ style=""/g,""),P.ranges=[],a.$wp&&a.selection.inEditor()&&a.core.hasFocus())for(var F=a.selection.ranges(),j=0;j<F.length;j++)P.ranges.push({scLoc:N((G=F[j]).startContainer),scOffset:O(G.startContainer,G.startOffset),ecLoc:N(G.endContainer),ecOffset:O(G.endContainer,G.endOffset)});return a.events.trigger("snapshot.after",[P]),P},restore:function(G){a.$el.html()!==G.html&&(a.opts.htmlExecuteScripts?a.$el.html(G.html):a.el.innerHTML=G.html);var P=a.selection.get();a.selection.clear(),a.events.focus(!0);for(var F=0;F<G.ranges.length;F++)L(P,G.ranges[F])},equal:function(G,P){return G.html===P.html&&(!a.core.hasFocus()||JSON.stringify(G.ranges)===JSON.stringify(P.ranges))}}},xe.MODULES.undo=function(a){function f(B){var G=B.which;a.keys.ctrlKey(B)&&(G===xe.KEYCODE.Z&&B.shiftKey&&B.preventDefault(),G===xe.KEYCODE.Z&&B.preventDefault())}var N=null;function O(){if(a.undo_stack&&!a.undoing)for(;a.undo_stack.length>a.undo_index;)a.undo_stack.pop()}function T(){a.undo_index=0,a.undo_stack=[]}function L(){a.undo_stack=[]}return{_init:function(){T(),a.events.on("initialized",function(){N=(a.$wp?a.$el.html():a.$oel.get(0).outerHTML).replace(/ style=""/g,"")}),a.events.on("blur",function(){a.el.querySelector(".fr-dragging")||a.undo.saveStep()}),a.events.on("keydown",f),a.events.on("destroy",L)},run:function(){if(1<a.undo_index){a.undoing=!0;var G=a.undo_stack[--a.undo_index-1];clearTimeout(a._content_changed_timer),a.snapshot.restore(G),N=G.html,a.popups.hideAll(),a.toolbar.enable(),a.events.trigger("contentChanged"),a.events.trigger("commands.undo"),a.undoing=!1,a.selection.restore()}},redo:function(){if(a.undo_index<a.undo_stack.length){a.undoing=!0;var G=a.undo_stack[a.undo_index++];clearTimeout(a._content_changed_timer),a.snapshot.restore(G),N=G.html,a.popups.hideAll(),a.toolbar.enable(),a.events.trigger("contentChanged"),a.events.trigger("commands.redo"),a.undoing=!1}},canDo:function(){return!(a.undo_stack.length===0||a.undo_index<=1)},canRedo:function(){return a.undo_index!==a.undo_stack.length},dropRedo:O,reset:T,saveStep:function(G){if(!(!a.undo_stack||a.undoing||a.el.querySelector(".fr-marker")||a.el.querySelector(".fr-marker")&&a.opts.iframe&&a.markdown&&!a.markdown.isEnabled()))if(G===void 0){if((G=a.snapshot.get())&&G.html&&a.undo_stack[a.undo_index-1]&&G.html===a.undo_stack[a.undo_index-1].html)return;a.undo_stack[a.undo_index-1]&&a.snapshot.equal(a.undo_stack[a.undo_index-1],G)||(O(),a.undo_stack.push(G),a.undo_index++,function(F,j){var H=j.split("fr-selected-cell").join("");H=H.split(' class=""').join("");var ee=F.split("fr-selected-cell").join("");return H===(ee=ee.split(' class=""').join(""))}(N,G.html)||(a.events.trigger("contentChanged"),N=G.html))}else O(),0<a.undo_index?a.undo_stack[a.undo_index-1]=G:(a.undo_stack.push(G),a.undo_index++)}}},Object.assign(xe.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),xe.MODULES.size=function(a){function f(){N(),a.opts.height&&a.$el.css("minHeight",a.opts.height-a.helpers.getPX(a.$el.css("padding-top"))-a.helpers.getPX(a.$el.css("padding-bottom")));var O=!1;if(a.opts.fullPage){for(var T=a.$el.find("span,p,div"),L=0;L<T.length;L++)if(T[L].style.height&&T[L].style.height.includes("vh")){O=!0;break}}a.opts.fullPage&&O&&(a.opts.heightMin&&a.$iframe.css("minHeight",a.opts.heightMin),a.opts.heightMax&&a.$iframe.css("maxHeight",a.opts.heightMax),a.$el.css("overflow-y","auto")),a.opts.iframe&&a.markdown&&a.markdown.isEnabled()?a.$iframe.height(a.$wp.parent().outerHeight(!0)):a.$iframe.height(a.$el.outerHeight(!0))}function N(){a.opts.heightMin?a.$el.css("minHeight",a.opts.heightMin):a.$el.css("minHeight",""),a.opts.heightMax?(a.$wp.css("maxHeight",a.opts.heightMax),a.$wp.css("overflow","auto")):(a.$wp.css("maxHeight",""),a.$wp.css("overflow","")),a.opts.height?(a.$wp.css("height",a.opts.height),a.$wp.css("overflow","auto"),a.$el.css("minHeight",a.opts.height-a.helpers.getPX(a.$el.css("padding-top"))-a.helpers.getPX(a.$el.css("padding-bottom")))):(a.$wp.css("height",""),a.opts.heightMin||a.$el.css("minHeight",""),a.opts.heightMax||a.$wp.css("overflow","")),a.opts.width&&a.$box.width(a.opts.width)}return{_init:function(){if(!a.$wp)return!1;N(),a.$iframe&&(a.events.on("keyup keydown",function(){setTimeout(f,0)},!0),a.events.on("commands.after html.set init initialized paste.after",f))},syncIframe:f,refresh:N}},Object.assign(xe.DEFAULTS,{documentReady:!1,editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestWithCredentials:!1,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeDefaultStyle:'html{margin:0px;height:auto;}body{height:auto;padding:20px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}',iframeStyle:"",iframeStyleFiles:[],direction:"auto",zIndex:1,tabIndex:null,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),xe.MODULES.core=function(a){var f=a.$;function N(){if(a.$box.addClass("fr-box".concat(a.opts.editorClass?" ".concat(a.opts.editorClass):"")),a.$box.attr("role","application"),a.$wp.addClass("fr-wrapper"),a.opts.documentReady&&a.$box.addClass("fr-document"),function(){a.opts.iframe||a.$el.addClass("fr-element fr-view"),(a.opts.height&&a.opts.height<window.innerHeight||a.opts.heightMax&&a.opts.heightMax<window.innerHeight)&&a.$el.addClass("fr-element-scroll-visible")}(),a.opts.iframe){a.$iframe.addClass("fr-iframe"),a.$el.addClass("fr-view");for(var O=0;O<a.o_doc.styleSheets.length;O++){var T=void 0,L=!1;try{T=a.o_doc.styleSheets[O].cssRules}catch{}if(a.o_doc.styleSheets[O].href&&(-1<a.o_doc.styleSheets[O].href.indexOf("codemirror")||-1<a.o_doc.styleSheets[O].href.indexOf("font-awesome"))&&(L=!(T=null)),T)for(var B=0,G=T.length;B<G;B++)if(!T[B].selectorText||T[B].selectorText.indexOf(".fr-view")!==0&&T[B].selectorText.indexOf(".fr-element")!==0&&T[B].selectorText.indexOf(".fr-box.fr-basic .fr-element")!==0&&T[B].selectorText.indexOf(".fr-markdown-view")!==0&&T[B].selectorText.indexOf(".fr-markdown-editor")!==0&&T[B].selectorText.indexOf(".fr-wrapper-markdown")!==0&&T[B].selectorText.indexOf(".gutter-horizontal")!==0&&T[B].selectorText.indexOf(".e-resize-handler")!==0&&T[B].selectorText.indexOf(".fr-find-replace-highlight")!==0&&T[B].selectorText.indexOf(".fr-find-replace-current-highlight")!==0)try{L&&a.o_doc.styleSheets[O].href&&T[B].selectorText&&(a.opts.iframeStyle+="".concat(T[B].selectorText,"{").concat(T[B].style.cssText,"}"),L=!1)}catch{}else 0<T[B].style.cssText.length&&(T[B].selectorText.indexOf(".fr-box.fr-basic .fr-element")===0&&(a.opts.iframeStyle+="".concat(T[B].selectorText,"{").concat(T[B].style.cssText,"}")),T[B].selectorText.indexOf(".fr-view")===0?a.opts.iframeStyle+="".concat(T[B].selectorText.replace(/\.fr-view/g,"body"),"{").concat(T[B].style.cssText,"}"):a.opts.iframeStyle+="".concat(T[B].selectorText.replace(/\.fr-element/g,"body"),"{").concat(T[B].style.cssText,"}"));else if(a.o_doc.styleSheets[O].href&&(-1<a.o_doc.styleSheets[O].href.indexOf("codemirror")||-1<a.o_doc.styleSheets[O].href.indexOf("font-awesome")||-1<a.o_doc.styleSheets[O].href.indexOf("froala-editor"))){var P=f("<link rel='stylesheet' type='text/css' href='".concat(a.o_doc.styleSheets[O].href,"'>"));a.$head.append(P)}}}a.opts.direction!=="auto"&&a.$box.removeClass("fr-ltr fr-rtl").addClass("fr-".concat(a.opts.direction)),a.$el.attr("dir",a.opts.direction),a.$wp.attr("dir",a.opts.direction),1<a.opts.zIndex&&a.$box.css("z-index",a.opts.zIndex),a.opts.theme&&a.$box.addClass("".concat(a.opts.theme,"-theme")),a.opts.tabIndex=a.opts.tabIndex||a.$oel.attr("tabIndex"),a.opts.tabIndex&&a.$el.attr("tabIndex",a.opts.tabIndex)}return{_init:function(){if(xe.INSTANCES.push(a),function(){a.drag_support={filereader:typeof FileReader<"u",formdata:!!a.win.FormData,progress:"upload"in new XMLHttpRequest}}(),a.$wp){N(),a.html.set(a._original_html),a.$el.attr("spellcheck",a.opts.spellcheck),a.helpers.isMobile()&&(a.$el.attr("autocomplete",a.opts.spellcheck?"on":"off"),a.$el.attr("autocorrect",a.opts.spellcheck?"on":"off"),a.$el.attr("autocapitalize",a.opts.spellcheck?"on":"off")),a.opts.disableRightClick&&a.events.$on(a.$el,"contextmenu",function(T){if(T.button===2)return T.preventDefault(),T.stopPropagation(),!1});try{a.doc.execCommand("styleWithCSS",!1,!1)}catch{}}a.$oel.get(0).tagName==="TEXTAREA"&&(a.events.on("contentChanged",function(){a.$oel.val(a.html.get())}),a.events.on("form.submit",function(){a.$oel.val(a.html.get())}),a.events.on("form.reset",function(){a.html.set(a._original_html)}),a.$oel.val(a.html.get())),a.helpers.isIOS()&&a.events.$on(a.$doc,"selectionchange",function(){a.$doc.get(0).hasFocus()||a.$win.get(0).focus()}),a.events.trigger("init"),a.opts.autofocus&&!a.opts.initOnClick&&a.$wp&&a.events.on("initialized",function(){a.events.focus(!0)})},destroy:function(T){a.$oel.get(0).tagName==="TEXTAREA"&&a.$oel.val(T),a.$box&&a.$box.removeAttr("role"),a.$wp&&(a.$oel.get(0).tagName==="TEXTAREA"?(a.$el.html(""),a.$wp.html(""),a.$box.replaceWith(a.$oel),a.$oel.show()):(a.$wp.replaceWith(T),a.$el.html(""),a.$box.removeClass("fr-view fr-ltr fr-box ".concat(a.opts.editorClass||"")),a.opts.theme&&a.$box.addClass("".concat(a.opts.theme,"-theme")))),this.$wp=null,this.$el=null,this.el=null,this.$box=null},isEmpty:function(){return a.node.isEmpty(a.el)},getXHR:function(T,L){var B=new XMLHttpRequest;for(var G in B.open(L,T,!0),a.opts.requestWithCredentials&&(B.withCredentials=!0),a.opts.requestHeaders)Object.prototype.hasOwnProperty.call(a.opts.requestHeaders,G)&&B.setRequestHeader(G,a.opts.requestHeaders[G]);return B},injectStyle:function(T){if(a.opts.iframe){a.$head.find("style[data-fr-style], link[data-fr-style]").remove(),a.$head.append('<style data-fr-style="true">'.concat(T,"</style>"));for(var L=0;L<a.opts.iframeStyleFiles.length;L++){var B=f('<link data-fr-style="true" rel="stylesheet" href="'.concat(a.opts.iframeStyleFiles[L],'">'));B.get(0).addEventListener("load",a.size.syncIframe),a.$head.append(B)}}},hasFocus:function(){return a.browser.mozilla&&a.helpers.isMobile()?a.selection.inEditor():a.node.hasFocus(a.el)||0<a.$el.find("*:focus").length},sameInstance:function(T){if(!T)return!1;var L=T.data("instance");return!!L&&L.id===a.id}}},xe.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},xe.RegisterTemplate=function(a,f){xe.POPUP_TEMPLATES[a]=f},xe.MODULES.popups=function(a){var f,N=a.$;a.shared.popups||(a.shared.popups={});var O,T=a.shared.popups;function L(R,A){A.isVisible()||(A=a.$sc),A.is(T[R].data("container"))||(T[R].data("container",A),A.append(T[R]))}function B(R){var A;R.find(".fr-upload-progress").addClass("fr-height-set"),R.find(".fr-upload-progress").removeClass("fr-height-auto"),a.popups.get("filesManager.insert").removeClass("fr-height-auto"),R.find(".fr-files-upload-layer").hasClass("fr-active")&&(A=1),R.find(".fr-files-by-url-layer").hasClass("fr-active")&&(A=2),R.find(".fr-files-embed-layer").hasClass("fr-active")&&(A=3),R.find(".fr-upload-progress-layer").get(0).clientHeight+10<R.find(".fr-upload-progress").get(0).clientHeight&&R.find(".fr-upload-progress").addClass("fr-height-auto"),400<R[0].clientHeight&&(R[0].childNodes[4].style.height="".concat(R[0].clientHeight-(R[0].childNodes[0].clientHeight+R[0].childNodes[A].clientHeight)-80,"px"))}var G=2e3;function P(){N(this).toggleClass("fr-not-empty",!0)}function F(){var R=N(this);R.toggleClass("fr-not-empty",R.val()!=="")}function j(R){return T[R]&&a.node.hasClass(T[R],"fr-active")&&a.core.sameInstance(T[R])||!1}function H(R){for(var A in T)if(Object.prototype.hasOwnProperty.call(T,A)&&j(A)&&(R===void 0||T[A].data("instance")===R))return T[A];return!1}function ee(R){var A=null;if((A=typeof R!="string"?R:T[R])&&a.node.hasClass(A,"fr-do-not-hide")||R==="filesManager.insert"&&a.filesManager&&a.filesManager.isChildWindowOpen())return!1;if(A&&a.node.hasClass(A,"fr-active")&&(A.removeClass("fr-active fr-above"),a.events.trigger("popups.hide.".concat(R)),a.$tb&&(1<a.opts.zIndex?a.$tb.css("zIndex",a.opts.zIndex+1):a.$tb.css("zIndex","")),a.events.disableBlur(),A.find("input, textarea, button").each(function(){this===this.ownerDocument.activeElement&&this.blur()}),A.find("input, textarea").attr("disabled","disabled"),O))for(var J=0;J<O.length;J++)N(O[J]).removeClass("fr-btn-active-popup")}function w(R){for(var A in R===void 0&&(R=[]),T)Object.prototype.hasOwnProperty.call(T,A)&&R.indexOf(A)<0&&ee(A)}function he(){a.shared.exit_flag=!0}function be(){a.shared.exit_flag=!1}function se(){return a.shared.exit_flag}function re(R,A){var J,V=function(We,ct){var nt=xe.POPUP_TEMPLATES[We];if(!nt)return null;for(var st in typeof nt=="function"&&(nt=nt.apply(a)),ct)Object.prototype.hasOwnProperty.call(ct,st)&&(nt=nt.replace("[_".concat(st.toUpperCase(),"_]"),ct[st]));return nt}(R,A),q=N(a.doc.createElement("DIV"));if(!V)return R==="filesManager.insert"?q.addClass("fr-popup fr-files-manager fr-empty"):q.addClass("fr-popup fr-empty"),(J=N("body").first()).append(q),q.data("container",J),T[R]=q;R==="filesManager.insert"?q.addClass("fr-popup fr-files-manager".concat(a.helpers.isMobile()?" fr-mobile":" fr-desktop").concat(a.opts.toolbarInline?" fr-inline":"")):q.addClass("fr-popup".concat(a.helpers.isMobile()?" fr-mobile":" fr-desktop").concat(a.opts.toolbarInline?" fr-inline":"")),q.html(V),a.opts.theme&&q.addClass("".concat(a.opts.theme,"-theme")),1<a.opts.zIndex&&(!a.opts.editInPopup&&a.$tb?a.$tb.css("z-index",a.opts.zIndex+2):q.css("z-index",a.opts.zIndex+2)),a.opts.direction!=="auto"&&q.removeClass("fr-ltr fr-rtl").addClass("fr-".concat(a.opts.direction)),q.find("input, textarea").attr("dir",a.opts.direction).attr("disabled","disabled"),(J=N("body").first()).append(q),q.data("container",J);var ae=(T[R]=q).find(".fr-color-hex-layer");if(0<ae.length){var Le=a.helpers.getPX(q.find(".fr-color-set > span").css("width")),Ee=a.helpers.getPX(ae.css("paddingLeft")),we=a.helpers.getPX(ae.css("paddingRight"));ae.css("width",Le*a.opts.colorsStep+Ee+we)}return a.button.bindCommands(q,!1),q}function ie(R){var A=T[R];return{_windowResize:function(){var J=A.data("instance")||a;if(!J.helpers.isMobile()&&A.isVisible()){var V=A.find(".fr-file-progress-bar-layer");if(R==="file.insert"&&0<V.length&&V.hasClass("fr-active")){var q=a.$tb.find('.fr-command[data-cmd="insertFile"]');J.events.disableBlur();var ae=a.button.getPosition(q),Le=ae.left,Ee=ae.top;a.position.at(Le,Ee,T[R],0),J.events.enableBlur()}else J.events.disableBlur(),J.popups.hide(R),J.events.enableBlur()}},_inputFocus:function(J){var V=A.data("instance")||a,q=N(J.currentTarget);if(q.is("input:file")&&q.closest(".fr-layer").addClass("fr-input-focus"),J.preventDefault(),J.stopPropagation(),setTimeout(function(){V.events.enableBlur()},100),V.helpers.isMobile()){var ae=N(V.o_win).scrollTop();setTimeout(function(){N(V.o_win).scrollTop(ae)},0)}},_inputBlur:function(J){var V=A.data("instance")||a,q=N(J.currentTarget);q.is("input:file")&&q.closest(".fr-layer").removeClass("fr-input-focus"),document.activeElement!==this&&N(this).isVisible()&&(V.events.blurActive()&&V.events.trigger("blur"),V.events.enableBlur())},_editorKeydown:function(J){var V=A.data("instance")||a;V.keys.ctrlKey(J)||J.which===xe.KEYCODE.ALT||J.which===xe.KEYCODE.ESC||(j(R)&&A.findVisible(".fr-back").length?V.button.exec(A.findVisible(".fr-back").first()):J.which!==xe.KEYCODE.ALT&&V.popups.hide(R))},_preventFocus:function(J){var V=A.data("instance")||a,q=J.originalEvent?J.originalEvent.target||J.originalEvent.originalTarget:null;J.type==="mouseup"||N(q).is(":focus")||V.events.disableBlur(),J.type!=="mouseup"||N(q).hasClass("fr-command")||0<N(q).parents(".fr-command").length||N(q).hasClass("fr-dropdown-content")||N(q).hasClass("fr-dropdown-menu")||a.button.hideActiveDropdowns(A),(a.browser.safari||a.browser.mozilla)&&J.type==="mousedown"&&N(q).is("input[type=file]")&&V.events.disableBlur();var ae="input, textarea, button, select, label, .fr-command";if(q&&!N(q).is(ae)&&N(q).parents(ae).length===0)return J.stopPropagation(),!1;q&&N(q).is(ae)&&J.stopPropagation(),be()},_editorMouseup:function(){A.isVisible()&&se()&&0<A.findVisible("input:focus, textarea:focus, button:focus, select:focus").length&&a.events.disableBlur()},_windowMouseup:function(J){if(!a.core.sameInstance(A))return!0;var V=A.data("instance")||a;A.isVisible()&&se()&&(J.stopPropagation(),V.markers.remove(),V.popups.hide(R),be())},_windowKeydown:function(J){if(!a.core.sameInstance(A))return!0;var V=A.data("instance")||a,q=J.which;if(xe.KEYCODE.ESC===q){if(V.popups.isVisible(R)&&V.opts.toolbarInline)return J.stopPropagation(),V.popups.isVisible(R)&&(A.findVisible(".fr-back").length?(V.button.exec(A.findVisible(".fr-back").first()),V.accessibility.focusPopupButton(A)):A.findVisible(".fr-dismiss").length?V.button.exec(A.findVisible(".fr-dismiss").first()):(V.popups.hide(R),V.toolbar.showInline(null,!0),V.accessibility.focusPopupButton(A))),!1;if(V.popups.isVisible(R))return A.findVisible(".fr-back").length?(V.button.exec(A.findVisible(".fr-back").first),V.accessibility.focusPopupButton(A)):A.findVisible(".fr-dismiss").length?V.button.exec(A.findVisible(".fr-dismiss").first()):(V.popups.hide(R),V.accessibility.focusPopupButton(A)),!1}},_repositionPopup:function(){if(!a.opts.height&&!a.opts.heightMax||a.opts.toolbarInline)return!0;if(a.$wp&&j(R)&&A.parent().get(0)===a.$sc.get(0)){var J=A.offset().top-a.$wp.offset().top,V=a.$wp.outerHeight();a.node.hasClass(A.get(0),"fr-above")&&(J+=A.outerHeight()),V<J||J<0?A.addClass("fr-hidden"):A.removeClass("fr-hidden")}},handleWindowClick:function(J){if(!a.core.sameInstance(A))return!0;var V=A.data("instance")||a;A.isVisible()&&J.target&&(0<N(J.target).find("body").length||N(J.target)[0].tagName==="BODY")&&(J.stopPropagation(),V.popups.hide(R))}}}function M(R,A){a.events.on("mouseup",R._editorMouseup,!0),a.$wp&&a.events.on("keydown",R._editorKeydown),a.events.on("focus",function(){T[A].removeClass("focused")}),a.events.on("blur",function(){H()&&a.markers.remove(),a.helpers.isMobile()?T[A].hasClass("focused")?(w(),T[A].removeClass("focused")):T[A].addClass("focused"):T[A].find("iframe").length||w()}),a.$wp&&!a.helpers.isMobile()&&a.events.$on(a.$wp,"scroll.popup".concat(A),R._repositionPopup),a.events.on("window.mouseup",R._windowMouseup,!0),a.events.on("window.keydown",R._windowKeydown,!0),a.opts.iframe&&window.addEventListener("click",R.handleWindowClick),T[A].data("inst".concat(a.id),!0),a.events.on("destroy",function(){a.core.sameInstance(T[A])&&(N("body").first().append(T[A]),T[A].removeClass("fr-active"))},!0)}function W(){var R=N(this).prev().children().first();R.attr("checked",!R.attr("checked"))}function K(){for(var R in T)if(Object.prototype.hasOwnProperty.call(T,R)){var A=T[R];A&&(A.html("").removeData().remove(),T[R]=null)}T=[]}return a.shared.exit_flag=!1,{_init:function(){f=window.innerHeight,a.events.on("shared.destroy",K,!0),a.events.on("window.mousedown",he),a.events.on("window.touchmove",be),a.events.$on(N(a.o_win),"scroll",be),a.events.on("mousedown",function(A){H()&&(A.stopPropagation(),a.$el.find(".fr-marker").remove(),he(),a.events.disableBlur())})},create:function(A,J){var V=re(A,J),q=ie(A);M(q,A),a.events.$on(V,"mousedown mouseup touchstart touchend touch","*",q._preventFocus,!0),a.events.$on(V,"focus","input, textarea, button, select",q._inputFocus,!0),a.events.$on(V,"blur","input, textarea, button, select",q._inputBlur,!0);var ae=V.find("input, textarea");return function(Ee){for(var we=0;we<Ee.length;we++){var Ne=Ee[we],We=N(Ne);We.next().length===0&&We.attr("placeholder")&&(We.after('<label for="'.concat(We.attr("id"),'">').concat(We.attr("placeholder"),"</label>")),We.attr("placeholder",""))}}(ae),a.events.$on(ae,"focus",P),a.events.$on(ae,"blur change",F),a.events.$on(V,"click",".fr-checkbox + label",W),a.accessibility.registerPopup(A),a.helpers.isIOS()&&a.events.$on(V,"touchend","label",function(){N("#".concat(N(this).attr("for"))).prop("checked",function(Le,Ee){return!Ee})},!0),a.events.$on(N(a.o_win),"resize",q._windowResize,!0),A==="filesManager.insert"&&T["filesManager.insert"].css("zIndex",2147483641),V},get:function(A){var J=T[A];return J&&!J.data("inst".concat(a.id))&&M(ie(A),A),J},show:function(A,J,V,q,ae){if(j(A)||(H()&&0<a.$el.find(".fr-marker").length?(a.events.disableBlur(),a.selection.restore()):H()||(a.events.disableBlur(),a.events.focus(),a.events.enableBlur())),w([A]),!T[A])return!1;var Le=a.button.getButtons(".fr-dropdown.fr-active");Le.removeClass("fr-active").attr("aria-expanded",!1).parents(".fr-toolbar").css("zIndex","").find("> .fr-dropdown-wrapper").css("height",""),Le.next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),T[A].data("instance",a),a.$tb&&a.$tb.data("instance",a);var Ee=j(A);T[A].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var we=T[A].data("container");if(function(Me,tt){tt.isVisible()||(tt=a.$sc),tt.contains([T[Me].get(0)])||tt.append(T[Me])}(A,we),a.opts.toolbarInline&&we&&a.$tb&&we.get(0)===a.$tb.get(0)&&(L(A,a.$sc),V=a.$tb.offset().top-a.helpers.getPX(a.$tb.css("margin-top")),J=a.$tb.offset().left+a.$tb.outerWidth()/2,a.node.hasClass(a.$tb.get(0),"fr-above")&&V&&(V+=a.$tb.outerHeight()),q=0),we=T[A].data("container"),a.opts.iframe&&!q&&!Ee){var Ne=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-top")),We=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-left"));J&&(J-=a.$iframe.offset().left+We),V&&(V-=a.$iframe.offset().top+Ne)}we.is(a.$tb)?a.$tb.css("zIndex",(a.opts.zIndex||1)+4):T[A].css("zIndex",(a.opts.zIndex||1)+3),a.opts.toolbarBottom&&we&&a.$tb&&we.get(0)===a.$tb.get(0)&&(T[A].addClass("fr-above"),V&&(V-=T[A].outerHeight())),ae&&(J-=T[A].width()/2),J+T[A].outerWidth()>a.$sc.offset().left+a.$sc.width()&&(J-=J+T[A].outerWidth()-a.$sc.offset().left-a.$sc.width()),J<a.$sc.offset().left&&a.opts.direction==="rtl"&&(J=a.$sc.offset().left),T[A].removeClass("fr-active"),a.position.at(J,V,T[A],q||0);var ct=a.node.blockParent(a.selection.blocks()[0]);if(ct&&ct.getAttribute("contenteditable")==="false")T[A].removeClass("fr-active");else{var nt=a.selection.element().parentElement.getAttribute("contenteditable");nt&&nt==="false"?T[A].removeClass("fr-active"):T[A].addClass("fr-active")}Ee||a.accessibility.focusPopup(T[A]),a.opts.toolbarInline&&a.toolbar.hide(),a.$tb&&(O=a.$tb.find(".fr-btn-active-popup")),a.events.trigger("popups.show.".concat(A)),ie(A)._repositionPopup(),be()},hide:ee,onHide:function(A,J){a.events.on("popups.hide.".concat(A),J)},hideAll:w,setContainer:L,refresh:function(A){T[A].data("instance",a),a.events.trigger("popups.refresh.".concat(A));for(var J=T[A].find(".fr-command"),V=0;V<J.length;V++){var q=N(J[V]);q.parents(".fr-dropdown-menu").length===0&&a.button.refresh(q)}},onRefresh:function(A,J){a.events.on("popups.refresh.".concat(A),J)},onShow:function(A,J){a.events.on("popups.show.".concat(A),J)},isVisible:j,setFileListHeight:B,areVisible:H,setPopupDimensions:function(A,J){J&&A.find(".fr-upload-progress-layer").get(0).clientHeight<G&&(A.find(".fr-upload-progress").addClass("fr-height-auto"),a.popups.get("filesManager.insert").addClass("fr-height-auto"),A.find(".fr-upload-progress").removeClass("fr-height-set"),G=2e3),A.get(0).clientHeight>window.innerHeight/2&&(window.innerWidth<500?A.get(0).clientHeight>.6*f&&B(A):400<A.get(0).clientHeight&&B(A),G=A.find(".fr-upload-progress-layer").get(0).clientHeight);var V=window.innerWidth;switch(!0){case V<=320:A.width(200);break;case V<=420:A.width(250);break;case V<=520:A.width(300);break;case V<=720:A.width(400);break;case 720<V:A.width(530)}}}},xe.MODULES.accessibility=function(a){var f,N=a.$,O=!0;function T(A){for(var J=a.$el.find('[contenteditable="true"]'),V=!1,q=0;J.get(q);)N(J.get(q)).is(":focus")&&(V=!0),q++;if(A&&A.length&&!V){A.data("blur-event-set")||A.parents(".fr-popup").length||(a.events.$on(A,"blur",function(){var Ee=A.parents(".fr-toolbar, .fr-popup").data("instance")||a;Ee.events.blurActive()&&!a.core.hasFocus()&&Ee.events.trigger("blur"),setTimeout(function(){Ee.events.enableBlur()},100)},!0),A.data("blur-event-set",!0));var ae=A.parents(".fr-toolbar, .fr-popup").data("instance")||a;if(a.browser.safari&&(!f||a.shared.safariSelection==null)){var Le=a.selection.get();Le&&0<Le.rangeCount?a.shared.safariSelection=Le.getRangeAt(0).cloneRange():a.shared.safariSelection=null}ae.events.disableBlur(),A.get(0).focus(),a.shared.$f_el=A}}function L(A,J){var V=J?"last":"first",q=H(ee(A))[V]();if(q.length)return T(q),!0}function B(A){return A.is("input, textarea, select")&&P(),a.events.disableBlur(),A.get(0).focus(),!0}function G(A,J){var V=A.find("input, textarea, button, select, span").filter(function(){return N(this).isVisible()}).not(":disabled"),q=V.first();if((V=q.parents(".fr-color-set").get(0)&&q.parents(".fr-popup").get(0)?V.filter("input"):J?V.last():V.first()).length)return B(V);if(a.shared.with_kb){var ae=A.findVisible(".fr-active-item").first();if(ae.length)return B(ae);var Le=A.findVisible("[tabIndex]").first();if(Le.length)return B(Le)}}function P(){a.$el.find(".fr-marker").length===0&&a.core.hasFocus()&&a.selection.save()}function F(){var A=a.popups.areVisible();if(A){var J=A.find(".fr-buttons");return J.find("button:focus, .fr-group span:focus").length?!L(A.data("instance").$tb):!L(J)}return!L(a.$tb)}function j(){var A=null;return a.shared.$f_el.is(".fr-dropdown.fr-active")?A=a.shared.$f_el:a.shared.$f_el.closest(".fr-dropdown-menu").prev().is(".fr-dropdown.fr-active")&&(A=a.shared.$f_el.closest(".fr-dropdown-menu").prev()),A}function H(A){for(var J=-1,V=0;V<A.length;V++)N(A[V]).hasClass("fr-open")&&(J=V);var q=A.index(a.$tb.find(".fr-more-toolbar.fr-expanded > button.fr-command").first());if(0<q&&J!==-1){var ae=A.slice(q,A.length),Le=(A=A.slice(0,q)).slice(0,J+1),Ee=A.slice(J+1,A.length);A=Le;for(var we=0;we<ae.length;we++)A.push(ae[we]);for(var Ne=0;Ne<Ee.length;Ne++)A.push(Ee[Ne])}return A}function ee(A){return A.findVisible("button:not(.fr-disabled), .fr-group span.fr-command").filter(function(J){var V=N(J).parents(".fr-more-toolbar");return V.length===0||0<V.length&&V.hasClass("fr-expanded")})}function w(A,J,V){if(a.shared.$f_el){var q=j();q&&(a.button.click(q),a.shared.$f_el=q);var ae=H(ee(A)),Le=ae.index(a.shared.$f_el);if(Le===0&&!V||Le===ae.length-1&&V){var Ee;J&&(A.parent().is(".fr-popup")&&(Ee=!G(A.parent().children().not(".fr-buttons"),!V)),Ee===!1&&(a.shared.$f_el=null)),J&&Ee===!1||L(A,!V)}else T(N(ae.get(Le+(V?1:-1))));return!1}}function he(A,J){return w(A,J,!0)}function be(A,J){return w(A,J)}function se(A){if(a.shared.$f_el){var J;if(a.shared.$f_el.is(".fr-dropdown.fr-active"))return T(J=A?a.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").first():a.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").last()),!1;if(a.shared.$f_el.is("a.fr-command"))return(J=A?a.shared.$f_el.closest("li").nextAllVisible().first().find(".fr-command:not(.fr-disabled)").first():a.shared.$f_el.closest("li").prevAllVisible().first().find(".fr-command:not(.fr-disabled)").first()).length||(J=A?a.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").first():a.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").last()),T(J),!1}}function re(){if(a.shared.$f_el){if(a.shared.$f_el.hasClass("fr-dropdown"))a.button.click(a.shared.$f_el);else if(a.shared.$f_el.is("button.fr-back")){a.opts.toolbarInline&&(a.events.disableBlur(),a.events.focus());var A=a.popups.areVisible(a);A&&(a.shared.with_kb=!1),a.button.click(a.shared.$f_el),W(A)}else{if(a.events.disableBlur(),a.button.click(a.shared.$f_el),a.shared.$f_el.attr("data-group-name")){var J=a.$tb.find('.fr-more-toolbar[data-name="'.concat(a.shared.$f_el.attr("data-group-name"),'"]')),V=a.shared.$f_el;J.hasClass("fr-expanded")&&(V=J.findVisible("button:not(.fr-disabled)").first()),V&&T(V)}else if(a.shared.$f_el.attr("data-popup")){var q=a.popups.areVisible(a);q&&q.data("popup-button",a.shared.$f_el)}else if(a.shared.$f_el.attr("data-modal")){var ae=a.modals.areVisible(a);ae&&ae.data("modal-button",a.shared.$f_el)}a.shared.$f_el=null}return!1}}function ie(){if(a.shared.$f_el&&(a.events.disableBlur(),a.shared.$f_el.blur(),a.shared.$f_el=null),a.events.trigger("toolbar.focusEditor")!==!1&&(a.events.disableBlur(),a.$el.get(0).focus(),a.events.focus(),a.browser.safari&&a.shared.safariSelection)){var A=a.shared.safariSelection,J=A.startContainer,V=A.endContainer,q=A.startOffset,ae=A.endOffset,Le=a.doc.createRange();Le.setStart(J,q),Le.setEnd(V,ae),a.selection.get().removeAllRanges(),a.selection.get().addRange(Le),a.shared.safariSelection=null}}function M(A){A&&A.length&&(a.events.$on(A,"keydown",function(J){if(!N(J.target).is("a.fr-command, button.fr-command, .fr-group span.fr-command"))return!0;var V=A.parents(".fr-popup").data("instance")||A.data("instance")||a;a.shared.with_kb=!0;var q=V.accessibility.exec(J,A);return a.shared.with_kb=!1,q},!0),a.events.$on(A,"mouseenter","[tabIndex]",function(J){var V=A.parents(".fr-popup").data("instance")||A.data("instance")||a;if(!O)return J.stopPropagation(),void J.preventDefault();var q=N(J.currentTarget);V.shared.$f_el&&V.shared.$f_el.not(q)&&V.accessibility.focusEditor()},!0),a.$tb&&a.events.$on(a.$tb,"transitionend",".fr-more-toolbar",function(){a.shared.$f_el=N(document.activeElement)}))}function W(A){var J=A.data("popup-button");J&&setTimeout(function(){T(J),A.data("popup-button",null)},0)}function K(A){var J=a.popups.areVisible(A);J&&J.data("popup-button",null)}function R(A){var J=navigator.userAgent.indexOf("Mac OS X")!==-1?A.metaKey:A.ctrlKey;if(A.which!==xe.KEYCODE.F10||J||A.shiftKey||!A.altKey)return!0;a.shared.with_kb=!0;var V=a.popups.areVisible(a),q=!1;return V&&(q=G(V.children().not(".fr-buttons"))),q||F(),a.shared.with_kb=!1,A.preventDefault(),A.stopPropagation(),!1}return{_init:function(){a.$wp?a.events.on("keydown",R,!0):a.events.$on(a.$win,"keydown",R,!0),a.events.on("mousedown",function(J){K(a),a.shared.$f_el&&a.el.isSameNode(a.shared.$f_el[0])&&(a.accessibility.restoreSelection(),J.stopPropagation(),a.events.disableBlur(),a.shared.$f_el=null)},!0),a.events.on("blur",function(){a.shared.$f_el=null,K(a)},!0)},registerPopup:function(J){var V=a.popups.get(J),q=function(Le){var Ee=a.popups.get(Le);return{_tiKeydown:function(we){var Ne=Ee.data("instance")||a;if(Ne.events.trigger("popup.tab",[we])===!1)return!1;var We=we.which,ct=Ee.find(":focus").first();if(xe.KEYCODE.TAB===We){we.preventDefault();var nt=Ee.children().not(".fr-buttons"),st=nt.findVisible("input, textarea, button, select").not(".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled").toArray(),Me=st.indexOf(this)+(we.shiftKey?-1:1);if(0<=Me&&Me<st.length)return Ne.events.disableBlur(),N(st[Me]).focus(),we.stopPropagation(),!1;var tt=Ee.find(".fr-buttons");if(tt.length&&L(tt,!!we.shiftKey)||G(nt))return we.stopPropagation(),!1}else{if(xe.KEYCODE.ENTER!==We||!we.target||we.target.tagName==="TEXTAREA")return xe.KEYCODE.ESC===We?(we.preventDefault(),we.stopPropagation(),Ne.accessibility.restoreSelection(),Ne.popups.isVisible(Le)&&Ee.findVisible(".fr-back").length?(Ne.opts.toolbarInline&&(Ne.events.disableBlur(),Ne.events.focus()),Ne.button.exec(Ee.findVisible(".fr-back").first()),W(Ee)):Ne.popups.isVisible(Le)&&Ee.findVisible(".fr-dismiss").length?Ne.button.exec(Ee.findVisible(".fr-dismiss").first()):(Ne.popups.hide(Le),Ne.opts.toolbarInline&&Ne.toolbar.showInline(null,!0),W(Ee)),!1):xe.KEYCODE.SPACE===We&&(ct.is(".fr-submit")||ct.is(".fr-dismiss")||ct.is(".fr-enable-accessibility"))?(we.preventDefault(),we.stopPropagation(),Ne.events.disableBlur(),Ne.button.exec(ct),!0):Ne.keys.isBrowserAction(we)||ct.is("input[type=text], textarea")||xe.KEYCODE.SPACE===We&&(ct.is(".fr-link-attr")||ct.is("input[type=file]"))?void we.stopPropagation():(we.stopPropagation(),we.preventDefault(),!1);var ze=null;if(0<Ee.findVisible(".fr-submit").length?ze=Ee.findVisible(".fr-submit").first():Ee.findVisible(".fr-dismiss").length&&(ze=Ee.findVisible(".fr-dismiss").first()),!ze&&0<Ee.findVisible(".fr-enable-accessibility").length){var Ze=Ee.findVisible(".fr-enable-accessibility:focus");0<Ze.length&&(ze=Ze)}ze&&(we.preventDefault(),we.stopPropagation(),Ne.events.disableBlur(),Ne.button.exec(ze))}},_tiMouseenter:function(){var we=Ee.data("instance")||a;K(we)}}}(J);M(V.find(".fr-buttons")),a.events.$on(V,"mouseenter","tabIndex",q._tiMouseenter,!0),a.events.$on(V.children().not(".fr-buttons"),"keydown","[tabIndex]",q._tiKeydown,!0),a.popups.onHide(J,function(){(V.data("instance")||a).accessibility.restoreSelection()}),a.popups.onShow(J,function(){O=!1,setTimeout(function(){O=!0},0)})},registerToolbar:M,focusToolbarElement:T,focusToolbar:L,focusContent:G,focusPopup:function(J){var V=J.children().not(".fr-buttons");V.data("mouseenter-event-set")||(a.events.$on(V,"mouseenter","[tabIndex]",function(q){var ae=J.data("instance")||a;if(!O)return q.stopPropagation(),void q.preventDefault();var Le=V.find(":focus").first();Le.length&&!Le.is("input, button, textarea, select")&&(ae.events.disableBlur(),Le.blur(),ae.events.disableBlur(),ae.events.focus())}),V.data("mouseenter-event-set",!0)),!G(V)&&a.shared.with_kb&&L(J.find(".fr-buttons"))},focusModal:function(J){a.core.hasFocus()||(a.events.disableBlur(),a.events.focus()),a.accessibility.saveSelection(),a.events.disableBlur(),a.el.blur(),a.selection.clear(),a.events.disableBlur(),a.shared.with_kb?J.find(".fr-command[tabIndex], [tabIndex]").first().focus():J.find("[tabIndex]").first().focus()},focusEditor:ie,focusPopupButton:W,focusModalButton:function(J){var V=J.data("modal-button");V&&setTimeout(function(){T(V),J.data("modal-button",null)},0)},hasFocus:function(){return a.shared.$f_el!==null},exec:function(J,V){var q=navigator.userAgent.indexOf("Mac OS X")!==-1?J.metaKey:J.ctrlKey,ae=J.which,Le=!1;return ae!==xe.KEYCODE.TAB||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.ARROW_RIGHT||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.TAB||q||!J.shiftKey||J.altKey?ae!==xe.KEYCODE.ARROW_LEFT||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.ARROW_UP||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.ARROW_DOWN||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.ENTER&&ae!==xe.KEYCODE.SPACE||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.ESC||q||J.shiftKey||J.altKey?ae!==xe.KEYCODE.F10||q||J.shiftKey||!J.altKey||(Le=F()):Le=function(we){if(a.shared.$f_el){var Ne=j();return Ne?(a.button.click(Ne),T(Ne)):we.parent().findVisible(".fr-back").length?(a.shared.with_kb=!1,a.opts.toolbarInline&&(a.events.disableBlur(),a.events.focus()),a.button.exec(we.parent().findVisible(".fr-back")).first(),W(we.parent())):a.shared.$f_el.is("button, .fr-group span")&&(we.parent().is(".fr-popup")?(a.accessibility.restoreSelection(),a.shared.$f_el=null,a.events.trigger("toolbar.esc")!==!1&&(a.popups.hide(we.parent()),a.opts.toolbarInline&&a.toolbar.showInline(null,!0),W(we.parent()))):ie()),!1}}(V):Le=re():Le=function(){return a.shared.$f_el&&a.shared.$f_el.is(".fr-dropdown:not(.fr-active)")?re():se(!0)}():Le=function(){return se()}():Le=be(V):Le=be(V,!0):Le=he(V):(f=ae,Le=he(V,!0)),a.shared.$f_el||Le!==void 0||(Le=!0),!Le&&a.keys.isBrowserAction(J)&&(Le=!0),!!Le||(J.preventDefault(),J.stopPropagation(),!1)},saveSelection:P,restoreSelection:function(){a.$el.find(".fr-marker").length&&(a.events.disableBlur(),a.selection.restore(),a.events.enableBlur())}}},Object.assign(xe.DEFAULTS,{tooltips:!0}),xe.MODULES.tooltip=function(a){var f=a.$;function N(){a.helpers.isMobile()||a.$tooltip&&a.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function O(T,L){if(!a.helpers.isMobile()){var B=T.attr("id")&&T.attr("id").split("-")[0],G=T.attr("title"),P=a.opts.trackChangesEnabled,F=a.opts.showChangesEnabled;if(a.opts.toolbarContainer){for(var j=!1,H=0;H<xe.INSTANCES.length;H++)if(xe.INSTANCES[H].core.hasFocus()){P=xe.INSTANCES[H].opts.trackChangesEnabled,F=xe.INSTANCES[H].opts.showChangesEnabled,j=!0;break}j||(F=P=T.hasClass("fr-active"))}if(B==="trackChanges")G=P?"Disable Track Changes":"Enable Track Changes";else if(B==="showChanges")G=F?"Hide Changes":"Show Changes";else if((B==="applyAll"||B==="removeAll"||B==="applyLast"||B==="removeLast")&&a.track_changes.getPendingChanges().length===0)return;if(T.data("title",G),T.data("title")){a.$tooltip||function(){if(a.opts.tooltips&&!a.helpers.isMobile()){if(a.shared.$tooltip)a.$tooltip=a.shared.$tooltip;else{a.shared.$tooltip=f(a.doc.createElement("DIV")).addClass("fr-tooltip"),a.$tooltip=a.shared.$tooltip,a.opts.theme&&a.$tooltip.addClass("".concat(a.opts.theme,"-theme"));var se={};if(a.$wp&&0<a.$wp.length&&(se=a.$wp.closest("dialog")),0<se.length)se.first().append(a.$tooltip);else if(a.$box&&0<a.$box.length&&a.$box[0]){var re=a.$box[0].getRootNode();re instanceof ShadowRoot?f(re).append(a.$tooltip):f(a.o_doc).find("body").first().append(a.$tooltip)}else f(a.o_doc).find("body").first().append(a.$tooltip)}a.events.on("shared.destroy",function(){a.$tooltip.html("").removeData().remove(),a.$tooltip=null},!0)}}(),T.removeAttr("title"),a.$tooltip.text(a.language.translate(T.data("title"))),a.$tooltip.addClass("fr-visible");var ee=T.offset().left+(T.outerWidth()-a.$tooltip.outerWidth())/2;ee<0&&(ee=0),ee+a.$tooltip.outerWidth()>f(a.o_win).width()&&(ee=f(a.o_win).width()-a.$tooltip.outerWidth()),L===void 0&&(L=a.opts.toolbarBottom),T.offset().top-f(window).scrollTop()+T.outerHeight()+10>=f(window).height()&&(L=!0);var w=L?T.offset().top-a.$tooltip.height():T.offset().top+T.outerHeight();a.$tooltip.css("position",""),a.$tooltip.css("left",ee),a.$tooltip.css("top",Math.ceil(w));var he={};a.$wp&&0<a.$wp.length&&(he=a.$wp.closest("dialog")),0<he.length?(a.$tooltip.css("margin-left",-he.first().offset().left),a.$tooltip.css("margin-top",-he.first().offset().top)):f(a.o_doc).find("body").first().css("position")!=="static"?(a.$tooltip.css("margin-left",-f(a.o_doc).find("body").first().offset().left),a.$tooltip.css("margin-top",-f(a.o_doc).find("body").first().offset().top)):(a.$tooltip.css("margin-left",""),a.$tooltip.css("margin-top",""))}}}return{hide:N,to:O,bind:function(L,B,G){a.opts.tooltips&&!a.helpers.isMobile()&&(a.events.$on(L,"mouseover",B,function(P){a.node.hasClass(P.currentTarget,"fr-disabled")||a.edit.isDisabled()||O(f(P.currentTarget),G)},!0),a.events.$on(L,"mouseout ".concat(a._mousedown," ").concat(a._mouseup),B,function(){N()},!0))}}},xe.TOOLBAR_VISIBLE_BUTTONS=3,xe.MODULES.button=function(a){var f=a.$,N=[];(a.opts.toolbarInline||a.opts.toolbarContainer)&&(a.shared.buttons||(a.shared.buttons=[]),N=a.shared.buttons);var O=[];function T(M,W,K){for(var R=f(),A=0;A<M.length;A++){var J=f(M[A]);if(J.is(W)&&(R=R.add(J)),K&&J.is(".fr-dropdown")){var V=J.next().find(W);R=R.add(V)}}return R}function L(M,W){var K,R=f();if(!M)return R;for(K in R=(R=R.add(T(N,M,W))).add(T(O,M,W)),a.shared.popups)if(Object.prototype.hasOwnProperty.call(a.shared.popups,K)){var A=a.shared.popups[K].children().find(M);R=R.add(A)}for(K in a.shared.modals)if(Object.prototype.hasOwnProperty.call(a.shared.modals,K)){var J=a.shared.modals[K].$modal.find(M);R=R.add(J)}return R}function B(M){var W=M.next(),K=a.node.hasClass(M.get(0),"fr-active"),R=L(".fr-dropdown.fr-active").not(M),A=M.parents(".fr-toolbar, .fr-popup").data("instance")||a;A.helpers.isIOS()&&!A.el.querySelector(".fr-marker")&&(A.selection.save(),A.selection.clear(),A.selection.restore()),W.parents(".fr-more-toolbar").addClass("fr-overflow-visible");var J=0,V=0,q=W.find("> .fr-dropdown-wrapper");if(!K){var ae=M.data("cmd");W.find(".fr-command").removeClass("fr-active").attr("aria-selected",!1),xe.COMMANDS[ae]&&xe.COMMANDS[ae].refreshOnShow&&xe.COMMANDS[ae].refreshOnShow.apply(A,[M,W]),W.css("left",M.offset().left-M.parents(".fr-btn-wrap, .fr-toolbar, .fr-buttons").offset().left-(a.opts.direction==="rtl"?W.width()-M.outerWidth():0)),W.addClass("test-height"),J=W.outerHeight(),V=a.helpers.getPX(q.css("max-height")),W.removeClass("test-height"),W.css("top","").css("bottom","");var Le=M.outerHeight()/10;if(!a.opts.toolbarBottom&&W.offset().top+M.outerHeight()+J<f(a.o_doc).height())W.css("top",M.position().top+M.outerHeight()-Le);else{var Ee=0,we=M.parents(".fr-more-toolbar");0<we.length&&(Ee=we.first().height()),W.css("bottom",M.parents(".fr-popup, .fr-toolbar").first().height()-Ee-M.position().top)}}M.addClass("fr-blink").toggleClass("fr-active"),M.hasClass("fr-options")&&M.prev().toggleClass("fr-expanded"),M.hasClass("fr-active")?(W.attr("aria-hidden",!1),M.attr("aria-expanded",!0),function(ct,nt,st){st<=nt&&(ct.parent().css("overflow","auto"),ct.parent().css("overflow-x","hidden")),ct.css("height",Math.min(nt,st))}(q,J,V)):(W.attr("aria-hidden",!0).css("overflow",""),M.attr("aria-expanded",!1),q.css("height","")),setTimeout(function(){M.removeClass("fr-blink")},300),W.css("margin-left",""),W.offset().left+W.outerWidth()>a.$sc.offset().left+a.$sc.width()&&W.css("margin-left",-(W.offset().left+W.outerWidth()-a.$sc.offset().left-a.$sc.width())),W.offset().left<a.$sc.offset().left&&a.opts.direction==="rtl"&&W.css("margin-left",a.$sc.offset().left),R.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),R.prev(".fr-expanded").removeClass("fr-expanded"),R.parents(".fr-toolbar:not(.fr-inline)").css("zIndex",""),M.parents(".fr-popup").length!==0||a.opts.toolbarInline||(a.node.hasClass(M.get(0),"fr-active")?a.$tb.css("zIndex",(a.opts.zIndex||1)+4):a.$tb.css("zIndex",""));var Ne=W.find("a.fr-command.fr-active").first();a.helpers.isMobile()||(Ne.length?(a.accessibility.focusToolbarElement(Ne),q.scrollTop(Math.abs(Ne.parents(".fr-dropdown-content").offset().top-Ne.offset().top)-Ne.offset().top)):(a.accessibility.focusToolbarElement(M),q.scrollTop(0)))}function G(M){M.addClass("fr-blink"),setTimeout(function(){M.removeClass("fr-blink")},500);for(var W=M.data("cmd"),K=[];M.data("param".concat(K.length+1))!==void 0;)K.push(M.data("param".concat(K.length+1)));var R=L(".fr-dropdown.fr-active");R.length&&(R.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),R.prev(".fr-expanded").removeClass("fr-expanded"),R.parents(".fr-toolbar:not(.fr-inline)").css("zIndex","")),M.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(W,K)}function P(M){var W=M.parents(".fr-popup, .fr-toolbar").data("instance"),K=a.popups.get("link.insert");if(M.parents(".fr-popup").length===0&&M.data("popup")&&!M.hasClass("fr-btn-active-popup")&&(M.attr("id")==="insertLink-".concat(a.id)&&K&&K.hasClass("fr-active")||M.addClass("fr-btn-active-popup")),M.parents(".fr-popup").length!==0||M.data("popup")||W.popups.hideAll(),W.popups.areVisible()&&!W.popups.areVisible(W)){for(var R=0;R<xe.INSTANCES.length;R++)xe.INSTANCES[R]!==W&&xe.INSTANCES[R].popups&&xe.INSTANCES[R].popups.areVisible()&&xe.INSTANCES[R].$el.find(".fr-marker").remove();W.popups.hideAll()}a.node.hasClass(M.get(0),"fr-dropdown")?B(M):(function(J){G(J)}(M),xe.COMMANDS[M.data("cmd")]&&xe.COMMANDS[M.data("cmd")].refreshAfterCallback!==!1&&W.button.bulkRefresh())}function F(M){P(f(M.currentTarget))}function j(M){var W=M.find(".fr-dropdown.fr-active");W.length&&(W.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),W.parents(".fr-toolbar:not(.fr-inline)").css("zIndex",""),W.prev().removeClass("fr-expanded"))}function H(M){M.preventDefault(),M.stopPropagation()}function ee(M){if(M.stopPropagation(),!a.helpers.isMobile())return!1}function w(M){var W=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},K=2<arguments.length?arguments[2]:void 0;if(a.helpers.isMobile()&&W.showOnMobile===!1)return"";var R=W.displaySelection;typeof R=="function"&&(R=R(a));var A="";if(W.type!=="options")if(R){var J=typeof W.defaultSelection=="function"?W.defaultSelection(a):W.defaultSelection;A='<span style="width:'.concat(W.displaySelectionWidth||100,'px">').concat(a.language.translate(J||W.title),"</span>")}else A=a.icon.create(W.icon||M),A+='<span class="fr-sr-only">'.concat(a.language.translate(W.title)||"","</span>");var V=W.popup?' data-popup="true"':"",q=W.modal?' data-modal="true"':"",ae=a.shortcuts.get("".concat(M,"."));ae=ae?" (".concat(ae,")"):"";var Le="".concat(M,"-").concat(a.id),Ee="dropdown-menu-".concat(Le),we='<button id="'.concat(Le,'"').concat(W.more_btn?' data-group-name="'.concat(Le,'" aria-expanded="false" '):" ",'type="button" tabIndex="-1" role="button"').concat(W.toggle?' aria-pressed="false"':"").concat(W.type==="dropdown"||W.type==="options"?' aria-controls="'.concat(Ee,'" aria-expanded="false" aria-haspopup="true"'):"").concat(W.disabled?' aria-disabled="true"':"",' title="').concat(a.language.translate(W.title)||"").concat(ae,'" class="fr-command fr-btn').concat(W.type==="dropdown"||W.type=="options"?" fr-dropdown":"").concat(W.type=="options"?" fr-options":"").concat(W.type=="more"?" fr-more":"").concat(W.displaySelection?" fr-selection":"").concat(W.back?" fr-back":"").concat(W.disabled?" fr-disabled":"").concat(K?"":" fr-hidden",'" data-cmd="').concat(M,'"').concat(V).concat(q,">").concat(A,"</button>");if(W.type==="dropdown"||W.type==="options"){var Ne='<div id="'.concat(Ee,'" class="fr-dropdown-menu" role="listbox" aria-labelledby="').concat(Le,'" aria-hidden="true"><div class="fr-dropdown-wrapper" role="presentation"><div class="fr-dropdown-content" role="presentation">');Ne+=function(ct,nt){var st="";if(nt.html)typeof nt.html=="function"?st+=nt.html.call(a):st+=nt.html;else{var Me=nt.options;for(var tt in typeof Me=="function"&&(Me=Me()),st+='<ul class="fr-dropdown-list" role="presentation">',Me)Object.prototype.hasOwnProperty.call(Me,tt)&&(a.shortcuts.get("".concat(ct,".").concat(tt)),st+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="'.concat(nt.type==="options"?ct.replace(/Options/g,""):ct,'" data-param1="').concat(tt,'" title="').concat(Me[tt],'">').concat(a.language.translate(Me[tt]),"</a></li>"));st+="</ul>"}return st}(M,W),we+=Ne+="</div></div></div>"}return W.hasOptions&&W.hasOptions.apply(a)&&(we='<div class="fr-btn-wrap">'.concat(we," ").concat(w(M+"Options",Object.assign({},W,{type:"options",hasOptions:!1}),K),"  </div>")),we}function he(M){var W=a.$tb&&a.$tb.data("instance")||a;if(a.events.trigger("buttons.refresh")===!1)return!0;setTimeout(function(){for(var K=W.selection.inEditor()&&W.core.hasFocus(),R=0;R<M.length;R++){var A=f(M[R]),J=A.data("cmd");A.parents(".fr-popup").length===0?K||xe.COMMANDS[J]&&xe.COMMANDS[J].forcedRefresh?W.button.refresh(A):a.node.hasClass(A.get(0),"fr-dropdown")||(A.removeClass("fr-active"),A.attr("aria-pressed")&&A.attr("aria-pressed",!1)):A.parents(".fr-popup").isVisible()&&W.button.refresh(A)}},0)}function be(){he(N),he(O)}function se(){N=[],O=[]}a.shared.popup_buttons||(a.shared.popup_buttons=[]),O=a.shared.popup_buttons;var re=null;function ie(){clearTimeout(re),re=setTimeout(be,50)}return{_init:function(){a.opts.toolbarInline?a.events.on("toolbar.show",be):(a.events.on("mouseup",ie),a.events.on("keyup",ie),a.events.on("blur",ie),a.events.on("focus",ie),a.events.on("contentChanged",ie),a.helpers.isMobile()&&a.events.$on(a.$doc,"selectionchange",be)),a.events.on("shared.destroy",se)},build:w,buildList:function(W,K){for(var R="",A=0;A<W.length;A++){var J=W[A],V=xe.COMMANDS[J];V&&typeof V.plugin<"u"&&a.opts.pluginsEnabled.indexOf(V.plugin)<0||(V?R+=w(J,V,K===void 0||0<=K.indexOf(J)):J==="|"?R+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':J==="-"&&(R+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>'))}return R},buildGroup:function(W){var K="",R="";for(var A in W){var J=W[A];if(J.buttons){for(var V="",q="",ae=0,Le="left",Ee=xe.TOOLBAR_VISIBLE_BUTTONS,we=0;we<J.buttons.length;we++){var Ne=J.buttons[we],We=xe.COMMANDS[Ne];We||(Ne=="|"?V+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':Ne=="-"&&(V+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')),!We||We&&typeof We.plugin<"u"&&a.opts.pluginsEnabled.indexOf(We.plugin)<0||(W[A].align!==void 0&&(Le=W[A].align),W[A].buttonsVisible!==void 0&&(Ee=W[A].buttonsVisible),W.showMoreButtons&&Ee<=ae?q+=w(Ne,We,!0):V+=w(Ne,We,!0),ae++)}if(W.showMoreButtons&&Ee<ae){var ct=A,nt=xe.COMMANDS[ct];nt.more_btn=!0,V+=w(ct,nt,!0)}A!=="trackChanges"&&(K+='<div class="fr-btn-grp fr-float-'.concat(Le,'">').concat(V,"</div>")),W.showMoreButtons&&0<q.length&&(R+='<div class="fr-more-toolbar" data-name="'.concat(A+"-"+a.id,'">').concat(q,"</div>"))}}return a.opts.toolbarBottom?a.helpers.isMobile()?'<div class="fr-bottom-extended">'.concat(R,"</div><div>").concat(K,"</div>"):"".concat(R,'<div class="fr-newline"></div>').concat(K):"".concat(K,'<div class="fr-newline"></div>').concat(R)},bindCommands:function(W,K){a.events.bindClick(W,".fr-command:not(.fr-disabled)",F),a.events.$on(W,"".concat(a._mousedown," ").concat(a._mouseup," ").concat(a._move),".fr-dropdown-menu",H,!0),a.events.$on(W,"".concat(a._mousedown," ").concat(a._mouseup," ").concat(a._move),".fr-dropdown-menu .fr-dropdown-wrapper",ee,!0);var R=W.get(0).ownerDocument,A="defaultView"in R?R.defaultView:R.parentWindow;function J(V){(!V||V.type===a._mouseup&&V.target!==f("html").get(0)||V.type==="keydown"&&(a.keys.isCharacter(V.which)&&!a.keys.ctrlKey(V)||V.which===xe.KEYCODE.ESC))&&(j(W),a.opts.iframe&&function(ae){var Le=ae.find(".fr-popup.fr-active");if(Le.length){Le.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),Le.parents(".fr-toolbar:not(.fr-inline)").css("zIndex",""),Le.prev().removeClass("fr-expanded");var Ee=a.$tb.find(".fr-btn-active-popup");f(Ee[0]).removeClass("fr-btn-active-popup")}}(W))}a.events.$on(f(A),"".concat(a._mouseup," resize keydown"),J,!0),a.opts.iframe&&a.events.$on(a.$win,a._mouseup,J,!0),a.node.hasClass(W.get(0),"fr-popup")?f.merge(O,W.find(".fr-btn").toArray()):f.merge(N,W.find(".fr-btn").toArray()),a.tooltip.bind(W,".fr-btn, .fr-title",K)},refresh:function(W){var K,R=W.parents(".fr-popup, .fr-toolbar").data("instance")||a,A=W.data("cmd");a.node.hasClass(W.get(0),"fr-dropdown")?K=W.next():(W.removeClass("fr-active"),W.attr("aria-pressed")&&!W.hasClass("fr-active-tab")&&W.attr("aria-pressed",!1)),xe.COMMANDS[A]&&xe.COMMANDS[A].refresh?xe.COMMANDS[A].refresh.apply(R,[W,K]):a.refresh[A]&&R.refresh[A](W,K)},bulkRefresh:be,exec:G,click:P,hideActiveDropdowns:j,addButtons:function(W){for(var K=0;K<W.length;K++)N.push(W[K])},getButtons:L,getPosition:function(W){var K=W.offset().left,R=a.opts.toolbarBottom?10:W.outerHeight()-10;return{left:K,top:W.offset().top+R}}}},xe.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]" aria-hidden="true"></i>',font_awesome_5:'<i class="fas fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5r:'<i class="far fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5l:'<i class="fal fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5b:'<i class="fab fa-[FA5NAME]" aria-hidden="true"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />",svg:'<svg class="fr-svg" focusable="false" viewBox="[VIEWBOX]" xmlns="http://www.w3.org/2000/svg"><path d="[PATH]"/></svg>',svgMultiplePath:'<svg class="fr-svg" focusable="false" viewBox="[VIEWBOX]" xmlns="http://www.w3.org/2000/svg">[PATHS]</svg>',empty:" "},xe.ICONS={bold:{NAME:"bold",SVG_KEY:"bold"},italic:{NAME:"italic",SVG_KEY:"italic"},underline:{NAME:"underline",SVG_KEY:"underline"},strikeThrough:{NAME:"strikethrough",SVG_KEY:"strikeThrough"},subscript:{NAME:"subscript",SVG_KEY:"subscript"},superscript:{NAME:"superscript",SVG_KEY:"superscript"},cancel:{NAME:"cancel",SVG_KEY:"cancel"},color:{NAME:"tint",SVG_KEY:"textColor"},outdent:{NAME:"outdent",SVG_KEY:"outdent"},indent:{NAME:"indent",SVG_KEY:"indent"},undo:{NAME:"rotate-left",FA5NAME:"undo",SVG_KEY:"undo"},redo:{NAME:"rotate-right",FA5NAME:"redo",SVG_KEY:"redo"},insert:{NAME:"insert",SVG_KEY:"insert"},insertAll:{NAME:"insertAll",SVG_KEY:"insertAll"},insertHR:{NAME:"minus",SVG_KEY:"horizontalLine"},clearFormatting:{NAME:"eraser",SVG_KEY:"clearFormatting"},selectAll:{NAME:"mouse-pointer",SVG_KEY:"selectAll"},minimize:{NAME:"minimize",SVG_KEY:"minimize"},moreText:{NAME:"ellipsis-v",SVG_KEY:"textMore"},moreParagraph:{NAME:"ellipsis-v",SVG_KEY:"paragraphMore"},moreRich:{NAME:"ellipsis-v",SVG_KEY:"insertMore"},moreMisc:{NAME:"ellipsis-v",SVG_KEY:"more"}},xe.DefineIconTemplate=function(a,f){xe.ICON_TEMPLATES[a]=f},xe.DefineIcon=function(a,f){xe.ICONS[a]=f},Object.assign(xe.DEFAULTS,{iconsTemplate:"svg"}),xe.MODULES.icon=function(a){return{create:function(N){var O=null,T=xe.ICONS[N];if(T!==void 0){var L=T.template||xe.ICON_DEFAULT_TEMPLATE||a.opts.iconsTemplate;L&&L.apply&&(L=L.apply(a)),T.FA5NAME||(T.FA5NAME=T.NAME),L!=="svg"||T.PATH||(T.PATH=xe.SVG[T.SVG_KEY]||""),L&&(L=xe.ICON_TEMPLATES[L])&&(O=L.replace(/\[([a-zA-Z0-9]*)\]/g,function(B,G){return G==="NAME"?T[G]||N:G==="VIEWBOX"?T[G]||"0 0 24 24":T[G]}))}return O||N},getTemplate:function(N){var O=xe.ICONS[N],T=a.opts.iconsTemplate;return O!==void 0?T=O.template||xe.ICON_DEFAULT_TEMPLATE||a.opts.iconsTemplate:T},getFileIcon:function(N){var O=xe.FILEICONS[N];return O!==void 0?O:N}}},xe.SVG={imageTransformations:"M3 5.8h2.8V3H3v2.8Zm0 7.6h2.8v-2.8H3v2.8Zm15.2 0H21v-2.8h-2.8v2.8Zm-7.6-7.6h2.8V3h-2.8v2.8Zm0 14.2h2.8v-2.8h-2.8V20ZM3 20h2.8v-2.8H3V20ZM18.2 5.8H21V3h-2.8v2.8Zm0 14.2H21v-2.8h-2.8V20ZM6.8 4.9h2.8V4H6.8v.9Zm0 14.2h2.8v-.9H6.8v.9Zm7.6-14.2h2.8V4h-2.8v.9Zm0 14.2h2.8v-.9h-2.8v.9ZM3.9 9.6h.9V6.8h-.9v2.8Zm15.2 0h.9V6.8h-.9v2.8ZM3.9 16.2h.9v-1.9h-.9v1.9Zm15.2 0h.9v-1.9h-.9v1.9ZM15.8 14l-2.2 2.3V14h2.2Zm0-6.8v6.2H15V8H9v7.3h4.1v.9H8.2v-9h7.6Zm-4.3 5.3v.8h-.8v-.8h.8Zm1.3-1.4v.8h-2.2v-.8h2.2Zm.6-1.5v.8h-2.7v-.8h2.7Z",filestackIcon:"M19 16.5 15 21v-4.5h4Zm0-1.125h-1.5V4.687h-11v14.625l7.5.001V21H5V3h14v12.375Zm-8-1.687v1.687H9.5v-1.687H11Zm2.5-2.813v1.687h-4v-1.687h4Zm1-2.813v1.687h-5V8.062h5Z",add:"M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6V13z",advancedImageEditor:"M3,17v2h6v-2H3z M3,5v2h10V5H3z M13,21v-2h8v-2h-8v-2h-2v6H13z M7,9v2H3v2h4v2h2V9H7z M21,13v-2H11v2H21z M15,9h2V7h4V5h-4  V3h-2V9z",alignCenter:"M9,18h6v-2H9V18z M6,11v2h12v-2H6z M3,6v2h18V6H3z",alignJustify:"M3,18h18v-2H3V18z M3,11v2h18v-2H3z M3,6v2h18V6H3z",alignLeft:"M3,18h6v-2H3V18z M3,11v2h12v-2H3z M3,6v2h18V6H3z",alignRight:"M15,18h6v-2h-6V18z M9,11v2h12v-2H9z M3,6v2h18V6H3z",anchors:"M16,4h-4H8C6.9,4,6,4.9,6,6v4v10l6-2.6l6,2.6V10V6C18,4.9,17.1,4,16,4z M16,17l-4-1.8L8,17v-7V6h4h4v4V17z",autoplay:"M 7.570312 0.292969 C 7.542969 0.292969 7.515625 0.292969 7.488281 0.296875 C 7.203125 0.324219 6.984375 0.539062 6.980469 0.792969 L 6.925781 3.535156 C 2.796875 3.808594 -0.0078125 6.425781 -0.0859375 10.09375 C -0.121094 11.96875 0.710938 13.6875 2.265625 14.921875 C 3.769531 16.117188 5.839844 16.796875 8.097656 16.828125 C 8.140625 16.828125 12.835938 16.898438 13.035156 16.886719 C 15.171875 16.796875 17.136719 16.128906 18.558594 15.003906 C 20.066406 13.816406 20.882812 12.226562 20.917969 10.40625 C 20.960938 8.410156 20.023438 6.605469 18.289062 5.335938 C 18.214844 5.277344 18.128906 5.230469 18.035156 5.203125 C 17.636719 5.074219 17.222656 5.199219 17 5.476562 L 15.546875 7.308594 C 15.304688 7.609375 15.363281 8.007812 15.664062 8.265625 C 16.351562 8.851562 16.707031 9.625 16.6875 10.5 C 16.652344 12.25 15.070312 13.390625 12.757812 13.535156 C 12.59375 13.539062 8.527344 13.472656 8.164062 13.464844 C 5.703125 13.429688 4.101562 12.191406 4.140625 10.3125 C 4.175781 8.570312 5.132812 7.46875 6.847656 7.199219 L 6.796875 9.738281 C 6.792969 9.992188 7 10.214844 7.285156 10.253906 C 7.3125 10.257812 7.339844 10.257812 7.367188 10.257812 C 7.503906 10.261719 7.632812 10.222656 7.738281 10.148438 L 14.039062 5.785156 C 14.171875 5.691406 14.253906 5.558594 14.253906 5.410156 C 14.257812 5.261719 14.1875 5.125 14.058594 5.027344 L 7.941406 0.414062 C 7.835938 0.335938 7.707031 0.292969 7.570312 0.292969 ",back:"M20 11L7.83 11 11.425 7.405 10.01 5.991 5.416 10.586 5.414 10.584 4 11.998 4.002 12 4 12.002 5.414 13.416 5.416 13.414 10.01 18.009 11.425 16.595 7.83 13 20 13 20 13 20 11 20 11Z",backgroundColor:"M9.91752,12.24082l7.74791-5.39017,1.17942,1.29591-6.094,7.20747L9.91752,12.24082M7.58741,12.652l4.53533,4.98327a.93412.93412,0,0,0,1.39531-.0909L20.96943,8.7314A.90827.90827,0,0,0,20.99075,7.533l-2.513-2.76116a.90827.90827,0,0,0-1.19509-.09132L7.809,11.27135A.93412.93412,0,0,0,7.58741,12.652ZM2.7939,18.52772,8.41126,19.5l1.47913-1.34617-3.02889-3.328Z",blockquote:"M10.31788,5l.93817,1.3226A12.88271,12.88271,0,0,0,8.1653,9.40125a5.54242,5.54242,0,0,0-.998,3.07866v.33733q.36089-.04773.66067-.084a4.75723,4.75723,0,0,1,.56519-.03691,2.87044,2.87044,0,0,1,2.11693.8427,2.8416,2.8416,0,0,1,.8427,2.09274,3.37183,3.37183,0,0,1-.8898,2.453A3.143,3.143,0,0,1,8.10547,19,3.40532,3.40532,0,0,1,5.375,17.7245,4.91156,4.91156,0,0,1,4.30442,14.453,9.3672,9.3672,0,0,1,5.82051,9.32933,14.75716,14.75716,0,0,1,10.31788,5Zm8.39243,0,.9369,1.3226a12.88289,12.88289,0,0,0-3.09075,3.07865,5.54241,5.54241,0,0,0-.998,3.07866v.33733q.33606-.04773.63775-.084a4.91773,4.91773,0,0,1,.58938-.03691,2.8043,2.8043,0,0,1,2.1042.83,2.89952,2.89952,0,0,1,.80578,2.10547,3.42336,3.42336,0,0,1-.86561,2.453A3.06291,3.06291,0,0,1,16.49664,19,3.47924,3.47924,0,0,1,13.742,17.7245,4.846,4.846,0,0,1,12.64721,14.453,9.25867,9.25867,0,0,1,14.17476,9.3898,15.26076,15.26076,0,0,1,18.71031,5Z",bold:"M15.25,11.8h0A3.68,3.68,0,0,0,17,9a3.93,3.93,0,0,0-3.86-4H6.65V19h7a3.74,3.74,0,0,0,3.7-3.78V15.1A3.64,3.64,0,0,0,15.25,11.8ZM8.65,7h4.2a2.09,2.09,0,0,1,2,1.3,2.09,2.09,0,0,1-1.37,2.61,2.23,2.23,0,0,1-.63.09H8.65Zm4.6,10H8.65V13h4.6a2.09,2.09,0,0,1,2,1.3,2.09,2.09,0,0,1-1.37,2.61A2.23,2.23,0,0,1,13.25,17Z",cancel:"M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z",cellBackground:"M16.6,12.4L7.6,3.5L6.2,4.9l2.4,2.4l-5.2,5.2c-0.6,0.6-0.6,1.5,0,2.1l5.5,5.5c0.3,0.3,0.7,0.4,1.1,0.4s0.8-0.1,1.1-0.4  l5.5-5.5C17.2,14,17.2,13,16.6,12.4z M5.2,13.5L10,8.7l4.8,4.8H5.2z M19,15c0,0-2,2.2-2,3.5c0,1.1,0.9,2,2,2s2-0.9,2-2  C21,17.2,19,15,19,15z",cellBorderColor:"M22,22H2v2h20V22z",cellOptions:"M20,5H4C2.9,5,2,5.9,2,7v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M9.5,6.5h5V9h-5V6.5z M8,17.5H4  c-0.3,0-0.5-0.2-0.5-0.4c0,0,0,0,0,0V17v-2H8V17.5z M8,13.5H3.5v-3H8V13.5z M8,9H3.5V7c0-0.3,0.2-0.5,0.4-0.5c0,0,0,0,0,0H8V9z   M14.5,17.5h-5V15h5V17.5z M20.5,17c0,0.3-0.2,0.5-0.4,0.5c0,0,0,0,0,0H16V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M20.5,9H16V6.5h4  c0.3,0,0.5,0.2,0.5,0.4c0,0,0,0,0,0V9z",cellStyle:"M20,19.9l0.9,3.6l-3.2-1.9l-3.3,1.9l0.8-3.6L12.3,17h3.8l1.7-3.5l1.4,3.5H23L20,19.9z M20,5H4C2.9,5,2,5.9,2,7v10  c0,1.1,0.9,2,2,2h7.5l-0.6-0.6L10,17.5H9.5V15h5.4l1.1-2.3v-2.2h4.5v3H20l0.6,1.5H22V7C22,5.9,21.1,5,20,5z M3.5,7  c0-0.3,0.2-0.5,0.4-0.5c0,0,0,0,0.1,0h4V9H3.5V7z M3.5,10.5H8v3H3.5V10.5z M4,17.5c-0.3,0-0.5-0.2-0.5-0.4c0,0,0,0,0-0.1v-2H8v2.5H4  z M14.5,9h-5V6.5h5V9z M20.5,9H16V6.5h4c0.3,0,0.5,0.2,0.5,0.4c0,0,0,0,0,0.1V9z",clearFormatting:"M11.48,10.09l-1.2-1.21L8.8,7.41,6.43,5,5.37,6.1,8.25,9,4.66,19h2l1.43-4h5.14l1.43,4h2l-.89-2.51L18.27,19l1.07-1.06L14.59,13.2ZM8.8,13l.92-2.56L12.27,13Zm.56-7.15L9.66,5h2l1.75,4.9Z",close:"M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z",codeView:"M9.4,16.6,4.8,12,9.4,7.4,8,6,2,12l6,6Zm5.2,0L19.2,12,14.6,7.4,16,6l6,6-6,6Z",cogs:"M18.877 12.907a6.459 6.459 0 0 0 0 -1.814l1.952 -1.526a0.468 0.468 0 0 0 0.111 -0.593l-1.851 -3.2a0.461 0.461 0 0 0 -0.407 -0.231 0.421 0.421 0 0 0 -0.157 0.028l-2.3 0.925a6.755 6.755 0 0 0 -1.563 -0.907l-0.352 -2.452a0.451 0.451 0 0 0 -0.453 -0.388h-3.7a0.451 0.451 0 0 0 -0.454 0.388L9.347 5.588A7.077 7.077 0 0 0 7.783 6.5l-2.3 -0.925a0.508 0.508 0 0 0 -0.166 -0.028 0.457 0.457 0 0 0 -0.4 0.231l-1.851 3.2a0.457 0.457 0 0 0 0.111 0.593l1.952 1.526A7.348 7.348 0 0 0 5.063 12a7.348 7.348 0 0 0 0.064 0.907L3.175 14.433a0.468 0.468 0 0 0 -0.111 0.593l1.851 3.2a0.461 0.461 0 0 0 0.407 0.231 0.421 0.421 0 0 0 0.157 -0.028l2.3 -0.925a6.74 6.74 0 0 0 1.564 0.907L9.7 20.864a0.451 0.451 0 0 0 0.454 0.388h3.7a0.451 0.451 0 0 0 0.453 -0.388l0.352 -2.452a7.093 7.093 0 0 0 1.563 -0.907l2.3 0.925a0.513 0.513 0 0 0 0.167 0.028 0.457 0.457 0 0 0 0.4 -0.231l1.851 -3.2a0.468 0.468 0 0 0 -0.111 -0.593Zm-0.09 2.029l-0.854 1.476 -2.117 -0.852 -0.673 0.508a5.426 5.426 0 0 1 -1.164 0.679l-0.795 0.323 -0.33 2.269h-1.7l-0.32 -2.269 -0.793 -0.322a5.3 5.3 0 0 1 -1.147 -0.662L8.2 15.56l-2.133 0.86 -0.854 -1.475 1.806 -1.411 -0.1 -0.847c-0.028 -0.292 -0.046 -0.5 -0.046 -0.687s0.018 -0.4 0.045 -0.672l0.106 -0.854L5.217 9.064l0.854 -1.475 2.117 0.851 0.673 -0.508a5.426 5.426 0 0 1 1.164 -0.679l0.8 -0.323 0.331 -2.269h1.7l0.321 2.269 0.792 0.322a5.3 5.3 0 0 1 1.148 0.661l0.684 0.526 2.133 -0.859 0.853 1.473 -1.8 1.421 0.1 0.847a5 5 0 0 1 0.046 0.679c0 0.193 -0.018 0.4 -0.045 0.672l-0.106 0.853ZM12 14.544A2.544 2.544 0 1 1 14.546 12 2.552 2.552 0 0 1 12 14.544Z",columns:"M20,5H4C2.9,5,2,5.9,2,7v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M8,17.5H4c-0.3,0-0.5-0.2-0.5-0.4  c0,0,0,0,0,0V17v-2H8V17.5z M8,13.5H3.5v-3H8V13.5z M8,9H3.5V7c0-0.3,0.2-0.5,0.4-0.5c0,0,0,0,0,0H8V9z M20.5,17  c0,0.3-0.2,0.5-0.4,0.5c0,0,0,0,0,0H16V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M20.5,9H16V6.5h4c0.3,0,0.5,0.2,0.5,0.4c0,0,0,0,0,0  V9z",edit:"M17,11.2L12.8,7L5,14.8V19h4.2L17,11.2z M7,16.8v-1.5l5.6-5.6l1.4,1.5l-5.6,5.6H7z M13.5,6.3l0.7-0.7c0.8-0.8,2.1-0.8,2.8,0  c0,0,0,0,0,0L18.4,7c0.8,0.8,0.8,2,0,2.8l-0.7,0.7L13.5,6.3z",exitFullscreen:"M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z",fileInsert:"M 8.09375 12.75 L 5.90625 12.75 C 5.542969 12.75 5.25 12.394531 5.25 11.953125 L 5.25 6.375 L 2.851562 6.375 C 2.367188 6.375 2.121094 5.660156 2.464844 5.242188 L 6.625 0.1875 C 6.832031 -0.0585938 7.167969 -0.0585938 7.371094 0.1875 L 11.535156 5.242188 C 11.878906 5.660156 11.632812 6.375 11.148438 6.375 L 8.75 6.375 L 8.75 11.953125 C 8.75 12.394531 8.457031 12.75 8.09375 12.75 Z M 14 12.484375 L 14 16.203125 C 14 16.644531 13.707031 17 13.34375 17 L 0.65625 17 C 0.292969 17 0 16.644531 0 16.203125 L 0 12.484375 C 0 12.042969 0.292969 11.6875 0.65625 11.6875 L 4.375 11.6875 L 4.375 11.953125 C 4.375 12.980469 5.0625 13.8125 5.90625 13.8125 L 8.09375 13.8125 C 8.9375 13.8125 9.625 12.980469 9.625 11.953125 L 9.625 11.6875 L 13.34375 11.6875 C 13.707031 11.6875 14 12.042969 14 12.484375 Z M 10.609375 15.40625 C 10.609375 15.039062 10.363281 14.742188 10.0625 14.742188 C 9.761719 14.742188 9.515625 15.039062 9.515625 15.40625 C 9.515625 15.773438 9.761719 16.070312 10.0625 16.070312 C 10.363281 16.070312 10.609375 15.773438 10.609375 15.40625 Z M 12.359375 15.40625 C 12.359375 15.039062 12.113281 14.742188 11.8125 14.742188 C 11.511719 14.742188 11.265625 15.039062 11.265625 15.40625 C 11.265625 15.773438 11.511719 16.070312 11.8125 16.070312 C 12.113281 16.070312 12.359375 15.773438 12.359375 15.40625 Z M 12.359375 15.40625 ",fileManager:"M 0 5.625 L 20.996094 5.625 L 21 15.75 C 21 16.371094 20.410156 16.875 19.6875 16.875 L 1.3125 16.875 C 0.585938 16.875 0 16.371094 0 15.75 Z M 0 5.625 M 21 4.5 L 0 4.5 L 0 2.25 C 0 1.628906 0.585938 1.125 1.3125 1.125 L 6.921875 1.125 C 7.480469 1.125 8.015625 1.316406 8.40625 1.652344 L 9.800781 2.847656 C 10.195312 3.183594 10.730469 3.375 11.289062 3.375 L 19.6875 3.375 C 20.414062 3.375 21 3.878906 21 4.5 Z M 21 4.5",markdown:"M5.55006 17.75V7.35L8.96006 16.89H10.7101L14.2301 7.37V14.0729C14.3951 14.1551 14.5499 14.265 14.6875 14.4026L14.7001 14.4151V11.64C14.7001 10.8583 15.2127 10.1963 15.9201 9.97171V5H13.6801L10.0401 14.86L6.51006 5H4.00006V17.75H5.55006ZM17.2001 11.64C17.2001 11.2258 16.8643 10.89 16.4501 10.89C16.0359 10.89 15.7001 11.2258 15.7001 11.64V16.8294L13.9804 15.1097C13.6875 14.8168 13.2126 14.8168 12.9197 15.1097C12.6269 15.4026 12.6269 15.8775 12.9197 16.1703L15.9197 19.1703C16.2126 19.4632 16.6875 19.4632 16.9804 19.1703L19.9804 16.1703C20.2733 15.8775 20.2733 15.4026 19.9804 15.1097C19.6875 14.8168 19.2126 14.8168 18.9197 15.1097L17.2001 16.8294V11.64Z",fontAwesome:"M18.99018,13.98212V7.52679c-.08038-1.21875-1.33929-.683-1.33929-.683-2.933,1.39282-4.36274.61938-5.85938.15625a6.23272,6.23272,0,0,0-2.79376-.20062l-.00946.004A1.98777,1.98777,0,0,0,7.62189,5.106a.984.984,0,0,0-.17517-.05432c-.02447-.0055-.04882-.01032-.0736-.0149A.9565.9565,0,0,0,7.1908,5H6.82539a.9565.9565,0,0,0-.18232.0368c-.02472.00458-.04907.0094-.07348.01484a.985.985,0,0,0-.17523.05438,1.98585,1.98585,0,0,0-.573,3.49585v9.394A1.004,1.004,0,0,0,6.82539,19H7.1908a1.00406,1.00406,0,0,0,1.00409-1.00409V15.52234c3.64221-1.09827,5.19709.64282,7.09888.57587a5.57291,5.57291,0,0,0,3.25446-1.05805A1.2458,1.2458,0,0,0,18.99018,13.98212Z",fontFamily:"M16,19h2L13,5H11L6,19H8l1.43-4h5.14Zm-5.86-6L12,7.8,13.86,13Z",fontSize:"M20.75,19h1.5l-3-10h-1.5l-3,10h1.5L17,16.5h3Zm-3.3-4,1.05-3.5L19.55,15Zm-5.7,4h2l-5-14h-2l-5,14h2l1.43-4h5.14ZM5.89,13,7.75,7.8,9.61,13Z",fullscreen:"M7,14H5v5h5V17H7ZM5,10H7V7h3V5H5Zm12,7H14v2h5V14H17ZM14,5V7h3v3h2V5Z",help:"M11,17h2v2h-2V17z M12,5C9.8,5,8,6.8,8,9h2c0-1.1,0.9-2,2-2s2,0.9,2,2c0,2-3,1.7-3,5v1h2v-1c0-2.2,3-2.5,3-5  C16,6.8,14.2,5,12,5z",horizontalLine:"M5,12h14 M19,11H5v2h14V11z",imageAltText:"M19,7h-6v12h-2V7H5V5h6h2h6V7z",imageCaption:"M14.2,11l3.8,5H6l3-3.9l2.1,2.7L14,11H14.2z M8.5,11c0.8,0,1.5-0.7,1.5-1.5S9.3,8,8.5,8S7,8.7,7,9.5C7,10.3,7.7,11,8.5,11z   M22,6v12c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h16C21.1,4,22,4.9,22,6z M20,8.8V6H4v12h16V8.8z M22,22H2v2h20V22z",imageClass:"M9.5,13.4l-2.9-2.9h3.8L12.2,7l1.4,3.5h3.8l-3,2.9l0.9,3.6L12,15.1L8.8,17L9.5,13.4z M22,6v12c0,1.1-0.9,2-2,2H4  c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h16C21.1,4,22,4.9,22,6z M20,6H4v12h16V8.8V6z",imageDisplay:"M3,5h18v2H3V5z M13,9h8v2h-8V9z M13,13h8v2h-8V13z M3,17h18v2H3V17z M3,9h8v6H3V9z",imageManager:"M20,6h-7l-2-2H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,18H4V6h6.2l2,2H20V18z   M18,16l-3.8-5H14l-2.9,3.8L9,12.1L6,16H18z M10,9.5C10,8.7,9.3,8,8.5,8S7,8.7,7,9.5S7.7,11,8.5,11S10,10.3,10,9.5z",imageSize:"M16.9,4c-0.3,0-0.5,0.2-0.8,0.3L3.3,13c-0.9,0.6-1.1,1.9-0.5,2.8l2.2,3.3c0.4,0.7,1.2,1,2,0.8c0.3,0,0.5-0.2,0.8-0.3  L20.7,11c0.9-0.6,1.1-1.9,0.5-2.8l-2.2-3.3C18.5,4.2,17.7,3.9,16.9,4L16.9,4z M16.9,9.9L18.1,9l-2-2.9L17,5.6c0.1,0,0.1-0.1,0.2-0.1  c0.2,0,0.4,0,0.5,0.2L19.9,9c0.2,0.2,0.1,0.5-0.1,0.7L7,18.4c-0.1,0-0.1,0.1-0.2,0.1c-0.2,0-0.4,0-0.5-0.2L4.1,15  c-0.2-0.2-0.1-0.5,0.1-0.7L5,13.7l2,2.9l1.2-0.8l-2-2.9L7.5,12l1.1,1.7l1.2-0.8l-1.1-1.7l1.2-0.8l2,2.9l1.2-0.8l-2-2.9l1.2-0.8  l1.1,1.7l1.2-0.8l-1.1-1.7L14.9,7L16.9,9.9z",indent:"M3,9v6l3-3L3,9z M3,19h18v-2H3V19z M3,7h18V5H3V7z M9,11h12V9H9V11z M9,15h12v-2H9V15z",inlineClass:"M9.9,13.313A1.2,1.2,0,0,1,9.968,13H6.277l1.86-5.2,1.841,5.148A1.291,1.291,0,0,1,11.212,12h.426l-2.5-7h-2l-5,14h2l1.43-4H9.9Zm2.651,6.727a2.884,2.884,0,0,1-.655-2.018v-2.71A1.309,1.309,0,0,1,13.208,14h3.113a3.039,3.039,0,0,1,2,1.092s1.728,1.818,2.964,2.928a1.383,1.383,0,0,1,.318,1.931,1.44,1.44,0,0,1-.19.215l-3.347,3.31a1.309,1.309,0,0,1-1.832.258h0a1.282,1.282,0,0,1-.258-.257l-1.71-1.728Zm2.48-3.96a.773.773,0,1,0,.008,0Z",inlineStyle:"M11.88,15h.7l.7-1.7-3-8.3h-2l-5,14h2l1.4-4Zm-4.4-2,1.9-5.2,1.9,5.2ZM15.4,21.545l3.246,1.949-.909-3.637L20.72,17H16.954l-1.429-3.506L13.837,17H10.071l2.857,2.857-.779,3.637Z",insert:"M13.889,11.611c-0.17,0.17-0.443,0.17-0.612,0l-3.189-3.187l-3.363,3.36c-0.171,0.171-0.441,0.171-0.612,0c-0.172-0.169-0.172-0.443,0-0.611l3.667-3.669c0.17-0.17,0.445-0.172,0.614,0l3.496,3.493C14.058,11.167,14.061,11.443,13.889,11.611 M18.25,10c0,4.558-3.693,8.25-8.25,8.25c-4.557,0-8.25-3.692-8.25-8.25c0-4.557,3.693-8.25,8.25-8.25C14.557,1.75,18.25,5.443,18.25,10 M17.383,10c0-4.07-3.312-7.382-7.383-7.382S2.618,5.93,2.618,10S5.93,17.381,10,17.381S17.383,14.07,17.383,10",insertEmbed:"M20.73889,15.45929a3.4768,3.4768,0,0,0-5.45965-.28662L9.5661,12.50861a3.49811,3.49811,0,0,0-.00873-1.01331l5.72174-2.66809a3.55783,3.55783,0,1,0-.84527-1.81262L8.70966,9.6839a3.50851,3.50851,0,1,0,.0111,4.63727l5.7132,2.66412a3.49763,3.49763,0,1,0,6.30493-1.526ZM18.00745,5.01056A1.49993,1.49993,0,1,1,16.39551,6.3894,1.49994,1.49994,0,0,1,18.00745,5.01056ZM5.99237,13.49536a1.49989,1.49989,0,1,1,1.61194-1.37878A1.49982,1.49982,0,0,1,5.99237,13.49536Zm11.78211,5.494a1.49993,1.49993,0,1,1,1.61193-1.37885A1.49987,1.49987,0,0,1,17.77448,18.98932Z",insertFile:"M7,3C5.9,3,5,3.9,5,5v14c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V7.6L14.4,3H7z M17,19H7V5h6v4h4V19z",insertImage:"M14.2,11l3.8,5H6l3-3.9l2.1,2.7L14,11H14.2z M8.5,11c0.8,0,1.5-0.7,1.5-1.5S9.3,8,8.5,8S7,8.7,7,9.5C7,10.3,7.7,11,8.5,11z   M22,6v12c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h16C21.1,4,22,4.9,22,6z M20,8.8V6H4v12h16V8.8z",insertLink:"M11,17H7A5,5,0,0,1,7,7h4V9H7a3,3,0,0,0,0,6h4ZM17,7H13V9h4a3,3,0,0,1,0,6H13v2h4A5,5,0,0,0,17,7Zm-1,4H8v2h8Z",insertMore:"M16.5,13h-6v6h-2V13h-6V11h6V5h2v6h6Zm5,4.5A1.5,1.5,0,1,1,20,16,1.5,1.5,0,0,1,21.5,17.5Zm0-4A1.5,1.5,0,1,1,20,12,1.5,1.5,0,0,1,21.5,13.5Zm0-4A1.5,1.5,0,1,1,20,8,1.5,1.5,0,0,1,21.5,9.5Z",insertTable:"M20,5H4C2.9,5,2,5.9,2,7v2v1.5v3V15v2c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2v-2v-1.5v-3V9V7C22,5.9,21.1,5,20,5z M9.5,13.5v-3  h5v3H9.5z M14.5,15v2.5h-5V15H14.5z M9.5,9V6.5h5V9H9.5z M3.5,7c0-0.3,0.2-0.5,0.5-0.5h4V9H3.5V7z M3.5,10.5H8v3H3.5V10.5z M3.5,17  v-2H8v2.5H4C3.7,17.5,3.5,17.3,3.5,17z M20.5,17c0,0.3-0.2,0.5-0.5,0.5h-4V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M16,9V6.5h4  c0.3,0,0.5,0.2,0.5,0.5v2H16z",insertVideo:"M15,8v8H5V8H15m2,2.5V7a1,1,0,0,0-1-1H4A1,1,0,0,0,3,7V17a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V13.5l2.29,2.29A1,1,0,0,0,21,15.08V8.91a1,1,0,0,0-1.71-.71Z",upload:"M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z",uploadFiles:"M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z",italic:"M11.76,9h2l-2.2,10h-2Zm1.68-4a1,1,0,1,0,1,1,1,1,0,0,0-1-1Z",search:"M15.5 14h-0.79l-0.28 -0.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09 -0.59 4.23 -1.57l0.27 0.28v0.79l5 4.99L20.49 19l-4.99 -5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",lineHeight:"M6.25,7h2.5L5.25,3.5,1.75,7h2.5V17H1.75l3.5,3.5L8.75,17H6.25Zm4-2V7h12V5Zm0,14h12V17h-12Zm0-6h12V11h-12Z",linkStyles:"M19,17.9l0.9,3.6l-3.2-1.9l-3.3,1.9l0.8-3.6L11.3,15h3.8l1.7-3.5l1.4,3.5H22L19,17.9z M20,12c0,0.3-0.1,0.7-0.2,1h2.1  c0.1-0.3,0.1-0.6,0.1-1c0-2.8-2.2-5-5-5h-4v2h4C18.7,9,20,10.3,20,12z M14.8,11H8v2h3.3h2.5L14.8,11z M9.9,16.4L8.5,15H7  c-1.7,0-3-1.3-3-3s1.3-3,3-3h4V7H7c-2.8,0-5,2.2-5,5s2.2,5,5,5h3.5L9.9,16.4z",mention:"M12.4,5c-4.1,0-7.5,3.4-7.5,7.5S8.3,20,12.4,20h3.8v-1.5h-3.8c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6v1.1  c0,0.6-0.5,1.2-1.1,1.2s-1.1-0.6-1.1-1.2v-1.1c0-2.1-1.7-3.8-3.8-3.8s-3.7,1.7-3.7,3.8s1.7,3.8,3.8,3.8c1,0,2-0.4,2.7-1.1  c0.5,0.7,1.3,1.1,2.2,1.1c1.5,0,2.6-1.2,2.6-2.7v-1.1C19.9,8.4,16.6,5,12.4,5z M12.4,14.7c-1.2,0-2.3-1-2.3-2.2s1-2.3,2.3-2.3  s2.3,1,2.3,2.3S13.6,14.7,12.4,14.7z",minimize:"M5,12h14 M19,11H5v2h14V11z",more:"M13.5,17c0,0.8-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5S13.5,16.2,13.5,17z M13.5,12c0,0.8-0.7,1.5-1.5,1.5 s-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5S13.5,11.2,13.5,12z M13.5,7c0,0.8-0.7,1.5-1.5,1.5S10.5,7.8,10.5,7s0.7-1.5,1.5-1.5 S13.5,6.2,13.5,7z",openLink:"M17,17H7V7h3V5H7C6,5,5,6,5,7v10c0,1,1,2,2,2h10c1,0,2-1,2-2v-3h-2V17z M14,5v2h1.6l-5.8,5.8l1.4,1.4L17,8.4V10h2V5H14z",orderedList:"M2.5,16h2v.5h-1v1h1V18h-2v1h3V15h-3Zm1-7h1V5h-2V6h1Zm-1,2H4.3L2.5,13.1V14h3V13H3.7l1.8-2.1V10h-3Zm5-5V8h14V6Zm0,12h14V16H7.5Zm0-5h14V11H7.5Z",outdent:"M3,12l3,3V9L3,12z M3,19h18v-2H3V19z M3,7h18V5H3V7z M9,11h12V9H9V11z M9,15h12v-2H9V15z",pageBreaker:"M3,9v6l3-3L3,9z M21,9H8V4h2v3h9V4h2V9z M21,20h-2v-3h-9v3H8v-5h13V20z M11,13H8v-2h3V13z M16,13h-3v-2h3V13z M21,13h-3v-2  h3V13z",paragraphFormat:"M10.15,5A4.11,4.11,0,0,0,6.08,8.18,4,4,0,0,0,10,13v6h2V7h2V19h2V7h2V5ZM8,9a2,2,0,0,1,2-2v4A2,2,0,0,1,8,9Z",paragraphMore:"M7.682,5a4.11,4.11,0,0,0-4.07,3.18,4,4,0,0,0,3.11,4.725h0l.027.005a3.766,3.766,0,0,0,.82.09v6h2V7h2V19h2V7h2V5ZM5.532,9a2,2,0,0,1,2-2v4A2,2,0,0,1,5.532,9Zm14.94,8.491a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.472,17.491Zm0-4a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.472,13.491Zm0-4a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.472,9.491Z",paragraphStyle:"M4,9c0-1.1,0.9-2,2-2v4C4.9,11,4,10.1,4,9z M16.7,20.5l3.2,1.9L19,18.8l3-2.9h-3.7l-1.4-3.5L15.3,16h-3.8l2.9,2.9l-0.9,3.6  L16.7,20.5z M10,17.4V19h1.6L10,17.4z M6.1,5c-1.9,0-3.6,1.3-4,3.2c-0.5,2.1,0.8,4.2,2.9,4.7c0,0,0,0,0,0h0.2C5.5,13,5.8,13,6,13v6  h2V7h2v7h2V7h2V5H6.1z",pdfExport:"M7,3C5.9,3,5,3.9,5,5v14c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V7.6L14.4,3H7z M17,19H7V5h6v4h4V19z M16.3,13.5  c-0.2-0.6-1.1-0.8-2.6-0.8c-0.1,0-0.1,0-0.2,0c-0.3-0.3-0.8-0.9-1-1.2c-0.2-0.2-0.3-0.3-0.4-0.6c0.2-0.7,0.2-1,0.3-1.5  c0.1-0.9,0-1.6-0.2-1.8c-0.4-0.2-0.7-0.2-0.9-0.2c-0.1,0-0.3,0.2-0.7,0.7c-0.2,0.7-0.1,1.8,0.6,2.8c-0.2,0.8-0.7,1.6-1,2.4  c-0.8,0.2-1.5,0.7-1.9,1.1c-0.7,0.7-0.9,1.1-0.7,1.6c0,0.3,0.2,0.6,0.7,0.6c0.3-0.1,0.3-0.2,0.7-0.3c0.6-0.3,1.2-1.7,1.7-2.4  c0.8-0.2,1.7-0.3,2-0.3c0.1,0,0.3,0,0.6,0c0.8,0.8,1.2,1.1,1.8,1.2c0.1,0,0.2,0,0.3,0c0.3,0,0.8-0.1,1-0.6  C16.4,14.1,16.4,13.9,16.3,13.5z M8.3,15.7c-0.1,0.1-0.2,0.1-0.2,0.1c0-0.1,0-0.3,0.6-0.8c0.2-0.2,0.6-0.3,0.9-0.7  C9,15,8.6,15.5,8.3,15.7z M11.3,9c0-0.1,0.1-0.2,0.1-0.2S11.6,9,11.5,10c0,0.1,0,0.3-0.1,0.7C11.3,10.1,11,9.5,11.3,9z M10.9,13.1  c0.2-0.6,0.6-1,0.7-1.5c0.1,0.1,0.1,0.1,0.2,0.2c0.1,0.2,0.3,0.7,0.7,0.9C12.2,12.8,11.6,13,10.9,13.1z M15.2,14.1  c-0.1,0-0.1,0-0.2,0c-0.2,0-0.7-0.2-1-0.7c1.1,0,1.6,0.2,1.6,0.6C15.5,14.1,15.4,14.1,15.2,14.1z",print:"M16.1,17c0-0.6,0.4-1,1-1c0.6,0,1,0.4,1,1s-0.4,1-1,1C16.5,18,16.1,17.6,16.1,17z M22,15v4c0,1.1-0.9,2-2,2H4  c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2h1V5c0-1.1,0.9-2,2-2h7.4L19,7.6V13h1C21.1,13,22,13.9,22,15z M7,13h10V9h-4V5H7V13z M20,15H4  v4h16V15z",redo:"M13.6,9.4c1.7,0.3,3.2,0.9,4.6,2L21,8.5v7h-7l2.7-2.7C13,10.1,7.9,11,5.3,14.7c-0.2,0.3-0.4,0.5-0.5,0.8L3,14.6  C5.1,10.8,9.3,8.7,13.6,9.4z",removeTable:"M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z",insertAll:"M 9.25 12 L 6.75 12 C 6.335938 12 6 11.664062 6 11.25 L 6 6 L 3.257812 6 C 2.703125 6 2.425781 5.328125 2.820312 4.933594 L 7.570312 0.179688 C 7.804688 -0.0546875 8.191406 -0.0546875 8.425781 0.179688 L 13.179688 4.933594 C 13.574219 5.328125 13.296875 6 12.742188 6 L 10 6 L 10 11.25 C 10 11.664062 9.664062 12 9.25 12 Z M 16 11.75 L 16 15.25 C 16 15.664062 15.664062 16 15.25 16 L 0.75 16 C 0.335938 16 0 15.664062 0 15.25 L 0 11.75 C 0 11.335938 0.335938 11 0.75 11 L 5 11 L 5 11.25 C 5 12.214844 5.785156 13 6.75 13 L 9.25 13 C 10.214844 13 11 12.214844 11 11.25 L 11 11 L 15.25 11 C 15.664062 11 16 11.335938 16 11.75 Z M 12.125 14.5 C 12.125 14.15625 11.84375 13.875 11.5 13.875 C 11.15625 13.875 10.875 14.15625 10.875 14.5 C 10.875 14.84375 11.15625 15.125 11.5 15.125 C 11.84375 15.125 12.125 14.84375 12.125 14.5 Z M 14.125 14.5 C 14.125 14.15625 13.84375 13.875 13.5 13.875 C 13.15625 13.875 12.875 14.15625 12.875 14.5 C 12.875 14.84375 13.15625 15.125 13.5 15.125 C 13.84375 15.125 14.125 14.84375 14.125 14.5 Z M 14.125 14.5 ",remove:"M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z",replaceImage:"M16,5v3H4v2h12v3l4-4L16,5z M8,19v-3h12v-2H8v-3l-4,4L8,19z",row:"M20,5H4C2.9,5,2,5.9,2,7v2v1.5v3V15v2c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2v-2v-1.5v-3V9V7C22,5.9,21.1,5,20,5z M16,6.5h4  c0.3,0,0.5,0.2,0.5,0.5v2H16V6.5z M9.5,6.5h5V9h-5V6.5z M3.5,7c0-0.3,0.2-0.5,0.5-0.5h4V9H3.5V7z M8,17.5H4c-0.3,0-0.5-0.2-0.5-0.5  v-2H8V17.5z M14.5,17.5h-5V15h5V17.5z M20.5,17c0,0.3-0.2,0.5-0.5,0.5h-4V15h4.5V17z",selectAll:"M5,7h2V5C5.9,5,5,5.9,5,7z M5,11h2V9H5V11z M9,19h2v-2H9V19z M5,11h2V9H5V11z M15,5h-2v2h2V5z M17,5v2h2C19,5.9,18.1,5,17,5  z M7,19v-2H5C5,18.1,5.9,19,7,19z M5,15h2v-2H5V15z M11,5H9v2h2V5z M13,19h2v-2h-2V19z M17,11h2V9h-2V11z M17,19c1.1,0,2-0.9,2-2h-2  V19z M17,11h2V9h-2V11z M17,15h2v-2h-2V15z M13,19h2v-2h-2V19z M13,7h2V5h-2V7z M9,15h6V9H9V15z M11,11h2v2h-2V11z",smile:"M11.991,3A9,9,0,1,0,21,12,8.99557,8.99557,0,0,0,11.991,3ZM12,19a7,7,0,1,1,7-7A6.99808,6.99808,0,0,1,12,19Zm3.105-5.2h1.503a4.94542,4.94542,0,0,1-9.216,0H8.895a3.57808,3.57808,0,0,0,6.21,0ZM7.5,9.75A1.35,1.35,0,1,1,8.85,11.1,1.35,1.35,0,0,1,7.5,9.75Zm6.3,0a1.35,1.35,0,1,1,1.35,1.35A1.35,1.35,0,0,1,13.8,9.75Z",spellcheck:"M19.1,13.6l-5.6,5.6l-2.7-2.7l-1.4,1.4l4.1,4.1l7-7L19.1,13.6z M10.8,13.7l2.7,2.7l0.8-0.8L10.5,5h-2l-5,14h2l1.4-4h2.6  L10.8,13.7z M9.5,7.8l1.9,5.2H7.6L9.5,7.8z",star:"M12.1,7.7l1,2.5l0.4,0.9h1h2.4l-2.1,2l-0.6,0.6l0.2,0.9l0.6,2.3l-2.2-1.3L12,15.2l-0.8,0.5L9,17l0.5-2.5l0.1-0.8L9,13.1  l-2-2h2.5h0.9l0.4-0.8L12.1,7.7 M12.2,4L9.5,9.6H3.4L8,14.2L6.9,20l5.1-3.1l5.3,3.1l-1.5-5.8l4.8-4.6h-6.1L12.2,4L12.2,4z",strikeThrough:"M3,12.20294H21v1.5H16.63422a3.59782,3.59782,0,0,1,.34942,1.5929,3.252,3.252,0,0,1-1.31427,2.6997A5.55082,5.55082,0,0,1,12.20251,19a6.4421,6.4421,0,0,1-2.62335-.539,4.46335,4.46335,0,0,1-1.89264-1.48816,3.668,3.668,0,0,1-.67016-2.15546V14.704h.28723v-.0011h.34149v.0011H9.02v.11334a2.18275,2.18275,0,0,0,.85413,1.83069,3.69,3.69,0,0,0,2.32836.67926,3.38778,3.38778,0,0,0,2.07666-.5462,1.73346,1.73346,0,0,0,.7013-1.46655,1.69749,1.69749,0,0,0-.647-1.43439,3.00525,3.00525,0,0,0-.27491-.17725H3ZM16.34473,7.05981A4.18163,4.18163,0,0,0,14.6236,5.5462,5.627,5.627,0,0,0,12.11072,5,5.16083,5.16083,0,0,0,8.74719,6.06213,3.36315,3.36315,0,0,0,7.44006,8.76855a3.22923,3.22923,0,0,0,.3216,1.42786h2.59668c-.08338-.05365-.18537-.10577-.25269-.16064a1.60652,1.60652,0,0,1-.65283-1.30036,1.79843,1.79843,0,0,1,.68842-1.5108,3.12971,3.12971,0,0,1,1.96948-.55243,3.04779,3.04779,0,0,1,2.106.6687,2.35066,2.35066,0,0,1,.736,1.83258v.11341h2.00317V9.17346A3.90013,3.90013,0,0,0,16.34473,7.05981Z",subscript:"M10.4,12l3.6,3.6L12.6,17L9,13.4L5.4,17L4,15.6L7.6,12L4,8.4L5.4,7L9,10.6L12.6,7L14,8.4L10.4,12z M18.31234,19.674  l1.06812-1.1465c0.196-0.20141,0.37093-0.40739,0.5368-0.6088c0.15975-0.19418,0.30419-0.40046,0.432-0.617  c0.11969-0.20017,0.21776-0.41249,0.29255-0.6334c0.07103-0.21492,0.10703-0.43986,0.10662-0.66621  c0.00297-0.28137-0.04904-0.56062-0.1531-0.82206c-0.09855-0.24575-0.25264-0.46534-0.45022-0.6416  c-0.20984-0.18355-0.45523-0.32191-0.72089-0.40646c-0.63808-0.19005-1.3198-0.17443-1.94851,0.04465  c-0.28703,0.10845-0.54746,0.2772-0.76372,0.49487c-0.20881,0.20858-0.37069,0.45932-0.47483,0.73548  c-0.10002,0.26648-0.15276,0.54838-0.15585,0.833l-0.00364,0.237H17.617l0.00638-0.22692  c0.00158-0.12667,0.01966-0.25258,0.05377-0.37458c0.03337-0.10708,0.08655-0.20693,0.15679-0.29437  c0.07105-0.08037,0.15959-0.14335,0.25882-0.1841c0.22459-0.08899,0.47371-0.09417,0.7018-0.01458  c0.0822,0.03608,0.15559,0.08957,0.21509,0.15679c0.06076,0.07174,0.10745,0.15429,0.13761,0.24333  c0.03567,0.10824,0.05412,0.22141,0.05469,0.33538c-0.00111,0.08959-0.0118,0.17881-0.0319,0.26612  c-0.02913,0.10428-0.07076,0.20465-0.124,0.29893c-0.07733,0.13621-0.1654,0.26603-0.26338,0.38823  c-0.13438,0.17465-0.27767,0.34226-0.42929,0.50217l-2.15634,2.35315V21H21v-1.326H18.31234z",superscript:"M10.4,12,14,15.6,12.6,17,9,13.4,5.4,17,4,15.6,7.6,12,4,8.4,5.4,7,9,10.6,12.6,7,14,8.4Zm8.91234-3.326,1.06812-1.1465c.196-.20141.37093-.40739.5368-.6088a4.85745,4.85745,0,0,0,.432-.617,3.29,3.29,0,0,0,.29255-.6334,2.11079,2.11079,0,0,0,.10662-.66621,2.16127,2.16127,0,0,0-.1531-.82206,1.7154,1.7154,0,0,0-.45022-.6416,2.03,2.03,0,0,0-.72089-.40646,3.17085,3.17085,0,0,0-1.94851.04465,2.14555,2.14555,0,0,0-.76372.49487,2.07379,2.07379,0,0,0-.47483.73548,2.446,2.446,0,0,0-.15585.833l-.00364.237H18.617L18.62338,5.25a1.45865,1.45865,0,0,1,.05377-.37458.89552.89552,0,0,1,.15679-.29437.70083.70083,0,0,1,.25882-.1841,1.00569,1.00569,0,0,1,.7018-.01458.62014.62014,0,0,1,.21509.15679.74752.74752,0,0,1,.13761.24333,1.08893,1.08893,0,0,1,.05469.33538,1.25556,1.25556,0,0,1-.0319.26612,1.34227,1.34227,0,0,1-.124.29893,2.94367,2.94367,0,0,1-.26338.38823,6.41629,6.41629,0,0,1-.42929.50217L17.19709,8.92642V10H22V8.674Z",symbols:"M15.77493,16.98885a8.21343,8.21343,0,0,0,1.96753-2.57651,7.34824,7.34824,0,0,0,.6034-3.07618A6.09092,6.09092,0,0,0,11.99515,5a6.13347,6.13347,0,0,0-4.585,1.79187,6.417,6.417,0,0,0-1.756,4.69207,6.93955,6.93955,0,0,0,.622,2.97415,8.06587,8.06587,0,0,0,1.949,2.53076H5.41452V19h5.54114v-.04331h-.00147V16.84107a5.82825,5.82825,0,0,1-2.2052-2.2352A6.40513,6.40513,0,0,1,7.97672,11.447,4.68548,4.68548,0,0,1,9.07785,8.19191a3.73232,3.73232,0,0,1,2.9173-1.22462,3.76839,3.76839,0,0,1,2.91241,1.21489,4.482,4.482,0,0,1,1.11572,3.154,6.71141,6.71141,0,0,1-.75384,3.24732,5.83562,5.83562,0,0,1-2.22357,2.25759v2.11562H13.0444V19h5.54108V16.98885Z",tags:"M8.9749 7.47489a1.5 1.5 0 1 1 -1.5 1.5A1.5 1.5 0 0 1 8.9749 7.47489Zm3.78866 -3.12713L16.5362 8.12041l0.33565 0.33564 2.77038 2.77038a2.01988 2.01988 0 0 1 0.59 1.42 1.95518 1.95518 0 0 1 -0.5854 1.40455l0.00044 0.00043 -5.59583 5.59583 -0.00043 -0.00044a1.95518 1.95518 0 0 1 -1.40455 0.5854 1.98762 1.98762 0 0 1 -1.41 -0.58L8.45605 16.87185l-0.33564 -0.33565L4.35777 12.77357a1.99576 1.99576 0 0 1 -0.59 -1.42V9.36358l0 -3.59582a2.00579 2.00579 0 0 1 2 -2l3.59582 0h1.98995A1.98762 1.98762 0 0 1 12.76356 4.34776ZM15.46186 9.866l-0.33564 -0.33564L11.36359 5.76776H5.76776v5.59583L9.866 15.46186l2.7794 2.7794 5.5878 -5.60385 -0.001 -0.001Z",tableHeader:"M20,5H4C2.9,5,2,5.9,2,7v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M8,17.5H4c-0.3,0-0.5-0.2-0.5-0.4  l0,0V17v-2H8V17.5z M8,13.5H3.5v-3H8V13.5z M14.5,17.5h-5V15h5V17.5z M14.5,13.5h-5v-3h5V13.5z M20.5,17c0,0.3-0.2,0.5-0.4,0.5l0,0  H16V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M20.5,9h-4.4H16h-1.5h-5H8H7.9H3.5V7c0-0.3,0.2-0.5,0.4-0.5l0,0h4l0,0h8.2l0,0H20  c0.3,0,0.5,0.2,0.5,0.4l0,0V9z",tableFooter:"M20,19H4a2.006,2.006,0,0,1-2-2V7A2.006,2.006,0,0,1,4,5H20a2.006,2.006,0,0,1,2,2V17A2.006,2.006,0,0,1,20,19ZM8,6.5H4a.458.458,0,0,0-.5.4h0V9H8Zm0,4H3.5v3H8Zm6.5-4h-5V9h5Zm0,4h-5v3h5Zm6-3.5a.458.458,0,0,0-.4-.5H16V9h4.5Zm0,3.5H16v3h4.5Zm0,4.5H3.5v2a.458.458,0,0,0,.4.5H20a.458.458,0,0,0,.5-.4h0Z",tableStyle:"M20.0171,19.89752l.9,3.6-3.2-1.9-3.3,1.9.8-3.6-2.9-2.9h3.8l1.7-3.5,1.4,3.5h3.8ZM20,5H4A2.00591,2.00591,0,0,0,2,7V17a2.00591,2.00591,0,0,0,2,2h7.49115l-.58826-.58826L9.99115,17.5H9.5V14.9975h5.36511L16,12.66089V10.5h4.5v3h-.52783l.599,1.4975H22V7A2.00591,2.00591,0,0,0,20,5ZM3.5,7A.4724.4724,0,0,1,4,6.5H8V9H3.5Zm0,3.5H8v3H3.5Zm.5,7a.4724.4724,0,0,1-.5-.5V15H8v2.5Zm10.5-4h-5v-3h5Zm0-4.5h-5V6.5h5Zm6,0H16V6.5h4a.4724.4724,0,0,1,.5.5Z",textColor:"M15.2,13.494s-3.6,3.9-3.6,6.3a3.65,3.65,0,0,0,7.3.1v-.1C18.9,17.394,15.2,13.494,15.2,13.494Zm-1.47-1.357.669-.724L12.1,5h-2l-5,14h2l1.43-4h2.943A24.426,24.426,0,0,1,13.726,12.137ZM11.1,7.8l1.86,5.2H9.244Z",textMore:"M13.55,19h2l-5-14h-2l-5,14h2l1.4-4h5.1Zm-5.9-6,1.9-5.2,1.9,5.2Zm12.8,4.5a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.45,17.5Zm0-4a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.45,13.5Zm0-4A1.5,1.5,0,1,1,18.95,8,1.5,1.5,0,0,1,20.45,9.5Z",underline:"M19,20v2H5V20Zm-3-6.785a4,4,0,0,1-5.74,3.4A3.75,3.75,0,0,1,8,13.085V5.005H6v8.21a6,6,0,0,0,8,5.44,5.851,5.851,0,0,0,4-5.65v-8H16ZM16,5v0h2V5ZM8,5H6v0H8Z",undo:"M10.4,9.4c-1.7,0.3-3.2,0.9-4.6,2L3,8.5v7h7l-2.7-2.7c3.7-2.6,8.8-1.8,11.5,1.9c0.2,0.3,0.4,0.5,0.5,0.8l1.8-0.9  C18.9,10.8,14.7,8.7,10.4,9.4z",unlink:"M14.4,11l1.6,1.6V11H14.4z M17,7h-4v1.9h4c1.7,0,3.1,1.4,3.1,3.1c0,1.3-0.8,2.4-1.9,2.8l1.4,1.4C21,15.4,22,13.8,22,12  C22,9.2,19.8,7,17,7z M2,4.3l3.1,3.1C3.3,8.1,2,9.9,2,12c0,2.8,2.2,5,5,5h4v-1.9H7c-1.7,0-3.1-1.4-3.1-3.1c0-1.6,1.2-2.9,2.8-3.1  L8.7,11H8v2h2.7l2.3,2.3V17h1.7l4,4l1.4-1.4L3.4,2.9L2,4.3z",unorderedList:"M4,10.5c-0.8,0-1.5,0.7-1.5,1.5s0.7,1.5,1.5,1.5s1.5-0.7,1.5-1.5S4.8,10.5,4,10.5z M4,5.5C3.2,5.5,2.5,6.2,2.5,7  S3.2,8.5,4,8.5S5.5,7.8,5.5,7S4.8,5.5,4,5.5z M4,15.5c-0.8,0-1.5,0.7-1.5,1.5s0.7,1.5,1.5,1.5s1.5-0.7,1.5-1.5S4.8,15.5,4,15.5z   M7.5,6v2h14V6H7.5z M7.5,18h14v-2h-14V18z M7.5,13h14v-2h-14V13z",verticalAlignBottom:"M16,13h-3V3h-2v10H8l4,4L16,13z M3,19v2h18v-2H3z",verticalAlignMiddle:"M3,11v2h18v-2H3z M8,18h3v3h2v-3h3l-4-4L8,18z M16,6h-3V3h-2v3H8l4,4L16,6z",verticalAlignTop:"M8,11h3v10h2V11h3l-4-4L8,11z M21,5V3H3v2H21z",filestackIconAdd:"M21 16.75 16.985 21v-4.25H21ZM7.154 12.5c2.294 0 4.154 1.902 4.154 4.25S9.448 21 7.154 21C4.86 21 3 19.097 3 16.75s1.86-4.25 4.154-4.25Zm8.862 6.8V21H10.24a5.283 5.283 0 0 0 1.441-1.7h4.334ZM7.46 14.093h-.614a.215.215 0 0 0-.212.218v1.907H4.77a.215.215 0 0 0-.212.218v.628c0 .12.094.217.212.217h1.865v1.908c0 .12.095.217.212.217h.614a.214.214 0 0 0 .212-.217V17.28h1.865a.214.214 0 0 0 .212-.217v-.628a.215.215 0 0 0-.212-.218H7.673v-1.907a.215.215 0 0 0-.212-.218Zm5.647-.035v1.558h-.886a5.324 5.324 0 0 0-.615-1.558h1.501ZM21 4v11.616h-1.522V5.559H8.538v6.094a5.018 5.018 0 0 0-1.384-.216V4H21Zm-5.4 7.366v1.559h-4.015v-1.559h4.016Zm.97-2.691v1.559h-4.985v-1.56h4.985Z",trackChanges:"M17.2 20H12.4599L13.9938 19.2076L14.0305 19.1886L14.0616 19.1612C14.1036 19.1242 14.1373 19.0786 14.1603 19.0275C14.1806 18.9825 14.1923 18.9342 14.1948 18.885H14.2H14.3384L14.4364 18.7874L14.7049 18.52H15.45C15.5747 18.52 15.6942 18.4705 15.7823 18.3823C15.8705 18.2942 15.92 18.1746 15.92 18.05C15.92 17.9253 15.8705 17.8058 15.7823 17.7176C15.7351 17.6704 15.6789 17.6343 15.6177 17.6109L17.33 15.9056V19.87C17.33 19.8871 17.3266 19.904 17.3201 19.9197C17.3136 19.9355 17.304 19.9499 17.2919 19.9619C17.2799 19.974 17.2655 19.9836 17.2497 19.9901C17.234 19.9966 17.2171 20 17.2 20ZM4.13 20H11.2508C11.2396 19.9629 11.2337 19.9242 11.2337 19.885C11.2337 19.8133 11.2533 19.7431 11.29 19.6819L11.2739 19.6734L11.8838 18.52H5C4.87535 18.52 4.7558 18.4705 4.66766 18.3823C4.57952 18.2942 4.53 18.1746 4.53 18.05C4.53 17.9253 4.57952 17.8058 4.66766 17.7176C4.7558 17.6295 4.87535 17.58 5 17.58H12.3809L12.3925 17.5582L12.4187 17.5284C12.4558 17.4864 12.5014 17.4527 12.5525 17.4297C12.5836 17.4156 12.6163 17.4057 12.6498 17.4001C12.6522 17.3065 12.6877 17.2166 12.7503 17.1467L13 17.37C12.9902 17.381 12.9847 17.3952 12.9847 17.41C12.9847 17.4247 12.9902 17.439 13 17.45L14.13 18.55H14.2L19.09 13.68V13.6L17.99 12.5C17.979 12.4902 17.9647 12.4847 17.95 12.4847C17.9352 12.4847 17.921 12.4902 17.91 12.5L13 17.37L12.7641 17.1322L15.1759 14.74H5C4.87535 14.74 4.7558 14.6905 4.66766 14.6023C4.57952 14.5142 4.53 14.3946 4.53 14.27C4.53 14.1453 4.57952 14.0258 4.66766 13.9376C4.7558 13.8495 4.87535 13.8 5 13.8H15.45C15.5747 13.8 15.6942 13.8495 15.7823 13.9376C15.8169 13.9722 15.8454 14.0115 15.8675 14.0541L17.33 12.6034V9.3H13.28C13.207 9.30976 13.133 9.30976 13.06 9.3C12.7697 9.22119 12.5113 9.05343 12.3212 8.82027C12.1311 8.58711 12.0187 8.30026 12 8V4H4.13C4.09552 4 4.06246 4.0137 4.03808 4.03808C4.0137 4.06246 4 4.09552 4 4.13V19.87C4 19.9045 4.0137 19.9375 4.03808 19.9619C4.06246 19.9863 4.09552 20 4.13 20ZM11.7889 20H11.8785C11.8902 19.9746 11.898 19.9475 11.9015 19.9197L11.8661 19.9866L11.8117 19.9578L13.84 18.91C13.8464 18.9044 13.8515 18.8974 13.855 18.8897C13.8585 18.8819 13.8603 18.8735 13.8603 18.865C13.8603 18.8565 13.8585 18.8481 13.855 18.8403C13.8515 18.8325 13.8464 18.8256 13.84 18.82L12.76 17.75C12.7544 17.7436 12.7474 17.7385 12.7397 17.735C12.7319 17.7315 12.7235 17.7297 12.715 17.7297C12.7065 17.7297 12.6981 17.7315 12.6903 17.735C12.6825 17.7385 12.6756 17.7436 12.67 17.75L11.57 19.83L11.5023 19.7942L11.58 19.85C11.5727 19.8602 11.5687 19.8724 11.5687 19.885C11.5687 19.8975 11.5727 19.9098 11.58 19.92L11.67 20H11.73L11.7642 19.9823L11.7889 20ZM13.1 4.65L16.6 8.15C16.6212 8.17232 16.6355 8.20028 16.6412 8.23051C16.6469 8.26075 16.6437 8.29199 16.6321 8.32048C16.6205 8.34898 16.6009 8.37352 16.5757 8.39117C16.5505 8.40882 16.5207 8.41883 16.49 8.42H13.06L12.83 8.19V4.76C12.8312 4.72925 12.8412 4.6995 12.8588 4.67429C12.8765 4.64909 12.901 4.62951 12.9295 4.6179C12.958 4.6063 12.9893 4.60315 13.0195 4.60884C13.0497 4.61453 13.0777 4.62882 13.1 4.65ZM11 6.72C11.0027 6.66089 10.9937 6.60183 10.9735 6.54621C10.9534 6.49058 10.9224 6.43948 10.8825 6.39582C10.8425 6.35216 10.7944 6.31681 10.7408 6.29179C10.6871 6.26677 10.6291 6.25257 10.57 6.25H5C4.88239 6.25773 4.77251 6.3113 4.69397 6.39918C4.61543 6.48707 4.57451 6.60226 4.58 6.72C4.57451 6.83774 4.61543 6.95293 4.69397 7.04082C4.77251 7.12871 4.88239 7.18227 5 7.19H10.6C10.714 7.1774 10.8189 7.12173 10.8933 7.03438C10.9676 6.94702 11.0058 6.83457 11 6.72ZM11.1 8.14001H5C4.87535 8.14001 4.7558 8.18953 4.66766 8.27767C4.57952 8.36582 4.53 8.48536 4.53 8.61001C4.53 8.73467 4.57952 8.85421 4.66766 8.94236C4.7558 9.0305 4.87535 9.08001 5 9.08001H11.1C11.2247 9.08001 11.3442 9.0305 11.4323 8.94236C11.5205 8.85421 11.57 8.73467 11.57 8.61001C11.57 8.48536 11.5205 8.36582 11.4323 8.27767C11.3442 8.18953 11.2247 8.14001 11.1 8.14001ZM5 11H15.45C15.5826 11 15.7098 10.9473 15.8036 10.8536C15.8973 10.7598 15.95 10.6326 15.95 10.5C15.95 10.3674 15.8973 10.2402 15.8036 10.1464C15.7098 10.0527 15.5826 10 15.45 10H5C4.86739 10 4.74021 10.0527 4.64645 10.1464C4.55268 10.2402 4.5 10.3674 4.5 10.5C4.5 10.6326 4.55268 10.7598 4.64645 10.8536C4.74021 10.9473 4.86739 11 5 11ZM5 12.86H11.1C11.2211 12.8523 11.3346 12.798 11.4166 12.7085C11.4986 12.6191 11.5428 12.5013 11.54 12.38C11.5427 12.2597 11.4982 12.1431 11.4159 12.0552C11.3337 11.9673 11.2202 11.9152 11.1 11.91H5C4.94089 11.9126 4.88286 11.9268 4.82924 11.9518C4.77562 11.9768 4.72746 12.0122 4.68752 12.0558C4.64758 12.0995 4.61664 12.1506 4.59648 12.2062C4.57631 12.2618 4.56731 12.3209 4.57 12.38C4.56451 12.5004 4.60649 12.6181 4.6869 12.7079C4.76731 12.7976 4.87974 12.8523 5 12.86ZM11.1 16.63H5C4.87535 16.63 4.7558 16.5805 4.66766 16.4923C4.57952 16.4042 4.53 16.2846 4.53 16.16C4.53 16.0353 4.57952 15.9158 4.66766 15.8276C4.7558 15.7395 4.87535 15.69 5 15.69H11.1C11.2247 15.69 11.3442 15.7395 11.4323 15.8276C11.5205 15.9158 11.57 16.0353 11.57 16.16C11.57 16.2846 11.5205 16.4042 11.4323 16.4923C11.3442 16.5805 11.2247 16.63 11.1 16.63ZM18.8503 11.592C18.7991 11.6175 18.7545 11.6544 18.72 11.7L18.26 12.14C18.2501 12.151 18.2447 12.1652 18.2447 12.18C18.2447 12.1947 18.2501 12.209 18.26 12.22L19.37 13.32C19.381 13.3298 19.3952 13.3353 19.41 13.3353C19.4247 13.3353 19.439 13.3298 19.45 13.32L19.86 12.91C19.9057 12.867 19.9421 12.8151 19.967 12.7575C19.9919 12.6998 20.0047 12.6377 20.0047 12.575C20.0047 12.5122 19.9919 12.4501 19.967 12.3925C19.9421 12.3349 19.9057 12.283 19.86 12.24L19.31 11.7C19.2755 11.6544 19.2309 11.6175 19.1797 11.592C19.1285 11.5666 19.0721 11.5533 19.015 11.5533C18.9578 11.5533 18.9014 11.5666 18.8503 11.592Z",showTrackChanges:"M17.2421 13.6048C17.2631 13.6136 17.2841 13.6226 17.305 13.6317V9.29505H13.2626C13.1897 9.30481 13.1159 9.30481 13.043 9.29505C12.7532 9.21632 12.4953 9.04872 12.3056 8.81577C12.1158 8.58283 12.0037 8.29625 11.985 7.99627V4H4.12976C4.09534 4 4.06234 4.01368 4.038 4.03804C4.01367 4.0624 4 4.09543 4 4.12988V19.8552C4 19.8896 4.01367 19.9227 4.038 19.947C4.06234 19.9714 4.09534 19.9851 4.12976 19.9851H13.4875C13.0501 19.8216 12.6281 19.6155 12.2277 19.3686C11.8529 19.1551 11.4911 18.9196 11.1442 18.6632C11.0697 18.6152 10.9982 18.5628 10.9302 18.5065H4.99812C4.87371 18.5065 4.75438 18.457 4.66641 18.3689C4.57843 18.2809 4.529 18.1614 4.529 18.0369C4.529 17.9124 4.57843 17.7929 4.66641 17.7049C4.75438 17.6168 4.87371 17.5673 4.99812 17.5673H10.4396C10.4472 17.4488 10.4756 17.3324 10.5235 17.2235C10.5939 17.017 10.6761 16.8149 10.7694 16.6182H4.99812C4.87371 16.6182 4.75438 16.5687 4.66641 16.4807C4.57843 16.3926 4.529 16.2732 4.529 16.1487C4.529 16.0241 4.57843 15.9047 4.66641 15.8166C4.75438 15.7286 4.87371 15.6791 4.99812 15.6791H11.0867C11.1576 15.6791 11.2268 15.6952 11.2895 15.7253C11.5204 15.361 11.7938 15.027 12.1033 14.73H4.99812C4.87371 14.73 4.75438 14.6805 4.66641 14.5924C4.57843 14.5044 4.529 14.385 4.529 14.2604C4.529 14.1359 4.57843 14.0164 4.66641 13.9284C4.75438 13.8403 4.87371 13.7909 4.99812 13.7909H13.4434C13.9833 13.525 14.5656 13.3516 15.166 13.2795L15.1923 13.2763H15.2189H15.4925C16.0923 13.2609 16.6886 13.3728 17.2421 13.6048ZM13.0829 4.64939L16.5764 8.14613C16.5975 8.16843 16.6118 8.19636 16.6174 8.22657C16.6231 8.25677 16.62 8.28798 16.6084 8.31645C16.5968 8.34492 16.5773 8.36944 16.5521 8.38707C16.527 8.40471 16.4973 8.41471 16.4666 8.41587H13.043L12.8134 8.18609V4.75929C12.8146 4.72857 12.8246 4.69884 12.8422 4.67366C12.8598 4.64849 12.8843 4.62893 12.9128 4.61733C12.9412 4.60573 12.9724 4.60259 13.0026 4.60827C13.0328 4.61396 13.0607 4.62824 13.0829 4.64939ZM10.9869 6.71746C10.9896 6.65841 10.9806 6.59941 10.9604 6.54383C10.9403 6.48825 10.9094 6.4372 10.8696 6.39358C10.8297 6.34997 10.7816 6.31465 10.7281 6.28965C10.6746 6.26466 10.6167 6.25047 10.5577 6.2479H4.99813C4.88074 6.25562 4.77106 6.30914 4.69267 6.39694C4.61428 6.48475 4.57343 6.59983 4.57891 6.71746C4.57343 6.83509 4.61428 6.95017 4.69267 7.03798C4.77106 7.12579 4.88074 7.1793 4.99813 7.18702H10.5876C10.7014 7.17444 10.8061 7.11882 10.8803 7.03154C10.9545 6.94427 10.9927 6.83192 10.9869 6.71746ZM11.0867 8.13614H4.99812C4.87371 8.13614 4.75438 8.18561 4.66641 8.27367C4.57843 8.36173 4.529 8.48116 4.529 8.6057C4.529 8.73023 4.57843 8.84967 4.66641 8.93773C4.75438 9.02579 4.87371 9.07526 4.99812 9.07526H11.0867C11.2111 9.07526 11.3304 9.02579 11.4184 8.93773C11.5064 8.84967 11.5558 8.73023 11.5558 8.6057C11.5558 8.48116 11.5064 8.36173 11.4184 8.27367C11.3304 8.18561 11.2111 8.13614 11.0867 8.13614ZM4.99812 10.9935H15.4285C15.5609 10.9935 15.6878 10.9408 15.7814 10.8472C15.875 10.7535 15.9276 10.6264 15.9276 10.4939C15.9276 10.3614 15.875 10.2344 15.7814 10.1407C15.6878 10.047 15.5609 9.9944 15.4285 9.9944H4.99812C4.86576 9.9944 4.73883 10.047 4.64523 10.1407C4.55164 10.2344 4.49906 10.3614 4.49906 10.4939C4.49906 10.6264 4.55164 10.7535 4.64523 10.8472C4.73883 10.9408 4.86576 10.9935 4.99812 10.9935ZM4.99812 12.8517H11.0867C11.2076 12.844 11.3208 12.7898 11.4027 12.7004C11.4845 12.611 11.5287 12.4934 11.5259 12.3722C11.5286 12.252 11.4841 12.1355 11.402 12.0477C11.3199 11.9599 11.2067 11.9078 11.0867 11.9026H4.99812C4.93912 11.9052 4.8812 11.9194 4.82769 11.9444C4.77417 11.9694 4.7261 12.0047 4.68623 12.0483C4.64637 12.0919 4.61549 12.143 4.59536 12.1985C4.57523 12.2541 4.56625 12.3131 4.56893 12.3722C4.56345 12.4925 4.60535 12.6101 4.68561 12.6998C4.76587 12.7894 4.87809 12.844 4.99812 12.8517ZM19.97 17.4974C19.5787 16.5636 19.0431 15.6971 18.383 14.9298C18.0152 14.5351 17.5679 14.2233 17.0706 14.0148C16.5732 13.8064 16.0373 13.7062 15.4984 13.7209H15.2189C14.4787 13.8098 13.7684 14.0666 13.1423 14.4717C12.5162 14.8769 11.9906 15.4196 11.6057 16.0587C11.3211 16.4677 11.0959 16.9151 10.937 17.3875C10.9006 17.464 10.8817 17.5476 10.8817 17.6323C10.8817 17.717 10.9006 17.8006 10.937 17.877C11.0642 18.0428 11.2196 18.1849 11.3961 18.2967C11.7346 18.5476 12.0879 18.7778 12.4541 18.986C13.4096 19.5767 14.497 19.92 15.6182 19.9851C16.4392 20.0504 17.2632 19.9005 18.0088 19.5501C18.7544 19.1998 19.3959 18.661 19.8702 17.9869C19.9311 17.923 19.9729 17.8432 19.9905 17.7566C20.0082 17.67 20.0011 17.5801 19.97 17.4974ZM15.9775 19.1758C14.3849 19.068 12.8507 18.5331 11.5358 17.6273C11.5788 17.5678 11.6255 17.5111 11.6756 17.4574C12.3061 16.569 13.1295 15.8359 14.0832 15.3126C13.8003 15.7406 13.6785 16.2566 13.7417 16.7681C13.7676 17.0339 13.8465 17.2918 13.9737 17.5265C14.1009 17.7613 14.2739 17.9681 14.4823 18.1348C14.6907 18.3016 14.9304 18.4248 15.1872 18.4972C15.4441 18.5696 15.7128 18.5897 15.9775 18.5564C16.305 18.4971 16.6137 18.3609 16.8785 18.159C17.1432 17.9572 17.3564 17.6954 17.5005 17.3951C17.6446 17.0949 17.7156 16.7647 17.7077 16.4317C17.6997 16.0987 17.613 15.7723 17.4547 15.4793C17.2614 15.3391 17.0533 15.2235 16.8351 15.1339C17.0715 15.226 17.2966 15.3485 17.5046 15.4993C18.0049 15.8976 18.4424 16.3691 18.8022 16.898L18.8927 17.0137L18.8927 17.0137C19.0823 17.2564 19.2729 17.5004 19.4709 17.7072C18.5404 18.6311 17.288 19.1576 15.9775 19.1758ZM16.3168 15.769C16.2085 15.8106 16.1171 15.8873 16.0574 15.9869C15.9977 16.0865 15.9731 16.2032 15.9875 16.3185C15.9949 16.3856 16.0156 16.4505 16.0483 16.5096C16.081 16.5686 16.1251 16.6206 16.178 16.6624C16.2309 16.7042 16.2916 16.7351 16.3566 16.7532C16.4216 16.7714 16.4895 16.7764 16.5564 16.7681H16.6063C16.5618 16.9495 16.4637 17.1132 16.3248 17.238C16.186 17.3627 16.0127 17.4427 15.8278 17.4674H15.6481C15.4335 17.4396 15.2337 17.3427 15.0789 17.1913C14.924 17.04 14.8226 16.8423 14.7897 16.6282C14.7628 16.3782 14.8311 16.1271 14.981 15.9253C15.1305 15.7238 15.3504 15.5861 15.5968 15.5395C15.3446 15.5862 15.12 15.7284 14.9697 15.9364C14.8191 16.1448 14.7547 16.4034 14.7897 16.6582C14.8226 16.8723 14.924 17.0699 15.0789 17.2213C15.2337 17.3727 15.4335 17.4696 15.6481 17.4974H15.8377C16.0209 17.4708 16.1919 17.39 16.3289 17.2654C16.4658 17.1408 16.5625 16.978 16.6063 16.7981C16.7293 16.7633 16.8359 16.686 16.9072 16.5799C16.9785 16.4737 17.0098 16.3457 16.9956 16.2186C16.9882 16.1515 16.9675 16.0865 16.9348 16.0275C16.9021 15.9685 16.858 15.9165 16.805 15.8747C16.7521 15.8329 16.6914 15.802 16.6264 15.7838C16.5615 15.7657 16.4936 15.7607 16.4266 15.769H16.3168Z",acceptAllChanges:"M9.36499 16.7348C9.38499 16.7547 9.41212 16.7659 9.44041 16.7659H10.9881C10.9028 16.6008 10.9289 16.3933 11.0663 16.2541L11.7266 15.585H10.1444C10.0549 15.5701 9.97363 15.5238 9.91498 15.4547C9.85639 15.3856 9.82422 15.298 9.82422 15.2074C9.82422 15.1169 9.85639 15.0292 9.91498 14.9601C9.97363 14.891 10.0549 14.8448 10.1444 14.8298H12.4879C12.5584 14.785 12.6407 14.7607 12.7257 14.7607C12.8106 14.7607 12.893 14.785 12.9635 14.8298H16.5295L18.3303 13.0091C18.4135 12.925 18.5271 12.8776 18.6456 12.8777C18.7642 12.8777 18.8777 12.9252 18.9609 13.0094L20 14.0621V8.25532H16.8001C16.7301 8.27288 16.6568 8.27288 16.5868 8.25532C16.3485 8.1935 16.1367 8.0565 15.9829 7.86478C15.8292 7.67306 15.7416 7.43688 15.7335 7.19149V4H9.44041C9.41293 4.0024 9.38718 4.01437 9.36767 4.03383C9.34816 4.05329 9.33615 4.07897 9.33375 4.10638V16.6596C9.33375 16.6878 9.34499 16.7148 9.36499 16.7348ZM10.0744 17.2979H11.4803L12.259 18.0957H5.06727C5.01734 18.0957 4.96838 18.1057 4.9232 18.1246C4.8788 18.1431 4.83798 18.1702 4.80335 18.2048C4.7333 18.2746 4.69398 18.3693 4.69398 18.468C4.69398 18.5668 4.7333 18.6615 4.80335 18.7313C4.87333 18.8011 4.96832 18.8404 5.06727 18.8404H12.9857L13.7947 19.6693L14.0836 19.9574H4.10733C4.09291 19.9591 4.07829 19.9576 4.06457 19.9528C4.05085 19.9481 4.03838 19.9403 4.02812 19.9301C4.01785 19.9198 4.01004 19.9074 4.00529 19.8937C4.00054 19.88 3.99896 19.8654 4.00067 19.8511V7.29787C4.00067 7.26966 4.01191 7.2426 4.03191 7.22265C4.05192 7.2027 4.07905 7.19149 4.10733 7.19149H8.70447V9.05319H5.06727C4.97294 9.05867 4.88453 9.10069 4.8208 9.17019C4.757 9.23973 4.72302 9.33135 4.72594 9.42553C4.72289 9.52082 4.75654 9.61364 4.82002 9.6849C4.88356 9.75613 4.97203 9.80038 5.06727 9.8085H8.70447V10.5638H5.06727C5.01968 10.5652 4.97274 10.5759 4.92932 10.5954C4.88583 10.6148 4.84664 10.6426 4.8139 10.6772C4.78122 10.7118 4.7557 10.7525 4.73877 10.7969C4.72184 10.8413 4.7139 10.8887 4.71527 10.9361C4.7139 10.9837 4.72184 11.031 4.73877 11.0754C4.74424 11.0897 4.75055 11.1037 4.75778 11.1171C4.76162 11.1243 4.76566 11.1313 4.76995 11.1382C4.78265 11.1585 4.79736 11.1776 4.8139 11.1951C4.84664 11.2297 4.88583 11.2575 4.92932 11.2769C4.95491 11.2884 4.98173 11.2968 5.0092 11.3021C5.02834 11.3058 5.04774 11.3079 5.06727 11.3085H8.70447V12.0638H5.06734C4.97782 12.0789 4.89651 12.1251 4.83792 12.1942C4.77926 12.2633 4.7471 12.351 4.7471 12.4415C4.7471 12.5321 4.77926 12.6197 4.83792 12.6888C4.89651 12.758 4.97782 12.8041 5.06734 12.8192H8.70447V13.5745H5.06734C4.97782 13.5895 4.89651 13.6357 4.83792 13.7048C4.81383 13.7332 4.79424 13.7647 4.77946 13.7983C4.7583 13.8465 4.7471 13.8988 4.7471 13.9522C4.7471 14.0427 4.77926 14.1303 4.83792 14.1994C4.89651 14.2686 4.97782 14.3147 5.06734 14.3298H8.70447V15.0744H5.06727C4.97776 15.0895 4.89651 15.1357 4.83785 15.2048C4.77926 15.2739 4.7471 15.3616 4.7471 15.4521C4.7471 15.5043 4.75778 15.5556 4.77809 15.6029C4.793 15.6376 4.81305 15.6701 4.83785 15.6994C4.89651 15.7685 4.97776 15.8147 5.06727 15.8298H8.70447V16.5851H5.06727C4.97776 16.6001 4.89651 16.6463 4.83785 16.7154C4.79489 16.7661 4.76618 16.8267 4.75387 16.8912C4.74938 16.9146 4.7471 16.9386 4.7471 16.9628C4.7471 17.0533 4.77926 17.1409 4.83785 17.21C4.89651 17.2792 4.97776 17.3253 5.06727 17.3404H9.95241C9.99552 17.3331 10.0367 17.3187 10.0744 17.2979ZM20 15.3204L18.5709 16.7659H19.8933C19.9216 16.7659 19.9487 16.7547 19.9687 16.7348C19.9887 16.7148 20 16.6878 20 16.6596V15.3204ZM14.7526 16.6264L13.7248 15.585H15.7825L14.7526 16.6264ZM14.9498 6.08721C14.9465 6.06854 14.9416 6.05023 14.9353 6.03244C14.9202 5.98939 14.897 5.94929 14.8665 5.91442C14.8145 5.85488 14.7444 5.81394 14.6669 5.79787H10.1337C10.0348 5.79787 9.93978 5.83709 9.8698 5.90693C9.79975 5.97676 9.76043 6.07146 9.76043 6.17022C9.76043 6.19463 9.76283 6.21879 9.76752 6.24239C9.77462 6.2782 9.78692 6.31268 9.80398 6.34479C9.82123 6.37716 9.8433 6.40709 9.8698 6.43348C9.93978 6.50332 10.0348 6.54257 10.1337 6.54257H14.6669C14.6811 6.54023 14.6951 6.53702 14.7088 6.53299C14.7206 6.52955 14.7322 6.52549 14.7436 6.52082C14.7624 6.51309 14.7806 6.50371 14.7979 6.4928C14.8378 6.46764 14.8722 6.43468 14.8991 6.39599C14.9259 6.35729 14.9447 6.31359 14.9543 6.26749C14.9554 6.26232 14.9563 6.25716 14.9571 6.25197C14.9579 6.24739 14.9586 6.24281 14.9591 6.23824C14.9612 6.22129 14.962 6.20424 14.9616 6.18723C14.961 6.16727 14.9588 6.14733 14.9549 6.12766C14.9539 6.11406 14.9523 6.10055 14.9498 6.08721ZM15.0189 7.29788H10.1445C10.0549 7.31291 9.97363 7.35911 9.91504 7.42823C9.85639 7.49738 9.82422 7.585 9.82422 7.67555C9.82422 7.76609 9.85639 7.85369 9.91504 7.92284C9.97363 7.99196 10.0549 8.03815 10.1445 8.05319H15.0189C15.0321 8.05241 15.0451 8.05095 15.058 8.04877C15.0745 8.04601 15.0906 8.04212 15.1064 8.03718C15.1669 8.01822 15.2219 7.98361 15.2654 7.93618C15.3291 7.86664 15.3632 7.77502 15.3602 7.68084C15.3606 7.67392 15.3608 7.66701 15.3608 7.66009C15.3609 7.65087 15.3606 7.64165 15.3599 7.63247C15.3592 7.62263 15.358 7.61279 15.3565 7.60302C15.3532 7.58188 15.3479 7.56104 15.3409 7.54072C15.3254 7.49575 15.301 7.45426 15.2693 7.41868C15.2492 7.39621 15.2265 7.37638 15.2017 7.35959C15.1872 7.34979 15.172 7.34102 15.1562 7.33339C15.1132 7.31265 15.0665 7.3006 15.0189 7.29788ZM10.1445 9.56381H18.496C18.5856 9.54877 18.6669 9.50258 18.7255 9.43346C18.7841 9.3643 18.8163 9.27671 18.8163 9.18617C18.8163 9.09562 18.7841 9.008 18.7255 8.93884C18.6669 8.86973 18.5856 8.82353 18.496 8.8085H10.1445C10.0549 8.82353 9.97363 8.86973 9.91504 8.93884C9.85639 9.008 9.82422 9.09562 9.82422 9.18617C9.82422 9.24412 9.83738 9.30087 9.86224 9.35236C9.87624 9.38132 9.89395 9.40859 9.91504 9.43346C9.97363 9.50258 10.0549 9.54877 10.1445 9.56381ZM10.1445 11.0638H15.0189C15.1084 11.0488 15.1897 11.0026 15.2483 10.9335C15.2854 10.8898 15.3118 10.8387 15.3263 10.7842C15.3347 10.7525 15.3391 10.7195 15.3391 10.6861C15.3391 10.5956 15.3069 10.508 15.2483 10.4389C15.1897 10.3697 15.1084 10.3235 15.0189 10.3085H10.1445C10.0549 10.3235 9.97363 10.3697 9.91504 10.4389C9.85639 10.508 9.82422 10.5956 9.82422 10.6861C9.82422 10.7424 9.83666 10.7976 9.8601 10.8478C9.87442 10.8785 9.89284 10.9073 9.91504 10.9335C9.97363 11.0026 10.0549 11.0488 10.1445 11.0638ZM18.496 12.5745H10.1444C10.0549 12.5594 9.97363 12.5132 9.91498 12.4441C9.85639 12.3749 9.82422 12.2873 9.82422 12.1968C9.82422 12.1062 9.85639 12.0186 9.91498 11.9495C9.97363 11.8803 10.0549 11.8342 10.1444 11.8191H18.496C18.5856 11.8342 18.6669 11.8803 18.7255 11.9495C18.7841 12.0186 18.8163 12.1062 18.8163 12.1968C18.8163 12.2873 18.7841 12.3749 18.7255 12.4441C18.6971 12.4776 18.6633 12.5058 18.6259 12.5276C18.5861 12.5507 18.5421 12.5667 18.496 12.5745ZM15.0189 14.0744H10.1444C10.0968 14.0731 10.0499 14.0624 10.0064 14.0429C9.96296 14.0234 9.92376 13.9956 9.89102 13.961C9.85834 13.9265 9.83282 13.8857 9.81589 13.8413C9.79897 13.7969 9.79102 13.7496 9.79239 13.7021C9.79102 13.6546 9.79897 13.6073 9.81589 13.5628C9.83282 13.5184 9.85834 13.4778 9.89102 13.4432C9.92376 13.4086 9.96296 13.3808 10.0064 13.3613C10.0499 13.3419 10.0968 13.3311 10.1444 13.3297H15.0189C15.0661 13.3311 15.1125 13.3419 15.1554 13.3615C15.1983 13.381 15.2368 13.4091 15.2686 13.4438C15.3005 13.4785 15.325 13.5193 15.3407 13.5637C15.3564 13.608 15.363 13.6551 15.3602 13.7021C15.3631 13.7963 15.3291 13.8879 15.2653 13.9574C15.2016 14.027 15.1132 14.0689 15.0189 14.0744ZM16.6188 4.52128L19.4133 7.30852C19.4293 7.32624 19.4401 7.34808 19.4443 7.37157C19.4485 7.39506 19.446 7.41925 19.4371 7.4414C19.4282 7.46356 19.4133 7.48278 19.394 7.4969C19.3747 7.51102 19.3518 7.51947 19.328 7.52128H16.5868L16.4054 7.34043V4.60639C16.4073 4.5826 16.4157 4.55979 16.4299 4.54056C16.444 4.52133 16.4633 4.50644 16.4855 4.49757C16.5077 4.48871 16.532 4.48624 16.5556 4.49043C16.5791 4.49462 16.601 4.50531 16.6188 4.52128ZM18.6454 13.3192L20 14.6915L14.7522 20L14.7416 19.9894L14.1123 19.3617L13.3976 18.6277L11.3817 16.5638L12.7257 15.2021L14.7522 17.2553L18.6454 13.3192Z",rejectAllChanges:"M9.54637 16.5847H8.96997V15.8295H12.786C12.8024 15.8265 12.8186 15.8223 12.8343 15.817C12.8535 15.8105 12.8719 15.8023 12.8897 15.7926C12.9315 15.7697 12.969 15.738 12.9997 15.6991C13.0268 15.6649 13.0478 15.6261 13.0621 15.5847H13.571V16.7656H9.79386C9.78396 16.7479 9.77269 16.731 9.76011 16.7151C9.70552 16.6459 9.62976 16.5998 9.54637 16.5847ZM13.4717 12.9573V13.3295H9.72523C9.6809 13.3309 9.63716 13.3416 9.59671 13.361C9.57578 13.3711 9.55595 13.3834 9.53745 13.3977C9.5201 13.411 9.50391 13.4262 9.48917 13.4429C9.45872 13.4775 9.43494 13.5182 9.41917 13.5626C9.41778 13.5664 9.41644 13.5703 9.41523 13.5742H8.96997V12.8189H12.786C12.8694 12.8039 12.9452 12.7577 12.9997 12.6886C13.0078 12.6784 13.0153 12.6677 13.0223 12.6568L13.029 12.6458L13.033 12.6389L13.0397 12.6266C13.0452 12.6157 13.0503 12.6046 13.055 12.5931C13.0576 12.5869 13.0599 12.5806 13.0621 12.5742H13.6872C13.6453 12.5965 13.607 12.6269 13.5746 12.6644C13.5059 12.7439 13.469 12.849 13.4717 12.9573ZM9.82598 14.0742H13.4758C13.4809 14.0932 13.4904 14.1108 13.5037 14.1251C13.5242 14.147 13.552 14.1593 13.581 14.1593H13.6008L13.571 14.1912V14.8295H9.72523C9.64183 14.8445 9.56614 14.8907 9.51149 14.9598C9.4845 14.994 9.46351 15.0328 9.4492 15.0741H8.96997V14.3295H9.54637C9.62976 14.3145 9.70552 14.2683 9.76011 14.1992C9.78947 14.162 9.81166 14.1195 9.82598 14.0742ZM18.9075 8.2552V12.5317H17.7846V12.323C17.7978 12.2827 17.8047 12.2399 17.8047 12.1965C17.8047 12.106 17.7747 12.0184 17.7201 11.9493C17.6655 11.8801 17.5897 11.834 17.5063 11.8189H9.72523C9.64183 11.834 9.56614 11.8801 9.51149 11.9493C9.48444 11.9835 9.46351 12.0222 9.4492 12.0636H8.96997V11.3083H9.54637C9.63425 11.3028 9.71662 11.2608 9.776 11.1913C9.80687 11.1551 9.83029 11.113 9.84527 11.0676L9.84654 11.0637H14.2667C14.3501 11.0486 14.4258 11.0024 14.4805 10.9333C14.5231 10.8794 14.5507 10.8142 14.5607 10.7452C14.5636 10.7258 14.565 10.706 14.565 10.686C14.565 10.6658 14.5635 10.6458 14.5606 10.626C14.5572 10.6026 14.5516 10.5796 14.5442 10.5573C14.5299 10.5144 14.5084 10.4741 14.4805 10.4387C14.4258 10.3696 14.3501 10.3234 14.2667 10.3083H9.72529C9.6832 10.3159 9.64299 10.3314 9.60653 10.3538C9.57081 10.3759 9.5386 10.4045 9.51155 10.4387C9.49639 10.4579 9.4831 10.4785 9.47182 10.5002C9.46133 10.5205 9.45259 10.5417 9.44568 10.5636H8.96997V9.80838H9.16873C9.25656 9.80286 9.33899 9.76085 9.39837 9.69131C9.45775 9.62177 9.48947 9.53022 9.48674 9.43601C9.48711 9.42951 9.48735 9.42302 9.48741 9.41653C9.48741 9.41049 9.48729 9.40445 9.48705 9.39848C9.49457 9.41055 9.50269 9.42218 9.51155 9.43334C9.56614 9.50249 9.64189 9.54866 9.72529 9.56372H17.5063C17.5897 9.54866 17.6655 9.50249 17.7201 9.43334C17.7747 9.36419 17.8047 9.2766 17.8047 9.18603C17.8047 9.09552 17.7747 9.00786 17.7201 8.93878C17.6655 8.86963 17.5897 8.82346 17.5063 8.8084H9.72529C9.64189 8.82346 9.56614 8.86963 9.51155 8.93878C9.4569 9.00786 9.42694 9.09552 9.42694 9.18603L9.427 9.19707L9.42754 9.20875C9.41972 9.19661 9.41123 9.18499 9.40201 9.17389C9.38478 9.15311 9.36537 9.1346 9.34427 9.11863C9.33735 9.11344 9.33026 9.1085 9.32298 9.10383C9.31855 9.10097 9.31406 9.09824 9.30951 9.09565L9.30424 9.09266L9.29659 9.08857C9.28792 9.08402 9.27906 9.07993 9.27009 9.07623C9.2616 9.07279 9.25298 9.06974 9.24431 9.06701C9.21974 9.05935 9.19439 9.05461 9.16873 9.05305H8.96997V4.10638C8.97221 4.07897 8.9834 4.05328 9.00157 4.03383C9.01975 4.01437 9.04374 4.0024 9.06935 4H14.9325V7.1914C14.9401 7.43679 15.0216 7.67296 15.1649 7.86468C15.3082 8.0564 15.5055 8.19338 15.7275 8.2552C15.7927 8.27277 15.861 8.27277 15.9262 8.2552H18.9075ZM13.571 17.2975V19.4251L13.5722 19.4615C13.5835 19.6376 13.6323 19.8068 13.7133 19.957H4.10061C4.08718 19.9587 4.07355 19.9571 4.06077 19.9524C4.04799 19.9477 4.03637 19.9399 4.02681 19.9296C4.01724 19.9194 4.00997 19.907 4.00554 19.8933C4.00111 19.8796 3.99964 19.865 4.00124 19.8506V7.29778C4.00124 7.26957 4.01171 7.24251 4.03034 7.22256C4.04898 7.20261 4.07426 7.1914 4.10061 7.1914H8.38368V9.05305H4.99497C4.90708 9.05857 4.82471 9.10052 4.76533 9.17006C4.70589 9.2396 4.67423 9.33121 4.67696 9.42536C4.67411 9.52067 4.70547 9.61346 4.76461 9.68475C4.8238 9.75598 4.90623 9.80026 4.99497 9.80838H8.38368V10.5636H4.99497C4.96682 10.5645 4.93898 10.5692 4.91199 10.5774C4.89647 10.5821 4.88124 10.588 4.86644 10.5952C4.8494 10.6034 4.83308 10.613 4.81762 10.6241C4.79627 10.6393 4.77655 10.657 4.7589 10.6771C4.72846 10.7116 4.70468 10.7523 4.68891 10.7967C4.67314 10.8411 4.66574 10.8885 4.66701 10.9359C4.66641 10.9597 4.66792 10.9834 4.67156 11.0067C4.6752 11.03 4.68102 11.053 4.68891 11.0752C4.70468 11.1196 4.72846 11.1603 4.7589 11.1949C4.7731 11.211 4.78862 11.2256 4.80524 11.2386C4.81452 11.2459 4.82417 11.2527 4.83417 11.259C4.84461 11.2655 4.85534 11.2714 4.86644 11.2767C4.9069 11.2962 4.95063 11.3069 4.99497 11.3083H8.38368V12.0636H4.99503C4.91163 12.0787 4.83587 12.1249 4.78128 12.194C4.7526 12.2303 4.7307 12.2717 4.71639 12.3159C4.70347 12.3559 4.69667 12.3983 4.69667 12.4413C4.69667 12.5318 4.72664 12.6194 4.78128 12.6886C4.809 12.7237 4.84218 12.7529 4.87906 12.7751C4.89416 12.7842 4.90993 12.7921 4.92619 12.7988C4.94833 12.8079 4.97137 12.8147 4.99503 12.8189H8.38368V13.5742H4.99503C4.95275 13.5819 4.91242 13.5975 4.87584 13.62C4.8403 13.642 4.80822 13.6705 4.78128 13.7046C4.72664 13.7737 4.69667 13.8613 4.69667 13.9519C4.69667 14.0424 4.72664 14.13 4.78128 14.1992C4.83587 14.2683 4.91163 14.3145 4.99503 14.3295H8.38368V15.0741H4.99497C4.94644 15.0829 4.90047 15.1022 4.85977 15.1304C4.83878 15.145 4.81919 15.162 4.80136 15.1811C4.79439 15.1885 4.78765 15.1964 4.78122 15.2045C4.77188 15.2163 4.76327 15.2287 4.75539 15.2416C4.74441 15.2594 4.73495 15.2781 4.727 15.2975C4.71924 15.3163 4.71293 15.3358 4.70808 15.3558C4.70407 15.3723 4.7011 15.389 4.69922 15.4061C4.69752 15.4212 4.69667 15.4364 4.69667 15.4518C4.69667 15.5423 4.72664 15.6299 4.78122 15.6991C4.83587 15.7682 4.91157 15.8144 4.99497 15.8295H8.38368V16.5847H4.99497C4.91157 16.5998 4.83587 16.6459 4.78122 16.7151C4.72664 16.7842 4.69667 16.8718 4.69667 16.9624C4.69667 17.0529 4.72664 17.1405 4.78122 17.2097C4.83587 17.2788 4.91157 17.325 4.99497 17.34H9.54637C9.58655 17.3328 9.62496 17.3183 9.66008 17.2975H13.571ZM15.7573 4.52124L18.3609 7.30839C18.3758 7.32612 18.3858 7.34796 18.3897 7.37145C18.3937 7.39493 18.3914 7.41913 18.3831 7.44128C18.3748 7.46343 18.3609 7.48266 18.3429 7.49678C18.325 7.51089 18.3036 7.51934 18.2814 7.52115H15.7275L15.5585 7.34031V4.60634C15.5602 4.58255 15.5681 4.55975 15.5813 4.54051C15.5945 4.52128 15.6125 4.50639 15.6332 4.49753C15.6539 4.48867 15.6765 4.48619 15.6984 4.49038C15.7203 4.49457 15.7407 4.50526 15.7573 4.52124ZM14.1248 5.91437C14.1732 5.97391 14.2021 6.04884 14.2071 6.1276C14.2157 6.17377 14.2155 6.22129 14.2065 6.26739C14.2045 6.27778 14.2021 6.28804 14.1992 6.29817L14.1944 6.31388C14.1847 6.34291 14.1715 6.3705 14.1551 6.39595C14.13 6.43465 14.098 6.46757 14.0608 6.49276C14.0354 6.5099 14.008 6.52328 13.9794 6.53244C13.9661 6.53672 13.9525 6.5401 13.9387 6.5425H9.71529C9.62309 6.5425 9.5346 6.50328 9.4694 6.43342C9.40413 6.36362 9.3675 6.26889 9.3675 6.17013C9.3675 6.07144 9.40413 5.97671 9.4694 5.90691C9.5346 5.83704 9.62309 5.79783 9.71529 5.79783H13.9387C13.9718 5.80516 14.0034 5.81769 14.0326 5.83484C14.0672 5.85522 14.0984 5.88204 14.1248 5.91437ZM14.2667 7.29776H9.72529C9.69606 7.30302 9.66773 7.31211 9.64092 7.3247C9.62612 7.33171 9.61175 7.33977 9.59798 7.34879C9.56565 7.36996 9.53642 7.39664 9.51155 7.42813C9.4569 7.49722 9.42694 7.58487 9.42694 7.67538C9.42694 7.70155 9.42942 7.72752 9.43434 7.75285C9.44635 7.81505 9.47273 7.87355 9.51155 7.9227C9.55292 7.9751 9.60647 8.01432 9.66628 8.03678C9.67762 8.04107 9.6892 8.04477 9.70097 8.04775C9.70898 8.04983 9.71711 8.05158 9.72529 8.05308H14.2667C14.3546 8.04756 14.437 8.00555 14.4964 7.93601C14.5558 7.86647 14.5875 7.77492 14.5847 7.68071C14.5874 7.63318 14.5813 7.58559 14.5667 7.54059C14.5522 7.4956 14.5296 7.45417 14.5 7.41859C14.4704 7.38301 14.4346 7.35398 14.3946 7.33327C14.3546 7.31256 14.3111 7.30048 14.2667 7.29776ZM4.99497 18.84H12.786C12.8783 18.84 12.9667 18.8008 13.032 18.731C13.0972 18.6611 13.1338 18.5664 13.1338 18.4677C13.1338 18.3689 13.0972 18.2742 13.032 18.2044C12.9667 18.1346 12.8783 18.0954 12.786 18.0954H4.99497C4.90277 18.0954 4.81428 18.1346 4.74908 18.2044C4.68381 18.2742 4.64718 18.3689 4.64718 18.4677C4.64718 18.5664 4.68381 18.6611 4.74908 18.731C4.81428 18.8008 4.90277 18.84 4.99497 18.84ZM17.5858 12.7444H19.5733H19.623C19.7249 12.7499 19.821 12.7971 19.8913 12.8764C19.9616 12.9556 20.0007 13.0607 20.0006 13.17V13.8295C20.0007 13.8458 19.9976 13.862 19.9914 13.8769C19.9853 13.8918 19.9764 13.9052 19.9652 13.9163C19.9539 13.9273 19.9407 13.9357 19.9262 13.9409C19.9118 13.9461 19.8965 13.948 19.8814 13.9465H13.7797C13.7507 13.9465 13.7229 13.9342 13.7024 13.9123C13.6819 13.8903 13.6704 13.8606 13.6704 13.8295V13.17C13.6677 13.0617 13.7046 12.9566 13.7733 12.8771C13.842 12.7976 13.9371 12.75 14.0381 12.7444H16.0256V12.5104C16.0352 12.439 16.0687 12.3737 16.1199 12.3268C16.1711 12.2798 16.2365 12.2544 16.3039 12.2551H17.2976C17.3667 12.2517 17.4345 12.276 17.4878 12.3232C17.541 12.3704 17.576 12.4371 17.5858 12.5104V12.7444ZM14.0679 19.4251V14.1912H19.5037V19.4251C19.4935 19.585 19.4256 19.7344 19.3143 19.8416C19.203 19.9488 19.0571 20.0055 18.9075 19.9996H14.6642C14.5146 20.0055 14.3687 19.9488 14.2574 19.8416C14.1461 19.7344 14.0781 19.585 14.0679 19.4251ZM15.5983 15.1593H15.2505C15.0969 15.1593 14.9723 15.2926 14.9723 15.4572V18.7336C14.9723 18.8981 15.0969 19.0315 15.2505 19.0315H15.5983C15.752 19.0315 15.8766 18.8981 15.8766 18.7336V15.4572C15.8766 15.2926 15.752 15.1593 15.5983 15.1593ZM16.9598 15.1593H16.612C16.4583 15.1593 16.3337 15.2926 16.3337 15.4572V18.7336C16.3337 18.8981 16.4583 19.0315 16.612 19.0315H16.9598C17.1135 19.0315 17.238 18.8981 17.238 18.7336V15.4572C17.238 15.2926 17.1135 15.1593 16.9598 15.1593ZM17.9635 15.1593H18.3113C18.465 15.1593 18.5895 15.2926 18.5895 15.4572V18.7336C18.5895 18.8981 18.465 19.0315 18.3113 19.0315H17.9635C17.8098 19.0315 17.6852 18.8981 17.6852 18.7336V15.4572C17.6852 15.2926 17.8098 15.1593 17.9635 15.1593Z",acceptSingleChange:"M17.2 20H15.6628L17.33 18.3091V19.87C17.33 19.8871 17.3266 19.904 17.3201 19.9197C17.3136 19.9355 17.304 19.9499 17.2919 19.9619C17.2799 19.974 17.2655 19.9836 17.2497 19.9901C17.234 19.9966 17.2171 20 17.2 20ZM4.13 20H14.4978L14.1823 19.6791L13.5135 18.9904L13.5123 18.9891L13.0529 18.52H5C4.87537 18.52 4.75586 18.4705 4.66766 18.3823C4.57953 18.2942 4.53003 18.1747 4.53003 18.05C4.53003 17.9253 4.57953 17.8058 4.66766 17.7177C4.75586 17.6295 4.87537 17.58 5 17.58H12.1323L11.6235 17.0604L11.6231 16.48L12.8831 15.19L13.4765 15.1896L15.0807 16.8276L17.33 14.5413V9.3H13.28C13.207 9.30976 13.133 9.30976 13.06 9.3C12.7697 9.22119 12.5113 9.05343 12.3212 8.82027C12.1311 8.58711 12.0187 8.30026 12 8V4H4.13C4.09552 4 4.06246 4.0137 4.03808 4.03808C4.0137 4.06246 4 4.09552 4 4.13V19.87C4 19.9045 4.0137 19.9375 4.03808 19.9619C4.06246 19.9863 4.09552 20 4.13 20ZM13.1 4.65L16.6 8.15C16.6212 8.17232 16.6355 8.20028 16.6412 8.23051C16.6469 8.26075 16.6437 8.29199 16.6321 8.32048C16.6205 8.34898 16.6009 8.37352 16.5757 8.39117C16.5505 8.40882 16.5208 8.41883 16.49 8.42H13.06L12.83 8.19V4.76C12.8312 4.72925 12.8412 4.6995 12.8588 4.67429C12.8765 4.64909 12.901 4.62951 12.9295 4.6179C12.958 4.6063 12.9893 4.60315 13.0195 4.60884C13.0497 4.61453 13.0777 4.62882 13.1 4.65ZM11 6.72C11.0027 6.66089 10.9937 6.60184 10.9735 6.5462C10.9534 6.49057 10.9224 6.43948 10.8825 6.39581C10.8425 6.35217 10.7944 6.3168 10.7408 6.29178C10.6871 6.26678 10.6292 6.25256 10.57 6.25H5C4.88239 6.25772 4.77252 6.31131 4.69397 6.39917C4.61542 6.48706 4.57452 6.60226 4.58002 6.72C4.57452 6.83774 4.61542 6.95294 4.69397 7.04083C4.77252 7.12869 4.88239 7.18228 5 7.19H10.6C10.7141 7.1774 10.8189 7.12173 10.8933 7.03436C10.9677 6.94702 11.0058 6.83456 11 6.72ZM11.1 8.14001H5C4.87537 8.14001 4.75586 8.18954 4.66766 8.27768C4.57953 8.36581 4.53003 8.48535 4.53003 8.61002C4.53003 8.73468 4.57953 8.85422 4.66766 8.94235C4.71558 8.99023 4.77277 9.02673 4.83496 9.05008C4.86932 9.06296 4.90521 9.07184 4.94189 9.07642C4.96106 9.0788 4.98047 9.08002 5 9.08002H11.1C11.2247 9.08002 11.3442 9.03049 11.4324 8.94235C11.5205 8.85422 11.57 8.73468 11.57 8.61002C11.57 8.48535 11.5205 8.36581 11.4324 8.27768C11.3442 8.18954 11.2247 8.14001 11.1 8.14001ZM5 11H15.45C15.5826 11 15.7098 10.9473 15.8035 10.8535C15.8973 10.7598 15.95 10.6326 15.95 10.5C15.95 10.3674 15.8973 10.2402 15.8035 10.1465C15.7098 10.0527 15.5826 10 15.45 10H5C4.86737 10 4.74023 10.0527 4.64642 10.1465C4.55267 10.2402 4.5 10.3674 4.5 10.5C4.5 10.6326 4.55267 10.7598 4.64642 10.8535C4.74023 10.9473 4.86737 11 5 11ZM5 12.86H11.1C11.2211 12.8523 11.3346 12.798 11.4166 12.7085C11.4986 12.6191 11.5428 12.5013 11.54 12.38C11.5427 12.2597 11.4982 12.1431 11.416 12.0552C11.3337 11.9673 11.2203 11.9152 11.1 11.91H5C4.94086 11.9126 4.88287 11.9268 4.82922 11.9518C4.77563 11.9768 4.72748 12.0122 4.6875 12.0558C4.65833 12.0878 4.63391 12.1237 4.61505 12.1624C4.60809 12.1767 4.60193 12.1913 4.5965 12.2062C4.58264 12.2443 4.5741 12.2841 4.57092 12.3243C4.56946 12.3428 4.56915 12.3614 4.57001 12.38C4.56451 12.5004 4.60651 12.6181 4.68689 12.7079C4.76733 12.7976 4.87976 12.8523 5 12.86ZM15.45 14.74H5C4.87537 14.74 4.75586 14.6905 4.66766 14.6023C4.57953 14.5142 4.53003 14.3947 4.53003 14.27C4.53003 14.1453 4.57953 14.0258 4.66766 13.9377C4.75586 13.8495 4.87537 13.8 5 13.8H15.45C15.5747 13.8 15.6942 13.8495 15.7823 13.9377C15.8705 14.0258 15.92 14.1453 15.92 14.27C15.92 14.3947 15.8705 14.5142 15.7823 14.6023C15.6942 14.6905 15.5747 14.74 15.45 14.74ZM11.1 16.63H5C4.87537 16.63 4.75586 16.5805 4.66766 16.4923C4.57953 16.4042 4.53003 16.2846 4.53003 16.16C4.53003 16.0353 4.57953 15.9158 4.66766 15.8276C4.75586 15.7395 4.87537 15.69 5 15.69H11.1C11.2247 15.69 11.3442 15.7395 11.4324 15.8276C11.5205 15.9158 11.57 16.0353 11.57 16.16C11.57 16.2846 11.5205 16.4042 11.4324 16.4923C11.3442 16.5805 11.2247 16.63 11.1 16.63ZM18.73 13.71L20 15.01L15.08 20L15.07 19.99L14.48 19.39L13.81 18.7L11.92 16.77L13.18 15.48L15.08 17.42L18.73 13.71Z",rejectSingleChange:"M17.0495 11.5C17.1461 11.5 17.241 11.5173 17.33 11.5501V9.3H13.28C13.207 9.30976 13.133 9.30976 13.06 9.3C12.7697 9.22119 12.5113 9.05343 12.3212 8.82027C12.1311 8.58711 12.0187 8.30026 12 8V4H4.13C4.09552 4 4.06246 4.0137 4.03808 4.03808C4.0137 4.06246 4 4.09552 4 4.13V19.87C4 19.9045 4.0137 19.9375 4.03808 19.9619C4.06246 19.9863 4.09552 20 4.13 20H13.2305C13.1075 19.8287 13.0338 19.6249 13.0205 19.4112L13.0195 19.3956V18.52H5C4.87537 18.52 4.75586 18.4705 4.66772 18.3823C4.57959 18.2942 4.53003 18.1747 4.53003 18.05C4.53003 18.0119 4.53467 17.9742 4.54358 17.9378C4.56396 17.8552 4.60657 17.7788 4.66772 17.7177C4.75586 17.6295 4.87537 17.58 5 17.58H13.0195V14.74H5C4.87537 14.74 4.75586 14.6905 4.66772 14.6023C4.57959 14.5142 4.53003 14.3947 4.53003 14.27C4.53003 14.1453 4.57959 14.0258 4.66772 13.9377C4.75586 13.8495 4.87537 13.8 5 13.8H12.8393C12.6229 13.6377 12.4998 13.3897 12.4998 13.1032C12.4997 12.8414 12.6008 12.5847 12.7513 12.3911C12.9 12.1998 13.1561 12 13.4994 12L15.2519 12C15.2928 11.8972 15.3589 11.7915 15.4649 11.6992C15.6135 11.5698 15.8041 11.499 16.0011 11.5H17.0495ZM13.1 4.65L16.6 8.15C16.6211 8.17232 16.6354 8.20028 16.6411 8.23051C16.6468 8.26075 16.6437 8.29199 16.6321 8.32048C16.6204 8.34898 16.6009 8.37352 16.5757 8.39117C16.5505 8.40882 16.5207 8.41883 16.49 8.42H13.06L12.83 8.19V4.76C12.8311 4.72925 12.8411 4.6995 12.8588 4.67429C12.8764 4.64909 12.901 4.62951 12.9295 4.6179C12.958 4.6063 12.9892 4.60315 13.0194 4.60884C13.0497 4.61453 13.0776 4.62882 13.1 4.65ZM11 6.72C11.0027 6.66089 10.9937 6.60184 10.9735 6.5462C10.9716 6.5408 10.9695 6.53543 10.9673 6.53012C10.9626 6.51852 10.9575 6.50717 10.9518 6.49603C10.9406 6.47391 10.9275 6.45273 10.9127 6.43274C10.9033 6.41992 10.8932 6.40759 10.8824 6.39581C10.8425 6.35217 10.7943 6.3168 10.7407 6.29178C10.6871 6.26678 10.629 6.25256 10.5699 6.25H5C4.88232 6.25772 4.77246 6.31131 4.69397 6.39917C4.61536 6.48706 4.57446 6.60226 4.57996 6.72C4.57715 6.7811 4.58679 6.84152 4.60767 6.8978C4.61523 6.91803 4.62415 6.93771 4.63452 6.9567C4.65088 6.98669 4.67078 7.01495 4.69397 7.04083C4.77246 7.12869 4.88232 7.18228 5 7.19H10.6C10.714 7.1774 10.8188 7.12173 10.8932 7.03436C10.922 7.00049 10.9454 6.96283 10.9629 6.92273C10.9725 6.9006 10.9805 6.87775 10.9865 6.8544C10.9933 6.82791 10.9977 6.80075 10.9995 6.77325C11.0001 6.76453 11.0004 6.75574 11.0005 6.74695C11.0006 6.73798 11.0005 6.729 11 6.72ZM11.1 8.14001H5C4.97534 8.14001 4.95081 8.14194 4.92676 8.14575C4.89587 8.15063 4.8656 8.15857 4.83643 8.1694C4.77368 8.19272 4.71606 8.2294 4.66772 8.27768C4.57959 8.36581 4.53003 8.48535 4.53003 8.61002C4.53003 8.73468 4.57959 8.85422 4.66772 8.94235C4.75586 9.03049 4.87537 9.08002 5 9.08002H11.1C11.2247 9.08002 11.3442 9.03049 11.4324 8.94235C11.4617 8.91306 11.4867 8.88028 11.5071 8.845C11.5349 8.79691 11.554 8.74414 11.5634 8.68915C11.5677 8.66318 11.5701 8.63672 11.5701 8.61002C11.5701 8.48535 11.5205 8.36581 11.4324 8.27768C11.3929 8.23831 11.3474 8.20663 11.2979 8.18365C11.2365 8.15518 11.1689 8.14001 11.1 8.14001ZM5 11H15.45C15.5826 11 15.7098 10.9473 15.8036 10.8535C15.8973 10.7598 15.95 10.6326 15.95 10.5C15.95 10.3674 15.8973 10.2402 15.8036 10.1465C15.7098 10.0527 15.5826 10 15.45 10H5C4.86743 10 4.74023 10.0527 4.64648 10.1465C4.55273 10.2402 4.5 10.3674 4.5 10.5C4.5 10.6326 4.55273 10.7598 4.64648 10.8535C4.74023 10.9473 4.86743 11 5 11ZM5 12.86H11.1C11.2211 12.8523 11.3346 12.798 11.4166 12.7085C11.4987 12.6191 11.5428 12.5013 11.54 12.38C11.5427 12.2597 11.4982 12.1431 11.4159 12.0552C11.3336 11.9673 11.2202 11.9152 11.1 11.91H5C4.94092 11.9126 4.88281 11.9268 4.82922 11.9518C4.77563 11.9768 4.72742 12.0122 4.6875 12.0558C4.64758 12.0995 4.6167 12.1506 4.59644 12.2062C4.58899 12.2266 4.58313 12.2475 4.57874 12.2687C4.57129 12.3052 4.56824 12.3426 4.56995 12.38C4.56445 12.5004 4.60645 12.6181 4.68689 12.7079C4.76733 12.7976 4.87976 12.8523 5 12.86ZM11.1 16.63H5C4.87537 16.63 4.75586 16.5805 4.66772 16.4923C4.57959 16.4042 4.53003 16.2846 4.53003 16.16C4.53003 16.0353 4.57959 15.9158 4.66772 15.8276C4.75586 15.7395 4.87537 15.69 5 15.69H11.1C11.2247 15.69 11.3442 15.7395 11.4324 15.8276C11.5205 15.9158 11.5701 16.0353 11.5701 16.16C11.5701 16.2846 11.5205 16.4042 11.4324 16.4923C11.3442 16.5805 11.2247 16.63 11.1 16.63ZM19.59 12.53H17.36V12.3C17.3574 12.2195 17.3236 12.1432 17.2657 12.0872C17.2078 12.0313 17.1305 12 17.05 12H16C15.9242 11.9994 15.8509 12.0265 15.7938 12.0762C15.7367 12.126 15.6997 12.1949 15.69 12.27V12.5H13.44C13.3768 12.4994 13.3142 12.5125 13.2565 12.5382C13.1988 12.564 13.1473 12.6019 13.1055 12.6493C13.0638 12.6968 13.0327 12.7526 13.0145 12.8132C12.9963 12.8737 12.9913 12.9374 13 13V13.67C13 13.6871 13.0033 13.704 13.0099 13.7198C13.0164 13.7355 13.026 13.7499 13.038 13.7619C13.0501 13.774 13.0644 13.7836 13.0802 13.7901C13.096 13.7966 13.1129 13.8 13.13 13.8H19.84C19.8611 13.8054 19.8834 13.8054 19.9045 13.8C19.9257 13.7946 19.9452 13.7839 19.9611 13.7689C19.9771 13.754 19.989 13.7352 19.9958 13.7144C20.0026 13.6937 20.004 13.6715 20 13.65V13C20.0028 12.8866 19.9617 12.7765 19.8853 12.6927C19.809 12.6088 19.7031 12.5577 19.59 12.55V12.53ZM13.52 14V19.38C13.5303 19.5454 13.6054 19.7 13.7289 19.8105C13.8525 19.9209 14.0145 19.9782 14.18 19.97H18.84C19.0055 19.9782 19.1676 19.9209 19.2911 19.8105C19.4146 19.7 19.4897 19.5454 19.5 19.38V14H13.52ZM15.52 18.67C15.52 18.7522 15.4874 18.8311 15.4292 18.8892C15.3711 18.9473 15.2922 18.98 15.21 18.98H14.83C14.7478 18.98 14.669 18.9473 14.6108 18.8892C14.5527 18.8311 14.52 18.7522 14.52 18.67V15.33C14.52 15.2893 14.528 15.249 14.5436 15.2114C14.5592 15.1738 14.582 15.1396 14.6108 15.1108C14.6396 15.082 14.6738 15.0592 14.7114 15.0436C14.749 15.028 14.7893 15.02 14.83 15.02H15.21C15.2507 15.02 15.291 15.028 15.3287 15.0436C15.3663 15.0592 15.4004 15.082 15.4292 15.1108C15.458 15.1396 15.4808 15.1738 15.4964 15.2114C15.512 15.249 15.52 15.2893 15.52 15.33V18.67ZM17.01 18.67C17.01 18.7522 16.9774 18.8311 16.9192 18.8892C16.8611 18.9473 16.7822 18.98 16.7 18.98H16.32C16.2798 18.98 16.2399 18.9719 16.2029 18.9562C16.1658 18.9405 16.1323 18.9176 16.1043 18.8886C16.0763 18.8597 16.0544 18.8254 16.0399 18.7879C16.0254 18.7503 16.0187 18.7102 16.02 18.67V15.33C16.0187 15.2898 16.0254 15.2497 16.0399 15.2121C16.0544 15.1746 16.0763 15.1403 16.1043 15.1114C16.1323 15.0824 16.1658 15.0595 16.2029 15.0438C16.2399 15.0281 16.2798 15.02 16.32 15.02H16.7C16.7407 15.02 16.781 15.028 16.8187 15.0436C16.8563 15.0592 16.8904 15.082 16.9192 15.1108C16.948 15.1396 16.9708 15.1738 16.9864 15.2114C17.002 15.249 17.01 15.2893 17.01 15.33V18.67ZM18.51 18.67C18.51 18.7107 18.502 18.751 18.4864 18.7886C18.4708 18.8262 18.448 18.8604 18.4192 18.8892C18.3904 18.918 18.3563 18.9408 18.3187 18.9564C18.281 18.972 18.2407 18.98 18.2 18.98H17.82C17.7378 18.98 17.659 18.9473 17.6008 18.8892C17.5427 18.8311 17.51 18.7522 17.51 18.67V15.33C17.51 15.2893 17.518 15.249 17.5336 15.2114C17.5492 15.1738 17.572 15.1396 17.6008 15.1108C17.6296 15.082 17.6638 15.0592 17.7014 15.0436C17.739 15.028 17.7793 15.02 17.82 15.02H18.2C18.2407 15.02 18.281 15.028 18.3187 15.0436C18.3563 15.0592 18.3904 15.082 18.4192 15.1108C18.448 15.1396 18.4708 15.1738 18.4864 15.2114C18.502 15.249 18.51 15.2893 18.51 15.33V18.67Z",chevronDown:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z",chevronUp:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},xe.FILEICONS={docIcon:{extension:".doc",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 9.617188 46.875 C 13.234375 46.875 16.160156 43.929688 16.160156 40.292969 C 16.160156 36.695312 13.234375 33.75 9.617188 33.75 L 7.402344 33.75 C 6.820312 33.75 6.371094 34.199219 6.371094 34.78125 L 6.371094 45.84375 C 6.371094 46.335938 6.714844 46.757812 7.191406 46.855469 L 7.402344 46.875 Z M 9.617188 44.792969 L 8.453125 44.792969 L 8.453125 35.832031 L 9.617188 35.832031 C 12.089844 35.832031 14.078125 37.835938 14.078125 40.292969 C 14.078125 42.789062 12.089844 44.773438 9.617188 44.792969 Z M 24.816406 46.875 C 26.539062 46.875 28.191406 46.085938 29.296875 44.867188 C 30.460938 43.648438 31.191406 41.980469 31.191406 40.125 C 31.191406 38.269531 30.460938 36.617188 29.296875 35.382812 C 28.191406 34.144531 26.539062 33.375 24.816406 33.375 C 23.015625 33.375 21.367188 34.144531 20.222656 35.382812 C 19.058594 36.617188 18.367188 38.269531 18.367188 40.125 C 18.367188 41.980469 19.058594 43.648438 20.222656 44.867188 C 21.367188 46.085938 23.015625 46.875 24.816406 46.875 Z M 24.816406 44.738281 C 23.617188 44.738281 22.566406 44.230469 21.777344 43.386719 C 20.992188 42.582031 20.503906 41.398438 20.503906 40.125 C 20.503906 38.851562 20.992188 37.667969 21.777344 36.84375 C 22.566406 36 23.617188 35.511719 24.816406 35.511719 C 25.941406 35.511719 26.992188 36 27.777344 36.84375 C 28.546875 37.667969 29.054688 38.851562 29.054688 40.125 C 29.054688 41.398438 28.546875 42.582031 27.777344 43.386719 C 26.992188 44.230469 25.941406 44.738281 24.816406 44.738281 Z M 39.996094 46.875 C 41.648438 46.875 43.148438 46.332031 44.328125 45.414062 C 44.777344 45.054688 44.851562 44.382812 44.515625 43.914062 C 44.140625 43.460938 43.445312 43.386719 43.015625 43.707031 C 42.171875 44.382812 41.160156 44.738281 39.996094 44.738281 C 38.703125 44.738281 37.503906 44.210938 36.621094 43.386719 C 35.777344 42.5625 35.253906 41.398438 35.253906 40.125 C 35.253906 38.851562 35.777344 37.726562 36.621094 36.863281 C 37.503906 36.039062 38.703125 35.511719 39.996094 35.511719 C 41.160156 35.511719 42.191406 35.867188 43.015625 36.542969 C 43.445312 36.882812 44.140625 36.804688 44.515625 36.335938 C 44.851562 35.867188 44.777344 35.210938 44.328125 34.835938 C 43.148438 33.917969 41.648438 33.375 39.996094 33.375 C 36.246094 33.394531 33.132812 36.414062 33.117188 40.125 C 33.132812 43.855469 36.246094 46.875 39.996094 46.875 Z M 39.996094 46.875 "/>
      </g>`},gifIcon:{extension:".gif",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 17.394531 46.875 C 18.988281 46.875 20.46875 46.332031 21.648438 45.414062 C 21.835938 45.28125 21.949219 45.132812 22.003906 44.960938 L 22.003906 44.945312 C 22.023438 44.90625 22.023438 44.886719 22.042969 44.851562 C 22.0625 44.738281 22.097656 44.664062 22.097656 44.53125 L 22.097656 40.386719 C 22.097656 39.789062 21.613281 39.335938 21.011719 39.335938 L 17.28125 39.335938 C 16.699219 39.335938 16.210938 39.789062 16.210938 40.386719 C 16.210938 40.96875 16.699219 41.457031 17.28125 41.457031 L 19.960938 41.457031 L 19.960938 44.023438 C 19.210938 44.457031 18.332031 44.738281 17.394531 44.738281 C 16.042969 44.738281 14.863281 44.230469 14.019531 43.367188 C 13.136719 42.523438 12.613281 41.382812 12.613281 40.144531 C 12.613281 38.867188 13.136719 37.726562 14.019531 36.882812 C 14.863281 36.019531 16.042969 35.511719 17.394531 35.511719 C 18.519531 35.511719 19.550781 35.90625 20.355469 36.523438 C 20.824219 36.898438 21.519531 36.804688 21.875 36.355469 C 22.230469 35.886719 22.15625 35.195312 21.667969 34.835938 C 20.503906 33.917969 18.988281 33.375 17.394531 33.375 C 13.585938 33.375 10.472656 36.375 10.472656 40.144531 C 10.472656 43.894531 13.585938 46.875 17.394531 46.875 Z M 26.945312 46.875 C 27.507812 46.875 27.996094 46.425781 27.996094 45.84375 L 27.996094 34.78125 C 27.996094 34.199219 27.507812 33.75 26.945312 33.75 C 26.363281 33.75 25.914062 34.199219 25.914062 34.78125 L 25.914062 45.84375 C 25.914062 46.425781 26.363281 46.875 26.945312 46.875 Z M 33.066406 46.875 C 33.648438 46.875 34.117188 46.40625 34.117188 45.84375 L 34.117188 41.34375 L 38.488281 41.34375 C 39.050781 41.34375 39.519531 40.875 39.519531 40.292969 C 39.519531 39.75 39.050781 39.261719 38.488281 39.261719 L 34.117188 39.261719 L 34.117188 35.832031 L 39.199219 35.832031 C 39.742188 35.832031 40.230469 35.363281 40.230469 34.78125 C 40.230469 34.21875 39.742188 33.75 39.199219 33.75 L 33.066406 33.75 C 32.488281 33.75 32.035156 34.21875 32.035156 34.78125 L 32.035156 45.84375 C 32.035156 46.40625 32.488281 46.875 33.066406 46.875 Z M 33.066406 46.875 "/>
      </g>`},jpegIcon:{extension:".jpeg",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 9 43.75 C 11.140625 43.75 12.890625 42.015625 12.890625 39.875 L 12.890625 33.671875 C 12.890625 33.1875 12.5 32.8125 12.03125 32.8125 C 11.546875 32.8125 11.15625 33.1875 11.15625 33.671875 L 11.15625 39.875 C 11.15625 41.046875 10.1875 42.015625 9 42.015625 C 8.046875 42.015625 7.234375 41.390625 6.953125 40.53125 C 6.8125 40.078125 6.328125 39.828125 5.859375 39.984375 C 5.421875 40.109375 5.15625 40.59375 5.3125 41.0625 C 5.8125 42.625 7.28125 43.75 9 43.75 Z M 15.640625 43.75 C 16.125 43.75 16.515625 43.359375 16.515625 42.890625 L 16.515625 39.5 L 18.4375 39.5 C 20.296875 39.5 21.796875 38 21.796875 36.171875 C 21.796875 34.3125 20.296875 32.8125 18.4375 32.8125 L 15.640625 32.8125 C 15.171875 32.8125 14.78125 33.1875 14.78125 33.671875 L 14.78125 42.890625 C 14.78125 43.359375 15.171875 43.75 15.640625 43.75 Z M 18.4375 37.765625 L 16.515625 37.765625 L 16.515625 34.546875 L 18.4375 34.546875 C 19.34375 34.546875 20.046875 35.265625 20.0625 36.171875 C 20.046875 37.046875 19.34375 37.765625 18.4375 37.765625 Z M 29.234375 43.75 C 29.6875 43.75 30.09375 43.359375 30.09375 42.890625 C 30.09375 42.40625 29.6875 42.015625 29.234375 42.015625 L 25 42.015625 L 25 39.140625 L 28.640625 39.140625 C 29.109375 39.140625 29.5 38.75 29.5 38.265625 C 29.5 37.8125 29.109375 37.40625 28.640625 37.40625 L 25 37.40625 L 25 34.546875 L 29.234375 34.546875 C 29.6875 34.546875 30.09375 34.15625 30.09375 33.671875 C 30.09375 33.1875 29.6875 32.8125 29.234375 32.8125 L 24.125 32.8125 C 23.640625 32.8125 23.265625 33.1875 23.265625 33.671875 L 23.265625 42.890625 C 23.265625 43.359375 23.640625 43.75 24.125 43.75 C 24.125 43.75 24.140625 43.734375 24.140625 43.734375 C 24.140625 43.734375 24.140625 43.75 24.171875 43.75 Z M 37.1875 43.75 C 38.515625 43.75 39.75 43.296875 40.734375 42.53125 C 40.890625 42.421875 40.984375 42.296875 41.03125 42.15625 L 41.03125 42.140625 C 41.046875 42.109375 41.046875 42.09375 41.0625 42.0625 C 41.078125 41.96875 41.109375 41.90625 41.109375 41.796875 L 41.109375 38.34375 C 41.109375 37.914062 40.8125 37.578125 40.410156 37.492188 L 40.203125 37.46875 L 37.09375 37.46875 C 36.609375 37.46875 36.203125 37.84375 36.203125 38.34375 C 36.203125 38.828125 36.609375 39.234375 37.09375 39.234375 L 39.328125 39.234375 L 39.328125 41.375 C 38.703125 41.734375 37.96875 41.96875 37.1875 41.96875 C 36.0625 41.96875 35.078125 41.546875 34.375 40.828125 C 33.640625 40.125 33.203125 39.171875 33.203125 38.140625 C 33.203125 37.078125 33.640625 36.125 34.375 35.421875 C 35.078125 34.703125 36.0625 34.28125 37.1875 34.28125 C 38.125 34.28125 38.984375 34.609375 39.65625 35.125 C 40.046875 35.4375 40.625 35.359375 40.921875 34.984375 C 41.21875 34.59375 41.15625 34.015625 40.75 33.71875 C 39.78125 32.953125 38.515625 32.5 37.1875 32.5 C 34.015625 32.5 31.421875 35 31.421875 38.140625 C 31.421875 41.265625 34.015625 43.75 37.1875 43.75 Z M 37.1875 43.75 "/>
      </g>`},logIcon:{extension:".log",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 13.542969 46.875 C 14.085938 46.875 14.574219 46.40625 14.574219 45.84375 C 14.574219 45.261719 14.085938 44.792969 13.542969 44.792969 L 8.460938 44.792969 L 8.460938 34.78125 C 8.460938 34.21875 7.992188 33.75 7.410156 33.75 C 6.828125 33.75 6.378906 34.21875 6.378906 34.78125 L 6.378906 45.84375 C 6.378906 46.40625 6.828125 46.875 7.410156 46.875 Z M 21.742188 46.875 C 23.46875 46.875 25.117188 46.085938 26.222656 44.867188 C 27.386719 43.648438 28.117188 41.980469 28.117188 40.125 C 28.117188 38.269531 27.386719 36.617188 26.222656 35.382812 C 25.117188 34.144531 23.46875 33.375 21.742188 33.375 C 19.941406 33.375 18.292969 34.144531 17.148438 35.382812 C 15.984375 36.617188 15.292969 38.269531 15.292969 40.125 C 15.292969 41.980469 15.984375 43.648438 17.148438 44.867188 C 18.292969 46.085938 19.941406 46.875 21.742188 46.875 Z M 21.742188 44.738281 C 20.542969 44.738281 19.492188 44.230469 18.703125 43.386719 C 17.917969 42.582031 17.429688 41.398438 17.429688 40.125 C 17.429688 38.851562 17.917969 37.667969 18.703125 36.84375 C 19.492188 36 20.542969 35.511719 21.742188 35.511719 C 22.867188 35.511719 23.917969 36 24.703125 36.84375 C 25.472656 37.667969 25.980469 38.851562 25.980469 40.125 C 25.980469 41.398438 25.472656 42.582031 24.703125 43.386719 C 23.917969 44.230469 22.867188 44.738281 21.742188 44.738281 Z M 37.300781 46.875 C 38.894531 46.875 40.375 46.332031 41.558594 45.414062 C 41.746094 45.28125 41.855469 45.132812 41.914062 44.960938 L 41.914062 44.945312 L 41.949219 44.851562 C 41.96875 44.738281 42.007812 44.664062 42.007812 44.53125 L 42.007812 40.386719 C 42.007812 39.789062 41.519531 39.335938 40.917969 39.335938 L 37.1875 39.335938 C 36.605469 39.335938 36.121094 39.789062 36.121094 40.386719 C 36.121094 40.96875 36.605469 41.457031 37.1875 41.457031 L 39.871094 41.457031 L 39.871094 44.023438 C 39.121094 44.457031 38.238281 44.738281 37.300781 44.738281 C 35.949219 44.738281 34.769531 44.230469 33.925781 43.367188 C 33.042969 42.523438 32.519531 41.382812 32.519531 40.144531 C 32.519531 38.867188 33.042969 37.726562 33.925781 36.882812 C 34.769531 36.019531 35.949219 35.511719 37.300781 35.511719 C 38.425781 35.511719 39.457031 35.90625 40.261719 36.523438 C 40.730469 36.898438 41.425781 36.804688 41.78125 36.355469 C 42.136719 35.886719 42.0625 35.195312 41.574219 34.835938 C 40.414062 33.917969 38.894531 33.375 37.300781 33.375 C 33.496094 33.375 30.382812 36.375 30.382812 40.144531 C 30.382812 43.894531 33.496094 46.875 37.300781 46.875 Z M 37.300781 46.875 "/>
      </g>`},movIcon:{extension:".mov",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 15.472656 46.875 C 16.035156 46.875 16.523438 46.40625 16.523438 45.84375 L 16.523438 34.78125 C 16.523438 34.289062 16.152344 33.882812 15.679688 33.777344 L 15.472656 33.75 L 15.453125 33.75 C 15.117188 33.75 14.816406 33.898438 14.609375 34.179688 L 10.878906 39.355469 L 7.148438 34.179688 C 6.960938 33.898438 6.625 33.75 6.324219 33.75 L 6.265625 33.75 C 5.703125 33.75 5.234375 34.21875 5.234375 34.78125 L 5.234375 45.84375 C 5.234375 46.40625 5.703125 46.875 6.265625 46.875 C 6.847656 46.875 7.316406 46.40625 7.316406 45.84375 L 7.316406 37.949219 L 10 41.699219 C 10.203125 41.980469 10.523438 42.132812 10.859375 42.132812 L 10.898438 42.132812 C 11.234375 42.132812 11.535156 41.980469 11.742188 41.699219 L 14.441406 37.949219 L 14.441406 45.84375 C 14.441406 46.40625 14.890625 46.875 15.472656 46.875 Z M 25.460938 46.875 C 27.1875 46.875 28.835938 46.085938 29.941406 44.867188 C 31.105469 43.648438 31.835938 41.980469 31.835938 40.125 C 31.835938 38.269531 31.105469 36.617188 29.941406 35.382812 C 28.835938 34.144531 27.1875 33.375 25.460938 33.375 C 23.660156 33.375 22.011719 34.144531 20.867188 35.382812 C 19.703125 36.617188 19.011719 38.269531 19.011719 40.125 C 19.011719 41.980469 19.703125 43.648438 20.867188 44.867188 C 22.011719 46.085938 23.660156 46.875 25.460938 46.875 Z M 25.460938 44.738281 C 24.261719 44.738281 23.210938 44.230469 22.421875 43.386719 C 21.636719 42.582031 21.148438 41.398438 21.148438 40.125 C 21.148438 38.851562 21.636719 37.667969 22.421875 36.84375 C 23.210938 36 24.261719 35.511719 25.460938 35.511719 C 26.585938 35.511719 27.636719 36 28.421875 36.84375 C 29.191406 37.667969 29.699219 38.851562 29.699219 40.125 C 29.699219 41.398438 29.191406 42.582031 28.421875 43.386719 C 27.636719 44.230469 26.585938 44.738281 25.460938 44.738281 Z M 38.683594 46.855469 L 38.71875 46.855469 C 38.777344 46.835938 38.8125 46.820312 38.871094 46.820312 C 38.886719 46.800781 38.886719 46.800781 38.90625 46.800781 C 38.964844 46.78125 39.019531 46.726562 39.058594 46.707031 L 39.09375 46.6875 L 39.207031 46.59375 C 39.226562 46.574219 39.226562 46.574219 39.246094 46.539062 L 39.339844 46.425781 C 39.355469 46.425781 39.355469 46.425781 39.355469 46.40625 C 39.394531 46.367188 39.414062 46.292969 39.433594 46.257812 L 44.0625 35.304688 C 44.269531 34.800781 44.027344 34.179688 43.5 33.976562 C 42.996094 33.75 42.375 33.992188 42.152344 34.519531 L 38.496094 43.199219 L 34.839844 34.519531 C 34.613281 33.992188 34.011719 33.75 33.507812 33.976562 C 32.964844 34.179688 32.71875 34.800781 32.945312 35.304688 L 37.539062 46.257812 C 37.574219 46.292969 37.613281 46.367188 37.632812 46.40625 C 37.632812 46.425781 37.652344 46.425781 37.652344 46.425781 C 37.667969 46.460938 37.707031 46.5 37.746094 46.539062 C 37.746094 46.574219 37.761719 46.574219 37.761719 46.59375 C 37.820312 46.632812 37.855469 46.648438 37.894531 46.6875 L 37.914062 46.6875 C 37.96875 46.726562 38.042969 46.78125 38.082031 46.800781 L 38.101562 46.800781 C 38.101562 46.800781 38.121094 46.800781 38.121094 46.820312 C 38.15625 46.820312 38.230469 46.835938 38.269531 46.855469 L 38.308594 46.855469 L 38.402344 46.871094 L 38.496094 46.875 C 38.550781 46.875 38.605469 46.875 38.683594 46.855469 Z M 38.683594 46.855469 "/>
      </g>`},ogvIcon:{extension:".ogv",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 11.511719 46.875 C 13.238281 46.875 14.886719 46.085938 15.996094 44.867188 C 17.15625 43.648438 17.886719 41.980469 17.886719 40.125 C 17.886719 38.269531 17.15625 36.617188 15.996094 35.382812 C 14.886719 34.144531 13.238281 33.375 11.511719 33.375 C 9.714844 33.375 8.0625 34.144531 6.917969 35.382812 C 5.757812 36.617188 5.0625 38.269531 5.0625 40.125 C 5.0625 41.980469 5.757812 43.648438 6.917969 44.867188 C 8.0625 46.085938 9.714844 46.875 11.511719 46.875 Z M 11.511719 44.738281 C 10.3125 44.738281 9.261719 44.230469 8.476562 43.386719 C 7.6875 42.582031 7.199219 41.398438 7.199219 40.125 C 7.199219 38.851562 7.6875 37.667969 8.476562 36.84375 C 9.261719 36 10.3125 35.511719 11.511719 35.511719 C 12.636719 35.511719 13.6875 36 14.476562 36.84375 C 15.246094 37.667969 15.75 38.851562 15.75 40.125 C 15.75 41.398438 15.246094 42.582031 14.476562 43.386719 C 13.6875 44.230469 12.636719 44.738281 11.511719 44.738281 Z M 27.25 46.875 C 28.84375 46.875 30.324219 46.332031 31.507812 45.414062 C 31.695312 45.28125 31.804688 45.132812 31.863281 44.960938 L 31.863281 44.945312 C 31.882812 44.90625 31.882812 44.886719 31.898438 44.851562 C 31.917969 44.738281 31.957031 44.664062 31.957031 44.53125 L 31.957031 40.386719 C 31.957031 39.789062 31.46875 39.335938 30.867188 39.335938 L 27.136719 39.335938 C 26.554688 39.335938 26.070312 39.789062 26.070312 40.386719 C 26.070312 40.96875 26.554688 41.457031 27.136719 41.457031 L 29.820312 41.457031 L 29.820312 44.023438 C 29.070312 44.457031 28.1875 44.738281 27.25 44.738281 C 25.898438 44.738281 24.71875 44.230469 23.875 43.367188 C 22.992188 42.523438 22.46875 41.382812 22.46875 40.144531 C 22.46875 38.867188 22.992188 37.726562 23.875 36.882812 C 24.71875 36.019531 25.898438 35.511719 27.25 35.511719 C 28.375 35.511719 29.40625 35.90625 30.210938 36.523438 C 30.679688 36.898438 31.375 36.804688 31.730469 36.355469 C 32.085938 35.886719 32.011719 35.195312 31.523438 34.835938 C 30.363281 33.917969 28.84375 33.375 27.25 33.375 C 23.445312 33.375 20.332031 36.375 20.332031 40.144531 C 20.332031 43.894531 23.445312 46.875 27.25 46.875 Z M 40.191406 46.855469 L 40.230469 46.855469 C 40.285156 46.835938 40.324219 46.820312 40.378906 46.820312 C 40.398438 46.800781 40.398438 46.800781 40.417969 46.800781 C 40.472656 46.78125 40.53125 46.726562 40.566406 46.707031 C 40.605469 46.6875 40.605469 46.6875 40.605469 46.6875 L 40.71875 46.59375 C 40.738281 46.574219 40.738281 46.574219 40.753906 46.539062 L 40.847656 46.425781 C 40.867188 46.425781 40.867188 46.425781 40.867188 46.40625 C 40.90625 46.367188 40.925781 46.292969 40.941406 46.257812 L 45.574219 35.304688 C 45.78125 34.800781 45.535156 34.179688 45.011719 33.976562 C 44.503906 33.75 43.886719 33.992188 43.660156 34.519531 L 40.003906 43.199219 L 36.347656 34.519531 C 36.125 33.992188 35.523438 33.75 35.019531 33.976562 C 34.472656 34.179688 34.230469 34.800781 34.457031 35.304688 L 39.050781 46.257812 C 39.085938 46.292969 39.125 46.367188 39.144531 46.40625 C 39.144531 46.425781 39.160156 46.425781 39.160156 46.425781 C 39.179688 46.460938 39.21875 46.5 39.253906 46.539062 C 39.253906 46.574219 39.273438 46.574219 39.273438 46.59375 C 39.332031 46.632812 39.367188 46.648438 39.40625 46.6875 L 39.425781 46.6875 C 39.480469 46.726562 39.554688 46.78125 39.59375 46.800781 L 39.613281 46.800781 C 39.613281 46.800781 39.628906 46.800781 39.628906 46.820312 C 39.667969 46.820312 39.742188 46.835938 39.78125 46.855469 L 39.816406 46.855469 L 39.910156 46.871094 L 40.003906 46.875 C 40.0625 46.875 40.117188 46.875 40.191406 46.855469 Z M 40.191406 46.855469 "/>
      </g>`},pngIcon:{extension:".png",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.523438 46.875 C 8.105469 46.875 8.574219 46.40625 8.574219 45.84375 L 8.574219 41.773438 L 10.878906 41.773438 C 13.109375 41.773438 14.910156 39.976562 14.910156 37.78125 C 14.910156 35.550781 13.109375 33.75 10.878906 33.75 L 7.523438 33.75 C 6.960938 33.75 6.492188 34.199219 6.492188 34.78125 L 6.492188 45.84375 C 6.492188 46.40625 6.960938 46.875 7.523438 46.875 Z M 10.878906 39.695312 L 8.574219 39.695312 L 8.574219 35.832031 L 10.878906 35.832031 C 11.964844 35.832031 12.808594 36.695312 12.828125 37.78125 C 12.808594 38.832031 11.964844 39.695312 10.878906 39.695312 Z M 26.75 46.875 C 27.3125 46.875 27.78125 46.40625 27.78125 45.84375 L 27.78125 34.949219 C 27.78125 34.40625 27.3125 33.9375 26.75 33.9375 C 26.1875 33.9375 25.738281 34.40625 25.738281 34.949219 L 25.738281 42.675781 L 19.679688 34.292969 C 19.363281 33.84375 18.722656 33.75 18.253906 34.070312 C 17.972656 34.273438 17.824219 34.613281 17.84375 34.929688 L 17.84375 45.84375 C 17.84375 46.40625 18.292969 46.875 18.875 46.875 C 19.417969 46.875 19.886719 46.40625 19.886719 45.84375 L 19.886719 38.0625 L 25.886719 46.386719 C 25.90625 46.425781 25.941406 46.460938 25.980469 46.5 C 26.167969 46.726562 26.449219 46.875 26.75 46.875 Z M 38.082031 46.875 C 39.675781 46.875 41.15625 46.332031 42.339844 45.414062 C 42.527344 45.28125 42.636719 45.132812 42.695312 44.960938 L 42.695312 44.945312 C 42.714844 44.90625 42.714844 44.886719 42.730469 44.851562 C 42.75 44.738281 42.789062 44.664062 42.789062 44.53125 L 42.789062 40.386719 C 42.789062 39.789062 42.300781 39.335938 41.699219 39.335938 L 37.96875 39.335938 C 37.386719 39.335938 36.902344 39.789062 36.902344 40.386719 C 36.902344 40.96875 37.386719 41.457031 37.96875 41.457031 L 40.652344 41.457031 L 40.652344 44.023438 C 39.902344 44.457031 39.019531 44.738281 38.082031 44.738281 C 36.730469 44.738281 35.550781 44.230469 34.707031 43.367188 C 33.824219 42.523438 33.300781 41.382812 33.300781 40.144531 C 33.300781 38.867188 33.824219 37.726562 34.707031 36.882812 C 35.550781 36.019531 36.730469 35.511719 38.082031 35.511719 C 39.207031 35.511719 40.238281 35.90625 41.042969 36.523438 C 41.511719 36.898438 42.207031 36.804688 42.5625 36.355469 C 42.917969 35.886719 42.84375 35.195312 42.355469 34.835938 C 41.195312 33.917969 39.675781 33.375 38.082031 33.375 C 34.277344 33.375 31.164062 36.375 31.164062 40.144531 C 31.164062 43.894531 34.277344 46.875 38.082031 46.875 Z M 38.082031 46.875 "/>
      </g>`},txtIcon:{extension:".txt",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 12.847656 46.875 C 13.429688 46.875 13.878906 46.425781 13.878906 45.84375 L 13.878906 35.832031 L 16.859375 35.832031 C 17.421875 35.832031 17.890625 35.34375 17.890625 34.78125 C 17.890625 34.199219 17.421875 33.75 16.859375 33.75 L 8.855469 33.75 C 8.273438 33.75 7.824219 34.199219 7.824219 34.78125 C 7.824219 35.34375 8.273438 35.832031 8.855469 35.832031 L 11.816406 35.832031 L 11.816406 45.84375 C 11.816406 46.425781 12.285156 46.875 12.847656 46.875 Z M 29.019531 46.875 C 29.222656 46.875 29.429688 46.800781 29.617188 46.667969 C 30.085938 46.351562 30.160156 45.695312 29.84375 45.242188 L 26.28125 40.367188 L 29.84375 35.53125 C 30.160156 35.0625 30.085938 34.425781 29.617188 34.105469 C 29.148438 33.75 28.53125 33.84375 28.175781 34.332031 L 25.023438 38.644531 L 21.855469 34.332031 C 21.535156 33.84375 20.878906 33.75 20.429688 34.105469 C 19.960938 34.425781 19.867188 35.0625 20.1875 35.53125 L 23.75 40.367188 L 20.1875 45.242188 C 19.867188 45.695312 19.960938 46.351562 20.429688 46.667969 C 20.597656 46.800781 20.804688 46.875 21.03125 46.875 C 21.347656 46.875 21.648438 46.707031 21.855469 46.445312 L 25.023438 42.113281 L 28.175781 46.445312 C 28.378906 46.707031 28.679688 46.875 29.019531 46.875 Z M 37.464844 46.875 C 38.042969 46.875 38.496094 46.425781 38.496094 45.84375 L 38.496094 35.832031 L 41.476562 35.832031 C 42.039062 35.832031 42.507812 35.34375 42.507812 34.78125 C 42.507812 34.199219 42.039062 33.75 41.476562 33.75 L 33.46875 33.75 C 32.886719 33.75 32.4375 34.199219 32.4375 34.78125 C 32.4375 35.34375 32.886719 35.832031 33.46875 35.832031 L 36.433594 35.832031 L 36.433594 45.84375 C 36.433594 46.425781 36.902344 46.875 37.464844 46.875 Z M 37.464844 46.875 "/>
      </g>`},webmIcon:{extension:".webm",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.195312 43.734375 L 7.242188 43.734375 C 7.273438 43.71875 7.304688 43.703125 7.367188 43.703125 C 7.367188 43.6875 7.382812 43.6875 7.382812 43.6875 L 7.398438 43.6875 C 7.429688 43.671875 7.476562 43.625 7.523438 43.59375 L 7.554688 43.59375 C 7.585938 43.5625 7.617188 43.53125 7.648438 43.515625 C 7.648438 43.5 7.664062 43.5 7.664062 43.46875 L 7.757812 43.375 C 7.757812 43.375 7.757812 43.359375 7.773438 43.359375 C 7.789062 43.328125 7.820312 43.265625 7.835938 43.21875 L 9.882812 38.375 L 11.929688 43.21875 C 11.945312 43.265625 11.960938 43.328125 11.992188 43.359375 C 11.992188 43.359375 11.992188 43.375 12.023438 43.375 L 12.085938 43.46875 C 12.101562 43.5 12.101562 43.5 12.117188 43.515625 C 12.148438 43.53125 12.179688 43.5625 12.226562 43.59375 L 12.242188 43.59375 C 12.273438 43.625 12.320312 43.671875 12.382812 43.6875 C 12.398438 43.6875 12.398438 43.6875 12.414062 43.703125 C 12.445312 43.703125 12.476562 43.71875 12.523438 43.734375 L 12.570312 43.734375 L 12.640625 43.746094 L 12.710938 43.75 C 12.773438 43.75 12.820312 43.75 12.867188 43.734375 L 12.898438 43.734375 C 12.945312 43.71875 12.992188 43.703125 13.023438 43.703125 C 13.023438 43.6875 13.039062 43.6875 13.039062 43.6875 L 13.054688 43.6875 C 13.117188 43.671875 13.148438 43.625 13.195312 43.59375 L 13.210938 43.59375 C 13.242188 43.5625 13.289062 43.53125 13.320312 43.515625 C 13.320312 43.5 13.335938 43.5 13.335938 43.46875 C 13.367188 43.4375 13.398438 43.40625 13.414062 43.375 C 13.414062 43.375 13.429688 43.359375 13.429688 43.359375 C 13.460938 43.328125 13.492188 43.265625 13.507812 43.21875 L 17.335938 34.109375 C 17.523438 33.6875 17.320312 33.171875 16.898438 33 C 16.445312 32.8125 15.945312 33.015625 15.757812 33.453125 L 12.710938 40.6875 L 10.695312 35.890625 C 10.539062 35.546875 10.210938 35.359375 9.882812 35.359375 C 9.539062 35.359375 9.210938 35.546875 9.070312 35.890625 L 7.054688 40.6875 L 3.992188 33.453125 C 3.820312 33.015625 3.304688 32.8125 2.882812 33 C 2.429688 33.171875 2.242188 33.6875 2.414062 34.109375 L 6.257812 43.21875 C 6.289062 43.265625 6.304688 43.328125 6.335938 43.359375 L 6.335938 43.375 C 6.367188 43.40625 6.382812 43.4375 6.414062 43.46875 C 6.429688 43.5 6.429688 43.5 6.445312 43.515625 C 6.492188 43.53125 6.507812 43.5625 6.554688 43.59375 L 6.570312 43.59375 C 6.601562 43.625 6.664062 43.671875 6.710938 43.6875 C 6.726562 43.6875 6.726562 43.6875 6.742188 43.703125 C 6.773438 43.703125 6.804688 43.71875 6.851562 43.734375 L 6.898438 43.734375 L 6.976562 43.746094 L 7.054688 43.75 C 7.101562 43.75 7.148438 43.75 7.195312 43.734375 Z M 25.179688 43.75 C 25.632812 43.75 26.039062 43.359375 26.039062 42.890625 C 26.039062 42.40625 25.632812 42.015625 25.179688 42.015625 L 20.945312 42.015625 L 20.945312 39.140625 L 24.585938 39.140625 C 25.054688 39.140625 25.445312 38.75 25.445312 38.265625 C 25.445312 37.8125 25.054688 37.40625 24.585938 37.40625 L 20.945312 37.40625 L 20.945312 34.546875 L 25.179688 34.546875 C 25.632812 34.546875 26.039062 34.15625 26.039062 33.671875 C 26.039062 33.1875 25.632812 32.8125 25.179688 32.8125 L 20.070312 32.8125 C 19.585938 32.8125 19.210938 33.1875 19.210938 33.671875 L 19.210938 42.890625 C 19.210938 43.359375 19.585938 43.75 20.070312 43.75 C 20.070312 43.75 20.085938 43.734375 20.085938 43.734375 C 20.085938 43.734375 20.085938 43.75 20.117188 43.75 Z M 31.539062 43.75 C 33.382812 43.75 34.882812 42.25 34.882812 40.390625 C 34.882812 39.203125 34.242188 38.15625 33.304688 37.5625 C 33.679688 37.0625 33.898438 36.453125 33.898438 35.78125 C 33.898438 34.140625 32.570312 32.8125 30.929688 32.8125 L 28.710938 32.8125 C 28.242188 32.8125 27.851562 33.1875 27.851562 33.671875 L 27.851562 42.890625 C 27.851562 43.359375 28.242188 43.75 28.710938 43.75 L 28.757812 43.734375 C 28.757812 43.734375 28.757812 43.75 28.773438 43.75 Z M 30.929688 37.046875 L 29.585938 37.046875 L 29.585938 34.546875 L 30.929688 34.546875 C 31.617188 34.546875 32.164062 35.09375 32.164062 35.78125 C 32.164062 36.46875 31.617188 37.046875 30.929688 37.046875 Z M 31.539062 42.015625 L 29.585938 42.015625 L 29.585938 38.78125 L 31.539062 38.78125 C 32.429688 38.796875 33.148438 39.5 33.148438 40.390625 C 33.148438 41.296875 32.429688 42 31.539062 42.015625 Z M 45.664062 43.75 C 46.132812 43.75 46.539062 43.359375 46.539062 42.890625 L 46.539062 33.671875 C 46.539062 33.269531 46.242188 32.9375 45.859375 32.839844 L 45.664062 32.8125 L 45.648438 32.8125 C 45.367188 32.8125 45.117188 32.9375 44.945312 33.171875 L 41.835938 37.484375 L 38.726562 33.171875 C 38.570312 32.9375 38.289062 32.8125 38.039062 32.8125 L 37.992188 32.8125 C 37.523438 32.8125 37.132812 33.203125 37.132812 33.671875 L 37.132812 42.890625 C 37.132812 43.359375 37.523438 43.75 37.992188 43.75 C 38.476562 43.75 38.867188 43.359375 38.867188 42.890625 L 38.867188 36.3125 L 41.101562 39.4375 C 41.273438 39.671875 41.539062 39.796875 41.820312 39.796875 L 41.851562 39.796875 C 42.132812 39.796875 42.382812 39.671875 42.554688 39.4375 L 44.804688 36.3125 L 44.804688 42.890625 C 44.804688 43.359375 45.179688 43.75 45.664062 43.75 Z M 45.664062 43.75 "/>
      </g>`},webpIcon:{extension:".webp",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 9.234375 43.734375 L 9.28125 43.734375 C 9.3125 43.71875 9.34375 43.703125 9.40625 43.703125 L 9.414062 43.6875 C 9.421875 43.6875 9.421875 43.6875 9.4375 43.6875 C 9.46875 43.671875 9.515625 43.625 9.5625 43.59375 L 9.59375 43.59375 C 9.625 43.5625 9.65625 43.53125 9.6875 43.515625 C 9.6875 43.5 9.703125 43.5 9.703125 43.46875 L 9.796875 43.375 C 9.796875 43.375 9.796875 43.359375 9.8125 43.359375 C 9.828125 43.328125 9.859375 43.265625 9.875 43.21875 L 11.921875 38.375 L 13.96875 43.21875 C 13.984375 43.265625 14 43.328125 14.03125 43.359375 C 14.03125 43.359375 14.03125 43.375 14.0625 43.375 L 14.125 43.46875 C 14.140625 43.5 14.140625 43.5 14.15625 43.515625 L 14.203125 43.546875 L 14.265625 43.59375 C 14.265625 43.59375 14.265625 43.59375 14.28125 43.59375 C 14.3125 43.625 14.359375 43.671875 14.421875 43.6875 C 14.4375 43.6875 14.4375 43.6875 14.453125 43.703125 C 14.484375 43.703125 14.515625 43.71875 14.5625 43.734375 L 14.609375 43.734375 L 14.679688 43.746094 L 14.75 43.75 C 14.8125 43.75 14.859375 43.75 14.90625 43.734375 L 14.9375 43.734375 C 14.984375 43.71875 15.03125 43.703125 15.0625 43.703125 C 15.0625 43.6875 15.078125 43.6875 15.078125 43.6875 L 15.09375 43.6875 C 15.15625 43.671875 15.1875 43.625 15.234375 43.59375 L 15.25 43.59375 C 15.28125 43.5625 15.328125 43.53125 15.359375 43.515625 C 15.359375 43.5 15.375 43.5 15.375 43.46875 C 15.40625 43.4375 15.4375 43.40625 15.453125 43.375 L 15.46875 43.359375 C 15.5 43.328125 15.53125 43.265625 15.546875 43.21875 L 19.375 34.109375 C 19.5625 33.6875 19.359375 33.171875 18.9375 33 C 18.484375 32.8125 17.984375 33.015625 17.796875 33.453125 L 14.75 40.6875 L 12.734375 35.890625 C 12.578125 35.546875 12.25 35.359375 11.921875 35.359375 C 11.578125 35.359375 11.25 35.546875 11.109375 35.890625 L 9.09375 40.6875 L 6.03125 33.453125 C 5.859375 33.015625 5.34375 32.8125 4.921875 33 C 4.46875 33.171875 4.28125 33.6875 4.453125 34.109375 L 8.296875 43.21875 C 8.328125 43.265625 8.34375 43.328125 8.375 43.359375 L 8.375 43.375 C 8.40625 43.40625 8.421875 43.4375 8.453125 43.46875 C 8.46875 43.5 8.46875 43.5 8.484375 43.515625 L 8.539062 43.546875 L 8.59375 43.59375 C 8.59375 43.59375 8.59375 43.59375 8.609375 43.59375 C 8.640625 43.625 8.703125 43.671875 8.75 43.6875 C 8.765625 43.6875 8.765625 43.6875 8.78125 43.703125 C 8.8125 43.703125 8.84375 43.71875 8.890625 43.734375 L 8.9375 43.734375 L 9.015625 43.746094 L 9.09375 43.75 C 9.140625 43.75 9.1875 43.75 9.234375 43.734375 Z M 27.21875 43.75 C 27.671875 43.75 28.078125 43.359375 28.078125 42.890625 C 28.078125 42.40625 27.671875 42.015625 27.21875 42.015625 L 22.984375 42.015625 L 22.984375 39.140625 L 26.625 39.140625 C 27.09375 39.140625 27.484375 38.75 27.484375 38.265625 C 27.484375 37.8125 27.09375 37.40625 26.625 37.40625 L 22.984375 37.40625 L 22.984375 34.546875 L 27.21875 34.546875 C 27.671875 34.546875 28.078125 34.15625 28.078125 33.671875 C 28.078125 33.1875 27.671875 32.8125 27.21875 32.8125 L 22.109375 32.8125 C 21.625 32.8125 21.25 33.1875 21.25 33.671875 L 21.25 42.890625 C 21.25 43.359375 21.625 43.75 22.109375 43.75 L 22.125 43.734375 C 22.125 43.734375 22.125 43.75 22.15625 43.75 Z M 33.578125 43.75 C 35.421875 43.75 36.921875 42.25 36.921875 40.390625 C 36.921875 39.203125 36.28125 38.15625 35.34375 37.5625 C 35.71875 37.0625 35.9375 36.453125 35.9375 35.78125 C 35.9375 34.140625 34.609375 32.8125 32.96875 32.8125 L 30.75 32.8125 C 30.28125 32.8125 29.890625 33.1875 29.890625 33.671875 L 29.890625 42.890625 C 29.890625 43.359375 30.28125 43.75 30.75 43.75 C 30.765625 43.75 30.765625 43.734375 30.796875 43.734375 C 30.796875 43.734375 30.796875 43.75 30.8125 43.75 Z M 32.96875 37.046875 L 31.625 37.046875 L 31.625 34.546875 L 32.96875 34.546875 C 33.65625 34.546875 34.203125 35.09375 34.203125 35.78125 C 34.203125 36.46875 33.65625 37.046875 32.96875 37.046875 Z M 33.578125 42.015625 L 31.625 42.015625 L 31.625 38.78125 L 33.578125 38.78125 C 34.46875 38.796875 35.1875 39.5 35.1875 40.390625 C 35.1875 41.296875 34.46875 42 33.578125 42.015625 Z M 40.03125 43.75 C 40.515625 43.75 40.90625 43.359375 40.90625 42.890625 L 40.90625 39.5 L 42.828125 39.5 C 44.6875 39.5 46.1875 38 46.1875 36.171875 C 46.1875 34.3125 44.6875 32.8125 42.828125 32.8125 L 40.03125 32.8125 C 39.5625 32.8125 39.171875 33.1875 39.171875 33.671875 L 39.171875 42.890625 C 39.171875 43.359375 39.5625 43.75 40.03125 43.75 Z M 42.828125 37.765625 L 40.90625 37.765625 L 40.90625 34.546875 L 42.828125 34.546875 C 43.734375 34.546875 44.4375 35.265625 44.453125 36.171875 C 44.4375 37.046875 43.734375 37.765625 42.828125 37.765625 Z M 42.828125 37.765625 "/>
      </g>`},wmvIcon:{extension:".wmv",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 8.484375 43.734375 L 8.53125 43.734375 C 8.5625 43.71875 8.59375 43.703125 8.65625 43.703125 L 8.664062 43.6875 C 8.671875 43.6875 8.671875 43.6875 8.6875 43.6875 C 8.71875 43.671875 8.765625 43.625 8.8125 43.59375 L 8.84375 43.59375 C 8.875 43.5625 8.90625 43.53125 8.9375 43.515625 C 8.9375 43.5 8.953125 43.5 8.953125 43.46875 L 9.046875 43.375 C 9.046875 43.375 9.046875 43.359375 9.0625 43.359375 C 9.078125 43.328125 9.109375 43.265625 9.125 43.21875 L 11.171875 38.375 L 13.21875 43.21875 C 13.234375 43.265625 13.25 43.328125 13.28125 43.359375 C 13.28125 43.359375 13.28125 43.375 13.3125 43.375 L 13.375 43.46875 C 13.390625 43.5 13.390625 43.5 13.40625 43.515625 L 13.453125 43.546875 L 13.515625 43.59375 C 13.515625 43.59375 13.515625 43.59375 13.53125 43.59375 C 13.5625 43.625 13.609375 43.671875 13.671875 43.6875 C 13.6875 43.6875 13.6875 43.6875 13.703125 43.703125 C 13.734375 43.703125 13.765625 43.71875 13.8125 43.734375 L 13.859375 43.734375 L 13.929688 43.746094 L 14 43.75 C 14.0625 43.75 14.109375 43.75 14.15625 43.734375 L 14.1875 43.734375 C 14.234375 43.71875 14.28125 43.703125 14.3125 43.703125 C 14.3125 43.6875 14.328125 43.6875 14.328125 43.6875 L 14.34375 43.6875 C 14.40625 43.671875 14.4375 43.625 14.484375 43.59375 L 14.5 43.59375 C 14.53125 43.5625 14.578125 43.53125 14.609375 43.515625 C 14.609375 43.5 14.625 43.5 14.625 43.46875 C 14.65625 43.4375 14.6875 43.40625 14.703125 43.375 L 14.71875 43.359375 C 14.75 43.328125 14.78125 43.265625 14.796875 43.21875 L 18.625 34.109375 C 18.8125 33.6875 18.609375 33.171875 18.1875 33 C 17.734375 32.8125 17.234375 33.015625 17.046875 33.453125 L 14 40.6875 L 11.984375 35.890625 C 11.828125 35.546875 11.5 35.359375 11.171875 35.359375 C 10.828125 35.359375 10.5 35.546875 10.359375 35.890625 L 8.34375 40.6875 L 5.28125 33.453125 C 5.109375 33.015625 4.59375 32.8125 4.171875 33 C 3.71875 33.171875 3.53125 33.6875 3.703125 34.109375 L 7.546875 43.21875 C 7.578125 43.265625 7.59375 43.328125 7.625 43.359375 L 7.625 43.375 C 7.65625 43.40625 7.671875 43.4375 7.703125 43.46875 C 7.71875 43.5 7.71875 43.5 7.734375 43.515625 L 7.789062 43.546875 L 7.84375 43.59375 C 7.84375 43.59375 7.84375 43.59375 7.859375 43.59375 C 7.890625 43.625 7.953125 43.671875 8 43.6875 C 8.015625 43.6875 8.015625 43.6875 8.03125 43.703125 C 8.0625 43.703125 8.09375 43.71875 8.140625 43.734375 L 8.1875 43.734375 L 8.265625 43.746094 L 8.34375 43.75 C 8.390625 43.75 8.4375 43.75 8.484375 43.734375 Z M 29.03125 43.75 C 29.5 43.75 29.90625 43.359375 29.90625 42.890625 L 29.90625 33.671875 C 29.90625 33.269531 29.609375 32.9375 29.226562 32.839844 L 29.03125 32.8125 L 29.015625 32.8125 C 28.734375 32.8125 28.484375 32.9375 28.3125 33.171875 L 25.203125 37.484375 L 22.09375 33.171875 C 21.9375 32.9375 21.65625 32.8125 21.40625 32.8125 L 21.359375 32.8125 C 20.890625 32.8125 20.5 33.203125 20.5 33.671875 L 20.5 42.890625 C 20.5 43.359375 20.890625 43.75 21.359375 43.75 C 21.84375 43.75 22.234375 43.359375 22.234375 42.890625 L 22.234375 36.3125 L 24.46875 39.4375 C 24.640625 39.671875 24.90625 39.796875 25.1875 39.796875 L 25.21875 39.796875 C 25.5 39.796875 25.75 39.671875 25.921875 39.4375 L 28.171875 36.3125 L 28.171875 42.890625 C 28.171875 43.359375 28.546875 43.75 29.03125 43.75 Z M 37.015625 43.734375 L 37.0625 43.734375 C 37.09375 43.71875 37.125 43.703125 37.1875 43.703125 L 37.195312 43.6875 C 37.203125 43.6875 37.203125 43.6875 37.21875 43.6875 C 37.25 43.671875 37.296875 43.625 37.34375 43.59375 L 37.375 43.59375 C 37.40625 43.5625 37.4375 43.53125 37.46875 43.515625 C 37.46875 43.5 37.484375 43.5 37.484375 43.46875 L 37.578125 43.375 C 37.578125 43.375 37.578125 43.359375 37.59375 43.359375 C 37.609375 43.328125 37.640625 43.265625 37.65625 43.21875 L 39.703125 38.375 L 41.75 43.21875 C 41.765625 43.265625 41.78125 43.328125 41.8125 43.359375 C 41.8125 43.359375 41.8125 43.375 41.84375 43.375 L 41.90625 43.46875 C 41.921875 43.5 41.921875 43.5 41.9375 43.515625 L 41.984375 43.546875 L 42.046875 43.59375 C 42.046875 43.59375 42.046875 43.59375 42.0625 43.59375 C 42.09375 43.625 42.140625 43.671875 42.203125 43.6875 C 42.21875 43.6875 42.21875 43.6875 42.234375 43.703125 C 42.265625 43.703125 42.296875 43.71875 42.34375 43.734375 L 42.390625 43.734375 L 42.460938 43.746094 L 42.53125 43.75 C 42.59375 43.75 42.640625 43.75 42.6875 43.734375 L 42.71875 43.734375 C 42.765625 43.71875 42.8125 43.703125 42.84375 43.703125 C 42.84375 43.6875 42.859375 43.6875 42.859375 43.6875 L 42.875 43.6875 C 42.9375 43.671875 42.96875 43.625 43.015625 43.59375 L 43.03125 43.59375 C 43.0625 43.5625 43.109375 43.53125 43.140625 43.515625 C 43.140625 43.5 43.15625 43.5 43.15625 43.46875 C 43.1875 43.4375 43.21875 43.40625 43.234375 43.375 L 43.25 43.359375 C 43.28125 43.328125 43.3125 43.265625 43.328125 43.21875 L 47.15625 34.109375 C 47.34375 33.6875 47.140625 33.171875 46.71875 33 C 46.265625 32.8125 45.765625 33.015625 45.578125 33.453125 L 42.53125 40.6875 L 40.515625 35.890625 C 40.359375 35.546875 40.03125 35.359375 39.703125 35.359375 C 39.359375 35.359375 39.03125 35.546875 38.890625 35.890625 L 36.875 40.6875 L 33.8125 33.453125 C 33.640625 33.015625 33.125 32.8125 32.703125 33 C 32.25 33.171875 32.0625 33.6875 32.234375 34.109375 L 36.078125 43.21875 C 36.109375 43.265625 36.125 43.328125 36.15625 43.359375 L 36.15625 43.375 C 36.1875 43.40625 36.203125 43.4375 36.234375 43.46875 C 36.25 43.5 36.25 43.5 36.265625 43.515625 L 36.320312 43.546875 L 36.375 43.59375 C 36.375 43.59375 36.375 43.59375 36.390625 43.59375 C 36.421875 43.625 36.484375 43.671875 36.53125 43.6875 C 36.546875 43.6875 36.546875 43.6875 36.5625 43.703125 C 36.59375 43.703125 36.625 43.71875 36.671875 43.734375 L 36.71875 43.734375 L 36.796875 43.746094 L 36.875 43.75 C 36.921875 43.75 36.96875 43.75 37.015625 43.734375 Z M 37.015625 43.734375 "/>
      </g>`},xlsIcon:{extension:".xls",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 17.21875 46.875 C 17.425781 46.875 17.632812 46.800781 17.820312 46.667969 C 18.289062 46.351562 18.363281 45.695312 18.042969 45.242188 L 14.480469 40.367188 L 18.042969 35.53125 C 18.363281 35.0625 18.289062 34.425781 17.820312 34.105469 C 17.351562 33.75 16.730469 33.84375 16.375 34.332031 L 13.226562 38.644531 L 10.054688 34.332031 C 9.738281 33.84375 9.082031 33.75 8.632812 34.105469 C 8.164062 34.425781 8.070312 35.0625 8.386719 35.53125 L 11.949219 40.367188 L 8.386719 45.242188 C 8.070312 45.695312 8.164062 46.351562 8.632812 46.667969 C 8.800781 46.800781 9.007812 46.875 9.230469 46.875 C 9.550781 46.875 9.851562 46.707031 10.054688 46.445312 L 13.226562 42.113281 L 16.375 46.445312 C 16.582031 46.707031 16.882812 46.875 17.21875 46.875 Z M 29.351562 46.875 C 29.894531 46.875 30.382812 46.40625 30.382812 45.84375 C 30.382812 45.261719 29.894531 44.792969 29.351562 44.792969 L 24.269531 44.792969 L 24.269531 34.78125 C 24.269531 34.21875 23.800781 33.75 23.21875 33.75 C 22.636719 33.75 22.1875 34.21875 22.1875 34.78125 L 22.1875 45.84375 C 22.1875 46.335938 22.53125 46.757812 23.007812 46.855469 L 23.222656 46.875 Z M 37.28125 46.855469 C 38.613281 46.855469 39.832031 46.460938 40.75 45.789062 C 41.6875 45.113281 42.363281 44.082031 42.363281 42.882812 C 42.363281 42.300781 42.195312 41.738281 41.914062 41.289062 C 41.480469 40.59375 40.804688 40.105469 40.039062 39.730469 C 39.289062 39.375 38.40625 39.132812 37.449219 38.945312 L 37.414062 38.945312 C 36.398438 38.757812 35.554688 38.457031 35.070312 38.117188 C 34.824219 37.949219 34.65625 37.78125 34.5625 37.632812 C 34.46875 37.480469 34.429688 37.332031 34.429688 37.105469 C 34.429688 36.710938 34.636719 36.300781 35.144531 35.925781 C 35.648438 35.550781 36.398438 35.289062 37.242188 35.289062 C 38.386719 35.289062 39.304688 35.851562 40.261719 36.488281 C 40.710938 36.789062 41.3125 36.65625 41.59375 36.207031 C 41.894531 35.773438 41.761719 35.175781 41.332031 34.875 C 40.375 34.257812 39.042969 33.375 37.242188 33.375 C 36.023438 33.375 34.882812 33.730469 34 34.367188 C 33.136719 35.007812 32.5 35.980469 32.5 37.105469 C 32.5 37.667969 32.648438 38.195312 32.929688 38.644531 C 33.34375 39.300781 33.960938 39.769531 34.675781 40.105469 C 35.386719 40.445312 36.210938 40.667969 37.09375 40.835938 L 37.132812 40.835938 C 38.238281 41.042969 39.15625 41.363281 39.699219 41.71875 C 39.980469 41.90625 40.148438 42.09375 40.261719 42.28125 C 40.375 42.46875 40.429688 42.636719 40.429688 42.882812 C 40.429688 43.351562 40.1875 43.820312 39.625 44.230469 C 39.0625 44.644531 38.21875 44.925781 37.28125 44.925781 C 35.949219 44.945312 34.523438 44.15625 33.699219 43.480469 C 33.289062 43.144531 32.667969 43.199219 32.332031 43.613281 C 32.011719 44.023438 32.070312 44.644531 32.480469 44.980469 C 33.550781 45.824219 35.257812 46.835938 37.28125 46.855469 Z M 37.28125 46.855469 "/>
      </g>`},xlsxIcon:{extension:".xlsx",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 13.070312 43.75 C 13.242188 43.75 13.414062 43.6875 13.570312 43.578125 C 13.960938 43.3125 14.023438 42.765625 13.757812 42.390625 L 10.789062 38.328125 L 13.757812 34.296875 C 14.023438 33.90625 13.960938 33.375 13.570312 33.109375 C 13.179688 32.8125 12.664062 32.890625 12.367188 33.296875 L 9.742188 36.890625 L 7.101562 33.296875 C 6.835938 32.890625 6.289062 32.8125 5.914062 33.109375 C 5.523438 33.375 5.445312 33.90625 5.710938 34.296875 L 8.679688 38.328125 L 5.710938 42.390625 C 5.445312 42.765625 5.523438 43.3125 5.914062 43.578125 C 6.054688 43.6875 6.226562 43.75 6.414062 43.75 C 6.679688 43.75 6.929688 43.609375 7.101562 43.390625 L 9.742188 39.78125 L 12.367188 43.390625 C 12.539062 43.609375 12.789062 43.75 13.070312 43.75 Z M 23.179688 43.75 C 23.632812 43.75 24.039062 43.359375 24.039062 42.890625 C 24.039062 42.40625 23.632812 42.015625 23.179688 42.015625 L 18.945312 42.015625 L 18.945312 33.671875 C 18.945312 33.203125 18.554688 32.8125 18.070312 32.8125 C 17.585938 32.8125 17.210938 33.203125 17.210938 33.671875 L 17.210938 42.890625 C 17.210938 43.359375 17.585938 43.75 18.070312 43.75 Z M 29.789062 43.734375 C 30.898438 43.734375 31.914062 43.40625 32.679688 42.84375 C 33.460938 42.28125 34.023438 41.421875 34.023438 40.421875 C 34.023438 39.9375 33.882812 39.46875 33.648438 39.09375 C 33.289062 38.515625 32.726562 38.109375 32.085938 37.796875 C 31.460938 37.5 30.726562 37.296875 29.929688 37.140625 L 29.898438 37.140625 C 29.054688 36.984375 28.351562 36.734375 27.945312 36.453125 C 27.742188 36.3125 27.601562 36.171875 27.523438 36.046875 C 27.445312 35.921875 27.414062 35.796875 27.414062 35.609375 C 27.414062 35.28125 27.585938 34.9375 28.007812 34.625 C 28.429688 34.3125 29.054688 34.09375 29.757812 34.09375 C 30.710938 34.09375 31.476562 34.5625 32.273438 35.09375 C 32.648438 35.34375 33.148438 35.234375 33.382812 34.859375 C 33.632812 34.5 33.523438 34 33.164062 33.75 C 32.367188 33.234375 31.257812 32.5 29.757812 32.5 C 28.742188 32.5 27.789062 32.796875 27.054688 33.328125 C 26.335938 33.859375 25.804688 34.671875 25.804688 35.609375 C 25.804688 36.078125 25.929688 36.515625 26.164062 36.890625 C 26.507812 37.4375 27.023438 37.828125 27.617188 38.109375 C 28.210938 38.390625 28.898438 38.578125 29.632812 38.71875 L 29.664062 38.71875 C 30.585938 38.890625 31.351562 39.15625 31.804688 39.453125 C 32.039062 39.609375 32.179688 39.765625 32.273438 39.921875 C 32.367188 40.078125 32.414062 40.21875 32.414062 40.421875 C 32.414062 40.8125 32.210938 41.203125 31.742188 41.546875 C 31.273438 41.890625 30.570312 42.125 29.789062 42.125 C 28.679688 42.140625 27.492188 41.484375 26.804688 40.921875 C 26.460938 40.640625 25.945312 40.6875 25.664062 41.03125 C 25.398438 41.375 25.445312 41.890625 25.789062 42.171875 C 26.679688 42.875 28.101562 43.71875 29.789062 43.734375 Z M 43.179688 43.75 C 43.351562 43.75 43.523438 43.6875 43.679688 43.578125 C 44.070312 43.3125 44.132812 42.765625 43.867188 42.390625 L 40.898438 38.328125 L 43.867188 34.296875 C 44.132812 33.90625 44.070312 33.375 43.679688 33.109375 C 43.289062 32.8125 42.773438 32.890625 42.476562 33.296875 L 39.851562 36.890625 L 37.210938 33.296875 C 36.945312 32.890625 36.398438 32.8125 36.023438 33.109375 C 35.632812 33.375 35.554688 33.90625 35.820312 34.296875 L 38.789062 38.328125 L 35.820312 42.390625 C 35.554688 42.765625 35.632812 43.3125 36.023438 43.578125 C 36.164062 43.6875 36.335938 43.75 36.523438 43.75 C 36.789062 43.75 37.039062 43.609375 37.210938 43.390625 L 39.851562 39.78125 L 42.476562 43.390625 C 42.648438 43.609375 42.898438 43.75 43.179688 43.75 Z M 43.179688 43.75 "/>
      </g>`},zipIcon:{extension:".zip",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 20.175781 46.875 C 20.855469 46.875 21.402344 46.351562 21.402344 45.671875 C 21.402344 44.992188 20.855469 44.445312 20.175781 44.445312 L 13.132812 44.445312 L 21.183594 33.488281 L 21.183594 33.445312 C 21.203125 33.421875 21.226562 33.378906 21.25 33.335938 C 21.269531 33.3125 21.269531 33.289062 21.292969 33.269531 C 21.3125 33.203125 21.3125 33.179688 21.335938 33.136719 C 21.335938 33.09375 21.378906 33.070312 21.378906 33.007812 C 21.378906 32.984375 21.378906 32.960938 21.402344 32.917969 L 21.402344 32.679688 C 21.402344 32.632812 21.402344 32.613281 21.378906 32.546875 C 21.378906 32.503906 21.378906 32.480469 21.335938 32.4375 C 21.335938 32.414062 21.3125 32.371094 21.3125 32.304688 C 21.292969 32.285156 21.269531 32.242188 21.269531 32.21875 C 21.25 32.195312 21.226562 32.152344 21.203125 32.109375 C 21.183594 32.066406 21.160156 32.042969 21.117188 32.023438 C 21.09375 32 21.074219 31.957031 21.050781 31.933594 C 21.03125 31.914062 21.007812 31.867188 20.964844 31.847656 C 20.941406 31.824219 20.941406 31.804688 20.898438 31.78125 L 20.875 31.78125 C 20.832031 31.757812 20.8125 31.738281 20.765625 31.714844 C 20.746094 31.695312 20.722656 31.648438 20.65625 31.648438 L 20.570312 31.605469 L 20.4375 31.585938 C 20.417969 31.585938 20.375 31.5625 20.351562 31.5625 L 10.75 31.5625 C 10.070312 31.5625 9.546875 32.085938 9.546875 32.765625 C 9.546875 33.421875 10.070312 33.992188 10.75 33.992188 L 17.8125 33.992188 L 9.785156 44.972656 L 9.765625 44.972656 C 9.742188 45.015625 9.71875 45.058594 9.699219 45.082031 C 9.699219 45.101562 9.675781 45.148438 9.632812 45.167969 C 9.632812 45.210938 9.609375 45.257812 9.609375 45.277344 C 9.589844 45.320312 9.589844 45.367188 9.566406 45.386719 L 9.566406 45.496094 C 9.546875 45.539062 9.546875 45.585938 9.546875 45.648438 L 9.546875 45.738281 C 9.546875 45.78125 9.566406 45.824219 9.566406 45.890625 C 9.566406 45.933594 9.589844 45.957031 9.589844 45.976562 L 9.632812 46.109375 C 9.632812 46.152344 9.675781 46.175781 9.699219 46.21875 C 9.699219 46.242188 9.71875 46.261719 9.742188 46.328125 C 9.765625 46.351562 9.785156 46.394531 9.808594 46.414062 C 9.828125 46.4375 9.851562 46.460938 9.894531 46.480469 L 9.9375 46.542969 L 9.984375 46.589844 C 10.003906 46.613281 10.027344 46.632812 10.046875 46.632812 L 10.046875 46.65625 C 10.070312 46.679688 10.09375 46.679688 10.136719 46.699219 C 10.179688 46.722656 10.222656 46.742188 10.246094 46.742188 C 10.265625 46.789062 10.289062 46.789062 10.3125 46.808594 C 10.375 46.808594 10.421875 46.832031 10.464844 46.832031 C 10.484375 46.851562 10.507812 46.851562 10.53125 46.851562 L 10.648438 46.871094 Z M 26.214844 46.875 C 26.871094 46.875 27.4375 46.351562 27.4375 45.671875 L 27.4375 32.765625 C 27.4375 32.085938 26.871094 31.5625 26.214844 31.5625 C 25.535156 31.5625 25.011719 32.085938 25.011719 32.765625 L 25.011719 45.671875 C 25.011719 46.351562 25.535156 46.875 26.214844 46.875 Z M 32.734375 46.875 C 33.410156 46.875 33.957031 46.328125 33.957031 45.671875 L 33.957031 40.925781 L 36.648438 40.925781 C 39.25 40.925781 41.351562 38.824219 41.351562 36.265625 C 41.351562 33.664062 39.25 31.5625 36.648438 31.5625 L 32.734375 31.5625 C 32.078125 31.5625 31.53125 32.085938 31.53125 32.765625 L 31.53125 45.671875 C 31.53125 46.328125 32.078125 46.875 32.734375 46.875 Z M 36.648438 38.496094 L 33.957031 38.496094 L 33.957031 33.992188 L 36.648438 33.992188 C 37.917969 33.992188 38.902344 34.996094 38.921875 36.265625 C 38.902344 37.492188 37.917969 38.496094 36.648438 38.496094 Z M 36.648438 38.496094 "/>
      </g>`},docxIcon:{extension:".docx",path:`<g id="surface9" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.789062 43.75 C 9.589844 43.75 10.988281 43.269531 11.984375 42.304688 C 12.980469 41.339844 13.476562 39.984375 13.476562 38.234375 C 13.476562 36.496094 12.980469 35.144531 11.984375 34.179688 C 10.988281 33.214844 9.589844 32.734375 7.789062 32.734375 L 4.695312 32.734375 C 4.394531 32.734375 4.15625 32.816406 3.984375 32.984375 C 3.8125 33.152344 3.726562 33.386719 3.726562 33.6875 L 3.726562 42.796875 C 3.726562 43.097656 3.8125 43.332031 3.984375 43.5 C 4.15625 43.667969 4.394531 43.75 4.695312 43.75 Z M 7.664062 42.109375 L 5.742188 42.109375 L 5.742188 34.375 L 7.664062 34.375 C 10.195312 34.375 11.460938 35.660156 11.460938 38.234375 C 11.460938 40.816406 10.195312 42.109375 7.664062 42.109375 Z M 20.414062 43.890625 C 21.476562 43.890625 22.402344 43.660156 23.1875 43.203125 C 23.972656 42.746094 24.582031 42.089844 25.007812 41.234375 C 25.433594 40.378906 25.648438 39.378906 25.648438 38.234375 C 25.648438 37.089844 25.4375 36.089844 25.015625 35.242188 C 24.59375 34.394531 23.988281 33.738281 23.203125 33.28125 C 22.417969 32.824219 21.488281 32.59375 20.414062 32.59375 C 19.339844 32.59375 18.410156 32.824219 17.617188 33.28125 C 16.824219 33.738281 16.21875 34.394531 15.796875 35.242188 C 15.375 36.089844 15.164062 37.089844 15.164062 38.234375 C 15.164062 39.378906 15.378906 40.378906 15.804688 41.234375 C 16.230469 42.089844 16.839844 42.746094 17.625 43.203125 C 18.410156 43.660156 19.339844 43.890625 20.414062 43.890625 Z M 20.414062 42.28125 C 19.394531 42.28125 18.597656 41.933594 18.03125 41.234375 C 17.464844 40.535156 17.179688 39.535156 17.179688 38.234375 C 17.179688 36.933594 17.464844 35.933594 18.03125 35.242188 C 18.597656 34.550781 19.394531 34.203125 20.414062 34.203125 C 21.425781 34.203125 22.214844 34.550781 22.78125 35.242188 C 23.347656 35.933594 23.632812 36.933594 23.632812 38.234375 C 23.632812 39.535156 23.347656 40.535156 22.78125 41.234375 C 22.214844 41.933594 21.425781 42.28125 20.414062 42.28125 Z M 32.601562 43.890625 C 33.289062 43.890625 33.933594 43.789062 34.539062 43.585938 C 35.144531 43.382812 35.679688 43.089844 36.148438 42.703125 C 36.285156 42.597656 36.378906 42.488281 36.429688 42.367188 C 36.480469 42.246094 36.507812 42.109375 36.507812 41.953125 C 36.507812 41.722656 36.445312 41.53125 36.320312 41.375 C 36.195312 41.21875 36.042969 41.140625 35.867188 41.140625 C 35.753906 41.140625 35.644531 41.160156 35.539062 41.203125 C 35.433594 41.246094 35.332031 41.296875 35.226562 41.359375 C 34.746094 41.683594 34.316406 41.910156 33.9375 42.046875 C 33.558594 42.183594 33.144531 42.25 32.695312 42.25 C 31.613281 42.25 30.792969 41.910156 30.234375 41.234375 C 29.675781 40.558594 29.398438 39.558594 29.398438 38.234375 C 29.398438 36.921875 29.675781 35.925781 30.234375 35.25 C 30.792969 34.574219 31.613281 34.234375 32.695312 34.234375 C 33.164062 34.234375 33.589844 34.300781 33.976562 34.429688 C 34.363281 34.558594 34.777344 34.792969 35.226562 35.125 C 35.445312 35.269531 35.660156 35.34375 35.867188 35.34375 C 36.042969 35.34375 36.195312 35.265625 36.320312 35.109375 C 36.445312 34.953125 36.507812 34.761719 36.507812 34.53125 C 36.507812 34.363281 36.480469 34.222656 36.429688 34.109375 C 36.378906 33.996094 36.285156 33.886719 36.148438 33.78125 C 35.679688 33.394531 35.144531 33.101562 34.539062 32.898438 C 33.933594 32.695312 33.289062 32.59375 32.601562 32.59375 C 31.539062 32.59375 30.609375 32.824219 29.8125 33.28125 C 29.015625 33.738281 28.402344 34.394531 27.976562 35.242188 C 27.550781 36.089844 27.335938 37.089844 27.335938 38.234375 C 27.335938 39.378906 27.550781 40.378906 27.976562 41.234375 C 28.402344 42.089844 29.015625 42.746094 29.8125 43.203125 C 30.609375 43.660156 31.539062 43.890625 32.601562 43.890625 Z M 46.132812 43.84375 C 46.382812 43.84375 46.605469 43.75 46.796875 43.5625 C 46.988281 43.375 47.085938 43.15625 47.085938 42.90625 C 47.085938 42.707031 47.003906 42.511719 46.835938 42.3125 L 43.445312 38.15625 L 46.710938 34.171875 C 46.867188 34.003906 46.945312 33.808594 46.945312 33.578125 C 46.945312 33.328125 46.847656 33.113281 46.65625 32.929688 C 46.464844 32.746094 46.242188 32.65625 45.992188 32.65625 C 45.730469 32.65625 45.507812 32.769531 45.320312 33 L 42.273438 36.765625 L 39.226562 33 C 39.027344 32.769531 38.800781 32.65625 38.539062 32.65625 C 38.289062 32.65625 38.070312 32.746094 37.882812 32.929688 C 37.695312 33.113281 37.601562 33.328125 37.601562 33.578125 C 37.601562 33.808594 37.679688 34.003906 37.835938 34.171875 L 41.101562 38.15625 L 37.695312 42.3125 C 37.539062 42.5 37.460938 42.699219 37.460938 42.90625 C 37.460938 43.15625 37.558594 43.371094 37.75 43.554688 C 37.941406 43.738281 38.164062 43.828125 38.414062 43.828125 C 38.675781 43.828125 38.898438 43.71875 39.085938 43.5 L 42.273438 39.5625 L 45.445312 43.5 C 45.644531 43.730469 45.871094 43.84375 46.132812 43.84375 Z M 46.132812 43.84375 "/>
      </g>`},jpgIcon:{extension:".jpg",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 8.789062 47.007812 L 9.488281 46.960938 C 12.214844 46.757812 13.578125 45.277344 13.578125 42.523438 L 13.578125 32.742188 C 13.578125 32.320312 13.453125 31.980469 13.195312 31.726562 C 12.941406 31.472656 12.59375 31.34375 12.15625 31.34375 C 11.734375 31.34375 11.394531 31.472656 11.140625 31.726562 C 10.886719 31.980469 10.757812 32.320312 10.757812 32.742188 L 10.757812 42.523438 C 10.757812 43.238281 10.605469 43.769531 10.296875 44.117188 C 9.992188 44.46875 9.539062 44.660156 8.941406 44.6875 L 8.242188 44.730469 C 7.847656 44.761719 7.558594 44.867188 7.378906 45.046875 C 7.195312 45.230469 7.105469 45.496094 7.105469 45.847656 C 7.105469 46.664062 7.667969 47.050781 8.789062 47.007812 Z M 18.304688 47.007812 C 18.742188 47.007812 19.089844 46.878906 19.34375 46.625 C 19.597656 46.367188 19.726562 46.023438 19.726562 45.585938 L 19.726562 40.882812 L 23.640625 40.882812 C 25.289062 40.882812 26.574219 40.464844 27.492188 39.632812 C 28.410156 38.804688 28.871094 37.644531 28.871094 36.15625 C 28.871094 34.667969 28.410156 33.511719 27.492188 32.6875 C 26.574219 31.863281 25.289062 31.453125 23.640625 31.453125 L 18.261719 31.453125 C 17.839844 31.453125 17.507812 31.570312 17.265625 31.804688 C 17.023438 32.035156 16.90625 32.363281 16.90625 32.789062 L 16.90625 45.585938 C 16.90625 46.023438 17.03125 46.367188 17.289062 46.625 C 17.542969 46.878906 17.882812 47.007812 18.304688 47.007812 Z M 23.292969 38.714844 L 19.726562 38.714844 L 19.726562 33.640625 L 23.292969 33.640625 C 25.230469 33.640625 26.203125 34.488281 26.203125 36.179688 C 26.203125 37.871094 25.230469 38.714844 23.292969 38.714844 Z M 38.605469 47.070312 C 39.320312 47.070312 40.0625 47.011719 40.835938 46.898438 C 41.609375 46.78125 42.285156 46.621094 42.871094 46.414062 C 43.410156 46.242188 43.765625 46.015625 43.941406 45.738281 C 44.117188 45.460938 44.203125 44.988281 44.203125 44.316406 L 44.203125 39.613281 C 44.203125 39.292969 44.101562 39.03125 43.898438 38.835938 C 43.695312 38.640625 43.425781 38.539062 43.089844 38.539062 L 39.21875 38.539062 C 38.867188 38.539062 38.59375 38.628906 38.398438 38.804688 C 38.199219 38.976562 38.101562 39.226562 38.101562 39.546875 C 38.101562 39.867188 38.199219 40.117188 38.398438 40.289062 C 38.59375 40.464844 38.867188 40.554688 39.21875 40.554688 L 41.6875 40.554688 L 41.6875 44.425781 C 40.699219 44.703125 39.707031 44.839844 38.714844 44.839844 C 35.390625 44.839844 33.726562 42.945312 33.726562 39.152344 C 33.726562 37.300781 34.132812 35.90625 34.941406 34.964844 C 35.75 34.023438 36.949219 33.554688 38.539062 33.554688 C 39.238281 33.554688 39.867188 33.644531 40.421875 33.828125 C 40.972656 34.007812 41.574219 34.324219 42.214844 34.777344 C 42.390625 34.894531 42.542969 34.980469 42.671875 35.03125 C 42.804688 35.082031 42.949219 35.105469 43.109375 35.105469 C 43.359375 35.105469 43.570312 34.996094 43.746094 34.777344 C 43.921875 34.558594 44.007812 34.289062 44.007812 33.96875 C 44.007812 33.75 43.96875 33.558594 43.886719 33.398438 C 43.808594 33.238281 43.679688 33.078125 43.503906 32.917969 C 42.191406 31.808594 40.507812 31.257812 38.453125 31.257812 C 36.90625 31.257812 35.5625 31.574219 34.425781 32.207031 C 33.289062 32.84375 32.410156 33.753906 31.789062 34.941406 C 31.171875 36.128906 30.859375 37.535156 30.859375 39.152344 C 30.859375 40.800781 31.171875 42.21875 31.789062 43.40625 C 32.410156 44.597656 33.304688 45.503906 34.46875 46.132812 C 35.636719 46.757812 37.015625 47.070312 38.605469 47.070312 Z M 38.605469 47.070312 "/>
      </g>`},mp3Icon:{extension:".mp3",path:`<g id="surface9" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 43.828125 43.710938 C 43.605469 44.28125 43.273438 44.804688 42.84375 45.265625 C 42.40625 45.730469 41.867188 46.113281 41.242188 46.398438 C 40.597656 46.699219 39.851562 46.855469 39.027344 46.855469 C 38.328125 46.855469 37.703125 46.757812 37.160156 46.570312 C 36.609375 46.378906 36.160156 46.136719 35.769531 45.839844 C 35.386719 45.550781 35.050781 45.210938 34.796875 44.832031 C 34.570312 44.507812 34.394531 44.195312 34.265625 43.890625 C 34.140625 43.59375 34.054688 43.335938 33.996094 43.101562 C 33.792969 42.261719 34.304688 41.417969 35.140625 41.210938 C 35.980469 41.007812 36.828125 41.519531 37.03125 42.355469 C 37.039062 42.390625 37.066406 42.488281 37.144531 42.671875 C 37.191406 42.777344 37.265625 42.914062 37.371094 43.0625 C 37.4375 43.160156 37.53125 43.257812 37.65625 43.351562 C 37.792969 43.453125 37.972656 43.542969 38.195312 43.625 C 38.332031 43.667969 38.59375 43.730469 39.027344 43.730469 C 39.390625 43.730469 39.695312 43.675781 39.925781 43.566406 C 40.1875 43.445312 40.398438 43.300781 40.558594 43.132812 C 40.71875 42.957031 40.839844 42.773438 40.914062 42.578125 C 40.996094 42.371094 41.03125 42.195312 41.03125 42.023438 C 41.03125 41.789062 41 41.585938 40.921875 41.398438 C 40.871094 41.257812 40.785156 41.148438 40.660156 41.039062 C 40.515625 40.910156 40.296875 40.792969 40.011719 40.699219 C 39.6875 40.59375 39.253906 40.539062 38.738281 40.535156 C 37.882812 40.527344 37.1875 39.832031 37.1875 38.972656 L 37.1875 38.832031 C 37.1875 37.984375 37.859375 37.292969 38.699219 37.265625 C 39.070312 37.257812 39.398438 37.195312 39.679688 37.101562 C 39.921875 37.011719 40.121094 36.902344 40.273438 36.773438 C 40.40625 36.652344 40.507812 36.519531 40.582031 36.359375 C 40.652344 36.210938 40.6875 36.027344 40.6875 35.8125 C 40.6875 35.523438 40.644531 35.289062 40.574219 35.125 C 40.5 34.96875 40.414062 34.847656 40.304688 34.757812 C 40.1875 34.660156 40.042969 34.582031 39.867188 34.53125 C 39.402344 34.386719 38.878906 34.398438 38.480469 34.542969 C 38.289062 34.617188 38.121094 34.714844 37.976562 34.84375 C 37.820312 34.984375 37.695312 35.148438 37.59375 35.339844 C 37.484375 35.550781 37.40625 35.773438 37.367188 36.039062 C 37.230469 36.890625 36.429688 37.472656 35.574219 37.335938 C 34.722656 37.195312 34.140625 36.398438 34.28125 35.542969 C 34.378906 34.9375 34.5625 34.378906 34.835938 33.871094 C 35.109375 33.355469 35.464844 32.898438 35.890625 32.519531 C 36.320312 32.132812 36.824219 31.828125 37.382812 31.617188 C 38.433594 31.226562 39.667969 31.199219 40.78125 31.539062 C 41.351562 31.714844 41.863281 31.992188 42.308594 32.355469 C 42.777344 32.753906 43.148438 33.242188 43.414062 33.824219 C 43.679688 34.402344 43.8125 35.070312 43.8125 35.8125 C 43.8125 36.476562 43.679688 37.097656 43.421875 37.660156 C 43.25 38.046875 43.023438 38.394531 42.746094 38.707031 C 43.242188 39.148438 43.609375 39.671875 43.835938 40.261719 C 44.046875 40.804688 44.15625 41.398438 44.15625 42.023438 C 44.15625 42.578125 44.046875 43.148438 43.828125 43.710938 Z M 31.445312 38.492188 C 31.148438 39.140625 30.734375 39.703125 30.199219 40.164062 C 29.6875 40.605469 29.078125 40.957031 28.390625 41.199219 C 27.71875 41.4375 26.976562 41.5625 26.191406 41.5625 L 25 41.5625 L 25 45 C 25 45.859375 24.296875 46.5625 23.4375 46.5625 C 22.578125 46.5625 21.875 45.859375 21.875 45 L 21.875 32.8125 C 21.875 31.945312 22.578125 31.25 23.4375 31.25 L 26.191406 31.25 C 27.890625 31.25 29.257812 31.667969 30.253906 32.5 C 31.339844 33.398438 31.886719 34.714844 31.886719 36.40625 C 31.886719 37.148438 31.738281 37.851562 31.445312 38.492188 Z M 18.730469 45.210938 C 18.730469 46.070312 18.03125 46.773438 17.167969 46.773438 C 16.300781 46.773438 15.605469 46.070312 15.605469 45.210938 L 15.605469 39.28125 L 14.015625 43.140625 C 14.007812 43.164062 13.996094 43.191406 13.984375 43.214844 C 13.71875 43.777344 13.15625 44.117188 12.566406 44.117188 L 12.53125 44.117188 C 11.9375 44.117188 11.375 43.777344 11.109375 43.214844 L 11.082031 43.160156 L 9.339844 39.101562 L 9.339844 45.210938 C 9.339844 46.070312 8.640625 46.773438 7.777344 46.773438 C 6.910156 46.773438 6.214844 46.070312 6.214844 45.210938 L 6.214844 32.824219 C 6.214844 31.960938 6.910156 31.261719 7.777344 31.261719 L 7.835938 31.261719 C 8.472656 31.261719 9.046875 31.617188 9.335938 32.1875 L 12.527344 39.09375 L 15.59375 32.207031 C 15.894531 31.617188 16.46875 31.261719 17.105469 31.261719 L 17.167969 31.261719 C 18.03125 31.261719 18.730469 31.960938 18.730469 32.824219 Z M 41.382812 28.125 L 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.136719 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.136719 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 41.382812 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 28.257812 34.902344 C 27.835938 34.550781 27.140625 34.375 26.191406 34.375 L 25 34.375 L 25 38.4375 L 26.191406 38.4375 C 26.621094 38.4375 27.007812 38.375 27.34375 38.253906 C 27.667969 38.140625 27.929688 37.992188 28.148438 37.804688 C 28.34375 37.632812 28.492188 37.4375 28.601562 37.195312 C 28.710938 36.964844 28.757812 36.703125 28.757812 36.40625 C 28.757812 35.324219 28.382812 35.003906 28.257812 34.902344 "/>
      <path style="fill:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(99.607843%,99.607843%,99.607843%);stroke-opacity:1;stroke-miterlimit:4;" d="M 11.34125 13.57875 C 11.345 13.5925 11.3525 13.62375 11.36375 13.67375 C 11.3775 13.7225 11.3975 13.78125 11.42625 13.85 C 11.45375 13.9175 11.49375 13.9875 11.54625 14.0625 C 11.5975 14.13875 11.66625 14.20875 11.75 14.27125 C 11.83375 14.33625 11.9375 14.38875 12.0575 14.43125 C 12.1775 14.4725 12.32 14.49375 12.4875 14.49375 C 12.67875 14.49375 12.845 14.46125 12.9875 14.39375 C 13.13 14.32875 13.24875 14.245 13.34375 14.1425 C 13.43875 14.0425 13.51125 13.93 13.55875 13.8075 C 13.6075 13.6825 13.63125 13.56375 13.63125 13.4475 C 13.63125 13.31125 13.6075 13.1825 13.5625 13.065 C 13.515 12.9475 13.4425 12.845 13.3425 12.7575 C 13.2425 12.67 13.115 12.6 12.96 12.55 C 12.805 12.49875 12.6175 12.4725 12.4 12.4725 L 12.4 12.42625 C 12.57 12.42 12.72375 12.3925 12.8625 12.34375 C 13.0025 12.29625 13.11875 12.2275 13.21625 12.14375 C 13.31375 12.05875 13.3875 11.96 13.44125 11.845 C 13.4925 11.7275 13.52 11.60125 13.52 11.46 C 13.52 11.29375 13.4925 11.1525 13.43875 11.0325 C 13.38375 10.91375 13.31125 10.81625 13.21875 10.74 C 13.1275 10.66375 13.0225 10.6075 12.90375 10.5725 C 12.78625 10.535 12.66375 10.5175 12.5375 10.5175 C 12.395 10.5175 12.26125 10.54 12.14 10.58625 C 12.0175 10.6325 11.91 10.69625 11.81875 10.77875 C 11.72625 10.8625 11.64875 10.96 11.5875 11.07375 C 11.5275 11.18875 11.48625 11.315 11.4625 11.45375 M 7.5 14.4 L 7.5 10.5 L 8.3825 10.5 C 8.8075 10.5 9.13375 10.595 9.3625 10.78375 C 9.59 10.975 9.7025 11.2625 9.7025 11.65 C 9.7025 11.81625 9.6725 11.97125 9.6075 12.11125 C 9.5425 12.2525 9.4525 12.37375 9.335 12.475 C 9.21875 12.5775 9.0775 12.65625 8.9175 12.71375 C 8.75625 12.77125 8.5775 12.8 8.3825 12.8 L 7.6 12.8 M 2.4875 14.4675 L 2.4875 10.50375 L 2.5075 10.50375 C 2.5225 10.50375 2.53375 10.5125 2.5425 10.52625 L 3.9925 13.58625 C 3.99875 13.5975 4.005 13.6075 4.00875 13.6175 M 4.02125 13.6175 C 4.02625 13.6075 4.03125 13.5975 4.0375 13.58625 L 5.44 10.52625 C 5.4475 10.5125 5.45875 10.50375 5.4725 10.50375 L 5.4925 10.50375 L 5.4925 14.4675 " transform="matrix(3.125,0,0,3.125,0,0)"/>
      </g>`},mp4Icon:{extension:".mp4",path:`<g id="surface6" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 36.898438 40.625 L 40.625 35.480469 L 40.625 40.625 Z M 28.761719 36.40625 C 28.761719 36.703125 28.707031 36.964844 28.605469 37.195312 C 28.496094 37.433594 28.347656 37.632812 28.148438 37.804688 C 27.929688 37.992188 27.667969 38.144531 27.34375 38.257812 C 27.003906 38.375 26.621094 38.4375 26.191406 38.4375 L 25 38.4375 L 25 34.375 L 26.191406 34.375 C 27.140625 34.375 27.835938 34.554688 28.253906 34.902344 C 28.378906 35.007812 28.761719 35.324219 28.761719 36.40625 Z M 44.6875 43.75 L 43.75 43.75 L 43.75 45.3125 C 43.75 46.175781 43.050781 46.875 42.1875 46.875 C 41.324219 46.875 40.625 46.175781 40.625 45.3125 L 40.625 43.75 L 34.066406 43.75 C 33.199219 43.75 32.503906 43.050781 32.503906 42.1875 L 32.503906 41.875 C 32.503906 41.546875 32.605469 41.226562 32.800781 40.957031 L 39.363281 31.898438 C 39.660156 31.492188 40.128906 31.25 40.628906 31.25 L 42.1875 31.25 C 43.050781 31.25 43.75 31.949219 43.75 32.8125 L 43.75 40.625 L 44.6875 40.625 C 45.550781 40.625 46.25 41.324219 46.25 42.1875 C 46.25 43.050781 45.550781 43.75 44.6875 43.75 Z M 31.445312 38.492188 C 31.148438 39.140625 30.730469 39.703125 30.195312 40.167969 C 29.6875 40.605469 29.082031 40.957031 28.390625 41.203125 C 27.71875 41.441406 26.976562 41.5625 26.191406 41.5625 L 25 41.5625 L 25 45 C 25 45.863281 24.300781 46.5625 23.4375 46.5625 C 22.578125 46.5625 21.875 45.863281 21.875 45 L 21.875 32.8125 C 21.875 31.949219 22.578125 31.25 23.4375 31.25 L 26.191406 31.25 C 27.890625 31.25 29.257812 31.671875 30.253906 32.5 C 31.339844 33.398438 31.886719 34.714844 31.886719 36.40625 C 31.886719 37.148438 31.738281 37.851562 31.445312 38.492188 Z M 18.730469 45.210938 C 18.730469 46.070312 18.027344 46.773438 17.167969 46.773438 C 16.300781 46.773438 15.605469 46.070312 15.605469 45.210938 L 15.605469 39.6875 L 14.035156 43.105469 C 14.019531 43.144531 14.003906 43.179688 13.984375 43.214844 C 13.71875 43.78125 13.15625 44.117188 12.566406 44.117188 L 12.53125 44.117188 C 11.941406 44.117188 11.378906 43.78125 11.113281 43.214844 C 11.097656 43.183594 11.078125 43.152344 11.066406 43.125 L 9.339844 39.484375 L 9.339844 45.210938 C 9.339844 46.070312 8.640625 46.773438 7.777344 46.773438 C 6.910156 46.773438 6.214844 46.070312 6.214844 45.210938 L 6.214844 32.824219 C 6.214844 31.960938 6.910156 31.261719 7.777344 31.261719 L 7.835938 31.261719 C 8.472656 31.261719 9.046875 31.617188 9.335938 32.191406 L 9.355469 32.226562 L 12.523438 38.90625 L 15.578125 32.242188 C 15.585938 32.226562 15.597656 32.210938 15.605469 32.191406 C 15.894531 31.617188 16.46875 31.261719 17.105469 31.261719 L 17.164062 31.261719 C 18.027344 31.261719 18.726562 31.960938 18.726562 32.824219 L 18.726562 45.210938 Z M 41.382812 28.125 L 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 41.382812 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface6" mask="url(#mask0)"/>
      <path style="fill:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(99.607843%,99.607843%,99.607843%);stroke-opacity:1;stroke-miterlimit:4;" d="M 14.3 13.5 L 10.90125 13.5 L 10.90125 13.4 L 13.00125 10.5 L 13.5 10.5 L 13.5 14.5 M 7.5 14.4 L 7.5 10.5 L 8.3825 10.5 C 8.8075 10.5 9.13375 10.595 9.3625 10.78375 C 9.59 10.975 9.7025 11.2625 9.7025 11.65 C 9.7025 11.81625 9.6725 11.97125 9.6075 12.11125 C 9.5425 12.2525 9.4525 12.37375 9.335 12.47625 C 9.21875 12.5775 9.0775 12.65625 8.9175 12.71375 C 8.75625 12.77125 8.5775 12.8 8.3825 12.8 L 7.6 12.8 M 2.4875 14.4675 L 2.4875 10.50375 L 2.5075 10.50375 C 2.5225 10.50375 2.53375 10.5125 2.5425 10.52625 L 3.9925 13.58625 C 3.99875 13.5975 4.005 13.6075 4.00875 13.6175 M 4.02125 13.6175 C 4.02625 13.6075 4.03125 13.5975 4.0375 13.58625 L 5.44 10.52625 C 5.4475 10.5125 5.45875 10.50375 5.4725 10.50375 L 5.4925 10.50375 L 5.4925 14.4675 " transform="matrix(3.125,0,0,3.125,0,0)"/>
      </g>`},oggIcon:{extension:".ogg",path:`<g id="surface9" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 8.976562 47.070312 C 10.464844 47.070312 11.757812 46.75 12.859375 46.109375 C 13.960938 45.46875 14.808594 44.550781 15.40625 43.351562 C 16.003906 42.15625 16.304688 40.757812 16.304688 39.152344 C 16.304688 37.550781 16.007812 36.152344 15.417969 34.964844 C 14.828125 33.777344 13.980469 32.859375 12.882812 32.21875 C 11.78125 31.578125 10.480469 31.257812 8.976562 31.257812 C 7.472656 31.257812 6.167969 31.578125 5.0625 32.21875 C 3.953125 32.859375 3.101562 33.777344 2.511719 34.964844 C 1.921875 36.152344 1.625 37.550781 1.625 39.152344 C 1.625 40.757812 1.925781 42.15625 2.523438 43.351562 C 3.121094 44.550781 3.972656 45.46875 5.070312 46.109375 C 6.171875 46.75 7.472656 47.070312 8.976562 47.070312 Z M 8.976562 44.820312 C 7.546875 44.820312 6.433594 44.332031 5.640625 43.351562 C 4.847656 42.375 4.449219 40.976562 4.449219 39.152344 C 4.449219 37.332031 4.847656 35.933594 5.640625 34.964844 C 6.433594 33.996094 7.546875 33.507812 8.976562 33.507812 C 10.390625 33.507812 11.496094 33.996094 12.289062 34.964844 C 13.085938 35.933594 13.484375 37.332031 13.484375 39.152344 C 13.484375 40.976562 13.085938 42.375 12.289062 43.351562 C 11.496094 44.332031 10.390625 44.820312 8.976562 44.820312 Z M 26.410156 47.070312 C 27.125 47.070312 27.871094 47.011719 28.640625 46.898438 C 29.414062 46.78125 30.09375 46.621094 30.675781 46.414062 C 31.214844 46.242188 31.574219 46.015625 31.75 45.738281 C 31.921875 45.460938 32.011719 44.988281 32.011719 44.316406 L 32.011719 39.613281 C 32.011719 39.292969 31.910156 39.03125 31.703125 38.835938 C 31.5 38.640625 31.230469 38.539062 30.894531 38.539062 L 27.023438 38.539062 C 26.671875 38.539062 26.398438 38.628906 26.203125 38.804688 C 26.007812 38.976562 25.90625 39.226562 25.90625 39.546875 C 25.90625 39.867188 26.007812 40.117188 26.203125 40.289062 C 26.398438 40.464844 26.671875 40.554688 27.023438 40.554688 L 29.496094 40.554688 L 29.496094 44.425781 C 28.503906 44.703125 27.511719 44.839844 26.519531 44.839844 C 23.195312 44.839844 21.53125 42.945312 21.53125 39.152344 C 21.53125 37.300781 21.9375 35.90625 22.746094 34.964844 C 23.554688 34.023438 24.753906 33.554688 26.34375 33.554688 C 27.046875 33.554688 27.671875 33.644531 28.226562 33.828125 C 28.78125 34.007812 29.378906 34.324219 30.019531 34.777344 C 30.195312 34.894531 30.347656 34.980469 30.480469 35.03125 C 30.609375 35.082031 30.757812 35.105469 30.917969 35.105469 C 31.164062 35.105469 31.375 34.996094 31.550781 34.777344 C 31.726562 34.558594 31.8125 34.289062 31.8125 33.96875 C 31.8125 33.75 31.773438 33.558594 31.695312 33.398438 C 31.613281 33.238281 31.484375 33.078125 31.3125 32.917969 C 30 31.808594 28.3125 31.257812 26.257812 31.257812 C 24.710938 31.257812 23.371094 31.574219 22.234375 32.207031 C 21.09375 32.84375 20.214844 33.753906 19.597656 34.941406 C 18.976562 36.128906 18.667969 37.535156 18.667969 39.152344 C 18.667969 40.800781 18.976562 42.21875 19.597656 43.40625 C 20.214844 44.597656 21.109375 45.503906 22.277344 46.132812 C 23.441406 46.757812 24.820312 47.070312 26.410156 47.070312 Z M 42.445312 47.070312 C 43.160156 47.070312 43.902344 47.011719 44.675781 46.898438 C 45.449219 46.78125 46.128906 46.621094 46.710938 46.414062 C 47.25 46.242188 47.609375 46.015625 47.78125 45.738281 C 47.957031 45.460938 48.046875 44.988281 48.046875 44.316406 L 48.046875 39.613281 C 48.046875 39.292969 47.941406 39.03125 47.738281 38.835938 C 47.535156 38.640625 47.265625 38.539062 46.929688 38.539062 L 43.058594 38.539062 C 42.707031 38.539062 42.433594 38.628906 42.238281 38.804688 C 42.039062 38.976562 41.941406 39.226562 41.941406 39.546875 C 41.941406 39.867188 42.039062 40.117188 42.238281 40.289062 C 42.433594 40.464844 42.707031 40.554688 43.058594 40.554688 L 45.53125 40.554688 L 45.53125 44.425781 C 44.539062 44.703125 43.546875 44.839844 42.554688 44.839844 C 39.230469 44.839844 37.566406 42.945312 37.566406 39.152344 C 37.566406 37.300781 37.972656 35.90625 38.78125 34.964844 C 39.589844 34.023438 40.789062 33.554688 42.378906 33.554688 C 43.078125 33.554688 43.707031 33.644531 44.261719 33.828125 C 44.816406 34.007812 45.414062 34.324219 46.054688 34.777344 C 46.230469 34.894531 46.382812 34.980469 46.515625 35.03125 C 46.644531 35.082031 46.792969 35.105469 46.953125 35.105469 C 47.199219 35.105469 47.410156 34.996094 47.585938 34.777344 C 47.761719 34.558594 47.847656 34.289062 47.847656 33.96875 C 47.847656 33.75 47.808594 33.558594 47.726562 33.398438 C 47.648438 33.238281 47.519531 33.078125 47.34375 32.917969 C 46.03125 31.808594 44.347656 31.257812 42.292969 31.257812 C 40.746094 31.257812 39.40625 31.574219 38.265625 32.207031 C 37.128906 32.84375 36.25 33.753906 35.632812 34.941406 C 35.011719 36.128906 34.703125 37.535156 34.703125 39.152344 C 34.703125 40.800781 35.011719 42.21875 35.632812 43.40625 C 36.25 44.597656 37.144531 45.503906 38.3125 46.132812 C 39.476562 46.757812 40.855469 47.070312 42.445312 47.070312 Z M 42.445312 47.070312 "/>
      </g>`},pdfIcon:{extension:".pdf",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.59375 25 L 39.4375 25 C 41.476562 25.003906 43.484375 25.472656 45.3125 26.375 L 45.3125 15.375 C 45.347656 14.191406 44.867188 13.054688 44 12.25 L 34.625 2.875 C 33.875 2.003906 32.773438 1.523438 31.625 1.5625 L 6.625 1.5625 C 5.589844 1.5625 4.75 2.402344 4.75 3.4375 L 4.75 26.375 C 6.566406 25.480469 8.566406 25.007812 10.59375 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.71875 L 42.15625 12.5 L 34.53125 12.5 C 34.480469 12.511719 34.425781 12.511719 34.375 12.5 Z M 6.25 25.71875 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.300781 13.980469 32.316406 15.253906 33.75 15.625 C 33.957031 15.675781 34.167969 15.675781 34.375 15.625 L 43.75 15.625 L 43.75 25.71875 C 44.859375 26.09375 45.910156 26.621094 46.875 27.28125 L 46.875 15.375 C 46.964844 13.722656 46.3125 12.117188 45.09375 11 L 35.71875 1.625 C 34.648438 0.523438 33.160156 -0.0664062 31.625 0 L 6.625 0 C 5.703125 -0.015625 4.8125 0.339844 4.152344 0.984375 C 3.496094 1.632812 3.125 2.515625 3.125 3.4375 L 3.125 27.28125 C 4.09375 26.625 5.144531 26.101562 6.25 25.71875 Z M 6.25 25.71875 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.625 28.125 C 6.335938 28.117188 4.136719 29.023438 2.515625 30.640625 C 0.898438 32.261719 -0.0078125 34.460938 0 36.75 L 0 41.375 C 0 46.136719 3.863281 50 8.625 50 L 41.375 50 C 46.132812 49.984375 49.984375 46.132812 50 41.375 L 50 36.75 C 50 31.988281 46.136719 28.125 41.375 28.125 Z M 8.625 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 14.40625 41.78125 L 12.09375 41.78125 L 12.09375 45.84375 C 12.003906 46.351562 11.5625 46.726562 11.046875 46.726562 C 10.53125 46.726562 10.089844 46.351562 10 45.84375 L 10 34.78125 C 10 34.210938 10.460938 33.75 11.03125 33.75 L 14.40625 33.75 C 15.925781 33.617188 17.390625 34.351562 18.191406 35.648438 C 18.992188 36.945312 18.992188 38.585938 18.191406 39.882812 C 17.390625 41.179688 15.925781 41.914062 14.40625 41.78125 Z M 12.09375 39.6875 L 14.40625 39.6875 C 15.152344 39.78125 15.882812 39.4375 16.289062 38.804688 C 16.691406 38.171875 16.691406 37.359375 16.289062 36.726562 C 15.882812 36.09375 15.152344 35.75 14.40625 35.84375 L 12.09375 35.84375 Z M 12.09375 39.6875 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 20.3125 45.84375 L 20.3125 34.78125 C 20.3125 34.210938 20.773438 33.75 21.34375 33.75 L 23.5625 33.75 C 27.1875 33.75 30.125 36.6875 30.125 40.3125 C 30.125 43.9375 27.1875 46.875 23.5625 46.875 L 21.34375 46.875 C 20.773438 46.875 20.3125 46.414062 20.3125 45.84375 Z M 22.40625 44.78125 L 23.5625 44.78125 C 26.03125 44.78125 28.03125 42.78125 28.03125 40.3125 C 28.03125 37.84375 26.03125 35.84375 23.5625 35.84375 L 22.40625 35.84375 Z M 22.40625 44.78125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 33.1875 45.84375 L 33.1875 34.78125 C 33.183594 34.476562 33.3125 34.1875 33.542969 33.992188 C 33.769531 33.792969 34.074219 33.703125 34.375 33.75 L 40.625 33.75 C 41.132812 33.839844 41.507812 34.28125 41.507812 34.796875 C 41.507812 35.3125 41.132812 35.753906 40.625 35.84375 L 35.25 35.84375 L 35.25 39.28125 L 39.625 39.28125 C 40.195312 39.28125 40.65625 39.742188 40.65625 40.3125 C 40.65625 40.882812 40.195312 41.34375 39.625 41.34375 L 35.25 41.34375 L 35.25 45.84375 C 35.257812 46.359375 34.882812 46.796875 34.375 46.875 C 34.074219 46.921875 33.769531 46.832031 33.542969 46.632812 C 33.3125 46.4375 33.183594 46.148438 33.1875 45.84375 Z M 33.1875 45.84375 "/>
      </g>`},defaultIcon:{extension:".default",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 3.117188 44.777344 C 1.394531 44.777344 0 43.386719 0 41.671875 L 0 3.484375 C 0 1.769531 1.394531 0.378906 3.117188 0.378906 L 25.792969 0.378906 C 27.164062 0.304688 28.5 0.808594 29.480469 1.765625 L 37.980469 10.230469 C 39.144531 11.242188 39.769531 12.730469 39.683594 14.265625 L 39.683594 41.671875 C 39.683594 43.386719 38.289062 44.777344 36.5625 44.777344 Z M 25.511719 3.203125 L 3.117188 3.203125 C 2.960938 3.203125 2.832031 3.328125 2.832031 3.484375 L 2.832031 41.671875 C 2.832031 41.828125 2.960938 41.957031 3.117188 41.957031 L 36.5625 41.957031 C 36.679688 41.949219 36.785156 41.867188 36.820312 41.757812 L 36.820312 14.492188 L 28.34375 14.492188 C 28.160156 14.539062 27.964844 14.539062 27.777344 14.492188 C 26.480469 14.15625 25.554688 13.007812 25.511719 11.671875 Z M 28.34375 4.640625 L 28.34375 11.671875 C 28.390625 11.683594 28.441406 11.683594 28.488281 11.671875 L 35.402344 11.671875 Z M 28.34375 4.640625 "/>
      </g>`}},xe.MODULES.modals=function(a){var f=a.$;a.shared.modals||(a.shared.modals={});var N,O=a.shared.modals;function T(){for(var G in O)if(Object.prototype.hasOwnProperty.call(O,G)){var P=O[G];P&&P.$modal&&P.$modal.removeData().remove()}N&&N.removeData().remove(),O={}}function L(G,P){if(O[G]){var F=O[G].$modal,j=F.data("instance")||a;j.events.enableBlur(),F.hide(),N.hide(),f(j.o_doc).find("body").first().removeClass("fr-prevent-scroll fr-mobile"),F.removeClass("fr-active"),P||(j.accessibility.restoreSelection(),j.events.trigger("modals.hide"))}}function B(G){var P;if(typeof G=="string"){if(!O[G])return;P=O[G].$modal}else P=G;return P&&a.node.hasClass(P,"fr-active")&&a.core.sameInstance(P)||!1}return{_init:function(){a.events.on("shared.destroy",T,!0)},get:function(P){return O[P]},create:function(P,F,j){if(F='<div class="fr-modal-head-line">'.concat(F,"</div>"),a.shared.$overlay||(a.shared.$overlay=f(a.doc.createElement("DIV")).addClass("fr-overlay"),f("body").first().append(a.shared.$overlay)),N=a.shared.$overlay,a.opts.theme&&N.addClass("".concat(a.opts.theme,"-theme")),!O[P]){var H=function(w,he){var be='<div tabIndex="-1" class="fr-modal'.concat(a.opts.theme?" ".concat(a.opts.theme,"-theme"):"",'"><div class="fr-modal-wrapper">'),se='<button title="'.concat(a.language.translate("Cancel"),'" class="fr-command fr-btn fr-modal-close"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24"><path d="').concat(xe.SVG.close,'"/></svg></button>');be+='<div class="fr-modal-head">'.concat(w).concat(se,"</div>"),be+='<div tabIndex="-1" class="fr-modal-body">'.concat(he,"</div>"),be+="</div></div>";var re=f(a.doc.createElement("DIV"));return re.html(be),re.find("> .fr-modal")}(F,j);O[P]={$modal:H,$head:H.find(".fr-modal-head"),$body:H.find(".fr-modal-body")},a.helpers.isMobile()||H.addClass("fr-desktop"),f("body").first().append(H),a.events.$on(H,"click",".fr-modal-close",function(){L(P)},!0),O[P].$body.css("margin-top",O[P].$head.outerHeight()),a.events.$on(H,"keydown",function(ee){var w=ee.which;return w===xe.KEYCODE.ESC?(L(P),a.accessibility.focusModalButton(H),!1):!(!f(ee.currentTarget).is("input[type=text], textarea")&&w!==xe.KEYCODE.ARROW_UP&&w!==xe.KEYCODE.ARROW_DOWN&&!a.keys.isBrowserAction(ee)&&(ee.preventDefault(),ee.stopPropagation(),1))},!0),L(P,!0)}return O[P]},show:function(P){if(O[P]){var F=O[P].$modal;F.data("instance",a),F.show(),N.show(),f(a.o_doc).find("body").first().addClass("fr-prevent-scroll"),a.helpers.isMobile()&&f(a.o_doc).find("body").first().addClass("fr-mobile"),F.addClass("fr-active"),a.accessibility.focusModal(F)}},hide:L,resize:function(P){if(O[P]){var F=O[P],j=F.$modal,H=F.$body,ee=a.o_win.innerHeight,w=j.find(".fr-modal-wrapper"),he=ee-w.outerHeight(!0)+(w.height()-(H.outerHeight(!0)-H.height())),be="auto";he<H.get(0).scrollHeight&&(be=he),H.height(be)}},isVisible:B,areVisible:function(P){for(var F in O)if(Object.prototype.hasOwnProperty.call(O,F)&&B(F)&&(P===void 0||O[F].$modal.data("instance")===P))return O[F].$modal;return!1}}},xe.MODULES.position=function(a){var f=a.$;function N(){var P=a.selection.ranges(0),F=P.getBoundingClientRect();if(F.top===0&&F.left===0&&F.width===0||F.height===0){var j=!1,H=a.opts.toolbarInline&&P.startContainer&&P.startContainer.firstChild&&P.startContainer.firstChild.tagName==="BR";a.$el.find(".fr-marker").length===0&&(H?f(P.startContainer.firstChild).after(xe.MARKERS):a.selection.save(),j=!0);var ee=a.$el.find(".fr-marker").first();ee.css("display","inline"),ee.css("line-height","");var w=ee.offset(),he=ee.outerHeight();ee.css("display","none"),ee.css("line-height",0),(F={}).left=w&&w.left,F.width=0,F.height=he,F.top=w&&w.top-(a.helpers.isMobile()&&!a.helpers.isIOS()||a.opts.iframe?0:a.helpers.scrollTop()),F.right=1,F.bottom=1,F.ok=!0,j&&(H?a.$el.find(".fr-marker").remove():a.selection.restore())}return F}function O(P,F,j,H){var ee=j.data("container");if(!ee||ee.get(0).tagName==="BODY"&&ee.css("position")==="static"||(P&&(P-=ee.offset().left),F&&(F-=ee.offset().top),ee.get(0).tagName!=="BODY"?(P&&(P+=ee.get(0).scrollLeft),F&&(F+=ee.get(0).scrollTop)):ee.css("position")==="absolute"&&(P&&(P+=ee.position().left),F&&(F+=ee.position().top))),a.opts.iframe&&ee&&a.$tb&&ee.get(0)!==a.$tb.get(0)){var w=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-top")),he=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-left"));P&&(P+=a.$iframe.offset().left+he),F&&(F+=a.$iframe.offset().top+w)}var be=function(re,ie){var M=re.outerWidth(!0);return ie+M>a.$sc.get(0).clientWidth-10&&(ie=a.$sc.get(0).clientWidth-M-10),ie<0&&(ie=10),ie}(j,P);P&&j.css("left",be),F&&j.css("top",function(re,ie,M){var W=re.outerHeight(!0);if(!a.helpers.isMobile()&&a.$tb&&re.parent().get(0)!==a.$tb.get(0)){var K=re.parent().offset().top,R=ie-W-(M||0);re.parent().get(0)===a.$sc.get(0)&&(K-=re.parent().position().top);var A=a.$sc.get(0).clientHeight;K+ie+W>a.$sc.offset().top+A&&0<re.parent().offset().top+R&&0<R?R>a.$wp.scrollTop()&&(ie=R,re.addClass("fr-above")):re.removeClass("fr-above")}return ie}(j,F,H))}function T(P){var F=f(P),j=F.is(".fr-sticky-on"),H=F.data("sticky-top"),ee=F.data("sticky-scheduled");if(H===void 0){F.data("sticky-top",0);var w=f('<div class="fr-sticky-dummy" style="height: '.concat(F.outerHeight(),'px;"></div>'));a.$box.prepend(w)}else a.$box.find(".fr-sticky-dummy").css("height",F.outerHeight());if(a.core.hasFocus()||0<a.$tb.findVisible("input:focus").length){var he=a.helpers.scrollTop(),be=Math.min(Math.max(he-a.$tb.parent().offset().top,0),a.$tb.parent().outerHeight()-F.outerHeight());if(be!==H&&be!==ee&&(clearTimeout(F.data("sticky-timeout")),F.data("sticky-scheduled",be),F.outerHeight()<he-a.$tb.parent().offset().top&&F.addClass("fr-opacity-0"),F.data("sticky-timeout",setTimeout(function(){var ie=a.helpers.scrollTop(),M=Math.min(Math.max(ie-a.$tb.parent().offset().top,0),a.$tb.parent().outerHeight()-F.outerHeight());0<M&&a.$tb.parent().get(0).tagName==="BODY"&&(M+=a.$tb.parent().position().top),M!==H&&(F.css("top",Math.max(M,0)),F.data("sticky-top",M),F.data("sticky-scheduled",M)),F.removeClass("fr-opacity-0")},100))),!j){var se=a.$tb.parent(),re=se.get(0).offsetWidth-se.get(0).clientWidth;F.css("top","0"),F.width(se.width()-re),F.addClass("fr-sticky-on"),a.$box.addClass("fr-sticky-box")}}else clearTimeout(f(P).css("sticky-timeout")),F.css("top","0"),F.css("position",""),F.css("width",""),F.data("sticky-top",0),F.removeClass("fr-sticky-on"),a.$box.removeClass("fr-sticky-box")}function L(P){if(P.offsetWidth){var F=f(P),j=F.outerHeight(),H=F.data("sticky-position"),ee=f(a.opts.scrollableContainer==="body"?a.o_win:a.opts.scrollableContainer).outerHeight(),w=0,he=0;a.opts.scrollableContainer!=="body"&&(w=a.$sc.offset().top,he=f(a.o_win).outerHeight()-w-ee);var be=a.opts.scrollableContainer==="body"?a.helpers.scrollTop():w,se=F.is(".fr-sticky-on");F.data("sticky-parent")||F.data("sticky-parent",F.parent());var re=F.data("sticky-parent"),ie=re.offset().top,M=re.outerHeight();if(F.data("sticky-offset")?a.$box.find(".fr-sticky-dummy").css("height","".concat(j,"px")):(F.data("sticky-offset",!0),F.after('<div class="fr-sticky-dummy" style="height: '.concat(j,'px;"></div>'))),!H){var W=F.css("top")!=="auto"||F.css("bottom")!=="auto";W||F.css("position","fixed"),H={top:a.node.hasClass(F.get(0),"fr-top"),bottom:a.node.hasClass(F.get(0),"fr-bottom")},W||F.css("position",""),F.data("sticky-position",H),F.data("top",a.node.hasClass(F.get(0),"fr-top")?F.css("top"):"auto"),F.data("bottom",a.node.hasClass(F.get(0),"fr-bottom")?F.css("bottom"):"auto")}var K=a.helpers.getPX(F.data("top")),R=a.helpers.getPX(F.data("bottom")),A=H.top&&function(){return ie<be+K&&be+K<=ie+M-j}(),J=H.bottom&&function(){return ie+j<be+ee-R&&be+ee-R<ie+M}();if(A||J){var V=re.get(0).offsetWidth-re.get(0).clientWidth;if(F.css("width","".concat(re.get(0).getBoundingClientRect().width-V,"px")),se)a.opts.scrollableContainer!=="body"&&(F.css("top")&&F.data("top")!=="auto"&&F.css("top",a.helpers.getPX(F.data("top"))+w-window.scrollY),F.css("bottom")&&F.data("bottom")!=="auto"&&F.css("bottom",a.helpers.getPX(F.data("bottom"))+he+window.scrollY));else{if(F.addClass("fr-sticky-on"),F.removeClass("fr-sticky-off"),F.css("top"))if(F.data("top")!=="auto"){var q=a.opts.scrollableContainer==="body"?w:w-window.scrollY;F.css("top",a.helpers.getPX(F.data("top"))+q)}else F.data("top","auto");if(F.css("bottom"))if(F.data("bottom")!=="auto"){var ae=a.opts.scrollableContainer==="body"?he:he+window.scrollY;F.css("bottom",a.helpers.getPX(F.data("bottom"))+ae)}else F.css("bottom","auto")}}else a.node.hasClass(F.get(0),"fr-sticky-off")||(F.css("width",""),F.removeClass("fr-sticky-on"),F.addClass("fr-sticky-off"),F.css("top")&&F.data("top")!=="auto"&&H.top&&F.css("top",0),F.css("bottom")&&F.data("bottom")!=="auto"&&H.bottom&&F.css("bottom",0))}}function B(){if(a.helpers.requestAnimationFrame()(B),a.events.trigger("position.refresh")!==!1)for(var P=0;P<a._stickyElements.length;P++)if(a.opts.toolbarBottom){var F=a.$tb.parent(),j=F.get(0).offsetWidth-F.get(0).clientWidth,H=f(a._stickyElements[P]);H.width(F.width()-j),H.addClass("fr-sticky-on"),a.$box.addClass("fr-sticky-box")}else T(a._stickyElements[P])}function G(){if(a._stickyElements)for(var P=0;P<a._stickyElements.length;P++)L(a._stickyElements[P])}return{_init:function(){(function(){if(a._stickyElements=[],a.helpers.getIOSVersion()<=8)B(),a.events.$on(f(a.o_win),"scroll",function(){if(a.core.hasFocus())for(var H=0;H<a._stickyElements.length;H++){var ee=f(a._stickyElements[H]),w=ee.parent(),he=a.helpers.scrollTop();ee.outerHeight()<he-w.offset().top&&(a.opts.toolbarBottom&&a.helpers.isIOS()||(ee.addClass("fr-opacity-0"),ee.data("sticky-top",-1),ee.data("sticky-scheduled",-1)))}},!0);else{a.opts.scrollableContainer!=="body"&&a.events.$on(f(a.opts.scrollableContainer),"scroll",G,!0),a.events.$on(f(a.o_win),"scroll",G,!0),a.events.$on(f(a.o_win),"resize",G,!0),a.events.on("initialized",G),a.events.on("focus",G),a.events.$on(f(a.o_win),"resize","textarea",G,!0);var j=f(a.el).parents(".modal");j.get(0)&&a.events.$on(j,"scroll",G,!0)}a.events.on("destroy",function(){a._stickyElements=[]})})()},forSelection:function(F){var j=N();if(j.top!=null){F.css({top:0,left:0});var H=j.top+j.height,ee=j.left+j.width/2-F.get(0).offsetWidth/2+a.helpers.scrollLeft();a.opts.iframe||(H+=a.helpers.scrollTop()),O(ee,H,F,j.height)}},addSticky:function(F){F.addClass("fr-sticky"),a.helpers.isIOS()&&!a.opts.toolbarBottom&&F.addClass("fr-sticky-ios"),F.removeClass("fr-sticky"),a._stickyElements.push(F.get(0))},refresh:G,at:O,getBoundingRect:N}},xe.MODULES.refresh=function(a){var f=a.$;function N(T,L){T.toggleClass("fr-disabled",L).attr("aria-disabled",L)}function O(T){var L=a.$tb.find('.fr-more-toolbar[data-name="'.concat(T.attr("data-group-name"),'"]')),B=function(P,F){var j=0,H=F.find("> .fr-command, > .fr-btn-wrap");H.each(function(be,se){j+=f(se).outerWidth()});var ee,w=a.helpers.getPX(f(H[0]).css("margin-left")),he=a.helpers.getPX(f(H[0]).css("margin-right"));return ee=a.opts.direction==="rtl"?a.$tb.outerWidth()-P.offset().left+a.$tb.offset().left-(j+P.outerWidth()+H.length*(w+he))/2:P.offset().left-a.$tb.offset().left-(j-P.outerWidth()+H.length*(w+he))/2,ee+j+H.length*(w+he)>a.$tb.outerWidth()&&(ee-=(j+H.length*(w+he)-P.outerWidth())/2),ee<0&&(ee=0),ee}(T,L);a.opts.direction==="rtl"?L.css("padding-right",B):L.css("padding-left",B)}return{undo:function(L){N(L,!a.undo.canDo())},redo:function(L){N(L,!a.undo.canRedo())},outdent:function(L){if(a.node.hasClass(L.get(0),"fr-no-refresh")||f("button#markdown-".concat(a.id,".fr-active")).length)return!1;for(var B=a.selection.blocks(),G=0;G<B.length;G++){var P=a.opts.direction==="rtl"||f(B[G]).css("direction")==="rtl"?"margin-right":"margin-left",F=B[0].parentElement;if(["HTML","P","DIV","UL","OL","LI","TR","BLOCKQUOTE","BODY"].indexOf(F.parentNode.tagName)<0||B[0].previousSibling&&F.parentNode.style.listStyleType=="none")return N(L,!0),!0;if(B[G].tagName==="LI"||B[G].parentNode.tagName==="LI"||0<a.helpers.getPX(f(B[G]).css(P))+a.helpers.getPX(f(B[G]).css("text-indent")))return N(L,!1),!0}N(L,!0)},indent:function(L){if(a.node.hasClass(L.get(0),"fr-no-refresh")||f("button#markdown-".concat(a.id,".fr-active")).length)return!1;for(var B=a.selection.blocks(),G=0;G<B.length;G++){for(var P=B[G].previousSibling;P&&P.nodeType===Node.TEXT_NODE&&P.textContent.length===0;)P=P.previousSibling;if(B[G].tagName!=="LI"||P)return N(L,!1),!0;N(L,!0)}},moreText:O,moreParagraph:O,moreMisc:O,moreRich:O}},Object.assign(xe.DEFAULTS,{attribution:!0,toolbarBottom:!1,toolbarButtons:null,toolbarButtonsXS:null,toolbarButtonsSM:null,toolbarButtonsMD:null,toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1,toolbarResponsiveToEditor:!1}),xe.TOOLBAR_BUTTONS={moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote"]},moreRich:{buttons:["trackChanges","markdown","insertLink","insertFiles","insertImage","insertVideo","insertTable","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR","openFilePicker"],buttonsVisible:4},moreMisc:{buttons:["undo","redo","fullscreen","print","getPDF","spellChecker","selectAll","html","help","findReplaceButton"],align:"right",buttonsVisible:2},trackChanges:{buttons:["showChanges","applyAll","removeAll","applyLast","removeLast"],buttonsVisible:0}},xe.TOOLBAR_BUTTONS_MD=null,(xe.TOOLBAR_BUTTONS_SM={}).moreText=Object.assign({},xe.TOOLBAR_BUTTONS.moreText,{buttonsVisible:2}),xe.TOOLBAR_BUTTONS_SM.moreParagraph=Object.assign({},xe.TOOLBAR_BUTTONS.moreParagraph,{buttonsVisible:2}),xe.TOOLBAR_BUTTONS_SM.moreRich=Object.assign({},xe.TOOLBAR_BUTTONS.moreRich,{buttonsVisible:2}),xe.TOOLBAR_BUTTONS_SM.moreMisc=Object.assign({},xe.TOOLBAR_BUTTONS.moreMisc,{buttonsVisible:2}),xe.TOOLBAR_BUTTONS_SM.trackChanges=Object.assign({},xe.TOOLBAR_BUTTONS.trackChanges,{buttonsVisible:0}),(xe.TOOLBAR_BUTTONS_XS={}).moreText=Object.assign({},xe.TOOLBAR_BUTTONS.moreText,{buttonsVisible:0}),xe.TOOLBAR_BUTTONS_XS.moreParagraph=Object.assign({},xe.TOOLBAR_BUTTONS.moreParagraph,{buttonsVisible:0}),xe.TOOLBAR_BUTTONS_XS.moreRich=Object.assign({},xe.TOOLBAR_BUTTONS.moreRich,{buttonsVisible:0}),xe.TOOLBAR_BUTTONS_XS.moreMisc=Object.assign({},xe.TOOLBAR_BUTTONS.moreMisc,{buttonsVisible:2}),xe.TOOLBAR_BUTTONS_XS.trackChanges=Object.assign({},xe.TOOLBAR_BUTTONS.trackChanges,{buttonsVisible:0}),xe.POWERED_BY='<a id="fr-logo" href="https://froala.com/wysiwyg-editor" target="_blank" title="Froala WYSIWYG HTML Editor"><span>Powered by</span><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 822.8 355.33"><defs><style>.fr-logo{fill:#b1b2b7;}</style></defs><title>Froala</title><path class="fr-logo" d="M123.58,78.65A16.16,16.16,0,0,0,111.13,73H16.6C7.6,73,0,80.78,0,89.94V128.3a16.45,16.45,0,0,0,32.9,0V104.14h78.5A15.63,15.63,0,0,0,126.87,91.2,15.14,15.14,0,0,0,123.58,78.65Z"/><path class="fr-logo" d="M103.54,170a16.05,16.05,0,0,0-11.44-4.85H15.79A15.81,15.81,0,0,0,0,180.93v88.69a16.88,16.88,0,0,0,5,11.92,16,16,0,0,0,11.35,4.7h.17a16.45,16.45,0,0,0,16.41-16.6v-73.4H92.2A15.61,15.61,0,0,0,107.89,181,15.1,15.1,0,0,0,103.54,170Z"/><path class="fr-logo" d="M233,144.17c-5.29-6.22-16-7.52-24.14-7.52-16.68,0-28.72,7.71-36.5,23.47v-5.67a16.15,16.15,0,1,0-32.3,0v115.5a16.15,16.15,0,1,0,32.3,0v-38.7c0-19.09,3.5-63.5,35.9-63.5a44.73,44.73,0,0,1,5.95.27h.12c12.79,1.2,20.06-2.73,21.6-11.69C236.76,151.48,235.78,147.39,233,144.17Z"/><path class="fr-logo" d="M371.83,157c-13.93-13.11-32.9-20.33-53.43-20.33S279,143.86,265.12,157c-14.67,13.88-22.42,32.82-22.42,54.77,0,21.68,8,41.28,22.4,55.2,13.92,13.41,32.85,20.8,53.3,20.8s39.44-7.38,53.44-20.79c14.55-13.94,22.56-33.54,22.56-55.21S386.39,170.67,371.83,157Zm-9.73,54.77c0,25.84-18.38,44.6-43.7,44.6s-43.7-18.76-43.7-44.6c0-25.15,18.38-43.4,43.7-43.4S362.1,186.59,362.1,211.74Z"/><path class="fr-logo" d="M552.7,138.14a16.17,16.17,0,0,0-16,16.3v1C526.41,143.85,509,136.64,490,136.64c-19.83,0-38.19,7.24-51.69,20.4C424,171,416.4,190,416.4,212c0,21.61,7.78,41.16,21.9,55,13.56,13.33,31.92,20.67,51.7,20.67,18.83,0,36.29-7.41,46.7-19.37v1.57a16.15,16.15,0,1,0,32.3,0V154.44A16.32,16.32,0,0,0,552.7,138.14Zm-16.3,73.6c0,30.44-22.81,44.3-44,44.3-24.57,0-43.1-19-43.1-44.3s18.13-43.4,43.1-43.4C513.73,168.34,536.4,183.55,536.4,211.74Z"/><path class="fr-logo" d="M623.5,61.94a16.17,16.17,0,0,0-16,16.3v191.7a16.15,16.15,0,1,0,32.3,0V78.24A16.32,16.32,0,0,0,623.5,61.94Z"/><path class="fr-logo" d="M806.5,138.14a16.17,16.17,0,0,0-16,16.3v1c-10.29-11.63-27.74-18.84-46.7-18.84-19.83,0-38.19,7.24-51.69,20.4-14.33,14-21.91,33-21.91,55,0,21.61,7.78,41.16,21.9,55,13.56,13.33,31.92,20.67,51.7,20.67,18.83,0,36.29-7.41,46.7-19.37v1.57a16.15,16.15,0,1,0,32.3,0V154.44A16.32,16.32,0,0,0,806.5,138.14Zm-16.3,73.6c0,30.44-22.81,44.3-44,44.3-24.57,0-43.1-19-43.1-44.3s18.13-43.4,43.1-43.4C767.53,168.34,790.2,183.55,790.2,211.74Z"/></svg></a>',xe.MODULES.toolbar=function(a){var f=a.$;function N(ie){if(-1<a.opts.pluginsEnabled.indexOf("filestack")&&a.opts.filestackOptions&&a.opts.filestackOptions.uploadToFilestackOnly){var M,W=JSON.parse(JSON.stringify(ie)),K=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.includes("openFilePicker"),R=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.includes("insertFile"),A=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.includes("insertFiles");K?((M=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.findIndex(function(q){return q==="insertFile"}))!==-1&&W.moreRich.buttons.splice(M,1),(M=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.findIndex(function(q){return q==="insertFiles"}))!==-1&&W.moreRich.buttons.splice(M,1)):R&&A&&(M=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.findIndex(function(q){return q==="insertFiles"}))!==-1&&W.moreRich.buttons.splice(M,1);var J=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.findIndex(function(q){return q==="insertImage"});-1<J&&J!==null&&(W.moreRich.buttons[J]="openFilePickerImageOnly");var V=W.moreRich&&W.moreRich.buttons&&W.moreRich.buttons.findIndex(function(q){return q==="insertVideo"});return-1<V&&V!==null&&(W.moreRich.buttons[V]="openFilePickerVideoOnly"),W}return ie}var O,T=[];function L(ie){var M={};if(Array.isArray(ie)){if(!Array.isArray(ie[0])){for(var W=[],K=[],R=0;R<ie.length;R++)ie[R]==="|"||ie[R]==="-"?(0<K.length&&W.push(K),K=[]):K.push(ie[R]);0<K.length&&W.push(K),ie=W}ie.forEach(function(A,J){M["group".concat(J+1)]={buttons:A}}),M.showMoreButtons=!1}else un(ie)!=="object"||Array.isArray(ie)||((M=ie).showMoreButtons=!0);return M}function B(){var ie=a.helpers.screenSize(a.opts.toolbarResponsiveToEditor);return T[O=ie]}function G(){for(var ie=a.$tb.find(".fr-more-toolbar"),M=function(){var R=f(ie[W]);if(R.hasClass("fr-expanded")){var A=a.helpers.getPX(R.css("padding-left")),J=R.find("> .fr-command, > .fr-btn-wrap"),V=f(J[0]),q=a.helpers.getPX(V.css("margin-left")),ae=a.helpers.getPX(V.css("margin-right")),Le=a.helpers.getPX(V.css("margin-top")),Ee=a.helpers.getPX(V.css("margin-bottom"));if(J.each(function(We,ct){A+=f(ct).outerWidth()+q+ae}),a.$tb.outerWidth()<A){var we=Math.floor(A/a.$tb.outerWidth());A+=we*(A/R[0].childElementCount),we=Math.ceil(A/a.$tb.outerWidth());var Ne=(a.helpers.getPX(V.css("height"))+Le+Ee)*we;R.css("height",Ne)}}else R.css("height","")},W=0;W<ie.length;W++)M();!a.helpers.isMobile()&&a.opts.toolbarBottom?a.$tb.find(".fr-toolbar .fr-more-toolbar").removeClass("position-relative"):a.$tb.find(".fr-toolbar .fr-more-toolbar").addClass("position-relative")}function P(){if(a.$tb.find("[data-name='trackChanges-".concat(a.id,"']")).length==0&&-1<a.opts.pluginsEnabled.indexOf("track_changes")){a.$tb.append(f('<div class="fr-more-toolbar"></div>').data("name","trackChanges-".concat(a.id)));for(var ie=0,M=["showChanges","applyAll","removeAll","applyLast","removeLast"];ie<M.length;ie++){var W=M[ie],K=xe.COMMANDS[W];if(K){K.more_btn=!0;var R=f(a.button.build(W,K,!0));a.button.addButtons(R),a.$tb.find("[data-name='trackChanges-".concat(a.id,"']")).append(R)}}}if(O!==a.helpers.screenSize(a.opts.toolbarResponsiveToEditor)){var A=B(),J=f(),V=f();for(var q in a.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").addClass("fr-hidden"),function(){for(var Ze=a.$tb.find(".fr-btn-grp, .fr-more-toolbar"),qe=function(){var xt=f(Ze[Fe]);xt.children().each(function(ft,Ot){xt.before(Ot)}),xt.remove()},Fe=0;Fe<Ze.length;Fe++)qe()}(),a.$tb.find(".fr-separator.fr-vs, .fr-separator.fr-hs").remove(),A){var ae=A[q];if(ae.buttons&&(q!=="trackChanges"||a.opts.pluginsEnabled.indexOf("track_changes")!==-1)){var Le=void 0,Ee=0,we=3,Ne=void 0;q!=="trackChanges"&&(Ne=f('<div class="fr-btn-grp fr-float-'.concat(A[q].align?A[q].align:"left",'"></div>'))),A.showMoreButtons&&(Le=f('<div class="fr-more-toolbar"></div>').data("name","".concat(q,"-").concat(a.id)),q!=="trackChanges"&&q!=="moreRich"||!a.opts.trackChangesEnabled||Le.addClass("fr-expanded"));for(var We=0;We<ae.buttons.length;We++){ae.buttonsVisible!==void 0&&(we=ae.buttonsVisible);var ct=a.$tb.find('> .fr-command[data-cmd="'+ae.buttons[We]+'"], > div.fr-btn-wrap > .fr-command[data-cmd="'+ae.buttons[We]+'"]'),nt=null;a.node.hasClass(ct.next().get(0),"fr-dropdown-menu")&&(nt=ct.next()),a.node.hasClass(ct.next().get(0),"fr-options")&&(ct.removeClass("fr-hidden"),ct.next().removeClass("fr-hidden"),ct=ct.parent()),ct.removeClass("fr-hidden"),A.showMoreButtons&&we<=Ee?(Le.append(ct),nt&&Le.append(nt)):(Ne.append(ct),ae.buttons[We]==="|"?Ne.append(f('<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>')):ae.buttons[We]==="-"&&Ne.append(f('<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')),nt&&Ne.append(nt)),Ee++}if(A.showMoreButtons&&we<Ee){var st=a.$tb.find('.fr-command[data-cmd="'.concat(q,'"]'));if(0<st.length)st.removeClass("fr-hidden fr-open");else{var Me=q,tt=xe.COMMANDS[Me];tt&&(tt.more_btn=!0,st=f(a.button.build(Me,tt,!0)),a.button.addButtons(st))}Ne&&Ne.append(st)}Ne&&J.push(Ne),A.showMoreButtons&&V.push(Le)}}a.opts.toolbarBottom?(a.$tb.append(V),a.$tb.find(".fr-newline").remove(),a.$tb.append('<div class="fr-newline"></div>'),a.$tb.append(J)):(a.$tb.append(J),a.$tb.find(".fr-newline").remove(),a.$tb.append('<div class="fr-newline"></div>'),a.$tb.append(V)),a.$tb.removeClass("fr-toolbar-open"),a.$box.removeClass("fr-toolbar-open"),a.events.trigger("codeView.toggle")}G()}function F(ie,M){setTimeout(function(){var W;if(a.opts.iframe?W=a.$iframe.get(0).contentWindow.document.activeElement:W=document.activeElement,(!ie||ie.which!=xe.KEYCODE.ESC)&&a.selection.inEditor()&&a.core.hasFocus()&&!a.popups.areVisible()&&f(a.selection.blocks()[0]).closest("table").attr("contenteditable")!="false"&&W.tagName!=="INPUT"&&W.tagName!=="TEXTAREA"&&(a.opts.toolbarVisibleWithoutSelection||!a.selection.isCollapsed()&&!a.keys.isIME()||M)){if(a.$tb.data("instance",a),a.events.trigger("toolbar.show",[ie])===!1||ie&&a.helpers.isMobile()&&!function(R,A){for(var J=R.target;J;){if(J===A)return!0;J=J.parentElement}return!1}(ie,a.$box))return;a.$tb.show(),a.opts.toolbarContainer||a.position.forSelection(a.$tb),1<a.opts.zIndex?a.$tb.css("z-index",a.opts.zIndex+1):a.$tb.css("z-index",null)}},0)}function j(ie){return(!ie||ie.type!=="blur"||document.activeElement!==a.el)&&(!ie||ie.type!=="blur"||!a.helpers.isMobile())&&(!(!ie||ie.type!=="keydown"||!a.keys.ctrlKey(ie))||!!a.button.getButtons(".fr-dropdown.fr-active").next().find(a.o_doc.activeElement).length||(a.helpers.isMobile()&&a.opts.toolbarInline&&(a.$tb.find(".fr-expanded").toggleClass("fr-expanded"),a.$tb.find(".fr-open").removeClass("fr-open"),a.$tb.removeClass("fr-toolbar-open"),G()),void(a.events.trigger("toolbar.hide")!==!1&&a.$tb.hide())))}T[xe.XS]=L(N(a.opts.toolbarButtonsXS||a.opts.toolbarButtons||xe.TOOLBAR_BUTTONS_XS||xe.TOOLBAR_BUTTONS||[])),T[xe.SM]=L(N(a.opts.toolbarButtonsSM||a.opts.toolbarButtons||xe.TOOLBAR_BUTTONS_SM||xe.TOOLBAR_BUTTONS||[])),T[xe.MD]=L(N(a.opts.toolbarButtonsMD||a.opts.toolbarButtons||xe.TOOLBAR_BUTTONS_MD||xe.TOOLBAR_BUTTONS||[])),T[xe.LG]=L(N(a.opts.toolbarButtons||xe.TOOLBAR_BUTTONS||[]));var H=null;function ee(ie){clearTimeout(H),ie&&ie.which===xe.KEYCODE.ESC||(H=setTimeout(F,a.opts.typingTimer))}function w(){a.events.on("window.mousedown",j),a.events.on("keydown",j),a.events.on("blur",j),a.events.$on(a.$tb,"transitionend",".fr-more-toolbar",function(){a.position.forSelection(a.$tb)}),a.helpers.isMobile()||a.events.on("window.mouseup",F),a.helpers.isMobile()?a.helpers.isIOS()||(a.events.on("window.touchend",F),a.browser.mozilla&&setInterval(F,200)):a.events.on("window.keyup",ee),a.events.on("keydown",function(ie){ie&&ie.which===xe.KEYCODE.ESC&&a.events.trigger("toolbar.esc")}),a.events.on("keydown",function(ie){if(ie.which===xe.KEYCODE.ALT)return ie.stopPropagation(),!1},!0),a.events.$on(a.$wp,"scroll.toolbar",F),a.events.on("commands.after",F),a.helpers.isMobile()&&(a.events.$on(a.$doc,"selectionchange",ee),a.events.$on(a.$doc,"orientationchange",F))}function he(){a.$tb&&(a.$tb.html("").removeData().remove(),a.$tb=null),a.$second_tb&&(a.$second_tb.html("").removeData().remove(),a.$second_tb=null)}function be(){a.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),a.$box.find(".fr-sticky-dummy").remove()}function se(){a.opts.theme&&a.$tb.addClass("".concat(a.opts.theme,"-theme")),1<a.opts.zIndex&&a.$tb.css("z-index",a.opts.zIndex+1),a.opts.direction!=="auto"&&a.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-".concat(a.opts.direction)),a.helpers.isMobile()?a.$tb.addClass("fr-mobile"):a.$tb.addClass("fr-desktop"),a.opts.toolbarContainer?(a.opts.toolbarInline&&(w(),j()),a.opts.toolbarBottom?a.$tb.addClass("fr-bottom"):a.$tb.addClass("fr-top")):function(){a.opts.toolbarInline?(a.$sc.append(a.$tb),a.$tb.data("container",a.$sc),a.$tb.addClass("fr-inline"),w(),a.opts.toolbarBottom=!1):(a.opts.toolbarBottom?(a.$box.append(a.$tb),a.$tb.addClass("fr-bottom"),a.$box.addClass("fr-bottom")):(a.opts.toolbarBottom=!1,a.$box.prepend(a.$tb),a.$tb.addClass("fr-top"),a.$box.addClass("fr-top")),a.$tb.addClass("fr-basic"),a.opts.toolbarSticky&&(a.opts.toolbarStickyOffset&&(a.opts.toolbarBottom?a.$tb.css("bottom",a.opts.toolbarStickyOffset):a.$tb.css("top",a.opts.toolbarStickyOffset)),a.position.addSticky(a.$tb)))}(),function(){var M=a.button.buildGroup(B());a.$tb.append(M),G(),a.button.bindCommands(a.$tb)}(),function(){a.events.$on(f(a.o_win),"resize",P),a.events.$on(f(a.o_win),"orientationchange",P),a.opts.toolbarButtons&&-1<JSON.stringify(a.opts.toolbarButtons).indexOf("trackChanges")&&P();var M=a.$tb.find(".fr-more-toolbar[data-name=trackChanges-".concat(a.id,"]")),W=M.length!==0&&M.hasClass("fr-expanded");if(a.opts.trackChangesEnabled&&!W){var K=a.$tb.find(".fr-command.fr-btn[data-cmd=trackChanges");M.addClass("fr-expanded"),K.toggleClass("fr-open"),a.toolbar.enable()}}(),a.accessibility.registerToolbar(a.$tb),a.events.$on(a.$tb,"".concat(a._mousedown," ").concat(a._mouseup),function(ie){var M=ie.originalEvent?ie.originalEvent.target||ie.originalEvent.originalTarget:null;if(M&&M.tagName!=="INPUT"&&!a.edit.isDisabled())return ie.stopPropagation(),ie.preventDefault(),!1},!0),a.helpers.isMobile()&&a.events.$on(a.$tb,"click",function(){a.popups.areVisible().length||a.id!==a.shared.selected_editor&&a.shared.selected_editor||a.$el.focus()}),a.events.$on(a.$tb,"transitionend",".fr-more-toolbar",function(){a.$box.hasClass("fr-fullscreen")&&(a.opts.height=a.o_win.innerHeight-(a.opts.toolbarInline?0:a.$tb.outerHeight()+(a.$second_tb?a.$second_tb.outerHeight():0)),a.size.refresh())})}var re=!1;return{_init:function(){if(a.$sc=f(a.opts.scrollableContainer).first(),!a.$wp)return!1;a.opts.toolbarInline||a.opts.toolbarBottom||(a.$second_tb=f(a.doc.createElement("div")).attr("class","fr-second-toolbar"),a.$box.append(a.$second_tb),(a.ul!==!1||a.opts.attribution)&&a.$second_tb.prepend(xe.POWERED_BY)),a.opts.toolbarContainer?(a.shared.$tb?(a.$tb=a.shared.$tb,a.opts.toolbarInline&&w()):(a.shared.$tb=f(a.doc.createElement("DIV")),a.shared.$tb.addClass("fr-toolbar"),a.$tb=a.shared.$tb,f(a.opts.toolbarContainer).append(a.$tb),se(),a.$tb.data("instance",a)),a.opts.toolbarInline?a.$box.addClass("fr-inline"):a.$box.addClass("fr-basic"),a.events.on("focus",function(){a.$tb.data("instance",a)},!0),a.opts.toolbarInline=!1):a.opts.toolbarInline?(a.$box.addClass("fr-inline"),a.shared.$tb?(a.$tb=a.shared.$tb,w()):(a.shared.$tb=f(a.doc.createElement("DIV")),a.shared.$tb.addClass("fr-toolbar"),a.$tb=a.shared.$tb,se())):(a.$box.addClass("fr-basic"),a.$tb=f(a.doc.createElement("DIV")),a.$tb.addClass("fr-toolbar"),se(),a.$tb.data("instance",a)),a.events.on("destroy",be,!0),a.events.on(a.opts.toolbarInline||a.opts.toolbarContainer?"shared.destroy":"destroy",he,!0),a.events.on("edit.on",function(){a.$tb.removeClass("fr-disabled").removeAttr("aria-disabled")}),a.events.on("edit.off",function(){a.$tb.addClass("fr-disabled").attr("aria-disabled",!0)}),function(){a.events.on("shortcut",function(W,K,R){var A;if(K&&!R?A=a.$tb.find('.fr-command[data-cmd="'.concat(K,'"]')):K&&R&&(A=a.$tb.find('.fr-command[data-cmd="'.concat(K,'"][data-param1="').concat(R,'"]'))),A.length&&(W.preventDefault(),W.stopPropagation(),A.parents(".fr-toolbar").data("instance",a),W.type==="keydown"))return a.button.exec(A),!1})}()},hide:j,show:function(){if(a.events.trigger("toolbar.show")===!1)return!1;a.$tb.show()},showInline:F,disable:function(){!re&&a.$tb&&(a.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-wrap > .fr-command").addClass("fr-disabled fr-no-refresh").attr("aria-disabled",!0),re=!0)},enable:function(){re&&a.$tb&&(a.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-wrap > .fr-command").removeClass("fr-disabled fr-no-refresh").attr("aria-disabled",!1),re=!1),a.button.bulkRefresh()},setMoreToolbarsHeight:G}};var Go=["scroll","wheel","touchmove","touchstart","touchend"],Co=["webkit","moz","ms","o"],Eo=["transitionend"],jt=document.createElement("div").style,Wo=["Webkit","Moz","ms","O","css","style"],Yt={visibility:"hidden",display:"block"},lt=["focus","blur","click"],qn={},fs=function(f,N){return{altKey:f.altKey,bubbles:f.bubbles,cancelable:f.cancelable,changedTouches:f.changedTouches,ctrlKey:f.ctrlKey,detail:f.detail,eventPhase:f.eventPhase,metaKey:f.metaKey,pageX:f.pageX,pageY:f.pageY,shiftKey:f.shiftKey,view:f.view,char:f.char,key:f.key,keyCode:f.keyCode,button:f.button,buttons:f.buttons,clientX:f.clientX,clientY:f.clientY,offsetX:f.offsetX,offsetY:f.offsetY,pointerId:f.pointerId,pointerType:f.pointerType,screenX:f.screenX,screenY:f.screenY,targetTouches:f.targetTouches,toElement:f.toElement,touches:f.touches,type:f.type,which:f.which,target:f.target,currentTarget:N,originalEvent:f,stopPropagation:function(){f.stopPropagation()},stopImmediatePropagation:function(){f.stopImmediatePropagation()},preventDefault:function(){(/Android/i.test(navigator.userAgent)&&f.type==="touchend"||Go.indexOf(f.type)===-1)&&f.preventDefault()}}},_o=function a(f){if(f.ownerDocument&&f.ownerDocument.body&&f.ownerDocument.body.contains(f)||f.nodeName==="#document"||f.nodeName==="HTML"||f===window)return!0;if(typeof f.getRootNode!="function")return!1;var N=f.getRootNode();return N&&N.host&&a(N.host)},ht=function(f,N){return function(O){var T=O.target;if(N)for(N=ks(N);T&&T!==this;)Element.prototype.matches.call(T,ks(N))&&f.call(T,fs(O,T)),T=T.parentNode;else _o(T)&&f.call(T,fs(O,T))}},eo=function(f,N){return new b(f,N)},ks=function(f){return f&&typeof f=="string"?f.replace(/^\s*>/g,":scope >").replace(/,\s*>/g,", :scope >"):f},Qo=function(f){return typeof f=="function"&&typeof f.nodeType!="number"},s=eo;eo.fn=eo.prototype={constructor:eo,length:0,contains:function(a){if(!a)return!1;if(Array.isArray(a)){for(var f=0;f<a.length;f++)if(this.contains(a[f])&&this!=a[f])return!0;return!1}for(var N=0;N<this.length;N++)for(var O=a;O;){if(O==this[N]||O[0]&&O[0].isEqualNode(this[N]))return!0;O=O.parentNode}return!1},findVisible:function(a){for(var f=this.find(a),N=f.length-1;0<=N;N--)s(f[N]).isVisible()||f.splice(N,1);return f},formatParams:function(a){var f="".concat(Object.keys(a).map(function(N){return"".concat(N,"=").concat(encodeURIComponent(a[N]))}).join("&"));return f||""},ajax:function(a){var f=new XMLHttpRequest,N=this.formatParams(a.data);for(var O in a.method.toUpperCase()==="GET"&&(a.url=N?a.url+"?"+N:a.url),f.open(a.method,a.url,!0),a.withCredentials&&(f.withCredentials=!0),a.crossDomain&&f.setRequestHeader("Access-Control-Allow-Origin","*"),a.headers)Object.prototype.hasOwnProperty.call(a.headers,O)&&f.setRequestHeader(O,a.headers[O]);Object.prototype.hasOwnProperty.call(a.headers,"Content-Type")||(a.dataType==="json"?f.setRequestHeader("Content-Type","application/json"):f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),f.onload=function(){if(f.status==200){var T=f.responseText;a.dataType==="json"&&(T=JSON.parse(T)),a.done(T,f.status,f)}else a.fail(f)},f.send(N)},prevAll:function(){var a=s();if(!this[0])return a;for(var f=this[0];f&&f.previousSibling;)f=f.previousSibling,a.push(f);return a},index:function(a){return a?typeof a=="string"?[].indexOf.call(s(a),this[0]):[].indexOf.call(this,a.length?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},isVisible:function(){return!!this[0]&&!!(this[0].offsetWidth||this[0].offsetHeight||this[0].getClientRects().length)},toArray:function(){return[].slice.call(this)},get:function(a){return a==null?[].slice.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var f=eo.merge(this.constructor(),a);return f.prevObject=this,f},wrapAll:function(a){var f;return this[0]&&(Qo(a)&&(a=a.call(this[0])),f=eo(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&f.insertBefore(this[0]),f.map(function(){for(var N=this;N.firstElementChild;)N=N.firstElementChild;return N}).append(this)),this},wrapInner:function(a){if(typeof a=="string"){for(var f=a.split(" "),N=0;N<f.length&&f[N].trim().length===0;)N++;if(N<f.length&&(s(a).length&&f[N].trim()===s(a)[0].tagName&&(a=document.createElement(f[N].trim())),N++),typeof a!="string")for(var O=s(a);N<f.length;N++){f[N]=f[N].trim();var T=f[N].split("=");O.attr(T[0],T[1].replace('"',""))}}for(;this[0].firstChild&&this[0].firstChild!==a&&typeof a!="string";)a.appendChild(this[0].firstChild)},wrapContent:function(a){for(var f=document.createElement(a.tagName),N=0;N<a.attributes.length;N++)s(f).attr(a.attributes[N].nodeName,a.attributes[N].value);s(this[0]).contents().wrapAll(f)},wrap:function(a){var f=Qo(a);return this.each(function(N){s(this).wrapAll(f?a.call(this,N):a)})},unwrap:function(){return this.parent().each(function(){this.nodeName&&this.nodeName.toLowerCase()===name.toLowerCase()||eo(this).replaceWith(this.childNodes)})},grep:function(a,f,N){for(var O=[],T=0,L=a.length,B=!N;T<L;T++)!f(a[T],T)!==B&&O.push(a[T]);return O},map:function(a){return this.pushStack(eo.map(this,function(f,N){return a.call(f,N,f)}))},slice:function(){return this.pushStack([].slice.apply(this,arguments))},each:function(a){if(this.length)for(var f=0;f<this.length&&a.call(this[f],f,this[f])!==!1;f++);return this},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var f=this.length,N=+a+(a<0?f:0);return this.pushStack(0<=N&&N<f?[this[N]]:[])},empty:function(){for(var a=0;a<this.length;a++)this[a].innerHTML=""},contents:function(){for(var a=s(),f=0;f<this.length;f++)for(var N=this[f].childNodes,O=0;O<N.length;O++)a.push(N[O]);return a},attr:function(a,f){if(un(a)==="object"){for(var N in a)Object.prototype.hasOwnProperty.call(a,N)&&a[N]!==null&&this.attr(N,a[N]);return this}if(f===void 0)return this.length===0||!this[0].getAttribute&&a!=="checked"?void 0:a==="checked"?this[0].checked:a==="tagName"?this[0].tagName:this[0].getAttribute(a);if(a==="checked")for(var O=0;O<this.length;O++)this[O].checked=f;else if(a==="tagName")for(var T=0;T<this.length;T++)this[T].tagName=f;else for(var L=0;L<this.length;L++)this[L].setAttribute(a,f);return this},removeAttr:function(a){for(var f=0;f<this.length;f++)this[f].removeAttribute&&this[f].removeAttribute(a);return this},hide:function(){return this.css("display","none"),this},show:function(){return this.css("display","block"),this},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},data:function(a,f){if(f!==void 0){for(var N=0;N<this.length;N++)un(this[N]["data-"+a]=f)!=="object"&&typeof f!="function"&&this[N].setAttribute&&this[N].setAttribute("data-"+a,f);return this}if(f!==void 0)return this.attr("data-"+a,f);if(this.length!==0)for(var O=0;O<this.length;O++){var T=this[O]["data-"+a];if(T==null&&this[O].getAttribute&&(T=this[O].getAttribute("data-"+a)),T!==void 0&&T!=null)return T}},removeData:function(a){for(var f=0;f<this.length;f++)this[f].removeAttribute&&this[f].removeAttribute("data-"+a),this[f]["data-"+a]=null;return this},getCorrectStyleName:function(a){if(!qn[a]){var f;a in jt&&(f=a);for(var N=a[0].toUpperCase()+a.slice(1),O=Wo.length;O--;)(a=Wo[O]+N)in jt&&(f=a);qn[a]=f}return qn[a]},css:function(a,f){if(f!==void 0){if(this.length===0)return this;(typeof f!="string"||f.trim()===""||isNaN(f))&&typeof f!="number"||!/(margin)|(padding)|(height)|(width)|(top)|(left)|(right)|(bottom)/gi.test(a)||/(line-height)/gi.test(a)||(f+="px");for(var N=0;N<this.length;N++)a=s(this).getCorrectStyleName(a),this[N].style[a]=f;return this}if(typeof a=="string"){if(this.length===0)return;var O=this[0].ownerDocument||document,T=O.defaultView||O.parentWindow;return a=s(this).getCorrectStyleName(a),T.getComputedStyle(this[0])[a]}for(var L in a)Object.prototype.hasOwnProperty.call(a,L)&&this.css(L,a[L]);return this},toggleClass:function(a,f){if(1<a.split(" ").length){for(var N=a.split(" "),O=0;O<N.length;O++)this.toggleClass(N[O],f);return this}for(var T=0;T<this.length;T++)f===void 0?this[T].classList.contains(a)?this[T].classList.remove(a):this[T].classList.add(a):f?this[T].classList.contains(a)||this[T].classList.add(a):this[T].classList.contains(a)&&this[T].classList.remove(a);return this},addClass:function(a){if(a.length===0)return this;if(1<a.split(" ").length){for(var f=a.split(" "),N=0;N<f.length;N++)this.addClass(f[N]);return this}for(var O=0;O<this.length;O++)this[O].classList.add(a);return this},removeClass:function(a){if(1<a.split(" ").length){for(var f=a.split(" "),N=0;N<f.length;N++)f[N]=f[N].trim(),f[N].length&&this.removeClass(f[N]);return this}for(var O=0;O<this.length;O++)a.length&&this[O].classList.remove(a);return this},getClass:function(a){return a.getAttribute&&a.getAttribute("class")||""},stripAndCollapse:function(a){return(a.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")},hasClass:function(a){var f,N,O=0;for(f=" "+a+" ";N=this[O++];)if(N.nodeType===1&&-1<(" "+s(this).stripAndCollapse(s(this).getClass(N))+" ").indexOf(f))return!0;return!1},scrollTop:function(a){if(a===void 0)return this.length===0?void 0:this[0]===document?document.documentElement.scrollTop:this[0].scrollTop;for(var f=0;f<this.length;f++)this[f]===document?window.scrollTo(document.documentElement.scrollLeft,a):this[f].scrollTop=a},scrollLeft:function(a){if(a===void 0)return this.length===0?void 0:this[0]===document?document.documentElement.scrollLeft:this[0].scrollLeft;for(var f=0;f<this.length;f++)this[f]===document?window.scrollTo(a,document.documentElement.scrollTop):this[f].scrollLeft=a},on:function(a,f,N){if(1<a.split(" ").length){for(var O=a.split(" "),T=0;T<O.length;T++)if(Eo.indexOf(a)!==-1)for(var L=0;L<Co.length;L++)this.on(Co[L]+a[0].toUpperCase()+a.slice(1),f,N);else this.on(O[T],f,N);return this}N=typeof f=="function"?ht(f,null):ht(N,f);for(var B=0;B<this.length;B++){var G=s(this[B]);G.data("events")||G.data("events",[]),G.data("events").push([a,N]);var P=a.split(".");P=P[0],/Android/i.test(navigator.userAgent)&&a.includes("touchend")||!(0<=Go.indexOf(P))?G.get(0).addEventListener(P,N):G.get(0).addEventListener(P,N,{passive:!0})}},off:function(a){if(1<a.split(" ").length){for(var f=a.split(" "),N=0;N<f.length;N++)this.off(f[N]);return this}for(var O=0;O<this.length;O++){var T=s(this[O]);if(T.data("events")){var L=a.split(".");L=L[0];for(var B=T.data("events")||[],G=B.length-1;0<=G;G--){var P=B[G];P[0]==a&&(T.get(0).removeEventListener(L,P[1]),B.splice(G,1))}}}},trigger:function(a){for(var f=0;f<this.length;f++){var N=void 0;typeof Event=="function"?N=0<=a.search(/^mouse/g)?new MouseEvent(a,{view:window,cancelable:!0,bubbles:!0}):new Event(a):0<=a.search(/^mouse/g)?(N=document.createEvent("MouseEvents")).initMouseEvent(a,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):(N=document.createEvent("Event")).initEvent(a,!0,!0),0<=lt.indexOf(a)&&typeof this[f][a]=="function"?this[f][a]():this[f].dispatchEvent(N)}},triggerHandler:function(){},val:function(a){if(a===void 0)return this[0].value;for(var f=0;f<this.length;f++)this[f].value=a;return this},siblings:function(){return s(this[0]).parent().children().not(this)},find:function(a){var f=s();if(typeof a!="string"){for(var N=0;N<a.length;N++)for(var O=0;O<this.length;O++)if(this[O]!==a[N]&&s(this[O]).contains(a[N])){f.push(a[N]);break}return f}var T=function(F){return(typeof HTMLElement>"u"?"undefined":un(HTMLElement))==="object"?F instanceof HTMLElement:F&&un(F)==="object"&&F!==null&&F.nodeType===1&&typeof F.nodeName=="string"};a=ks(a);for(var L=0;L<this.length;L++)if(this[L].querySelectorAll){var B=[];if(a&&typeof a=="string")try{B=this[L].querySelectorAll(a)}catch{B=this[L].children}else T(a)&&(B=[a]);for(var G=0;G<B.length;G++)f.push(B[G])}return f},children:function(){for(var a=s(),f=0;f<this.length;f++)for(var N=this[f].children,O=0;O<N.length;O++)a.push(N[O]);return a},not:function(a){if(typeof a=="string")for(var f=this.length-1;0<=f;f--)Element.prototype.matches.call(this[f],a)&&this.splice(f,1);else if(a instanceof eo){for(var N=this.length-1;0<=N;N--)for(var O=0;O<a.length;O++)if(this[N]===a[O]){this.splice(N,1);break}}else for(var T=this.length-1;0<=T;T--)this[T]===a[0]&&this.splice(T,1);return this},add:function(a){for(var f=0;f<a.length;f++)this.push(a[f]);return this},closest:function(a){for(var f=0;f<this.length;f++){var N=Element.prototype.closest.call(this[f],a);if(N)return s(N)}return s()},html:function(a){if(a===void 0)return this.length===0?void 0:this[0].innerHTML;if(typeof a=="string")for(var f=0;f<this.length;f++){this[f].innerHTML=a;for(var N=this[f].children,O=this[f].ownerDocument||document,T=0;T<N.length;T++)if(N[T].tagName==="SCRIPT"){var L=O.createElement("script");L.innerHTML=N[T].innerHTML,N[T].hasAttribute("async")&&L.setAttribute("async",""),L.src=N[T].src,N[T].hasAttribute("defer")&&L.setAttribute("defer",""),O.head.appendChild(L).parentNode.removeChild(L)}}else{this[0].innerHTML="",this.append(a[0]);var B=this[0].ownerDocument||document;if(a[0].tagName==="SCRIPT"){var G=B.createElement("script");G.innerHTML=a[0].innerHTML,B.head.appendChild(G).parentNode.removeChild(G)}}return this},text:function(a){if(!a)return this.length?this[0].textContent:"";for(var f=0;f<this.length;f++)this[f].textContent=a},after:function(f){if(f)if(typeof f=="string")for(var N=0;N<this.length;N++){var O=this[N];if(O.nodeType!=Node.ELEMENT_NODE){var T=O.ownerDocument.createElement("SPAN");s(O).after(T),s(T).after(f).remove()}else O.insertAdjacentHTML("afterend",f)}else{var L=this[0];if(L.nextSibling)if(f instanceof eo)for(var B=0;B<f.length;B++)L.nextSibling.parentNode.insertBefore(f[B],L.nextSibling);else L.nextSibling.parentNode.insertBefore(f,L.nextSibling);else s(L.parentNode).append(f)}return this},clone:function(a){for(var f=s(),N=0;N<this.length;N++)f.push(this[N].cloneNode(a));return f},replaceWith:function(a){if(typeof a=="string")for(var f=0;f<this.length;f++)this[f].parentNode&&(this[f].outerHTML=a);else if(a&&a.length)for(var N=0;N<this.length;N++)this.replaceWith(a[N]);else this.after(a).remove()},insertBefore:function(a){return s(a).before(this[0]),this},before:function(f){if(f instanceof eo){for(var N=0;N<f.length;N++)this.before(f[N]);return this}if(f)if(typeof f=="string")for(var O=0;O<this.length;O++){var T=this[O];if(T.nodeType!=Node.ELEMENT_NODE){var L=T.ownerDocument.createElement("SPAN");s(T).before(L),s(L).before(f).remove()}else T.parentNode&&T.insertAdjacentHTML("beforebegin",f)}else{var B=this[0];if(B.parentNode)if(f instanceof eo)for(var G=0;G<f.length;G++)B.parentNode.insertBefore(f[G],B);else B.parentNode.insertBefore(f,B)}return this},append:function(a){if(this.length==0)return this;if(typeof a=="string")for(var f=0;f<this.length;f++){var N=this[f],O=N.ownerDocument.createElement("SPAN");s(N).append(O),s(O).after(a).remove()}else if(a instanceof eo||Array.isArray(a))for(var T=0;T<a.length;T++)this.append(a[T]);else typeof a!="function"&&this[0].appendChild(a);return this},prepend:function(a){if(this.length==0)return this;if(typeof a=="string")for(var f=0;f<this.length;f++){var N=this[f],O=N.ownerDocument.createElement("SPAN");s(N).prepend(O),s(O).before(a).remove()}else if(a instanceof eo)for(var T=0;T<a.length;T++)this.prepend(a[T]);else{var L=this[0];L.firstChild?L.firstChild?L.insertBefore(a,L.firstChild):L.appendChild(a):s(L).append(a)}return this},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},prev:function(){return this.length&&this[0].previousElementSibling?s(this[0].previousElementSibling):s()},next:function(){return this.length&&this[0].nextElementSibling?s(this[0].nextElementSibling):s()},nextAllVisible:function(){return this.next()},prevAllVisible:function(){return this.prev()},outerHeight:function(a){if(this.length!==0){var f=this[0];if(f===f.window)return f.innerHeight;var N={},O=this.isVisible();if(!O)for(var T in Yt)N[T]=f.style[T],f.style[T]=Yt[T];var L=f.offsetHeight;if(a&&(L+=parseInt(s(f).css("marginTop"))+parseInt(s(f).css("marginBottom"))),!O)for(var B in Yt)f.style[B]=N[B];return L}},outerWidth:function(a){if(this.length!==0){var f=this[0];if(f===f.window)return f.outerWidth;var N={},O=this.isVisible();if(!O)for(var T in Yt)N[T]=f.style[T],f.style[T]=Yt[T];var L=f.offsetWidth;if(a&&(L+=parseInt(s(f).css("marginLeft"))+parseInt(s(f).css("marginRight"))),!O)for(var B in Yt)f.style[B]=N[B];return L}},width:function(a){if(a===void 0){if(this[0]instanceof HTMLDocument)return this[0].body.offsetWidth;if(this[0])return this[0].offsetWidth}else this[0].style.width=a+"px"},height:function(a){var f=this[0];if(a===void 0){if(f instanceof HTMLDocument){var N=f.documentElement;return Math.max(f.body.scrollHeight,N.scrollHeight,f.body.offsetHeight,N.offsetHeight,N.clientHeight)}return f.offsetHeight}f.style.height=a+"px"},is:function(a){return this.length!==0&&(typeof a=="string"&&this[0].matches?this[0].matches(a):a instanceof eo?this[0]==a[0]:this[0]==a)},parent:function(){return this.length===0?s():s(this[0].parentNode)},_matches:function(a,f){var N=a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector;return a&&!f?N:N.call(a,f)},parents:function(a){for(var f=s(),N=0;N<this.length;N++)for(var O=this[N].parentNode;O&&O!=document&&this._matches(O);)a?this._matches(O,a)&&f.push(O):f.push(O),O=O.parentNode;return f},parentsUntil:function(a,f){var N=s();a instanceof eo&&0<a.length&&(a=a[0]);for(var O=0;O<this.length;O++)for(var T=this[O].parentNode;T&&T!=document&&T!=a&&this[O]!=a&&(typeof a!="string"||!Element.prototype.matches.call(T,a));)f?Element.prototype.matches.call(T,f)&&N.push(T):N.push(T),T=T.parentNode;return N},insertAfter:function(a){var f=a.parent()[0];f&&f.insertBefore(this[0],a[0].nextElementSibling)},filter:function(a){var f=s();if(typeof a=="function")for(var N=0;N<this.length;N++)a.call(this[N],this[N])&&f.push(this[N]);else if(typeof a=="string")for(var O=0;O<this.length;O++)this[O].matches(a)&&f.push(this[O]);return f},offset:function(){if(this.length!==0){var a=this[0].getBoundingClientRect(),f=this[0].ownerDocument.defaultView;return{top:a.top+f.pageYOffset,left:a.left+f.pageXOffset}}},position:function(){return{left:this[0].offsetLeft,top:this[0].offsetTop}},push:[].push,splice:[].splice},eo.extend=function(a){a=a||{};for(var f=1;f<arguments.length;f++)if(arguments[f])for(var N in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],N)&&(a[N]=arguments[f][N]);return a},eo.merge=function(a,f){for(var N=+f.length,O=0,T=a.length;O<N;O++)a[T++]=f[O];return a.length=T,a},eo.map=function(a,f,N){var O,T,L=0,B=[];if(Array.isArray(a))for(O=a.length;L<O;L++)(T=f(a[L],L,N))!=null&&B.push(T);else for(L in a)(T=f(a[L],L,N))!=null&&B.push(T);return[].concat.apply([],B)};var b=function(f,N){if(!f)return this;if(typeof f=="string"&&f[0]==="<"){var O=document.createElement("DIV");return O.innerHTML=f,s(O.firstElementChild)}if(N=N instanceof eo?N[0]:N,typeof f!="string")return f instanceof eo?f:(this[0]=f,this.length=1,this);f=ks(f);for(var T=(N||document).querySelectorAll(f),L=0;L<T.length;L++)this[L]=T[L];return this.length=T.length,this};b.prototype=eo.prototype;var $=xe;function ge(){var a=this;this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=eo(this.doc),this.$win=eo(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys($.PLUGINS)),this.opts.pluginsDisabled&&(this.opts.pluginsDisabled=Array.isArray(this.opts.pluginsDisabled)?this.opts.pluginsDisabled:[this.opts.pluginsDisabled],this.opts.pluginsEnabled=this.opts.pluginsEnabled.filter(function(f){return!a.opts.pluginsDisabled.includes(f)})),this.opts.initOnClick?(this.load($.MODULES),this.$el.on("touchstart.init",function(){eo(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){eo(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",(function(N){if(this.$el.attr("contentEditable")!=="false"||!this.opts.initOnClick){if(N.type==="touchend"&&!this.$el.data("touched"))return!0;if(N.which===1||!N.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load($.MODULES),this.load($.PLUGINS);var O=N.originalEvent&&N.originalEvent.originalTarget;if(O&&O.tagName==="IMG"&&eo(O).trigger("mousedown"),typeof this.ul>"u"&&this.destroy(),N.type==="touchend"&&this.image&&N.originalEvent&&N.originalEvent.target&&eo(N.originalEvent.target).is("img")){var T=this;setTimeout(function(){T.image.edit(eo(N.originalEvent.target))},100)}this.ready=!0,this.events.trigger("initialized")}}}).bind(this)),this.events.trigger("initializationDelayed")):(this.load($.MODULES),this.load($.PLUGINS),eo(this.o_win).scrollTop(this.c_scroll),typeof this.ul>"u"&&this.destroy(),this.ready=!0,this.events.trigger("initialized"))}return $.Bootstrap=function(a,f,N){this.id=++$.ID,this.$=eo;var O={};typeof f=="function"&&(N=f,f={}),N&&(f.events||(f.events={}),f.events.initialized=N),f&&f.documentReady&&(O.toolbarButtons=[["fullscreen","undo","redo","getPDF","print"],["bold","italic","underline","textColor","backgroundColor","clearFormatting"],["alignLeft","alignCenter","alignRight","alignJustify"],["formatOL","formatUL","indent","outdent"],["paragraphFormat"],["fontFamily"],["fontSize"],["insertLink","insertImage","quote"]],O.paragraphFormatSelection=!0,O.fontFamilySelection=!0,O.fontSizeSelection=!0,O.placeholderText="",O.quickInsertEnabled=!1,O.charCounterCount=!1),this.opts=Object.assign({},Object.assign({},$.DEFAULTS,O,un(f)==="object"&&f));var T=JSON.stringify(this.opts);$.OPTS_MAPPING[T]=$.OPTS_MAPPING[T]||this.id,this.sid=$.OPTS_MAPPING[T],$.SHARED[this.sid]=$.SHARED[this.sid]||{},this.shared=$.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=eo(a),this.$oel.data("froala.editor",this),this.o_doc=a.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow,this.c_scroll=eo(this.o_win).scrollTop(),this._init()},$.Bootstrap.prototype._init=function(){var a=this.$oel.get(0).tagName;this.$oel.closest("label").length;var f=(function(){a!=="TEXTAREA"&&(this._original_html=this._original_html||this.$oel.html()),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=eo('<iframe src="about:blank" frameBorder="0">'),this.$wp=eo("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$el=eo(this.iframe_document.querySelector("body")),this.el=this.$el.get(0),this.$head=eo(this.iframe_document.querySelector("head")),this.$html=eo(this.iframe_document.querySelector("html"))):(this.$el=eo(this.o_doc.createElement("DIV")),this.el=this.$el.get(0),this.$wp=eo(this.o_doc.createElement("DIV")).append(this.$el),this.$box.html(this.$wp)),setTimeout(ge.bind(this),0)}).bind(this),N=(function(){this.$box=eo("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val();var B=this;this.$oel.parents("form").on("submit.".concat(this.id),function(){B.events.trigger("form.submit")}),this.$oel.parents("form").on("reset.".concat(this.id),function(){B.events.trigger("form.reset")}),f()}).bind(this),O=(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,setTimeout(ge.bind(this),0)}).bind(this),T=(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,setTimeout(ge.bind(this),0)}).bind(this),L=(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(B){B.preventDefault()}),setTimeout(ge.bind(this),0)}).bind(this);this.opts.editInPopup?L():a==="TEXTAREA"?N():a==="A"?O():a==="IMG"?T():a==="BUTTON"||a==="INPUT"?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,L()):f()},$.Bootstrap.prototype.load=function(a){for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){if(this[f]||$.PLUGINS[f]&&this.opts.pluginsEnabled.indexOf(f)<0)continue;if(this[f]=new a[f](this),this[f]._init&&(this[f]._init(),this.opts.initOnClick&&f==="core"))return!1}},$.Bootstrap.prototype.destroy=function(){this.destrying=!0,this.shared.count--,this.events&&this.events.$off();var a=this.html&&this.html.get();if(this.events&&(this.opts.iframe&&(this.events.disableBlur(),this.win.focus(),this.events.enableBlur()),this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",[],!0)),this.shared.count===0){for(var f in this.shared)Object.prototype.hasOwnProperty.call(this.shared,f)&&(this.shared[f]=null,$.SHARED[this.sid][f]=null);delete $.SHARED[this.sid]}this.$oel.parents("form").off(".".concat(this.id)),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.$oel.off("froalaEditor"),this.core&&this.core.destroy(a),$.INSTANCES.splice($.INSTANCES.indexOf(this),1)},xe})})(Dte);var Nte=Dte.exports;const Cre=Lte(Nte);function _re(E){throw new Error('Could not dynamically require "'+E+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const Ere={},wre=Object.freeze(Object.defineProperty({__proto__:null,default:Ere},Symbol.toStringTag,{value:"Module"})),Sre=yre(wre);/*!
 * froala_editor v4.6.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2025 Froala Labs
 */(function(E,I){(function(x,de){de(Nte)})(Sk,function(x){function de(s,b){(b==null||b>s.length)&&(b=s.length);for(var $=0,ge=Array(b);$<b;$++)ge[$]=s[$];return ge}function Ae(s,b){var $=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!$){if(Array.isArray(s)||($=ot(s))||b){$&&(s=$);var ge=0,a=function(){};return{s:a,n:function(){return ge>=s.length?{done:!0}:{done:!1,value:s[ge++]}},e:function(T){throw T},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,N=!0,O=!1;return{s:function(){$=$.call(s)},n:function(){var T=$.next();return N=T.done,T},e:function(T){O=!0,f=T},f:function(){try{N||$.return==null||$.return()}finally{if(O)throw f}}}}function Ie(s){return function($){if(Array.isArray($))return de($)}(s)||function($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}(s)||ot(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ke(s){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(s)}function ot(s,b){if(s){if(typeof s=="string")return de(s,b);var $={}.toString.call(s).slice(8,-1);return $==="Object"&&s.constructor&&($=s.constructor.name),$==="Map"||$==="Set"?Array.from(s):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?de(s,b):void 0}}if((x=x&&x.hasOwnProperty("default")?x.default:x).PLUGINS.align=function(s){var b=s.$;return{apply:function(ge){var a=s.selection.element(),f=b(a).closest(".fr-table-selected"),N=b(a).parents("TD"),O=a.tagName==="TD"||N.length&&s.el.contains(N.get(0));if(b(a).parents(".fr-img-caption").length)b(a).css("text-align",ge);else if(f.length&&s.el.contains(f[0]))f.find("td").css("text-align",ge);else if(O)s.node.isBlock(a)?b(a).css("text-align",ge):N.css("text-align",ge);else{s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();for(var T=s.selection.blocks(),L=0;L<T.length;L++)b(T[L]).css("text-align",ge).removeClass("fr-temp-div"),b(T[L]).attr("class")===""&&b(T[L]).removeAttr("class"),b(T[L]).attr("style")===""&&b(T[L]).removeAttr("style");s.selection.save(),s.html.unwrap(),s.selection.restore()}},refresh:function(ge){var a=s.selection.blocks();if(a.length){var f=s.helpers.getAlignment(b(a[0]));ge.find("> *").first().replaceWith(s.icon.create("align-".concat(f)))}},refreshOnShow:function(ge,a){var f=s.selection.blocks();if(f.length){var N=s.helpers.getAlignment(b(f[0]));a.find('a.fr-command[data-param1="'.concat(N,'"]')).addClass("fr-active").attr("aria-selected",!0)}},refreshForToolbar:function(ge){var a=s.selection.blocks();if(a.length){var f=s.helpers.getAlignment(b(a[0]));f=f.charAt(0).toUpperCase()+f.slice(1),"align".concat(f)===ge.attr("data-cmd")&&ge.addClass("fr-active")}}}},x.DefineIcon("align",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),x.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.align.options;for(var $ in b)b.hasOwnProperty($)&&(s+=`<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align"data-param1="
        `.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.icon.create("align-".concat($)),`<span class="fr-sr-only">
        `).concat(this.language.translate(b[$]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.align.apply(b)},refresh:function(s){this.align.refresh(s)},refreshOnShow:function(s,b){this.align.refreshOnShow(s,b)},plugin:"align"}),x.RegisterCommand("alignLeft",{type:"button",icon:"align-left",title:"Align Left",callback:function(){this.align.apply("left")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),x.RegisterCommand("alignRight",{type:"button",icon:"align-right",title:"Align Right",callback:function(){this.align.apply("right")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),x.RegisterCommand("alignCenter",{type:"button",icon:"align-center",title:"Align Center",callback:function(){this.align.apply("center")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),x.RegisterCommand("alignJustify",{type:"button",icon:"align-justify",title:"Align Justify",callback:function(){this.align.apply("justify")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),Object.assign(x.DEFAULTS,{charCounterMax:-1,charCounterCount:!0}),x.PLUGINS.charCounter=function(s){var b,$=s.$,ge=function(){return(s.opts.iframe&&s.markdown&&s.markdown.isEnabled()?s.$el.text()||"":s.el.textContent||"").replace(/\u200B/g,"").length};function a(T){var L=s.opts.charCounterMax;if(L<0)return!0;var B=ge();if(T.type==="keydown"){if(B<L)return!0;var G=T.which;if(!s.keys.ctrlKey(T)&&s.keys.isCharacter(G)||G===x.KEYCODE.IME)return T.preventDefault(),T.stopPropagation(),s.events.trigger("charCounter.exceeded"),!1}var P=T.originalEvent&&T.originalEvent.inputType||"";if(/delete|historyUndo|historyRedo/.test(P))return!0;if(T.type==="beforeinput"){var F=T.data||T.originalEvent&&T.originalEvent.data||T.originalEvent&&T.originalEvent.dataTransfer&&T.originalEvent.dataTransfer.getData("text")||"",j=B-s.win.getSelection().toString().length+F.length;if(L-B<=0||L<j)return T.preventDefault(),T.stopPropagation(),s.events.trigger("charCounter.exceeded"),!1}return T.type==="input"&&L<B&&(s.selection.save(),function(ee,w){for(var he,be="",se=document.createTreeWalker(ee,NodeFilter.SHOW_TEXT,null,!1),re=!0;(he=se.nextNode())&&be.length<w;){var ie=w-be.length;if(he.textContent.length>ie){he.textContent=he.textContent.slice(0,ie),re=!1;break}be+=he.textContent}for(re&&(he=se.previousNode());he=se.nextNode();)he.textContent=""}(s.el,L),s.selection.restore()),!0}function f(T){return s.opts.charCounterMax<0||$("<div>").html(T).text().length+ge()<=s.opts.charCounterMax?T:(s.events.trigger("charCounter.exceeded"),"")}function N(T,L,B){return s.opts.charCounterMax<0||(T.includes('<span class="fr-emoticon')||T.includes('<i class="fa ')?!(ge()>=s.opts.charCounterMax)||(s.events.trigger("charCounter.exceeded"),!1):$("<div>").html(T).text().length+ge()<=s.opts.charCounterMax||(s.events.trigger("charCounter.exceeded"),!1))}function O(){if(s.opts.charCounterCount){var T=ge()+(0<s.opts.charCounterMax?"/"+s.opts.charCounterMax:"");b.text("".concat(s.language.translate("Characters")," : ").concat(T)),s.opts.toolbarBottom&&b.css("margin-bottom",s.$tb.outerHeight(!0));var L=s.$wp.get(0).offsetWidth-s.$wp.get(0).clientWidth;0<=L&&(s.opts.direction=="rtl"?b.css("margin-left",L):b.css("margin-right",L))}}return{_init:function(){return!!s.$wp&&!!s.opts.charCounterCount&&((b=$(document.createElement("span")).attr("class","fr-counter")).css("bottom",s.$wp.css("border-bottom-width")),s.$second_tb?s.$second_tb.append(b):s.$wp.append(b),s.events.on("keydown beforeinput input",a,!0),s.events.on("paste.afterCleanup",f),s.events.on("keyup contentChanged input",function(){s.events.trigger("charCounter.update")}),s.events.on("html.beforeInsert",N),s.events.on("charCounter.update",O),s.events.trigger("charCounter.update"),void s.events.on("destroy",function(){$(s.o_win).off("resize.char".concat(s.id)),b.removeData().remove(),b=null}))},count:ge}},x.PLUGINS.codeBeautifier=function(){var s,b,$,ge,a={};function f(H,ee){var w={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},he={"@media":!0,"@supports":!0,"@document":!0};ee=ee||{},H=(H=H||"").replace(/\r\n|[\r\u2028\u2029]/g,`
`);var be=ee.indent_size||4,se=ee.indent_char||" ",re=ee.selector_separator_newline===void 0||ee.selector_separator_newline,ie=ee.end_with_newline!==void 0&&ee.end_with_newline,M=ee.newline_between_rules===void 0||ee.newline_between_rules,W=ee.eol?ee.eol:`
`;typeof be=="string"&&(be=parseInt(be,10)),ee.indent_with_tabs&&(se="	",be=1),W=W.replace(/\\r/,"\r").replace(/\\n/,`
`);var K,R=/^\s+$/,A=-1,J=0;function V(){return(K=H.charAt(++A))||""}function q(wt){var It,nn=A;return wt&&Le(),It=H.charAt(A+1)||"",A=nn-1,V(),It}function ae(wt){for(var It=A;V();)if(K==="\\")V();else if(wt.indexOf(K)!==-1||K===`
`)break;return H.substring(It,A+1)}function Le(){for(var wt="";R.test(q());)V(),wt+=K;return wt}function Ee(){var wt="";for(K&&R.test(K)&&(wt=K);R.test(V());)wt+=K;return wt}function we(wt){var It=A;for(wt=q()==="/",V();V();){if(!wt&&K==="*"&&q()==="/"){V();break}if(wt&&K===`
`)return H.substring(It,A)}return H.substring(It,A)+K}function Ne(wt){return H.substring(A-wt.length,A).toLowerCase()===wt}function We(){for(var wt=0,It=A+1;It<H.length;It++){var nn=H.charAt(It);if(nn==="{")return!0;if(nn==="(")wt+=1;else if(nn===")"){if(wt===0)return!1;wt-=1}else if(nn===" "||nn==="}")return!1}return!1}for(var ct=H.match(/^[\t ]*/)[0],nt=new Array(be+1).join(se),st=0,Me=0,tt,ze,Ze,qe={"{":function(wt){qe.singleSpace(),Fe.push(wt),qe.newLine()},"}":function(wt){qe.newLine(),Fe.push(wt),qe.newLine()},_lastCharWhitespace:function(){return R.test(Fe[Fe.length-1])},newLine:function(wt){Fe.length&&(wt||Fe[Fe.length-1]===`
`||qe.trim(),Fe.push(`
`),ct&&Fe.push(ct))},singleSpace:function(){Fe.length&&!qe._lastCharWhitespace()&&Fe.push(" ")},preserveSingleSpace:function(){tt&&qe.singleSpace()},trim:function(){for(;qe._lastCharWhitespace();)Fe.pop()}},Fe=[],Ye=!1,xt=!1,ft=!1,Ot="",Rt="";;){var zt=Ee();tt=zt!=="";var Zt=zt.indexOf(`
`)!==-1;if(Rt=Ot,!(Ot=K))break;if(K==="/"&&q()==="*"){var wn=st===0;(Zt||wn)&&qe.newLine(),Fe.push(we()),qe.newLine(),wn&&qe.newLine(!0)}else if(K==="/"&&q()==="/")Zt||Rt==="{"||qe.trim(),qe.singleSpace(),Fe.push(we()),qe.newLine();else if(K==="@"){qe.preserveSingleSpace(),Fe.push(K);var Zn=(ze=A,Ze=ae(`: , {}()[]/='"`),A=ze-1,V(),Ze);Zn.match(/[ :]$/)&&(V(),Zn=ae(": ").replace(/\s$/,""),Fe.push(Zn),qe.singleSpace()),(Zn=Zn.replace(/\s$/,""))in w&&(Me+=1,Zn in he&&(ft=!0))}else K==="#"&&q()==="{"?(qe.preserveSingleSpace(),Fe.push(ae("}"))):K==="{"?q(!0)==="}"?(Le(),V(),qe.singleSpace(),Fe.push("{}"),qe.newLine(),M&&st===0&&qe.newLine(!0)):(st++,ct+=nt,qe["{"](K),Ye=ft?(ft=!1,Me<st):Me<=st):K==="}"?(st--,ct=ct.slice(0,-be),qe["}"](K),xt=Ye=!1,Me&&Me--,M&&st===0&&qe.newLine(!0)):K===":"?(Le(),!Ye&&!ft||Ne("&")||We()?q()===":"?(V(),Fe.push("::")):Fe.push(":"):(xt=!0,Fe.push(":"),qe.singleSpace())):K==='"'||K==="'"?(qe.preserveSingleSpace(),Fe.push(ae(K))):K===" "?(xt=!1,Fe.push(K),qe.newLine()):K==="("?Ne("url")?(Fe.push(K),Le(),V()&&(K!==")"&&K!=='"'&&K!=="'"?Fe.push(ae(")")):A--)):(J++,qe.preserveSingleSpace(),Fe.push(K),Le()):K===")"?(Fe.push(K),J--):K===","?(Fe.push(K),Le(),re&&!xt&&J<1?qe.newLine():qe.singleSpace()):(K==="]"||(K==="["?qe.preserveSingleSpace():K==="="?(Le(),K="="):qe.preserveSingleSpace()),Fe.push(K))}var et="";return ct&&(et+=ct),et+=Fe.join("").replace(/[\r\n\t ]+$/,""),ie&&(et+=`
`),W!=`
`&&(et=et.replace(/[\n]/g,W)),et}function N(H,ee){for(var w=0;w<ee.length;w+=1)if(ee[w]===H)return!0;return!1}function O(H){return H.replace(/^\s+|\s+$/g,"")}function T(H,ee){return new B(H,ee).beautify()}s=a,b="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",$=new RegExp("[".concat(b,"]")),ge=new RegExp("[".concat(b," ").concat("------------------------------------------------------------------------------------------------------------------------------------------","]")),s.newline=/[\n\r\u2028\u2029]/,s.lineBreak=new RegExp(`\r
|`.concat(s.newline.source)),s.allLineBreaks=new RegExp(s.lineBreak.source,"g"),s.isIdentifierStart=function(H){return H<65?H===36||H===64:H<91||(H<97?H===95:H<123||170<=H&&$.test(String.fromCharCode(H)))},s.isIdentifierChar=function(H){return H<48?H===36:H<58||!(H<65)&&(H<91||(H<97?H===95:H<123||170<=H&&ge.test(String.fromCharCode(H))))};var L={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function B(H,ee){var w,he,be,se,re,ie,M,W,K,R,A,J,V,q=[],ae="";function Le(Ot,Rt){var zt=0;return Ot&&(zt=Ot.indentation_level,!w.just_added_newline()&&Ot.line_indent_level>zt&&(zt=Ot.line_indent_level)),{mode:Rt,parent:Ot,last_text:Ot?Ot.last_text:"",last_word:Ot?Ot.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:zt,line_indent_level:Ot?Ot.line_indent_level:zt,start_line_index:w.get_line_number(),ternary_depth:0}}for(J={TK_START_EXPR:function(){Fe();var Rt=L.Expression;if(se.text==="["){if(re==="TK_WORD"||W.last_text===")")return re==="TK_RESERVED"&&N(W.last_text,be.line_starters)&&(w.space_before_token=!0),Me(Rt),nt(),st(),void(V.space_in_paren&&(w.space_before_token=!0));Rt=L.ArrayLiteral,tt(W.mode)&&(W.last_text!=="["&&(W.last_text!==","||ie!=="]"&&ie!=="}")||V.keep_array_indentation||We())}else re==="TK_RESERVED"&&W.last_text==="for"?Rt=L.ForInitializer:re==="TK_RESERVED"&&N(W.last_text,["if","while"])&&(Rt=L.Conditional);W.last_text===" "||re==="TK_START_BLOCK"?We():re==="TK_END_EXPR"||re==="TK_START_EXPR"||re==="TK_END_BLOCK"||W.last_text==="."?Ne(se.wanted_newline):re==="TK_RESERVED"&&se.text==="("||re==="TK_WORD"||re==="TK_OPERATOR"?re==="TK_RESERVED"&&(W.last_word==="function"||W.last_word==="typeof")||W.last_text==="*"&&ie==="function"?V.space_after_anon_function&&(w.space_before_token=!0):re!=="TK_RESERVED"||!N(W.last_text,be.line_starters)&&W.last_text!=="catch"||V.space_before_conditional&&(w.space_before_token=!0):w.space_before_token=!0,se.text==="("&&re==="TK_RESERVED"&&W.last_word==="await"&&(w.space_before_token=!0),se.text==="("&&(re!=="TK_EQUALS"&&re!=="TK_OPERATOR"||qe()||Ne()),Me(Rt),nt(),V.space_in_paren&&(w.space_before_token=!0),st()},TK_END_EXPR:function(){for(;W.mode===L.Statement;)Ze();W.multiline_frame&&Ne(se.text==="]"&&tt(W.mode)&&!V.keep_array_indentation),V.space_in_paren&&(re!=="TK_START_EXPR"||V.space_in_empty_paren?w.space_before_token=!0:(w.trim(),w.space_before_token=!1)),se.text==="]"&&V.keep_array_indentation?(nt(),Ze()):(Ze(),nt()),w.remove_redundant_indentation(K),W.do_while&&K.mode===L.Conditional&&(K.mode=L.Expression,W.do_block=!1,W.do_while=!1)},TK_START_BLOCK:function(){var Rt=xt(1),zt=xt(2);zt&&(zt.text===":"&&N(Rt.type,["TK_STRING","TK_WORD","TK_RESERVED"])||N(Rt.text,["get","set"])&&N(zt.type,["TK_WORD","TK_RESERVED"]))?N(ie,["class","interface"])?Me(L.BlockStatement):Me(L.ObjectLiteral):Me(L.BlockStatement);var Zt=!Rt.comments_before.length&&Rt.text==="}"&&W.last_word==="function"&&re==="TK_END_EXPR";V.brace_style==="expand"||V.brace_style==="none"&&se.wanted_newline?re!=="TK_OPERATOR"&&(Zt||re==="TK_EQUALS"||re==="TK_RESERVED"&&Ye(W.last_text)&&W.last_text!=="else")?w.space_before_token=!0:We(!1,!0):re!=="TK_OPERATOR"&&re!=="TK_START_EXPR"?re==="TK_START_BLOCK"?We():w.space_before_token=!0:tt(K.mode)&&W.last_text===","&&(ie==="}"?w.space_before_token=!0:We()),nt(),st()},TK_END_BLOCK:function(){for(;W.mode===L.Statement;)Ze();var Rt=re==="TK_START_BLOCK";V.brace_style==="expand"?Rt||We():Rt||(tt(W.mode)&&V.keep_array_indentation?(V.keep_array_indentation=!1,We(),V.keep_array_indentation=!0):We()),Ze(),nt()},TK_WORD:ft,TK_RESERVED:ft,TK_SEMICOLON:function(){for(Fe()&&(w.space_before_token=!1);W.mode===L.Statement&&!W.if_block&&!W.do_block;)Ze();nt()},TK_STRING:function(){Fe()||re==="TK_RESERVED"||re==="TK_WORD"?w.space_before_token=!0:re==="TK_COMMA"||re==="TK_START_EXPR"||re==="TK_EQUALS"||re==="TK_OPERATOR"?qe()||Ne():We(),nt()},TK_EQUALS:function(){Fe(),W.declaration_statement&&(W.declaration_assignment=!0),w.space_before_token=!0,nt(),w.space_before_token=!0},TK_OPERATOR:function(){if(Fe(),re==="TK_RESERVED"&&Ye(W.last_text))return w.space_before_token=!0,void nt();if(se.text==="*"&&re==="TK_DOT")return void nt();if(se.text===":"&&W.in_case)return W.case_body=!0,st(),nt(),We(),void(W.in_case=!1);if(se.text==="::")return void nt();re==="TK_OPERATOR"&&Ne();var Rt=!0,zt=!0;N(se.text,["--","++","!","~"])||N(se.text,["-","+"])&&(N(re,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||N(W.last_text,be.line_starters)||W.last_text===",")?(zt=Rt=!1,!se.wanted_newline||se.text!=="--"&&se.text!=="++"||We(!1,!0),W.last_text===" "&&ze(W.mode)&&(Rt=!0),re==="TK_RESERVED"?Rt=!0:re==="TK_END_EXPR"?Rt=!(W.last_text==="]"&&(se.text==="--"||se.text==="++")):re==="TK_OPERATOR"&&(Rt=N(se.text,["--","-","++","+"])&&N(W.last_text,["--","-","++","+"]),N(se.text,["+","-"])&&N(W.last_text,["--","++"])&&(zt=!0)),W.mode!==L.BlockStatement&&W.mode!==L.Statement||W.last_text!=="{"&&W.last_text!==" "||We()):se.text===":"?W.ternary_depth===0?Rt=!1:W.ternary_depth-=1:se.text==="?"?W.ternary_depth+=1:se.text==="*"&&re==="TK_RESERVED"&&W.last_text==="function"&&(zt=Rt=!1),w.space_before_token=w.space_before_token||Rt,nt(),w.space_before_token=zt},TK_COMMA:function(){if(W.declaration_statement)return ze(W.parent.mode)&&(W.declaration_assignment=!1),nt(),void(W.declaration_assignment?We(W.declaration_assignment=!1,!0):(w.space_before_token=!0,V.comma_first&&Ne()));nt(),W.mode===L.ObjectLiteral||W.mode===L.Statement&&W.parent.mode===L.ObjectLiteral?(W.mode===L.Statement&&Ze(),We()):(w.space_before_token=!0,V.comma_first&&Ne())},TK_BLOCK_COMMENT:function(){if(w.raw)return w.add_raw_token(se),void(se.directives&&se.directives.preserve==="end"&&(V.test_output_raw||(w.raw=!1)));if(se.directives)return We(!1,!0),nt(),se.directives.preserve==="start"&&(w.raw=!0),void We(!1,!0);if(!a.newline.test(se.text)&&!se.wanted_newline)return w.space_before_token=!0,nt(),void(w.space_before_token=!0);var Rt,zt=function(It){var nn;It=It.replace(/\x0d/g,"");var bn=[];for(nn=It.indexOf(`
`);nn!==-1;)bn.push(It.substring(0,nn)),It=It.substring(nn+1),nn=It.indexOf(`
`);return It.length&&bn.push(It),bn}(se.text),Zt=!1,wn=!1,Zn=se.whitespace_before,et=Zn.length;for(We(!1,!0),1<zt.length&&(function(It,nn){for(var bn=0;bn<It.length;bn++){var kn=O(It[bn]);if(kn.charAt(0)!==nn)return!1}return!0}(zt.slice(1),"*")?Zt=!0:function(It,nn){for(var bn,kn=0,Mn=It.length;kn<Mn;kn++)if((bn=It[kn])&&bn.indexOf(nn)!==0)return!1;return!0}(zt.slice(1),Zn)&&(wn=!0)),nt(zt[0]),Rt=1;Rt<zt.length;Rt++)We(!1,!0),Zt?nt(" ".concat(zt[Rt].replace(/^\s+/g,""))):wn&&zt[Rt].length>et?nt(zt[Rt].substring(et)):w.add_token(zt[Rt]);We(!1,!0)},TK_COMMENT:function(){se.wanted_newline?We(!1,!0):w.trim(!0),w.space_before_token=!0,nt(),We(!1,!0)},TK_DOT:function(){Fe(),re==="TK_RESERVED"&&Ye(W.last_text)?w.space_before_token=!0:Ne(W.last_text===")"&&V.break_chained_methods),nt()},TK_UNKNOWN:function(){nt(),se.text[se.text.length-1]===`
`&&We()},TK_EOF:function(){for(;W.mode===L.Statement;)Ze()}},V={},(ee=ee||{}).braces_on_own_line!==void 0&&(V.brace_style=ee.braces_on_own_line?"expand":"collapse"),V.brace_style=ee.brace_style?ee.brace_style:V.brace_style?V.brace_style:"collapse",V.brace_style==="expand-strict"&&(V.brace_style="expand"),V.indent_size=ee.indent_size?parseInt(ee.indent_size,10):4,V.indent_char=ee.indent_char?ee.indent_char:" ",V.eol=ee.eol?ee.eol:`
`,V.preserve_newlines=ee.preserve_newlines===void 0||ee.preserve_newlines,V.break_chained_methods=ee.break_chained_methods!==void 0&&ee.break_chained_methods,V.max_preserve_newlines=ee.max_preserve_newlines===void 0?0:parseInt(ee.max_preserve_newlines,10),V.space_in_paren=ee.space_in_paren!==void 0&&ee.space_in_paren,V.space_in_empty_paren=ee.space_in_empty_paren!==void 0&&ee.space_in_empty_paren,V.jslint_happy=ee.jslint_happy!==void 0&&ee.jslint_happy,V.space_after_anon_function=ee.space_after_anon_function!==void 0&&ee.space_after_anon_function,V.keep_array_indentation=ee.keep_array_indentation!==void 0&&ee.keep_array_indentation,V.space_before_conditional=ee.space_before_conditional===void 0||ee.space_before_conditional,V.unescape_strings=ee.unescape_strings!==void 0&&ee.unescape_strings,V.wrap_line_length=ee.wrap_line_length===void 0?0:parseInt(ee.wrap_line_length,10),V.e4x=ee.e4x!==void 0&&ee.e4x,V.end_with_newline=ee.end_with_newline!==void 0&&ee.end_with_newline,V.comma_first=ee.comma_first!==void 0&&ee.comma_first,V.test_output_raw=ee.test_output_raw!==void 0&&ee.test_output_raw,V.jslint_happy&&(V.space_after_anon_function=!0),ee.indent_with_tabs&&(V.indent_char="	",V.indent_size=1),V.eol=V.eol.replace(/\\r/,"\r").replace(/\\n/,`
`),M="";0<V.indent_size;)M+=V.indent_char,V.indent_size-=1;var Ee=0;if(H&&H.length){for(;H.charAt(Ee)===" "||H.charAt(Ee)==="	";)ae+=H.charAt(Ee),Ee+=1;H=H.substring(Ee)}function we(Ot){var Rt=Ot.newlines;if(V.keep_array_indentation&&tt(W.mode))for(var zt=0;zt<Rt;zt+=1)We(0<zt);else if(V.max_preserve_newlines&&Rt>V.max_preserve_newlines&&(Rt=V.max_preserve_newlines),V.preserve_newlines&&1<Ot.newlines){We();for(var Zt=1;Zt<Rt;Zt+=1)We(!0)}J[(se=Ot).type]()}function Ne(Ot){Ot=Ot!==void 0&&Ot,!w.just_added_newline()&&(V.preserve_newlines&&se.wanted_newline||Ot||V.wrap_line_length&&w.current_line.get_character_count()+se.text.length+(w.space_before_token?1:0)>=V.wrap_line_length)&&We(!1,!0)}function We(Ot,Rt){if(!Rt&&W.last_text!==" "&&W.last_text!==","&&W.last_text!=="="&&re!=="TK_OPERATOR")for(;W.mode===L.Statement&&!W.if_block&&!W.do_block;)Ze();w.add_new_line(Ot)&&(W.multiline_frame=!0)}function ct(){w.just_added_newline()&&(V.keep_array_indentation&&tt(W.mode)&&se.wanted_newline?(w.current_line.push(se.whitespace_before),w.space_before_token=!1):w.set_indent(W.indentation_level)&&(W.line_indent_level=W.indentation_level))}function nt(Ot){w.raw?w.add_raw_token(se):(V.comma_first&&re==="TK_COMMA"&&w.just_added_newline()&&w.previous_line.last()===","&&(w.previous_line.pop(),ct(),w.add_token(","),w.space_before_token=!0),Ot=Ot||se.text,ct(),w.add_token(Ot))}function st(){W.indentation_level+=1}function Me(Ot){K=W?(R.push(W),W):Le(null,Ot),W=Le(K,Ot)}function tt(Ot){return Ot===L.ArrayLiteral}function ze(Ot){return N(Ot,[L.Expression,L.ForInitializer,L.Conditional])}function Ze(){0<R.length&&(K=W,W=R.pop(),K.mode===L.Statement&&w.remove_redundant_indentation(K))}function qe(){return W.parent.mode===L.ObjectLiteral&&W.mode===L.Statement&&(W.last_text===":"&&W.ternary_depth===0||re==="TK_RESERVED"&&N(W.last_text,["get","set"]))}function Fe(){return!!(re==="TK_RESERVED"&&N(W.last_text,["const","let","const"])&&se.type==="TK_WORD"||re==="TK_RESERVED"&&W.last_text==="do"||re==="TK_RESERVED"&&W.last_text==="return"&&!se.wanted_newline||re==="TK_RESERVED"&&W.last_text==="else"&&(se.type!=="TK_RESERVED"||se.text!=="if")||re==="TK_END_EXPR"&&(K.mode===L.ForInitializer||K.mode===L.Conditional)||re==="TK_WORD"&&W.mode===L.BlockStatement&&!W.in_case&&se.text!=="--"&&se.text!=="++"&&ie!=="function"&&se.type!=="TK_WORD"&&se.type!=="TK_RESERVED"||W.mode===L.ObjectLiteral&&(W.last_text===":"&&W.ternary_depth===0||re==="TK_RESERVED"&&N(W.last_text,["get","set"])))&&(Me(L.Statement),st(),re==="TK_RESERVED"&&N(W.last_text,["const","let","const"])&&se.type==="TK_WORD"&&(W.declaration_statement=!0),qe()||Ne(se.type==="TK_RESERVED"&&N(se.text,["do","for","if","while"])),!0)}function Ye(Ot){return N(Ot,["case","return","do","if","throw","else"])}function xt(Ot){var Rt=he+(Ot||0);return Rt<0||Rt>=q.length?null:q[Rt]}function ft(){if(se.type==="TK_RESERVED"&&W.mode!==L.ObjectLiteral&&N(se.text,["set","get"])&&(se.type="TK_WORD"),se.type==="TK_RESERVED"&&W.mode===L.ObjectLiteral&&xt(1).text===":"&&(se.type="TK_WORD"),Fe()||!se.wanted_newline||ze(W.mode)||re==="TK_OPERATOR"&&W.last_text!=="--"&&W.last_text!=="++"||re==="TK_EQUALS"||!V.preserve_newlines&&re==="TK_RESERVED"&&N(W.last_text,["const","let","const","set","get"])||We(),W.do_block&&!W.do_while){if(se.type==="TK_RESERVED"&&se.text==="while")return w.space_before_token=!0,nt(),w.space_before_token=!0,void(W.do_while=!0);We(),W.do_block=!1}if(W.if_block)if(W.else_block||se.type!=="TK_RESERVED"||se.text!=="else"){for(;W.mode===L.Statement;)Ze();W.if_block=!1,W.else_block=!1}else W.else_block=!0;if(se.type==="TK_RESERVED"&&(se.text==="case"||se.text==="default"&&W.in_case_statement))return We(),(W.case_body||V.jslint_happy)&&(function(){0<W.indentation_level&&(!W.parent||W.indentation_level>W.parent.indentation_level)&&(W.indentation_level-=1)}(),W.case_body=!1),nt(),W.in_case=!0,void(W.in_case_statement=!0);if(se.type==="TK_RESERVED"&&se.text==="function"&&((N(W.last_text,["}"," "])||w.just_added_newline()&&!N(W.last_text,["[","{",":","=",","]))&&(w.just_added_blankline()||se.comments_before.length||(We(),We(!0))),re==="TK_RESERVED"||re==="TK_WORD"?re==="TK_RESERVED"&&N(W.last_text,["get","set","new","return","export","async"])||re==="TK_RESERVED"&&W.last_text==="default"&&ie==="export"?w.space_before_token=!0:We():re==="TK_OPERATOR"||W.last_text==="="?w.space_before_token=!0:(W.multiline_frame||!ze(W.mode)&&!tt(W.mode))&&We()),re!=="TK_COMMA"&&re!=="TK_START_EXPR"&&re!=="TK_EQUALS"&&re!=="TK_OPERATOR"||qe()||Ne(),se.type==="TK_RESERVED"&&N(se.text,["function","get","set"]))return nt(),void(W.last_word=se.text);A="NONE",re==="TK_END_BLOCK"?se.type==="TK_RESERVED"&&N(se.text,["else","catch","finally"])?V.brace_style==="expand"||V.brace_style==="end-expand"||V.brace_style==="none"&&se.wanted_newline?A="NEWLINE":(A="SPACE",w.space_before_token=!0):A="NEWLINE":re==="TK_SEMICOLON"&&W.mode===L.BlockStatement?A="NEWLINE":re==="TK_SEMICOLON"&&ze(W.mode)?A="SPACE":re==="TK_STRING"?A="NEWLINE":re==="TK_RESERVED"||re==="TK_WORD"||W.last_text==="*"&&ie==="function"?A="SPACE":re==="TK_START_BLOCK"?A="NEWLINE":re==="TK_END_EXPR"&&(w.space_before_token=!0,A="NEWLINE"),se.type==="TK_RESERVED"&&N(se.text,be.line_starters)&&W.last_text!==")"&&(A=W.last_text==="else"||W.last_text==="export"?"SPACE":"NEWLINE"),se.type==="TK_RESERVED"&&N(se.text,["else","catch","finally"])?re!=="TK_END_BLOCK"||V.brace_style==="expand"||V.brace_style==="end-expand"||V.brace_style==="none"&&se.wanted_newline?We():(w.trim(!0),w.current_line.last()!=="}"&&We(),w.space_before_token=!0):A==="NEWLINE"?re==="TK_RESERVED"&&Ye(W.last_text)?w.space_before_token=!0:re!=="TK_END_EXPR"?re==="TK_START_EXPR"&&se.type==="TK_RESERVED"&&N(se.text,["const","let","const"])||W.last_text===":"||(se.type==="TK_RESERVED"&&se.text==="if"&&W.last_text==="else"?w.space_before_token=!0:We()):se.type==="TK_RESERVED"&&N(se.text,be.line_starters)&&W.last_text!==")"&&We():W.multiline_frame&&tt(W.mode)&&W.last_text===","&&ie==="}"?We():A==="SPACE"&&(w.space_before_token=!0),nt(),W.last_word=se.text,se.type==="TK_RESERVED"&&se.text==="do"&&(W.do_block=!0),se.type==="TK_RESERVED"&&se.text==="if"&&(W.if_block=!0)}re="TK_START_BLOCK",ie="",(w=new P(M,ae)).raw=V.test_output_raw,R=[],Me(L.BlockStatement),this.beautify=function(){var Ot,Rt;for(be=new j(H,V),q=be.tokenize(),he=0;Ot=xt();){for(var zt=0;zt<Ot.comments_before.length;zt++)we(Ot.comments_before[zt]);we(Ot),ie=W.last_text,re=Ot.type,W.last_text=Ot.text,he+=1}return Rt=w.get_code(),V.end_with_newline&&(Rt+=`
`),V.eol!=`
`&&(Rt=Rt.replace(/[\n]/g,V.eol)),Rt}}function G(H){var ee=0,w=-1,he=[],be=!0;this.set_indent=function(se){ee=H.baseIndentLength+se*H.indent_length,w=se},this.get_character_count=function(){return ee},this.is_empty=function(){return be},this.last=function(){return this._empty?null:he[he.length-1]},this.push=function(se){he.push(se),ee+=se.length,be=!1},this.pop=function(){var se=null;return be||(se=he.pop(),ee-=se.length,be=he.length===0),se},this.remove_indent=function(){0<w&&(w-=1,ee-=H.indent_length)},this.trim=function(){for(;this.last()===" ";)he.pop(),ee-=1;be=he.length===0},this.toString=function(){var se="";return this._empty||(0<=w&&(se=H.indent_cache[w]),se+=he.join("")),se}}function P(H,ee){ee=ee||"",this.indent_cache=[ee],this.baseIndentLength=ee.length,this.indent_length=H.length,this.raw=!1;var w=[];this.baseIndentString=ee,this.indent_string=H,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new G(this),w.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return w.length},this.add_new_line=function(he){return(this.get_line_number()!==1||!this.just_added_newline())&&!(!he&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0)},this.get_code=function(){return w.join(`
`).replace(/[\r\n\t ]+$/,"")},this.set_indent=function(he){if(1<w.length){for(;he>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(he),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(he){for(var be=0;be<he.newlines;be++)this.add_outputline();this.current_line.push(he.whitespace_before),this.current_line.push(he.text),this.space_before_token=!1},this.add_token=function(he){this.add_space_before_token(),this.current_line.push(he)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(he){if(!he.multiline_frame&&he.mode!==L.ForInitializer&&he.mode!==L.Conditional)for(var be=he.start_line_index,se=w.length;be<se;)w[be].remove_indent(),be++},this.trim=function(he){for(he=he!==void 0&&he,this.current_line.trim(H,ee);he&&1<w.length&&this.current_line.is_empty();)w.pop(),this.current_line=w[w.length-1],this.current_line.trim();this.previous_line=1<w.length?w[w.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(w.length===1||w[w.length-2].is_empty())}}var F=function(ee,w,he,be,se,re){this.type=ee,this.text=w,this.comments_before=[],this.newlines=he||0,this.wanted_newline=0<he,this.whitespace_before=be||"",this.parent=null,this.directives=null};function j(H,ee,w){var he=`
\r	 `.split(""),be=/[0-9]/,se=/[01234567]/,re=/[0123456789abcdefABCDEF]/,ie="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,const,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var M,W,K,R,A,J,V=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),q=/([\s\S]*?)((?:\*\/)|$)/g,ae=/([^\n\r\u2028\u2029]*)/g,Le=/\/\* beautify( \w+[:]\w+)+ \*\//g,Ee=/ (\w+)[:](\w+)/g,we=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,Ne=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function We(){var ct,nt,st=[];if(M=0,W="",J<=A)return["","TK_EOF"];nt=R.length?R[R.length-1]:new F("TK_START_BLOCK","{");var Me=H.charAt(A);for(A+=1;N(Me,he);){if(a.newline.test(Me)?Me===`
`&&H.charAt(A-2)==="\r"||(M+=1,st=[]):st.push(Me),J<=A)return["","TK_EOF"];Me=H.charAt(A),A+=1}if(st.length&&(W=st.join("")),be.test(Me)){var tt=!0,ze=!0,Ze=be;for(Me==="0"&&A<J&&/[Xxo]/.test(H.charAt(A))?(ze=tt=!1,Me+=H.charAt(A),A+=1,Ze=/[o]/.test(H.charAt(A))?se:re):(Me="",A-=1);A<J&&Ze.test(H.charAt(A));)Me+=H.charAt(A),A+=1,tt&&A<J&&H.charAt(A)==="."&&(Me+=H.charAt(A),A+=1,tt=!1),ze&&A<J&&/[Ee]/.test(H.charAt(A))&&(Me+=H.charAt(A),(A+=1)<J&&/[+-]/.test(H.charAt(A))&&(Me+=H.charAt(A),A+=1),tt=ze=!1);return[Me,"TK_WORD"]}if(a.isIdentifierStart(H.charCodeAt(A-1))){if(A<J)for(;a.isIdentifierChar(H.charCodeAt(A))&&(Me+=H.charAt(A),(A+=1)!==J););return nt.type==="TK_DOT"||nt.type==="TK_RESERVED"&&N(nt.text,["set","get"])||!N(Me,V)?[Me,"TK_WORD"]:Me==="in"?[Me,"TK_OPERATOR"]:[Me,"TK_RESERVED"]}if(Me==="("||Me==="[")return[Me,"TK_START_EXPR"];if(Me===")"||Me==="]")return[Me,"TK_END_EXPR"];if(Me==="{")return[Me,"TK_START_BLOCK"];if(Me==="}")return[Me,"TK_END_BLOCK"];if(Me===" ")return[Me,"TK_SEMICOLON"];if(Me==="/"){var qe="";if(H.charAt(A)==="*"){A+=1,q.lastIndex=A;var Fe=q.exec(H);qe="/*".concat(Fe[0]),A+=Fe[0].length;var Ye=function(So){if(!So.match(Le))return null;var ro={};Ee.lastIndex=0;for(var Xo=Ee.exec(So);Xo;)ro[Xo[1]]=Xo[2],Xo=Ee.exec(So);return ro}(qe);return Ye&&Ye.ignore==="start"&&(we.lastIndex=A,qe+=(Fe=we.exec(H))[0],A+=Fe[0].length),[qe=qe.replace(a.lineBreak,`
`),"TK_BLOCK_COMMENT",Ye]}if(H.charAt(A)==="/"){A+=1,ae.lastIndex=A;var xt=ae.exec(H);return qe="//".concat(xt[0]),A+=xt[0].length,[qe,"TK_COMMENT"]}}if(Me==="`"||Me==="'"||Me==='"'||(Me==="/"||ee.e4x&&Me==="<"&&H.slice(A-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&(nt.type==="TK_RESERVED"&&N(nt.text,["return","case","throw","else","do","typeof","yield"])||nt.type==="TK_END_EXPR"&&nt.text===")"&&nt.parent&&nt.parent.type==="TK_RESERVED"&&N(nt.parent.text,["if","while","for"])||N(nt.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var ft=Me,Ot=!1,Rt=!1;if(ct=Me,ft==="/")for(var zt=!1;A<J&&(Ot||zt||H.charAt(A)!==ft)&&!a.newline.test(H.charAt(A));)ct+=H.charAt(A),Ot?Ot=!1:(Ot=H.charAt(A)==="\\",H.charAt(A)==="["?zt=!0:H.charAt(A)==="]"&&(zt=!1)),A+=1;else if(ee.e4x&&ft==="<"){var Zt=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,wn=H.slice(A-1),Zn=Zt.exec(wn);if(Zn&&Zn.index===0){for(var et=Zn[2],wt=0;Zn;){var It=!!Zn[1],nn=Zn[2],bn=!!Zn[Zn.length-1]||nn.slice(0,8)==="![CDATA[";if(nn!==et||bn||(It?--wt:++wt),wt<=0)break;Zn=Zt.exec(wn)}var kn=Zn?Zn.index+Zn[0].length:wn.length;return wn=wn.slice(0,kn),A+=kn-1,[wn=wn.replace(a.lineBreak,`
`),"TK_STRING"]}}else for(;A<J&&(Ot||H.charAt(A)!==ft&&(ft==="`"||!a.newline.test(H.charAt(A))));)(Ot||ft==="`")&&a.newline.test(H.charAt(A))?(H.charAt(A)==="\r"&&H.charAt(A+1)===`
`&&(A+=1),ct+=`
`):ct+=H.charAt(A),Ot=Ot?(H.charAt(A)!=="x"&&H.charAt(A)!=="u"||(Rt=!0),!1):H.charAt(A)==="\\",A+=1;if(Rt&&ee.unescape_strings&&(ct=function(So){for(var ro,Xo=!1,zn="",cs=0,ms="",Et=0;Xo||cs<So.length;)if(ro=So.charAt(cs),cs++,Xo){if(Xo=!1,ro==="x")ms=So.substr(cs,2),cs+=2;else{if(ro!=="u"){zn+="\\".concat(ro);continue}ms=So.substr(cs,4),cs+=4}if(!ms.match(/^[0123456789abcdefABCDEF]+$/))return So;if(0<=(Et=parseInt(ms,16))&&Et<32){zn+=ro==="x"?"\\x".concat(ms):"\\u".concat(ms);continue}if(Et===34||Et===39||Et===92)zn+="\\".concat(String.fromCharCode(Et));else{if(ro==="x"&&126<Et&&Et<=255)return So;zn+=String.fromCharCode(Et)}}else ro==="\\"?Xo=!0:zn+=ro;return zn}(ct)),A<J&&H.charAt(A)===ft&&(ct+=ft,A+=1,ft==="/"))for(;A<J&&a.isIdentifierStart(H.charCodeAt(A));)ct+=H.charAt(A),A+=1;return[ct,"TK_STRING"]}if(Me==="#"){if(R.length===0&&H.charAt(A)==="!"){for(ct=Me;A<J&&Me!==`
`;)ct+=Me=H.charAt(A),A+=1;return["".concat(O(ct),`
`),"TK_UNKNOWN"]}var Mn="#";if(A<J&&be.test(H.charAt(A))){for(;Mn+=Me=H.charAt(A),(A+=1)<J&&Me!=="#"&&Me!=="=";);return Me==="#"||(H.charAt(A)==="["&&H.charAt(A+1)==="]"?(Mn+="[]",A+=2):H.charAt(A)==="{"&&H.charAt(A+1)==="}"&&(Mn+="{}",A+=2)),[Mn,"TK_WORD"]}}if(Me==="<"&&(H.charAt(A)==="?"||H.charAt(A)==="%")){Ne.lastIndex=A-1;var vn=Ne.exec(H);if(vn)return Me=vn[0],A+=Me.length-1,[Me=Me.replace(a.lineBreak,`
`),"TK_STRING"]}if(Me==="<"&&H.substring(A-1,A+3)==="<!--"){for(A+=3,Me="<!--";!a.newline.test(H.charAt(A))&&A<J;)Me+=H.charAt(A),A++;return K=!0,[Me,"TK_COMMENT"]}if(Me==="-"&&K&&H.substring(A-1,A+2)==="-->")return K=!1,A+=2,["-->","TK_COMMENT"];if(Me===".")return[Me,"TK_DOT"];if(N(Me,ie)){for(;A<J&&N(Me+H.charAt(A),ie)&&(Me+=H.charAt(A),!(J<=(A+=1))););return Me===","?[Me,"TK_COMMA"]:Me==="="?[Me,"TK_EQUALS"]:[Me,"TK_OPERATOR"]}return[Me,"TK_UNKNOWN"]}this.tokenize=function(){var ct,nt,st;J=H.length,A=0,K=!1,R=[];for(var Me=null,tt=[],ze=[];!nt||nt.type!=="TK_EOF";){for(st=We(),ct=new F(st[1],st[0],M,W);ct.type==="TK_COMMENT"||ct.type==="TK_BLOCK_COMMENT"||ct.type==="TK_UNKNOWN";)ct.type==="TK_BLOCK_COMMENT"&&(ct.directives=st[2]),ze.push(ct),st=We(),ct=new F(st[1],st[0],M,W);ze.length&&(ct.comments_before=ze,ze=[]),ct.type==="TK_START_BLOCK"||ct.type==="TK_START_EXPR"?(ct.parent=nt,tt.push(Me),Me=ct):(ct.type==="TK_END_BLOCK"||ct.type==="TK_END_EXPR")&&Me&&(ct.text==="]"&&Me.text==="["||ct.text===")"&&Me.text==="("||ct.text==="}"&&Me.text==="{")&&(ct.parent=Me.parent,Me=tt.pop()),R.push(ct),nt=ct}return R}}return{run:function(ee,w){function he(qe){return qe.replace(/\s+$/g,"")}var be,se,re,ie,M,W,K,R,A,J,V,q,ae,Le;for((w=w||{}).wrap_line_length!==void 0&&parseInt(w.wrap_line_length,10)!==0||w.max_char===void 0||parseInt(w.max_char,10)===0||(w.wrap_line_length=w.max_char),se=w.indent_inner_html!==void 0&&w.indent_inner_html,re=w.indent_size===void 0?4:parseInt(w.indent_size,10),ie=w.indent_char===void 0?" ":w.indent_char,W=w.brace_style===void 0?"collapse":w.brace_style,M=parseInt(w.wrap_line_length,10)===0?32786:parseInt(w.wrap_line_length||250,10),K=w.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","const","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],R=w.preserve_newlines===void 0||w.preserve_newlines,A=R?isNaN(parseInt(w.max_preserve_newlines,10))?32786:parseInt(w.max_preserve_newlines,10):0,J=w.indent_handlebars!==void 0&&w.indent_handlebars,V=w.wrap_attributes===void 0?"auto":w.wrap_attributes,q=w.wrap_attributes_indent_size===void 0?re:parseInt(w.wrap_attributes_indent_size,10)||re,ae=w.end_with_newline!==void 0&&w.end_with_newline,Le=Array.isArray(w.extra_liners)?w.extra_liners.concat():typeof w.extra_liners=="string"?w.extra_liners.split(","):"head,body,/html".split(","),w.indent_with_tabs&&(ie="	",re=1),(be=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=se,this.Utils={whitespace:`
\r	 `.split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:Le,in_array:function(Fe,Ye){for(var xt=0;xt<Ye.length;xt++)if(Fe===Ye[xt])return!0;return!1}},this.is_whitespace=function(Fe){for(;0<Fe.length;Fe++)if(!this.Utils.in_array(Fe.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var Fe="";if(Fe=this.input.charAt(this.pos),this.Utils.in_array(Fe,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(Fe,this.Utils.whitespace);)R&&Fe===`
`&&this.newlines<=A&&(this.newlines+=1),this.pos++,Fe=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(Fe){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,Fe),this.print_indentation(Fe)):(this.line_char_count++,Fe.push(" "))},this.get_content=function(){for(var Fe="",Ye=[];this.input.charAt(this.pos)!="<";){if(this.pos>=this.input.length)return Ye.length?Ye.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(Ye);else{if(J){var xt=this.input.substr(this.pos,3);if(xt==="{{#"||xt==="{{/")break;if(xt==="{{!")return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if(this.input.substr(this.pos,2)==="{{"&&this.get_tag(!0)==="{{else}}")break}Fe=this.input.charAt(this.pos),this.pos++,this.line_char_count++,Ye.push(Fe)}}return Ye.length?Ye.join(""):""},this.get_contents_to=function(Fe){if(this.pos===this.input.length)return["","TK_EOF"];var Ye="",xt=new RegExp("</".concat(Fe,"\\s*>"),"igm");xt.lastIndex=this.pos;var ft=xt.exec(this.input),Ot=ft?ft.index:this.input.length;return this.pos<Ot&&(Ye=this.input.substring(this.pos,Ot),this.pos=Ot),Ye},this.record_tag=function(Fe){this.tags["".concat(Fe,"count")]?this.tags["".concat(Fe,"count")]++:this.tags["".concat(Fe,"count")]=1,this.tags[Fe+this.tags["".concat(Fe,"count")]]=this.indent_level,this.tags[Fe+this.tags["".concat(Fe,"count")]+"parent"]=this.tags.parent,this.tags.parent=Fe+this.tags["".concat(Fe,"count")]},this.retrieve_tag=function(Fe){if(this.tags["".concat(Fe,"count")]){for(var Ye=this.tags.parent;Ye&&Fe+this.tags["".concat(Fe,"count")]!==Ye;)Ye=this.tags["".concat(Ye,"parent")];Ye&&(this.indent_level=this.tags[Fe+this.tags["".concat(Fe,"count")]],this.tags.parent=this.tags[Ye+"parent"]),delete this.tags[Fe+this.tags["".concat(Fe,"count")]+"parent"],delete this.tags[Fe+this.tags["".concat(Fe,"count")]],this.tags["".concat(Fe,"count")]===1?delete this.tags["".concat(Fe,"count")]:this.tags["".concat(Fe,"count")]--}},this.indent_to_tag=function(Fe){if(this.tags["".concat(Fe,"count")]){for(var Ye=this.tags.parent;Ye&&Fe+this.tags["".concat(Fe,"count")]!==Ye;)Ye=this.tags["".concat(Ye,"parent")];Ye&&(this.indent_level=this.tags[Fe+this.tags["".concat(Fe,"count")]])}},this.get_tag=function(Fe){var Ye,xt,ft="",Ot=[],Rt="",zt=!1,Zt=!0,wn=this.pos,Zn=this.line_char_count;Fe=Fe!==void 0&&Fe;do{if(this.pos>=this.input.length)return Fe&&(this.pos=wn,this.line_char_count=Zn),Ot.length?Ot.join(""):["","TK_EOF"];if(ft=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(ft,this.Utils.whitespace))zt=!0;else{if(ft!=="'"&&ft!=='"'||(ft+=this.get_unformatted(ft),zt=!0),ft==="="&&(zt=!1),Ot.length&&Ot[Ot.length-1]!="="&&ft!=">"&&zt){if(this.space_or_wrap(Ot),zt=!1,!Zt&&V==="force"&&ft!="/"){this.print_newline(!0,Ot),this.print_indentation(Ot);for(var et=0;et<q;et++)Ot.push(ie)}for(var wt=0;wt<Ot.length;wt++)if(Ot[wt]===" "){Zt=!1;break}}if(J&&xt==="<"&&ft+this.input.charAt(this.pos)==="{{"&&(ft+=this.get_unformatted("}}"),Ot.length&&Ot[Ot.length-1]!=" "&&Ot[Ot.length-1]!="<"&&(ft=" ".concat(ft)),zt=!0),ft!=="<"||xt||(Ye=this.pos-1,xt="<"),J&&!xt&&2<=Ot.length&&Ot[Ot.length-1]==="{"&&Ot[Ot.length-2]==="{"&&(Ye=ft==="#"||ft==="/"||ft==="!"?this.pos-3:this.pos-2,xt="{"),this.line_char_count++,Ot.push(ft),Ot[1]&&(Ot[1]==="!"||Ot[1]==="?"||Ot[1]==="%")){Ot=[this.get_comment(Ye)];break}if(J&&Ot[1]&&Ot[1]==="{"&&Ot[2]&&Ot[2]==="!"){Ot=[this.get_comment(Ye)];break}if(J&&xt==="{"&&2<Ot.length&&Ot[Ot.length-2]==="}"&&Ot[Ot.length-1]==="}")break}}while(ft!=">");var It,nn,bn=Ot.join("");It=bn.indexOf(" ")!=-1?bn.indexOf(" "):bn[0]==="{"?bn.indexOf("}"):bn.indexOf(">"),nn=bn[0]!=="<"&&J?bn[2]==="#"?3:2:1;var kn=bn.substring(nn,It).toLowerCase();return bn.charAt(bn.length-2)==="/"||this.Utils.in_array(kn,this.Utils.single_token)?Fe||(this.tag_type="SINGLE"):J&&bn[0]==="{"&&kn==="else"?Fe||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(kn,K)?(Rt=this.get_unformatted("</".concat(kn,">"),bn),Ot.push(Rt),this.pos,this.tag_type="SINGLE"):kn==="script"&&(bn.search("type")===-1||-1<bn.search("type")&&-1<bn.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?Fe||(this.record_tag(kn),this.tag_type="SCRIPT"):kn==="style"&&(bn.search("type")===-1||-1<bn.search("type")&&-1<bn.search("text/css"))?Fe||(this.record_tag(kn),this.tag_type="STYLE"):kn.charAt(0)==="!"?Fe||(this.tag_type="SINGLE",this.traverse_whitespace()):Fe||(kn.charAt(0)==="/"?(this.retrieve_tag(kn.substring(1)),this.tag_type="END"):(this.record_tag(kn),kn.toLowerCase()!="html"&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(Ot),this.Utils.in_array(kn,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&this.output[this.output.length-2]!=`
`&&this.print_newline(!0,this.output))),Fe&&(this.pos=wn,this.line_char_count=Zn),Ot.join("")},this.get_comment=function(Fe){var Ye="",xt=">",ft=!1;this.pos=Fe;var Ot=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((Ye+=Ot)[Ye.length-1]!==xt[xt.length-1]||Ye.indexOf(xt)==-1);)!ft&&Ye.length<10&&(Ye.indexOf("<![if")===0?(xt="<![endif]>",ft=!0):Ye.indexOf("<![cdata[")===0?(xt="]]>",ft=!0):Ye.indexOf("<![")===0?(xt="]>",ft=!0):Ye.indexOf("<!--")===0?(xt="-->",ft=!0):Ye.indexOf("{{!")===0?(xt="}}",ft=!0):Ye.indexOf("<?")===0?(xt="?>",ft=!0):Ye.indexOf("<%")===0&&(xt="%>",ft=!0)),Ot=this.input.charAt(this.pos),this.pos++;return Ye},this.get_unformatted=function(Fe,Ye){if(Ye&&Ye.toLowerCase().indexOf(Fe)!=-1)return"";var xt="",ft="",Ot=!0,Rt="";do{if(this.pos>=this.input.length)return ft;if(xt=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(xt,this.Utils.whitespace)){if(!Ot){this.line_char_count--;continue}if(xt===`
`||xt==="\r"){ft+=`
`,this.line_char_count=0;continue}}ft+=xt,(Rt+=xt.toLowerCase()).length>Fe.length&&(Rt=Rt.substring(1)),this.line_char_count++,Ot=!0,J&&xt==="{"&&ft.length&&ft[ft.length-2]==="{"&&(ft+=this.get_unformatted("}}"))}while(Rt!==Fe);return ft},this.get_token=function(){var Fe;if(this.last_token!=="TK_TAG_SCRIPT"&&this.last_token!=="TK_TAG_STYLE")return this.current_mode==="CONTENT"?typeof(Fe=this.get_content())!="string"?Fe:[Fe,"TK_CONTENT"]:this.current_mode==="TAG"?typeof(Fe=this.get_tag())!="string"?Fe:[Fe,"TK_TAG_".concat(this.tag_type)]:void 0;var Ye=this.last_token.substr(7);return typeof(Fe=this.get_contents_to(Ye))!="string"?Fe:[Fe,"TK_".concat(Ye)]},this.get_full_indent=function(Fe){return(Fe=this.indent_level+Fe||0)<1?"":new Array(Fe+1).join(this.indent_string)},this.is_unformatted=function(Fe,Ye){if(!this.Utils.in_array(Fe,Ye))return!1;if(Fe.toLowerCase()!="a"||!this.Utils.in_array("a",Ye))return!0;var xt=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(xt&&!this.Utils.in_array(xt,Ye))},this.printer=function(Fe,Ye,xt,ft,Ot){this.input=Fe||"",this.output=[],this.indent_character=Ye,this.indent_string="",this.indent_size=xt,this.brace_style=Ot,this.indent_level=0,this.wrap_line_length=ft;for(var Rt=this.line_char_count=0;Rt<this.indent_size;Rt++)this.indent_string+=this.indent_character;this.print_newline=function(zt,Zt){this.line_char_count=0,Zt&&Zt.length&&(zt||Zt[Zt.length-1]!=`
`)&&(Zt[Zt.length-1]!=`
`&&(Zt[Zt.length-1]=he(Zt[Zt.length-1])),Zt.push(`
`))},this.print_indentation=function(zt){for(var Zt=0;Zt<this.indent_level;Zt++)zt.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(zt){this.is_whitespace(zt)&&!this.output.length||((zt||zt!=="")&&this.output.length&&this.output[this.output.length-1]===`
`&&(this.print_indentation(this.output),zt=function(wn){return wn.replace(/^\s+/g,"")}(zt)),this.print_token_raw(zt))},this.print_token_raw=function(zt){0<this.newlines&&(zt=he(zt)),zt&&zt!==""&&(1<zt.length&&zt[zt.length-1]===`
`?(this.output.push(zt.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(zt));for(var Zt=0;Zt<this.newlines;Zt++)this.print_newline(0<Zt,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(ee,ie,re,M,W);;){var Ee=be.get_token();if(be.token_text=Ee[0],be.token_type=Ee[1],be.token_type==="TK_EOF")break;switch(be.token_type){case"TK_TAG_START":be.print_newline(!1,be.output),be.print_token(be.token_text),be.indent_content&&(be.indent(),be.indent_content=!1),be.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":be.print_newline(!1,be.output),be.print_token(be.token_text),be.current_mode="CONTENT";break;case"TK_TAG_END":if(be.last_token==="TK_CONTENT"&&be.last_text===""){var we=be.token_text.match(/\w+/)[0],Ne=null;be.output.length&&(Ne=be.output[be.output.length-1].match(/(?:<|{{#)\/?\s*(\w+)/)),(Ne===null||Ne[1]!=we&&!be.Utils.in_array(Ne[1],K))&&be.print_newline(!1,be.output)}be.print_token(be.token_text),be.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var We=be.token_text.match(/^\s*<([a-z-]+)/i);We&&be.Utils.in_array(We[1],K)||be.print_newline(!1,be.output),be.print_token(be.token_text),be.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":be.print_token(be.token_text),be.indent_content&&(be.indent(),be.indent_content=!1),be.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":be.print_token(be.token_text),be.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(be.token_text!==""){be.print_newline(!1,be.output);var ct=be.token_text,nt=void 0,st=1;be.token_type==="TK_SCRIPT"?nt=T:be.token_type==="TK_STYLE"&&(nt=f),w.indent_scripts==="keep"?st=0:w.indent_scripts==="separate"&&(st=-be.indent_level);var Me=be.get_full_indent(st);if(nt)ct=nt(ct.replace(/^\s*/,Me),w);else{var tt=ct.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(be.indent_string).length-1,ze=be.get_full_indent(st-tt);ct=ct.replace(/^\s*/,Me).replace(/\r\n|\r|\n/g,`
`+ze).replace(/\s+$/,"")}ct&&(be.print_token_raw(ct),be.print_newline(!0,be.output))}be.current_mode="TAG";break;default:be.token_text!==""&&be.print_token(be.token_text)}be.last_token=be.token_type,be.last_text=be.token_text}var Ze=be.output.join("").replace(/[\r\n\t ]+$/,"");return ae&&(Ze+=`
`),Ze}}},Object.assign(x.DEFAULTS,{codeMirror:window.CodeMirror,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"	",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),x.PLUGINS.codeView=function(s){var b,$,ge=s.$,a=function(){return s.$box.hasClass("fr-code-view")};function f(){return $?$.getValue():b.val()}function N(){a()&&($&&$.setSize(null,s.opts.height?s.opts.height:"auto"),s.opts.heightMin||s.opts.height?(s.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",s.opts.heightMin||s.opts.height),b.css("height",s.opts.height)):s.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",""))}var O,T=!1;function L(){a()&&s.events.trigger("blur")}function B(){a()&&T&&s.events.trigger("focus")}function G(j){b||(function(){b=ge('<textarea class="fr-code" tabIndex="-1">'),s.$wp.append(b),b.attr("dir",s.opts.direction),s.$box.hasClass("fr-basic")||(O=ge('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'.concat(s.helpers.isMobile()?"":" fr-desktop",'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>')),s.$box.append(O),s.events.bindClick(s.$box,"a.html-switch",function(){s.events.trigger("commands.before",["html"]),P(!1),s.events.trigger("commands.after",["html"])}));var M=function(){return!a()};s.events.on("buttons.refresh",M),s.events.on("copy",M,!0),s.events.on("cut",M,!0),s.events.on("paste",M,!0),s.events.on("destroy",F,!0),s.events.on("html.set",function(){a()&&P(!0)}),s.events.on("codeView.update",N),s.events.on("codeView.toggle",function(){s.$box.hasClass("fr-code-view")&&P()}),s.events.on("form.submit",function(){a()&&(s.html.set(f()),s.events.trigger("contentChanged",[],!0))},!0)}(),!$&&s.opts.codeMirror?(($=s.opts.codeMirror.fromTextArea(b.get(0),s.opts.codeMirrorOptions)).on("blur",L),$.on("focus",B)):(s.events.$on(b,"keydown keyup change input",function(){s.opts.height?this.removeAttribute("rows"):(this.rows=1,this.value.length===0?this.style.height="auto":this.style.height="".concat(this.scrollHeight,"px"))}),s.events.$on(b,"blur",L),s.events.$on(b,"focus",B))),s.undo.saveStep(),s.html.cleanEmptyTags(),s.html.cleanWhiteTags(!0),s.core.hasFocus()&&(s.core.isEmpty()||(s.selection.save(),s.$el.find('.fr-marker[data-type="true"]').first().replaceWith('<span class="fr-tmp fr-sm">F</span>'),s.$el.find('.fr-marker[data-type="false"]').last().replaceWith('<span class="fr-tmp fr-em">F</span>')));var H=s.html.get(!1,!0);s.$el.find("span.fr-tmp").remove(),s.$box.toggleClass("fr-code-view",!0);var ee,w,he=!1;if(s.core.hasFocus()&&(he=!0,s.events.disableBlur(),s.$el.blur()),H=(H=H.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),s.codeBeautifier&&!H.includes("fr-embedly")&&(H=s.codeBeautifier.run(H,s.opts.codeBeautifierOptions)),$){ee=H.indexOf("FROALA-SM"),(w=H.indexOf("FROALA-EM"))<ee?ee=w:w-=9;var be=(H=H.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).substring(0,ee).length-H.substring(0,ee).replace(/\n/g,"").length,se=H.substring(0,w).length-H.substring(0,w).replace(/\n/g,"").length;ee=H.substring(0,ee).length-H.substring(0,H.substring(0,ee).lastIndexOf(`
`)+1).length,w=H.substring(0,w).length-H.substring(0,H.substring(0,w).lastIndexOf(`
`)+1).length,$.setSize(null,s.opts.height?s.opts.height:"auto"),s.opts.heightMin&&s.$box.find(".CodeMirror-scroll").css("min-height",s.opts.heightMin),$.setValue(H),T=!he,$.focus(),T=!0,$.setSelection({line:be,ch:ee},{line:se,ch:w}),$.refresh(),$.clearHistory()}else{ee=H.indexOf("FROALA-SM"),w=H.indexOf("FROALA-EM")-9,s.opts.heightMin&&b.css("min-height",s.opts.heightMin),s.opts.height&&b.css("height",s.opts.height),s.opts.heightMax&&b.css("max-height",s.opts.height||s.opts.heightMax),b.val(H.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var re=ge(s.o_doc).scrollTop();T=!he,b.focus(),T=!0,b.get(0).setSelectionRange(ee,w),ge(s.o_doc).scrollTop(re)}s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(j).filter(function(){return s.opts.codeViewKeepActiveButtons.indexOf(ge(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!0),j.addClass("fr-active").attr("aria-pressed",!0),!s.helpers.isMobile()&&s.opts.toolbarInline&&s.toolbar.hide()}function P(j){j===void 0&&(j=!a());var H=s.$tb.find('.fr-command[data-cmd="html"]');j?(s.popups.hideAll(),G(H)):(s.$box.toggleClass("fr-code-view",!1),function(w){var he=f();s.html.set(he),s.$el.blur(),s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(w).removeClass("fr-disabled").attr("aria-disabled",!1),w.removeClass("fr-active").attr("aria-pressed",!1),s.selection.setAtStart(s.el),s.selection.restore(),s.placeholder.refresh(),s.undo.saveStep()}(H),s.events.trigger("codeView.update"))}function F(){a()&&P(!1),$&&$.toTextArea(),b.val("").removeData().remove(),b=null,O&&(O.remove(),O=null)}return{_init:function(){if(s.events.on("focus",function(){s.opts.toolbarContainer&&function(){var ee=s.$tb.find('.fr-command[data-cmd="html"]');a()?(s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(ee).filter(function(){return s.opts.codeViewKeepActiveButtons.indexOf(ge(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!1),ee.addClass("fr-active").attr("aria-pressed",!1)):(s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(ee).removeClass("fr-disabled").attr("aria-disabled",!1),ee.removeClass("fr-active").attr("aria-pressed",!1))}()}),!s.$wp)return!1},toggle:P,isActive:a,get:f}},x.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),x.DefineIcon("html",{NAME:"code",SVG_KEY:"codeView"}),Object.assign(x.POPUP_TEMPLATES,{"textColor.picker":"[_BUTTONS_][_TEXT_COLORS_][_CUSTOM_COLOR_]","backgroundColor.picker":"[_BUTTONS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]"}),Object.assign(x.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsHEXInput:!0,colorsButtons:["colorsBack","|","-"]}),x.PLUGINS.colors=function(s){var b=s.$,$=`<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer- 
  `.concat(s.id,`"><div class="fr-input-line"><input maxlength="9" id="[ID]"
  type="text" placeholder="`).concat(s.language.translate("HEX Color"),`" 
  tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button 
  type="button" class="fr-command fr-submit" data-cmd="[COMMAND]" tabIndex="2" role="button">
  `).concat(s.language.translate("OK"),"</button></div></div>");function ge(O){for(var T=O==="text"?s.opts.colorsText:s.opts.colorsBackground,L='<div class="fr-color-set fr-'.concat(O,'-color fr-selected-set">'),B=0;B<T.length;B++)B!==0&&B%s.opts.colorsStep==0&&(L+="<br>"),T[B]!=="REMOVE"?L+='<span class="fr-command fr-select-color" style="background:'.concat(T[B].toUpperCase(),`;" 
        tabIndex="-1" aria-selected="false" role="button" data-cmd="apply`).concat(O,`Color" 
        data-param1="`).concat(T[B].toUpperCase(),'"><span class="fr-sr-only"> ').concat(s.language.translate("Color")).concat(T[B],` 
        &nbsp;&nbsp;&nbsp;</span></span>`):L+='<span class="fr-command fr-select-color" data-cmd="apply'.concat(O,`Color"
         tabIndex="-1" role="button" data-param1="REMOVE" 
         title="`).concat(s.language.translate("Clear Formatting"),'">').concat(s.icon.create("remove"),` 
        <span class="fr-sr-only"> `).concat(s.language.translate("Clear Formatting")," </span></span>");return"".concat(L,"</div>")}function a(O){var T,L=s.popups.get("".concat(O,"Color.picker")),B=b(s.selection.element());T=O==="background"?"background-color":"color";var G=L.find(".fr-".concat(O,"-color .fr-select-color"));for(G.find(".fr-selected-color").remove(),G.removeClass("fr-active-item"),G.not('[data-param1="REMOVE"]').attr("aria-selected",!1);B.get(0)!==s.el;){if(B.css(T)!=="transparent"&&B.css(T)!=="rgba(0, 0, 0, 0)"){var P=L.find(".fr-".concat(O,'-color .fr-select-color[data-param1="').concat(s.helpers.RGBToHex(B.css(T)),'"]'));P.append('<span class="fr-selected-color" aria-hidden="true"></span>'),P.addClass("fr-active-item").attr("aria-selected",!0);break}B=B.parent()}(function(j){var H=s.popups.get("".concat(j,"Color.picker")),ee=H.find(".fr-".concat(j,"-color .fr-active-item")).attr("data-param1"),w=H.find(".fr-color-hex-layer input");ee||(ee=""),w.length&&b(w.val(ee).input).trigger("change")})(O)}function f(O){O!=="REMOVE"?s.format.applyStyle("background-color",s.helpers.HEXtoRGB(O)):s.format.removeStyle("background-color"),s.popups.hide("backgroundColor.picker")}function N(O){O!=="REMOVE"?s.format.applyStyle("color",s.helpers.HEXtoRGB(O)):s.format.removeStyle("color"),s.popups.hide("textColor.picker")}return{showColorsPopup:function(T){var L=s.$tb.find('.fr-command[data-cmd="'.concat(T,'"]')),B=s.popups.get("".concat(T,".picker"));if(B||(B=function(H){var ee="";s.opts.toolbarInline&&0<s.opts.colorsButtons.length&&(ee+=`<div class="fr-buttons fr-colors-buttons fr-tabs">
        `.concat(s.button.buildList(s.opts.colorsButtons),`
        </div>`));var w,he="";w=H==="textColor"?(s.opts.colorsHEXInput&&(he=$.replace(/\[ID\]/g,"fr-color-hex-layer-text-".concat(s.id)).replace(/\[COMMAND\]/g,"customTextColor")),{buttons:ee,text_colors:ge("text"),custom_color:he}):(s.opts.colorsHEXInput&&(he=$.replace(/\[ID\]/g,"fr-color-hex-layer-background-".concat(s.id)).replace(/\[COMMAND\]/g,"customBackgroundColor")),{buttons:ee,background_colors:ge("background"),custom_color:he});var be=s.popups.create("".concat(H,".picker"),w);return function(re,ie){s.events.on("popup.tab",function(M){var W=b(M.currentTarget);if(!s.popups.isVisible(ie)||!W.is("span, input, button"))return!0;var K,R,A=M.which,J=!0;if(x.KEYCODE.TAB===A){var V=re.find("span.fr-select-color");if(W.is(V.first())&&M.shiftKey||W.is(re.find("span.fr-submit"))&&!M.shiftKey){var q=re.find(".fr-buttons");J=!s.accessibility.focusToolbar(q,!!M.shiftKey)}if(J!==!1){var ae=re.find("span.fr-select-color");ae.add(re.find("input")),ae.add(re.find("button.fr-submit")),K=ae.index(W),K=M.shiftKey?((K-1)%ae.length+ae.length)%ae.length:(K+1)%ae.length,R=ae.get(K),s.events.disableBlur(),R.focus(),J=!1}}else if(x.KEYCODE.ARROW_UP===A||x.KEYCODE.ARROW_DOWN===A||x.KEYCODE.ARROW_LEFT===A||x.KEYCODE.ARROW_RIGHT===A){if(W.is("span.fr-select-color")){var Le=W.parent().find("span.fr-select-color"),Ee=Le.index(W),we=s.opts.colorsStep,Ne=Math.floor(Le.length/we),We=Ee%we,ct=Math.floor(Ee/we),nt=ct*we+We,st=Ne*we;x.KEYCODE.ARROW_UP===A?nt=((nt-we)%st+st)%st:x.KEYCODE.ARROW_DOWN===A?nt=(nt+we)%st:x.KEYCODE.ARROW_LEFT===A?nt=((nt-1)%st+st)%st:x.KEYCODE.ARROW_RIGHT===A&&(nt=(nt+1)%st);var Me=b(Le.get(nt));s.events.disableBlur(),Me.focus(),J=!1}}else x.KEYCODE.ENTER===A&&(s.button.exec(W),J=!1);return J===!1&&(M.preventDefault(),M.stopPropagation()),J},!0)}(be,"".concat(H,".picker")),be}(T)),!B.hasClass("fr-active"))if(s.popups.setContainer("".concat(T,".picker"),s.$tb),a(T==="textColor"?"text":"background"),L.isVisible()){var G=s.button.getPosition(L),P=G.left,F=G.top;s.popups.show("".concat(T,".picker"),P,F,L.outerHeight())}else s.position.forSelection(B),s.popups.show("".concat(T,".picker"))},background:f,customColor:function(T){var L=s.popups.get("".concat(T,"Color.picker")).find(".fr-color-hex-layer input");if(L.length){var B=L.val();T==="background"?f(B):N(B)}},text:N,back:function(){s.popups.hide("textColor.picker"),s.popups.hide("backgroundColor.picker"),s.toolbar.showInline()}}},x.DefineIcon("textColor",{NAME:"tint",SVG_KEY:"textColor"}),x.RegisterCommand("textColor",{title:"Text Color",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("textColor.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("textColor.picker")):this.colors.showColorsPopup("textColor")}}),x.RegisterCommand("applytextColor",{undo:!0,callback:function(s,b){this.colors.text(b)}}),x.RegisterCommand("customTextColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor("text")}}),x.DefineIcon("backgroundColor",{NAME:"paint-brush",SVG_KEY:"backgroundColor"}),x.RegisterCommand("backgroundColor",{title:"Background Color",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("backgroundColor.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("backgroundColor.picker")):this.colors.showColorsPopup("backgroundColor")}}),x.RegisterCommand("applybackgroundColor",{undo:!0,callback:function(s,b){this.colors.background(b)}}),x.RegisterCommand("customBackgroundColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor("background")}}),x.DefineIcon("colorsBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),x.DefineIcon("remove",{NAME:"eraser",SVG_KEY:"remove"}),Object.assign(x.DEFAULTS,{dragInline:!0}),x.PLUGINS.draggable=function(s){var b=s.$;function $(G){return!(!G.originalEvent||!G.originalEvent.target||G.originalEvent.target.nodeType!==Node.TEXT_NODE)||(G.target&&G.target.tagName==="A"&&G.target.childNodes.length===1&&G.target.childNodes[0].tagName==="IMG"&&(G.target=G.target.childNodes[0]),b(G.target).hasClass("fr-draggable")?(s.undo.canDo()||s.undo.saveStep(),s.opts.dragInline?s.$el.attr("contenteditable",!0):s.$el.attr("contenteditable",!1),s.opts.toolbarInline&&s.toolbar.hide(),b(G.target).addClass("fr-dragging"),s.browser.msie||s.browser.edge||s.selection.clear(),void G.originalEvent.dataTransfer.setData("text","Froala")):(G.preventDefault(),!1))}var ge,a=function(P){return!(P&&(P.tagName==="HTML"||P.tagName==="BODY"||s.node.isElement(P)))};function f(G,P,F){if(s.opts.iframe){var j=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),H=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));G+=s.$iframe.offset().top+j,P+=s.$iframe.offset().left+H}ge.offset().top!==G&&ge.css("top",G),ge.offset().left!==P&&ge.css("left",P),ge.width()!==F&&ge.css("width",F)}function N(G){G.originalEvent.dataTransfer.dropEffect="move",s.opts.dragInline?(!function(){for(var F=null,j=0;j<x.INSTANCES.length;j++)if((F=x.INSTANCES[j].$el.find(".fr-dragging")).length)return F.get(0)}()||s.browser.msie||s.browser.edge)&&G.preventDefault():(G.preventDefault(),function(F){var j=s.doc.elementFromPoint(F.originalEvent.pageX-s.win.pageXOffset,F.originalEvent.pageY-s.win.pageYOffset);if(!a(j)){for(var H=0,ee=j;!a(ee)&&ee===j&&0<F.originalEvent.pageY-s.win.pageYOffset-H;)H++,ee=s.doc.elementFromPoint(F.originalEvent.pageX-s.win.pageXOffset,F.originalEvent.pageY-s.win.pageYOffset-H);(!a(ee)||ge&&s.$el.find(ee).length===0&&ee!==ge.get(0))&&(ee=null);for(var w=0,he=j;!a(he)&&he===j&&F.originalEvent.pageY-s.win.pageYOffset+w<b(s.doc).height();)w++,he=s.doc.elementFromPoint(F.originalEvent.pageX-s.win.pageXOffset,F.originalEvent.pageY-s.win.pageYOffset+w);(!a(he)||ge&&s.$el.find(he).length===0&&he!==ge.get(0))&&(he=null),j=he===null&&ee?ee:he&&ee===null?he:he&&ee?H<w?ee:he:null}if(b(j).hasClass("fr-drag-helper"))return!1;if(j&&!s.node.isBlock(j)&&(j=s.node.blockParent(j)),j&&0<=["TD","TH","TR","THEAD","TBODY"].indexOf(j.tagName)&&(j=b(j).parents("table").get(0)),j&&0<=["LI"].indexOf(j.tagName)&&(j=b(j).parents("UL, OL").get(0)),j&&!b(j).hasClass("fr-drag-helper")){var be;ge||(x.$draggable_helper||(x.$draggable_helper=b(document.createElement("div")).attr("class","fr-drag-helper")),ge=x.$draggable_helper,s.events.on("shared.destroy",function(){ge.html("").removeData().remove(),ge=null},!0)),be=F.originalEvent.pageY<b(j).offset().top+b(j).outerHeight()/2;var se=b(j),re=0;be||se.next().length!==0?(be||(se=se.next()),ge.data("fr-position")==="before"&&se.is(ge.data("fr-tag"))||(0<se.prev().length&&(re=parseFloat(se.prev().css("margin-bottom"))||0),re=Math.max(re,parseFloat(se.css("margin-top"))||0),f(se.offset().top-re/2-s.$box.offset().top,se.offset().left-s.win.pageXOffset-s.$box.offset().left,se.width()),ge.data("fr-position","before"))):ge.data("fr-position")==="after"&&se.is(ge.data("fr-tag"))||(re=parseFloat(se.css("margin-bottom"))||0,f(se.offset().top+b(j).height()+re/2-s.$box.offset().top,se.offset().left-s.win.pageXOffset-s.$box.offset().left,se.width()),ge.data("fr-position","after")),ge.data("fr-tag",se),ge.addClass("fr-visible"),s.$box.append(ge)}else ge&&0<s.$box.find(ge).length&&ge.removeClass("fr-visible")}(G))}function O(G){G.originalEvent.dataTransfer.dropEffect="move",s.opts.dragInline||G.preventDefault()}function T(G){s.$el.attr("contenteditable",!0);var P=s.$el.find(".fr-dragging");ge&&ge.hasClass("fr-visible")&&s.$box.find(ge).length?L(G):P.length&&(G.preventDefault(),G.stopPropagation()),ge&&s.$box.find(ge).length&&ge.removeClass("fr-visible"),P.removeClass("fr-dragging")}function L(G){var P,F;s.$el.attr("contenteditable",!0);for(var j=0;j<x.INSTANCES.length;j++)if((P=x.INSTANCES[j].$el.find(".fr-dragging")).length){F=x.INSTANCES[j];break}if(P.length){if(G.preventDefault(),G.stopPropagation(),ge&&ge.hasClass("fr-visible")&&s.$box.find(ge).length)ge.data("fr-tag")[ge.data("fr-position")]('<span class="fr-marker"></span>'),ge.removeClass("fr-visible");else if(s.markers.insertAtPoint(G.originalEvent)===!1)return!1;if(P.removeClass("fr-dragging"),(P=s.events.chainTrigger("element.beforeDrop",P))===!1)return!1;var H=P;if(P.parent().is("A")&&P.parent().get(0).childNodes.length===1&&(H=P.parent()),s.core.isEmpty()?s.events.focus():(s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.selection.restore()),F===s||s.undo.canDo()||s.undo.saveStep(),s.core.isEmpty())s.$el.html(H);else{var ee=s.markers.insert();(s||"").selection&&H.contains(ee)&&H.before(ee),H.find(ee).length===0?b(ee).replaceWith(H):P.find(ee).length===0&&b(ee).replaceWith(P),P.after(x.MARKERS),s.selection.restore()}return s.popups.hideAll(),s.selection.save(),s.$el.find(s.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").not(s.opts.htmlAllowedEmptyTags.join(",")).remove(),s.html.wrap(),s.html.fillEmptyBlocks(),s.selection.restore(),s.undo.saveStep(),s.opts.iframe&&s.size.syncIframe(),F!==s&&(F.popups.hideAll(),F.$el.find(F.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),F.html.wrap(),F.html.fillEmptyBlocks(),F.undo.saveStep(),F.events.trigger("element.dropped"),F.opts.iframe&&F.size.syncIframe()),s.events.trigger("element.dropped",[H]),!1}ge&&ge.removeClass("fr-visible"),s.undo.canDo()||s.undo.saveStep(),setTimeout(function(){s.undo.saveStep()},0)}function B(G){if(G&&G.tagName==="DIV"&&s.node.hasClass(G,"fr-drag-helper"))G.parentNode.removeChild(G);else if(G&&G.nodeType===Node.ELEMENT_NODE)for(var P=G.querySelectorAll("div.fr-drag-helper"),F=0;F<P.length;F++)P[F].parentNode.removeChild(P[F])}return{_init:function(){s.opts.enter===x.ENTER_BR&&(s.opts.dragInline=!0),s.events.on("dragstart",$,!0),s.events.on("dragover",N,!0),s.events.on("dragenter",O,!0),s.events.on("document.dragend",T,!0),s.events.on("document.drop",T,!0),s.events.on("drop",L,!0),s.events.on("html.processGet",B)}}},Object.assign(x.DEFAULTS,{editInPopup:!1}),x.MODULES.editInPopup=function(s){function b(){s.events.$on(s.$el,s._mouseup,function(){setTimeout(function(){(function(){var ge,a=s.popups.get("text.edit");ge=s.el.tagName==="INPUT"?s.$el.attr("placeholder"):s.$el.text(),a.find("input").val(ge).trigger("change"),s.popups.setContainer("text.edit",s.$sc),s.popups.show("text.edit",s.$el.offset().left+s.$el.outerWidth()/2,s.$el.offset().top+s.$el.outerHeight(),s.$el.outerHeight())})()},10)})}return{_init:function(){s.opts.editInPopup&&(function(){var a={edit:'<div id="fr-text-edit-'.concat(s.id,'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="').concat(s.language.translate("Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">').concat(s.language.translate("Update"),"</button></div></div>")};s.popups.create("text.edit",a)}(),b())},update:function(){var ge=s.popups.get("text.edit").find("input").val();ge.length===0&&(ge=s.opts.placeholderText),s.el.tagName==="INPUT"?s.$el.attr("placeholder",ge):s.$el.text(ge),s.events.trigger("contentChanged"),s.popups.hide("text.edit")}}},x.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.editInPopup.update()}}),Object.assign(x.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(x.DEFAULTS,{emoticonsSet:[{id:"people",name:"Smileys & People",code:"1f600",emoticons:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning Face with Smiling Eyes"},{code:"1f602",desc:"Face with Tears of Joy"},{code:"1f603",desc:"Smiling Face with Open Mouth"},{code:"1f604",desc:"Smiling Face with Open Mouth and Smiling Eyes"},{code:"1f605",desc:"Smiling Face with Open Mouth and Cold Sweat"},{code:"1f606",desc:"Smiling Face with Open Mouth and Tightly-Closed Eyes"},{code:"1f609",desc:"Winking Face"},{code:"1f60a",desc:"Smiling Face with Smiling Eyes"},{code:"1f608",desc:"Face Savouring Delicious Food"},{code:"1f60e",desc:"Smiling Face with Sunglasses"},{code:"1f60d",desc:"Smiling Face with Heart-Shaped Eyes"},{code:"1f618",desc:"Face Throwing a Kiss"},{code:"1f617",desc:"Kissing Face"},{code:"1f619",desc:"Kissing Face with Smiling Eyes"},{code:"1f61a",desc:"Kissing Face with Closed Eyes"},{code:"263a",desc:"White Smiling Face"},{code:"1f642",desc:"Slightly Smiling Face"},{code:"1f610",desc:"Neutral Face"},{code:"1f611",desc:"Expressionless Face"},{code:"1f636",desc:"Face Without Mouth"},{code:"1f60f",desc:"Smirking Face"},{code:"1f623",desc:"Persevering Face"},{code:"1f625",desc:"Disappointed but Relieved Face"},{code:"1f62e",desc:"Face with Open Mouth"},{code:"1f62f",desc:"Hushed Face"},{code:"1f62a",desc:"Sleepy Face"},{code:"1f62b",desc:"Tired Face"},{code:"1f634",desc:"Sleeping Face"},{code:"1f60c",desc:"Relieved Face"},{code:"1f61b",desc:"Face with Stuck-out Tongue"},{code:"1f61c",desc:"Face with Stuck-out Tongue and Winking Eye"},{code:"1f61d",desc:"Face with Stuck-out Tongue and Tightly-Closed Eyes"},{code:"1f612",desc:"Unamused Face"},{code:"1f613",desc:"Face with Cold Sweat"},{code:"1f613",desc:"Face with Cold Sweat"},{code:"1f614",desc:"Pensive Face"},{code:"1f615",desc:"Confused Face"},{code:"1f632",desc:"Astonished  Face"},{code:"1f616",desc:"Confounded Face"},{code:"1f61e",desc:"Disappointed Face"},{code:"1f61f",desc:"Worried Face"},{code:"1f624",desc:"Face with Look of Triumph"},{code:"1f622",desc:"Crying Face"},{code:"1f62d",desc:"Loudly Crying Face"},{code:"1f626",desc:"Frowning Face with Open Mouth"},{code:"1f627",desc:"Anguished Face"},{code:"1f628",desc:"Fearful Face"},{code:"1f629",desc:"Weary Face"},{code:"1f62c",desc:"Grimacing Face"},{code:"1f630",desc:"Face with Open Mouth and Cold Sweat"},{code:"1f631",desc:"Face Screaming in Fear"},{code:"1f633",desc:"Flushed Face"},{code:"1f635",desc:"Dizzy Face"},{code:"1f621",desc:"Pouting Face"},{code:"1f620",desc:"Angry Face"},{code:"1f637",desc:"Face with Medical Mask"},{code:"1f607",desc:"Smiling Face with Halo"},{code:"1f608",desc:"Smiling Face with Horns"},{code:"1f47f",desc:"Imp"},{code:"1f479",desc:"Japanese Ogre"},{code:"1f47a",desc:"Japanese Goblin"},{code:"1f480",desc:"Skull"},{code:"1f47b",desc:"Ghost"},{code:"1f47d",desc:"Extraterrestrial Alien"},{code:"1f47e",desc:"Alien Monster"},{code:"1f4a9",desc:"Pile of Poo"},{code:"1f63a",desc:"Smiling Cat Face with Open Mouth"},{code:"1f638",desc:"Grinning Cat Face with Smiling Eyes"},{code:"1f639",desc:"Cat Face with Tears of Joy"},{code:"1f63b",desc:"Smiling Cat Face with Heart-Shaped Eyes"},{code:"1f63c",desc:"Cat Face with Wry Smile"},{code:"1f63d",desc:"Kissing Cat Face with Closed Eyes"},{code:"1f640",desc:"Weary Cat Face"},{code:"1f63f",desc:"Crying Cat Face"},{code:"1f63e",desc:"Pouting Cat Face"},{code:"1f648",desc:"See-No-Evil Monkey"},{code:"1f649",desc:"Hear-No-Evil Monkey"},{code:"1f64a",desc:"Speak-No-Evil Monkey"},{code:"1f476",desc:"Baby"},{code:"1f466",desc:"Boy"},{code:"1f467",desc:"Girl"},{code:"1f468",desc:"Man"},{code:"1f469",desc:"Woman"},{code:"1f474",desc:"Older Man"},{code:"1f475",desc:"Older Woman"},{code:"1f46e",desc:"Police Officer"},{code:"1f482",desc:" Guardsman"},{code:"1f477",desc:" Construction Worker"},{code:"1f478",desc:"Princess"},{code:"1f473",desc:"Man with Turban"},{code:"1f472",desc:"Man with Gua Pi Mao"},{code:"1f471",desc:"Person with Blond Hair"},{code:"1f470",desc:"Bride with Veil"},{code:"1f47c",desc:"Baby Angel"},{code:"1f385",desc:"Father Christmas"},{code:"1f64e",desc:"Person with Pouting Face"},{code:"1f645",desc:"Face with No Good Gesture"},{code:"1f646",desc:"Face with Ok Gesture"},{code:"1f481",desc:"Information Desk Person"},{code:"1f64b",desc:"Happy Person Raising One Hand"},{code:"1f647",desc:"Person Bowing Deeply"},{code:"1f486",desc:"Face Massage"},{code:"1f487",desc:"Haircut"},{code:"1f6b6",desc:"Pedestrian"},{code:"1f3c3",desc:"Runner"},{code:"1f483",desc:"Dancer"},{code:"1f46f",desc:"Woman with Bunny Ears"},{code:"1f6c0",desc:"Bath"},{code:"1f464",desc:"Bust in Silhouette"},{code:"1f465",desc:"Busts in Silhouette"},{code:"1f3c7",desc:"Horse Racing"},{code:"1f3c2",desc:" Snowboarder"},{code:"1f3c4",desc:" Surfer"},{code:"1f6a3",desc:" Rowboat"},{code:"1f3ca",desc:" Swimmer"},{code:"1f6b4",desc:" Bicyclist"},{code:"1f6b5",desc:"Mountain Bicyclist"},{code:"1f46b",desc:" Man and Woman Holding Hands"},{code:"1f46c",desc:"Two Men Holding Hands"},{code:"1f46d",desc:"Two Women Holding Hands"},{code:"1f48f",desc:"Kiss"},{code:"1f468-2764-1f48b-1f468",uCode:"",desc:"Man Kiss Man"},{code:"1f469-2764-1f48b-1f469",uCode:"",desc:"Woman Kiss Woman"},{code:"1f491",desc:"Couple with Heart"},{code:"1f468-2764-1f468",uCode:"",desc:"Man Heart Man"},{code:"1f469-2764-1f469",uCode:"",desc:"Woman Heart Woman"},{code:"1f46a",desc:"Family"},{code:"1f468",desc:"Man Woman Boy"},{code:"1f468-1f469-1f467",desc:"Man Woman Girl"},{code:"1f468-1f469-1f467-1f466",desc:"Man Woman Girl Boy"},{code:"1f468-1f469-1f466-1f466",desc:"Man Woman Boy Boy"},{code:"1f468-1f469-1f467-1f467",desc:"Man Woman Girl Girl"},{code:"1f468-1f468-1f466",desc:"Man Man Boy"},{code:"1f468-1f468-1f467",desc:"Man Man Girl"},{code:"1f468-1f468-1f467-1f466",desc:"Man Man Girl Boy"},{code:"1f468-1f468-1f466-1f466",desc:"Man Man Boy Boy"},{code:"1f469-1f469-1f466",desc:"Woman Woman Boy"},{code:"1f469-1f469-1f467",desc:"Woman Woman Girl"},{code:"1f469-1f469-1f467-1f466",desc:"Woman Woman Girl Boy"},{code:"1f469-1f469-1f467-1f467",desc:"Woman Woman Girl Girl"},{code:"1f4aa",desc:"Flexed Biceps"},{code:"1f448",desc:"White Left Pointing Backhand Index"},{code:"1f449",desc:"White Right Pointing Backhand Index"},{code:"1f446",desc:"White Up Pointing Backhand Index"},{code:"1f447",desc:"White Down Pointing Backhand Index"},{code:"270c",desc:"Victory Hand"},{code:"270b",desc:"Raised Hand"},{code:"1f44c",desc:"Ok Hand Sign"},{code:"1f44d",desc:"Thumbs Up Sign"},{code:"1f44e",desc:"Thumbs Down Sign"},{code:"270a",desc:"Raised Fist"},{code:"1f44a",desc:"Fisted Hand Sign"},{code:"1f44b",desc:"Waving Hand Sign"},{code:"1f44f",desc:"Clapping Hands Sign"},{code:"1f450",desc:"Open  Hands Sign"},{code:"1f64c",desc:"Person Raising Both Hands in Celebration"},{code:"1f64f",desc:"Person with Folded Hands"},{code:"1f485",desc:"Nail Polish"},{code:"1f442",desc:"Ear"},{code:"1f443",desc:"Nose"},{code:"1f463",desc:"Footprints"},{code:"1f440",desc:"Eyes"},{code:"1f445",desc:"Tongue"},{code:"1f444",desc:"Mouth"},{code:"1f48b",desc:"Kiss Mark"},{code:"1f498",desc:"Heart with Arrow"},{code:"2764",desc:"Heavy Black Heart"},{code:"1f493",desc:"Heavy Black Heart"},{code:"1f494",desc:"Broken Heart"},{code:"1f495",desc:"Two Hearts"},{code:"1f496",desc:"Sparkling Hearts"},{code:"1f497",desc:"Growing Hearts"},{code:"1f499",desc:"Blue Heart"},{code:"1f49a",desc:"Green Heart"},{code:"1f49b",desc:"Yellow Heart"},{code:"1f49c",desc:"Purple Heart"},{code:"1f49d",desc:"Heart with Ribbon"},{code:"1f49e",desc:"Revolving Hearts"},{code:"1f49f",desc:"Heart Decoration"},{code:"1f48c",desc:"Love Letter"},{code:"1f4a4",desc:"Sleeping Symbol"},{code:"1f4a2",desc:"Anger Symbol"},{code:"1f4a3",desc:"Bomb"},{code:"1f4a5",desc:"Collision Symbol"},{code:"1f4a6",desc:"Splashing Sweat Symbol"},{code:"1f4a8",desc:"Dash Symbol"},{code:"1f4ab",desc:"Dizzy Symbol"},{code:"1f4ab",desc:"Dizzy Symbol"},{code:"1f4ac",desc:"Speech Balloon"},{code:"1f4ad",desc:"Thought Balloon"},{code:"1f453",desc:"Eyeglasses"},{code:"1f454",desc:"Necktie"},{code:"1f455",desc:"T-Shirt"},{code:"1f456",desc:"Jeans"},{code:"1f457",desc:"Dress"},{code:"1f458",desc:"Kimono"},{code:"1f459",desc:"Bikini"},{code:"1f45a",desc:"Womans Clothes"},{code:"1f45b",desc:"Purse"},{code:"1f45c",desc:"Handbag"},{code:"1f45d",desc:"Pouch"},{code:"1f392",desc:"School Satchel"},{code:"1f45e",desc:"Mans Shoe"},{code:"1f45f",desc:"Athletic Shoe"},{code:"1f460",desc:"High-Heeled Shoe"},{code:"1f461",desc:"Womans Sandal"},{code:"1f462",desc:"Womans Boots"},{code:"1f451",desc:"Crown"},{code:"1f452",desc:"Womans Hat"},{code:"1f462",desc:"Top Hat"},{code:"1f393",desc:"Graduation Cap"},{code:"1f484",desc:"Lipstick"},{code:"1f48d",desc:"Ring"},{code:"1f48e",desc:"Gem Stone"}]},{id:"nature",name:"Animals & Nature",code:"1F435",emoticons:[{code:"1F435",desc:"Monkey Face"},{code:"1F412",desc:"Monkey"},{code:"1F436",desc:"Dog Face"},{code:"1F415",desc:"Dog"},{code:"1F429",desc:"Poodle"},{code:"1F43A",desc:"Wolf Face"},{code:"1F431",desc:"Cat Face"},{code:"1F408",desc:"Cat"},{code:"1F42F",desc:"Tiger Face"},{code:"1F405",desc:"Tiger"},{code:"1F406",desc:"Leopard"},{code:"1F434",desc:"Horse Face"},{code:"1F40E",desc:"Horse"},{code:"1F42E",desc:"Cow Face"},{code:"1F402",desc:"Ox"},{code:"1F403",desc:"Water Buffalo"},{code:"1F404",desc:"Cow"},{code:"1F437",desc:"Pig Face"},{code:"1F416",desc:"Pig"},{code:"1F417",desc:"Boar"},{code:"1F43D",desc:"Pig Nose"},{code:"1F40F",desc:"Ram"},{code:"1F411",desc:"Sheep"},{code:"1F410",desc:"Goat"},{code:"1F42A",desc:"Dromedary Camel"},{code:"1F42B",desc:"Bactrian Camel"},{code:"1F418",desc:"Elephant"},{code:"1F42D",desc:"Mouse Face"},{code:"1F401",desc:"Mouse"},{code:"1F400",desc:"Rat"},{code:"1F439",desc:"Hamster Face"},{code:"1F430",desc:"Rabbit Face"},{code:"1F407",desc:"Rabbit"},{code:"1F43B",desc:"Bear Face"},{code:"1F428",desc:"Koala"},{code:"1F43C",desc:"Panda Face"},{code:"1F43E",desc:"Paw Prints"},{code:"1F414",desc:"Chicken"},{code:"1F413",desc:"Rooster"},{code:"1F423",desc:"Hatching Chick"},{code:"1F424",desc:"Baby Chick"},{code:"1F425",desc:"Front-Facing Baby Chick"},{code:"1F426",desc:"Bird"},{code:"1F427",desc:"Penguin"},{code:"1F438",desc:"Frog Face"},{code:"1F40A",desc:"Crocodile"},{code:"1F422",desc:"Turtle"},{code:"1F40D",desc:"Snake"},{code:"1F432",desc:"Dragon Face"},{code:"1F409",desc:"Dragon"},{code:"1F433",desc:"Spouting Whale"},{code:"1F40B",desc:"Whale"},{code:"1F42C",desc:"Dolphin"},{code:"1F41F",desc:"Fish"},{code:"1F420",desc:"Tropical Fish"},{code:"1F421",desc:"Blowfish"},{code:"1F419",desc:"Octopus"},{code:"1F41A",desc:"Spiral Shell"},{code:"1F40C",desc:"Snail"},{code:"1F41B",desc:"Bug"},{code:"1F41C",desc:"Ant"},{code:"1F41D",desc:"Honeybee"},{code:"1F41E",desc:"Lady Beetle"},{code:"1F490",desc:"Bouquet"},{code:"1F338",desc:"Cherry Blossom"},{code:"1F4AE",desc:"White Flower"},{code:"1F339",desc:"Rose"},{code:"1F33A",desc:"Hibiscus"},{code:"1F33B",desc:"Sunflower"},{code:"1F33C",desc:"Blossom"},{code:"1F337",desc:"Tulip"},{code:"1F331",desc:"Seedling"},{code:"1F332",desc:"Evergreen Tree"},{code:"1F333",desc:"Deciduous Tree"},{code:"1F334",desc:"Palm Tree"},{code:"1F335",desc:"Cactus"},{code:"1F33E",desc:"Ear of Rice"},{code:"1F33F",desc:"Herb"},{code:"2618",desc:"Four Leaf Clover"},{code:"1F341",desc:"Maple Leaf"},{code:"1F342",desc:"Fallen Leaf"},{code:"1F343",desc:"Leaf Fluttering in Wind"}]},{id:"foods",name:"Food & Drink",code:"1F347",emoticons:[{code:"1F347",desc:"Grapes"},{code:"1F348",desc:"Melon"},{code:"1F349",desc:"Watermelon"},{code:"1F34A",desc:"Tangerine"},{code:"1F34B",desc:"Lemon"},{code:"1F34C",desc:"Banana"},{code:"1F34D",desc:"Pineapple"},{code:"1F34E",desc:"Red Apple"},{code:"1F34F",desc:"Green Apple"},{code:"1F350",desc:"Pear"},{code:"1F351",desc:"Peach"},{code:"1F352",desc:"Cherries"},{code:"1F353",desc:"Strawberry"},{code:"1F345",desc:"Tomato"},{code:"1F346",desc:"Aubergine"},{code:"1F33D",desc:"Ear of Maize"},{code:"1F344",desc:"Mushroom"},{code:"1F330",desc:"Chestnut"},{code:"1F35E",desc:"Bread"},{code:"1F356",desc:"Meat on Bone"},{code:"1F357",desc:"Poultry Leg"},{code:"1F354",desc:"Hamburger"},{code:"1F35F",desc:"French Fries"},{code:"1F355",desc:"Slice of Pizza"},{code:"1F373",desc:"Cooking"},{code:"1F372",desc:"Pot of Food"},{code:"1F371",desc:"Bento Box"},{code:"1F358",desc:"Rice Cracker"},{code:"1F359",desc:"Rice Ball"},{code:"1F35A",desc:"Cooked Rice"},{code:"1F35B",desc:"Curry and Rice"},{code:"1F35C",desc:"Steaming Bowl"},{code:"1F35D",desc:"Spaghetti"},{code:"1F360",desc:"Roasted Sweet Potato"},{code:"1F362",desc:"Oden"},{code:"1F363",desc:"Sushi"},{code:"1F364",desc:"Fried Shrimp"},{code:"1F365",desc:"Fish Cake with Swirl Design"},{code:"1F361",desc:"Dango"},{code:"1F366",desc:"Soft Ice Cream"},{code:"1F367",desc:"Shaved Ice"},{code:"1F368",desc:"Ice Cream"},{code:"1F369",desc:"Doughnut"},{code:"1F36A",desc:"Cookie"},{code:"1F382",desc:"Birthday Cake"},{code:"1F370",desc:"Shortcake"},{code:"1F36B",desc:"Chocolate Bar"},{code:"1F36C",desc:"Candy"},{code:"1F36D",desc:"Lollipop"},{code:"1F36E",desc:"Custard"},{code:"1F36F",desc:"Honey Pot"},{code:"1F37C",desc:"Baby Bottle"},{code:"2615",desc:"Hot Beverage"},{code:"1F375",desc:"Teacup Without Handle"},{code:"1F376",desc:"Sake Bottle and Cup"},{code:"1F377",desc:"Wine Glass"},{code:"1F378",desc:"Cocktail Glass"},{code:"1F379",desc:"Tropical Drink"},{code:"1F37A",desc:"Beer Mug"},{code:"1F37B",desc:"Clinking Beer Mugs"},{code:"1F374",desc:"Fork and Knife"},{code:"1F52A",desc:"Hocho"}]},{id:"activity",name:"Activities",code:"1f383",emoticons:[{code:"1f383",desc:" Jack-O-Lantern"},{code:"1f384",desc:"Christmas Tree"},{code:"1f386",desc:" Fireworks"},{code:"1f387",desc:"Firework Sparkler"},{code:"2728",desc:" Sparkles"},{code:"1f388",desc:"Balloon"},{code:"1f389",desc:"Party Popper"},{code:"1f38a",desc:"Confetti Ball"},{code:"1f38b",desc:"Tanabata Tree"},{code:"1f38d",desc:"Pine Decoration"},{code:"1f38e",desc:"Japanese Dolls"},{code:"1f38f",desc:"Carp Streamer"},{code:"1f390",desc:"Wind Chime"},{code:"1f391",desc:"Moon Viewing Ceremony"},{code:"1f380",desc:"Ribbon"},{code:"1f381",desc:"Wrapped Present"},{code:"1f3ab",desc:"Ticket"},{code:"1f3c6",desc:"Trophy"},{code:"1f388",desc:"Balloon"},{code:"26bd",desc:"Soccer Ball"},{code:"26be",desc:"Baseball"},{code:"1f3c0",desc:"Basketball and Hoop"},{code:"1f3c8",desc:"American Football"},{code:"1f3c9",desc:"Rugby Football"},{code:"1f3be",desc:"Tennis Racquet and Ball"},{code:"1f3b1",desc:"Billiards"},{code:"1f3b3",desc:"Bowling"},{code:"1f3af",desc:"Direct Hit"},{code:"26f3",desc:"Flag in Hole"},{code:"1f3a3",desc:"Fishing Pole and Fish"},{code:"1f3bd",desc:"Running Shirt with Sash"},{code:"1f3bf",desc:"Ski and Ski Boot"},{code:"1f3ae",desc:"Video Game"},{code:"1f3b2",desc:"Game Die"},{code:"2660",desc:"Black Spade Suit"},{code:"2665",desc:"Black Heart SuiT"},{code:"2666",desc:"Black Diamond Suit"},{code:"2663",desc:"Black Club Suit"},{code:"1f0cf",desc:"Playing Card Black Joker"},{code:"1f004",desc:"Mahjong Tile Red Dragon"},{code:"1f3b4",desc:"Flower Playing Cards"}]},{id:"places",name:"Travel & Places",code:"1f30d",emoticons:[{code:"1f30d",desc:"Earth Globe Europe-Africa"},{code:"1f30e",desc:"Earth Globe Americas"},{code:"1f30f",desc:"Earth Globe Asia-Australia"},{code:"1f310",desc:"Globe with Meridians"},{code:"1f5fe",desc:"Silhouette of Japan"},{code:"1f30b",desc:"Volcano"},{code:"1f5fb",desc:"Mount Fuji"},{code:"1f3e0",desc:"House Building"},{code:"1f3e1",desc:"House with Garden"},{code:"1f3e2",desc:"Office Building"},{code:"1f3e3",desc:"Japanese Post Office"},{code:"1f3e4",desc:"European Post Office"},{code:"1f3e5",desc:"Hospital"},{code:"1f3e6",desc:"Bank"},{code:"1f3e8",desc:"Hotel"},{code:"1f3e9",desc:"Love Hotel"},{code:"1f3ea",desc:"Convenience Store"},{code:"1f3eb",desc:"School"},{code:"1f3ec",desc:"Department Store"},{code:"1f3ed",desc:"Factory"},{code:"1f3ef",desc:"Japanese Castle"},{code:"1f3f0",desc:"European Castle"},{code:"1f492",desc:"Wedding"},{code:"1f5fc",desc:"Tokyo Tower"},{code:"1f5fd",desc:"Statue of Liberty"},{code:"26ea",desc:"Church"},{code:"26f2",desc:"Fountain"},{code:"26fa",desc:"Tent"},{code:"1f301",desc:"Foggy"},{code:"1f303",desc:"Night with Stars"},{code:"1f304",desc:"Sunrise over Mountains"},{code:"1f305",desc:"Sunrise"},{code:"1f306",desc:"Cityscape at Dusk"},{code:"1f307",desc:"Sunset over Buildings"},{code:"1f309",desc:"Bridge at Night"},{code:"2668",desc:"Hot Springs"},{code:"1f30c",desc:"Milky Way"},{code:"1f3a0",desc:"Carousel Horse"},{code:"1f3a1",desc:"Ferris Wheel"},{code:"1f3a2",desc:"Roller Coaster"},{code:"1f488",desc:"Barber Pole"},{code:"1f3aa",desc:"Circus Tent"},{code:"1f3ad",desc:"Performing Arts"},{code:"1f3a8",desc:"Artist Palette"},{code:"1f3b0",desc:"Slot Machine"},{code:"1f682",desc:"Steam Locomotive"},{code:"1f683",desc:"Railway Car"},{code:"1f684",desc:"High-Speed Train"},{code:"1f685",desc:"High-Speed Train with Bullet Nose"},{code:"1f686",desc:"Train"},{code:"1f687",desc:"Metro"},{code:"1f688",desc:"Light Rail"},{code:"1f689",desc:"Station"},{code:"1f68a",desc:"Tram"},{code:"1f69d",desc:"Monorail"},{code:"1f69e",desc:"Mountain Railway"},{code:"1f68b",desc:"Tram Car"},{code:"1f68c",desc:"Bus"},{code:"1f68d",desc:"Oncoming Bus"},{code:"1f68e",desc:"Trolleybus"},{code:"1f690",desc:"Minibus"},{code:"1f691",desc:"Ambulance"},{code:"1f692",desc:"Fire Engine"},{code:"1f693",desc:"Police Car"},{code:"1f694",desc:"Oncoming Police Car"},{code:"1f695",desc:"Taxi"},{code:"1f695",desc:"Oncoming Taxi"},{code:"1f697",desc:"Automobile"},{code:"1f698",desc:"Oncoming Automobile"},{code:"1f699",desc:"Recreational Vehicle"},{code:"1f69a",desc:"Delivery Truck"},{code:"1f69b",desc:"Articulated Lorry"},{code:"1f69c",desc:"Tractor"},{code:"1f6b2",desc:"Bicycle"},{code:"1f68f",desc:"Bus Stop"},{code:"26fd",desc:"Fuel Pump"},{code:"1f6a8",desc:"Police Cars Revolving Light"},{code:"1f6a5",desc:"Horizontal Traffic Light"},{code:"1f6a6",desc:"Vertical Traffic Light"},{code:"1f6a7",desc:"Construction Sign"},{code:"2693",desc:"Anchor"},{code:"26f5",desc:"Sailboat"},{code:"1f6a4",desc:"Speedboat"},{code:"1f6a2",desc:"Ship"},{code:"2708",desc:"Airplane"},{code:"1f4ba",desc:"Seat"},{code:"1f681",desc:"Helicopter"},{code:"1f69f",desc:"Suspension Railway"},{code:"1f6a0",desc:"Mountain Cableway"},{code:"1f6a1",desc:"Aerial Tramway"},{code:"1f680",desc:"Rocket"},{code:"1f6aa",desc:"Door"},{code:"1f6bd",desc:"Toilet"},{code:"1f6bf",desc:"Shower"},{code:"1f6c1",desc:"Bathtub"},{code:"231b",desc:"Hourglass"},{code:"23f3",desc:"Hourglass with Flowing Sand"},{code:"231a",desc:"Watch"},{code:"23f0",desc:"Alarm Clock"},{code:"1f55b",desc:"Clock Face Twelve Oclock"},{code:"1f567",desc:"Clock Face Twelve-Thirty"},{code:"1f550",desc:"Clock Face One Oclock"},{code:"1f55c",desc:"Clock Face One-thirty"},{code:"1f551",desc:"Clock Face Two Oclock"},{code:"1f55d",desc:"Clock Face Two-thirty"},{code:"1f552",desc:"Clock Face Three Oclock"},{code:"1f55e",desc:"Clock Face Three-thirty"},{code:"1f553",desc:"Clock Face Four Oclock"},{code:"1f55f",desc:"Clock Face Four-thirty"},{code:"1f554",desc:"Clock Face Five Oclock"},{code:"1f560",desc:"Clock Face Five-thirty"},{code:"1f555",desc:"Clock Face Six Oclock"},{code:"1f561",desc:"Clock Face Six-thirty"},{code:"1f556",desc:"Clock Face Seven Oclock"},{code:"1f562",desc:"Clock Face Seven-thirty"},{code:"1f557",desc:"Clock Face Eight Oclock"},{code:"1f563",desc:"Clock Face Eight-thirty"},{code:"1f558",desc:"Clock Face Nine Oclock"},{code:"1f564",desc:"Clock Face Nine-thirty"},{code:"1f559",desc:"Clock Face Ten Oclock"},{code:"1f565",desc:"Clock Face Ten-thirty"},{code:"1f55a",desc:"Clock Face Eleven Oclock"},{code:"1f566",desc:"Clock Face Eleven-thirty"},{code:"1f311",desc:"New Moon Symbol"},{code:"1f312",desc:"Waxing Crescent Moon Symbol"},{code:"1f313",desc:"First Quarter Moon Symbol"},{code:"1f314",desc:"Waxing Gibbous Moon Symbol"},{code:"1f315",desc:"Full Moon Symbol"},{code:"1f316",desc:"Waning Gibbous Moon Symbol"},{code:"1f317",desc:"Last Quarter Moon Symbol"},{code:"1f318",desc:"Waning Crescent Moon Symbol"},{code:"1f319",desc:"Crescent Moon"},{code:"1f31a",desc:"New Moon with Face"},{code:"1f31b",desc:"First Quarter Moon with Face"},{code:"1f31c",desc:"Last Quarter Moon with Face"},{code:"2600",desc:"Black Sun with Rays"},{code:"1f31d",desc:"Full Moon with Face"},{code:"1f31e",desc:"Sun with Face"},{code:"2b50",desc:"White Medium Star"},{code:"1f31f",desc:"Glowing Star"},{code:"1f320",desc:"Shooting Star"},{code:"2601",desc:"Cloud"},{code:"26c5",desc:"Sun Behind Cloud"},{code:"1f300",desc:"Cyclone"},{code:"1f308",desc:"Rainbow"},{code:"1f302",desc:"Closed Umbrella"},{code:"2614",desc:"Umbrella with Rain Drops"},{code:"26a1",desc:"High Voltage Sign"},{code:"2744",desc:"Snowflake"},{code:"2603",desc:"Snowman Without Snow"},{code:"1f525",desc:"Fire"},{code:"1f4a7",desc:"Droplet"},{code:"1F30A",desc:"Water Wave"}]},{id:"objects",name:"Objects",code:"1F507",emoticons:[{code:"1F507",desc:"Speaker with Cancellation Stroke"},{code:"1F508",desc:"Speaker"},{code:"1F509",desc:"Speaker with One Sound Wave"},{code:"1F50A",desc:"Speaker with Three Sound Wave"},{code:"1F4E2",desc:"Public Address Loudspeaker"},{code:"1F4E3",desc:"Cheering Megaphone"},{code:"1F4EF",desc:"Postal Horn"},{code:"1F514",desc:"Bell"},{code:"1F515",desc:"Bell with Cancellation Stroke"},{code:"1F3BC",desc:"Musical Score"},{code:"1F3B5",desc:"Musical Note"},{code:"1F3B6",desc:"Multiple Musical Notes"},{code:"1F3A4",desc:"Microphone"},{code:"1F3A7",desc:"Headphone"},{code:"1F4FB",desc:"Radio"},{code:"1F3B7",desc:"Saxophone"},{code:"1F3B8",desc:"Guitar"},{code:"1F3B9",desc:"Musical Keyboard"},{code:"1F3BA",desc:"Trumpet"},{code:"1F3BB",desc:"Violin"},{code:"1F4F1",desc:"Mobile Phone"},{code:"1F4F2",desc:"Mobile Phone with Rightwards Arrow at Left"},{code:"260E",desc:"Black Telephone"},{code:"1F4DE",desc:"Telephone Receiver"},{code:"1F4DF",desc:"Pager"},{code:"1F4E0",desc:"Fax Machine"},{code:"1F50B",desc:"Battery"},{code:"1F50C",desc:"Electric Plug"},{code:"1F4BB",desc:"Personal Computer"},{code:"1F4BD",desc:"Minidisc"},{code:"1F4BE",desc:"Floppy Disk"},{code:"1F4BF",desc:"Optical Disk"},{code:"1F4C0",desc:"Dvd"},{code:"1F3A5",desc:"Movie Camera"},{code:"1F3AC",desc:"Clapper Board"},{code:"1F4FA",desc:"Television"},{code:"1F4F7",desc:"Camera"},{code:"1F4F9",desc:"Video Camera"},{code:"1F4FC",desc:"Videocassette"},{code:"1F50D",desc:"Left-Pointing Magnifying Glass"},{code:"1F50E",desc:"Right-Pointing Magnifying Glass"},{code:"1F52C",desc:"Microscope"},{code:"1F52D",desc:"Telelscope"},{code:"1F4E1",desc:"Satellite Antenna"},{code:"1F4A1",desc:"Electric Light Bulb"},{code:"1F526",desc:"Electric Torch"},{code:"1F3EE",desc:"Izakaya Lantern"},{code:"1F4D4",desc:"Notebook with Decorative Cover"},{code:"1F4D5",desc:"Closed Book"},{code:"1F4D6",desc:"Open Book"},{code:"1F4D7",desc:"Green Book"},{code:"1F4D8",desc:"Blue Book"},{code:"1F4D9",desc:"Orange Book"},{code:"1F4DA",desc:"Books"},{code:"1F4D3",desc:"Notebook"},{code:"1F4D2",desc:"Ledger"},{code:"1F4C3",desc:"Curl"},{code:"1F4DC",desc:"Scroll"},{code:"1F4C4",desc:"Page Facing Up"},{code:"1F4F0",desc:"Newspaper"},{code:"1F4D1",desc:"Bookmark Tabs"},{code:"1F516",desc:"Bookmark"},{code:"1F4B0",desc:"Money Bag"},{code:"1F4B4",desc:"Banknote with Yen Sign"},{code:"1F4B5",desc:"Banknote with Dollar Sign"},{code:"1F4B6",desc:"Banknote with Euro Sign"},{code:"1F4B7",desc:"Banknote with Pound Sign"},{code:"1F4B8",desc:"Money with Wings"},{code:"1F4B3",desc:"Credit Card"},{code:"1F4B9",desc:"Chart with Upwards Trend and Yen Sign"},{code:"1F4B1",desc:"Currency Exchange"},{code:"1F4B2",desc:"Heavy Dollar Sign"},{code:"2709",desc:"Envelope"},{code:"1F4E7",desc:"E-Mail Symbol"},{code:"1F4E8",desc:"Incoming Envelope"},{code:"1F4E9",desc:"Envelope with Downwards Arrow Above"},{code:"1F4E4",desc:"Outbox Tray"},{code:"1F4E5",desc:"Inbox Tray"},{code:"1F4E6",desc:"Package"},{code:"1F4BE",desc:"Closed Mailbox with Raised Flag"},{code:"1F4EA",desc:"Closed Mailbox with Lowered Flag"},{code:"1F4EC",desc:"Open Mailbox with Raised Flag"},{code:"1F4ED",desc:"Open Mailbox with Lowered Flag"},{code:"1F5F3",desc:"Postbox"},{code:"270F",desc:"Pencil"},{code:"2712",desc:"Black Nib"},{code:"1F4DD",desc:"Memo"},{code:"1F4BC",desc:"Briefcase"},{code:"1F4C1",desc:"File Folder"},{code:"1F4C2",desc:"Open File Folder"},{code:"1F4C5",desc:"Calender"},{code:"1F4C6",desc:"Tear-off Calender"},{code:"1F4C7",desc:"Card Index"},{code:"1F4C8",desc:"Chart with Upwards Trend"},{code:"1F4C9",desc:"Chart with Downwards Trend"},{code:"1F4CA",desc:"Bar Chart"},{code:"1F4CB",desc:"Clipboard"},{code:"1F4CC",desc:"Pushpin"},{code:"1F4CD",desc:"Round Pushpin"},{code:"1F4CE",desc:"Paperclip"},{code:"1F4CF",desc:"Straight Ruler"},{code:"1F4D0",desc:"Triangular Ruler"},{code:"2702",desc:"Black Scissors"},{code:"1F512",desc:"Lock"},{code:"1F513",desc:"Open Lock"},{code:"1F50F",desc:"Lock with Ink Pen"},{code:"1F510",desc:"Closed Lock with Key"},{code:"1F511",desc:"Key"},{code:"1F528",desc:"Hammer"},{code:"1F52B",desc:"Pistol"},{code:"1F527",desc:"Wrench"},{code:"1F529",desc:"Nut and Bolt"},{code:"1F517",desc:"Link Symbol"},{code:"1F489",desc:"Syringe"},{code:"1F48A",desc:"Pill"},{code:"1F6AC",desc:"Smoking Symbol"},{code:"1F5FF",desc:"Moyai"},{code:"1F52E",desc:"Crystal Ball"}]},{id:"symbols",name:"Symbols",code:"1F3E7",emoticons:[{code:"1F3E7",desc:"Automated Teller Machine"},{code:"1F6AE",desc:"Put Litter in Its Place Symbol"},{code:"1F6B0",desc:"Potable Water Symbol"},{code:"267F",desc:"Wheelchair Symbol"},{code:"1F6B9",desc:"Mens Symbol"},{code:"1F6BA",desc:"Womens Symbol"},{code:"1F6BB",desc:"Restroom"},{code:"1F6BC",desc:"Baby Symbol"},{code:"1F6BE",desc:"Water Closet"},{code:"1F6C2",desc:"Passport Control"},{code:"1F6C3",desc:"Customs"},{code:"1F6C4",desc:"Baggage Claim"},{code:"1F6C5",desc:"Left Luggage"},{code:"26A0",desc:"Warning Sign"},{code:"1F6B8",desc:"Children Crossing"},{code:"26D4",desc:"No Entry"},{code:"1F6AB",desc:"No Entry Sign"},{code:"1F6B3",desc:"No Bicycles"},{code:"1F6AD",desc:"No Smoking Symbol"},{code:"1F6AF",desc:"Do Not Litter Symbol"},{code:"1F6B1",desc:"Non-Potable Water Symbol"},{code:"1F6B7",desc:"No Pedestrians"},{code:"1F4F5",desc:"No Mobile Phones"},{code:"1F51E",desc:"No One Under Eighteen Symbol"},{code:"2B06",desc:"Upwards Black Arrow"},{code:"2197",desc:"North East Arrow"},{code:"27A1",desc:"Black Rightwards Arrow"},{code:"2198",desc:"South East Arrow"},{code:"2B07",desc:"Downwards Black Arrow"},{code:"2199",desc:"South West Arrow"},{code:"2B05",desc:"Leftwards Black Arrow"},{code:"2196",desc:"North West Arrow"},{code:"2195",desc:"Up Down Arrow"},{code:"2194",desc:"Left Right Arrow"},{code:"21A9",desc:"Leftwards Arrow with Hook"},{code:"21AA",desc:"Rightwards Arrow with Hook"},{code:"2934",desc:"Arrow Pointing Rightwards Then Curving Upwards"},{code:"2935",desc:"Arrow Pointing Rightwards Then Curving Downwards"},{code:"1F503",desc:"Clockwise Downwards and Upwards Open Circle Arrows"},{code:"1F504",desc:"Anticlockwise Downwards and Upwards Open Circle Arrows"},{code:"1F519",desc:"Back with Leftwards Arrow Above"},{code:"1F51A",desc:"End with Leftwards Arrow Above"},{code:"1F51B",desc:"On with Exclamation Mark with Left Right Arrow Above"},{code:"1F51C",desc:"Soon with Rightwards Arrow Above"},{code:"1F51D",desc:"Top with Upwards Arrow Above"},{code:"1F52F",desc:"Six Pointed Star with Middle Dot"},{code:"2648",desc:"Aries"},{code:"2649",desc:"Taurus"},{code:"264A",desc:"Gemini"},{code:"264B",desc:"Cancer"},{code:"264C",desc:"Leo"},{code:"264D",desc:"Virgo"},{code:"264E",desc:"Libra"},{code:"264F",desc:"Scorpius"},{code:"2650",desc:"Sagittarius"},{code:"2651",desc:"Capricorn"},{code:"2652",desc:"Aquarius"},{code:"2653",desc:"Pisces"},{code:"26CE",desc:"Ophiuchus"},{code:"1F500",desc:"Twisted Rightwards Arrows"},{code:"1F501",desc:"Clockwise Rightwards and Leftwards Open Circle Arrows"},{code:"1F502",desc:"Clockwise Rightwards and Leftwards Open Circle Arrows with Circled One Overlay"},{code:"25B6",desc:"Black Right-Pointing Triangle"},{code:"23E9",desc:"Black Right-Pointing Double Triangle"},{code:"25C0",desc:"Black Left-Pointing Triangle"},{code:"23EA",desc:"Black Left-Pointing Double Triangle"},{code:"1F53C",desc:"Up-Pointing Small Red Triangle"},{code:"23EB",desc:"Black Up-Pointing Double Triangle"},{code:"1F53D",desc:"Down-Pointing Small Red Triangle"},{code:"23EC",desc:"Black Down-Pointing Double Triangle"},{code:"1F3A6",desc:"Cinema"},{code:"1F505",desc:"Low Brightness Symbol"},{code:"1F506",desc:"High Brightness Symbol"},{code:"1F4F6",desc:"Antenna with Bars"},{code:"1F4F3",desc:"Vibration Mode"},{code:"1F4F4",desc:"Mobile Phone off"},{code:"267B",desc:"Black Universal Recycling Symbol"},{code:"1F531",desc:"Trident Emblem"},{code:"1F4DB",desc:"Name Badge"},{code:"1F530",desc:"Japanese Symbol for Beginner"},{code:"2B55",desc:"Heavy Large Circle"},{code:"2705",desc:"White Heavy Check Mark"},{code:"2611",desc:"Ballot Box with Check"},{code:"2714",desc:"Heavy Check Mark"},{code:"2716",desc:"Heavy Multiplication X"},{code:"274C",desc:"Cross Mark"},{code:"274E",desc:"Negative Squared Cross Mark"},{code:"2795",desc:"Heavy Plus Sign"},{code:"2796",desc:"Heavy Minus Sign"},{code:"2797",desc:"Heavy Division Sign"},{code:"27B0",desc:"Curly Loop"},{code:"27BF",desc:"Double Curly Loop"},{code:"303D",desc:"Part Alternation Mark"},{code:"2733",desc:"Eight Spoked Asterisk"},{code:"2734",desc:"Eight Pointed Black Star"},{code:"2747",desc:"Sparkle"},{code:"203C",desc:"Double Exclamation Mark"},{code:"2049",desc:"Exclamation Question Mark"},{code:"2753",desc:"Black Question Mark Ornament"},{code:"2754",desc:"White Question Mark Ornament"},{code:"2755",desc:"White Exclamation Mark Ornament"},{code:"2757",desc:"Heavy Exclamation Mark Symbol"},{code:"3030",desc:"Wavy Dash"},{code:"2122",desc:"Trade Mark Sign"},{code:"1F51F",desc:"Keycap Ten"},{code:"1F4AF",desc:"Hundred Points Symbol"},{code:"1F520",desc:"Input Symbol for Latin Capital Letters"},{code:"1F521",desc:"Input Symbol for Latin Small Letters"},{code:"1F522",desc:"Input Symbol for Numbers"},{code:"1F523",desc:"Input Symbol for Symbols"},{code:"1F524",desc:"Input Symbol for Latin Letters"},{code:"1F170",desc:"Negative Squared Latin Capital Letter a"},{code:"1F18E",desc:"Negative Squared Ab"},{code:"1F171",desc:"Negative Squared Latin Capital Letter B"},{code:"1F191",desc:"Squared Cl"},{code:"1F192",desc:"Squared Cool"},{code:"1F193",desc:"Squared Free"},{code:"2139",desc:"Information Source"},{code:"1F194",desc:"Squared Id"},{code:"24C2",desc:"Circled Latin Capital Letter M"},{code:"1F195",desc:"Squared New"},{code:"1F196",desc:"Squared Ng"},{code:"1F17E",desc:"Negative Squared Latin Capital Letter O"},{code:"1F197",desc:"Squared Ok"},{code:"1F17F",desc:"Negative Squared Latin Capital Letter P"},{code:"1F198",desc:"Squared Sos"},{code:"1F199",desc:"Squared Up with Exclamation Mark"},{code:"1F19A",desc:"Squared Vs"},{code:"1F201",desc:"Squared Katakana Koko"},{code:"1F202",desc:"Squared Katakana Sa"},{code:"1F237",desc:"Squared Cjk Unified Ideograph-6708"},{code:"1F236",desc:"Squared Cjk Unified Ideograph-6709"},{code:"1F22F",desc:"Squared Cjk Unified Ideograph-6307"},{code:"1F250",desc:"Circled Ideograph Advantage"},{code:"1F239",desc:"Squared Cjk Unified Ideograph-5272"},{code:"1F21A",desc:"Squared Cjk Unified Ideograph-7121"},{code:"1F232",desc:"Squared Cjk Unified Ideograph-7981"},{code:"1F251",desc:"Circled Ideograph Accept"},{code:"1F238",desc:"Squared Cjk Unified Ideograph-7533"},{code:"1F234",desc:"Squared Cjk Unified Ideograph-5408"},{code:"1F233",desc:"Squared Cjk Unified Ideograph-7a7a"},{code:"3297",desc:"Circled Ideograph Congratulation"},{code:"3299",desc:"Circled Ideograph Secret"},{code:"1F23A",desc:"Squared Cjk Unified Ideograph-55b6"},{code:"1F235",desc:"Squared Cjk Unified Ideograph-6e80"},{code:"25AA",desc:"Black Small Square"},{code:"25AB",desc:"White Small Square"},{code:"25FB",desc:"White Medium Square"},{code:"25FC",desc:"Black Medium Square"},{code:"25FD",desc:"White Medium Small Square"},{code:"25FE",desc:"Black Medium Small Square"},{code:"2B1B",desc:"Black Large Square"},{code:"2B1C",desc:"White Large Square"},{code:"1F536",desc:"Large Orange Diamond"},{code:"1F537",desc:"Large Blue Diamond"},{code:"1F538",desc:"Small Orange Diamond"},{code:"1F539",desc:"Small Blue Diamond"},{code:"1F53A",desc:"Up-Pointing Red Triangle"},{code:"1F53B",desc:"Down-Pointing Red Triangle"},{code:"1F4A0",desc:"Diamond Shape with a Dot Inside"},{code:"1F518",desc:"Radio Button"},{code:"1F532",desc:"Black Square Button"},{code:"1F533",desc:"White Square Button"},{code:"26AA",desc:"Medium White Circle"},{code:"26AB",desc:"Medium Black Circle"},{code:"1F534",desc:"Large Red Circle"},{code:"1F535",desc:"Large Blue Circle"}]},{id:"flags",name:"Flags",code:"1F3C1",emoticons:[{code:"1f3c1",desc:"Chequered Flag"},{code:"1f1e8-1f1f3",desc:"China Flag"},{code:"1f38c",desc:"Crossed Flags"},{code:"1f1e9-1f1ea",desc:"Germany Flag"},{code:"1f1ea-1f1f8",desc:"Spain Flag"},{code:"1f1e6-1f1e8",desc:"Ascension Island Flag"},{code:"1f1e6-1f1e9",desc:"Andorra Flag"},{code:"1f1e6-1f1ea",desc:"United Arab Emirates Flag"},{code:"1f1e6-1f1eb",desc:"Afghanistan Flag"},{code:"1f1e6-1f1ec",desc:"Antigua & Barbuda Flag"},{code:"1f1e6-1f1ee",desc:"Anguilla Flag"},{code:"1f1e6-1f1f1",desc:"Albania Flag"},{code:"1f1e6-1f1f2",desc:"Armenia Flag"},{code:"1f1e6-1f1f4",desc:"Angola Flag"},{code:"1f1e6-1f1f6",desc:"Antarctica Flag"},{code:"1f1e6-1f1f7",desc:"Argentina Flag"},{code:"1f1e6-1f1f8",desc:"American Samoa Flag"},{code:"1f1e6-1f1f9",desc:"Austria Flag"},{code:"1f1e6-1f1fa",desc:"Australia Flag"},{code:"1f1e6-1f1fc",desc:"Aruba Flag"},{code:"1f1e6-1f1fd",desc:"land Islands Flag"},{code:"1f1e6-1f1ff",desc:"Azerbaijan Flag"},{code:"1f1e7-1f1e7",desc:"Barbados Flag"},{code:"1f1e7-1f1e9",desc:"Bangladesh Flag"},{code:"1f1e7-1f1ea",desc:"Belgium Flag"},{code:"1f1e7-1f1eb",desc:"Burkina Faso Flag"},{code:"1f1e7-1f1ec",desc:"Bulgaria Flag"},{code:"1f1e7-1f1ed",desc:"Bahrain Flag"},{code:"1f1e7-1f1ee",desc:"Burundi Flag"},{code:"1f1e7-1f1ef",desc:"Benin Flag"},{code:"1f1e7-1f1f1",desc:"St. Barthlemy Flag"},{code:"1f1e7-1f1f2",desc:"Bermuda Flag"},{code:"1f1e7-1f1f4",desc:"Bolivia Flag"},{code:"1f1e7-1f1f6",desc:"Caribbean Netherlands Flag"},{code:"1f1e7-1f1f7",desc:"Brazil Flag"},{code:"1f1e7-1f1f8",desc:"Bahamas Flag"},{code:"1f1e7-1f1f9",desc:"Bhutan Flag"},{code:"1f1e7-1f1fb",desc:"Bouvet Island Flag"},{code:"1f1e7-1f1fc",desc:"Botswana Flag"},{code:"1f1e7-1f1fe",desc:"Belarus Flag"},{code:"1f1e7-1f1ff",desc:"Belize Flag"},{code:"1f1e8-1f1e6",desc:"Canada Flag"},{code:"1f1e8-1f1e8",desc:"Cocos (keeling) Islands Flag"},{code:"1f1e8-1f1e9",desc:"Congo - Kinshasa Flag"},{code:"1f1e8-1f1eb",desc:"Central African Republic Flag"},{code:"1f1e8-1f1ec",desc:"Congo - Brazzaville Flag"},{code:"1f1e8-1f1ed",desc:"Switzerland Flag"},{code:"1f1e8-1f1ee",desc:"Cte Divoire Flag"},{code:"1f1e8-1f1f0",desc:"Cook Islands Flag"},{code:"1f1e8-1f1f1",desc:"Chile Flag"},{code:"1f1e8-1f1f2",desc:"Cameroon Flag"},{code:"1f1e8-1f1f4",desc:"Colombia Flag"},{code:"1f1e8-1f1f7",desc:"Costa Rica Flag"},{code:"1f1e8-1f1fa",desc:"Cuba Flag"},{code:"1f1e8-1f1fb",desc:"Cape Verde Flag"},{code:"1f1e8-1f1fc",desc:"Curaao Flag"},{code:"1f1e8-1f1fd",desc:"Christmas Island Flag"},{code:"1f1e8-1f1fe",desc:"Cyprus Flag"},{code:"1f1e8-1f1ff",desc:'Czechia Flag"'},{code:"1f1e9-1f1ec",desc:"Diego Garcia Flag"},{code:"1f1e9-1f1ef",desc:"Djibouti Flag"},{code:"1f1e9-1f1f0",desc:"Denmark Flag"},{code:"1f1e9-1f1f2",desc:"Dominica Flag"},{code:"1f1e9-1f1f4",desc:"Dominican Republic Flag"},{code:"1f1e9-1f1ff",desc:"Algeria Flag"},{code:"1f1ea-1f1e6",desc:"Ceuta & Melilla Flag"},{code:"1f1ea-1f1e8",desc:"Ecuador Flag"},{code:"1f1ea-1f1ea",desc:"Estonia Flag"},{code:"1f1ea-1f1ec",desc:"Egypt Flag"},{code:"1f1ea-1f1ed",desc:"Western Sahara Flag"},{code:"1f1ea-1f1f7",desc:"Eritrea Flag"},{code:"1f1ea-1f1f9",desc:"Ethiopia Flag"},{code:"1f1ea-1f1fa",desc:"European Union Flag"},{code:"1f1eb-1f1ee",desc:"Finland Flag"},{code:"1f1eb-1f1ef",desc:"Fiji Flag"},{code:"1f1eb-1f1f0",desc:"Falkland Islands Flag"},{code:"1f1eb-1f1f2",desc:"Micronesia Flag"},{code:"1f1eb-1f1f4",desc:"Faroe Islands Flag"},{code:"1f1ec-1f1e6",desc:"Gabon Flag"},{code:"1f1ec-1f1e9",desc:"Grenada Flag"},{code:"1f1ec-1f1ea",desc:"Georgia Flag"},{code:"1f1ec-1f1eb",desc:"French Guiana Flag"},{code:"1f1ec-1f1ec",desc:"Guernsey Flag"},{code:"1f1ec-1f1ed",desc:"Ghana Flag"},{code:"1f1ec-1f1ee",desc:"Gibraltar Flag"},{code:"1f1ec-1f1f1",desc:"Greenland Flag"},{code:"1f1ec-1f1f2",desc:"Gambia Flag"},{code:"1f1ec-1f1f3",desc:"Guinea Flag"},{code:"1f1ec-1f1f5",desc:"Guadeloupe Flag"},{code:"1f1ec-1f1f6",desc:"Equatorial Guinea Flag"},{code:"1f1ec-1f1f7",desc:"Greece Flag"},{code:"1f1ec-1f1f8",desc:"South Georgia & South Sandwich Islands Flag"},{code:"1f1ec-1f1f9",desc:"Guatemala Flag"},{code:"1f1ec-1f1fa",desc:"Guam Flag"},{code:"1f1ec-1f1fc",desc:"Guinea-Bissau Flag"},{code:"1f1ec-1f1fe",desc:"Guyana Flag"},{code:"1f1ed-1f1f0",desc:"Hong Kong Sar China Flag"},{code:"1f1ed-1f1f2",desc:"Heard & Mcdonald Islands Flag"},{code:"1f1ed-1f1f3",desc:"Honduras Flag"},{code:"1f1ed-1f1f7",desc:"Croatia Flag"},{code:"1f1ed-1f1f9",desc:"Haiti Flag"},{code:"1f1ed-1f1fa",desc:"Hungary Flag"},{code:"1f1ee-1f1e8",desc:"Canary Islands Flag"},{code:"1f1ee-1f1e9",desc:"Indonesia Flag"},{code:"1f1ee-1f1ea",desc:"Ireland Flag"},{code:"1f1ee-1f1f1",desc:"Israel Flag"},{code:"1f1ee-1f1f2",desc:"Isle of Man Flag"},{code:"1f1ee-1f1f3",desc:"India Flag"},{code:"1f1ee-1f1f4",desc:"British Indian Ocean Territory Flag"},{code:"1f1ee-1f1f6",desc:"Iraq Flag"},{code:"1f1ee-1f1f7",desc:"Iran Flag"},{code:"1f1ee-1f1f8",desc:"Iceland Flag"},{code:"1f1ef-1f1ea",desc:"Jersey Flag"},{code:"1f1ef-1f1f2",desc:"Jamaica Flag"},{code:"1f1ef-1f1f4",desc:"Jordan Flag"},{code:"1f1f0-1f1ea",desc:"Kenya Flag"},{code:"1f1f0-1f1ec",desc:"Kyrgyzstan Flag"},{code:"1f1f0-1f1ed",desc:"Cambodia Flag"},{code:"1f1f0-1f1ee",desc:"Kiribati Flag"},{code:"1f1f0-1f1f2",desc:"Comoros Flag"},{code:"1f1f0-1f1f3",desc:"St. Kitts & Nevis Flag"},{code:"1f1f0-1f1f5",desc:"North Korea Flag"},{code:"1f1f0-1f1fc",desc:"Kuwait Flag"},{code:"1f1f0-1f1fe",desc:"Cayman Islands Flag"},{code:"1f1f0-1f1ff",desc:"Kazakhstan Flag"},{code:"1f1f1-1f1e6",desc:"Laos Flag"},{code:"1f1f1-1f1e7",desc:"Lebanon Flag"},{code:"1f1f1-1f1e8",desc:"St. Lucia Flag"},{code:"1f1f1-1f1ee",desc:"Liechtenstein Flag"},{code:"1f1f1-1f1f0",desc:"Sri Lanka Flag"},{code:"1f1f1-1f1f7",desc:"Liberia Flag"},{code:"1f1f1-1f1f8",desc:"Lesotho Flag"},{code:"1f1f1-1f1f9",desc:"Lithuania Flag"},{code:"1f1f1-1f1fa",desc:"Luxembourg Flag"},{code:"1f1f1-1f1fb",desc:"Latvia Flag"},{code:"1f1f1-1f1fe",desc:"Libya Flag"},{code:"1f1f2-1f1e6",desc:"Morocco Flag"},{code:"1f1f2-1f1e8",desc:"Monaco Flag"},{code:"1f1f2-1f1e9",desc:"Moldova Flag"},{code:"1f1f2-1f1ea",desc:"Montenegro Flag"},{code:"1f1f2-1f1eb",desc:"St. Martin Flag"},{code:"1f1f2-1f1ec",desc:"Madagascar Flag"},{code:"1f1f2-1f1ed",desc:"Marshall Islands Flag"},{code:"1f1f2-1f1f0",desc:"Macedonia Flag"},{code:"1f1f2-1f1f1",desc:"Mali Flag"},{code:"1f1f2-1f1f2",desc:"Myanmar (burma) Flag"},{code:"1f1f2-1f1f3",desc:"Mongolia Flag"},{code:"1f1f2-1f1f4",desc:"Macau Sar China Flag"},{code:"1f1f2-1f1f5",desc:"Northern Mariana Islands Flag"},{code:"1f1f2-1f1f6",desc:"Martinique Flag"},{code:"1f1f2-1f1f7",desc:"Mauritania Flag"},{code:"1f1f2-1f1f8",desc:"Montserrat Flag"},{code:"1f1f2-1f1f9",desc:"Malta Flag"},{code:"1f1f2-1f1fa",desc:"Mauritius Flag"},{code:"1f1f2-1f1fb",desc:"Maldives Flag"},{code:"1f1f2-1f1fc",desc:"Malawi Flag"},{code:"1f1f2-1f1fd",desc:"Mexico Flag"},{code:"1f1f2-1f1fe",desc:"Malaysia Flag"},{code:"1f1f2-1f1ff",desc:"Mozambique Flag"},{code:"1f1f3-1f1e6",desc:"Namibia Flag"},{code:"1f1f3-1f1e8",desc:"New Caledonia Flag"},{code:"1f1f3-1f1ea",desc:"Niger Flag"},{code:"1f1f3-1f1eb",desc:"Norfolk Island Flag"},{code:"1f1f3-1f1ec",desc:"Nigeria Flag"},{code:"1f1f3-1f1ee",desc:"Nicaragua Flag"},{code:"1f1f3-1f1f1",desc:"Netherlands Flag"},{code:"1f1f3-1f1f4",desc:"Norway Flag"},{code:"1f1f3-1f1f5",desc:"Nepal Flag"},{code:"1f1f3-1f1f7",desc:"Nauru Flag"},{code:"1f1f3-1f1fa",desc:"Niue Flag"},{code:"1f1f3-1f1ff",desc:"New Zealand Flag"},{code:"1f1f4-1f1f2",desc:"Oman Flag"},{code:"1f1f8-1f1ff",desc:"Swaziland Flag"},{code:"1f1f5-1f1e6",desc:"Panama Flag"},{code:"1f1f5-1f1ea",desc:"Peru Flag"},{code:"1f1f5-1f1eb",desc:"French Polynesia Flag"},{code:"1f1f5-1f1ec",desc:"Papua New Guinea Flag"},{code:"1f1f5-1f1ed",desc:"Philippines Flag"},{code:"1f1f5-1f1f0",desc:"Pakistan Flag"},{code:"1f1f5-1f1f1",desc:"Poland Flag"},{code:"1f1f5-1f1f2",desc:"St. Pierre & Miquelon  Flag"},{code:"1f1f5-1f1f3",desc:"Pitcairn Islands Flag"},{code:"1f1f5-1f1f7",desc:"Puerto Rico Flag"},{code:"1f1f5-1f1f8",desc:"Palestinian Territories Flag"},{code:"1f1f5-1f1f9",desc:"Portugal Flag"},{code:"1f1f5-1f1fc",desc:"Palau Flag"},{code:"1f1f5-1f1fe",desc:"Paraguay Flag"},{code:"1f1f6-1f1e6",desc:"Qatar Flag"},{code:"1f1f7-1f1ea",desc:"Runion Flag"},{code:"1f1f7-1f1f4",desc:"Romania Flag"},{code:"1f1f7-1f1f8",desc:"Serbia Flag"},{code:"1f1f7-1f1fc",desc:"Rwanda Flag"},{code:"1f1f8-1f1e6",desc:"Saudi Arabia Flag"},{code:"1f1f8-1f1e7",desc:"Solomon Islands Flag"},{code:"1f1f8-1f1e8",desc:"Seychelles Flag"},{code:"1f1f8-1f1e9",desc:"Sudan Flag"},{code:"1f1f8-1f1ea",desc:"Sweden Flag"},{code:"1f1f8-1f1ec",desc:"Singapore Flag"},{code:"1f1f8-1f1ee",desc:"Slovenia Flag"},{code:"1f1f8-1f1ed",desc:"St. Helena  Flag"},{code:"1f1f8-1f1ef",desc:"Svalbard & Jan Mayen  Flag"},{code:"1f1f8-1f1f1",desc:"Sierra Leone Flag"},{code:"1f1f8-1f1f2",desc:"San Marino Flag"},{code:"1f1f8-1f1f3",desc:"Senegal Flag"},{code:"1f1f8-1f1f4",desc:"Somalia Flag"},{code:"1f1f8-1f1f7",desc:"Suriname Flag"},{code:"1f1f8-1f1f8",desc:"South Sudan  Flag"},{code:"1f1f8-1f1f9",desc:"So Tom & Prncipe Flag"},{code:"1f1f8-1f1fb",desc:"El Salvador Flag"},{code:"1f1f8-1f1fd",desc:"Sint Maarten Flag"},{code:"1f1f8-1f1fe",desc:"Syria Flag"},{code:"1f1f9-1f1e6",desc:"Tristan Da Cunha Flag"},{code:"1f1f9-1f1e8",desc:"Turks & Caicos Islands  Flag"},{code:"1f1f9-1f1eb",desc:"French Southern Territories Flag"},{code:"1f1f9-1f1ec",desc:"Togo Flag"},{code:"1f1f9-1f1ed",desc:"Thailand Flag"},{code:"1f1f9-1f1ef",desc:"Tajikistan Flag"},{code:"1f1f9-1f1f0",desc:"Tokelau Flag"},{code:"1f1f9-1f1f1",desc:"Timor-Leste Flag"},{code:"1f1f9-1f1f2",desc:"Turkmenistan Flag"},{code:"1f1f9-1f1f3",desc:"Tunisia Flag"},{code:"1f1f9-1f1f4",desc:"Tonga Flag"},{code:"1f1f9-1f1f7",desc:"Turkey Flag"},{code:"1f1f9-1f1f9",desc:"Trinidad & Tobago Flag"},{code:"1f1f9-1f1fb",desc:"Tuvalu Flag"},{code:"1f1f9-1f1fc",desc:"Taiwan Flag"},{code:"1f1f9-1f1ff",desc:"Tanzania Flag"},{code:"1f1fa-1f1e6",desc:"Ukraine City  Flag"},{code:"1f1fa-1f1ec",desc:"Uganda Flag"},{code:"1f1fa-1f1f2",desc:"U.s. Outlying Islands  Flag"},{code:"1f1fa-1f1fe",desc:"Uruguay  Flag"},{code:"1f1fa-1f1ff",desc:"Uzbekistan Flag"},{code:"1f1fb-1f1e6",desc:"Vatican City  Flag"},{code:"1f1fb-1f1e8",desc:"St. Vincent & Grenadines Flag"},{code:"1f1fb-1f1ea",desc:"Venezuela Flag"},{code:"1f1fb-1f1ec",desc:"British Virgin Islands Flag"},{code:"1f1fb-1f1ee",desc:"U.s. Virgin Islands Flag"},{code:"1f1fb-1f1f3",desc:"Vietnam Flag"},{code:"1f1fc-1f1f8",desc:"Samoa Flag"},{code:"1f1fb-1f1fa",desc:"Vanuatu Flag"},{code:"1f1fc-1f1eb",desc:'"Wallis & Futuna Flag'},{code:"1f1fd-1f1f0",desc:"Kosovo Flag"},{code:"1f1fe-1f1ea",desc:"Yemen Flag"},{code:"1f1fe-1f1f9",desc:"Mayotte Flag"},{code:"1f1ff-1f1e6",desc:"South Africa Flag"},{code:"1f1ff-1f1f2",desc:"Zambia Flag"},{code:"1f1ff-1f1fc",desc:"Zimbabwe Flag"},{code:"1f1eb-1f1f7",desc:"France Flag"},{code:"1f1ec-1f1e7",desc:"United Kingdom  Flag"},{code:"1f1ee-1f1f9",desc:"Italy Flag"},{code:"1f1ef-1f1f5",desc:"Japan Flag"},{code:"1f1f0-1f1f7",desc:"South Korea Flag"},{code:"1f1f7-1f1fa",desc:"Russia Flag"},{code:"1F6A9",desc:"Triangular Flag on Post"},{code:"1f1fa-1f1f8",desc:"United States Flag"}]}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),x.PLUGINS.emoticons=function(s){var b=s.$,$=s.opts.emoticonsSet,ge=$&&$[0],a="";function f(){if(!s.selection.isCollapsed())return!1;var O=s.selection.element(),T=s.selection.endElement();if(O&&s.node.hasClass(O,"fr-emoticon"))return O;if(T&&s.node.hasClass(T,"fr-emoticon"))return T;var L=s.selection.ranges(0),B=L.startContainer;if(B.nodeType==Node.ELEMENT_NODE&&0<B.childNodes.length&&0<L.startOffset){var G=B.childNodes[L.startOffset-1];if(s.node.hasClass(G,"fr-emoticon"))return G}return!1}function N(){return"".concat(function(T,L){return`<div class="fr-buttons fr-tabs fr-tabs-scroll">
                        `.concat(function(G,P){var F="";return G.forEach(function(j){var H={image:j.code.toLowerCase()},ee=j.id===P.id,w={elementClass:ee?"fr-active fr-active-tab":"",emoticonsUnicodeClass:s.opts.emoticonsUseImage?"":"fr-tabs-unicode",title:s.language.translate(j.name),dataCmd:"setEmoticonCategory",dataParam1:j.id,image:s.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(H.image,'.svg"/>'):"&#x".concat(H.image,";")};F+='<button class="fr-command fr-btn '.concat(w.elementClass," ").concat(w.emoticonsUnicodeClass,`" 
      title="`).concat(w.title,'" data-cmd="').concat(w.dataCmd,'" data-param1="').concat(w.dataParam1,'" aria-pressed="').concat(ee,`">
       `).concat(w.image," </button>")}),F}(T,L),`
                        </div>`)}($,ge),`
                      `).concat(function(T){return`
        <div class="fr-icon-container fr-emoticon-container">
            `.concat(function(B){var G="";return B.emoticons.forEach(function(P){var F=P.code.split("-").reduce(function(ee,w){return ee?"".concat(ee,"&zwj;&#x").concat(w.toLowerCase(),";"):"&#x".concat(w.toLowerCase(),";")},""),j={image:P.code.toLowerCase(),compiledCode:P.uCode?P.uCode:F},H={dataParam1:P.code.toLowerCase(),dataParam2:j.compiledCode,title:s.language.translate(P.desc),image:s.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(j.image,'.svg"/>'):"".concat(j.compiledCode),desc:s.language.translate(P.desc)};G+=`<span class="fr-command fr-emoticon fr-icon" role="button" 
      data-cmd="insertEmoticon" data-param1="`.concat(H.dataParam1,`" tabindex="0"
      data-param2="`).concat(H.dataParam2,'"  title="').concat(H.title,`" >
      `).concat(H.image,'<span class="fr-sr-only">').concat(H.desc,"&nbsp;&nbsp;&nbsp;</span></span>")}),G}(T),`
        </div>
        `)}(ge),`
                      `).concat(function(){return s.opts.emoticonsUseImage?'<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow noopener noreferrer" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>':""}())}return{_init:function(){var T=function(){for(var B=s.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),G=0;G<B.length;G++)B[G].className+=" fr-deletable"};T(),s.events.on("html.set",T),s.events.on("keydown",function(L){if(s.keys.isCharacter(L.which)&&s.selection.inEditor()){var B=s.selection.ranges(0),G=f();s.node.hasClass(G,"fr-emoticon-img")&&G&&(B.startOffset===0&&s.selection.element()===G?b(G).before(x.MARKERS+x.INVISIBLE_SPACE):b(G).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore())}}),s.events.on("keyup",function(L){for(var B=s.el.querySelectorAll(".fr-emoticon"),G=0;G<B.length;G++)typeof B[G].textContent<"u"&&B[G].textContent.replace(/\u200B/gi,"").length===0&&b(B[G]).remove();if(!(L.which>=x.KEYCODE.ARROW_LEFT&&L.which<=x.KEYCODE.ARROW_DOWN)){var P=f();s.node.hasClass(P,"fr-emoticon-img")&&(b(P).append(x.MARKERS),s.selection.restore())}})},insert:function(T,L){var B=f(),G=s.selection.ranges(0);B?(G.startOffset===0&&s.selection.element()===B?b(B).before(x.MARKERS+x.INVISIBLE_SPACE):0<G.startOffset&&s.selection.element()===B&&G.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&b(B).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore(),s.html.insert('<span class="fr-emoticon fr-deletable'.concat(L?" fr-emoticon-img":"",'"').concat(L?' style="background: url('.concat(L,');"'):"",">").concat(L?"&nbsp;":T,"</span>&nbsp;").concat(x.MARKERS),!0)):s.html.insert('<span class="fr-emoticon fr-deletable'.concat(L?" fr-emoticon-img":"",'"').concat(L?' style="background: url('.concat(L,');"'):"",">").concat(L?"&nbsp;":T,"</span>").concat(x.INVISIBLE_SPACE),!0)},setEmoticonCategory:function(T){ge=$.filter(function(L){return L.id===T})[0],function(){s.popups.get("emoticons").html(a+N());var B=s.popups.get("emoticons").children().not(".fr-buttons");s.accessibility.registerPopup("emoticons"),s.accessibility.focusContent(B)}()},showEmoticonsPopup:function(){var T=s.popups.get("emoticons");if(T||(T=function(){s.opts.toolbarInline&&0<s.opts.emoticonsButtons.length&&(a='<div class="fr-buttons fr-emoticons-buttons fr-tabs">'.concat(s.button.buildList(s.opts.emoticonsButtons),"</div>"));var j={buttons:a,custom_layer:N()},H=s.popups.create("emoticons",j);return function(w){s.events.on("popup.tab",function(he){var be=b(he.currentTarget);if(!s.popups.isVisible("emoticons")||!be.is("span, a"))return!0;var se,re,ie,M=he.which,W=window.getComputedStyle(w.find(".fr-icon-container")[0]),K=W.getPropertyValue("grid-template-columns").split(" ").length;if(x.KEYCODE.TAB==M){var R=w.find("span.fr-emoticon");if(be.is(R.first())&&he.shiftKey||be.is("a")&&!he.shiftKey){var A=w.find(".fr-buttons");se=!s.accessibility.focusToolbar(A,!!he.shiftKey)}if(se!==!1){var J=w.find("span.fr-emoticon");J.add(w.find("a.fr-link")),J.add(w.find("button.fr-btn")),re=J.index(be),re=he.shiftKey?((re-1)%J.length+J.length)%J.length:(re+1)%J.length,ie=J.get(re),s.events.disableBlur(),ie.focus(),se=!1}}else if(x.KEYCODE.ARROW_UP==M||x.KEYCODE.ARROW_DOWN==M||x.KEYCODE.ARROW_LEFT==M||x.KEYCODE.ARROW_RIGHT==M){if(be.is("span.fr-emoticon")){var V=be.parent().find("span.fr-emoticon");re=V.index(be);var q=K,ae=Math.ceil(V.length/q),Le=re%q,Ee=Math.floor(re/q),we=Ee*q+Le,Ne=ae*q;x.KEYCODE.ARROW_UP==M?we=((we-q)%Ne+Ne)%Ne:x.KEYCODE.ARROW_DOWN==M?we=(we+q)%Ne:x.KEYCODE.ARROW_LEFT==M?we=((we-1)%Ne+Ne)%Ne:x.KEYCODE.ARROW_RIGHT==M&&(we=(we+1)%Ne),ie=b(V.get(we)),s.events.disableBlur(),ie.focus(),se=!1}}else x.KEYCODE.ENTER==M&&(be.is("a")?be[0].click():s.button.exec(be),se=!1);return se===!1&&(he.preventDefault(),he.stopPropagation()),se},!0)}(H),H}()),!T.hasClass("fr-active")){s.popups.refresh("emoticons"),s.popups.setContainer("emoticons",s.$tb);var L=s.$tb.find('.fr-command[data-cmd="emoticons"]'),B=s.button.getPosition(L),G=B.left,P=B.top;s.popups.show("emoticons",G,P,L.outerHeight()),s.popups.get("emoticons").css("overflow","hidden")}},back:function(){s.popups.hide("emoticons"),s.toolbar.showInline()}}},x.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile",SVG_KEY:"smile"}),x.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),x.RegisterCommand("insertEmoticon",{callback:function(s,b,$){this.emoticons.insert($,this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/".concat(b,".svg"):null),this.popups.hide("emoticons")}}),x.RegisterCommand("setEmoticonCategory",{undo:!1,focus:!1,callback:function(s,b){this.emoticons.setEmoticonCategory(b)}}),x.DefineIcon("emoticonsBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}}),Object.assign(x.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),x.PLUGINS.entities=function(s){var b,$,ge=s.$;function a(O){var T=O.textContent;if(T.match(b)){for(var L="",B=0;B<T.length;B++)$[T[B]]?L+=$[T[B]]:L+=T[B];O.textContent=L}}function f(O){if(O&&0<=["STYLE","SCRIPT","svg","IFRAME"].indexOf(O.tagName))return!0;for(var T=s.node.contents(O),L=0;L<T.length;L++)T[L].nodeType===Node.TEXT_NODE?a(T[L]):f(T[L]);return O.nodeType===Node.TEXT_NODE&&a(O),!1}var N=function(T){return T.length===0?"":s.clean.exec(T,f).replace(/\&amp;/g,"&")};return{_init:function(){s.opts.htmlSimpleAmpersand||(s.opts.entities="".concat(s.opts.entities,"&amp;"));var T=ge(document.createElement("div")).html(s.opts.entities).text(),L=s.opts.entities.split(";");$={},b="";for(var B=0;B<T.length;B++){var G=T.charAt(B);$[G]="".concat(L[B],";"),b+="\\".concat(G+(B<T.length-1?"|":""))}b=new RegExp("(".concat(b,")"),"g"),s.events.on("html.get",N,!0)}}},Object.assign(x.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),Object.assign(x.DEFAULTS,{fileUpload:!0,fileUploadURL:null,fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadToAzure:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),x.PLUGINS.file=function(s){var b,$=s.$,ge="https://i.froala.com/upload",a=2,f=3,N=4,O=5,T=6,L={};function B(){var K=s.popups.get("file.insert");K||(K=re()),K.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),K.find(".fr-file-progress-bar-layer").addClass("fr-active"),K.find(".fr-buttons").hide(),P(s.language.translate("Uploading"),0)}function G(K){var R=s.popups.get("file.insert");R&&(R.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),R.find(".fr-file-progress-bar-layer").removeClass("fr-active"),R.find(".fr-buttons").show(),K&&(s.events.focus(),s.popups.hide("file.insert")))}function P(K,R){var A=s.popups.get("file.insert");if(A){var J=A.find(".fr-file-progress-bar-layer");J.find("h3").text(K+(R?" ".concat(R,"%"):"")),J.removeClass("fr-error"),R?(J.find("div").removeClass("fr-indeterminate"),J.find("div > span").css("width","".concat(R,"%"))):J.find("div").addClass("fr-indeterminate")}}function F(K,R,A,J){var V;s.edit.on(),s.events.focus(!0),s.selection.restore(),s.opts.fileUseSelectedText&&s.selection.text().length&&(R=s.selection.text());var q='<a href="'.concat(K,'" id="fr-inserted-file" ');if(J!==void 0)for(V in J)J.hasOwnProperty(V)&&V!="link"&&(q+="".concat(V,'="').concat(J[V],'" '));q.indexOf(' class="')==-1&&(q+='class="fr-file" '),q+=">".concat(R,"</a>"),s.html.insert(q);var ae=s.$el.find("#fr-inserted-file");ae.removeAttr("id"),s.popups.hide("file.insert"),s.undo.saveStep(),W(),s.events.trigger("file.inserted",[ae,A])}function j(K,R,A){var J=this.status,V=this.response,q=this.responseXML,ae=this.responseText;try{if(s.opts.fileUploadToS3||s.opts.fileUploadToAzure)if(J===201){var Le;if(s.opts.fileUploadToAzure){if(s.events.trigger("file.uploadedToAzure",[this.responseURL,A,V],!0)===!1)return s.edit.on(),!1;Le=R}else Le=function(Ne){try{var We=$(Ne).find("Location").text(),ct=$(Ne).find("Key").text();return s.events.trigger("file.uploadedToS3",[We,ct,Ne],!0)===!1?(s.edit.on(),!1):We}catch{return w(N,Ne),!1}}(q);Le&&F(Le,K,V||q)}else w(N,V||q);else if(200<=J&&J<300){var Ee=function(Ne){try{if(s.events.trigger("file.uploaded",[Ne],!0)===!1)return s.edit.on(),!1;var We=JSON.parse(Ne);return We.link?We:(w(a,Ne),!1)}catch{return w(N,Ne),!1}}(ae);Ee&&F(Ee.link,K,V||ae,Ee)}else w(f,V||ae)}catch{w(N,V||ae)}}function H(){w(N,this.response||this.responseText||this.responseXML)}function ee(K){if(K.lengthComputable){var R=K.loaded/K.total*100|0;P(s.language.translate("Uploading"),R)}}function w(K,R){s.edit.on(),function(J){B();var V=s.popups.get("file.insert").find(".fr-file-progress-bar-layer");V.addClass("fr-error");var q=V.find("h3");q.text(J),s.events.disableBlur(),q.focus()}(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("file.error",[{code:K,message:L[K]},R])}function he(){s.edit.on(),G(!0)}function be(K){if(K!==void 0&&0<K.length){var R=K[0].type;if(K[0].name&&K[0].name.endsWith(".msg")&&(R="application/vnd.ms-outlook"),s.events.trigger("file.beforeUpload",[K])===!1)return!1;var A,J=K[0];if(!(s.opts.fileUploadURL!==null&&s.opts.fileUploadURL!==ge||s.opts.fileUploadToS3||s.opts.fileUploadToAzure))return function(Ye){var xt=new FileReader;xt.onload=function(){for(var ft=xt.result,Ot=atob(xt.result.split(",")[1]),Rt=[],zt=0;zt<Ot.length;zt++)Rt.push(Ot.charCodeAt(zt));var Zt=Ye.type;Ye.name&&Ye.name.endsWith(".msg")&&(Zt="application/vnd.ms-outlook"),ft=window.URL.createObjectURL(new Blob([new Uint8Array(Rt)],{type:Zt})),s.file.insert(ft,Ye.name,null)},B(),xt.readAsDataURL(Ye)}(J),!1;if(J.size>s.opts.fileMaxSize)return w(O),!1;if(s.opts.fileAllowedTypes.indexOf("*")<0&&s.opts.fileAllowedTypes.indexOf(R.replace(/file\//g,""))<0)return w(T),!1;if(s.drag_support.formdata&&(A=s.drag_support.formdata?new FormData:null),A){var V;if(s.opts.fileUploadToS3!==!1)for(V in A.append("key",s.opts.fileUploadToS3.keyStart+new Date().getTime()+"-"+(J.name||"untitled")),A.append("success_action_status","201"),A.append("X-Requested-With","xhr"),A.append("Content-Type",R),s.opts.fileUploadToS3.params)s.opts.fileUploadToS3.params.hasOwnProperty(V)&&A.append(V,s.opts.fileUploadToS3.params[V]);for(V in s.opts.fileUploadParams)s.opts.fileUploadParams.hasOwnProperty(V)&&A.append(V,s.opts.fileUploadParams[V]);A.append(s.opts.fileUploadParam,J);var q,ae,Le=s.opts.fileUploadURL;s.opts.fileUploadToS3&&(Le=s.opts.fileUploadToS3.uploadURL?s.opts.fileUploadToS3.uploadURL:"https://".concat(s.opts.fileUploadToS3.region,".amazonaws.com/").concat(s.opts.fileUploadToS3.bucket));var Ee=s.opts.fileUploadMethod;s.opts.fileUploadToAzure&&(Le=s.opts.fileUploadToAzure.uploadURL?"".concat(s.opts.fileUploadToAzure.uploadURL,"/").concat(J.name):encodeURI("https://".concat(s.opts.fileUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.fileUploadToAzure.container,"/").concat(J.name)),q=Le,s.opts.fileUploadToAzure.SASToken&&(Le+=s.opts.fileUploadToAzure.SASToken),Ee="PUT");var we=s.core.getXHR(Le,Ee);if(s.opts.fileUploadToAzure){var Ne=new Date().toUTCString();if(!s.opts.fileUploadToAzure.SASToken&&s.opts.fileUploadToAzure.accessKey){var We=s.opts.fileUploadToAzure.account,ct=s.opts.fileUploadToAzure.container;if(s.opts.fileUploadToAzure.uploadURL){var nt=s.opts.fileUploadToAzure.uploadURL.split("/");ct=nt.pop(),We=nt.pop().split(".")[0]}var st=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(Ne,`
x-ms-version:2019-07-07`),Me=encodeURI("/"+We+"/"+ct+"/"+J.name),tt=Ee+`


`+J.size+`

`+R+`






`+st+`
`+Me,ze=s.cryptoJSPlugin.cryptoJS.HmacSHA256(tt,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.fileUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),Ze="SharedKey "+We+":"+ze;ae=ze,we.setRequestHeader("Authorization",Ze)}for(V in we.setRequestHeader("x-ms-version","2019-07-07"),we.setRequestHeader("x-ms-date",Ne),we.setRequestHeader("Content-Type",R),we.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.fileUploadParams)s.opts.fileUploadParams.hasOwnProperty(V)&&we.setRequestHeader(V,s.opts.fileUploadParams[V]);for(V in s.opts.fileUploadToAzure.params)s.opts.fileUploadToAzure.params.hasOwnProperty(V)&&we.setRequestHeader(V,s.opts.fileUploadToAzure.params[V])}we.onload=function(){j.call(we,J.name,q,ae)},we.onerror=H,we.upload.onprogress=ee,we.onabort=he,B();var qe=s.popups.get("file.insert");qe&&(qe.off("abortUpload"),qe.on("abortUpload",function(){we.readyState!==4&&we.abort()})),we.send(s.opts.fileUploadToAzure?J:A)}}}function se(){G()}function re(K){if(K)return s.popups.onHide("file.insert",se),!0;var R;s.opts.fileUpload||s.opts.fileInsertButtons.splice(s.opts.fileInsertButtons.indexOf("fileUpload"),1),R='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.fileInsertButtons),"</div>");var A="";s.opts.fileUpload&&(A='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'.concat(s.id,'"><strong>').concat(s.language.translate("Drop file"),"</strong><br>(").concat(s.language.translate("or click"),')<div class="fr-form"><input type="file" name="').concat(s.opts.fileUploadParam,'" accept="').concat(0<=s.opts.fileAllowedTypes.indexOf("*")?"/":"").concat(s.opts.fileAllowedTypes.join(", ").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-file-upload-layer-').concat(s.id,'" role="button"></div></div>'));var J={buttons:R,upload_layer:A,progress_bar:'<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>'},V=s.popups.create("file.insert",J);return function(ae){s.events.$on(ae,"dragover dragenter",".fr-file-upload-layer",function(){return $(this).addClass("fr-drop"),!1},!0),s.events.$on(ae,"dragleave dragend",".fr-file-upload-layer",function(){return $(this).removeClass("fr-drop"),!1},!0),s.events.$on(ae,"drop",".fr-file-upload-layer",function(Le){Le.preventDefault(),Le.stopPropagation(),$(this).removeClass("fr-drop");var Ee=Le.originalEvent.dataTransfer;Ee&&Ee.files&&(ae.data("instance")||s).file.upload(Ee.files)},!0),s.helpers.isIOS()&&s.events.$on(ae,"touchstart",'.fr-file-upload-layer input[type="file"]',function(){$(this).trigger("click")}),s.events.$on(ae,"change",'.fr-file-upload-layer input[type="file"]',function(){if(this.files){var Le=ae.data("instance")||s;Le.events.disableBlur(),ae.find("input:focus").blur(),Le.events.enableBlur(),Le.file.upload(this.files)}$(this).val("")},!0)}(V),V}function ie(K){s.node.hasClass(K,"fr-file")}function M(K){var R=K.originalEvent.dataTransfer;if(R&&R.files&&R.files.length){var A=R.files[0];if(A&&typeof A.type<"u"){if(A.type.indexOf("image")<0){if(!s.opts.fileUpload)return K.preventDefault(),K.stopPropagation(),!1;s.markers.remove(),s.markers.insertAtPoint(K.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.popups.hideAll();var J=s.popups.get("file.insert");return J||(J=re()),s.popups.setContainer("file.insert",s.$sc),s.popups.show("file.insert",K.originalEvent.pageX,K.originalEvent.pageY),B(),be(R.files),K.preventDefault(),K.stopPropagation(),!1}}else A.type.indexOf("image")<0&&(K.preventDefault(),K.stopPropagation())}}function W(){var K,R=Array.prototype.slice.call(s.el.querySelectorAll("a.fr-file")),A=[];for(K=0;K<R.length;K++)A.push(R[K].getAttribute("href"));if(b)for(K=0;K<b.length;K++)A.indexOf(b[K].getAttribute("href"))<0&&s.events.trigger("file.unlink",[b[K]]);b=R}return L[1]="File cannot be loaded from the passed link.",L[a]="No link in upload response.",L[f]="Error during file upload.",L[N]="Parsing response failed.",L[O]="File is too large.",L[T]="File file type is invalid.",L[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:function(){(function(){s.events.on("drop",M),s.events.$on(s.$win,"keydown",function(A){var J=A.which,V=s.popups.get("file.insert");V&&J===x.KEYCODE.ESC&&V.trigger("abortUpload")}),s.events.on("destroy",function(){var A=s.popups.get("file.insert");A&&A.trigger("abortUpload")})})(),s.events.on("link.beforeRemove",ie),s.$wp&&(W(),s.events.on("contentChanged",W)),re(!0)},showInsertPopup:function(){var R=s.$tb.find('.fr-command[data-cmd="insertFile"]'),A=s.popups.get("file.insert");if(A||(A=re()),G(),!A.hasClass("fr-active"))if(s.popups.refresh("file.insert"),s.popups.setContainer("file.insert",s.$tb),R.isVisible){var J=s.button.getPosition(R),V=J.left,q=J.top;s.popups.show("file.insert",V,q,R.outerHeight())}else s.position.forSelection(A),s.popups.show("file.insert")},upload:be,insert:F,back:function(){s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),s.popups.hide("file.insert"),s.toolbar.showInline()},hideProgressBar:G}},x.DefineIcon("insertFile",{NAME:"file-o",FA5NAME:"file",SVG_KEY:"insertFile"}),x.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),x.DefineIcon("fileBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(s){this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next(".fr-separator").removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next(".fr-separator").addClass("fr-hidden"))}}),x.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}}),Object.assign(x.POPUP_TEMPLATES,{"filesManager.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_PROGRESS_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(x.DEFAULTS,{filesInsertButtons:["imageBack","|","filesUpload","filesByURL","filesEmbed"],filesInsertButtons2:["deleteAll","insertAll","cancel","minimize"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,filesManagerUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,filesManagerUploadParam:"file",filesManagerUploadParams:{},googleOptions:{},filesManagerUploadToS3:!1,filesManagerUploadToAzure:!1,filesManagerUploadMethod:"POST",filesManagerMaxSize:10485760,filesManagerAllowedTypes:["*"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),x.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],x.VIDEO_EMBED_REGEX=/^\W*((<iframe(.|\n)*>(\s|\n)*<\/iframe>)|(<embed(.|\n)*>))\W*$/i,x.IMAGE_EMBED_REGEX=/^\W*((<img(.|\n)*>(\s|\n)*))\W*$/i,x.IMAGE_TYPE="image/png",x.IMAGE_ALLOW_REGEX=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,x.PLUGINS.filesManager=function(s){var b,$,ge,a,f,N,O,T,L=s.$,B="https://i.froala.com/upload",G=!1,P=!1,F=new Map,j=new Map,H=new Map,ee=new Map,w=new Map,he=new Map,be=0,se=[],re=-1,ie=[],M=0,W=["file","image","imageTUI","video"],K=1,R=2,A=3,J=4,V=5,q=6,ae=10,Le=["video/avi","video/mpeg","video/x-ms-wmv"],Ee={};function we(){var Re=s.popups.get("filesManager.insert"),gt=Re.find(".fr-files-by-url-layer input");gt.val(""),Re.find(".fr-files-embed-layer textarea").val("").trigger("change"),gt.trigger("change")}function Ne(Re){var gt;s.hasOwnProperty("imageTUI")||(O="fr-disabled"),he.forEach(function(jn,vo){xt(vo)}),We()?(gt=s.popups.get("filesManager.insert"))||(gt=_n()):(gt=s.popups.get("filesManager.insert"))||(gt=function(){var vo=`<div style= 'padding:10px'>
    <div class = 'fr-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>`.concat(s.language.translate(function(){var ds="",us=function(){var bt=[];return W.forEach(function(Ht){s.opts.pluginsEnabled.indexOf(Ht)<0&&bt.push(Ht.charAt(0).toUpperCase()+Ht.slice(1))}),bt}();return ds=us.join(", "),1<us.length?ds+=" plugin are":ds+=" plugin is",ds}()+" not enabled. Do you want to enable?"),`</h3></div>
    <div style='text-align:right;'>
      <button class='fr-trim-button fr-plugins-enable'>`).concat(s.language.translate("Enable"),`</button>               
      <button class='fr-trim-button fr-plugins-cancel'>`).concat(s.language.translate("Cancel"),`</button>
    </div>`),mo={buttons:'<div class="fr-buttons fr-tabs"></div>',upload_layer:vo,by_url_layer:"",embed_layer:"",upload_progress_layer:"",progress_bar:""},Uo=s.popups.create("filesManager.insert",mo);return Ut(Uo),Uo}());var St=s.$tb.find('.fr-command[data-cmd="insertFiles"]');if(Rt(),Re||!gt.hasClass("fr-active"))if(Re||ft(),s.popups.refresh("filesManager.insert"),s.popups.setContainer("filesManager.insert",s.$tb),St.isVisible()){var Pt=s.button.getPosition(St,F.size),Qt=Pt.left,Vn=Pt.top;s.popups.show("filesManager.insert",Qt,Vn,St.outerHeight())}else s.position.forSelection(gt),s.popups.show("filesManager.insert");s.popups.setPopupDimensions(gt),We()&&s.popups.setFileListHeight(gt),gt.find(".fr-upload-progress")&&F.size==0&&gt.find(".fr-upload-progress").addClass("fr-none")}function We(){var Re=!0;return W.forEach(function(gt){s.opts.pluginsEnabled.indexOf(gt)<0&&(Re=!1)}),Re}function ct(){Rt()}function nt(){if(a||function(){var vo;if(s.shared.$image_resizer?(a=s.shared.$image_resizer,N=s.shared.$img_overlay,s.events.on("destroy",function(){L("body").first().append(a.removeClass("fr-active"))},!0)):(s.shared.$image_resizer=L(document.createElement("div")).attr("class","fr-image-resizer"),a=s.shared.$image_resizer,s.events.$on(a,"mousedown",function(ds){ds.stopPropagation()},!0),s.opts.imageResize&&(a.append(st("nw")+st("ne")+st("sw")+st("se")),s.shared.$img_overlay=L(document.createElement("div")).attr("class","fr-image-overlay"),N=s.shared.$img_overlay,vo=a.get(0).ownerDocument,L(vo).find("body").first().append(N))),s.events.on("shared.destroy",function(){a.html("").removeData().remove(),a=null,s.opts.imageResize&&(N.remove(),N=null)},!0),s.helpers.isMobile()||s.events.$on(L(s.o_win),"resize",function(){b&&!b.hasClass("fr-uploading")?po(!0):b&&(nt(),replace(),Ot(!1))}),s.opts.imageResize){vo=a.get(0).ownerDocument,s.events.$on(a,s._mousedown,".fr-handler",tt),s.events.$on(L(vo),s._mousemove,ze),s.events.$on(L(vo.defaultView||vo.parentWindow),s._mouseup,Ze),s.events.$on(N,"mouseleave",Ze);var mo=1,Uo=null,cn=0;s.events.on("keydown",function(ds){if(b){var us=navigator.userAgent.indexOf("Mac OS X")!=-1?ds.metaKey:ds.ctrlKey,Ve=ds.which;(Ve!==Uo||200<ds.timeStamp-cn)&&(mo=1),(Ve==x.KEYCODE.EQUALS||s.browser.mozilla&&Ve==x.KEYCODE.FF_EQUALS)&&us&&!ds.altKey?mo=qo.call(this,ds,1,1,mo):(Ve==x.KEYCODE.HYPHEN||s.browser.mozilla&&Ve==x.KEYCODE.FF_HYPHEN)&&us&&!ds.altKey?mo=qo.call(this,ds,2,-1,mo):s.keys.ctrlKey(ds)||Ve!=x.KEYCODE.ENTER||(b.before("<br>"),Ue(b)),Uo=Ve,cn=ds.timeStamp}},!0),s.events.on("keyup",function(){mo=1})}}(),!b)return!1;var Re=s.$wp||s.$sc;Re.append(a),a.data("instance",s);var gt=Re.scrollTop()-(Re.css("position")!="static"?Re.offset().top:0),St=Re.scrollLeft()-(Re.css("position")!="static"?Re.offset().left:0);St-=s.helpers.getPX(Re.css("border-left-width")),gt-=s.helpers.getPX(Re.css("border-top-width")),s.$el.is("img")&&s.$sc.is("body")&&(St=gt=0);var Pt=Qs();ia()&&(Pt=Pt.find(".fr-img-wrap"));var Qt=0,Vn=0;s.opts.iframe&&(Qt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),Vn=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"))),a.css("top",(s.opts.iframe?Pt.offset().top+Qt:Pt.offset().top+gt)-1).css("left",(s.opts.iframe?Pt.offset().left+Vn:Pt.offset().left+St)-1).css("width",Pt.get(0).getBoundingClientRect().width).css("height",Pt.get(0).getBoundingClientRect().height).addClass("fr-active")}function st(Re){return'<div class="fr-handler fr-h'.concat(Re,'"></div>')}function Me(Re){ia()?b.parents(".fr-img-caption").css("width",Re):b.css("width",Re)}function tt(Re){if(!s.core.sameInstance(a))return!0;if(Re.preventDefault(),Re.stopPropagation(),s.$el.find("img.fr-error").left)return!1;s.undo.canDo()||s.undo.saveStep();var gt=Re.pageX||Re.originalEvent.touches[0].pageX;if(Re.type=="mousedown"){var St=s.$oel.get(0).ownerDocument,Pt=St.defaultView||St.parentWindow,Qt=!1;try{Qt=Pt.location!=Pt.parent.location&&!(Pt.$&&Pt.$.FE)}catch{}Qt&&Pt.frameElement&&(gt+=s.helpers.getPX(L(Pt.frameElement).offset().left)+Pt.frameElement.clientLeft)}(f=L(this)).data("start-x",gt),f.data("start-width",b.width()),f.data("start-height",b.height());var Vn=b.width();if(s.opts.imageResizeWithPercent){var jn=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;Vn=(Vn/L(jn).outerWidth()*100).toFixed(2)+"%"}Me(Vn),N.show(),s.popups.hideAll(),Qn()}function ze(Re){if(!s.core.sameInstance(a))return!0;var gt;if(f&&b){if(Re.preventDefault(),s.$el.find("img.fr-error").left)return!1;var St=Re.pageX||(Re.originalEvent.touches?Re.originalEvent.touches[0].pageX:null);if(!St)return!1;var Pt=St-f.data("start-x"),Qt=f.data("start-width");if((f.hasClass("fr-hnw")||f.hasClass("fr-hsw"))&&(Pt=0-Pt),s.opts.imageResizeWithPercent){var Vn=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;Qt=((Qt+Pt)/L(Vn).outerWidth()*100).toFixed(2),s.opts.imageRoundPercent&&(Qt=Math.round(Qt)),Me("".concat(Qt,"%")),(gt=ia()?(s.helpers.getPX(b.parents(".fr-img-caption").css("width"))/L(Vn).outerWidth()*100).toFixed(2):(s.helpers.getPX(b.css("width"))/L(Vn).outerWidth()*100).toFixed(2))===Qt||s.opts.imageRoundPercent||Me("".concat(gt,"%")),b.css("height","").removeAttr("height")}else Qt+Pt>=s.opts.imageMinWidth&&(Me(Qt+Pt),gt=ia()?s.helpers.getPX(b.parents(".fr-img-caption").css("width")):s.helpers.getPX(b.css("width"))),gt!==Qt+Pt&&Me(gt),((b.attr("style")||"").match(/(^height:)|(; *height:)/)||b.attr("height"))&&(b.css("height",f.data("start-height")*b.width()/f.data("start-width")),b.removeAttr("height"));nt(),s.events.trigger("image.resize",[wa()])}}function Ze(Re){if(!s.core.sameInstance(a))return!0;if(f&&b){if(Re&&Re.stopPropagation(),s.$el.find("img.fr-error").left)return!1;f=null,N.hide(),nt(),s.undo.saveStep(),s.events.trigger("image.resizeEnd",[wa()])}else a.removeClass("fr-active")}function qe(){he.forEach(function(Re,gt){var St=s.popups.get("filesManager.insert");St.find(".fr-checkbox-file-"+gt).get(0).disabled=!0,document.getElementById("fr-file-autoplay-button-"+gt)&&(document.getElementById("fr-file-autoplay-button-"+gt).disabled=!0,document.getElementById("fr-file-autoplay-button-"+gt).parentElement.classList.add("fr-checkbox-disabled"),document.getElementById("fr-file-autoplay-button-"+gt).parentElement.classList.remove("fr-files-checkbox")),St.find(".fr-checkbox-"+gt).get(0).classList.remove("fr-files-checkbox"),St.find(".fr-checkbox-"+gt).get(0).classList.add("fr-checkbox-disabled")})}function Fe(Re,gt,St,Pt){s.edit.on(),b&&b.addClass("fr-error"),Ee[Re]?(Re!=A&&Re!=R&&Re!=J||le(100,Pt,!0),he.set(Pt,Ee[Re]),qe(),function(){he.forEach(function(Vn,jn){s.popups.get("filesManager.insert"),document.getElementById("fr-file-edit-button-".concat(jn))&&(document.getElementById("fr-file-edit-button-".concat(jn)).classList.add("fr-disabled"),document.getElementById("fr-file-view-button-".concat(jn)).classList.add("fr-disabled"),document.getElementById("fr-file-insert-button-".concat(jn)).classList.add("fr-disabled"))})}(),wn(s.language.translate(Ee[Re]),Pt)):wn(s.language.translate("Something went wrong. Please try again."),Pt),!b&&St&&Do(St),s.events.trigger("filesManager.error",[{code:Re,message:Ee[Re]},gt,St])}function Ye(){var Re=s.popups.get("filesManager.insert"),gt=Re.find('.fr-command[data-cmd="insertAll"]'),St=Re.find('.fr-command[data-cmd="deleteAll"]'),Pt=!0;w.forEach(function(Vn,jn,vo){w.get(jn)&&(Pt=!1)}),Pt?gt.addClass("fr-disabled"):gt.removeClass("fr-disabled"),Pt?St.addClass("fr-disabled"):St.removeClass("fr-disabled")}function xt(Re){j.get(Re)&&j.get(Re).link&&s.events.trigger("filesManager.removed",[j.get(Re).link]);var gt=s.popups.get("filesManager.insert");gt.find(".fr-file-"+Re).get(0)!==void 0&&(gt.find(".fr-file-"+Re).get(0).outerHTML=""),j.delete(Re),F.delete(Re),w.delete(Re),Ye(),F.size==0&&(M=0),he.delete(Re),s.popups.setPopupDimensions(gt,!0),s.opts.toolbarBottom?Ne(!0):s.popups.setPopupDimensions(gt),gt.find(".fr-upload-progress")&&F.size==0&&gt.find(".fr-upload-progress").addClass("fr-none")}function ft(){for(var Re=s.popups.get("filesManager.insert"),gt=Re.find(".fr-insert-checkbox"),St=0;St<gt.length;St++)gt.get(St).children.target.checked=!1,Re.find(".fr-file-"+gt.get(St).id.split("-").pop()).get(0).classList.add("fr-unchecked");if(ge)document.getElementById("fr-file-autoplay-button-".concat(ge))&&(document.getElementById("fr-file-autoplay-button-".concat(ge)).checked=!1),ie=ie.filter(function(Vn){return Vn!=ge});else{for(var Pt=Re.find(".fr-file-autoplay-button"),Qt=0;Qt<Pt.length;Qt++)Pt.get(Qt).checked=!1;ie=[]}w=new Map,Ye()}function Ot(Re){var gt=s.popups.get("filesManager.insert");if(gt||(gt=_n()),gt.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),gt.find(".fr-files-progress-bar-layer").addClass("fr-active"),gt.find(".fr-buttons").hide(),b){var St=Qs();s.popups.setContainer("filesManager.insert",s.$sc);var Pt=St.offset().left,Qt=St.offset().top+St.height();s.popups.show("filesManager.insert",Pt,Qt,St.outerHeight())}Re===void 0&&zt(s.language.translate("Uploading"),0)}function Rt(Re){var gt=s.popups.get("filesManager.insert");if(gt&&(gt.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),gt.find(".fr-files-progress-bar-layer").removeClass("fr-active"),gt.find(".fr-buttons").show(),Re||s.$el.find("img.fr-error").length)){if(s.events.focus(),s.$el.find("img.fr-error").length&&(s.$el.find("img.fr-error").remove(),s.undo.saveStep(),s.undo.run(),s.undo.dropRedo()),!s.$wp&&b){var St=b;po(!0),s.selection.setAfter(St.get(0)),s.selection.restore()}s.popups.hide("filesManager.insert")}}function zt(Re,gt){var St=s.popups.get("filesManager.insert");if(St){var Pt=St.find(".fr-files-progress-bar-layer");Pt.find("h3").text(Re+(gt?" ".concat(gt,"%"):"")),Pt.removeClass("fr-error"),gt?(Pt.find("div").removeClass("fr-indeterminate"),Pt.find("div > span").css("width","".concat(gt,"%"))):Pt.find("div").addClass("fr-indeterminate")}}function Zt(Re){Ot();var gt=s.popups.get("filesManager.insert").find(".fr-files-progress-bar-layer");gt.addClass("fr-error");var St=gt.find("h3");St.text(Re),s.events.disableBlur(),St.focus()}function wn(Re,gt){var St=s.popups.get("filesManager.insert"),Pt=St.find(".fr-upload-progress-layer"),Qt=St.find(".fr-file-".concat(gt));Pt.addClass("fr-error"),Qt.find("h5").text(Re)}Ee[K]="File cannot be loaded from the passed link.",Ee[R]="No link in upload response.",Ee[A]="Error during file upload.",Ee[J]="Parsing response failed.",Ee[V]="File is too large.",Ee[q]="File type is invalid.",Ee[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",Ee[8]="File is corrupted.",Ee[9]="Error during file loading.",Ee[ae]="File upload cancelled";var Zn,et,wt,It,nn,bn,kn,Mn,vn,Hn,So="";function ro(Re){So=Re,Zn=document.getElementsByClassName(Re),Array.prototype.map.call(Zn,function(gt){(function(Pt){if(Pt.addEventListener("dragover",function(jn){jn.preventDefault(),jn.stopPropagation(),et=jn.pageX,wt=jn.pageY;var vo=document.getElementById("filesList");wt+20>vo.getBoundingClientRect().bottom&&Xo(vo,0,10),wt-20<vo.getBoundingClientRect().top&&Xo(vo,0,-10)},!1),s.helpers.isMobile()){var Qt=Pt.getElementsByClassName("dot");Qt[0].addEventListener("touchmove",function(jn){jn.preventDefault(),jn.stopPropagation();for(var vo=jn.target;vo&&!vo.classList.contains(So);)vo=vo.parentElement;for(var mo=document.elementFromPoint(jn.targetTouches[0].clientX,jn.targetTouches[0].clientY);mo&&!mo.classList.contains(So);)mo=mo.parentElement;var Uo=document.getElementsByClassName("fr-hovered-over-file");Array.prototype.forEach.call(Uo,function(ds){ds.classList.remove("fr-hovered-over-file")}),mo&&!vo.classList.contains("fr-unchecked")&&mo.classList.add("fr-hovered-over-file");var cn=document.getElementById("filesList");jn.targetTouches[0].clientY+5>cn.getBoundingClientRect().bottom&&Xo(cn,0,5),jn.targetTouches[0].clientY-5<cn.getBoundingClientRect().top&&Xo(cn,0,-5)},!1)}if(Pt.ondrag=zn,Pt.ondragend=cs,s.helpers.isMobile()){var Vn=Pt.getElementsByClassName("dot");Vn[0].addEventListener("touchmove",zn,!1),Vn[0].addEventListener("touchend",cs,!1)}})(gt)})}function Xo(Re,gt,St){Re.scrollLeft+=gt,Re.scrollTop+=St}function zn(Re){for(s.helpers.isMobile()&&(nn=event.touches[0].clientX,bn=event.touches[0].clientY),It=Re.target;!It.classList.contains(So);)It=It.parentElement;It.classList.contains(So)&&!It.classList.contains("fr-unchecked")?s.helpers.isMobile()&&It.classList.add("drag-sort-active"):It=void 0}function cs(Re){var gt;if(It!==void 0){var St,Pt;if(s.helpers.isMobile())for(St=nn,Pt=bn,gt=event.target;!gt.classList.contains(So);)gt=gt.parentElement;else St=event.clientX,Pt=event.clientY;s.helpers.isMobile()||!s.browser.safari&&!s.browser.mozilla||(St=et,Pt=wt);for(var Qt=document.elementFromPoint(St,Pt);Qt&&!Qt.classList.contains(So);)Qt=Qt.parentElement;Qt&&!Qt.classList.contains(So)?Qt=void 0:Qt&&It!==Qt&&function(jn,vo){var mo,Uo,cn=jn.parentNode,ds=vo.parentNode;if(!(!cn||!ds||cn.isEqualNode(vo)||ds.isEqualNode(jn))){for(var us=0;us<cn.children.length;us++)cn.children[us].isEqualNode(jn)&&(mo=us);for(var us=0;us<ds.children.length;us++)ds.children[us].isEqualNode(vo)&&(Uo=us);cn.isEqualNode(ds)&&mo<Uo&&Uo++,cn.insertBefore(vo,cn.children[mo]),ds.insertBefore(jn,ds.children[Uo])}}(It,Qt),s.helpers.isMobile()&&(gt.classList.remove("fr-hovered-over-file"),Qt.classList.remove("fr-hovered-over-file"))}}function ms(Re){var gt=s.popups.get("filesManager.insert");gt.find(".fr-upload-progress-layer").hasClass("fr-active")||gt.find(".fr-upload-progress-layer").addClass("fr-active"),gt.find(".fr-upload-progress").removeClass("fr-none");var St=F.get(Re),Pt=function(vo){var mo,Uo={weekday:"long",year:"numeric",month:"long",day:"numeric"};try{mo=vo.toLocaleDateString(s.opts.language?s.opts.language:void 0,Uo)}catch{mo=vo.toLocaleDateString(void 0,Uo)}return mo+""}(new Date),Qt=w.get(Re)?"":"fr-unchecked ",Vn=`
        <div id='fr-file-`.concat(Re,"' class='fr-file-list-item fr-file-").concat(Re," ").concat(Qt,`' draggable = "`).concat(!Qt,`" >
        <div class='fr-file-item-left' >

    
            <div class="fr-file-item-insert-checkbox fr-files-checkbox-line">
            `).concat(s.helpers.isMobile()?"<div id='fr-pick-".concat(Re,`}' class='dot'>
            </div>`):"",`
            <div id="checkbox-key-`).concat(Re,'" class="fr-files-checkbox fr-insert-checkbox  fr-checkbox-').concat(Re,`">
            <input name="target" class="fr-insert-attr fr-checkbox-file-`).concat(Re,` fr-file-insert-check" data-cmd="fileInsertCheckbox"
             data-checked="_blank" type="checkbox" id="fr-link-target-`).concat(s.id,`" tabIndex="0" />
            <span>`).concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',`
            </span>
        </div>
                <label id="fr-label-target-`).concat(s.id,`"></label>
            </div>
    
            <div class='fr-file-item-icon fr-file-item-icon-`).concat(Re,`' >
                <img src='https://secure.webtoolhub.com/static/resources/icons/set112/f2afb6f7.png' alt='Image preview' class='fr-thumbnail-padding' height='36px' width='36px' />
            </div>

            <div class='fr-file-item-description' >
                <div class='fr-file-name fr-files-manager-tooltip'>
                   `).concat(function(vo,mo,Uo){return Uo==null&&(Uo="..."),vo.length>mo?vo.substring(0,mo-Uo.length)+Uo:vo}(St.name,20),`
                      <span class="`).concat(20<St.name.length?"tooltiptext":"fr-none",'">').concat(St.name,`
                      </span>
                 </div>
                 <div class='fr-file-details'>
                 <div class='fr-file-date'>`).concat(Pt,`
                 </div>
 
                 <div class='fr-file-size'>
                     `).concat(function(vo){if(vo==0)return"0 Bytes";var mo=Math.floor(Math.log(vo)/Math.log(1024));return" | "+1*(vo/Math.pow(1024,mo)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][mo]}(St.size),`
                 </div>
                 </div>

                  <div class='fr-file-error'>
                    <h5 class='fr-file-error-h5'></h5>
                 </div>
             </div>
    
        </div>

        <div class='fr-file-item-right fr-file-item-right-`).concat(Re,"'>")+Y(Re)+`</div>
    </div>`;gt.find(".fr-upload-progress-layer")[0].innerHTML=Vn+gt.find(".fr-upload-progress-layer")[0].innerHTML,F.forEach(function(vo,mo,Uo){w.get(mo)&&gt.find("input.fr-insert-attr.fr-checkbox-file-".concat(mo))[0].setAttribute("checked",null)}),ie.forEach(function(jn){document.getElementById("fr-file-autoplay-button-"+jn).checked=!0}),fe(Re,St),Rt(),s.opts.toolbarBottom?Ne(!0):s.popups.setPopupDimensions(gt),ro("fr-file-list-item")}function Et(Re){switch(Re){case"application/msword":return s.icon.getFileIcon("docIcon");case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return s.icon.getFileIcon("docxIcon");case"image/gif":return s.icon.getFileIcon("gifIcon");case"image/jpeg":return s.icon.getFileIcon("jpegIcon");case"image/jpeg":return s.icon.getFileIcon("jpgIcon");case"type/text":return s.icon.getFileIcon("logIcon");case"video/quicktime":return s.icon.getFileIcon("movIcon");case"audio/mp3":case"audio/mpeg":return s.icon.getFileIcon("mp3Icon");case"video/mp4":return s.icon.getFileIcon("mp4Icon");case"audio/ogg":return s.icon.getFileIcon("oggIcon");case"video/ogg":return s.icon.getFileIcon("ogvIcon");case"application/pdf":return s.icon.getFileIcon("pdfIcon");case"image/png":return s.icon.getFileIcon("pngIcon");case"text/plain":return s.icon.getFileIcon("txtIcon");case"video/webm":return s.icon.getFileIcon("webmIcon");case"image/webp":return s.icon.getFileIcon("webpIcon");case"video/x-ms-wmv":return s.icon.getFileIcon("wmvIcon");case"application/vnd.ms-excel":return s.icon.getFileIcon("xlsIcon");case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return s.icon.getFileIcon("xlsxIcon");case"application/x-zip-compressed":case"application/zip":return s.icon.getFileIcon("zipIcon");default:return s.icon.getFileIcon("defaultIcon")}}function fe(Re,gt,St){var Pt=s.popups.get("filesManager.insert"),Qt=Pt.find(".fr-file-item-icon-"+Re).get(0);if(Tt(_e(gt))&&_e(gt)!="image/gif"&&_e(gt)!="image/webp"){Qt.children[0].localName!="a"&&(Qt.innerHTML="<a target='_blank' href=''>"+Qt.innerHTML+"</a>"),Pt.find(".fr-file-item-icon-"+Re).get(0).children[0].children[0];var Vn=new FileReader;if(St!=null&&St){var jn=F.get(Re);gt.name=jn.name,F.set(Re,gt)}if(Vn.onloadend=function(){Pt.find(".fr-file-item-icon-"+Re).get(0).children[0].children[0].src=Vn.result;for(var Uo=atob(Vn.result.split(",")[1]),cn=[],ds=0;ds<Uo.length;ds++)cn.push(Uo.charCodeAt(ds));Pt.find(".fr-file-item-icon-"+Re).get(0).children[0].href=window.URL.createObjectURL(new Blob([new Uint8Array(cn)],{type:_e(gt)})),Pt.find(".fr-file-item-icon-"+Re).get(0).classList.add("fr-file-item-thumbnail-hover")},gt)Vn.readAsDataURL(gt);else{var vo=Et(_e(gt));Qt.innerHTML=`<svg height="40px" width="40px" viewBox="0 0 55 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        `.concat(vo.path,`
        </svg>`)}}else{var mo=Et(_e(gt));Qt.innerHTML=`<svg height="40px" width="40px" viewBox="0 0 55 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      `.concat(mo.path,`
      </svg>`)}}function Y(Re){var gt="";if(Xt(_e(F.get(Re)))){var St="fr-files-checkbox",Pt="";on(_e(F.get(Re)))||(St="fr-checkbox-disabled",Pt="disabled"),gt=`
      <div class="fr-files-checkbox-line align-autoplay">
      <div id="checkbox-key-`.concat(Re,'" class="').concat(St," fr-autoplay-checkbox  fr-checkbox-").concat(Re,`">  
                   
      <input type="checkbox" id="fr-file-autoplay-button-`).concat(Re,'" class="fr-file-button-').concat(Re,' fr-file-autoplay-button" data-title="Edit" data-param1="').concat(Re,'" role="button" ').concat(Pt,`/>

      <span>`).concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',` </span>
      </div>      
      <label  class='fr-autoplay-checkbox-label'>Autoplay </label>
      </div>`)}var Qt="application/msword",Vn="application/vnd.openxmlformats-officedocument.wordprocessingml.document",jn="";return!Jt(_e(F.get(Re)))&&on(_e(F.get(Re)))||(O="fr-disabled"),Xt(_e(F.get(Re)))&&(O="fr-disabled"),Bt(_e(F.get(Re)))&&(O="fr-disabled",_e(F.get(Re))!=Qt&&_e(F.get(Re))!=Vn||s.opts.googleOptions&&!s.helpers.isMobile()&&s.opts.googleOptions.API_KEY&&s.opts.googleOptions.CLIENT_ID&&(O=""),_e(F.get(Re))!="text/plain"&&_e(F.get(Re))!=Qt&&_e(F.get(Re))!="application/pdf"&&_e(F.get(Re))!=Vn&&_e(F.get(Re))!="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"&&_e(F.get(Re))!="application/vnd.ms-excel"&&_e(F.get(Re))!="type/text"||(jn="")),_e(F.get(Re))==="video/url"&&(O="fr-disabled"),gt+=`<div class='fr-file-item-action-buttons' >
                <button type="button" id="fr-file-insert-button-`.concat(Re,'" class=" fr-doc-edit-').concat(Re,` fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
                fr-file-button-`).concat(Re," fr-file-insert-button-").concat(Re,' fr-file-insert-button" data-cmd="imageInsertByUpload" data-title="Insert" data-param1="').concat(Re,`" tabIndex="2" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-5 0 28 28" xlmns = "http://w3.org/200/svg"><path d = 'M 9.25 12 L 6.75 12 C 6.335938 12 6 11.664062 6 11.25 L 6 6 L 3.257812 6 C 2.703125 6 2.425781 5.328125 2.820312 4.933594 L 7.570312 0.179688 C 7.804688 -0.0546875 8.191406 -0.0546875 8.425781 0.179688 L 13.179688 4.933594 C 13.574219 5.328125 13.296875 6 12.742188 6 L 10 6 L 10 11.25 C 10 11.664062 9.664062 12 9.25 12 Z M 16 11.75 L 16 15.25 C 16 15.664062 15.664062 16 15.25 16 L 0.75 16 C 0.335938 16 0 15.664062 0 15.25 L 0 11.75 C 0 11.335938 0.335938 11 0.75 11 L 5 11 L 5 11.25 C 5 12.214844 5.785156 13 6.75 13 L 9.25 13 C 10.214844 13 11 12.214844 11 11.25 L 11 11 L 15.25 11 C 15.664062 11 16 11.335938 16 11.75 Z M 12.125 14.5 C 12.125 14.15625 11.84375 13.875 11.5 13.875 C 11.15625 13.875 10.875 14.15625 10.875 14.5 C 10.875 14.84375 11.15625 15.125 11.5 15.125 C 11.84375 15.125 12.125 14.84375 12.125 14.5 Z M 14.125 14.5 C 14.125 14.15625 13.84375 13.875 13.5 13.875 C 13.15625 13.875 12.875 14.15625 12.875 14.5 C 12.875 14.84375 13.15625 15.125 13.5 15.125 C 13.84375 15.125 14.125 14.84375 14.125 14.5 Z M 14.125 14.5 '></path></svg>
                </button>

                <button type="button" id="fr-file-edit-button-`).concat(Re,'" class=" fr-doc-edit-').concat(Re," ").concat(O,` fr-img-icon fr-btn fr-command fr-submit 
                fr-file-action-icons fr-file-edit-button-`).concat(Re," fr-file-button-").concat(Re,' fr-file-edit-button" data-cmd="editImage" data-title="Edit" data-param1="').concat(Re,`" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "0 4 25 25" xlmns = "http://w3.org/200/svg"><path d = 'M17,11.2L12.8,7L5,14.8V19h4.2L17,11.2z M7,16.8v-1.5l5.6-5.6l1.4,1.5l-5.6,5.6H7z M13.5,6.3l0.7-0.7c0.8-0.8,2.1-0.8,2.8,0  c0,0,0,0,0,0L18.4,7c0.8,0.8,0.8,2,0,2.8l-0.7,0.7L13.5,6.3z'></path></svg>
                </button>
                
                <span class="fr-file-view-`).concat(Re,'"><button type="button" id="fr-file-view-button-').concat(Re,'" class=" fr-doc-edit-').concat(Re," ").concat(jn,` fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
                fr-file-view-button-`).concat(Re,' fr-file-view-button" data-cmd="viewImage" data-title="View" data-param1="').concat(Re,`" tabIndex="2" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "15 19 21 21" xlmns = "http://w3.org/200/svg"> <path style="fill:none;stroke-width:0.9077;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 19.086094 16.541466 C 16.185625 16.541466 14.318281 19.447115 14.318281 19.447115 L 14.318281 19.555288 C 14.318281 19.555288 16.176719 22.475962 19.077187 22.475962 C 21.977656 22.475962 23.847969 19.576322 23.847969 19.576322 L 23.847969 19.465144 C 23.847969 19.465144 21.989531 16.541466 19.086094 16.541466 Z M 19.07125 21.024639 C 18.248906 21.024639 17.583906 20.357572 17.583906 19.53726 C 17.583906 18.716947 18.248906 18.04988 19.07125 18.04988 C 19.890625 18.04988 20.555625 18.716947 20.555625 19.53726 C 20.555625 20.357572 19.890625 21.024639 19.07125 21.024639 Z M 19.07125 21.024639 " transform="matrix(1.315789,0,0,1.3,0,0)"/></svg></button></span>

                <button type="button" id="fr-file-delete-button-`).concat(Re,'" class=" fr-doc-edit-').concat(Re,` fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons
                fr-file-button-`).concat(Re,' fr-file-delete-button" data-cmd="deleteImage" data-title="Delete" data-param1="').concat(Re,`" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z'></path></svg>
                </button>
                 
            </div>
            <div id="user_area-`).concat(Re,`" style="display: none;">
            
              <div id="file_container"></div>

              <div style='display:block;text-align: center; margin-left:50%; id='edit-file-loader' class='fr-file-loader'></div>

          </div> 
            `)}function le(Re,gt,St){var Pt=s.popups.get("filesManager.insert");if(!St&&Re<=100){Pt.find(".fr-checkbox-file-"+gt).get(0).disabled=!0,Pt.find(".fr-checkbox-"+gt).get(0).classList.remove("fr-files-checkbox"),Pt.find(".fr-checkbox-"+gt).get(0).classList.add("fr-checkbox-disabled");var Qt=Pt.find(".fr-file-progress-circle-"+gt),Vn=Pt.find(".fr-file-upload-percent-"+gt);return 50<Re?Qt.get(0).setAttribute("class","fr-file-progress-circle-"+gt+" progress-circle p"+Math.floor(Re)+" over50"):Qt.get(0).setAttribute("class","fr-file-progress-circle-"+gt+" progress-circle p"+Math.floor(Re)),Vn.get(0).innerHTML=Math.floor(Re)+"%",void ye(gt,Re,St)}St&&(Pt.find(".fr-checkbox-file-"+gt).get(0).disabled=!1,Pt.find(".fr-checkbox-"+gt).get(0).classList.remove("fr-checkbox-disabled"),Pt.find(".fr-checkbox-"+gt).get(0).classList.add("fr-files-checkbox"),Pt.find(".fr-file-item-right-"+gt).get(0).innerHTML=Y(gt),ye(gt,100,St))}function ye(Re,gt,St){var Pt=s.popups.get("filesManager.insert");Pt.find(".fr-progress-bar").removeClass("fr-none").addClass("fr-display-block"),Pt.find(".fr-upload-progress").hasClass("fr-height-set")&&s.popups.setFileListHeight(Pt);var Qt=0;ee.set(Re,gt),ee.forEach(function(Vn,jn){Qt+=Vn}),Qt/=ee.size,gt==100&&St&&be++,Pt.find('.fr-command[data-cmd="filesUpload"]').addClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesByURL"]').addClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesEmbed"]').addClass("fr-disabled"),Pt.find(".fr-progress-bar").get(0).style.width=Qt+"%",be==ee.size&&(Pt.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"),ee=new Map,be=0,Pt.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"))}function Ce(Re,gt){Rt(),s.popups.get("filesManager.insert").find(".fr-upload-progress-layer").addClass("fr-active"),Re.forEach(function(St,Pt){Tt(_e(St))&&s.opts.imageUploadRemoteUrls&&s.opts.imageCORSProxy&&s.opts.imageUpload?kt(St,Re,b,gt[Pt]):j.set(gt[Pt],St)})}function Ue(Re){Re&&Re.get&&(function(St){if(L(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false"||St&&St.type=="touchend"&&Hn)return!0;if(St&&s.edit.isDisabled())return St.stopPropagation(),St.preventDefault(),!1;for(var Pt=0;Pt<x.INSTANCES.length;Pt++)x.INSTANCES[Pt]!=s&&x.INSTANCES[Pt].events.trigger("image.hideResizer");s.toolbar.disable(),St&&(St.stopPropagation(),St.preventDefault()),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur()),s.opts.iframe&&s.size.syncIframe(),b=L(this),nt(),s.browser.msie?(s.popups.areVisible()&&s.events.disableBlur(),s.win.getSelection&&(s.win.getSelection().removeAllRanges(),s.win.getSelection().addRange(s.doc.createRange()))):s.selection.clear(),s.helpers.isIOS()&&(s.events.disableBlur(),s.$el.blur()),s.button.bulkRefresh(),s.events.trigger("video.hideResizer")}).call(Re.get(0))}function Be(){var Re=L(this);Re.removeClass("fr-uploading"),Re.next().is("br")&&Re.next().remove(),(se.length==0||0<se.length&&se.length==re)&&(T=Re),Re.get(0).tagName=="VIDEO"||Re.get(0).tagName=="AUDIO"?s.selection.setAfter(Re.parent()):s.selection.setAfter(Re),s.undo.saveStep(),s.events.trigger("filesManager.loaded",[Re]),pe(se)}function te(){var Re,gt=Array.prototype.slice.call(s.el.querySelectorAll("video, .fr-video > *")),St=[];for(Re=0;Re<gt.length;Re++)St.push(gt[Re].getAttribute("src")),L(gt[Re]).toggleClass("fr-draggable",s.opts.videoMove),gt[Re].getAttribute("class")===""&&gt[Re].removeAttribute("class"),gt[Re].getAttribute("style")===""&&gt[Re].removeAttribute("style");if(kn)for(Re=0;Re<kn.length;Re++)St.indexOf(kn[Re].getAttribute("src"))<0&&s.events.trigger("video.removed",[L(kn[Re])]);kn=gt}function pe(Re){if(Re!=null){if(Re.length==0)return void(T!=null&&(T.get(0).tagName=="VIDEO"?s.video._editVideo(T.parent()):T.get(0).tagName=="IMG"?s.image.edit(T):T.trigger("click"),s.toolbar.disable()));je(Re.shift(),Re)}}function me(Re){var gt=!1;if(Xt(_e(j.get(Re))))s.trimVideoPlugin.trimVideo(F.get(Re),Re,F),gt=!0;else if(Tt(_e(j.get(Re)))){var St=j.get(Re).link,Pt=s.o_doc.createElement("img");Pt.src=St,b=Pt,$=Re,s.imageTUI.launch(s,!1,Re),gt=!0}else if(Bt(_e(j.get(Re)))){var Qt={apiKey:s.opts.googleOptions.API_KEY,clientId:s.opts.googleOptions.CLIENT_ID,authorizeButton:"authorize_button-".concat(Re),signoutButton:"signout_button",userArea:"user_area-".concat(Re),fileInput:"file_input",fileIndex:Re,file:F.get(Re),fileContainer:"file_container",loadingText:"File is being uploaded...",events:{onInvalidFile:function(Vn){},onError:function(Vn){}}};vn=function(jn){var vo,mo=["https://www.googleapis.com/discovery/v1/apis/drive/v2/rest"],Uo="id,title,mimeType,userPermission,editable,copyable,shared,fileSize",cn="-------314159265358979323846",ds=`\r
--`+cn+`\r
`,us=`\r
--`+cn+"--",Ve=(document.getElementById(jn.authorizeButton),document.getElementById(jn.userArea));jn.events||(jn.events={});function bt(){gapi.client.init({apiKey:jn.apiKey,clientId:jn.clientId,discoveryDocs:mo,scope:"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(Ht),Ht(gapi.auth2.getAuthInstance().isSignedIn.get()),function(ke){!gapi.auth2.getAuthInstance().isSignedIn.get()||gapi.auth.getToken()!==void 0&&gapi.auth.getToken().access_token===void 0?Promise.resolve(gapi.auth2.getAuthInstance().signIn()).then(function(){An()}):An()}()},function(To){jn.events.onError(To)})}function Ht(To){To&&(Ve.style.display="block")}function ln(To){var ke=gapi.auth.getToken().access_token,Ge=vo,yt="https://docs.google.com/feeds/download/documents/export/Export?id="+Ge+"&format=docx&access_token="+ke,Kt=new XMLHttpRequest;Kt.open("get",yt),Kt.responseType="arraybuffer",Kt.onload=function(){var Cn=new Blob([new Uint8Array(this.response)],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),jo=F.get(jn.fileIndex);Cn.name=jo.name,Cn.lastModified=jo.lastModified,Cn.lastModifiedDate=jo.lastModifiedDate,F.set(jn.fileIndex,Cn),s.filesManager.upload(Cn,j,b,jn.fileIndex),Yo()},Kt.send()}function An(To){(function(yt){for(var Kt=document.getElementsByClassName("fr-doc-edit-".concat(yt)),Cn=0;Cn<Kt.length;Cn++)Kt[Cn].setAttribute("disabled",!0),Kt[Cn].classList.add("fr-disabled")})(jn.fileIndex);var ke=jn.file;ke?function(yt,Kt){var Cn=new FileReader;Cn.readAsArrayBuffer(yt),Cn.onload=function(jo){for(var gs={title:yt.name,mimeType:"application/vnd.google-apps.document"},ir="",Or=new Uint8Array(Cn.result),Gr=Or.byteLength,Rs=0;Rs<Gr;Rs++)ir+=String.fromCharCode(Or[Rs]);var Sa=btoa(ir),Hi=ds+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(gs)+ds+`Content-Type: application/octet-stream\r
Content-Transfer-Encoding: base64\r
\r
`+Sa+us,ta=gapi.client.request({path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart",fields:Uo},headers:{"Content-Type":'multipart/related; boundary="'+cn+'"',"Content-Length":Hi.Length},body:Hi});Kt||(Kt=function(Ta){}),ta.execute(function(Ta,xi){Ta.error?jn.events.onError(Ta.error):Kt(Ta)})}}(ke,Wn):jn.events.onInvalidFile("File is not selected")}function Wn(To){vo=To.id;var ke="https://docs.google.com/document/d/"+To.id+"/edit",Ge=s.o_doc.body,yt=s.o_doc.createElement("div");yt.setAttribute("id","editDocContainer"),yt.style.cssText="position: fixed; top: 0;left: 0;padding: 0;width: 100%;height: 100%;background: rgba(255,255,255,1);z-index: 9998;display:block",yt.innerHTML='<div style="margin-top:25px; text-align:center"><label>Sign Out : </label><input type="checkbox" id ="markSignOut" role="button"/>  <button id="signout_button"  class="fr-trim-button" >Save </button> <button id="cancel_file_edit" class="fr-trim-button">Cancel</button></div>  <iframe title="Edit your file" frameBorder="0" width="100%" height="700px" src="'+ke+'"></iframe>',Ge.appendChild(yt),document.getElementById("signout_button").onclick=ln,document.getElementById("cancel_file_edit").onclick=Yo}function Yo(){document.getElementById("markSignOut").checked&&gapi.auth2.getAuthInstance().signOut().then(function(){gapi.auth.getToken()&&(gapi.auth.getToken().access_token=void 0)});var To=document.getElementById("editDocContainer");To.parentNode.removeChild(To),document.getElementById("user_area-".concat(jn.fileIndex))&&(document.getElementById("user_area-".concat(jn.fileIndex)).style.display="none"),function(Ge){for(var yt=document.getElementsByClassName("fr-doc-edit-".concat(Ge)),Kt=0;Kt<yt.length;Kt++)yt[Kt].removeAttribute("disabled"),yt[Kt].classList.remove("fr-disabled")}(jn.fileIndex)}jn.events.onInvalidFile=jn.events.onInvalidFile||function(To){},jn.events.onError=jn.events.onError||function(To){};var Oo={};return Oo.handleClientLoad=function(){gapi.load("client:auth2",bt)},Oo}(Qt),function(jn,vo){var mo=function(cn,ds){var us=document.createElement("script");us.src=cn,us.onload=function(){this.onload=function(){},vn.handleClientLoad()},us.onreadystatechange=function(){this.readyState==="complete"&&this.onload()},(document.getElementsByTagName("head")[0]||document.body).appendChild(us)};(function(){jn.length!=0?mo(jn.shift()):vo&&vo()})()}(["https://apis.google.com/js/api.js"],function(){})}gt&&(G=!0)}function _e(Re){var gt;if(Re.type!="")return Re.type;if(Re.name&&Re.name.endsWith(".msg"))return gt="application/vnd.ms-outlook";var St=/(?:\.([^.]+))?$/.exec(Re.name)[1];return[[".doc","application/msword"],[".docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[".gif","image/gif"],[".jpeg","image/jpeg"],[".jpg","image/jpeg"],[".txt","text/plain"],[".log","type/text"],[".mov","video/quicktime"],[".mp3","audio/mpeg"],[".mp4","video/mp4"],[".ogg","audio/ogg"],[".ogv","video/ogg"],[".pdf","application/pdf"],[".png","image/png"],[".webm","video/webm"],[".webp","image/webp"],[".wmv","video/x-ms-wmv"],[".xls","application/vnd.ms-excel"],[".xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[".zip","application/x-zip-compressed"],[".hex","application/octet-stream"]].forEach(function(Pt,Qt){Pt[0]==".".concat(St)&&(gt=Pt[1])}),gt}function je(Re,gt){if(Bt(_e(j.get(Re)))||!on(_e(j.get(Re)))){var St,Pt=j.get(Re).link,Qt=j.get(Re).text,Vn=j.get(Re).data;!Qt&&F.get(Re)&&F.get(Re).name&&(Qt=F.get(Re).name);var jn=j.get(Re).response;s.edit.on(),s.events.focus(!0),s.selection.restore(),s.opts.fileUseSelectedText&&s.selection.text().length&&(Qt=s.selection.text());var vo='<a href="'.concat(Pt,'" target="_blank" id="fr-inserted-file" ');if(Vn!==void 0)for(St in Vn)Vn.hasOwnProperty(St)&&St!="link"&&(vo+="".concat(St,'="').concat(Vn[St],'" '));vo.indexOf(' class="')==-1&&(vo+='class="fr-file" '),vo+=">".concat(Qt,"</a>"),s.html.insert(vo);var mo=s.$el.find("#fr-inserted-file");mo.removeAttr("id"),s.undo.saveStep(),function(){var Cn,jo=Array.prototype.slice.call(s.el.querySelectorAll("a.fr-file")),gs=[];for(Cn=0;Cn<jo.length;Cn++)gs.push(jo[Cn].getAttribute("href"));if(Mn)for(Cn=0;Cn<Mn.length;Cn++)gs.indexOf(Mn[Cn].getAttribute("href"))<0&&s.events.trigger("file.unlink",[Mn[Cn]]);Mn=jo}(),s.selection.clear(),s.selection.setAfter(mo),s.events.trigger("file.inserted",[mo,jn]),pe(gt)}if(Tt(_e(j.get(Re)))&&on(_e(j.get(Re)))){var Uo=j.get(Re).link,cn=j.get(Re).sanitize,ds=j.get(Re).data,us=j.get(Re).$existing_img,Ve=j.get(Re).response;us&&typeof us=="string"&&(us=s.$(us)),s.edit.off(),zt(s.language.translate("Loading image")),cn&&(Uo=s.helpers.sanitizeURL(Uo));var bt=new Image;bt.onload=function(){var Kt,Cn;if(us){s.undo.canDo()||us.hasClass("fr-uploading")||s.undo.saveStep();var jo=us.data("fr-old-src");us.data("fr-image-pasted")&&(jo=null),s.$wp?((Kt=us.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),jo&&us.attr("src",jo),us.replaceWith(Kt)):Kt=us;for(var gs=Kt.get(0).attributes,ir=0;ir<gs.length;ir++){var Or=gs[ir];Or.nodeName.indexOf("data-")===0&&Kt.removeAttr(Or.nodeName)}if(ds!==void 0)for(Cn in ds)ds.hasOwnProperty(Cn)&&Cn!="link"&&Kt.attr("data-".concat(Cn),ds[Cn]);Kt.on("load",Be),Kt.attr("src",Uo),s.edit.on(),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger(jo?"image.replaced":"image.inserted",[Kt,Ve])}else Kt=function(Rs,Sa,Hi){var ta,Ta=L(document.createElement("img")).attr("src",Rs);if(Sa&&Sa!==void 0)for(ta in Sa)Sa.hasOwnProperty(ta)&&ta!="link"&&(" data-".concat(ta,'="').concat(Sa[ta],'"'),Ta.attr("data-".concat(ta),Sa[ta]));var xi=s.opts.imageDefaultWidth;xi&&xi!="auto"&&(xi=s.opts.imageResizeWithPercent?"100%":"".concat(xi,"px")),Ta.attr("style",xi?"width: ".concat(xi,";"):""),Ur(Ta,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),Ta.on("load",Hi),Ta.on("error",Hi),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.imageSplitHTML?s.markers.split():s.markers.insert(),s.html.wrap();var la=s.$el.find(".fr-marker");return la.length?(la.parent().is("hr")&&la.parent().after(la),s.node.isLastSibling(la)&&la.parent().hasClass("fr-deletable")&&la.insertAfter(la.parent()),la.replaceWith(Ta)):s.$el.append(Ta),Ta}(Uo,ds,Be),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger("image.inserted",[Kt,Ve])},bt.onerror=function(){Fe(K,null,null,Re),pe(gt)},bt.src=Uo}if((Xt(_e(j.get(Re)))||Jt(_e(j.get(Re))))&&on(_e(j.get(Re))))if(ge=Re,_e(j.get(Re))=="video/url"){var Ht=!1;if(document.getElementById("fr-file-autoplay-button-"+Re)!==void 0&&(Ht=document.getElementById("fr-file-autoplay-button-"+Re).checked),Ht&&j.get(Re)!==void 0&&-1<j.get(Re).video.indexOf("iframe")&&j.get(Re).video.indexOf("autoplay=1")<0){var ln=j.get(Re).video.substring(j.get(Re).video.indexOf("src")+3),An="&";(ln=(ln=ln.substring(ln.indexOf('"')+1)).substring(0,ln.indexOf('"'))).indexOf("?")<0&&(An="?"),j.get(Re).video=j.get(Re).video.replace(ln,ln+=An+"autoplay=1&mute=1")}else!Ht&&j.get(Re).video.indexOf(!1)&&(-1<j.get(Re).video.indexOf("&autoplay=1")&&(j.get(Re).video=j.get(Re).video.replace("&autoplay=1","")),-1<j.get(Re).video.indexOf("?autoplay=1")&&(j.get(Re).video=j.get(Re).video.replace("?autoplay=1","")));s.events.focus(!0),s.selection.restore(),s.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(j.get(Re).video,"</span>"),!1,s.opts.videoSplitHTML),s.popups.hide("filesManager.insert");var Wn=s.$el.find(".fr-jiv");Wn.removeClass("fr-jiv"),Wn.toggleClass("fr-rv",s.opts.videoResponsive),function(Cn,jo,gs){!s.opts.htmlUntouched&&s.opts.useClasses?(Cn.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),Cn.addClass("fr-fv".concat(gs[0]," fr-dv").concat(jo[0]))):jo=="inline"?(Cn.css({display:"inline-block"}),gs=="center"?Cn.css({float:"none"}):gs=="left"?Cn.css({float:"left"}):Cn.css({float:"right"})):(Cn.css({display:"block",clear:"both"}),gs=="left"?Cn.css({textAlign:"left"}):gs=="right"?Cn.css({textAlign:"right"}):Cn.css({textAlign:"center"}))}(Wn,s.opts.videoDefaultDisplay,s.opts.videoDefaultAlign),Wn.toggleClass("fr-draggable",s.opts.videoMove),s.events.trigger("video.inserted",[Wn]),Be.call(Wn)}else{var Yo=j.get(Re).link,Oo=j.get(Re).sanitize,To=j.get(Re).data,ke=j.get(Re).$existing_img,Ge=j.get(Re).response;s.edit.off(),Oo&&(Yo=s.helpers.sanitizeURL(Yo)),function(){var Cn,jo;if(ke){s.undo.canDo()||ke.find("video").hasClass("fr-uploading")||s.undo.saveStep();var gs=ke.find("video").data("fr-old-src"),ir=ke.data("fr-replaced");ke.data("fr-replaced",!1),s.$wp?((Cn=ke.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),Cn.find("video").off("canplay"),gs&&ke.find("video").attr("src",gs),ke.replaceWith(Cn)):Cn=ke;for(var Or=Cn.find("video").get(0).attributes,Gr=0;Gr<Or.length;Gr++){var Rs=Or[Gr];Rs.nodeName.indexOf("data-")===0&&Cn.find("video").removeAttr(Rs.nodeName)}if(To!==void 0)for(jo in To)To.hasOwnProperty(jo)&&jo!="link"&&Cn.find("video").attr("data-".concat(jo),To[jo]);Cn.find("video").on("canplay",Be),Cn.find("video").attr("src",Yo),s.edit.on(),te(),s.undo.saveStep(),s.$el.blur(),s.events.trigger(ir?"video.replaced":"video.inserted",[Cn,Ge])}else Cn=function(Hi,ta,Ta,xi,la){var Qi,zi="";if(ta&&ta!==void 0)for(Qi in ta)ta.hasOwnProperty(Qi)&&Qi!="link"&&(zi+=" data-".concat(Qi,'="').concat(ta[Qi],'"'));var ml,eu=s.opts.videoDefaultWidth;if(eu&&eu!="auto"&&(eu="".concat(eu,"px")),Jt(xi))ml=L(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<audio src="'+Hi+'" '+zi+" controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</audio>");else{var l1="",Rg=document.getElementById("fr-file-autoplay-button-"+la).checked;Rg&&(l1="autoplay"),ml=L(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<video src="'+Hi+'" '+zi+(eu?' style="width: '+eu+';" ':"")+l1+"  controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</video>")}ml.toggleClass("fr-draggable",s.opts.videoMove),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.videoSplitHTML?s.markers.split():s.markers.insert(),s.html.wrap();var md=s.$el.find(".fr-marker");s.node.isLastSibling(md)&&md.parent().hasClass("fr-deletable")&&md.insertAfter(md.parent()),md.replaceWith(ml);var Ui="";return Ui=Jt(xi)?"audio":"video",ml.find(Ui).get(0).readyState>ml.find(Ui).get(0).HAVE_FUTURE_DATA||s.helpers.isIOS()?Ta.call(ml.find(Ui).get(0)):(ml.find(Ui).on("canplaythrough load",Ta),ml.find(Ui).on("error",Ta)),ml}(Yo,To,Be,_e(j.get(Re)),Re),te(),s.undo.saveStep(),s.events.trigger("video.inserted",[Cn,Ge])}()}s.popups.hide("filesManager.insert"),w.delete(Re);var yt=s.popups.get("filesManager.insert");yt.find("input.fr-insert-attr.fr-checkbox-file-".concat(Re))[0].checked=!1,yt.find(".fr-file-"+Re).get(0).classList.add("fr-unchecked"),Ye(),document.getElementById("fr-file-autoplay-button-"+Re)&&(document.getElementById("fr-file-autoplay-button-"+Re).checked=!1),ie=ie.filter(function(Kt){return Kt!=Re})}function pt(Re,gt){try{if(s.events.trigger("filesManager.uploaded",[Re],!0)===!1)return s.edit.on(),!1;var St=JSON.parse(Re);return St.link?St:(Fe(R,Re,null,gt),!1)}catch{return Fe(J,Re,null,gt),!1}}function mt(Re,gt){try{var St=L(Re).find("Location").text(),Pt=L(Re).find("Key").text();return s.events.trigger("filesManager.uploadedToS3",[St,Pt,Re],!0)===!1?(s.edit.on(),!1):St}catch{return Fe(J,Re,null,gt),!1}}function kt(Re,gt,St,Pt){if(-1<Le.indexOf(_e(Re))||!_e(Re))return Fe(q,null,null,Pt),!1;if(s.events.trigger("filesManager.beforeUpload",[gt])===!1)return!1;if(!(s.opts.filesManagerUploadURL!==null&&s.opts.filesManagerUploadURL!=B||s.opts.filesManagerUploadToS3||s.opts.filesManagerUploadToAzure))return function(Oo,To,ke){var Ge=new FileReader;Ge.onload=function(){var yt=Ge.result;if(Ge.result.indexOf("svg+xml")<0){for(var Kt=atob(Ge.result.split(",")[1]),Cn=[],jo=0;jo<Kt.length;jo++)Cn.push(Kt.charCodeAt(jo));if(yt=window.URL.createObjectURL(new Blob([new Uint8Array(Cn)],{type:_e(To)})),Tt(_e(To))){var gs={link:yt,sanitize:!1,data:null,$existing_img:ke,response:null,type:_e(To)};j.set(Oo,gs)}if(Bt(_e(To))){var ir={link:yt,text:To.name,response:null,type:_e(To)};j.set(Oo,ir)}if(Xt(_e(To))||Jt(_e(To))){var Or={link:yt,sanitize:!1,data:null,$existing_img:ke,type:_e(To)};j.set(Oo,Or)}}},Ge.readAsDataURL(To)}(Pt,Re),!1;if(Tt(_e(Re))&&(Re.name||(Re.name=new Date().getTime()+"."+(_e(Re)||"image/jpeg").replace(/image\//g,""))),Re.size>s.opts.filesManagerMaxSize)return Fe(V,null,null,Pt),!1;if(s.opts.filesManagerAllowedTypes.indexOf("*")<0&&s.opts.filesManagerAllowedTypes.indexOf(_e(Re))<0)return Fe(q,null,null,Pt),!1;var Qt;if(function(Oo){isNaN(Oo)||(s.popups.get("filesManager.insert").find(".fr-file-item-right-"+Oo).get(0).innerHTML=`<div class='fr-file-item-action-buttons' >
    <button type="button" id="fr-file-cancel-upload-button-`.concat(Oo,`" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
    fr-file-button-`).concat(Oo,' fr-file-cancel-upload-button" data-cmd="cancelUpload" data-title="Cancel" data-param1="').concat(Oo,`" role="button">
    <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z'></path></svg>
    </button>

    <button type="button" id="fr-upload-delete-button-`).concat(Oo,`" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
    fr-file-button-`).concat(Oo,' fr-upload-delete-button" data-cmd="deleteUpload" data-title="Delete" data-param1="').concat(Oo,`" role="button">
    <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z'></path></svg>
    </button>

    <div class='progress-circle p0 fr-file-progress-circle-`).concat(Oo,`'>
                  <span class='fr-file-upload-percent-`).concat(Oo,` fr-file-upload-percent'>0%</span>
                  <div class='left-half-clipper'>
                    <div class='first50-bar'></div>
                    <div class='value-bar'></div>
                  </div>
                </div>
            </div>`),ee.set(Oo,0))}(Pt),s.drag_support.formdata&&(Qt=s.drag_support.formdata?new FormData:null),Qt){var Vn;if(s.opts.filesManagerUploadToS3!==!1)for(Vn in Qt.append("key",s.opts.filesManagerUploadToS3.keyStart+new Date().getTime()+"-"+(Re.name||"untitled")),Qt.append("success_action_status","201"),Qt.append("X-Requested-With","xhr"),Qt.append("Content-Type",_e(Re)),s.opts.filesManagerUploadToS3.params)s.opts.filesManagerUploadToS3.params.hasOwnProperty(Vn)&&Qt.append(Vn,s.opts.filesManagerUploadToS3.params[Vn]);for(Vn in s.opts.filesManagerUploadParams)s.opts.filesManagerUploadParams.hasOwnProperty(Vn)&&Qt.append(Vn,s.opts.filesManagerUploadParams[Vn]);Qt.append(s.opts.filesManagerUploadParam,Re,Re.name);var jn,vo,mo=s.opts.filesManagerUploadURL;s.opts.filesManagerUploadToS3&&(mo=s.opts.filesManagerUploadToS3.uploadURL?s.opts.filesManagerUploadToS3.uploadURL:"https://".concat(s.opts.filesManagerUploadToS3.region,".amazonaws.com/").concat(s.opts.filesManagerUploadToS3.bucket)),s.opts.filesManagerUploadToAzure&&(mo=s.opts.filesManagerUploadToAzure.uploadURL?"".concat(s.opts.filesManagerUploadToAzure.uploadURL,"/").concat(Re.name):encodeURI("https://".concat(s.opts.filesManagerUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.filesManagerUploadToAzure.container,"/").concat(Re.name)),jn=mo,s.opts.filesManagerUploadToAzure.SASToken&&(mo+=s.opts.filesManagerUploadToAzure.SASToken),s.opts.filesManagerUploadMethod="PUT");var Uo=s.core.getXHR(mo,s.opts.filesManagerUploadMethod);if(s.opts.filesManagerUploadToAzure){var cn=new Date().toUTCString();if(!s.opts.filesManagerUploadToAzure.SASToken&&s.opts.filesManagerUploadToAzure.accessKey){var ds=s.opts.filesManagerUploadToAzure.account,us=s.opts.filesManagerUploadToAzure.container;if(s.opts.filesManagerUploadToAzure.uploadURL){var Ve=s.opts.filesManagerUploadToAzure.uploadURL.split("/");us=Ve.pop(),ds=Ve.pop().split(".")[0]}var bt=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(cn,`
x-ms-version:2019-07-07`),Ht=encodeURI("/"+ds+"/"+us+"/"+Re.name),ln=s.opts.filesManagerUploadMethod+`


`+Re.size+`

`+_e(Re)+`






`+bt+`
`+Ht,An=s.cryptoJSPlugin.cryptoJS.HmacSHA256(ln,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.filesManagerUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),Wn="SharedKey "+ds+":"+An;vo=An,Uo.setRequestHeader("Authorization",Wn)}for(Vn in Uo.setRequestHeader("x-ms-version","2019-07-07"),Uo.setRequestHeader("x-ms-date",cn),Uo.setRequestHeader("Content-Type",_e(Re)),Uo.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.filesManagerUploadParams)s.opts.filesManagerUploadParams.hasOwnProperty(Vn)&&Uo.setRequestHeader(Vn,s.opts.filesManagerUploadParams[Vn]);for(Vn in s.opts.filesManagerUploadToAzure.params)s.opts.filesManagerUploadToAzure.params.hasOwnProperty(Vn)&&Uo.setRequestHeader(Vn,s.opts.filesManagerUploadToAzure.params[Vn])}Uo.onload=function(){Bt(_e(Re))?(function(Oo,To,ke,Ge,yt){var Kt=this.status,Cn=this.response,jo=this.responseXML,gs=this.responseText;try{if(s.opts.filesManagerUploadToS3||s.opts.filesManagerUploadToAzure)if(Kt===201){var ir;if(s.opts.filesManagerUploadToAzure){if(s.events.trigger("filesManager.uploadedToAzure",[this.responseURL,yt,Cn],!0)===!1)return s.edit.on(),!1;ir=Ge}else ir=mt(jo,To);if(ir){var Or={link:ir,text:Oo,response:Cn,type:ke};j.set(To,Or)}}else Fe(J,Cn||jo,null,To);else if(200<=Kt&&Kt<300){var Gr=pt(gs,To);if(Gr){var Rs={link:Gr.link,text:Oo,response:Cn,type:ke,data:Gr};j.set(To,Rs)}}else Fe(A,Cn||gs,null,To)}catch{Fe(J,Cn||gs,null,To)}}).call(Uo,Re.name,Pt,_e(Re),jn,vo):(function(Oo,To,ke,Ge,yt){var Kt=this.status,Cn=this.response,jo=this.responseXML,gs=this.responseText;try{if(s.opts.filesManagerUploadToS3||s.opts.filesManagerUploadToAzure)if(Kt==201){var ir;if(s.opts.filesManagerUploadToAzure){if(s.events.trigger("filesManager.uploadedToAzure",[this.responseURL,yt,Cn],!0)===!1)return s.edit.on(),!1;ir=Ge}else ir=mt(jo,To);if(ir){var Or={link:ir,sanitize:!1,data:[],$existing_img:Oo,response:Cn||jo,type:ke};j.set(To,Or)}}else Fe(J,Cn||jo,Oo,To);else if(200<=Kt&&Kt<300){var Gr=pt(gs,To);if(Gr){var Rs={link:Gr.link,sanitize:!1,data:Gr,$existing_img:Oo,response:Cn||jo,type:ke};j.set(To,Rs)}}else Fe(A,Cn||gs,Oo,To)}catch{Fe(J,Cn||gs,Oo,To)}}).call(Uo,b,Pt,_e(Re),jn,vo),he.has(Pt)||le(100,Pt,!0)},Uo.onerror=function(){Fe(J,this.response||this.responseText||this.responseXML,null,Pt)},Uo.upload.onprogress=function(Yo){(function(To,ke){To.lengthComputable&&le(To.loaded/To.total*100|0,ke,!1)})(Yo,Pt)},Uo.onabort=function(Yo){(function(To,ke){Fe(ae,ke,b,To)})(Pt,Yo)},Uo.send(s.opts.filesManagerUploadToAzure?Re:Qt),H.set(Pt,Uo)}}function Ut(Re){s.events.$on(Re,"click",".fr-upload-progress-layer",function(gt){if(s.helpers.isMobile())return gt.stopPropagation(),!1},!0),s.events.$on(Re,"dragover dragenter",".fr-upload-progress-layer",function(gt){gt.preventDefault();for(var St=0;St<gt.originalEvent.dataTransfer.types.length;St++)gt.originalEvent.dataTransfer.types[St]=="Files"&&(gt.originalEvent.dataTransfer.dropEffect="none");return!1},!0),s.events.$on(Re,"dragleave dragend",".fr-upload-progress-layer",function(gt){return gt.preventDefault(),!1},!0),s.events.$on(Re,"dragover dragenter",".fr-files-upload-layer",function(gt){return L(this).addClass("fr-drop"),(s.browser.msie||s.browser.edge)&&gt.preventDefault(),!1},!0),s.events.$on(Re,"dragleave dragend",".fr-files-upload-layer",function(gt){return L(this).removeClass("fr-drop"),(s.browser.msie||s.browser.edge)&&gt.preventDefault(),!1},!0),s.events.$on(Re,"click",".fr-insert-checkbox",function(gt){if(this.classList.contains("fr-checkbox-disabled"))return this.children.target.disabled=!0,void(this.children.target.checked=!1);var St=parseInt(this.id.split("-").pop());w.set(St,this.children.target.checked);for(var Pt=Re.find('.fr-command[data-cmd="insertAll"]'),Qt=Re.find('.fr-command[data-cmd="deleteAll"]'),Vn=Re.find('input.fr-file-insert-check[type="checkbox"]'),jn=Vn.length,vo=!0,mo=0;mo<jn;mo++)Vn[mo].checked==1&&(vo=!1);vo?Pt.addClass("fr-disabled"):Pt.removeClass("fr-disabled"),vo?Qt.addClass("fr-disabled"):Qt.removeClass("fr-disabled"),this.children.target.checked?(Re.find(".fr-file-"+this.id.split("-").pop()).get(0).setAttribute("draggable","true"),Re.find(".fr-file-"+this.id.split("-").pop()).get(0).classList.remove("fr-unchecked")):(this.id.split("-").pop(),Re.find(".fr-file-"+this.id.split("-").pop()).get(0).setAttribute("draggable","false"),Re.find(".fr-file-"+this.id.split("-").pop()).get(0).classList.add("fr-unchecked"))}),s.events.$on(Re,"click",".fr-file-insert-button",function(gt){this.classList.contains("fr-disabled")||je(parseInt(this.id.split("-").pop()))}),s.events.$on(Re,"click",".fr-file-autoplay-button",function(gt){if(this.parentNode.classList.contains("fr-checkbox-disabled"))return this.disabled=!0,void(this.checked=!1);At(parseInt(this.id.split("-").pop()))}),s.events.$on(Re,"click",".fr-file-edit-button",function(gt){var St=parseInt(this.id.split("-").pop());Re.find(".fr-file-edit-button-".concat(St)).hasClass("fr-disabled")||me(St)}),s.events.$on(Re,"click",".fr-file-view-button",function(gt){var St=parseInt(this.id.split("-").pop());Re.find(".fr-file-view-button-".concat(St)).hasClass("fr-disabled")||function(Qt){if(!on(_e(j.get(Qt)))){var Vn=j.get(Qt).link,jn=j.get(Qt).link;if(F.get(Qt)&&F.get(Qt).name?jn=F.get(Qt).name:j.get(Qt).text&&(jn=j.get(Qt).text),Vn.indexOf("blob:")===0&&s.browser.msie&&window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(F.get(Qt),jn);else{var vo=document.createElement("a");vo.href=Vn,vo.download=jn,vo.click()}return!1}var mo=s.popups.get("filesManager.insert");if(0<mo.find(".fr-file-view-image-"+Qt).length)mo.find(".fr-file-view-image-"+Qt)[0].remove();else{for(var Uo=mo.find(".fr-file-view"),cn=0;cn<Uo.length;cn++)Uo.get(cn).remove();var ds=mo.find(".fr-file-view-"+Qt);if(Tt(_e(j.get(Qt)))){var us=`<div class="fr-file-view-modal">
              <div class="fr-file-view-modal-content">
              <div class="fr-file-view-close">&times;</div> 
                <img src="`+j.get(Qt).link+`" class ='fr-file-view-image'/>
                </div>
              </div>`;ds[0].innerHTML=us+ds[0].innerHTML}else if(Xt(_e(j.get(Qt)))){var Ve;if(j.get(Qt).hasOwnProperty("video")){var bt=j.get(Qt).video.substring(j.get(Qt).video.indexOf("src")+3),Ht=bt.substring(bt.indexOf('"')+1);Ht=Ht.substring(0,Ht.indexOf('"')),Ve=`<div class="fr-file-view-modal">
        <div class="fr-file-view-modal-content ">
          <div class="fr-file-view-close">&times;</div> 
          <iframe width="640" height="360" src="`.concat(Ht+"&autoplay=1&mute=1",`" allow="autoplay" frameborder="0" class = "fr-file-view-image"></iframe>
        </div>
      </div>`)}else Ve=`<div class="fr-file-view-modal">
          <div class="fr-file-view-modal-content ">
            <div class="fr-file-view-close">&times;</div> 
            <video controls src="`+j.get(Qt).link+`"  class ='fr-file-view-image' autoplay></video>
          </div>
        </div>`;ds[0].innerHTML=Ve+ds[0].innerHTML}else if(Jt(_e(j.get(Qt)))){var ln=`<div class="fr-file-view-modal">
        <div class="fr-file-view-modal-content ">
          <div  class="fr-file-view-close">&times;</div> 
          <audio controls="controls"  class ='fr-file-view-image' autoplay>

          <source src="`.concat(j.get(Qt).link,'" type="').concat(_e(j.get(Qt)),`" />

            Your browser does not support the audio element.
          </audio>
        </div>
      </div>`);ds[0].innerHTML=ln+ds[0].innerHTML}else if(Bt(_e(j.get(Qt)))){var An=j.get(Qt).link,Wn=j.get(Qt).text;if(An.endsWith(".pdf")||An.endsWith(".txt")){var Yo=`<div class="fr-file-view-modal">	
              <div class="fr-file-view-modal-content " >	
              <div class="fr-file-view-close">&times;</div> 	
              <iframe src="`.concat(An,`" style='background-color: white;' height='50%' width='50%' title="`).concat(Wn,`" class="fr-file fr-file-view-image"></iframe>	
            </div>	
            </div>`);ds[0].innerHTML=Yo+ds[0].innerHTML}else if(An.indexOf("blob:")===0&&s.browser.msie&&window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(F.get(Qt),Wn);else{var Oo=document.createElement("a");Oo.href=An,Oo.download=Wn,Oo.click()}}}}(St)}),s.events.$on(Re,"click",".fr-file-delete-button",function(gt){xt(parseInt(this.id.split("-").pop()))}),s.events.$on(Re,"click",".fr-file-cancel-upload-button",function(gt){(function(Pt){var Qt=s.popups.get("filesManager.insert");Qt.find(".fr-file-item-right-"+Pt).get(0).innerHTML=Y(Pt),H.get(Pt).abort(),ye(Pt,100,!0),Qt.find(".fr-checkbox-file-"+Pt).get(0).disabled=!0})(parseInt(this.id.split("-").pop()))}),s.events.$on(Re,"click",".fr-upload-delete-button",function(gt){(function(Pt){H.get(Pt).readyState!=0&&(H.get(Pt).abort(),ye(Pt,100,!0),H.delete(Pt)),xt(Pt)})(parseInt(this.id.split("-").pop()))}),s.events.$on(Re,"click",".fr-file-view-close",function(gt){Re.find(".fr-file-view-modal").get(0).outerHTML=""}),s.events.$on(Re,"click",".fr-plugins-enable",function(gt){(function(){W.forEach(function(Pt){s.opts.pluginsEnabled.indexOf(Pt)<0&&s.opts.pluginsEnabled.push(Pt)})})(),function(Pt){for(var Qt in Pt)if(!s[Qt]){if(x.PLUGINS[Qt]&&s.opts.pluginsEnabled.indexOf(Qt)<0)continue;s[Qt]=new Pt[Qt](s),s[Qt]._init&&s[Qt]._init()}}(x.PLUGINS),s.popups.get("filesManager.insert").get(0).outerHTML="",_n(),Ne(!0)}),s.events.$on(Re,"click",".fr-plugins-cancel",function(gt){s.popups.hide("filesManager.insert")}),s.events.$on(Re,"drop",".fr-upload-progress",function(gt){gt.preventDefault(),gt.stopPropagation()}),s.events.$on(Re,"drop",".fr-files-upload-layer",function(gt){gt.preventDefault(),gt.stopPropagation(),L(this).removeClass("fr-drop");var St=gt.originalEvent.dataTransfer;if(St&&St.files){var Pt=Re.data("instance")||s;Pt.events.disableBlur();for(var Qt=[],Vn=0;Vn<St.files.length;Vn++){var jn=M;F.set(jn,St.files[Vn]),ms(jn),w.set(jn,!1),Qt.push(jn),M++}for(var vo=0;vo<Qt.length;vo++)Pt.filesManager.upload(F.get(Qt[vo]),St.files,b,Qt[vo]);Pt.events.enableBlur()}},!0),s.helpers.isIOS()&&s.events.$on(Re,"touchstart",'.fr-files-upload-layer input[type="file"]',function(){L(this).trigger("click")},!0),s.events.$on(Re,"change",'.fr-files-upload-layer input[type="file"]',function(){if(this.files){var gt=Re.data("instance")||s;gt.events.disableBlur(),Re.find("input:focus").blur(),gt.events.enableBlur();var St=[];if(typeof this.files<"u"&&0<this.files.length){for(var Pt=0;Pt<this.files.length;Pt++){var Qt=M;F.set(Qt,this.files[Pt]),ms(Qt),w.set(Qt,!1),++M,St.push(Qt)}for(var Vn=0;Vn<St.length;Vn++)gt.filesManager.upload(F.get(St[Vn]),this.files,b,St[Vn])}}L(this).val("")},!0)}function At(Re){document.getElementById("fr-file-autoplay-button-"+Re).checked?ie.push(Re):ie=ie.filter(function(gt){return gt!=Re})}function Tt(Re){return Re&&Re.split("/")[0]==="image"}function Bt(Re){return Re&&Re.split("/")[0]!="image"&&Re&&Re.split("/")[0]!="video"&&Re&&Re.split("/")[0]!="audio"}function Xt(Re){return Re&&Re.split("/")[0]==="video"}function Jt(Re){return Re&&Re.split("/")[0]==="audio"}function on(Re){var gt="audio/ogg",St="video/ogg";return!((Re==gt||Re==St||Re=="image/webp"||Re=="video/webm")&&(s.browser.msie||s.browser.edge||s.browser.safari||s.helpers.isMobile()&&(Re==gt||Re==St||!s.helpers.isAndroid()&&!s.browser.chrome)))}function _n(Re){if(Re)return s.popups.onRefresh("filesManager.insert",we),s.popups.onHide("filesManager.insert",ct),!0;var gt,St,Pt="";s.opts.imageUpload||s.opts.filesInsertButtons.indexOf("filesUpload")===-1||s.opts.imageInsertButtons.splice(s.opts.filesInsertButtons.indexOf("filesUpload"),1);var Qt=s.button.buildList(s.opts.filesInsertButtons),Vn=s.button.buildList(s.opts.filesInsertButtons2);Qt!==""&&(Pt='<div class="fr-buttons fr-tabs">'.concat(Qt,'<span class="fr-align-right">').concat(Vn,"</span></div>"));var jn=s.opts.filesInsertButtons.indexOf("filesUpload"),vo=s.opts.filesInsertButtons.indexOf("filesByURL"),mo=s.opts.filesInsertButtons.indexOf("filesEmbed"),Uo="";0<=jn&&(gt=" fr-active",0<=vo&&vo<jn&&(gt=""),Uo='<div class="fr-files-upload-layer'.concat(gt,' fr-layer " id="fr-files-upload-layer-').concat(s.id,`"><div style="display:flex"><div class="fr-upload-section"><div class = 'fr-blue-decorator'><div class = 'fr-cloud-icon'><svg class = "fr-svg" focusable="false" width="26px" height="26px" viewBox = "0 0 24 24" xlmns = "http://w3.org/200/svg"><path d = 'M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z'></path></svg></div>Drag & Drop One or More Files<br><div class="fr-decorated"><span> OR </span></div> Click Browse Files </div> </div><div class="fr-form"><input type="file" accept="`).concat(s.opts.filesManagerAllowedTypes.join(",").toLowerCase(),'" tabIndex="-1" aria - labelledby="fr-files-upload-layer-').concat(s.id,'"role="button" multiple></div> </div></div>'));var cn="";0<=mo&&(gt=" fr-active",(jn<mo&&0<=jn||vo<mo&&0<=vo)&&(gt=""),cn='<div class="fr-files-embed-layer fr-layer'.concat(gt,'" id="fr-files-embed-layer-').concat(s.id,`"><div class="fr-input-line padding-top-15"><textarea data-gramm_editor="false" style='height:60px' id="fr-files-embed-layer-text`).concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="insertEmbed" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var ds="";0<=vo&&(gt=" fr-active",0<=jn&&jn<vo&&(gt=""),ds='<div class="fr-files-by-url-layer'.concat(gt,' fr-layer" id="fr-files-by-url-layer-').concat(s.id,'"><div class="fr-input-line fr-by-url-padding"><input id="fr-files-by-url-layer-text-').concat(s.id,'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="filesInsertByURL" tabIndex="2" role="button">').concat(s.language.translate("Add"),"</button></div></div>"));var us={buttons:Pt,upload_layer:Uo,by_url_layer:ds,embed_layer:cn,upload_progress_layer:`<div class = ' fr-margin-16 fr-upload-progress' id="fr-upload-progress-layer-`.concat(s.id,`" ><div  class='fr-progress-bar-style'><div class='fr-progress-bar fr-none'></div></div><div id='filesList' class = 'fr-upload-progress-layer fr-layer'></div></div>`),progress_bar:'<div class="fr-files-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="filesDismissError" tabIndex="2" role="button">OK</button></div></div>'};return 1<=s.opts.imageInsertButtons.length&&(St=s.popups.create("filesManager.insert",us)),s.$wp&&s.events.$on(s.$wp,"scroll",function(){b&&s.popups.isVisible("filesManager.insert")&&replace()}),Ut(St),s.popups.setPopupDimensions(St),St}function Dn(Re){var gt=Re.split("/").pop();if(gt.split(".").length<2){var St=new Date;return gt+"-"+St.getDate()+"/"+(St.getMonth()+1)+"/"+St.getFullYear()}return gt}function to(){b&&s.popups.get("image.alt").find("input").val(b.attr("alt")||"").trigger("change")}function hs(){var Re=s.popups.get("image.alt");Re||(Re=Bs()),Rt(),s.popups.refresh("image.alt"),s.popups.setContainer("image.alt",s.$sc);var gt=Qs();ia()&&(gt=gt.find(".fr-img-wrap"));var St=gt.offset().left+gt.outerWidth()/2,Pt=gt.offset().top+gt.outerHeight();s.popups.show("image.alt",St,Pt,gt.outerHeight(),!0)}function Bs(Re){if(Re)return s.popups.onRefresh("image.alt",to),!0;var gt={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageAltButtons),"</div>"),alt_layer:'<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(s.id,'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Alternative Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},St=s.popups.create("image.alt",gt);return s.$wp&&s.events.$on(s.$wp,"scroll.image-alt",function(){b&&s.popups.isVisible("image.alt")&&hs()}),St}function ps(){var Re=s.popups.get("image.size");if(b)if(ia()){var gt=b.parent();gt.get(0).style.width||(gt=b.parent().parent()),Re.find('input[name="width"]').val(gt.get(0).style.width).trigger("change"),Re.find('input[name="height"]').val(gt.get(0).style.height).trigger("change")}else Re.find('input[name="width"]').val(b.get(0).style.width).trigger("change"),Re.find('input[name="height"]').val(b.get(0).style.height).trigger("change")}function Is(){var Re=s.popups.get("image.size");Re||(Re=bs()),Rt(),s.popups.refresh("image.size"),s.popups.setContainer("image.size",s.$sc);var gt=Qs();ia()&&(gt=gt.find(".fr-img-wrap"));var St=gt.offset().left+gt.outerWidth()/2,Pt=gt.offset().top+gt.outerHeight();s.popups.show("image.size",St,Pt,gt.outerHeight(),!0)}function bs(Re){if(Re)return s.popups.onRefresh("image.size",ps),!0;var gt={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageSizeButtons),"</div>"),size_layer:'<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(s.id,`"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'`).concat(s.id,'" type="text" name="width" placeholder="').concat(s.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(s.id,'" type="text" name="height" placeholder="').concat(s.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},St=s.popups.create("image.size",gt);return s.$wp&&s.events.$on(s.$wp,"scroll.image-size",function(){b&&s.popups.isVisible("image.size")&&Is()}),St}function qo(Re,gt,St,Pt){return Re.pageX=gt,tt.call(this,Re),Re.pageX=Re.pageX+St*Math.floor(Math.pow(1.1,Pt)),ze.call(this,Re),Ze.call(this,Re),++Pt}function Do(Re){(Re=Re||Qs())&&s.events.trigger("image.beforeRemove",[Re])!==!1&&(s.popups.hideAll(),po(!0),s.undo.canDo()||s.undo.saveStep(),Re.get(0)==s.el?Re.removeAttr("src"):(Re.get(0).parentNode&&Re.get(0).parentNode.tagName=="A"?(s.selection.setBefore(Re.get(0).parentNode)||s.selection.setAfter(Re.get(0).parentNode)||Re.parent().after(x.MARKERS),L(Re.get(0).parentNode).remove()):(s.selection.setBefore(Re.get(0))||s.selection.setAfter(Re.get(0))||Re.after(x.MARKERS),Re.remove()),s.html.fillEmptyBlocks(),s.selection.restore()),s.undo.saveStep())}function zs(Re){var gt=Re.which;if(b&&(gt==x.KEYCODE.BACKSPACE||gt==x.KEYCODE.DELETE))return Re.preventDefault(),Re.stopPropagation(),Do(),!1;if(b&&gt==x.KEYCODE.ESC){var St=b;return po(!0),s.selection.setAfter(St.get(0)),s.selection.restore(),Re.preventDefault(),!1}if(!b||gt!=x.KEYCODE.ARROW_LEFT&&gt!=x.KEYCODE.ARROW_RIGHT)return b&&gt===x.KEYCODE.TAB?(Re.preventDefault(),Re.stopPropagation(),po(!0),!1):b&&gt!=x.KEYCODE.F10&&!s.keys.isBrowserAction(Re)?(Re.preventDefault(),Re.stopPropagation(),!1):void 0;var Pt=b.get(0);return po(!0),gt==x.KEYCODE.ARROW_LEFT?s.selection.setBefore(Pt):s.selection.setAfter(Pt),s.selection.restore(),Re.preventDefault(),!1}function As(Re){if(Re&&Re.tagName=="IMG"){var gt;if(s.node.hasClass(Re,"fr-uploading")||s.node.hasClass(Re,"fr-error")?(gt=Re.parentNode)===null||gt===void 0||gt.removeChild(Re):s.node.hasClass(Re,"fr-draggable")&&Re.classList.remove("fr-draggable"),Re.parentNode&&Re.parentNode.parentNode&&s.node.hasClass(Re.parentNode.parentNode,"fr-img-caption")){var St=Re.parentNode.parentNode;St.removeAttribute("contenteditable"),St.removeAttribute("draggable"),St.classList.remove("fr-draggable");var Pt=Re.nextSibling;Pt&&Pt.removeAttribute("contenteditable")}}else if(Re&&Re.nodeType==Node.ELEMENT_NODE)for(var Qt=Re.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),Vn=0;Vn<Qt.length;Vn++)As(Qt[Vn])}function Vs(Re){var gt=Re.target.result,St=s.opts.imageDefaultWidth;St&&St!="auto"&&(St+=s.opts.imageResizeWithPercent?"%":"px"),s.undo.saveStep(),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(gt,'"').concat(St?' style="width: '.concat(St,';"'):"",">"));var Pt=s.$el.find('img[data-fr-image-pasted="true"]');Pt&&Ur(Pt,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}function go(Re,gt){var St=new FileReader;St.onload=function(Qt){var Vn=s.opts.imageDefaultWidth;Vn&&Vn!="auto"&&(Vn+=s.opts.imageResizeWithPercent?"%":"px"),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(Qt,'"').concat(Vn?' style="width: '.concat(Vn,';"'):"",">"));var jn=s.$el.find('img[data-fr-image-pasted="true"]');jn&&Ur(jn,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}(gt),St.readAsDataURL(Re,gt)}function bo(Re,gt){var St=gt||Re&&Re.clipboardData;if(St&&St.items){var Pt=(St||window.clipboardData).getData("text/html")||"",Qt=new DOMParser().parseFromString(Pt,"text/html").querySelector("img");if(Qt&&!s.opts.imageUploadURL){if(!Qt)return!1;var Vn=Qt.src,jn=null;if(St.types&&[].indexOf.call(St.types,"text/rtf")!=-1||St.getData("text/rtf"))jn=St.items[0].getAsFile();else for(var vo=0;vo<St.items.length;vo++)if(jn=St.items[vo].getAsFile()){x.IMAGE_TYPE=jn.type;break}if(jn)return go(jn,Vn),!1}else{var mo=null;if(St.types&&[].indexOf.call(St.types,"text/rtf")!=-1||St.getData("text/rtf"))mo=St.items[0].getAsFile();else for(var Uo=0;Uo<St.items.length&&!(mo=St.items[Uo].getAsFile());Uo++);if(mo)return function(ds){var us=new FileReader;us.onload=Vs,us.readAsDataURL(ds)}(mo),!1}}}function io(Re){return Re=Re.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function po(Re){b&&(function(){return Tr}()||Re===!0)&&(s.toolbar.enable(),a&&a.removeClass("fr-active"),s.popups.hide("image.edit"),b=null,Qn(),f=null,N&&N.hide())}var Tr=!1;function vi(){Tr=!0}function Qn(){Tr=!1}function Ur(Re,gt,St){!s.opts.htmlUntouched&&s.opts.useClasses?(L(Re).removeClass("fr-fil fr-fir fr-dib fr-dii"),St&&L(Re).addClass("fr-fi".concat(St[0])),gt&&L(Re).addClass("fr-di".concat(gt[0]))):gt=="inline"?(Re.css({display:"inline-block",verticalAlign:"bottom",margin:s.opts.imageDefaultMargin}),St=="center"?Re.css({float:"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - ".concat(2*s.opts.imageDefaultMargin,"px)"),textAlign:"center"}):St=="left"?Re.css({float:"left",marginLeft:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"left"}):Re.css({float:"right",marginRight:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"right"})):gt=="block"&&(Re.css({display:"block",float:"none",verticalAlign:"top",margin:"".concat(s.opts.imageDefaultMargin,"px auto"),textAlign:"center"}),St=="left"?Re.css({marginLeft:0,textAlign:"left"}):St=="right"&&Re.css({marginRight:0,textAlign:"right"}))}function wa(){return b}function Qs(){return ia()?b.parents(".fr-img-caption").first():b}function ia(){return!!b&&0<b.parents(".fr-img-caption").length}return{_init:function(){var gt;(function(){s.events.$on(s.$el,s._mousedown,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(Pt){if(L(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;s.helpers.isMobile()||s.selection.clear(),P=!0,s.popups.areVisible()&&s.events.disableBlur(),s.browser.msie&&(s.events.disableBlur(),s.$el.attr("contenteditable",!1)),s.draggable||Pt.type=="touchstart"||Pt.preventDefault(),Pt.stopPropagation()}),s.events.$on(s.$el,s._mousedown,".fr-img-caption .fr-inner",function(Pt){s.core.hasFocus()||s.events.focus(),Pt.stopPropagation()}),s.events.$on(s.$el,"paste",".fr-img-caption .fr-inner",function(Pt){s.opts.toolbarInline===!0&&(s.toolbar.hide(),Pt.stopPropagation())}),s.events.$on(s.$el,s._mouseup,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(Pt){if(L(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;P&&(P=!1,Pt.stopPropagation(),s.browser.msie&&(s.$el.attr("contenteditable",!0),s.events.enableBlur()))}),s.events.on("keyup",function(Pt){if(Pt.shiftKey&&s.selection.text().replace(/\n/g,"")===""&&s.keys.isArrow(Pt.which)){var Qt=s.selection.element(),Vn=s.selection.endElement();Qt&&Qt.tagName=="IMG"?Ue(L(Qt)):Vn&&Vn.tagName=="IMG"&&Ue(L(Vn))}},!0),s.events.on("window.mousedown",vi),s.events.on("window.touchmove",Qn),s.events.on("mouseup window.mouseup",function(){if(b)return po(),!1;Qn()}),s.events.on("commands.mousedown",function(Pt){0<Pt.parents(".fr-toolbar").length&&po()}),s.events.on("image.resizeEnd",function(){s.opts.iframe&&s.size.syncIframe()}),s.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){po(!(P=!1))}),s.events.on("modals.hide",function(){b&&s.selection.clear()}),s.events.on("image.resizeEnd",function(){s.win.getSelection&&Ue(b)}),s.opts.imageAddNewLine&&s.events.on("image.inserted",function(Pt){var Qt=Pt.get(0);for(Qt.nextSibling&&Qt.nextSibling.tagName==="BR"&&(Qt=Qt.nextSibling);Qt&&!s.node.isElement(Qt);)Qt=s.node.isLastSibling(Qt)?Qt.parentNode:null;s.node.isElement(Qt)&&(s.opts.enter===x.ENTER_BR?Pt.after("<br>"):L(s.node.blockParent(Pt.get(0))).after("<".concat(s.html.defaultTag(),"><br></").concat(s.html.defaultTag(),">")))})})(),s.el.tagName=="IMG"&&s.$el.addClass("fr-view"),s.helpers.isMobile()&&(s.events.$on(s.$el,"touchstart",s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(){Hn=!1}),s.events.$on(s.$el,"touchmove",function(){Hn=!0})),s.opts.pluginsEnabled.includes("filestack")&&s.events.on("filestack.pluginsEnabled",function(){_n()}),s.$wp?(s.events.on("window.keydown keydown",zs,!0),s.events.on("keyup",function(St){if(b&&St.which==x.KEYCODE.ENTER)return!1},!0),s.events.$on(s.$el,"keydown",function(){var St=s.selection.element();(St.nodeType===Node.TEXT_NODE||St.tagName=="BR"&&s.node.isLastSibling(St))&&(St=St.parentNode),s.node.hasClass(St,"fr-inner")||(s.node.hasClass(St,"fr-img-caption")||(St=L(St).parents(".fr-img-caption").get(0)),s.node.hasClass(St,"fr-img-caption")&&(s.opts.trackChangesEnabled||L(St).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore()))})):s.events.$on(s.$win,"keydown",zs),s.events.on("toolbar.esc",function(){if(b){if(s.$wp)s.events.disableBlur(),s.events.focus();else{var St=b;po(!0),s.selection.setAfter(St.get(0)),s.selection.restore()}return!1}},!0),s.events.on("toolbar.focusEditor",function(){if(b)return!1},!0),s.events.on("window.cut window.copy",function(St){if(b&&s.popups.isVisible("image.edit")&&!s.popups.get("image.edit").find(":focus").length){var Pt=Qs();ia()?(Pt.before(x.START_MARKER),Pt.after(x.END_MARKER),s.selection.restore(),s.paste.saveCopiedText(Pt.get(0).outerHTML,Pt.text())):s.paste.saveCopiedText(b.get(0).outerHTML,b.attr("alt")),St.type=="copy"?setTimeout(function(){Ue(b)}):(po(!0),s.undo.saveStep(),setTimeout(function(){s.undo.saveStep()},0))}},!0),s.browser.msie&&s.events.on("keydown",function(St){if(!s.selection.isCollapsed()||!b)return!0;var Pt=St.which;Pt==x.KEYCODE.C&&s.keys.ctrlKey(St)?s.events.trigger("window.copy"):Pt==x.KEYCODE.X&&s.keys.ctrlKey(St)&&s.events.trigger("window.cut")}),s.events.$on(L(s.o_win),"keydown",function(St){var Pt=St.which;if(b&&Pt==x.KEYCODE.BACKSPACE)return St.preventDefault(),!1}),s.events.$on(s.$win,"keydown",function(St){var Pt=St.which;b&&b.hasClass("fr-uploading")&&Pt==x.KEYCODE.ESC&&b.trigger("abortUpload")}),s.events.on("destroy",function(){b&&b.hasClass("fr-uploading")&&b.trigger("abortUpload")}),s.events.on("paste.before",bo),s.events.on("paste.beforeCleanup",io),s.events.on("html.processGet",As),s.opts.imageOutputSize&&s.events.on("html.beforeGet",function(){gt=s.el.querySelectorAll("img");for(var St=0;St<gt.length;St++){var Pt=parseFloat(L(gt[St]).css("padding-left"))+parseFloat(L(gt[St]).css("padding-right")),Qt=L(gt[St]).width()-Pt,Vn=gt[St].style.width||Qt,jn=gt[St].style.height||L(gt[St]).height();Vn&&gt[St].setAttribute("width","".concat(Vn).replace(/px/,"")),jn&&gt[St].setAttribute("height","".concat(jn).replace(/px/,""))}}),s.opts.iframe&&s.events.on("image.loaded",s.size.syncIframe),s.events.$on(L(s.o_win),"orientationchange.image",function(){setTimeout(function(){b&&Ue(b)},100)}),function(Pt){return s.$wp&&s.events.$on(s.$wp,"scroll.image-edit",function(){b&&s.popups.isVisible("image.edit")&&s.events.disableBlur()}),!0}(),_n(!0),bs(!0),Bs(!0),s.events.on("node.remove",function(St){if(St.get(0).tagName=="IMG")return Do(St),!1}),s.events.on("popups.hide.filesManager.insert",function(St){s.filesManager.minimizePopup(ge)})},showInsertPopup:Ne,showLayer:function(gt){var St,Pt,Qt=s.popups.get("filesManager.insert");if(b||s.opts.toolbarInline){if(b){var Vn=Qs();ia()&&(Vn=Vn.find(".fr-img-wrap")),Pt=Vn.offset().top+Vn.outerHeight(),St=Vn.offset().left}}else{var jn=s.$tb.find('.fr-command[data-cmd="insertFiles"]');St=jn.offset().left,Pt=jn.offset().top+(s.opts.toolbarBottom?10:jn.outerHeight()-10)}!b&&s.opts.toolbarInline&&(Pt=Qt.offset().top-s.helpers.getPX(Qt.css("margin-top")),Qt.hasClass("fr-above")&&(Pt+=Qt.outerHeight())),Qt.find(".fr-layer").removeClass("fr-active"),Qt.find(".fr-".concat(gt,"-layer")).addClass("fr-active"),Qt.find(".fr-upload-progress-layer").addClass("fr-active"),s.popups.show("filesManager.insert",St,Pt,b?b.outerHeight():0),s.accessibility.focusPopup(Qt)},refreshUploadButton:function(gt){var St=s.popups.get("filesManager.insert");St&&St.find(".fr-files-upload-layer").hasClass("fr-active")&&gt.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(gt){var St=s.popups.get("filesManager.insert");St&&St.find(".fr-files-by-url-layer").hasClass("fr-active")&&gt.addClass("fr-active").attr("aria-pressed",!0)},upload:kt,insertByURL:function(){for(var gt,St=s.popups.get("filesManager.insert").find(".fr-files-by-url-layer input"),Pt=St.val().trim().split(/[ ,]+/),Qt=[],Vn=0,jn=0;jn<Pt.length;jn++)gt=Pt[jn],new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(gt)&&(Qt[Vn]=Pt[jn],Vn++);if(Qt.length!=0){if(0<St.val().trim().length&&0<Qt.length){var vo=[],mo=[],Uo=M,cn=Qt.length;Qt.forEach(function(ds,us){if(ds.trim().length==0)M==Uo+--cn&&Ce(vo,mo);else{Rt(),Ot(),zt(s.language.translate("Loading file(s)"));var Ve=ds.trim(),bt=function(Wn){if(Wn===void 0)return Wn;var Yo=null;if(/^http/.test(Wn)||(Wn="https://".concat(Wn)),s.helpers.isURL(Wn))for(var Oo=0;Oo<x.VIDEO_PROVIDERS.length;Oo++){var To=x.VIDEO_PROVIDERS[Oo];if(To.test_regex.test(Wn)&&new RegExp(s.opts.videoAllowedProviders.join("|")).test(To.provider)){Yo=Wn.replace(To.url_regex,To.url_text),Yo=To.html.replace(/\{url\}/,Yo);break}}return Yo}(Ve);if(bt){var Ht={link:Ve,name:Ve,type:"video/url",size:2,video:bt};F.set(Uo+us,Ht),ms(Uo+us),Rt(),Ot(),zt(s.language.translate("Loading file(s)")),j.set(Uo+us,Ht),++M==Uo+cn&&Ce(vo,mo)}else{var ln=new XMLHttpRequest;ln.onload=function(){if(this.status==200){var An=new Blob([this.response],{type:this.response.type||""});An.name=Dn(Ve),An.link=Ve,Tt(this.response.type)?(An.sanitize=!0,An.existing_image=b):Bt(this.response.type)&&(An.text=Dn(Ve)),vo.push(An),mo.push(Uo+us),F.set(Uo+us,An),ms(Uo+us),(-1<Le.indexOf(_e(An))||!_e(An))&&Fe(q,null,null,Uo+us)}else{var Wn=new Blob([this.response],{type:this.response.type||" "});Wn.name=Dn(Ve),Wn.link=Ve,F.set(Uo+us,Wn),ms(Uo+us),Fe(K,this.response,b,Uo+us)}Rt(),Ot(),zt(s.language.translate("Loading file(s)")),++M==Uo+cn&&Ce(vo,mo)},ln.onerror=function(){var An={link:Ve,name:Dn(Ve),size:0,type:""};Fe(9,this.response,b,Uo+us);var Wn=M;F.set(Wn,An),ms(Wn),Rt(),Ot(),zt(s.language.translate("Loading file(s)")),++M==Uo+cn&&Ce(vo,mo)},ln.open("GET","".concat(s.opts.imageCORSProxy,"/").concat(Ve),!0),ln.responseType="blob",ln.send()}}}),St.val(""),St.blur()}}else Zt(s.language.translate("Url entered is invalid. Please try again."))},insertAllFiles:function(){se=[];var gt=s.popups.get("filesManager.insert");re=-1,T=null,gt.find(".fr-insert-checkbox").toArray().forEach(function(Pt,Qt,Vn){Pt.children.target.checked&&(se.push(parseInt(Pt.id.split("-").pop())),Tt(j.get(parseInt(Pt.id.split("-").pop())).type)&&re==-1&&(re=Qt))}),pe(se),Ye()},deleteAllFiles:function(){s.popups.get("filesManager.insert").find(".fr-insert-checkbox").toArray().forEach(function(St,Pt,Qt){if(St.children.target.checked){var Vn=parseInt(St.id.split("-").pop());H.has(Vn)&&H.delete(Vn),xt(Vn)}}),Ye()},get:wa,getEl:Qs,insert:je,showProgressBar:Ot,remove:Do,hideProgressBar:Rt,applyStyle:function(gt,St,Pt){if(St===void 0&&(St=s.opts.imageStyles),Pt===void 0&&(Pt=s.opts.imageMultipleStyles),!b)return!1;var Qt=Qs();if(!Pt){var Vn=Object.keys(St);Vn.splice(Vn.indexOf(gt),1),Qt.removeClass(Vn.join(" "))}Ke(St[gt])=="object"?(Qt.removeAttr("style"),Qt.css(St[gt].style)):Qt.toggleClass(gt),Ue(b)},showAltPopup:hs,showSizePopup:Is,setAlt:function(gt){if(b){var St=s.popups.get("image.alt");b.attr("alt",gt||St.find("input").val()||""),St.find("input:focus").blur(),Ue(b)}},setSize:function(gt,St){if(b){var Pt=s.popups.get("image.size");gt=gt||Pt.find('input[name="width"]').val()||"",St=St||Pt.find('input[name="height"]').val()||"";var Qt=/^[\d]+((px)|%)*$/g;b.removeAttr("width").removeAttr("height"),gt.match(Qt)?b.css("width",gt):b.css("width",""),St.match(Qt)?b.css("height",St):b.css("height",""),ia()&&(b.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),gt.match(Qt)?b.parents(".fr-img-caption").css("width",gt):b.parents(".fr-img-caption").css("width",""),St.match(Qt)?b.parents(".fr-img-caption").css("height",St):b.parents(".fr-img-caption").css("height","")),Pt&&Pt.find("input:focus").blur(),Ue(b)}},toggleCaption:function(){var gt;if(b&&!ia()){(gt=b).parent().is("a")&&(gt=b.parent());var St,Pt,Qt=b.parents("ul")&&0<b.parents("ul").length?b.parents("ul"):b.parents("ol")&&0<b.parents("ol").length?b.parents("ol"):[];if(0<Qt.length){var Vn=Qt.find("li").length,jn=b.parents("li"),vo=document.createElement("li");Vn-1===jn.index()&&(Qt.append(vo),vo.innerHTML="&nbsp;")}gt.attr("style")&&(Pt=-1<(St=gt.attr("style").split(":")).indexOf("width")?St[St.indexOf("width")+1].replace(";",""):"");var mo=s.opts.imageResizeWithPercent?(-1<Pt.indexOf("px")?null:Pt)||"100%":b.width()+"px";gt.wrap('<div class="fr-img-space-wrap"><span '+(s.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+b.attr("class")+'" style="'+(s.opts.useClasses?"":gt.attr("style"))+'" draggable="false"></span><p class="fr-img-space-wrap2">&nbsp;</p></div>'),gt.wrap('<span class="fr-img-wrap"></span>'),b.after('<span class="fr-inner"'.concat(s.browser.mozilla?"":' contenteditable="true"',">").concat(x.START_MARKER).concat(s.language.translate("Image Caption")).concat(x.END_MARKER,"</span>")),b.removeAttr("class").removeAttr("style").removeAttr("width"),b.parents(".fr-img-caption").css("width",mo),po(!0),s.selection.restore()}else gt=Qs(),b.insertAfter(gt),b.attr("class",gt.attr("class").replace("fr-img-caption","")).attr("style",gt.attr("style")),gt.remove(),Ue(b)},refreshEmbedButton:function(gt){var St=s.popups.get("filesManager.insert");St&&St.find(".fr-files-embed-layer").hasClass("fr-active")&&gt.addClass("fr-active").attr("aria-pressed",!0)},insertEmbed:function(gt){gt===void 0&&(gt=s.popups.get("filesManager.insert").find(".fr-files-embed-layer textarea").val()||""),gt.length===0||!x.VIDEO_EMBED_REGEX.test(gt)&&!x.IMAGE_EMBED_REGEX.test(gt)?(Zt(s.language.translate("Something went wrong. Please try again.")),x.VIDEO_EMBED_REGEX.test(gt)&&s.events.trigger("video.codeError",[gt])):function(Pt,Qt){var Vn,jn;x.VIDEO_EMBED_REGEX.test(Pt)?(Vn="video",jn=s.opts.videoSplitHTML):x.IMAGE_EMBED_REGEX.test(Pt)&&(Vn="image",jn=s.opts.imageSplitHTML),s.events.focus(!0),s.selection.restore();var vo=!1;b&&(Do(),vo=!0),s.html.insert('<span id="fr-inserted-file" contenteditable="true" draggable="true" class="fr-'.concat(Vn,' fr-jiv fr-deletable">').concat(Pt,"</span>"),!1,jn),s.popups.hide("filesManager.insert");var mo=s.$el.find(".fr-jiv");mo.removeClass("fr-jiv"),Vn=="video"&&(mo.toggleClass("fr-rv",s.opts.videoResponsive),function(cn,ds,us){!s.opts.htmlUntouched&&s.opts.useClasses?(cn.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),cn.addClass("fr-fv".concat(us[0]," fr-dv").concat(ds[0]))):ds=="inline"?(cn.css({display:"inline-block"}),us=="center"?cn.css({float:"none"}):us=="left"?cn.css({float:"left"}):cn.css({float:"right"})):(cn.css({display:"block",clear:"both"}),us=="left"?cn.css({textAlign:"left"}):us=="right"?cn.css({textAlign:"right"}):cn.css({textAlign:"center"}))}(mo,s.opts.videoDefaultDisplay,s.opts.videoDefaultAlign),mo.toggleClass("fr-draggable",s.opts.videoMove),s.events.trigger(vo?"video.replaced":"video.inserted",[mo])),Vn=="image"&&(Ur(mo,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),mo.find("img").removeClass("fr-dii"),mo.find("img").addClass("fr-dib"),mo.toggleClass("fr-draggable",s.opts.imageMove),s.events.trigger(vo?"image.replaced":"image.inserted",[mo]))}(gt)},hasCaption:ia,exitEdit:po,edit:Ue,cancelFileInsert:function(){this.file_manager_dialog_open=!1,H.forEach(function(St,Pt){St.readyState!=4&&(St.abort(),xt(Pt))});var gt=s.popups.get("filesManager.insert");gt.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"),gt.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"),gt.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"),gt.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"),be=0,H=new Map,ee=new Map,ft(),s.popups.hide("filesManager.insert")},minimizePopup:function(gt){this.file_manager_dialog_open=!1,s.popups.hide("filesManager.insert"),ft()},editImage:me,saveImage:function(gt){var St=j.get($);St.link=window.URL.createObjectURL(new Blob(gt,{type:"image/png"})),j.set($,St)},_showErrorMessage:Zt,_showFileErrorMessage:wn,getFileThumbnail:fe,deleteFile:xt,checkAutoplay:At,checkInsertAllState:Ye,_disableInsertCheckbox:qe,_getFileType:_e,isChildWindowOpen:function(){return G},setChildWindowState:function(gt){gt!==void 0&&(G=gt)},resetAllFilesCheckbox:ft}},x.DefineIcon("insertFiles",{NAME:"image",SVG_KEY:"fileManager"}),x.RegisterShortcut(x.KEYCODE.P,"insertFiles",null,"P"),x.RegisterCommand("insertFiles",{title:"Insert Files",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("filesManager.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("filesManager.insert")):this.filesManager.showInsertPopup()},plugin:"filesManager"}),x.DefineIcon("cloudIcon",{NAME:"cloudIcon",SVG_KEY:"uploadFiles"}),x.DefineIcon("filesUpload",{NAME:"uploadFiles",SVG_KEY:"uploadFiles"}),x.RegisterCommand("filesUpload",{title:"Upload Files",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-upload")},refresh:function(s){this.filesManager.refreshUploadButton(s)}}),x.DefineIcon("filesByURL",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("filesByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-by-url")},refresh:function(s){this.filesManager.refreshByURLButton(s)}}),x.DefineIcon("filesEmbed",{NAME:"code",SVG_KEY:"codeView"}),x.RegisterCommand("filesEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-embed")},refresh:function(s){this.filesManager.refreshEmbedButton(s)}}),x.DefineIcon("insertAll",{NAME:"insertAll",SVG_KEY:"fileInsert"}),x.RegisterCommand("insertAll",{title:"Insert",undo:!1,focus:!1,toggle:!0,disabled:!0,callback:function(){this.filesManager.insertAllFiles()}}),x.DefineIcon("deleteAll",{NAME:"remove",SVG_KEY:"remove"}),x.RegisterCommand("deleteAll",{title:"Delete",undo:!1,focus:!1,toggle:!0,disabled:!0,callback:function(){this.filesManager.deleteAllFiles()}}),x.DefineIcon("cancel",{NAME:"cancel",SVG_KEY:"cancel"}),x.RegisterCommand("cancel",{title:"Cancel",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.cancelFileInsert()},refresh:function(s){}}),x.DefineIcon("minimize",{NAME:"minimize",SVG_KEY:"minimize"}),x.RegisterCommand("minimize",{title:"Minimize",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.minimizePopup("image.insert",!0)},refresh:function(s){this.filesManager.refreshEmbedButton(s)}}),x.RegisterCommand("filesInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.filesManager.insertByURL()},refresh:function(s){s.text(this.language.translate("Add"))}}),x.RegisterCommand("imageInsertByUpload",{title:"Insert",undo:!0,refreshAfterCallback:!1,callback:function(s,b){},refresh:function(s){}}),x.RegisterCommand("viewImage",{title:"View Image",undo:!0,refreshAfterCallback:!1,callback:function(s,b){},refresh:function(s){}}),x.RegisterCommand("insertEmbed",{undo:!0,focus:!0,callback:function(){this.filesManager.insertEmbed(),this.popups.get("filesManager.insert").find("textarea")[0].value="",this.popups.get("filesManager.insert").find("textarea").removeClass("fr-not-empty")}}),x.RegisterCommand("filesDismissError",{title:"OK",undo:!1,callback:function(){this.filesManager.hideProgressBar(!0)}}),x.PLUGINS.cryptoJSPlugin=function(s){var b,$,ge,a,f,N,O,T,L,B,G,P,F,j,H,ee,w,he,be,se,re,ie,M,W,K,R,A,J,V,q,ae,Le,Ee,we,Ne,We,ct,nt,st,Me,tt,ze,Ze,qe,Fe,Ye,xt,ft,Ot,Rt,zt,Zt,wn,Zn,et,wt,It,nn,bn,kn,Mn,vn,Hn,So,ro,Xo,zn,cs,ms,Et,fe=fe||function(Y,le){var ye;if(typeof window<"u"&&window.crypto&&(ye=window.crypto),!ye&&typeof window<"u"&&window.msCrypto&&(ye=window.msCrypto),!ye&&typeof Sk<"u"&&Sk.crypto&&(ye=Sk.crypto),!ye&&typeof _re=="function")try{ye=Sre}catch{}var Ce=function(){if(ye){if(typeof ye.getRandomValues=="function")try{return ye.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ye.randomBytes=="function")try{return ye.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},Ue=Object.create||function(){function At(){}return function(Tt){var Bt;return At.prototype=Tt,Bt=new At,At.prototype=null,Bt}}(),Be={},te=Be.lib={},pe=te.Base={extend:function(At){var Tt=Ue(this);return At&&Tt.mixIn(At),Tt.hasOwnProperty("init")&&this.init!==Tt.init||(Tt.init=function(){Tt.$super.init.apply(this,arguments)}),(Tt.init.prototype=Tt).$super=this,Tt},create:function(){var At=this.extend();return At.init.apply(At,arguments),At},init:function(){},mixIn:function(At){for(var Tt in At)At.hasOwnProperty(Tt)&&(this[Tt]=At[Tt]);At.hasOwnProperty("toString")&&(this.toString=At.toString)},clone:function(){return this.init.prototype.extend(this)}},me=te.WordArray=pe.extend({init:function(At,Tt){At=this.words=At||[],this.sigBytes=Tt??4*At.length},toString:function(At){return(At||je).stringify(this)},concat:function(At){var Tt=this.words,Bt=At.words,Xt=this.sigBytes,Jt=At.sigBytes;if(this.clamp(),Xt%4)for(var on=0;on<Jt;on++){var _n=Bt[on>>>2]>>>24-on%4*8&255;Tt[Xt+on>>>2]|=_n<<24-(Xt+on)%4*8}else for(on=0;on<Jt;on+=4)Tt[Xt+on>>>2]=Bt[on>>>2];return this.sigBytes+=Jt,this},clamp:function(){var At=this.words,Tt=this.sigBytes;At[Tt>>>2]&=4294967295<<32-Tt%4*8,At.length=Y.ceil(Tt/4)},clone:function(){var Tt=pe.clone.call(this);return Tt.words=this.words.slice(0),Tt},random:function(At){for(var Tt=[],Bt=0;Bt<At;Bt+=4)Tt.push(Ce());return new me.init(Tt,At)}}),_e=Be.enc={},je=_e.Hex={stringify:function(At){for(var Tt=At.words,Bt=At.sigBytes,Xt=[],Jt=0;Jt<Bt;Jt++){var on=Tt[Jt>>>2]>>>24-Jt%4*8&255;Xt.push((on>>>4).toString(16)),Xt.push((15&on).toString(16))}return Xt.join("")},parse:function(At){for(var Tt=At.length,Bt=[],Xt=0;Xt<Tt;Xt+=2)Bt[Xt>>>3]|=parseInt(At.substr(Xt,2),16)<<24-Xt%8*4;return new me.init(Bt,Tt/2)}},pt=_e.Latin1={stringify:function(At){for(var Tt=At.words,Bt=At.sigBytes,Xt=[],Jt=0;Jt<Bt;Jt++){var on=Tt[Jt>>>2]>>>24-Jt%4*8&255;Xt.push(String.fromCharCode(on))}return Xt.join("")},parse:function(At){for(var Tt=At.length,Bt=[],Xt=0;Xt<Tt;Xt++)Bt[Xt>>>2]|=(255&At.charCodeAt(Xt))<<24-Xt%4*8;return new me.init(Bt,Tt)}},mt=_e.Utf8={stringify:function(At){try{return decodeURIComponent(escape(pt.stringify(At)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(At){return pt.parse(unescape(encodeURIComponent(At)))}},kt=te.BufferedBlockAlgorithm=pe.extend({reset:function(){this._data=new me.init,this._nDataBytes=0},_append:function(At){typeof At=="string"&&(At=mt.parse(At)),this._data.concat(At),this._nDataBytes+=At.sigBytes},_process:function(At){var Tt,Bt=this._data,Xt=Bt.words,Jt=Bt.sigBytes,on=this.blockSize,_n=Jt/(4*on),Dn=(_n=At?Y.ceil(_n):Y.max((0|_n)-this._minBufferSize,0))*on,to=Y.min(4*Dn,Jt);if(Dn){for(var hs=0;hs<Dn;hs+=on)this._doProcessBlock(Xt,hs);Tt=Xt.splice(0,Dn),Bt.sigBytes-=to}return new me.init(Tt,to)},clone:function(){var Tt=pe.clone.call(this);return Tt._data=this._data.clone(),Tt},_minBufferSize:0}),Ut=(te.Hasher=kt.extend({cfg:pe.extend(),init:function(At){this.cfg=this.cfg.extend(At),this.reset()},reset:function(){kt.reset.call(this),this._doReset()},update:function(At){return this._append(At),this._process(),this},finalize:function(At){return At&&this._append(At),this._doFinalize()},blockSize:16,_createHelper:function(At){return function(Tt,Bt){return new At.init(Bt).finalize(Tt)}},_createHmacHelper:function(At){return function(Tt,Bt){return new Ut.HMAC.init(At,Bt).finalize(Tt)}}}),Be.algo={});return Be}(Math);return $=(b=fe).lib.WordArray,b.enc.Base64={stringify:function(Y){var le=Y.words,ye=Y.sigBytes,Ce=this._map;Y.clamp();for(var Ue=[],Be=0;Be<ye;Be+=3)for(var te=(le[Be>>>2]>>>24-Be%4*8&255)<<16|(le[Be+1>>>2]>>>24-(Be+1)%4*8&255)<<8|le[Be+2>>>2]>>>24-(Be+2)%4*8&255,pe=0;pe<4&&Be+.75*pe<ye;pe++)Ue.push(Ce.charAt(te>>>6*(3-pe)&63));var me=Ce.charAt(64);if(me)for(;Ue.length%4;)Ue.push(me);return Ue.join("")},parse:function(Y){var le=Y.length,ye=this._map,Ce=this._reverseMap;if(!Ce){Ce=this._reverseMap=[];for(var Ue=0;Ue<ye.length;Ue++)Ce[ye.charCodeAt(Ue)]=Ue}var Be=ye.charAt(64);if(Be){var te=Y.indexOf(Be);te!==-1&&(le=te)}return function(me,_e,je){for(var pt=[],mt=0,kt=0;kt<_e;kt++)if(kt%4){var Ut=je[me.charCodeAt(kt-1)]<<kt%4*2,At=je[me.charCodeAt(kt)]>>>6-kt%4*2,Tt=Ut|At;pt[mt>>>2]|=Tt<<24-mt%4*8,mt++}return $.create(pt,mt)}(Y,le,Ce)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(Y){var le=fe,ye=le.lib,Ce=ye.WordArray,Ue=ye.Hasher,Be=le.algo,te=[];(function(){for(var mt=0;mt<64;mt++)te[mt]=4294967296*Y.abs(Y.sin(mt+1))|0})();var pe=Be.MD5=Ue.extend({_doReset:function(){this._hash=new Ce.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(mt,kt){for(var Ut=0;Ut<16;Ut++){var At=kt+Ut,Tt=mt[At];mt[At]=16711935&(Tt<<8|Tt>>>24)|4278255360&(Tt<<24|Tt>>>8)}var Bt=this._hash.words,Xt=mt[kt+0],Jt=mt[kt+1],on=mt[kt+2],_n=mt[kt+3],Dn=mt[kt+4],to=mt[kt+5],hs=mt[kt+6],Bs=mt[kt+7],ps=mt[kt+8],Is=mt[kt+9],bs=mt[kt+10],qo=mt[kt+11],Do=mt[kt+12],zs=mt[kt+13],As=mt[kt+14],Vs=mt[kt+15],go=Bt[0],bo=Bt[1],io=Bt[2],po=Bt[3];bo=pt(bo=pt(bo=pt(bo=pt(bo=je(bo=je(bo=je(bo=je(bo=_e(bo=_e(bo=_e(bo=_e(bo=me(bo=me(bo=me(bo=me(bo,io=me(io,po=me(po,go=me(go,bo,io,po,Xt,7,te[0]),bo,io,Jt,12,te[1]),go,bo,on,17,te[2]),po,go,_n,22,te[3]),io=me(io,po=me(po,go=me(go,bo,io,po,Dn,7,te[4]),bo,io,to,12,te[5]),go,bo,hs,17,te[6]),po,go,Bs,22,te[7]),io=me(io,po=me(po,go=me(go,bo,io,po,ps,7,te[8]),bo,io,Is,12,te[9]),go,bo,bs,17,te[10]),po,go,qo,22,te[11]),io=me(io,po=me(po,go=me(go,bo,io,po,Do,7,te[12]),bo,io,zs,12,te[13]),go,bo,As,17,te[14]),po,go,Vs,22,te[15]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,Jt,5,te[16]),bo,io,hs,9,te[17]),go,bo,qo,14,te[18]),po,go,Xt,20,te[19]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,to,5,te[20]),bo,io,bs,9,te[21]),go,bo,Vs,14,te[22]),po,go,Dn,20,te[23]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,Is,5,te[24]),bo,io,As,9,te[25]),go,bo,_n,14,te[26]),po,go,ps,20,te[27]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,zs,5,te[28]),bo,io,on,9,te[29]),go,bo,Bs,14,te[30]),po,go,Do,20,te[31]),io=je(io,po=je(po,go=je(go,bo,io,po,to,4,te[32]),bo,io,ps,11,te[33]),go,bo,qo,16,te[34]),po,go,As,23,te[35]),io=je(io,po=je(po,go=je(go,bo,io,po,Jt,4,te[36]),bo,io,Dn,11,te[37]),go,bo,Bs,16,te[38]),po,go,bs,23,te[39]),io=je(io,po=je(po,go=je(go,bo,io,po,zs,4,te[40]),bo,io,Xt,11,te[41]),go,bo,_n,16,te[42]),po,go,hs,23,te[43]),io=je(io,po=je(po,go=je(go,bo,io,po,Is,4,te[44]),bo,io,Do,11,te[45]),go,bo,Vs,16,te[46]),po,go,on,23,te[47]),io=pt(io,po=pt(po,go=pt(go,bo,io,po,Xt,6,te[48]),bo,io,Bs,10,te[49]),go,bo,As,15,te[50]),po,go,to,21,te[51]),io=pt(io,po=pt(po,go=pt(go,bo,io,po,Do,6,te[52]),bo,io,_n,10,te[53]),go,bo,bs,15,te[54]),po,go,Jt,21,te[55]),io=pt(io,po=pt(po,go=pt(go,bo,io,po,ps,6,te[56]),bo,io,Vs,10,te[57]),go,bo,hs,15,te[58]),po,go,zs,21,te[59]),io=pt(io,po=pt(po,go=pt(go,bo,io,po,Dn,6,te[60]),bo,io,qo,10,te[61]),go,bo,on,15,te[62]),po,go,Is,21,te[63]),Bt[0]=Bt[0]+go|0,Bt[1]=Bt[1]+bo|0,Bt[2]=Bt[2]+io|0,Bt[3]=Bt[3]+po|0},_doFinalize:function(){var mt=this._data,kt=mt.words,Ut=8*this._nDataBytes,At=8*mt.sigBytes;kt[At>>>5]|=128<<24-At%32;var Tt=Y.floor(Ut/4294967296),Bt=Ut;kt[15+(At+64>>>9<<4)]=16711935&(Tt<<8|Tt>>>24)|4278255360&(Tt<<24|Tt>>>8),kt[14+(At+64>>>9<<4)]=16711935&(Bt<<8|Bt>>>24)|4278255360&(Bt<<24|Bt>>>8),mt.sigBytes=4*(kt.length+1),this._process();for(var Xt=this._hash,Jt=Xt.words,on=0;on<4;on++){var _n=Jt[on];Jt[on]=16711935&(_n<<8|_n>>>24)|4278255360&(_n<<24|_n>>>8)}return Xt},clone:function(){var kt=Ue.clone.call(this);return kt._hash=this._hash.clone(),kt}});function me(mt,kt,Ut,At,Tt,Bt,Xt){var Jt=mt+(kt&Ut|~kt&At)+Tt+Xt;return(Jt<<Bt|Jt>>>32-Bt)+kt}function _e(mt,kt,Ut,At,Tt,Bt,Xt){var Jt=mt+(kt&At|Ut&~At)+Tt+Xt;return(Jt<<Bt|Jt>>>32-Bt)+kt}function je(mt,kt,Ut,At,Tt,Bt,Xt){var Jt=mt+(kt^Ut^At)+Tt+Xt;return(Jt<<Bt|Jt>>>32-Bt)+kt}function pt(mt,kt,Ut,At,Tt,Bt,Xt){var Jt=mt+(Ut^(kt|~At))+Tt+Xt;return(Jt<<Bt|Jt>>>32-Bt)+kt}le.MD5=Ue._createHelper(pe),le.HmacMD5=Ue._createHmacHelper(pe)}(Math),a=(ge=fe).lib,f=a.WordArray,N=a.Hasher,O=ge.algo,T=[],L=O.SHA1=N.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Y,le){for(var ye=this._hash.words,Ce=ye[0],Ue=ye[1],Be=ye[2],te=ye[3],pe=ye[4],me=0;me<80;me++){if(me<16)T[me]=0|Y[le+me];else{var _e=T[me-3]^T[me-8]^T[me-14]^T[me-16];T[me]=_e<<1|_e>>>31}var je=(Ce<<5|Ce>>>27)+pe+T[me];je+=me<20?1518500249+(Ue&Be|~Ue&te):me<40?1859775393+(Ue^Be^te):me<60?(Ue&Be|Ue&te|Be&te)-1894007588:(Ue^Be^te)-899497514,pe=te,te=Be,Be=Ue<<30|Ue>>>2,Ue=Ce,Ce=je}ye[0]=ye[0]+Ce|0,ye[1]=ye[1]+Ue|0,ye[2]=ye[2]+Be|0,ye[3]=ye[3]+te|0,ye[4]=ye[4]+pe|0},_doFinalize:function(){var Y=this._data,le=Y.words,ye=8*this._nDataBytes,Ce=8*Y.sigBytes;return le[Ce>>>5]|=128<<24-Ce%32,le[14+(Ce+64>>>9<<4)]=Math.floor(ye/4294967296),le[15+(Ce+64>>>9<<4)]=ye,Y.sigBytes=4*le.length,this._process(),this._hash},clone:function(){var le=N.clone.call(this);return le._hash=this._hash.clone(),le}}),ge.SHA1=N._createHelper(L),ge.HmacSHA1=N._createHmacHelper(L),function(Y){var le=fe,ye=le.lib,Ce=ye.WordArray,Ue=ye.Hasher,Be=le.algo,te=[],pe=[];(function(){function je(Ut){for(var At=Y.sqrt(Ut),Tt=2;Tt<=At;Tt++)if(!(Ut%Tt))return!1;return!0}function pt(Ut){return 4294967296*(Ut-(0|Ut))|0}for(var mt=2,kt=0;kt<64;)je(mt)&&(kt<8&&(te[kt]=pt(Y.pow(mt,.5))),pe[kt]=pt(Y.pow(mt,1/3)),kt++),mt++})();var me=[],_e=Be.SHA256=Ue.extend({_doReset:function(){this._hash=new Ce.init(te.slice(0))},_doProcessBlock:function(je,pt){for(var mt=this._hash.words,kt=mt[0],Ut=mt[1],At=mt[2],Tt=mt[3],Bt=mt[4],Xt=mt[5],Jt=mt[6],on=mt[7],_n=0;_n<64;_n++){if(_n<16)me[_n]=0|je[pt+_n];else{var Dn=me[_n-15],to=(Dn<<25|Dn>>>7)^(Dn<<14|Dn>>>18)^Dn>>>3,hs=me[_n-2],Bs=(hs<<15|hs>>>17)^(hs<<13|hs>>>19)^hs>>>10;me[_n]=to+me[_n-7]+Bs+me[_n-16]}var ps=kt&Ut^kt&At^Ut&At,Is=(kt<<30|kt>>>2)^(kt<<19|kt>>>13)^(kt<<10|kt>>>22),bs=on+((Bt<<26|Bt>>>6)^(Bt<<21|Bt>>>11)^(Bt<<7|Bt>>>25))+(Bt&Xt^~Bt&Jt)+pe[_n]+me[_n];on=Jt,Jt=Xt,Xt=Bt,Bt=Tt+bs|0,Tt=At,At=Ut,Ut=kt,kt=bs+(Is+ps)|0}mt[0]=mt[0]+kt|0,mt[1]=mt[1]+Ut|0,mt[2]=mt[2]+At|0,mt[3]=mt[3]+Tt|0,mt[4]=mt[4]+Bt|0,mt[5]=mt[5]+Xt|0,mt[6]=mt[6]+Jt|0,mt[7]=mt[7]+on|0},_doFinalize:function(){var je=this._data,pt=je.words,mt=8*this._nDataBytes,kt=8*je.sigBytes;return pt[kt>>>5]|=128<<24-kt%32,pt[14+(kt+64>>>9<<4)]=Y.floor(mt/4294967296),pt[15+(kt+64>>>9<<4)]=mt,je.sigBytes=4*pt.length,this._process(),this._hash},clone:function(){var pt=Ue.clone.call(this);return pt._hash=this._hash.clone(),pt}});le.SHA256=Ue._createHelper(_e),le.HmacSHA256=Ue._createHmacHelper(_e)}(Math),function(){var Y=fe,le=Y.lib.WordArray,ye=Y.enc;ye.Utf16=ye.Utf16BE={stringify:function(Ue){for(var Be=Ue.words,te=Ue.sigBytes,pe=[],me=0;me<te;me+=2){var _e=Be[me>>>2]>>>16-me%4*8&65535;pe.push(String.fromCharCode(_e))}return pe.join("")},parse:function(Ue){for(var Be=Ue.length,te=[],pe=0;pe<Be;pe++)te[pe>>>1]|=Ue.charCodeAt(pe)<<16-pe%2*16;return le.create(te,2*Be)}};function Ce(Ue){return Ue<<8&4278255360|Ue>>>8&16711935}ye.Utf16LE={stringify:function(Ue){for(var Be=Ue.words,te=Ue.sigBytes,pe=[],me=0;me<te;me+=2){var _e=Ce(Be[me>>>2]>>>16-me%4*8&65535);pe.push(String.fromCharCode(_e))}return pe.join("")},parse:function(Ue){for(var Be=Ue.length,te=[],pe=0;pe<Be;pe++)te[pe>>>1]|=Ce(Ue.charCodeAt(pe)<<16-pe%2*16);return le.create(te,2*Be)}}}(),function(){if(typeof ArrayBuffer=="function"){var Y=fe.lib.WordArray,le=Y.init;(Y.init=function(ye){if(ye instanceof ArrayBuffer&&(ye=new Uint8Array(ye)),(ye instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ye instanceof Uint8ClampedArray||ye instanceof Int16Array||ye instanceof Uint16Array||ye instanceof Int32Array||ye instanceof Uint32Array||ye instanceof Float32Array||ye instanceof Float64Array)&&(ye=new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength)),ye instanceof Uint8Array){for(var Ce=ye.byteLength,Ue=[],Be=0;Be<Ce;Be++)Ue[Be>>>2]|=ye[Be]<<24-Be%4*8;le.call(this,Ue,Ce)}else le.apply(this,arguments)}).prototype=Y}}(),function(Y){var le=fe,ye=le.lib,Ce=ye.WordArray,Ue=ye.Hasher,Be=le.algo,te=Ce.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),pe=Ce.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),me=Ce.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_e=Ce.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),je=Ce.create([0,1518500249,1859775393,2400959708,2840853838]),pt=Ce.create([1352829926,1548603684,1836072691,2053994217,0]),mt=Be.RIPEMD160=Ue.extend({_doReset:function(){this._hash=Ce.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Jt,on){for(var _n=0;_n<16;_n++){var Dn=on+_n,to=Jt[Dn];Jt[Dn]=16711935&(to<<8|to>>>24)|4278255360&(to<<24|to>>>8)}var hs,Bs,ps,Is,bs,qo,Do,zs,As,Vs,go,bo=this._hash.words,io=je.words,po=pt.words,Tr=te.words,vi=pe.words,Qn=me.words,Ur=_e.words;for(qo=hs=bo[0],Do=Bs=bo[1],zs=ps=bo[2],As=Is=bo[3],Vs=bs=bo[4],_n=0;_n<80;_n+=1)go=hs+Jt[on+Tr[_n]]|0,go+=_n<16?kt(Bs,ps,Is)+io[0]:_n<32?Ut(Bs,ps,Is)+io[1]:_n<48?At(Bs,ps,Is)+io[2]:_n<64?Tt(Bs,ps,Is)+io[3]:Bt(Bs,ps,Is)+io[4],go=(go=Xt(go|=0,Qn[_n]))+bs|0,hs=bs,bs=Is,Is=Xt(ps,10),ps=Bs,Bs=go,go=qo+Jt[on+vi[_n]]|0,go+=_n<16?Bt(Do,zs,As)+po[0]:_n<32?Tt(Do,zs,As)+po[1]:_n<48?At(Do,zs,As)+po[2]:_n<64?Ut(Do,zs,As)+po[3]:kt(Do,zs,As)+po[4],go=(go=Xt(go|=0,Ur[_n]))+Vs|0,qo=Vs,Vs=As,As=Xt(zs,10),zs=Do,Do=go;go=bo[1]+ps+As|0,bo[1]=bo[2]+Is+Vs|0,bo[2]=bo[3]+bs+qo|0,bo[3]=bo[4]+hs+Do|0,bo[4]=bo[0]+Bs+zs|0,bo[0]=go},_doFinalize:function(){var Jt=this._data,on=Jt.words,_n=8*this._nDataBytes,Dn=8*Jt.sigBytes;on[Dn>>>5]|=128<<24-Dn%32,on[14+(Dn+64>>>9<<4)]=16711935&(_n<<8|_n>>>24)|4278255360&(_n<<24|_n>>>8),Jt.sigBytes=4*(on.length+1),this._process();for(var to=this._hash,hs=to.words,Bs=0;Bs<5;Bs++){var ps=hs[Bs];hs[Bs]=16711935&(ps<<8|ps>>>24)|4278255360&(ps<<24|ps>>>8)}return to},clone:function(){var on=Ue.clone.call(this);return on._hash=this._hash.clone(),on}});function kt(Jt,on,_n){return Jt^on^_n}function Ut(Jt,on,_n){return Jt&on|~Jt&_n}function At(Jt,on,_n){return(Jt|~on)^_n}function Tt(Jt,on,_n){return Jt&_n|on&~_n}function Bt(Jt,on,_n){return Jt^(on|~_n)}function Xt(Jt,on){return Jt<<on|Jt>>>32-on}le.RIPEMD160=Ue._createHelper(mt),le.HmacRIPEMD160=Ue._createHmacHelper(mt)}(),G=(B=fe).lib.Base,P=B.enc.Utf8,B.algo.HMAC=G.extend({init:function(Y,le){Y=this._hasher=new Y.init,typeof le=="string"&&(le=P.parse(le));var ye=Y.blockSize,Ce=4*ye;le.sigBytes>Ce&&(le=Y.finalize(le)),le.clamp();for(var Ue=this._oKey=le.clone(),Be=this._iKey=le.clone(),te=Ue.words,pe=Be.words,me=0;me<ye;me++)te[me]^=1549556828,pe[me]^=909522486;Ue.sigBytes=Be.sigBytes=Ce,this.reset()},reset:function(){var Y=this._hasher;Y.reset(),Y.update(this._iKey)},update:function(Y){return this._hasher.update(Y),this},finalize:function(Y){var le=this._hasher,ye=le.finalize(Y);return le.reset(),le.finalize(this._oKey.clone().concat(ye))}}),j=(F=fe).lib,H=j.Base,ee=j.WordArray,w=F.algo,he=w.SHA1,be=w.HMAC,se=w.PBKDF2=H.extend({cfg:H.extend({keySize:4,hasher:he,iterations:1}),init:function(Y){this.cfg=this.cfg.extend(Y)},compute:function(Y,le){for(var ye=this.cfg,Ce=be.create(ye.hasher,Y),Ue=ee.create(),Be=ee.create([1]),te=Ue.words,pe=Be.words,me=ye.keySize,_e=ye.iterations;te.length<me;){var je=Ce.update(le).finalize(Be);Ce.reset();for(var pt=je.words,mt=pt.length,kt=je,Ut=1;Ut<_e;Ut++){kt=Ce.finalize(kt),Ce.reset();for(var At=kt.words,Tt=0;Tt<mt;Tt++)pt[Tt]^=At[Tt]}Ue.concat(je),pe[0]++}return Ue.sigBytes=4*me,Ue}}),F.PBKDF2=function(Y,le,ye){return se.create(ye).compute(Y,le)},ie=(re=fe).lib,M=ie.Base,W=ie.WordArray,K=re.algo,R=K.MD5,A=K.EvpKDF=M.extend({cfg:M.extend({keySize:4,hasher:R,iterations:1}),init:function(Y){this.cfg=this.cfg.extend(Y)},compute:function(Y,le){for(var ye,Ce=this.cfg,Ue=Ce.hasher.create(),Be=W.create(),te=Be.words,pe=Ce.keySize,me=Ce.iterations;te.length<pe;){ye&&Ue.update(ye),ye=Ue.update(Y).finalize(le),Ue.reset();for(var _e=1;_e<me;_e++)ye=Ue.finalize(ye),Ue.reset();Be.concat(ye)}return Be.sigBytes=4*pe,Be}}),re.EvpKDF=function(Y,le,ye){return A.create(ye).compute(Y,le)},V=(J=fe).lib.WordArray,q=J.algo,ae=q.SHA256,Le=q.SHA224=ae.extend({_doReset:function(){this._hash=new V.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Y=ae._doFinalize.call(this);return Y.sigBytes-=4,Y}}),J.SHA224=ae._createHelper(Le),J.HmacSHA224=ae._createHmacHelper(Le),we=(Ee=fe).lib,Ne=we.Base,We=we.WordArray,(ct=Ee.x64={}).Word=Ne.extend({init:function(Y,le){this.high=Y,this.low=le}}),ct.WordArray=Ne.extend({init:function(Y,le){Y=this.words=Y||[],this.sigBytes=le??8*Y.length},toX32:function(){for(var Y=this.words,le=Y.length,ye=[],Ce=0;Ce<le;Ce++){var Ue=Y[Ce];ye.push(Ue.high),ye.push(Ue.low)}return We.create(ye,this.sigBytes)},clone:function(){for(var le=Ne.clone.call(this),ye=le.words=this.words.slice(0),Ce=ye.length,Ue=0;Ue<Ce;Ue++)ye[Ue]=ye[Ue].clone();return le}}),function(Y){var le=fe,ye=le.lib,Ce=ye.WordArray,Ue=ye.Hasher,Be=le.x64.Word,te=le.algo,pe=[],me=[],_e=[];(function(){for(var mt=1,kt=0,Ut=0;Ut<24;Ut++){pe[mt+5*kt]=(Ut+1)*(Ut+2)/2%64;var At=(2*mt+3*kt)%5;mt=kt%5,kt=At}for(mt=0;mt<5;mt++)for(kt=0;kt<5;kt++)me[mt+5*kt]=kt+(2*mt+3*kt)%5*5;for(var Tt=1,Bt=0;Bt<24;Bt++){for(var Xt=0,Jt=0,on=0;on<7;on++){if(1&Tt){var _n=(1<<on)-1;_n<32?Jt^=1<<_n:Xt^=1<<_n-32}128&Tt?Tt=Tt<<1^113:Tt<<=1}_e[Bt]=Be.create(Xt,Jt)}})();var je=[];(function(){for(var mt=0;mt<25;mt++)je[mt]=Be.create()})();var pt=te.SHA3=Ue.extend({cfg:Ue.cfg.extend({outputLength:512}),_doReset:function(){for(var mt=this._state=[],kt=0;kt<25;kt++)mt[kt]=new Be.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(mt,kt){for(var Ut=this._state,At=this.blockSize/2,Tt=0;Tt<At;Tt++){var Bt=mt[kt+2*Tt],Xt=mt[kt+2*Tt+1];Bt=16711935&(Bt<<8|Bt>>>24)|4278255360&(Bt<<24|Bt>>>8),Xt=16711935&(Xt<<8|Xt>>>24)|4278255360&(Xt<<24|Xt>>>8),(io=Ut[Tt]).high^=Xt,io.low^=Bt}for(var Jt=0;Jt<24;Jt++){for(var on=0;on<5;on++){for(var _n=0,Dn=0,to=0;to<5;to++)_n^=(io=Ut[on+5*to]).high,Dn^=io.low;var hs=je[on];hs.high=_n,hs.low=Dn}for(on=0;on<5;on++){var Bs=je[(on+4)%5],ps=je[(on+1)%5],Is=ps.high,bs=ps.low;for(_n=Bs.high^(Is<<1|bs>>>31),Dn=Bs.low^(bs<<1|Is>>>31),to=0;to<5;to++)(io=Ut[on+5*to]).high^=_n,io.low^=Dn}for(var qo=1;qo<25;qo++){var Do=(io=Ut[qo]).high,zs=io.low,As=pe[qo];Dn=As<32?(_n=Do<<As|zs>>>32-As,zs<<As|Do>>>32-As):(_n=zs<<As-32|Do>>>64-As,Do<<As-32|zs>>>64-As);var Vs=je[me[qo]];Vs.high=_n,Vs.low=Dn}var go=je[0],bo=Ut[0];for(go.high=bo.high,go.low=bo.low,on=0;on<5;on++)for(to=0;to<5;to++){var io=Ut[qo=on+5*to],po=je[qo],Tr=je[(on+1)%5+5*to],vi=je[(on+2)%5+5*to];io.high=po.high^~Tr.high&vi.high,io.low=po.low^~Tr.low&vi.low}io=Ut[0];var Qn=_e[Jt];io.high^=Qn.high,io.low^=Qn.low}},_doFinalize:function(){var mt=this._data,kt=mt.words,Ut=(this._nDataBytes,8*mt.sigBytes),At=32*this.blockSize;kt[Ut>>>5]|=1<<24-Ut%32,kt[(Y.ceil((Ut+1)/At)*At>>>5)-1]|=128,mt.sigBytes=4*kt.length,this._process();for(var Tt=this._state,Bt=this.cfg.outputLength/8,Xt=Bt/8,Jt=[],on=0;on<Xt;on++){var _n=Tt[on],Dn=_n.high,to=_n.low;Dn=16711935&(Dn<<8|Dn>>>24)|4278255360&(Dn<<24|Dn>>>8),to=16711935&(to<<8|to>>>24)|4278255360&(to<<24|to>>>8),Jt.push(to),Jt.push(Dn)}return new Ce.init(Jt,Bt)},clone:function(){for(var kt=Ue.clone.call(this),Ut=kt._state=this._state.slice(0),At=0;At<25;At++)Ut[At]=Ut[At].clone();return kt}});le.SHA3=Ue._createHelper(pt),le.HmacSHA3=Ue._createHmacHelper(pt)}(Math),function(){var Y=fe,le=Y.lib.Hasher,ye=Y.x64,Ce=ye.Word,Ue=ye.WordArray,Be=Y.algo;function te(){return Ce.create.apply(Ce,arguments)}var pe=[te(1116352408,3609767458),te(1899447441,602891725),te(3049323471,3964484399),te(3921009573,2173295548),te(961987163,4081628472),te(1508970993,3053834265),te(2453635748,2937671579),te(2870763221,3664609560),te(3624381080,2734883394),te(310598401,1164996542),te(607225278,1323610764),te(1426881987,3590304994),te(1925078388,4068182383),te(2162078206,991336113),te(2614888103,633803317),te(3248222580,3479774868),te(3835390401,2666613458),te(4022224774,944711139),te(264347078,2341262773),te(604807628,2007800933),te(770255983,1495990901),te(1249150122,1856431235),te(1555081692,3175218132),te(1996064986,2198950837),te(2554220882,3999719339),te(2821834349,766784016),te(2952996808,2566594879),te(3210313671,3203337956),te(3336571891,1034457026),te(3584528711,2466948901),te(113926993,3758326383),te(338241895,168717936),te(666307205,1188179964),te(773529912,1546045734),te(1294757372,1522805485),te(1396182291,2643833823),te(1695183700,2343527390),te(1986661051,1014477480),te(2177026350,1206759142),te(2456956037,344077627),te(2730485921,1290863460),te(2820302411,3158454273),te(3259730800,3505952657),te(3345764771,106217008),te(3516065817,3606008344),te(3600352804,1432725776),te(4094571909,1467031594),te(275423344,851169720),te(430227734,3100823752),te(506948616,1363258195),te(659060556,3750685593),te(883997877,3785050280),te(958139571,3318307427),te(1322822218,3812723403),te(1537002063,2003034995),te(1747873779,3602036899),te(1955562222,1575990012),te(2024104815,1125592928),te(2227730452,2716904306),te(2361852424,442776044),te(2428436474,593698344),te(2756734187,3733110249),te(3204031479,2999351573),te(3329325298,3815920427),te(3391569614,3928383900),te(3515267271,566280711),te(3940187606,3454069534),te(4118630271,4000239992),te(116418474,1914138554),te(174292421,2731055270),te(289380356,3203993006),te(460393269,320620315),te(685471733,587496836),te(852142971,1086792851),te(1017036298,365543100),te(1126000580,2618297676),te(1288033470,3409855158),te(1501505948,4234509866),te(1607167915,987167468),te(1816402316,1246189591)],me=[];(function(){for(var je=0;je<80;je++)me[je]=te()})();var _e=Be.SHA512=le.extend({_doReset:function(){this._hash=new Ue.init([new Ce.init(1779033703,4089235720),new Ce.init(3144134277,2227873595),new Ce.init(1013904242,4271175723),new Ce.init(2773480762,1595750129),new Ce.init(1359893119,2917565137),new Ce.init(2600822924,725511199),new Ce.init(528734635,4215389547),new Ce.init(1541459225,327033209)])},_doProcessBlock:function(je,pt){for(var mt=this._hash.words,kt=mt[0],Ut=mt[1],At=mt[2],Tt=mt[3],Bt=mt[4],Xt=mt[5],Jt=mt[6],on=mt[7],_n=kt.high,Dn=kt.low,to=Ut.high,hs=Ut.low,Bs=At.high,ps=At.low,Is=Tt.high,bs=Tt.low,qo=Bt.high,Do=Bt.low,zs=Xt.high,As=Xt.low,Vs=Jt.high,go=Jt.low,bo=on.high,io=on.low,po=_n,Tr=Dn,vi=to,Qn=hs,Ur=Bs,wa=ps,Qs=Is,ia=bs,Re=qo,gt=Do,St=zs,Pt=As,Qt=Vs,Vn=go,jn=bo,vo=io,mo=0;mo<80;mo++){var Uo,cn,ds=me[mo];if(mo<16)cn=ds.high=0|je[pt+2*mo],Uo=ds.low=0|je[pt+2*mo+1];else{var us=me[mo-15],Ve=us.high,bt=us.low,Ht=(Ve>>>1|bt<<31)^(Ve>>>8|bt<<24)^Ve>>>7,ln=(bt>>>1|Ve<<31)^(bt>>>8|Ve<<24)^(bt>>>7|Ve<<25),An=me[mo-2],Wn=An.high,Yo=An.low,Oo=(Wn>>>19|Yo<<13)^(Wn<<3|Yo>>>29)^Wn>>>6,To=(Yo>>>19|Wn<<13)^(Yo<<3|Wn>>>29)^(Yo>>>6|Wn<<26),ke=me[mo-7],Ge=ke.high,yt=ke.low,Kt=me[mo-16],Cn=Kt.high,jo=Kt.low;cn=(cn=(cn=Ht+Ge+((Uo=ln+yt)>>>0<ln>>>0?1:0))+Oo+((Uo+=To)>>>0<To>>>0?1:0))+Cn+((Uo+=jo)>>>0<jo>>>0?1:0),ds.high=cn,ds.low=Uo}var gs,ir=Re&St^~Re&Qt,Or=gt&Pt^~gt&Vn,Gr=po&vi^po&Ur^vi&Ur,Rs=Tr&Qn^Tr&wa^Qn&wa,Sa=(po>>>28|Tr<<4)^(po<<30|Tr>>>2)^(po<<25|Tr>>>7),Hi=(Tr>>>28|po<<4)^(Tr<<30|po>>>2)^(Tr<<25|po>>>7),ta=(Re>>>14|gt<<18)^(Re>>>18|gt<<14)^(Re<<23|gt>>>9),Ta=(gt>>>14|Re<<18)^(gt>>>18|Re<<14)^(gt<<23|Re>>>9),xi=pe[mo],la=xi.high,Qi=xi.low,zi=jn+ta+((gs=vo+Ta)>>>0<vo>>>0?1:0),ml=Hi+Rs;jn=Qt,vo=Vn,Qt=St,Vn=Pt,St=Re,Pt=gt,Re=Qs+(zi=(zi=(zi=zi+ir+((gs=gs+Or)>>>0<Or>>>0?1:0))+la+((gs=gs+Qi)>>>0<Qi>>>0?1:0))+cn+((gs=gs+Uo)>>>0<Uo>>>0?1:0))+((gt=ia+gs|0)>>>0<ia>>>0?1:0)|0,Qs=Ur,ia=wa,Ur=vi,wa=Qn,vi=po,Qn=Tr,po=zi+(Sa+Gr+(ml>>>0<Hi>>>0?1:0))+((Tr=gs+ml|0)>>>0<gs>>>0?1:0)|0}Dn=kt.low=Dn+Tr,kt.high=_n+po+(Dn>>>0<Tr>>>0?1:0),hs=Ut.low=hs+Qn,Ut.high=to+vi+(hs>>>0<Qn>>>0?1:0),ps=At.low=ps+wa,At.high=Bs+Ur+(ps>>>0<wa>>>0?1:0),bs=Tt.low=bs+ia,Tt.high=Is+Qs+(bs>>>0<ia>>>0?1:0),Do=Bt.low=Do+gt,Bt.high=qo+Re+(Do>>>0<gt>>>0?1:0),As=Xt.low=As+Pt,Xt.high=zs+St+(As>>>0<Pt>>>0?1:0),go=Jt.low=go+Vn,Jt.high=Vs+Qt+(go>>>0<Vn>>>0?1:0),io=on.low=io+vo,on.high=bo+jn+(io>>>0<vo>>>0?1:0)},_doFinalize:function(){var je=this._data,pt=je.words,mt=8*this._nDataBytes,kt=8*je.sigBytes;return pt[kt>>>5]|=128<<24-kt%32,pt[30+(kt+128>>>10<<5)]=Math.floor(mt/4294967296),pt[31+(kt+128>>>10<<5)]=mt,je.sigBytes=4*pt.length,this._process(),this._hash.toX32()},clone:function(){var pt=le.clone.call(this);return pt._hash=this._hash.clone(),pt},blockSize:32});Y.SHA512=le._createHelper(_e),Y.HmacSHA512=le._createHmacHelper(_e)}(),st=(nt=fe).x64,Me=st.Word,tt=st.WordArray,ze=nt.algo,Ze=ze.SHA512,qe=ze.SHA384=Ze.extend({_doReset:function(){this._hash=new tt.init([new Me.init(3418070365,3238371032),new Me.init(1654270250,914150663),new Me.init(2438529370,812702999),new Me.init(355462360,4144912697),new Me.init(1731405415,4290775857),new Me.init(2394180231,1750603025),new Me.init(3675008525,1694076839),new Me.init(1203062813,3204075428)])},_doFinalize:function(){var Y=Ze._doFinalize.call(this);return Y.sigBytes-=16,Y}}),nt.SHA384=Ze._createHelper(qe),nt.HmacSHA384=Ze._createHmacHelper(qe),fe.lib.Cipher||(Ye=(Fe=fe).lib,xt=Ye.Base,ft=Ye.WordArray,Ot=Ye.BufferedBlockAlgorithm,(Rt=Fe.enc).Utf8,zt=Rt.Base64,Zt=Fe.algo.EvpKDF,wn=Ye.Cipher=Ot.extend({cfg:xt.extend(),createEncryptor:function(Y,le){return this.create(this._ENC_XFORM_MODE,Y,le)},createDecryptor:function(Y,le){return this.create(this._DEC_XFORM_MODE,Y,le)},init:function(Y,le,ye){this.cfg=this.cfg.extend(ye),this._xformMode=Y,this._key=le,this.reset()},reset:function(){Ot.reset.call(this),this._doReset()},process:function(Y){return this._append(Y),this._process()},finalize:function(Y){return Y&&this._append(Y),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Y(le){return typeof le=="string"?vn:kn}return function(le){return{encrypt:function(ye,Ce,Ue){return Y(Ce).encrypt(le,ye,Ce,Ue)},decrypt:function(ye,Ce,Ue){return Y(Ce).decrypt(le,ye,Ce,Ue)}}}}()}),Ye.StreamCipher=wn.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),Zn=Fe.mode={},et=Ye.BlockCipherMode=xt.extend({createEncryptor:function(Y,le){return this.Encryptor.create(Y,le)},createDecryptor:function(Y,le){return this.Decryptor.create(Y,le)},init:function(Y,le){this._cipher=Y,this._iv=le}}),wt=Zn.CBC=function(){var Y=et.extend();function le(ye,Ce,Ue){var Be,te=this._iv;te?(Be=te,this._iv=void 0):Be=this._prevBlock;for(var pe=0;pe<Ue;pe++)ye[Ce+pe]^=Be[pe]}return Y.Encryptor=Y.extend({processBlock:function(ye,Ce){var Ue=this._cipher,Be=Ue.blockSize;le.call(this,ye,Ce,Be),Ue.encryptBlock(ye,Ce),this._prevBlock=ye.slice(Ce,Ce+Be)}}),Y.Decryptor=Y.extend({processBlock:function(ye,Ce){var Ue=this._cipher,Be=Ue.blockSize,te=ye.slice(Ce,Ce+Be);Ue.decryptBlock(ye,Ce),le.call(this,ye,Ce,Be),this._prevBlock=te}}),Y}(),It=(Fe.pad={}).Pkcs7={pad:function(Y,le){for(var ye=4*le,Ce=ye-Y.sigBytes%ye,Ue=Ce<<24|Ce<<16|Ce<<8|Ce,Be=[],te=0;te<Ce;te+=4)Be.push(Ue);var pe=ft.create(Be,Ce);Y.concat(pe)},unpad:function(Y){var le=255&Y.words[Y.sigBytes-1>>>2];Y.sigBytes-=le}},Ye.BlockCipher=wn.extend({cfg:wn.cfg.extend({mode:wt,padding:It}),reset:function(){var Y;wn.reset.call(this);var le=this.cfg,ye=le.iv,Ce=le.mode;this._xformMode==this._ENC_XFORM_MODE?Y=Ce.createEncryptor:(Y=Ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Y?this._mode.init(this,ye&&ye.words):(this._mode=Y.call(Ce,this,ye&&ye.words),this._mode.__creator=Y)},_doProcessBlock:function(Y,le){this._mode.processBlock(Y,le)},_doFinalize:function(){var Y,le=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(le.pad(this._data,this.blockSize),Y=this._process(!0)):(Y=this._process(!0),le.unpad(Y)),Y},blockSize:4}),nn=Ye.CipherParams=xt.extend({init:function(Y){this.mixIn(Y)},toString:function(Y){return(Y||this.formatter).stringify(this)}}),bn=(Fe.format={}).OpenSSL={stringify:function(Y){var le=Y.ciphertext,ye=Y.salt;return(ye?ft.create([1398893684,1701076831]).concat(ye).concat(le):le).toString(zt)},parse:function(Y){var le,ye=zt.parse(Y),Ce=ye.words;return Ce[0]==1398893684&&Ce[1]==1701076831&&(le=ft.create(Ce.slice(2,4)),Ce.splice(0,4),ye.sigBytes-=16),nn.create({ciphertext:ye,salt:le})}},kn=Ye.SerializableCipher=xt.extend({cfg:xt.extend({format:bn}),encrypt:function(Y,le,ye,Ce){Ce=this.cfg.extend(Ce);var Ue=Y.createEncryptor(ye,Ce),Be=Ue.finalize(le),te=Ue.cfg;return nn.create({ciphertext:Be,key:ye,iv:te.iv,algorithm:Y,mode:te.mode,padding:te.padding,blockSize:Y.blockSize,formatter:Ce.format})},decrypt:function(Y,le,ye,Ce){return Ce=this.cfg.extend(Ce),le=this._parse(le,Ce.format),Y.createDecryptor(ye,Ce).finalize(le.ciphertext)},_parse:function(Y,le){return typeof Y=="string"?le.parse(Y,this):Y}}),Mn=(Fe.kdf={}).OpenSSL={execute:function(Y,le,ye,Ce){Ce||(Ce=ft.random(8));var Ue=Zt.create({keySize:le+ye}).compute(Y,Ce),Be=ft.create(Ue.words.slice(le),4*ye);return Ue.sigBytes=4*le,nn.create({key:Ue,iv:Be,salt:Ce})}},vn=Ye.PasswordBasedCipher=kn.extend({cfg:kn.cfg.extend({kdf:Mn}),encrypt:function(Y,le,ye,Ce){var Ue=(Ce=this.cfg.extend(Ce)).kdf.execute(ye,Y.keySize,Y.ivSize);Ce.iv=Ue.iv;var Be=kn.encrypt.call(this,Y,le,Ue.key,Ce);return Be.mixIn(Ue),Be},decrypt:function(Y,le,ye,Ce){Ce=this.cfg.extend(Ce),le=this._parse(le,Ce.format);var Ue=Ce.kdf.execute(ye,Y.keySize,Y.ivSize,le.salt);return Ce.iv=Ue.iv,kn.decrypt.call(this,Y,le,Ue.key,Ce)}})),fe.mode.CFB=function(){var Y=fe.lib.BlockCipherMode.extend();function le(ye,Ce,Ue,Be){var te,pe=this._iv;pe?(te=pe.slice(0),this._iv=void 0):te=this._prevBlock,Be.encryptBlock(te,0);for(var me=0;me<Ue;me++)ye[Ce+me]^=te[me]}return Y.Encryptor=Y.extend({processBlock:function(ye,Ce){var Ue=this._cipher,Be=Ue.blockSize;le.call(this,ye,Ce,Be,Ue),this._prevBlock=ye.slice(Ce,Ce+Be)}}),Y.Decryptor=Y.extend({processBlock:function(ye,Ce){var Ue=this._cipher,Be=Ue.blockSize,te=ye.slice(Ce,Ce+Be);le.call(this,ye,Ce,Be,Ue),this._prevBlock=te}}),Y}(),fe.mode.ECB=((Hn=fe.lib.BlockCipherMode.extend()).Encryptor=Hn.extend({processBlock:function(Y,le){this._cipher.encryptBlock(Y,le)}}),Hn.Decryptor=Hn.extend({processBlock:function(Y,le){this._cipher.decryptBlock(Y,le)}}),Hn),fe.pad.AnsiX923={pad:function(Y,le){var ye=Y.sigBytes,Ce=4*le,Ue=Ce-ye%Ce,Be=ye+Ue-1;Y.clamp(),Y.words[Be>>>2]|=Ue<<24-Be%4*8,Y.sigBytes+=Ue},unpad:function(Y){var le=255&Y.words[Y.sigBytes-1>>>2];Y.sigBytes-=le}},fe.pad.Iso10126={pad:function(Y,le){var ye=4*le,Ce=ye-Y.sigBytes%ye;Y.concat(fe.lib.WordArray.random(Ce-1)).concat(fe.lib.WordArray.create([Ce<<24],1))},unpad:function(Y){var le=255&Y.words[Y.sigBytes-1>>>2];Y.sigBytes-=le}},fe.pad.Iso97971={pad:function(Y,le){Y.concat(fe.lib.WordArray.create([2147483648],1)),fe.pad.ZeroPadding.pad(Y,le)},unpad:function(Y){fe.pad.ZeroPadding.unpad(Y),Y.sigBytes--}},fe.mode.OFB=(So=fe.lib.BlockCipherMode.extend(),ro=So.Encryptor=So.extend({processBlock:function(Y,le){var ye=this._cipher,Ce=ye.blockSize,Ue=this._iv,Be=this._keystream;Ue&&(Be=this._keystream=Ue.slice(0),this._iv=void 0),ye.encryptBlock(Be,0);for(var te=0;te<Ce;te++)Y[le+te]^=Be[te]}}),So.Decryptor=ro,So),fe.pad.NoPadding={pad:function(){},unpad:function(){}},zn=(Xo=fe).lib.CipherParams,cs=Xo.enc.Hex,Xo.format.Hex={stringify:function(Y){return Y.ciphertext.toString(cs)},parse:function(Y){var le=cs.parse(Y);return zn.create({ciphertext:le})}},function(){var Y=fe,le=Y.lib.BlockCipher,ye=Y.algo,Ce=[],Ue=[],Be=[],te=[],pe=[],me=[],_e=[],je=[],pt=[],mt=[];(function(){for(var At=[],Tt=0;Tt<256;Tt++)At[Tt]=Tt<128?Tt<<1:Tt<<1^283;var Bt=0,Xt=0;for(Tt=0;Tt<256;Tt++){var Jt=Xt^Xt<<1^Xt<<2^Xt<<3^Xt<<4;Jt=Jt>>>8^255&Jt^99,Ce[Bt]=Jt;var on=At[Ue[Jt]=Bt],_n=At[on],Dn=At[_n],to=257*At[Jt]^16843008*Jt;Be[Bt]=to<<24|to>>>8,te[Bt]=to<<16|to>>>16,pe[Bt]=to<<8|to>>>24,me[Bt]=to,to=16843009*Dn^65537*_n^257*on^16843008*Bt,_e[Jt]=to<<24|to>>>8,je[Jt]=to<<16|to>>>16,pt[Jt]=to<<8|to>>>24,mt[Jt]=to,Bt?(Bt=on^At[At[At[Dn^on]]],Xt^=At[At[Xt]]):Bt=Xt=1}})();var kt=[0,1,2,4,8,16,32,64,128,27,54],Ut=ye.AES=le.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var At=this._keyPriorReset=this._key,Tt=At.words,Bt=At.sigBytes/4,Xt=4*((this._nRounds=Bt+6)+1),Jt=this._keySchedule=[],on=0;on<Xt;on++)on<Bt?Jt[on]=Tt[on]:(to=Jt[on-1],on%Bt?6<Bt&&on%Bt==4&&(to=Ce[to>>>24]<<24|Ce[to>>>16&255]<<16|Ce[to>>>8&255]<<8|Ce[255&to]):(to=Ce[(to=to<<8|to>>>24)>>>24]<<24|Ce[to>>>16&255]<<16|Ce[to>>>8&255]<<8|Ce[255&to],to^=kt[on/Bt|0]<<24),Jt[on]=Jt[on-Bt]^to);for(var _n=this._invKeySchedule=[],Dn=0;Dn<Xt;Dn++){if(on=Xt-Dn,Dn%4)var to=Jt[on];else to=Jt[on-4];_n[Dn]=Dn<4||on<=4?to:_e[Ce[to>>>24]]^je[Ce[to>>>16&255]]^pt[Ce[to>>>8&255]]^mt[Ce[255&to]]}}},encryptBlock:function(At,Tt){this._doCryptBlock(At,Tt,this._keySchedule,Be,te,pe,me,Ce)},decryptBlock:function(At,Tt){var Bt=At[Tt+1];At[Tt+1]=At[Tt+3],At[Tt+3]=Bt,this._doCryptBlock(At,Tt,this._invKeySchedule,_e,je,pt,mt,Ue),Bt=At[Tt+1],At[Tt+1]=At[Tt+3],At[Tt+3]=Bt},_doCryptBlock:function(At,Tt,Bt,Xt,Jt,on,_n,Dn){for(var to=this._nRounds,hs=At[Tt]^Bt[0],Bs=At[Tt+1]^Bt[1],ps=At[Tt+2]^Bt[2],Is=At[Tt+3]^Bt[3],bs=4,qo=1;qo<to;qo++){var Do=Xt[hs>>>24]^Jt[Bs>>>16&255]^on[ps>>>8&255]^_n[255&Is]^Bt[bs++],zs=Xt[Bs>>>24]^Jt[ps>>>16&255]^on[Is>>>8&255]^_n[255&hs]^Bt[bs++],As=Xt[ps>>>24]^Jt[Is>>>16&255]^on[hs>>>8&255]^_n[255&Bs]^Bt[bs++],Vs=Xt[Is>>>24]^Jt[hs>>>16&255]^on[Bs>>>8&255]^_n[255&ps]^Bt[bs++];hs=Do,Bs=zs,ps=As,Is=Vs}Do=(Dn[hs>>>24]<<24|Dn[Bs>>>16&255]<<16|Dn[ps>>>8&255]<<8|Dn[255&Is])^Bt[bs++],zs=(Dn[Bs>>>24]<<24|Dn[ps>>>16&255]<<16|Dn[Is>>>8&255]<<8|Dn[255&hs])^Bt[bs++],As=(Dn[ps>>>24]<<24|Dn[Is>>>16&255]<<16|Dn[hs>>>8&255]<<8|Dn[255&Bs])^Bt[bs++],Vs=(Dn[Is>>>24]<<24|Dn[hs>>>16&255]<<16|Dn[Bs>>>8&255]<<8|Dn[255&ps])^Bt[bs++],At[Tt]=Do,At[Tt+1]=zs,At[Tt+2]=As,At[Tt+3]=Vs},keySize:8});Y.AES=le._createHelper(Ut)}(),function(){var Y=fe,le=Y.lib,ye=le.WordArray,Ce=le.BlockCipher,Ue=Y.algo,Be=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],te=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],pe=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],me=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_e=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],je=Ue.DES=Ce.extend({_doReset:function(){for(var Ut=this._key.words,At=[],Tt=0;Tt<56;Tt++){var Bt=Be[Tt]-1;At[Tt]=Ut[Bt>>>5]>>>31-Bt%32&1}for(var Xt=this._subKeys=[],Jt=0;Jt<16;Jt++){var on=Xt[Jt]=[],_n=pe[Jt];for(Tt=0;Tt<24;Tt++)on[Tt/6|0]|=At[(te[Tt]-1+_n)%28]<<31-Tt%6,on[4+(Tt/6|0)]|=At[28+(te[Tt+24]-1+_n)%28]<<31-Tt%6;for(on[0]=on[0]<<1|on[0]>>>31,Tt=1;Tt<7;Tt++)on[Tt]=on[Tt]>>>4*(Tt-1)+3;on[7]=on[7]<<5|on[7]>>>27}var Dn=this._invSubKeys=[];for(Tt=0;Tt<16;Tt++)Dn[Tt]=Xt[15-Tt]},encryptBlock:function(Ut,At){this._doCryptBlock(Ut,At,this._subKeys)},decryptBlock:function(Ut,At){this._doCryptBlock(Ut,At,this._invSubKeys)},_doCryptBlock:function(Ut,At,Tt){this._lBlock=Ut[At],this._rBlock=Ut[At+1],pt.call(this,4,252645135),pt.call(this,16,65535),mt.call(this,2,858993459),mt.call(this,8,16711935),pt.call(this,1,1431655765);for(var Bt=0;Bt<16;Bt++){for(var Xt=Tt[Bt],Jt=this._lBlock,on=this._rBlock,_n=0,Dn=0;Dn<8;Dn++)_n|=me[Dn][((on^Xt[Dn])&_e[Dn])>>>0];this._lBlock=on,this._rBlock=Jt^_n}var to=this._lBlock;this._lBlock=this._rBlock,this._rBlock=to,pt.call(this,1,1431655765),mt.call(this,8,16711935),mt.call(this,2,858993459),pt.call(this,16,65535),pt.call(this,4,252645135),Ut[At]=this._lBlock,Ut[At+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function pt(Ut,At){var Tt=(this._lBlock>>>Ut^this._rBlock)&At;this._rBlock^=Tt,this._lBlock^=Tt<<Ut}function mt(Ut,At){var Tt=(this._rBlock>>>Ut^this._lBlock)&At;this._lBlock^=Tt,this._rBlock^=Tt<<Ut}Y.DES=Ce._createHelper(je);var kt=Ue.TripleDES=Ce.extend({_doReset:function(){var Ut=this._key.words;if(Ut.length!==2&&Ut.length!==4&&Ut.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var At=Ut.slice(0,2),Tt=Ut.length<4?Ut.slice(0,2):Ut.slice(2,4),Bt=Ut.length<6?Ut.slice(0,2):Ut.slice(4,6);this._des1=je.createEncryptor(ye.create(At)),this._des2=je.createEncryptor(ye.create(Tt)),this._des3=je.createEncryptor(ye.create(Bt))},encryptBlock:function(Ut,At){this._des1.encryptBlock(Ut,At),this._des2.decryptBlock(Ut,At),this._des3.encryptBlock(Ut,At)},decryptBlock:function(Ut,At){this._des3.decryptBlock(Ut,At),this._des2.encryptBlock(Ut,At),this._des1.decryptBlock(Ut,At)},keySize:6,ivSize:2,blockSize:2});Y.TripleDES=Ce._createHelper(kt)}(),function(){var Y=fe,le=Y.lib.StreamCipher,ye=Y.algo,Ce=ye.RC4=le.extend({_doReset:function(){for(var te=this._key,pe=te.words,me=te.sigBytes,_e=this._S=[],je=0;je<256;je++)_e[je]=je;je=0;for(var pt=0;je<256;je++){var mt=je%me,kt=pe[mt>>>2]>>>24-mt%4*8&255;pt=(pt+_e[je]+kt)%256;var Ut=_e[je];_e[je]=_e[pt],_e[pt]=Ut}this._i=this._j=0},_doProcessBlock:function(te,pe){te[pe]^=Ue.call(this)},keySize:8,ivSize:0});function Ue(){for(var te=this._S,pe=this._i,me=this._j,_e=0,je=0;je<4;je++){me=(me+te[pe=(pe+1)%256])%256;var pt=te[pe];te[pe]=te[me],te[me]=pt,_e|=te[(te[pe]+te[me])%256]<<24-8*je}return this._i=pe,this._j=me,_e}Y.RC4=le._createHelper(Ce);var Be=ye.RC4Drop=Ce.extend({cfg:Ce.cfg.extend({drop:192}),_doReset:function(){Ce._doReset.call(this);for(var te=this.cfg.drop;0<te;te--)Ue.call(this)}});Y.RC4Drop=le._createHelper(Be)}(),fe.mode.CTRGladman=function(){var Y=fe.lib.BlockCipherMode.extend();function le(Ce){if((Ce>>24&255)==255){var Ue=Ce>>16&255,Be=Ce>>8&255,te=255&Ce;Ue===255?(Ue=0,Be===255?(Be=0,te===255?te=0:++te):++Be):++Ue,Ce=0,Ce+=Ue<<16,Ce+=Be<<8,Ce+=te}else Ce+=1<<24;return Ce}var ye=Y.Encryptor=Y.extend({processBlock:function(Ce,Ue){var Be=this._cipher,te=Be.blockSize,pe=this._iv,me=this._counter;pe&&(me=this._counter=pe.slice(0),this._iv=void 0),function(mt){return(mt[0]=le(mt[0]))===0&&(mt[1]=le(mt[1])),mt}(me);var _e=me.slice(0);Be.encryptBlock(_e,0);for(var je=0;je<te;je++)Ce[Ue+je]^=_e[je]}});return Y.Decryptor=ye,Y}(),function(){var Y=fe,le=Y.lib.StreamCipher,ye=Y.algo,Ce=[],Ue=[],Be=[],te=ye.Rabbit=le.extend({_doReset:function(){for(var me=this._key.words,_e=this.cfg.iv,je=0;je<4;je++)me[je]=16711935&(me[je]<<8|me[je]>>>24)|4278255360&(me[je]<<24|me[je]>>>8);var pt=this._X=[me[0],me[3]<<16|me[2]>>>16,me[1],me[0]<<16|me[3]>>>16,me[2],me[1]<<16|me[0]>>>16,me[3],me[2]<<16|me[1]>>>16],mt=this._C=[me[2]<<16|me[2]>>>16,4294901760&me[0]|65535&me[1],me[3]<<16|me[3]>>>16,4294901760&me[1]|65535&me[2],me[0]<<16|me[0]>>>16,4294901760&me[2]|65535&me[3],me[1]<<16|me[1]>>>16,4294901760&me[3]|65535&me[0]];for(je=this._b=0;je<4;je++)pe.call(this);for(je=0;je<8;je++)mt[je]^=pt[je+4&7];if(_e){var kt=_e.words,Ut=kt[0],At=kt[1],Tt=16711935&(Ut<<8|Ut>>>24)|4278255360&(Ut<<24|Ut>>>8),Bt=16711935&(At<<8|At>>>24)|4278255360&(At<<24|At>>>8),Xt=Tt>>>16|4294901760&Bt,Jt=Bt<<16|65535&Tt;for(mt[0]^=Tt,mt[1]^=Xt,mt[2]^=Bt,mt[3]^=Jt,mt[4]^=Tt,mt[5]^=Xt,mt[6]^=Bt,mt[7]^=Jt,je=0;je<4;je++)pe.call(this)}},_doProcessBlock:function(me,_e){var je=this._X;pe.call(this),Ce[0]=je[0]^je[5]>>>16^je[3]<<16,Ce[1]=je[2]^je[7]>>>16^je[5]<<16,Ce[2]=je[4]^je[1]>>>16^je[7]<<16,Ce[3]=je[6]^je[3]>>>16^je[1]<<16;for(var pt=0;pt<4;pt++)Ce[pt]=16711935&(Ce[pt]<<8|Ce[pt]>>>24)|4278255360&(Ce[pt]<<24|Ce[pt]>>>8),me[_e+pt]^=Ce[pt]},blockSize:4,ivSize:2});function pe(){for(var me=this._X,_e=this._C,je=0;je<8;je++)Ue[je]=_e[je];for(_e[0]=_e[0]+1295307597+this._b|0,_e[1]=_e[1]+3545052371+(_e[0]>>>0<Ue[0]>>>0?1:0)|0,_e[2]=_e[2]+886263092+(_e[1]>>>0<Ue[1]>>>0?1:0)|0,_e[3]=_e[3]+1295307597+(_e[2]>>>0<Ue[2]>>>0?1:0)|0,_e[4]=_e[4]+3545052371+(_e[3]>>>0<Ue[3]>>>0?1:0)|0,_e[5]=_e[5]+886263092+(_e[4]>>>0<Ue[4]>>>0?1:0)|0,_e[6]=_e[6]+1295307597+(_e[5]>>>0<Ue[5]>>>0?1:0)|0,_e[7]=_e[7]+3545052371+(_e[6]>>>0<Ue[6]>>>0?1:0)|0,this._b=_e[7]>>>0<Ue[7]>>>0?1:0,je=0;je<8;je++){var pt=me[je]+_e[je],mt=65535&pt,kt=pt>>>16,Ut=((mt*mt>>>17)+mt*kt>>>15)+kt*kt,At=((4294901760&pt)*pt|0)+((65535&pt)*pt|0);Be[je]=Ut^At}me[0]=Be[0]+(Be[7]<<16|Be[7]>>>16)+(Be[6]<<16|Be[6]>>>16)|0,me[1]=Be[1]+(Be[0]<<8|Be[0]>>>24)+Be[7]|0,me[2]=Be[2]+(Be[1]<<16|Be[1]>>>16)+(Be[0]<<16|Be[0]>>>16)|0,me[3]=Be[3]+(Be[2]<<8|Be[2]>>>24)+Be[1]|0,me[4]=Be[4]+(Be[3]<<16|Be[3]>>>16)+(Be[2]<<16|Be[2]>>>16)|0,me[5]=Be[5]+(Be[4]<<8|Be[4]>>>24)+Be[3]|0,me[6]=Be[6]+(Be[5]<<16|Be[5]>>>16)+(Be[4]<<16|Be[4]>>>16)|0,me[7]=Be[7]+(Be[6]<<8|Be[6]>>>24)+Be[5]|0}Y.Rabbit=le._createHelper(te)}(),fe.mode.CTR=(ms=fe.lib.BlockCipherMode.extend(),Et=ms.Encryptor=ms.extend({processBlock:function(Y,le){var ye=this._cipher,Ce=ye.blockSize,Ue=this._iv,Be=this._counter;Ue&&(Be=this._counter=Ue.slice(0),this._iv=void 0);var te=Be.slice(0);ye.encryptBlock(te,0),Be[Ce-1]=Be[Ce-1]+1|0;for(var pe=0;pe<Ce;pe++)Y[le+pe]^=te[pe]}}),ms.Decryptor=Et,ms),function(){var Y=fe,le=Y.lib.StreamCipher,ye=Y.algo,Ce=[],Ue=[],Be=[],te=ye.RabbitLegacy=le.extend({_doReset:function(){for(var me=this._key.words,_e=this.cfg.iv,je=this._X=[me[0],me[3]<<16|me[2]>>>16,me[1],me[0]<<16|me[3]>>>16,me[2],me[1]<<16|me[0]>>>16,me[3],me[2]<<16|me[1]>>>16],pt=this._C=[me[2]<<16|me[2]>>>16,4294901760&me[0]|65535&me[1],me[3]<<16|me[3]>>>16,4294901760&me[1]|65535&me[2],me[0]<<16|me[0]>>>16,4294901760&me[2]|65535&me[3],me[1]<<16|me[1]>>>16,4294901760&me[3]|65535&me[0]],mt=this._b=0;mt<4;mt++)pe.call(this);for(mt=0;mt<8;mt++)pt[mt]^=je[mt+4&7];if(_e){var kt=_e.words,Ut=kt[0],At=kt[1],Tt=16711935&(Ut<<8|Ut>>>24)|4278255360&(Ut<<24|Ut>>>8),Bt=16711935&(At<<8|At>>>24)|4278255360&(At<<24|At>>>8),Xt=Tt>>>16|4294901760&Bt,Jt=Bt<<16|65535&Tt;for(pt[0]^=Tt,pt[1]^=Xt,pt[2]^=Bt,pt[3]^=Jt,pt[4]^=Tt,pt[5]^=Xt,pt[6]^=Bt,pt[7]^=Jt,mt=0;mt<4;mt++)pe.call(this)}},_doProcessBlock:function(me,_e){var je=this._X;pe.call(this),Ce[0]=je[0]^je[5]>>>16^je[3]<<16,Ce[1]=je[2]^je[7]>>>16^je[5]<<16,Ce[2]=je[4]^je[1]>>>16^je[7]<<16,Ce[3]=je[6]^je[3]>>>16^je[1]<<16;for(var pt=0;pt<4;pt++)Ce[pt]=16711935&(Ce[pt]<<8|Ce[pt]>>>24)|4278255360&(Ce[pt]<<24|Ce[pt]>>>8),me[_e+pt]^=Ce[pt]},blockSize:4,ivSize:2});function pe(){for(var me=this._X,_e=this._C,je=0;je<8;je++)Ue[je]=_e[je];for(_e[0]=_e[0]+1295307597+this._b|0,_e[1]=_e[1]+3545052371+(_e[0]>>>0<Ue[0]>>>0?1:0)|0,_e[2]=_e[2]+886263092+(_e[1]>>>0<Ue[1]>>>0?1:0)|0,_e[3]=_e[3]+1295307597+(_e[2]>>>0<Ue[2]>>>0?1:0)|0,_e[4]=_e[4]+3545052371+(_e[3]>>>0<Ue[3]>>>0?1:0)|0,_e[5]=_e[5]+886263092+(_e[4]>>>0<Ue[4]>>>0?1:0)|0,_e[6]=_e[6]+1295307597+(_e[5]>>>0<Ue[5]>>>0?1:0)|0,_e[7]=_e[7]+3545052371+(_e[6]>>>0<Ue[6]>>>0?1:0)|0,this._b=_e[7]>>>0<Ue[7]>>>0?1:0,je=0;je<8;je++){var pt=me[je]+_e[je],mt=65535&pt,kt=pt>>>16,Ut=((mt*mt>>>17)+mt*kt>>>15)+kt*kt,At=((4294901760&pt)*pt|0)+((65535&pt)*pt|0);Be[je]=Ut^At}me[0]=Be[0]+(Be[7]<<16|Be[7]>>>16)+(Be[6]<<16|Be[6]>>>16)|0,me[1]=Be[1]+(Be[0]<<8|Be[0]>>>24)+Be[7]|0,me[2]=Be[2]+(Be[1]<<16|Be[1]>>>16)+(Be[0]<<16|Be[0]>>>16)|0,me[3]=Be[3]+(Be[2]<<8|Be[2]>>>24)+Be[1]|0,me[4]=Be[4]+(Be[3]<<16|Be[3]>>>16)+(Be[2]<<16|Be[2]>>>16)|0,me[5]=Be[5]+(Be[4]<<8|Be[4]>>>24)+Be[3]|0,me[6]=Be[6]+(Be[5]<<16|Be[5]>>>16)+(Be[4]<<16|Be[4]>>>16)|0,me[7]=Be[7]+(Be[6]<<8|Be[6]>>>24)+Be[5]|0}Y.RabbitLegacy=le._createHelper(te)}(),fe.pad.ZeroPadding={pad:function(Y,le){var ye=4*le;Y.clamp(),Y.sigBytes+=ye-(Y.sigBytes%ye||ye)},unpad:function(Y){var le=Y.words,ye=Y.sigBytes-1;for(ye=Y.sigBytes-1;0<=ye;ye--)if(le[ye>>>2]>>>24-ye%4*8&255){Y.sigBytes=ye+1;break}}},{init:function(){},cryptoJS:fe}},Object.assign(x.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),x.PLUGINS.fontFamily=function(s){var b=s.$;function $(f){var N=f.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return b(this).grep(N,function(O){return 0<O.length})}function ge(f,N){for(var O=0;O<f.length;O++)for(var T=0;T<N.length;T++)if(f[O].toLowerCase()===N[T].toLowerCase())return[O,T];return null}function a(){var f=$(b(s.selection.element()).css("font-family")),N=[];for(var O in s.opts.fontFamily)if(s.opts.fontFamily.hasOwnProperty(O)){var T=ge(f,$(O));T&&N.push([O,T])}return N.length===0?null:(N.sort(function(L,B){var G=L[1][0]-B[1][0];return G===0?L[1][1]-B[1][1]:G}),N[0][0])}return{apply:function(N){s.format.applyStyle("font-family",N)},refreshOnShow:function(N,O){O.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),O.find('.fr-command[data-param1="'.concat(a(),'"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(N){if(s.opts.fontFamilySelection){var O=b(s.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");N.find("> span").text(s.opts.fontFamily[a()]||O[0]||s.language.translate(s.opts.fontFamilyDefaultSelection))}}}},x.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(s){return s.opts.fontFamilySelection},defaultSelection:function(s){return s.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.fontFamily;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'.concat($,`" 
        style="font-family: `).concat($,'" title="').concat(b[$],'">').concat(b[$],"</a></li>"));return s+="</ul>"},title:"Font Family",callback:function(s,b){this.fontFamily.apply(b)},refresh:function(s){this.fontFamily.refresh(s)},refreshOnShow:function(s,b){this.fontFamily.refreshOnShow(s,b)},plugin:"fontFamily"}),x.DefineIcon("fontFamily",{NAME:"font",SVG_KEY:"fontFamily"}),Object.assign(x.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"Font Size",fontSizeUnit:"px"}),x.PLUGINS.fontSize=function(s){var b=s.$;return{apply:function(ge){s.format.applyStyle("font-size",ge)},refreshOnShow:function(ge,a){var f=b(s.selection.element()).css("font-size");s.opts.fontSizeUnit==="pt"&&(f="".concat(Math.round(72*parseFloat(f,10)/96),"pt")),a.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),a.find('.fr-command[data-param1="'.concat(f,'"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(ge){if(s.opts.fontSizeSelection){var a=s.helpers.getPX(b(s.selection.element()).css("font-size"));s.opts.fontSizeUnit==="pt"&&(a="".concat(Math.round(72*parseFloat(a,10)/96),"pt")),ge.find("> span").text(a)}}}},x.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(s){return s.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(s){return s.opts.fontSizeDefaultSelection},html:function(){for(var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.fontSize,$=0;$<b.length;$++){var ge=b[$];s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'.concat(ge).concat(this.opts.fontSizeUnit,'" title="').concat(ge,'">').concat(ge,"</a></li>")}return s+="</ul>"},callback:function(s,b){this.fontSize.apply(b)},refresh:function(s){this.fontSize.refresh(s)},refreshOnShow:function(s,b){this.fontSize.refreshOnShow(s,b)},plugin:"fontSize"}),x.DefineIcon("fontSize",{NAME:"text-height",SVG_KEY:"fontSize"}),Object.assign(x.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),Object.assign(x.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),x.PLUGINS.forms=function(s){var b,$=s.$;function ge(P){s.selection.clear(),$(this).data("mousedown",!0)}function a(P){$(this).data("mousedown")&&(P.stopPropagation(),$(this).removeData("mousedown"),T(b=this)),P.preventDefault()}function f(){s.$el.find("input, textarea, button").removeData("mousedown")}function N(){$(this).removeData("mousedown")}function O(){return b||null}function T(P){if(["checkbox","radio"].indexOf(P.type)==-1){var F=s.popups.get("forms.edit");F||(F=function(){var he="";0<s.opts.formEditButtons.length&&(he='<div class="fr-buttons">'.concat(s.button.buildList(s.opts.formEditButtons),"</div>"));var be={buttons:he},se=s.popups.create("forms.edit",be);return s.$wp&&s.events.$on(s.$wp,"scroll.link-edit",function(){O()&&s.popups.isVisible("forms.edit")&&T(O())}),se}());var j=$(b=P);s.popups.refresh("forms.edit"),s.popups.setContainer("forms.edit",s.$sc);var H=j.offset().left+j.outerWidth()/2,ee=j.offset().top+j.outerHeight();s.popups.show("forms.edit",H,ee,j.outerHeight())}}function L(){var P=s.popups.get("forms.update"),F=O();if(F){var j=$(F);j.is("button")?P.find('input[type="text"][name="text"]').val(j.text()):j.is("input[type=button]")||j.is("input[type=submit]")||j.is("input[type=reset]")?P.find('input[type="text"][name="text"]').val(j.val()):P.find('input[type="text"][name="text"]').val(j.attr("placeholder"))}P.find('input[type="text"][name="text"]').trigger("change")}function B(){b=null}function G(P){if(P)return s.popups.onRefresh("forms.update",L),s.popups.onHide("forms.update",B),!0;var F="";1<=s.opts.formUpdateButtons.length&&(F='<div class="fr-buttons">'.concat(s.button.buildList(s.opts.formUpdateButtons),"</div>"));var j=0,H={buttons:F,text_layer:`<div class="fr-forms-text-layer fr-layer fr-active"> 
    <div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex=" `.concat(++j,` "></div>
    <div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="`).concat(2,'" type="button">').concat(s.language.translate("Update"),"</button></div></div>")};return s.popups.create("forms.update",H)}return{_init:function(){(function(){s.events.$on(s.$el,s._mousedown,"input, textarea, button",ge),s.events.$on(s.$el,s._mouseup,"input, textarea, button",a),s.events.$on(s.$el,"touchmove","input, textarea, button",N),s.events.$on(s.$el,s._mouseup,f),s.events.$on(s.$win,s._mouseup,f),G(!0)})(),s.events.$on(s.$el,"submit","form",function(F){return F.preventDefault(),!1})},updateInput:function(){var F=s.popups.get("forms.update"),j=O();if(j){var H=$(j),ee=F.find('input[type="text"][name="text"]').val()||"";H.is("button")?ee.length?H.text(ee):H.text(""):["button","submit","reset"].indexOf(j.type)!=-1?H.attr("value",ee):H.attr("placeholder",ee),s.popups.hide("forms.update"),T(j)}},getInput:O,applyStyle:function(F,j,H){j===void 0&&(j=s.opts.formStyles),H===void 0&&(H=s.opts.formMultipleStyles);var ee=O();if(!ee)return!1;if(!H){var w=Object.keys(j);w.splice(w.indexOf(F),1),$(ee).removeClass(w.join(" "))}$(ee).toggleClass(F)},showUpdatePopup:function(){var F=O();if(F){var j=$(F),H=s.popups.get("forms.update");H||(H=G()),s.popups.isVisible("forms.update")||s.popups.refresh("forms.update"),s.popups.setContainer("forms.update",s.$sc);var ee=j.offset().left+j.outerWidth()/2,w=j.offset().top+j.outerHeight();s.popups.show("forms.update",ee,w,j.outerHeight())}},showEditPopup:T,back:function(){s.events.disableBlur(),s.selection.restore(),s.events.enableBlur();var F=O();F&&s.$wp&&(F.tagName==="BUTTON"&&s.selection.restore(),T(F))}}},x.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),x.DefineIcon("inputStyle",{NAME:"magic",SVG_KEY:"inlineStyle"}),x.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list">',b=this.opts.formStyles;for(var $ in b)b.hasOwnProperty($)&&(s+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'.concat($,'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},callback:function(s,b){var $=this.forms.getInput();$&&(this.forms.applyStyle(b),this.forms.showEditPopup($))},refreshOnShow:function(s,b){var $=this.$,ge=this.forms.getInput();if(ge){var a=$(ge);b.find(".fr-command").each(function(){var f=$(this).data("param1");$(this).toggleClass("fr-active",a.hasClass(f))})}}}),x.DefineIcon("inputEdit",{NAME:"edit",SVG_KEY:"edit"}),x.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),x.DefineIcon("inputBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),x.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),x.PLUGINS.fullscreen=function(s){var b,$,ge,a,f=s.$,N=function(){return s.$box.hasClass("fr-fullscreen")};function O(){if(s.helpers.isIOS()&&s.core.hasFocus())return s.$el.blur(),setTimeout(L,250),!1;b=s.helpers.scrollTop(),s.opts.iframe&&s.markdown&&s.markdown.isEnabled()&&(s.$box=s.$oel),s.$box.toggleClass("fr-fullscreen"),f("body").first().toggleClass("fr-fullscreen"),s.helpers.isMobile()&&(s.opts.toolbarBottom?s.$tb[0].removeAttribute("style"):(s.$tb.data("parent",s.$tb.parent()),s.$box.prepend(s.$tb),s.$tb.data("sticky-dummy")&&s.$tb.after(s.$tb.data("sticky-dummy")))),$=s.opts.height,ge=s.opts.heightMax,a=s.opts.zIndex,s.opts.height=s.o_win.innerHeight-(s.opts.toolbarInline?0:s.$tb.outerHeight()+(s.$second_tb?s.$second_tb.outerHeight():0)),s.opts.zIndex=2147483641,s.opts.heightMax=null,s.size.refresh(),s.opts.toolbarInline&&s.toolbar.showInline();for(var G=s.$box.parent();!G.first().is("body");)G.addClass("fr-fullscreen-wrapper"),G=G.parent();s.opts.toolbarContainer&&s.$box.prepend(s.$tb),s.events.trigger("charCounter.update"),s.events.trigger("codeView.update"),s.$win.trigger("scroll")}function T(){if(s.helpers.isIOS()&&s.core.hasFocus())return s.$el.blur(),setTimeout(L,250),!1;s.$box.toggleClass("fr-fullscreen"),f("body").first().toggleClass("fr-fullscreen"),s.$tb.data("parent")&&s.$tb.data("parent").prepend(s.$tb),s.$tb.data("sticky-dummy")&&s.$tb.after(s.$tb.data("sticky-dummy")),s.opts.height=$,s.opts.heightMax=ge,s.opts.zIndex=a,s.size.refresh(),s.o_win.scroll(0,b),s.opts.toolbarInline&&s.toolbar.showInline(),s.events.trigger("charCounter.update"),s.opts.toolbarSticky&&s.opts.toolbarStickyOffset&&(s.opts.toolbarBottom?s.$tb.css("bottom",s.opts.toolbarStickyOffset).data("bottom",s.opts.toolbarStickyOffset):s.$tb.css("top",s.opts.toolbarStickyOffset).data("top",s.opts.toolbarStickyOffset));for(var G=s.$box.parent();!G.first().is("body");)G.removeClass("fr-fullscreen-wrapper"),G=G.parent();s.opts.toolbarContainer&&f(s.opts.toolbarContainer).append(s.$tb),f(s.o_win).trigger("scroll"),s.events.trigger("codeView.update")}function L(){N()?T():O(),B(s.$tb.find('.fr-command[data-cmd="fullscreen"]'));var G=s.$tb.find('.fr-command[data-cmd="moreText"]'),P=s.$tb.find('.fr-command[data-cmd="moreParagraph"]'),F=s.$tb.find('.fr-command[data-cmd="moreRich"]'),j=s.$tb.find('.fr-command[data-cmd="moreMisc"]');G.length&&s.refresh.moreText(G),P.length&&s.refresh.moreParagraph(P),F.length&&s.refresh.moreRich(F),j.length&&s.refresh.moreMisc(j)}function B(G){var P=N();G.toggleClass("fr-active",P).attr("aria-pressed",P),G.find("> *").not(".fr-sr-only").replaceWith(P?s.icon.create("fullscreenCompress"):s.icon.create("fullscreen"))}return{_init:function(){if(!s.$wp)return!1;s.events.$on(f(s.o_win),"resize",function(){N()&&(T(),O())}),s.events.on("toolbar.hide",function(){if(N()&&s.helpers.isMobile())return!1}),s.events.on("position.refresh",function(){if(s.helpers.isIOS())return!N()}),s.events.on("destroy",function(){N()&&T()},!0)},toggle:L,refresh:B,isActive:N}},x.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(s){this.fullscreen.refresh(s)},plugin:"fullscreen"}),x.DefineIcon("fullscreen",{NAME:"expand",SVG_KEY:"fullscreen"}),x.DefineIcon("fullscreenCompress",{NAME:"compress",SVG_KEY:"exitFullscreen"}),Object.assign(x.DEFAULTS,{helpSets:[{title:"Inline Editor",commands:[{val:"OSkeyE",desc:"Show the editor"}]},{title:"Common actions",commands:[{val:"OSkeyC",desc:"Copy"},{val:"OSkeyX",desc:"Cut"},{val:"OSkeyV",desc:"Paste"},{val:"OSkeyZ",desc:"Undo"},{val:"OSkeyShift+Z",desc:"Redo"},{val:"OSkeyK",desc:"Insert Link"},{val:"OSkeyP",desc:"Insert Image"}]},{title:"Basic Formatting",commands:[{val:"OSkeyA",desc:"Select All"},{val:"OSkeyB",desc:"Bold"},{val:"OSkeyI",desc:"Italic"},{val:"OSkeyU",desc:"Underline"},{val:"OSkeyS",desc:"Strikethrough"},{val:"OSkey]",desc:"Increase Indent"},{val:"OSkey[",desc:"Decrease Indent"}]},{title:"Quote",commands:[{val:"OSkey'",desc:"Increase quote level"},{val:"OSkeyShift+'",desc:"Decrease quote level"}]},{title:"Image / Video",commands:[{val:"OSkey+",desc:"Resize larger"},{val:"OSkey-",desc:"Resize smaller"}]},{title:"Table",commands:[{val:"Alt+Space",desc:"Select table cell"},{val:"Shift+Left/Right arrow",desc:"Extend selection one cell"},{val:"Shift+Up/Down arrow",desc:"Extend selection one row"}]},{title:"Navigation",commands:[{val:"OSkey/",desc:"Shortcuts"},{val:"Alt+F10",desc:"Focus popup / toolbar"},{val:"Esc",desc:"Return focus to previous position"}]}]}),x.PLUGINS.help=function(s){var b,$=s.$,ge="help";return{_init:function(){},show:function(){if(!b){var f="<h4>".concat(s.language.translate("Shortcuts"),"</h4>"),N=function(){for(var L='<div class="fr-help-modal">',B=0;B<s.opts.helpSets.length;B++){var G=s.opts.helpSets[B],P="<table>";P+="<thead><tr><th>".concat(s.language.translate(G.title),"</th></tr></thead>"),P+="<tbody>";for(var F=0;F<G.commands.length;F++){var j=G.commands[F];P+="<tr>",P+="<td>".concat(s.language.translate(j.desc),"</td>"),P+="<td>".concat(j.val.replace("OSkey",s.helpers.isMac()?"&#8984;":"Ctrl+"),"</td>"),P+="</tr>"}L+=P+="</tbody></table>"}return L+="</div>"}(),O=s.modals.create(ge,f,N);b=O.$modal,s.events.$on($(s.o_win),"resize",function(){s.modals.resize(ge)})}s.modals.show(ge),s.modals.resize(ge)},hide:function(){s.modals.hide(ge)}}},x.DefineIcon("help",{NAME:"question",SVG_KEY:"help"}),x.RegisterShortcut(x.KEYCODE.SLASH,"help",null,"/"),x.RegisterCommand("help",{title:"Help",icon:"help",undo:!1,focus:!1,modal:!0,callback:function(){this.help.show()},plugin:"help",showOnMobile:!1}),Object.assign(x.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(x.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,imageUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadToAzure:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","webp"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),x.IMAGE_ALLOW_REGEX=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,x.PLUGINS.image=function(s){var b,$,ge,a,f,N,O=s.$,T="https://i.froala.com/upload",L=!1,B=1,G=2,P=3,F=4,j=5,H=6,ee={};function w(){var te=s.popups.get("image.insert").find(".fr-image-by-url-layer input");te.val(""),b&&te.val(b.attr("src")),te.trigger("change")}function he(te){return window.pageYOffset+te.get(0).getBoundingClientRect().top}function be(){var te=s.popups.get("image.edit");if(te||(te=ae()),te){var pe=b;s.popups.setContainer("image.edit",s.$wp||s.$sc),s.popups.refresh("image.edit");var me=pe.offset().left+pe.outerWidth()/2,_e=pe&&he(pe),je=s.$wp&&he(s.$wp);je||(je=_e);var pt=0;s.opts.iframe?((pt=s.$wp.scrollTop()+te.outerHeight())<pe.get(0).getBoundingClientRect().top&&(pt=pe.get(0).getBoundingClientRect().top),pt>pe.get(0).getBoundingClientRect().top+pe.height()&&(pt=pe.get(0).getBoundingClientRect().top+pe.height())):pt=je<_e?_e:s.$wp&&_e+pe.height()<je+s.$wp.height()?_e+pe.height():je+te.outerHeight(),b.hasClass("fr-uploading")?Le():s.popups.show("image.edit",me,pt,1,!0)}}function se(){Ee()}function re(te){0<te.parents(".fr-img-caption").length&&(te=te.parents(".fr-img-caption").first());var pe=te.hasClass("fr-dib")?"block":te.hasClass("fr-dii")?"inline":null,me=te.hasClass("fr-fil")?"left":te.hasClass("fr-fir")?"right":Et(te);ms(te,pe,me),te.removeClass("fr-dib fr-dii fr-fir fr-fil")}function ie(){for(var te,pe=s.el.tagName=="IMG"?[s.el]:s.el.querySelectorAll("img"),me=0;me<pe.length;me++){var _e=O(pe[me]);!s.opts.htmlUntouched&&s.opts.useClasses?((s.opts.imageDefaultAlign||s.opts.imageDefaultDisplay)&&(0<(te=_e).parents(".fr-img-caption").length&&(te=te.parents(".fr-img-caption").first()),te.hasClass("fr-dii")||te.hasClass("fr-dib")||(te.addClass("fr-fi".concat(Et(te)[0])),te.addClass("fr-di".concat(fe(te)[0])),te.css("margin",""),te.css("float",""),te.css("display",""),te.css("z-index",""),te.css("position",""),te.css("overflow",""),te.css("vertical-align",""))),s.opts.imageTextNear||(0<_e.parents(".fr-img-caption").length?_e.parents(".fr-img-caption").first().removeClass("fr-dii").addClass("fr-dib"):_e.removeClass("fr-dii").addClass("fr-dib"))):s.opts.htmlUntouched||s.opts.useClasses||(s.opts.imageDefaultAlign||s.opts.imageDefaultDisplay)&&re(_e),s.opts.iframe&&_e.on("load",s.size.syncIframe)}}function M(te){te===void 0&&(te=!0);var pe,me=Array.prototype.slice.call(s.el.querySelectorAll("img")),_e=[];for(pe=0;pe<me.length;pe++)if(_e.push(me[pe].getAttribute("src")),O(me[pe]).toggleClass("fr-draggable",s.opts.imageMove),me[pe].getAttribute("class")===""&&me[pe].removeAttribute("class"),me[pe].getAttribute("style")===""&&me[pe].removeAttribute("style"),me[pe].parentNode&&me[pe].parentNode.parentNode&&s.node.hasClass(me[pe].parentNode.parentNode,"fr-img-caption")){var je=me[pe].parentNode.parentNode;s.browser.mozilla||je.setAttribute("contenteditable",!1),je.setAttribute("draggable",!1),je.classList.add("fr-draggable");var pt=me[pe].nextSibling;pt&&!s.browser.mozilla&&pt.setAttribute("contenteditable",!0)}if(f)for(pe=0;pe<f.length;pe++)_e.indexOf(f[pe].getAttribute("src"))<0&&s.events.trigger("image.removed",[O(f[pe])]);if(f&&te){var mt=[];for(pe=0;pe<f.length;pe++)mt.push(f[pe].getAttribute("src"));for(pe=0;pe<me.length;pe++)mt.indexOf(me[pe].getAttribute("src"))<0&&s.events.trigger("image.loaded",[O(me[pe])])}f=me}function W(){if($||function(){var kt;if(s.shared.$image_resizer?($=s.shared.$image_resizer,a=s.shared.$img_overlay,s.events.on("destroy",function(){O("body").first().append($.removeClass("fr-active"))},!0)):(s.shared.$image_resizer=O(document.createElement("div")).attr("class","fr-image-resizer"),$=s.shared.$image_resizer,s.events.$on($,"mousedown",function(Bt){Bt.stopPropagation()},!0),s.opts.imageResize&&($.append(K("nw")+K("ne")+K("sw")+K("se")),s.shared.$img_overlay=O(document.createElement("div")).attr("class","fr-image-overlay"),a=s.shared.$img_overlay,kt=$.get(0).ownerDocument,O(kt).find("body").first().append(a))),s.events.on("shared.destroy",function(){$.html("").removeData().remove(),$=null,s.opts.imageResize&&(a.remove(),a=null)},!0),s.helpers.isMobile()||s.events.$on(O(s.o_win),"resize",function(){b&&!b.hasClass("fr-uploading")?ro(!0):b&&(W(),Y(),Le(!1))}),s.opts.imageResize){kt=$.get(0).ownerDocument,s.events.$on($,s._mousedown,".fr-handler",A),s.events.$on(O(kt),s._mousemove,J),s.events.$on(O(kt.defaultView||kt.parentWindow),s._mouseup,V),s.events.$on(a,"mouseleave",V);var Ut=1,At=null,Tt=0;s.events.on("keydown",function(Bt){if(b){var Xt=navigator.userAgent.indexOf("Mac OS X")!=-1?Bt.metaKey:Bt.ctrlKey,Jt=Bt.which;(Jt!==At||200<Bt.timeStamp-Tt)&&(Ut=1),(Jt==x.KEYCODE.EQUALS||s.browser.mozilla&&Jt==x.KEYCODE.FF_EQUALS)&&Xt&&!Bt.altKey?Ut=Zn.call(this,Bt,1,1,Ut):(Jt==x.KEYCODE.HYPHEN||s.browser.mozilla&&Jt==x.KEYCODE.FF_HYPHEN)&&Xt&&!Bt.altKey?Ut=Zn.call(this,Bt,2,-1,Ut):s.keys.ctrlKey(Bt)||Jt!=x.KEYCODE.ENTER||(b.before("<br>"),We(b)),At=Jt,Tt=Bt.timeStamp}},!0),s.events.on("keyup",function(){Ut=1})}}(),!b)return!1;var te=s.$wp||s.$sc;te.append($),$.data("instance",s);var pe=te.scrollTop()-(te.css("position")!="static"?te.offset().top:0),me=te.scrollLeft()-(te.css("position")!="static"?te.offset().left:0);me-=s.helpers.getPX(te.css("border-left-width")),pe-=s.helpers.getPX(te.css("border-top-width")),s.$el.is("img")&&s.$sc.is("body")&&(me=pe=0);var _e=Ce();Ue()&&(_e=_e.find(".fr-img-wrap"));var je=0,pt=0;s.opts.iframe&&(je=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),pt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"))),$.css("top",(s.opts.iframe?_e.offset().top+je:_e.offset().top+pe)-1).css("left",(s.opts.iframe?_e.offset().left+pt:_e.offset().left+me)-1).css("width",_e.get(0).getBoundingClientRect().width).css("height",_e.get(0).getBoundingClientRect().height).addClass("fr-active")}function K(te){return'<div class="fr-handler fr-h'.concat(te,'"></div>')}function R(te){Ue()&&b.parents(".fr-img-caption").css("width",te),b.css("width",te)}function A(te){if(!s.core.sameInstance($))return!0;if(te.preventDefault(),te.stopPropagation(),s.$el.find("img.fr-error").left)return!1;s.undo.canDo()||s.undo.saveStep();var pe=te.pageX||te.originalEvent.touches[0].pageX;if(te.type=="mousedown"){var me=s.$oel.get(0),_e=me.ownerDocument,je=_e.defaultView||_e.parentWindow,pt=!1;try{pt=je.location!=je.parent.location&&!(je.$&&je.$.FE)}catch{}pt&&je.frameElement&&(pe+=s.helpers.getPX(O(me).offset().left)+je.frameElement.clientLeft)}(ge=O(this)).data("start-x",pe),ge.data("start-width",b.width()),ge.data("start-height",b.height());var mt=b.width();if(s.opts.imageResizeWithPercent){var kt=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;mt=(mt/O(kt).outerWidth()*100).toFixed(2)+"%"}R(mt),a.show(),s.popups.hideAll(),cs()}function J(te){if(!s.core.sameInstance($))return!0;var pe;if(ge&&b){if(te.preventDefault(),s.$el.find("img.fr-error").left)return!1;var me=te.pageX||(te.originalEvent.touches?te.originalEvent.touches[0].pageX:null);if(!me)return!1;var _e=me-ge.data("start-x"),je=ge.data("start-width");if((ge.hasClass("fr-hnw")||ge.hasClass("fr-hsw"))&&(_e=0-_e),s.opts.imageResizeWithPercent){var pt=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;je=((je+_e)/O(pt).outerWidth()*100).toFixed(2),s.opts.imageRoundPercent&&(je=Math.round(je)),R("".concat(je,"%")),(pe=Ue()?(s.helpers.getPX(b.parents(".fr-img-caption").css("width"))/O(pt).outerWidth()*100).toFixed(2):(s.helpers.getPX(b.css("width"))/O(pt).outerWidth()*100).toFixed(2))===je||s.opts.imageRoundPercent||R("".concat(pe,"%")),b.css("height","").removeAttr("height")}else je+_e>=s.opts.imageMinWidth&&(R(je+_e),pe=Ue()?s.helpers.getPX(b.parents(".fr-img-caption").css("width")):s.helpers.getPX(b.css("width"))),pe!==je+_e&&R(pe),((b.attr("style")||"").match(/(^height:)|(; *height:)/)||b.attr("height"))&&(b.css("height",ge.data("start-height")*b.width()/ge.data("start-width")),b.removeAttr("height"));W(),s.events.trigger("image.resize",[ye()])}}function V(te){if(!s.core.sameInstance($))return!0;if(ge&&b){if(te&&te.stopPropagation(),s.$el.find("img.fr-error").left)return!1;ge=null,a.hide(),W(),be(),s.undo.saveStep(),s.events.trigger("image.resizeEnd",[ye()])}else $.removeClass("fr-active")}function q(te,pe,me){s.edit.on(),b&&b.addClass("fr-error"),ee[te]?Ne(s.language.translate(ee[te])):Ne(s.language.translate("Something went wrong. Please try again.")),!b&&me&&et(me),s.events.trigger("image.error",[{code:te,message:ee[te]},pe,me])}function ae(te){if(te)return s.$wp&&s.events.$on(s.$wp,"scroll.image-edit",function(){b&&s.popups.isVisible("image.edit")&&(s.events.disableBlur(),be())}),!0;var pe="";if(0<s.opts.imageEditButtons.length){var me={buttons:pe+=`<div class="fr-buttons">
        `.concat(s.button.buildList(s.opts.imageEditButtons),`
        </div>`)};return s.popups.create("image.edit",me)}return!1}function Le(te){var pe=s.popups.get("image.insert");if(pe||(pe=xt()),pe.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),pe.find(".fr-image-progress-bar-layer").addClass("fr-active"),pe.find(".fr-buttons").hide(),b){var me=Ce();s.popups.setContainer("image.insert",s.$sc);var _e=me.offset().left,je=me.offset().top+me.height();s.popups.show("image.insert",_e,je,me.outerHeight())}te===void 0&&we(s.language.translate("Uploading"),0)}function Ee(te){var pe=s.popups.get("image.insert");if(pe&&(pe.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),pe.find(".fr-image-progress-bar-layer").removeClass("fr-active"),pe.find(".fr-buttons").show(),te||s.$el.find("img.fr-error").length)){if(s.events.focus(),s.$el.find("img.fr-error").length&&(s.$el.find("img.fr-error").remove(),s.undo.saveStep(),s.undo.run(),s.undo.dropRedo()),!s.$wp&&b){var me=b;ro(!0),s.selection.setAfter(me.get(0)),s.selection.restore()}s.popups.hide("image.insert")}}function we(te,pe){var me=s.popups.get("image.insert");if(me){var _e=me.find(".fr-image-progress-bar-layer");_e.find("h3").text(te+(pe?" ".concat(pe,"%"):"")),_e.removeClass("fr-error"),pe?(_e.find("div").removeClass("fr-indeterminate"),_e.find("div > span").css("width","".concat(pe,"%"))):_e.find("div").addClass("fr-indeterminate")}}function Ne(te){Le();var pe=s.popups.get("image.insert").find(".fr-image-progress-bar-layer");pe.addClass("fr-error");var me=pe.find("h3");me.text(te),s.events.disableBlur(),me.focus()}function We(te){So.call(te.get(0))}function ct(){var te=O(this);s.popups.hide("image.insert"),te.removeClass("fr-uploading"),te.next().is("br")&&te.next().remove(),We(te),s.events.trigger("image.loaded",[te])}function nt(te,pe,me,_e,je){_e&&typeof _e=="string"&&(_e=s.$(_e)),s.edit.off(),we(s.language.translate("Loading image")),pe&&(te=s.helpers.sanitizeURL(te));var pt=new Image;pt.onload=function(){var mt,kt;if(_e){s.undo.canDo()||_e.hasClass("fr-uploading")||s.undo.saveStep();var Ut=_e.data("fr-old-src");_e.data("fr-image-pasted")&&(Ut=null),s.$wp?((mt=_e.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),Ut&&_e.attr("src",Ut),!s.opts.trackChangesEnabled||_e[0].parentNode&&_e[0].parentNode.tagName==="SPAN"&&_e[0].parentNode.hasAttribute("data-tracking")||s.track_changes.replaceSpecialItem(_e),_e.replaceWith(mt)):mt=_e;for(var At=mt.get(0).attributes,Tt=0;Tt<At.length;Tt++){var Bt=At[Tt];(Bt.nodeName.indexOf("data-")===0||me&&me.hasOwnProperty(Bt.nodeName))&&mt.removeAttr(Bt.nodeName)}if(me!==void 0)for(kt in me)me.hasOwnProperty(kt)&&kt!="link"&&mt.attr("".concat(kt),me[kt]);mt.on("load",ct),mt.attr("src",te),s.edit.on(),M(!1),_e[0].src!=te&&s.selection.restore(),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger(Ut?"image.replaced":"image.inserted",[mt,je])}else(mt=ze(te,me,ct))&&(M(!1),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger("image.inserted",[mt,je]))},pt.onerror=function(){q(B)},Le(s.language.translate("Loading image")),pt.src=te}function st(te,pe,me){we(s.language.translate("Loading image"));var _e=this.status,je=this.response,pt=this.responseXML,mt=this.responseText;try{if(s.opts.imageUploadToS3||s.opts.imageUploadToAzure)if(_e==201){var kt;if(s.opts.imageUploadToAzure){if(s.events.trigger("image.uploadedToAzure",[this.responseURL,me,je],!0)===!1)return s.edit.on(),!1;kt=pe}else kt=function(Tt){try{var Bt=O(Tt).find("Location").text(),Xt=O(Tt).find("Key").text();return s.events.trigger("image.uploadedToS3",[Bt,Xt,Tt],!0)===!1?(s.edit.on(),!1):Bt}catch{return q(F,Tt),!1}}(pt);kt&&nt(kt,!1,[],te,je||pt)}else q(F,je||pt,te);else if(200<=_e&&_e<300){var Ut=function(Tt){try{if(s.events.trigger("image.uploaded",[Tt],!0)===!1)return s.edit.on(),!1;var Bt=JSON.parse(Tt);return Bt.link?Bt:(q(G,Tt),!1)}catch{return q(F,Tt),!1}}(mt);Ut&&nt(Ut.link,!1,Ut,te,je||mt)}else q(P,je||mt,te)}catch{q(F,je||mt,te)}}function Me(){q(F,this.response||this.responseText||this.responseXML)}function tt(te){if(te.lengthComputable){var pe=te.loaded/te.total*100|0;we(s.language.translate("Uploading"),pe)}}function ze(te,pe,me){var _e,je=O(document.createElement("img")).attr("src",te);if(pe&&pe!==void 0)for(_e in pe)pe.hasOwnProperty(_e)&&_e!="link"&&(" data-".concat(_e,'="').concat(pe[_e],'"'),je.attr("".concat(_e),pe[_e]));var pt=s.opts.imageDefaultWidth;pt&&pt!="auto"&&(pt=s.opts.imageResizeWithPercent?"100%":"".concat(pt,"px")),je.attr("style",pt?"width: ".concat(pt,";"):""),ms(je,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),je.on("load",me),je.on("error",me),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.imageSplitHTML?s.markers.split():s.markers.insert(),s.html.wrap();var mt=s.$el.find(".fr-marker");if(mt.length)(mt.parent().is("hr")||mt.parent().is("IMG"))&&mt.parent().after(mt),s.node.isLastSibling(mt)&&mt.parent().hasClass("fr-deletable")&&mt.insertAfter(mt.parent()),mt.replaceWith(je);else{if(s.opts.trackChangesEnabled)return Ee(!0),!1;s.$el.append(je)}return s.selection.clear(),je}function Ze(){s.edit.on(),Ee(!0)}function qe(te,pe){if(te!==void 0&&0<te.length){if(s.events.trigger("image.beforeUpload",[te,pe])===!1)return!1;var me,_e=te[0];if(!(s.opts.imageUploadURL!==null&&s.opts.imageUploadURL!=T||s.opts.imageUploadToS3||s.opts.imageUploadToAzure))return function(ps,Is){var bs=new FileReader;bs.onload=function(){var qo=bs.result;if(bs.result.indexOf("svg+xml")<0){for(var Do=atob(bs.result.split(",")[1]),zs=[],As=0;As<Do.length;As++)zs.push(Do.charCodeAt(As));qo=window.URL.createObjectURL(new Blob([new Uint8Array(zs)],{type:ps.type})),Is&&Is.data("fr-old-src",Is.attr("src")),s.image.insert(qo,!1,null,Is)}else s.image.insert(qo,null,null,s.image.get())},Le(),bs.readAsDataURL(ps)}(_e,pe||b),!1;if(_e.name||(_e.name=new Date().getTime()+"."+(_e.type||"image/jpeg").replace(/image\//g,"")),_e.size>s.opts.imageMaxSize)return q(j),!1;if(s.opts.imageAllowedTypes.indexOf(_e.type.replace(/image\//g,""))<0)return q(H),!1;if(s.drag_support.formdata&&(me=s.drag_support.formdata?new FormData:null),me){var je;if(s.opts.imageUploadToS3!==!1)for(je in me.append("key",s.opts.imageUploadToS3.keyStart+new Date().getTime()+"-"+(_e.name||"untitled")),me.append("success_action_status","201"),me.append("X-Requested-With","xhr"),me.append("Content-Type",_e.type),s.opts.imageUploadToS3.params)s.opts.imageUploadToS3.params.hasOwnProperty(je)&&me.append(je,s.opts.imageUploadToS3.params[je]);for(je in s.opts.imageUploadParams)s.opts.imageUploadParams.hasOwnProperty(je)&&me.append(je,s.opts.imageUploadParams[je]);me.append(s.opts.imageUploadParam,_e,_e.name);var pt,mt,kt=s.opts.imageUploadURL,Ut=s.opts.imageUploadMethod;s.opts.imageUploadToS3&&(kt=s.opts.imageUploadToS3.uploadURL?s.opts.imageUploadToS3.uploadURL:"https://".concat(s.opts.imageUploadToS3.region,".amazonaws.com/").concat(s.opts.imageUploadToS3.bucket)),s.opts.imageUploadToAzure&&(pt=kt=s.opts.imageUploadToAzure.uploadURL?"".concat(s.opts.imageUploadToAzure.uploadURL,"/").concat(_e.name):encodeURI("https://".concat(s.opts.imageUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.imageUploadToAzure.container,"/").concat(_e.name)),s.opts.imageUploadToAzure.SASToken&&(kt+=s.opts.imageUploadToAzure.SASToken),Ut="PUT");var At=s.core.getXHR(kt,Ut);if(s.opts.imageUploadToAzure){var Tt=new Date().toUTCString();if(!s.opts.imageUploadToAzure.SASToken&&s.opts.imageUploadToAzure.accessKey){var Bt=s.opts.imageUploadToAzure.account,Xt=s.opts.imageUploadToAzure.container;if(s.opts.imageUploadToAzure.uploadURL){var Jt=s.opts.imageUploadToAzure.uploadURL.split("/");Xt=Jt.pop(),Bt=Jt.pop().split(".")[0]}var on=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(Tt,`
x-ms-version:2019-07-07`),_n=encodeURI("/"+Bt+"/"+Xt+"/"+_e.name),Dn=Ut+`


`+_e.size+`

`+_e.type+`






`+on+`
`+_n,to=s.cryptoJSPlugin.cryptoJS.HmacSHA256(Dn,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.imageUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),hs="SharedKey "+Bt+":"+to;mt=to,At.setRequestHeader("Authorization",hs)}for(je in At.setRequestHeader("x-ms-version","2019-07-07"),At.setRequestHeader("x-ms-date",Tt),At.setRequestHeader("Content-Type",_e.type),At.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.imageUploadParams)s.opts.imageUploadParams.hasOwnProperty(je)&&At.setRequestHeader(je,s.opts.imageUploadParams[je]);for(je in s.opts.imageUploadToAzure.params)s.opts.imageUploadToAzure.params.hasOwnProperty(je)&&At.setRequestHeader(je,s.opts.imageUploadToAzure.params[je])}(function(ps,Is,bs,qo,Do,zs){function As(){var go=O(this);go.off("load"),go.addClass("fr-uploading"),go.next().is("br")&&go.next().remove(),s.placeholder.refresh(),We(go),W(),Le(),s.edit.off(),ps.onload=function(){st.call(ps,go,Do,zs)},ps.onerror=Me,ps.upload.onprogress=tt,ps.onabort=Ze,O(go.off("abortUpload")).on("abortUpload",function(){ps.readyState!=4&&(ps.abort(),qo?(qo.attr("src",qo.data("fr-old-src")),qo.removeClass("fr-uploading")):go.remove(),ro(!0))}),ps.send(s.opts.imageUploadToAzure?bs:Is)}var Vs=new FileReader;Vs.onload=function(){var go=Vs.result;if(Vs.result.indexOf("svg+xml")<0){for(var bo=atob(Vs.result.split(",")[1]),io=[],po=0;po<bo.length;po++)io.push(bo.charCodeAt(po));go=window.URL.createObjectURL(new Blob([new Uint8Array(io)],{type:"image/jpeg"}))}qo?(qo.on("load",As),qo.on("error",function(){As(),O(this).off("error")}),s.edit.on(),s.undo.saveStep(),qo.data("fr-old-src",qo.attr("src")),qo.attr("src",go)):ze(go,null,As)},Vs.readAsDataURL(bs)})(At,me,_e,pe||b,pt,mt)}}}function Fe(te){if(te.is("img")&&0<te.parents(".fr-img-caption").length)return te.parents(".fr-img-caption")}function Ye(te){var pe=te.originalEvent.dataTransfer;if(pe&&pe.files&&pe.files.length){var me=pe.files[0];if(me&&me.type&&me.type.indexOf("image")!==-1&&0<=s.opts.imageAllowedTypes.indexOf(me.type.replace(/image\//g,""))){if(!s.opts.imageUpload)return te.preventDefault(),te.stopPropagation(),!1;s.markers.remove(),s.markers.insertAtPoint(te.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.$el.find(".fr-marker").length===0&&s.selection.setAtEnd(s.el),s.popups.hideAll();var _e=s.popups.get("image.insert");_e||(_e=xt()),s.popups.setContainer("image.insert",s.$sc);var je=te.originalEvent.pageX,pt=te.originalEvent.pageY;if(s.opts.iframe){var mt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),kt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));pt+=s.$iframe.offset().top+mt,je+=s.$iframe.offset().left+kt}return s.popups.show("image.insert",je,pt),Le(),0<=s.opts.imageAllowedTypes.indexOf(me.type.replace(/image\//g,""))?(ro(!0),qe(pe.files)):q(H),te.preventDefault(),te.stopPropagation(),!1}}}function xt(te){if(te)return s.popups.onRefresh("image.insert",w),s.popups.onHide("image.insert",se),!0;var pe,me,_e="";s.opts.imageUpload||s.opts.imageInsertButtons.indexOf("imageUpload")===-1||s.opts.imageInsertButtons.splice(s.opts.imageInsertButtons.indexOf("imageUpload"),1);var je=s.button.buildList(s.opts.imageInsertButtons);je!==""&&(_e='<div class="fr-buttons fr-tabs">'.concat(je,"</div>"));var pt=s.opts.imageInsertButtons.indexOf("imageUpload"),mt=s.opts.imageInsertButtons.indexOf("imageByURL"),kt="";0<=pt&&(pe=" fr-active",0<=mt&&mt<pt&&(pe=""),kt='<div class="fr-image-upload-layer'.concat(pe,' fr-layer" id="fr-image-upload-layer-').concat(s.id,'"><strong>').concat(s.language.translate("Drop image"),"</strong><br>(").concat(s.language.translate("or click"),')<div class="fr-form"><input type="file" accept="image/').concat(s.opts.imageAllowedTypes.join(", image/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-image-upload-layer-').concat(s.id,'" role="button"></div></div>'));var Ut="";0<=mt&&(pe=" fr-active",0<=pt&&pt<mt&&(pe=""),Ut='<div class="fr-image-by-url-layer'.concat(pe,' fr-layer" id="fr-image-by-url-layer-').concat(s.id,'"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-').concat(s.id,'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var At={buttons:_e,upload_layer:kt,by_url_layer:Ut,progress_bar:'<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>'};return 1<=s.opts.imageInsertButtons.length&&(me=s.popups.create("image.insert",At)),s.$wp&&s.events.$on(s.$wp,"scroll",function(){b&&s.popups.isVisible("image.insert")&&Y()}),function(Bt){s.events.$on(Bt,"dragover dragenter",".fr-image-upload-layer",function(Xt){return O(this).addClass("fr-drop"),(s.browser.msie||s.browser.edge)&&Xt.preventDefault(),!1},!0),s.events.$on(Bt,"dragleave dragend",".fr-image-upload-layer",function(Xt){return O(this).removeClass("fr-drop"),(s.browser.msie||s.browser.edge)&&Xt.preventDefault(),!1},!0),s.events.$on(Bt,"drop",".fr-image-upload-layer",function(Xt){Xt.preventDefault(),Xt.stopPropagation(),O(this).removeClass("fr-drop");var Jt=Xt.originalEvent.dataTransfer;if(Jt&&Jt.files){var on=Bt.data("instance")||s;on.events.disableBlur(),on.image.upload(Jt.files),on.events.enableBlur()}},!0),s.helpers.isIOS()&&s.events.$on(Bt,"touchstart",'.fr-image-upload-layer input[type="file"]',function(){O(this).trigger("click")},!0),s.events.$on(Bt,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var Xt=Bt.data("instance")||s;Xt.events.disableBlur(),Bt.find("input:focus").blur(),Xt.events.enableBlur(),Xt.image.upload(this.files,b)}O(this).val("")},!0)}(me),me}function ft(){b&&s.popups.get("image.alt").find("input").val(b.attr("alt")||"").trigger("change")}function Ot(){var te=s.popups.get("image.alt");te||(te=Rt()),Ee(),s.popups.refresh("image.alt"),s.popups.setContainer("image.alt",s.$sc);var pe=Ce(),me=pe.outerWidth()/2;Ue()&&(pe=pe.find(".fr-img-wrap"),me=b.outerWidth()/2);var _e=pe.offset().left+me,je=pe.offset().top+pe.outerHeight(),pt=pe.outerHeight();s.opts.iframe&&Ue()&&(pt=b?b.outerHeight():0),s.popups.show("image.alt",_e,je,pt,!0)}function Rt(te){if(te)return s.popups.onRefresh("image.alt",ft),!0;var pe={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageAltButtons),"</div>"),alt_layer:'<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(s.id,'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Alternative Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},me=s.popups.create("image.alt",pe);return s.$wp&&s.events.$on(s.$wp,"scroll.image-alt",function(){b&&s.popups.isVisible("image.alt")&&Ot()}),me}function zt(){var te=s.popups.get("image.size"),pe=b.get(0).style.height?b.get(0).style.height:"auto",me=b.get(0).style.width?b.get(0).style.width:"auto";if(b)if(Ue()){var _e=b.parent();_e.get(0).style.width||(_e=b.parent().parent()),te.find('input[name="width"]').val(me).trigger("change"),te.find('input[name="height"]').val(pe).trigger("change")}else te.find('input[name="width"]').val(me).trigger("change"),te.find('input[name="height"]').val(pe).trigger("change")}function Zt(){var te=s.popups.get("image.size");te||(te=wn()),Ee(),s.popups.refresh("image.size"),s.popups.setContainer("image.size",s.$sc);var pe=Ce(),me=pe.outerWidth()/2;Ue()&&(pe=pe.find(".fr-img-wrap"),me=b.outerWidth()/2);var _e=pe.outerHeight();s.opts.iframe&&Ue()&&(_e=b?b.outerHeight():0);var je=pe.offset().left+me,pt=pe.offset().top+pe.outerHeight();s.popups.show("image.size",je,pt,_e,!0)}function wn(te){if(te)return s.popups.onRefresh("image.size",zt),!0;var pe={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageSizeButtons),"</div>"),size_layer:'<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(s.id,`"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'`).concat(s.id,'" type="text" name="width" placeholder="').concat(s.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(s.id,'" type="text" name="height" placeholder="').concat(s.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},me=s.popups.create("image.size",pe);return s.$wp&&s.events.$on(s.$wp,"scroll.image-size",function(){b&&s.popups.isVisible("image.size")&&Zt()}),me}function Zn(te,pe,me,_e){return te.pageX=pe,A.call(this,te),te.pageX=te.pageX+me*Math.floor(Math.pow(1.1,_e)),J.call(this,te),V.call(this,te),++_e}function et(te){if(te=te||Ce(),s.opts.trackChangesEnabled&&!s.helpers.isMobile()&&(!te[0].parentNode||te[0].parentNode.tagName!=="SPAN"||!te[0].parentNode.hasAttribute("data-tracking")))return s.track_changes.removeSpecialItem(te),s.popups.hideAll(),void ro(!0);te&&s.events.trigger("image.beforeRemove",[te])!==!1&&(s.popups.hideAll(),le(),ro(!0),s.undo.canDo()||s.undo.saveStep(),te.get(0)==s.el?te.removeAttr("src"):(te.get(0).parentNode&&te.get(0).parentNode.tagName=="A"?(s.selection.setBefore(te.get(0).parentNode)||s.selection.setAfter(te.get(0).parentNode)||te.parent().after(x.MARKERS),O(te.get(0).parentNode).remove()):(s.selection.setBefore(te.get(0))||s.selection.setAfter(te.get(0))||te.after(x.MARKERS),te.remove()),s.html.fillEmptyBlocks(),s.selection.restore()),s.undo.saveStep())}function wt(te){var pe=te.which,me=document.getElementsByClassName("fs-transforms-container"),_e=!1;if(me&&me.length){var je,pt=Ae(me);try{for(pt.s();!(je=pt.n()).done;){var mt=je.value;mt.childNodes&&mt.childNodes.length&&(_e=!0)}}catch(At){pt.e(At)}finally{pt.f()}}if(_e&&(b=null),b&&(pe==x.KEYCODE.BACKSPACE||pe==x.KEYCODE.DELETE))return te.preventDefault(),te.stopPropagation(),et(),!1;if(b&&pe==x.KEYCODE.ESC){var kt=b;return ro(!0),s.selection.setAfter(kt.get(0)),s.selection.restore(),te.preventDefault(),!1}if(!b||pe!=x.KEYCODE.ARROW_LEFT&&pe!=x.KEYCODE.ARROW_RIGHT)return b&&pe===x.KEYCODE.TAB?(te.preventDefault(),te.stopPropagation(),ro(!0),!1):b&&pe!=x.KEYCODE.F10&&!s.keys.isBrowserAction(te)?(te.preventDefault(),te.stopPropagation(),!1):void 0;var Ut=b.get(0);return ro(!0),pe==x.KEYCODE.ARROW_LEFT?s.selection.setBefore(Ut):s.selection.setAfter(Ut),s.selection.restore(),te.preventDefault(),!1}function It(te){if(te&&te.tagName=="IMG"){if(s.node.hasClass(te,"fr-uploading")||s.node.hasClass(te,"fr-error")?te.parentNode.removeChild(te):s.node.hasClass(te,"fr-draggable")&&te.classList.remove("fr-draggable"),te.parentNode&&te.parentNode.parentNode&&s.node.hasClass(te.parentNode.parentNode,"fr-img-caption")){var pe=te.parentNode.parentNode;pe.removeAttribute("contenteditable"),pe.removeAttribute("draggable"),pe.classList.remove("fr-draggable");var me=te.nextSibling;me&&me.removeAttribute("contenteditable")}}else if(te&&te.nodeType==Node.ELEMENT_NODE)for(var _e=te.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),je=0;je<_e.length;je++)It(_e[je])}function nn(te){if(s.events.trigger("image.beforePasteUpload",[te])===!1)return O(te).removeAttr("data-fr-image-pasted"),!1;b=O(te),W(),be(),Le(),b.on("load",function(){var pt=[];W(),O(s.popups.get("image.insert").get(0)).find("div.fr-active.fr-error").length<1&&Le(),O(this).data("events").filter(function(mt){mt[0]==="load"&&pt.push(mt)}),pt.length<=1&&O(this).off("load")});for(var pe=O(te).attr("src").split(","),me=atob(pe[1]),_e=[],je=0;je<me.length;je++)_e.push(me.charCodeAt(je));qe([s.browser.safari&&!s.opts.imageUploadURL?new Blob([new Uint8Array(_e)],{type:pe[0].replace(/data\:/g,"")}):new Blob([new Uint8Array(_e)],{type:pe[0].replace(/data\:/g,"").replace(/;base64/g,"")})],b)}function bn(){s.opts.imagePaste?s.$el.find("img[data-fr-image-pasted]").each(function(te,pe){if(s.opts.imagePasteProcess){var me=s.opts.imageDefaultWidth;me&&me!="auto"&&(me+=s.opts.imageResizeWithPercent?"%":"px"),O(pe).css("width",me).removeClass("fr-dii fr-dib fr-fir fr-fil"),ms(O(pe),s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign)}if(pe.src.indexOf("data:")===0)nn(pe);else if(pe.src.indexOf("blob:")===0||pe.src.indexOf("http")===0&&s.opts.imageUploadRemoteUrls&&s.opts.imageCORSProxy){var _e=new Image;_e.crossOrigin="Anonymous",_e.onload=function(){var je=s.o_doc.createElement("CANVAS"),pt=je.getContext("2d");je.height=this.naturalHeight,je.width=this.naturalWidth,pt.drawImage(this,0,0),setTimeout(function(){nn(pe)},0),pe.src=je.toDataURL(x.IMAGE_TYPE)},s.browser.msie&&x.IMAGE_ALLOW_REGEX.test(pe.src)&&(x.IMAGE_TYPE="image/"+pe.src.split(x.IMAGE_ALLOW_REGEX)[1]),_e.src=(pe.src.indexOf("blob:")===0?"":"".concat(s.opts.imageCORSProxy,"/"))+pe.src,pe.src.indexOf("blob:")!==0&&s.undo.saveStep()}else pe.src.indexOf("http")!==0||pe.src.indexOf("https://mail.google.com/mail")===0?(s.selection.save(),O(pe).remove(),s.selection.restore()):O(pe).removeAttr("data-fr-image-pasted")}):s.$el.find("img[data-fr-image-pasted]").remove()}function kn(te){var pe=te.target.result,me=s.opts.imageDefaultWidth;me&&me!="auto"&&(me+=s.opts.imageResizeWithPercent?"%":"px"),s.undo.saveStep(),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(pe,'"').concat(me?' style="width: '.concat(me,';"'):"",">"));var _e=s.$el.find('img[data-fr-image-pasted="true"]');_e&&ms(_e,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}function Mn(te,pe){var me=new FileReader;me.onload=function(je){var pt=s.opts.imageDefaultWidth;pt&&pt!="auto"&&(pt+=s.opts.imageResizeWithPercent?"%":"px"),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(je,'"').concat(pt?' style="width: '.concat(pt,';"'):"",">"));var mt=s.$el.find('img[data-fr-image-pasted="true"]');mt&&ms(mt,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}(pe),me.readAsDataURL(te,pe)}function vn(te,pe){var me=pe||te&&te.clipboardData;if(me&&me.items){var _e=(me||window.clipboardData).getData("text/html")||"";s.browser.mozilla&&(_e===""||/<!--StartFragment-->([ ])<!--EndFragment-->/.test(_e))&&(_e=s.win.localStorage.getItem("fr-copied-html"));var je=new DOMParser().parseFromString(_e,"text/html").querySelector("img");if(je&&!s.opts.imageUploadURL){if(!je)return!1;var pt=je.src,mt=null;if(me.types&&[].indexOf.call(me.types,"text/rtf")!=-1||me.getData("text/rtf"))mt=me.items[0].getAsFile();else for(var kt=0;kt<me.items.length;kt++)if(mt=me.items[kt].getAsFile()){x.IMAGE_TYPE=mt.type;break}if(mt)return Mn(mt,pt),!1}else{var Ut=null;if(me.types&&[].indexOf.call(me.types,"text/rtf")!=-1||me.getData("text/rtf"))Ut=me.items[0].getAsFile();else for(var At=0;At<me.items.length&&!(Ut=me.items[At].getAsFile());At++);if(Ut)return function(Bt){var Xt=new FileReader;Xt.onload=kn,Xt.readAsDataURL(Bt)}(Ut),!1}}}function Hn(te){return te=te.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function So(te){if(O(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false"||te&&te.type=="touchend"&&N)return!0;if(te&&s.edit.isDisabled())return te.stopPropagation(),te.preventDefault(),!1;for(var pe=0;pe<x.INSTANCES.length;pe++)x.INSTANCES[pe]!=s&&x.INSTANCES[pe].events.trigger("image.hideResizer");s.toolbar.disable(),te&&(te.stopPropagation(),te.preventDefault()),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur()),s.opts.iframe&&s.size.syncIframe(),b=O(this),le(),W(),be(),s.browser.msie?(s.popups.areVisible()&&s.events.disableBlur(),s.win.getSelection&&(s.win.getSelection().removeAllRanges(),s.win.getSelection().addRange(s.doc.createRange()))):s.selection.clear(),s.helpers.isIOS()&&(s.events.disableBlur(),s.$el.blur()),s.button.bulkRefresh(),s.events.trigger("video.hideResizer")}function ro(te){b&&(function(){return Xo}()||te===!0)&&(s.toolbar.enable(),$.removeClass("fr-active"),s.popups.hideAll(),b=null,cs(),ge=null,a&&a.hide())}ee[B]="Image cannot be loaded from the passed link.",ee[G]="No link in upload response.",ee[P]="Error during file upload.",ee[F]="Parsing response failed.",ee[j]="File is too large.",ee[H]="Image file type is invalid.",ee[7]="Files can be uploaded only to same domain in IE 8 and IE 9.";var Xo=!(ee[8]="Image file is corrupted.");function zn(){Xo=!0}function cs(){Xo=!1}function ms(te,pe,me){if(!s.opts.htmlUntouched&&s.opts.useClasses)te.removeClass("fr-fil fr-fir fr-dib fr-dii"),me&&te.addClass("fr-fi".concat(me[0])),pe&&te.addClass("fr-di".concat(pe[0]));else if(pe=="inline")if(te.css({display:"inline-block",verticalAlign:"bottom",margin:s.opts.imageDefaultMargin}),me=="center")te.css({float:"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - ".concat(2*s.opts.imageDefaultMargin,"px)"),textAlign:"center"});else if(me=="left"){var _e="0px",je=te.parent("span.fr-img-caption").get(0);je||(je=te.parent().get(0)),je&&je.tagName.toLowerCase()==="li"?_e="20px":je&&je.tagName.toLowerCase()==="p"&&(_e="15px"),te.css({float:"left",marginLeft:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"left",marginRight:_e})}else te.css({float:"right",marginRight:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"right"});else pe=="block"&&(te.css({display:"block",float:"none",verticalAlign:"top",margin:"".concat(s.opts.imageDefaultMargin,"px auto"),textAlign:"center"}),me=="left"?te.css({marginLeft:0,textAlign:"left"}):me=="right"&&te.css({marginRight:0,textAlign:"right"}))}function Et(te){if(te===void 0&&(te=Ce()),te){if(te.hasClass("fr-fil"))return"left";if(te.hasClass("fr-fir"))return"right";if(te.hasClass("fr-dib")||te.hasClass("fr-dii"))return"center";var pe=te.css("float");if(te.css("float","none"),te.css("display")=="block"){if(te.css("float",""),te.css("float")!=pe&&te.css("float",pe),parseInt(te.css("margin-left"),10)===0)return"left";if(parseInt(te.css("margin-right"),10)===0)return"right"}else{if(te.css("float",""),te.css("float")!=pe&&te.css("float",pe),te.css("float")=="left")return"left";if(te.css("float")=="right")return"right"}}return"center"}function fe(te){te===void 0&&(te=Ce());var pe=te.css("float");return te.css("float","none"),te.css("display")=="block"?(te.css("float",""),te.css("float")!=pe&&te.css("float",pe),"block"):(te.css("float",""),te.css("float")!=pe&&te.css("float",pe),"inline")}function Y(){var te=s.popups.get("image.insert");te||(te=xt()),s.popups.isVisible("image.insert")||(Ee(),s.popups.refresh("image.insert"),s.popups.setContainer("image.insert",s.$sc));var pe=Ce(),me=pe&&pe.outerWidth()/2;Ue()&&(pe=pe.find(".fr-img-wrap"),me=b.outerWidth()/2);var _e,je=pe.offset().left+me,pt=pe.outerHeight(!0);s.opts.iframe&&Ue()&&(pt=b?b.outerHeight():0),_e=0<s.$el.find("img[data-fr-image-pasted]").length?s.$wp.offset().top-s.helpers.scrollTop()+s.$wp.height():pe.offset().top+pe.outerHeight(),s.popups.show("image.insert",je,_e,pt,!0)}function le(){if(b){s.events.disableBlur(),s.selection.clear();var te=s.doc.createRange();te.selectNode(b.get(0)),s.browser.msie&&te.collapse(!0),s.selection.get().addRange(te),s.events.enableBlur()}}function ye(){return b}function Ce(){return Ue()?b.parents(".fr-img-caption").first():b}function Ue(){return!!b&&0<b.parents(".fr-img-caption").length}function Be(te){for(var pe=document.createDocumentFragment();te.firstChild;){var me=te.removeChild(te.firstChild);pe.appendChild(me)}te.parentNode.replaceChild(pe,te)}return{_init:function(){var pe;(function(){s.events.$on(s.$el,s._mousedown,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(_e){if(O(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;s.helpers.isMobile()||s.selection.clear(),L=!0,s.popups.areVisible()&&s.events.disableBlur(),s.browser.msie&&(s.events.disableBlur(),s.$el.attr("contenteditable",!1)),s.draggable||_e.type=="touchstart"||_e.preventDefault(),_e.stopPropagation()}),s.events.$on(s.$el,s._mousedown,".fr-img-caption .fr-inner",function(_e){s.core.hasFocus()||s.events.focus(),_e.stopPropagation()}),s.events.$on(s.$el,"paste",".fr-img-caption .fr-inner",function(_e){s.opts.toolbarInline===!0&&(s.toolbar.hide(),_e.stopPropagation())}),s.events.$on(s.$el,s._mousedown,'img:not([contenteditable="false"])',function(_e){var je=this;s.browser.mozilla&&_e.which==3&&(O(this).attr("contenteditable",!1),setTimeout(function(){O(je).removeAttr("contenteditable")},200))}),s.events.$on(s.$el,s._mouseup,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(_e){if(O(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;L&&(L=!1,_e.stopPropagation(),s.browser.msie&&(s.$el.attr("contenteditable",!0),s.events.enableBlur()))}),s.events.on("keyup",function(_e){if(_e.shiftKey&&s.selection.text().replace(/\n/g,"")===""&&s.keys.isArrow(_e.which)){var je=s.selection.element(),pt=s.selection.endElement();je&&je.tagName=="IMG"?We(O(je)):pt&&pt.tagName=="IMG"&&We(O(pt))}},!0),s.events.on("drop",Ye),s.events.on("element.beforeDrop",Fe),s.events.on("mousedown window.mousedown",zn),s.events.on("window.touchmove",cs),s.events.on("mouseup window.mouseup",function(){if(b&&!s.helpers.isMobile())return ro(),!1;cs()}),s.events.on("touchstart touchend",function(){if(b&&s.helpers.isMobile())return ro(),!1;cs()}),s.events.on("commands.mousedown",function(_e){0<_e.parents(".fr-toolbar").length&&ro()}),s.events.on("image.resizeEnd",function(){s.opts.iframe&&s.size.syncIframe()}),s.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){ro(!(L=!1))}),s.events.on("modals.hide",function(){b&&(le(),s.selection.clear())}),s.events.on("image.resizeEnd",function(){s.win.getSelection&&We(b)}),s.events.on("filestack-init",function(){xt()}),s.events.on("filestack-init-edit",function(){for(var _e=s.$(".fr-popup:not(.fr-do-not-hide)"),je=_e.length-1;0<=je;je--)_e[je].parentElement.removeChild(_e[je]);ae()}),s.opts.imageAddNewLine&&s.events.on("image.inserted",function(_e){var je=_e.get(0);for(je.nextSibling&&je.nextSibling.tagName==="BR"&&(je=je.nextSibling);je&&!s.node.isElement(je);)je=s.node.isLastSibling(je)?je.parentNode:null;s.node.isElement(je)&&(s.opts.enter===x.ENTER_BR?_e.after("<br>"):O(s.node.blockParent(_e.get(0))).after("<".concat(s.html.defaultTag(),"><br></").concat(s.html.defaultTag(),">")))})})(),s.el.tagName=="IMG"&&s.$el.addClass("fr-view"),s.events.$on(s.$el,s.helpers.isMobile()&&!s.helpers.isWindowsPhone()?"touchend":"click",s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',So),s.helpers.isMobile()&&(s.events.$on(s.$el,"touchstart",s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(){N=!1}),s.events.$on(s.$el,"touchmove",function(){N=!0})),s.$wp?(s.events.on("window.keydown keydown",wt,!0),s.events.on("keyup",function(me){if(b&&me.which==x.KEYCODE.ENTER)return!1},!0),s.events.$on(s.$el,"keydown",function(){var me=s.selection.element();(me.nodeType===Node.TEXT_NODE||me.tagName=="BR"&&s.node.isLastSibling(me))&&(me=me.parentNode),s.node.hasClass(me,"fr-inner")||(s.node.hasClass(me,"fr-img-caption")||(me=O(me).parents(".fr-img-caption").get(0)),s.node.hasClass(me,"fr-img-caption")&&(s.opts.trackChangesEnabled||O(me).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore()))})):s.events.$on(s.$win,"keydown",wt),s.events.on("toolbar.esc",function(){if(b){if(s.$wp)s.events.disableBlur(),s.events.focus();else{var me=b;ro(!0),s.selection.setAfter(me.get(0)),s.selection.restore()}return!1}},!0),s.events.on("toolbar.focusEditor",function(){if(b)return!1},!0),s.events.on("window.cut window.copy",function(me){if(b&&s.popups.isVisible("image.edit")&&!s.popups.get("image.edit").find(":focus").length){var _e=Ce();Ue()?(_e.before(x.START_MARKER),_e.after(x.END_MARKER),s.selection.restore(),s.paste.saveCopiedText(_e.get(0).outerHTML,_e.text())):(le(),s.paste.saveCopiedText(b.get(0).outerHTML,b.attr("alt"))),me.type=="copy"?setTimeout(function(){We(b)}):(ro(!0),s.undo.saveStep(),setTimeout(function(){s.undo.saveStep()},0))}},!0),s.browser.msie&&s.events.on("keydown",function(me){if(!s.selection.isCollapsed()||!b)return!0;var _e=me.which;_e==x.KEYCODE.C&&s.keys.ctrlKey(me)?s.events.trigger("window.copy"):_e==x.KEYCODE.X&&s.keys.ctrlKey(me)&&s.events.trigger("window.cut")}),s.events.$on(O(s.o_win),"keydown",function(me){if(s.opts.pluginsEnabled.includes("filestack")&&s.opts.iframe){var _e=document.getElementsByClassName("fs-transforms-container"),je=!1;if(_e&&_e.length){var pt,mt=Ae(_e);try{for(mt.s();!(pt=mt.n()).done;){var kt=pt.value;kt.childNodes&&kt.childNodes.length&&(je=!0)}}catch(At){mt.e(At)}finally{mt.f()}}je&&(b=null)}var Ut=me.which;if(b&&Ut==x.KEYCODE.BACKSPACE)return me.preventDefault(),!1}),s.events.$on(s.$win,"keydown",function(me){var _e=me.which;b&&b.hasClass("fr-uploading")&&_e==x.KEYCODE.ESC&&b.trigger("abortUpload")}),s.events.on("destroy",function(){b&&b.hasClass("fr-uploading")&&b.trigger("abortUpload")}),s.events.on("paste.before",vn),s.events.on("paste.beforeCleanup",Hn),s.events.on("paste.after",bn),s.events.on("html.set",ie),s.events.on("html.inserted",ie),ie(),s.events.on("destroy",function(){f=[]}),s.events.on("html.processGet",It),s.opts.imageOutputSize&&s.events.on("html.beforeGet",function(){pe=s.el.querySelectorAll("img");for(var me=0;me<pe.length;me++){var _e=parseFloat(O(pe[me]).css("padding-left"))+parseFloat(O(pe[me]).css("padding-right")),je=O(pe[me]).width()-_e,pt=pe[me].style.width||je,mt=pe[me].style.height||O(pe[me]).height();pt&&pe[me].setAttribute("width","".concat(pt).replace(/px/,"")),mt&&pe[me].setAttribute("height","".concat(mt).replace(/px/,""))}}),s.opts.iframe&&s.events.on("image.loaded",s.size.syncIframe),s.$wp&&(M(),s.events.on("contentChanged",M)),s.events.$on(O(s.o_win),"orientationchange.image",function(){setTimeout(function(){b&&We(b)},100)}),ae(!0),xt(!0),wn(!0),Rt(!0),s.events.on("node.remove",function(me){if(me.get(0).tagName=="IMG")return et(me),!1})},showInsertPopup:function(){var pe=s.$tb.find('.fr-command[data-cmd="insertImage"]'),me=s.popups.get("image.insert");if(me||(me=xt()),Ee(),!me.hasClass("fr-active"))if(s.popups.refresh("image.insert"),s.popups.setContainer("image.insert",s.$tb),pe.isVisible()){var _e=s.button.getPosition(pe),je=_e.left,pt=_e.top;s.popups.show("image.insert",je,pt,pe.outerHeight())}else s.position.forSelection(me),s.popups.show("image.insert")},showLayer:function(pe){var me,_e,je=s.popups.get("image.insert");if(b||s.opts.toolbarInline){if(b){var pt=Ce(),mt=0;Ue()&&(pt=pt.find(".fr-img-wrap"),mt=b.outerWidth()/2),_e=pt.offset().top+pt.outerHeight(),me=pt.offset().left+mt}}else{var kt=s.$tb.find('.fr-command[data-cmd="insertImage"]');me=kt.offset().left,_e=kt.offset().top+(s.opts.toolbarBottom?10:kt.outerHeight()-10)}!b&&s.opts.toolbarInline&&(_e=je.offset().top-s.helpers.getPX(je.css("margin-top")),je.hasClass("fr-above")&&(_e+=je.outerHeight())),je.find(".fr-layer").removeClass("fr-active"),je.find(".fr-".concat(pe,"-layer")).addClass("fr-active"),s.popups.show("image.insert",me,_e,b?b.outerHeight():0,Ue()),s.accessibility.focusPopup(je)},refreshUploadButton:function(pe){var me=s.popups.get("image.insert");me&&me.find(".fr-image-upload-layer").hasClass("fr-active")&&pe.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(pe){var me=s.popups.get("image.insert");me&&me.find(".fr-image-by-url-layer").hasClass("fr-active")&&pe.addClass("fr-active").attr("aria-pressed",!0)},upload:qe,insertByURL:function(){var pe=s.popups.get("image.insert").find(".fr-image-by-url-layer input");if(0<pe.val().length){Le(),we(s.language.translate("Loading image"));var me=pe.val().trim();if(s.opts.imageUploadRemoteUrls&&s.opts.imageCORSProxy&&s.opts.imageUpload){var _e=new XMLHttpRequest;_e.onload=function(){this.status==200?qe([new Blob([this.response],{type:this.response.type||"image/png"})],b):q(B)},_e.onerror=function(){nt(me,!0,[],b)},_e.open("GET","".concat(s.opts.imageCORSProxy,"/").concat(me),!0),_e.responseType="blob",_e.send()}else nt(me,!0,[],b);pe.val(""),pe.blur()}},align:function(pe){var me=Ce();me.removeClass("fr-fir fr-fil"),!s.opts.htmlUntouched&&s.opts.useClasses?pe=="left"?me.addClass("fr-fil"):pe=="right"&&me.addClass("fr-fir"):ms(me,fe(),pe),le(),W(),be(),s.selection.clear()},refreshAlign:function(pe){b&&pe.find("> *").first().replaceWith(s.icon.create("image-align-".concat(Et())))},refreshAlignOnShow:function(pe,me){b&&me.find('.fr-command[data-param1="'.concat(Et(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(pe){var me=Ce();me.removeClass("fr-dii fr-dib"),!s.opts.htmlUntouched&&s.opts.useClasses?pe=="inline"?me.addClass("fr-dii"):pe=="block"&&me.addClass("fr-dib"):ms(me,pe,Et()),le(),W(),be(),s.selection.clear()},refreshDisplayOnShow:function(pe,me){b&&me.find('.fr-command[data-param1="'.concat(fe(),'"]')).addClass("fr-active").attr("aria-selected",!0)},replace:Y,back:function(){b?(s.events.disableBlur(),O(".fr-popup input:focus").blur(),We(b)):(s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),s.popups.hide("image.insert"),s.toolbar.showInline())},get:ye,getEl:Ce,insert:nt,showProgressBar:Le,remove:et,hideProgressBar:Ee,applyStyle:function(pe,me,_e){if(me===void 0&&(me=s.opts.imageStyles),_e===void 0&&(_e=s.opts.imageMultipleStyles),!b)return!1;var je=Ce();if(!_e){var pt=Object.keys(me);pt.splice(pt.indexOf(pe),1),je.removeClass(pt.join(" "))}Ke(me[pe])=="object"?(je.removeAttr("style"),je.css(me[pe].style)):(je.toggleClass(pe),Ue()&&b.hasClass(pe)&&b.removeClass(pe)),We(b)},showAltPopup:Ot,showSizePopup:Zt,setAlt:function(pe){if(b){var me=s.popups.get("image.alt");b.attr("alt",pe||me.find("input").val()||""),me.find("input:focus").blur(),We(b)}},setSize:function(pe,me){if(b){var _e=s.popups.get("image.size");pe=pe||_e.find('input[name="width"]').val()||"",me=me||_e.find('input[name="height"]').val()||"";var je=/^[\d]+((px)|%)*$/g;b.removeAttr("width").removeAttr("height"),pe.match(je)?b.css("width",pe):b.css("width",""),me.match(je)?b.css("height",me):b.css("height",""),Ue()&&(b.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),pe.match(je)?b.parents(".fr-img-caption").css("width",pe):b.parents(".fr-img-caption").css("width",""),me.match(je)?b.parents(".fr-img-caption").css("height",me):b.parents(".fr-img-caption").css("height","")),_e&&_e.find("input:focus").blur(),We(b)}},toggleCaption:function(){var pe,me=s.$el.get(0);if(b&&!Ue()){(pe=b).parent().is("a")&&(pe=b.parent());var _e,je,pt=b.parents("ul")&&0<b.parents("ul").length?b.parents("ul"):b.parents("ol")&&0<b.parents("ol").length?b.parents("ol"):[];if(0<pt.length){var mt=pt.find("li").length,kt=b.parents("li"),Ut=document.createElement("li");mt-1===kt.index()&&(pt.append(Ut),Ut.innerHTML="&nbsp;")}pe.attr("style")?je=-1<(_e=pe.attr("style").split(":")).indexOf("width")?_e[_e.indexOf("width")+1].replace(";",""):"":pe.attr("width")&&(je=pe.attr("width"));var At=s.opts.imageResizeWithPercent?(-1<je.indexOf("px")?null:je)||"100%":b.width()+"px";pe.wrap('<div class="fr-img-space-wrap"><span '+(s.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+b.attr("class")+'" style="'+(pe.attr("style")||"")+'" draggable="false"></span></div>'),pe.wrap('<span class="fr-img-wrap"></span>'),b.after('<span class="fr-inner"'.concat(s.browser.mozilla?"":' contenteditable="true"',">").concat(x.START_MARKER).concat(s.language.translate("Image Caption")).concat(x.END_MARKER,"</span>")),b.parents(".fr-img-caption").css("width",At);var Tt=b.parents(".fr-img-space-wrap").length;Tt==1?Be(me.querySelector(".fr-img-space-wrap")):1<Tt&&(Be(me.querySelector(".fr-img-space-wrap")),Be(me.querySelector(".fr-img-space-wrap2"))),ro(!0),s.selection.restore()}else{if(pe=Ce(),b.insertBefore(pe),pe[0].querySelector("a")!==null){for(var Bt,Xt=pe[0].querySelector("a"),Jt=document.createElement("a"),on=0,_n=Xt.attributes,Dn=_n.length;on<Dn;on++)Bt=_n[on],Jt.setAttribute(Bt.nodeName,Bt.nodeValue);b.wrap(Jt)}b.attr("class",pe.attr("class").replace("fr-img-caption","")).attr("style",pe.attr("style")),pe.remove();var to=b.parents(".fr-img-space-wrap").length;to==1?Be(me.querySelector(".fr-img-space-wrap")):1<to&&(Be(me.querySelector(".fr-img-space-wrap")),Be(me.querySelector(".fr-img-space-wrap2"))),We(b)}},hasCaption:Ue,exitEdit:ro,edit:We}},x.DefineIcon("insertImage",{NAME:"image",SVG_KEY:"insertImage"}),x.RegisterShortcut(x.KEYCODE.P,"insertImage",null,"P"),x.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),x.DefineIcon("imageUpload",{NAME:"upload",SVG_KEY:"upload"}),x.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-upload")},refresh:function(s){this.image.refreshUploadButton(s)}}),x.DefineIcon("imageByURL",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-by-url")},refresh:function(s){this.image.refreshByURLButton(s)}}),x.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(s){this.image.get()?s.text(this.language.translate("Replace")):s.text(this.language.translate("Insert"))}}),x.DefineIcon("imageDisplay",{NAME:"star",SVG_KEY:"imageDisplay"}),x.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(s,b){this.image.display(b)},refresh:function(s){this.opts.imageTextNear||s.addClass("fr-hidden")},refreshOnShow:function(s,b){this.image.refreshDisplayOnShow(s,b)}}),x.DefineIcon("image-align",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("image-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("image-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("image-align-center",{NAME:"align-justify",SVG_KEY:"alignCenter"}),x.DefineIcon("imageAlign",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.imageAlign.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.icon.create("image-align-".concat($)),'<span class="fr-sr-only">').concat(this.language.translate(b[$]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.image.align(b)},refresh:function(s){this.image.refreshAlign(s)},refreshOnShow:function(s,b){this.image.refreshAlignOnShow(s,b)}}),x.DefineIcon("imageReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),x.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),x.DefineIcon("imageRemove",{NAME:"trash",SVG_KEY:"remove"}),x.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),x.DefineIcon("imageBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(s){this.$,this.image.get()||this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next(".fr-separator").removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next(".fr-separator").addClass("fr-hidden"))}}),x.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),x.DefineIcon("imageStyle",{NAME:"magic",SVG_KEY:"imageClass"}),x.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.imageStyles;for(var $ in b)if(b.hasOwnProperty($)){var ge=b[$];Ke(ge)=="object"&&(ge=ge.title),s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'.concat($,'">').concat(this.language.translate(ge),"</a></li>")}return s+="</ul>"},callback:function(s,b){this.image.applyStyle(b)},refreshOnShow:function(s,b){var $=this.$,ge=this.image.getEl();ge&&b.find(".fr-command").each(function(){var a=$(this).data("param1"),f=ge.hasClass(a);$(this).toggleClass("fr-active",f).attr("aria-selected",f)})}}),x.DefineIcon("imageAlt",{NAME:"info",SVG_KEY:"imageAltText"}),x.RegisterCommand("imageAlt",{undo:!1,focus:!1,popup:!0,title:"Alternative Text",callback:function(){this.image.showAltPopup()}}),x.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),x.DefineIcon("imageSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),x.RegisterCommand("imageSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.image.showSizePopup()}}),x.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}}),x.DefineIcon("imageCaption",{NAME:"commenting",FA5NAME:"comment-alt",SVG_KEY:"imageCaption"}),x.RegisterCommand("imageCaption",{undo:!0,focus:!1,title:"Image Caption",refreshAfterCallback:!0,callback:function(){this.image.toggleCaption()},refresh:function(s){this.image.get()&&s.toggleClass("fr-active",this.image.hasCaption())}}),Object.assign(x.DEFAULTS,{imageManagerLoadURL:"https://i.froala.com/load-files",imageManagerLoadMethod:"get",imageManagerLoadParams:{},imageManagerPreloader:null,imageManagerDeleteURL:"",imageManagerDeleteMethod:"post",imageManagerDeleteParams:{},imageManagerPageSize:12,imageManagerScrollOffset:20,imageManagerToggleTags:!0}),x.PLUGINS.imageManager=function(s){var b,$,ge,a,f,N,O,T,L,B,G,P=s.$,F="image_manager",j=10,H=11,ee=12,w=13,he=14,be=15,se=21,re=22,ie={};function M(){var st=P(window).outerWidth();return st<768?2:st<1200?3:4}function W(){f.empty();for(var st=0;st<G;st++)f.append('<div class="fr-list-column"></div>')}function K(){if(L<O.length&&ge[0].scrollTop>=ge[0].scrollHeight-s.opts.imageManagerScrollOffset-ge.outerHeight()){T++;for(var st=s.opts.imageManagerPageSize*(T-1);st<Math.min(O.length,s.opts.imageManagerPageSize*T);st++)R(O[st])}}function R(st){var Me=new Image,tt=P(document.createElement("div")).attr("class","fr-image-container fr-empty fr-image-"+B++).attr("data-loading",s.language.translate("Loading")+"..").attr("data-deleting",s.language.translate("Deleting")+"..");q(!1),Me.onload=function(){tt.height(Math.floor(tt.width()/Me.width*Me.height));var ze=P(document.createElement("img"));if(st.thumb)ze.attr("src",st.thumb);else{if(we(he,st),!st.url)return we(be,st),!1;ze.attr("src",st.url)}if(st.url&&ze.attr("data-url",st.url),st.tag)if($.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"),$.find(".fr-modal-tags").show(),0<=st.tag.indexOf(",")){for(var Ze=st.tag.split(","),qe=0;qe<Ze.length;qe++)Ze[qe]=Ze[qe].trim(),N.find('a[title="'.concat(Ze[qe],'"]')).length===0&&N.append('<a role="button" title="'.concat(Ze[qe],'">').concat(Ze[qe],"</a>"));ze.attr("data-tag",Ze.join())}else N.find('a[title="'.concat(st.tag.trim(),'"]')).length===0&&N.append('<a role="button" title="'.concat(st.tag.trim(),'">').concat(st.tag.trim(),"</a>")),ze.attr("data-tag",st.tag.trim());for(var Fe in st.name&&ze.attr("alt",st.name),st)st.hasOwnProperty(Fe)&&Fe!=="thumb"&&Fe!=="url"&&Fe!=="tag"&&ze.attr("data-".concat(Fe),st[Fe]);tt.append(ze).append(P(s.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title",s.language.translate("Delete"))).append(P(s.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title",s.language.translate("Insert"))),N.find(".fr-selected-tag").each(function(Ye,xt){nt(ze,xt.text)||tt.hide()}),ze.on("load",function(){tt.removeClass("fr-empty"),tt.height("auto"),L++,V(J(parseInt(ze.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1)),q(!1),L%s.opts.imageManagerPageSize==0&&K()}),s.events.trigger("imageManager.imageLoaded",[ze])},Me.onerror=function(){L++,tt.remove(),V(J(parseInt(tt.attr("class").match(/fr-image-(\d+)/)[1],10)+1)),we(j,st),L%s.opts.imageManagerPageSize==0&&K()},Me.src=st.thumb||st.url,A().append(tt)}function A(){var st,Me;return f.find(".fr-list-column").each(function(tt,ze){var Ze=P(ze);(tt===0||Ze.outerHeight()<Me)&&(Me=Ze.outerHeight(),st=Ze)}),st}function J(st){st===void 0&&(st=0);for(var Me=[],tt=B-1;st<=tt;tt--){var ze=f.find(".fr-image-".concat(tt));ze.length&&(Me.push(ze),P(document.createElement("div")).attr("id","fr-image-hidden-container").append(ze),f.find(".fr-image-".concat(tt)).remove())}return Me}function V(st){for(var Me=st.length-1;0<=Me;Me--)A().append(st[Me])}function q(st){if(st===void 0&&(st=!0),!b.isVisible())return!0;var Me=M();if(Me!==G){G=Me;var tt=J();W(),V(tt)}s.modals.resize(F),st&&K()}function ae(st){for(var Me,tt=st[0].attributes,ze=tt.length,Ze={};ze--;)tt[ze]&&(Me=tt[ze].name)!=="src"&&(Ze[Me]=tt[ze].value);return Ze}function Le(st){var Me=P(st.currentTarget).siblings("img"),tt=b.data("instance")||s,ze=b.data("current-image");if(s.modals.hide(F),tt.image.showProgressBar(),ze)ze.data("fr-old-src",ze.attr("src")),ze.trigger("click");else{tt.events.focus(!0),tt.selection.restore();var Ze=tt.position.getBoundingRect(),qe=Ze.left+Ze.width/2+P(s.doc).scrollLeft(),Fe=Ze.top+Ze.height+P(s.doc).scrollTop();tt.popups.setContainer("image.insert",s.$sc),tt.popups.show("image.insert",qe,Fe)}tt.image.insert(Me.data("url"),!1,ae(Me),ze)}function Ee(st){var Me=P(st.currentTarget).siblings("img"),tt=s.language.translate("Are you sure? Image will be deleted.");confirm(tt)&&(s.opts.imageManagerDeleteURL?s.events.trigger("imageManager.beforeDeleteImage",[Me])!==!1&&(Me.parent().addClass("fr-image-deleting"),P(this).ajax({method:s.opts.imageManagerDeleteMethod,url:s.opts.imageManagerDeleteURL,data:Object.assign(Object.assign({src:Me.attr("src")},ae(Me)),s.opts.imageManagerDeleteParams),crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(ze,Ze,qe){s.events.trigger("imageManager.imageDeleted",[ze]);var Fe=J(parseInt(Me.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);Me.parent().remove(),V(Fe),function(){b.find("#fr-modal-tags > a").each(function(){b.find('#fr-image-list [data-tag*="'.concat(P(this).text(),'"]')).length===0&&P(this).removeClass("fr-selected-tag").hide()}),We()}(),q(!0)},fail:function(ze){we(se,ze.response||ze.responseText)}})):we(re))}function we(st,Me){10<=st&&st<20?a.hide():20<=st&&st<30&&P(".fr-image-deleting").removeClass("fr-image-deleting"),s.events.trigger("imageManager.error",[{code:st,message:ie[st]},Me])}function Ne(){var st=$.find(".fr-modal-head-line").outerHeight(),Me=N.outerHeight();$.toggleClass("fr-show-tags"),$.hasClass("fr-show-tags")?($.css("height",st+Me),ge.css("marginTop",st+Me),N.find("a").css("opacity",1)):($.css("height",st),ge.css("marginTop",st),N.find("a").css("opacity",0))}function We(){var st=N.find(".fr-selected-tag");0<st.length?(f.find("img").parents().show(),st.each(function(Me,tt){f.find("img").each(function(ze,Ze){var qe=P(Ze);nt(qe,tt.text)||qe.parent().hide()})})):f.find("img").parents().show(),V(J()),K()}function ct(st){st.preventDefault();var Me=P(st.currentTarget);Me.toggleClass("fr-selected-tag"),s.opts.imageManagerToggleTags&&Me.siblings("a").removeClass("fr-selected-tag"),We()}function nt(st,Me){for(var tt=(st.attr("data-tag")||"").split(","),ze=0;ze<tt.length;ze++)if(tt[ze]===Me)return!0;return!1}return ie[j]="Image cannot be loaded from the passed link.",ie[H]="Error during load images request.",ie[ee]="Missing imageManagerLoadURL option.",ie[w]="Parsing load response failed.",ie[he]="Missing image thumb.",ie[be]="Missing image URL.",ie[se]="Error during delete image request.",ie[re]="Missing imageManagerDeleteURL option.",{require:["image"],_init:function(){if(!s.$wp&&s.el.tagName!=="IMG")return!1},show:function(){if(!b){var Me,tt='<button class="fr-command fr-btn fr-modal-more fr-not-available" id="fr-modal-more-'.concat(s.sid,'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24""><path d="').concat(x.SVG.tags,'"/></svg></button><h4 data-text="true">').concat(s.language.translate("Manage Images"),`</h4></div>
      <div class="fr-modal-tags" id="fr-modal-tags">`);Me=s.opts.imageManagerPreloader?'<img class="fr-preloader" id="fr-preloader" alt="'.concat(s.language.translate("Loading"),'.." src="').concat(s.opts.imageManagerPreloader,'" style="display: none;">'):'<span class="fr-preloader" id="fr-preloader" style="display: none;">'.concat(s.language.translate("Loading"),"</span>"),Me+='<div class="fr-image-list" id="fr-image-list"></div>';var ze=s.modals.create(F,tt,Me);b=ze.$modal,$=ze.$head,ge=ze.$body}b.data("current-image",s.image.get()),s.modals.show(F),a||function(){a=b.find("#fr-preloader"),f=b.find("#fr-image-list"),N=b.find("#fr-modal-tags"),G=M(),W(),$.css("height",$.find(".fr-modal-head-line").outerHeight()),s.events.$on(P(s.o_win),"resize",function(){q(!!O)}),s.events.bindClick(f,".fr-insert-img",Le),s.events.bindClick(f,".fr-delete-img",Ee),s.helpers.isMobile()&&(s.events.bindClick(f,"div.fr-image-container",function(qe){b.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),P(qe.currentTarget).addClass("fr-mobile-selected")}),b.on(s._mousedown,function(){b.find(".fr-mobile-selected").removeClass("fr-mobile-selected")})),b.on(s._mousedown+" "+s._mouseup,function(qe){qe.stopPropagation()}),b.on(s._mousedown,"*",function(){s.events.disableBlur()}),ge.on("scroll",K),s.events.bindClick(b,"button#fr-modal-more-".concat(s.sid),Ne),s.events.bindClick(N,"a",ct)}(),function(){a.show(),f.find(".fr-list-column").empty(),s.opts.imageManagerLoadURL?P(this).ajax({url:s.opts.imageManagerLoadURL,method:s.opts.imageManagerLoadMethod,data:s.opts.imageManagerLoadParams,crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(qe,Fe,Ye){s.events.trigger("imageManager.imagesLoaded",[qe]),function(ft,Ot){try{f.find(".fr-list-column").empty(),B=L=T=0,O=JSON.parse(ft),K()}catch{we(w,Ot)}}(qe,Ye.response),a.hide()},fail:function(qe){we(H,qe.response||qe.responseText)}}):we(ee)}()},hide:function(){s.modals.hide(F)}}},!x.PLUGINS.image)throw new Error("Image manager plugin requires image plugin.");function Mt(s){var b={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(s===!1)return JSON.parse(JSON.stringify(b));var $={};for(var ge in b)b.hasOwnProperty(ge)&&($[ge]=b[ge].defaultValue);return $}x.DEFAULTS.imageInsertButtons.push("imageManager"),x.RegisterCommand("imageManager",{title:"Browse",undo:!1,focus:!1,modal:!0,callback:function(){this.imageManager.show()},plugin:"imageManager"}),x.DefineIcon("imageManager",{NAME:"folder",SVG_KEY:"imageManager"}),x.DefineIcon("imageManagerInsert",{NAME:"plus",SVG_KEY:"add"}),x.DefineIcon("imageManagerDelete",{NAME:"trash",SVG_KEY:"remove"}),Object.assign(x.DEFAULTS,{inlineClasses:{"fr-class-code":"Code","fr-class-highlighted":"Highlighted","fr-class-transparency":"Transparent"}}),x.PLUGINS.inlineClass=function(s){var b=s.$;return{apply:function(ge){s.format.toggle("span",{class:ge})},refreshOnShow:function(ge,a){a.find(".fr-command").each(function(){var f=b(this).data("param1"),N=s.format.is("span",{class:f});b(this).toggleClass("fr-active",N).attr("aria-selected",N)})}}},x.RegisterCommand("inlineClass",{type:"dropdown",title:"Inline Class",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.inlineClasses;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineClass" data-param1="'.concat($,'" title="').concat(b[$],'">').concat(b[$],"</a></li>"));return s+="</ul>"},callback:function(s,b){this.inlineClass.apply(b)},refreshOnShow:function(s,b){this.inlineClass.refreshOnShow(s,b)},plugin:"inlineClass"}),x.DefineIcon("inlineClass",{NAME:"tag",SVG_KEY:"inlineClass"}),Object.assign(x.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),x.PLUGINS.inlineStyle=function(s){return{apply:function($){for(var ge=$.split(";"),a=0;a<ge.length;a++){var f=ge[a].split(":");ge[a].length&&f.length==2&&s.format.applyStyle(f[0].trim(),f[1].trim())}}}},x.RegisterCommand("inlineStyle",{type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.inlineStyles;for(var $ in b)if(b.hasOwnProperty($)){var ge=b[$]+(b[$].indexOf("display:block;")===-1?" display:block;":"");s+='<li role="presentation"><span style="'.concat(ge,'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="').concat(b[$],'" title="').concat(this.language.translate($),'">').concat(this.language.translate($),"</a></span></li>")}return s+="</ul>"},title:"Inline Style",callback:function(s,b){this.inlineStyle.apply(b)},plugin:"inlineStyle"}),x.DefineIcon("inlineStyle",{NAME:"paint-brush",SVG_KEY:"inlineStyle"}),Object.assign(x.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly","img"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),x.PLUGINS.lineBreaker=function(s){var b,$,ge,a=s.$;function f(ee,w){var he,be,se,re,ie,M,W,K;if(ee==null)ie=(re=w.parent()).offset().top,he=(W=w.offset().top)-Math.min((W-ie)/2,s.opts.lineBreakerOffset),se=re.outerWidth(),be=re.offset().left;else if(w==null)(M=(re=ee.parent()).offset().top+re.outerHeight())<(K=ee.offset().top+ee.outerHeight())&&(M=(re=a(re).parent()).offset().top+re.outerHeight()),he=K+Math.min(Math.abs(M-K)/2,s.opts.lineBreakerOffset),se=re.outerWidth(),be=re.offset().left;else{re=ee.parent();var R=ee.offset().top+ee.height(),A=w.offset().top;if(A<R)return!1;he=(R+A)/2,se=re.outerWidth(),be=re.offset().left}if(s.opts.iframe){var J=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),V=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));be+=s.$iframe.offset().left-s.helpers.scrollLeft()+V,he+=s.$iframe.offset().top-s.helpers.scrollTop()+J}s.$box.append(b),b.css("top",he-s.win.pageYOffset),b.css("left",be-s.win.pageXOffset),b.css("width",se),b.data("tag1",ee),b.data("tag2",w),b.addClass("fr-visible").data("instance",s)}function N(ee){if(ee){var w=a(ee);if(s.$el.find(w).length===0)return null;if(ee.nodeType!=Node.TEXT_NODE&&w.is(s.opts.lineBreakerTags.join(",")))return w;if(0<w.parents(s.opts.lineBreakerTags.join(",")).length)return ee=w.parents(s.opts.lineBreakerTags.join(",")).get(0),s.$el.find(a(ee)).length!==0&&a(ee).is(s.opts.lineBreakerTags.join(","))?a(ee):null}return null}function O(ee,w){var he=s.doc.elementFromPoint(ee,w);return he&&!a(he).closest(".fr-line-breaker").length&&!s.node.isElement(he)&&he!=s.$wp.get(0)&&function(se){if(typeof se.inFroalaWrapper<"u")return se.inFroalaWrapper;for(var re=se;se.parentNode&&se.parentNode!==s.$wp.get(0);)se=se.parentNode;return re.inFroalaWrapper=se.parentNode==s.$wp.get(0),re.inFroalaWrapper}(he)?he:null}function T(ee,w,he){for(var be=he,se=null;be<=s.opts.lineBreakerOffset&&!se;)(se=O(ee,w-be))||(se=O(ee,w+be)),be+=he;return se}function L(ee,w,he){for(var be=null,se=100;!be&&ee>s.$box.offset().left&&ee<s.$box.offset().left+s.$box.outerWidth()&&0<se;)(be=O(ee,w))||(be=T(ee,w,5)),he=="left"?ee-=s.opts.lineBreakerHorizontalOffset:ee+=s.opts.lineBreakerHorizontalOffset,se-=s.opts.lineBreakerHorizontalOffset;return be}function B(ee){var w=ge=null,he=null,be=s.doc.elementFromPoint(ee.pageX-s.win.pageXOffset,ee.pageY-s.win.pageYOffset);(w=be&&(be.tagName=="HTML"||be.tagName=="BODY"||s.node.isElement(be)||0<=(be.getAttribute("class")||"").indexOf("fr-line-breaker"))?((he=T(ee.pageX-s.win.pageXOffset,ee.pageY-s.win.pageYOffset,1))||(he=L(ee.pageX-s.win.pageXOffset-s.opts.lineBreakerHorizontalOffset,ee.pageY-s.win.pageYOffset,"left")),he||(he=L(ee.pageX-s.win.pageXOffset+s.opts.lineBreakerHorizontalOffset,ee.pageY-s.win.pageYOffset,"right")),N(he)):N(be))?function(re,ie){var M,W,K=re.offset().top,R=re.offset().top+re.outerHeight();if(Math.abs(R-ie)<=s.opts.lineBreakerOffset||Math.abs(ie-K)<=s.opts.lineBreakerOffset)if(Math.abs(R-ie)<Math.abs(ie-K)){var A=null;for((W=re.get(0)).nextSibling&&(A=W.nextSibling.offsetParent?W.nextSibling:null);A&&A.nodeType==Node.TEXT_NODE&&A.textContent.length===0;)A=A.nextSibling;if(!A)return f(re,null),!0;if(M=N(A))return f(re,M),!0}else{if(!(W=re.get(0)).previousSibling)return f(null,re),!0;if(M=N(W.previousSibling))return f(M,re),!0}b.removeClass("fr-visible").removeData("instance")}(w,ee.pageY):s.core.sameInstance(b)&&b.removeClass("fr-visible").removeData("instance")}function G(ee){return!(b.hasClass("fr-visible")&&!s.core.sameInstance(b))&&(s.popups.areVisible()||s.el.querySelector(".fr-selected-cell")?(b.removeClass("fr-visible"),!0):void($!==!1||s.edit.isDisabled()||(ge&&clearTimeout(ge),ge=setTimeout(B,30,ee))))}function P(){ge&&clearTimeout(ge),b&&b.hasClass("fr-visible")&&b.removeClass("fr-visible").removeData("instance")}var F=function(){$=!0,P()},j=function(){$=!1};function H(ee){ee.preventDefault();var w=b.data("instance")||s;b.removeClass("fr-visible").removeData("instance");var he=b.data("tag1"),be=b.data("tag2"),se=s.html.defaultTag();if(he==null)if(s.opts.keepTextFormatOnTable&&be.children().get(0)!=null&&be.children().get(0).tagName=="TBODY"){var re=be.find("span"),ie=re[re.length-1]!=null?re[re.length-1].getAttribute("style"):null,M=ie!=null?"<"+re[re.length-1].nodeName.toLowerCase()+' style="'+ie+'">':"<"+be.parent().get(0).nodeName.toLowerCase()+">",W=ie!=null?"</"+re[re.length-1].nodeName.toLowerCase()+">":"</"+be.parent().get(0).nodeName.toLowerCase()+">";se?be.before("<".concat(se,">").concat(M).concat(x.MARKERS,"<br>").concat(W,"</").concat(se,">")):be.before("".concat(M).concat(x.MARKERS,"<br>").concat(W))}else se&&be.parent().get(0).tagName!="TD"&&be.parents(se).length===0?be.before("<".concat(se,">").concat(x.MARKERS,"<br></").concat(se,">")):be.before("".concat(x.MARKERS,"<br>"));else if(s.opts.keepTextFormatOnTable&&he.children().get(0)!=null&&he.children().get(0).tagName=="TBODY"){var K=he.find("span"),R=K[K.length-1]!=null?K[K.length-1].getAttribute("style"):null,A=R!=null?"<"+K[K.length-1].nodeName.toLowerCase()+' style="'+R+'">':"<"+he.parent().get(0).nodeName.toLowerCase()+">",J=R!=null?"</"+K[K.length-1].nodeName.toLowerCase()+">":"</"+he.parent().get(0).nodeName.toLowerCase()+">";se?he.after("<".concat(se,">").concat(A).concat(x.MARKERS,"<br>").concat(J,"</").concat(se,">")):he.after("".concat(A).concat(x.MARKERS,"<br>").concat(J))}else se&&he.parent().get(0).tagName!="TD"&&he.parents(se).length===0?he.after("<".concat(se,">").concat(x.MARKERS,"<br></").concat(se,">")):he.after("".concat(x.MARKERS,"<br>"));w.selection.restore(),s.undo.saveStep(),s.toolbar.enable()}return{_init:function(){if(!s.$wp)return!1;(function(){s.shared.$line_breaker||(s.shared.$line_breaker=a(document.createElement("div")).attr("class","fr-line-breaker").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Break"),'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="17" y="7" width="2" height="8"/><rect x="10" y="13" width="7" height="2"/><path d="M10.000,10.000 L10.000,18.013 L5.000,14.031 L10.000,10.000 Z"/></svg></a>'))),b=s.shared.$line_breaker,s.events.on("shared.destroy",function(){b.html("").removeData().remove(),b=null},!0),s.events.on("destroy",function(){b.removeData("instance").removeClass("fr-visible"),a("body").first().append(b),clearTimeout(ge)},!0),s.events.$on(b,"mousemove",function(he){he.stopPropagation()},!0),s.events.bindClick(b,"a",H)})(),$=!1,s.events.$on(s.$win,"mousemove",G),s.events.$on(a(s.win),"scroll",P),s.events.on("popups.show.table.edit",P),s.events.on("commands.after",P),s.events.$on(a(s.win),"mousedown",F),s.events.$on(a(s.win),"mouseup",j)}}},Object.assign(x.DEFAULTS,{lineHeights:{Default:"",Single:"1",1.15:"1.15",1.5:"1.5",Double:"2"}}),x.PLUGINS.lineHeight=function(s){var b=s.$;return{_init:function(){},apply:function(ge){s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();var a=s.selection.blocks();a.length&&b(a[0]).parent().is("td")&&s.format.applyStyle("line-height",ge.toString()),s.selection.save();for(var f=0;f<a.length;f++)b(a[f]).css("line-height",ge),s.opts.enter!==x.ENTER_BR||a.length&&b(a[0]).parent().is("td")||(b(a[f]).hasClass("fr-temp-div")&&b(a[f]).removeClass("fr-temp-div"),b(a[f]).attr("class")===""&&b(a[f]).removeAttr("class")),b(a[f]).attr("style")===""&&b(a[f]).removeAttr("style");s.html.unwrap(),s.selection.restore()},refreshOnShow:function(ge,a){var f=s.selection.blocks();if(f.length){var N=b(f[0]);a.find(".fr-command").each(function(){var O=b(this).data("param1"),T=N.attr("style"),L=0<=(T||"").indexOf("line-height: "+O+";");if(T){var B=T.substring(T.indexOf("line-height")),G=B.substr(0,B.indexOf(";")),P=G&&G.split(":")[1];P&&P.length||N.text()!=="Default"||(L=!0)}T&&T.indexOf("line-height")!==-1||O!==""||(L=!0),b(this).toggleClass("fr-active",L).attr("aria-selected",L)})}}}},x.RegisterCommand("lineHeight",{type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.lineHeights;if(b instanceof Array)for(var $=0;$<b.length;$++)s+='<li role="presentation"><a class="fr-command '.concat(b[$].label,'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(b[$].value,'" title="').concat(this.language.translate(b[$].label),'">').concat(this.language.translate(b[$].label),"</a></li>");else if(b instanceof Object)for(var ge in b)b.hasOwnProperty(ge)&&(s+='<li role="presentation"><a class="fr-command '.concat(ge,'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(b[ge],'" title="').concat(this.language.translate(ge),'">').concat(this.language.translate(ge),"</a></li>"));return s+="</ul>"},title:"Line Height",callback:function(s,b){this.lineHeight.apply(b)},refreshOnShow:function(s,b){this.lineHeight.refreshOnShow(s,b)},plugin:"lineHeight"}),x.DefineIcon("lineHeight",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"lineHeight"}),Object.assign(x.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),Object.assign(x.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkNoOpener:!0,linkNoReferrer:!0,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),x.PLUGINS.link=function(s){var b=s.$;function $(){var P=s.image?s.image.get():null;if(P||!s.$wp)return s.el.tagName=="A"?s.el:P&&P.get(0).parentNode&&P.get(0).parentNode.tagName=="A"?P.get(0).parentNode:void 0;var F=s.selection.ranges(0).commonAncestorContainer;try{F&&(F.contains&&F.contains(s.el)||!s.el.contains(F)||s.el==F)&&(F=null)}catch{F=null}if(F&&F.tagName==="A")return F;var j,H,ee=s.selection.element(),w=s.selection.endElement();ee.tagName=="A"||s.node.isElement(ee)||(ee=s.opts.iframe&&(j=s.markdown)!==null&&j!==void 0&&j.isEnabled()?null:b(ee).parentsUntil(s.$el,"a").first().get(0)),w.tagName=="A"||s.node.isElement(w)||(w=s.opts.iframe&&(H=s.markdown)!==null&&H!==void 0&&H.isEnabled()?null:b(w).parentsUntil(s.$el,"a").first().get(0));try{w&&(w.contains&&w.contains(s.el)||!s.el.contains(w)||s.el==w)&&(w=null)}catch{w=null}try{ee&&(ee.contains&&ee.contains(s.el)||!s.el.contains(ee)||s.el==ee)&&(ee=null)}catch{ee=null}return w&&w==ee&&w.tagName=="A"?(s.browser.msie||s.helpers.isMobile())&&(s.selection.info(ee).atEnd||s.selection.info(ee).atStart)?null:ee:null}function ge(){var P,F,j,H,ee=s.image?s.image.get():null,w=[];if(ee)ee.get(0).parentNode.tagName=="A"&&w.push(ee.get(0).parentNode);else if(s.win.getSelection){var he=s.win.getSelection();if(he.getRangeAt&&he.rangeCount){H=s.doc.createRange();for(var be=0;be<he.rangeCount;++be)if((F=(P=he.getRangeAt(be)).commonAncestorContainer)&&F.nodeType!=1&&(F=F.parentNode),F&&F.nodeName.toLowerCase()=="a")w.push(F);else{j=F.getElementsByTagName("a");for(var se=0;se<j.length;++se)H.selectNodeContents(j[se]),H.compareBoundaryPoints(P.END_TO_START,P)<1&&-1<H.compareBoundaryPoints(P.START_TO_END,P)&&w.push(j[se])}}}else if(s.doc.selection&&s.doc.selection.type!="Control")if((F=(P=s.doc.selection.createRange()).parentElement()).nodeName.toLowerCase()=="a")w.push(F);else{j=F.getElementsByTagName("a"),H=s.doc.body.createTextRange();for(var re=0;re<j.length;++re)H.moveToElementText(j[re]),-1<H.compareEndPoints("StartToEnd",P)&&H.compareEndPoints("EndToStart",P)<1&&w.push(j[re])}return w}function a(P){if(s.core.hasFocus()||s.opts.iframe&&(!document.hasFocus||document.hasFocus())){if(N(),P&&P.type==="keyup"&&(P.altKey||P.which==x.KEYCODE.ALT))return!0;setTimeout(function(){if(!P||P&&(P.which==1||P.type!="mouseup")){var F=$(),j=s.image?s.image.get():null;if(F&&!j){if(s.image){var H=s.node.contents(F);if(H.length==1&&H[0].tagName=="IMG"){var ee=s.selection.ranges(0);return ee.startOffset===0&&ee.endOffset===0?b(F).before(x.INVISIBLE_SPACE+x.MARKERS):b(F).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore(),!1}}P&&P.stopPropagation(),f(F)}}},s.helpers.isIOS()?100:0)}}function f(P){var F=s.popups.get("link.edit");F||(F=function(){var he="";1<=s.opts.linkEditButtons.length&&(s.el.tagName=="A"&&0<=s.opts.linkEditButtons.indexOf("linkRemove")&&s.opts.linkEditButtons.splice(s.opts.linkEditButtons.indexOf("linkRemove"),1),he='<div class="fr-buttons">'.concat(s.button.buildList(s.opts.linkEditButtons),"</div>"));var be={buttons:he},se=s.popups.create("link.edit",be);return s.$wp&&s.events.$on(s.$wp,"scroll.link-edit",function(){$()&&s.popups.isVisible("link.edit")&&f($())}),se}());var j=b(P);s.popups.isVisible("link.edit")||s.popups.refresh("link.edit"),s.popups.setContainer("link.edit",s.$sc);var H=j.offset().left+j.outerWidth()/2,ee=j.offset().top+j.outerHeight();s.popups.show("link.edit",H,ee,j.outerHeight(),!0)}function N(){s.popups.hide("link.edit")}function O(){var P=s.popups.get("link.insert"),F=$();if(F){var j,H,ee=b(F),w=P.find('input.fr-link-attr[type="text"]'),he=P.find('input.fr-link-attr[type="checkbox"]');for(j=0;j<w.length;j++){var be=(H=b(w[j])).attr("name")||"",se=be==="href"?decodeURI(ee.attr(be)):ee.attr(be);H.val(se)}for(he.attr("checked",!1),j=0;j<he.length;j++)H=b(he[j]),ee.attr(H.attr("name"))==H.data("checked")&&H.attr("checked",!0);P.find('input.fr-link-attr[type="text"][name="text"]').val(ee.text())}else P.find('input.fr-link-attr[type="text"]').val(""),P.find('input.fr-link-attr[type="checkbox"]').attr("checked",!1),P.find('input.fr-link-attr[type="text"][name="text"]').val(s.selection.text());P.find("input.fr-link-attr").trigger("change"),s.image&&s.image.get()?P.find('.fr-link-attr[name="text"]').parent().hide():P.find('.fr-link-attr[name="text"]').parent().show()}function T(P){if(P)return s.popups.onRefresh("link.insert",O),!0;var F="";1<=s.opts.linkInsertButtons.length&&(F='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.linkInsertButtons),"</div>"));var j="",H=0;for(var ee in j='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'.concat(s.id,'">'),j+='<div class="fr-input-line"><input id="fr-link-insert-layer-url-'.concat(s.id,'" name="href" type="text" class="fr-link-attr" placeholder="').concat(s.language.translate("URL"),'" tabIndex="').concat(++H,'"></div>'),s.opts.linkText&&(j+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'.concat(s.id,'" name="text" type="text" class="fr-link-attr" placeholder="').concat(s.language.translate("Text"),'" tabIndex="').concat(++H,'"></div>')),s.opts.linkAttributes)if(s.opts.linkAttributes.hasOwnProperty(ee)){var w=s.opts.linkAttributes[ee];j+='<div class="fr-input-line"><input name="'.concat(ee,'" type="text" class="fr-link-attr" placeholder="').concat(s.language.translate(w),'" tabIndex="').concat(++H,'"></div>')}s.opts.linkAlwaysBlank||(j+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'.concat(s.id,'" tabIndex="').concat(++H,'"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span><label id="fr-label-target-').concat(s.id,'">').concat(s.language.translate("Open in new tab"),"</label></div>"));var he={buttons:F,input_layer:j+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'.concat(++H,'" type="button">').concat(s.language.translate("Insert"),"</button></div></div>")},be=s.popups.create("link.insert",he);return s.$wp&&s.events.$on(s.$wp,"scroll.link-insert",function(){s.image&&s.image.get()&&s.popups.isVisible("link.insert")&&G(),s.popups.isVisible("link.insert")&&B()}),be}function L(P,F,j){if(s.opts.trackChangesEnabled){if(s.edit.on(),s.events.focus(!0),s.undo.saveStep(),s.markers.insert(),s.html.wrap(),!s.$el.find(".fr-marker").length)return void s.popups.hide("link.insert");s.markers.remove()}if(j===void 0&&(j={}),s.events.trigger("link.beforeInsert",[P,F,j])===!1)return!1;var H=s.image?s.image.get():null;H||s.el.tagName=="A"?s.el.tagName=="A"&&s.$el.focus():(s.selection.restore(),s.popups.hide("link.insert"));var ee=P;if(s.opts.linkConvertEmailAddress&&s.helpers.isEmail(P)&&!/^mailto:.*/i.test(P)&&(P="mailto:".concat(P)),s.opts.linkAutoPrefix===""||new RegExp("^("+x.LinkProtocols.join("|")+"):.","i").test(P)||/^data:image.*/i.test(P)||/^(https?:|ftps?:|file:|)\/\//i.test(P)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(P)||["/","{","[","#","(",".",'"',"\\"].indexOf((P||"")[0])<0&&(P=s.opts.linkAutoPrefix+P),(P=s.helpers.sanitizeURL(P))===decodeURIComponent(P)&&(P=encodeURI(P)),s.opts.linkAlwaysBlank&&(j.target="_blank"),s.opts.linkAlwaysNoFollow&&(j.rel="nofollow"),s.helpers.isEmail(ee)&&(j.target=null,j.rel=null),j.target=="_blank"?(s.opts.linkNoOpener&&(j.rel?j.rel+=" noopener":j.rel="noopener"),s.opts.linkNoReferrer&&(j.rel?j.rel+=" noreferrer":j.rel="noreferrer")):j.target==null&&(j.rel?j.rel=j.rel.replace(/noopener/,"").replace(/noreferrer/,""):j.rel=null),F=F||"",P===s.opts.linkAutoPrefix)return s.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),s.events.trigger("link.bad",[ee]),!1;var w,he=$();if(he){if((w=b(he)).attr("href",P),0<F.length&&w.text()!=F&&!H){if(s.opts.trackChangesEnabled){var be=b(w.get(0).outerHTML);be.insertBefore(w.parent());var se=s.track_changes.wrapLinkInTracking(be,s.track_changes.getPendingChanges().length-1),re=s.track_changes.wrapInDelete(se);w.parent().append(re)}for(var ie=w.get(0);ie.childNodes.length===1&&ie.childNodes[0].nodeType==Node.ELEMENT_NODE;)ie=ie.childNodes[0];b(ie).text(F)}for(var M in H||w.prepend(x.START_MARKER).append(x.END_MARKER),j)j[M]?w.attr(M,j[M]):w.removeAttr(M);H||s.selection.restore()}else{H?(H.wrap('<a href="'.concat(P,'"></a>')),s.image.hasCaption()&&H.parent().append(H.parents(".fr-img-caption").find(".fr-inner"))):(s.format.remove("a"),s.selection.isCollapsed()?(F=F.length===0?ee:F,s.html.insert('<a href="'.concat(P,'">').concat(x.START_MARKER).concat(F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).concat(x.END_MARKER,"</a>")),s.selection.restore()):0<F.length&&F!=s.selection.text().replace(/\n/g,"")?(s.selection.remove(),s.html.insert('<a href="'.concat(P,'">').concat(x.START_MARKER).concat(F.replace(/&/g,"&amp;")).concat(x.END_MARKER,"</a>")),s.selection.restore()):(function(){if(!s.selection.isCollapsed()){s.selection.save();for(var J=s.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();J.length;){var V=b(J.pop());V.removeClass("fr-unprocessed");var q=s.node.deepestParent(V.get(0));if(q){for(var ae=V.get(0),Le="",Ee="";ae=ae.parentNode,s.node.isBlock(ae)||(Le+=s.node.closeTagString(ae),Ee=s.node.openTagString(ae)+Ee),ae!=q;);var we=s.node.openTagString(V.get(0))+V.html()+s.node.closeTagString(V.get(0));V.replaceWith('<span id="fr-break"></span>');var Ne=q.outerHTML;Ne=(Ne=Ne.replace(/<span id="fr-break"><\/span>/g,Le+we+Ee)).replace(Ee+Le,""),q.outerHTML=Ne}J=s.$el.find(".fr-marker.fr-unprocessed").toArray()}s.html.cleanEmptyTags(),s.selection.restore()}}(),s.format.apply("a",{href:P})));for(var W=ge(),K=0;K<W.length;K++)(w=b(W[K])).attr(j),w.removeAttr("_moz_dirty");W.length==1&&s.$wp&&!H&&(b(W[0]).prepend(x.START_MARKER).append(x.END_MARKER),s.selection.restore())}if(H){var R=s.popups.get("link.insert");R&&R.find("input:focus").blur(),s.image.edit(H)}else a()}function B(){N();var P=$();if(P){var F=s.popups.get("link.insert");F||(F=T()),s.popups.isVisible("link.insert")||(s.popups.refresh("link.insert"),s.selection.save(),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur())),s.popups.setContainer("link.insert",s.$sc);var j=(s.image?s.image.get():null)||b(P),H=j.offset().left+j.outerWidth()/2,ee=j.offset().top+j.outerHeight();s.popups.show("link.insert",H,ee,j.outerHeight(),!0)}}function G(){var P=s.image?s.image.getEl():null;if(P){var F=s.popups.get("link.insert"),j=P.outerWidth()/2;s.image.hasCaption()&&(P=P.find(".fr-img-wrap"),b(P)&&b(P).find("img")&&(j=b(P).find("img").outerWidth()/2)),F||(F=T()),O(),s.popups.setContainer("link.insert",s.$sc);var H=P.offset().left+j,ee=P.offset().top+P.outerHeight(),w=P.outerHeight();s.opts.iframe&&s.image.hasCaption()&&b(P)&&b(P).find("img")&&(w=b(P).find("img").outerHeight()),s.popups.show("link.insert",H,ee,w,!0)}}return{_init:function(){s.events.on("keyup",function(F){F.which!=x.KEYCODE.ESC&&a(F)}),s.events.on("window.mouseup",a),s.events.$on(s.$el,"click","a",function(F){s.edit.isDisabled()&&F.preventDefault()}),s.helpers.isMobile()&&s.events.$on(s.$doc,"selectionchange",a),T(!0),s.el.tagName=="A"&&s.$el.addClass("fr-view"),s.events.on("toolbar.esc",function(){if(s.popups.isVisible("link.edit"))return s.events.disableBlur(),s.events.focus(),!1},!0)},remove:function(){var F=$(),j=s.image?s.image.get():null;if(s.events.trigger("link.beforeRemove",[F])===!1)return!1;if(j&&F)if(s.image.hasCaption()){j.addClass("img-link-caption"),b(F).replaceWith(b(F).html());var H=document.querySelectorAll("img.img-link-caption");s.image.edit(b(H[0])),b(H[0]).removeClass("img-link-caption")}else j.unwrap(),s.image.edit(j);else F&&(s.selection.save(),b(F).replaceWith(b(F).html()),s.selection.restore(),N())},showInsertPopup:function(){var F=s.$tb.find('.fr-command[data-cmd="insertLink"]'),j=s.popups.get("link.insert");if(j||(j=T()),!j.hasClass("fr-active"))if(s.popups.refresh("link.insert"),s.popups.setContainer("link.insert",s.$tb||s.$sc),F.isVisible()){var H=s.button.getPosition(F),ee=H.left,w=H.top;s.popups.show("link.insert",ee,w,F.outerHeight())}else s.position.forSelection(j),s.popups.show("link.insert")},usePredefined:function(F){var j,H,ee=s.opts.linkList[F],w=s.popups.get("link.insert"),he=w.find('input.fr-link-attr[type="text"]'),be=w.find('input.fr-link-attr[type="checkbox"]');for(ee.rel&&(w.rel=ee.rel),H=0;H<he.length;H++)ee[(j=b(he[H])).attr("name")]?(j.val(ee[j.attr("name")]),j.toggleClass("fr-not-empty",!0)):j.attr("name")!="text"&&j.val("");for(H=0;H<be.length;H++)(j=b(be[H])).attr("checked",j.data("checked")==ee[j.attr("name")]);s.accessibility.focusPopup(w)},insertCallback:function(){var F,j,H=s.popups.get("link.insert"),ee=H.find('input.fr-link-attr[type="text"]'),w=H.find('input.fr-link-attr[type="checkbox"]'),he=(ee.filter('[name="href"]').val()||"").trim(),be=s.opts.linkText?ee.filter('[name="text"]').val():"",se={};for(j=0;j<ee.length;j++)F=b(ee[j]),["href","text"].indexOf(F.attr("name"))<0&&(se[F.attr("name")]=F.val());for(j=0;j<w.length;j++)(F=b(w[j])).is(":checked")?se[F.attr("name")]=F.data("checked"):se[F.attr("name")]=F.data("unchecked")||null;H.rel&&(se.rel=H.rel);var re=s.helpers.scrollTop();L(he,be,se),b(s.o_win).scrollTop(re)},insert:L,update:B,get:$,allSelected:ge,back:function(){s.image&&s.image.get()?s.image.back():(s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),$()&&s.$wp?(s.selection.restore(),N(),a()):s.el.tagName=="A"?(s.$el.focus(),a()):(s.popups.hide("link.insert"),s.toolbar.showInline()))},imageLink:G,applyStyle:function(F,j,H){H===void 0&&(H=s.opts.linkMultipleStyles),j===void 0&&(j=s.opts.linkStyles);var ee=$();if(!ee)return!1;if(!H){var w=Object.keys(j);w.splice(w.indexOf(F),1),b(ee).removeClass(w.join(" "))}b(ee).toggleClass(F),a()}}},x.DefineIcon("insertLink",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterShortcut(x.KEYCODE.K,"insertLink",null,"K"),x.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),x.DefineIcon("linkOpen",{NAME:"external-link",FA5NAME:"external-link-alt",SVG_KEY:"openLink"}),x.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},callback:function(){var s=this.link.get();s&&(s.href.indexOf("mailto:")!==-1?this.o_win.open(s.href).close():(s.target||(s.target="_self"),this.browser.msie||this.browser.edge?this.o_win.open(s.href,s.target):this.o_win.open(s.href,s.target,"noopener")),this.popups.hide("link.edit"))},plugin:"link"}),x.DefineIcon("linkEdit",{NAME:"edit",SVG_KEY:"edit"}),x.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},plugin:"link"}),x.DefineIcon("linkRemove",{NAME:"unlink",SVG_KEY:"unlink"}),x.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},plugin:"link"}),x.DefineIcon("linkBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(s){var b=this.link.get()&&this.doc.hasFocus();this.image&&this.image.get()||b||this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next(".fr-separator").removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next(".fr-separator").addClass("fr-hidden"))},plugin:"link"}),x.DefineIcon("linkList",{NAME:"search",SVG_KEY:"search"}),x.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.linkList,$=0;$<b.length;$++)s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'.concat($,'">').concat(b[$].displayText||b[$].text,"</a></li>");return s+="</ul>"},callback:function(s,b){this.link.usePredefined(b)},plugin:"link"}),x.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(s){this.link.get()?s.text(this.language.translate("Update")):s.text(this.language.translate("Insert"))},plugin:"link"}),x.DefineIcon("imageLink",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(s){var b;this.link.get()?((b=s.prev()).hasClass("fr-separator")&&b.removeClass("fr-hidden"),s.addClass("fr-hidden")):((b=s.prev()).hasClass("fr-separator")&&b.addClass("fr-hidden"),s.removeClass("fr-hidden"))},plugin:"link"}),x.DefineIcon("linkStyle",{NAME:"magic",SVG_KEY:"linkStyles"}),x.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.linkStyles;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'.concat($,'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},callback:function(s,b){this.link.applyStyle(b)},refreshOnShow:function(s,b){var $=this.$,ge=this.link.get();if(ge){var a=$(ge);b.find(".fr-command").each(function(){var f=$(this).data("param1"),N=a.hasClass(f);$(this).toggleClass("fr-active",N).attr("aria-selected",N)})}},refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},plugin:"link"}),Object.assign(x.DEFAULTS,{listAdvancedTypes:!0}),x.PLUGINS.lists=function(s){var b=s.$;function $(T){return'<span class="fr-open-'.concat(T.toLowerCase(),'"></span>')}function ge(T){return'<span class="fr-close-'.concat(T.toLowerCase(),'"></span>')}function a(T,L){(function(he,be){for(var se=[],re=0;re<he.length;re++){var ie=he[re].parentNode;he[re].tagName=="LI"&&ie.tagName!=be&&se.indexOf(ie)<0&&se.push(ie)}for(var M=se.length-1;0<=M;M--){var W=b(se[M]);W.replaceWith("<".concat(be.toLowerCase()," ").concat(s.node.attributes(W.get(0)),">").concat(W.html(),"</").concat(be.toLowerCase(),">"))}})(T,L);var B,G=s.html.defaultTag(),P=null;T.length&&(B=s.opts.direction=="rtl"||b(T[0]).css("direction")=="rtl"?"margin-right":"margin-left");for(var F=0;F<T.length;F++)if(T[F].tagName!="TD"&&T[F].tagName!="TH"&&T[F].tagName!="LI"){var j=s.helpers.getPX(b(T[F]).css(B))||0;(T[F].style.marginLeft=null)===P&&(P=j);var H=0<P?"<".concat(L,' style="').concat(B,": ").concat(P,'px ">'):"<".concat(L,">"),ee="</".concat(L,">");for(j-=P;0<j/s.opts.indentMargin;)H+="</".concat(L,">"),ee+=ee,j-=s.opts.indentMargin;G&&T[F].tagName.toLowerCase()==G?b(T[F]).replaceWith("".concat(H,"<li").concat(s.node.attributes(T[F]),">").concat(b(T[F]).html(),"</li>").concat(ee)):b(T[F]).wrap("".concat(H,"<li></li>").concat(ee))}s.clean.lists()}function f(T){var L,B,G=[];for(L=T.length-1;0<=L;L--)for(B=L-1;0<=B;B--){if(b(T[B]).find(T[L]).length||T[B]==T[L]){b(T[L]).addClass("fr-removed-block-".concat(L)),G.push(L),T.splice(L,1);break}if(b(T[B]).contains(T[L])){b(T[B]).addClass("fr-removed-block-".concat(B)),G.push(B),T.splice(B,1);break}}var P=[],F=!1;for(L=0;L<T.length;L++){var j=b(T[L]),H=T[L].parentNode,ee=j.attr("class");if(j.is(":first-child")&&(F=!0,b(H.parentNode).removeAttr("start")),j.before(ge(H.tagName)),H.parentNode.tagName=="LI"){if(j.is(":last-child")){var w=j.find("> ul, > ol").last();w.length&&w.wrap("<".concat(H.tagName,">"))}j.before(ge("LI")),j.after($("LI"))}else if(H.parentNode.tagName=="OL")F||(j.before(ge("OL")),j.after($("OL")));else if(H.parentNode.tagName=="UL")F||(j.before(ge("UL")),j.after($("UL")));else{var he="";ee&&(he+=' class="'.concat(ee,'"'));var be=s.opts.direction=="rtl"||j.css("direction")=="rtl"?"margin-right":"margin-left";s.helpers.getPX(b(H).css(be))&&0<=(b(H).attr("style")||"").indexOf("".concat(be,":"))&&(he+=' style="'.concat(be,":").concat(s.helpers.getPX(b(H).css(be)),'px;"')),s.html.defaultTag()&&j.find(s.html.blockTagsQuery()).length===0&&j.wrapInner("<".concat(s.html.defaultTag()).concat(he,"></").concat(s.html.defaultTag(),">")),s.node.isEmpty(j.get(0),!0)||j.find(s.html.blockTagsQuery()).length!==0||(H.parentNode.tagName=="DIV"&&s.html.defaultTag()?(j.prepend($(s.html.defaultTag())),j.append(ge(s.html.defaultTag()))):j.append("<br>")),j.append($("LI")),j.prepend(ge("LI"))}j.after($(H.tagName)),H.parentNode.tagName=="LI"&&(H=H.parentNode.parentNode),P.indexOf(H)<0&&P.push(H)}var se=function(){var ie=b(P[L]),M=ie.html(),W=s.helpers.getPX(ie.css("margin-left"))||0;M=(M=M.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,function(K,R){return 0<W?"<".concat(R,' style="margin-left:').concat(W,'px;">'):"<".concat(R,">")})).replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),ie.replaceWith(s.node.openTagString(ie.get(0))+M+s.node.closeTagString(ie.get(0)))};for(L=0;L<P.length;L++)se();return s.$el.find("li:empty").remove(),s.$el.find("ul:empty, ol:empty").remove(),s.clean.lists(),s.$el.find("ul:empty, ol:empty").remove(),s.html.wrap(),G}function N(T,L){var B=b(document.createElement("li"));if(T.childNodes.length)for(var G=T.childNodes[0].attributes,P=0;P<G.length;P++){var F=G[P];F.name==="style"&&(B[0].style.cssText+=F.value)}b(T).prepend(B),b(T).removeAttr("start");for(var j=s.node.contents(L)[0];j&&!s.node.isList(j);){var H=j.nextSibling;B.append(j),j=H}}function O(T){if(T=="indent"||T=="outdent"){var L=!1,B=s.selection.blocks(!1,!0),G=[],P=B[0].previousSibling||B[0].parentElement;if(T=="outdent"){if(B[0].parentNode.tagName!="UL"&&P.parentNode.tagName!="UL"&&P.parentNode.tagName!="OL"&&P.parentNode.tagName!="LI")return;if(!B[0].previousSibling&&P.parentNode.style.listStyleType=="none")return void function(H){for(s.selection.save();0<H.childNodes.length;)H.parentNode.parentNode.append(H.childNodes[0]);s.clean.lists(),s.selection.restore()}(P)}else{if(B[0].parentElement.tagName!="UL"&&B[0].parentElement.tagName!="OL"&&B[0].parentElement.tagName!="LI")return;if(s.node.isBlock(B[0])&&B[0].tagName!=="LI"&&0<b(B[0]).parentsUntil(s.$el,"LI").length&&(B[0]=B[0].parentElement,P=B[0].parentElement),!B[0].previousSibling||B[0].previousSibling.tagName!="LI"){if(P&&["UL","OL"].includes(P.tagName))return void function(H){s.selection.save();var ee=H.tagName=="OL"?document.createElement("ol"):document.createElement("ul");for(b(ee).css("list-style-type",b(H).css("list-style-type"));0<H.childNodes.length;)ee.append(H.childNodes[0]);var w=b(document.createElement("li"));w.css("list-style-type","none"),w.append(ee),H.append(w.get(0)),s.clean.lists(),s.selection.restore()}(P);L=!0}}for(var F=0;F<B.length;F++)B[F].tagName=="LI"?(L=!0,G.push(B[F])):B[F].parentNode.tagName=="LI"&&G.indexOf(B[F].parentNode)<0&&(L=!0,G.push(B[F].parentNode));L&&(T=="indent"?function(H){s.selection.save();for(var ee=!1,w=0;w<H.length;w++){var he=H[w].previousSibling;if(he&&he.tagName=="LI"&&!ee){var be=b(H[w]).find("> ul, > ol").last().get(0);if(be)N(be,H[w]),b(he).append(b(be)),b(H[w]).remove();else{var se=b(he).find("> ul, > ol").last().get(0);if(se)b(se).append(b(H[w]));else{var re=b("<".concat(H[w].parentNode.tagName,">"));b(he).append(re),re.append(b(H[w]))}}}else if(!he||he.tagName!="OL"&&he.tagName!="UL"){var ie=H[w].parentNode;if(ee=!0,ie.tagName=="UL"||ie.tagName=="OL"){var M=b(H[w]).find("> ol, > ul"),W=H[w].previousSibling==null;if(M.length){var K=M.first().get(0);N(K,H[w]),W?b(ie).prepend(b(K)):b(ie).append(b(K)),b(H[w]).remove()}else b(H[w]).wrap("<".concat(ie.tagName,">"));W&&0<b(ie).find("> li").length&&b(ie).attr("start","2")}}else{var R=b(H[w]).find("> ol, > ul").first().get(0);R?(N(R,H[w]),b(he).append(b(R).children()),b(H[w]).remove(),b(R).remove()):b(he).append(b(H[w]))}}s.clean.lists(),s.selection.restore()}(G):function(H){s.selection.save();var ee=[];do{ee=f(H),H=[];for(var w=0;w<ee.length;w++){var he=s.$el.find(".fr-removed-block-".concat(ee[w])).first().get(0);b(he).removeClass("fr-removed-block-".concat(ee[w])),b(he).attr("class")==""&&b(he).removeAttr("class"),H.push(he)}}while(0<ee.length);s.selection.restore()}(G))}}return{_init:function(){s.events.on("commands.after",O),s.events.on("keydown",function(L){if(L.which==x.KEYCODE.TAB||(L.ctrlKey||L.metaKey)&&L.key==="]"){if(!L.shiftKey&&s.$tb.find('[data-cmd="indent"]').hasClass("fr-disabled"))return L.preventDefault(),L.stopPropagation(),!1;for(var B=s.selection.blocks(),G=[],P=0;P<B.length;P++)B[P].tagName=="LI"?G.push(B[P]):B[P].parentNode.tagName=="LI"&&G.push(B[P].parentNode);if(1<=G.length||G.length&&(s.selection.info(G[0]).atStart||s.node.isEmpty(G[0])))return L.preventDefault(),L.stopPropagation(),L.shiftKey?s.commands.outdent():s.commands.indent(),!1}},!0)},format:function(L,B){var G,P,F=1<(P=s.selection.blocks(!0)).length&&P[P.length-1],j=s.selection.ranges();if(F&&j.length&&s.node.isEmpty(F)&&!j[0].endOffset&&j[0].setEndAfter(F.firstChild,1),s.html.syncInputs(),s.selection.save(),s.browser.safari&&s.helpers.getSafariVersion()<17){var H=s.selection.ranges();if(j&&j[0].endContainer&&H&&H[0].endContainer&&!j[0].endContainer.isSameNode(H[0].endContainer)&&j[0].endContainer.previousSibling&&j[0].endContainer.previousSibling.isSameNode(H[0].endContainer)){var ee=b(H[0].endContainer).find('.fr-marker[data-type="false"]');b(j[0].endContainer).append(ee[0])}}for(s.html.wrap(!0,!0,!0,!0),s.selection.restore(),P=s.selection.blocks(!0),G=0;G<P.length;G++)P[G].tagName!="LI"&&P[G].parentNode.tagName=="LI"&&(P[G]=P[G].parentNode);if(s.selection.save(),function(he,be){for(var se=!0,re=0;re<he.length;re++){if(he[re].tagName!="LI")return!1;he[re].parentNode.tagName!=be&&(se=!1)}return se}(P,L)?B||f(P):a(P,L),s.html.unwrap(),s.selection.restore(),B=B||"default"){for(P=s.selection.blocks(),G=0;G<P.length;G++)P[G].tagName!="LI"&&P[G].parentNode.tagName=="LI"&&(P[G]=P[G].parentNode);for(G=0;G<P.length;G++)P[G].tagName=="LI"&&(b(P[G].parentNode).css("list-style-type",B==="default"?"":B),(b(P[G].parentNode).attr("style")||"").length===0&&b(P[G].parentNode).removeAttr("style"))}},refresh:function(L,B){var G=b(s.selection.element());if(G.get(0)!=s.el){var P=G.get(0);(P=P.tagName!="LI"&&P.firstElementChild&&P.firstElementChild.tagName!="LI"?G.parents("li").get(0):P.tagName=="LI"||P.firstElementChild?P.firstElementChild&&P.firstElementChild.tagName=="LI"?G.get(0).firstChild:G.get(0):G.parents("li").get(0))&&P.parentNode.tagName==B&&s.el.contains(P.parentNode)&&L.addClass("fr-active")}}}},x.DefineIcon("formatOLSimple",{NAME:"list-ol",SVG_KEY:"orderedList"}),x.RegisterCommand("formatOLSimple",{title:"Ordered List",type:"button",options:{default:"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(s){this.lists.refresh(s,"OL")},callback:function(s,b){this.lists.format("OL",b)},plugin:"lists"}),x.RegisterCommand("formatUL",{title:"Unordered List",type:"button",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(s){this.lists.refresh(s,"UL")},callback:function(s,b){this.lists.format("UL",b)},plugin:"lists"}),x.RegisterCommand("formatOL",{title:"Ordered List",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},refresh:function(s){this.lists.refresh(s,"OL")},callback:function(s,b){this.lists.format("OL",b)},plugin:"lists"}),x.DefineIcon("formatUL",{NAME:"list-ul",SVG_KEY:"unorderedList"}),x.DefineIcon("formatOL",{NAME:"list-ol",SVG_KEY:"orderedList"}),Object.assign(x.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1,paragraphDefaultSelection:"Paragraph Format"}),x.PLUGINS.paragraphFormat=function(s){var b=s.$;function $(ge,a){var f=s.html.defaultTag();if(a&&a.toLowerCase()!=f)if(0<ge.find("ul, ol").length){var N=b("<"+a+">");ge.prepend(N);for(var O=s.node.contents(ge.get(0))[0];O&&["UL","OL"].indexOf(O.tagName)<0;){var T=O.nextSibling;N.append(O),O=T}}else ge.html("<"+a+">"+ge.html()+"</"+a+">")}return{apply:function(a){a=="N"&&(a=s.html.defaultTag()),s.selection.save(),s.html.wrap(!0,!0,!s.opts.paragraphFormat.BLOCKQUOTE,!0,!0),s.selection.restore();var f,N,O,T,L,B,G,P,F=s.selection.blocks();s.selection.save(),s.$el.find("pre").attr("skip",!0);for(var j=0;j<F.length;j++)if(F[j].tagName!=a&&!s.node.isList(F[j])){var H=b(F[j]);if(F[j].tagName=="LI")$(H,a);else if(F[j].parentNode.tagName=="LI"&&F[j])B=H,G=a,P=s.html.defaultTag(),G&&G.toLowerCase()!=P||(G='div class="fr-temp-div"'),B.replaceWith(b("<"+G+">").html(B.html()));else if(0<=["TD","TH"].indexOf(F[j].parentNode.tagName))O=H,T=a,L=s.html.defaultTag(),T||(T='div class="fr-temp-div"'+(s.node.isEmpty(O.get(0),!0)?' data-empty="true"':"")),T.toLowerCase()==L?(s.node.isEmpty(O.get(0),!0)||O.append("<br/>"),O.replaceWith(O.html())):O.replaceWith(b("<"+T+">").html(O.html()));else{if(a==="PRE"&&H[0].nextSibling===null){var ee=b("<br>");H[0].after(ee[0])}f=H,(N=a)||(N='div class="fr-temp-div"'+(s.node.isEmpty(f.get(0),!0)?' data-empty="true"':"")),(N=="H1"||N=="H2"||N=="H3"||N=="H4"||N=="H5")&&-1<s.node.attributes(f.get(0)).indexOf("font-size:")?f.replaceWith(b("<"+N+" "+s.node.attributes(f.get(0)).replace(/font-size:[0-9]+px;?/,"")+">").html(f.html()).removeAttr("data-empty")):f.replaceWith(b("<"+N+" "+s.node.attributes(f.get(0))+">").html(f.html()).removeAttr("data-empty"))}}s.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){b(this).prev().append("<br>"+b(this).html()),b(this).remove()}),s.$el.find("pre").removeAttr("skip"),s.html.unwrap(),s.selection.restore()},refreshOnShow:function(a,f){var N=s.selection.blocks();if(N.length){var O=N[0],T="N",L=s.html.defaultTag();O.tagName.toLowerCase()!=L&&O!=s.el&&(T=O.tagName),f.find('.fr-command[data-param1="'+T+'"]').addClass("fr-active").attr("aria-selected",!0)}else f.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected",!0)},refresh:function(a){if(s.opts.paragraphFormatSelection){var f=s.selection.blocks();if(f.length){var N=f[0],O="N",T=s.html.defaultTag();N.tagName.toLowerCase()!=T&&N!=s.el&&(O=N.tagName),0<=["LI","TD","TH"].indexOf(O)&&(O="N"),a.find(">span").text(s.language.translate(s.opts.paragraphFormat[O]))}else a.find(">span").text(s.language.translate(s.opts.paragraphFormat.N))}}}},x.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(s){return s.opts.paragraphFormatSelection},defaultSelection:function(s){return s.language.translate(s.opts.paragraphDefaultSelection)},displaySelectionWidth:80,html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.paragraphFormat;for(var $ in b)b.hasOwnProperty($)&&(this.shortcuts.get("paragraphFormat."+$),s+='<li role="presentation"><'+($=="N"?this.html.defaultTag()||"DIV":$)+' style="padding: 0 !important; margin: 0 !important; border: 0 !important; background-color: transparent !important; '+($=="PRE"||$=="N"?"font-size: 15px":"font-weight: bold !important; ")+($=="H1"?"font-size: 2em !important; ":"")+($=="H2"?"font-size: 1.5em !important; ":"")+($=="H3"?"font-size: 1.17em !important; ":"")+($=="H4"?"font-size: 15px !important;":"")+'"  role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+$+'" title="'+this.language.translate(b[$])+'">'+this.language.translate(b[$])+"</a></"+($=="N"?this.html.defaultTag()||"DIV":$)+"></li>");return s+="</ul>"},title:"Paragraph Format",callback:function(s,b){this.paragraphFormat.apply(b)},refresh:function(s){this.paragraphFormat.refresh(s)},refreshOnShow:function(s,b){this.paragraphFormat.refreshOnShow(s,b)},plugin:"paragraphFormat"}),x.DefineIcon("paragraphFormat",{NAME:"paragraph",SVG_KEY:"paragraphFormat"}),Object.assign(x.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),x.PLUGINS.paragraphStyle=function(s){var b=s.$;return{_init:function(){},apply:function(ge,a,f){a===void 0&&(a=s.opts.paragraphStyles),f===void 0&&(f=s.opts.paragraphMultipleStyles);var N="";f||((N=Object.keys(a)).splice(N.indexOf(ge),1),N=N.join(" ")),s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();var O=s.selection.blocks();s.selection.save();for(var T=b(O[0]).hasClass(ge),L=0;L<O.length;L++)b(O[L]).removeClass(N).toggleClass(ge,!T),b(O[L]).hasClass("fr-temp-div")&&b(O[L]).removeClass("fr-temp-div"),b(O[L]).attr("class")===""&&b(O[L]).removeAttr("class");if(O.length===1&&ge==="fr-text-bordered"&&O[0].nextSibling===null){var B=b("<br>");O[0].after(B[0])}s.html.unwrap(),s.selection.restore()},refreshOnShow:function(ge,a){var f=s.selection.blocks();if(f.length){var N=b(f[0]);a.find(".fr-command").each(function(){var O=b(this).data("param1"),T=N.hasClass(O);b(this).toggleClass("fr-active",T).attr("aria-selected",T)})}}}},x.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.paragraphStyles;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command '.concat($,'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="').concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},title:"Paragraph Style",callback:function(s,b){this.paragraphStyle.apply(b)},refreshOnShow:function(s,b){this.paragraphStyle.refreshOnShow(s,b)},plugin:"paragraphStyle"}),x.DefineIcon("paragraphStyle",{NAME:"magic",SVG_KEY:"paragraphStyle"}),Object.assign(x.DEFAULTS,{html2pdf:window.html2pdf}),x.PLUGINS.print=function(s){return{run:function(){(function(ge){var a=s.html.get(),f=null;s.shared.print_iframe?f=s.shared.print_iframe:((f=document.createElement("iframe")).name="fr-print",f.style.position="fixed",f.style.top="0",f.style.left="-9999px",f.style.height="100%",f.style.width="0",f.style.overflow="hidden",f.style["z-index"]="2147483647",f.style.tabIndex="-1",s.events.on("shared.destroy",function(){f.remove()}),s.shared.print_iframe=f);try{document.body.removeChild(f)}catch{}document.body.appendChild(f);var N=function(){ge(),f.removeEventListener("load",N)};f.addEventListener("load",N);var O=f.contentWindow;O.document.open(),O.document.write("<!DOCTYPE html><html "+(s.opts.documentReady?'style="margin: 0; padding: 0;"':"")+"><head><title>"+document.title+"</title>"),Array.prototype.forEach.call(document.querySelectorAll("style"),function(L){L=L.cloneNode(!0),O.document.write(L.outerHTML)});var T=document.querySelectorAll("link[rel=stylesheet]");Array.prototype.forEach.call(T,function(L){var B=document.createElement("link");B.rel=L.rel,B.href=L.href,B.media="print",B.type="text/css",B.media="all",O.document.write(B.outerHTML)}),O.document.write('</head><body style="height:auto;text-align: '+(s.opts.direction=="rtl"?"right":"left")+"; direction: "+s.opts.direction+"; "+(s.opts.documentReady?" padding: 2cm; width: 17cm; margin: 0;":"")+'"><div class="fr-view">'),O.document.write(a),O.document.write("</div></body></html>"),O.document.close()})(function(){setTimeout(function(){s.events.disableBlur(),window.frames["fr-print"].focus(),window.frames["fr-print"].print(),s.$win.get(0).focus(),s.events.disableBlur(),s.events.focus()},0)})},toPDF:function(){s.opts.html2pdf&&(s.$el.css("text-align","left"),s.opts.html2pdf().set({margin:[10,20],html2canvas:{useCORS:!0}}).from(s.el).save(),setTimeout(function(){s.$el.css("text-align","")},100))}}},x.DefineIcon("print",{NAME:"print",SVG_KEY:"print"}),x.RegisterCommand("print",{title:"Print",undo:!1,focus:!1,plugin:"print",callback:function(){this.print.run()}}),x.DefineIcon("getPDF",{NAME:"file-pdf-o",FA5NAME:"file-pdf",SVG_KEY:"pdfExport"}),x.RegisterCommand("getPDF",{title:"Download PDF",type:"button",focus:!1,undo:!1,callback:function(){this.print.toPDF()}}),Object.assign(x.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"],quickInsertEnabled:!0}),x.QUICK_INSERT_BUTTONS={},x.DefineIcon("quickInsert",{SVG_KEY:"add",template:"svg"}),x.RegisterQuickInsertButton=function(s,b){x.QUICK_INSERT_BUTTONS[s]=Object.assign({undo:!0},b)},x.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var s=this,b=s.$;s.shared.$qi_image_input||(s.shared.$qi_image_input=b(document.createElement("input")).attr("accept","image/"+s.opts.imageAllowedTypes.join(", image/").toLowerCase()).attr("name","quickInsertImage".concat(this.id)).attr("style","display: none;").attr("type","file"),b("body").first().append(s.shared.$qi_image_input),s.events.$on(s.shared.$qi_image_input,"change",function(){var $=b(this).data("inst");this.files&&($.quickInsert.hide(),$.image.upload(this.files)),b(this).val("")},!0)),s.$qi_image_input=s.shared.$qi_image_input,s.helpers.isMobile()&&s.selection.save(),s.events.disableBlur(),s.$qi_image_input.data("inst",s)[0].click()}}),x.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var s=prompt(this.language.translate("Paste the URL of the video you want to insert."));s&&this.video.insertByURL(s)}}),x.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var s=prompt(this.language.translate("Paste the URL of any web content you want to insert."));s&&this.embedly.add(s)}}),x.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),x.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),x.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),x.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),x.PLUGINS.quickInsert=function(s){var b,$,ge=s.$,a=!1;function f(P){var F,j,H;if(F=P.offset().top-s.$box.offset().top,j=(s.$iframe&&s.$iframe.offset().left||0)+P.offset().left-P.position().left-4<b.outerWidth()?P.offset().left+b.outerWidth():0-b.outerWidth(),s.opts.enter!=x.ENTER_BR?H=(b.outerHeight()-P.outerHeight())/2:(ge(document.createElement("span")).html(x.INVISIBLE_SPACE).insertAfter(P),H=(b.outerHeight()-P.next().outerHeight())/2,P.next().remove()),s.opts.iframe){var ee=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top"));F+=s.$iframe.offset().top+ee}b.hasClass("fr-on")&&0<=F&&$.css("top",F-H),0<=F&&F-Math.abs(H)<=s.$box.outerHeight()-P.outerHeight()?(b.hasClass("fr-hidden")&&(b.hasClass("fr-on")&&L(),b.removeClass("fr-hidden")),b.css("top",F-H)):b.hasClass("fr-visible")&&!s.opts.toolbarInline&&(b.addClass("fr-hidden"),B()),b.css("left",j)}function N(P){s.markdown&&s.markdown.isEnabled()||(b||function(){s.shared.$quick_insert||(s.shared.$quick_insert=ge(document.createElement("div")).attr("class","fr-quick-insert").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Quick Insert"),'">').concat(s.icon.create("quickInsert"),"</a>"))),b=s.shared.$quick_insert,s.tooltip.bind(s.$box,".fr-quick-insert > a.fr-floating-btn"),s.events.on("destroy",function(){ge("body").first().append(b.removeClass("fr-on")),$&&(B(),ge("body").first().append($.css("left",-9999).css("top",-9999)))},!0),s.events.on("shared.destroy",function(){b.html("").removeData().remove(),b=null,$&&($.html("").removeData().remove(),$=null)},!0),s.events.on("commands.before",T),s.events.on("commands.after",function(){s.popups.areVisible()||O()}),s.events.bindClick(s.$box,".fr-quick-insert > a",L),s.events.bindClick(s.$box,".fr-qi-helper > a.fr-btn",function(j){var H=ge(j.currentTarget).data("cmd");if(s.events.trigger("quickInsert.commands.before",[H])===!1)return!1;x.QUICK_INSERT_BUTTONS[H].callback.apply(s,[j.currentTarget]),x.QUICK_INSERT_BUTTONS[H].undo&&s.undo.saveStep(),s.events.trigger("quickInsert.commands.after",[H]),s.quickInsert.hide()}),s.events.$on(s.$wp,"scroll",G),s.events.$on(s.$tb,"transitionend",".fr-more-toolbar",G)}(),b.hasClass("fr-on")&&B(),s.$box.append(b),f(P),b.data("tag",P),b.addClass("fr-visible"))}function O(){if(s.core.hasFocus()){var P=s.selection.element();if(s.opts.enter==x.ENTER_BR||s.node.isBlock(P)||(P=s.node.blockParent(P)),s.opts.enter==x.ENTER_BR&&!s.node.isBlock(P)){var F=s.node.deepestParent(P);F&&(P=F)}var j=function(){return s.opts.enter!=x.ENTER_BR&&s.node.isEmpty(P)&&0<=s.opts.quickInsertTags.indexOf(P.tagName.toLowerCase())},H=function(){return s.opts.enter==x.ENTER_BR&&(P.tagName=="BR"&&(!P.previousSibling||P.previousSibling.tagName=="BR"||s.node.isBlock(P.previousSibling))||s.node.isEmpty(P)&&(!P.previousSibling||P.previousSibling.tagName=="BR"||s.node.isBlock(P.previousSibling))&&(!P.nextSibling||P.nextSibling.tagName=="BR"||s.node.isBlock(P.nextSibling)))};P&&(j()||H())?b&&b.data("tag").is(ge(P))&&b.hasClass("fr-on")?B():s.selection.isCollapsed()&&N(ge(P)):T()}}function T(){b&&!a&&(b.hasClass("fr-on")&&B(),b.removeClass("fr-visible fr-on"),b.css("left",-9999).css("top",-9999))}function L(P){if(P&&P.preventDefault(),b.hasClass("fr-on")&&!b.hasClass("fr-hidden"))B();else{if(!s.shared.$qi_helper){for(var F=s.opts.quickInsertButtons,j='<div class="fr-qi-helper">',H=0,ee=0;ee<F.length;ee++){var w=x.QUICK_INSERT_BUTTONS[F[ee]];w&&(!w.requiredPlugin||x.PLUGINS[w.requiredPlugin]&&0<=s.opts.pluginsEnabled.indexOf(w.requiredPlugin))&&(j+='<a class="fr-btn fr-floating-btn" role="button" title="'.concat(s.language.translate(w.title),'" tabIndex="-1" data-cmd="').concat(F[ee],'" style="transition-delay: ').concat(.025*H++,'s;">').concat(s.icon.create(w.icon),"</a>"))}j+="</div>",s.shared.$qi_helper=ge(j),s.tooltip.bind(s.shared.$qi_helper,"a.fr-btn"),s.events.$on(s.shared.$qi_helper,"mousedown",function(he){he.preventDefault()},!0)}$=s.shared.$qi_helper,s.$box.append($),a=!0,setTimeout(function(){a=!1,$.css("top",parseFloat(b.css("top"))),$.css("left",parseFloat(b.css("left"))+b.outerWidth()),$.find("a").addClass("fr-size-1"),b.addClass("fr-on")},10)}}function B(){var P=s.$box.find(".fr-qi-helper");if(P.length){for(var F=P.find("a"),j=0;j<F.length;j++)(function(H){setTimeout(function(){P.children().eq(F.length-1-H).removeClass("fr-size-1")},25*H)})(j);setTimeout(function(){P.css("left",-9999),b&&!b.hasClass("fr-hidden")&&b.removeClass("fr-on")},25*j)}}function G(){b.hasClass("fr-visible")&&f(b.data("tag"))}return{_init:function(){if(!s.$wp||!s.opts.quickInsertEnabled)return!1;s.popups.onShow("image.edit",T),s.events.on("mouseup",O),s.helpers.isMobile()&&s.events.$on(ge(s.o_doc),"selectionchange",O),s.events.on("blur",T),s.events.on("keyup",O),s.events.on("keydown",function(){setTimeout(function(){O()},0)})},hide:T}},x.PLUGINS.quote=function(s){var b=s.$;function $(ge){for(;ge.parentNode&&ge.parentNode!=s.el;)ge=ge.parentNode;return ge}return{apply:function(a){s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore(),a=="increase"?function(){var N,O=s.selection.blocks();for(N=0;N<O.length;N++)O[N]=$(O[N]);s.selection.save();var T=b(document.createElement("blockquote"));for(T.insertBefore(O[0]),N=0;N<O.length;N++)T.append(O[N]);s.opts.trackChangesEnabled&&s.track_changes.addQuote(T),s.html.unwrap(),s.selection.restore()}():a=="decrease"&&function(){var N,O=s.opts.trackChangesEnabled,T=s.selection.blocks();for(N=0;N<T.length;N++)T[N].tagName!="BLOCKQUOTE"&&(T[N]=O&&b(T[N]).parentsUntil(s.$el,"[data-track-id^=pending]").get(0)||b(T[N]).parentsUntil(s.$el,"BLOCKQUOTE").get(0));for(s.selection.save(),N=0;N<T.length;N++)T[N]&&(O?s.track_changes.removeQuote(b(T[N]),N):b(T[N]).replaceWith(T[N].innerHTML));s.html.unwrap(),s.selection.restore()}()}}},x.RegisterShortcut(x.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),x.RegisterShortcut(x.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),x.RegisterCommand("quote",{title:"Quote",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b={increase:"Increase",decrease:"Decrease"};for(var $ in b)if(b.hasOwnProperty($)){var ge=this.shortcuts.get("quote.".concat($));s+='<li role="presentation"><a class="fr-command fr-active '.concat($,'" tabIndex="-1" role="option" data-cmd="quote" data-param1="').concat($,'" title="').concat(b[$],'">').concat(this.language.translate(b[$])).concat(ge?'<span class="fr-shortcut">'.concat(ge,"</span>"):"","</a></li>")}return s+="</ul>"},callback:function(s,b){this.quote.apply(b)},plugin:"quote"}),x.DefineIcon("quote",{NAME:"quote-left",SVG_KEY:"blockquote"}),Object.assign(x.DEFAULTS,{saveInterval:1e4,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),x.PLUGINS.save=function(s){var b=s.$,$=null,ge=null,a=!1,f=1,N=2,O={};function T(G,P){s.events.trigger("save.error",[{code:G,message:O[G]},P])}function L(G){G===void 0&&(G=s.html.get());var P=G,F=s.events.trigger("save.before",[G]);if(F===!1)return!1;if(typeof F=="string"&&(G=F),s.opts.saveURL){var j={};for(var H in s.opts.saveParams)if(s.opts.saveParams.hasOwnProperty(H)){var ee=s.opts.saveParams[H];j[H]=typeof ee=="function"?ee.call(this):ee}var w={};w[s.opts.saveParam]=G,b(this).ajax({method:s.opts.saveMethod,url:s.opts.saveURL,data:Object.assign(w,j),crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(he,be,se){ge=P,s.events.trigger("save.after",[he])},fail:function(he){T(N,he.response||he.responseText)}})}else T(f)}function B(){clearTimeout($),$=setTimeout(function(){var G=s.html.get();(ge!=G||a)&&(a=!1,L(ge=G))},0)}return O[f]="Missing saveURL option.",O[N]="Something went wrong during save.",{_init:function(){if(s.opts.letteringClass)for(var P=s.opts.letteringClass,F=s.$el.find(".".concat(P)).length,j=0;j<F;j++)s.$el.find(".".concat(P))[j].innerHTML=s.$el.find(".".concat(P))[j].innerText.replace(/([\w'-]+|[?.",])/g,"<span class = 'fr-word-select'>$1</span>");s.opts.saveInterval&&(ge=s.html.get(),s.events.on("contentChanged",function(){setTimeout(B,s.opts.saveInterval)}),s.events.on("keydown destroy",function(){clearTimeout($)}))},save:L,reset:function(){B(),a=!1},force:function(){a=!0}}},x.DefineIcon("save",{NAME:"floppy-o",FA5NAME:"save"}),x.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"}),Object.assign(x.DEFAULTS,{specialCharactersSets:[{title:"Latin",char:"&iexcl;",list:[{char:"&iexcl;",desc:"INVERTED EXCLAMATION MARK"},{char:"&cent;",desc:"CENT SIGN"},{char:"&pound;",desc:"POUND SIGN"},{char:"&curren;",desc:"CURRENCY SIGN"},{char:"&yen;",desc:"YEN SIGN"},{char:"&brvbar;",desc:"BROKEN BAR"},{char:"&sect;",desc:"SECTION SIGN"},{char:"&uml;",desc:"DIAERESIS"},{char:"&copy;",desc:"COPYRIGHT SIGN"},{char:"&trade;",desc:"TRADEMARK SIGN"},{char:"&ordf;",desc:"FEMININE ORDINAL INDICATOR"},{char:"&laquo;",desc:"LEFT-POINTING DOUBLE ANGLE QUOTATION MARK"},{char:"&not;",desc:"NOT SIGN"},{char:"&reg;",desc:"REGISTERED SIGN"},{char:"&macr;",desc:"MACRON"},{char:"&deg;",desc:"DEGREE SIGN"},{char:"&plusmn;",desc:"PLUS-MINUS SIGN"},{char:"&sup2;",desc:"SUPERSCRIPT TWO"},{char:"&sup3;",desc:"SUPERSCRIPT THREE"},{char:"&acute;",desc:"ACUTE ACCENT"},{char:"&micro;",desc:"MICRO SIGN"},{char:"&para;",desc:"PILCROW SIGN"},{char:"&middot;",desc:"MIDDLE DOT"},{char:"&cedil;",desc:"CEDILLA"},{char:"&sup1;",desc:"SUPERSCRIPT ONE"},{char:"&ordm;",desc:"MASCULINE ORDINAL INDICATOR"},{char:"&raquo;",desc:"RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK"},{char:"&frac14;",desc:"VULGAR FRACTION ONE QUARTER"},{char:"&frac12;",desc:"VULGAR FRACTION ONE HALF"},{char:"&frac34;",desc:"VULGAR FRACTION THREE QUARTERS"},{char:"&iquest;",desc:"INVERTED QUESTION MARK"},{char:"&Agrave;",desc:"LATIN CAPITAL LETTER A WITH GRAVE"},{char:"&Aacute;",desc:"LATIN CAPITAL LETTER A WITH ACUTE"},{char:"&Acirc;",desc:"LATIN CAPITAL LETTER A WITH CIRCUMFLEX"},{char:"&Atilde;",desc:"LATIN CAPITAL LETTER A WITH TILDE"},{char:"&Auml;",desc:"LATIN CAPITAL LETTER A WITH DIAERESIS "},{char:"&Aring;",desc:"LATIN CAPITAL LETTER A WITH RING ABOVE"},{char:"&AElig;",desc:"LATIN CAPITAL LETTER AE"},{char:"&Ccedil;",desc:"LATIN CAPITAL LETTER C WITH CEDILLA"},{char:"&Egrave;",desc:"LATIN CAPITAL LETTER E WITH GRAVE"},{char:"&Eacute;",desc:"LATIN CAPITAL LETTER E WITH ACUTE"},{char:"&Ecirc;",desc:"LATIN CAPITAL LETTER E WITH CIRCUMFLEX"},{char:"&Euml;",desc:"LATIN CAPITAL LETTER E WITH DIAERESIS"},{char:"&Igrave;",desc:"LATIN CAPITAL LETTER I WITH GRAVE"},{char:"&Iacute;",desc:"LATIN CAPITAL LETTER I WITH ACUTE"},{char:"&Icirc;",desc:"LATIN CAPITAL LETTER I WITH CIRCUMFLEX"},{char:"&Iuml;",desc:"LATIN CAPITAL LETTER I WITH DIAERESIS"},{char:"&ETH;",desc:"LATIN CAPITAL LETTER ETH"},{char:"&Ntilde;",desc:"LATIN CAPITAL LETTER N WITH TILDE"},{char:"&Ograve;",desc:"LATIN CAPITAL LETTER O WITH GRAVE"},{char:"&Oacute;",desc:"LATIN CAPITAL LETTER O WITH ACUTE"},{char:"&Ocirc;",desc:"LATIN CAPITAL LETTER O WITH CIRCUMFLEX"},{char:"&Otilde;",desc:"LATIN CAPITAL LETTER O WITH TILDE"},{char:"&Ouml;",desc:"LATIN CAPITAL LETTER O WITH DIAERESIS"},{char:"&times;",desc:"MULTIPLICATION SIGN"},{char:"&Oslash;",desc:"LATIN CAPITAL LETTER O WITH STROKE"},{char:"&Ugrave;",desc:"LATIN CAPITAL LETTER U WITH GRAVE"},{char:"&Uacute;",desc:"LATIN CAPITAL LETTER U WITH ACUTE"},{char:"&Ucirc;",desc:"LATIN CAPITAL LETTER U WITH CIRCUMFLEX"},{char:"&Uuml;",desc:"LATIN CAPITAL LETTER U WITH DIAERESIS"},{char:"&Yacute;",desc:"LATIN CAPITAL LETTER Y WITH ACUTE"},{char:"&THORN;",desc:"LATIN CAPITAL LETTER THORN"},{char:"&szlig;",desc:"LATIN SMALL LETTER SHARP S"},{char:"&agrave;",desc:"LATIN SMALL LETTER A WITH GRAVE"},{char:"&aacute;",desc:"LATIN SMALL LETTER A WITH ACUTE "},{char:"&acirc;",desc:"LATIN SMALL LETTER A WITH CIRCUMFLEX"},{char:"&atilde;",desc:"LATIN SMALL LETTER A WITH TILDE"},{char:"&auml;",desc:"LATIN SMALL LETTER A WITH DIAERESIS"},{char:"&aring;",desc:"LATIN SMALL LETTER A WITH RING ABOVE"},{char:"&aelig;",desc:"LATIN SMALL LETTER AE"},{char:"&ccedil;",desc:"LATIN SMALL LETTER C WITH CEDILLA"},{char:"&egrave;",desc:"LATIN SMALL LETTER E WITH GRAVE"},{char:"&eacute;",desc:"LATIN SMALL LETTER E WITH ACUTE"},{char:"&ecirc;",desc:"LATIN SMALL LETTER E WITH CIRCUMFLEX"},{char:"&euml;",desc:"LATIN SMALL LETTER E WITH DIAERESIS"},{char:"&igrave;",desc:"LATIN SMALL LETTER I WITH GRAVE"},{char:"&iacute;",desc:"LATIN SMALL LETTER I WITH ACUTE"},{char:"&icirc;",desc:"LATIN SMALL LETTER I WITH CIRCUMFLEX"},{char:"&iuml;",desc:"LATIN SMALL LETTER I WITH DIAERESIS"},{char:"&eth;",desc:"LATIN SMALL LETTER ETH"},{char:"&ntilde;",desc:"LATIN SMALL LETTER N WITH TILDE"},{char:"&ograve;",desc:"LATIN SMALL LETTER O WITH GRAVE"},{char:"&oacute;",desc:"LATIN SMALL LETTER O WITH ACUTE"},{char:"&ocirc;",desc:"LATIN SMALL LETTER O WITH CIRCUMFLEX"},{char:"&otilde;",desc:"LATIN SMALL LETTER O WITH TILDE"},{char:"&ouml;",desc:"LATIN SMALL LETTER O WITH DIAERESIS"},{char:"&divide;",desc:"DIVISION SIGN"},{char:"&oslash;",desc:"LATIN SMALL LETTER O WITH STROKE"},{char:"&ugrave;",desc:"LATIN SMALL LETTER U WITH GRAVE"},{char:"&uacute;",desc:"LATIN SMALL LETTER U WITH ACUTE"},{char:"&ucirc;",desc:"LATIN SMALL LETTER U WITH CIRCUMFLEX"},{char:"&uuml;",desc:"LATIN SMALL LETTER U WITH DIAERESIS"},{char:"&yacute;",desc:"LATIN SMALL LETTER Y WITH ACUTE"},{char:"&thorn;",desc:"LATIN SMALL LETTER THORN"},{char:"&yuml;",desc:"LATIN SMALL LETTER Y WITH DIAERESIS"}]},{title:"Greek",char:"&Alpha;",list:[{char:"&Alpha;",desc:"GREEK CAPITAL LETTER ALPHA"},{char:"&Beta;",desc:"GREEK CAPITAL LETTER BETA"},{char:"&Gamma;",desc:"GREEK CAPITAL LETTER GAMMA"},{char:"&Delta;",desc:"GREEK CAPITAL LETTER DELTA"},{char:"&Epsilon;",desc:"GREEK CAPITAL LETTER EPSILON"},{char:"&Zeta;",desc:"GREEK CAPITAL LETTER ZETA"},{char:"&Eta;",desc:"GREEK CAPITAL LETTER ETA"},{char:"&Theta;",desc:"GREEK CAPITAL LETTER THETA"},{char:"&Iota;",desc:"GREEK CAPITAL LETTER IOTA"},{char:"&Kappa;",desc:"GREEK CAPITAL LETTER KAPPA"},{char:"&Lambda;",desc:"GREEK CAPITAL LETTER LAMBDA"},{char:"&Mu;",desc:"GREEK CAPITAL LETTER MU"},{char:"&Nu;",desc:"GREEK CAPITAL LETTER NU"},{char:"&Xi;",desc:"GREEK CAPITAL LETTER XI"},{char:"&Omicron;",desc:"GREEK CAPITAL LETTER OMICRON"},{char:"&Pi;",desc:"GREEK CAPITAL LETTER PI"},{char:"&Rho;",desc:"GREEK CAPITAL LETTER RHO"},{char:"&Sigma;",desc:"GREEK CAPITAL LETTER SIGMA"},{char:"&Tau;",desc:"GREEK CAPITAL LETTER TAU"},{char:"&Upsilon;",desc:"GREEK CAPITAL LETTER UPSILON"},{char:"&Phi;",desc:"GREEK CAPITAL LETTER PHI"},{char:"&Chi;",desc:"GREEK CAPITAL LETTER CHI"},{char:"&Psi;",desc:"GREEK CAPITAL LETTER PSI"},{char:"&Omega;",desc:"GREEK CAPITAL LETTER OMEGA"},{char:"&alpha;",desc:"GREEK SMALL LETTER ALPHA"},{char:"&beta;",desc:"GREEK SMALL LETTER BETA"},{char:"&gamma;",desc:"GREEK SMALL LETTER GAMMA"},{char:"&delta;",desc:"GREEK SMALL LETTER DELTA"},{char:"&epsilon;",desc:"GREEK SMALL LETTER EPSILON"},{char:"&zeta;",desc:"GREEK SMALL LETTER ZETA"},{char:"&eta;",desc:"GREEK SMALL LETTER ETA"},{char:"&theta;",desc:"GREEK SMALL LETTER THETA"},{char:"&iota;",desc:"GREEK SMALL LETTER IOTA"},{char:"&kappa;",desc:"GREEK SMALL LETTER KAPPA"},{char:"&lambda;",desc:"GREEK SMALL LETTER LAMBDA"},{char:"&mu;",desc:"GREEK SMALL LETTER MU"},{char:"&nu;",desc:"GREEK SMALL LETTER NU"},{char:"&xi;",desc:"GREEK SMALL LETTER XI"},{char:"&omicron;",desc:"GREEK SMALL LETTER OMICRON"},{char:"&pi;",desc:"GREEK SMALL LETTER PI"},{char:"&rho;",desc:"GREEK SMALL LETTER RHO"},{char:"&sigmaf;",desc:"GREEK SMALL LETTER FINAL SIGMA"},{char:"&sigma;",desc:"GREEK SMALL LETTER SIGMA"},{char:"&tau;",desc:"GREEK SMALL LETTER TAU"},{char:"&upsilon;",desc:"GREEK SMALL LETTER UPSILON"},{char:"&phi;",desc:"GREEK SMALL LETTER PHI"},{char:"&chi;",desc:"GREEK SMALL LETTER CHI"},{char:"&psi;",desc:"GREEK SMALL LETTER PSI"},{char:"&omega;",desc:"GREEK SMALL LETTER OMEGA"},{char:"&thetasym;",desc:"GREEK THETA SYMBOL"},{char:"&upsih;",desc:"GREEK UPSILON WITH HOOK SYMBOL"},{char:"&straightphi;",desc:"GREEK PHI SYMBOL"},{char:"&piv;",desc:"GREEK PI SYMBOL"},{char:"&Gammad;",desc:"GREEK LETTER DIGAMMA"},{char:"&gammad;",desc:"GREEK SMALL LETTER DIGAMMA"},{char:"&varkappa;",desc:"GREEK KAPPA SYMBOL"},{char:"&varrho;",desc:"GREEK RHO SYMBOL"},{char:"&straightepsilon;",desc:"GREEK LUNATE EPSILON SYMBOL"},{char:"&backepsilon;",desc:"GREEK REVERSED LUNATE EPSILON SYMBOL"}]},{title:"Cyrillic",char:"&#x400",list:[{char:"&#x400",desc:"CYRILLIC CAPITAL LETTER IE WITH GRAVE"},{char:"&#x401",desc:"CYRILLIC CAPITAL LETTER IO"},{char:"&#x402",desc:"CYRILLIC CAPITAL LETTER DJE"},{char:"&#x403",desc:"CYRILLIC CAPITAL LETTER GJE"},{char:"&#x404",desc:"CYRILLIC CAPITAL LETTER UKRAINIAN IE"},{char:"&#x405",desc:"CYRILLIC CAPITAL LETTER DZE"},{char:"&#x406",desc:"CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I"},{char:"&#x407",desc:"CYRILLIC CAPITAL LETTER YI"},{char:"&#x408",desc:"CYRILLIC CAPITAL LETTER JE"},{char:"&#x409",desc:"CYRILLIC CAPITAL LETTER LJE"},{char:"&#x40A",desc:"CYRILLIC CAPITAL LETTER NJE"},{char:"&#x40B",desc:"CYRILLIC CAPITAL LETTER TSHE"},{char:"&#x40C",desc:"CYRILLIC CAPITAL LETTER KJE"},{char:"&#x40D",desc:"CYRILLIC CAPITAL LETTER I WITH GRAVE"},{char:"&#x40E",desc:"CYRILLIC CAPITAL LETTER SHORT U"},{char:"&#x40F",desc:"CYRILLIC CAPITAL LETTER DZHE"},{char:"&#x410",desc:"CYRILLIC CAPITAL LETTER A"},{char:"&#x411",desc:"CYRILLIC CAPITAL LETTER BE"},{char:"&#x412",desc:"CYRILLIC CAPITAL LETTER VE"},{char:"&#x413",desc:"CYRILLIC CAPITAL LETTER GHE"},{char:"&#x414",desc:"CYRILLIC CAPITAL LETTER DE"},{char:"&#x415",desc:"CYRILLIC CAPITAL LETTER IE"},{char:"&#x416",desc:"CYRILLIC CAPITAL LETTER ZHE"},{char:"&#x417",desc:"CYRILLIC CAPITAL LETTER ZE"},{char:"&#x418",desc:"CYRILLIC CAPITAL LETTER I"},{char:"&#x419",desc:"CYRILLIC CAPITAL LETTER SHORT I"},{char:"&#x41A",desc:"CYRILLIC CAPITAL LETTER KA"},{char:"&#x41B",desc:"CYRILLIC CAPITAL LETTER EL"},{char:"&#x41C",desc:"CYRILLIC CAPITAL LETTER EM"},{char:"&#x41D",desc:"CYRILLIC CAPITAL LETTER EN"},{char:"&#x41E",desc:"CYRILLIC CAPITAL LETTER O"},{char:"&#x41F",desc:"CYRILLIC CAPITAL LETTER PE"},{char:"&#x420",desc:"CYRILLIC CAPITAL LETTER ER"},{char:"&#x421",desc:"CYRILLIC CAPITAL LETTER ES"},{char:"&#x422",desc:"CYRILLIC CAPITAL LETTER TE"},{char:"&#x423",desc:"CYRILLIC CAPITAL LETTER U"},{char:"&#x424",desc:"CYRILLIC CAPITAL LETTER EF"},{char:"&#x425",desc:"CYRILLIC CAPITAL LETTER HA"},{char:"&#x426",desc:"CYRILLIC CAPITAL LETTER TSE"},{char:"&#x427",desc:"CYRILLIC CAPITAL LETTER CHE"},{char:"&#x428",desc:"CYRILLIC CAPITAL LETTER SHA"},{char:"&#x429",desc:"CYRILLIC CAPITAL LETTER SHCHA"},{char:"&#x42A",desc:"CYRILLIC CAPITAL LETTER HARD SIGN"},{char:"&#x42B",desc:"CYRILLIC CAPITAL LETTER YERU"},{char:"&#x42C",desc:"CYRILLIC CAPITAL LETTER SOFT SIGN"},{char:"&#x42D",desc:"CYRILLIC CAPITAL LETTER E"},{char:"&#x42E",desc:"CYRILLIC CAPITAL LETTER YU"},{char:"&#x42F",desc:"CYRILLIC CAPITAL LETTER YA"},{char:"&#x430",desc:"CYRILLIC SMALL LETTER A"},{char:"&#x431",desc:"CYRILLIC SMALL LETTER BE"},{char:"&#x432",desc:"CYRILLIC SMALL LETTER VE"},{char:"&#x433",desc:"CYRILLIC SMALL LETTER GHE"},{char:"&#x434",desc:"CYRILLIC SMALL LETTER DE"},{char:"&#x435",desc:"CYRILLIC SMALL LETTER IE"},{char:"&#x436",desc:"CYRILLIC SMALL LETTER ZHE"},{char:"&#x437",desc:"CYRILLIC SMALL LETTER ZE"},{char:"&#x438",desc:"CYRILLIC SMALL LETTER I"},{char:"&#x439",desc:"CYRILLIC SMALL LETTER SHORT I"},{char:"&#x43A",desc:"CYRILLIC SMALL LETTER KA"},{char:"&#x43B",desc:"CYRILLIC SMALL LETTER EL"},{char:"&#x43C",desc:"CYRILLIC SMALL LETTER EM"},{char:"&#x43D",desc:"CYRILLIC SMALL LETTER EN"},{char:"&#x43E",desc:"CYRILLIC SMALL LETTER O"},{char:"&#x43F",desc:"CYRILLIC SMALL LETTER PE"},{char:"&#x440",desc:"CYRILLIC SMALL LETTER ER"},{char:"&#x441",desc:"CYRILLIC SMALL LETTER ES"},{char:"&#x442",desc:"CYRILLIC SMALL LETTER TE"},{char:"&#x443",desc:"CYRILLIC SMALL LETTER U"},{char:"&#x444",desc:"CYRILLIC SMALL LETTER EF"},{char:"&#x445",desc:"CYRILLIC SMALL LETTER HA"},{char:"&#x446",desc:"CYRILLIC SMALL LETTER TSE"},{char:"&#x447",desc:"CYRILLIC SMALL LETTER CHE"},{char:"&#x448",desc:"CYRILLIC SMALL LETTER SHA"},{char:"&#x449",desc:"CYRILLIC SMALL LETTER SHCHA"},{char:"&#x44A",desc:"CYRILLIC SMALL LETTER HARD SIGN"},{char:"&#x44B",desc:"CYRILLIC SMALL LETTER YERU"},{char:"&#x44C",desc:"CYRILLIC SMALL LETTER SOFT SIGN"},{char:"&#x44D",desc:"CYRILLIC SMALL LETTER E"},{char:"&#x44E",desc:"CYRILLIC SMALL LETTER YU"},{char:"&#x44F",desc:"CYRILLIC SMALL LETTER YA"},{char:"&#x450",desc:"CYRILLIC SMALL LETTER IE WITH GRAVE"},{char:"&#x451",desc:"CYRILLIC SMALL LETTER IO"},{char:"&#x452",desc:"CYRILLIC SMALL LETTER DJE"},{char:"&#x453",desc:"CYRILLIC SMALL LETTER GJE"},{char:"&#x454",desc:"CYRILLIC SMALL LETTER UKRAINIAN IE"},{char:"&#x455",desc:"CYRILLIC SMALL LETTER DZE"},{char:"&#x456",desc:"CYRILLIC SMALL LETTER BYELORUSSIAN-UKRAINIAN I"},{char:"&#x457",desc:"CYRILLIC SMALL LETTER YI"},{char:"&#x458",desc:"CYRILLIC SMALL LETTER JE"},{char:"&#x459",desc:"CYRILLIC SMALL LETTER LJE"},{char:"&#x45A",desc:"CYRILLIC SMALL LETTER NJE"},{char:"&#x45B",desc:"CYRILLIC SMALL LETTER TSHE"},{char:"&#x45C",desc:"CYRILLIC SMALL LETTER KJE"},{char:"&#x45D",desc:"CYRILLIC SMALL LETTER I WITH GRAVE"},{char:"&#x45E",desc:"CYRILLIC SMALL LETTER SHORT U"},{char:"&#x45F",desc:"CYRILLIC SMALL LETTER DZHE"}]},{title:"Punctuation",char:"&ndash;",list:[{char:"&ndash;",desc:"EN DASH"},{char:"&mdash;",desc:"EM DASH"},{char:"&lsquo;",desc:"LEFT SINGLE QUOTATION MARK"},{char:"&rsquo;",desc:"RIGHT SINGLE QUOTATION MARK"},{char:"&sbquo;",desc:"SINGLE LOW-9 QUOTATION MARK"},{char:"&ldquo;",desc:"LEFT DOUBLE QUOTATION MARK"},{char:"&rdquo;",desc:"RIGHT DOUBLE QUOTATION MARK"},{char:"&bdquo;",desc:"DOUBLE LOW-9 QUOTATION MARK"},{char:"&dagger;",desc:"DAGGER"},{char:"&Dagger;",desc:"DOUBLE DAGGER"},{char:"&bull;",desc:"BULLET"},{char:"&hellip;",desc:"HORIZONTAL ELLIPSIS"},{char:"&permil;",desc:"PER MILLE SIGN"},{char:"&prime;",desc:"PRIME"},{char:"&Prime;",desc:"DOUBLE PRIME"},{char:"&lsaquo;",desc:"SINGLE LEFT-POINTING ANGLE QUOTATION MARK"},{char:"&rsaquo;",desc:"SINGLE RIGHT-POINTING ANGLE QUOTATION MARK"},{char:"&oline;",desc:"OVERLINE"},{char:"&frasl;",desc:"FRACTION SLASH"}]},{title:"Currency",char:"&#x20A0",list:[{char:"&#x20A0",desc:"EURO-CURRENCY SIGN"},{char:"&#x20A1",desc:"COLON SIGN"},{char:"&#x20A2",desc:"CRUZEIRO SIGN"},{char:"&#x20A3",desc:"FRENCH FRANC SIGN"},{char:"&#x20A4",desc:"LIRA SIGN"},{char:"&#x20A5",desc:"MILL SIGN"},{char:"&#x20A6",desc:"NAIRA SIGN"},{char:"&#x20A7",desc:"PESETA SIGN"},{char:"&#x20A8",desc:"RUPEE SIGN"},{char:"&#x20A9",desc:"WON SIGN"},{char:"&#x20AA",desc:"NEW SHEQEL SIGN"},{char:"&#x20AB",desc:"DONG SIGN"},{char:"&#x20AC",desc:"EURO SIGN"},{char:"&#x20AD",desc:"KIP SIGN"},{char:"&#x20AE",desc:"TUGRIK SIGN"},{char:"&#x20AF",desc:"DRACHMA SIGN"},{char:"&#x20B0",desc:"GERMAN PENNY SYMBOL"},{char:"&#x20B1",desc:"PESO SIGN"},{char:"&#x20B2",desc:"GUARANI SIGN"},{char:"&#x20B3",desc:"AUSTRAL SIGN"},{char:"&#x20B4",desc:"HRYVNIA SIGN"},{char:"&#x20B5",desc:"CEDI SIGN"},{char:"&#x20B6",desc:"LIVRE TOURNOIS SIGN"},{char:"&#x20B7",desc:"SPESMILO SIGN"},{char:"&#x20B8",desc:"TENGE SIGN"},{char:"&#x20B9",desc:"INDIAN RUPEE SIGN"}]},{title:"Arrows",char:"&#x2190",list:[{char:"&#x2190",desc:"LEFTWARDS ARROW"},{char:"&#x2191",desc:"UPWARDS ARROW"},{char:"&#x2192",desc:"RIGHTWARDS ARROW"},{char:"&#x2193",desc:"DOWNWARDS ARROW"},{char:"&#x2194",desc:"LEFT RIGHT ARROW"},{char:"&#x2195",desc:"UP DOWN ARROW"},{char:"&#x2196",desc:"NORTH WEST ARROW"},{char:"&#x2197",desc:"NORTH EAST ARROW"},{char:"&#x2198",desc:"SOUTH EAST ARROW"},{char:"&#x2199",desc:"SOUTH WEST ARROW"},{char:"&#x219A",desc:"LEFTWARDS ARROW WITH STROKE"},{char:"&#x219B",desc:"RIGHTWARDS ARROW WITH STROKE"},{char:"&#x219C",desc:"LEFTWARDS WAVE ARROW"},{char:"&#x219D",desc:"RIGHTWARDS WAVE ARROW"},{char:"&#x219E",desc:"LEFTWARDS TWO HEADED ARROW"},{char:"&#x219F",desc:"UPWARDS TWO HEADED ARROW"},{char:"&#x21A0",desc:"RIGHTWARDS TWO HEADED ARROW"},{char:"&#x21A1",desc:"DOWNWARDS TWO HEADED ARROW"},{char:"&#x21A2",desc:"LEFTWARDS ARROW WITH TAIL"},{char:"&#x21A3",desc:"RIGHTWARDS ARROW WITH TAIL"},{char:"&#x21A4",desc:"LEFTWARDS ARROW FROM BAR"},{char:"&#x21A5",desc:"UPWARDS ARROW FROM BAR"},{char:"&#x21A6",desc:"RIGHTWARDS ARROW FROM BAR"},{char:"&#x21A7",desc:"DOWNWARDS ARROW FROM BAR"},{char:"&#x21A8",desc:"UP DOWN ARROW WITH BASE"},{char:"&#x21A9",desc:"LEFTWARDS ARROW WITH HOOK"},{char:"&#x21AA",desc:"RIGHTWARDS ARROW WITH HOOK"},{char:"&#x21AB",desc:"LEFTWARDS ARROW WITH LOOP"},{char:"&#x21AC",desc:"RIGHTWARDS ARROW WITH LOOP"},{char:"&#x21AD",desc:"LEFT RIGHT WAVE ARROW"},{char:"&#x21AE",desc:"LEFT RIGHT ARROW WITH STROKE"},{char:"&#x21AF",desc:"DOWNWARDS ZIGZAG ARROW"},{char:"&#x21B0",desc:"UPWARDS ARROW WITH TIP LEFTWARDS"},{char:"&#x21B1",desc:"UPWARDS ARROW WITH TIP RIGHTWARDS"},{char:"&#x21B2",desc:"DOWNWARDS ARROW WITH TIP LEFTWARDS"},{char:"&#x21B3",desc:"DOWNWARDS ARROW WITH TIP RIGHTWARDS"},{char:"&#x21B4",desc:"RIGHTWARDS ARROW WITH CORNER DOWNWARDS"},{char:"&#x21B5",desc:"DOWNWARDS ARROW WITH CORNER LEFTWARDS"},{char:"&#x21B6",desc:"ANTICLOCKWISE TOP SEMICIRCLE ARROW"},{char:"&#x21B7",desc:"CLOCKWISE TOP SEMICIRCLE ARROW"},{char:"&#x21B8",desc:"NORTH WEST ARROW TO LONG BAR"},{char:"&#x21B9",desc:"LEFTWARDS ARROW TO BAR OVER RIGHTWARDS ARROW TO BAR"},{char:"&#x21BA",desc:"ANTICLOCKWISE OPEN CIRCLE ARROW"},{char:"&#x21BB",desc:"CLOCKWISE OPEN CIRCLE ARROW"},{char:"&#x21BC",desc:"LEFTWARDS HARPOON WITH BARB UPWARDS"},{char:"&#x21BD",desc:"LEFTWARDS HARPOON WITH BARB DOWNWARDS"},{char:"&#x21BE",desc:"UPWARDS HARPOON WITH BARB RIGHTWARDS"},{char:"&#x21BF",desc:"UPWARDS HARPOON WITH BARB LEFTWARDS"},{char:"&#x21C0",desc:"RIGHTWARDS HARPOON WITH BARB UPWARDS"},{char:"&#x21C1",desc:"RIGHTWARDS HARPOON WITH BARB DOWNWARDS"},{char:"&#x21C2",desc:"DOWNWARDS HARPOON WITH BARB RIGHTWARDS"},{char:"&#x21C3",desc:"DOWNWARDS HARPOON WITH BARB LEFTWARDS"},{char:"&#x21C4",desc:"RIGHTWARDS ARROW OVER LEFTWARDS ARROW"},{char:"&#x21C5",desc:"UPWARDS ARROW LEFTWARDS OF DOWNWARDS ARROW"},{char:"&#x21C6",desc:"LEFTWARDS ARROW OVER RIGHTWARDS ARROW"},{char:"&#x21C7",desc:"LEFTWARDS PAIRED ARROWS"},{char:"&#x21C8",desc:"UPWARDS PAIRED ARROWS"},{char:"&#x21C9",desc:"RIGHTWARDS PAIRED ARROWS"},{char:"&#x21CA",desc:"DOWNWARDS PAIRED ARROWS"},{char:"&#x21CB",desc:"LEFTWARDS HARPOON OVER RIGHTWARDS HARPOON"},{char:"&#x21CC",desc:"RIGHTWARDS HARPOON OVER LEFTWARDS HARPOON"},{char:"&#x21CD",desc:"LEFTWARDS DOUBLE ARROW WITH STROKE"},{char:"&#x21CE",desc:"LEFT RIGHT DOUBLE ARROW WITH STROKE"},{char:"&#x21CF",desc:"RIGHTWARDS DOUBLE ARROW WITH STROKE"},{char:"&#x21D0",desc:"LEFTWARDS DOUBLE ARROW"},{char:"&#x21D1",desc:"UPWARDS DOUBLE ARROW"},{char:"&#x21D2",desc:"RIGHTWARDS DOUBLE ARROW"},{char:"&#x21D3",desc:"DOWNWARDS DOUBLE ARROW"},{char:"&#x21D4",desc:"LEFT RIGHT DOUBLE ARROW"},{char:"&#x21D5",desc:"UP DOWN DOUBLE ARROW"},{char:"&#x21D6",desc:"NORTH WEST DOUBLE ARROW"},{char:"&#x21D7",desc:"NORTH EAST DOUBLE ARROW"},{char:"&#x21D8",desc:"SOUTH EAST DOUBLE ARROW"},{char:"&#x21D9",desc:"SOUTH WEST DOUBLE ARROW"},{char:"&#x21DA",desc:"LEFTWARDS TRIPLE ARROW"},{char:"&#x21DB",desc:"RIGHTWARDS TRIPLE ARROW"},{char:"&#x21DC",desc:"LEFTWARDS SQUIGGLE ARROW"},{char:"&#x21DD",desc:"RIGHTWARDS SQUIGGLE ARROW"},{char:"&#x21DE",desc:"UPWARDS ARROW WITH DOUBLE STROKE"},{char:"&#x21DF",desc:"DOWNWARDS ARROW WITH DOUBLE STROKE"},{char:"&#x21E0",desc:"LEFTWARDS DASHED ARROW"},{char:"&#x21E1",desc:"UPWARDS DASHED ARROW"},{char:"&#x21E2",desc:"RIGHTWARDS DASHED ARROW"},{char:"&#x21E3",desc:"DOWNWARDS DASHED ARROW"},{char:"&#x21E4",desc:"LEFTWARDS ARROW TO BAR"},{char:"&#x21E5",desc:"RIGHTWARDS ARROW TO BAR"},{char:"&#x21E6",desc:"LEFTWARDS WHITE ARROW"},{char:"&#x21E7",desc:"UPWARDS WHITE ARROW"},{char:"&#x21E8",desc:"RIGHTWARDS WHITE ARROW"},{char:"&#x21E9",desc:"DOWNWARDS WHITE ARROW"},{char:"&#x21EA",desc:"UPWARDS WHITE ARROW FROM BAR"},{char:"&#x21EB",desc:"UPWARDS WHITE ARROW ON PEDESTAL"},{char:"&#x21EC",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH HORIZONTAL BAR"},{char:"&#x21ED",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH VERTICAL BAR"},{char:"&#x21EE",desc:"UPWARDS WHITE DOUBLE ARROW"},{char:"&#x21EF",desc:"UPWARDS WHITE DOUBLE ARROW ON PEDESTAL"},{char:"&#x21F0",desc:"RIGHTWARDS WHITE ARROW FROM WALL"},{char:"&#x21F1",desc:"NORTH WEST ARROW TO CORNER"},{char:"&#x21F2",desc:"SOUTH EAST ARROW TO CORNER"},{char:"&#x21F3",desc:"UP DOWN WHITE ARROW"},{char:"&#x21F4",desc:"RIGHT ARROW WITH SMALL CIRCLE"},{char:"&#x21F5",desc:"DOWNWARDS ARROW LEFTWARDS OF UPWARDS ARROW"},{char:"&#x21F6",desc:"THREE RIGHTWARDS ARROWS"},{char:"&#x21F7",desc:"LEFTWARDS ARROW WITH VERTICAL STROKE"},{char:"&#x21F8",desc:"RIGHTWARDS ARROW WITH VERTICAL STROKE"},{char:"&#x21F9",desc:"LEFT RIGHT ARROW WITH VERTICAL STROKE"},{char:"&#x21FA",desc:"LEFTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FB",desc:"RIGHTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FC",desc:"LEFT RIGHT ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FD",desc:"LEFTWARDS OPEN-HEADED ARROW"},{char:"&#x21FE",desc:"RIGHTWARDS OPEN-HEADED ARROW"},{char:"&#x21FF",desc:"LEFT RIGHT OPEN-HEADED ARROW"}]},{title:"Math",char:"&forall;",list:[{char:"&forall;",desc:"FOR ALL"},{char:"&part;",desc:"PARTIAL DIFFERENTIAL"},{char:"&exist;",desc:"THERE EXISTS"},{char:"&empty;",desc:"EMPTY SET"},{char:"&nabla;",desc:"NABLA"},{char:"&isin;",desc:"ELEMENT OF"},{char:"&notin;",desc:"NOT AN ELEMENT OF"},{char:"&ni;",desc:"CONTAINS AS MEMBER"},{char:"&prod;",desc:"N-ARY PRODUCT"},{char:"&sum;",desc:"N-ARY SUMMATION"},{char:"&minus;",desc:"MINUS SIGN"},{char:"&lowast;",desc:"ASTERISK OPERATOR"},{char:"&radic;",desc:"SQUARE ROOT"},{char:"&prop;",desc:"PROPORTIONAL TO"},{char:"&infin;",desc:"INFINITY"},{char:"&ang;",desc:"ANGLE"},{char:"&and;",desc:"LOGICAL AND"},{char:"&or;",desc:"LOGICAL OR"},{char:"&cap;",desc:"INTERSECTION"},{char:"&cup;",desc:"UNION"},{char:"&int;",desc:"INTEGRAL"},{char:"&there4;",desc:"THEREFORE"},{char:"&sim;",desc:"TILDE OPERATOR"},{char:"&cong;",desc:"APPROXIMATELY EQUAL TO"},{char:"&asymp;",desc:"ALMOST EQUAL TO"},{char:"&ne;",desc:"NOT EQUAL TO"},{char:"&equiv;",desc:"IDENTICAL TO"},{char:"&le;",desc:"LESS-THAN OR EQUAL TO"},{char:"&ge;",desc:"GREATER-THAN OR EQUAL TO"},{char:"&sub;",desc:"SUBSET OF"},{char:"&sup;",desc:"SUPERSET OF"},{char:"&nsub;",desc:"NOT A SUBSET OF"},{char:"&sube;",desc:"SUBSET OF OR EQUAL TO"},{char:"&supe;",desc:"SUPERSET OF OR EQUAL TO"},{char:"&oplus;",desc:"CIRCLED PLUS"},{char:"&otimes;",desc:"CIRCLED TIMES"},{char:"&perp;",desc:"UP TACK"}]},{title:"Misc",char:"&spades;",list:[{char:"&spades;",desc:"BLACK SPADE SUIT"},{char:"&clubs;",desc:"BLACK CLUB SUIT"},{char:"&hearts;",desc:"BLACK HEART SUIT"},{char:"&diams;",desc:"BLACK DIAMOND SUIT"},{char:"&#x2669",desc:"QUARTER NOTE"},{char:"&#x266A",desc:"EIGHTH NOTE"},{char:"&#x266B",desc:"BEAMED EIGHTH NOTES"},{char:"&#x266C",desc:"BEAMED SIXTEENTH NOTES"},{char:"&#x266D",desc:"MUSIC FLAT SIGN"},{char:"&#x266E",desc:"MUSIC NATURAL SIGN"},{char:"&#x2600",desc:"BLACK SUN WITH RAYS"},{char:"&#x2601",desc:"CLOUD"},{char:"&#x2602",desc:"UMBRELLA"},{char:"&#x2603",desc:"SNOWMAN"},{char:"&#x2615",desc:"HOT BEVERAGE"},{char:"&#x2618",desc:"SHAMROCK"},{char:"&#x262F",desc:"YIN YANG"},{char:"&#x2714",desc:"HEAVY CHECK MARK"},{char:"&#x2716",desc:"HEAVY MULTIPLICATION X"},{char:"&#x2744",desc:"SNOWFLAKE"},{char:"&#x275B",desc:"HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275C",desc:"HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275D",desc:"HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275E",desc:"HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT"},{char:"&#x2764",desc:"HEAVY BLACK HEART"}]}],specialCharButtons:["specialCharBack","|"]}),Object.assign(x.POPUP_TEMPLATES,{specialCharacters:"[_BUTTONS_][_CUSTOM_LAYER_]"}),x.PLUGINS.specialCharacters=function(s){var b=s.$,$=s.opts.specialCharactersSets,ge=s.opts.specialCharactersSets[0],a="";function f(){return`
        <div class="fr-buttons fr-tabs fr-tabs-scroll">
          `.concat(function(O,T){var L="";return O.forEach(function(B){var G=B.title===T.title,P={elementClass:G?"fr-active fr-active-tab":"",title:B.title,dataParam1:B.title,desc:B.char};L+='<button class="fr-command fr-btn fr-special-character-category '.concat(P.elementClass,`" 
      title="`).concat(P.title,'" data-cmd="setSpecialCharacterCategory" data-param1="').concat(P.dataParam1,'" aria-pressed="').concat(G,`">
      <span>`).concat(P.desc,"</span></button>")}),L}($,ge),`
        </div>
        <div class="fr-icon-container fr-sc-container" style="outline: none;">
          `).concat(function(O){var T="";return O.list.forEach(function(L){var B={dataParam1:L.char,title:L.desc,splCharValue:L.char};T+=`<span class="fr-command fr-special-character fr-icon" role="button" 
      data-cmd="insertSpecialCharacter" data-param1="`.concat(B.dataParam1,`" tabindex="0"
      title="`).concat(B.title,'">').concat(B.splCharValue,"</span>")}),T}(ge),`
        </div>`)}return{setSpecialCharacterCategory:function(O){ge=$.filter(function(T){return T.title===O})[0],function(){s.popups.get("specialCharacters").html(a+f());var L=s.popups.get("specialCharacters").children().not(".fr-buttons");s.accessibility.registerPopup("specialCharacters"),s.accessibility.focusContent(L)}()},showSpecialCharsPopup:function(){var O=s.popups.get("specialCharacters");if(O||(O=function(){s.opts.toolbarInline&&0<s.opts.specialCharButtons.length&&(a='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.specialCharButtons),"</div>"));var F={buttons:a,custom_layer:f()},j=s.popups.create("specialCharacters",F);return function(ee){s.events.on("popup.tab",function(w){var he=b(w.currentTarget);if(!s.popups.isVisible("specialCharacters")||!he.is("span, a"))return!0;var be,se,re,ie=w.which,M=window.getComputedStyle(ee.find(".fr-icon-container")[0]),W=M.getPropertyValue("grid-template-columns").split(" ").length;if(x.KEYCODE.TAB==ie){var K=ee.find("span.fr-special-character");if(he.is(K.first())&&w.shiftKey||he.is(K.last())&&!w.shiftKey){var R=ee.find(".fr-buttons");be=!s.accessibility.focusToolbar(R,!!w.shiftKey)}if(be!==!1){var A=ee.find("span.fr-special-character");A.add(ee.find("button.fr-btn")),se=A.index(he),se=w.shiftKey?((se-1)%A.length+A.length)%A.length:(se+1)%A.length,re=A.get(se),s.events.disableBlur(),re.focus(),be=!1}}else if(x.KEYCODE.ARROW_UP==ie||x.KEYCODE.ARROW_DOWN==ie||x.KEYCODE.ARROW_LEFT==ie||x.KEYCODE.ARROW_RIGHT==ie){if(he.is("span.fr-icon")){var J=he.parent().find("span.fr-icon");se=J.index(he);var V=W,q=Math.ceil(J.length/V),ae=se%V,Le=Math.floor(se/V),Ee=Le*V+ae,we=q*V;x.KEYCODE.ARROW_UP==ie?Ee=((Ee-V)%we+we)%we:x.KEYCODE.ARROW_DOWN==ie?Ee=(Ee+V)%we:x.KEYCODE.ARROW_LEFT==ie?Ee=((Ee-1)%we+we)%we:x.KEYCODE.ARROW_RIGHT==ie&&(Ee=(Ee+1)%we),re=b(J.get(Ee)),s.events.disableBlur(),re.focus(),be=!1}}else x.KEYCODE.ENTER==ie&&(he.is("a")?he[0].click():s.button.exec(he),be=!1);return be===!1&&(w.preventDefault(),w.stopPropagation()),be},!0)}(j),j}()),!O.hasClass("fr-active")){s.popups.refresh("specialCharacters"),s.popups.setContainer("specialCharacters",s.$tb);var T=s.$tb.find('.fr-command[data-cmd="specialCharacters"]'),L=s.button.getPosition(T),B=L.left,G=L.top;s.popups.show("specialCharacters",B,G,outerHeight)}},back:function(){s.popups.hide("specialCharacters"),s.toolbar.showInline()}}},x.DefineIcon("specialCharacters",{NAME:"dollar-sign",SVG_KEY:"symbols"}),x.RegisterCommand("specialCharacters",{title:"Special Characters",icon:"specialCharacters",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,plugin:"specialCharacters",showOnMobile:!0,callback:function(){this.popups.isVisible("specialCharacters")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("specialCharacters")):this.specialCharacters.showSpecialCharsPopup()}}),x.RegisterCommand("insertSpecialCharacter",{callback:function(s,b){this.undo.saveStep(),this.html.insert(b),this.undo.saveStep(),this.popups.hide("specialCharacters")}}),x.RegisterCommand("setSpecialCharacterCategory",{undo:!1,focus:!1,callback:function(s,b){this.specialCharacters.setSpecialCharacterCategory(b)}}),x.DefineIcon("specialCharBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("specialCharBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.specialCharacters.back()}}),Object.assign(x.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]","table.cellProperties":"[_CELL_PROPERTIES_FORM_][_BUTTONS_]","table.tableProperties":"[_TABLE_PROPERTIES_FORM_][_BUTTONS_]"}),Object.assign(x.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableFooter","tableRemove","tableRows","tableColumns","tableProperties","-","tableCells","tableCellProperties","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"50%",tableDefaultAlign:"center",tableDefaultHeight:"100px",tableDefaultBGColor:"",tableDefaultBorderColor:"",tableDefaultBorderWidth:"1px",tableDefaultBorderStyle:"solid",tableBorderStyle:["solid","dashed","dotted","double","groove","ridge","inset","outset"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,keepTextFormatOnTable:!1,tableInsertHelperOffset:15}),x.PLUGINS.table=function(s){var b,$,ge,a,f,N,O,T=s.$,L={};function B(){var Et=q();if(Et){var fe=s.popups.get("table.edit");if(fe||(fe=j()),fe){s.popups.setContainer("table.edit",s.$sc);var Y=ct(Et),le=Y.left+(Y.right-Y.left)/2,ye=Y.bottom;s.popups.show("table.edit",le,ye,Y.bottom-Y.top,!0),s.edit.isDisabled()&&(s.$el.removeClass("fr-no-selection"),s.edit.on(),s.button.bulkRefresh(),s.selection.setAtEnd(s.$el.find(".fr-selected-cell").last().get(0)),s.selection.restore())}}}function G(){ro().length===0&&s.toolbar.enable()}function P(Et){if(Et)return s.popups.onHide("table.insert",function(){s.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseover")}),!0;var fe="";0<s.opts.tableInsertButtons.length&&(fe='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.tableInsertButtons),"</div>"));var Y={buttons:fe,rows_columns:function(){for(var Ce='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',Ue=1;Ue<=s.opts.tableInsertMaxSize;Ue++){for(var Be=1;Be<=s.opts.tableInsertMaxSize;Be++){var te="inline-block";2<Ue&&!s.helpers.isMobile()&&(te="none");var pe="fr-table-cell ";Ue==1&&Be==1&&(pe+=" hover"),Ce+='<span class="fr-command '.concat(pe,'" tabIndex="-1" data-cmd="tableInsert" data-row="').concat(Ue,'" data-col="').concat(Be,'" data-param1="').concat(Ue,'" data-param2="').concat(Be,'" style="display: ').concat(te,';" role="button"><span></span><span class="fr-sr-only">').concat(Ue," &times; ").concat(Be,"&nbsp;&nbsp;&nbsp;</span></span>")}Ce+='<div class="new-line"></div>'}return Ce+="</div></div>"}()},le=s.popups.create("table.insert",Y);return s.events.$on(le,"mouseover",".fr-table-size .fr-select-table-size .fr-table-cell",function(ye){F(T(ye.currentTarget))},!0),function(Ce){s.events.$on(Ce,"focus","[tabIndex]",function(Ue){var Be=T(Ue.currentTarget);F(Be)}),s.events.on("popup.tab",function(Ue){var Be=T(Ue.currentTarget);if(!s.popups.isVisible("table.insert")||!Be.is("span, a"))return!0;var te,pe=Ue.which;if(x.KEYCODE.ARROW_UP==pe||x.KEYCODE.ARROW_DOWN==pe||x.KEYCODE.ARROW_LEFT==pe||x.KEYCODE.ARROW_RIGHT==pe){if(Be.is("span.fr-table-cell")){var me=Be.parent().find("span.fr-table-cell"),_e=me.index(Be),je=s.opts.tableInsertMaxSize,pt=_e%je,mt=Math.floor(_e/je);x.KEYCODE.ARROW_UP==pe?mt=Math.max(0,mt-1):x.KEYCODE.ARROW_DOWN==pe?mt=Math.min(s.opts.tableInsertMaxSize-1,mt+1):x.KEYCODE.ARROW_LEFT==pe?pt=Math.max(0,pt-1):x.KEYCODE.ARROW_RIGHT==pe&&(pt=Math.min(s.opts.tableInsertMaxSize-1,pt+1));var kt=mt*je+pt,Ut=T(me.get(kt));F(Ut),s.events.disableBlur(),Ut.focus(),te=!1}}else x.KEYCODE.ENTER==pe&&(s.button.exec(Be),te=!1);return te===!1&&(Ue.preventDefault(),Ue.stopPropagation()),te},!0)}(le),le}function F(Et){var fe=Et.data("row");fe!==null&&(fe=parseInt(fe));var Y=Et.data("col");Y!==null&&(Y=parseInt(Y));var le=Et.parent();le.siblings(".fr-table-size-info").html("".concat(fe," &times; ").concat(Y)),le.find("> span").removeClass("hover fr-active-item");for(var ye=1;ye<=s.opts.tableInsertMaxSize;ye++)for(var Ce=0;Ce<=s.opts.tableInsertMaxSize;Ce++){var Ue=le.find('> span[data-row="'.concat(ye,'"][data-col="').concat(Ce,'"]'));ye<=fe&&Ce<=Y?Ue.addClass("hover"):ye<=fe+1||ye<=2&&!s.helpers.isMobile()?Ue.css("display","inline-block"):2<ye&&!s.helpers.isMobile()&&Ue.css("display","none")}Et.addClass("fr-active-item")}function j(Et){if(Et)return s.popups.onHide("table.edit",G),!0;if(0<s.opts.tableEditButtons.length){var fe={buttons:'<div class="fr-buttons">'.concat(s.button.buildList(s.opts.tableEditButtons),"</div>")},Y=s.popups.create("table.edit",fe);return s.events.$on(s.$wp,"scroll.table-edit",function(){s.popups.isVisible("table.edit")&&B()}),Y}return!1}function H(Et,fe,Y){var le=T(Et),ye=T(fe);Y&&Y!=="REMOVE"&&Y!=="transparent"&&Y!=="rgba(0, 0, 0, 0)"?(le.css("background-color",Y),ye.css("display","none")):(le.css("background-color","transparent"),ye.css("display","block"))}function ee(){var Et=s.popups.get("table.cellProperties");return Et||(Et=s.popups.create("table.cellProperties",{cell_properties_form:`
          <div class="fr-cell-properties-form">
            <div class="fr-cell-properties-section">
              <label>Background</label>
              <div class="fr-cell-bg-container">
                <input type="text" id="fr-cell-bg" class="fr-input" tabIndex="1" placeholder="Color">
                <button type="button" class="fr-command fr-btn-cell-bg-color" tabIndex="2" data-param1="cell" data-cmd="openColorPicker">
                  <div class="fr-color-preview">
                    <div class="fr-color-preview-indicator"></div>
                  </div>
                </button>
              </div>
            </div>
        
            <div class="fr-cell-dimensions-container">
              <div class="fr-cell-dimension-section">
                <label>Dimensions</label>
                <div class="fr-dimension-inputs">
                  <input type="text" id="fr-cell-width" tabIndex="3" placeholder="Width">
                  <span class="fr-dimension-separator"></span>
                  <input type="text" id="fr-cell-height" tabIndex="4" placeholder="Height">
                  <label for="fr-cell-height"></label>
                </div>
              </div>
        
              <div class="fr-cell-padding-section">
                <label>Padding</label>
                <div>
                  <input type="text" id="fr-cell-padding" tabIndex="5" placeholder="Size">
                  <label for="fr-cell-padding"></label>
                </div>
              </div>
            </div>
        
            <div class="fr-cell-properties-buttons">
              <button type="button" class="fr-command fr-enable-accessibility fr-cancel-button" tabIndex="6" data-cmd="onCancel">Cancel</button>
              <button type="button" class="fr-command fr-enable-accessibility fr-save-button" tabIndex="7" data-cmd="applyCellProperties">Save</button>
            </div>
          </div>`,buttons:""}),w(),s.events.$on(Et,"input","#fr-cell-bg",function(){Et.data("bg-modified",!0)}),s.events.$on(Et,"input","#fr-cell-width",function(){Et.data("width-modified",!0)}),s.events.$on(Et,"input","#fr-cell-height",function(){Et.data("height-modified",!0)}),s.events.$on(Et,"input","#fr-cell-padding",function(){Et.data("padding-modified",!0)})),Et}function w(){var Et=s.popups.get("table.cellProperties");Et&&(Et.data("bg-modified",!1),Et.data("width-modified",!1),Et.data("height-modified",!1),Et.data("padding-modified",!1))}function he(Et){var fe,Y,le,ye,Ce=s.popups.get("table.colors").data("type");if(Ce==="table"){var Ue=s.popups.get("table.tableProperties");fe=Ue.find(".fr-color-preview"),Y=Ue.find(".fr-color-preview-indicator"),le=Ue.find("#fr-table-bg")}else if(Ce==="cell"){var Be=s.popups.get("table.cellProperties");fe=Be.find(".fr-color-preview"),Y=Be.find(".fr-color-preview-indicator"),le=Be.find("#fr-cell-bg"),ye=s.popups.get("table.cellProperties")}else if(Ce==="border"){var te=s.popups.get("table.tableProperties");fe=te.find(".fr-border-color-preview"),Y=te.find(".fr-border-color-preview-indicator"),le=te.find("#fr-table-border-color")}typeof Et=="string"&&(s.helpers.isRGBColor(Et)&&(Et=s.helpers.RGBToHex(Et).toUpperCase()),(s.helpers.isValidHexColor(Et)||Et==="transparent"||Et==="")&&(T(le).val(Et),T(le).focus(),Ce==="cell"&&T(ye).data("bg-modified",!0),H(fe,Y,Et)))}function be(Et){var fe=T(Et).next().get(0);if(fe){var Y=s.doc.createRange();Y.setStart(fe,0),Y.collapse(!0);var le=s.selection.get();le.removeAllRanges(),le.addRange(Y)}else s.selection.get().collapse(T(Et).get(0))}function se(){L[s.id]||(L[s.id]=T(document.createElement("div")).attr("class","fr-table-selector").html('<a role="button" tabIndex="-1" title="'.concat(s.language.translate("Select Table"),'">').concat(s.icon.create("tableSelectorIcon"),"</a>")));var Et=s.language.translate(`The content you are pasting does not contain a table.
Please ensure the copied content is in table format.`);s.events.on("paste.before",function(le,ye){if(s.$el.find("table.fr-table-selected").length){var Ce=ye||le&&le.clipboardData;if(Ce&&Ce.items){var Ue=(Ce||window.clipboardData).getData("text/html")||"";if(!Ue||Ue.indexOf("<table")===-1)return alert(Et),le.preventDefault(),le.stopPropagation(),!1}}return!0}),s.events.on("html.beforeInsert",function(le){var ye=s.$el.find("table.fr-table-selected");if(ye.length){var Ce=function(Be){var te=s.doc.createElement("div");te.innerHTML=Be;for(var pe=te.firstChild;pe;){var me=pe.nextSibling;(pe.nodeType===Node.TEXT_NODE&&pe.textContent.replace(/\u200b/g,"").trim()===""||pe.nodeType===Node.COMMENT_NODE||pe.tagName==="SPAN"&&pe.textContent.replace(/\u200b/g,"").trim()==="")&&pe.remove(),pe=me}return te.childNodes.length===1&&te.childNodes[0].tagName==="TABLE"&&te.childNodes[0]}(le);return Ce?(function(Be,te){for(var pe=te.get(0),me=pe.rows[0].cells[0],_e=me&&me.parentNode?me.parentNode.rowIndex:0,je=me?me.cellIndex:0,pt=pe.rows,mt=Be.rows,kt=0;kt<Be.rows.length;kt++){if(!pt[_e+kt])for(var Ut=pt[pt.length-1].cells.length,At=pe.insertRow(),Tt=0;Tt<Ut;Tt++)At.insertCell();for(var Bt=pt[_e+kt],Xt=0;Xt<Be.rows[kt].cells.length;Xt++){if(!Bt.cells[je+Xt])for(var Jt=0;Jt<pt.length;Jt++)pt[Jt].insertCell();var on=Bt.cells[je+Xt],_n=mt[kt].cells[Xt];on.outerHTML=_n.outerHTML}}}(Ce,ye),s.keys.positionCaret(),s.events.trigger("html.inserted")):alert(Et),!1}return!0}),s.events.on("mousedown",function(){s.$el.find("table.fr-table-selected").length&&et()}),s.events.$on(T(s.o_win),"resize",function(){var le=s.$el.find("table.fr-table-selected");le.length?wt(le):et()}),s.events.on("commands.undo commands.redo commands.before",function(le){if(!/^align/.test(le)){var ye=s.$el.find("table.fr-table-selected");ye.length&&(et(),be(ye))}});var fe=null,Y=null;s.events.on("snapshot.before",function(){Y=s.$el.find("table.fr-table-selection-hover"),fe=s.$el.find("table.fr-table-selected"),wn(Y,"fr-table-selection-hover"),wn(fe,"fr-table-selected")}),s.events.on("snapshot.after",function(){fe&&fe.addClass("fr-table-selected"),Y&&Y.addClass("fr-table-selection-hover")}),s.events.$on(L[s.id],"click",function(){var le=s.$el.find("table.fr-table-selection-hover"),ye=s.$el.find("table.fr-table-selected");le.length&&(wn(ye,"fr-table-selected"),L[s.id].addClass("fr-table-selector-active-selected"),le.addClass("fr-table-selected"),wn(le,"fr-table-selection-hover"),ye=le);var Ce=s.doc.createRange();s.selection.get().removeAllRanges();var Ue=ye.get(0);Ce.selectNode(Ue),s.selection.get().addRange(Ce)}),s.events.on("destroy",function(){et(),L[s.id]=null})}function re(Et){var fe={startTag:"",closeTag:""};return s.opts.keepTextFormatOnTable&&(fe=ie(function(le){for(var ye=new Set,Ce=le.textContent,Ue=0,Be=[le.firstChild];0<Be.length;){var te=Be.pop();if(te&&(ye.has(te)||(Ue===0&&Ce!==te.textContent&&(Ce=te.textContent,Ue++),ye.add(te)),te.hasChildNodes()))for(var pe=0;pe<te.childNodes.length;){if(te.childNodes[pe].nodeType===3)return Ie(ye);if(te.childNodes[pe].textContent){if(Ue===0&&te.childNodes[pe].textContent!==Ce){Ce=te.childNodes[pe].textContent,Be.push(te.childNodes[pe]),Ue++;break}te.childNodes[pe].textContent===Ce&&Be.push(te.childNodes[pe])}pe++}}return Ie(ye)}(Et).reverse())),{startTag:fe.startTag,closeTag:fe.closeTag}}function ie(Et){var fe="",Y="",le=["br","#text","#comment","font"];if(0<Et.length)for(var ye=Et.length-1;0<=ye;ye--){var Ce=Et[ye],Ue=s.node.isBlock(Ce),Be=le.indexOf(Ce.nodeName.toLowerCase());if(!Ue&&Be<0){var te=Ce.style,pe="";if(te&&te.length){for(var me=0;me<te.length;me++)pe+=te[me]+": "+te[te[me]].replace(/"/gi,"")+"; ";pe=pe.trim()}fe+=pe?"<"+Ce.nodeName.toLowerCase()+' style="'+pe+'">':"<"+Ce.nodeName.toLowerCase()+">",Y="</"+Ce.nodeName.toLowerCase()+">"+Y}}return{startTag:fe,closeTag:Y}}function M(){var Et=Xo(),fe=ro(),Y=0<fe.length,le=0<Et.length;(Y||le)&&(Y&&(s.selection.setBefore(fe[0])||s.selection.setAfter(fe[0]),s.selection.restore(),s.popups.hide("table.edit")),be(Et),s.undo.saveStep(),et(),we(),Et.remove(),s.$el.focus())}function W(Et){var fe=Xo();if(0<fe.length){if(0<s.$el.find("thead .fr-selected-cell").length&&Et=="above"||0<s.$el.find("tfoot td.fr-selected-cell").length&&Et=="below")return;var Y,le,ye,Ce=q(),Ue=We(Ce);if(Ue==null)return;le=Et=="above"?Ue.min_i:Ue.max_i;var Be="<tr>";for(Y=0;Y<Ce[le].length;Y++)if(Et=="below"&&le<Ce.length-1&&Ce[le][Y]==Ce[le+1][Y]||Et=="above"&&0<le&&Ce[le][Y]==Ce[le-1][Y]){if(Y===0||0<Y&&Ce[le][Y]!=Ce[le][Y-1]){var te=T(Ce[le][Y]);te.attr("rowspan",parseInt(te.attr("rowspan"),10)+1)}}else{var pe=T(Ce[le][Y]);if(pe.attr("tagName").toUpperCase()=="TH")Be+='<th style="'+pe.attr("style")+'" ><br></th>';else{var me=re(Ce[le][Y]);Be+='<td style="'+pe.attr("style")+'" >'+me.startTag+"<br>"+me.closeTag+"</td>"}}Be+="</tr>",ye=0<s.$el.find("thead .fr-selected-cell").length&&Et=="below"||0<s.$el.find("tfoot td.fr-selected-cell").length&&Et=="above"?T(fe.find("tbody").not(fe.find("> table tbody"))):T(fe.find("tr").not(fe.find("> table tr")).get(le)),Et=="below"?ye.attr("tagName")=="TBODY"?ye.prepend(Be):ye[0].parentNode&&ye[0].insertAdjacentHTML("afterend",Be):Et=="above"&&(ye.attr("tagName")=="TBODY"?ye.append(Be):ye.before(Be),s.popups.isVisible("table.edit")&&B())}}function K(Et,fe,Y){var le,ye,Ce,Ue,Be,te=0,pe=q(Y);if(Et<(fe=Math.min(fe,pe[0].length-1))){for(ye=Et;ye<=fe;ye++)if(!(Et<ye&&pe[0][ye]==pe[0][ye-1])&&1<(Ue=Math.min(parseInt(pe[0][ye].getAttribute("colspan"),10)||1,fe-Et+1))&&pe[0][ye]==pe[0][ye+1]){for(te=Ue-1,le=1;le<pe.length;le++)if(pe[le][ye]!=pe[le-1][ye]){for(Ce=ye;Ce<ye+Ue;Ce++)if(pe[le][Ce]!==void 0){if(1<(Be=parseInt(pe[le][Ce].getAttribute("colspan"),10)||1)&&pe[le][Ce]==pe[le][Ce+1])Ce+=te=Math.min(te,Be-1);else if(!(te=Math.max(0,te-1)))break}if(!te)break}}}te&&A(pe,te,"colspan",0,pe.length-1,Et,fe)}function R(Et,fe,Y){var le,ye,Ce,Ue,Be,te=0,pe=q(Y);if(Et<(fe=Math.min(fe,pe.length-1))){for(le=Et;le<=fe;le++)if(!(Et<le&&pe[le][0]==pe[le-1][0])&&pe[le][0]!==void 0&&1<(Ue=Math.min(parseInt(pe[le][0].getAttribute("rowspan"),10)||1,fe-Et+1))&&pe[le][0]==pe[le+1][0]){for(te=Ue-1,ye=1;ye<pe[0].length;ye++)if(pe[le][ye]!=pe[le][ye-1]){for(Ce=le;Ce<le+Ue;Ce++)if(pe[Ce][ye]!==void 0){if(1<(Be=parseInt(pe[Ce][ye].getAttribute("rowspan"),10)||1)&&pe[Ce][ye]==pe[Ce+1][ye])Ce+=te=Math.min(te,Be-1);else if(!(te=Math.max(0,te-1)))break}if(!te)break}}}te&&A(pe,te,"rowspan",Et,fe,0,pe[0].length-1)}function A(Et,fe,Y,le,ye,Ce,Ue){var Be,te,pe;for(Be=le;Be<=ye;Be++)for(te=Ce;te<=Ue;te++)le<Be&&Et[Be][te]==Et[Be-1][te]||Ce<te&&Et[Be][te]==Et[Be][te-1]||Et[Be][te]!==void 0&&1<(pe=parseInt(Et[Be][te].getAttribute(Y),10)||1)&&(1<pe-fe?Et[Be][te].setAttribute(Y,pe-fe):Et[Be][te].removeAttribute(Y))}function J(Et,fe,Y,le,ye){R(Et,fe,ye),K(Y,le,ye)}function V(Et){Et.style.removeProperty("border"),Et.style.removeProperty("border-top"),Et.style.removeProperty("border-bottom"),Et.style.removeProperty("border-left"),Et.style.removeProperty("border-right")}function q(Et){var fe=[];if((Et=Et||null)==null&&0<ro().length&&(Et=Xo()),Et){if(!Et.find("tr").html().match(/xl[0-9]+/gi))for(var Y=Et.find("tr:empty"),le=Y.length-1;0<=le;le--)T(Y[le]).remove();Et.find("tr").not(Et.find("> table tr")).each(function(ye,Ce){var Ue=T(Ce),Be=0;Ue.find("> th, > td").each(function(te,pe){for(var me=T(pe),_e=parseInt(me.attr("colspan"),10)||1,je=parseInt(me.attr("rowspan"),10)||1,pt=ye;pt<ye+je;pt++)for(var mt=Be;mt<Be+_e;mt++)fe[pt]||(fe[pt]=[]),fe[pt][mt]?Be++:fe[pt][mt]=pe;Be+=_e})})}return fe}function ae(Et,fe){for(var Y=0;Y<fe.length;Y++)for(var le=0;le<fe[Y].length;le++)if(fe[Y][le]==Et)return{row:Y,col:le}}function Le(Et,fe,Y){for(var le=Et+1,ye=fe+1;le<Y.length;){if(Y[le][fe]!=Y[Et][fe]){le--;break}le++}for(le==Y.length&&le--;ye<Y[Et].length;){if(Y[Et][ye]!=Y[Et][fe]){ye--;break}ye++}return ye==Y[Et].length&&ye--,{row:le,col:ye}}function Ee(){s.el.querySelector(".fr-cell-fixed")&&s.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),s.el.querySelector(".fr-cell-handler")&&s.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function we(){var Et=s.$el.find(".fr-selected-cell");0<Et.length&&Et.each(function(){var fe=T(this);fe.removeClass("fr-selected-cell"),fe.attr("class")===""&&fe.removeAttr("class")}),Ee()}function Ne(){s.events.disableBlur(),s.selection.clear(),s.$el.addClass("fr-no-selection"),s.$el.blur(),s.events.enableBlur()}function We(Et){var fe=s.$el.find(".fr-selected-cell");if(0<fe.length){var Y,le=Et.length,ye=0,Ce=Et[0].length,Ue=0;for(Y=0;Y<fe.length;Y++){var Be=ae(fe[Y],Et),te=Le(Be.row,Be.col,Et);le=Math.min(Be.row,le),ye=Math.max(te.row,ye),Ce=Math.min(Be.col,Ce),Ue=Math.max(te.col,Ue)}return{min_i:le,max_i:ye,min_j:Ce,max_j:Ue}}return null}function ct(Et){var fe=We(Et);if(fe!=null){var Y=T(Et[fe.min_i][fe.min_j]),le=T(Et[fe.min_i][fe.max_j]),ye=T(Et[fe.max_i][fe.min_j]);return{left:Y.length&&Y.offset().left,right:le.length&&le.offset().left+le.outerWidth(),top:Y.length&&Y.offset().top,bottom:ye.length&&ye.offset().top+ye.outerHeight()}}}function nt(Et,fe){if(T(Et).is(fe))we(),T(Et).addClass("fr-selected-cell");else{Ne(),s.edit.off();var Y=q(),le=ae(Et,Y),ye=ae(fe,Y);if(!le||!ye)return;var Ce=function te(pe,me,_e,je,pt){var mt,kt,Ut,At,Tt=pe,Bt=me,Xt=_e,Jt=je;for(mt=Tt;mt<=Bt;mt++)(1<(parseInt(T(pt[mt][Xt]).attr("rowspan"),10)||1)||1<(parseInt(T(pt[mt][Xt]).attr("colspan"),10)||1))&&(At=Le((Ut=ae(pt[mt][Xt],pt)).row,Ut.col,pt),Tt=Math.min(Ut.row,Tt),Bt=Math.max(At.row,Bt),Xt=Math.min(Ut.col,Xt),Jt=Math.max(At.col,Jt)),(1<(parseInt(T(pt[mt][Jt]).attr("rowspan"),10)||1)||1<(parseInt(T(pt[mt][Jt]).attr("colspan"),10)||1))&&(At=Le((Ut=ae(pt[mt][Jt],pt)).row,Ut.col,pt),Tt=Math.min(Ut.row,Tt),Bt=Math.max(At.row,Bt),Xt=Math.min(Ut.col,Xt),Jt=Math.max(At.col,Jt));for(kt=Xt;kt<=Jt;kt++)(1<(parseInt(T(pt[Tt][kt]).attr("rowspan"),10)||1)||1<(parseInt(T(pt[Tt][kt]).attr("colspan"),10)||1))&&(At=Le((Ut=ae(pt[Tt][kt],pt)).row,Ut.col,pt),Tt=Math.min(Ut.row,Tt),Bt=Math.max(At.row,Bt),Xt=Math.min(Ut.col,Xt),Jt=Math.max(At.col,Jt)),(1<(parseInt(T(pt[Bt][kt]).attr("rowspan"),10)||1)||1<(parseInt(T(pt[Bt][kt]).attr("colspan"),10)||1))&&(At=Le((Ut=ae(pt[Bt][kt],pt)).row,Ut.col,pt),Tt=Math.min(Ut.row,Tt),Bt=Math.max(At.row,Bt),Xt=Math.min(Ut.col,Xt),Jt=Math.max(At.col,Jt));return Tt==pe&&Bt==me&&Xt==_e&&Jt==je?{min_i:pe,max_i:me,min_j:_e,max_j:je}:te(Tt,Bt,Xt,Jt,pt)}(Math.min(le.row,ye.row),Math.max(le.row,ye.row),Math.min(le.col,ye.col),Math.max(le.col,ye.col),Y);we(),Et.classList.add("fr-cell-fixed"),fe.classList.add("fr-cell-handler");for(var Ue=Ce.min_i;Ue<=Ce.max_i;Ue++)for(var Be=Ce.min_j;Be<=Ce.max_j;Be++)T(Et).closest("table").is(T(Y[Ue][Be]).closest("table"))&&T(Y[Ue][Be]).addClass("fr-selected-cell")}}function st(Et){var fe=null,Y=T(Et.target);return Et.target.tagName=="TD"||Et.target.tagName=="TH"?fe=Et.target:0<Y.closest("th",Y.closest("thead")[0]).length?fe=Y.closest("th",Y.closest("thead")[0]).get(0):0<Y.closest("td",Y.closest("tr")[0]).length&&(fe=Y.closest("td",Y.closest("tr")[0]).get(0)),s.$el.html.toString().search(fe)===-1?null:fe}function Me(){we(),s.popups.hide("table.edit")}function tt(Et){var fe=st(Et);if(T(fe).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;if(0<ro().length&&!fe&&Me(),!s.edit.isDisabled()||s.popups.isVisible("table.edit")){if(Et.which!=1||Et.which==1&&s.helpers.isMac()&&Et.ctrlKey)(Et.which==3||Et.which==1&&s.helpers.isMac()&&Et.ctrlKey)&&fe&&Me();else if(a=!0,fe){0<ro().length&&!Et.shiftKey&&Me(),Et.stopPropagation(),s.events.trigger("image.hideResizer"),s.events.trigger("video.hideResizer"),ge=!0;var Y=fe.tagName.toLowerCase();Et.shiftKey&&0<s.$el.find("".concat(Y,".fr-selected-cell")).length?T(s.$el.find("".concat(Y,".fr-selected-cell")).closest("table")).is(T(fe).closest("table"))?nt(f,fe):Ne():((s.keys.ctrlKey(Et)||Et.shiftKey)&&Et.currentTarget.tagName==="TD"&&(1<ro().length||T(fe).find(s.selection.element()).length===0&&!T(fe).is(s.selection.element()))&&Ne(),f=fe,0<s.opts.tableEditButtons.length&&nt(f,f))}}}function ze(Et){var fe=s.popups.areVisible();if(!s.edit.isDisabled()&&fe&&!fe.hasClass("fr-do-not-hide"))return!0;var Y=st(Et);if(ro().length===1&&Y===null&&(s.toolbar.enable(),we()),(ro().length===1&&Y&&Y.tagName!=="TD"&&Y.tagName!=="TH"||!ge&&!s.$tb.is(Et.target)&&!s.$tb.is(T(Et.target).closest(".fr-toolbar")))&&(s.toolbar.enable(),we()),(Et.target.tagName==="BODY"||Et.target.tagName==="HTML")&&!Y&&0<ro().length&&s.toolbar.enable(),!(Et.which!=1||Et.which==1&&s.helpers.isMac()&&Et.ctrlKey)){if(a=!1,ge)if(ge=!1,st(Et)||ro().length!=1)if(0<ro().length){if(s.browser.mozilla&&!s.selection.isCollapsed()){var le=ro()[ro().length-1],ye=s.doc.createRange();s.selection.get().removeAllRanges(),ye.setStart(le,0),ye.setEnd(le,0),ye.collapse(),s.selection.get().addRange(ye)}s.selection.isCollapsed()?(B(),s.toolbar.enable()):(we(),s.edit.on())}else ro().length||(s.$el.removeClass("fr-no-selection"),s.edit.on());else we();if(O){O=!1,b.removeClass("fr-moving"),s.$el.removeClass("fr-no-selection"),s.edit.on();var Ce=parseFloat(b.css("left"))+s.opts.tableResizerOffset+s.$wp.offset().left;s.opts.iframe&&(Ce-=s.$iframe.offset().left),b.data("release-position",Ce),b.removeData("max-left"),b.removeData("max-right"),function(){var Be=b.data("origin"),te=b.data("release-position");if(Be!==te){var pe=b.data("first"),me=b.data("second"),_e=b.data("table"),je=_e.outerWidth();if(s.undo.canDo()||s.undo.saveStep(),pe!=null&&me!=null){var pt,mt,kt,Ut=q(_e),At=[],Tt=[],Bt=[],Xt=[];for(pt=0;pt<Ut.length;pt++)mt=T(Ut[pt][pe]),kt=T(Ut[pt][me]),At[pt]=mt.outerWidth(),Bt[pt]=kt.outerWidth(),Tt[pt]=At[pt]/je*100,Xt[pt]=Bt[pt]/je*100;for(pt=0;pt<Ut.length;pt++)if(mt=T(Ut[pt][pe]),kt=T(Ut[pt][me]),Ut[pt][pe]!=Ut[pt][me]){var Jt=(Tt[pt]*(At[pt]+te-Be)/At[pt]).toFixed(4);mt.css("width",Jt+"%"),kt.css("width",(Tt[pt]+Xt[pt]-Jt).toFixed(4)+"%")}}else{var on,_n=_e.parent(),Dn=parseFloat(_n.css("padding-left")),to=parseFloat(_n.css("padding-right")),hs=Dn+to,Bs=je/(_n.width()-hs)*100,ps=(parseInt(_e.css("margin-left"),10)||0)/_n.width()*100,Is=(parseInt(_e.css("margin-right"),10)||0)/_n.width()*100;s.opts.direction=="rtl"&&me===0||s.opts.direction!="rtl"&&me!==0?(on=(je+te-Be)/je*Bs,_e.css("margin-right","calc(100% - ".concat(Math.round(on).toFixed(4),"% - ").concat(Math.round(ps).toFixed(4),"%)"))):(s.opts.direction=="rtl"&&me!==0||s.opts.direction!="rtl"&&me===0)&&(on=(je-te+Be)/je*Bs,_e.css("margin-left","calc(100% - ".concat(Math.round(on).toFixed(4),"% - ").concat(Math.round(Is).toFixed(4),"%)"))),_e.css("width","".concat(Math.round(on).toFixed(4),"%"))}s.selection.restore(),s.undo.saveStep(),s.events.trigger("table.resized",[_e.get(0)])}b.removeData("origin"),b.removeData("release-position"),b.removeData("first"),b.removeData("second"),b.removeData("table")}(),ft()}}}function Ze(Et){if((!(T(Et.currentTarget).is(T(Et.originalEvent.relatedTarget))||Et.currentTarget.contains(Et.originalEvent.relatedTarget)||Et.originalEvent.relatedTarget&&Et.originalEvent.relatedTarget.contains(Et.currentTarget))||Et.currentTarget.querySelector("input, textarea"))&&(s.events.$on(T("input, textarea"),"click",ms),ge===!0&&0<s.opts.tableEditButtons.length)){if(T(Et.currentTarget).closest("table").is(Xo()))return void nt(f,Et.currentTarget);Et.currentTarget.tagName!=="TD"&&Et.currentTarget.tagName!=="TH"&&Ne()}}function qe(Et,fe,Y,le){for(var ye,Ce=fe;Ce!=s.el&&Ce.tagName!="TD"&&Ce.tagName!="TH"&&(le=="up"?ye=Ce.previousElementSibling:le=="down"&&(ye=Ce.nextElementSibling),!ye);)Ce=Ce.parentNode;Ce.tagName=="TD"||Ce.tagName=="TH"?function(Be,te){for(var pe=Be;pe&&pe.tagName!="TABLE"&&pe.parentNode!=s.el;)pe=pe.parentNode;if(pe&&pe.tagName=="TABLE"){var me=q(T(pe));te=="up"?Fe(ae(Be,me),pe,me):te=="down"&&Ye(ae(Be,me),pe,me)}}(Ce,le):ye&&(le=="up"&&s.selection.setAtEnd(ye),le=="down"&&s.selection.setAtStart(ye))}function Fe(Et,fe,Y){0<T(".tribute-container").length&&T(".tribute-container").css("display")!="none"||(0<Et.row?s.selection.setAtEnd(Y[Et.row-1][Et.col]):qe(0,fe,0,"up"))}function Ye(Et,fe,Y){if(!(0<T(".tribute-container").length&&T(".tribute-container").css("display")!="none")){var le=parseInt(Y[Et.row][Et.col].getAttribute("rowspan"),10)||1;Et.row<Y.length-le?s.selection.setAtStart(Y[Et.row+le][Et.col]):qe(0,fe,0,"down")}}function xt(Et){var fe=Et.which,Y=s.selection.blocks();if(Y.length&&((Y=Y[0]).tagName!=="P"&&Y.tagName!=="DIV"||(Y=Y.parentNode),Y.tagName=="TD"||Y.tagName=="TH")){for(var le=Y;le&&le.tagName!="TABLE"&&le.parentNode!=s.el;)le=le.parentNode;if(le&&le.tagName=="TABLE"&&(x.KEYCODE.ARROW_LEFT==fe||x.KEYCODE.ARROW_UP==fe||x.KEYCODE.ARROW_RIGHT==fe||x.KEYCODE.ARROW_DOWN==fe)&&(0<ro().length&&Me(),s.browser.webkit&&(x.KEYCODE.ARROW_UP==fe||x.KEYCODE.ARROW_DOWN==fe))){if(!function(Be,te,pe){if(!Be)return!1;var me=Be.tagName==="TD"||Be.tagName==="TH"?Be:T(Be).parentsUntil(s.el,"td, th").get(0);if(!me)return!1;if(me.textContent.trim().length<=0&&me.children.length===1&&me.children[0].tagName==="BR")return!0;if((me.tagName==="TD"||me.tagName==="TH")&&Be&&Be.nodeType!==Node.TEXT_NODE)if(Be.children&&0<Be.children.length){var _e=te>Be.children.length?Be.children.length-1:te-1,je=Be.children[_e]||Be.firstChild;je&&typeof je.textContent=="string"&&(te=(Be=je).textContent.trim().length-1)}else Be.firstChild&&typeof Be.firstChild.textContent=="string"&&(Be=Be.firstChild,te=Be.textContent.trim().length-1);var pt=document.createRange();pt.selectNodeContents(me);var mt,kt=pt.getBoundingClientRect();if(Be.textContent.trim().length<=0&&Be.getBoundingClientRect)mt=Be.getBoundingClientRect();else{var Ut=Be;Be.nodeType!==Node.TEXT_NODE&&(Ut=function(Bt){for(var Xt=document.createTreeWalker(Bt,NodeFilter.SHOW_TEXT,null,!1),Jt=null;Xt.nextNode();)Jt=Xt.currentNode;return Jt}(Be),te=Ut&&pe==="up"?Ut.textContent.length:0);var At=document.createRange();At.setStart(Ut||Be,te),At.collapse(!0),mt=At.getBoundingClientRect()}{if(pe==="up"){if(Be.tagName==="BR"){if(me.firstChild.isSameNode(Be))return!0;if(Be.previousSibling&&(s.node.isBlock(Be.previousSibling)||s.node.isVoid(Be.previousSibling)))return!1}return Math.abs(mt.top-kt.top)<=6}if(pe==="down"){if(Be.tagName==="BR"){if(me.lastChild.isSameNode(Be))return!0;if(Be.nextSibling&&(s.node.isBlock(Be.nextSibling)||s.node.isVoid(Be.nextSibling)))return me.lastChild.isSameNode(Be.nextSibling)||!1}return Math.abs(kt.bottom-mt.bottom)<=6}}return!1}(s.selection.ranges(0).startContainer,s.selection.ranges(0).startOffset,x.KEYCODE.ARROW_UP==fe?"up":"down"))return;Et.preventDefault(),Et.stopPropagation();var ye=q(T(le)),Ce=ae(Y,ye);return x.KEYCODE.ARROW_UP==fe?Fe(Ce,le,ye):x.KEYCODE.ARROW_DOWN==fe&&Ye(Ce,le,ye),s.selection.restore(),!1}}}function ft(){b&&(b.find("div").css("opacity",0),b.css("top",0),b.css("left",0),b.css("height",0),b.find("div").css("height",0),b.hide())}function Ot(){$&&$.removeClass("fr-visible").css("left","-9999px")}function Rt(Et,fe){var Y,le=T(fe);le&&(Y=le.closest("table"));var ye=Y.parent();if(fe&&fe.tagName!="TD"&&fe.tagName!="TH"&&(0<le.closest("td").length?fe=le.closest("td"):0<le.closest("th").length&&(fe=le.closest("th"))),!fe||fe.tagName!="TD"&&fe.tagName!="TH")b&&le.get(0)!=b.get(0)&&le.parent().get(0)!=b.get(0)&&s.core.sameInstance(b)&&ft();else{if(le=T(fe),s.$el.find(le).length===0)return!1;var Ce=le.offset().left-1,Ue=Ce+le.outerWidth();if(Math.abs(Et.pageX-Ce)<=s.opts.tableResizerOffset||Math.abs(Ue-Et.pageX)<=s.opts.tableResizerOffset){var Be,te,pe,me,_e,je=q(Y),pt=ae(fe,je),mt=Le(pt.row,pt.col,je),kt=Y.offset().top,Ut=Y.outerHeight()-1;s.opts.direction!="rtl"?Et.pageX-Ce<=s.opts.tableResizerOffset?(pe=Ce,0<pt.col?(me=Ce-bn(pt.col-1,je)+s.opts.tableResizingLimit,_e=Ce+bn(pt.col,je)-s.opts.tableResizingLimit,Be=pt.col-1,te=pt.col):(Be=null,te=0,me=Y.offset().left-1-parseInt(Y.css("margin-left"),10),_e=Y.offset().left-1+Y.width()-je[0].length*s.opts.tableResizingLimit)):Ue-Et.pageX<=s.opts.tableResizerOffset&&(pe=Ue,mt.col<je[mt.row].length&&je[mt.row][mt.col+1]?(me=Ue-bn(mt.col,je)+s.opts.tableResizingLimit,_e=Ue+bn(mt.col+1,je)-s.opts.tableResizingLimit,Be=mt.col,te=mt.col+1):(Be=mt.col,te=null,me=Y.offset().left-1+je[0].length*s.opts.tableResizingLimit,_e=ye.offset().left-1+ye.width()+parseFloat(ye.css("padding-left")))):Ue-Et.pageX<=s.opts.tableResizerOffset?(pe=Ue,0<pt.col?(me=Ue-bn(pt.col,je)+s.opts.tableResizingLimit,_e=Ue+bn(pt.col-1,je)-s.opts.tableResizingLimit,Be=pt.col,te=pt.col-1):(Be=null,te=0,me=Y.offset().left+je[0].length*s.opts.tableResizingLimit,_e=ye.offset().left-1+ye.width()+parseFloat(ye.css("padding-left")))):Et.pageX-Ce<=s.opts.tableResizerOffset&&(pe=Ce,mt.col<je[mt.row].length&&je[mt.row][mt.col+1]?(me=Ce-bn(mt.col+1,je)+s.opts.tableResizingLimit,_e=Ce+bn(mt.col,je)-s.opts.tableResizingLimit,Be=mt.col+1,te=mt.col):(Be=mt.col,te=null,me=ye.offset().left+parseFloat(ye.css("padding-left")),_e=Y.offset().left-1+Y.width()-je[0].length*s.opts.tableResizingLimit)),b||function(){s.shared.$table_resizer||(s.shared.$table_resizer=T(document.createElement("div")).attr("class","fr-table-resizer").html("<div></div>")),b=s.shared.$table_resizer,s.events.$on(b,"mousedown",function(_n){return!s.core.sameInstance(b)||(0<ro().length&&Me(),_n.which==1?(s.selection.save(),O=!0,b.addClass("fr-moving"),Ne(),s.edit.off(),b.find("div").css("opacity",1),!1):void 0)}),s.events.$on(b,"mousemove",function(_n){if(!s.core.sameInstance(b))return!0;O&&(s.opts.iframe&&(_n.pageX-=s.$iframe.offset().left),Mn(_n))});var on=function(Dn){O&&ze(Dn)};window.addEventListener("mouseup",on,!0),s.events.on("destroy",function(){window.removeEventListener("mouseup",on,!0)},!0),s.events.on("shared.destroy",function(){b.html("").removeData().remove(),b=null},!0),s.events.on("destroy",function(){s.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),T("body").first().append(b.hide())},!0)}(),b.data("table",Y),b.data("first",Be),b.data("second",te),b.data("instance",s),s.$wp.append(b);var At=pe-s.win.pageXOffset-s.opts.tableResizerOffset-s.$wp.offset().left,Tt=kt-s.$wp.offset().top+s.$wp.scrollTop();if(s.opts.iframe){var Bt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),Xt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));At+=s.$iframe.offset().left+Xt,Tt+=s.$iframe.offset().top+Bt,me+=s.$iframe.offset().left,_e+=s.$iframe.offset().left}b.data("max-left",me),b.data("max-right",_e),b.data("origin",pe-s.win.pageXOffset),b.css("top",Tt),b.css("left",At),b.css("height",Ut),b.find("div").css("height",Ut),b.css("padding-left",s.opts.tableResizerOffset),b.css("padding-right",s.opts.tableResizerOffset),b.show()}else s.core.sameInstance(b)&&ft()}}function zt(Et,fe){if(s.$box.find(".fr-line-breaker").isVisible())return!1;$||Hn(),s.$box.append($),$.data("instance",s);var Y,le=T(fe).find("tr").first(),ye=Et.pageX,Ce=0,Ue=0;if(s.opts.iframe){var Be=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),te=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));Ce+=s.$iframe.offset().left-s.helpers.scrollLeft()+te,Ue+=s.$iframe.offset().top-s.helpers.scrollTop()+Be}le.find("th, td").each(function(){var pe=T(this);return pe.offset().left<=ye&&ye<pe.offset().left+pe.outerWidth()/2?(Y=parseInt($.find("a").css("width"),10),$.css("top",Ue+pe.offset().top-s.$box.offset().top-Y-5),$.css("left",Ce+pe.offset().left-s.$box.offset().left-Y/2),$.data("selected-cell",pe),$.data("position","before"),$.addClass("fr-visible"),!1):pe.offset().left+pe.outerWidth()/2<=ye&&ye<pe.offset().left+pe.outerWidth()?(Y=parseInt($.find("a").css("width"),10),$.css("top",Ue+pe.offset().top-s.$box.offset().top-Y-5),$.css("left",Ce+pe.offset().left-s.$box.offset().left+pe.outerWidth()-Y/2),$.data("selected-cell",pe),$.data("position","after"),$.addClass("fr-visible"),!1):void 0})}function Zt(Et,fe){if(s.$box.find(".fr-line-breaker").isVisible())return!1;$||Hn(),s.$box.append($),$.data("instance",s);var Y,le=T(fe),ye=Et.pageY,Ce=0,Ue=0;if(s.opts.iframe){var Be=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),te=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));Ce+=s.$iframe.offset().left-s.helpers.scrollLeft()+te,Ue+=s.$iframe.offset().top-s.helpers.scrollTop()+Be}le.find("tr").each(function(){var pe=T(this);Y=parseInt($.find("a").css("width"),10);var me=Ce+pe.offset().left-s.$box.offset().left;return me=s.$box.offset().left!==0?me-Y-5:me+Y-5,pe.offset().top<=ye&&ye<pe.offset().top+pe.outerHeight()/2?($.css("top",Ue+pe.offset().top-s.$box.offset().top-Y/2),$.css("left",me),$.data("selected-cell",pe.find("td").first()),$.data("position","above"),$.addClass("fr-visible"),!1):pe.offset().top+pe.outerHeight()/2<=ye&&ye<pe.offset().top+pe.outerHeight()?($.css("top",Ue+pe.offset().top-s.$box.offset().top+pe.outerHeight()-Y/2),$.css("left",me),$.data("selected-cell",pe.find("td").first()),$.data("position","below"),$.addClass("fr-visible"),!1):void 0})}function wn(Et,fe){var Y=T(Et);Y.removeClass(fe),Y.length&&Y.get(0).hasAttribute("class")&&!Y.attr("class").trim()&&Y.removeAttr("class")}function Zn(){L[s.id]&&(wn(L[s.id],"fr-table-selector-active fr-table-selector-active-selected"),L[s.id].addClass("fr-table-selector-inactive"),wn(s.$el.find("table.fr-table-selection-hover"),"fr-table-selection-hover"))}function et(){wn(s.$el.find("table.fr-table-selected"),"fr-table-selected fr-table-selection-hover"),Zn()}function wt(Et){s.$box.append(L[s.id]),L[s.id].data("instance",s);var fe=Et.offset().left-s.$box.offset().left+16,Y=Et.offset().top-s.$box.offset().top-L[s.id].outerHeight();if(s.opts.iframe){var le=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),ye=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));fe+=s.$iframe.offset().left-s.helpers.scrollLeft()+ye,Y+=s.$iframe.offset().top-s.helpers.scrollTop()+le}L[s.id].css("top",Y),L[s.id].css("left",fe)}function It(Et){N=null;var fe=s.doc.elementFromPoint(Et.pageX-s.win.pageXOffset,Et.pageY-s.win.pageYOffset);s.opts.tableResizer&&(!s.popups.areVisible()||s.popups.areVisible()&&s.popups.isVisible("table.edit"))&&Rt(Et,fe),!s.opts.tableInsertHelper||s.popups.areVisible()||s.$tb.hasClass("fr-inline")&&s.$tb.isVisible()||function(le,ye){if(ro().length===0){var Ce,Ue,Be;if(ye&&(ye.tagName=="HTML"||ye.tagName=="BODY"||s.node.isElement(ye)))for(Ce=1;Ce<=s.opts.tableInsertHelperOffset;Ce++){if(Ue=s.doc.elementFromPoint(le.pageX-s.win.pageXOffset,le.pageY-s.win.pageYOffset+Ce),T(Ue).hasClass("fr-tooltip"))return!0;if(Ue&&(Ue.tagName=="TH"||Ue.tagName=="TD"||Ue.tagName=="TABLE")&&(T(Ue).parents(".fr-wrapper").length||s.opts.iframe)&&T(Ue).closest("table").attr("contenteditable")!="false")return zt(le,T(Ue).closest("table")),!0;if(Be=s.doc.elementFromPoint(le.pageX-s.win.pageXOffset+Ce,le.pageY-s.win.pageYOffset),T(Be).hasClass("fr-tooltip"))return!0;if(Be&&(Be.tagName=="TH"||Be.tagName=="TD"||Be.tagName=="TABLE")&&(T(Be).parents(".fr-wrapper").length||s.opts.iframe)&&T(Be).closest("table").attr("contenteditable")!="false")return Zt(le,T(Be).closest("table")),!0}s.core.sameInstance($)&&Ot()}}(Et,fe),function(le,ye){var Ce=T(ye),Ue=s.$el.find("table.fr-table-selection-hover"),Be=s.$el.find("table.fr-table-selected");if(s.node.isElement(ye)||s.node.isElement(Ce.parents(".fr-view").first().get(0))||s.core.sameInstance(Ce)||s.core.sameInstance(Ce.parents("div.fr-table-selector"))){if(!Ce.parents(".fr-table-selector").length){var te=Ce.closest("table").filter(function(){return!(!s.$el||!s.$el.length)&&s.$el.get(0).contains(this)});te.length?(wt(te),L[s.id].addClass("fr-table-selector-active"),wn(L[s.id],"fr-table-selector-inactive"),wn(Ue,"fr-table-selection-hover"),Be.length&&L[s.id].toggleClass("fr-table-selector-active-selected",Be.get(0)===te.get(0)),te.addClass("fr-table-selection-hover")):Ue.length&&Math.abs(Ue.offset().top-le.pageY)<5||L[s.id].hasClass("fr-table-selector-inactive")||Zn()}}else Be.length||Zn()}(Et,fe)}function nn(){if(O){var Et=b.data("table").offset().top-s.win.pageYOffset;if(s.opts.iframe){var fe=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top"));Et+=s.$iframe.offset().top-s.helpers.scrollTop()+fe}b.css("top",Et)}}function bn(Et,fe){var Y,le=T(fe[0][Et]).outerWidth();for(Y=1;Y<fe.length;Y++)le=Math.min(le,T(fe[Y][Et]).outerWidth());return le}function kn(Et,fe,Y){var le,ye=0;for(le=Et;le<=fe;le++)ye+=bn(le,Y);return ye}function Mn(Et){if(1<ro().length&&a&&Ne(),a===!1&&ge===!1&&O===!1)N&&clearTimeout(N),s.edit.isDisabled()&&!s.popups.isVisible("table.edit")||(N=setTimeout(It,30,Et));else if(O){var fe=Et.pageX-s.win.pageXOffset;s.opts.iframe&&(fe+=s.$iframe.offset().left);var Y=b.data("max-left"),le=b.data("max-right");Y<=fe&&fe<=le?b.css("left",fe-s.opts.tableResizerOffset-s.$wp.offset().left):fe<Y&&parseFloat(b.css("left"),10)>Y-s.opts.tableResizerOffset?b.css("left",Y-s.opts.tableResizerOffset-s.$wp.offset().left):le<fe&&parseFloat(b.css("left"),10)<le-s.opts.tableResizerOffset&&b.css("left",le-s.opts.tableResizerOffset-s.$wp.offset().left)}else a&&Ot()}function vn(Et){s.node.isEmpty(Et.get(0))?s.opts.keepTextFormatOnTable&&s.browser.mozilla?Et.append(x.MARKERS):Et.prepend(x.MARKERS):Et.prepend(x.START_MARKER).append(x.END_MARKER)}function Hn(){s.shared.$ti_helper||(s.shared.$ti_helper=T(document.createElement("div")).attr("class","fr-insert-helper").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Insert"),'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a>')),s.events.bindClick(s.shared.$ti_helper,"a",function(){var Et=$.data("selected-cell"),fe=$.data("position"),Y=$.data("instance")||s;fe=="before"||fe=="after"?(s.undo.saveStep(),Et.addClass("fr-selected-cell"),Y.table.insertColumn(fe),Et.removeClass("fr-selected-cell"),s.undo.saveStep()):(fe=="above"||fe=="below")&&(s.undo.saveStep(),Et.addClass("fr-selected-cell"),Y.table.insertRow(fe),Et.removeClass("fr-selected-cell"),s.undo.saveStep()),Ot()}),s.events.on("shared.destroy",function(){s.shared.$ti_helper.html("").removeData().remove(),s.shared.$ti_helper=null},!0),s.events.$on(s.shared.$ti_helper,"mousemove",function(Et){Et.stopPropagation()},!0),s.events.$on(T(s.o_win),"scroll",function(){Ot()},!0),s.events.$on(s.$wp,"scroll",function(){Ot()},!0)),$=s.shared.$ti_helper,s.events.on("destroy",function(){$=null}),s.tooltip.bind(s.$box,".fr-insert-helper > a.fr-floating-btn")}function So(){f=null,clearTimeout(N)}function ro(){return s.el.querySelectorAll(".fr-selected-cell")}function Xo(){var Et=ro(),fe=s.$el.find("table.fr-table-selected");if(Et.length){for(var Y=Et[0];Y&&Y.tagName!="TABLE"&&Y.parentNode!=s.el;)Y=Y.parentNode;return Y&&Y.tagName=="TABLE"?T(Y):T([])}return fe.length?T(fe.get(0)):T([])}function zn(Et){var fe=s.popups.get("table.tableProperties"),Y=fe.find(".fr-table-alignment-container"),le=Y.find(".fr-table-".concat(Et,"-align")).get(0);Y.find(".fr-table-left-align").get(0).innerHTML=s.icon.create("leftTableAlign"),Y.find(".fr-table-center-align").get(0).innerHTML=s.icon.create("centerTableAlign"),Y.find(".fr-table-right-align").get(0).innerHTML=s.icon.create("rightTableAlign"),le.innerHTML=s.icon.create("".concat(Et,"TableAlignActive")),le.focus(),fe.data("tableAlign",Et)}function cs(){var Et={buttons:"",table_properties_form:`
         <div class="fr-table-properties-form">
            <div class="fr-table-properties-section">
              <label>Background</label>
              <div class="fr-table-bg-container">
                <div class="fr-input-line">
                  <input type="text" title="`.concat(s.language.translate("Custom background color input"),`" id="fr-table-bg" class="fr-input" placeholder="Color" tabIndex="1" aria-required="true">
                </div>
                <button title="`).concat(s.language.translate("Background color picker"),`" role="button" type="button" class="fr-command fr-enable-accessibility fr-btn-table-bg-color" data-param1="table" tabIndex="2" data-cmd="openColorPicker">
                  <div class="fr-color-preview">
                    <div class="fr-color-preview-indicator"></div>
                  </div>
                </button>
              </div>
              <label>Border</label>
              <div class="fr-table-border-container">
                <div class="fr-input-line">
                  <label class="fr-field-lable">Style</label>
                  <div class= "fr-buttons fr-border-style"> `).concat(s.button.build("tableBorderStyle",x.COMMANDS.tableBorderStyle,!0),`</div>
                </div>
                <div class="fr-input-line">
                  <input  title="`).concat(s.language.translate("Custom border color input"),`" id="fr-table-border-color" class="fr-input" type="text" placeholder="Color" tabIndex="3" aria-required="true">
                </div>
                <button  title="`).concat(s.language.translate("Border color picker"),`" role="button" type="button" class="fr-command fr-btn-table-border-bg-color fr-enable-accessibility" tabIndex="4" data-param1="border" data-cmd="openColorPicker">
                  <div class="fr-border-color-preview">
                    <div class="fr-border-color-preview-indicator"></div>
                  </div>
                </button>
                <div class="fr-input-line">
                  <input  title="`).concat(s.language.translate("Border width"),`" id="fr-table-border-width" type="text" class="fr-input" placeholder="Width" tabIndex="5" aria-required="true">
                </div>
              </div>
              <div class="fr-table-dimentions-section">
                <div>
                  <label>Dimentions</label>
                  <div class="fr-table-dimentions-container">
                    <div class="fr-input-line">
                      <input title="`).concat(s.language.translate("Table width"),`" type="text" id="fr-table-width" placeholder="Width" tabIndex="6">
                    </div>
                    <span class="fr-dimension-separator"></span>
                    <div class="fr-input-line">
                      <input title="`).concat(s.language.translate("Table height"),`" type="text" id="fr-table-height" placeholder="Height" tabIndex="7">
                    </div>
                  </div>
                </div>
                <div class="fr-table-alignment-section">
                  <label>Alignment</label>
                  <div class="fr-table-alignment-container">
                    <button title="`).concat(s.language.translate("Left align"),'" class="fr-enable-accessibility fr-command fr-table-left-align" data-param1="left" data-cmd="tableAlign" tabIndex="8">').concat(s.icon.create("leftTableAlign"),`</button>
                    <button title="`).concat(s.language.translate("Center align"),'" class="fr-enable-accessibility fr-command fr-table-center-align" data-param1="center" data-cmd="tableAlign" tabIndex="9">').concat(s.icon.create("centerTableAlign"),`</button>
                    <button title="`).concat(s.language.translate("Right align"),'" class="fr-enable-accessibility fr-command fr-table-right-align" data-param1="right" data-cmd="tableAlign" tabIndex="10">').concat(s.icon.create("rightTableAlign"),`</button>
                  </div>
                </div>
              </div>
              <label>Table style</label>
              <div class="fr-table-style-container">
                <div class="fr-input-line">
                  <label class="fr-field-lable">Style</label>
                  <div class= "fr-buttons fr-table-style"> `).concat(s.button.build("tableStyle",x.COMMANDS.tableStyle,!0),`</div>
                </div>
              </div>
            </div>
            <div class="fr-table-properties-buttons">
              <button title="`).concat(s.language.translate("Cancel"),`" role="button" type="button" class="fr-enable-accessibility fr-command fr-cancel-button" tabIndex="11" data-cmd="onCancel">Cancel</button>
              <button title="`).concat(s.language.translate("Save"),`" role="button" type="button" class="fr-enable-accessibility fr-command fr-save-button" tabIndex="12" data-cmd="applyTableProperties">Save</button>
            </div>
          </div>
        `)},fe=s.popups.create("table.tableProperties",Et),Y=function(ye,Ce,Ue){fe.find(ye).on("keydown",function(Be){var te=T(Be.target),pe=Be.which;pe!==x.KEYCODE.ENTER&&pe!==x.KEYCODE.ARROW_DOWN&&pe!==x.KEYCODE.SPACE||te.hasClass("fr-active")||!te.is("button")||(Ce&&Ue&&s.button.click(te),Be.preventDefault(),Be.stopPropagation()),setTimeout(function(){if(pe===x.KEYCODE.TAB&&Ce&&Ue){var me=Be.shiftKey?fe.find(Ce):fe.find(Ue);me&&me.length&&me.focus(),Be.preventDefault(),Be.stopPropagation()}},10)})};return Y(".fr-border-style > button",".fr-btn-table-bg-color","#fr-table-border-color"),Y(".fr-border-style > .fr-dropdown-menu li",".fr-btn-table-bg-color","#fr-table-border-color"),Y(".fr-table-style > button",".fr-table-right-align",".fr-cancel-button"),Y(".fr-table-style > .fr-dropdown-menu li",".fr-table-right-align",".fr-cancel-button"),Y(".fr-save-button",".fr-cancel-button","#fr-table-bg"),fe}function ms(){ge=!1}return{_init:function(){if(!s.$wp)return!1;if(s.helpers.isMobile()&&(s.events.$on(s.$el,"mousedown",tt),s.events.$on(s.$win,"mouseup",ze)),!s.helpers.isMobile()){O=ge=a=!1,s.events.$on(s.$el,"mousedown",tt),s.popups.onShow("image.edit",function(){we(),ge=a=!1}),s.popups.onShow("link.edit",function(){we(),ge=a=!1}),s.events.$on(s.$el,"mouseover","th, td",Ze),s.events.$on(s.$win,"mouseup",ze),s.opts.iframe&&s.events.$on(T(s.o_win),"mouseup",ze),s.events.$on(s.$win,"mousemove",Mn),s.events.$on(T(s.o_win),"scroll",nn),s.events.on("contentChanged",function(){Zn(),0<ro().length&&!s.popups.isVisible("table.tableProperties")&&(B(),s.$el.find("img").on("load.selected-cells",function(){T(this).off("load.selected-cells"),0<ro().length&&B()}))}),s.events.$on(T(s.o_win),"resize",function(){we()}),s.events.on("toolbar.esc",function(){if(0<ro().length)return s.events.disableBlur(),s.events.focus(),!1},!0),s.events.$on(T(s.o_win),"keydown",function(){a&&ge&&(ge=a=!1,s.$el.removeClass("fr-no-selection"),s.edit.on(),s.selection.setAtEnd(s.$el.find(".fr-selected-cell").last().get(0)),s.selection.restore(),we())}),s.events.$on(s.$el,"keydown",function(Ce){Ce.shiftKey?function(Be){var te=ro();if(te!=null&&0<te.length){var pe,me=q(),_e=Be.which,je=ae(te.length==1?pe=te[0]:(pe=s.el.querySelector(".fr-cell-fixed"),s.el.querySelector(".fr-cell-handler")),me);if(x.KEYCODE.ARROW_RIGHT==_e){if(je.col<me[0].length-1)return nt(pe,me[je.row][je.col+1]),!1}else if(x.KEYCODE.ARROW_DOWN==_e){if(je.row<me.length-1)return nt(pe,me[je.row+1][je.col]),!1}else if(x.KEYCODE.ARROW_LEFT==_e){if(0<je.col)return nt(pe,me[je.row][je.col-1]),!1}else if(x.KEYCODE.ARROW_UP==_e&&0<je.row)return nt(pe,me[je.row-1][je.col]),!1}}(Ce)===!1&&setTimeout(function(){B()},0):xt(Ce)}),s.events.on("keydown",function(Ce){if(function(_n){if(_n.which==x.KEYCODE.TAB){var Dn;if(0<ro().length)Dn=s.$el.find(".fr-selected-cell").last();else{var to=s.selection.element();to.tagName=="TD"||to.tagName=="TH"?Dn=T(to):to!=s.el&&(0<T(to).parentsUntil(s.$el,"td").length?Dn=T(to).parents("td").first():0<T(to).parentsUntil(s.$el,"th").length&&(Dn=T(to).parents("th").first()))}if(Dn)return _n.preventDefault(),!!(s.selection.get().focusOffset===0&&0<T(s.selection.element()).parentsUntil(s.$el,"ol, ul").length&&(0<T(s.selection.element()).closest("li").prev().length||T(s.selection.element()).is("li")&&0<T(s.selection.element()).prev().length))||(Me(),_n.shiftKey?0<Dn.prev().length?vn(Dn.prev()):0<Dn.closest("tr").length&&0<Dn.closest("tr").prev().length?vn(Dn.closest("tr").prev().find("td").last()):0<Dn.closest("tbody").length&&0<Dn.closest("table").find("thead tr").length&&vn(Dn.closest("table").find("thead tr th").last()):0<Dn.next().length?vn(Dn.next()):0<Dn.closest("tr").length&&0<Dn.closest("tr").next().length?vn(Dn.closest("tr").next().find("td").first()):0<Dn.closest("thead").length&&0<Dn.closest("table").find("tbody tr").length?vn(Dn.closest("table").find("tbody tr td").first()):(Dn.addClass("fr-selected-cell"),W("below"),we(),vn(Dn.closest("tr").next().find("td").first())),s.selection.restore(),!1)}}(Ce)===!1)return!1;var Ue=function(){we(),et(),Ce.preventDefault(),Ce.stopPropagation()},Be=s.$el.find("table.fr-table-selected"),te=Ce.which;if(Be.length&&!s.keys.isArrow(Ce.which)&&te!==x.KEYCODE.TAB&&te!==x.KEYCODE.ALT&&te!==x.KEYCODE.ESC){if(Ce.ctrlKey||Ce.metaKey||te===x.KEYCODE.SHIFT)return!0;M(),s.undo.saveStep(),Ue();var pe=s.html.defaultTag();if(te===x.KEYCODE.ENTER||s.keys.isCharacter(te)&&!Ce.ctrlKey&&!Ce.metaKey){var me,_e=te===x.KEYCODE.ENTER;me=pe?_e?"<".concat(pe,' id="cursor-marker"></').concat(pe,">"):"<".concat(pe,' id="cursor-marker"> ').concat(te===x.KEYCODE.SPACE?"&nbsp;":Ce.key,"</").concat(pe,">"):_e?'<br id="cursor-marker">':"".concat(te===x.KEYCODE.SPACE?"&nbsp;":Ce.key,' <br id="cursor-marker">'),s.html.insert(me,!0,!0);var je=s.$el.find("#cursor-marker").get(0);je&&je.parentNode&&setTimeout(function(){var on=s.doc.createRange();on.setStart(je,_e?0:1),on.setEnd(je,_e?0:1),on.collapse(!0);var _n=s.selection.get();_n.removeAllRanges(),_n.addRange(on),s.$el.focus()},0),je.removeAttribute("id")}return!1}if(Be.length&&s.keys.isArrow(Ce.which)){var pt=Ce.which===x.KEYCODE.ARROW_DOWN||Ce.which===x.KEYCODE.ARROW_RIGHT,mt=Ce.which===x.KEYCODE.ARROW_UP||Ce.which===x.KEYCODE.ARROW_LEFT;if(pt||mt){var kt=pt?Be.next():Be.prev();if(kt&&kt.length&&kt[0].nodeType===Node.ELEMENT_NODE){var Ut=kt[0];if(Ut.tagName==="UL"||Ut.tagName==="OL"){var At=Ut.querySelectorAll("li");0<At.length&&(Ut=At[At.length-1])}(Ut.childNodes.length===0||Ut.childNodes.length===1&&Ut.firstChild.nodeName==="BR")&&(Ut.innerHTML="",Ut.appendChild(document.createTextNode("")));var Tt=s.doc.createRange();pt?Tt.setStartBefore(kt[0]):(Tt.selectNodeContents(Ut),Tt.collapse(!1));var Bt=s.selection.get();Bt.removeAllRanges(),Bt.addRange(Tt),setTimeout(function(){s.events.disableBlur(),s.$el[0].focus(),s.events.enableBlur()},0)}}return Ue(),!1}!(Ce.ctrlKey||Ce.metaKey)&&Be.length&&(we(),et()),Zn();var Xt=ro();if(0<Xt.length){if(0<Xt.length&&s.keys.ctrlKey(Ce)&&Ce.which==x.KEYCODE.A)return we(),s.popups.isVisible("table.edit")&&s.popups.hide("table.edit"),Xt=[],!0;if(Ce.which==x.KEYCODE.ESC&&s.popups.isVisible("table.edit"))return we(),s.popups.hide("table.edit"),Ce.preventDefault(),Ce.stopPropagation(),Ce.stopImmediatePropagation(),!(Xt=[]);if(1<Xt.length&&(Ce.which==x.KEYCODE.BACKSPACE||Ce.which==x.KEYCODE.DELETE)){s.undo.saveStep();for(var Jt=0;Jt<Xt.length;Jt++)T(Xt[Jt]).html("<br>"),Jt==Xt.length-1&&T(Xt[Jt]).prepend(x.MARKERS);return s.selection.restore(),s.undo.saveStep(),!(Xt=[])}if(1<Xt.length&&Ce.which!=x.KEYCODE.F10&&!s.keys.isBrowserAction(Ce))return Ce.preventDefault(),!(Xt=[])}else if(!(Xt=[])===function(_n){if(_n.altKey&&_n.which==x.KEYCODE.SPACE){var Dn,to=s.selection.element();if(to.tagName=="TD"||to.tagName=="TH"?Dn=to:0<T(to).closest("td").length?Dn=T(to).closest("td").get(0):0<T(to).closest("th").length&&(Dn=T(to).closest("th").get(0)),Dn)return _n.preventDefault(),nt(Dn,Dn),B(),!1}}(Ce))return!1},!0);var fe=null,Y=[];s.events.on("html.beforeGet",function(){Y=ro();for(var Ce=0;Ce<Y.length;Ce++)Y[Ce].className=(Y[Ce].className||"").replace(/fr-selected-cell/g,"");(fe=s.$el.find("table.fr-table-selected"))&&fe.length&&wn(fe,"fr-table-selected")}),s.events.on("html.afterGet",function(){for(var Ce=0;Ce<Y.length;Ce++)Y[Ce].className=(Y[Ce].className?Y[Ce].className.trim()+" ":"")+"fr-selected-cell";Y=[],fe&&fe.length&&fe.addClass("fr-table-selected")});var le=!1,ye=["applytextColor","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","applybackgroundColor","inlineClass","inlineStyle","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote","clearFormatting"];s.events.on("commands.before",function(Ce,Ue){if(!le&&1<ro().length&&ye.indexOf(Ce)!==-1){s.undo.saveStep(),s.selection.save(),s.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder");var Be=x.COMMANDS[Ce].undo;x.COMMANDS[Ce].undo=!1,le=!0;for(var te={},pe=0;pe<ro().length;pe++){var me=ro()[pe],_e=me.closest("tr").rowIndex;te[_e]||(te[_e]=[]),te[_e].push(me)}for(var je in te){var pt=te[je];s.selection.get().removeAllRanges();var mt=s.doc.createRange();mt.setStartBefore(pt[0]),mt.setEndAfter(pt[pt.length-1]),s.selection.get().addRange(mt),s.commands.exec(Ce,[Ue])}return s.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),s.selection.restore(),s.undo.saveStep(),x.COMMANDS[Ce].undo=Be,le=!1}}),s.events.on("dragover",Me),s.events.on("element.dropped",function(Ce){Me(),ge=a=!1;var Ue=st({target:Ce.get(0)});Ue&&(nt(Ue,Ue),B())}),P(!0),j(!0),se()}s.events.on("destroy",So)},insert:function(fe,Y){var le=function(){var pt={startTag:"",closeTag:""};if(s.opts.keepTextFormatOnTable){var mt=T(s.selection.element().firstChild).parentsUntil(s.$el);pt=ie(mt)}return{startTag:pt.startTag,closeTag:pt.closeTag}}(),ye=[];s.opts.tableDefaultWidth&&ye.push("width: "+s.opts.tableDefaultWidth+";"),s.opts.tableDefaultHeight&&ye.push("height: "+s.opts.tableDefaultHeight+";"),ye.push("margin: auto;"),s.opts.tableDefaultAlign==="left"?ye.push("float: left;"):s.opts.tableDefaultAlign==="right"&&ye.push("float: right;"),s.opts.tableDefaultBorderColor&&ye.push("border-color: "+s.opts.tableDefaultBorderColor+";"),s.opts.tableDefaultBorderWidth&&ye.push("border-width: "+s.opts.tableDefaultBorderWidth+";"),s.opts.tableDefaultBorderStyle&&ye.push("border-style: "+s.opts.tableDefaultBorderStyle+";"),s.opts.tableDefaultBGColor&&ye.push("background-color: "+s.opts.tableDefaultBorderStyle+";");var Ce,Ue,Be=ye.join(" "),te="<table "+(Be?'style="'+Be+'"':"")+' class="fr-inserted-table"><tbody>',pe=100/Y;for(Ce=0;Ce<fe;Ce++){for(te+="<tr>",Ue=0;Ue<Y;Ue++)te+="<td"+(s.opts.tableDefaultWidth?' style="width: '+pe.toFixed(4)+'%;"':"")+">"+le.startTag,Ce===0&&Ue===0&&(te+=x.MARKERS),te+="<br>"+le.closeTag+"</td>";te+="</tr>"}if(te+="</tbody></table>",s.opts.trackChangesEnabled){s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.markers.insert(),s.html.wrap();var me=s.$el.find(".fr-marker");s.node.isLastSibling(me)&&me.parent().hasClass("fr-deletable")&&me.insertAfter(me.parent()),me.replaceWith(te),s.selection.clear()}else s.html.insert(te);s.selection.restore();var _e=s.$el.find(".fr-inserted-table");wn(_e,"fr-inserted-table"),s.events.trigger("table.inserted",[_e.get(0)])},remove:M,insertRow:W,deleteRow:function(){var fe=Xo();if(0<fe.length){var Y,le,ye,Ce=q(),Ue=We(Ce);if(Ue==null)return;if(Ue.min_i===0&&Ue.max_i==Ce.length-1)M();else{for(Y=Ue.max_i;Y>=Ue.min_i;Y--){for(ye=T(fe.find("tr").not(fe.find("> table tr")).get(Y)),le=0;le<Ce[Y].length;le++)if(le===0||Ce[Y][le]!=Ce[Y][le-1]){var Be=T(Ce[Y][le]);if(1<parseInt(Be.attr("rowspan"),10)){var te=parseInt(Be.attr("rowspan"),10)-1;te==1?Be.removeAttr("rowspan"):Be.attr("rowspan",te)}if(Y<Ce.length-1&&Ce[Y][le]==Ce[Y+1][le]&&(Y===0||Ce[Y][le]!=Ce[Y-1][le])){for(var pe=Ce[Y][le],me=le;0<me&&Ce[Y][me]==Ce[Y][me-1];)me--;me===0?T(fe.find("tr").not(fe.find("> table tr")).get(Y+1)).prepend(pe):T(Ce[Y+1][me-1])[0].parentNode&&T(Ce[Y+1][me-1])[0].insertAdjacentElement("afterend",pe)}}var _e=ye.parent();ye.remove(),_e.find("tr").length===0&&_e.remove(),Ce=q(fe)}J(0,Ce.length-1,0,Ce[0].length-1,fe),0<Ue.min_i?s.selection.setAtEnd(Ce[Ue.min_i-1][0]):s.selection.setAtEnd(Ce[0][0]),s.selection.restore(),s.popups.hide("table.edit")}}},insertColumn:function(fe){var Y=Xo();if(0<Y.length){var le,ye=q(),Ce=We(ye);le=fe=="before"?Ce.min_j:Ce.max_j;var Ue,Be=100/ye[0].length,te=100/(ye[0].length+1);Y.find("th, td").each(function(){(Ue=T(this)).data("old-width",Ue.outerWidth()/Y.outerWidth()*100)}),Y.find("tr").not(Y.find("> table tr")).each(function(pe){for(var me,_e=T(this),je=0,pt=0;je-1<le;){if(!(me=_e.find("> th, > td").get(pt))){me=null;break}me==ye[pe][je]?(je+=parseInt(T(me).attr("colspan"),10)||1,pt++):(je+=parseInt(T(ye[pe][je]).attr("colspan"),10)||1,fe=="after"&&(me=pt===0?-1:_e.find("> th, > td").get(pt-1)))}var mt=T(me);if(fe=="after"&&le<je-1||fe=="before"&&0<le&&ye[pe][le]==ye[pe][le-1]){if(pe===0||0<pe&&ye[pe][le]!=ye[pe-1][le]){var kt=parseInt(mt.attr("colspan"),10)+1;mt.attr("colspan",kt),mt.css("width",(mt.data("old-width")*te/Be+te).toFixed(4)+"%"),mt.removeData("old-width")}}else{var Ut,At=(mt.get(0)||"").tagName;if(0<_e.find("th").length&&At==="TH")Ut='<th style="width: '.concat(te.toFixed(4),'%;"><br></th>');else{var Tt=re(ye[pe][le]);Ut='<td style="'.concat(mt.attr("style"),"; width: ").concat(te.toFixed(4),'%;">')+Tt.startTag+"<br>"+Tt.closeTag+"</td>"}T(Ut).append("<br>"),T(Ut).css("width","".concat(te.toFixed(4),"%")),me==-1?_e.prepend(Ut):me==null?_e.append(Ut):fe=="before"?mt.before(Ut):fe=="after"&&mt.after(Ut)}}),Y.find("th, td").each(function(){(Ue=T(this)).data("old-width")&&(Ue.css("width",(Ue.data("old-width")*te/Be).toFixed(4)+"%"),Ue.removeData("old-width"))}),s.popups.isVisible("table.edit")&&B()}},deleteColumn:function(){var fe=Xo();if(0<fe.length){var Y,le,ye,Ce=q(),Ue=We(Ce);if(Ue==null)return;if(Ue.min_j===0&&Ue.max_j==Ce[0].length-1)M();else{var Be=0;for(Y=0;Y<Ce.length;Y++)for(le=0;le<Ce[0].length;le++)(ye=T(Ce[Y][le])).hasClass("fr-selected-cell")||(ye.data("old-width",ye.outerWidth()/fe.outerWidth()*100),(le<Ue.min_j||le>Ue.max_j)&&(Be+=ye.outerWidth()/fe.outerWidth()*100));for(Be/=Ce.length,le=Ue.max_j;le>=Ue.min_j;le--)for(Y=0;Y<Ce.length;Y++)if(Y===0||Ce[Y][le]!=Ce[Y-1][le])if(ye=T(Ce[Y][le]),1<(parseInt(ye.attr("colspan"),10)||1)){var te=parseInt(ye.attr("colspan"),10)-1;te==1?ye.removeAttr("colspan"):ye.attr("colspan",te),ye.css("width",(100*(ye.data("old-width")-bn(le,Ce))/Be).toFixed(4)+"%"),ye.removeData("old-width")}else{var pe=T(ye.parent().get(0));ye.remove(),pe.find("> th, > td").length===0&&(pe.prev().length===0||pe.next().length===0||pe.prev().find("> th[rowspan], > td[rowspan]").length<pe.prev().find("> th, > td").length)&&pe.remove()}J(0,Ce.length-1,0,Ce[0].length-1,fe),0<Ue.min_j?s.selection.setAtEnd(Ce[Ue.min_i][Ue.min_j-1]):s.selection.setAtEnd(Ce[Ue.min_i][0]),s.selection.restore(),s.popups.hide("table.edit"),fe.find("th, td").each(function(){(ye=T(this)).data("old-width")&&(ye.css("width",(100*ye.data("old-width")/Be).toFixed(4)+"%"),ye.removeData("old-width"))})}}},mergeCells:function(){if(1<ro().length&&(s.$el.find("th.fr-selected-cell").length===0||s.$el.find("td.fr-selected-cell").length===0)){Ee();var fe,Y,le=We(q());if(le==null)return;var ye=s.$el.find(".fr-selected-cell"),Ce=T(ye[0]),Ue=Ce.parent().find(".fr-selected-cell"),Be=Ce.closest("table"),te=Ce.html(),pe=0;for(fe=0;fe<Ue.length;fe++)pe+=T(Ue[fe]).outerWidth();for(Ce.css("width",Math.min(100,pe/Be.outerWidth()*100).toFixed(4)+"%"),le.min_j<le.max_j&&Ce.attr("colspan",le.max_j-le.min_j+1),le.min_i<le.max_i&&Ce.attr("rowspan",le.max_i-le.min_i+1),fe=1;fe<ye.length;fe++)(Y=T(ye[fe])).html()!="<br>"&&Y.html()!==""&&(te+="<br>".concat(Y.html())),Y.remove();Ce.html(te),s.selection.setAtEnd(Ce.get(0)),s.selection.restore(),s.toolbar.enable(),R(le.min_i,le.max_i,Be);var me=Be.find("tr:empty");for(fe=me.length-1;0<=fe;fe--)T(me[fe]).remove();K(le.min_j,le.max_j,Be),B()}},splitCellVertically:function(){if(ro().length==1){var fe=s.$el.find(".fr-selected-cell"),Y=parseInt(fe.attr("colspan"),10)||1,le=fe.parent().outerWidth(),ye=fe.outerWidth(),Ce=fe.clone().html("<br>"),Ue=q(),Be=ae(fe.get(0),Ue);if(1<Y){var te=Math.ceil(Y/2);ye=kn(Be.col,Be.col+te-1,Ue)/le*100;var pe=kn(Be.col+te,Be.col+Y-1,Ue)/le*100;1<te?fe.attr("colspan",te):fe.removeAttr("colspan"),1<Y-te?Ce.attr("colspan",Y-te):Ce.removeAttr("colspan"),fe.css("width",ye.toFixed(4)+"%"),Ce.css("width",pe.toFixed(4)+"%")}else{var me;for(me=0;me<Ue.length;me++)if(me===0||Ue[me][Be.col]!=Ue[me-1][Be.col]){var _e=T(Ue[me][Be.col]);if(!_e.is(fe)){var je=(parseInt(_e.attr("colspan"),10)||1)+1;_e.attr("colspan",je)}}ye=ye/le*100/2,fe.css("width","".concat(ye.toFixed(4),"%")),Ce.css("width","".concat(ye.toFixed(4),"%"))}fe[0].parentNode&&fe[0].insertAdjacentElement("afterend",Ce[0]),we(),s.popups.hide("table.edit")}},splitCellHorizontally:function(){if(ro().length==1){var fe=s.$el.find(".fr-selected-cell"),Y=fe.parent(),le=fe.closest("table"),ye=parseInt(fe.attr("rowspan"),10),Ce=q(),Ue=ae(fe.get(0),Ce),Be=fe.clone().html("<br>");if(1<ye){var te=Math.ceil(ye/2);1<te?fe.attr("rowspan",te):fe.removeAttr("rowspan"),1<ye-te?Be.attr("rowspan",ye-te):Be.removeAttr("rowspan");for(var pe=Ue.row+te,me=Ue.col===0?Ue.col:Ue.col-1;0<=me&&(Ce[pe][me]==Ce[pe][me-1]||0<pe&&Ce[pe][me]==Ce[pe-1][me]);)me--;me==-1?T(le.find("tr").not(le.find("> table tr")).get(pe)).prepend(Be):T(Ce[pe][me])[0].parentNode&&T(Ce[pe][me])[0].insertAdjacentElement("afterend",Be[0])}else{var _e,je=T(document.createElement("tr")).append(Be);for(_e=0;_e<Ce[0].length;_e++)if(_e===0||Ce[Ue.row][_e]!=Ce[Ue.row][_e-1]){var pt=T(Ce[Ue.row][_e]);pt.is(fe)||pt.attr("rowspan",(parseInt(pt.attr("rowspan"),10)||1)+1)}Y[0].parentNode&&Y[0].insertAdjacentElement("afterend",je[0])}we(),s.popups.hide("table.edit")}},addHeader:function(){var fe=Xo();if(0<fe.length&&fe.find("> th").length===0){var Y,le="<thead><tr>",ye=0;for(ye=fe.find("tr").first().find("> th").length,fe.find("tr").first().find("> td").each(function(){var Ce=T(this);ye+=parseInt(Ce.attr("colspan"),10)||1}),Y=0;Y<ye;Y++)le+="<th><br></th>";le+="</tr></thead>",fe.prepend(le),B()}},addFooter:function(){var fe=Xo();if(0<fe.length&&fe.find("tfoot").length===0){var Y="<tfoot><tr>",le=0,ye=fe.find("thead tr").first();ye.length===0&&(ye=fe.find("tbody tr").first()),ye.find("th, td").each(function(){le+=parseInt(T(this).attr("colspan"),10)||1});for(var Ce=0;Ce<le;Ce++)Y+="<td><br></td>";Y+="</tr></tfoot>",fe.append(Y),B()}},removeHeader:function(){var fe=Xo(),Y=fe.find("> thead");if(0<(Y=T(Y)).length)if(fe.find("tbody tr").length===0)M();else if(Y.remove(),0<ro().length)B();else{s.popups.hide("table.edit");var le=fe.find("tbody tr").first().find("td").first().get(0);le&&(s.selection.setAtEnd(le),s.selection.restore())}},removeFooter:function(){var fe=Xo(),Y=fe.find("tfoot");if(0<Y.length)if(fe.find("tbody tr").length===0)M();else if(Y.remove(),0<ro().length)B();else{s.popups.hide("table.edit");var le=fe.find("tbody tr").first().find("td").first().get(0);le&&(s.selection.setAtEnd(le),s.selection.restore())}},setBackground:function(fe){var Y=s.$el.find(".fr-selected-cell");fe!="REMOVE"?Y.css("background-color",s.helpers.HEXtoRGB(fe)):Y.css("background-color","")},showInsertPopup:function(){var fe=s.$tb.find('.fr-command[data-cmd="insertTable"]'),Y=s.popups.get("table.insert");if(Y||(Y=P()),!Y.hasClass("fr-active")){s.popups.refresh("table.insert"),s.popups.setContainer("table.insert",s.$tb);var le=s.button.getPosition(fe),ye=le.left,Ce=le.top;s.popups.show("table.insert",ye,Ce,fe.outerHeight())}},showEditPopup:B,showColorsPopup:function(fe){var Y=q();if(Y){var le=s.popups.get("table.colors");le||(le=function(){var te="",pe=0;0<s.opts.tableColorsButtons.length&&(te='<div class="fr-buttons fr-colors-buttons fr-tabs">'.concat(s.button.buildList(s.opts.tableColorsButtons),"</div>"));var me="";s.opts.colorsHEXInput&&(me='<div class="fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'.concat(s.id,`">
        <div class="fr-input-line">
        <input maxlength="7" id="fr-table-colors-hex-layer-text" tabIndex="`).concat(++pe,'" type="text" placeholder="').concat(s.language.translate("HEX Color"),`" aria-required="true">
        </div>
        <div class="fr-action-buttons">
        <button type="button" class="fr-command fr-submit" tabIndex="`).concat(++pe,`" data-cmd="applyCustomColor" role="button">
        `).concat(s.language.translate("OK"),`
        </button>
        </div>
        </div>`));var _e={buttons:te,colors:function(){for(var mt='<div class="fr-color-set fr-table-colors">',kt=0;kt<s.opts.tableColors.length;kt++)kt!==0&&kt%s.opts.tableColorsStep==0&&(mt+="<br>"),s.opts.tableColors[kt]!="REMOVE"?mt+='<span class="fr-command fr-select-color" style="background: '.concat(s.opts.tableColors[kt],`;" tabIndex="-1" aria-selected="false" role="button" data-cmd='onSelectColor' data-param1="`).concat(s.opts.tableColors[kt],'"><span class="fr-sr-only">').concat(s.language.translate("Color")," ").concat(s.opts.tableColors[kt],"&nbsp;&nbsp;&nbsp;</span></span>"):mt+=`<span class="fr-command fr-select-color" data-cmd='onColorClear' tabIndex="-1" role="button" title="`.concat(s.language.translate("Clear Formatting"),'">').concat(s.icon.create("tableColorRemove"),'<span class="fr-sr-only">').concat(s.language.translate("Clear Formatting"),"</span></span>");return mt+="</div>"}(),custom_color:me},je=s.popups.create("table.colors",_e);return function(mt){s.events.on("popup.tab",function(kt){var Ut=T(kt.currentTarget);if(!s.popups.isVisible("table.colors")||!Ut.is("span, input, button"))return!0;var At,Tt,Bt=kt.which,Xt=!0;if(x.KEYCODE.TAB==Bt){var Jt=mt.find("span.fr-select-color");if(Ut.is(Jt.first())&&kt.shiftKey||Ut.is(mt.find("span.fr-submit"))&&!kt.shiftKey){var on=mt.find(".fr-buttons");Xt=!s.accessibility.focusToolbar(on,!!kt.shiftKey)}if(Xt!==!1){var _n=mt.find("span.fr-select-color");_n.add(mt.find("input")),_n.add(mt.find("button.fr-submit")),At=_n.index(Ut),At=kt.shiftKey?((At-1)%_n.length+_n.length)%_n.length:(At+1)%_n.length,Tt=_n.get(At),s.events.disableBlur(),Tt.focus(),Xt=!1}}else if(x.KEYCODE.ARROW_UP==Bt||x.KEYCODE.ARROW_DOWN==Bt||x.KEYCODE.ARROW_LEFT==Bt||x.KEYCODE.ARROW_RIGHT==Bt){var Dn=Ut.parent().find("span.fr-command"),to=Dn.index(Ut),hs=s.opts.colorsStep,Bs=Math.floor(Dn.length/hs),ps=to%hs,Is=Math.floor(to/hs),bs=Is*hs+ps,qo=Bs*hs;x.KEYCODE.ARROW_UP==Bt?bs=((bs-hs)%qo+qo)%qo:x.KEYCODE.ARROW_DOWN==Bt?bs=(bs+hs)%qo:x.KEYCODE.ARROW_LEFT==Bt?bs=((bs-1)%qo+qo)%qo:x.KEYCODE.ARROW_RIGHT==Bt&&(bs=(bs+1)%qo);var Do=T(Dn.get(bs));s.events.disableBlur(),Do.focus(),Xt=!1}else x.KEYCODE.ENTER==Bt&&(s.button.exec(Ut),Xt=!1);return Xt===!1&&(kt.preventDefault(),kt.stopPropagation()),Xt},!0)}(je),je}()),le.data("type",fe),s.popups.setContainer("table.colors",s.$sc);var ye=ct(Y),Ce=(ye.left+ye.right)/2,Ue=ye.bottom;(function(){var te=s.popups.get("table.colors"),pe=s.$el.find(".fr-selected-cell").first(),me=s.helpers.RGBToHex(pe.css("background-color")),_e=te.find(".fr-table-colors-hex-layer input");te.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),te.find('span[data-param1="'.concat(me,'"]')).addClass("fr-selected-color fr-active-item"),_e.val("")})(),s.popups.show("table.colors",Ce,Ue,ye.bottom-ye.top,!0)}},showTableProperties:function(){var fe=q();if(fe){var Y=s.popups.get("table.tableProperties");Y||(Y=cs());var le=Xo();Y.data("tableStyle",{}),Y.data("borderStyle","");var ye=le[0],Ce=ye&&ye.getAttribute("style")||"",Ue=!!Ce,Be=Ue&&/background(-color)?\s*:/i.test(Ce)?le.css("background-color"):"",te=Ue&&/border(-color)?\s*:/i.test(Ce)?le.css("border-color"):"",pe=Ue&&/border(-style)?\s*:/i.test(Ce)?le.css("border-style"):"",me=Ue&&/border(-width)?\s*:/i.test(Ce)?le[0].style.borderWidth:"",_e=Ue&&/(^|\s|;)width\s*:/i.test(Ce)&&ye?ye.style.width:"",je=Ue&&/(^|\s|;)height\s*:/i.test(Ce)&&ye?ye.style.height:"",pt=Ue&&/(^|\s|;)float\s*:/i.test(Ce)&&ye?ye.style.float:"center",mt="",kt={};if(le.is("[class]")){var Ut=le.attr("class").split(/\s+/),At=s.opts.tableStyles;kt=Ut.reduce(function(Dn,to){return At.hasOwnProperty(to)&&(Dn[to]=At[to]),Dn},{}),mt=Object.values(kt).join(", ")}var Tt=function(to,hs,Bs,ps){var Is=s.helpers.isRGBColor(ps)?s.helpers.RGBToHex(ps):ps;Y.find(to).val(Is),H(Y.find(hs),Y.find(Bs),Is)},Bt=Y.find(".fr-border-style").find(".fr-dropdown"),Xt=Y.find(".fr-table-style").find(".fr-dropdown");Tt("#fr-table-bg",".fr-color-preview",".fr-color-preview-indicator",Be),Tt("#fr-table-border-color",".fr-border-color-preview",".fr-border-color-preview-indicator",te),Bt.find("> span").text(pe),Xt.find("> span").text(mt||" "),zn(pt),setTimeout(function(){me&&Y.find("#fr-table-border-width").val(me).focus(),te&&Y.find("#fr-table-border-color").focus(),_e&&Y.find("#fr-table-width").val(_e).focus(),je&&Y.find("#fr-table-height").val(je).focus(),pe&&Y.data("borderStyle",pe),kt&&Y.data("tableStyle",kt),Y.find("#fr-table-bg").focus()},10),s.popups.setContainer("table.tableProperties",s.$sc);var Jt=ct(fe),on=(Jt.left+Jt.right)/2,_n=Jt.bottom;s.popups.show("table.tableProperties",on,_n,Jt.bottom-Jt.top,!0)}},hideTableProperties:function(){s.popups.hide("table.tableProperties")},updateTableAlign:zn,back:function(fe){if(s.popups.isVisible("table.colors")){s.popups.hide("table.colors");var Y=q();if(Y){var le=fe==="table"||fe==="border",ye=le?"table.tableProperties":"table.cellProperties",Ce=s.popups.get(ye);Ce||(Ce=le?cs():ee()),s.popups.setContainer(ye,s.$sc);var Ue,Be=ct(Y),te=Be.left+(Be.right-Be.left)/2,pe=Be.bottom;s.popups.show(ye,te,pe,Be.bottom-Be.top,!0),Ue=fe==="table"?".fr-btn-table-bg-color":fe==="border"?".fr-btn-table-border-bg-color":".fr-btn-cell-bg-color",Ce.find(Ue).focus()}}else 0<ro().length?B():(s.popups.hide("table.insert"),s.toolbar.showInline())},verticalAlign:function(fe){s.$el.find(".fr-selected-cell").css("vertical-align",fe)},horizontalAlign:function(fe){s.$el.find(".fr-selected-cell").css("text-align",fe)},applyStyle:function(fe,Y,le,ye){if(0<Y.length){if(s.opts.useClasses||(Y.get(0).tagName==="TABLE"?function Ue(Be,te){var pe=Be.childNodes;if(0<pe.length)for(var me=0;me<pe.length;me++)pe[me].tagName==="TD"?te==="fr-dashed-borders"||te==="fr-highlighted"||te==="fr-thick"?V(pe[me]):te==="fr-alternate-rows"&&pe[me].style.removeProperty("background-color"):Ue(pe[me],te)}(Y.get(0),fe):V(Y.get(0))),!le){var Ce=Object.keys(ye);Ce.splice(Ce.indexOf(fe),1),Y.removeClass(Ce.join(" "))}Y.toggleClass(fe)}},selectedTable:Xo,selectedCells:ro,customColor:function(){var fe=s.popups.get("table.colors").find(".fr-table-colors-hex-layer input"),Y=fe.val(),le=Y;Y&&Y.length&&(Y.indexOf("#")!==0&&(le="#"+Y),he(le)),fe.val("")},selectCells:nt,resetAll:w,showCellPropertiesPopup:function(){var fe=q();if(fe){var Y=s.popups.get("table.cellProperties")||ee();Y.find("#fr-cell-bg, #fr-cell-width, #fr-cell-height, #fr-cell-padding").val(""),w(),H(Y.find(".fr-color-preview"),Y.find(".fr-color-preview-indicator"),"");var le=s.table.selectedCells();if(le.length){var ye=null,Ce=!0,Ue=null,Be=!0,te=null,pe=!0,me=null,_e=!0,je=function(Xt){return Xt==="rgba(0, 100, 255, 0.15)"};Array.from(le).forEach(function(Bt,Xt){var Jt,on=T(Bt),_n=on.css("background-color");_n&&_n!=="rgba(0, 0, 0, 0)"&&_n!=="transparent"&&(Jt=s.helpers.RGBToHex(_n));var Dn=on.attr("data-cell-width"),to=on.attr("data-cell-height"),hs=on.attr("data-cell-padding");Xt===0?(Ue=Dn||null,te=to||null,me=hs||null,ye=Jt||null):(Dn!==Ue&&(Be=!1),to!==te&&(pe=!1),hs!==me&&(_e=!1),Jt!==ye&&(Ce=!1))});var pt="";if(le.length===1){var mt=T(le[0]),kt=mt.css("background-color");!(mt[0]&&mt[0].hasAttribute("style")&&/background(-color)?:/i.test(mt.attr("style")))&&je(kt)||(pt=s.helpers.isRGBColor(kt)?s.helpers.RGBToHex(kt):kt)}else Ce&&ye&&Array.from(le).every(function(Bt){var Xt=T(Bt),Jt=Bt.getAttribute("style")||"",on=/background(-color)?:/i.test(Jt),_n=Xt.css("background-color");return on||!je(_n)})&&(pt=s.helpers.isRGBColor(ye)?s.helpers.RGBToHex(ye):ye);Y.find("#fr-cell-bg").val(pt),H(Y.find(".fr-color-preview"),Y.find(".fr-color-preview-indicator"),pt),Be&&Ue&&Y.find("#fr-cell-width").val(Ue),pe&&te&&Y.find("#fr-cell-height").val(te),_e&&me&&Y.find("#fr-cell-padding").val(me),s.popups.setContainer("table.cellProperties",s.$sc);var Ut=ct(fe),At=Ut.left+(Ut.right-Ut.left)/2,Tt=Ut.bottom;s.popups.show("table.cellProperties",At,Tt,Ut.bottom-Ut.top,!0)}}},updateSelectedColor:he}},x.RegisterCommand("tableProperties",{title:"Table Properties",icon:"tablePropertiesIcon",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showTableProperties()}}),x.RegisterCommand("openColorPicker",{title:"Select color",focus:!1,popup:!0,callback:function(s,b){this.table.showColorsPopup(b)}}),x.RegisterCommand("onCancel",{title:"Cancel",callback:function(){this.popups.hide("table.tableProperties"),this.popups.hide("table.cellProperties"),this.table.showEditPopup()}}),x.RegisterCommand("applyCustomColor",{title:"OK",undo:!0,callback:function(){var s=this.popups.get("table.colors");this.table.back(s.data("type")),this.table.customColor()}}),x.RegisterCommand("onSelectColor",{undo:!0,focus:!1,callback:function(s,b){var $=this.popups.get("table.colors");this.table.back($.data("type")),this.table.updateSelectedColor(b)}}),x.RegisterCommand("tableAlign",{title:"Table Align",undo:!0,callback:function(s,b){this.table.updateTableAlign(b)}}),x.RegisterCommand("tableBorderStyle",{title:"",type:"dropdown",focus:!0,undo:!0,refreshAfterCallback:!0,displaySelection:function(s){return s.opts.tableBorderStyle},html:function(){for(var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.tableBorderStyle,$=0;$<b.length;$++)s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableBorderStyle" data-param1="'.concat(b[$],'" title="').concat(b[$],'">').concat(b[$],"</a></li>");return s+="</ul>"},callback:function(s,b){var $=this.popups.get("table.tableProperties"),ge=$.find(".fr-border-style").find(".fr-dropdown");ge.find("> span").text(b),$.data("borderStyle",b),ge.focus()},refreshOnShow:function(s,b){var $=this.popups.get("table.tableProperties").data("borderStyle");b.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),b.find('.fr-command[data-param1="'.concat($,'"]')).addClass("fr-active").attr("aria-selected",!0)}}),x.RegisterCommand("tableStyle",{title:"",type:"dropdown",focus:!0,undo:!0,displaySelectionWidth:"300",refreshAfterCallback:!0,displaySelection:function(s){return s.opts.tableStyles},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.tableStyles;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},callback:function(s,b){var $=this.popups.get("table.tableProperties"),ge=$.find(".fr-table-style").find(".fr-dropdown"),a=this.opts.tableStyles,f=$.data("tableStyle")||{};f[b]?delete f[b]:f[b]=a[b],$.data("tableStyle",f);var N=Object.keys(f).length?Object.values(f).join(", "):" ";ge.find("> span").text(N),ge.focus()},refreshOnShow:function(s,b){var $=this,ge=this.$el.find(".fr-selected-cell").closest("table"),a=this.popups.get("table.tableProperties");ge&&b.find(".fr-command").each(function(f,N){var O=$.$(N).data("param1"),T=a.data("tableStyle")&&a.data("tableStyle")[O];T&&$.$(N).toggleClass("fr-active",T).attr("aria-selected",T)})}}),x.RegisterCommand("onColorClear",{undo:!0,focus:!1,callback:function(){var s=this.popups.get("table.colors");this.table.back(s.data("type")),s.find("#fr-table-colors-hex-layer-text").val(""),this.table.updateSelectedColor("")}}),x.RegisterCommand("applyTableProperties",{title:"Apply Table Properties",undo:!0,focus:!0,callback:function(){var s=this.popups.get("table.tableProperties"),b=s.find("#fr-table-bg").val(),$=s.find("#fr-table-border-color").val(),ge=this.table.selectedTable(),a=s.find("#fr-table-width").val(),f=s.find("#fr-table-height").val(),N=s.find("#fr-table-border-width").val(),O=s.data("borderStyle"),T=s.data("tableAlign"),L=s.data("tableStyle"),B=!b||b==="REMOVE"||b==="transparent"||b==="rgba(0, 0, 0, 0)";ge.css("background-color",B?"":b);var G=!$||$==="REMOVE"||$==="transparent"||$==="rgba(0, 0, 0, 0)";ge.css("border-color",G?"":$);var P=function(H){if(H==="")return!0;var ee=H.trim();return/^-?\d+(\.\d+)?$/.test(ee)&&(ee+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(ee)?ee:null};if(a&&P(a)?ge.css("width",P(a)):ge.css("width",""),f&&P(f)?ge.css("height",P(f)):ge.css("height",""),N&&P(N)?ge.css("border-width",P(N)):ge.css("border-width",""),O&&ge.css("border-style",O),T==="center"?(ge.css("margin","auto"),ge.css("float","")):(ge.parent().is("li")&&ge.parent().css("display","list-item flow-root"),ge.css("float",T),ge.css("margin","")),ge.removeAttr("class"),L&&0<Object.keys(L).length)for(var F in L)L.hasOwnProperty(F)&&ge.addClass(F);this.popups.hide("table.tableProperties")}}),x.RegisterCommand("tableCellProperties",{title:"Cell Properties",icon:"tableCellProperties",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showCellPropertiesPopup()},refresh:function(s){var b=0<this.table.selectedCells().length;s.toggleClass("fr-disabled",!b).attr("aria-disabled",!b)}}),x.RegisterCommand("applyCellProperties",{title:"Apply Cell Properties",undo:!0,focus:!1,callback:function(){var s=this.$,b=this.popups.get("table.cellProperties"),$=function(P,F,j,H){var ee=s(P);j?(H&&ee.attr(H,j),j!==ee[0].style[F]&&(["width","height"].includes(F)&&ee.removeAttr(F),ee.css(F,j))):(ee.css(F,""),H&&ee.removeAttr(H),["width","height"].includes(F)&&ee.removeAttr(F))},ge=b.find("#fr-cell-bg").val(),a=b.find("#fr-cell-width").val(),f=b.find("#fr-cell-height").val(),N=b.find("#fr-cell-padding").val(),O=b.data("bg-modified")===!0,T=b.data("width-modified")===!0,L=b.data("height-modified")===!0,B=b.data("padding-modified")===!0;this.table.selectedCells().forEach(function(G){var P=s(G);if(O){var F=!ge||ge==="REMOVE"||ge==="transparent"||ge==="rgba(0, 0, 0, 0)";P.css("background-color",F?"":ge)}var j=function(ee){if(ee==="")return!0;var w=ee.trim();return/^-?\d+(\.\d+)?$/.test(w)&&(w+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(w)?w:null};T&&j(a)&&$(G,"width",a,"data-cell-width"),L&&j(f)&&$(G,"height",f,"data-cell-height"),B&&j(N)&&$(G,"padding",N,"data-cell-padding")}),this.table.resetAll(),this.popups.hide("table.cellProperties")}}),x.DefineIcon("insertTable",{NAME:"table",SVG_KEY:"insertTable"}),x.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),x.RegisterCommand("tableInsert",{callback:function(s,b,$){this.table.insert(b,$),this.popups.hide("table.insert")}}),x.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading",SVG_KEY:"tableHeader"}),x.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(s){var b=this.table.selectedTable();0<b.length&&(b.find("> thead").length===0?s.removeClass("fr-active").attr("aria-pressed",!1):s.addClass("fr-active").attr("aria-pressed",!0))}}),x.DefineIcon("tableFooter",{NAME:"table",FA5NAME:"table",SVG_KEY:"tableFooter"}),x.RegisterCommand("tableFooter",{title:"Table Footer",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableFooter"]').hasClass("fr-active")?this.table.removeFooter():this.table.addFooter()},refresh:function(s){var b=this.table.selectedTable();0<b.length&&(b.find("tfoot").length===0?s.removeClass("fr-active").attr("aria-pressed",!1):s.addClass("fr-active").attr("aria-pressed",!0))}}),x.DefineIcon("tableRows",{NAME:"bars",SVG_KEY:"row"}),x.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below",delete:"Delete row"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableRows.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+$+'" title="'+this.language.translate(b[$])+'">'+this.language.translate(b[$])+"</a></li>");return s+="</ul>"},callback:function(s,b){b=="above"||b=="below"?this.table.insertRow(b):this.table.deleteRow()}}),x.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90",SVG_KEY:"columns"}),x.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after",delete:"Delete column"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableColumns.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},callback:function(s,b){b=="before"||b=="after"?this.table.insertColumn(b):this.table.deleteColumn()}}),x.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square",SVG_KEY:"cellOptions"}),x.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableCells.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},callback:function(s,b){b=="merge"?this.table.mergeCells():b=="vertical-split"?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(s,b){1<this.$el.find(".fr-selected-cell").length?(b.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),b.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),b.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(b.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),b.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),b.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),x.DefineIcon("tableRemove",{NAME:"trash",SVG_KEY:"removeTable"}),x.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),x.DefineIcon("tableBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){var s=this.popups.get("table.colors");this.table.back(s.data("type"))}}),x.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"verticalAlignMiddle"}),x.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableCellVerticalAlign.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'.concat($.toLowerCase(),'" title="').concat(this.language.translate(b[$]),'">').concat(this.language.translate($),"</a></li>"));return s+="</ul>"},callback:function(s,b){this.table.verticalAlign(b)},refreshOnShow:function(s,b){b.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),x.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),x.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableCellHorizontalAlign.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.icon.create("align-".concat($)),'<span class="fr-sr-only">').concat(this.language.translate(b[$]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.table.horizontalAlign(b)},refresh:function(s){var b=this.table.selectedCells(),$=this.$;b.length&&s.find("> *").first().replaceWith(this.icon.create("align-".concat(this.helpers.getAlignment($(b[0])))))},refreshOnShow:function(s,b){b.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell").first())+'"]').addClass("fr-active").attr("aria-selected",!0)}}),x.DefineIcon("tableCellStyle",{NAME:"magic",SVG_KEY:"cellStyle"}),x.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.tableCellStyles;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.language.translate(b[$]),"</a></li>"));return s+="</ul>"},callback:function(s,b){this.table.applyStyle(b,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(s,b){var $=this.$,ge=this.$el.find(".fr-selected-cell").first();ge&&b.find(".fr-command").each(function(){var a=$(this).data("param1"),f=ge.hasClass(a);$(this).toggleClass("fr-active",f).attr("aria-selected",f)})}}),x.DefineIcon("tableColorRemove",{NAME:"eraser",SVG_KEY:"remove"}),x.DefineIcon("tableCellProperties",{template:"svgMultiplePath",PATHS:`
    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.513 3.25C20.9736 3.25 22.1577 4.43408 22.1577 5.89471V12.6517L22.1546 12.6526C21.8784 12.4577 21.6084 12.2933 21.3448 12.1593C21.1821 12.0767 21.0123 11.9963 20.8353 11.9183V8.53928H15.546V12.2584C15.3417 12.3719 15.1339 12.5033 14.9223 12.6526L12.7375 11.9949L11.6254 13.8287H8.93418V16.4735H12.9027C12.893 16.6127 12.8882 16.7519 12.8882 16.891C12.8882 17.1927 12.911 17.4943 12.9565 17.7959H3.64471C2.18408 17.7959 1 16.6118 1 15.1512V5.89471C1 4.43408 2.18408 3.25 3.64471 3.25H19.513ZM19.513 4.57235H15.546V7.21692H20.8353V5.89471C20.8353 5.16439 20.2433 4.57235 19.513 4.57235ZM8.93418 4.57235H14.2236V7.21692H8.93418V4.57235ZM3.64471 4.57235H7.61183V7.21692H2.32235V5.89471C2.32235 5.16439 2.91439 4.57235 3.64471 4.57235ZM2.32235 12.5063V8.53928H7.61183V12.5063H2.32235ZM2.32235 15.1512V13.8287H7.61183V16.4735H3.64471C2.91439 16.4735 2.32235 15.8815 2.32235 15.1512Z" fill="#333333"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133  16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307  19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>
  `}),x.DefineIcon("tablePropertiesIcon",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1577 5.89471C22.1577 4.43408 20.9736 3.25 19.513 3.25H3.64471C2.18408 3.25 1 4.43408 1 5.89471V15.1512C1 16.6118 2.18408 17.7959 3.64471 17.7959H12.9565C12.911 17.4943 12.8882 17.1927 12.8882 16.891C12.8882 16.7519 12.893 16.6127 12.9027 16.4735H8.93418V13.8287H11.6254L12.4273 12.5063H8.93418V8.53928H14.2236V12.4422L14.9223 12.6526C15.1339 12.5033 15.3417 12.3719 15.546 12.2584V8.53928H20.8353V11.9183C21.0123 11.9963 21.1821 12.0767 21.3448 12.1593C21.6084 12.2933 21.8784 12.4577 22.1546 12.6526L22.1577 12.6517V5.89471ZM15.546 4.57235H19.513C20.2433 4.57235 20.8353 5.16439 20.8353 5.89471V7.21692H15.546V4.57235ZM14.2236 4.57235H8.93418V7.21692H14.2236V4.57235ZM7.61183 4.57235H3.64471C2.91439 4.57235 2.32235 5.16439 2.32235 5.89471V7.21692H7.61183V4.57235ZM2.32235 8.53928V12.5063H7.61183V8.53928H2.32235ZM2.32235 13.8287V15.1512C2.32235 15.8815 2.91439 16.4735 3.64471 16.4735H7.61183V13.8287H2.32235Z" fill="#333333"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133 16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307 19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>
  `}),x.DefineIcon("leftTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>
    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>
    <path d="M18.3333 6.45801V7.79134H13V6.45801H18.3333Z" fill="#999998"/>
    <path d="M18.3333 9.12467V10.458H13V9.12467H18.3333Z" fill="#999998"/>
    <path d="M18.3333 11.7913V13.1247H13V11.7913H18.3333Z" fill="#999998"/>
    <path d="M10.3333 12.3333V13.6667H2.33333V12.3333H10.3333ZM10.3333 7H2.33333V13.6667C1.6431 13.6667 1.07495 13.1422 1.00651 12.4701L1 12.3333V7C1 6.26362 1.59695 5.66667 2.33333 5.66667H10.3333C11.0697 5.66667 11.6667 6.26362 11.6667 7V12.3333L11.6602 12.4701C11.5917 13.1422 11.0236 13.6667 10.3333 13.6667V7Z" fill="#333333"/>
  `}),x.DefineIcon("leftTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 6.95801V8.29134H13.5V6.95801H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 9.62467V10.958H13.5V9.62467H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 12.2913V13.6247H13.5V12.2913H18.8333Z" fill="#90B7FF"/>
    <path d="M10.8333 12.8333V14.1667H2.83333V12.8333H10.8333ZM10.8333 7.5H2.83333V14.1667C2.1431 14.1667 1.57495 13.6422 1.50651 12.9701L1.5 12.8333V7.5C1.5 6.76362 2.09695 6.16667 2.83333 6.16667H10.8333C11.5697 6.16667 12.1667 6.76362 12.1667 7.5V12.8333L12.1602 12.9701C12.0917 13.6422 11.5236 14.1667 10.8333 14.1667V7.5Z" fill="#2A77FF"/>
  `}),x.DefineIcon("centerTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>
    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>
    <path d="M13 12.3333V13.6667H6.33333V12.3333H13ZM13 7H6.33333V13.6667L6.19661 13.6602C5.56938 13.5963 5.07038 13.0973 5.00651 12.4701L5 12.3333V7C5 6.26362 5.59695 5.66667 6.33333 5.66667H13C13.7364 5.66667 14.3333 6.26362 14.3333 7V12.3333L14.3268 12.4701C14.263 13.0973 13.764 13.5963 13.1367 13.6602L13 13.6667V7Z" fill="#333333"/>
  `}),x.DefineIcon("centerTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>
    <path d="M13.5 12.8333V14.1667H6.83333V12.8333H13.5ZM13.5 7.5H6.83333V14.1667L6.69661 14.1602C6.06938 14.0963 5.57038 13.5973 5.50651 12.9701L5.5 12.8333V7.5C5.5 6.76362 6.09695 6.16667 6.83333 6.16667H13.5C14.2364 6.16667 14.8333 6.76362 14.8333 7.5V12.8333L14.8268 12.9701C14.763 13.5973 14.264 14.0963 13.6367 14.1602L13.5 14.1667V7.5Z" fill="#2A77FF"/>
 `}),x.DefineIcon("rightTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>
    <path d="M6.83333 6.95801V8.29134H1.5V6.95801H6.83333Z" fill="#90B7FF"/>
    <path d="M6.83333 9.62467V10.958H1.5V9.62467H6.83333Z" fill="#90B7FF"/>
    <path d="M6.83333 12.2913V13.6247H1.5V12.2913H6.83333Z" fill="#90B7FF"/>
    <path d="M17.5 12.8333V14.1667H9.5V12.8333H17.5ZM17.5 7.5H9.5V14.1667C8.80976 14.1667 8.24162 13.6422 8.17318 12.9701L8.16667 12.8333V7.5C8.16667 6.76362 8.76362 6.16667 9.5 6.16667H17.5C18.2364 6.16667 18.8333 6.76362 18.8333 7.5V12.8333L18.8268 12.9701C18.7584 13.6422 18.1902 14.1667 17.5 14.1667V7.5Z" fill="#2A77FF"/>
  `}),x.DefineIcon("rightTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>
    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>
    <path d="M6.33333 6.45801V7.79134H1V6.45801H6.33333Z" fill="#999998"/>
    <path d="M6.33333 9.12468V10.458H1V9.12468H6.33333Z" fill="#999998"/>
    <path d="M6.33333 11.7913V13.1247H1V11.7913H6.33333Z" fill="#999998"/>
    <path d="M17 12.3333V13.6667H9V12.3333H17ZM17 7H9V13.6667C8.30976 13.6667 7.74162 13.1422 7.67318 12.4701L7.66667 12.3333V7C7.66667 6.26362 8.26362 5.66667 9 5.66667H17C17.7364 5.66667 18.3333 6.26362 18.3333 7V12.3333L18.3268 12.4701C18.2584 13.1422 17.6902 13.6667 17 13.6667V7Z" fill="#333333"/>
  `}),x.DefineIcon("tableSelectorIcon",{template:"svgMultiplePath",VIEWBOX:"1 1 14 14",PATHS:`<mask id="mask0_85_21" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><rect width="16" height="16" fill="white"/></mask>
          <g mask="url(#mask0_85_21)"><path d="M3.33333 14C2.96667 14 2.65278 13.8694 2.39167 13.6083C2.13056 13.3472 2 13.0333 2 12.6667V10H3.33333V12.6667H6V14H3.33333ZM10 
          14V12.6667H12.6667V10H14V12.6667C14 13.0333 13.8694 13.3472 13.6083 13.6083C13.3472 13.8694 13.0333 14 12.6667 14H10ZM2 6V3.33333C2 2.96667 2.13056 2.65278 2.39167 
          2.39167C2.65278 2.13056 2.96667 2 3.33333 2H6V3.33333H3.33333V6H2ZM12.6667 6V3.33333H10V2H12.6667C13.0333 2 13.3472 2.13056 13.6083 2.39167C13.8694 2.65278 14 2.96667 
          14 3.33333V6H12.6667Z" fill="white"/> <rect opacity="0.4" x="4" y="4" width="8" height="8" fill="white"/></g>`}),x.URLRegEx="(^| |\\u00A0)(".concat(x.LinkRegEx,"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$"),x.PLUGINS.url=function(s){var b=s.$,$=null;function ge(T,L,B){for(var G="";B.length&&B[B.length-1]==".";)G+=".",B=B.substring(0,B.length-1);var P=B;if(s.opts.linkConvertEmailAddress)s.helpers.isEmail(P)&&!/^mailto:.*/i.test(P)&&(P="mailto:".concat(P));else if(s.helpers.isEmail(P))return L+B;return/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(P)||(P="//".concat(P)),(L||"")+"<a".concat(s.opts.linkAlwaysBlank?' target="_blank"':"").concat($?' rel="'.concat($,'"'):"",' data-fr-linked="true" href="').concat(P,'">').concat(B.replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</a>").concat(G)}var a=function(){return new RegExp(x.URLRegEx,"gi")};function f(T){return s.opts.linkAlwaysNoFollow&&($="nofollow"),s.opts.linkAlwaysBlank&&(s.opts.linkNoOpener&&($?$+=" noopener":$="noopener"),s.opts.linkNoReferrer&&($?$+=" noreferrer":$="noreferrer")),T.replace(a(),ge)}function N(T){var L=T.split(" ");return L[L.length-1]}function O(){var T=s.selection.ranges(0),L=T.startContainer;if(L.nodeType!==Node.TEXT_NODE)return!1;if(!L||T.startOffset!==(L.textContent||"").length){s.markers.insert();var B=s.$el.find(".fr-marker"),G=L.textContent.match(/(^| |\u00A0)(((([a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})(\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))|((ftp|http|https):\/\/[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})|(www\.[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}\.[a-z0-9-]{2,24})|((ftp|http|https):\/\/[\u0021-\uffff]{1,}@[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}))((:[0-9]{1,5})|)(((\/|\?|#)[a-z\u00a1-\uffff0-9@?\|!^=%&amp;\/~+#-\'*-_{}]*)|())|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\.[a-z0-9+-_]{1,}))$/gi);if(B.remove(),!G)return!1}if(function he(be){return!!be&&(be.tagName==="A"||!(!be.parentNode||be.parentNode==s.el)&&he(be.parentNode))}(L))return!1;if(a().test(N(L.textContent))){var P,F=L.textContent.length;if(0<F&&L.textContent.charAt(F-1)===","){b(L).before(f(L.textContent.substring(0,F-1))),(P=b(L.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"),L.textContent=",";var j=s.win.getSelection().getRangeAt(0);j.setStart(L,1),j.setEnd(L,1)}else b(L).before(f(L.textContent)),(P=b(L.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"),L.parentNode.removeChild(L);s.events.trigger("url.linked",[P.get(0)])}else if(L.textContent.split(" ").length<=2&&L.previousSibling&&L.previousSibling.tagName==="A"){var H=L.previousSibling.innerText+L.textContent,ee=L.textContent.length;if(a().test(N(H))&&L.textContent.charAt(ee-1)!==","){var w=new DOMParser().parseFromString(f(H),"text/html").body.childNodes;L.parentNode.replaceChild(w[0],L.previousSibling),w.length&&b(L).before(w[0]),L.parentNode.removeChild(L)}}}return{_init:function(){s.events.on("keypress",function(L){!s.selection.isCollapsed()||L.key!=")"&&L.key!="("||O()},!0),s.events.on("keydown",function(L){var B=L.which;!s.selection.isCollapsed()||B!=x.KEYCODE.ENTER&&B!=x.KEYCODE.SPACE||O()},!0),s.events.on("paste.beforeCleanup",function(L){if(s.helpers.isURL(L)&&!s.$el[0].getAttribute("plainpaste")){var B=null;return s.opts.linkAlwaysBlank&&(s.opts.linkNoOpener&&(B?B+=" noopener":B="noopener"),s.opts.linkNoReferrer&&(B?B+=" noreferrer":B="noreferrer")),"<a".concat(s.opts.linkAlwaysBlank?' target="_blank"':"").concat(B?' rel="'.concat(B,'"'):"",' href="').concat(L,'" >').concat(L,"</a>")}if(s.$el[0].getAttribute("plainpaste"))return function(P){if(typeof P=="string")return(P=P.replace(/&amp;/g,"&")).replace(/(?:https?|ftp|file):\/\/(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$'\u2019"`()[\]{}\\])|www\.(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$'\u2019"`()[\]{}\\])|(?:[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]{2,})|(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z]{2,}(?:\/[^\s<]*)?/gim,f)}(L)})}}},Object.assign(x.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(x.DEFAULTS,{videoAllowedTypes:["mp4","webm","ogg","mp3","mpeg","url"],videoAllowedProviders:[".*"],videoDefaultAlign:"center",videoDefaultDisplay:"block",videoDefaultWidth:600,videoEditButtons:["videoReplace","videoRemove","videoDisplay","videoAlign","videoSize","autoplay"],videoInsertButtons:["videoBack","|","videoByURL","videoEmbed","videoUpload"],videoMaxSize:52428800,videoMove:!0,videoResize:!0,videoResponsive:!1,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoUpload:!0,videoUploadMethod:"POST",videoUploadParam:"file",videoUploadParams:{},videoUploadToS3:!1,videoUploadToAzure:!1,videoUploadURL:null}),x.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\/?((shorts\/)|(v=))?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|shorts\/)?([0-9a-zA-Z_\-]+)(.*)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque&rel=0" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],x.VIDEO_EMBED_REGEX=/^\W*(<div[^>]*>\s*<iframe[^>]*>.*?<\/iframe>\s*<\/div>(\s*<script[^>]*>.*?<\/script>)?|<iframe[^>]*>.*?<\/iframe>|<embed(.|\n)*>)\W*$/i,x.PLUGINS.video=function(s){var b,$,ge,a,f,N,O=s.$,T="https://i.froala.com/upload",L=2,B=3,G=4,P=5,F=6,j={};function H(){var et=s.popups.get("video.insert");et.find(".fr-video-by-url-layer input").val("").trigger("change");var wt=et.find(".fr-video-embed-layer textarea");wt.val("").trigger("change"),(wt=et.find(".fr-video-upload-layer input")).val("").trigger("change")}function ee(){var et=s.popups.get("video.edit");if(et||(et=function(){var vn="";if(0<s.opts.videoEditButtons.length){s.opts.videoResponsive&&(-1<s.opts.videoEditButtons.indexOf("videoSize")&&s.opts.videoEditButtons.splice(s.opts.videoEditButtons.indexOf("videoSize"),1),-1<s.opts.videoEditButtons.indexOf("videoDisplay")&&s.opts.videoEditButtons.splice(s.opts.videoEditButtons.indexOf("videoDisplay"),1),-1<s.opts.videoEditButtons.indexOf("videoAlign")&&s.opts.videoEditButtons.splice(s.opts.videoEditButtons.indexOf("videoAlign"),1));var Hn={buttons:vn+=`<div class="fr-buttons"> 
      `.concat(s.button.buildList(s.opts.videoEditButtons),` 
      </div>`)},So=s.popups.create("video.edit",Hn);return s.events.$on(s.$wp,"scroll.video-edit",function(){a&&s.popups.isVisible("video.edit")&&(s.events.disableBlur(),K(a))}),So}return!1}()),et){s.popups.setContainer("video.edit",s.$sc),s.popups.refresh("video.edit");var wt=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),It=wt.offset().left+wt.outerWidth()/2,nn=wt.offset().top+wt.outerHeight(),bn=wt.get(0).src?wt.get(0).src:wt.get(0).currentSrc,kn=!(!(bn=(bn=bn.split("."))[bn.length-1]).includes("pdf")&&!bn.includes("txt"));wt.hasClass("fr-file")||kn||a.find("audio").get(0)?(document.getElementById("autoplay-".concat(s.id))&&(document.getElementById("autoplay-".concat(s.id)).style.display="none"),document.getElementById("videoReplace-".concat(s.id))&&(document.getElementById("videoReplace-".concat(s.id)).style.display="none")):(document.getElementById("autoplay-".concat(s.id))&&(document.getElementById("autoplay-".concat(s.id)).style.display=""),document.getElementById("videoReplace-".concat(s.id))&&(document.getElementById("videoReplace-".concat(s.id)).style.display="")),s.popups.show("video.edit",It,nn,wt.outerHeight(),!0)}}function w(et){if(et)return s.popups.onRefresh("video.insert",H),s.popups.onHide("video.insert",Rt),!0;var wt="";s.opts.videoUpload||s.opts.videoInsertButtons.indexOf("videoUpload")===-1||s.opts.videoInsertButtons.splice(s.opts.videoInsertButtons.indexOf("videoUpload"),1);var It=s.button.buildList(s.opts.videoInsertButtons);It!==""&&(wt='<div class="fr-buttons">'+It+"</div>");var nn,bn="",kn=s.opts.videoInsertButtons.indexOf("videoUpload"),Mn=s.opts.videoInsertButtons.indexOf("videoByURL"),vn=s.opts.videoInsertButtons.indexOf("videoEmbed");0<=Mn&&(nn=" fr-active",(kn<Mn&&0<=kn||vn<Mn&&0<=vn)&&(nn=""),bn='<div class="fr-video-by-url-layer fr-layer'.concat(nn,'" id="fr-video-by-url-layer-').concat(s.id,'"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Paste in a video URL"),`" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><span style='float:left'><div class="fr-checkbox-line fr-autoplay-margin"><span class="fr-checkbox"> <input id='videoPluginAutoplay' data-checked="_blank" type="checkbox" aria-label="`).concat(s.language.translate("Autoplay"),'"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span> <label id="fr-label-target-').concat(s.id,'">').concat(s.language.translate("Autoplay"),'</label></div> </span><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var Hn="";0<=vn&&(nn=" fr-active",(kn<vn&&0<=kn||Mn<vn&&0<=Mn)&&(nn=""),Hn='<div class="fr-video-embed-layer fr-layer'.concat(nn,'" id="fr-video-embed-layer-').concat(s.id,'"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var So="";0<=kn&&(nn=" fr-active",(vn<kn&&0<=vn||Mn<kn&&0<=Mn)&&(nn=""),So='<div class="fr-video-upload-layer fr-layer'.concat(nn,'" id="fr-video-upload-layer-').concat(s.id,'"><strong>').concat(s.language.translate("Drop video"),"</strong><br>(").concat(s.language.translate("or click"),')<div class="fr-form"><input type="file" accept="video/').concat(s.opts.videoAllowedTypes.join(", video/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-video-upload-layer-').concat(s.id,'" role="button"></div></div>'));var ro={buttons:wt,by_url_layer:bn,embed_layer:Hn,upload_layer:So,progress_bar:'<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>'},Xo=s.popups.create("video.insert",ro);return function(cs){s.events.$on(cs,"dragover dragenter",".fr-video-upload-layer",function(){return O(this).addClass("fr-drop"),!1},!0),s.events.$on(cs,"dragleave dragend",".fr-video-upload-layer",function(){return O(this).removeClass("fr-drop"),!1},!0),s.events.$on(cs,"drop",".fr-video-upload-layer",function(ms){ms.preventDefault(),ms.stopPropagation(),O(this).removeClass("fr-drop");var Et=ms.originalEvent.dataTransfer;if(Et&&Et.files){var fe=cs.data("instance")||s;fe.events.disableBlur(),fe.video.upload(Et.files),fe.events.enableBlur()}},!0),s.helpers.isIOS()&&s.events.$on(cs,"touchstart",'.fr-video-upload-layer input[type="file"]',function(){O(this).trigger("click")},!0),s.events.$on(cs,"change",'.fr-video-upload-layer input[type="file"]',function(){if(this.files){var ms=cs.data("instance")||s;ms.events.disableBlur(),cs.find("input:focus").blur(),ms.events.enableBlur(),ms.video.upload(this.files)}O(this).val("")},!0)}(Xo),Xo}function he(et){s.events.focus(!0),s.selection.restore();var wt=!1;if(a&&(Ot(),wt=!0),s.opts.trackChangesEnabled){s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.markers.insert(),s.html.wrap();var It=s.$el.find(".fr-marker");s.node.isLastSibling(It)&&It.parent().hasClass("fr-deletable")&&It.insertAfter(It.parent()),It.replaceWith('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(et,"</span>")),s.selection.clear()}else s.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(et,"</span>"),!1,s.opts.videoSplitHTML);s.popups.hide("video.insert");var nn=s.$el.find(".fr-jiv");nn.removeClass("fr-jiv"),nn.toggleClass("fr-rv",s.opts.videoResponsive),zt(nn,s.opts.videoDefaultDisplay,s.opts.videoDefaultAlign),nn.toggleClass("fr-draggable",s.opts.videoMove),s.events.trigger(wt?"video.replaced":"video.inserted",[nn])}function be(){var et=O(this);s.popups.hide("video.insert"),et.removeClass("fr-uploading"),et.parent().next().is("br")&&et.parent().next().remove(),K(et.parent()),s.events.trigger("video.loaded",[et.parent()])}function se(et,wt,It,nn,bn,kn){s.edit.off(),M("Loading video"),wt&&(et=s.helpers.sanitizeURL(et));var Mn=function(){var Hn,So;if(nn){s.undo.canDo()||nn.find("video").hasClass("fr-uploading")||s.undo.saveStep();var ro=nn.find("video").data("fr-old-src"),Xo=nn.data("fr-replaced");if(nn.data("fr-replaced",!1),0<nn.find("iframe").length)nn.remove(),Hn=q(et,It,be);else{s.$wp?((Hn=nn.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),Hn.find("video").off("canplay"),ro&&nn.find("video").attr("src",ro),nn.replaceWith(Hn)):Hn=nn;for(var zn=Hn.find("video").get(0).attributes,cs=0;cs<zn.length;cs++){var ms=zn[cs];ms.nodeName.indexOf("data-")===0&&Hn.find("video").removeAttr(ms.nodeName)}if(It!==void 0)for(So in It)It.hasOwnProperty(So)&&So!="link"&&Hn.find("video").attr("data-".concat(So),It[So]);Hn.find("video").on("canplay",be),Hn.find("video").attr("src",et)}s.edit.on(),We(),s.undo.saveStep(),s.$el.blur(),s.events.trigger(Xo?"video.replaced":"video.inserted",[Hn,bn])}else Hn=q(et,It,be,kn),We(),s.undo.saveStep(),s.events.trigger("video.inserted",[Hn,bn])};re("Loading video"),Mn()}function re(et){var wt=s.popups.get("video.insert");if(wt||(wt=w()),wt.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),wt.find(".fr-video-progress-bar-layer").addClass("fr-active"),wt.find(".fr-buttons").hide(),a){var It=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video"));s.popups.setContainer("video.insert",s.$sc);var nn=It.offset().left,bn=It.offset().top+It.height();s.popups.show("video.insert",nn,bn,It.outerHeight())}et===void 0&&M(s.language.translate("Uploading"),0)}function ie(et){var wt=s.popups.get("video.insert");if(wt&&(wt.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),wt.find(".fr-video-progress-bar-layer").removeClass("fr-active"),wt.find(".fr-buttons").show(),et||s.$el.find("video.fr-error").length)){if(s.events.focus(),s.$el.find("video.fr-error").length&&(s.$el.find("video.fr-error").parent().remove(),s.undo.saveStep(),s.undo.run(),s.undo.dropRedo()),!s.$wp&&a){var It=a;st(!0),s.selection.setAfter(It.find("video").get(0)),s.selection.restore()}s.popups.hide("video.insert")}}function M(et,wt){var It=s.popups.get("video.insert");if(It){var nn=It.find(".fr-video-progress-bar-layer");nn.find("h3").text(et+(wt?" ".concat(wt,"%"):"")),nn.removeClass("fr-error"),wt?(nn.find("div").removeClass("fr-indeterminate"),nn.find("div > span").css("width","".concat(wt,"%"))):nn.find("div").addClass("fr-indeterminate")}}function W(et){re();var wt=s.popups.get("video.insert").find(".fr-video-progress-bar-layer");wt.addClass("fr-error");var It=wt.find("h3");It.text(et),s.events.disableBlur(),It.focus()}function K(et){nt.call(et.get(0))}function R(et,wt,It){M("Loading video");var nn=this.status,bn=this.response,kn=this.responseXML,Mn=this.responseText;try{if(s.opts.videoUploadToS3||s.opts.videoUploadToAzure)if(nn==201){var vn;if(s.opts.videoUploadToAzure){if(s.events.trigger("video.uploadedToAzure",[this.responseURL,It,bn],!0)===!1)return s.edit.on(),!1;vn=wt}else vn=function(ro){try{var Xo=O(ro).find("Location").text(),zn=O(ro).find("Key").text();return s.events.trigger("video.uploadedToS3",[Xo,zn,ro],!0)===!1?(s.edit.on(),!1):Xo}catch{return qe(G,ro),!1}}(kn);vn&&se(vn,!1,[],et,bn||kn)}else qe(G,bn||kn);else if(200<=nn&&nn<300){var Hn=function(ro){try{if(s.events.trigger("video.uploaded",[ro],!0)===!1)return s.edit.on(),!1;var Xo=JSON.parse(ro);return Xo.link?Xo:(qe(L,ro),!1)}catch{return qe(G,ro),!1}}(Mn);Hn&&se(Hn.link,!1,Hn,et,bn||Mn)}else qe(B,bn||Mn)}catch{qe(G,bn||Mn)}}function A(){qe(G,this.response||this.responseText||this.responseXML)}function J(et){if(et.lengthComputable){var wt=et.loaded/et.total*100|0;M(s.language.translate("Uploading"),wt)}}function V(){s.edit.on(),ie(!0)}function q(et,wt,It,nn){var bn,kn,Mn="";if(wt&&wt!==void 0)for(bn in wt)wt.hasOwnProperty(bn)&&bn!="link"&&(Mn+=" ".concat(bn,'="').concat(wt[bn],'"'));var vn=s.opts.videoDefaultWidth;vn&&vn!="auto"&&(vn="".concat(vn,"px")),s.helpers.isMobile()&&s.browser.safari&&(Mn+=" autoplay playsinline"),(kn=nn=="audio"?O(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<audio src="'+et+'" '+Mn+" controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</audio>"):O(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<video src="'+et+'" '+Mn+(vn?' style="width: '+vn+';" ':"")+" controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</video>")).toggleClass("fr-draggable",s.opts.videoMove),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.videoSplitHTML?s.markers.split():(s.cursor.enter(),s.markers.insert()),s.html.wrap();var Hn=s.$el.find(".fr-marker");return s.node.isLastSibling(Hn)&&Hn.parent().hasClass("fr-deletable")&&Hn.insertAfter(Hn.parent()),Hn.replaceWith(kn),s.selection.clear(),nn!=="audio"&&(kn.find("video").get(0).readyState>kn.find("video").get(0).HAVE_FUTURE_DATA||s.helpers.isIOS()?It.call(kn.find("video").get(0)):kn.find("video").on("canplaythrough load",It)),kn}function ae(et){if(!s.core.sameInstance(ge))return!0;et.preventDefault(),et.stopPropagation();var wt=et.pageX||(et.originalEvent.touches?et.originalEvent.touches[0].pageX:null),It=et.pageY||(et.originalEvent.touches?et.originalEvent.touches[0].pageY:null);if(!wt||!It)return!1;if(et.type=="mousedown"){var nn=s.$oel.get(0).ownerDocument,bn=nn.defaultView||nn.parentWindow,kn=!1;try{kn=bn.location!=bn.parent.location&&!(bn.$&&bn.$.FE)}catch{}kn&&bn.frameElement&&(wt+=s.helpers.getPX(O(bn.frameElement).offset().left)+bn.frameElement.clientLeft,It=et.clientY+s.helpers.getPX(O(bn.frameElement).offset().top)+bn.frameElement.clientTop)}s.undo.canDo()||s.undo.saveStep(),($=O(this)).data("start-x",wt),$.data("start-y",It),b.show(),s.popups.hideAll(),tt()}function Le(et){if(!s.core.sameInstance(ge))return!0;if($){et.preventDefault();var wt=et.pageX||(et.originalEvent.touches?et.originalEvent.touches[0].pageX:null),It=et.pageY||(et.originalEvent.touches?et.originalEvent.touches[0].pageY:null);if(!wt||!It)return!1;var nn=$.data("start-x"),bn=$.data("start-y");$.data("start-x",wt),$.data("start-y",It);var kn=wt-nn,Mn=It-bn,vn=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),Hn=vn.width(),So=vn.height();($.hasClass("fr-hnw")||$.hasClass("fr-hsw"))&&(kn=0-kn),($.hasClass("fr-hnw")||$.hasClass("fr-hne"))&&(Mn=0-Mn),vn.css("width",Hn+kn),vn.css("height",So+Mn),vn.removeAttr("width"),vn.removeAttr("height"),ct()}}function Ee(et){if(!s.core.sameInstance(ge))return!0;$&&a&&(et&&et.stopPropagation(),$=null,b.hide(),ct(),ee(),s.undo.saveStep())}function we(et){return'<div class="fr-handler fr-h'.concat(et,'"></div>')}function Ne(et,wt,It,nn){return et.pageX=wt,et.pageY=wt,ae.call(this,et),et.pageX=et.pageX+It*Math.floor(Math.pow(1.1,nn)),et.pageY=et.pageY+It*Math.floor(Math.pow(1.1,nn)),Le.call(this,et),Ee.call(this,et),++nn}function We(){var et,wt=Array.prototype.slice.call(s.el.querySelectorAll("video, .fr-video > *")),It=[];for(et=0;et<wt.length;et++)It.push(wt[et].getAttribute("src")),O(wt[et]).toggleClass("fr-draggable",s.opts.videoMove),wt[et].getAttribute("class")===""&&wt[et].removeAttribute("class"),wt[et].getAttribute("style")===""&&wt[et].removeAttribute("style");if(f)for(et=0;et<f.length;et++)It.indexOf(f[et].getAttribute("src"))<0&&s.events.trigger("video.removed",[O(f[et])]);f=wt}function ct(){ge||function(){var bn;if(s.shared.$video_resizer?(ge=s.shared.$video_resizer,b=s.shared.$vid_overlay,s.events.on("destroy",function(){O("body").first().append(ge.removeClass("fr-active"))},!0)):(s.shared.$video_resizer=O(document.createElement("div")).attr("class","fr-video-resizer"),ge=s.shared.$video_resizer,s.events.$on(ge,"mousedown",function(Hn){Hn.stopPropagation()},!0),s.opts.videoResize&&(ge.append(we("nw")+we("ne")+we("sw")+we("se")),s.shared.$vid_overlay=O(document.createElement("div")).attr("class","fr-video-overlay"),b=s.shared.$vid_overlay,bn=ge.get(0).ownerDocument,O(bn).find("body").first().append(b))),s.events.on("shared.destroy",function(){ge.html("").removeData().remove(),ge=null,s.opts.videoResize&&(b.remove(),b=null)},!0),s.helpers.isMobile()||s.events.$on(O(s.o_win),"resize.video",function(){st(!0)}),s.opts.videoResize){bn=ge.get(0).ownerDocument,s.events.$on(ge,s._mousedown,".fr-handler",ae),s.events.$on(O(bn),s._mousemove,Le),s.events.$on(O(bn.defaultView||bn.parentWindow),s._mouseup,Ee),s.events.$on(b,"mouseleave",Ee);var kn=1,Mn=null,vn=0;s.events.on("keydown",function(Hn){if(a){var So=navigator.userAgent.indexOf("Mac OS X")!=-1?Hn.metaKey:Hn.ctrlKey,ro=Hn.which;(ro!==Mn||200<Hn.timeStamp-vn)&&(kn=1),(ro==x.KEYCODE.EQUALS||s.browser.mozilla&&ro==x.KEYCODE.FF_EQUALS)&&So&&!Hn.altKey?kn=Ne.call(this,Hn,1,1,kn):(ro==x.KEYCODE.HYPHEN||s.browser.mozilla&&ro==x.KEYCODE.FF_HYPHEN)&&So&&!Hn.altKey&&(kn=Ne.call(this,Hn,2,-1,kn)),Mn=ro,vn=Hn.timeStamp}}),s.events.on("keyup",function(){kn=1})}}(),(s.$wp||s.$sc).append(ge),ge.data("instance",s);var et=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),wt=0,It=0;s.opts.iframe&&(It=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),wt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"))),ge.css("top",(s.opts.iframe?et.offset().top+It-1:et.offset().top-s.$wp.offset().top-1)+s.$wp.scrollTop()).css("left",(s.opts.iframe?et.offset().left+wt-1:et.offset().left-s.$wp.offset().left-1)+s.$wp.scrollLeft()).css("width",et.get(0).getBoundingClientRect().width).css("height",et.get(0).getBoundingClientRect().height).addClass("fr-active")}function nt(et){if(et&&et.type=="touchend"&&N)return!0;if(et&&s.edit.isDisabled())return et.stopPropagation(),et.preventDefault(),!1;if(s.edit.isDisabled())return!1;for(var wt=0;wt<x.INSTANCES.length;wt++)x.INSTANCES[wt]!=s&&x.INSTANCES[wt].events.trigger("video.hideResizer");s.toolbar.disable(),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur()),s.$el.find(".fr-video.fr-active").removeClass("fr-active"),(a=O(this)).addClass("fr-active"),s.opts.iframe&&s.size.syncIframe(),Zn(),ct(),ee(),s.selection.clear(),s.button.bulkRefresh(),s.events.trigger("image.hideResizer")}function st(et){a&&(function(){return s.shared.vid_exit_flag}()||et===!0)&&(ge.removeClass("fr-active"),s.toolbar.enable(),a.removeClass("fr-active"),a=null,tt())}function Me(){s.shared.vid_exit_flag=!0}function tt(){s.shared.vid_exit_flag=!1}function ze(et){var wt=et.originalEvent.dataTransfer;if(wt&&wt.files&&wt.files.length){var It=wt.files[0];if(It&&It.type&&It.type.indexOf("video")!==-1){if(!s.opts.videoUpload)return et.preventDefault(),et.stopPropagation(),!1;s.markers.remove(),s.markers.insertAtPoint(et.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.popups.hideAll();var nn=s.popups.get("video.insert");return nn||(nn=w()),s.popups.setContainer("video.insert",s.$sc),s.popups.show("video.insert",et.originalEvent.pageX,et.originalEvent.pageY),re(),0<=s.opts.videoAllowedTypes.indexOf(It.type.replace(/video\//g,""))?Ze(wt.files):qe(F),et.preventDefault(),et.stopPropagation(),!1}}}function Ze(et){if(et!==void 0&&0<et.length){if(s.events.trigger("video.beforeUpload",[et])===!1)return!1;var wt,It=et[0];if(!(s.opts.videoUploadURL!==null&&s.opts.videoUploadURL!=T||s.opts.videoUploadToS3||s.opts.videoUploadToAzure))return function(Ce){a&&a.find("iframe")&&a.find("iframe").length&&Ot();var Ue=new FileReader;Ue.onload=function(){Ue.result;for(var Be=atob(Ue.result.split(",")[1]),te=[],pe=0;pe<Be.length;pe++)te.push(Be.charCodeAt(pe));se(window.URL.createObjectURL(new Blob([new Uint8Array(te)],{type:Ce.type})),!1,null,a)},re(),Ue.readAsDataURL(Ce)}(It),!1;if(It.size>s.opts.videoMaxSize)return qe(P),!1;if(s.opts.videoAllowedTypes.indexOf(It.type.replace(/video\//g,""))<0)return qe(F),!1;if(s.drag_support.formdata&&(wt=s.drag_support.formdata?new FormData:null),wt){var nn;if(s.opts.videoUploadToS3!==!1)for(nn in wt.append("key",s.opts.videoUploadToS3.keyStart+new Date().getTime()+"-"+(It.name||"untitled")),wt.append("success_action_status","201"),wt.append("X-Requested-With","xhr"),wt.append("Content-Type",It.type),s.opts.videoUploadToS3.params)s.opts.videoUploadToS3.params.hasOwnProperty(nn)&&wt.append(nn,s.opts.videoUploadToS3.params[nn]);for(nn in s.opts.videoUploadParams)s.opts.videoUploadParams.hasOwnProperty(nn)&&wt.append(nn,s.opts.videoUploadParams[nn]);wt.append(s.opts.videoUploadParam,It);var bn,kn,Mn=s.opts.videoUploadURL;s.opts.videoUploadToS3&&(Mn=s.opts.videoUploadToS3.uploadURL?s.opts.videoUploadToS3.uploadURL:"https://".concat(s.opts.videoUploadToS3.region,".amazonaws.com/").concat(s.opts.videoUploadToS3.bucket));var vn=s.opts.videoUploadMethod;s.opts.videoUploadToAzure&&(Mn=s.opts.videoUploadToAzure.uploadURL?"".concat(s.opts.videoUploadToAzure.uploadURL,"/").concat(It.name):encodeURI("https://".concat(s.opts.videoUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.videoUploadToAzure.container,"/").concat(It.name)),bn=Mn,s.opts.videoUploadToAzure.SASToken&&(Mn+=s.opts.videoUploadToAzure.SASToken),vn="PUT");var Hn=s.core.getXHR(Mn,vn);if(s.opts.videoUploadToAzure){var So=new Date().toUTCString();if(!s.opts.videoUploadToAzure.SASToken&&s.opts.videoUploadToAzure.accessKey){var ro=s.opts.videoUploadToAzure.account,Xo=s.opts.videoUploadToAzure.container;if(s.opts.videoUploadToAzure.uploadURL){var zn=s.opts.videoUploadToAzure.uploadURL.split("/");Xo=zn.pop(),ro=zn.pop().split(".")[0]}var cs=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(So,`
x-ms-version:2019-07-07`),ms=encodeURI("/"+ro+"/"+Xo+"/"+It.name),Et=vn+`


`+It.size+`

`+It.type+`






`+cs+`
`+ms,fe=s.cryptoJSPlugin.cryptoJS.HmacSHA256(Et,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.videoUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),Y="SharedKey "+ro+":"+fe;kn=fe,Hn.setRequestHeader("Authorization",Y)}for(nn in Hn.setRequestHeader("x-ms-version","2019-07-07"),Hn.setRequestHeader("x-ms-date",So),Hn.setRequestHeader("Content-Type",It.type),Hn.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.videoUploadParams)s.opts.videoUploadParams.hasOwnProperty(nn)&&Hn.setRequestHeader(nn,s.opts.videoUploadParams[nn]);for(nn in s.opts.videoUploadToAzure.params)s.opts.videoUploadToAzure.params.hasOwnProperty(nn)&&Hn.setRequestHeader(nn,s.opts.videoUploadToAzure.params[nn])}Hn.onload=function(){R.call(Hn,a,bn,kn)},Hn.onerror=A,Hn.upload.onprogress=J,Hn.onabort=V,re(),s.events.disableBlur(),s.edit.off(),s.events.enableBlur();var le=s.popups.get("video.insert");le&&O(le.off("abortUpload")).on("abortUpload",function(){Hn.readyState!=4&&Hn.abort()}),Hn.send(s.opts.videoUploadToAzure?It:wt)}}}function qe(et,wt){s.edit.on(),a&&a.find("video").addClass("fr-error"),W(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("video.error",[{code:et,message:j[et]},wt])}function Fe(){if(a){var et=s.popups.get("video.size"),wt=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video"));et.find('input[name="width"]').val(wt.get(0).style.width||wt.attr("width")).trigger("change"),et.find('input[name="height"]').val(wt.get(0).style.height||wt.attr("height")).trigger("change")}}function Ye(et){if(et)return s.popups.onRefresh("video.size",Fe),!0;var wt={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.videoSizeButtons),"</div>"),size_layer:'<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'.concat(s.id,'"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-').concat(s.id,'" type="text" name="width" placeholder="').concat(s.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-').concat(s.id,'" type="text" name="height" placeholder="').concat(s.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},It=s.popups.create("video.size",wt);return s.events.$on(s.$wp,"scroll",function(){a&&s.popups.isVisible("video.size")&&(s.events.disableBlur(),K(a))}),It}function xt(et){if(et===void 0&&(et=a),et){if(et.hasClass("fr-fvl"))return"left";if(et.hasClass("fr-fvr"))return"right";if(et.hasClass("fr-dvb")||et.hasClass("fr-dvi"))return"center";if(et.css("display")=="block"){if(et.css("text-algin")=="left")return"left";if(et.css("text-align")=="right")return"right"}else{if(et.css("float")=="left")return"left";if(et.css("float")=="right")return"right"}}return"center"}function ft(et){et===void 0&&(et=a);var wt=et.css("float");return et.css("float","none"),et.css("display")=="block"?(et.css("float",""),et.css("float")!=wt&&et.css("float",wt),"block"):(et.css("float",""),et.css("float")!=wt&&et.css("float",wt),"inline")}function Ot(){if(a&&s.events.trigger("video.beforeRemove",[a])!==!1){var et=a;if(s.popups.hideAll(),st(!0),s.opts.trackChangesEnabled&&(!et[0].parentNode||et[0].parentNode.tagName!=="SPAN"||!et[0].parentNode.hasAttribute("data-tracking")))return void s.track_changes.removeSpecialItem(et);s.selection.setBefore(et.get(0))||s.selection.setAfter(et.get(0)),et.remove(),s.selection.restore(),s.html.fillEmptyBlocks()}}function Rt(){ie()}function zt(et,wt,It){!s.opts.htmlUntouched&&s.opts.useClasses?(et.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),et.addClass("fr-fv".concat(It[0]," fr-dv").concat(wt[0]))):wt=="inline"?(et.css({display:"inline-block"}),It=="center"?et.css({float:"none"}):It=="left"?et.css({float:"left"}):et.css({float:"right"})):(et.css({display:"block",clear:"both"}),It=="left"?et.css({textAlign:"left"}):It=="right"?et.css({textAlign:"right"}):et.css({textAlign:"center"}))}function Zt(){var et=s.$el.find("video").filter(function(){return O(this).parents("span.fr-video").length===0});if(et.length!=0){et.wrap(O(document.createElement("span")).attr("class","fr-video fr-deletable").attr("contenteditable","false")),s.$el.find("embed, iframe").filter(function(){if(s.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),0<O(this).parents("span.fr-video").length)return!1;for(var Hn=O(this).attr("src"),So=0;So<x.VIDEO_PROVIDERS.length;So++){var ro=x.VIDEO_PROVIDERS[So];if(ro.test_regex.test(Hn)&&new RegExp(s.opts.videoAllowedProviders.join("|")).test(ro.provider))return!0}return!1}).map(function(){return O(this).parents("object").length===0?this:O(this).parents("object").get(0)}).wrap(O(document.createElement("span")).attr("class","fr-video").attr("contenteditable","false"));for(var wt,It,nn,bn,kn=s.$el.find("span.fr-video, video"),Mn=0;Mn<kn.length;Mn++){var vn=O(kn[Mn]);!s.opts.htmlUntouched&&s.opts.useClasses?((bn=vn).hasClass("fr-dvi")||bn.hasClass("fr-dvb")||(bn.addClass("fr-fv".concat(xt(bn)[0])),bn.addClass("fr-dv".concat(ft(bn)[0]))),s.opts.videoTextNear||vn.removeClass("fr-dvi").addClass("fr-dvb")):s.opts.htmlUntouched||s.opts.useClasses||(It=(wt=vn).hasClass("fr-dvb")?"block":wt.hasClass("fr-dvi")?"inline":null,nn=wt.hasClass("fr-fvl")?"left":wt.hasClass("fr-fvr")?"right":xt(wt),zt(wt,It,nn),wt.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl"))}kn.toggleClass("fr-draggable",s.opts.videoMove)}}function wn(et){document.getElementById("autoplay-".concat(s.id)).style.cssText="background:".concat(et)}function Zn(){if(a){s.selection.clear();var et=s.doc.createRange();et.selectNode(a.get(0)),s.selection.get().addRange(et)}}return j[1]="Video cannot be loaded from the passed link.",j[L]="No link in upload response.",j[B]="Error during file upload.",j[G]="Parsing response failed.",j[P]="File is too large.",j[F]="Video file type is invalid.",j[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",s.shared.vid_exit_flag=!1,{_init:function(){s.opts.videoResponsive&&(s.opts.videoResize=!1),function(){s.events.on("drop",ze,!0),s.events.on("mousedown window.mousedown",Me),s.events.on("window.touchmove",tt),s.events.on("mouseup window.mouseup",st),s.events.on("commands.mousedown",function(It){0<It.parents(".fr-toolbar").length&&st()}),s.events.on("video.hideResizer commands.undo commands.redo element.dropped",function(){st(!0)}),s.events.on("filestack-init-video",function(){w()})}(),s.helpers.isMobile()&&(s.events.$on(s.$el,"touchstart","span.fr-video",function(){N=!1}),s.events.$on(s.$el,"touchmove",function(){N=!0})),s.events.on("html.set",Zt),Zt(),s.events.$on(s.$el,"mousedown","span.fr-video",function(wt){wt.stopPropagation(),(s.browser.msie||s.browser.edge)&&(wt.target.innerText||(wt.target.dragDrop(),nt.call(this,wt)))}),s.events.$on(s.$el,"click touchend","span.fr-video",function(wt){if(wt.target.innerText.length||O(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;nt.call(this,wt)}),s.events.on("keydown",function(wt){var It=wt.which;return!a||It!=x.KEYCODE.BACKSPACE&&It!=x.KEYCODE.DELETE?a&&It==x.KEYCODE.ESC?(st(!0),wt.preventDefault(),!1):a&&It!=x.KEYCODE.F10&&!s.keys.isBrowserAction(wt)?(wt.preventDefault(),!1):void 0:(wt.preventDefault(),Ot(),s.undo.saveStep(),!1)},!0),s.events.on("toolbar.esc",function(){if(a)return s.events.disableBlur(),s.events.focus(),!1},!0),s.events.on("toolbar.focusEditor",function(){if(a)return!1},!0),s.events.on("keydown",function(){s.$el.find("span.fr-video:empty").remove()}),s.$wp&&(We(),s.events.on("contentChanged",We)),w(!0),Ye(!0)},showInsertPopup:function(){var wt=s.$tb.find('.fr-command[data-cmd="insertVideo"]'),It=s.popups.get("video.insert");if(It||(It=w()),ie(),!It.hasClass("fr-active"))if(s.popups.refresh("video.insert"),s.popups.setContainer("video.insert",s.$tb),wt.isVisible()){var nn=s.button.getPosition(wt),bn=nn.left,kn=nn.top;s.popups.show("video.insert",bn,kn,wt.outerHeight())}else s.position.forSelection(It),s.popups.show("video.insert")},showLayer:function(wt){var It,nn,bn=s.popups.get("video.insert");if(!a&&!s.opts.toolbarInline){var kn=s.$tb.find('.fr-command[data-cmd="insertVideo"]');It=kn.offset().left,nn=kn.offset().top+(s.opts.toolbarBottom?10:kn.outerHeight()-10)}s.opts.toolbarInline&&(nn=bn.offset().top-s.helpers.getPX(bn.css("margin-top")),bn.hasClass("fr-above")&&(nn+=bn.outerHeight())),bn.find(".fr-layer").removeClass("fr-active"),bn.find(".fr-".concat(wt,"-layer")).addClass("fr-active"),s.popups.show("video.insert",It,nn,0),s.accessibility.focusPopup(bn)},refreshByURLButton:function(wt){var It=s.popups.get("video.insert");It&&It.find(".fr-video-by-url-layer").hasClass("fr-active")&&wt.addClass("fr-active").attr("aria-pressed",!0)},refreshEmbedButton:function(wt){var It=s.popups.get("video.insert");It&&It.find(".fr-video-embed-layer").hasClass("fr-active")&&wt.addClass("fr-active").attr("aria-pressed",!0)},refreshUploadButton:function(wt){var It=s.popups.get("video.insert");It&&It.find(".fr-video-upload-layer").hasClass("fr-active")&&wt.addClass("fr-active").attr("aria-pressed",!0)},upload:Ze,insertByURL:function(wt){var It=!!document.getElementById("videoPluginAutoplay")&&document.getElementById("videoPluginAutoplay").checked;if(wt===void 0){var nn=(wt=(s.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val()||"").trim()).match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/?(showcase\/)*([0-9))([a-z]*\/)*([0-9]{6,11})[?]?.*/);if(nn&&nn.length==7){var bn=nn[6],kn=wt.substring(0,wt.lastIndexOf("/")),Mn=wt.substring(wt.lastIndexOf("/")+1,wt.length);wt=Mn.includes("?h=")||Mn.includes("?v=")||bn===Mn?("".concat(kn,"/").concat(Mn)||"").trim():("".concat(kn,"?h=").concat(Mn)||"").trim()}}var vn=null;if(/^http/.test(wt)||(wt="https://".concat(wt)),s.helpers.isURL(wt))for(var Hn=0;Hn<x.VIDEO_PROVIDERS.length;Hn++){var So=x.VIDEO_PROVIDERS[Hn],ro="autoplay=1&mute=1";if(So.html.includes("autoplay=1")&&document.getElementById("videoPluginAutoplay").checked)So.html=So.html,document.getElementById("videoPluginAutoplay").checked=!1;else if(It){var Xo=So.html.indexOf("{url}")+5;So.html=[So.html.slice(0,Xo),ro,So.html.slice(Xo)].join(""),It=!1,document.getElementById("videoPluginAutoplay").checked=!1}else(So=x.VIDEO_PROVIDERS[Hn]).html=So.html.replace(ro,"");if(So.test_regex.test(wt)&&new RegExp(s.opts.videoAllowedProviders.join("|")).test(So.provider)){vn=wt.replace(So.url_regex,So.url_text),vn=So.html.replace(/\{url\}/,vn);break}}vn?he(vn):(W(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("video.linkError",[wt]))},insertEmbed:function(wt){wt===void 0&&(wt=s.popups.get("video.insert").find(".fr-video-embed-layer textarea").val()||""),wt.length!==0&&x.VIDEO_EMBED_REGEX.test(wt)?he(wt):(W(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("video.codeError",[wt]))},insert:he,align:function(wt){a.removeClass("fr-fvr fr-fvl"),!s.opts.htmlUntouched&&s.opts.useClasses?wt=="left"?a.addClass("fr-fvl"):wt=="right"&&a.addClass("fr-fvr"):zt(a,ft(),wt),Zn(),ct(),ee(),s.selection.clear()},refreshAlign:function(wt){if(!a)return!1;wt.find(">*").first().replaceWith(s.icon.create("video-align-".concat(xt())))},refreshAlignOnShow:function(wt,It){a&&It.find('.fr-command[data-param1="'.concat(xt(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(wt){a.removeClass("fr-dvi fr-dvb"),!s.opts.htmlUntouched&&s.opts.useClasses?wt=="inline"?a.addClass("fr-dvi"):wt=="block"&&a.addClass("fr-dvb"):zt(a,wt,xt()),Zn(),ct(),ee(),s.selection.clear()},refreshDisplayOnShow:function(wt,It){a&&It.find('.fr-command[data-param1="'.concat(ft(),'"]')).addClass("fr-active").attr("aria-selected",!0)},remove:Ot,hideProgressBar:ie,showSizePopup:function(){var wt=s.popups.get("video.size");wt||(wt=Ye()),ie(),s.popups.refresh("video.size"),s.popups.setContainer("video.size",s.$sc);var It=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),nn=It.offset().left+It.outerWidth()/2,bn=It.offset().top+It.height();s.popups.show("video.size",nn,bn,It.height(),!0)},replace:function(){var wt=s.popups.get("video.insert");wt||(wt=w()),s.popups.isVisible("video.insert")||(ie(),s.popups.refresh("video.insert"),s.popups.setContainer("video.insert",s.$sc));var It=a.offset().left+a.outerWidth()/2,nn=a.offset().top+a.height();s.popups.show("video.insert",It,nn,a.outerHeight(),!0)},back:function(){a?(s.events.disableBlur(),a[0].click()):(s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),s.popups.hide("video.insert"),s.toolbar.showInline())},setSize:function(wt,It){if(a){var nn=s.popups.get("video.size"),bn=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video"));bn.css("width",wt||nn.find('input[name="width"]').val()),bn.css("height",It||nn.find('input[name="height"]').val()),bn.get(0).style.width&&bn.removeAttr("width"),bn.get(0).style.height&&bn.removeAttr("height"),nn.find("input:focus").blur(),setTimeout(function(){a.trigger("click")},s.helpers.isAndroid()?50:0)}},get:function(){return a},showProgressBar:re,_editVideo:K,setAutoplay:function(){var wt;if(a.find("iframe, embed, audio").get(0))(wt=a.find("iframe, embed, audio")).get(0).src.includes("autoplay=1")?(wn("#FFFFFF"),wt.get(0).src=wt.get(0).src.replace("&autoplay=1","")):(wn("#D6D6D6"),wt.get(0).src=wt.get(0).src+"&autoplay=1");else if((wt=a.find("iframe, embed, video")).get(0).outerHTML.includes("autoplay"))wn("#FFFFFF"),wt.get(0).outerHTML=wt.get(0).outerHTML.replace("autoplay","");else{wn("#D6D6D6");var It=wt.get(0).outerHTML.indexOf("class")-1;wt.get(0).outerHTML=[wt.get(0).outerHTML.slice(0,It),"autoplay",wt.get(0).outerHTML.slice(It)].join("")}},insertHtmlVideo:se}},x.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),x.DefineIcon("insertVideo",{NAME:"video-camera",FA5NAME:"camera",SVG_KEY:"insertVideo"}),x.DefineIcon("videoByURL",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-by-url")},refresh:function(s){this.video.refreshByURLButton(s)}}),x.DefineIcon("videoEmbed",{NAME:"code",SVG_KEY:"codeView"}),x.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-embed")},refresh:function(s){this.video.refreshEmbedButton(s)}}),x.DefineIcon("videoUpload",{NAME:"upload",SVG_KEY:"upload"}),x.RegisterCommand("videoUpload",{title:"Upload Video",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-upload")},refresh:function(s){this.video.refreshUploadButton(s)}}),x.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),x.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),x.DefineIcon("videoDisplay",{NAME:"star",SVG_KEY:"star"}),x.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(s,b){this.video.display(b)},refresh:function(s){this.opts.videoTextNear||s.addClass("fr-hidden")},refreshOnShow:function(s,b){this.video.refreshDisplayOnShow(s,b)}}),x.DefineIcon("video-align",{NAME:"align-left",SVG_KEY:"align Left"}),x.DefineIcon("video-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("video-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("video-align-center",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.DefineIcon("videoAlign",{NAME:"align-center",SVG_KEY:"alignCenter"}),x.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.videoAlign.options;for(var $ in b)b.hasOwnProperty($)&&(s+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'.concat($,'" title="').concat(this.language.translate(b[$]),'">').concat(this.icon.create("video-align-".concat($)),'<span class="fr-sr-only">').concat(this.language.translate(b[$]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.video.align(b)},refresh:function(s){this.video.refreshAlign(s)},refreshOnShow:function(s,b){this.video.refreshAlignOnShow(s,b)}}),x.DefineIcon("videoReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),x.RegisterCommand("videoReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.video.replace()}}),x.DefineIcon("videoRemove",{NAME:"trash",SVG_KEY:"remove"}),x.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),x.DefineIcon("autoplay",{NAME:"autoplay",SVG_KEY:"autoplay"}),x.RegisterCommand("autoplay",{undo:!1,focus:!1,popup:!0,title:"Autoplay",callback:function(){this.video.setAutoplay()}}),x.DefineIcon("videoSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),x.RegisterCommand("videoSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.video.showSizePopup()}}),x.DefineIcon("videoBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(s){this.video.get()||this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next().hasClass("fr-separator")&&s.next().removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next().hasClass("fr-separator")&&s.next().addClass("fr-hidden"))}}),x.RegisterCommand("videoDismissError",{title:"OK",undo:!1,callback:function(){this.video.hideProgressBar(!0)}}),x.RegisterCommand("videoSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.video.setSize()}}),Object.assign(x.DEFAULTS,{wordDeniedTags:[],wordDeniedAttrs:[],wordAllowedStyleProps:["font-family","font-size","background","color","width","text-align","vertical-align","background-color","padding","margin","height","margin-top","margin-left","margin-right","margin-bottom","text-decoration","font-weight","font-style","text-indent","border","border-.*","line-height","list-style-type"],wordPasteModal:!0,wordPasteKeepFormatting:!0}),x.PLUGINS.wordPaste=function(s){var b,$,ge,a=s.$,f="word_paste",N={},O=!0;function T(V){var q=s.opts.wordAllowedStyleProps;V||(s.opts.wordAllowedStyleProps=[]),$.indexOf("<colgroup>")===0&&($="<table>"+$+"</table>"),$=J($=$.replace(/<span[\n\r ]*style='mso-spacerun:yes'>([\r\n\u00a0 ]*)<\/span>/g,function(Le,Ee){for(var we="",Ne=0;Ne++<Ee.length;)we+="&nbsp;";return we}),s.paste.getRtfClipboard());var ae=s.doc.createElement("DIV");ae.innerHTML=$,s.html.cleanBlankSpaces(ae),$=ae.innerHTML,$=($=s.paste.cleanEmptyTagsAndDivs($)).replace(/\u200b/g,""),function(){s.modals.hide(f)}(),s.helpers.isMobile()&&s.events.focus(),s.paste.clean($,!0,!0),s.opts.wordAllowedStyleProps=q}function L(V){V.parentNode&&V.parentNode.removeChild(V)}function B(V,q){if(q(V))for(var ae=V.firstChild;ae;){var Le=ae,Ee=ae.previousSibling;ae=ae.nextSibling,B(Le,q),Le.previousSibling||Le.nextSibling||Le.parentNode||!ae||Ee===ae.previousSibling||!ae.parentNode?Le.previousSibling||Le.nextSibling||Le.parentNode||!ae||ae.previousSibling||ae.nextSibling||ae.parentNode||(Ee?ae=Ee.nextSibling?Ee.nextSibling.nextSibling:null:V.firstChild&&(ae=V.firstChild.nextSibling)):ae=Ee?Ee.nextSibling:V.firstChild}}function G(V){return a(V).hasClass("ListContainerWrapper")&&0<a(V).find("ol").length}function P(V){return a(V).hasClass("ListContainerWrapper")&&0<a(V).find("ul").length}function F(V){if(G(V)||P(V))return!0;if(!V.getAttribute("style")||!/mso-list:[\s]*l/gi.test(V.getAttribute("style").replace(/\n/gi,"")))return!1;try{if(!V.querySelector('[style="mso-list:Ignore"]'))return!!(V.outerHTML&&0<=V.outerHTML.indexOf("<!--[if !supportLists]-->"))}catch{return!1}return!0}var j=null,H={};function ee(V){var q;if(G(V)||P(V))q=a(V).find("li").attr("data-aria-level");else{var ae,Le,Ee=((ae=V.getAttribute("style"))===null||ae===void 0?void 0:ae.replace(/\n/g,""))||"",we=j&&((Le=j.getAttribute("style"))===null||Le===void 0?void 0:Le.replace(/\n/g,""))||"",Ne=Ee.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i),We=we.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i);if(Ne){var ct;if(H[Ne[1]])return j=V,H[Ne[1]].toString();var nt,st=We&&We[2],Me=Ne[2],tt=we&&H[We[1]]||0;nt=st&&st!==Me&&parseFloat(((ct=j)===null||ct===void 0||(ct=ct.style)===null||ct===void 0?void 0:ct.marginLeft)||0)<parseFloat(V.style.marginLeft||0)?tt+parseInt(Ne[3],10):parseInt(Ne[3],10),We&&We[4]!==Ne[4]&&nt===parseInt(Ne[3],10)&&(nt+=1),q=nt.toString(),H[Ne[1]]=nt}else q=Ee.replace(/.*level([0-9]+?).*/gi,"$1")}return j=V,q}function w(V,q){var ae=V.cloneNode(!0);if(["H1","H2","H3","H4","H5","H6"].indexOf(V.tagName)!==-1){var Le=document.createElement(V.tagName.toLowerCase());Le.setAttribute("style",V.getAttribute("style")),Le.innerHTML=ae.innerHTML,ae.innerHTML=Le.outerHTML}B(ae,function(Me){if(Me.nodeType==Node.COMMENT_NODE&&(s.browser.msie||s.browser.safari||s.browser.edge))try{if(Me.data==="[if !supportLists]"){for(Me=Me.nextSibling;Me&&Me.nodeType!==Node.COMMENT_NODE;){var tt=Me.nextSibling;Me.parentNode.removeChild(Me),Me=tt}Me&&Me.nodeType==Node.COMMENT_NODE&&Me.parentNode.removeChild(Me)}}catch{return!1}return Me.nodeType===Node.ELEMENT_NODE&&(Me.getAttribute("style")===`mso-list:
Ignore`&&Me.setAttribute("style","mso-list:Ignore"),Me.getAttribute("style")==="mso-list:Ignore"&&Me.parentNode.removeChild(Me),Me.setAttribute("style",he(Me)),A(Me,q)),!0});var Ee=G(V)?a(V).find("li").get(0).innerHTML:ae.innerHTML;if(G(V)||P(V)){Ee="";for(var we=a(V).find("li"),Ne=0;Ne<we.length;Ne++){var We=a(we.get(Ne).innerHTML);We.find("span").each(function(){a(this).html()==="&nbsp;"&&(0<a(this).prev().text().trim().length?a(this).remove():a(this).html("&ZeroWidthSpace;"))});var ct=we[Ne].style.marginLeft;ct?(ct=parseFloat(parseFloat(ct).toFixed(2))+ct.match(/[a-zA-Z]+/g)[0],Ee+='<li style = "margin-left: '.concat(ct,';">').concat(We.get(0).innerHTML,"</li>")):Ee+="<li >".concat(We.get(0).innerHTML,"</li>")}}else{var nt,st=(nt=a(V).find("p").get(0))===null||nt===void 0?void 0:nt.style.marginLeft;Ee=st?(st=parseFloat(parseFloat(st).toFixed(2))+st.match(/[a-zA-Z]+/g)[0],'<li style = "margin-left: '.concat(st,';">').concat(Ee,"</li>")):"<li>".concat(Ee,"</li>")}return Ee=Ee.replace(/<!--[\s\S]*?-->/gi,"")}function he(V){var q=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,ae="",Le=["line-height","font-family","font-size","color","background"].concat(Ie(q||[])),Ee=V.getAttribute("style");return Ee&&Le.forEach(function(we){var Ne=Ee.split(";").find(function(We){return We.trim().includes(we+":")});Ne&&(Ne.includes("mso")&&(Ne=Ne.match(new RegExp(we+":.*(;|)"))[0]),Ne.trim().startsWith(we)&&(ae+=Ne+";"))}),ae}function be(V,q){for(var ae=document.createElement(q),Le=0;Le<V.attributes.length;Le++){var Ee=V.attributes[Le].name;V.tagName==="FONT"&&(s.browser.msie&&["id","class","style"].indexOf(Ee)<0||!s.browser.msie&&CSS.supports(Ee,V.getAttribute(Ee)))?a(ae).css(Ee,V.getAttribute(Ee)):ae.setAttribute(Ee,V.getAttribute(Ee))}return ae.innerHTML=V.innerHTML,V.parentNode.replaceChild(ae,V),ae}function se(V,q){s.node.clearAttributes(V);for(var ae=V.firstElementChild,Le=0,Ee=!1,we=null;ae;){if(ae.firstElementChild&&ae.firstElementChild.tagName.indexOf("W:")!==-1)for(var Ne=0;Ne<ae.children.length;Ne++)ae.children[Ne]==`<('[^']*'|"[^"]*"|[^"'>])*>`&&(ae.innerHTML+=ae.children[Ne]);(we=ae.getAttribute("width"))||(we=ae.style.width),we||Ee||(Ee=!0),Le+=parseInt(we,10),(!ae.firstChild||ae.firstChild&&ae.firstChild.data===x.UNICODE_NBSP)&&(ae.firstChild&&L(ae.firstChild),ae.innerHTML="<br>");for(var We=ae.firstElementChild,ct=ae.children.length===1;We;)We.tagName!=="P"||F(We)||ct&&re(We),We=We.nextElementSibling;if(q){var nt=ae.getAttribute("class");if(nt){var st=(nt=ie(nt)).match(/xl[0-9]+/gi);if(st){var Me="."+st[0];q[Me]&&M(ae,q[Me])}}q.td&&M(ae,q.td)}var tt=ae.getAttribute("style");tt&&(tt=ie(tt))&&tt.slice(-1)!==";"&&(tt+=";");var ze=ae.getAttribute("valign");if(!ze&&tt){var Ze=tt.match(/vertical-align:.+?[; "]{1,1}/gi);Ze&&(ze=Ze[Ze.length-1].replace(/vertical-align:(.+?)[; "]{1,1}/gi,"$1"))}var qe=null;if(tt){var Fe=tt.match(/text-align:.+?[; "]{1,1}/gi);Fe&&(qe=Fe[Fe.length-1].replace(/text-align:(.+?)[; "]{1,1}/gi,"$1")),qe==="general"&&(qe=null)}var Ye=null;if(tt){var xt=tt.match(/background:.+?[; "]{1,1}/gi);xt&&(Ye=xt[xt.length-1].replace(/background:(.+?)[; "]{1,1}/gi,"$1"))}var ft=ae.getAttribute("colspan"),Ot=ae.getAttribute("rowspan");ft&&ae.setAttribute("colspan",ft),Ot&&ae.setAttribute("rowspan",Ot),ze&&(ae.style["vertical-align"]=ze),qe&&(ae.style["text-align"]=qe),Ye&&(ae.style["background-color"]=Ye),we&&ae.setAttribute("width",we),ae=ae.nextElementSibling}for(ae=V.firstElementChild;ae;)we=ae.getAttribute("width"),Ee&&ae.removeAttribute("width"),ae=ae.nextElementSibling;V.previousSibling?ge!=Le&&(O=!1):ge=Le,V.nextElementSibling||function(zt){for(var Zt=zt.closest("table"),wn=0,Zn=function(){var bn=0;Array.from(zt.children).forEach(function(kn){var Mn=parseInt(kn.getAttribute("width"),10);isNaN(Mn)||(bn+=Mn)}),wn<bn&&(wn=bn),O?Array.from(zt.children).forEach(function(kn){var Mn=parseInt(kn.getAttribute("width"),10);if(!isNaN(Mn)&&0<bn){var vn=100*Mn/bn;kn.setAttribute("width","".concat(vn,"%"))}}):Array.from(zt.children).forEach(function(kn){var Mn=parseInt(kn.getAttribute("width"),10);isNaN(Mn)||kn.setAttribute("width","".concat(Mn,"px"))}),zt=zt.previousElementSibling};zt;)Zn();if(Zt&&0<wn){var et=Zt.getAttribute("width")||"",wt=et.trim().endsWith("%");if(!wt){var It=parseInt(Zt.style.width,10);(isNaN(It)||It===0)&&(Zt.style.width="".concat(wn,"px"))}}}(V)}function re(V){var q=V.getAttribute("align");q&&(V.style["text-align"]=q,V.removeAttribute("align"))}function ie(V){return V.replace(/\n|\r|\n\r|&quot;/g,"")}function M(V,q,ae){if(q){var Le=V.getAttribute("style");Le&&Le.slice(-1)!==";"&&(Le+=";"),q&&q.slice(-1)!==";"&&(q+=";"),q=q.replace(/\n/gi,"");var Ee=null;Ee=q+(Le||""),V.setAttribute("style",Ee)}}var W=null;function K(V,q,ae){for(var Le=V.split(ae),Ee=1;Ee<Le.length;Ee++){var we=Le[Ee];if(1<(we=we.split("shplid")).length){we=we[1];for(var Ne="",We=0;We<we.length&&we[We]!=="\\"&&we[We]!=="{"&&we[We]!==" "&&we[We]!=="\r"&&we[We]!==`
`;)Ne+=we[We],We++;var ct=we.split("bliptag");if(ct&&ct.length<2)continue;var nt=null;if(ct[0].indexOf("pngblip")!==-1?nt="image/png":ct[0].indexOf("jpegblip")!==-1&&(nt="image/jpeg"),!nt)continue;var st=ct[1].split("}");if(st&&st.length<2)continue;var Me=void 0;if(2<st.length&&st[0].indexOf("blipuid")!==-1)Me=st[1].split(" ");else{if((Me=st[0].split(" "))&&Me.length<2)continue;Me.shift()}var tt=Me.join("");W[q+Ne]={image_hex:tt,image_type:nt}}}}function R(V,q){if(q){var ae;if(V.tagName==="IMG"){var Le=V.getAttribute("src");if(!Le||Le.indexOf("file://")===-1)return;if(Le.indexOf("file://")===0&&s.helpers.isURL(V.getAttribute("alt")))return void V.setAttribute("src",V.getAttribute("alt"));(ae=N[V.getAttribute("v:shapes")])||(ae=V.getAttribute("v:shapes"),V.parentNode&&V.parentNode.parentNode&&0<=V.parentNode.parentNode.innerHTML.indexOf("msEquation")&&(ae=null))}else ae=V.parentNode.getAttribute("o:spid");if(V.removeAttribute("height"),ae){(function(ct){W={},K(ct,"i","\\shppict"),K(ct,"s","\\shp{")})(q);var Ee=W[ae.substring(7)];if(Ee){var we=function(ct){for(var nt=ct.match(/[0-9a-f]{2}/gi),st=[],Me=0;Me<nt.length;Me++)st.push(String.fromCharCode(parseInt(nt[Me],16)));var tt=st.join("");return btoa(tt)}(Ee.image_hex),Ne="data:"+Ee.image_type+";base64,"+we;V.tagName==="IMG"?(V.src=Ne,V.setAttribute("data-fr-image-pasted",!0)):a(V).parent().before('<img data-fr-image-pasted="true" src="'.concat(Ne,'" style="').concat(V.parentNode.getAttribute("style"),'">')).remove()}}}}function A(V,q){var ae=V.tagName,Le=ae.toLowerCase();if(V.firstElementChild&&(V.firstElementChild.tagName==="I"?be(V.firstElementChild,"em"):V.firstElementChild.tagName==="B"&&be(V.firstElementChild,"strong")),["SCRIPT","APPLET","EMBED","NOFRAMES","NOSCRIPT"].indexOf(ae)!==-1)return L(V),!1;for(var Ee=["META","LINK","XML","ST1:","O:","W:","FONT"],we=0;we<Ee.length;we++)if(ae.indexOf(Ee[we])!==-1)return V.innerHTML&&(V.outerHTML=V.innerHTML),L(V),!1;if(ae!=="TD"){var Ne=V.getAttribute("class")||"MsoNormal";if(q&&Ne){for(var We=(Ne=ie(Ne)).split(" "),ct=0;ct<We.length;ct++){var nt=[],st="."+We[ct];nt.push(st),st=Le+st,nt.push(st);for(var Me=0;Me<nt.length;Me++)q[nt[Me]]&&M(V,q[nt[Me]])}V.removeAttribute("class")}q&&q[Le]&&M(V,q[Le])}if(["P","H1","H2","H3","H4","H5","H6","PRE"].indexOf(ae)!==-1){var tt=V.getAttribute("class");if(tt&&(q&&q[ae.toLowerCase()+"."+tt]&&M(V,q[ae.toLowerCase()+"."+tt]),tt.toLowerCase().indexOf("mso")!==-1)){var ze=ie(tt);(ze=ze.replace(/[0-9a-z-_]*mso[0-9a-z-_]*/gi,""))?V.setAttribute("class",ze):V.removeAttribute("class")}var Ze=V.getAttribute("style");if(Ze){var qe=Ze.match(/text-align:.+?[; "]{1,1}/gi);qe&&qe[qe.length-1].replace(/(text-align:.+?[; "]{1,1})/gi,"$1")}re(V)}if(ae==="TR"&&se(V,q),ae!=="A"||V.attributes.getNamedItem("href")||V.attributes.getNamedItem("name")||!V.innerHTML||(V.outerHTML=V.innerHTML),ae=="A"&&V.getAttribute("href")&&V.querySelector("img"))for(var Fe=V.querySelectorAll("span"),Ye=0;Ye<Fe.length;Ye++)Fe[Ye].innerText||(Fe[Ye].outerHTML=Fe[Ye].innerHTML);if(ae!=="TD"&&ae!=="TH"||V.innerHTML||(V.innerHTML="<br>"),V.getAttribute("lang")&&V.removeAttribute("lang"),V.getAttribute("style")&&V.getAttribute("style").toLowerCase().indexOf("mso")!==-1){var xt=ie(V.getAttribute("style"));(xt=xt.replace(/[0-9a-z-_]*mso[0-9a-z-_]*:.+?(;{1,1}|$)/gi,"").replace("line-height:107%",""))?V.setAttribute("style",xt):V.removeAttribute("style")}return!0}function J(V,q){0<=V.indexOf("<html")&&(V=V.replace(/[.\s\S\w\W<>]*(<html[^>]*>[.\s\S\w\W<>]*<\/html>)[.\s\S\w\W<>]*/i,"$1"));var ae=V.match(/(MSFontService|class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument|LibreOffice)/gi);(function(tt){for(var ze=tt.split("v:shape"),Ze=1;Ze<ze.length;Ze++){var qe=ze[Ze],Fe=qe.split(' id="')[1];if(Fe&&1<Fe.length){Fe=Fe.split('"')[0];var Ye=qe.split(' o:spid="')[1];Ye&&1<Ye.length&&(Ye=Ye.split('"')[0],N[Fe]=Ye)}}})(V);var Le=new DOMParser().parseFromString(V,"text/html"),Ee=Le.head,we=Le.body,Ne=function(tt){var ze={},Ze=tt.getElementsByTagName("style");if(Ze.length){var qe=Ze[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);if(qe)for(var Fe=0;Fe<qe.length;Fe++){var Ye=qe[Fe],xt=Ye.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),ft=Ye.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1");xt=xt.replace(/^[\s]|[\s]$/gm,""),ft=ft.replace(/^[\s]|[\s]$/gm,""),xt=xt.replace(/\n|\r|\n\r/g,""),ft=ft.replace(/\n|\r|\n\r/g,"");for(var Ot=xt.split(", "),Rt=0;Rt<Ot.length;Rt++)ze[Ot[Rt]]=ft}}return ze}(Ee);B(we,function(Me){if(Me.nodeType===Node.ELEMENT_NODE&&Me.hasAttribute("style")){var tt=Me.getAttribute("style");Me.setAttribute("style",tt),Me.style.fontFamily||Me.setAttribute("style",function(Ze){return Ze.replace(/mso-(bidi|fareast|fareast-theme)-font-family/g,"font-family")}(tt))}return!0}),B(we,function(Me){if(Me.nodeType===Node.TEXT_NODE&&/\n|\u00a0|\r/.test(Me.data)){if(!/\S| /.test(Me.data)&&!/[\u00a0]+/.test(Me.data))return Me.data===x.UNICODE_NBSP?(Me.data="",!0):Me.data.length===1&&Me.data.charCodeAt(0)===10?(Me.data=" ",!0):(L(Me),!1);Me.data=Me.data.replace(/\n|\r/gi," ")}return!0}),B(we,function(Me){return Me.nodeType!==Node.ELEMENT_NODE||Me.tagName!=="V:IMAGEDATA"&&Me.tagName!=="IMG"||R(Me,q),!0});for(var We=we.querySelectorAll("ul > ul, ul > ol, ol > ul, ol > ol"),ct=We.length-1;0<=ct;ct--)We[ct].previousElementSibling&&We[ct].previousElementSibling.tagName==="LI"&&We[ct].previousElementSibling.appendChild(We[ct]);B(we,function(Me){if(Me.nodeType===Node.TEXT_NODE)return Me.data=Me.data.replace(/<br>(\n|\r)/gi,"<br>"),!1;if(Me.nodeType===Node.ELEMENT_NODE){if(F(Me)){var tt=Me.parentNode,ze=Me.previousSibling,Ze=function xt(ft,Ot,Rt,zt){var Zt,wn,Zn,et,wt,It,nn,bn=navigator.userAgent.toLowerCase();bn.indexOf("safari")!=-1&&(bn=-1<bn.indexOf("chrome")?1:"safari"),ft.innerHTML.includes(`mso-list:
Ignore`)&&(ft.innerHTML=ft.innerHTML.replace(/mso-list:\nIgnore/gi,"mso-list:Ignore"));var kn,Mn,vn,Hn,So=/[0-9a-zA-Z]./gi,ro="",Xo=G(ft),zn=(Zt=a(ft).find("ol"))===null||Zt===void 0||(Zt=Zt.attr("style"))===null||Zt===void 0||(Zt=Zt.split(";"))===null||Zt===void 0?void 0:Zt.find(function(me){return me.trim().startsWith("list-style-type")});if(zn==null&&P(ft)&&(zn=(Mn=a(ft).find("ul"))===null||Mn===void 0||(Mn=Mn.attr("style"))===null||Mn===void 0||(Mn=Mn.split(";"))===null||Mn===void 0?void 0:Mn.find(function(me){return me.trim().startsWith("list-style-type")})),Xo)It="ol",nn=zn?"list-style-type: "+zn.replace("list-style-type:","").trim()+";":"";else if(P(ft))It="ul",nn=zn?"list-style-type: "+zn.replace("list-style-type:","").trim()+";":"";else{var cs=ft.querySelector('span[style="mso-list:Ignore"]');cs==null&&bn=="safari"&&(cs=ft.querySelector('span[lang="PT-BR"]'));var ms=!1;cs&&(ms=ms||So.test(cs.textContent)),cs!==null&&(kn=cs.textContent.trim().split(".")[0]),It=ms==1?(kn=(kn=cs.textContent.trim().split(".")[0]).replace(/\(([^)]+)\)|[)]$/g,"$1"),isNaN(parseInt(kn))?/^(m{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3}))$/.test(kn)?(nn="lower-roman;",ft.nextElementSibling&&ft.nextElementSibling.textContent.trim().split(".")[0].length===1&&(nn="lower-alpha;")):/^(M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3}))$/.test(kn)?(nn="upper-roman;",ft.nextElementSibling&&ft.nextElementSibling.textContent.trim().split(".")[0].length===1&&(nn="upper-alpha;")):kn=="o"?nn="circle;":kn.match(/^v$/)||(kn.match(/^[a-z]$/)||kn.match(/^[a-z]\)$/)?nn="lower-alpha;":(kn.match(/^[A-Z]$/)||kn.match(/^[A-Z]\)$/))&&(nn="upper-alpha;")):nn="decimal;",nn=nn?"list-style-type: "+nn:"","ol"):(cs!=null&&(kn=cs.textContent.trim().split(".")[0]),kn==""?nn="square;":kn==""&&(nn="disc;"),nn=nn?"list-style-type: "+nn:"","ul"),cs==null||cs.textContent==null||isNaN(parseInt(cs.textContent.trim().split(".")[1],10))||(ro=' class="decimal_type" ')}var Et=1,fe="",Y=(ee(ft),ft.style.marginLeft),le="";Y.includes("in")?(le="in",Y=parseFloat(Y)-.5):Y.includes("pt")&&(le="px",Y=parseFloat(Y)-10),Y&&(Hn=" margin-left: "+Y+le+";"),Et=nn=="list-style-type: upper-alpha;"?Xo?parseInt(a(ft).find("ol").attr("start")):kn.charCodeAt(0)-64:nn=="list-style-type: lower-alpha;"?Xo?parseInt(a(ft).find("ol").attr("start")):kn.charCodeAt(0)-96:nn=="list-style-type: upper-roman;"||nn=="list-style-type: lower-roman;"?Xo?parseInt(a(ft).find("ol").attr("start")):function(_e){for(var je={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3,i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},pt=0,mt=0,kt=_e.length-1;0<=kt;kt--){var Ut=je[_e[kt]];mt<=Ut?pt+=Ut:pt-=Ut,mt=Ut}return pt}(kn):parseInt(Xo?a(ft).find("ol").attr("start"):kn),fe+=nn||"",fe+=Hn||"",vn="<"+It,ft.style.display==="none"&&(vn+=' class="fr-mso-hidden"'),vn+=ro||"",vn+=It!="ol"||Et==1||isNaN(Et)?"":' start = "'+Et+'"',vn+=fe?' style = "'+fe+'"':"",vn+=">";for(var ye=!1;ft;){if(!F(ft)){if(ft.outerHTML&&0<ft.outerHTML.indexOf("mso-bookmark")&&(ft.textContent||"").length==0){ft=ft.nextElementSibling;continue}break}var Ce=ee(ft);if((Rt=Rt||Ce)<Ce)vn+=(wt=xt(ft,Ot,Ce,ft.style.marginLeft)).el.outerHTML,ft=wt.currentNode;else{if(Ce<Rt)break;ft.firstElementChild&&ft.firstElementChild.firstElementChild&&ft.firstElementChild.firstElementChild.firstChild&&(So.lastIndex=0),Zn&&Zn.firstElementChild&&Zn.firstElementChild.firstElementChild&&Zn.firstElementChild.firstElementChild.firstChild&&(So.lastIndex=0,wn=So.test(Zn.firstElementChild.firstElementChild.firstChild.data||Zn.firstElementChild.firstElementChild.firstChild.firstChild&&Zn.firstElementChild.firstElementChild.firstChild.firstChild.data||""));var Ue=!1,Be=Zn&&ee(Zn);(!zt&&!ft.style.marginLeft||zt&&ft.style.marginLeft&&zt===ft.style.marginLeft||Be&&Be===Ce)&&(Ue=!0),zt=ft.style.marginLeft,Ue||wn===void 0?(et=w(ft,Ot),ft.nextSibling&&ft.nextSibling.innerText!=null&&ft.nextSibling.innerText!=null&&!vn.includes('class="decimal_type"')&&(isNaN(parseInt(ft.nextSibling.innerText.trim().split(".")[1],10))||(vn=vn.substring(3,0)+' class="decimal_type"'+vn.substring(3,vn.length))),vn+=et):(Ce==1&&(vn+="</"+It+">",ye=!0,Zn=null),vn+=(wt=xt(ft,Ot,Ce,ft.style.marginLeft)).el.outerHTML,ft=wt.currentNode);var te=ft&&ft.nextElementSibling;if(te&&(Zn=te.previousElementSibling),ft&&!F(ft)){if(ft.outerHTML&&0<ft.outerHTML.indexOf("mso-bookmark")&&(ft.textContent||"").length==0){ft=ft.nextElementSibling;continue}break}ft&&ft.parentNode&&ft.parentNode.removeChild(ft),ft=te}}ye||(vn+="</"+It+">");var pe=document.createElement("div");return pe.innerHTML=vn,{el:pe,currentNode:ft}}(Me,Ne).el,qe=null;return(qe=ze?ze.nextSibling:tt.firstChild)?tt.insertBefore(Ze,qe):tt.appendChild(Ze),!1}return Me.tagName==="FONT"&&(ae&&ae[0]==="LibreOffice"||Ne["."+Me.getAttribute("class")])?Me=be(Me,"span"):ae&&ae[0]==="<!--StartFragment-->"&&Me.tagName==="UL"&&(a(Me).find("li span").each(function(){a(this).html()==="&nbsp;"&&(0<a(this).prev().text().trim().length?a(this).remove():a(this).html("&ZeroWidthSpace;"))}),a(Me).is("ul")&&Me.setAttribute("style",he(Me,["margin","margin-left","list-style-type"])),a(Me).find("ul").each(function(){this.setAttribute("style",he(this,["margin","margin-left","list-style-type"]))})),Me.tagName.toLowerCase()!=="img"&&function(ft){Array.from(ft.attributes).map(function(Ot){return Ot.name}).filter(function(Ot){return Ot.toLowerCase().startsWith("data-")||Ot.toLowerCase().startsWith("xml:")}).forEach(function(Ot){a(ft).removeAttr(Ot)})}(Me),A(Me,Ne)}if(Me.nodeType!==Node.COMMENT_NODE)return!0;if(-1<Me.data.indexOf("[if !supportLineBreakNewLine]"))for(var Fe=Me.nextSibling;Fe;)(Fe=Me.nextSibling)&&L(Fe),Fe.data&&-1<Fe.data.indexOf("[endif]")&&(Fe=null);if(-1<Me.data.indexOf("[if supportFields]")&&-1<Me.data.indexOf("FORMCHECKBOX")){var Ye=document.createElement("input");Ye.type="checkbox",Me.parentNode.insertBefore(Ye,Me.nextSibling)}return L(Me),!1}),j=null,H={},we.innerHTML=function(tt){var ze=a(document.createElement("div")).attr("id","top-level");ze.html(tt);for(var Ze=ze[0].querySelectorAll("ol, ul"),qe=0;qe<Ze.length;qe++)if(a(Ze[qe]).parentsUntil("#top-level","ol, ul").length){Ze[qe].style.removeProperty("margin-left");for(var Fe=Ze[qe].children,Ye=0;Ye<Fe.length;Ye++)Fe[Ye].tagName=="LI"&&Fe[Ye].style.removeProperty("margin-left")}return ze[0].innerHTML}(we.innerHTML),B(we,function(Me){if(Me.nodeType===Node.ELEMENT_NODE){var tt=Me.tagName;if(!Me.innerHTML&&["BR","IMG","INPUT"].indexOf(tt)===-1){for(var ze=Me.parentNode;ze&&(L(Me),!(Me=ze).innerHTML)&&Me.parentNode.tagName!=="TD";)ze=Me.parentNode;return!1}(function(qe){var Fe=qe.getAttribute("style");if(Fe){(Fe=ie(Fe))&&Fe.slice(-1)!==";"&&(Fe+=";");var Ye=Fe.match(/(^|\S+?):.+?;{1,1}/gi);if(Ye){for(var xt={},ft=0;ft<Ye.length;ft++){var Ot=Ye[ft].split(":");Ot.length===2&&(Ot[0]==="text-align"&&qe.tagName==="SPAN"||(xt[Ot[0]]=Ot[1]))}var Rt="";for(var zt in xt)if(xt.hasOwnProperty(zt)){if(zt==="font-size"&&xt[zt].slice(-3)==="pt;"){var Zt=null;try{Zt=parseFloat(xt[zt].slice(0,-3),10)}catch{Zt=null}if(Zt){var wn=s.opts.fontSizeUnit;wn==="px"?(Zt=Math.round(1.33*Zt),xt[zt]=Zt+"px;"):wn==="pt"&&(Zt=Math.round(Zt),xt[zt]=Zt+"pt;")}}Rt+=zt+":"+xt[zt]}Rt&&qe.setAttribute("style",Rt)}}})(Me)}return!0}),B(we,function(Me){if(Me&&Me.nodeName==="A"){if(Me.hasAttribute("name")&&Me.getAttribute("name").startsWith("_Toc")&&Me.parentNode&&(Me.parentNode.id=Me.getAttribute("name")),Me.href===""){for(var tt=document.createDocumentFragment();Me.firstChild;)tt.appendChild(Me.firstChild);Me.parentNode.replaceChild(tt,Me)}Me.hasAttribute("href")&&Me.getAttribute("href").startsWith("#_Toc")&&(Me.removeChild(Me.lastChild),Me.removeChild(Me.lastChild))}return!0}),B(we,function(Me){return Me&&Me.tagName==="P"&&Me.parentNode.tagName==="DIV"&&Me.parentNode.children.length==1&&a(Me).unwrap(),!0}),B(we,function(Me){if(Me&&Me.tagName==="SPAN")for(;Me.nextSibling&&Me.nextSibling.nodeType===Node.ELEMENT_NODE&&Me.nextSibling.tagName==="SPAN"&&Me.getAttribute("style")===Me.nextSibling.getAttribute("style");)a(Me).append(Me.nextSibling.innerHTML),a(Me.nextSibling).remove();return!0});var nt=we.outerHTML,st=s.opts.htmlAllowedStyleProps;return s.opts.htmlAllowedStyleProps=s.opts.wordAllowedStyleProps,nt=s.clean.html(nt,s.opts.wordDeniedTags,s.opts.wordDeniedAttrs,!1),s.opts.htmlAllowedStyleProps=st,nt}return{_init:function(){s.events.on("paste.wordPaste",function(q){return $=q,s.opts.wordPasteModal?function(){if(!b){var Le='<h4><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74.95 73.23" style="height: 25px; vertical-align: text-bottom; margin-right: 5px; display: inline-block"><defs><style>.a{fill:#2a5699;}.b{fill:#fff;}</style></defs><path class="a" d="M615.15,827.22h5.09V834c9.11.05,18.21-.09,27.32.05a2.93,2.93,0,0,1,3.29,3.25c.14,16.77,0,33.56.09,50.33-.09,1.72.17,3.63-.83,5.15-1.24.89-2.85.78-4.3.84-8.52,0-17,0-25.56,0v6.81h-5.32c-13-2.37-26-4.54-38.94-6.81q0-29.8,0-59.59c13.05-2.28,26.11-4.5,39.17-6.83Z" transform="translate(-575.97 -827.22)"/><path class="b" d="M620.24,836.59h28.1v54.49h-28.1v-6.81h22.14v-3.41H620.24v-4.26h22.14V873.2H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24V846h22.14v-3.41H620.24Zm-26.67,15c1.62-.09,3.24-.16,4.85-.25,1.13,5.75,2.29,11.49,3.52,17.21,1-5.91,2-11.8,3.06-17.7,1.7-.06,3.41-.15,5.1-.26-1.92,8.25-3.61,16.57-5.71,24.77-1.42.74-3.55,0-5.24.09-1.13-5.64-2.45-11.24-3.47-16.9-1,5.5-2.29,10.95-3.43,16.42q-2.45-.13-4.92-.3c-1.41-7.49-3.07-14.93-4.39-22.44l4.38-.18c.88,5.42,1.87,10.82,2.64,16.25,1.2-5.57,2.43-11.14,3.62-16.71Z" transform="translate(-575.97 -827.22)"/></svg> '+s.language.translate("Word Paste Detected")+"</h4>",Ee=function(){var ct='<div class="fr-word-paste-modal" style="padding: 20px 20px 10px 20px;">';return ct+='<p style="text-align: left;">'+s.language.translate("The pasted content is coming from a Microsoft Word document. Do you want to keep the format or clean it up?")+"</p>",ct+='<div style="text-align: right; margin-top: 50px;"><button class="fr-remove-word fr-command">'+s.language.translate("Clean")+'</button> <button class="fr-keep-word fr-command">'+s.language.translate("Keep")+"</button></div>",ct+="</div>"}(),we=s.modals.create(f,Le,Ee),Ne=we.$body;b=we.$modal,we.$modal.addClass("fr-middle"),s.events.bindClick(Ne,"button.fr-remove-word",function(){var We=b.data("instance")||s;We.wordPaste.clean()}),s.events.bindClick(Ne,"button.fr-keep-word",function(){var We=b.data("instance")||s;We.wordPaste.clean(!0)}),s.events.$on(a(s.o_win),"resize",function(){s.modals.resize(f)})}s.modals.show(f),s.modals.resize(f)}():T(s.opts.wordPasteKeepFormatting),!1})},clean:T,_wordClean:J}};var Oe={},un={},On={},xe=Mt(!0),Go="vanilla",Co={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:Mt(!0),allOn:function(){var b=Mt(!0),$={};for(var ge in b)b.hasOwnProperty(ge)&&($[ge]=!0);return $}()};function Eo(s,b){var $=b?"Error in "+b+" extension->":"Error in unnamed extension",ge={valid:!0,error:""};Oe.helper.isArray(s)||(s=[s]);for(var a=0;a<s.length;++a){var f=$+" sub-extension "+a+": ",N=s[a];if(Ke(N)!=="object")return ge.valid=!1,ge.error=f+"must be an object, but "+Ke(N)+" given",ge;if(!Oe.helper.isString(N.type))return ge.valid=!1,ge.error=f+'property "type" must be a string, but '+Ke(N.type)+" given",ge;var O=N.type=N.type.toLowerCase();if(O==="language"&&(O=N.type="lang"),O==="html"&&(O=N.type="output"),O!=="lang"&&O!=="output"&&O!=="listener")return ge.valid=!1,ge.error=f+"type "+O+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',ge;if(O==="listener"){if(Oe.helper.isUndefined(N.listeners))return ge.valid=!1,ge.error=f+'. Extensions of type "listener" must have a property called "listeners"',ge}else if(Oe.helper.isUndefined(N.filter)&&Oe.helper.isUndefined(N.regex))return ge.valid=!1,ge.error=f+O+' extensions must define either a "regex" property or a "filter" method',ge;if(N.listeners){if(Ke(N.listeners)!=="object")return ge.valid=!1,ge.error=f+'"listeners" property must be an object but '+Ke(N.listeners)+" given",ge;for(var T in N.listeners)if(N.listeners.hasOwnProperty(T)&&typeof N.listeners[T]!="function")return ge.valid=!1,ge.error=f+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+T+" must be a function but "+Ke(N.listeners[T])+" given",ge}if(N.filter){if(typeof N.filter!="function")return ge.valid=!1,ge.error=f+'"filter" must be a function, but '+Ke(N.filter)+" given",ge}else if(N.regex){if(Oe.helper.isString(N.regex)&&(N.regex=new RegExp(N.regex,"g")),!(N.regex instanceof RegExp))return ge.valid=!1,ge.error=f+'"regex" property must either be a string or a RegExp object, but '+Ke(N.regex)+" given",ge;if(Oe.helper.isUndefined(N.replace))return ge.valid=!1,ge.error=f+'"regex" extensions must implement a replace string or function',ge}}return ge}function jt(s,b){return"E"+b.charCodeAt(0)+"E"}Oe.helper={},Oe.extensions={},Oe.setOption=function(s,b){return xe[s]=b,this},Oe.getOption=function(s){return xe[s]},Oe.getOptions=function(){return xe},Oe.resetOptions=function(){xe=Mt(!0)},Oe.setFlavor=function(s){if(!Co.hasOwnProperty(s))throw Error(s+" flavor was not found");Oe.resetOptions();var b=Co[s];for(var $ in Go=s,b)b.hasOwnProperty($)&&(xe[$]=b[$])},Oe.getFlavor=function(){return Go},Oe.getFlavorOptions=function(s){if(Co.hasOwnProperty(s))return Co[s]},Oe.getDefaultOptions=function(s){return Mt(s)},Oe.subParser=function(s,b){if(Oe.helper.isString(s)){if(b===void 0){if(un.hasOwnProperty(s))return un[s];throw Error("SubParser named "+s+" not registered!")}un[s]=b}},Oe.extension=function(s,b){if(!Oe.helper.isString(s))throw Error("Extension 'name' must be a string");if(s=Oe.helper.stdExtName(s),Oe.helper.isUndefined(b)){if(!On.hasOwnProperty(s))throw Error("Extension named "+s+" is not registered!");return On[s]}typeof b=="function"&&(b=b()),Oe.helper.isArray(b)||(b=[b]);var $=Eo(b,s);if(!$.valid)throw Error($.error);On[s]=b},Oe.getAllExtensions=function(){return On},Oe.removeExtension=function(s){delete On[s]},Oe.resetExtensions=function(){On={}},Oe.validateExtension=function(s){var b=Eo(s,null);return!!b.valid},Oe.hasOwnProperty("helper")||(Oe.helper={}),Oe.helper.isString=function(s){return typeof s=="string"||s instanceof String},Oe.helper.isFunction=function(s){return s&&{}.toString.call(s)==="[object Function]"},Oe.helper.isArray=function(s){return Array.isArray(s)},Oe.helper.isUndefined=function(s){return s===void 0},Oe.helper.forEach=function(s,b){if(Oe.helper.isUndefined(s))throw new Error("obj param is required");if(Oe.helper.isUndefined(b))throw new Error("callback param is required");if(!Oe.helper.isFunction(b))throw new Error("callback param must be a function/closure");if(typeof s.forEach=="function")s.forEach(b);else if(Oe.helper.isArray(s))for(var $=0;$<s.length;$++)b(s[$],$,s);else{if(Ke(s)!=="object")throw new Error("obj does not seem to be an array or an iterable object");for(var ge in s)s.hasOwnProperty(ge)&&b(s[ge],ge,s)}},Oe.helper.stdExtName=function(s){return s.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},Oe.helper.escapeCharactersCallback=jt,Oe.helper.escapeCharacters=function(s,b,$){var ge="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";$&&(ge="\\\\"+ge);var a=new RegExp(ge,"g");return s=s.replace(a,jt)},Oe.helper.unescapeHTMLEntities=function(s){return s.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var Wo=function(b,$,ge,a){var f,N,O,T,L,B=a||"",G=-1<B.indexOf("g"),P=new RegExp($+"|"+ge,"g"+B.replace(/g/g,"")),F=new RegExp($,B.replace(/g/g,"")),j=[];do for(f=0;O=P.exec(b);)if(F.test(O[0]))f++||(T=(N=P.lastIndex)-O[0].length);else if(f&&!--f){L=O.index+O[0].length;var H={left:{start:T,end:N},match:{start:N,end:O.index},right:{start:O.index,end:L},wholeMatch:{start:T,end:L}};if(j.push(H),!G)return j}while(f&&(P.lastIndex=N));return j};Oe.helper.matchRecursiveRegExp=function(s,b,$,ge){for(var a=Wo(s,b,$,ge),f=[],N=0;N<a.length;++N)f.push([s.slice(a[N].wholeMatch.start,a[N].wholeMatch.end),s.slice(a[N].match.start,a[N].match.end),s.slice(a[N].left.start,a[N].left.end),s.slice(a[N].right.start,a[N].right.end)]);return f},Oe.helper.replaceRecursiveRegExp=function(s,b,$,ge,a){if(!Oe.helper.isFunction(b)){var f=b;b=function(){return f}}var N=Wo(s,$,ge,a),O=s,T=N.length;if(0<T){var L=[];N[0].wholeMatch.start!==0&&L.push(s.slice(0,N[0].wholeMatch.start));for(var B=0;B<T;++B)L.push(b(s.slice(N[B].wholeMatch.start,N[B].wholeMatch.end),s.slice(N[B].match.start,N[B].match.end),s.slice(N[B].left.start,N[B].left.end),s.slice(N[B].right.start,N[B].right.end))),B<T-1&&L.push(s.slice(N[B].wholeMatch.end,N[B+1].wholeMatch.start));N[T-1].wholeMatch.end<s.length&&L.push(s.slice(N[T-1].wholeMatch.end)),O=L.join("")}return O},Oe.helper.regexIndexOf=function(s,b,$){if(!Oe.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(b instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var ge=s.substring($||0).search(b);return 0<=ge?ge+($||0):ge},Oe.helper.splitAtIndex=function(s,b){if(!Oe.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[s.substring(0,b),s.substring(b)]},Oe.helper.encodeEmailAddress=function(s){var b=[function($){return"&#"+$.charCodeAt(0)+";"},function($){return"&#x"+$.charCodeAt(0).toString(16)+";"},function($){return $}];return s=s.replace(/./g,function($){if($==="@")$=b[Math.floor(2*Math.random())]($);else{var ge=Math.random();$=.9<ge?b[2]($):.45<ge?b[1]($):b[0]($)}return $})},Oe.helper.padEnd=function(s,b,$){return b>>=0,$=String($||" "),s.length>b?String(s):((b-=s.length)>$.length&&($+=$.repeat(b/$.length)),String(s)+$.slice(0,b))},typeof console>"u"&&(console={warn:function(s){alert(s)},log:function(s){alert(s)},error:function(s){throw s}}),Oe.helper.regexes={asteriskDashAndColon:/([*_:~])/g},Oe.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},Oe.Converter=function(s){var b={},$=[],ge=[],a={},f=Go,N={parsed:{},raw:"",format:""};function O(L,B){if(B=B||null,Oe.helper.isString(L)){if(B=L=Oe.helper.stdExtName(L),Oe.extensions[L])return void function(H,ee){typeof H=="function"&&(H=H(new Oe.Converter)),Oe.helper.isArray(H)||(H=[H]);var w=Eo(H,ee);if(!w.valid)throw Error(w.error);for(var he=0;he<H.length;++he)switch(H[he].type){case"lang":$.push(H[he]);break;case"output":ge.push(H[he]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(Oe.extensions[L],L);if(Oe.helper.isUndefined(On[L]))throw Error('Extension "'+L+'" could not be loaded. It was either not found or is not a valid extension.');L=On[L]}typeof L=="function"&&(L=L()),Oe.helper.isArray(L)||(L=[L]);var G=Eo(L,B);if(!G.valid)throw Error(G.error);for(var P=0;P<L.length;++P){switch(L[P].type){case"lang":$.push(L[P]);break;case"output":ge.push(L[P])}if(L[P].hasOwnProperty("listeners"))for(var F in L[P].listeners)L[P].listeners.hasOwnProperty(F)&&T(F,L[P].listeners[F])}}function T(L,B){if(!Oe.helper.isString(L))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+Ke(L)+" given");if(typeof B!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+Ke(B)+" given");a.hasOwnProperty(L)||(a[L]=[]),a[L].push(B)}(function(){for(var B in s=s||{},xe)xe.hasOwnProperty(B)&&(b[B]=xe[B]);{if(Ke(s)!=="object")throw Error("Converter expects the passed parameter to be an object, but "+Ke(s)+" was passed instead.");for(var G in s)s.hasOwnProperty(G)&&(b[G]=s[G])}b.extensions&&Oe.helper.forEach(b.extensions,O)})(),this._dispatch=function(L,B,G,P){if(a.hasOwnProperty(L))for(var F=0;F<a[L].length;++F){var j=a[L][F](L,B,this,G,P);j&&j!==void 0&&(B=j)}return B},this.listen=function(L,B){return T(L,B),this},this.makeHtml=function(L){if(!L)return L;var B={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:$,outputModifiers:ge,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return L=(L=(L=(L=(L=L.replace(/\xa8/g,"T")).replace(/\$/g,"D")).replace(/\r\n/g,`
`)).replace(/\r/g,`
`)).replace(/\u00A0/g,"&nbsp;"),b.smartIndentationFix&&(L=function(P){var F=P.match(/^\s*/)[0].length,j=new RegExp("^\\s{0,"+F+"}","gm");return P.replace(j,"")}(L)),L=`

`+L+`

`,L=(L=Oe.subParser("detab")(L,b,B)).replace(/^[ \t]+$/gm,""),Oe.helper.forEach($,function(G){L=Oe.subParser("runExtension")(G,L,b,B)}),L=Oe.subParser("metadata")(L,b,B),L=Oe.subParser("hashPreCodeTags")(L,b,B),L=Oe.subParser("githubCodeBlocks")(L,b,B),L=Oe.subParser("hashHTMLBlocks")(L,b,B),L=Oe.subParser("hashCodeTags")(L,b,B),L=Oe.subParser("stripLinkDefinitions")(L,b,B),L=Oe.subParser("blockGamut")(L,b,B),L=Oe.subParser("unhashHTMLSpans")(L,b,B),L=(L=(L=Oe.subParser("unescapeSpecialChars")(L,b,B)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,""),L=Oe.subParser("completeHTMLDocument")(L,b,B),Oe.helper.forEach(ge,function(G){L=Oe.subParser("runExtension")(G,L,b,B)}),N=B.metadata,L},this.makeMarkdown=this.makeMd=function(L,B){if(L=(L=(L=L.replace(/\r\n/g,`
`)).replace(/\r/g,`
`)).replace(/>[ \t]+</,">NBSP;<"),!B){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");B=window.document}var G=B.createElement("div");G.innerHTML=L;var P={preList:function(w){for(var he=w.querySelectorAll("pre"),be=[],se=0;se<he.length;++se)if(he[se].childElementCount===1&&he[se].firstChild.tagName.toLowerCase()==="code"){var re=he[se].firstChild.innerHTML.trim(),ie=he[se].firstChild.getAttribute("data-language")||"";if(ie==="")for(var M=he[se].firstChild.className.split(" "),W=0;W<M.length;++W){var K=M[W].match(/^language-(.+)$/);if(K!==null){ie=K[1];break}}re=Oe.helper.unescapeHTMLEntities(re),be.push(re),he[se].outerHTML='<precode language="'+ie+'" precodenum="'+se.toString()+'"></precode>'}else be.push(he[se].innerHTML),he[se].innerHTML="",he[se].setAttribute("prenum",se.toString());return be}(G)};(function ee(w){for(var he=0;he<w.childNodes.length;++he){var be=w.childNodes[he];be.nodeType===3?/\S/.test(be.nodeValue)?(be.nodeValue=be.nodeValue.split(`
`).join(" "),be.nodeValue=be.nodeValue.replace(/(\s)+/g,"$1")):(w.removeChild(be),--he):be.nodeType===1&&ee(be)}})(G);for(var F=G.childNodes,j="",H=0;H<F.length;H++)j+=Oe.subParser("makeMarkdown.node")(F[H],P);return j},this.setOption=function(L,B){b[L]=B},this.getOption=function(L){return b[L]},this.getOptions=function(){return b},this.addExtension=function(L,B){O(L,B=B||null)},this.useExtension=function(L){O(L)},this.setFlavor=function(L){if(!Co.hasOwnProperty(L))throw Error(L+" flavor was not found");var B=Co[L];for(var G in f=L,B)B.hasOwnProperty(G)&&(b[G]=B[G])},this.getFlavor=function(){return f},this.removeExtension=function(L){Oe.helper.isArray(L)||(L=[L]);for(var B=0;B<L.length;++B){for(var G=L[B],P=0;P<$.length;++P)$[P]===G&&$[P].splice(P,1);for(;0<ge.length;++P)ge[0]===G&&ge[0].splice(P,1)}},this.getAllExtensions=function(){return{language:$,output:ge}},this.getMetadata=function(L){return L?N.raw:N.parsed},this.getMetadataFormat=function(){return N.format},this._setMetadataPair=function(L,B){N.parsed[L]=B},this._setMetadataFormat=function(L){N.format=L},this._setMetadataRaw=function(L){N.raw=L}},Oe.subParser("anchors",function(s,b,$){var ge=function(f,N,O,T,L,B,G){if(Oe.helper.isUndefined(G)&&(G=""),O=O.toLowerCase(),-1<f.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))T="";else if(!T){if(O||(O=N.toLowerCase().replace(/ ?\n/g," ")),T="#"+O,Oe.helper.isUndefined($.gUrls[O]))return f;T=$.gUrls[O],Oe.helper.isUndefined($.gTitles[O])||(G=$.gTitles[O])}var P='<a href="'+(T=T.replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'"';return G!==""&&G!==null&&(P+=' title="'+(G=(G=G.replace(/"/g,"&quot;")).replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'"'),b.openLinksInNewWindow&&!/^#/.test(T)&&(P+=' rel="noopener noreferrer" target="E95Eblank"'),P+=">"+N+"</a>"};return s=(s=(s=(s=(s=$.converter._dispatch("anchors.before",s,b,$)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,ge)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,ge)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,ge)).replace(/\[([^\[\]]+)]()()()()()/g,ge),b.ghMentions&&(s=s.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(a,f,N,O,T){if(N==="\\")return f+O;if(!Oe.helper.isString(b.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var L=b.ghMentionsLink.replace(/\{u}/g,T),B="";return b.openLinksInNewWindow&&(B=' rel="noopener noreferrer" target="E95Eblank"'),f+'<a href="'+L+'"'+B+">"+O+"</a>"})),s=$.converter._dispatch("anchors.after",s,b,$)});var Yt,lt,qn=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,fs=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,_o=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,ht=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,eo=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,ks=function(b){return function($,ge,a,f,N,O,T){var L=a=a.replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback),B="",G="",P=ge||"",F=T||"";return/^www\./i.test(a)&&(a=a.replace(/^www\./i,"http://www.")),b.excludeTrailingPunctuationFromURLs&&O&&(B=O),b.openLinksInNewWindow&&(G=' rel="noopener noreferrer" target="E95Eblank"'),P+'<a href="'+a+'"'+G+">"+L+"</a>"+B+F}},Qo=function(b,$){return function(ge,a,f){var N="mailto:";return a=a||"",f=Oe.subParser("unescapeSpecialChars")(f,b,$),b.encodeEmails?(N=Oe.helper.encodeEmailAddress(N+f),f=Oe.helper.encodeEmailAddress(f)):N+=f,a+'<a href="'+N+'">'+f+"</a>"}};Oe.subParser("autoLinks",function(s,b,$){return s=(s=(s=$.converter._dispatch("autoLinks.before",s,b,$)).replace(_o,ks(b))).replace(eo,Qo(b,$)),s=$.converter._dispatch("autoLinks.after",s,b,$)}),Oe.subParser("simplifiedAutoLinks",function(s,b,$){return b.simplifiedAutoLink?(s=$.converter._dispatch("simplifiedAutoLinks.before",s,b,$),s=(s=b.excludeTrailingPunctuationFromURLs?s.replace(fs,ks(b)):s.replace(qn,ks(b))).replace(ht,Qo(b,$)),s=$.converter._dispatch("simplifiedAutoLinks.after",s,b,$)):s}),Oe.subParser("blockGamut",function(s,b,$){return s=$.converter._dispatch("blockGamut.before",s,b,$),s=Oe.subParser("blockQuotes")(s,b,$),s=Oe.subParser("headers")(s,b,$),s=Oe.subParser("horizontalRule")(s,b,$),s=Oe.subParser("lists")(s,b,$),s=Oe.subParser("codeBlocks")(s,b,$),s=Oe.subParser("tables")(s,b,$),s=Oe.subParser("hashHTMLBlocks")(s,b,$),s=Oe.subParser("paragraphs")(s,b,$),s=$.converter._dispatch("blockGamut.after",s,b,$)}),Oe.subParser("blockQuotes",function(s,b,$){s=$.converter._dispatch("blockQuotes.before",s,b,$),s+=`

`;var ge=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return b.splitAdjacentBlockquotes&&(ge=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),s=s.replace(ge,function(a){return a=(a=(a=a.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),a=Oe.subParser("githubCodeBlocks")(a,b,$),a=(a=(a=Oe.subParser("blockGamut")(a,b,$)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(f,N){var O=N;return O=(O=O.replace(/^ {2}/gm,"0")).replace(/\xa80/g,"")}),Oe.subParser("hashBlock")(`<blockquote>
`+a+`
</blockquote>`,b,$)}),s=$.converter._dispatch("blockQuotes.after",s,b,$)}),Oe.subParser("codeBlocks",function(s,b,$){return s=$.converter._dispatch("codeBlocks.before",s,b,$),s=(s=(s+="0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(ge,a,f){var N=a,O=f,T=`
`;return N=Oe.subParser("outdent")(N,b,$),N=Oe.subParser("encodeCode")(N,b,$),N=(N=(N=Oe.subParser("detab")(N,b,$)).replace(/^\n+/g,"")).replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(T=""),N="<pre><code>"+N+T+"</code></pre>",Oe.subParser("hashBlock")(N,b,$)+O})).replace(/\xa80/,""),s=$.converter._dispatch("codeBlocks.after",s,b,$)}),Oe.subParser("codeSpans",function(s,b,$){return(s=$.converter._dispatch("codeSpans.before",s,b,$))===void 0&&(s=""),s=s.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(ge,a,f,N){var O=N;return O=(O=O.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),O=a+"<code>"+(O=Oe.subParser("encodeCode")(O,b,$))+"</code>",O=Oe.subParser("hashHTMLSpans")(O,b,$)}),s=$.converter._dispatch("codeSpans.after",s,b,$)}),Oe.subParser("completeHTMLDocument",function(s,b,$){if(!b.completeHTMLDocument)return s;s=$.converter._dispatch("completeHTMLDocument.before",s,b,$);var ge="html",a=`<!DOCTYPE HTML>
`,f="",N=`<meta charset="utf-8">
`,O="",T="";for(var L in typeof $.metadata.parsed.doctype<"u"&&(a="<!DOCTYPE "+$.metadata.parsed.doctype+`>
`,(ge=$.metadata.parsed.doctype.toString().toLowerCase())!=="html"&&ge!=="html5"||(N='<meta charset="utf-8">')),$.metadata.parsed)if($.metadata.parsed.hasOwnProperty(L))switch(L.toLowerCase()){case"doctype":break;case"title":f="<title>"+$.metadata.parsed.title+`</title>
`;break;case"charset":N=ge==="html"||ge==="html5"?'<meta charset="'+$.metadata.parsed.charset+`">
`:'<meta name="charset" content="'+$.metadata.parsed.charset+`">
`;break;case"language":case"lang":O=' lang="'+$.metadata.parsed[L]+'"',T+='<meta name="'+L+'" content="'+$.metadata.parsed[L]+`">
`;break;default:T+='<meta name="'+L+'" content="'+$.metadata.parsed[L]+`">
`}return s=a+"<html"+O+`>
<head>
`+f+N+T+`</head>
<body>
`+s.trim()+`
</body>
</html>`,s=$.converter._dispatch("completeHTMLDocument.after",s,b,$)}),Oe.subParser("detab",function(s,b,$){return s=(s=(s=(s=(s=(s=$.converter._dispatch("detab.before",s,b,$)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"AB")).replace(/\xa8B(.+?)\xa8A/g,function(ge,a){for(var f=a,N=4-f.length%4,O=0;O<N;O++)f+=" ";return f})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),s=$.converter._dispatch("detab.after",s,b,$)}),Oe.subParser("ellipsis",function(s,b,$){return s=(s=$.converter._dispatch("ellipsis.before",s,b,$)).replace(/\.\.\./g,""),s=$.converter._dispatch("ellipsis.after",s,b,$)}),Oe.subParser("emoji",function(s,b,$){return b.emoji?(s=(s=$.converter._dispatch("emoji.before",s,b,$)).replace(/:([\S]+?):/g,function(ge,a){return Oe.helper.emojis.hasOwnProperty(a)?Oe.helper.emojis[a]:ge}),s=$.converter._dispatch("emoji.after",s,b,$)):s}),Oe.subParser("encodeAmpsAndAngles",function(s,b,$){return s=(s=(s=(s=(s=$.converter._dispatch("encodeAmpsAndAngles.before",s,b,$)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),s=$.converter._dispatch("encodeAmpsAndAngles.after",s,b,$)}),Oe.subParser("encodeBackslashEscapes",function(s,b,$){return s=(s=(s=$.converter._dispatch("encodeBackslashEscapes.before",s,b,$)).replace(/\\(\\)/g,Oe.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,Oe.helper.escapeCharactersCallback),s=$.converter._dispatch("encodeBackslashEscapes.after",s,b,$)}),Oe.subParser("encodeCode",function(s,b,$){return s=(s=$.converter._dispatch("encodeCode.before",s,b,$)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,Oe.helper.escapeCharactersCallback),s=$.converter._dispatch("encodeCode.after",s,b,$)}),Oe.subParser("escapeSpecialCharsWithinTagAttributes",function(s,b,$){return s=(s=(s=$.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",s,b,$)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(ge){return ge.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,Oe.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(ge){return ge.replace(/([\\`*_~=|])/g,Oe.helper.escapeCharactersCallback)}),s=$.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",s,b,$)}),Oe.subParser("githubCodeBlocks",function(s,b,$){return b.ghCodeBlocks?(s=$.converter._dispatch("githubCodeBlocks.before",s,b,$),s=(s=(s+="0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(ge,a,f,N){var O=b.omitExtraWLInCodeBlocks?"":`
`;return N=Oe.subParser("encodeCode")(N,b,$),N="<pre><code"+(f?' class="'+f+" language-"+f+'"':"")+">"+(N=(N=(N=Oe.subParser("detab")(N,b,$)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+O+"</code></pre>",N=Oe.subParser("hashBlock")(N,b,$),`

G`+($.ghCodeBlocks.push({text:ge,codeblock:N})-1)+`G

`})).replace(/\xa80/,""),$.converter._dispatch("githubCodeBlocks.after",s,b,$)):s}),Oe.subParser("hashBlock",function(s,b,$){return s=(s=$.converter._dispatch("hashBlock.before",s,b,$)).replace(/(^\n+|\n+$)/g,""),s=`

K`+($.gHtmlBlocks.push(s)-1)+`K

`,s=$.converter._dispatch("hashBlock.after",s,b,$)}),Oe.subParser("hashCodeTags",function(s,b,$){s=$.converter._dispatch("hashCodeTags.before",s,b,$);var ge=function(f,N,O,T){var L=O+Oe.subParser("encodeCode")(N,b,$)+T;return"C"+($.gHtmlSpans.push(L)-1)+"C"};return s=Oe.helper.replaceRecursiveRegExp(s,ge,"<code\\b[^>]*>","</code>","gim"),s=$.converter._dispatch("hashCodeTags.after",s,b,$)}),Oe.subParser("hashElement",function(s,b,$){return function(ge,a){var f=a;return f=(f=(f=f.replace(/\n\n/g,`
`)).replace(/^\n/,"")).replace(/\n+$/g,""),f=`

K`+($.gHtmlBlocks.push(f)-1)+`K

`}}),Oe.subParser("hashHTMLBlocks",function(s,b,$){s=$.converter._dispatch("hashHTMLBlocks.before",s,b,$);var ge=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],a=function(F,j,H,ee){var w=F;return H.search(/\bmarkdown\b/)!==-1&&(w=H+$.converter.makeHtml(j)+ee),`

K`+($.gHtmlBlocks.push(w)-1)+`K

`};b.backslashEscapesHTMLTags&&(s=s.replace(/\\<(\/?[^>]+?)>/g,function(P,F){return"&lt;"+F+"&gt;"}));for(var f=0;f<ge.length;++f)for(var N,O=new RegExp("^ {0,3}(<"+ge[f]+"\\b[^>]*>)","im"),T="<"+ge[f]+"\\b[^>]*>",L="</"+ge[f]+">";(N=Oe.helper.regexIndexOf(s,O))!==-1;){var B=Oe.helper.splitAtIndex(s,N),G=Oe.helper.replaceRecursiveRegExp(B[1],a,T,L,"im");if(G===B[1])break;s=B[0].concat(G)}return s=s.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,Oe.subParser("hashElement")(s,b,$)),s=(s=Oe.helper.replaceRecursiveRegExp(s,function(P){return`

K`+($.gHtmlBlocks.push(P)-1)+`K

`},"^ {0,3}<!--","-->","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,Oe.subParser("hashElement")(s,b,$)),s=$.converter._dispatch("hashHTMLBlocks.after",s,b,$)}),Oe.subParser("hashHTMLSpans",function(s,b,$){function ge(a){return"C"+($.gHtmlSpans.push(a)-1)+"C"}return s=(s=(s=(s=(s=$.converter._dispatch("hashHTMLSpans.before",s,b,$)).replace(/<[^>]+?\/>/gi,function(a){return ge(a)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(a){return ge(a)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(a){return ge(a)})).replace(/<[^>]+?>/gi,function(a){return ge(a)}),s=$.converter._dispatch("hashHTMLSpans.after",s,b,$)}),Oe.subParser("unhashHTMLSpans",function(s,b,$){s=$.converter._dispatch("unhashHTMLSpans.before",s,b,$);for(var ge=0;ge<$.gHtmlSpans.length;++ge){for(var a=$.gHtmlSpans[ge],f=0;/\xa8C(\d+)C/.test(a);){var N=RegExp.$1;if(a=a.replace("C"+N+"C",$.gHtmlSpans[N]),f===10)break;++f}s=s.replace("C"+ge+"C",a)}return s=$.converter._dispatch("unhashHTMLSpans.after",s,b,$)}),Oe.subParser("hashPreCodeTags",function(s,b,$){s=$.converter._dispatch("hashPreCodeTags.before",s,b,$);var ge=function(f,N,O,T){var L=O+Oe.subParser("encodeCode")(N,b,$)+T;return`

G`+($.ghCodeBlocks.push({text:f,codeblock:L})-1)+`G

`};return s=Oe.helper.replaceRecursiveRegExp(s,ge,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),s=$.converter._dispatch("hashPreCodeTags.after",s,b,$)}),Oe.subParser("headers",function(s,b,$){s=$.converter._dispatch("headers.before",s,b,$);var ge=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),a=b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,f=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;s=(s=s.replace(a,function(T,L){var B=Oe.subParser("spanGamut")(L,b,$),G=b.noHeaderId?"":' id="'+O(L)+'"',P="<h"+ge+G+">"+B+"</h"+ge+">";return Oe.subParser("hashBlock")(P,b,$)})).replace(f,function(T,L){var B=Oe.subParser("spanGamut")(L,b,$),G=b.noHeaderId?"":' id="'+O(L)+'"',P=ge+1,F="<h"+P+G+">"+B+"</h"+P+">";return Oe.subParser("hashBlock")(F,b,$)});var N=b.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function O(T){var L,B;if(b.customizedHeaderId){var G=T.match(/\{([^{]+?)}\s*$/);G&&G[1]&&(T=G[1])}return L=T,B=Oe.helper.isString(b.prefixHeaderId)?b.prefixHeaderId:b.prefixHeaderId===!0?"section-":"",b.rawPrefixHeaderId||(L=B+L),L=b.ghCompatibleHeaderId?L.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():b.rawHeaderId?L.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():L.replace(/[^\w]/g,"").toLowerCase(),b.rawPrefixHeaderId&&(L=B+L),$.hashLinkCounts[L]?L=L+"-"+$.hashLinkCounts[L]++:$.hashLinkCounts[L]=1,L}return s=s.replace(N,function(T,L,B){var G=B;b.customizedHeaderId&&(G=B.replace(/\s?\{([^{]+?)}\s*$/,""));var P=Oe.subParser("spanGamut")(G,b,$),F=b.noHeaderId?"":' id="'+O(B)+'"',j=ge-1+L.length,H="<h"+j+F+">"+P+"</h"+j+">";return Oe.subParser("hashBlock")(H,b,$)}),s=$.converter._dispatch("headers.after",s,b,$)}),Oe.subParser("horizontalRule",function(s,b,$){s=$.converter._dispatch("horizontalRule.before",s,b,$);var ge=Oe.subParser("hashBlock")("<hr />",b,$);return s=(s=(s=s.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,ge)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,ge)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,ge),s=$.converter._dispatch("horizontalRule.after",s,b,$)}),Oe.subParser("images",function(s,b,$){function ge(a,f,N,O,T,L,B,G){var P=$.gUrls,F=$.gTitles,j=$.gDimensions;if(N=N.toLowerCase(),G||(G=""),-1<a.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))O="";else if(O===""||O===null){if(N!==""&&N!==null||(N=f.toLowerCase().replace(/ ?\n/g," ")),O="#"+N,Oe.helper.isUndefined(P[N]))return a;O=P[N],Oe.helper.isUndefined(F[N])||(G=F[N]),Oe.helper.isUndefined(j[N])||(T=j[N].width,L=j[N].height)}f=f.replace(/"/g,"&quot;").replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback);var H='<img src="'+(O=O.replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'" alt="'+f+'"';return G&&Oe.helper.isString(G)&&(H+=' title="'+(G=G.replace(/"/g,"&quot;").replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'"'),T&&L&&(H+=' width="'+(T=T==="*"?"auto":T)+'"',H+=' height="'+(L=L==="*"?"auto":L)+'"'),H+=" />"}return s=(s=(s=(s=(s=(s=$.converter._dispatch("images.before",s,b,$)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,ge)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(f,N,O,T,L,B,G,P){return ge(f,N,O,T=T.replace(/\s/g,""),L,B,0,P)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,ge)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,ge)).replace(/!\[([^\[\]]+)]()()()()()/g,ge),s=$.converter._dispatch("images.after",s,b,$)}),Oe.subParser("italicsAndBold",function(s,b,$){function ge(a,f,N){return f+a+N}return s=$.converter._dispatch("italicsAndBold.before",s,b,$),s=b.literalMidWordUnderscores?(s=(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(a,f){return ge(f,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(a,f){return ge(f,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(a,f){return ge(f,"<em>","</em>")}):(s=(s=s.replace(/___(\S[\s\S]*?)___/g,function(a,f){return/\S$/.test(f)?ge(f,"<strong><em>","</em></strong>"):a})).replace(/__(\S[\s\S]*?)__/g,function(a,f){return/\S$/.test(f)?ge(f,"<strong>","</strong>"):a})).replace(/_([^\s_][\s\S]*?)_/g,function(a,f){return/\S$/.test(f)?ge(f,"<em>","</em>"):a}),s=b.literalMidWordAsterisks?(s=(s=s.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(a,f,N){return ge(N,f+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(a,f,N){return ge(N,f+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(a,f,N){return ge(N,f+"<em>","</em>")}):(s=(s=s.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(a,f){return/\S$/.test(f)?ge(f,"<strong><em>","</em></strong>"):a})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(a,f){return/\S$/.test(f)?ge(f,"<strong>","</strong>"):a})).replace(/\*([^\s*][\s\S]*?)\*/g,function(a,f){return/\S$/.test(f)?ge(f,"<em>","</em>"):a}),s=$.converter._dispatch("italicsAndBold.after",s,b,$)}),Oe.subParser("lists",function(s,b,$){function ge(O,T){$.gListLevel++,O=O.replace(/\n{2,}$/,`
`);var L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,B=/\n[ \t]*\n(?!\xa80)/.test(O+="0");return b.disableForced4SpacesIndentedSublists&&(L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),O=(O=O.replace(L,function(G,P,F,j,H,ee,w){w=w&&w.trim()!=="";var he=Oe.subParser("outdent")(H,b,$),be="";return ee&&b.tasklists&&(be=' class="task-list-item" style="list-style-type: none;"',he=he.replace(/^[ \t]*\[(x|X| )?]/m,function(){var se='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return w&&(se+=" checked"),se+=">"})),he=he.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(se){return"A"+se}),he="<li"+be+">"+(he=(he=P||-1<he.search(/\n{2,}/)?(he=Oe.subParser("githubCodeBlocks")(he,b,$),Oe.subParser("blockGamut")(he,b,$)):(he=(he=Oe.subParser("lists")(he,b,$)).replace(/\n$/,""),he=(he=Oe.subParser("hashHTMLBlocks")(he,b,$)).replace(/\n\n+/g,`

`),B?Oe.subParser("paragraphs")(he,b,$):Oe.subParser("spanGamut")(he,b,$))).replace("A",""))+`</li>
`})).replace(/\xa80/g,""),$.gListLevel--,T&&(O=O.replace(/\s+$/,"")),O}function a(O,T){if(T==="ol"){var L=O.match(/^ *(\d+)\./);if(L&&L[1]!=="1")return' start="'+L[1]+'"'}return""}function f(O){return O==="ul"?' style="list-style: disc !important;padding: 0px 0px 0px 40px !important;"':' style="list-style: decimal !important;padding: 0px 0px 0px 40px !important;"'}function N(O,T,L){var B=b.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,G=b.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,P=T==="ul"?B:G,F="",j=f(T);if(O.search(P)!==-1)(function ee(w){var he=w.search(P),be=a(O,T);j=f(T),he!==-1?(F+=`

<`+T+j+be+`>
`+ge(w.slice(0,he),!!L)+"</"+T+`>
`,P=(T=T==="ul"?"ol":"ul")=="ul"?B:G,ee(w.slice(he))):F+=`

<`+T+j+be+`>
`+ge(w,!!L)+"</"+T+`>
`})(O);else{var H=a(O,T);F=`

<`+T+j+H+`>
`+ge(O,!!L)+"</"+T+`>
`}return F}return s=$.converter._dispatch("lists.before",s,b,$),s+="0",s=(s=$.gListLevel?s.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(O,T,L){return N(T,-1<L.search(/[*+-]/g)?"ul":"ol",!0)}):s.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(O,T,L,B){return N(L,-1<B.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/\xa80/,""),s=$.converter._dispatch("lists.after",s,b,$)}),Oe.subParser("metadata",function(s,b,$){if(!b.metadata)return s;function ge(a){(a=(a=($.metadata.raw=a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(f,N,O){return $.metadata.parsed[N]=O,""})}return s=(s=(s=(s=$.converter._dispatch("metadata.before",s,b,$)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(a,f,N){return ge(N),"M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(a,f,N){return f&&($.metadata.format=f),ge(N),"M"})).replace(/\xa8M/g,""),s=$.converter._dispatch("metadata.after",s,b,$)}),Oe.subParser("outdent",function(s,b,$){return s=(s=(s=$.converter._dispatch("outdent.before",s,b,$)).replace(/^(\t|[ ]{1,4})/gm,"0")).replace(/\xa80/g,""),s=$.converter._dispatch("outdent.after",s,b,$)}),Oe.subParser("paragraphs",function(s,b,$){for(var ge=(s=(s=(s=$.converter._dispatch("paragraphs.before",s,b,$)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),a=[],f=ge.length,N=0;N<f;N++){var O=ge[N];0<=O.search(/\xa8(K|G)(\d+)\1/g)?a.push(O):0<=O.search(/\S/)&&(O=(O=Oe.subParser("spanGamut")(O,b,$)).replace(/^([ \t]*)/g,"<p>"),O+="</p>",a.push(O))}for(f=a.length,N=0;N<f;N++){for(var T="",L=a[N],B=!1;/\xa8(K|G)(\d+)\1/.test(L);){var G=RegExp.$1,P=RegExp.$2;T=(T=G==="K"?$.gHtmlBlocks[P]:B?Oe.subParser("encodeCode")($.ghCodeBlocks[P].text,b,$):$.ghCodeBlocks[P].codeblock).replace(/\$/g,"$$$$"),L=L.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,T),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(L)&&(B=!0)}a[N]=L}return s=(s=(s=a.join(`
`)).replace(/^\n+/g,"")).replace(/\n+$/g,""),$.converter._dispatch("paragraphs.after",s,b,$)}),Oe.subParser("runExtension",function(s,b,$,ge){if(s.filter)b=s.filter(b,ge.converter,$);else if(s.regex){var a=s.regex;a instanceof RegExp||(a=new RegExp(a,"g")),b=b.replace(a,s.replace)}return b}),Oe.subParser("spanGamut",function(s,b,$){return s=$.converter._dispatch("spanGamut.before",s,b,$),s=Oe.subParser("codeSpans")(s,b,$),s=Oe.subParser("escapeSpecialCharsWithinTagAttributes")(s,b,$),s=Oe.subParser("encodeBackslashEscapes")(s,b,$),s=Oe.subParser("images")(s,b,$),s=Oe.subParser("anchors")(s,b,$),s=Oe.subParser("autoLinks")(s,b,$),s=Oe.subParser("simplifiedAutoLinks")(s,b,$),s=Oe.subParser("emoji")(s,b,$),s=Oe.subParser("underline")(s,b,$),s=Oe.subParser("italicsAndBold")(s,b,$),s=Oe.subParser("strikethrough")(s,b,$),s=Oe.subParser("ellipsis")(s,b,$),s=Oe.subParser("hashHTMLSpans")(s,b,$),s=Oe.subParser("encodeAmpsAndAngles")(s,b,$),b.simpleLineBreaks?/\n\n\xa8K/.test(s)||(s=s.replace(/\n+/g,`<br />
`)):s=s.replace(/  +\n/g,`<br />
`),s=$.converter._dispatch("spanGamut.after",s,b,$)}),Oe.subParser("strikethrough",function(s,b,$){return b.strikethrough&&(s=(s=$.converter._dispatch("strikethrough.before",s,b,$)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(ge,a){return function(N){return b.simplifiedAutoLink&&(N=Oe.subParser("simplifiedAutoLinks")(N,b,$)),"<del>"+N+"</del>"}(a)}),s=$.converter._dispatch("strikethrough.after",s,b,$)),s}),Oe.subParser("stripLinkDefinitions",function(s,b,$){var ge=function(f,N,O,T,L,B,G){return N=N.toLowerCase(),O.match(/^data:.+?\/.+?;base64,/)?$.gUrls[N]=O.replace(/\s/g,""):$.gUrls[N]=Oe.subParser("encodeAmpsAndAngles")(O,b,$),B?B+G:(G&&($.gTitles[N]=G.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&T&&L&&($.gDimensions[N]={width:T,height:L}),"")};return s=(s=(s=(s+="0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,ge)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,ge)).replace(/\xa80/,"")}),Oe.subParser("tables",function(s,b,$){if(!b.tables)return s;function ge(a){var f,N=a.split(`
`);for(f=0;f<N.length;++f)/^ {0,3}\|/.test(N[f])&&(N[f]=N[f].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(N[f])&&(N[f]=N[f].replace(/\|[ \t]*$/,"")),N[f]=Oe.subParser("codeSpans")(N[f],b,$);var O,T,L,B,G,P=N[0].split("|").map(function(se){return se.trim()}),F=N[1].split("|").map(function(se){return se.trim()}),j=[],H=[],ee=[],w=[];for(N.shift(),N.shift(),f=0;f<N.length;++f)N[f].trim()!==""&&j.push(N[f].split("|").map(function(se){return se.trim()}));if(P.length<F.length)return a;for(f=0;f<F.length;++f)ee.push((O=F[f],/^:[ \t]*--*$/.test(O)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(O)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(O)?' style="text-align:center;"':""));for(f=0;f<P.length;++f)Oe.helper.isUndefined(ee[f])&&(ee[f]=""),H.push((T=P[f],L=ee[f],B=void 0,B="",T=T.trim(),(b.tablesHeaderId||b.tableHeaderId)&&(B=' id="'+T.replace(/ /g,"_").toLowerCase()+'"'),"<th"+B+L+">"+(T=Oe.subParser("spanGamut")(T,b,$))+`</th>
`));for(f=0;f<j.length;++f){for(var he=[],be=0;be<H.length;++be)Oe.helper.isUndefined(j[f][be]),he.push((G=j[f][be],"<td"+ee[be]+">"+Oe.subParser("spanGamut")(G,b,$)+`</td>
`));w.push(he)}return function(re,ie){for(var M=`<table>
<thead>
<tr>
`,W=re.length,K=0;K<W;++K)M+=re[K];for(M+=`</tr>
</thead>
<tbody>
`,K=0;K<ie.length;++K){M+=`<tr>
`;for(var R=0;R<W;++R)M+=ie[K][R];M+=`</tr>
`}return M+=`</tbody>
</table>
`}(H,w)}return s=(s=(s=(s=$.converter._dispatch("tables.before",s,b,$)).replace(/\\(\|)/g,Oe.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,ge)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,ge),s=$.converter._dispatch("tables.after",s,b,$)}),Oe.subParser("underline",function(s,b,$){return b.underline?(s=$.converter._dispatch("underline.before",s,b,$),s=(s=b.literalMidWordUnderscores?(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(ge,a){return"<u>"+a+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(ge,a){return"<u>"+a+"</u>"}):(s=s.replace(/___(\S[\s\S]*?)___/g,function(ge,a){return/\S$/.test(a)?"<u>"+a+"</u>":ge})).replace(/__(\S[\s\S]*?)__/g,function(ge,a){return/\S$/.test(a)?"<u>"+a+"</u>":ge})).replace(/(_)/g,Oe.helper.escapeCharactersCallback),s=$.converter._dispatch("underline.after",s,b,$)):s}),Oe.subParser("unescapeSpecialChars",function(s,b,$){return s=(s=$.converter._dispatch("unescapeSpecialChars.before",s,b,$)).replace(/\xa8E(\d+)E/g,function(ge,a){var f=parseInt(a);return String.fromCharCode(f)}),s=$.converter._dispatch("unescapeSpecialChars.after",s,b,$)}),Oe.subParser("makeMarkdown.blockquote",function(s,b){var $="";if(s.hasChildNodes())for(var ge=s.childNodes,a=ge.length,f=0;f<a;++f){var N=Oe.subParser("makeMarkdown.node")(ge[f],b);N!==""&&($+=N)}return $="> "+($=$.trim()).split(`
`).join(`
> `)}),Oe.subParser("makeMarkdown.codeBlock",function(s,b){var $=s.getAttribute("language"),ge=s.getAttribute("precodenum");return"```"+$+`
`+b.preList[ge]+"\n```"}),Oe.subParser("makeMarkdown.codeSpan",function(s){return"`"+s.innerHTML+"`"}),Oe.subParser("makeMarkdown.emphasis",function(s,b){var $="";if(s.hasChildNodes()){$+="*";for(var ge=s.childNodes,a=ge.length,f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b);$+="*"}return $}),Oe.subParser("makeMarkdown.header",function(s,b,$){var ge=new Array($+1).join("#"),a="";if(s.hasChildNodes()){a=ge+" ";for(var f=s.childNodes,N=f.length,O=0;O<N;++O)a+=Oe.subParser("makeMarkdown.node")(f[O],b)}return a}),Oe.subParser("makeMarkdown.hr",function(){return"---"}),Oe.subParser("makeMarkdown.image",function(s){var b="";return s.hasAttribute("src")&&(b+="!["+s.getAttribute("alt")+"](",b+="<"+s.getAttribute("src")+">",s.hasAttribute("width")&&s.hasAttribute("height")&&(b+=" ="+s.getAttribute("width")+"x"+s.getAttribute("height")),s.hasAttribute("title")&&(b+=' "'+s.getAttribute("title")+'"'),b+=")"),b}),Oe.subParser("makeMarkdown.links",function(s,b){var $="";if(s.hasChildNodes()&&s.hasAttribute("href")){var ge=s.childNodes,a=ge.length;$="[";for(var f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b);$+="](",$+="<"+s.getAttribute("href")+">",s.hasAttribute("title")&&($+=' "'+s.getAttribute("title")+'"'),$+=")"}return $}),Oe.subParser("makeMarkdown.list",function(s,b,$){var ge="";if(!s.hasChildNodes())return"";for(var a=s.childNodes,f=a.length,N=s.getAttribute("start")||1,O=0;O<f;++O)typeof a[O].tagName<"u"&&a[O].tagName.toLowerCase()==="li"&&(ge+=($==="ol"?N.toString()+". ":"- ")+Oe.subParser("makeMarkdown.listItem")(a[O],b),++N);return(ge+=`
<!-- -->
`).trim()}),Oe.subParser("makeMarkdown.listItem",function(s,b){for(var $="",ge=s.childNodes,a=ge.length,f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b);return/\n$/.test($)?$=$.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):$+=`
`,$}),Oe.subParser("makeMarkdown.node",function(s,b,$){$=$||!1;var ge="";if(s.nodeType===3)return Oe.subParser("makeMarkdown.txt")(s,b);if(s.nodeType===8)return"<!--"+s.data+`-->

`;if(s.nodeType!==1)return"";switch(s.tagName.toLowerCase()){case"h1":$||(ge=Oe.subParser("makeMarkdown.header")(s,b,1)+`

`);break;case"h2":$||(ge=Oe.subParser("makeMarkdown.header")(s,b,2)+`

`);break;case"h3":$||(ge=Oe.subParser("makeMarkdown.header")(s,b,3)+`

`);break;case"h4":$||(ge=Oe.subParser("makeMarkdown.header")(s,b,4)+`

`);break;case"h5":$||(ge=Oe.subParser("makeMarkdown.header")(s,b,5)+`

`);break;case"h6":$||(ge=Oe.subParser("makeMarkdown.header")(s,b,6)+`

`);break;case"p":$||(ge=Oe.subParser("makeMarkdown.paragraph")(s,b)+`

`);break;case"blockquote":$||(ge=Oe.subParser("makeMarkdown.blockquote")(s,b)+`

`);break;case"hr":$||(ge=Oe.subParser("makeMarkdown.hr")(s,b)+`

`);break;case"ol":$||(ge=Oe.subParser("makeMarkdown.list")(s,b,"ol")+`

`);break;case"ul":$||(ge=Oe.subParser("makeMarkdown.list")(s,b,"ul")+`

`);break;case"precode":$||(ge=Oe.subParser("makeMarkdown.codeBlock")(s,b)+`

`);break;case"pre":$||(ge=Oe.subParser("makeMarkdown.pre")(s,b)+`

`);break;case"table":$||(ge=Oe.subParser("makeMarkdown.table")(s,b)+`

`);break;case"code":ge=Oe.subParser("makeMarkdown.codeSpan")(s,b);break;case"em":case"i":ge=Oe.subParser("makeMarkdown.emphasis")(s,b);break;case"strong":case"b":ge=Oe.subParser("makeMarkdown.strong")(s,b);break;case"del":ge=Oe.subParser("makeMarkdown.strikethrough")(s,b);break;case"a":ge=Oe.subParser("makeMarkdown.links")(s,b);break;case"img":ge=Oe.subParser("makeMarkdown.image")(s,b);break;default:ge=s.outerHTML+`

`}return ge}),Oe.subParser("makeMarkdown.paragraph",function(s,b){var $="";if(s.hasChildNodes())for(var ge=s.childNodes,a=ge.length,f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b);return $=$.trim()}),Oe.subParser("makeMarkdown.pre",function(s,b){var $=s.getAttribute("prenum");return"<pre>"+b.preList[$]+"</pre>"}),Oe.subParser("makeMarkdown.strikethrough",function(s,b){var $="";if(s.hasChildNodes()){$+="~~";for(var ge=s.childNodes,a=ge.length,f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b);$+="~~"}return $}),Oe.subParser("makeMarkdown.strong",function(s,b){var $="";if(s.hasChildNodes()){$+="**";for(var ge=s.childNodes,a=ge.length,f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b);$+="**"}return $}),Oe.subParser("makeMarkdown.table",function(s,b){var $,ge,a="",f=[[],[]],N=s.querySelectorAll("thead>tr>th"),O=s.querySelectorAll("tbody>tr");for($=0;$<N.length;++$){var T=Oe.subParser("makeMarkdown.tableCell")(N[$],b),L="---";if(N[$].hasAttribute("style"))switch(N[$].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":L=":---";break;case"text-align:right;":L="---:";break;case"text-align:center;":L=":---:"}f[0][$]=T.trim(),f[1][$]=L}for($=0;$<O.length;++$){var B=f.push([])-1,G=O[$].getElementsByTagName("td");for(ge=0;ge<N.length;++ge){var P=" ";typeof G[ge]<"u"&&(P=Oe.subParser("makeMarkdown.tableCell")(G[ge],b)),f[B].push(P)}}var F=3;for($=0;$<f.length;++$)for(ge=0;ge<f[$].length;++ge){var j=f[$][ge].length;F<j&&(F=j)}for($=0;$<f.length;++$){for(ge=0;ge<f[$].length;++ge)$===1?f[$][ge].slice(-1)===":"?f[$][ge]=Oe.helper.padEnd(f[$][ge].slice(-1),F-1,"-")+":":f[$][ge]=Oe.helper.padEnd(f[$][ge],F,"-"):f[$][ge]=Oe.helper.padEnd(f[$][ge],F);a+="| "+f[$].join(" | ")+` |
`}return a.trim()}),Oe.subParser("makeMarkdown.tableCell",function(s,b){var $="";if(!s.hasChildNodes())return"";for(var ge=s.childNodes,a=ge.length,f=0;f<a;++f)$+=Oe.subParser("makeMarkdown.node")(ge[f],b,!0);return $.trim()}),Oe.subParser("makeMarkdown.txt",function(s){var b=s.nodeValue;return b=(b=b.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),b=(b=(b=(b=(b=(b=(b=(b=(b=Oe.helper.unescapeHTMLEntities(b)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),x.PLUGINS.markdown=function(s){var b,$,ge,a,f,N=s.$,O=!1,T="",L="",B="",G="",P=[],F=[],j="",H=null,ee=null;function w(he){he=function(se){var re=se,ie=se.match(/(\[\^(.+?)\])[^:]/g),M=se.match(/(\[\^(.+?)\]:)/g);if(ie&&M){ie.forEach(function(Ee,we,Ne){Ne[we]=Ne[we].substring(0,Ne[we].length-1)}),ie=ie.filter(function(Ee,we){return ie.indexOf(Ee)===we}),M=M.filter(function(Ee,we){return M.indexOf(Ee)===we});for(var W=1,K=0;K<ie.length;K++){var R="";if(W==1&&(R='<hr class="footnote-sep"><ol>'),-1<M.indexOf(ie[K]+":")){for(var A=-1<(re=(re=re.split(M[K]).join("{ftnt-plc}")).replace(M[K].substring(0,M[K].length-1),'<sup id="fnref:'.concat(W,'"><a href="#fn:').concat(W,'" class="footnote-a">').concat(W,"</a></sup>"))).indexOf(ie[K])?1:0,J=0;A&&(J++,re=re.replace(M[K].substring(0,M[K].length-1),'<sup id="fnref:'.concat(W,":").concat(J,'"><a href="#fn:').concat(W,":").concat(J,'" class="footnote-a">').concat(W,":").concat(J,"</a></sup>")),A=-1<re.indexOf(ie[K])?1:0););var V=(re=re.split("{ftnt-plc}").join(M[K])).indexOf(M[K]),q=re,ae=q.substring(V,q.length-1);if(ae=ae.split(`
`)[0],re=re.replace(ae,""),-1<ae.indexOf(": ")){ae=ae.split(": ")[1],ae+='<a href="#fnref:'.concat(W,'" class="footnote-a"></a>');for(var Le=J;J!=0;)ae+='<a href="#fnref:'.concat(W,":").concat(Le-J+1,'" class="footnote-a"></a>'),J--;ae+="</p></li>",re=re+R+'<li id="fn:'.concat(W,'"><p>')+ae,W++}}}W!=1&&(re+="</ol>")}return se=re}(he=function(se){for(var re=/^[A-Za-z0-9]/g,ie=/^:[ ]{1}(.+?)+/g,M=se.split(`
`),W=M,K=M.length-1,R=1;R<K;R++)M[R].match(ie)!==null&&(M[R-1].match(re)!==null&&R<K-1&&M[R+1].match(ie)!==null?(W[R-1]="<dl><dt>"+M[R-1]+"</dt>",W[R]="<dd>"+M[R].substring(2)+"</dd>"):M[R-1].match(re)!==null&&(R<K-1&&M[R+1].match(ie)===null||R==K-1)?(W[R-1]="<dl><dt>"+M[R-1]+"</dt>",W[R]="<dd>"+M[R].substring(2)+"</dd></dl>"):R<K-1&&M[R+1].match(ie)!==null?W[R]="<dd>"+M[R].substring(2)+"</dd>":W[R]="<dd>"+M[R].substring(2)+"</dd></dl>");return se=W.join(`
`)}(he=function(se){var re=se.indexOf("```"),ie=0;return-1<re&&(ie=-1<(ie=se.substring(re+1).indexOf("```"))?ie+3:ie),se=se.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,function(M,W,K){return re<K&&K<ie?"---":`<hr />
`})}(he=function(se){return-1<(se=(se=(se=(se=(se=(se=(se=(se=(se=(se=se.split("</p>").join(`</p>
`)).split("</div>").join(`
`)).replace(/(<([^>]+)>)/gi,"")).replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).split("&quot;").join('"')).split("&amp;").join("&")).split("&#39;").join("'")).split("&nbsp;").join(" ")).replace(/\|+\n[^\|]/g,function(re){return re.replace(`
`,`

`)})).indexOf("Powered by Froala Editor")&&(se=se.replace("Powered by Froala Editor","")),se}(he)))),he=a.makeHtml(he),he=s.clean.html(he),s.$wp.find($)[0].innerHTML=he}return{_init:function(){if(function(){s.events.on("contentChanged",function(){O&&w(s.html.get(!1,!1))},!0),s.events.$on(N(s.o_win),"resize",function(){O&&($[0].style.width=s.$wp[0].clientWidth-s.$el[0].clientWidth+2+"px")}),s.events.on("paste.afterCleanup",function(se){if(O){var re=s.doc.createElement("div");re.innerHTML=se;for(var ie,M=re.querySelectorAll("img"),W=0;W<M.length;W++)(ie=M[W]).outerHTML=ie.outerHTML.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");se=re.innerHTML}return se})}(),a=new Oe.Converter({strikethrough:!0,tables:!0,tablesHeaderId:!0,simpleLineBreaks:!0,ghCodeBlocks:!0,tasklists:!0,customizedHeaderId:!0,requireSpaceBeforeHeadingText:!0,underline:!0}),s.$tb&&(ge=s.$tb.find('.fr-command[data-cmd="markdown"]')),!s.$wp)return!1},refresh:function(be){var se=O;be.toggleClass("fr-active",se).attr("aria-pressed",se)},toggle:function(){O?function(){L=s.html.get(!0,!0),s.opts.pastePlain=!1,s.$el.removeClass("fr-markdown-editor"),s.$wp.append(f[0].firstChild),N(f).remove(),s.$wp.find(b).remove(),s.$wp.find($).remove(),s.$wp[0].lastChild.after(s.$placeholder[0]),s.$el.removeAttr("style"),s.size.refresh(),s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(ge).removeClass("fr-disabled").attr("aria-disabled",!1),s.opts.iframe&&(s.$el=ee,s.$wp=H,Object.keys(F).map(function(se){s.$el[0].setAttribute(se,F[se]),se!="class"&&j[0].removeAttribute(se)}),s.$el[0].style.removeProperty("padding")),s.html.set(T),s.opts.iframe&&(s.$el=ee,s.$wp=H,s.$placeholder=null,s.placeholder.show(),s.placeholder.refresh())}():function(){var se;T=s.html.get(!0,!0),s.html.set(L),s.opts.pastePlain=!0,s.opts.iframe?(s.$el[0].removeAttribute("spellcheck"),Array.from(s.$el[0].attributes).map(function(re){var ie=re.name,M=re.value;return ie!="class"&&(P[ie]=M),F[ie]=M,s.$el[0].removeAttribute(ie)}),s.$el[0].style.padding=0,s.$el[0].innerHTML="",s.$placeholder.hide()):s.$el.addClass("fr-markdown-editor"),f=N('<div class="fr-wrapper-markdown" />'),s.opts.heightMin?f.css("min-height","".concat(s.opts.heightMin,"px")):f.css("min-height","200px"),s.opts.heightMax?(f.css("maxHeight","".concat(s.opts.heightMax,"px")),f.css("overflow","auto")):(f.css("maxHeight",""),f.css("overflow","")),s.opts.height&&(f.css("height","".concat(s.opts.height,"px")),f.css("overflow","auto"),f.css("minHeight",s.opts.height-s.helpers.getPX(s.$el.css("padding-top"))-s.helpers.getPX(s.$el.css("padding-bottom")))),s.opts.iframe?(G=N('<div class="fr-box fr-basic fr-top"></div>'),B=N('<div class="fr-markdown-wrapper"></div>'),j=N('<div class="fr-element fr-markdown-editor"><p><br></p></div>'),Object.keys(P).map(function(re){return j[0].setAttribute(re,P[re])}),L&&(j[0].innerHTML=L),f[0].appendChild(j[0]),B[0].appendChild(f[0]),G[0].appendChild(B[0]),N(s.$html.find("body")[0]).find(".fr-box").length==1?(s.$el.prevAll().filter(function(re){return!["CodeMirror cm-s-default CodeMirror-wrap","fr-code"].includes(re.className)}).remove(),s.$el[0].appendChild(f[0])):(s.$el[0].appendChild(G[0]),H=s.$wp,s.$wp=B),ee=s.$el,s.$el=j):(s.$wp.append(f),f[0].appendChild(s.$el[0])),b=N('<div class="gutter-horizontal"><div class="e-resize-handler"><i class="fa fa-circle-thin" aria-hidden="true"></i></div></div>'),N(f).append(b[0]),$=N('<div class="fr-element fr-markdown-view"></div>'),N(f).append($[0]),N(f).after(s.$placeholder[0]),s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(ge).filter(function(){return N(this).data("cmd")!=="fullscreen"&&N(this).data("cmd")!=="moreMisc"}).addClass("fr-disabled").attr("aria-disabled",!0),N(b).on("mousedown touchstart",function(re){se={e:re,offsetLeft:b[0].offsetLeft,offsetTop:b[0].offsetTop,firstWidth:s.$el[0].offsetWidth,secondWidth:$[0].offsetWidth};var ie=function(A){s.selection.clear();var J={x:A.clientX-se.e.clientX,y:A.clientY-se.e.clientY};J.x=Math.min(Math.max(J.x,-se.firstWidth),se.secondWidth),se.firstWidth+J.x<125||se.secondWidth-J.x<125||(b[0].style.left=se.offsetLeft+J.x+"px",s.$el[0].style.width=se.firstWidth+J.x+"px",$[0].style.width=se.secondWidth-J.x+"px")},M=function(A){s.selection.clear();var J={x:A.changedTouches[0].clientX-se.e.changedTouches[0].clientX,y:A.changedTouches[0].clientY-se.e.changedTouches[0].clientY};J.x=Math.min(Math.max(J.x,-se.firstWidth),se.secondWidth),se.firstWidth+J.x<100||se.secondWidth-J.x<100||(b[0].style.left=se.offsetLeft+J.x+"px",s.$el[0].style.width=se.firstWidth+J.x+"px",$[0].style.width=se.secondWidth-J.x+"px")},W=function(){document.onmousemove=document.onmouseup=null,document.ontouchmove=document.ontouchend=null},K=function(){s.$doc[0].onmousemove=s.$doc[0].onmouseup=null,s.$doc[0].ontouchmove=s.$doc[0].ontouchend=null};s.opts.iframe&&s.markdown.isEnabled?(s.$doc[0].onmousemove=ie,s.$doc[0].ontouchmove=M,s.$doc[0].onmouseup=K,s.$doc[0].ontouchend=K):(document.onmousemove=ie,document.ontouchmove=M,document.onmouseup=W,document.ontouchend=W)}),w(L)}(),O=!O},isEnabled:function(){return O}}},x.DefineIcon("markdown",{NAME:"markdown",SVG_KEY:"markdown"}),x.RegisterCommand("markdown",{title:"Markdown",undo:!1,focus:!1,toggle:!0,forcedRefresh:!0,accessibilityFocus:!0,callback:function(){this.markdown.toggle()},refresh:function(s){this.markdown.refresh(s)},plugin:"markdown"}),Object.assign(x.DEFAULTS,{wordCounterMax:-1,wordCounterCount:!0}),x.PLUGINS.wordCounter=function(s){var b,$=s.$;function ge(){var O=s.el.innerText.toString();O=(O=(O=(O=(O=(O=(O=(O=O.replace(/(^\s*)|(\s*$)/gi," ")).replace(/\u00a0/g," ")).replace(/[ ]{2,}/gi," ")).replace(/\n /,`
`)).replace(/[\u200A\u200C-\u200D\uFEFF\u202F\u2000-\u2009\u205F\u3000\u1680\u00A0\u0020]/g," ")).replace(/[\u200B]/g,"")).replace(/\t+/g," ")).split(" ").join(`
`);var T=s.$el.find(".fr-pagebreak"),L=O.split(/\r?\n/),B=0;return L.forEach(function(G){0<(G=G.replace(/\s/g,"")).length&&B++}),B-2*T.length}function a(O){var T=!1;if(s.opts.wordCounterMax<0||ge()<s.opts.wordCounterMax)return!0;var L=O.which,B=s.selection.get(),G=B.focusOffset,P=B.focusNode.textContent,F=(P=P.replace(/\u00a0/g," ")).toUpperCase().charCodeAt(G-1),j=P.toUpperCase().charCodeAt(G);return B.focusNode.data||(F=j=NaN),!function(ee,w){return!!(s.keys.isCharacter(ee)&&s.keys.isCharacter(w)&&ee!=x.KEYCODE.SPACE&&w!=x.KEYCODE.SPACE)}(F,j)||L!==x.KEYCODE.ENTER&&L!==x.KEYCODE.SPACE||(T=!0),(function(ee,w){return ee===x.KEYCODE.SPACE&&w===x.KEYCODE.SPACE}(F,j)||function(ee,w){return!!(isNaN(ee)&&w===x.KEYCODE.SPACE||ee===x.KEYCODE.SPACE&&isNaN(w))}(F,j)||function(ee,w){return!!(isNaN(ee)&&isNaN(w))}(F,j))&&s.keys.isCharacter(L)&&L!=x.KEYCODE.SPACE&&(T=!0),ge()>s.opts.wordCounterMax&&(s.keys.isCharacter(L)||L===x.KEYCODE.ENTER)&&(T=!0),!(!s.keys.ctrlKey(O)&&T||L===x.KEYCODE.IME)||(O.preventDefault(),O.stopPropagation(),s.events.trigger("wordCounter.exceeded"),!1)}function f(){if(s.opts.wordCounterCount){var O=ge()+(0<s.opts.wordCounterMax?"/"+s.opts.wordCounterMax:"");b.text("".concat(s.language.translate("Words")," : ").concat(O)),s.opts.toolbarBottom&&b.css("margin-bottom",s.$tb.outerHeight(!0));var T=s.$wp.get(0).offsetWidth-s.$wp.get(0).clientWidth;0<=T&&(s.opts.direction=="rtl"?b.css("margin-left",T):b.css("margin-right",T))}}function N(O){return s.opts.wordCounterMax<0||$("<div>").html(O).text().split(" ").length+ge()<=s.opts.wordCounterMax?O:(s.events.trigger("wordCounter.exceeded"),"")}return{_init:function(){return!!s.$wp&&!!s.opts.wordCounterCount&&((b=$(document.createElement("span")).attr("class","fr-counter fr-wCounter")).css("bottom",s.$wp.css("border-bottom-width")),s.$second_tb?s.$second_tb.append(b):s.$wp.append(b),s.events.on("keydown",a,!0),s.events.on("paste.afterCleanup",N),s.events.on("keyup contentChanged input",function(){s.events.trigger("wordCounter.update")}),s.events.on("wordCounter.update",f),s.events.trigger("wordCounter.update"),void s.events.on("destroy",function(){$(s.o_win).off("resize.char".concat(s.id)),b.removeData().remove(),b=null}))},wordCount:ge}},Object.assign(x.POPUP_TEMPLATES,{"filestackPlugin.error":"[_UPLOAD_LAYER_]"}),x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED=[".pdf",".docx",".ppt",".pptx",".doc",".xlsx",".xls",".csv",".txt","image/jpeg","image/png","image/jpg","image/gif","image/webp","video/*","audio/*","mp3"],x.REQUIRED_PLUGINS=["image","video","file","filesManager"],x.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED=["image/jpeg","image/png","image/jpg","image/gif","image/webp"],x.FILESTACK_DEFAULT_ACCEPT_FILE_TYPES=[".pdf",".docx",".ppt",".pptx",".doc",".xlsx",".xls",".csv",".txt"],x.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED=["video/*"],x.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED=["local_file_system","imagesearch","url","googledrive","facebook","instagram","dropbox"],x.FILESTACK_PICKER_DEFAULT_OPTIONS={displayMode:"overlay",uploadInBackground:!1,stage:{cname:"stage.filestackapi.com"}},Object.assign(x.DEFAULTS,{filestackOptions:{}}),x.FILE_STACK_URL_PART="filestack",x.PLUGINS.filestack=function(s){var b,$,ge=["pdf","msword","vnd.openxmlformats-officedocument.wordprocessingml.document","vnd.ms-excel","vnd.openxmlformats-officedocument.spreadsheetml.sheet","vnd.ms-powerpoint","vnd.openxmlformats-officedocument.presentationml.presentation","csv","plain","ogg"],a=1,f=4,N=5,O=6,T=7,L={};function B(K,R,A){G(s.language.translate(L[K]),R)}function G(K,R,A,J){var V;if((V=s.popups.get("filestackPlugin.error"))||(V=F(K)),A&&(V.find(".fr-image-progress-bar-layer").addClass("fr-active"),V.find(".fr-error-message").addClass("fr-layer"),V.find(".fr-buttons").hide()),!!s.$tb){var q;R==="openFilePicker"?q="openFilePicker":R==="openFilePickerReplaceImageOnly"||R==="openFilePickerImage"?q="insertImage":R==="openFilePickerReplaceVideoOnly"||R==="openFilePickerVideo"?q="insertVideo":R==="openFilePickerVideoOnly"?q="openFilePickerVideoOnly":R==="openFilePickerImageOnly"?q="openFilePickerImageOnly":R==="openFilePickerFile"&&(q="openFilePickerFile");var ae=s.$tb.find(".fr-command[data-cmd='".concat(q,"']"));if(A)s.popups.show("filestackPlugin.error",J.x,J.y);else if(!V.hasClass("fr-active")&&(s.popups.refresh("filestackPlugin.error"),s.popups.setContainer("filestackPlugin.error",s.$tb),ae.isVisible()||s.opts.toolbarInline)){var Le=s.opts.toolbarInline&&["openFilePickerImage","openFilePickerVideo"].includes(R)?s.$(".fr-popup")[0].style:s.button.getPosition(ae),Ee=Le.left,we=Le.top;s.popups.show("filestackPlugin.error",Ee,we,ae.outerHeight())}}}function P(){var K="",R=function(){var J=[];return x.REQUIRED_PLUGINS.forEach(function(V){s.opts.pluginsEnabled.indexOf(V)<0&&J.push(V.charAt(0).toUpperCase()+V.slice(1))}),J}();return K=R.join(", "),1<R.length?K+=" plugin are":K+=" plugin is",K}function F(K){var R=K.includes("Do you want to enable"),A=R?`<div style='text-align:right;' class='fr-buttons'>
          <button class='fr-trim-button fr-plugins-enable'>`.concat(s.language.translate("Enable"),`</button>               
          <button class='fr-trim-button fr-plugins-cancel'>`).concat(s.language.translate("Cancel"),`</button>
        </div>`):`<div style='text-align:right;' class='fr-buttons'>
          <button class='fr-trim-button fr-plugins-ok'>`.concat(s.language.translate("OK"),`</button>               
        </div>`),J={upload_layer:"".concat('<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader fr-indeterminate"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>',`
      <div style= 'padding:10px'>
      <div class = 'fr-message fr-error-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>`).concat(s.language.translate(K),`</h3></div>
      `).concat(A,`
    `)},V=s.popups.create("filestackPlugin.error",J);if(R){var q=V.find(".fr-plugins-enable")[0],ae=V.find(".fr-plugins-cancel")[0];q.addEventListener("click",function(Ee){(function(){x.REQUIRED_PLUGINS.forEach(function(Ne){s.opts.pluginsEnabled.indexOf(Ne)<0&&s.opts.pluginsEnabled.push(Ne)})})(),function(Ne){for(var We in Ne)if(!s[We]){if(x.PLUGINS[We]&&s.opts.pluginsEnabled.indexOf(We)<0)continue;s[We]=new Ne[We](s),s[We]._init&&s[We]._init()}}(x.PLUGINS),W(),s.events.trigger("filestack.pluginsEnabled"),s.popups.hide("filestackPlugin.error"),he(),Ee.preventDefault()}),ae.addEventListener("click",function(Ee){s.popups.hide("filestackPlugin.error"),he(),Ee.preventDefault()})}else{var Le=V.find(".fr-plugins-ok")[0];Le&&Le.addEventListener("click",function(Ee){s.popups.hide("filestackPlugin.error"),Ee.preventDefault()})}return V}function j(){var K=!0;return x.REQUIRED_PLUGINS.forEach(function(R){s.opts.pluginsEnabled.indexOf(R)<0&&(K=!1)}),K}L[a]="Filestack api is missing",L[2]="The Filestack options are missing. Please check filestackOptions",L[3]="The Filestack picker is missing. Please check filestackOption",L[f]="Image upload to filestack failed while processing the request",L[N]="Filestack plugin is currently not supported on this browser",L[O]="The selected media types are not supported",L[T]="The selected source types are not supported by Filestack",L[8]="Error opening Filestack picker due to invalid picker parameters",L[9]="This image is not supported for image transformation",L[10]="The Filestack client is not created yet";var H=s.opts.filestackOptions.filestackAPI;if(H)try{$=s.opts.filestackOptions.staging?filestack.init(H,x.FILESTACK_PICKER_DEFAULT_OPTIONS.stage):filestack.init(H,x.FILESTACK_PICKER_DEFAULT_OPTIONS)}catch{!Object.keys(s.opts.filestackOptions).length===0&&B(10)}function ee(){var K=[];return typeof filestack>"u"||typeof filestack.init!="function"||(window.File&&window.FileReader&&window.FileList&&window.Blob||K.push("File API"),"fetch"in window||K.push("Fetch API"),"Promise"in window||K.push("Promise API"),"DataTransfer"in window||K.push("Drag & Drop API"),"mediaDevices"in navigator||"webkitGetUserMedia"in navigator||K.push("MediaDevices API (Camera/Microphone Uploads)"),K.length),Promise.resolve(!0)}function w(K){return s.events.trigger("filestack.uploadedToFilestack",[K],!0)===!1?(s.edit.on(),!1):K}function he(K){var R=s.button.getButtons('button[data-cmd="openFilePicker"]'),A=s.button.getButtons('button[data-cmd="openFilePickerImageOnly"]'),J=s.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]'),V=s.button.getButtons('button[data-cmd="openFilePickerFile"]');R.removeClass("fr-filestack-active"),A.removeClass("fr-filestack-active"),J.removeClass("fr-filestack-active"),V.removeClass("fr-filestack-active"),s.events.trigger("filestack.filestackPickerClosed",[K],!0)===!1&&s.edit.on()}function be(){lt=Yt=null,s.selection.restore()}function se(K){B(f,K),s.events.trigger("filestack.uploadFailedToFilestack",[K],!0)===!1&&s.edit.on()}function re(K){return ge.includes(K.split("/")[1])}function ie(K){var R=!1;s.opts.imageInsertButtons=s.opts.imageInsertButtons.map(function(J){return J==="openFilePickerImage"?(R=!0,"openFilePickerReplaceImageOnly"):J}),R&&s.events.trigger("filestack-init"),s.popups.hide("image.edit");var A=s.doc.querySelector(".fr-popup:not(.fr-do-not-hide)");A&&A.remove(),s.opts.pluginsEnabled.includes("filestack")&&function(V){s.opts.imageEditButtons.includes("filestackIcon")&&(b=s.opts.imageEditButtons.indexOf("filestackIcon")),!s.opts.imageEditButtons.includes("filestackIcon")&&V&&s.opts.pluginsEnabled.includes("filestack")?(b||b===0)&&s.opts.imageEditButtons.splice(b,0,"filestackIcon"):V||(s.opts.imageEditButtons=s.opts.imageEditButtons.filter(function(q){return q!="filestackIcon"})),s.opts.filestackOptions.uploadToFilestackOnly&&V?s.opts.imageEditButtons=s.opts.imageEditButtons.filter(function(q){return q!="imageTUI"}):s.opts.pluginsEnabled.includes("imageTUI")&&!s.opts.imageEditButtons.includes("imageTUI")&&s.opts.imageEditButtons.push("imageTUI")}(K),s.events.trigger("filestack-init-edit")}function M(){var K=!1;s.opts.videoInsertButtons=s.opts.videoInsertButtons.map(function(R){return R==="openFilePickerVideo"?(K=!0,"openFilePickerReplaceVideoOnly"):R}),K&&s.events.trigger("filestack-init-video")}function W(){x.DEFAULTS.imageInsertButtons&&!x.DEFAULTS.imageInsertButtons.includes("openFilePickerImage")&&x.DEFAULTS.imageInsertButtons.push("openFilePickerImage"),x.DEFAULTS.imageEditButtons&&!x.DEFAULTS.imageEditButtons.includes("filestackIcon")&&x.DEFAULTS.imageEditButtons.push("filestackIcon"),x.DEFAULTS.videoInsertButtons&&!x.DEFAULTS.videoInsertButtons.includes("openFilePickerVideo")&&x.DEFAULTS.videoInsertButtons.push("openFilePickerVideo"),x.DEFAULTS.filesInsertButtons&&!x.DEFAULTS.filesInsertButtons.includes("openFilePicker")&&x.DEFAULTS.filesInsertButtons.push("openFilePicker"),x.DEFAULTS.fileInsertButtons&&!x.DEFAULTS.fileInsertButtons.includes("openFilePickerFile")&&x.DEFAULTS.fileInsertButtons.push("openFilePickerFile"),s.popups.onHide("image.insert",function(){var ae=s.button.getButtons('button[data-cmd="openFilePickerImage"]'),Le=s.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]');ae.removeClass("fr-filestack-active"),Le.removeClass("fr-filestack-active")}),s.popups.onHide("video.insert",function(){var ae=s.button.getButtons('button[data-cmd="openFilePickerVideo"]'),Le=s.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]');ae.removeClass("fr-filestack-active"),Le.removeClass("fr-filestack-active")}),s.popups.onHide("filesManager.insert",function(){s.button.getButtons('button[data-cmd="openFilePicker"]').removeClass("fr-filestack-active")});var K=s.opts.filestackOptions.pickerOptions?Object.assign({},s.opts.filestackOptions.pickerOptions,{accept:s.opts.filestackOptions.pickerOptions.accept?s.opts.filestackOptions.pickerOptions.accept:[],fromSources:s.opts.filestackOptions.pickerOptions.fromSources?s.opts.filestackOptions.pickerOptions.fromSources:[]}):{accept:[],fromSources:[]};K.fromSources=function(Le,Ee){if(!Ee||Ee.length===0)return Le;var we=[];return Ee.forEach(function(Ne){-1<Le.indexOf(Ne)&&we.push(Ne)}),we.length===0&&B(T),we}(x.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED,K.fromSources),K.onOpen=function(ae){s.events.on("window.mouseup",function(Ee){if(document.getElementById("__filestack-picker")&&s.helpers.isMobile())return Ee.preventDefault(),Ee.stopPropagation(),!1},!0),s.events.trigger("filestack.filestackPickerOpened",[ae],!0)===!1&&s.edit.on();var Le=s.selection.get();Le&&(Le.anchorNode,Le.anchorOffset)},K.onUploadDone=function(ae){return function(Ee){if(typeof Ee.filesUploaded<"u"){var we,Ne=Ae(Ee.filesUploaded);try{var We,ct=function(){var st=we.value;if(re(st.mimetype)||st.mimetype.includes("image/jpeg")||st.mimetype.includes("image/png")||st.mimetype.includes("image/")||st.mimetype.includes("video/")||st.mimetype.includes("audio/mpeg")){st.mimetype.includes("image/")&&ie(!0),st.mimetype.includes("video/")&&M();var Me=function(ze){st.mimetype.includes("image")?ze.next().is("br")&&ze.next().remove():(ze.next()&&ze.next().is("br")&&ze.next().remove(),ze.prev()&&ze.prev().is("br")&&ze.prev().remove()),s.selection.setAfter(ze[0])};if(!w(Ee)||Yt||lt||(st.mimetype.includes("ogg")?s.file.insert(st.url,st.filename,null):st.mimetype.includes("image")?(s.image.insert(st.url,!1,null,null),s.events.on("image.loaded",Me)):st.mimetype.includes("video")?(s.events.on("video.inserted",Me),s.video.insertHtmlVideo(st.url,null,null,null,null)):st.mimetype.includes("audio/mpeg")?(s.events.on("video.inserted",Me),s.video.insertHtmlVideo(st.url,null,null,null,null,"audio")):re(st.mimetype)&&s.file.insert(st.url,st.filename,null)),Yt)return s.image.insert(st.url,!1,null,Yt),Yt=null,{v:void 0};if(lt)return s.video.insertHtmlVideo(st.url,!1,null,lt),lt=null,{v:void 0}}};for(Ne.s();!(we=Ne.n()).done;)if(We=ct())return We.v}catch(nt){Ne.e(nt)}finally{Ne.f()}}}(ae)},K.onFileUploadFailed=se,K.onClose=he,K.onCancel=be,s.opts.filestackOptions.pickerOptions=K;var R=function(Le){var Ee=Le.target.tagName==="IMG",we=Le.target.tagName==="VIDEO",Ne=Le.target.src&&Le.target.src.includes(x.FILE_STACK_URL_PART)&&!Le.target.src.includes("blob:");Ee?ie(Ne):we&&M()},A=s.helpers.isMobile()&&!s.helpers.isWindowsPhone();if(s.events.on(A?"touchend":"click",R,A),s.events.on("drop",function(){ie(!1),M()},!0),s.opts.filestackOptions.uploadToFilestackOnly&&!s.opts.iframe&&!s.opts.fullPage){if($&&ee()&&j()){var J=filestackDnD.init($,s.el);J&&J.on("uploadFileFinish",function(ae){if(ae.files[0].mimetype.includes("image/")&&ie(!0),ae.files[0].mimetype.includes("video/")&&M(),re(ae.files[0].mimetype)||ae.files[0].mimetype.includes("pdf")||ae.files[0].mimetype.includes("image/jpeg")||ae.files[0].mimetype.includes("image/png")||ae.files[0].mimetype.includes("image/")||ae.files[0].mimetype.includes("video/")||ae.files[0].name&&ae.files[0].name.includes(".ogg")){var Le=function(we){s.popups.hide("filestackPlugin.error"),s.selection.setAfter(we[0])};ae.files[0].mimetype.includes("image")?w(ae)&&(s.image.insert(ae.data.url,!1),s.events.on("image.inserted",Le)):ae.files[0].mimetype.includes("video")?(s.video.insertHtmlVideo(ae.data.url),s.events.on("video.inserted",Le)):(ae.files[0].mimetype.includes("pdf")||re(ae.files[0].mimetype)||ae.files[0].name&&ae.files[0].name.includes(".ogg"))&&s.file.insert(ae.data.url,ae.data._file.name,null),s.popups.hide("filestackPlugin.error")}})}s.events.on("drop",function(ae){return $?ee()?j()?(s.markers.remove(),s.markers.insertAtPoint(ae.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.$el.find(".fr-marker").length===0&&s.selection.setAtEnd(s.el),G("Image loading","",!0,{x:ae.originalEvent.x,y:ae.originalEvent.y})):G(P()+" not enabled. Do you want to enable?","openFilePicker"):(F(L[N]),s.popups.show("filestackPlugin.error",ae.originalEvent.x,ae.originalEvent.y)):(F(L[a]),s.popups.show("filestackPlugin.error",ae.originalEvent.x,ae.originalEvent.y)),ae.preventDefault(),ae.stopPropagation(),!1},!0)}var V=document.getElementById("insertImage-".concat(s.id));V&&V.addEventListener("mouseup",function(){var ae=!1;s.opts.imageInsertButtons=s.opts.imageInsertButtons.map(function(Le){return Le==="openFilePickerReplaceImageOnly"?(ae=!0,"openFilePickerImage"):Le}),ae&&s.events.trigger("filestack-init")});var q=document.getElementById("insertVideo-".concat(s.id));q&&q.addEventListener("mouseup",function(){var ae=!1;s.opts.videoInsertButtons=s.opts.videoInsertButtons.map(function(Le){return Le==="openFilePickerReplaceVideoOnly"?(ae=!0,"openFilePickerVideo"):Le}),ae&&s.events.trigger("filestack-init-video")}),s.events.on("image.loaded",function(ae){(!ae[0].src.includes(x.FILE_STACK_URL_PART)||ae[0].src.includes(x.FILE_STACK_URL_PART)&&ae[0].src.includes("blob:"))&&setTimeout(function(){var Le=document.querySelector("#filestackIcon-".concat(s.id));Le&&Le.parentNode.removeChild(Le)},10)})}return s.events.on("filestack.imageTransformation.click",function(){(function(R){Yt=R;var A=s.image.get()[0].currentSrc||"",J=filestack.init(H),V=new FilestackTransform(J);V.setConfigKey("output.blob",!0),V.open(A).then(function(ae){J.upload(ae).then(function(Le){var Ee=s.selection.save();A!==void 0&&(s.image.insert(Le.url,!1,null,Yt),Yt=null,s.selection.restore(Ee))}),J.on("upload.error",function(){B(f)})}),s.events.on("keydown",function(){var ae=document.getElementsByClassName("fs-transforms-container");s.helpers.isMobile()&&ae&&ae[0].childNodes&&ae[0].childNodes.length&&(Yt=null)});var q=s.button.getButtons('button[data-cmd="filestackIcon"]');V.on("canvas:save",function(){q.removeClass("fr-filestack-active"),G("Image loading","",!0,{x:Yt.offset().left,y:Yt.offset().top+Yt.height()})}),V.on("canvas:cancel",function(){q.removeClass("fr-filestack-active")})})(s.image.get())}),s.events.on("filestack.imageTransformation.error",function(){B(9)}),{_init:W,showFilestackPopup:function(R,A,J){if(!R)return!1;var V;if(R==="openFilePicker"||R==="openFilePickerFile"?V=x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED:R==="openFilePickerImageOnly"||R==="openFilePickerReplaceImageOnly"||R==="openFilePickerImage"?V=x.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED:R!=="openFilePickerVideoOnly"&&R!=="openFilePickerReplaceVideoOnly"&&R!=="openFilePickerVideo"||(V=x.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED),!H)return B(a,R),!1;if(!ee())return B(N,R),!1;if(!j())return G(P()+" not enabled. Do you want to enable?",R),!1;if(!$&&!Object.keys(s.opts.filestackOptions).length===0)return B(10,R),!1;A&&(Yt=A),J&&(lt=J);var q,ae=s.opts.filestackOptions.pickerOptions?Object.assign({},s.opts.filestackOptions.pickerOptions,{accept:s.opts.filestackOptions.pickerOptions.accept?s.opts.filestackOptions.pickerOptions.accept:[],fromSources:s.opts.filestackOptions.pickerOptions.fromSources?s.opts.filestackOptions.pickerOptions.fromSources:[]}):{accept:[],fromSources:[]};q=s.opts.fileAllowedTypes&&s.opts.fileAllowedTypes.length===1&&s.opts.fileAllowedTypes[0]==="*"?x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED:s.opts.fileAllowedTypes,ae.accept.length===0&&(ae.accept=x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED);var Le=x.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED;s.opts.videoAllowedTypes&&(Le=s.opts.videoAllowedTypes.map(function(We){return We==="mp3"?"audio/".concat(We):"video/".concat(We)})),R==="openFilePickerImageOnly"||R==="openFilePickerReplaceImageOnly"||R==="openFilePickerImage"?V=s.opts.imageAllowedTypes.map(function(We){return"image/".concat(We)}):R==="openFilePickerVideoOnly"||R==="openFilePickerReplaceVideoOnly"||R==="openFilePickerVideo"?V=Le:R==="openFilePickerFile"&&(V=q);var Ee=ae.maxFiles;(A||J)&&(Ee=1);var we=R==="openFilePicker"?function(ct,nt){if(!nt||nt.length===0)return ct;var st=[];return nt.forEach(function(Me){-1<ct.indexOf(Me)&&st.push(Me)}),st.length===0&&B(O),st}(V,ae.accept):V,Ne=Object.assign({},ae,{accept:we,maxFiles:Ee});try{$.picker(Ne).open(),s.popups.hideAll(),s.selection.save()}catch{Object.keys(s.opts.filestackOptions).length===0&&B(8,R)}},isBrowserSupported:ee}},x.DefineIcon("filestackIcon",{ALT:"Open Filestack file picker",NAME:"filestack",SVG_KEY:"filestackIcon"}),x.DefineIcon("filestackIconAdd",{ALT:"Open Filestack file picker",NAME:"filestackAdd",SVG_KEY:"filestackIconAdd"}),x.DefineIcon("imageTransformations",{ALT:"Open Filestack image transformations",NAME:"imageTransformations",SVG_KEY:"imageTransformations"}),x.DefineIcon("imageFilestackOnly",{template:"svgMultiplePath",PATHS:'<path d="M11.1 15.8h7.7V5.7H5.1v4.2H3.4V5.7c0-.9.8-1.7 1.7-1.7h13.7c.9 0 1.7.8 1.7 1.7v10.1c0 .9-.8 1.7-1.7 1.7h-7.7v-1.7Zm0-2.5 2.6-3.4h.2l3.3 4.2h-6.1v-.8ZM8.9 6.9c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3-1.3-.6-1.3-1.3.6-1.3 1.3-1.3Z"/><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>'}),x.DefineIcon("videoFilestackOnly",{template:"svgMultiplePath",PATHS:'<path d="m11 11.3 1 2.6h3.6V6.8h-9v3.6H4.8V6c0-.2.1-.5.3-.6s.4-.3.6-.3h10.8c.2 0 .5.1.6.3s.3.4.3.6v3.1l2.1-2c.3-.3.6-.3 1-.2.3 0 .6.5.6.8v5.5c0 .4-.2.7-.6.8-.3.1-.7 0-1-.2l-2.1-2v3.1c0 .2 0 .5-.3.6-.2.2-.4.3-.6.3H12V14l-1-2.7Z" /><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>'}),x.RegisterCommand("openFilePicker",{type:"button",icon:"filestackIcon",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePicker"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePicker")},plugin:"filestack"}),x.RegisterCommand("openFilePickerImageOnly",{type:"button",icon:"imageFilestackOnly",title:"Open Filestack Image Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerImageOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerImageOnly",this.image&&this.image.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerImage",{type:"button",icon:"filestackIcon",title:"Open Filestack Image Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerImage"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerImage",this.image&&this.image.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerReplaceImageOnly",{type:"button",icon:"filestackIconAdd",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerReplaceImageOnly",this.image&&this.image.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerVideoOnly",{type:"button",icon:"videoFilestackOnly",title:"Open Filestack Video Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerVideoOnly",null,this.video&&this.video.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerVideo",{type:"button",icon:"filestackIcon",title:"Open Filestack Video Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerVideo"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerVideo",null,this.video&&this.video.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerReplaceVideoOnly",{type:"button",icon:"filestackIconAdd",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerReplaceVideoOnly",null,this.video&&this.video.get())},plugin:"filestack"}),x.RegisterCommand("filestackIcon",{type:"button",icon:"imageTransformations",title:"Image Transformations",plugin:"filestack",callback:function(){var s=!1,b=this.image.get(0)[0];b&&b.currentSrc&&(s=b.currentSrc.includes(x.FILE_STACK_URL_PART)&&!b.currentSrc.includes("blob:")),s?(this.button.getButtons('button[data-cmd="filestackIcon"]').addClass("fr-filestack-active"),this.events.trigger("filestack.imageTransformation.click")):this.events.trigger("filestack.imageTransformation.error")}}),x.RegisterCommand("openFilePickerFile",{type:"button",icon:"filestackIcon",title:"Open Filestack Upload File",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerFile"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerFile")},plugin:"filestack"}),Object.assign(x.DEFAULTS,{enableMatchCase:!1,enableMatchWholeWord:!1,showFindAndReplace:!1}),x.POPUP_TEMPLATES["findReplace.popup"]="[_BUTTONS_][_FIND_REPLACE_LAYER_]",x.PLUGINS.findReplace=function(s){var b=[],$=-1,ge=!1,a=!1,f=null,N=null,O=null,T=null,L=null,B=s.$(s.icon.create("findAndReplaceArrowDown")).addClass("fr-arrow-button")[0].outerHTML,G=s.$(s.icon.create("findAndReplaceArrowUp")).addClass("fr-arrow-button")[0].outerHTML;function P(){var Ee=s.popups.get("findReplace.popup"),we=Ee.find("#fr-findText").val().trim(),Ne=Ee.find("#fr-replaceText")[0],We=Ee.find('div.fr-input-line > label[for="fr-replaceText"]')[0],ct=Ee.find(".fr-replace-btn")[0],nt=Ee.find(".fr-replace-all-btn")[0],st=Ee.find("#fr-arrowDown")[0],Me=Ee.find("#fr-arrowUp")[0],tt=0<b.length;Ne.readOnly=!we,Ne.classList.toggle("fr-disabled",!tt),Ne.readOnly=!tt,ct.classList.toggle("fr-disabled",!tt),We.classList.toggle("fr-label-disabled",!tt),nt.classList.toggle("fr-disabled",!tt),st.classList.toggle("fr-disabled",!tt),Me.classList.toggle("fr-disabled",!tt),we||Le(0)}function F(){var Ee={buttons:"",find_replace_layer:`
                    <div class='fr-find-replace-layer' tabindex="-1">
                        <div class='fr-header fr-drag-handle' tabindex="-1">`.concat(s.language.translate("Find and Replace"),`</div>
                        <div class='fr-body' tabindex="-1">
                            <button class='fr-close-btn' aria-label='`).concat(s.language.translate("Close"),`' tabIndex='0'>&times;</button>
                            <div class='fr-input-container'>
	                            <div class='fr-input-line fr-find-field'>
                                <input id='fr-findText' type='text' placeholder='`).concat(s.language.translate("Find"),`' tabIndex='1'>
                              </div>
                                <span class='fr-count-indicator'></span>
                                <div class='fr-arrow-buttons'>
                                    <div class='fr-arrow-buttons'>
                                        <button id='fr-arrowDown' aria-label='`).concat(s.language.translate("Next"),"' title='").concat(s.language.translate("Next"),`' tabIndex='2'>
                                            `).concat(B,`
                                        </button>
                                        <button id='fr-arrowUp' aria-label='`).concat(s.language.translate("Previous"),"' title='").concat(s.language.translate("Previous"),`' tabIndex='3'>
                                            `).concat(G,`
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class='fr-input-line fr-replace-field'>
                              <input id='fr-replaceText' type='text' aria-label='`).concat(s.language.translate("Replace with"),"' placeholder='").concat(s.language.translate("Replace with"),`' tabIndex='4' />
                            </div>
                            <button class="fr-toggle-advanced-options" aria-label='`).concat(s.language.translate("Advanced Options"),"' tabIndex='5'>").concat(s.language.translate("Advanced Options"),'<span class="fr-arrow">').concat(B,`</span></button>
                            <div class='fr-advanced-options-panel' style='display: none;'>
                              <div class="fr-checkbox-group">
                                <div class="fr-checkbox-row">
                                  <input type="checkbox" id="fr-matchCase" name="fr-matchCaseToggle" dir="auto" tabIndex='6'>
                                  <label for="fr-matchCase">`).concat(s.language.translate("Match case"),`</label>
                                </div>
                                <div class="fr-checkbox-row">
                                  <input type="checkbox" id="fr-wholeWord" name="fr-wholeWordToggle" dir="auto" tabIndex='7'>
                                  <label for="fr-wholeWord">`).concat(s.language.translate("Whole words only"),`</label>
                                </div>
                              </div>
                            </div>
                            <div class='fr-button-group'>
                                <button class='fr-replace-btn' aria-label='`).concat(s.language.translate("Replace"),"' tabIndex='8'>").concat(s.language.translate("Replace"),`</button>
                                <button class='fr-replace-all-btn' aria-label='`).concat(s.language.translate("Replace All"),"' tabIndex='9'>").concat(s.language.translate("Replace All"),`</button>
                                <button class='fr-find-btn' aria-label='`).concat(s.language.translate("Find"),"' tabIndex='10'>").concat(s.language.translate("Find"),`</button>
                            </div>
                        </div>
                    </div>
                `)};return function(Ne){var We=0,ct=0,nt=s.popups.get("findReplace.popup");s.events.$on(nt,"mousedown",function(Me){if(!Me.target.classList.contains("fr-drag-handle"))return;var tt=Ne.getBoundingClientRect();function ze(Fe,Ye){O=Fe-We+"px",T=Ye-ct+"px",Ne.style.left=O,Ne.style.top=T}function Ze(){document.removeEventListener("mousemove",qe),document.removeEventListener("mouseup",Ze),Ne.onmouseup=null;var Fe=Ne.getBoundingClientRect();Ne.style.position="fixed";var Ye=Fe.top,xt=Fe.left;Fe.top<0?Ye=0:Fe.top+Ne.offsetHeight>window.innerHeight&&(Ye=window.innerHeight-Ne.offsetHeight),Fe.left<0?xt=0:Fe.left+Ne.offsetWidth>window.innerWidth&&(xt=window.innerWidth-Ne.offsetWidth),Ne.style.top="".concat(Ye,"px"),Ne.style.left="".concat(xt,"px")}function qe(Fe){ze(Fe.pageX,Fe.pageY)}We=Me.clientX-tt.left,ct=Me.clientY-tt.top+10,Ne.style.position="absolute",Ne.style.zIndex=s.opts.zIndex+20,document.body.append(Ne),ze(Me.pageX,Me.pageY),document.addEventListener("mousemove",qe),document.addEventListener("mouseup",Ze),Ne.onmouseup=Ze,s.events.on("popups.hide.findReplace.popup",Ze)}),s.events.$on(nt,"dragstart",function(st){return st.preventDefault()})}((L=s.popups.create("findReplace.popup",Ee)).get(0)),s.events.$on(L,"click","#fr-matchCase",H,!1),s.events.$on(L,"click","#fr-wholeWord",ee,!1),s.events.bindClick(L,".fr-find-btn",he),s.events.bindClick(L,".fr-replace-btn",be),s.events.bindClick(L,".fr-replace-all-btn",se),s.events.bindClick(L,"#fr-arrowUp",function(){return V($)}),s.events.bindClick(L,"#fr-arrowDown",function(){return J($+1)}),s.events.bindClick(L,".fr-close-btn",W),s.events.bindClick(L,".fr-toggle-advanced-options",re),s.events.on("input paste.after cut commands.redo commands.undo",function(){0<b.length&&he()}),s.events.on("commands.before",function(we){0<b.length&&we==="clearFormatting"&&(A(),Le(0))}),s.events.on("keydown",function(we){(we.keyCode===x.KEYCODE.BACKSPACE||we.keyCode===x.KEYCODE.DELETE)&&0<b.length&&he()}),L.on("keyup",j),L}function j(Ee){if(Ee.keyCode===x.KEYCODE.ENTER||Ee.keyCode===x.KEYCODE.SPACE){var we=Ee.target;Ee.keyCode===x.KEYCODE.ENTER&&(ie(!1),we.matches("#fr-findText")?he():we.matches("#fr-replaceText")&&be()),we.matches("#fr-arrowUp")?V($):we.matches("#fr-arrowDown")?J($+1):we.matches(".fr-close-btn")?W():we.matches(".fr-find-btn")?he():we.matches(".fr-replace-btn")?be():we.matches(".fr-replace-all-btn")?se():we.matches(".fr-toggle-advanced-options")?re():we.matches("#fr-matchCase")?(Ee.currentTarget.checked=!Ee.currentTarget.checked,H(Ee)):we.matches("#fr-wholeWord")&&(Ee.currentTarget.checked=!Ee.currentTarget.checked,ee(Ee))}}function H(Ee){ge=Ee.currentTarget.checked,w()}function ee(Ee){a=Ee.currentTarget.checked,w()}function w(){A(),Le(0),P()}function he(){var Ee=L.find("#fr-findText")[0],we=Ee?Ee.value.trim():"";we?(K(we),0<b.length?(J(0),ie(!1)):(ie(!0,we),Le(0))):(A(),Le(0),ie(!1)),P()}function be(){if(!L.find(".fr-replace-btn").hasClass("fr-disabled")){var Ee=L.find("#fr-replaceText")[0];q(Ee?Ee.value.trim():""),P()}}function se(){if(!L.find(".fr-replace-all-btn").hasClass("fr-disabled")){var Ee=L.find("#fr-replaceText")[0];ae(Ee?Ee.value.trim():""),P()}}function re(){var Ee=L.find(".fr-toggle-advanced-options .fr-arrow")[0],we=L.find(".fr-advanced-options-panel").get(0),Ne=we.style.display==="none"||!we.style.display;we.style.display=Ne?"block":"none",Ee.innerHTML=Ne?G:B}function ie(Ee){var we=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",Ne=s.popups.get("findReplace.popup"),We=Ne.find(".fr-find-error").get(0),ct=Ne.find("#fr-findText").get(0);if(!We){var nt=Ne.find(".fr-input-container").get(0);(We=document.createElement("div")).className="fr-find-error",nt.parentNode.insertBefore(We,nt.nextSibling)}Ee?(We.textContent="".concat(s.language.translate("There are no entries matching"),' "').concat(we,'"'),We.style.display="block",ct.classList.add("error")):(We.style.display="none",ct.classList.remove("error"))}function M(){s.undo.saveStep(),s.opts.enableMatchCase===!0&&(ge=!0),s.opts.enableMatchWholeWord===!0&&(a=!0),s.selection.save();var Ee=s.popups.get("findReplace.popup");Ee||(Ee=F());var we=Ee.data("instance");Ee.addClass("fr-do-not-hide"),we!==s&&(b=[],w()),Ee.data("instance",s),s.popups.setContainer("findReplace.popup",s.$box);var Ne=Ee.get(0),We=s.$box[0].getBoundingClientRect();Ne.style.position="fixed",f=We.right-400,N=We.top+40;var ct=Ne.offsetWidth,nt=Ne.offsetHeight;0<=f&&0<=N&&f+ct<=window.innerWidth&&N+nt<=window.innerHeight?(Ne.style.left="".concat(f,"px"),Ne.style.top="".concat(N,"px")):(Ne.style.left="".concat(window.innerWidth/2-ct/2,"px"),Ne.style.top="".concat(window.innerHeight/20-nt/12,"px")),s.popups.show("findReplace.popup"),Ee.find("#fr-matchCase")[0].checked=ge,Ee.find("#fr-wholeWord")[0].checked=a,Ne.style.zIndex=s.opts.zIndex+20;var st=Ee.find("#fr-findText")[0],Me=s.selection.text().trim();Me&&(st.value=Me),st.focus(),st.addEventListener("input",function(){ie(!1),b=[],w()}),w()}function W(){if(s.events.trigger("findandreplace.beforeClose")!==!1){var Ee=s.popups.get("findReplace.popup");Ee&&Ee.removeClass("fr-do-not-hide"),s.popups.hide("findReplace.popup"),O=T=null,A(),ie(!1),b=[],$=-1,s.selection.restore(),s.undo.saveStep(),Le(0)}}function K(Ee){var we=s.popups.get("findReplace.popup"),Ne=we.data("instance")||s;if(Ne.el.querySelectorAll(".fr-marker").forEach(function(xt){return xt.remove()}),A(),Ee.trim()){var We=we.find("#fr-matchCase")[0].checked,ct=we.find("#fr-wholeWord")[0].checked;b=[],$=-1;var nt,st=Ne.el,Me=We?"g":"gi",tt=ct?"(?<=^|\\s)(".concat(Ye(Ee),")(?=\\s|$|\\b)"):Ye(Ee),ze=new RegExp(tt,Me),Ze=function(ft){for(var Ot,Rt=[],zt=document.createTreeWalker(ft,NodeFilter.SHOW_TEXT,{acceptNode:function(Zt){var wn=Zt.parentNode;return!wn||["SCRIPT","STYLE"].includes(wn.tagName)||wn.classList&&wn.classList.contains("fr-tracking-deleted")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});Ot=zt.nextNode();)Rt.push(Ot);return Rt}(st),qe="",Fe=[];for(Ze.forEach(function(xt,ft){var Ot=Ze[ft-1];if(Ot){var Rt=Ot.parentNode,zt=/\s$/.test(qe),Zt=/^\s/.test(xt.textContent),wn=xt.parentNode;Rt===wn||Rt.contains(wn)||wn.contains(Rt)?window.getComputedStyle(wn).display==="block"&&window.getComputedStyle(Rt).display==="block"&&(zt||Zt||(qe+=" ")):zt||Zt||(qe+=" ")}Fe.push({start:qe.length,end:qe.length+xt.textContent.length,node:xt}),qe+=xt.textContent}),b=[];(nt=R(qe,ze))!==null;)b.push({start:nt.index,end:nt.index+nt[0].length});(function(ft,Ot){for(var Rt=ft.map(function(wt){var It,nn=wt.start,bn=wt.end,kn=null,Mn=null,vn=0,Hn=0,So=Ae(Ot);try{for(So.s();!(It=So.n()).done;){var ro=It.value,Xo=ro.node,zn=ro.start;if(zn<=nn&&nn<zn+Xo.textContent.length&&(kn=Xo,vn=nn-zn),zn<bn&&bn<=zn+Xo.textContent.length){Mn=Xo,Hn=bn-zn;break}}}catch(ms){So.e(ms)}finally{So.f()}if(kn&&Mn){var cs=document.createRange();return cs.setStart(kn,vn),cs.setEnd(Mn,Hn),cs}return null}).filter(Boolean),zt=Rt.length-1;0<=zt;zt--){var Zt=Rt[zt],wn=document.createElement("span");wn.className="fr-find-replace-highlight";try{Zt.surroundContents(wn)}catch{var Zn=Zt.extractContents(),et=Zn.querySelectorAll(".fr-find-replace-highlight");et.forEach(function(It){var nn=document.createTextNode(It.textContent);It.parentNode.replaceChild(nn,It)}),wn.appendChild(Zn),Zt.insertNode(wn)}}})(b,Fe),Le(b.length)}function Ye(xt){return xt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}function R(Ee,we){return we instanceof RegExp||(we=new RegExp(we)),we.exec(Ee)}function A(){(s.popups.get("findReplace.popup").data("instance")||s).el.querySelectorAll(".fr-find-replace-highlight, .fr-find-replace-current-highlight").forEach(function(Ee){Ee.classList.remove("fr-find-replace-highlight","fr-find-replace-current-highlight");var we=0<Ee.classList.length,Ne=(Ee.getAttribute("style")||"").trim()!=="",We=Array.from(Ee.attributes).some(function(nt){return!["class","style"].includes(nt.name)});if(!we&&!Ne&&!We){for(var ct=Ee.parentNode;Ee.firstChild;)ct.insertBefore(Ee.firstChild,Ee);ct.removeChild(Ee),ct.normalize()}})}function J(Ee){if(b.length){$=(Ee+b.length)%b.length;var we=(s.popups.get("findReplace.popup").data("instance")||s).$el.get(0);we.querySelectorAll(".fr-find-replace-current-highlight").forEach(function(We){We.classList.remove("fr-find-replace-current-highlight")});var Ne=we.querySelectorAll(".fr-find-replace-highlight");Ne[$]&&(Ne[$].classList.add("fr-find-replace-current-highlight"),Ne[$].scrollIntoView({behavior:"smooth",block:"center"})),Le(b.length)}}function V(Ee){if(b.length){$=(Ee-1+b.length)%b.length;var we=(s.popups.get("findReplace.popup").data("instance")||s).$el.get(0);we.querySelectorAll(".fr-find-replace-current-highlight").forEach(function(We){We.classList.remove("fr-find-replace-current-highlight")});var Ne=we.querySelectorAll(".fr-find-replace-highlight");Ne[$]&&(Ne[$].classList.add("fr-find-replace-current-highlight"),Ne[$].scrollIntoView({behavior:"smooth",block:"center"})),Le(b.length)}}function q(Ee){if($!==-1&&b.length){var we=s.popups.get("findReplace.popup").data("instance")||s;we.undo.saveStep();var Ne=we.$el.find(".fr-find-replace-current-highlight").get(0);if(Ne){var We=Ne.textContent,ct=Ne.parentNode,nt=document.createTextNode(Ee);we.events.trigger("findandreplace.beforeOnReplace")!==!1&&(we.opts.trackChangesEnabled?(we.markers.insert(),we.track_changes.pasteInEdior(Ee)):ct.replaceChild(nt,Ne),ct.normalize(),b.splice($,1),0<b.length?J($%b.length):$=-1,we.events.trigger("findandreplace.onReplace",[{oldValue:We,newValue:Ee}]),we.undo.saveStep(),Le(b.length))}}}function ae(Ee){if(b.length){var we=s.popups.get("findReplace.popup").data("instance")||s;we.undo.saveStep();var Ne=we.$el.get(0).querySelectorAll(".fr-find-replace-highlight"),We=[],ct=!1;Ne.forEach(function(nt){if(we.events.trigger("findandreplace.beforeOnReplace")!==!1)if(we.opts.trackChangesEnabled)we.track_changes.pasteInEdior(Ee),b.splice($,1),0<b.length?J($%b.length):$=-1,Le(b.length);else{var st=nt.textContent,Me=document.createTextNode(Ee),tt=nt.parentNode;tt.replaceChild(Me,nt),tt.normalize(),We.push({oldValue:st,newValue:Ee})}else ct=!0}),we.undo.saveStep(),ct===!1&&(we.events.trigger("findandreplace.onReplaceAll",[We]),b=[],$=-1,w())}}function Le(Ee){var we=s.popups.get("findReplace.popup").find(".fr-count-indicator")[0];we&&(0<Ee?(we.textContent="".concat($+1," of ").concat(Ee),we.style.visibility="visible"):(we.textContent="",we.style.visibility="hidden",b=[]))}return s.events.on("popup.tab",function(Ee){var we=s.popups.get("findReplace.popup");if(we&&we.contains(Ee.target))return(Ee.keyCode!==x.KEYCODE.TAB||document.activeElement==Ee.target)&&(Ee.keyCode===x.KEYCODE.ESC?(W(),!1):void 0)}),s.events.on("initialized",function(){s.opts.showFindAndReplace===!0&&M()}),{findMatches:K,findNextMatch:J,findPreviousMatch:V,replaceMatch:q,replaceMatches:ae,getMatchesCount:function(){return b.length},getCurrentMatch:function(){if($===-1||!b.length)return null;var we=(s.popups.get("findReplace.popup").data("instance")||s).$el.find(".fr-find-replace-current-highlight").get(0);return we?we.textContent:null},getCurrentMatchIndex:function(){return $},showPopup:M,hidePopup:W}},x.DefineIcon("findReplaceIcon",{template:"svgMultiplePath",PATHS:'<path d="M11 6C9.9115 6 8.93683 6.30833 8.076 6.925C7.215 7.54167 6.61725 8.34233 6.28275 9.327C6.20842 9.51283 6.086 9.65542 5.9155 9.75475C5.745 9.85408 5.56167 9.88517 5.3655 9.848C5.16283 9.8045 5.00317 9.70258 4.8865 9.54225C4.76983 9.38208 4.74358 9.21092 4.80775 9.02875C5.20642 7.69942 5.97533 6.61225 7.1145 5.76725C8.2535 4.92242 9.54867 4.5 11 4.5C12.1757 4.5 13.1767 4.75325 14.003 5.25975C14.8292 5.76608 15.4948 6.32183 16 6.927V5.25C16 5.03717 16.0718 4.859 16.2155 4.7155C16.359 4.57183 16.5372 4.5 16.75 4.5C16.9628 4.5 17.141 4.57183 17.2845 4.7155C17.4282 4.859 17.5 5.03717 17.5 5.25V9.09625C17.5 9.35392 17.4138 9.56892 17.2413 9.74125C17.0689 9.91375 16.8538 10 16.596 10H12.75C12.5372 10 12.359 9.92817 12.2155 9.7845C12.0718 9.641 12 9.46283 12 9.25C12 9.03717 12.0718 8.859 12.2155 8.7155C12.359 8.57183 12.5372 8.5 12.75 8.5H15.2693C14.8629 7.84233 14.303 7.26125 13.5895 6.75675C12.876 6.25225 12.0128 6 11 6ZM11 17.5C10.0167 17.5 9.08142 17.2853 8.19425 16.8558C7.30708 16.4263 6.57567 15.832 6 15.073V16.75C6 16.9628 5.92817 17.141 5.7845 17.2845C5.641 17.4282 5.46283 17.5 5.25 17.5C5.03717 17.5 4.859 17.4282 4.7155 17.2845C4.57183 17.141 4.5 16.9628 4.5 16.75V12.9038C4.5 12.6461 4.58625 12.4311 4.75875 12.2588C4.93108 12.0863 5.14617 12 5.404 12H9.25C9.46283 12 9.641 12.0718 9.7845 12.2155C9.92817 12.359 10 12.5372 10 12.75C10 12.9628 9.92817 13.141 9.7845 13.2845C9.641 13.4282 9.46283 13.5 9.25 13.5H6.73075C7.15642 14.2347 7.742 14.835 8.4875 15.301C9.233 15.767 10.0705 16 11 16C12.0718 16 13.0314 15.701 13.8788 15.103C14.7263 14.5048 15.3257 13.7269 15.677 12.7692C15.7615 12.5666 15.889 12.4022 16.0595 12.276C16.23 12.1497 16.4217 12.1083 16.6345 12.152C16.8473 12.2058 17.0044 12.3206 17.1058 12.4963C17.2071 12.6718 17.2257 12.8608 17.1615 13.0635C17.0512 13.4417 16.9073 13.7862 16.7298 14.097C16.5523 14.408 16.3359 14.7244 16.0807 15.0463L20.127 19.0922C20.2653 19.2307 20.3362 19.4048 20.3395 19.6145C20.3427 19.824 20.2718 20.0012 20.127 20.1462C19.982 20.2911 19.8063 20.3635 19.6 20.3635C19.3937 20.3635 19.218 20.2911 19.073 20.1462L15.027 16.1C14.4462 16.5628 13.8176 16.9118 13.1413 17.147C12.4651 17.3823 11.7513 17.5 11 17.5Z" fill="#333333"/>'}),x.RegisterShortcut(x.KEYCODE.F,"findReplaceButton",null,"F"),x.RegisterCommand("findReplaceButton",{title:"Find and Replace",icon:"findReplaceIcon",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("findReplace.popup")?this.findReplace.hidePopup():this.findReplace.showPopup()},plugin:"findReplace"}),x.DefineIcon("findAndReplaceArrowDown",{NAME:"chevron-down",VIEWBOX:"0 0 448 512",SVG_KEY:"chevronDown"}),x.DefineIcon("findAndReplaceArrowUp",{NAME:"chevron-up",VIEWBOX:"0 0 448 512",SVG_KEY:"chevronUp"})})})();var Rte={exports:{}};(function(E){(function(){var I=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},x=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},de=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},Ae=function(e,n){return Ie(function(o,i){return e.eq(n(o),n(i))})},Ie=function(e){return{eq:e}},Ke=Ie(function(e,n){return e===n}),ot=Ke,Mt=function(e){return Ie(function(n,o){if(n.length!==o.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},Oe=function(e,n){return Ae(Mt(e),function(o){return de(o,n)})},un=function(e){return Ie(function(n,o){var i=Object.keys(n),c=Object.keys(o);if(!Oe(ot).eq(i,c))return!1;for(var p=i.length,h=0;h<p;h++){var _=i[h];if(!e.eq(n[_],o[_]))return!1}return!0})},On=Ie(function(e,n){if(e===n)return!0;var o=I(e),i=I(n);return o!==i?!1:x(o)?e===n:o==="array"?Mt(On).eq(e,n):o==="object"?un(On).eq(e,n):!1});const xe=Object.getPrototypeOf,Go=(e,n,o)=>{var i;return o(e,n.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===n.name},Co=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&Go(e,String,(o,i)=>i.isPrototypeOf(o))?"string":n},Eo=e=>n=>Co(n)===e,jt=e=>n=>typeof n===e,Wo=e=>n=>e===n,Yt=(e,n)=>qn(e)&&Go(e,n,(o,i)=>xe(o)===i),lt=Eo("string"),qn=Eo("object"),fs=e=>Yt(e,Object),_o=Eo("array"),ht=Wo(null),eo=jt("boolean"),ks=Wo(void 0),Qo=e=>e==null,s=e=>!Qo(e),b=jt("function"),$=jt("number"),ge=(e,n)=>{if(_o(e)){for(let o=0,i=e.length;o<i;++o)if(!n(e[o]))return!1;return!0}return!1},a=()=>{},f=(e,n)=>(...o)=>e(n.apply(null,o)),N=(e,n)=>o=>e(n(o)),O=e=>()=>e,T=e=>e,L=(e,n)=>e===n;function B(e,...n){return(...o)=>{const i=n.concat(o);return e.apply(null,i)}}const G=e=>n=>!e(n),P=e=>()=>{throw new Error(e)},F=e=>e(),j=e=>{e()},H=O(!1),ee=O(!0);class w{constructor(n,o){this.tag=n,this.value=o}static some(n){return new w(!0,n)}static none(){return w.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?w.some(n(this.value)):w.none()}bind(n){return this.tag?n(this.value):w.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:w.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return s(n)?w.some(n):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const he=Array.prototype.slice,be=Array.prototype.indexOf,se=Array.prototype.push,re=(e,n)=>be.call(e,n),ie=(e,n)=>{const o=re(e,n);return o===-1?w.none():w.some(o)},M=(e,n)=>re(e,n)>-1,W=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return!0}return!1},K=(e,n)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const p=e[c];i[c]=n(p,c)}return i},R=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];n(c,o)}},A=(e,n)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];n(i,o)}},J=(e,n)=>{const o=[],i=[];for(let c=0,p=e.length;c<p;c++){const h=e[c];(n(h,c)?o:i).push(h)}return{pass:o,fail:i}},V=(e,n)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const p=e[i];n(p,i)&&o.push(p)}return o},q=(e,n)=>{if(e.length===0)return[];{let o=n(e[0]);const i=[];let c=[];for(let p=0,h=e.length;p<h;p++){const _=e[p],S=n(_);S!==o&&(i.push(c),c=[]),o=S,c.push(_)}return c.length!==0&&i.push(c),i}},ae=(e,n,o)=>(A(e,(i,c)=>{o=n(o,i,c)}),o),Le=(e,n,o)=>(R(e,(i,c)=>{o=n(o,i,c)}),o),Ee=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++){const p=e[i];if(n(p,i))return w.some(p);if(o(p,i))break}return w.none()},we=(e,n)=>Ee(e,n,H),Ne=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return w.some(o)}return w.none()},We=(e,n)=>{for(let o=e.length-1;o>=0;o--)if(n(e[o],o))return w.some(o);return w.none()},ct=e=>{const n=[];for(let o=0,i=e.length;o<i;++o){if(!_o(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);se.apply(n,e[o])}return n},nt=(e,n)=>ct(K(e,n)),st=(e,n)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Me=e=>{const n=he.call(e,0);return n.reverse(),n},tt=(e,n)=>V(e,o=>!M(n,o)),ze=(e,n)=>{const o={};for(let i=0,c=e.length;i<c;i++){const p=e[i];o[String(p)]=n(p,i)}return o},Ze=(e,n)=>{const o=he.call(e,0);return o.sort(n),o},qe=(e,n)=>n>=0&&n<e.length?w.some(e[n]):w.none(),Fe=e=>qe(e,0),Ye=e=>qe(e,e.length-1),xt=b(Array.from)?Array.from:e=>he.call(e),ft=(e,n)=>{for(let o=0;o<e.length;o++){const i=n(e[o],o);if(i.isSome())return i}return w.none()},Ot=(e,n)=>{const o=[],i=b(n)?c=>W(o,p=>n(p,c)):c=>M(o,c);for(let c=0,p=e.length;c<p;c++){const h=e[c];i(h)||o.push(h)}return o},Rt=Object.keys,zt=Object.hasOwnProperty,Zt=(e,n)=>{const o=Rt(e);for(let i=0,c=o.length;i<c;i++){const p=o[i],h=e[p];n(h,p)}},wn=(e,n)=>Zn(e,(o,i)=>({k:i,v:n(o,i)})),Zn=(e,n)=>{const o={};return Zt(e,(i,c)=>{const p=n(i,c);o[p.k]=p.v}),o},et=e=>(n,o)=>{e[o]=n},wt=(e,n,o,i)=>{Zt(e,(c,p)=>{(n(c,p)?o:i)(c,p)})},It=(e,n)=>{const o={},i={};return wt(e,n,et(o),et(i)),{t:o,f:i}},nn=(e,n)=>{const o={};return wt(e,n,et(o),a),o},bn=(e,n)=>{const o=[];return Zt(e,(i,c)=>{o.push(n(i,c))}),o},kn=e=>bn(e,T),Mn=(e,n)=>vn(e,n)?w.from(e[n]):w.none(),vn=(e,n)=>zt.call(e,n),Hn=(e,n)=>vn(e,n)&&e[n]!==void 0&&e[n]!==null,So=(e,n,o=On)=>un(o).eq(e,n),Xo={generate:e=>{if(!_o(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return R(e,(i,c)=>{const p=Rt(i);if(p.length!==1)throw new Error("one and only one name per case");const h=p[0],_=i[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!_o(_))throw new Error("case arguments must be an array");n.push(h),o[h]=(...S)=>{const z=S.length;if(z!==_.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+_.length+" ("+_+"), got "+z);return{fold:(...ve)=>{if(ve.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+ve.length);return ve[c].apply(null,S)},match:ve=>{const Te=Rt(ve);if(n.length!==Te.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Te.join(","));if(!st(n,dt=>M(Te,dt)))throw new Error("Not all branches were specified when using match. Specified: "+Te.join(", ")+`
Required: `+n.join(", "));return ve[h].apply(null,S)},log:ve=>{console.log(ve,{constructors:n,constructor:h,params:S})}}}}),o}},zn=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},cs=e=>{const n=p=>p(e),o=O(e),i=()=>c,c={tag:!0,inner:e,fold:(p,h)=>h(e),isValue:ee,isError:H,map:p=>fe.value(p(e)),mapError:i,bind:n,exists:n,forall:n,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:p=>{p(e)},toOptional:()=>w.some(e)};return c},ms=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:H,isError:ee,map:n,mapError:i=>fe.error(i(e)),bind:n,exists:H,forall:ee,getOr:T,or:T,getOrThunk:F,orThunk:F,getOrDie:P(String(e)),each:a,toOptional:w.none};return o},fe={value:cs,error:ms,fromOption:(e,n)=>e.fold(()=>ms(n),cs)},Y=typeof window<"u"?window:Function("return this;")(),le=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},ye=()=>{const e=le(),n=(o,i)=>{let c="";for(let p=o;p<=i;++p){const h=e[p].toString(16).padStart(2,"0");c+=h}return c};return`${n(0,3)}-${n(4,5)}-${n(6,7)}-${n(8,9)}-${n(10,15)}`},Ce=(e,n,o)=>Math.min(Math.max(e,n),o),Ue=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Be=0;const te=e=>{const o=new Date().getTime(),i=Math.floor(Ue()*1e9);return Be++,e+"_"+i+Be+String(o)},pe=()=>window.isSecureContext?window.crypto.randomUUID():ye(),me=(e,n)=>n,_e=(e,n)=>fs(e)&&fs(n)?pt(e,n):n,je=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<n.length;i++){const c=n[i];for(const p in c)vn(c,p)&&(o[p]=e(o[p],c[p]))}return o},pt=je(_e),mt=je(me),kt=(e,n,o=L)=>e.exists(i=>o(i,n)),Ut=(e,n,o=L)=>Tt(e,n,o).getOr(e.isNone()&&n.isNone()),At=e=>{const n=[],o=i=>{n.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return n},Tt=(e,n,o)=>e.isSome()&&n.isSome()?w.some(o(e.getOrDie(),n.getOrDie())):w.none(),Bt=(e,n,o,i)=>e.isSome()&&n.isSome()&&o.isSome()?w.some(i(e.getOrDie(),n.getOrDie(),o.getOrDie())):w.none(),Xt=(e,n)=>e?w.some(n):w.none(),Jt=(e,n)=>{let o=n??Y;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},on=(e,n)=>{const o=e.split(".");return Jt(o,n)};Xo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _n=e=>{const n=[],o=[];return R(e,i=>{i.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Dn=e=>{const n=zn(w.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(w.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(w.some(_))}}},to=e=>{const n=zn(w.none()),o=()=>n.get().each(_=>clearInterval(_));return{clear:()=>{o(),n.set(w.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(w.some(setInterval(_,e)))}}},hs=()=>{const e=Dn(a);return{...e,on:o=>e.get().each(o)}},Bs=(e,n)=>e.substring(n),ps=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Is=(e,n)=>qo(e,n)?Bs(e,n.length):e,bs=(e,n,o=0,i)=>{const c=e.indexOf(n,o);return c!==-1?ks(i)?!0:c+n.length<=i:!1},qo=(e,n)=>ps(e,n,0),Do=(e,n)=>ps(e,n,e.length-n.length),zs=e=>n=>n.replace(e,""),As=zs(/^\s+|\s+$/g),Vs=zs(/^\s+/g),go=zs(/\s+$/g),bo=e=>e.length>0,io=e=>!bo(e),po=(e,n)=>n<=0?"":new Array(n+1).join(e),Tr=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?w.none():w.some(o)},vi=(e,n)=>{let o=null;return{cancel:()=>{ht(o)||(clearTimeout(o),o=null)},throttle:(...p)=>{ht(o)&&(o=setTimeout(()=>{o=null,e.apply(null,p)},n))}}},Qn=(e,n)=>{let o=null;const i=()=>{ht(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...p)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,p)},n)}}},Ur=e=>{let n=!1,o;return(...i)=>(n||(n=!0,o=e.apply(null,i)),o)},wa="\uFEFF",Qs="",ia="",Re=e=>e===wa,gt=e=>e.replace(/\uFEFF/g,""),St=e=>{const n={};return R(e,o=>{n[o]={}}),Rt(n)},Pt=e=>e.length!==void 0,Qt=Array.isArray,Vn=e=>{if(Qt(e))return e;{const n=[];for(let o=0,i=e.length;o<i;o++)n[o]=e[o];return n}},jn=(e,n,o)=>{if(!e)return!1;if(o=o||e,Pt(e)){for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(vn(e,i)&&n.call(o,e[i],i,e)===!1)return!1;return!0},vo=(e,n)=>{const o=[];return jn(e,(i,c)=>{o.push(n(i,c,e))}),o},mo=(e,n)=>{const o=[];return jn(e,(i,c)=>{(!n||n(i,c,e))&&o.push(i)}),o},Uo=(e,n)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===n)return o}return-1},cn=(e,n,o,i)=>{let c=ks(o)?e[0]:o;for(let p=0;p<e.length;p++)c=n.call(i,c,e[p],p);return c},ds=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e))return i;return-1},us=e=>e[e.length-1],Ve=(e,n,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,p=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),_=h||i("(pointer:coarse)"),S=c||!p&&h&&i("(min-device-width:768px)"),z=p||h&&!S,oe=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,ve=!z&&!S&&!oe;return{isiPad:O(c),isiPhone:O(p),isTablet:O(S),isPhone:O(z),isTouch:O(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:O(oe),isDesktop:O(ve)}},bt=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(n))return i}},Ht=(e,n)=>{const o=bt(e,n);if(!o)return{major:0,minor:0};const i=c=>Number(n.replace(o,"$"+c));return Wn(i(1),i(2))},ln=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?An():Ht(e,o)},An=()=>Wn(0,0),Wn=(e,n)=>({major:e,minor:n}),Yo={nu:Wn,detect:ln,unknown:An},Oo=(e,n)=>ft(n.brands,o=>{const i=o.brand.toLowerCase();return we(e,c=>{var p;return i===((p=c.brand)===null||p===void 0?void 0:p.toLowerCase())}).map(c=>({current:c.name,version:Yo.nu(parseInt(o.version,10),0)}))}),To=(e,n)=>{const o=String(n).toLowerCase();return we(e,i=>i.search(o))},ke=(e,n)=>To(e,n).map(o=>{const i=Yo.detect(o.versionRegexes,n);return{current:o.name,version:i}}),Ge=(e,n)=>To(e,n).map(o=>{const i=Yo.detect(o.versionRegexes,n);return{current:o.name,version:i}}),yt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kt=e=>n=>bs(n,e),Cn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>bs(e,"edge/")&&bs(e,"chrome")&&bs(e,"safari")&&bs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yt],search:e=>bs(e,"chrome")&&!bs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>bs(e,"msie")||bs(e,"trident")},{name:"Opera",versionRegexes:[yt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kt("firefox")},{name:"Safari",versionRegexes:[yt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(bs(e,"safari")||bs(e,"mobile/"))&&bs(e,"applewebkit")}],jo=[{name:"Windows",search:Kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>bs(e,"iphone")||bs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Kt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kt("linux"),versionRegexes:[]},{name:"Solaris",search:Kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Kt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],gs={browsers:O(Cn),oses:O(jo)},ir="Edge",Or="Chromium",Gr="IE",Rs="Opera",Sa="Firefox",Hi="Safari",ta=()=>Ta({current:void 0,version:Yo.unknown()}),Ta=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isEdge:i(ir),isChromium:i(Or),isIE:i(Gr),isOpera:i(Rs),isFirefox:i(Sa),isSafari:i(Hi)}},xi={unknown:ta,nu:Ta},la="Windows",Qi="iOS",zi="Android",ml="Linux",eu="macOS",l1="Solaris",Rg="FreeBSD",md="ChromeOS",Ui=()=>gh({current:void 0,version:Yo.unknown()}),gh=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isWindows:i(la),isiOS:i(Qi),isAndroid:i(zi),isMacOS:i(eu),isLinux:i(ml),isSolaris:i(l1),isFreeBSD:i(Rg),isChromeOS:i(md)}},C2={unknown:Ui,nu:gh},Yl={detect:(e,n,o)=>{const i=gs.browsers(),c=gs.oses(),p=n.bind(S=>Oo(i,S)).orThunk(()=>ke(i,e)).fold(xi.unknown,xi.nu),h=Ge(c,e).fold(C2.unknown,C2.nu),_=Ve(h,p,e,o);return{browser:p,os:h,deviceType:_}}},_2=e=>window.matchMedia(e).matches;let E2=Ur(()=>Yl.detect(window.navigator.userAgent,w.from(window.navigator.userAgentData),_2));const $c=()=>E2(),t5=(e,n)=>on(e,n),n5=(e,n)=>{const o=t5(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},o5=Object.getPrototypeOf,mh=e=>n5("HTMLElement",e),hh=e=>{const n=on("ownerDocument.defaultView",e);return qn(e)&&(mh(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(o5(e).constructor.name))},J6=window.navigator.userAgent,bh=$c(),hd=bh.browser,bd=bh.os,vd=bh.deviceType,s5=J6.indexOf("Windows Phone")!==-1,fr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:hd.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!hd.isIE(),windowsPhone:s5,browser:{current:hd.current,version:hd.version,isChromium:hd.isChromium,isEdge:hd.isEdge,isFirefox:hd.isFirefox,isIE:hd.isIE,isOpera:hd.isOpera,isSafari:hd.isSafari},os:{current:bd.current,version:bd.version,isAndroid:bd.isAndroid,isChromeOS:bd.isChromeOS,isFreeBSD:bd.isFreeBSD,isiOS:bd.isiOS,isLinux:bd.isLinux,isMacOS:bd.isMacOS,isSolaris:bd.isSolaris,isWindows:bd.isWindows},deviceType:{isDesktop:vd.isDesktop,isiPad:vd.isiPad,isiPhone:vd.isiPhone,isPhone:vd.isPhone,isTablet:vd.isTablet,isTouch:vd.isTouch,isWebView:vd.isWebView}},w2=/^\s*|\s*$/g,S2=e=>Qo(e)?"":(""+e).replace(w2,""),vh=(e,n)=>n?n==="array"&&Qt(e)?!0:typeof e===n:e!==void 0,ga=(e,n,o={})=>{const i=lt(e)?e.split(n||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},Q6=vn,xh=(e,...n)=>{for(let o=0;o<n.length;o++){const i=n[o];for(const c in i)if(vn(i,c)){const p=i[c];p!==void 0&&(e[c]=p)}}return e},r5=function(e,n,o,i){i=i||this,e&&(o&&(e=e[o]),jn(e,(c,p)=>n.call(i,c,p,o)===!1?!1:(r5(c,n,o,i),!0)))},Kn={trim:S2,isArray:Qt,is:vh,toArray:Vn,makeMap:ga,each:jn,map:vo,grep:mo,inArray:Uo,hasOwn:Q6,extend:xh,walk:r5,resolve:(e,n=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(n=n[o[i]],!!n);i++);return n},explode:(e,n)=>_o(e)?e:e===""?[]:vo(e.split(n||","),S2),_addCacheSuffix:e=>{const n=fr.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},a5=(e,n)=>{const i=(n||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return el(i.childNodes[0])},Nl=(e,n)=>{const i=(n||document).createElement(e);return el(i)},mp=(e,n)=>{const i=(n||document).createTextNode(e);return el(i)},el=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ct={fromHtml:a5,fromTag:Nl,fromText:mp,fromDom:el,fromPoint:(e,n,o)=>w.from(e.dom.elementFromPoint(n,o)).map(el)},Bu=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},hl=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},tu=(e,n,o)=>{const i=e.document.createRange();return Bu(i,n),hl(i,o),i},Mg=(e,n,o,i,c)=>{const p=e.document.createRange();return p.setStart(n.dom,o),p.setEnd(i.dom,c),p},Fu=Xo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bl=(e,n,o)=>n(Ct.fromDom(o.startContainer),o.startOffset,Ct.fromDom(o.endContainer),o.endOffset),Rl=(e,n)=>n.match({domRange:o=>({ltr:O(o),rtl:w.none}),relative:(o,i)=>({ltr:Ur(()=>tu(e,o,i)),rtl:Ur(()=>w.some(tu(e,i,o)))}),exact:(o,i,c,p)=>({ltr:Ur(()=>Mg(e,o,i,c,p)),rtl:Ur(()=>w.some(Mg(e,c,p,o,i)))})}),yh=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Fu.rtl(Ct.fromDom(c.endContainer),c.endOffset,Ct.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>bl(e,Fu.ltr,o)):bl(e,Fu.ltr,o)},Ch=(e,n)=>{const o=Rl(e,n);return yh(e,o)};Fu.ltr,Fu.rtl;const Pu=8,Xl=9,_h=11,Jl=1,T2=3,Ml=(e,n)=>{const o=e.dom;if(o.nodeType!==Jl)return!1;{const i=o;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Eh=e=>e.nodeType!==Jl&&e.nodeType!==Xl&&e.nodeType!==_h||e.childElementCount===0,k2=(e,n)=>{const o=n===void 0?document:n.dom;return Eh(o)?[]:K(o.querySelectorAll(e),Ct.fromDom)},Hc=(e,n)=>{const o=n===void 0?document:n.dom;return Eh(o)?w.none():w.from(o.querySelector(e)).map(Ct.fromDom)},Ws=(e,n)=>e.dom===n.dom,vl=(e,n)=>{const o=e.dom,i=n.dom;return o===i?!1:o.contains(i)},_f=Ml,hp=(e,n)=>{const o=[],i=p=>(o.push(p),n(p));let c=n(e);do c=c.bind(i);while(c.isSome());return o},Fs=e=>e.dom.nodeName.toLowerCase(),Ig=e=>e.dom.nodeType,zc=e=>n=>Ig(n)===e,Ra=e=>Ig(e)===Pu||Fs(e)==="#comment",xl=e=>da(e)&&hh(e.dom),da=zc(Jl),Ha=zc(T2),ua=zc(Xl),l5=zc(_h),nu=e=>n=>da(n)&&Fs(n)===e,Vi=e=>Ct.fromDom(e.dom.ownerDocument),yi=e=>ua(e)?e:Vi(e),Bg=e=>Ct.fromDom(yi(e).dom.documentElement),fa=e=>Ct.fromDom(yi(e).dom.defaultView),si=e=>w.from(e.dom.parentNode).map(Ct.fromDom),$u=e=>w.from(e.dom.parentElement).map(Ct.fromDom),Ql=(e,n)=>{const o=b(n)?n:H;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const p=i.parentNode,h=Ct.fromDom(p);if(c.push(h),o(h)===!0)break;i=p}return c},yl=e=>{const n=o=>V(o,i=>!Ws(e,i));return si(e).map(hr).map(n).getOr([])},Js=e=>w.from(e.dom.previousSibling).map(Ct.fromDom),xd=e=>w.from(e.dom.nextSibling).map(Ct.fromDom),Uc=e=>Me(hp(e,Js)),ri=e=>hp(e,xd),hr=e=>K(e.dom.childNodes,Ct.fromDom),fc=(e,n)=>{const o=e.dom.childNodes;return w.from(o[n]).map(Ct.fromDom)},pc=e=>fc(e,0),Xa=e=>fc(e,e.dom.childNodes.length-1),za=e=>e.dom.childNodes.length,c1=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ct.fromDom(n)},Fg=e=>l5(e)&&s(e.dom.host),ou=e=>Ct.fromDom(e.dom.getRootNode()),tl=e=>Fg(e)?e:c1(yi(e)),c5=e=>Fg(e)?e:Ct.fromDom(yi(e).dom.body),A2=e=>{const n=ou(e);return Fg(n)?w.some(n):w.none()},Ef=e=>Ct.fromDom(e.dom.host),ss=e=>{if(s(e.target)){const n=Ct.fromDom(e.target);if(da(n)&&O2(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Fe(o)}}return w.from(e.target)},O2=e=>s(e.dom.shadowRoot),Ua=(e,n,o,i,c,p,h)=>({target:e,x:n,y:o,stop:i,prevent:c,kill:p,raw:h}),ai=e=>{const n=Ct.fromDom(ss(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=f(i,o);return Ua(n,e.clientX,e.clientY,o,i,c,e)},ii=(e,n)=>o=>{e(o)&&n(ai(o))},Kr=(e,n,o,i,c)=>{const p=ii(o,i);return e.dom.addEventListener(n,p,c),{unbind:B(Pg,e,n,p,c)}},Hu=(e,n,o,i)=>Kr(e,n,o,i,!1),Pg=(e,n,o,i)=>{e.dom.removeEventListener(n,o,i)},ec=ee,Vc=(e,n,o)=>Hu(e,n,ec,o),$g=()=>Ct.fromDom(document),bp=(e,n=!1)=>e.dom.focus({preventScroll:n}),wh=e=>{const n=ou(e).dom;return e.dom===n.activeElement},Il=(e=$g())=>w.from(e.dom.activeElement).map(Ct.fromDom),wf=e=>Il(ou(e)).filter(n=>e.dom.contains(n.dom)),Ja=(e,n)=>{si(e).each(i=>{i.dom.insertBefore(n.dom,e.dom)})},yd=(e,n)=>{xd(e).fold(()=>{si(e).each(c=>{Lr(c,n)})},i=>{Ja(i,n)})},su=(e,n)=>{pc(e).fold(()=>{Lr(e,n)},i=>{e.dom.insertBefore(n.dom,i.dom)})},Lr=(e,n)=>{e.dom.appendChild(n.dom)},nl=(e,n)=>{Ja(e,n),Lr(n,e)},gc=(e,n)=>{R(n,o=>{Ja(e,o)})},Sh=(e,n)=>{R(n,(o,i)=>{const c=i===0?e:n[i-1];yd(c,o)})},Bl=(e,n)=>{R(n,o=>{Lr(e,o)})},Hg=(e,n,o)=>{if(lt(o)||eo(o)||$(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Mo=(e,n,o)=>{Hg(e.dom,n,o)},ka=(e,n)=>{const o=e.dom;Zt(n,(i,c)=>{Hg(o,c,i)})},Qa=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},pa=(e,n)=>w.from(Qa(e,n)),zu=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},er=(e,n)=>{e.dom.removeAttribute(n)},zg=e=>{const n=e.dom.attributes;return n==null||n.length===0},ru=e=>Le(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ps=e=>{e.dom.textContent="",R(hr(e),n=>{kr(n)})},kr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Fl=e=>{const n=hr(e);n.length>0&&Sh(e,n),kr(e)},d1=(e,n)=>Ct.fromDom(e.dom.cloneNode(n)),qr=e=>d1(e,!1),Di=e=>d1(e,!0),Uu=(e,n)=>{const o=Ct.fromTag(n),i=ru(e);return ka(o,i),o},au=(e,n)=>{const o=Uu(e,n);yd(e,o);const i=hr(e);return Bl(o,i),kr(e),o},u1=(e,n)=>{const i=(n||document).createElement("div");return i.innerHTML=e,hr(Ct.fromDom(i))},Pl=e=>K(e,Ct.fromDom),Th=e=>e.dom.innerHTML,ei=(e,n)=>{const i=Vi(e).dom,c=Ct.fromDom(i.createDocumentFragment()),p=u1(n,i);Bl(c,p),Ps(e),Lr(e,c)},f1=e=>{const n=Ct.fromTag("div"),o=Ct.fromDom(e.dom.cloneNode(!0));return Lr(n,o),Th(n)},vp=e=>e.style!==void 0&&b(e.style.getPropertyValue),Cd=e=>{const n=Ha(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return A2(Ct.fromDom(n)).fold(()=>o.body.contains(n),N(Cd,Ef))},Dr=(e,n,o)=>{if(!lt(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);vp(e)&&e.style.setProperty(n,o)},L2=(e,n)=>{vp(e)&&e.style.removeProperty(n)},iu=(e,n,o)=>{const i=e.dom;Dr(i,n,o)},Ni=(e,n)=>{const o=e.dom;Zt(n,(i,c)=>{Dr(o,c,i)})},Va=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Cd(e)?Ri(o,n):c},Ri=(e,n)=>vp(e)?e.style.getPropertyValue(n):"",tc=(e,n)=>{const o=e.dom,i=Ri(o,n);return w.from(i).filter(c=>c.length>0)},Wa=e=>{const n={},o=e.dom;if(vp(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);n[c]=o.style[c]}return n},Sf=(e,n)=>{const o=e.dom;L2(o,n),kt(pa(e,"style").map(As),"")&&er(e,"style")},d5=e=>e.dom.offsetWidth,u5=((e,n)=>{const o=(_,S)=>{if(!$(S)&&!S.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+S);const z=_.dom;vp(z)&&(z.style[e]=S+"px")},i=_=>{const S=n(_);if(S<=0||S===null){const z=Va(_,e);return parseFloat(z)||0}return S},c=i,p=(_,S)=>Le(S,(z,oe)=>{const ve=Va(_,oe),Te=ve===void 0?0:parseInt(ve,10);return isNaN(Te)?z:z+Te},0);return{set:o,get:i,getOuter:c,aggregate:p,max:(_,S,z)=>{const oe=p(_,z);return S>oe?S-oe:0}}})("height",e=>{const n=e.dom;return Cd(e)?n.getBoundingClientRect().height:n.offsetHeight}),Wc=e=>u5.get(e),N2=(e,n)=>({left:e,top:n,translate:(i,c)=>N2(e+i,n+c)}),Tf=N2,p1=e=>{const n=e.getBoundingClientRect();return Tf(n.left,n.top)},xp=(e,n)=>e!==void 0?e:n!==void 0?n:0,kh=e=>{const n=e.dom.ownerDocument,o=n.body,i=n.defaultView,c=n.documentElement;if(o===e.dom)return Tf(o.offsetLeft,o.offsetTop);const p=xp(i==null?void 0:i.pageYOffset,c.scrollTop),h=xp(i==null?void 0:i.pageXOffset,c.scrollLeft),_=xp(c.clientTop,o.clientTop),S=xp(c.clientLeft,o.clientLeft);return kf(e).translate(h-S,p-_)},kf=e=>{const n=e.dom,i=n.ownerDocument.body;return i===n?Tf(i.offsetLeft,i.offsetTop):Cd(e)?p1(n):Tf(0,0)},yp=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Tf(o,i)},R2=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},M2=(e,n)=>{$c().browser.isSafari()&&b(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Kc=(e,n)=>{const o=p=>{if(!e(p))throw new Error("Can only get "+n+" value of a "+n+" node");return i(p).getOr("")},i=p=>e(p)?w.from(p.dom.nodeValue):w.none();return{get:o,getOption:i,set:(p,h)=>{if(!e(p))throw new Error("Can only set raw "+n+" value of a "+n+" node");p.dom.nodeValue=h}}},Cp=(e,n)=>{const i=document.createDocumentFragment();return R(e,c=>{i.appendChild(c.dom)}),Ct.fromDom(i)},g1=Kc(Ha,"text"),pr=e=>g1.get(e),nc=e=>g1.getOption(e),mc=(e,n)=>g1.set(e,n),Ah=(e,n)=>{const o=Qa(e,n);return o===void 0||o===""?[]:o.split(" ")},m1=(e,n,o)=>{const c=Ah(e,n).concat([o]);return Mo(e,n,c.join(" ")),!0},Oh=(e,n,o)=>{const i=V(Ah(e,n),c=>c!==o);return i.length>0?Mo(e,n,i.join(" ")):er(e,n),!1};var Lh=(e,n,o,i,c)=>e(o,i)?w.some(o):b(c)&&c(o)?w.none():n(o,i,c);const Mi=(e,n,o)=>{let i=e.dom;const c=b(o)?o:H;for(;i.parentNode;){i=i.parentNode;const p=Ct.fromDom(i);if(n(p))return w.some(p);if(c(p))break}return w.none()},_d=(e,n,o)=>Lh((c,p)=>p(c),Mi,e,n,o),na=(e,n)=>{const o=e.dom;return o.parentNode?I2(Ct.fromDom(o.parentNode),i=>!Ws(e,i)&&n(i)):w.none()},I2=(e,n)=>{const o=c=>n(Ct.fromDom(c));return we(e.dom.childNodes,o).map(Ct.fromDom)},Vr=(e,n)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const p=Ct.fromDom(i.childNodes[c]);if(n(p))return w.some(p);const h=o(i.childNodes[c]);if(h.isSome())return h}return w.none()};return o(e.dom)},Vu=(e,n,o)=>Mi(e,i=>Ml(i,n),o),Ma=(e,n)=>Hc(n,e),$l=(e,n,o)=>Lh((c,p)=>Ml(c,p),Vu,e,n,o),Cl=e=>e.dom.classList!==void 0,h1=e=>Ah(e,"class"),Ug=(e,n)=>m1(e,"class",n),Dh=(e,n)=>Oh(e,"class",n),B2=(e,n)=>M(h1(e),n)?Dh(e,n):Ug(e,n),b1=(e,n)=>{Cl(e)?e.dom.classList.add(n):Ug(e,n)},jc=e=>{(Cl(e)?e.dom.classList:h1(e)).length===0&&er(e,"class")},Hl=(e,n)=>{Cl(e)?e.dom.classList.remove(n):Dh(e,n),jc(e)},ti=(e,n)=>{const o=Cl(e)?e.dom.classList.toggle(n):B2(e,n);return jc(e),o},Ia=(e,n)=>Cl(e)&&e.dom.classList.contains(n),F2=(e,n)=>{R(n,o=>{b1(e,o)})},_p=(e,n)=>{R(n,o=>{Hl(e,o)})},Vg=e=>$l(e,"[contenteditable]"),Ed=(e,n=!1)=>Cd(e)?e.dom.isContentEditable:Vg(e).fold(O(n),o=>Wg(o)==="true"),Wg=e=>e.dom.contentEditable,Nh=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Z=(e,n,o)=>V(Ql(e,o),n),ne=(e,n)=>V(hr(e),n),Pe=(e,n)=>{let o=[];return R(hr(e),i=>{n(i)&&(o=o.concat([i])),o=o.concat(Pe(i,n))}),o},it=(e,n,o)=>Z(e,i=>Ml(i,n),o),Nt=(e,n)=>k2(n,e),En=(e,n,o)=>Mi(e,n,o).isSome(),co=(e,n)=>na(e,n).isSome(),Fo=(e,n)=>Vr(e,n).isSome(),Ds=(e,n)=>En(e,B(Ws,n)),$s=(e,n,o)=>Vu(e,n,o).isSome(),Nr=e=>b(e)?e:H,Yr=(e,n,o)=>{let i=e.dom;const c=Nr(o);for(;i.parentNode;){i=i.parentNode;const p=Ct.fromDom(i),h=n(p);if(h.isSome())return h;if(c(p))break}return w.none()},ma=(e,n,o)=>{const i=n(e),c=Nr(o);return i.orThunk(()=>c(e)?w.none():Yr(e,n,c))},zl=e=>nc(e).filter(n=>n.trim().length!==0||n.indexOf(Qs)>-1).isSome(),lu=e=>xl(e)&&Qa(e,"contenteditable")==="false",cu=["img","br"],hc=e=>zl(e)||M(cu,Fs(e))||lu(e),Rh=e=>Vr(e,hc),v1={create:(e,n,o,i)=>({start:e,soffset:n,finish:o,foffset:i})},Wu=Xo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Kg=(e,n,o,i)=>e.fold(n,o,i),jg=e=>e.fold(T,T,T),Zg=Wu.before,f5=Wu.on,p5=Wu.after,Ks={before:Zg,on:f5,after:p5,cata:Kg,getStart:jg},Xr=Xo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ci=e=>Xr.exact(e.start,e.soffset,e.finish,e.foffset),_l=e=>e.match({domRange:n=>Ct.fromDom(n.startContainer),relative:(n,o)=>Ks.getStart(n),exact:(n,o,i,c)=>n}),Gg=Xr.domRange,wp=Xr.relative,qg=Xr.exact,Yg=e=>{const n=_l(e);return fa(n)},t8=v1.create,bc={domRange:Gg,relative:wp,exact:qg,exactFromRange:Ci,getWin:Yg,range:t8},Mh=(e,n,o)=>{var i;return w.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return w.none();const p=e.createRange();return p.setStart(c.offsetNode,c.offset),p.collapse(),w.some(p)})},g5=(e,n,o)=>{var i;return w.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,n,o))},Vy=(e,n,o)=>e.caretPositionFromPoint?Mh(e,n,o):e.caretRangeFromPoint?g5(e,n,o):w.none(),Ka=(e,n,o)=>{const i=e.document;return Vy(i,n,o).map(c=>v1.create(Ct.fromDom(c.startContainer),c.startOffset,Ct.fromDom(c.endContainer),c.endOffset))},ha=(e,n)=>{const o=Fs(e);return o==="input"?Ks.after(e):M(["br","img"],o)?n===0?Ks.before(e):Ks.after(e):Ks.on(e,n)},x1=(e,n)=>{const o=e.fold(Ks.before,ha,Ks.after),i=n.fold(Ks.before,ha,Ks.after);return bc.relative(o,i)},Sp=(e,n,o,i)=>{const c=ha(e,n),p=ha(o,i);return bc.relative(c,p)},m5=e=>e.match({domRange:n=>{const o=Ct.fromDom(n.startContainer),i=Ct.fromDom(n.endContainer);return Sp(o,n.startOffset,i,n.endOffset)},relative:x1,exact:Sp}),ol=e=>{const n=bc.getWin(e).dom,o=(c,p,h,_)=>Mg(n,c,p,h,_),i=m5(e);return Ch(n,i).match({ltr:o,rtl:o})},h5=(e,n,o)=>Ka(e,n,o),y1=e=>{const n=e===void 0?window:e;return $c().browser.isFirefox()?w.none():w.from(n.visualViewport)},Ih=(e,n,o,i)=>({x:e,y:n,width:o,height:i,right:e+o,bottom:n+i}),Ul=e=>{const n=e===void 0?window:e,o=n.document,i=yp(Ct.fromDom(o));return y1(n).fold(()=>{const c=n.document.documentElement,p=c.clientWidth,h=c.clientHeight;return Ih(i.left,i.top,p,h)},c=>Ih(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))};class ja{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,i,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let p=n[i];if(p)return p;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(p=h[i],p)return p}}}findPreviousNode(n,o){if(n){const i=n.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let p=i.lastChild;p;p=p.lastChild)if(!p.lastChild)return p}return i}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const vc=/^[ \t\r\n]*$/,du=e=>vc.test(e),P2=e=>{for(const n of e)if(!Re(n))return!1;return!0},Wy=e=>" \f	\v".indexOf(e)!==-1,b5=e=>e===`
`||e==="\r",v5=(e,n)=>n<e.length&&n>=0?b5(e[n]):!1,n8=(e,n=4,o=!0,i=!0)=>{const c=po(" ",n),p=e.replace(/\t/g,c);return Le(p,(_,S)=>Wy(S)||S===Qs?_.pcIsSpace||_.str===""&&o||_.str.length===p.length-1&&i||v5(p,_.str.length+1)?{pcIsSpace:!1,str:_.str+Qs}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:b5(S),str:_.str+S},{pcIsSpace:!1,str:""}).str},C1=e=>n=>!!n&&n.nodeType===e,Xg=e=>!!e&&!Object.getPrototypeOf(e),Vo=C1(1),uu=e=>Vo(e)&&xl(Ct.fromDom(e)),Za=e=>Vo(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",wd=e=>{const n=e.toLowerCase();return o=>s(o)&&o.nodeName.toLowerCase()===n},fu=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return M(n,i)}return!1}},xc=(e,n)=>{const o=n.toLowerCase().split(" ");return i=>{if(Vo(i)){const c=i.ownerDocument.defaultView;if(c)for(let p=0;p<o.length;p++){const h=c.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[p])return!0}}return!1}},x5=e=>n=>Vo(n)&&n.hasAttribute(e),Tp=e=>Vo(e)&&e.hasAttribute("data-mce-bogus"),Ky=e=>Vo(e)&&e.getAttribute("data-mce-bogus")==="all",pu=e=>Vo(e)&&e.tagName==="TABLE",o8=e=>n=>!!(uu(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Af=fu(["textarea","input"]),Yn=C1(3),gu=C1(4),y5=C1(7),Ku=C1(8),Aa=C1(9),qs=C1(11),Jr=wd("br"),Bh=wd("img"),s8=wd("a"),ni=o8("true"),Pr=o8("false"),Fh=e=>uu(e)&&e.isContentEditable&&s(e.parentElement)&&!e.parentElement.isContentEditable,Ph=fu(["td","th"]),kp=fu(["td","th","caption"]),$2=wd("template"),Zc=fu(["video","audio","object","embed"]),r8=wd("li"),$h=wd("details"),a8=wd("summary"),H2={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},jy=(e,n,o)=>{const i=Ct.fromDom(n),c=Ct.fromDom(e),p=o.getWhitespaceElements();return En(c,_=>vn(p,Fs(_)),B(Ws,i))},Zy=e=>Vo(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),C5=(e,n)=>Vo(e)&&vn(n.getNonEmptyElements(),e.nodeName),i8=x5("data-mce-bookmark"),z2=e=>$u(Ct.fromDom(e)).exists(n=>!Ed(n)),Gy=(e,n,o)=>du(e.data)&&!jy(e,n,o),qy=(e,n,o,i)=>Yn(e)&&!Gy(e,n,o)&&(!i.includeZwsp||!P2(e.data)),Hh=(e,n,o,i)=>b(i.isContent)&&i.isContent(n)||C5(n,e)||i8(n)||Zy(n)||qy(n,o,e,i)||Pr(n)||ni(n)&&z2(n),Of=(e,n,o)=>{const i={...H2,...o};if(i.checkRootAsContent&&Hh(e,n,n,i))return!1;let c=n.firstChild,p=0;if(!c)return!0;const h=new ja(c,n);do{if(i.skipBogus&&Vo(c)){const _=c.getAttribute("data-mce-bogus");if(_){c=h.next(_==="all");continue}}if(Ku(c)){c=h.next(!0);continue}if(Jr(c)){p++,c=h.next();continue}if(Hh(e,c,n,i))return!1;c=h.next()}while(c);return p<=1},li=(e,n,o)=>Of(e,n.dom,{checkRootAsContent:!0,...o}),Yy=(e,n,o)=>Hh(e,n,n,{includeZwsp:H2.includeZwsp,...o}),yc=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},ns=e=>yc(e)!=="html",Gc=e=>ns(e.nodeName),Jg=e=>yc(e.nodeName),Xy=["svg","math"],Jy=()=>{const e=hs(),n=()=>e.get().map(Jg).getOr("html");return{track:c=>(Gc(c)?e.set(c):e.get().exists(p=>!p.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Ap="data-mce-block",l8=e=>V(Rt(e),n=>!/[A-Z]/.test(n)),Lf=e=>K(l8(e),n=>{const o=CSS.escape(n);return`${o}:`+K(Xy,i=>`not(${i} ${o})`).join(":")}).join(","),_5=(e,n)=>s(n.querySelector(e))?(n.setAttribute(Ap,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Ap),!1),_1=(e,n)=>{const o=Lf(e.getTransparentElements()),i=Lf(e.getBlockElements());return V(n.querySelectorAll(o),c=>_5(i,c))},E5=(e,n,o)=>{var i;const c=o?"lastChild":"firstChild";for(let p=n[c];p;p=p[c])if(Of(e,p,{checkRootAsContent:!0})){(i=p.parentNode)===null||i===void 0||i.removeChild(p);return}},Qy=(e,n,o)=>{const i=document.createRange(),c=n.parentNode;if(c){i.setStartBefore(n),i.setEndBefore(o);const p=i.extractContents();E5(e,p,!0),i.setStartAfter(o),i.setEndAfter(n);const h=i.extractContents();E5(e,h,!1),Of(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),Of(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),Of(e,h,{checkRootAsContent:!0})||c.insertBefore(h,n),c.removeChild(n)}},ra=(e,n,o)=>{const i=e.getBlockElements(),c=Ct.fromDom(n),p=_=>Fs(_)in i,h=_=>Ws(_,c);R(Pl(o),_=>{Mi(_,p,h).each(S=>{const z=ne(_,oe=>p(oe)&&!e.isValidChild(Fs(S),Fs(oe)));if(z.length>0){const oe=$u(S);R(z,ve=>{Mi(ve,p,h).each(Te=>{Qy(e,Te.dom,ve.dom)})}),oe.each(ve=>_1(e,ve.dom))}})})},Sd=(e,n,o)=>{R([...o,...ju(e,n)?[n]:[]],i=>R(Nt(Ct.fromDom(i),i.nodeName.toLowerCase()),c=>{Bn(e,c.dom)&&Fl(c)}))},sl=(e,n)=>{const o=_1(e,n);ra(e,n,o),Sd(e,n,o)},Qg=(e,n)=>{if(Wi(e,n)){const o=Lf(e.getBlockElements());_5(o,n)}},El=(e,n,o)=>{const i=p=>Ws(p,Ct.fromDom(n)),c=Ql(Ct.fromDom(o),i);qe(c,c.length-2).filter(da).fold(()=>sl(e,n),p=>sl(e,p.dom))},Df=e=>e.hasAttribute(Ap),ci=(e,n)=>vn(e.getTransparentElements(),n),Wi=(e,n)=>Vo(n)&&ci(e,n.nodeName),ju=(e,n)=>Wi(e,n)&&Df(n),Bn=(e,n)=>Wi(e,n)&&!Df(n),Vl=(e,n)=>n.type===1&&ci(e,n.name)&&lt(n.attr(Ap)),w5=$c().browser,Ga=e=>we(e,da),Td=e=>w5.isFirefox()&&Fs(e)==="table"?Ga(hr(e)).filter(n=>Fs(n)==="caption").bind(n=>Ga(ri(n)).map(o=>{const i=o.dom.offsetTop,c=n.dom.offsetTop,p=n.dom.offsetHeight;return i<=c?-p:0})).getOr(0):0,Cc=(e,n)=>e.children&&M(e.children,n),eC=(e,n,o)=>{let i=0,c=0;const p=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Va(Ct.fromDom(e),"position")==="static"){const _=n.getBoundingClientRect();return i=_.left+(p.documentElement.scrollLeft||e.scrollLeft)-p.documentElement.clientLeft,c=_.top+(p.documentElement.scrollTop||e.scrollTop)-p.documentElement.clientTop,{x:i,y:c}}let h=n;for(;h&&h!==o&&h.nodeType&&!Cc(h,o);){const _=h;i+=_.offsetLeft||0,c+=_.offsetTop||0,h=_.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Cc(h,o);)i-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode;c+=Td(Ct.fromDom(n))}return{x:i,y:c}},Nf=(e,n)=>{const o=n.crossOrigin;return n.contentCssCors?"anonymous":b(o)?o(e):void 0},S5=(e,n={})=>{let o=0;const i={},c=Ct.fromDom(e),p=yi(c),h=Ft=>{n.referrerPolicy=Ft},_=Ft=>{n.contentCssCors=Ft},S=Ft=>{n.crossOrigin=Ft},z=Ft=>{Lr(tl(c),Ft)},oe=Ft=>{const qt=tl(c);Ma(qt,"#"+Ft).each(kr)},ve=Ft=>Mn(i,Ft).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Te=Ft=>new Promise((qt,rn)=>{let Tn;const so=Kn._addCacheSuffix(Ft),Un=ve(so);i[so]=Un,Un.count++;const gn=(Ms,ko)=>{R(Ms,j),Un.status=ko,Un.passed=[],Un.failed=[],Tn&&(Tn.onload=null,Tn.onerror=null,Tn=null)},mn=()=>gn(Un.passed,2),Rn=()=>gn(Un.failed,3);if(qt&&Un.passed.push(qt),rn&&Un.failed.push(rn),Un.status===1)return;if(Un.status===2){mn();return}if(Un.status===3){Rn();return}Un.status=1;const Lo=Ct.fromTag("link",p.dom);ka(Lo,{rel:"stylesheet",type:"text/css",id:Un.id});const es=Nf(Ft,n);es!==void 0&&Mo(Lo,"crossOrigin",es),n.referrerPolicy&&Mo(Lo,"referrerpolicy",n.referrerPolicy),Tn=Lo.dom,Tn.onload=mn,Tn.onerror=Rn,z(Lo),Mo(Lo,"href",so)}),$e=(Ft,qt)=>{const rn=ve(Ft);i[Ft]=rn,rn.count++;const Tn=Ct.fromTag("style",p.dom);ka(Tn,{rel:"stylesheet",type:"text/css",id:rn.id,"data-mce-key":Ft}),Tn.dom.innerHTML=qt,z(Tn)},dt=Ft=>Promise.allSettled(K(Ft,rn=>Te(rn).then(O(rn)))).then(rn=>{const Tn=J(rn,so=>so.status==="fulfilled");return Tn.fail.length>0?Promise.reject(K(Tn.fail,so=>so.reason)):K(Tn.pass,so=>so.value)}),at=Ft=>{const qt=Kn._addCacheSuffix(Ft);Mn(i,qt).each(rn=>{--rn.count===0&&(delete i[qt],oe(rn.id))})};return{load:Te,loadRawCss:$e,loadAll:dt,unload:at,unloadRawCss:Ft=>{Mn(i,Ft).each(qt=>{--qt.count===0&&(delete i[Ft],oe(qt.id))})},unloadAll:Ft=>{R(Ft,qt=>{at(qt)})},_setReferrerPolicy:h,_setContentCssCors:_,_setCrossOrigin:S}},xr=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const p=ou(o).dom;return w.from(e.get(p)).getOrThunk(()=>{const h=S5(p,i);return e.set(p,h),h})}}})(),mu=e=>e.nodeName.toLowerCase()==="span",em=(e,n)=>s(e)&&(Yy(n,e)||n.isInline(e.nodeName.toLowerCase())),xa=(e,n,o)=>{const i=new ja(e,n).prev(!1),c=new ja(e,n).next(!1),p=ks(i)||em(i,o),h=ks(c)||em(c,o);return p&&h},T5=e=>mu(e)&&e.getAttribute("data-mce-type")==="bookmark",k5=(e,n,o)=>Yn(e)&&e.data.length>0&&xa(e,n,o),hu=e=>Vo(e)?e.childNodes.length>0:!1,A5=e=>qs(e)||Aa(e),wl=(e,n,o,i)=>{var c;const p=i||n;if(Vo(n)&&T5(n))return n;const h=n.childNodes;for(let _=h.length-1;_>=0;_--)wl(e,h[_],o,p);if(Vo(n)){const _=n.childNodes;_.length===1&&T5(_[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(_[0],n))}return!A5(n)&&!Yy(o,n)&&!hu(n)&&!k5(n,p,o)&&e.remove(n),n},tC=Kn.makeMap,tn=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O5=/[<>&\"\']/g,aa=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ec={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Oa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},$r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},c8=e=>{const n=Ct.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Rf=(e,n)=>{const o={};if(e){const i=e.split(",");n=n||10;for(let c=0;c<i.length;c+=2){const p=String.fromCharCode(parseInt(i[c],n));if(!Oa[p]){const h="&"+i[c+1]+";";o[p]=h,o[h]=p}}return o}else return},U2=Rf("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Op=(e,n)=>e.replace(n?tn:Sl,o=>Oa[o]||o),zh=e=>(""+e).replace(O5,n=>Oa[n]||n),L5=(e,n)=>e.replace(n?tn:Sl,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Oa[o]||"&#"+o.charCodeAt(0)+";"),D5=(e,n,o)=>{const i=o||U2;return e.replace(n?tn:Sl,c=>Oa[c]||i[c]||c)},Lp={encodeRaw:Op,encodeAllRaw:zh,encodeNumeric:L5,encodeNamed:D5,getEncodeFunc:(e,n)=>{const o=Rf(n)||U2,i=(h,_)=>h.replace(_?tn:Sl,S=>Oa[S]!==void 0?Oa[S]:o[S]!==void 0?o[S]:S.length>1?"&#"+((S.charCodeAt(0)-55296)*1024+(S.charCodeAt(1)-56320)+65536)+";":"&#"+S.charCodeAt(0)+";"),c=(h,_)=>D5(h,_,o),p=tC(e.replace(/\+/g,","));return p.named&&p.numeric?i:p.named?n?c:D5:p.numeric?L5:Op},decode:e=>e.replace(aa,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Ec[o]||String.fromCharCode(o)):$r[n]||U2[n]||c8(n))},Ki=(e,n)=>(e=Kn.trim(e),e?e.split(n||" "):[]),N5=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Ii=e=>qn(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Mf=e=>{const n=o=>_o(o)?K(o,n):Ii(o)?new RegExp(o.source,o.flags):qn(o)?wn(o,n):o;return n(e)},If=e=>{const n=/^(~)?(.+)$/;return nt(Ki(e,","),o=>{const i=n.exec(o);if(i){const p=i[1]==="~"?"span":"div",h=i[2];return[{cloneName:p,name:h}]}else return[]})},E1=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),nm=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:i}},rl=e=>{const{blockContent:n,phrasingContent:o,flowContent:i}=nm(e),c=p=>Object.freeze(p.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(i)})},om={html4:Ur(()=>rl("html4")),html5:Ur(()=>rl("html5")),"html5-strict":Ur(()=>rl("html5-strict"))},qa=(e,n)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=om[e]();return n==="blocks"?w.some(o):n==="phrasing"?w.some(i):n==="flow"?w.some(c):w.none()},R5=e=>{const n=E1(e),{phrasingContent:o,flowContent:i}=nm(e),c={},p=(S,z,oe)=>{c[S]={attributes:ze(z,O({})),attributesOrder:z,children:ze(oe,O({}))}},h=(S,z="",oe="")=>{const ve=Ki(oe),Te=Ki(S);let $e=Te.length;const dt=[...n,...Ki(z)];for(;$e--;)p(Te[$e],dt.slice(),ve)},_=(S,z)=>{const oe=Ki(S),ve=Ki(z);let Te=oe.length;for(;Te--;){const $e=c[oe[Te]];for(let dt=0,at=ve.length;dt<at;dt++)$e.attributes[ve[dt]]={},$e.attributesOrder.push(ve[dt])}};return e!=="html5-strict"&&(R(Ki("acronym applet basefont big font strike tt"),oe=>{h(oe,"",o)}),R(Ki("center dir isindex noframes"),oe=>{h(oe,"",i)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),h("dd div","",i),h("address dt caption","",e==="html4"?o:i),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",i),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",i),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:i),h("q","cite",o),h("ins del","cite datetime",i),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",i),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),h("param","name value"),h("map","name",[i,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",i),h("th","colspan rowspan headers scope abbr",i),h("form","accept-charset action autocomplete enctype method name novalidate target",i),h("fieldset","disabled form name",[i,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[i,"li"].join(" ")),h("noscript","",i),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",i),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",i),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",i),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[i,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",i),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[i,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),p("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&R([c.video,c.audio],S=>{delete S.children.audio,delete S.children.video}),R(Ki("a form meter progress dfn"),S=>{c[S]&&delete c[S].children[S]}),delete c.caption.children.table,delete c.script,c},kd=e=>e==="-"?"remove":"add",wc=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return w.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},d8=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return nt(Ki(e,","),o=>{const i=n.exec(o);if(i){const c=i[1],p=c?kd(c):"replace",h=i[2],_=nt(Ki(i[3],"|"),S=>wc(S).toArray());return[{operation:p,name:h,validChildren:_}]}else return[]})},di=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:p}=n;return R(Ki(e,"|"),h=>{const _=o.exec(h);if(_){const S={},z=_[1],oe=_[2].replace(/[\\:]:/g,":"),ve=_[3],Te=_[4];if(z==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(oe),S.required=!0),z==="-"){delete c[oe],p.splice(Kn.inArray(p,oe),1);return}if(ve&&(ve==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:oe,value:Te}),S.defaultValue=Te):ve==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:oe,value:Te}),S.forcedValue=Te):ve==="<"&&(S.validValues=Kn.makeMap(Te,"?"))),i.test(oe)){const $e=S;n.attributePatterns=n.attributePatterns||[],$e.pattern=N5(oe),n.attributePatterns.push($e)}else c[oe]||p.push(oe),c[oe]=S}})},sm=(e,n)=>{Zt(e.attributes,(o,i)=>{n.attributes[i]=o}),n.attributesOrder.push(...e.attributesOrder)},Bf=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return nt(Ki(n,","),i=>{const c=o.exec(i);if(c){const p=c[1],h=c[2],_=c[3],S=c[4],z=c[5],oe={attributes:{},attributesOrder:[]};if(e.each(ve=>sm(ve,oe)),p==="#"?oe.paddEmpty=!0:p==="-"&&(oe.removeEmpty=!0),S==="!"&&(oe.removeEmptyAttrs=!0),z&&di(z,oe),_&&(oe.outputName=h),h==="@")if(e.isNone())e=w.some(oe);else return[];return[_?{name:h,element:oe,aliasName:_}:{name:h,element:oe}]}else return[]})},Zu={},bu=Kn.makeMap,vu=Kn.each,Vh=Kn.extend,Dp=Kn.explode,u8=(e,n={})=>{const o=bu(e," ",bu(e.toUpperCase()," "));return Vh(o,n)},ya=e=>u8("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),M5=(e,n)=>{if(e){const o={};return lt(e)&&(e={"*":e}),vu(e,(i,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?bu(i,/[, ]/):Dp(i,/[, ]/)}),o}else return},oc=(e={})=>{var n;const o={},i={};let c=[];const p={},h={},_=(is,ur,Pa)=>{const Pi=e[is];if(Pi)return bu(Pi,/[, ]/,bu(Pi.toUpperCase(),/[, ]/));{let Xi=Zu[is];return Xi||(Xi=u8(ur,Pa),Zu[is]=Xi),Xi}},S=(n=e.schema)!==null&&n!==void 0?n:"html5",z=R5(S);e.verify_html===!1&&(e.valid_elements="*[*]");const oe=M5(e.valid_styles),ve=M5(e.invalid_styles,"map"),Te=M5(e.valid_classes,"map"),$e=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),dt=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),at=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),rt=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Wt="td th iframe video audio object script code",Ft=_("non_empty_elements",Wt+" pre svg textarea summary",at),qt=_("move_caret_before_on_enter_elements",Wt+" table",at),rn="h1 h2 h3 h4 h5 h6",Tn=_("text_block_elements",rn+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),so=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Tn),Un=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),gn=_("transparent_elements","a ins del canvas map"),mn=_("wrap_block_elements","pre "+rn);vu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),is=>{h[is]=new RegExp("</"+is+"[^>]*>","gi")});const Rn=is=>{const ur=w.from(o["@"]),Pa=/[*?+]/;R(Bf(ur,is??""),({name:Pi,element:Xi,aliasName:Oi})=>{if(Oi&&(o[Oi]=Xi),Pa.test(Pi)){const _a=Xi;_a.pattern=N5(Pi),c.push(_a)}else o[Pi]=Xi})},Lo=is=>{c=[],R(Rt(o),ur=>{delete o[ur]}),Rn(is)},es=(is,ur)=>{var Pa,Pi;delete Zu.text_block_elements,delete Zu.block_elements;const Xi=ur.extends?!Pc(ur.extends):!1,Oi=ur.extends;if(i[is]=Oi?i[Oi]:{},p[is]=Oi??is,Ft[is.toUpperCase()]={},Ft[is]={},Xi||(so[is.toUpperCase()]={},so[is]={}),Oi&&!o[is]&&o[Oi]){const _a=Mf(o[Oi]);delete _a.removeEmptyAttrs,delete _a.removeEmpty,o[is]=_a}else o[is]={attributesOrder:[],attributes:{}};if(_o(ur.attributes)){const _a=gd=>{Ea.attributesOrder.push(gd),Ea.attributes[gd]={}},Ea=(Pa=o[is])!==null&&Pa!==void 0?Pa:{};delete Ea.attributesDefault,delete Ea.attributesForced,delete Ea.attributePatterns,delete Ea.attributesRequired,Ea.attributesOrder=[],Ea.attributes={},R(ur.attributes,gd=>{const up=E1(S);wc(gd).each(({preset:uh,name:Ag})=>{uh?Ag==="global"&&R(up,_a):_a(Ag)})}),o[is]=Ea}if(eo(ur.padEmpty)){const _a=(Pi=o[is])!==null&&Pi!==void 0?Pi:{};_a.paddEmpty=ur.padEmpty,o[is]=_a}if(_o(ur.children)){const _a={},Ea=up=>{_a[up]={}},gd=up=>{qa(S,up).each(uh=>{R(uh,Ea)})};R(ur.children,up=>{wc(up).each(({preset:uh,name:Ag})=>{uh?gd(Ag):Ea(Ag)})}),i[is]=_a}Oi&&Zt(i,(_a,Ea)=>{_a[Oi]&&(i[Ea]=_a=Vh({},i[Ea]),_a[is]=_a[Oi])})},Ms=is=>{R(If(is??""),({name:ur,cloneName:Pa})=>{es(ur,{extends:Pa})})},ko=is=>{qn(is)?Zt(is,(ur,Pa)=>es(Pa,ur)):lt(is)&&Ms(is)},Gt=is=>{R(d8(is??""),({operation:ur,name:Pa,validChildren:Pi})=>{const Xi=ur==="replace"?{"#comment":{}}:i[Pa],Oi=Ea=>{ur==="remove"?delete Xi[Ea]:Xi[Ea]={}},_a=Ea=>{qa(S,Ea).each(gd=>{R(gd,Oi)})};R(Pi,({preset:Ea,name:gd})=>{Ea?_a(gd):Oi(gd)}),i[Pa]=Xi})},lo=is=>{const ur=o[is];if(ur)return ur;let Pa=c.length;for(;Pa--;){const Pi=c[Pa];if(Pi.pattern.test(is))return Pi}},as=()=>{e.valid_elements?(Lo(e.valid_elements),vu(z,(is,ur)=>{i[ur]=is.children})):(vu(z,(is,ur)=>{o[ur]={attributes:is.attributes,attributesOrder:is.attributesOrder},i[ur]=is.children}),vu(Ki("strong/b em/i"),is=>{const ur=Ki(is,"/");o[ur[1]].outputName=ur[0]}),vu(Un,(is,ur)=>{o[ur]&&(e.padd_empty_block_inline_children&&(o[ur].paddInEmptyBlock=!0),o[ur].removeEmpty=!0)}),vu(Ki("ol ul blockquote a table tbody"),is=>{o[is]&&(o[is].removeEmpty=!0)}),vu(Ki("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),is=>{o[is]&&(o[is].paddEmpty=!0)}),vu(Ki("span"),is=>{o[is].removeEmptyAttrs=!0})),delete o.svg,ko(e.custom_elements),Gt(e.valid_children),Rn(e.extended_valid_elements),Gt("+ol[ul|ol],+ul[ul|ol]"),vu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(is,ur)=>{o[ur]&&(o[ur].parentsRequired=Ki(is))}),e.invalid_elements&&vu(Dp(e.invalid_elements),is=>{o[is]&&delete o[is]}),lo("span")||Rn("span[!data-mce-type|*]")},dr=O(oe),va=O(ve),Gn=O(Te),Ro=O(rt),Xs=O(so),rr=O(Tn),Bo=O(Un),Pn=O(Object.seal(at)),ho=O(dt),vs=O(Ft),Ts=O(qt),vr=O($e),sa=O(gn),Mu=O(mn),fd=O(Object.seal(h)),a1=(is,ur)=>{const Pa=i[is.toLowerCase()];return!!(Pa&&Pa[ur.toLowerCase()])},bf=(is,ur)=>{const Pa=lo(is);if(Pa)if(ur){if(Pa.attributes[ur])return!0;const Pi=Pa.attributePatterns;if(Pi){let Xi=Pi.length;for(;Xi--;)if(Pi[Xi].pattern.test(ur))return!0}}else return!0;return!1},Pc=is=>vn(Xs(),is),pd=is=>!qo(is,"#")&&bf(is)&&!Pc(is),i1=is=>vn(Mu(),is)||pd(is),Z4=O(p);return as(),{type:S,children:i,elements:o,getValidStyles:dr,getValidClasses:Gn,getBlockElements:Xs,getInvalidStyles:va,getVoidElements:Pn,getTextBlockElements:rr,getTextInlineElements:Bo,getBoolAttrs:Ro,getElementRule:lo,getSelfClosingElements:ho,getNonEmptyElements:vs,getMoveCaretBeforeOnEnterElements:Ts,getWhitespaceElements:vr,getTransparentElements:sa,getSpecialElements:fd,isValidChild:a1,isValid:bf,isBlock:Pc,isInline:pd,isWrapper:i1,getCustomElements:Z4,addValidElements:Rn,setValidElements:Lo,addCustomElements:ko,addValidChildren:Gt}},Wh=e=>({value:I5(e)}),I5=e=>Is(e,"#").toUpperCase(),Ff=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},qc=e=>{const n=Ff(e.red)+Ff(e.green)+Ff(e.blue);return Wh(n)},w1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Np=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,f8=(e,n,o,i)=>({red:e,green:n,blue:o,alpha:i}),Kh=(e,n,o,i)=>{const c=parseInt(e,10),p=parseInt(n,10),h=parseInt(o,10),_=parseFloat(i);return f8(c,p,h,_)},B5=e=>w1.test(e)?"rgb":Np.test(e)?"rgba":"other",jh=e=>{const n=w1.exec(e);if(n!==null)return w.some(Kh(n[1],n[2],n[3],"1"));const o=Np.exec(e);return o!==null?w.some(Kh(o[1],o[2],o[3],o[4])):w.none()},p8=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,rm=e=>jh(e).map(qc).map(n=>"#"+n.value).getOr(e),Zh=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,p={};let h,_;const S=wa;n&&(h=n.getValidStyles(),_=n.getInvalidStyles());const z=(`\\" \\' \\; \\: ; : `+S).split(" ");for(let ve=0;ve<z.length;ve++)p[z[ve]]=S+ve,p[S+ve]=z[ve];const oe={parse:ve=>{const Te={};let $e=!1;const dt=e.url_converter,at=e.url_converter_scope||oe,rt=(gn,mn,Rn)=>{const Lo=Te[gn+"-top"+mn];if(!Lo)return;const es=Te[gn+"-right"+mn];if(!es)return;const Ms=Te[gn+"-bottom"+mn];if(!Ms)return;const ko=Te[gn+"-left"+mn];if(!ko)return;const Gt=[Lo,es,Ms,ko];let lo=Gt.length-1;for(;lo--&&Gt[lo]===Gt[lo+1];);lo>-1&&Rn||(Te[gn+mn]=lo===-1?Gt[0]:Gt.join(" "),delete Te[gn+"-top"+mn],delete Te[gn+"-right"+mn],delete Te[gn+"-bottom"+mn],delete Te[gn+"-left"+mn])},Wt=gn=>{const mn=Te[gn];if(!mn)return;const Rn=mn.indexOf(",")>-1?[mn]:mn.split(" ");let Lo=Rn.length;for(;Lo--;)if(Rn[Lo]!==Rn[0])return!1;return Te[gn]=Rn[0],!0},Ft=(gn,mn,Rn,Lo)=>{Wt(mn)&&Wt(Rn)&&Wt(Lo)&&(Te[gn]=Te[mn]+" "+Te[Rn]+" "+Te[Lo],delete Te[mn],delete Te[Rn],delete Te[Lo])},qt=gn=>($e=!0,p[gn]),rn=(gn,mn)=>($e&&(gn=gn.replace(/\uFEFF[0-9]/g,Rn=>p[Rn])),mn||(gn=gn.replace(/\\([\'\";:])/g,"$1")),gn),Tn=gn=>String.fromCharCode(parseInt(gn.slice(1),16)),so=gn=>gn.replace(/\\[0-9a-f]+/gi,Tn),Un=(gn,mn,Rn,Lo,es,Ms)=>{if(es=es||Ms,es)return es=rn(es),"'"+es.replace(/\'/g,"\\'")+"'";if(mn=rn(mn||Rn||Lo||""),!e.allow_script_urls){const ko=mn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ko)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ko))return""}return dt&&(mn=dt.call(at,mn,"style")),"url('"+mn.replace(/\'/g,"\\'")+"')"};if(ve){ve=ve.replace(/[\u0000-\u001F]/g,""),ve=ve.replace(/\\[\"\';:\uFEFF]/g,qt).replace(/\"[^\"]+\"|\'[^\']+\'/g,mn=>mn.replace(/[;:]/g,qt));let gn;for(;gn=i.exec(ve);){i.lastIndex=gn.index+gn[0].length;let mn=gn[1].replace(c,"").toLowerCase(),Rn=gn[2].replace(c,"");if(mn&&Rn){if(mn=so(mn),Rn=so(Rn),mn.indexOf(S)!==-1||mn.indexOf('"')!==-1||!e.allow_script_urls&&(mn==="behavior"||/expression\s*\(|\/\*|\*\//.test(Rn)))continue;mn==="font-weight"&&Rn==="700"?Rn="bold":(mn==="color"||mn==="background-color")&&(Rn=Rn.toLowerCase()),B5(Rn)==="rgb"&&jh(Rn).each(Lo=>{Rn=rm(p8(Lo)).toLowerCase()}),Rn=Rn.replace(o,Un),Te[mn]=$e?rn(Rn,!0):Rn}}rt("border","",!0),rt("border","-width"),rt("border","-color"),rt("border","-style"),rt("padding",""),rt("margin",""),Ft("border","border-width","border-style","border-color"),Te.border==="medium none"&&delete Te.border,Te["border-image"]==="none"&&delete Te["border-image"]}return Te},serialize:(ve,Te)=>{let $e="";const dt=(rt,Wt)=>{const Ft=Wt[rt];if(Ft)for(let qt=0,rn=Ft.length;qt<rn;qt++){const Tn=Ft[qt],so=ve[Tn];so&&($e+=($e.length>0?" ":"")+Tn+": "+so+";")}},at=(rt,Wt)=>{if(!_||!Wt)return!0;let Ft=_["*"];return Ft&&Ft[rt]?!1:(Ft=_[Wt],!(Ft&&Ft[rt]))};return Te&&h?(dt("*",h),dt(Te,h)):Zt(ve,(rt,Wt)=>{rt&&at(Wt,Te)&&($e+=($e.length>0?" ":"")+Wt+": "+rt+";")}),$e}};return oe},Gh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},xu=e=>e instanceof Event||b(e.initEvent),Pf=e=>e.isDefaultPrevented===ee||e.isDefaultPrevented===H,Rp=e=>Qo(e.preventDefault)||xu(e),F5=(e,n)=>{const o=n??{};for(const i in e)vn(Gh,i)||(o[i]=e[i]);return s(e.composedPath)&&(o.composedPath=()=>e.composedPath()),s(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),s(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},am=(e,n,o,i)=>{var c;const p=F5(n,i);return p.type=e,Qo(p.target)&&(p.target=(c=p.srcElement)!==null&&c!==void 0?c:o),Rp(n)&&(p.preventDefault=()=>{p.defaultPrevented=!0,p.isDefaultPrevented=ee,b(n.preventDefault)&&n.preventDefault()},p.stopPropagation=()=>{p.cancelBubble=!0,p.isPropagationStopped=ee,b(n.stopPropagation)&&n.stopPropagation()},p.stopImmediatePropagation=()=>{p.isImmediatePropagationStopped=ee,p.stopPropagation()},Pf(p)||(p.isDefaultPrevented=p.defaultPrevented===!0?ee:H,p.isPropagationStopped=p.cancelBubble===!0?ee:H,p.isImmediatePropagationStopped=H)),p},P5="mce-data-",g8=/^(?:mouse|contextmenu)|click/,V2=(e,n,o,i)=>{e.addEventListener(n,o,i||!1)},qh=(e,n,o,i)=>{e.removeEventListener(n,o,i||!1)},W2=e=>s(e)&&g8.test(e.type),S1=(e,n)=>{const o=am(e.type,e,document,n);if(W2(e)&&ks(e.pageX)&&!ks(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,p=i.body,h=o;h.pageX=e.clientX+(c&&c.scrollLeft||p&&p.scrollLeft||0)-(c&&c.clientLeft||p&&p.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||p&&p.scrollTop||0)-(c&&c.clientTop||p&&p.clientTop||0)}return o},$f=(e,n,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const p=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,h=()=>{qh(e,"DOMContentLoaded",h),qh(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};p()?h():V2(e,"DOMContentLoaded",h),o.domLoaded||V2(e,"load",h)};class T1{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=P5+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,i,c){const p=this;let h;const _=window,S=Te=>{p.executeHandlers(S1(Te||_.event),z)};if(!n||Yn(n)||Ku(n))return i;let z;n[p.expando]?z=n[p.expando]:(z=p.count++,n[p.expando]=z,p.events[z]={}),c=c||n;const oe=o.split(" ");let ve=oe.length;for(;ve--;){let Te=oe[ve],$e=S,dt=!1,at=!1;if(Te==="DOMContentLoaded"&&(Te="ready"),p.domLoaded&&Te==="ready"&&n.readyState==="complete"){i.call(c,S1({type:Te}));continue}!p.hasFocusIn&&(Te==="focusin"||Te==="focusout")&&(dt=!0,at=Te==="focusin"?"focus":"blur",$e=rt=>{const Wt=S1(rt||_.event);Wt.type=Wt.type==="focus"?"focusin":"focusout",p.executeHandlers(Wt,z)}),h=p.events[z][Te],h?Te==="ready"&&p.domLoaded?i(S1({type:Te})):h.push({func:i,scope:c}):(p.events[z][Te]=h=[{func:i,scope:c}],h.fakeName=at,h.capture=dt,h.nativeHandler=$e,Te==="ready"?$f(n,$e,p):V2(n,at||Te,$e,dt))}return n=h=null,i}unbind(n,o,i){if(!n||Yn(n)||Ku(n))return this;const c=n[this.expando];if(c){let p=this.events[c];if(o){const h=o.split(" ");let _=h.length;for(;_--;){const S=h[_],z=p[S];if(z){if(i){let oe=z.length;for(;oe--;)if(z[oe].func===i){const ve=z.nativeHandler,Te=z.fakeName,$e=z.capture,dt=z.slice(0,oe).concat(z.slice(oe+1));dt.nativeHandler=ve,dt.fakeName=Te,dt.capture=$e,p[S]=dt}}(!i||z.length===0)&&(delete p[S],qh(n,z.fakeName||S,z.nativeHandler,z.capture))}}}else Zt(p,(h,_)=>{qh(n,h.fakeName||_,h.nativeHandler,h.capture)}),p={};for(const h in p)if(vn(p,h))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,i){return this.dispatch(n,o,i)}dispatch(n,o,i){if(!n||Yn(n)||Ku(n))return this;const c=S1({type:o,target:n},i);do{const p=n[this.expando];p&&this.executeHandlers(c,p),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||Yn(n)||Ku(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let i=o.length;for(;i--;)n=o[i],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const i=this.events[o],c=i&&i[n.type];if(c)for(let p=0,h=c.length;p<h;p++){const _=c[p];if(_&&_.func.call(_.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}T1.Event=new T1;const k1=Kn.each,$5=Kn.grep,K2="data-mce-style",Fk=Kn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),ji=(e,n,o)=>{Qo(o)||o===""?er(e,n):Mo(e,n,o)},m8=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),im=(e,n)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const p=c.nodeType;n&&Yn(c)&&(p===i||!c.data.length)||(o++,i=p)}return o},j2=(e,n)=>{const o=Qa(n,"style"),i=e.serialize(e.parse(o),Fs(n));ji(n,K2,i)},Pk=(e,n)=>$(e)?vn(Fk,n)?e+"":e+"px":e,h8=(e,n,o)=>{const i=m8(n);Qo(o)||o===""?Sf(e,i):iu(e,i,Pk(o,i))},b8=(e,n,o)=>{const i=n.keep_values,c={set:(h,_,S)=>{const z=Ct.fromDom(h);b(n.url_converter)&&s(_)&&(_=n.url_converter.call(n.url_converter_scope||o(),String(_),S,h));const oe="data-mce-"+S;ji(z,oe,_),ji(z,S,_)},get:(h,_)=>{const S=Ct.fromDom(h);return Qa(S,"data-mce-"+_)||Qa(S,_)}},p={style:{set:(h,_)=>{const S=Ct.fromDom(h);i&&ji(S,K2,_),er(S,"style"),lt(_)&&Ni(S,e.parse(_))},get:h=>{const _=Ct.fromDom(h),S=Qa(_,K2)||Qa(_,"style");return e.serialize(e.parse(S),Fs(_))}}};return i&&(p.href=p.src=c),p},Ar=(e,n={})=>{const o={},i=window,c={};let p=0;const h=!0,_=!0,S=xr.forElement(Ct.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy,crossOrigin:sn=>{const dn=n.crossOrigin;if(b(dn))return dn(sn,"stylesheet")}}),z=[],oe=n.schema?n.schema:oc({}),ve=Zh({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Te=n.ownEvents?new T1:T1.Event,$e=oe.getBlockElements(),dt=sn=>lt(sn)?vn($e,sn):Vo(sn)&&(vn($e,sn.nodeName)||ju(oe,sn)),at=sn=>sn&&e&&lt(sn)?e.getElementById(sn):sn,rt=sn=>{const dn=at(sn);return s(dn)?Ct.fromDom(dn):null},Wt=(sn,dn,fo="")=>{let ao;const xs=rt(sn);if(s(xs)&&da(xs)){const br=bP[dn];br&&br.get?ao=br.get(xs.dom,dn):ao=Qa(xs,dn)}return s(ao)?ao:fo},Ft=sn=>{const dn=at(sn);return Qo(dn)?[]:dn.attributes},qt=(sn,dn,fo)=>{Ro(sn,ao=>{if(Vo(ao)){const xs=Ct.fromDom(ao),br=fo===""?null:fo,$a=Qa(xs,dn),Og=bP[dn];Og&&Og.set?Og.set(xs.dom,br,dn):ji(xs,dn,br),$a!==br&&n.onSetAttrib&&n.onSetAttrib({attrElm:xs.dom,attrName:dn,attrValue:br})}})},rn=(sn,dn)=>sn.cloneNode(dn),Tn=()=>n.root_element||e.body,so=sn=>{const dn=Ul(sn);return{x:dn.x,y:dn.y,w:dn.width,h:dn.height}},Un=(sn,dn)=>eC(e.body,at(sn),dn),gn=(sn,dn,fo)=>{Ro(sn,ao=>{const xs=Ct.fromDom(ao);h8(xs,dn,fo),n.update_styles&&j2(ve,xs)})},mn=(sn,dn)=>{Ro(sn,fo=>{const ao=Ct.fromDom(fo);Zt(dn,(xs,br)=>{h8(ao,br,xs)}),n.update_styles&&j2(ve,ao)})},Rn=(sn,dn,fo)=>{const ao=at(sn);if(!(Qo(ao)||!uu(ao)&&!Za(ao)))return fo?Va(Ct.fromDom(ao),m8(dn)):(dn=dn.replace(/-(\D)/g,(xs,br)=>br.toUpperCase()),dn==="float"&&(dn="cssFloat"),ao.style?ao.style[dn]:void 0)},Lo=sn=>{const dn=at(sn);if(!dn)return{w:0,h:0};let fo=Rn(dn,"width"),ao=Rn(dn,"height");return(!fo||fo.indexOf("px")===-1)&&(fo="0"),(!ao||ao.indexOf("px")===-1)&&(ao="0"),{w:parseInt(fo,10)||dn.offsetWidth||dn.clientWidth,h:parseInt(ao,10)||dn.offsetHeight||dn.clientHeight}},es=sn=>{const dn=at(sn),fo=Un(dn),ao=Lo(dn);return{x:fo.x,y:fo.y,w:ao.w,h:ao.h}},Ms=(sn,dn)=>{if(!sn)return!1;const fo=_o(sn)?sn:[sn];return W(fo,ao=>Ml(Ct.fromDom(ao),dn))},ko=(sn,dn,fo,ao)=>{const xs=[];let br=at(sn);ao=ao===void 0;const $a=fo||(Tn().nodeName!=="BODY"?Tn().parentNode:null);if(lt(dn))if(dn==="*")dn=Vo;else{const Og=dn;dn=pp=>Ms(pp,Og)}for(;br&&!(br===$a||Qo(br.nodeType)||Aa(br)||qs(br));){if(!dn||dn(br))if(ao)xs.push(br);else return[br];br=br.parentNode}return ao?xs:null},Gt=(sn,dn,fo)=>{const ao=ko(sn,dn,fo,!1);return ao&&ao.length>0?ao[0]:null},lo=(sn,dn,fo)=>{let ao=dn;if(sn){lt(dn)&&(ao=xs=>Ms(xs,dn));for(let xs=sn[fo];xs;xs=xs[fo])if(b(ao)&&ao(xs))return xs}return null},as=(sn,dn)=>lo(sn,dn,"nextSibling"),dr=(sn,dn)=>lo(sn,dn,"previousSibling"),va=sn=>b(sn.querySelectorAll),Gn=(sn,dn)=>{var fo,ao;const xs=(ao=(fo=at(dn))!==null&&fo!==void 0?fo:n.root_element)!==null&&ao!==void 0?ao:e;return va(xs)?xt(xs.querySelectorAll(sn)):[]},Ro=function(sn,dn,fo){const ao=fo??this;if(_o(sn)){const xs=[];return k1(sn,(br,$a)=>{const Og=at(br);Og&&xs.push(dn.call(ao,Og,$a))}),xs}else{const xs=at(sn);return xs?dn.call(ao,xs):!1}},Xs=(sn,dn)=>{Ro(sn,fo=>{Zt(dn,(ao,xs)=>{qt(fo,xs,ao)})})},rr=(sn,dn)=>{Ro(sn,fo=>{const ao=Ct.fromDom(fo);ei(ao,dn)})},Bo=(sn,dn,fo,ao,xs)=>Ro(sn,br=>{const $a=lt(dn)?e.createElement(dn):dn;return s(fo)&&Xs($a,fo),ao&&(!lt(ao)&&ao.nodeType?$a.appendChild(ao):lt(ao)&&rr($a,ao)),xs?$a:br.appendChild($a)}),Pn=(sn,dn,fo)=>Bo(e.createElement(sn),sn,dn,fo,!0),ho=Lp.decode,vs=Lp.encodeAllRaw,Ts=(sn,dn,fo="")=>{let ao="<"+sn;for(const xs in dn)Hn(dn,xs)&&(ao+=" "+xs+'="'+vs(dn[xs])+'"');return io(fo)&&vn(oe.getVoidElements(),sn)?ao+" />":ao+">"+fo+"</"+sn+">"},vr=sn=>{const dn=e.createElement("div"),fo=e.createDocumentFragment();fo.appendChild(dn),sn&&(dn.innerHTML=sn);let ao;for(;ao=dn.firstChild;)fo.appendChild(ao);return fo.removeChild(dn),fo},sa=(sn,dn)=>Ro(sn,fo=>{const ao=Ct.fromDom(fo);return dn&&R(hr(ao),xs=>{Ha(xs)&&xs.dom.length===0?kr(xs):Ja(ao,xs)}),kr(ao),ao.dom}),Mu=sn=>Ro(sn,dn=>{const fo=dn.attributes;for(let ao=fo.length-1;ao>=0;ao--)dn.removeAttributeNode(fo.item(ao))}),fd=sn=>ve.parse(sn),a1=(sn,dn)=>ve.serialize(sn,dn),bf=sn=>{if(q4!==Ar.DOM&&e===document){if(o[sn])return;o[sn]=!0}let dn=e.getElementById("mceDefaultStyles");if(!dn){dn=e.createElement("style"),dn.id="mceDefaultStyles",dn.type="text/css";const fo=e.head;fo.firstChild?fo.insertBefore(dn,fo.firstChild):fo.appendChild(dn)}dn.styleSheet?dn.styleSheet.cssText+=sn:dn.appendChild(e.createTextNode(sn))},Pc=sn=>{sn||(sn=""),R(sn.split(","),dn=>{c[dn]=!0,S.load(dn).catch(a)})},pd=(sn,dn,fo)=>{Ro(sn,ao=>{if(Vo(ao)){const xs=Ct.fromDom(ao),br=dn.split(" ");R(br,$a=>{s(fo)?(fo?b1:Hl)(xs,$a):ti(xs,$a)})}})},i1=(sn,dn)=>{pd(sn,dn,!0)},Z4=(sn,dn)=>{pd(sn,dn,!1)},is=(sn,dn)=>{const fo=rt(sn),ao=dn.split(" ");return s(fo)&&st(ao,xs=>Ia(fo,xs))},ur=sn=>{Ro(sn,dn=>Sf(Ct.fromDom(dn),"display"))},Pa=sn=>{Ro(sn,dn=>iu(Ct.fromDom(dn),"display","none"))},Pi=sn=>{const dn=rt(sn);return s(dn)&&kt(tc(dn,"display"),"none")},Xi=sn=>(sn||"mce_")+p++,Oi=sn=>{const dn=rt(sn);return s(dn)?Vo(dn.dom)?dn.dom.outerHTML:f1(dn):""},_a=(sn,dn)=>{Ro(sn,fo=>{Vo(fo)&&(fo.outerHTML=dn)})},Ea=(sn,dn)=>{const fo=at(dn);return Ro(sn,ao=>{const xs=fo==null?void 0:fo.parentNode,br=fo==null?void 0:fo.nextSibling;return xs&&(br?xs.insertBefore(ao,br):xs.appendChild(ao)),ao})},gd=(sn,dn,fo)=>Ro(dn,ao=>{var xs;const br=_o(dn)?sn.cloneNode(!0):sn;return fo&&k1($5(ao.childNodes),$a=>{br.appendChild($a)}),(xs=ao.parentNode)===null||xs===void 0||xs.replaceChild(br,ao),ao}),up=(sn,dn)=>{if(sn.nodeName!==dn.toUpperCase()){const fo=Pn(dn);return k1(Ft(sn),ao=>{qt(fo,ao.nodeName,Wt(sn,ao.nodeName))}),gd(fo,sn,!0),fo}else return sn},uh=(sn,dn)=>{let fo=sn;for(;fo;){let ao=dn;for(;ao&&fo!==ao;)ao=ao.parentNode;if(fo===ao)break;fo=fo.parentNode}return!fo&&sn.ownerDocument?sn.ownerDocument.documentElement:fo},Ag=(sn,dn,fo)=>fs(dn)?Of(oe,sn,{...fo,isContent:xs=>{const br=xs.nodeName.toLowerCase();return!!dn[br]}}):Of(oe,sn,fo),Oy=()=>e.createRange(),Ly=(sn,dn,fo)=>{let ao=Oy(),xs,br;if(sn&&dn&&sn.parentNode&&dn.parentNode){const $a=sn.parentNode;return ao.setStart($a,im(sn)),ao.setEnd(dn.parentNode,im(dn)),xs=ao.extractContents(),ao=Oy(),ao.setStart(dn.parentNode,im(dn)+1),ao.setEnd($a,im(sn)+1),br=ao.extractContents(),$a.insertBefore(wl(q4,xs,oe),sn),fo?$a.insertBefore(fo,sn):$a.insertBefore(dn,sn),$a.insertBefore(wl(q4,br,oe),sn),sa(sn),fo||dn}else return},H6=(sn,dn,fo,ao)=>{if(_o(sn)){let xs=sn.length;const br=[];for(;xs--;)br[xs]=H6(sn[xs],dn,fo,ao);return br}else return n.collect&&(sn===e||sn===i)&&z.push([sn,dn,fo,ao]),Te.bind(sn,dn,fo,ao||q4)},fp=(sn,dn,fo)=>{if(_o(sn)){let ao=sn.length;const xs=[];for(;ao--;)xs[ao]=fp(sn[ao],dn,fo);return xs}else{if(z.length>0&&(sn===e||sn===i)){let ao=z.length;for(;ao--;){const[xs,br,$a]=z[ao];sn===xs&&(!dn||dn===br)&&(!fo||fo===$a)&&Te.unbind(xs,br,$a)}}return Te.unbind(sn,dn,fo)}},G4=(sn,dn,fo)=>Te.dispatch(sn,dn,fo),hk=(sn,dn,fo)=>Te.dispatch(sn,dn,fo),Dy=sn=>{if(sn&&uu(sn)){const dn=sn.getAttribute("data-mce-contenteditable");return dn&&dn!=="inherit"?dn:sn.contentEditable!=="inherit"?sn.contentEditable:null}else return null},q4={doc:e,settings:n,win:i,files:c,stdMode:h,boxModel:_,styleSheetLoader:S,boundEvents:z,styles:ve,schema:oe,events:Te,isBlock:dt,root:null,clone:rn,getRoot:Tn,getViewPort:so,getRect:es,getSize:Lo,getParent:Gt,getParents:ko,get:at,getNext:as,getPrev:dr,select:Gn,is:Ms,add:Bo,create:Pn,createHTML:Ts,createFragment:vr,remove:sa,setStyle:gn,getStyle:Rn,setStyles:mn,removeAllAttribs:Mu,setAttrib:qt,setAttribs:Xs,getAttrib:Wt,getPos:Un,parseStyle:fd,serializeStyle:a1,addStyle:bf,loadCSS:Pc,addClass:i1,removeClass:Z4,hasClass:is,toggleClass:pd,show:ur,hide:Pa,isHidden:Pi,uniqueId:Xi,setHTML:rr,getOuterHTML:Oi,setOuterHTML:_a,decode:ho,encode:vs,insertAfter:Ea,replace:gd,rename:up,findCommonAncestor:uh,run:Ro,getAttribs:Ft,isEmpty:Ag,createRng:Oy,nodeIndex:im,split:Ly,bind:H6,unbind:fp,fire:hk,dispatch:G4,getContentEditable:Dy,getContentEditableParent:sn=>{const dn=Tn();let fo=null;for(let ao=sn;ao&&ao!==dn&&(fo=Dy(ao),fo===null);ao=ao.parentNode);return fo},isEditable:sn=>{if(s(sn)){const dn=Vo(sn)?sn:sn.parentElement;return s(dn)&&uu(dn)&&Ed(Ct.fromDom(dn))}else return!1},destroy:()=>{if(z.length>0){let sn=z.length;for(;sn--;){const[dn,fo,ao]=z[sn];Te.unbind(dn,fo,ao)}}Zt(c,(sn,dn)=>{S.unload(dn),delete c[dn]})},isChildOf:(sn,dn)=>sn===dn||dn.contains(sn),dumpRng:sn=>"startContainer: "+sn.startContainer.nodeName+", startOffset: "+sn.startOffset+", endContainer: "+sn.endContainer.nodeName+", endOffset: "+sn.endOffset},bP=b8(ve,n,O(q4));return q4};Ar.DOM=Ar(document),Ar.nodeIndex=im;const Yh=Ar.DOM,v8=0,x8=1,Wl=2,Xh=3;class Us{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}_setCrossOrigin(n){this.settings.crossOrigin=n}loadScript(n){return new Promise((o,i)=>{const c=Yh;let p;const h=()=>{c.remove(z),p&&(p.onerror=p.onload=p=null)},_=()=>{h(),o()},S=()=>{h(),i("Failed to load script: "+n)},z=c.uniqueId();p=document.createElement("script"),p.id=z,p.type="text/javascript",p.src=Kn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(p,"referrerpolicy",this.settings.referrerPolicy);const oe=this.settings.crossOrigin;if(b(oe)){const ve=oe(n);ve!==void 0&&c.setAttrib(p,"crossorigin",ve)}p.onload=_,p.onerror=S,(document.getElementsByTagName("head")[0]||document.body).appendChild(p)})}isDone(n){return this.states[n]===Wl}markDone(n){this.states[n]=Wl}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=v8),new Promise((c,p)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:p})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,i=(S,z)=>{Mn(o.scriptLoadedCallbacks,z).each(oe=>{R(oe,ve=>ve[S](z))}),delete o.scriptLoadedCallbacks[z]},c=S=>{const z=V(S,oe=>oe.status==="rejected");return z.length>0?Promise.reject(nt(z,({reason:oe})=>_o(oe)?oe:[oe])):Promise.resolve()},p=S=>Promise.allSettled(K(S,z=>o.states[z]===Wl?(i("resolve",z),Promise.resolve()):o.states[z]===Xh?(i("reject",z),Promise.reject(z)):(o.states[z]=x8,o.loadScript(z).then(()=>{o.states[z]=Wl,i("resolve",z);const oe=o.queue;return oe.length>0?(o.queue=[],p(oe).then(c)):Promise.resolve()},()=>(o.states[z]=Xh,i("reject",z),Promise.reject(z)))))),h=S=>(o.loading=!0,p(S).then(z=>{o.loading=!1;const oe=o.queueLoadedCallbacks.shift();return w.from(oe).each(j),c(z)})),_=St(n);return o.loading?new Promise((S,z)=>{o.queueLoadedCallbacks.push(()=>{h(_).then(S,z)})}):h(_)}}Us.ScriptLoader=new Us;const sc=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},Jh=e=>qn(e)&&vn(e,"raw"),Z2=e=>_o(e)&&e.length>1,Rr={},G2=zn("en"),H5=()=>Mn(Rr,G2.get()),Yc={getData:()=>wn(Rr,e=>({...e})),setCode:e=>{e&&G2.set(e)},getCode:()=>G2.get(),add:(e,n)=>{let o=Rr[e];o||(Rr[e]=o={});const i=K(Rt(n),c=>c.toLowerCase());Zt(n,(c,p)=>{const h=p.toLowerCase();h!==p&&sc(i,h)?(vn(n,h)||(o[h]=c),o[p]=c):o[h]=c})},translate:e=>{const n=H5().getOr({}),o=_=>b(_)?Object.prototype.toString.call(_):i(_)?"":""+_,i=_=>_===""||_===null||_===void 0,c=_=>{const S=o(_);return vn(n,S)?o(n[S]):Mn(n,S.toLowerCase()).map(o).getOr(S)},p=_=>_.replace(/{context:\w+}$/,""),h=_=>_.replaceAll("...",ia);if(i(e))return"";if(Jh(e))return h(o(e.raw));if(Z2(e)){const _=e.slice(1),S=c(e[0]).replace(/\{([0-9]+)\}/g,(z,oe)=>vn(_,oe)?o(_[oe]):z);return h(p(S))}return h(p(c(e)))},isRtl:()=>H5().bind(e=>Mn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>vn(Rr,e)},Zi=()=>{const e=[],n={},o={},i=[],c=(at,rt)=>{const Wt=V(i,Ft=>Ft.name===at&&Ft.state===rt);R(Wt,Ft=>Ft.resolve())},p=at=>vn(n,at),h=at=>vn(o,at),_=at=>{if(o[at])return o[at].instance},S=(at,rt)=>{const Wt=Yc.getCode(),Ft=","+(rt||"")+",";!Wt||rt&&Ft.indexOf(","+Wt+",")===-1||Us.ScriptLoader.add(n[at]+"/langs/"+Wt+".js")},z=(at,rt)=>{Zi.languageLoad!==!1&&(p(at)?S(at,rt):dt(at,"loaded").then(()=>S(at,rt)))},oe=(at,rt)=>(e.push(rt),o[at]={instance:rt},c(at,"added"),rt),ve=at=>{delete n[at],delete o[at]},Te=(at,rt)=>lt(rt)?lt(at)?{prefix:"",resource:rt,suffix:""}:{prefix:at.prefix,resource:rt,suffix:at.suffix}:rt,$e=(at,rt)=>{if(n[at])return Promise.resolve();let Wt=lt(rt)?rt:rt.prefix+rt.resource+rt.suffix;Wt.indexOf("/")!==0&&Wt.indexOf("://")===-1&&(Wt=Zi.baseURL+"/"+Wt),n[at]=Wt.substring(0,Wt.lastIndexOf("/"));const Ft=()=>(c(at,"loaded"),Promise.resolve());return o[at]?Ft():Us.ScriptLoader.add(Wt).then(Ft)},dt=(at,rt="added")=>rt==="added"&&h(at)||rt==="loaded"&&p(at)?Promise.resolve():new Promise(Wt=>{i.push({name:at,state:rt,resolve:Wt})});return{items:e,urls:n,lookup:o,get:_,requireLangPack:z,add:oe,remove:ve,createUrl:Te,load:$e,waitFor:dt}};Zi.languageLoad=!0,Zi.baseURL="",Zi.PluginManager=Zi(),Zi.ThemeManager=Zi(),Zi.ModelManager=Zi();const lm=O("mce-annotation"),Sc=O("data-mce-annotation"),Gu=O("data-mce-annotation-uid"),qu=O("data-mce-annotation-active"),A1=O("data-mce-annotation-classes"),Yu=O("data-mce-annotation-attrs"),cm=e=>n=>Ws(n,e),z5=(e,n)=>{const o=e.selection.getRng(),i=Ct.fromDom(o.startContainer),c=Ct.fromDom(e.getBody()),p=n.fold(()=>"."+lm(),S=>`[${Sc()}="${S}"]`),h=fc(i,o.startOffset).getOr(i);return $l(h,p,cm(c)).bind(S=>pa(S,`${Gu()}`).bind(z=>pa(S,`${Sc()}`).map(oe=>{const ve=rC(e,z);return{uid:z,name:oe,elements:ve}})))},E8=e=>da(e)&&Ia(e,lm()),sC=(e,n)=>zu(e,"data-mce-bogus")||$s(e,'[data-mce-bogus="all"]',cm(n)),rC=(e,n)=>{const o=Ct.fromDom(e.getBody()),i=Nt(o,`[${Gu()}="${n}"]`);return V(i,c=>!sC(c,o))},q2=(e,n)=>{const o=Ct.fromDom(e.getBody()),i=Nt(o,`[${Sc()}="${n}"]`),c={};return R(i,p=>{if(!sC(p,o)){const h=Qa(p,Gu()),_=Mn(c,h).getOr([]);c[h]=_.concat([p])}}),c},U5=(e,n)=>{const o=zn({}),i=()=>({listeners:[],previous:hs()}),c=(ve,Te)=>{p(ve,$e=>(Te($e),$e))},p=(ve,Te)=>{const $e=o.get(),dt=Mn($e,ve).getOrThunk(i),at=Te(dt);$e[ve]=at,o.set($e)},h=(ve,Te,$e)=>{c(ve,dt=>{R(dt.listeners,at=>at(!0,ve,{uid:Te,nodes:K($e,rt=>rt.dom)}))})},_=ve=>{c(ve,Te=>{R(Te.listeners,$e=>$e(!1,ve))})},S=(ve,Te)=>{R(rC(e,ve),$e=>{Te?Mo($e,qu(),"true"):er($e,qu())})},z=Qn(()=>{const ve=Ze(n.getNames());R(ve,Te=>{p(Te,$e=>{const dt=$e.previous.get();return z5(e,w.some(Te)).fold(()=>{dt.each(at=>{_(Te),$e.previous.clear(),S(at,!1)})},({uid:at,name:rt,elements:Wt})=>{kt(dt,at)||(dt.each(Ft=>S(Ft,!1)),h(rt,at,Wt),$e.previous.set(at),S(at,!0))}),{previous:$e.previous,listeners:$e.listeners}})})},30);return e.on("remove",()=>{z.cancel()}),e.on("NodeChange",()=>{z.throttle()}),{addListener:(ve,Te)=>{p(ve,$e=>({previous:$e.previous,listeners:$e.listeners.concat([Te])}))}}},w8=(e,n)=>{const o=Sc(),i=p=>w.from(p.attr(o)).bind(n.lookup),c=p=>{var h,_;p.attr(Gu(),null),p.attr(Sc(),null),p.attr(qu(),null);const S=w.from(p.attr(Yu())).map(Te=>Te.split(",")).getOr([]),z=w.from(p.attr(A1())).map(Te=>Te.split(",")).getOr([]);R(S,Te=>p.attr(Te,null));const oe=(_=(h=p.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&_!==void 0?_:[],ve=tt(oe,[lm()].concat(z));p.attr("class",ve.length>0?ve.join(" "):null),p.attr(A1(),null),p.attr(Yu(),null)};e.serializer.addTempAttr(qu()),e.serializer.addAttributeFilter(o,p=>{for(const h of p)i(h).each(_=>{_.persistent===!1&&(h.name==="span"?h.unwrap():c(h))})})},Y2=()=>{const e={};return{register:(c,p)=>{e[c]={name:c,settings:p}},lookup:c=>Mn(e,c).map(p=>p.settings),getNames:()=>Rt(e)}},Hf=(e,n,o=H)=>{const i=new ja(e,n),c=p=>{let h;do h=i[p]();while(h&&!Yn(h)&&!o(h));return w.from(h).filter(Yn)};return{current:()=>w.from(i.current()).filter(Yn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Xu=(e,n)=>{const o=n||(h=>e.isBlock(h)||Jr(h)||Pr(h)),i=(h,_,S,z)=>{if(Yn(h)){const oe=z(h,_,h.data);if(oe!==-1)return w.some({container:h,offset:oe})}return S().bind(oe=>i(oe.container,oe.offset,S,z))};return{backwards:(h,_,S,z)=>{const oe=Hf(h,z??e.getRoot(),o);return i(h,_,()=>oe.prev().map(ve=>({container:ve,offset:ve.length})),S).getOrNull()},forwards:(h,_,S,z)=>{const oe=Hf(h,z??e.getRoot(),o);return i(h,_,()=>oe.next().map(ve=>({container:ve,offset:0})),S).getOrNull()}}},Qh=["td","th"],X2=["thead","tbody","tfoot"],aC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],J2=["li","dd","dt"],Q2=["ul","ol","dl"],S8=["pre","script","textarea","style"],dm=e=>{let n;return o=>(n=n||ze(e,ee),vn(n,Fs(o)))},iC=e=>Fs(e)==="table",zf=e=>da(e)&&Fs(e)==="br",e3=dm(aC),Mp=dm(Q2),Ip=dm(J2),e0=dm(X2),_i=dm(Qh),Tc=dm(S8),Ad=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ct.fromDom(o)),o=o.lastChild;return n},t3=e=>{const n=Nt(e,"br"),o=V(Ad(e).slice(-1),zf);n.length===o.length&&R(o,kr)},O1=()=>{const e=Ct.fromTag("br");return Mo(e,"data-mce-bogus","1"),e},L1=e=>{Ps(e),Lr(e,O1())},V5=(e,n)=>{Xa(e).each(o=>{Js(o).each(i=>{n.isBlock(Fs(e))&&zf(o)&&n.isBlock(Fs(i))&&kr(o)})})},ui=wa,um=Re,kc=gt,W5=e=>e.insertContent(ui,{preserve_zwsp:!0}),T8=Vo,Bp=Yn,D1=e=>(Bp(e)&&(e=e.parentNode),T8(e)&&e.hasAttribute("data-mce-caret")),yu=e=>Bp(e)&&um(e.data),nr=e=>D1(e)||yu(e),Fp=e=>e.firstChild!==e.lastChild||!Jr(e.firstChild),n3=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ui),p=e.parentNode;if(n){const h=e.previousSibling;if(Bp(h)){if(nr(h))return h;if(Ju(h))return h.splitText(h.data.length-1)}p==null||p.insertBefore(c,e)}else{const h=e.nextSibling;if(Bp(h)){if(nr(h))return h;if(t0(h))return h.splitText(1),h}e.nextSibling?p==null||p.insertBefore(c,e.nextSibling):p==null||p.appendChild(c)}return c},fm=e=>{const n=e.container();return Yn(n)?n.data.charAt(e.offset())===ui||e.isAtStart()&&yu(n.previousSibling):!1},o3=e=>{const n=e.container();return Yn(n)?n.data.charAt(e.offset()-1)===ui||e.isAtEnd()&&yu(n.nextSibling):!1},K5=(e,n,o)=>{var i;const p=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);p.setAttribute("data-mce-caret",o?"before":"after"),p.setAttribute("data-mce-bogus","all"),p.appendChild(O1().dom);const h=n.parentNode;return o?h==null||h.insertBefore(p,n):n.nextSibling?h==null||h.insertBefore(p,n.nextSibling):h==null||h.appendChild(p),p},t0=e=>Bp(e)&&e.data[0]===ui,Ju=e=>Bp(e)&&e.data[e.data.length-1]===ui,n0=e=>{var n;const o=e.getElementsByTagName("br"),i=o[o.length-1];Tp(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))},o0=e=>e&&e.hasAttribute("data-mce-caret")?(n0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Xc=e=>D1(e.startContainer),Qu=Math.round,La=e=>e?{left:Qu(e.left),top:Qu(e.top),bottom:Qu(e.bottom),right:Qu(e.right),width:Qu(e.width),height:Qu(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Cu=(e,n)=>(e=La(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),j5=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Z5=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,pm=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Z5(n.top-e.bottom,e,n)},N1=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Z5(n.bottom-e.top,e,n),G5=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,q5=e=>Le(e,(n,o)=>n.fold(()=>w.some(o),i=>{const c=Math.min(o.left,i.left),p=Math.min(o.top,i.top),h=Math.max(o.right,i.right),_=Math.max(o.bottom,i.bottom);return w.some({top:p,right:h,bottom:_,left:c,width:h-c,height:_-p})}),w.none()),s3=(e,n,o)=>{const i=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-i)*(n-i)+(o-c)*(o-c))},r3=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),gm=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Od=(e,n)=>{if(Vo(e)&&e.hasChildNodes()){const o=e.childNodes,i=Ce(n,0,o.length-1);return o[i]}else return e},k8=(e,n)=>{if(!(n<0&&Vo(e)&&e.hasChildNodes()))return Od(e,n)},A8=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Ei=e=>lt(e)&&e.charCodeAt(0)>=768&&A8.test(e),lC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},R1=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Y5=ni,X5=Pr,J5=Jr,s0=Yn,Q5=fu(["script","style","textarea"]),eb=fu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),cC=fu(["table"]),r0=nr,jr=e=>r0(e)?!1:s0(e)?!Q5(e.parentNode):eb(e)||J5(e)||cC(e)||fi(e),Ya=e=>Vo(e)&&e.getAttribute("unselectable")==="true",fi=e=>!Ya(e)&&X5(e),wi=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(fi(o))return!1;if(Y5(o))return!0}return!0},pi=e=>fi(e)?!Le(xt(e.getElementsByTagName("*")),(n,o)=>n||Y5(o),!1):!1,Ba=e=>eb(e)||pi(e),a0=(e,n)=>jr(e)&&wi(e,n),a3=Vo,tb=jr,nb=xc("display","block table"),ob=xc("float","left right"),mm=R1(a3,tb,G(ob)),sb=G(xc("white-space","pre pre-line pre-wrap")),Pp=Yn,i0=Jr,rb=Ar.nodeIndex,l0=k8,ab=e=>e?e.createRange():Ar.DOM.createRng(),_u=e=>lt(e)&&/[\r\n\t ]/.test(e),i3=e=>!!e.setStart&&!!e.setEnd,l3=e=>{const n=e.startContainer,o=e.startOffset;if(_u(e.toString())&&sb(n.parentNode)&&Yn(n)){const i=n.data;if(_u(i[o-1])||_u(i[o+1]))return!0}return!1},c3=e=>{const n=e.ownerDocument,o=ab(n),i=n.createTextNode(Qs),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const p=La(o.getBoundingClientRect());return c.removeChild(i),p},c0=e=>{const n=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===o&&Yn(o)&&i===0&&c===1){const p=e.cloneRange();return p.setEndAfter(o),Uf(p)}else return null},d0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Uf=e=>{var n;let o;const i=e.getClientRects();return i.length>0?o=La(i[0]):o=La(e.getBoundingClientRect()),!i3(e)&&i0(e)&&d0(o)?c3(e):d0(o)&&i3(e)&&(n=c0(e))!==null&&n!==void 0?n:o},Eu=(e,n)=>{const o=Cu(e,n);return o.width=1,o.right=o.left+1,o},d3=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&j5(h,n[n.length-1])||n.push(h))},i=(h,_)=>{const S=ab(h.ownerDocument);if(_<h.data.length){if(Ei(h.data[_]))return;if(Ei(h.data[_-1])&&(S.setStart(h,_),S.setEnd(h,_+1),!l3(S))){o(Eu(Uf(S),!1));return}}_>0&&(S.setStart(h,_-1),S.setEnd(h,_),l3(S)||o(Eu(Uf(S),!1))),_<h.data.length&&(S.setStart(h,_),S.setEnd(h,_+1),l3(S)||o(Eu(Uf(S),!0)))},c=e.container(),p=e.offset();if(Pp(c))return i(c,p),n;if(a3(c))if(e.isAtEnd()){const h=l0(c,p);Pp(h)&&i(h,h.data.length),mm(h)&&!i0(h)&&o(Eu(Uf(h),!1))}else{const h=l0(c,p);if(Pp(h)&&i(h,0),mm(h)&&e.isAtEnd())return o(Eu(Uf(h),!1)),n;const _=l0(e.container(),e.offset()-1);mm(_)&&!i0(_)&&(nb(_)||nb(h)||!mm(h))&&o(Eu(Uf(_),!1)),mm(h)&&o(Eu(Uf(h),!0))}return n},hn=(e,n,o)=>{const i=()=>(Pp(e),n===0),c=()=>Pp(e)?n>=e.data.length:n>=e.childNodes.length,p=()=>{const oe=ab(e.ownerDocument);return oe.setStart(e,n),oe.setEnd(e,n),oe},h=()=>(o||(o=d3(hn(e,n))),o),_=()=>h().length>0,S=oe=>oe&&e===oe.container()&&n===oe.offset(),z=oe=>l0(e,oe?n-1:n);return{container:O(e),offset:O(n),toRange:p,getClientRects:h,isVisible:_,isAtStart:i,isAtEnd:c,isEqual:S,getNode:z}};hn.fromRangeStart=e=>hn(e.startContainer,e.startOffset),hn.fromRangeEnd=e=>hn(e.endContainer,e.endOffset),hn.after=e=>hn(e.parentNode,rb(e)+1),hn.before=e=>hn(e.parentNode,rb(e)),hn.isAbove=(e,n)=>Tt(Fe(n.getClientRects()),Ye(e.getClientRects()),pm).getOr(!1),hn.isBelow=(e,n)=>Tt(Ye(n.getClientRects()),Fe(e.getClientRects()),N1).getOr(!1),hn.isAtStart=e=>e?e.isAtStart():!1,hn.isAtEnd=e=>e?e.isAtEnd():!1,hn.isTextPosition=e=>e?Yn(e.container()):!1,hn.isElementPosition=e=>!hn.isTextPosition(e);const Jc=(e,n)=>{Yn(n)&&n.data.length===0&&e.remove(n)},Qc=(e,n,o)=>{n.insertNode(o),Jc(e,o.previousSibling),Jc(e,o.nextSibling)},hm=(e,n,o)=>{const i=w.from(o.firstChild),c=w.from(o.lastChild);n.insertNode(o),i.each(p=>Jc(e,p.previousSibling)),c.each(p=>Jc(e,p.nextSibling))},$p=(e,n,o)=>{qs(o)?hm(e,n,o):Qc(e,n,o)},Ld=Yn,O8=Tp,al=Ar.nodeIndex,u0=e=>{const n=e.parentNode;return O8(n)?u0(n):n},ib=e=>e?cn(e.childNodes,(n,o)=>(O8(o)&&o.nodeName!=="BR"?n=n.concat(ib(o)):n.push(o),n),[]):[],L8=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Ld(o);)n+=o.data.length;return n},lb=e=>n=>e===n,bm=e=>{let n,o;n=ib(u0(e)),o=ds(n,lb(e),e),n=n.slice(0,o+1);const i=cn(n,(c,p,h)=>(Ld(p)&&Ld(n[h-1])&&c++,c),0);return n=mo(n,fu([e.nodeName])),o=ds(n,lb(e),e),o-i},u3=e=>(Ld(e)?"text()":e.nodeName.toLowerCase())+"["+bm(e)+"]",Vf=(e,n,o)=>{const i=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},f3=(e,n)=>{let o=[],i=n.container(),c=n.offset(),p;if(Ld(i))p=L8(i,c);else{const _=i.childNodes;c>=_.length?(p="after",c=_.length-1):p="before",i=_[c]}o.push(u3(i));let h=Vf(e,i);return h=mo(h,G(Tp)),o=o.concat(vo(h,_=>u3(_))),o.reverse().join("/")+","+p},dC=(e,n,o)=>{let i=ib(e);return i=mo(i,(c,p)=>!Ld(c)||!Ld(i[p-1])),i=mo(i,fu([n])),i[o]},il=(e,n)=>{let o=e,i=0;for(;Ld(o);){const c=o.data.length;if(n>=i&&n<=i+c){e=o,n=n-i;break}if(!Ld(o.nextSibling)){e=o,n=c;break}i+=c,o=o.nextSibling}return Ld(e)&&n>e.data.length&&(n=e.data.length),hn(e,n)},Dd=(e,n)=>{if(!n)return null;const o=n.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",p=cn(i,(h,_)=>{const S=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return S?(S[1]==="text()"&&(S[1]="#text"),dC(h,S[1],parseInt(S[2],10))):null},e);if(!p)return null;if(!Ld(p)&&p.parentNode){let h;return c==="after"?h=al(p)+1:h=al(p),hn(p.parentNode,h)}return il(p,parseInt(c,10))},Tl=Pr,uC=(e,n,o)=>{let i=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&Yn(c);c=c.previousSibling)i+=e(c.data).length;return i},Hp=(e,n,o,i,c)=>{const p=c?i.startContainer:i.endContainer;let h=c?i.startOffset:i.endOffset;const _=[],S=e.getRoot();if(Yn(p))_.push(o?uC(n,p,h):h);else{let z=0;const oe=p.childNodes;h>=oe.length&&oe.length&&(z=1,h=Math.max(0,oe.length-1)),_.push(e.nodeIndex(oe[h],o)+z)}for(let z=p;z&&z!==S;z=z.parentNode)_.push(e.nodeIndex(z,o));return _},fC=(e,n,o,i)=>{const c=n.dom,p=Hp(c,e,o,i,!0),h=n.isForward(),_=Xc(i)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:p,forward:h,..._};{const S=Hp(c,e,o,i,!1);return{start:p,end:S,forward:h,..._}}},cb=(e,n,o)=>{let i=0;return Kn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},D8=(e,n)=>{let o=n?e.startContainer:e.endContainer,i=n?e.startOffset:e.endOffset;if(Vo(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?i:i-1,c.length-1)],o&&(i=n?0:o.childNodes.length,n?e.setStart(o,i):e.setEnd(o,i))}},N8=e=>(D8(e,!0),D8(e,!1),e),Hs=(e,n)=>{if(Vo(e)&&(e=Od(e,n),Tl(e)))return e;if(nr(e)){Yn(e)&&D1(e)&&(e=e.parentNode);let o=e.previousSibling;if(Tl(o)||(o=e.nextSibling,Tl(o)))return o}},Jo=e=>Hs(e.startContainer,e.startOffset)||Hs(e.endContainer,e.endOffset),vm=(e,n,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||Tl(i)){const h=i.nodeName;return{name:h,index:cb(o.dom,h,i)}}const p=Jo(c);if(p){const h=p.tagName;return{name:h,index:cb(o.dom,h,p)}}return fC(e,o,n,c)},db=e=>{const n=e.getRng();return{start:f3(e.dom.getRoot(),hn.fromRangeStart(n)),end:f3(e.dom.getRoot(),hn.fromRangeEnd(n)),forward:e.isForward()}},ub=e=>({rng:e.getRng(),forward:e.isForward()}),R8=(e,n,o)=>{const i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},fb=(e,n)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),p=e.isCollapsed(),h=e.getNode(),_=h.nodeName,S=e.isForward();if(_==="IMG")return{name:_,index:cb(o,_,h)};const z=N8(i.cloneRange());if(!p){z.collapse(!1);const ve=R8(o,c+"_end",n);$p(o,z,ve)}i=N8(i),i.collapse(!0);const oe=R8(o,c+"_start",n);return $p(o,i,oe),e.moveToBookmark({id:c,keep:!0,forward:S}),{id:c,forward:S}},Qr=(e,n,o=!1)=>n===2?vm(kc,o,e):n===3?db(e):n?ub(e):fb(e,!1),xm=B(vm,T,!0),pb=e=>e.type==="inline-command"||e.type==="inline-format",M8=e=>e.type==="block-command"||e.type==="block-format",xn=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,p3=e=>{var n;const o=c=>fe.error({message:c,pattern:e}),i=(c,p,h)=>{if(e.format!==void 0){let _;if(_o(e.format)){if(!st(e.format,lt))return o(c+" pattern has non-string items in the `format` array");_=e.format}else if(lt(e.format))_=[e.format];else return o(c+" pattern has non-string `format` parameter");return fe.value(p(_))}else return e.cmd!==void 0?lt(e.cmd)?fe.value(h(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!qn(e))return o("Raw pattern is not an object");if(!lt(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!lt(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,p=e.end;return p.length===0&&(p=c,c=""),i("Inline",h=>({type:"inline-format",start:c,end:p,format:h}),(h,_)=>({type:"inline-command",start:c,end:p,cmd:h,value:_}))}else{if(e.replacement!==void 0)return lt(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):fe.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",p=>({type:"block-format",start:e.start,format:p[0],trigger:c}),(p,h)=>({type:"block-command",start:e.start,cmd:p,value:h,trigger:c}))}}},gb=e=>V(e,M8),f0=e=>V(e,pb),I8=(e,n)=>({inlinePatterns:f0(e),blockPatterns:gb(e),dynamicPatternsLookup:n}),ef=(e,n)=>({...e,blockPatterns:V(e.blockPatterns,o=>xn(o,n))}),zp=e=>{const n=_n(K(e,p3));return R(n.errors,o=>console.error(o.message,o.pattern)),n.values},Up=e=>n=>{const o=e(n);return zp(o)},pC=(e,n)=>e.dispatch("PreProcess",n),ym=(e,n)=>e.dispatch("PostProcess",n),Wr=e=>{e.dispatch("remove")},wu=e=>{e.dispatch("detach")},B8=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},Wf=(e,n,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:i,origin:c})},Nd=(e,n,o,i,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:i,origin:c})},gC=e=>{e.dispatch("PreInit")},mC=e=>{e.dispatch("PostRender")},mb=e=>{e.dispatch("Init")},hC=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},F8=(e,n,o)=>{e.dispatch(n,o)},P8=(e,n,o,i)=>{e.dispatch("FormatApply",{format:n,node:o,vars:i})},$8=(e,n,o,i)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:i})},H8=(e,n)=>e.dispatch("BeforeSetContent",n),Xn=(e,n)=>e.dispatch("SetContent",n),bC=(e,n)=>e.dispatch("BeforeGetContent",n),gi=(e,n)=>e.dispatch("GetContent",n),vC=(e,n)=>{e.dispatch("AutocompleterStart",n)},z8=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},hb=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},xC=e=>{e.dispatch("AutocompleterEnd")},Cs=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),yC=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),bb=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),zk=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),CC=(e,n)=>e.dispatch("DisabledStateChange",{state:n}),_C=e=>e.dispatch("CloseActiveTooltips"),U8=$c().deviceType,EC=U8.isTouch(),V8=Ar.DOM,wC=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Le(n,(o,i)=>{const c=i.split("="),p=c[0],h=c.length>1?c[1]:p;return o[As(p)]=As(h),o},{})},Es=e=>Yt(e,RegExp),Ao=e=>n=>n.options.get(e),Rd=e=>lt(e)||qn(e),Ac=(e,n="")=>o=>{const i=lt(o);if(i)if(o.indexOf("=")!==-1){const c=wC(o);return{value:Mn(c,e.id).getOr(n),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},g3=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("crossorigin",{processor:"function",default:O(void 0)}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),n("body_id",{processor:Ac(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:Ac(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const i=lt(o)&&bo(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const i=M(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>eo(o)?{valid:!0,value:o}:lt(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const i=o===!1||lt(o)||ge(o,lt);return i?lt(o)?{value:K(o.split(","),As),valid:i}:_o(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Kp(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const i=lt(o)||ge(o,lt);return i?{value:_o(o)?o:K(o.split(","),As),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("extended_mathml_attributes",{processor:"string[]"}),n("extended_mathml_elements",{processor:"string[]"}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const i=eo(o)||lt(o);return i?o===!1||U8.isiPhone()||U8.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!EC}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("onboarding",{processor:"boolean",default:!0}),n("tiny_cloud_entry_url",{processor:"string"}),n("theme",{processor:o=>o===!1||lt(o)||b(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const i=o===!1||lt(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("disabled",{processor:o=>eo(o)?(e.initialized&&km(e)!==o&&Promise.resolve().then(()=>{CC(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_html_in_comments",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("allow_mathml_annotation_encodings",{processor:o=>{const i=ge(o,lt);return i?{value:o,valid:i}:{valid:!1,message:"Must be an array of strings."}},default:[]}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:Rd}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Rd}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Rd}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Rd}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>lt(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>ge(o,qn)||o===!1?{value:zp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>b(o)?{value:Up(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>ge(o,Es)?{value:o,valid:!0}:Es(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const i=M(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const i=M(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),n("user_id",{processor:"string",default:"Anonymous"}),n("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:b(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Yc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:V8.getAttrib(e.getElement(),"placeholder")})}),n("lists_indent_on_tab",{processor:"boolean",default:!0}),n("list_max_depth",{processor:o=>{const i=$(o);if(i){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:i}}else return{valid:!1,message:"Must be a number"}}})},rc=Ao("iframe_attrs"),m3=Ao("doctype"),Cm=Ao("document_base_url"),h3=Ao("body_id"),_m=Ao("body_class"),p0=Ao("content_security_policy"),Kf=Ao("br_in_pre"),Mr=Ao("forced_root_block"),Oc=Ao("forced_root_block_attrs"),SC=Ao("newline_behavior"),TC=Ao("br_newline_selector"),kC=Ao("no_newline_selector"),AC=Ao("keep_styles"),or=Ao("end_container_on_empty_block"),Md=Ao("automatic_uploads"),M1=Ao("images_reuse_filename"),Uk=Ao("images_replace_blob_uris"),Vp=Ao("icons"),ar=Ao("icons_url"),Vk=Ao("images_upload_url"),OC=Ao("images_upload_base_path"),Wk=Ao("images_upload_credentials"),Kk=Ao("images_upload_handler"),g0=Ao("content_css_cors"),vb=Ao("referrer_policy"),W8=Ao("crossorigin"),m0=Ao("language"),LC=Ao("language_url"),b3=Ao("indent_use_margin"),DC=Ao("indentation"),NC=Ao("content_css"),v3=Ao("content_style"),x3=Ao("font_css"),xb=Ao("directionality"),K8=Ao("inline_boundaries_selector"),j8=Ao("object_resizing"),Z8=Ao("resize_img_proportional"),yb=Ao("placeholder"),Cb=Ao("event_root"),gr=Ao("service_message"),Wp=Ao("theme"),_b=Ao("theme_url"),h0=Ao("model"),I1=Ao("model_url"),Em=Ao("inline_boundaries"),RC=Ao("formats"),MC=Ao("preview_styles"),wm=Ao("format_empty_lines"),IC=Ao("format_noneditable_selector"),b0=Ao("custom_ui_selector"),Kp=Ao("inline"),BC=Ao("hidden_input"),B1=Ao("submit_patch"),G8=Ao("add_form_submit_trigger"),q8=Ao("add_unload_trigger"),FC=Ao("custom_undo_redo_levels"),Y8=Ao("disable_nodechange"),PC=Ao("readonly"),X8=Ao("editable_root"),Eb=Ao("content_css_cors"),F1=Ao("plugins"),v0=Ao("external_plugins"),y3=Ao("block_unsupported_drop"),wb=Ao("visual"),C3=Ao("visual_table_class"),Sm=Ao("visual_anchor_class"),tf=Ao("iframe_aria_text"),x0=Ao("setup"),J8=Ao("init_instance_callback"),Sb=Ao("urlconverter_callback"),Q8=Ao("auto_focus"),e7=Ao("browser_spellcheck"),t7=Ao("protect"),$C=Ao("paste_block_drop"),jp=Ao("paste_data_images"),Tm=Ao("paste_preprocess"),Zp=Ao("paste_postprocess"),_3=Ao("newdocument_content"),n7=Ao("paste_webkit_styles"),o7=Ao("paste_remove_styles_if_webkit"),s7=Ao("paste_merge_formats"),E3=Ao("smart_paste"),r7=Ao("paste_as_text"),HC=Ao("paste_tab_spaces"),a7=Ao("allow_html_data_urls"),w3=Ao("text_patterns"),Tb=Ao("text_patterns_lookup"),y0=Ao("noneditable_class"),kb=Ao("editable_class"),zC=Ao("noneditable_regexp"),i7=Ao("preserve_cdata"),l7=Ao("highlight_on_focus"),Ab=Ao("xss_sanitization"),C0=Ao("init_content_sync"),UC=e=>e.options.isSet("text_patterns_lookup"),c7=e=>Kn.explode(e.options.get("font_size_style_values")),Ob=e=>Kn.explode(e.options.get("font_size_classes")),VC=e=>e.options.get("encoding")==="xml",d7=e=>Kn.explode(e.options.get("images_file_types")),Gp=Ao("table_tab_navigation"),u7=Ao("details_initial_state"),WC=Ao("details_serialized_state"),f7=Ao("sandbox_iframes"),Lb=e=>e.options.get("sandbox_iframes_exclusions"),KC=Ao("convert_unsafe_embeds"),Db=Ao("license_key"),Nb=Ao("api_key"),km=Ao("disabled"),_0=Ao("user_id"),p7=Ao("fetch_users"),g7=Ao("lists_indent_on_tab"),m7=e=>w.from(e.options.get("list_max_depth")),S3=Vo,h7=Yn,b7=e=>{const n=e.parentNode;n&&n.removeChild(e)},jC=e=>{const n=kc(e);return{count:e.length-n.length,text:n}},ZC=e=>{let n;for(;(n=e.data.lastIndexOf(ui))!==-1;)e.deleteData(n,1)},qp=(e,n)=>(P1(e),n),Rb=(e,n)=>{const o=jC(e.data.substr(0,n.offset())),i=jC(e.data.substr(n.offset()));return(o.text+i.text).length>0?(ZC(e),hn(e,n.offset()-o.count)):n},Mb=(e,n)=>{const o=n.container(),i=ie(xt(o.childNodes),e).map(c=>c<n.offset()?hn(o,n.offset()-1):n).getOr(n);return P1(e),i},GC=(e,n)=>h7(e)&&n.container()===e?Rb(e,n):qp(e,n),qC=(e,n)=>n.container()===e.parentNode?Mb(e,n):qp(e,n),T3=(e,n)=>hn.isTextPosition(n)?GC(e,n):qC(e,n),P1=e=>{S3(e)&&nr(e)&&(Fp(e)?e.removeAttribute("data-mce-caret"):b7(e)),h7(e)&&(ZC(e),e.data.length===0&&b7(e))},v7=Pr,k3=Zc,A3=Ph,x7="*[contentEditable=false],video,audio,embed,object",y7=(e,n,o)=>{const i=Cu(n.getBoundingClientRect(),o);let c,p;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;c=e.scrollLeft||_.scrollLeft,p=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();c=e.scrollLeft-_.left,p=e.scrollTop-_.top}i.left+=c,i.right+=c,i.top+=p,i.bottom+=p,i.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),i.left+=h,i.right+=h),i},YC=e=>{var n,o;const i=Nt(Ct.fromDom(e),x7);for(let c=0;c<i.length;c++){const p=i[c].dom;let h=p.previousSibling;if(Ju(h)){const _=h.data;_.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(_.length-1,1)}h=p.nextSibling,t0(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},XC=(e,n,o,i)=>{const c=hs();let p,h;const _=Mr(e),S=e.dom,z=(at,rt)=>{let Wt;if(oe(),A3(rt))return null;if(o(rt)){const Ft=K5(_,rt,at),qt=y7(n,rt,at);S.setStyle(Ft,"top",qt.top),S.setStyle(Ft,"caret-color","transparent"),h=Ft;const rn=S.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});S.setStyles(rn,{...qt}),S.add(n,rn),c.set({caret:rn,element:rt,before:at}),at&&S.addClass(rn,"mce-visual-caret-before"),ve(),Wt=rt.ownerDocument.createRange(),Wt.setStart(Ft,0),Wt.setEnd(Ft,0)}else return h=n3(rt,at),Wt=rt.ownerDocument.createRange(),Om(h.nextSibling)?(Wt.setStart(h,0),Wt.setEnd(h,0)):(Wt.setStart(h,1),Wt.setEnd(h,1)),Wt;return Wt},oe=()=>{YC(n),h&&(P1(h),h=null),c.on(at=>{S.remove(at.caret),c.clear()}),p&&(clearInterval(p),p=void 0)},ve=()=>{p=window.setInterval(()=>{c.on(at=>{i()?S.toggleClass(at.caret,"mce-visual-caret-hidden"):S.addClass(at.caret,"mce-visual-caret-hidden")})},500)},Te=()=>{c.on(at=>{const rt=y7(n,at.element,at.before);S.setStyles(at.caret,{...rt})})},$e=()=>clearInterval(p),dt=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:z,hide:oe,getCss:dt,reposition:Te,destroy:$e}},Am=()=>fr.browser.isFirefox(),Om=e=>v7(e)||k3(e),Yp=e=>(Om(e)||pu(e)&&Am())&&$u(Ct.fromDom(e)).exists(Ed),Ib=ni,jf=Pr,JC=Zc,Su=xc("display","block table table-cell table-row table-caption list-item"),C7=nr,Bb=D1,QC=Vo,jk=Yn,e_=jr,Lm=e=>e===1,Xp=e=>e===-1,O3=(e,n)=>{let o;for(;o=e(n);)if(!Bb(o))return o;return null},Jp=(e,n,o,i,c)=>{const p=new ja(e,i),h=jf(e)||Bb(e);let _;if(Xp(n)){if(h&&(_=O3(p.prev.bind(p),!0),o(_)))return _;for(;_=O3(p.prev.bind(p),c);)if(o(_))return _}if(Lm(n)){if(h&&(_=O3(p.next.bind(p),!0),o(_)))return _;for(;_=O3(p.next.bind(p),c);)if(o(_))return _}return null},t_=(e,n)=>{const o=c=>Ib(c.dom),i=c=>c.dom===n;return Mi(Ct.fromDom(e),o,i).map(c=>c.dom).getOr(n)},Zf=(e,n)=>{for(;e&&e!==n;){if(Su(e))return e;e=e.parentNode}return null},Id=(e,n,o)=>Zf(e.container(),o)===Zf(n.container(),o),Fb=(e,n)=>{if(!n)return w.none();const o=n.container(),i=n.offset();return QC(o)?w.from(o.childNodes[i+e]):w.none()},_7=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},Pb=(e,n,o)=>Zf(n,e)===Zf(o,e),$b=(e,n,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let p=c[i];if(p&&C7(p)&&(p=p[i]),jf(p)||JC(p)){if(Pb(n,p,c))return p;break}if(e_(p))break;c=c.parentNode}return null},Ho=B(_7,!0),$1=B(_7,!1),L3=(e,n,o)=>{let i;const c=B($b,!0,n),p=B($b,!1,n),h=o.startContainer,_=o.startOffset;if(D1(h)){const S=jk(h)?h.parentNode:h,z=S.getAttribute("data-mce-caret");if(z==="before"&&(i=S.nextSibling,Yp(i)))return Ho(i);if(z==="after"&&(i=S.previousSibling,Yp(i)))return $1(i)}if(!o.collapsed)return o;if(Yn(h)){if(C7(h)){if(e===1){if(i=p(h),i)return Ho(i);if(i=c(h),i)return $1(i)}if(e===-1){if(i=c(h),i)return $1(i);if(i=p(h),i)return Ho(i)}return o}if(Ju(h)&&_>=h.data.length-1)return e===1&&(i=p(h),i)?Ho(i):o;if(t0(h)&&_<=1)return e===-1&&(i=c(h),i)?$1(i):o;if(_===h.data.length)return i=p(h),i?Ho(i):o;if(_===0)return i=c(h),i?$1(i):o}return o},E7=(e,n)=>Fb(e?0:-1,n).filter(jf),Qp=(e,n,o)=>{const i=L3(e,n,o);return e===-1?hn.fromRangeStart(i):hn.fromRangeEnd(i)},H1=e=>w.from(e.getNode()).map(Ct.fromDom),Hb=e=>w.from(e.getNode(!0)).map(Ct.fromDom),eg=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Gf=(e,n)=>{const o=Id(e,n);return!o&&Jr(e.getNode())?!0:o},zb=Pr,Bd=Yn,Ub=Vo,D3=Jr,tg=jr,ng=Ba,Fd=a0,E0=(e,n)=>{const o=[];let i=e;for(;i&&i!==n;)o.push(i),i=i.parentNode;return o},z1=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,nf=(e,n)=>{if(Lm(e)){if(tg(n.previousSibling)&&!Bd(n.previousSibling))return hn.before(n);if(Bd(n))return hn(n,0)}if(Xp(e)){if(tg(n.nextSibling)&&!Bd(n.nextSibling))return hn.after(n);if(Bd(n))return hn(n,n.data.length)}return Xp(e)?D3(n)?hn.before(n):hn.after(n):hn.before(n)},w7=(e,n)=>{const o=n.nextSibling;return o&&tg(o)?Bd(o)?hn(o,0):hn.before(o):og(1,hn.after(n),e)},og=(e,n,o)=>{let i,c,p,h;if(!Ub(o)||!n)return null;if(n.isEqual(hn.after(o))&&o.lastChild){if(h=hn.after(o.lastChild),Xp(e)&&tg(o.lastChild)&&Ub(o.lastChild))return D3(o.lastChild)?hn.before(o.lastChild):h}else h=n;const _=h.container();let S=h.offset();if(Bd(_)){if(Xp(e)&&S>0)return hn(_,--S);if(Lm(e)&&S<_.length)return hn(_,++S);i=_}else{if(Xp(e)&&S>0&&(c=z1(_,S-1),tg(c)))return!ng(c)&&(p=Jp(c,e,Fd,c),p)?Bd(p)?hn(p,p.data.length):hn.after(p):Bd(c)?hn(c,c.data.length):hn.before(c);if(Lm(e)&&S<_.childNodes.length&&(c=z1(_,S),tg(c)))return D3(c)?w7(o,c):!ng(c)&&(p=Jp(c,e,Fd,c),p)?Bd(p)?hn(p,0):hn.before(p):Bd(c)?hn(c,0):hn.after(c);i=c||h.getNode()}if(i&&(Lm(e)&&h.isAtEnd()||Xp(e)&&h.isAtStart())&&(i=Jp(i,e,ee,o,!0),Fd(i,o)))return nf(e,i);c=i&&Jp(i,e,Fd,o);const z=us(V(E0(_,o),zb));return z&&(!c||!z.contains(c))?(Lm(e)?h=hn.after(z):h=hn.before(z),h):c?nf(e,c):null},ll=e=>({next:n=>og(1,n,e),prev:n=>og(-1,n,e)}),S7=(e,n,o)=>{const i=e?hn.before(o):hn.after(o);return ed(e,n,i)},T7=e=>Jr(e)?hn.before(e):hn.after(e),N3=e=>hn.isTextPosition(e)?e.offset()===0:jr(e.getNode()),Vb=e=>{if(hn.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return jr(e.getNode(!0))},Wb=(e,n)=>!hn.isTextPosition(e)&&!hn.isTextPosition(n)&&e.getNode()===n.getNode(!0),n_=e=>!hn.isTextPosition(e)&&Jr(e.getNode()),Zk=(e,n,o)=>e?!Wb(n,o)&&!n_(n)&&Vb(n)&&N3(o):!Wb(o,n)&&N3(n)&&Vb(o),ed=(e,n,o)=>{const i=ll(n);return w.from(e?i.next(o):i.prev(o))},Tu=(e,n,o)=>ed(e,n,o).bind(i=>Id(o,i,n)&&Zk(e,o,i)?ed(e,n,i):w.some(i)),Kb=(e,n,o,i)=>Tu(e,n,o).bind(c=>i(c)?Kb(e,n,c,i):w.some(c)),sg=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Yn(o)?w.some(hn(o,e?0:o.data.length)):o?jr(o)?w.some(e?hn.before(o):T7(o)):S7(e,n,o):w.none()},cl=B(ed,!0),kl=B(ed,!1),Bi=B(sg,!0),Pd=B(sg,!1),jb="_mce_caret",Gi=e=>Vo(e)&&e.id===jb,of=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gi(o))return o;o=o.parentNode}return null},R3=e=>lt(e.start),k7=e=>vn(e,"rng"),Gk=e=>vn(e,"id"),Zb=e=>vn(e,"name"),ws=e=>Kn.isArray(e.start),Dm=e=>!Zb(e)&&eo(e.forward)?e.forward:!0,ku=(e,n)=>(Vo(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),o_=(e,n)=>{const o=w.from(Dd(e.getRoot(),n.start)),i=w.from(Dd(e.getRoot(),n.end));return Tt(o,i,(c,p)=>{const h=e.createRng();return h.setStart(c.container(),c.offset()),h.setEnd(p.container(),p.offset()),{range:h,forward:Dm(n)}})},s_=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ui);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},r_=e=>!e.hasChildNodes(),a_=(e,n)=>Pd(e).fold(H,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Gb=(e,n,o)=>r_(n)&&of(e,n)?(s_(n,o),!0):!1,qb=(e,n,o,i)=>{const c=o[n?"start":"end"],p=e.getRoot();if(c){let h=p,_=c[0];for(let S=c.length-1;h&&S>=1;S--){const z=h.childNodes;if(Gb(p,h,i))return!0;if(c[S]>z.length-1)return Gb(p,h,i)?!0:a_(h,i);h=z[c[S]]}Yn(h)&&(_=Math.min(c[0],h.data.length)),Vo(h)&&(_=Math.min(c[0],h.childNodes.length)),n?i.setStart(h,_):i.setEnd(h,_)}return!0},Nm=e=>Yn(e)&&e.data.length>0,$d=(e,n,o)=>{const i=e.get(o.id+"_"+n),c=i==null?void 0:i.parentNode,p=o.keep;if(i&&c){let h,_;if(n==="start"?p?i.hasChildNodes()?(h=i.firstChild,_=1):Nm(i.nextSibling)?(h=i.nextSibling,_=0):Nm(i.previousSibling)?(h=i.previousSibling,_=i.previousSibling.data.length):(h=c,_=e.nodeIndex(i)+1):(h=c,_=e.nodeIndex(i)):p?i.hasChildNodes()?(h=i.firstChild,_=1):Nm(i.previousSibling)?(h=i.previousSibling,_=i.previousSibling.data.length):(h=c,_=e.nodeIndex(i)):(h=c,_=e.nodeIndex(i)),!p){const S=i.previousSibling,z=i.nextSibling;Kn.each(Kn.grep(i.childNodes),ve=>{Yn(ve)&&(ve.data=ve.data.replace(/\uFEFF/g,""))});let oe;for(;oe=e.get(o.id+"_"+n);)e.remove(oe,!0);if(Yn(z)&&Yn(S)&&!fr.browser.isOpera()){const ve=S.data.length;S.appendData(z.data),e.remove(z),h=S,_=ve}}return w.some(hn(h,_))}else return w.none()},Rm=(e,n)=>{const o=e.createRng();return qb(e,!0,n,o)&&qb(e,!1,n,o)?w.some({range:o,forward:Dm(n)}):w.none()},i_=(e,n)=>{const o=$d(e,"start",n),i=$d(e,"end",n);return Tt(o,i.or(o),(c,p)=>{const h=e.createRng();return h.setStart(ku(e,c.container()),c.offset()),h.setEnd(ku(e,p.container()),p.offset()),{range:h,forward:Dm(n)}})},M3=(e,n)=>w.from(e.select(n.name)[n.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),l_=(e,n)=>{const o=e.dom;if(n){if(ws(n))return Rm(o,n);if(R3(n))return o_(o,n);if(Gk(n))return i_(o,n);if(Zb(n))return M3(o,n);if(k7(n))return w.some({range:n.rng,forward:Dm(n)})}return w.none()},I3=(e,n,o)=>Qr(e,n,o),Si=(e,n)=>{l_(e,n).each(({range:o,forward:i})=>{e.setRng(o,i)})},td=e=>Vo(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",B3=(e=>n=>e===n)(Qs),rg=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Yb=e=>!rg(e)&&!B3(e)&&!Re(e),Xb=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},c_=e=>nt(e,n=>{const o=gm(n);return o?[Ct.fromDom(o)]:[]}),Jb=e=>Xb(e).length>1,d_=e=>V(c_(e),_i),F3=e=>Nt(e,"td[data-mce-selected],th[data-mce-selected]"),Qb=(e,n)=>{const o=F3(n);return o.length>0?o:d_(e)},U1=e=>Qb(Xb(e.selection.getSel()),Ct.fromDom(e.getBody())),ag=(e,n)=>Vu(e,"table",n),O7=e=>{const n=e.startContainer,o=e.startOffset;return Yn(n)?o===0?w.some(Ct.fromDom(n)):w.none():w.from(n.childNodes[o]).map(Ct.fromDom)},ev=e=>{const n=e.endContainer,o=e.endOffset;return Yn(n)?o===n.data.length?w.some(Ct.fromDom(n)):w.none():w.from(n.childNodes[o-1]).map(Ct.fromDom)},tv=e=>pc(e).fold(O([e]),n=>[e].concat(tv(n))),sf=e=>Xa(e).fold(O([e]),n=>Fs(n)==="br"?Js(n).map(o=>[e].concat(sf(o))).getOr([]):[e].concat(sf(n))),P3=(e,n)=>Tt(O7(n),ev(n),(o,i)=>{const c=we(tv(e),B(Ws,o)),p=we(sf(e),B(Ws,i));return c.isSome()&&p.isSome()}).getOr(!1),nv=(e,n,o,i)=>{const c=o,p=new ja(o,c),h=nn(e.schema.getMoveCaretBeforeOnEnterElements(),(S,z)=>!M(["td","th","table"],z.toLowerCase()));let _=o;do{if(Yn(_)&&Kn.trim(_.data).length!==0){i?n.setStart(_,0):n.setEnd(_,_.data.length);return}if(h[_.nodeName]){i?n.setStartBefore(_):_.nodeName==="BR"?n.setEndBefore(_):n.setEndAfter(_);return}}while(_=i?p.next():p.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},w0=e=>{const n=e.selection.getSel();return s(n)&&n.rangeCount>0},$3=(e,n)=>{const o=U1(e);o.length>0?R(o,i=>{const c=i.dom,p=e.dom.createRng();p.setStartBefore(c),p.setEndAfter(c),n(p,!0)}):n(e.selection.getRng(),!1)},L7=(e,n,o)=>{const i=fb(e,n);o(i),e.moveToBookmark(i)},Mm=(e,n)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&n(e.startContainer.childNodes[e.startOffset]),u_=e=>Mm(e,uu),f_=e=>Mm(e,Yn),p_=e=>Mm(e,s8),ig=e=>$(e==null?void 0:e.nodeType),ov=e=>Vo(e)&&!td(e)&&!Gi(e)&&!Tp(e),g_=(e,n)=>{if(ov(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},sv=(e,n,o)=>{const{selection:i,dom:c}=e,p=i.getNode(),h=Pr(p);L7(i,!0,()=>{n()}),h&&Pr(p)&&c.isChildOf(p,e.getBody())?e.selection.select(p):o(i.getStart())&&rv(c,i)},rv=(e,n)=>{var o,i;const c=n.getRng(),{startContainer:p,startOffset:h}=c,_=n.getNode();if(!g_(e,_)&&Vo(p)){const S=p.childNodes,z=e.getRoot();let oe;if(h<S.length){const ve=S[h];oe=new ja(ve,(o=e.getParent(ve,e.isBlock))!==null&&o!==void 0?o:z)}else{const ve=S[S.length-1];oe=new ja(ve,(i=e.getParent(ve,e.isBlock))!==null&&i!==void 0?i:z),oe.next(!0)}for(let ve=oe.current();ve;ve=oe.next()){if(e.getContentEditable(ve)==="false")return;if(Yn(ve)&&!iv(ve)){c.setStart(ve,0),n.setRng(c);return}}}},D7=(e,n,o)=>{if(e){const i=n?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(Vo(e)||!iv(e))return e}},av=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||ju(e,n),Im=(e,n,o)=>e.schema.isValidChild(n,o),iv=(e,n=!1)=>{if(s(e)&&Yn(e)){const o=n?e.data.replace(/ /g,""):e.data;return du(o)}else return!1},m_=e=>s(e)&&Yn(e)&&e.length===0,Zr=(e,n)=>{const o="[data-mce-cef-wrappable]",i=IC(e),c=io(i)?o:`${o},${i}`;return Ml(Ct.fromDom(n),c)},lv=(e,n)=>{const o=e.dom;return ov(n)&&o.getContentEditable(n)==="false"&&Zr(e,n)&&o.select('[contenteditable="true"]',n).length===0},V1=(e,n)=>b(e)?e(n):(s(n)&&(e=e.replace(/%(\w+)/g,(o,i)=>n[i]||o)),e),u=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),m=(e,n)=>{if(Qo(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=rm(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},C=(e,n,o)=>{const i=e.getStyle(n,o);return m(i,o)},k=(e,n)=>{let o;return e.getParent(n,i=>Vo(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},Q=(e,n,o)=>e.getParents(n,o,e.getRoot()),ue=(e,n,o)=>{const i=e.formatter.get(n);return s(i)&&W(i,o)},De=(e,n)=>ue(e,n,i=>{const c=p=>b(p)||p.length>1&&p.charAt(0)==="%";return W(["styles","attributes"],p=>Mn(i,p).exists(h=>{const _=_o(h)?h:kn(h);return W(_,c)}))}),Xe=(e,n,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=p=>nn(p,(h,_)=>W(i,S=>S===_));return ue(e,n,p=>{const h=c(p);return ue(e,o,_=>{const S=c(_);return So(h,S)})})},ut=e=>Hn(e,"block"),Dt=e=>ut(e)&&e.wrapper===!0,en=e=>ut(e)&&e.wrapper!==!0,Sn=e=>Hn(e,"selector"),no=e=>Hn(e,"inline"),xo=e=>Sn(e)&&no(e)&&kt(Mn(e,"mixed"),!0),Ko=e=>Sn(e)&&e.expand!==!1&&!no(e),yn=e=>{const n=[];let o=e;for(;o;){if(Yn(o)&&o.data!==ui||o.childNodes.length>1)return[];Vo(o)&&n.push(o),o=o.firstChild}return n},In=e=>yn(e).length>0,os=e=>Gi(e.dom)&&In(e.dom),Ss=td,No=Q,yr=iv,_r=av,Ns=e=>Jr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Da=(e,n)=>{let o=n;for(;o;){if(Vo(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Lc=(e,n,o,i)=>{const c=n.data;if(e){for(let p=o;p>0;p--)if(i(c.charAt(p-1)))return p}else for(let p=o;p<c.length;p++)if(i(c.charAt(p)))return p;return-1},qf=(e,n,o)=>Lc(e,n,o,i=>B3(i)||rg(i)),W1=(e,n,o)=>Lc(e,n,o,Yb),K1=(e,n,o,i,c,p)=>{let h;const _=e.getParent(o,ve=>Fh(ve)||e.isBlock(ve)),S=s(_)?_:n,z=(ve,Te,$e)=>{const dt=Xu(e),at=c?dt.backwards:dt.forwards;return w.from(at(ve,Te,(rt,Wt)=>Ss(rt.parentNode)?-1:(h=rt,$e(c,rt,Wt)),S))};return z(o,i,qf).bind(ve=>p?z(ve.container,ve.offset+(c?-1:0),W1):w.some(ve)).orThunk(()=>h?w.some({container:h,offset:c?0:h.length}):w.none())},Er=(e,n,o,i,c)=>{const p=i[c];Yn(i)&&io(i.data)&&p&&(i=p);const h=No(e,i);for(let _=0;_<h.length;_++)for(let S=0;S<n.length;S++){const z=n[S];if(!(s(z.collapsed)&&z.collapsed!==o.collapsed)&&Sn(z)&&e.is(h[_],z.selector))return h[_]}return i},dl=(e,n,o,i)=>{var c;let p=o;const h=e.getRoot(),_=n[0];if(ut(_)&&(p=_.wrapper?null:e.getParent(o,_.block,h)),!p){const S=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:h;p=e.getParent(Yn(o)?o.parentNode:o,z=>z!==h&&_r(e.schema,z),S)}if(p&&ut(_)&&_.wrapper&&(p=No(e,p,"ul,ol").reverse()[0]||p),!p)for(p=o;p&&p[i]&&!e.isBlock(p[i])&&(p=p[i],!u(p,"br")););return p||o},ul=(e,n,o,i)=>{const c=o.parentNode;return s(o[i])?!1:c===n||Qo(c)||e.isBlock(c)?!0:ul(e,n,c,i)},ac=(e,n,o,i,c,p)=>{let h=o;const _=c?"previousSibling":"nextSibling",S=e.getRoot();if(Yn(o)&&!yr(o)&&(c?i>0:i<o.data.length))return o;for(;h;){if(Fh(h))return o;if(!n[0].block_expand&&e.isBlock(h))return p?h:o;for(let z=h[_];z;z=z[_]){const oe=Yn(z)&&!ul(e,S,z,_);if(!Ss(z)&&!Ns(z)&&!yr(z,oe))return h}if(h===S||h.parentNode===S){o=h;break}h=h.parentNode}return o},Kl=e=>Ss(e.parentNode)||Ss(e),Dc=(e,n,o,i={})=>{const{includeTrailingSpace:c=!1,expandToBlock:p=!0}=i,h=e.getParent(n.commonAncestorContainer,$e=>Fh($e)),_=s(h)?h:e.getRoot();let{startContainer:S,startOffset:z,endContainer:oe,endOffset:ve}=n;const Te=o[0];return Vo(S)&&S.hasChildNodes()&&(S=Od(S,z),Yn(S)&&(z=0)),Vo(oe)&&oe.hasChildNodes()&&(oe=Od(oe,n.collapsed?ve:ve-1),Yn(oe)&&(ve=oe.data.length)),S=Da(e,S),oe=Da(e,oe),Kl(S)&&(S=Ss(S)?S:S.parentNode,n.collapsed?S=S.previousSibling||S:S=S.nextSibling||S,Yn(S)&&(z=n.collapsed?S.length:0)),Kl(oe)&&(oe=Ss(oe)?oe:oe.parentNode,n.collapsed?oe=oe.nextSibling||oe:oe=oe.previousSibling||oe,Yn(oe)&&(ve=n.collapsed?0:oe.length)),n.collapsed&&(K1(e,_,S,z,!0,c).each(({container:at,offset:rt})=>{S=at,z=rt}),K1(e,_,oe,ve,!1,c).each(({container:at,offset:rt})=>{oe=at,ve=rt})),(no(Te)||Te.block_expand)&&((!no(Te)||!Yn(S)||z===0)&&(S=ac(e,o,S,z,!0,p)),(!no(Te)||!Yn(oe)||ve===oe.data.length)&&(oe=ac(e,o,oe,ve,!1,p))),Ko(Te)&&(S=Er(e,o,n,S,"previousSibling"),oe=Er(e,o,n,oe,"nextSibling")),(ut(Te)||Sn(Te))&&(S=dl(e,o,S,"previousSibling"),oe=dl(e,o,oe,"nextSibling"),ut(Te)&&(e.isBlock(S)||(S=ac(e,o,S,z,!0,p),Yn(S)&&(z=0)),e.isBlock(oe)||(oe=ac(e,o,oe,ve,!1,p),Yn(oe)&&(ve=oe.data.length)))),Vo(S)&&S.parentNode&&(z=e.nodeIndex(S),S=S.parentNode),Vo(oe)&&oe.parentNode&&(ve=e.nodeIndex(oe)+1,oe=oe.parentNode),{startContainer:S,startOffset:z,endContainer:oe,endOffset:ve}},mi=(e,n,o)=>{var i;const c=n.startOffset,p=Od(n.startContainer,c),h=n.endOffset,_=Od(n.endContainer,h-1),S=rt=>{const Wt=rt[0];Yn(Wt)&&Wt===p&&c>=Wt.data.length&&rt.splice(0,1);const Ft=rt[rt.length-1];return h===0&&rt.length>0&&Ft===_&&Yn(Ft)&&rt.splice(rt.length-1,1),rt},z=(rt,Wt,Ft)=>{const qt=[];for(;rt&&rt!==Ft;rt=rt[Wt])qt.push(rt);return qt},oe=(rt,Wt)=>e.getParent(rt,Ft=>Ft.parentNode===Wt,Wt),ve=(rt,Wt,Ft)=>{const qt=Ft?"nextSibling":"previousSibling";for(let rn=rt,Tn=rn.parentNode;rn&&rn!==Wt;rn=Tn){Tn=rn.parentNode;const so=z(rn===rt?rn:rn[qt],qt);so.length&&(Ft||so.reverse(),o(S(so)))}};if(p===_)return o(S([p]));const Te=(i=e.findCommonAncestor(p,_))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(p,_))return ve(p,Te,!0);if(e.isChildOf(_,p))return ve(_,Te);const $e=oe(p,Te)||p,dt=oe(_,Te)||_;ve(p,$e,!0);const at=z($e===p?$e:$e.nextSibling,"nextSibling",dt===_?dt.nextSibling:dt);at.length&&o(S(at)),ve(_,dt)},N7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],S0=e=>Ha(e)&&pr(e)===ui,Yf=(e,n,o,i)=>$u(n).fold(()=>"skipping",c=>i==="br"||S0(n)?"valid":E8(n)?"existing":Gi(n.dom)?"caret":W(N7,p=>Ml(n,p))?"valid-block":!Im(e,o,i)||!Im(e,Fs(c),o)?"invalid-child":"valid"),fl=(e,n)=>{const o=Dc(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},R7=(e,n,o,i,c,p)=>{const{uid:h=n,..._}=o;b1(e,lm()),Mo(e,`${Gu()}`,h),Mo(e,`${Sc()}`,i);const{attributes:S={},classes:z=[]}=c(h,_);if(ka(e,S),F2(e,z),p){z.length>0&&Mo(e,`${A1()}`,z.join(","));const oe=Rt(S);oe.length>0&&Mo(e,`${Yu()}`,oe.join(","))}},h_=e=>{Hl(e,lm()),er(e,`${Gu()}`),er(e,`${Sc()}`),er(e,`${qu()}`);const n=pa(e,`${Yu()}`).map(i=>i.split(",")).getOr([]),o=pa(e,`${A1()}`).map(i=>i.split(",")).getOr([]);R(n,i=>er(e,i)),_p(e,o),er(e,`${A1()}`),er(e,`${Yu()}`)},zo=(e,n,o,i,c)=>{const p=Ct.fromTag("span",e);return R7(p,n,o,i,c,!1),p},Hd=(e,n,o,i,c,p)=>{const h=[],_=zo(e.getDoc(),o,p,i,c),S=hs(),z=()=>{S.clear()},oe=()=>S.get().getOrThunk(()=>{const dt=qr(_);return h.push(dt),S.set(dt),dt}),ve=dt=>{R(dt,Te)},Te=dt=>{switch(Yf(e,dt,"span",Fs(dt))){case"invalid-child":{z();const rt=hr(dt);ve(rt),z();break}case"valid-block":{z(),R7(dt,o,p,i,c,!0);break}case"valid":{const rt=oe();nl(dt,rt);break}}},$e=dt=>{const at=K(dt,Ct.fromDom);ve(at)};return mi(e.dom,n,dt=>{z(),$e(dt)}),h},b_=(e,n,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,p=c.getRng(),h=U1(e).length>0,_=te("mce-annotation");if(p.collapsed&&!h&&fl(e,p),c.getRng().collapsed&&!h){const S=zo(e.getDoc(),_,i,n,o.decorate);ei(S,Qs),c.getRng().insertNode(S.dom),c.select(S.dom)}else L7(c,!1,()=>{$3(e,S=>{Hd(e,S,_,n,o.decorate,i)})})})},T0=e=>{const n=Y2();w8(e,n);const o=U5(e,n),i=nu("span"),c=p=>{R(p,h=>{i(h)?Fl(h):h_(h)})};return{register:(p,h)=>{n.register(p,h)},annotate:(p,h)=>{n.lookup(p).each(_=>{b_(e,p,_,h)})},annotationChanged:(p,h)=>{o.addListener(p,h)},remove:p=>{z5(e,w.some(p)).each(({elements:h})=>{const _=e.selection.getBookmark();c(h),e.selection.moveToBookmark(_)})},removeAll:p=>{const h=e.selection.getBookmark();Zt(q2(e,p),(_,S)=>{c(_)}),e.selection.moveToBookmark(h)},getAll:p=>{const h=q2(e,p);return wn(h,_=>K(_,S=>S.dom))}}},Bm=e=>({getBookmark:B(I3,e),moveToBookmark:B(Si,e)});Bm.isBookmarkNode=td;const Fm=(e,n,o)=>o.collapsed?!1:W(o.getClientRects(),i=>G5(i,e,n)),qk=(e,n)=>{const o=Ha(n)?pr(n).length:hr(n).length+1;return e>o?o:e<0?0:e},Yk=e=>bc.range(e.start,qk(e.soffset,e.start),e.finish,qk(e.foffset,e.finish)),v_=(e,n)=>!Xg(n.dom)&&(vl(e,n)||Ws(e,n)),M7=e=>n=>v_(e,n.start)&&v_(e,n.finish),x_=e=>e.inline||fr.browser.isFirefox(),y_=e=>bc.range(Ct.fromDom(e.startContainer),e.startOffset,Ct.fromDom(e.endContainer),e.endOffset),ZP=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?w.none():w.from(n.getRangeAt(0))).map(y_)},GP=e=>{const n=fa(e);return ZP(n.dom).filter(M7(e))},qP=(e,n)=>w.from(n).filter(M7(e)).map(Yk),YP=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),w.some(n)}catch{return w.none()}},H3=e=>{const n=x_(e)?GP(Ct.fromDom(e.getBody())):w.none();e.bookmark=n.isSome()?n:e.bookmark},I7=e=>(e.bookmark?e.bookmark:w.none()).bind(o=>qP(Ct.fromDom(e.getBody()),o)).bind(YP),XP=e=>{I7(e).each(n=>e.selection.setRng(n))},Xk={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},C_=(e,n)=>($(n)||(n=0),window.setTimeout(e,n)),QP=(e,n)=>($(n)||(n=0),window.setInterval(e,n)),Au={setEditorTimeout:(e,n,o)=>C_(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const i=QP(()=>{e.removed?window.clearInterval(i):n()},o);return i}},Jk=(e,n)=>e.view(n).fold(O([]),i=>{const c=e.owner(i),p=Jk(e,c);return[i].concat(p)}),e$=(e,n)=>{const o=n.owner(e);return Jk(n,o)};var __=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?w.none():w.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ct.fromDom)},owner:e=>yi(e)});const E_=e=>{const n=$g(),o=yp(n),i=e$(e,__),c=kf(e),p=ae(i,(h,_)=>{const S=kf(_);return{left:h.left+S.left,top:h.top+S.top}},{left:0,top:0});return Tf(p.left+c.left+o.left,p.top+c.top+o.top)},Qk=e=>e.type==="nodechange"&&e.selectionChange,n$=(e,n)=>{const o=()=>{n.throttle()};Ar.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Ar.DOM.unbind(document,"mouseup",o)})},o$=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},s$=(e,n)=>{o$(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Qk(o)||H3(e)})},B7=e=>{const n=vi(()=>{H3(e)},0);e.on("init",()=>{e.inline&&n$(e,n),s$(e,n)}),e.on("remove",()=>{n.cancel()})};let k0;const F7=Ar.DOM,r$=e=>Vo(e)&&Xk.isEditorUIElement(e),w_=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},S_=(e,n)=>{const o=b0(e);return F7.getParent(n,c=>r$(c)||(o?e.dom.is(c,o):!1))!==null},eA=e=>{try{const n=ou(Ct.fromDom(e.getElement()));return Il(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},mJ=(e,n)=>{const o=n.editor;B7(o);const i=(p,h)=>{if(l7(p)&&p.inline!==!0){const _=Ct.fromDom(p.getContainer());h(_,"tox-edit-focus")}},c=p=>{if(!p.iframeElement)return;const _=Ct.fromDom(p.iframeElement),S=E_(_),z=Ul(window);(S.top<z.y||S.top>z.bottom-25)&&_.dom.scrollIntoView({block:"center"})};o.on("focusin",()=>{const p=e.focusedEditor;if(w_(eA(o))&&i(o,b1),p!==o){p&&p.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:p}),o.focus(!0);const h=$c().browser;o.inline!==!0&&(h.isSafari()||h.isChromium())&&c(o)}}),o.on("focusout",()=>{Au.setEditorTimeout(o,()=>{const p=e.focusedEditor;(!w_(eA(o))||p!==o)&&i(o,Hl),!S_(o,eA(o))&&p===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),k0||(k0=p=>{const h=e.activeEditor;h&&ss(p).each(_=>{const S=_;S.ownerDocument===document&&S!==document.body&&!S_(h,S)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},F7.bind(document,"focusin",k0))},a$=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&k0&&(F7.unbind(document,"focusin",k0),k0=null)},hJ=e=>{e.on("AddEditor",B(mJ,e)),e.on("RemoveEditor",B(a$,e))},i$=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),l$=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,bJ=e=>e.collapsed?w.from(Od(e.startContainer,e.startOffset)).map(Ct.fromDom):w.none(),c$=(e,n)=>bJ(n).bind(o=>e0(o)?w.some(o):vl(e,o)?w.none():w.some(e)),ea=(e,n)=>{c$(Ct.fromDom(e.getBody()),n).bind(o=>Bi(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},z3=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},P7=e=>wh(e)||wf(e).isSome(),$7=e=>s(e.iframeElement)&&wh(Ct.fromDom(e.iframeElement)),lg=e=>{const n=e.getBody();return n&&P7(Ct.fromDom(n))},H7=e=>{const n=ou(Ct.fromDom(e.getElement()));return Il(n).filter(o=>!w_(o.dom)&&S_(e,o.dom)).isSome()},Xf=e=>e.inline?lg(e):$7(e),z7=e=>Xf(e)||H7(e),d$=e=>{const n=e.selection,o=e.getBody();let i=n.getRng();e.quirks.refreshContentEditable();const c=h=>{I7(h).each(_=>{h.selection.setRng(_),i=_})};!Xf(e)&&e.hasEditableRoot()&&c(e);const p=i$(e,n.getNode());if(p&&e.dom.isChildOf(p,o)){l$(e,p)||z3(o),z3(p),e.hasEditableRoot()||c(e),ea(e,i),T_(e);return}e.inline||(fr.browser.isOpera()||z3(o),e.getWin().focus()),(fr.browser.isFirefox()||e.inline)&&(z3(o),ea(e,i)),T_(e)},T_=e=>e.editorManager.setActive(e),tA=(e,n)=>{e.removed||(n?T_(e):d$(e))},wo={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||wo.metaKeyPressed(e),metaKeyPressed:e=>fr.os.isMacOS()||fr.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},cg="data-mce-selected",U7="table,img,figure.image,hr,video,span.mce-preview-object,details",dg=Math.abs,j1=Math.round,V7={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},u$=e=>e.type==="longpress"||e.type.indexOf("touch")===0,nA=(e,n)=>{const o=n.dom,i=n.getDoc(),c=document,p=n.getBody();let h,_,S,z,oe,ve,Te,$e,dt,at,rt,Wt,Ft,qt,rn;const Tn=Bo=>s(Bo)&&(Bh(Bo)||o.is(Bo,"figure.image")),so=Bo=>Zc(Bo)||o.hasClass(Bo,"mce-preview-object"),Un=(Bo,Pn)=>{if(u$(Bo)){const ho=Bo.touches[0];return Tn(Bo.target)&&!Fm(ho.clientX,ho.clientY,Pn)}else return Tn(Bo.target)&&!Fm(Bo.clientX,Bo.clientY,Pn)},gn=Bo=>{const Pn=Bo.target;Un(Bo,n.selection.getRng())&&!Bo.isDefaultPrevented()&&n.selection.select(Pn)},mn=Bo=>o.hasClass(Bo,"mce-preview-object")&&s(Bo.firstElementChild)?[Bo,Bo.firstElementChild]:o.is(Bo,"figure.image")?[Bo.querySelector("img")]:[Bo],Rn=Bo=>{const Pn=j8(n);return!Pn||n.mode.isReadOnly()||Bo.getAttribute("data-mce-resize")==="false"||Bo===n.getBody()?!1:o.hasClass(Bo,"mce-preview-object")&&s(Bo.firstElementChild)?Ml(Ct.fromDom(Bo.firstElementChild),Pn):Ml(Ct.fromDom(Bo),Pn)},Lo=(Bo,Pn)=>{if(so(Pn))return Bo.create("img",{src:fr.transparentSrc});if(pu(Pn)){const vs=qo(z.name,"n")?Fe:Ye,Ts=Pn.cloneNode(!0);return vs(Bo.select("tr",Ts)).each(vr=>{const sa=Bo.select("td,th",vr);Bo.setStyle(vr,"height",null),R(sa,Mu=>Bo.setStyle(Mu,"height",null))}),Ts}else return Pn.cloneNode(!0)},es=(Bo,Pn,ho)=>{if(s(ho)){const vs=mn(Bo);R(vs,Ts=>{Ts.style[Pn]||!n.schema.isValid(Ts.nodeName.toLowerCase(),Pn)?o.setStyle(Ts,Pn,ho):o.setAttrib(Ts,Pn,""+ho)})}},Ms=(Bo,Pn,ho)=>{es(Bo,"width",Pn),es(Bo,"height",ho)},ko=Bo=>{let Pn,ho,vs,Ts,vr;Pn=Bo.screenX-ve,ho=Bo.screenY-Te,Wt=Pn*z[2]+$e,Ft=ho*z[3]+dt,Wt=Wt<5?5:Wt,Ft=Ft<5?5:Ft,(Tn(h)||so(h))&&Z8(n)!==!1?vs=!wo.modifierPressed(Bo):vs=wo.modifierPressed(Bo),vs&&(dg(Pn)>dg(ho)?(Ft=j1(Wt*at),Wt=j1(Ft/at)):(Wt=j1(Ft/at),Ft=j1(Wt*at))),Ms(_,Wt,Ft),Ts=z.startPos.x+Pn,vr=z.startPos.y+ho,Ts=Ts>0?Ts:0,vr=vr>0?vr:0,o.setStyles(S,{left:Ts,top:vr,display:"block"}),S.innerHTML=Wt+" &times; "+Ft,Pn=p.scrollWidth-qt,ho=p.scrollHeight-rn,Pn+ho!==0&&o.setStyles(S,{left:Ts-Pn,top:vr-ho}),rt||(Wf(n,h,$e,dt,"corner-"+z.name),rt=!0)},Gt=()=>{const Bo=rt;rt=!1,Bo&&(es(h,"width",Wt),es(h,"height",Ft)),o.unbind(i,"mousemove",ko),o.unbind(i,"mouseup",Gt),c!==i&&(o.unbind(c,"mousemove",ko),o.unbind(c,"mouseup",Gt)),o.remove(_),o.remove(S),o.remove(oe),lo(h),Bo&&(Nd(n,h,Wt,Ft,"corner-"+z.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},lo=Bo=>{Ro();const Pn=o.getPos(Bo,p),ho=Pn.x,vs=Pn.y,Ts=Bo.getBoundingClientRect(),vr=Ts.width||Ts.right-Ts.left,sa=Ts.height||Ts.bottom-Ts.top;h!==Bo&&(dr(),h=Bo,Wt=Ft=0);const Mu=n.dispatch("ObjectSelected",{target:Bo});Rn(Bo)&&!Mu.isDefaultPrevented()?Zt(V7,(fd,a1)=>{const bf=pd=>{const i1=mn(h)[0];ve=pd.screenX,Te=pd.screenY,$e=i1.clientWidth,dt=i1.clientHeight,at=dt/$e,z=fd,z.name=a1,z.startPos={x:vr*fd[0]+ho,y:sa*fd[1]+vs},qt=p.scrollWidth,rn=p.scrollHeight,oe=o.add(p,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(oe,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=Lo(o,h),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:ho,top:vs,margin:0}),Ms(_,vr,sa),_.removeAttribute(cg),p.appendChild(_),o.bind(i,"mousemove",ko),o.bind(i,"mouseup",Gt),c!==i&&(o.bind(c,"mousemove",ko),o.bind(c,"mouseup",Gt)),S=o.add(p,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},$e+" &times; "+dt)};let Pc=o.get("mceResizeHandle"+a1);Pc&&o.remove(Pc),Pc=o.add(p,"div",{id:"mceResizeHandle"+a1,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+a1+"-resize; margin:0; padding:0"}),o.bind(Pc,"mousedown",pd=>{pd.stopImmediatePropagation(),pd.preventDefault(),bf(pd)}),fd.elm=Pc,o.setStyles(Pc,{left:vr*fd[0]+ho-Pc.offsetWidth/2,top:sa*fd[1]+vs-Pc.offsetHeight/2})}):dr(!1)},as=vi(lo,0),dr=(Bo=!0)=>{as.cancel(),Ro(),h&&Bo&&h.removeAttribute(cg),Zt(V7,(Pn,ho)=>{const vs=o.get("mceResizeHandle"+ho);vs&&(o.unbind(vs),o.remove(vs))})},va=(Bo,Pn)=>o.isChildOf(Bo,Pn),Gn=Bo=>{if(rt||n.removed||n.composing)return;const Pn=Bo.type==="mousedown"?Bo.target:e.getNode(),ho=$l(Ct.fromDom(Pn),U7).map(Ts=>Ts.dom).filter(Ts=>o.isEditable(Ts.parentElement)||Ts.nodeName==="IMG"&&o.isEditable(Ts)).getOrUndefined(),vs=s(ho)?o.getAttrib(ho,cg,"1"):"1";if(R(o.select(`img[${cg}],hr[${cg}]`),Ts=>{Ts.removeAttribute(cg)}),s(ho)&&va(ho,p)&&z7(n)){Xs();const Ts=e.getStart(!0);if(va(Ts,ho)&&va(e.getEnd(!0),ho)){o.setAttrib(ho,cg,vs),as.throttle(ho);return}}dr()},Ro=()=>{Zt(V7,Bo=>{Bo.elm&&(o.unbind(Bo.elm),delete Bo.elm)})},Xs=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Xs(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Gn),n.on("keyup compositionend",Bo=>{h&&h.nodeName==="TABLE"&&Gn(Bo)}),n.on("hide blur",dr),n.on("contextmenu longpress",gn,!0)}),n.on("remove",Ro),{isResizable:Rn,showResizeRect:lo,hideResizeRect:dr,updateResizeRect:Gn,destroy:()=>{as.cancel(),h=_=oe=null}}},oA=(e,n,o)=>{const i=fa(Ct.fromDom(o));return h5(i.dom,e,n).map(c=>{const p=o.createRange();return p.setStart(c.start.dom,c.soffset),p.setEnd(c.finish.dom,c.foffset),p}).getOrUndefined()},k_=(e,n)=>s(e)&&s(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,f$=(e,n,o)=>{let i=e;for(;i&&i!==n;){if(o(i))return i;i=i.parentNode}return null},sA=(e,n,o)=>f$(e,n,o)!==null,rA=(e,n,o)=>sA(e,n,i=>i.nodeName===o),p$=(e,n)=>nr(e)&&!sA(e,n,Gi),aA=(e,n,o)=>{const i=n.parentNode;if(i){const c=new ja(n,e.getParent(i,e.isBlock)||e.getRoot());let p;for(;p=c[o?"prev":"next"]();)if(Jr(p))return!0}return!1},g$=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},vJ=(e,n)=>{let o=n;for(;o&&o!==e;){if(Pr(o))return!0;o=o.parentNode}return!1},A_=(e,n,o,i,c)=>{const p=e.getRoot(),h=e.schema.getNonEmptyElements(),_=c.parentNode;let S,z;if(!_)return w.none();const oe=e.getParent(_,e.isBlock)||p;if(i&&Jr(c)&&n&&e.isEmpty(oe))return w.some(hn(_,e.nodeIndex(c)));const ve=new ja(c,oe);for(;z=ve[i?"prev":"next"]();){if(e.getContentEditableParent(z)==="false"||p$(z,p))return w.none();if(Yn(z)&&z.data.length>0)return rA(z,p,"A")?w.none():w.some(hn(z,i?z.data.length:0));if(e.isBlock(z)||h[z.nodeName.toLowerCase()])return w.none();S=z}return Ku(S)?w.none():o&&S?w.some(hn(S,0)):w.none()},Fi=(e,n,o,i)=>{const c=e.getRoot();let p,h=!1,_=o?i.startContainer:i.endContainer,S=o?i.startOffset:i.endOffset;const z=Vo(_)&&S===_.childNodes.length,oe=e.schema.getNonEmptyElements();let ve=o;if(nr(_))return w.none();if(Vo(_)&&S>_.childNodes.length-1&&(ve=!1),Aa(_)&&(_=c,S=0),_===c){if(ve&&(p=_.childNodes[S>0?S-1:0],p&&(nr(p)||oe[p.nodeName]||pu(p))))return w.none();if(_.hasChildNodes()){if(S=Math.min(!ve&&S>0?S-1:S,_.childNodes.length-1),_=_.childNodes[S],S=Yn(_)&&z?_.data.length:0,!n&&_===c.lastChild&&pu(_)||vJ(c,_)||nr(_)||$h(_))return w.none();if(_.hasChildNodes()&&!pu(_)){p=_;const Te=new ja(_,c);do{if(Pr(p)||nr(p)){h=!1;break}if(Yn(p)&&p.data.length>0){S=ve?0:p.data.length,_=p,h=!0;break}if(oe[p.nodeName.toLowerCase()]&&!kp(p)){S=e.nodeIndex(p),_=p.parentNode,ve||S++,h=!0;break}}while(p=ve?Te.next():Te.prev())}}}return n&&(Yn(_)&&S===0&&A_(e,z,n,!0,_).each(Te=>{_=Te.container(),S=Te.offset(),h=!0}),Vo(_)&&(p=_.childNodes[S],p||(p=_.childNodes[S-1]),p&&Jr(p)&&!g$(p,"A")&&!aA(e,p,!1)&&!aA(e,p,!0)&&A_(e,z,n,!0,p).each(Te=>{_=Te.container(),S=Te.offset(),h=!0}))),ve&&!n&&Yn(_)&&S===_.data.length&&A_(e,z,n,!1,_).each(Te=>{_=Te.container(),S=Te.offset(),h=!0}),h&&_?w.some(hn(_,S)):w.none()},A0=(e,n)=>{const o=n.collapsed,i=n.cloneRange(),c=hn.fromRangeStart(n);return Fi(e,o,!0,i).each(p=>{(!o||!hn.isAbove(c,p))&&i.setStart(p.container(),p.offset())}),o||Fi(e,o,!1,i).each(p=>{i.setEnd(p.container(),p.offset())}),o&&i.collapse(!0),k_(n,i)?w.none():w.some(i)},Ti=(e,n)=>e.splitText(n),nd=e=>{let n=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(n===i&&Yn(n)){if(o>0&&o<n.data.length)if(i=Ti(n,o),n=i.previousSibling,c>o){c=c-o;const p=Ti(i,c).previousSibling;n=i=p,c=p.data.length,o=0}else c=0}else if(Yn(n)&&o>0&&o<n.data.length&&(n=Ti(n,o),o=0),Yn(i)&&c>0&&c<i.data.length){const p=Ti(i,c).previousSibling;i=p,c=p.data.length}return{startContainer:n,startOffset:o,endContainer:i,endOffset:c}},Z1=e=>({walk:(p,h)=>mi(e,p,h),split:nd,expand:(p,h={type:"word"})=>{if(h.type==="word"){const _=Dc(e,p,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),S=e.createRng();return S.setStart(_.startContainer,_.startOffset),S.setEnd(_.endContainer,_.endOffset),S}return p},normalize:p=>A0(e,p).fold(H,h=>(p.setStart(h.startContainer,h.startOffset),p.setEnd(h.endContainer,h.endOffset),!0))});Z1.compareRanges=k_,Z1.getCaretRangeFromPoint=oA,Z1.getSelectedNode=gm,Z1.getNode=Od;const W7=e=>Fs(e)==="textarea",m$=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),O_=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},h$=(e,n)=>{const o=hr(e);if(o.length===0||W7(e))return{element:e,offset:n};if(n<o.length&&!W7(o[n]))return{element:o[n],offset:0};{const i=o[o.length-1];return W7(i)?{element:e,offset:n}:Fs(i)==="img"?{element:i,offset:1}:Ha(i)?{element:i,offset:pr(i).length}:{element:i,offset:hr(i).length}}},L_=(e,n)=>{const o=kh(e),i=Wc(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:n}},b$=(e,n)=>{const o=h$(e,n),i=Ct.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ui+"</span>");return Ja(o.element,i),L_(i,()=>kr(i))},v$=e=>L_(Ct.fromDom(e),a),iA=(e,n,o,i)=>{Jf(e,(c,p)=>ic(e,n,o,i),o)},od=(e,n,o,i,c)=>{const p={elm:i.element.dom,alignToTop:c};if(m$(e,p))return;const h=yp(n).top;o(e,n,h,i,c),O_(e,p)},ic=(e,n,o,i)=>{const c=Ct.fromDom(e.getBody()),p=Ct.fromDom(e.getDoc());d5(c);const h=b$(Ct.fromDom(o.startContainer),o.startOffset);od(e,p,n,h,i),h.cleanup()},x$=(e,n,o,i)=>{const c=Ct.fromDom(e.getDoc());od(e,c,o,v$(n),i)},Jf=(e,n,o)=>{const i=o.startContainer,c=o.startOffset,p=o.endContainer,h=o.endOffset;n(Ct.fromDom(i),Ct.fromDom(p));const _=e.dom.createRng();_.setStart(i,c),_.setEnd(p,h),e.selection.setRng(o)},cv=(e,n,o,i,c)=>{const p=n.pos,h=30;if(i)R2(p.left,Math.max(0,p.top-h),c);else{const _=p.top-o+n.height+h;R2(-e.getBody().getBoundingClientRect().left,_,c)}},lA=(e,n,o,i,c,p)=>{const h=i+o,_=c.pos.top,S=c.bottom,z=S-_>=i;_<o?cv(e,c,i,p!==!1,n):_>h?cv(e,c,i,z?p!==!1:p===!0,n):S>h&&!z&&cv(e,c,i,p===!0,n)},cA=(e,n,o,i,c)=>{const p=fa(n).dom.innerHeight;lA(e,n,o,p,i,c)},D_=(e,n,o,i,c)=>{const p=fa(n).dom.innerHeight;lA(e,n,o,p,i,c);const h=E_(i.element),_=Ul(window);h.top<_.y?M2(i.element,c!==!1):h.top>_.bottom&&M2(i.element,c===!0)},y$=(e,n,o)=>iA(e,cA,n,o),dA=(e,n,o)=>x$(e,n,cA,o),C$=(e,n,o)=>iA(e,D_,n,o),N_=(e,n,o)=>x$(e,n,D_,o),_$=(e,n,o)=>{(e.inline?dA:N_)(e,n,o)},dv=(e,n,o)=>{(e.inline?y$:C$)(e,n,o)},uA=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),fA=(e,n,o,i,c)=>{const p=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return w.from(p).map(Ct.fromDom).map(_=>!i||!n.collapsed?fc(_,c(_,h)).getOr(_):_).bind(_=>da(_)?w.some(_):si(_).filter(da)).map(_=>_.dom).getOr(e)},R_=(e,n,o=!1)=>fA(e,n,!0,o,(i,c)=>Math.min(za(i),c)),K7=(e,n,o=!1)=>fA(e,n,!1,o,(i,c)=>c>0?c-1:c),M_=(e,n)=>{const o=e;for(;e&&Yn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},I_=(e,n)=>{if(!n)return e;let o=n.startContainer,i=n.endContainer;const c=n.startOffset,p=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===i&&p-c<2&&o.hasChildNodes()&&(h=o.childNodes[c]),Yn(o)&&Yn(i)&&(o.length===c?o=M_(o.nextSibling,!0):o=o.parentNode,p===0?i=M_(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(h=o)));const _=Yn(h)?h.parentNode:h;return uu(_)?_:e},E$=(e,n,o,i)=>{const c=[],p=e.getRoot(),h=e.getParent(o||R_(p,n,n.collapsed),e.isBlock),_=e.getParent(i||K7(p,n,n.collapsed),e.isBlock);if(h&&h!==p&&c.push(h),h&&_&&h!==_){let S;const z=new ja(h,p);for(;(S=z.next())&&S!==_;)e.isBlock(S)&&c.push(S)}return _&&h!==_&&_!==p&&c.push(_),c},xJ=(e,n,o)=>w.from(n).bind(i=>w.from(i.parentNode).map(c=>{const p=e.nodeIndex(i),h=e.createRng();return h.setStart(c,p),h.setEnd(c,p+1),o&&(nv(e,h,i,!0),nv(e,h,i,!1)),h})),pA=(e,n)=>K(n,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),w$={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},uv=(e,n,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==n){let p=e[c];if(p)return p;for(let h=e.parent;h&&h!==n;h=h.parent)if(p=h[c],p)return p}},S$=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!du(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},gA=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Al{static create(n,o){const i=new Al(n,w$[n]||1);return o&&Zt(o,(c,p)=>{i.attr(p,c)}),i}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const i=this;if(!lt(n))return s(n)&&Zt(n,(p,h)=>{i.attr(h,p)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let p=c.length;for(;p--;)if(c[p].name===n)return c.splice(p,1),i}return i}if(n in c.map){let p=c.length;for(;p--;)if(c[p].name===n){c[p].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,i}return c.map[n]}}clone(){const n=this,o=new Al(n.name,n.type),i=n.attributes;if(i){const c=[];c.map={};for(let p=0,h=i.length;p<h;p++){const _=i[p];_.name!=="id"&&(c[c.length]={name:_.name,value:_.value},c.map[_.name]=_.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const i=o.next;n.insert(o,n,!0),o=i}n.remove()}remove(){const n=this,o=n.parent,i=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const i=o.lastChild;return i?(i.next=n,n.prev=i,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,i){n.parent&&n.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,i=[];for(let c=o.firstChild;c;c=uv(c,o))c.name===n&&i.push(c);return i}children(){const n=this,o=[];for(let i=n.firstChild;i;i=i.next)o.push(i);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=uv(c,n))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},i){var c;const p=this;let h=p.firstChild;if(gA(p))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||gA(h))return!1}if(h.type===8||h.type===3&&!S$(h)||h.type===3&&h.parent&&o[h.parent.name]&&du((c=h.value)!==null&&c!==void 0?c:"")||i&&i(h))return!1}while(h=uv(h,p));return!0}walk(n){return uv(this,null,n)}}const yJ=Kn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),T$=e=>lt(e.nodeValue)&&e.nodeValue.includes(ui),B_=e=>`${e.length===0?"":`${K(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,mA=(e,n)=>n.querySelectorAll(B_(e)),hA=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>T$(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),bA=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(T$(n)){const o=n.parentNode;return o&&vn(yJ,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),k$=e=>hA(e).nextNode()!==null,CJ=e=>bA(e).nextNode()!==null,_J=(e,n)=>n.querySelector(B_(e))!==null,EJ=(e,n)=>{R(mA(e,n),o=>{const i=Ct.fromDom(o);Qa(i,"data-mce-bogus")==="all"?kr(i):R(e,c=>{zu(i,c)&&er(i,c)})})},vA=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},wJ=f(vA,hA),A$=f(vA,bA),Pm=(e,n)=>{const o=[{condition:B(_J,n),action:B(EJ,n)},{condition:k$,action:wJ},{condition:CJ,action:A$}];let i=e,c=!1;return R(o,({condition:p,action:h})=>{p(i)&&(c||(i=e.cloneNode(!0),c=!0),h(i))}),i},xA=e=>{const n=Nt(e,"[data-mce-bogus]");R(n,o=>{Qa(o,"data-mce-bogus")==="all"?kr(o):zf(o)?(Ja(o,Ct.fromText(wa)),kr(o)):Fl(o)})},F_=e=>{const n=Nt(e,"input");R(n,o=>{er(o,"name")})},yA=(e,n)=>{const o=Mr(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},CA=(e,n)=>{const o=e.getDoc(),i=ou(Ct.fromDom(e.getBody())),c=Ct.fromTag("div",o);Mo(c,"data-mce-bogus","all"),Ni(c,{position:"fixed",left:"-9999999px",top:"0"}),ei(c,n.innerHTML),xA(c),F_(c);const p=c5(i);Lr(p,c);const h=kc(c.dom.innerText);return kr(c),h},_A=(e,n,o)=>{let i;return n.format==="raw"?i=Kn.trim(kc(Pm(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?i=CA(e,o):n.format==="tree"?i=e.serializer.serialize(o,n):i=yA(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Tc(Ct.fromDom(o))&&lt(i)?Kn.trim(i):i},P_=(e,n)=>w.from(e.getBody()).fold(O(n.format==="tree"?new Al("body",11):""),o=>_A(e,n,o)),O$=Kn.makeMap,EA=e=>{const n=[];e=e||{};const o=e.indent,i=O$(e.indent_before||""),c=O$(e.indent_after||""),p=Lp.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(_,S,z)=>{if(o&&i[_]&&n.length>0){const oe=n[n.length-1];oe.length>0&&oe!==`
`&&n.push(`
`)}if(n.push("<",_),S)for(let oe=0,ve=S.length;oe<ve;oe++){const Te=S[oe];n.push(" ",Te.name,'="',p(Te.value,!0),'"')}if(!z||h?n[n.length]=">":n[n.length]=" />",z&&o&&c[_]&&n.length>0){const oe=n[n.length-1];oe.length>0&&oe!==`
`&&n.push(`
`)}},end:_=>{let S;n.push("</",_,">"),o&&c[_]&&n.length>0&&(S=n[n.length-1],S.length>0&&S!==`
`&&n.push(`
`))},text:(_,S)=>{_.length>0&&(n[n.length]=S?_:p(_))},cdata:_=>{n.push("<![CDATA[",_,"]]>")},comment:_=>{n.push("<!--",_,"-->")},pi:(_,S)=>{S?n.push("<?",_," ",p(S),"?>"):n.push("<?",_,"?>"),o&&n.push(`
`)},doctype:_=>{n.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},O0=(e={},n=oc())=>{const o=EA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const p=e.validate,h={3:S=>{var z;o.text((z=S.value)!==null&&z!==void 0?z:"",S.raw)},8:S=>{var z;o.comment((z=S.value)!==null&&z!==void 0?z:"")},7:S=>{o.pi(S.name,S.value)},10:S=>{var z;o.doctype((z=S.value)!==null&&z!==void 0?z:"")},4:S=>{var z;o.cdata((z=S.value)!==null&&z!==void 0?z:"")},11:S=>{let z=S;if(z=z.firstChild)do _(z);while(z=z.next)}};o.reset();const _=S=>{var z;const oe=h[S.type];if(oe)oe(S);else{const ve=S.name,Te=ve in n.getVoidElements();let $e=S.attributes;if(p&&$e&&$e.length>1){const dt=[];dt.map={};const at=n.getElementRule(S.name);if(at){for(let rt=0,Wt=at.attributesOrder.length;rt<Wt;rt++){const Ft=at.attributesOrder[rt];if(Ft in $e.map){const qt=$e.map[Ft];dt.map[Ft]=qt,dt.push({name:Ft,value:qt})}}for(let rt=0,Wt=$e.length;rt<Wt;rt++){const Ft=$e[rt].name;if(!(Ft in dt.map)){const qt=$e.map[Ft];dt.map[Ft]=qt,dt.push({name:Ft,value:qt})}}$e=dt}}if(o.start(ve,$e,Te),ns(ve))lt(S.value)&&o.text(S.value,!0),o.end(ve);else if(!Te){let dt=S.firstChild;if(dt){(ve==="pre"||ve==="textarea")&&dt.type===3&&((z=dt.value)===null||z===void 0?void 0:z[0])===`
`&&o.text(`
`,!0);do _(dt);while(dt=dt.next)}o.end(ve)}}};return c.type===1&&!e.inner?_(c):c.type===3?h[3](c):h[11](c),o.getContent()}}},wA=new Set;R(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{wA.add(n)});const SA=new Set;R(["background-color"],n=>{SA.add(n)});const j7=["font","text-decoration","text-emphasis"],TA=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),fv=(e,n)=>Rt(TA(e,n)),SJ=e=>wA.has(e),TJ=e=>SA.has(e),kA=(e,n)=>W(fv(e,n),o=>SJ(o)),kJ=(e,n)=>kA(e,n)&&W(fv(e,n),o=>TJ(o)),L$=e=>V(e,n=>W(j7,o=>qo(n,o))),AA=(e,n,o)=>{const i=fv(e,n),c=fv(e,o),p=h=>{var _,S;const z=(_=e.getStyle(n,h))!==null&&_!==void 0?_:"",oe=(S=e.getStyle(o,h))!==null&&S!==void 0?S:"";return bo(z)&&bo(oe)&&z!==oe};return W(i,h=>{const _=S=>W(S,z=>z===h);if(!_(c)&&_(j7)){const S=L$(c);return W(S,p)}else return p(h)})},OA=(e,n,o)=>w.from(o.container()).filter(Yn).exists(i=>{const c=e?0:-1;return n(i.data.charAt(o.offset()+c))}),Z7=B(OA,!0,rg),LA=B(OA,!1,rg),D$=e=>{const n=e.container();return Yn(n)&&(n.data.length===0||um(n.data)&&Bm.isBookmarkNode(n.parentNode))},ug=(e,n)=>o=>Fb(e?0:-1,o).filter(n).isSome(),DA=e=>Bh(e)&&Va(Ct.fromDom(e),"display")==="block",NA=e=>Pr(e)&&!Ky(e),N$=ug(!0,DA),R$=ug(!1,DA),pv=ug(!0,Zc),gv=ug(!1,Zc),RA=ug(!0,pu),$_=ug(!1,pu),$m=ug(!0,NA),Hm=ug(!1,NA),M$=e=>e.slice(0,-1),I$=(e,n,o)=>vl(n,e)?M$(Ql(e,i=>o(i)||Ws(i,n))):[],MA=(e,n)=>I$(e,n,H),fg=(e,n)=>[e].concat(MA(e,n)),yo=(e,n,o)=>Kb(e,n,o,D$),G1=e=>n=>e.isBlock(Fs(n)),B$=(e,n,o)=>we(fg(Ct.fromDom(n.container()),e),G1(o)),IA=(e,n,o,i)=>yo(e,n.dom,o).forall(c=>B$(n,o,i).fold(()=>!Id(c,o,n.dom),p=>!Id(c,o,n.dom)&&vl(p,Ct.fromDom(c.container())))),G7=(e,n,o,i)=>B$(n,o,i).fold(()=>yo(e,n.dom,o).forall(c=>!Id(c,o,n.dom)),c=>yo(e,c.dom,o).isNone()),q7=B(G7,!1),H_=B(G7,!0),z_=B(IA,!1),F$=B(IA,!0),BA=e=>H1(e).exists(zf),Y7=(e,n,o,i)=>{const c=V(fg(Ct.fromDom(o.container()),n),h=>i.isBlock(Fs(h))),p=Fe(c).getOr(n);return ed(e,p.dom,o).filter(BA)},U_=(e,n,o)=>H1(n).exists(zf)||Y7(!0,e,n,o).isSome(),X7=(e,n,o)=>Hb(n).exists(zf)||Y7(!1,e,n,o).isSome(),FA=B(Y7,!1),P$=B(Y7,!0),mv=e=>hn.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),PA=(e,n,o)=>{const i=V(fg(Ct.fromDom(n.container()),e),c=>o.isBlock(Fs(c)));return Fe(i).getOr(e)},$A=(e,n,o)=>mv(n)?LA(n):LA(n)||kl(PA(e,n,o).dom,n).exists(LA),HA=(e,n,o)=>mv(n)?Z7(n):Z7(n)||cl(PA(e,n,o).dom,n).exists(Z7),$$=e=>M(["pre","pre-wrap"],e),V_=e=>H1(e).bind(n=>_d(n,da)).exists(n=>$$(Va(n,"white-space"))),zA=(e,n)=>kl(e.dom,n).isNone(),J7=(e,n)=>cl(e.dom,n).isNone(),H$=(e,n,o)=>zA(e,n)||J7(e,n)||q7(e,n,o)||H_(e,n,o)||X7(e,n,o)||U_(e,n,o),z$=e=>s(e)&&Pr(e)&&Su(e),UA=(e,n)=>o=>z$(new ja(o,e)[n]()),U$=(e,n)=>{const o=cl(e.dom,n).getOr(n),i=UA(e.dom,"next");return n.isAtEnd()&&(i(n.container())||i(o.container()))},V$=(e,n)=>{const o=kl(e.dom,n).getOr(n),i=UA(e.dom,"prev");return n.isAtStart()&&(i(n.container())||i(o.container()))},VA=(e,n,o)=>V_(n)?!1:H$(e,n,o)||$A(e,n,o)||HA(e,n,o),hv=(e,n,o)=>V_(n)?!1:q7(e,n,o)||z_(e,n,o)||X7(e,n,o)||$A(e,n,o)||V$(e,n),W$=e=>{const n=e.container(),o=e.offset();return Yn(n)&&o<n.data.length?hn(n,o+1):e},bv=(e,n,o)=>V_(n)?!1:H_(e,n,o)||F$(e,n,o)||U_(e,n,o)||HA(e,n,o)||U$(e,n),W_=(e,n,o)=>hv(e,n,o)||bv(e,W$(n),o),WA=(e,n)=>B3(e.charAt(n)),KA=(e,n)=>rg(e.charAt(n)),K$=e=>{const n=e.container();return Yn(n)&&bs(n.data,Qs)},j$=e=>{const n=e.split("");return K(n,(o,i)=>B3(o)&&i>0&&i<n.length-1&&Yb(n[i-1])&&Yb(n[i+1])?" ":o).join("")},K_=(e,n,o,i)=>{const c=n.data,p=hn(n,0);return!o&&WA(c,0)&&!W_(e,p,i)?(n.data=" "+c.slice(1),!0):o&&KA(c,0)&&hv(e,p,i)?(n.data=Qs+c.slice(1),!0):!1},Z$=e=>{const n=e.data,o=j$(n);return o!==n?(e.data=o,!0):!1},jA=(e,n,o,i)=>{const c=n.data,p=hn(n,c.length-1);return!o&&WA(c,c.length-1)&&!W_(e,p,i)?(n.data=c.slice(0,-1)+" ",!0):o&&KA(c,c.length-1)&&bv(e,p,i)?(n.data=c.slice(0,-1)+Qs,!0):!1},Q7=(e,n,o)=>{const i=n.container();if(!Yn(i))return w.none();if(K$(n)){const c=K_(e,i,!1,o)||Z$(i)||jA(e,i,!1,o);return Xt(c,n)}else if(W_(e,n,o)){const c=K_(e,i,!0,o)||jA(e,i,!0,o);return Xt(c,n)}else return w.none()},L0=e=>{const n=Ct.fromDom(e.getBody());e.selection.isCollapsed()&&Q7(n,hn.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},vv=(e,n,o,i)=>{if(o===0)return;const c=Ct.fromDom(e),p=Mi(c,z=>i.isBlock(Fs(z))).getOr(c),h=e.data.slice(n,n+o),_=n+o>=e.data.length&&bv(p,hn(e,e.data.length),i),S=n===0&&hv(p,hn(e,0),i);e.replaceData(n,o,n8(h,4,S,_))},ex=(e,n,o)=>{const i=e.data.slice(n),c=i.length-Vs(i).length;vv(e,n,c,o)},j_=(e,n,o)=>{const i=e.data.slice(0,n),c=i.length-go(i).length;vv(e,n-c,c,o)},Z_=(e,n,o,i,c=!0)=>{const p=go(e.data).length,h=c?e:n,_=c?n:e;return c?h.appendData(_.data):h.insertData(0,_.data),kr(Ct.fromDom(_)),i&&ex(h,p,o),h},G$=(e,n)=>{const o=e.container(),i=e.offset();return!hn.isTextPosition(e)&&o===n.parentNode&&i>hn.before(n).offset()},ZA=(e,n)=>G$(n,e)?hn(n.container(),n.offset()-1):n,q$=e=>Yn(e)?hn(e,0):hn.before(e),Y$=e=>Yn(e)?hn(e,e.data.length):hn.after(e),G_=e=>jr(e.previousSibling)?w.some(Y$(e.previousSibling)):e.previousSibling?Pd(e.previousSibling):w.none(),GA=e=>jr(e.nextSibling)?w.some(q$(e.nextSibling)):e.nextSibling?Bi(e.nextSibling):w.none(),qA=(e,n)=>w.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>kl(e,hn.before(o))).orThunk(()=>cl(e,hn.after(n))),X$=(e,n)=>cl(e,hn.after(n)).orThunk(()=>kl(e,hn.before(n))),J$=(e,n)=>G_(n).orThunk(()=>GA(n)).orThunk(()=>qA(e,n)),Q$=(e,n)=>GA(n).orThunk(()=>G_(n)).orThunk(()=>X$(e,n)),YA=(e,n,o)=>e?Q$(n,o):J$(n,o),q_=(e,n,o)=>YA(e,n,o).map(B(ZA,o)),Y_=(e,n,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),n)})},eH=e=>n=>n.dom===e,tH=(e,n)=>n&&vn(e.schema.getBlockElements(),Fs(n)),tx=(e,n,o)=>{if(li(e,n)){const i=Ct.fromHtml('<br data-mce-bogus="1">');return o?R(hr(n),c=>{os(c)||kr(c)}):Ps(n),Lr(n,i),w.some(hn.before(i.dom))}else return w.none()},nH=(e,n,o,i)=>{const c=Js(e).filter(Ha),p=xd(e).filter(Ha);return kr(e),Bt(c,p,n,(h,_,S)=>{const z=h.dom,oe=_.dom,ve=z.data.length;return Z_(z,oe,o,i),S.container()===oe?hn(z,ve):S}).orThunk(()=>(i&&(c.each(h=>j_(h.dom,h.dom.length,o)),p.each(h=>ex(h.dom,0,o))),n))},XA=(e,n)=>vn(e.schema.getTextInlineElements(),Fs(n)),q1=(e,n,o,i=!0,c=!1)=>{const p=q_(n,e.getBody(),o.dom),h=Mi(o,B(tH,e),eH(e.getBody())),_=nH(o,p,e.schema,XA(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(S=>tx(e.schema,S,c)).fold(()=>{i&&Y_(e,n,_)},S=>{i&&Y_(e,n,w.some(S))})},JA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,oH=e=>JA.test(e),D0=(e,n)=>Ml(Ct.fromDom(n),K8(e))&&!ju(e.schema,n)&&e.dom.isEditable(n),xv=e=>{var n;return Ar.DOM.getStyle(e,"direction",!0)==="rtl"||oH((n=e.textContent)!==null&&n!==void 0?n:"")},QA=(e,n,o)=>V(Ar.DOM.getParents(o.container(),"*",n),e),pg=(e,n,o)=>{const i=QA(e,n,o);return w.from(i[i.length-1])},eO=(e,n,o)=>{const i=Zf(n,e),c=Zf(o,e);return s(i)&&i===c},tO=e=>fm(e)||o3(e),zd=(e,n)=>{const o=n.container(),i=n.offset();return e?yu(o)?Yn(o.nextSibling)?hn(o.nextSibling,0):hn.after(o):fm(n)?hn(o,i+1):n:yu(o)?Yn(o.previousSibling)?hn(o.previousSibling,o.previousSibling.data.length):hn.before(o):o3(n)?hn(o,i-1):n},X_=B(zd,!0),J_=B(zd,!1),Q_=(e,n)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},nO=e=>{e.execCommand("delete")},yv=e=>Q_(e,"Delete"),oO=e=>Q_(e,"ForwardDelete"),sH=e=>n=>kt(si(n),e,Ws),rH=e=>e3(e)||Ip(e),nx=(e,n)=>vl(e,n)?_d(n,rH,sH(e)):w.none(),eE=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},sO=(e,n,o)=>Tt(Bi(o),Pd(o),(i,c)=>{const p=zd(!0,i),h=zd(!1,c),_=zd(!1,n);return e?cl(o,_).exists(S=>S.isEqual(h)&&n.isEqual(p)):kl(o,_).exists(S=>S.isEqual(p)&&n.isEqual(h))}).getOr(!0),rO=e=>(Ra(e)?Js(e):Xa(e)).bind(rO).orThunk(()=>w.some(e)),aO=(e,n,o,i=!0)=>{var c;n.deleteContents();const p=rO(o).getOr(o),h=Ct.fromDom((c=e.dom.getParent(p.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(h.dom===e.getBody()?eE(e,i):li(e.schema,h,{checkRootAsContent:!1})&&(L1(h),i&&e.selection.setCursorLocation(h.dom,0)),!Ws(o,h)){const _=kt(si(h),o)?[]:yl(h);R(_.concat(hr(o)),S=>{!Ws(S,h)&&!vl(S,h)&&li(e.schema,S)&&kr(S)})}},aH=e=>n=>Ws(e,n),tE=e=>Nt(e,"td,th"),nE=(e,n)=>ag(Ct.fromDom(e),n),AJ=e=>Tt(e.startTable,e.endTable,(n,o)=>{const i=Fo(n,p=>Ws(p,o)),c=Fo(o,p=>Ws(p,n));return!i&&!c?e:{...e,startTable:i?w.none():e.startTable,endTable:c?w.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),OJ=e=>AJ(e),iH=(e,n)=>{const o=nE(e.startContainer,n),i=nE(e.endContainer,n),c=o.isSome(),p=i.isSome(),h=Tt(o,i,Ws).getOr(!1);return OJ({startTable:o,endTable:i,isStartInTable:c,isEndInTable:p,isSameTable:h,isMultiTable:!h&&c&&p})},iO=(e,n)=>({start:e,end:n}),lH=(e,n,o)=>({rng:e,table:n,cells:o}),ki=Xo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ox=(e,n)=>$l(Ct.fromDom(e),"td,th",n),cH=e=>!Ws(e.start,e.end),lO=(e,n)=>ag(e.start,n).bind(o=>ag(e.end,n).bind(i=>Xt(Ws(o,i),o))),dH=(e,n)=>!cH(e)&&lO(e,n).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),sd=(e,n)=>{const o=ox(e.startContainer,n),i=ox(e.endContainer,n);return Tt(o,i,iO)},LJ=e=>n=>ag(n,e).bind(o=>Ye(tE(o)).map(i=>iO(n,i))),uH=e=>n=>ag(n,e).bind(o=>Fe(tE(o)).map(i=>iO(i,n))),cO=e=>n=>lO(n,e).map(o=>lH(n,o,tE(o))),dO=(e,n,o,i)=>{if(o.collapsed||!e.forall(cH))return w.none();if(n.isSameTable){const c=e.bind(cO(i));return w.some({start:c,end:c})}else{const c=ox(o.startContainer,i),p=ox(o.endContainer,i),h=c.bind(LJ(i)).bind(cO(i)),_=p.bind(uH(i)).bind(cO(i));return w.some({start:h,end:_})}},uO=(e,n)=>Ne(e,o=>Ws(o,n)),fO=e=>Tt(uO(e.cells,e.rng.start),uO(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),fH=(e,n,o)=>e.exists(i=>dH(i,o)&&P3(i.start,n)),Nc=(e,n)=>{const{startTable:o,endTable:i}=n,c=e.cloneRange();return o.each(p=>c.setStartAfter(p.dom)),i.each(p=>c.setEndBefore(p.dom)),c},pO=(e,n,o,i)=>dO(e,n,o,i).bind(({start:c,end:p})=>c.or(p)).bind(c=>{const{isSameTable:p}=n,h=fO(c).getOr([]);if(p&&c.cells.length===h.length)return w.some(ki.fullTable(c.table));if(h.length>0){if(p)return w.some(ki.partialTable(h,w.none()));{const _=Nc(o,n);return w.some(ki.partialTable(h,w.some({...n,rng:_})))}}else return w.none()}),gO=(e,n,o,i)=>dO(e,n,o,i).bind(({start:c,end:p})=>{const h=c.bind(fO).getOr([]),_=p.bind(fO).getOr([]);if(h.length>0&&_.length>0){const S=Nc(o,n);return w.some(ki.multiTable(h,_,S))}else return w.none()}),pH=(e,n)=>{const o=aH(e),i=sd(n,o),c=iH(n,o);return fH(i,n,o)?i.map(p=>ki.singleCellTable(n,p.start)):c.isMultiTable?gO(i,c,n,o):pO(i,c,n,o)},mO=e=>R(e,n=>{er(n,"contenteditable"),L1(n)}),hO=(e,n)=>w.from(e.dom.getParent(n,e.dom.isBlock)).map(Ct.fromDom),bO=(e,n,o)=>{o.each(i=>{n?kr(i):(L1(i),e.selection.setCursorLocation(i.dom,0))})},oE=(e,n,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),sx(e,c,n,!1).each(p=>p())},vO=e=>{const n=U1(e),o=Ct.fromDom(e.selection.getNode());Ph(o.dom)&&li(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&W(n,i=>Ws(i,o))&&Mo(o,"data-mce-selected","1")},xO=(e,n,o)=>w.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:p,isStartInTable:h})=>{const _=hO(e,h?p.endContainer:p.startContainer);p.deleteContents(),bO(e,h,_.filter(B(li,e.schema)));const S=h?n[0]:n[n.length-1];return oE(e,S,i,h),li(e.schema,S)?w.none():w.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);mO(c),vO(e)}),gH=(e,n,o,i)=>w.some(()=>{const c=e.selection.getRng(),p=n[0],h=o[o.length-1];oE(e,p,c,!0),oE(e,h,c,!1);const _=li(e.schema,p)?n:n.slice(1),S=li(e.schema,h)?o:o.slice(0,-1);mO(_.concat(S)),i.deleteContents(),vO(e)}),sx=(e,n,o,i=!0)=>w.some(()=>{aO(e,n,o,i)}),mH=(e,n)=>w.some(()=>q1(e,!1,n)),yO=(e,n,o)=>pH(n,o).bind(i=>i.fold(B(sx,e),B(mH,e),B(xO,e),B(gH,e))),hH=(e,n)=>sr(e,n),DJ=(e,n,o,i)=>_O(n,i).fold(()=>yO(e,n,o),c=>hH(e,c)),bH=(e,n,o)=>{const i=Ct.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?xO(e,o,w.none()):DJ(e,i,c,n)},CO=(e,n)=>we(fg(n,e),_i),_O=(e,n)=>we(fg(n,e),nu("caption")),vH=(e,n,o,i,c)=>Tu(o,e.getBody(),c).bind(p=>CO(n,Ct.fromDom(p.getNode())).bind(h=>Ws(h,i)?w.none():w.some(a))),sr=(e,n)=>w.some(()=>{L1(n),e.selection.setCursorLocation(n.dom,0)}),Cv=(e,n,o,i)=>Bi(e.dom).bind(c=>Pd(e.dom).map(p=>n?o.isEqual(c)&&i.isEqual(p):o.isEqual(p)&&i.isEqual(c))).getOr(!0),gg=(e,n)=>sr(e,n),N0=(e,n,o)=>_O(e,Ct.fromDom(o.getNode())).fold(()=>w.some(a),i=>Xt(!Ws(i,n),a)),rx=(e,n,o,i,c)=>Tu(o,e.getBody(),c).fold(()=>w.some(a),p=>Cv(i,o,c,p)?gg(e,i):N0(n,i,p)),sE=(e,n,o,i)=>{const c=hn.fromRangeStart(e.selection.getRng());return CO(o,i).bind(p=>li(e.schema,p,{checkRootAsContent:!1})?sr(e,p):vH(e,o,n,p,c))},rE=(e,n,o,i)=>{const c=hn.fromRangeStart(e.selection.getRng());return li(e.schema,i)?sr(e,i):rx(e,o,n,i,c)},aE=(e,n)=>e?RA(n):$_(n),xH=(e,n)=>{const o=hn.fromRangeStart(e.selection.getRng());return aE(n,o)||ed(n,e.getBody(),o).exists(i=>aE(n,i))},EO=(e,n,o)=>{const i=Ct.fromDom(e.getBody());return _O(i,o).fold(()=>sE(e,n,i,o).orThunk(()=>Xt(xH(e,n),a)),c=>rE(e,n,i,c))},ax=(e,n)=>{const o=Ct.fromDom(e.selection.getStart(!0)),i=U1(e);return e.selection.isCollapsed()&&i.length===0?EO(e,n,o):bH(e,o,i)},R0=(e,n)=>{let o=n;for(;o&&o!==e;){if(ni(o)||Pr(o))return o;o=o.parentNode}return null},yH=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],CH=Kn.each,iE=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(p,h)=>{if(p.nodeName!==h.nodeName||p.nodeType!==h.nodeType)return!1;const _=z=>{const oe={};return CH(n.getAttribs(z),ve=>{const Te=ve.nodeName.toLowerCase();Te!=="style"&&!c(Te)&&(oe[Te]=n.getAttrib(z,Te))}),oe},S=(z,oe)=>{for(const ve in z)if(vn(z,ve)){const Te=oe[ve];if(ks(Te)||z[ve]!==Te)return!1;delete oe[ve]}for(const ve in oe)if(vn(oe,ve))return!1;return!0};return Vo(p)&&Vo(h)&&(!S(_(p),_(h))||!S(n.parseStyle(n.getAttrib(p,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!td(p)&&!td(h)},c=p=>W(yH,h=>qo(p,h))||o.has(p);return{compare:i,isAttributeInternal:c}},wO=(e,n)=>{if(Yn(e))return{container:e,offset:n};const o=Z1.getNode(e,n);return Yn(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&Yn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&Yn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},_H=e=>{const n=e.cloneRange(),o=wO(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const i=wO(e.endContainer,e.endOffset);return n.setEnd(i.container,i.offset),n},U3=Ar.DOM,SO=e=>{const n={},o=i=>{let c=e[i?"startContainer":"endContainer"],p=e[i?"startOffset":"endOffset"];if(Vo(c)){const h=U3.create("span",{"data-mce-type":"bookmark"});c.hasChildNodes()?p===c.childNodes.length?c.appendChild(h):c.insertBefore(h,c.childNodes[p]):c.appendChild(h),c=h,p=0}n[i?"startContainer":"endContainer"]=c,n[i?"startOffset":"endOffset"]=p};return o(!0),e.collapsed||o(),n},NJ=e=>{const n=i=>{const c=_=>{var S;let z=(S=_.parentNode)===null||S===void 0?void 0:S.firstChild,oe=0;for(;z;){if(z===_)return oe;(!Vo(z)||z.getAttribute("data-mce-type")!=="bookmark")&&oe++,z=z.nextSibling}return-1};let p=e[i?"startContainer":"endContainer"],h=e[i?"startOffset":"endOffset"];if(p){if(Vo(p)&&p.parentNode){const _=p;h=c(p),p=p.parentNode,U3.remove(_),!p.hasChildNodes()&&U3.isBlock(p)&&p.appendChild(U3.create("br"))}e[i?"startContainer":"endContainer"]=p,e[i?"startOffset":"endOffset"]=h}};n(!0),n();const o=U3.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),_H(o)},EH=(e,n,o,i)=>{if(Kn.each(o.styles,(c,p)=>{e.setStyle(n,p,V1(c,i))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},_v=(e,n,o,i,c)=>{const p=e.dom;b(o.onformat)&&o.onformat(n,o,i,c),EH(p,n,o,i),Kn.each(o.attributes,(h,_)=>{p.setAttrib(n,_,V1(h,i))}),Kn.each(o.classes,h=>{const _=V1(h,i);p.hasClass(n,_)||p.addClass(n,_)})},wH=e=>!_o(e.attributes)&&!_o(e.styles),TO=u,SH=(e,n,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const p=i[c];if(Sn(p)&&p.inherit===!1&&e.dom.is(n,p.selector))return!0}return!1},lE=(e,n,o,i,c)=>{const p=e.dom.getRoot();if(n===p)return!1;const h=e.dom.getParent(n,_=>SH(e,_,o)?!0:_.parentNode===p||!!Ou(e,_,o,i,!0));return!!Ou(e,h,o,i,c)},ix=(e,n,o)=>no(o)&&TO(n,o.inline)||ut(o)&&TO(n,o.block)?!0:Sn(o)?Vo(n)&&e.is(n,o.selector):!1,TH=(e,n,o,i,c,p)=>{const h=o[i],_=i==="attributes";if(b(o.onmatch))return o.onmatch(n,o,i);if(h){if(Pt(h)){for(let S=0;S<h.length;S++)if(_?e.getAttrib(n,h[S]):C(e,n,h[S]))return!0}else for(const S in h)if(vn(h,S)){const z=_?e.getAttrib(n,S):C(e,n,S),oe=V1(h[S],p),ve=Qo(z)||io(z);if(ve&&Qo(oe))continue;if(c&&ve&&!o.exact||(!c||o.exact)&&!TO(z,m(oe,S)))return!1}}return!0},Ou=(e,n,o,i,c)=>{const p=e.formatter.get(o),h=e.dom;if(p&&Vo(n))for(let _=0;_<p.length;_++){const S=p[_];if(ix(e.dom,n,S)&&TH(h,n,S,"attributes",c,i)&&TH(h,n,S,"styles",c,i)){const z=S.classes;if(z){for(let oe=0;oe<z.length;oe++)if(!e.dom.hasClass(n,V1(z[oe],i)))return}return S}}},jl=(e,n,o,i,c)=>{if(i)return lE(e,i,n,o,c);if(i=e.selection.getNode(),lE(e,i,n,o,c))return!0;const p=e.selection.getStart();return!!(p!==i&&lE(e,p,n,o,c))},RJ=(e,n,o)=>{const i=[],c={},p=e.selection.getStart();return e.dom.getParent(p,h=>{for(let _=0;_<n.length;_++){const S=n[_];!c[S]&&Ou(e,h,S,o)&&(c[S]=!0,i.push(S))}},e.dom.getRoot()),i},kH=(e,n)=>{const o=c=>Ws(c,Ct.fromDom(e.getBody())),i=(c,p)=>Ou(e,c.dom,p)?w.some(p):w.none();return w.from(e.selection.getStart(!0)).bind(c=>ma(Ct.fromDom(c),p=>ft(n,h=>i(p,h)),o)).getOrNull()},kO=(e,n)=>{const o=e.formatter.get(n),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),p=Q(i,c);for(let h=o.length-1;h>=0;h--){const _=o[h];if(!Sn(_))return!0;for(let S=p.length-1;S>=0;S--)if(i.is(p[S],_.selector))return!0}}return!1},MJ=(e,n,o)=>Le(o,(i,c)=>{const p=De(e,c);return e.formatter.matchNode(n,c,{},p)?i.concat([c]):i},[]),Ev=ui,AH=(e,n)=>e.importNode(n,!0),AO=e=>{if(e){const n=new ja(e,e);for(let o=n.current();o;o=n.next())if(Yn(o))return o}return null},wv=e=>{const n=Ct.fromTag("span");return ka(n,{id:jb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Lr(n,Ct.fromText(Ev)),n},IJ=e=>{const n=AO(e);return n&&n.data.charAt(0)===Ev&&n.deleteData(0,1),n},cE=(e,n,o)=>{const i=e.dom,c=e.selection;if(In(n))q1(e,!1,Ct.fromDom(n),o,!0);else{const p=c.getRng(),h=i.getParent(n,i.isBlock),_=p.startContainer,S=p.startOffset,z=p.endContainer,oe=p.endOffset,ve=IJ(n);i.remove(n,!0),_===ve&&S>0&&p.setStart(ve,S-1),z===ve&&oe>0&&p.setEnd(ve,oe-1),h&&i.isEmpty(h)&&L1(Ct.fromDom(h)),c.setRng(p)}},dE=(e,n,o)=>{const i=e.dom,c=e.selection;if(n)cE(e,n,o);else if(n=of(e.getBody(),c.getStart()),!n)for(;n=i.get(jb);)cE(e,n,o)},Hr=(e,n,o)=>{var i,c;const p=e.dom,h=p.getParent(o,B(av,e.schema));h&&p.isEmpty(h)?(i=o.parentNode)===null||i===void 0||i.replaceChild(n,o):(t3(Ct.fromDom(o)),p.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):p.insertAfter(n,o))},OO=(e,n)=>(e.appendChild(n),n),LO=(e,n)=>{var o;const i=ae(e,(p,h)=>OO(p,h.cloneNode(!1)),n),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return OO(i,c.createTextNode(Ev))},Sv=(e,n,o,i,c,p)=>{const h=e.formatter,_=e.dom,S=V(Rt(h.get()),ve=>ve!==i&&!bs(ve,"removeformat")),z=MJ(e,o,S);if(V(z,ve=>!Xe(e,ve,i)).length>0){const ve=o.cloneNode(!1);return _.add(n,ve),h.remove(i,c,ve,p),_.remove(ve),w.some(ve)}else return w.none()},uE=e=>mc(e,pr(e).replace(new RegExp(`${Qs}$`)," ")),DO=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Js(Ct.fromDom(n)).each(i=>{Ha(i)?uE(i):Vr(i,c=>Ha(c)).each(c=>{Ha(c)&&uE(c)})})};e.once("input",i=>{i.data&&!rg(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},OH=(e,n,o)=>{let i;const c=e.selection,p=e.formatter.get(n);if(!p)return;const h=c.getRng();let _=h.startOffset;const z=h.startContainer.nodeValue;i=of(e.getBody(),c.getStart());const oe=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(z&&_>0&&_<z.length&&oe.test(z.charAt(_))&&oe.test(z.charAt(_-1))){const ve=c.getBookmark();h.collapse(!0);let Te=Dc(e.dom,h,p);Te=nd(Te),e.formatter.apply(n,o,Te),c.moveToBookmark(ve)}else{let ve=i?AO(i):null;(!i||(ve==null?void 0:ve.data)!==Ev)&&(i=AH(e.getDoc(),wv(!0).dom),ve=i.firstChild,h.insertNode(i),_=1,DO(e,i)),e.formatter.apply(n,o,i),c.setCursorLocation(ve,_)}},LH=(e,n,o,i)=>{const c=e.dom,p=e.selection;let h=!1;const _=e.formatter.get(n);if(!_)return;const S=p.getRng(),z=S.startContainer,oe=S.startOffset;let ve=z;Yn(z)&&(oe!==z.data.length&&(h=!0),ve=ve.parentNode);const Te=[];let $e;for(;ve;){if(Ou(e,ve,n,o,i)){$e=ve;break}ve.nextSibling&&(h=!0),Te.push(ve),ve=ve.parentNode}if($e)if(h){const dt=p.getBookmark();S.collapse(!0);let at=Dc(c,S,_,{includeTrailingSpace:!0});at=nd(at),e.formatter.remove(n,o,at,i),p.moveToBookmark(dt)}else{const dt=of(e.getBody(),$e),at=s(dt)?c.getParents($e.parentNode,ee,dt):[],rt=wv(!1).dom;Hr(e,rt,dt??$e);const Wt=Sv(e,rt,$e,n,o,i),Ft=LO([...Te,...Wt.toArray(),...at],rt);dt&&cE(e,dt,s(dt)),p.setCursorLocation(Ft,1),DO(e,rt),c.isEmpty($e)&&c.remove($e)}},NO=(e,n,o)=>{const i=e.selection,c=e.getBody();dE(e,null,o),(n===8||n===46)&&i.isCollapsed()&&i.getStart().innerHTML===Ev&&dE(e,of(c,i.getStart()),!0),(n===37||n===39)&&dE(e,of(c,i.getStart()),!0)},DH=e=>Yn(e)&&Do(e.data,Qs),BJ=e=>{e.on("mouseup keydown",n=>{NO(e,n.keyCode,DH(e.selection.getRng().endContainer))})},NH=e=>{const n=wv(!1),o=LO(e,n.dom);return{caretContainer:n,caretPosition:hn(o,0)}},RO=(e,n)=>{const{caretContainer:o,caretPosition:i}=NH(n);return Ja(Ct.fromDom(e),o),kr(Ct.fromDom(e)),i},RH=(e,n)=>{const{caretContainer:o,caretPosition:i}=NH(n);return e.insertNode(o.dom),i},MO=(e,n)=>{if(Gi(n.dom))return!1;const o=e.schema.getTextInlineElements();return vn(o,Fs(n))&&!Gi(n.dom)&&!Tp(n.dom)},IO=["fontWeight","fontStyle","color","fontSize","fontFamily"],BO=e=>qn(e.styles)&&W(Rt(e.styles),n=>M(IO,n)),MH=e=>we(e,n=>no(n)&&n.inline==="span"&&BO(n)),Ys=(e,n)=>{const o=e.get(n);return _o(o)?MH(o):w.none()},fE=(e,n)=>kl(n,hn.fromRangeStart(e)).isNone(),V3=(e,n)=>cl(n,hn.fromRangeEnd(e)).exists(o=>!Jr(o.getNode())||cl(n,o).isSome())===!1,W3=e=>n=>r8(n)&&e.isEditable(n),Tv=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return fE(o,n[0])&&V3(o,n[0])?n:[];{const i=Fe(n).filter(h=>fE(o,h)).toArray(),c=Ye(n).filter(h=>V3(o,h)).toArray(),p=n.slice(1,-1);return i.concat(p).concat(c)}},kv=e=>V(Tv(e),W3(e.dom)),pE=e=>V(e.getSelectedBlocks(),W3(e.dom)),FO=Kn.each,PO=e=>Vo(e)&&!td(e)&&!Gi(e)&&!Tp(e),IH=(e,n)=>{for(let o=e;o;o=o[n]){if(Yn(o)&&bo(o.data))return e;if(Vo(o)&&!td(o))return o}return e},BH=(e,n,o)=>{const i=iE(e),c=uu(n)&&e.dom.isEditable(n),p=uu(o)&&e.dom.isEditable(o);if(c&&p){const h=IH(n,"previousSibling"),_=IH(o,"nextSibling");if(i.compare(h,_)){for(let S=h.nextSibling;S&&S!==_;){const z=S;S=S.nextSibling,h.appendChild(z)}return e.dom.remove(_),Kn.each(Kn.grep(_.childNodes),S=>{h.appendChild(S)}),h}}return o},$O=(e,n,o,i)=>{var c;if(i&&n.merge_siblings!==!1){const p=(c=BH(e,D7(i),i))!==null&&c!==void 0?c:i;BH(e,p,D7(p,!0))}},FJ=(e,n,o)=>{if(n.clear_child_styles){const i=n.links?"*:not(a)":"*";FO(e.select(i,o),c=>{PO(c)&&e.isEditable(c)&&FO(n.styles,(p,h)=>{e.setStyle(c,h,"")})})}},gE=(e,n,o)=>{FO(e.childNodes,i=>{PO(i)&&(n(i)&&o(i),i.hasChildNodes()&&gE(i,n,o))})},FH=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},PH=(e,n)=>o=>!!(o&&C(e,o,n)),HO=(e,n,o)=>i=>{e.setStyle(i,n,o),i.getAttribute("style")===""&&i.removeAttribute("style"),FH(e,i)},wr=Xo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),PJ=/^(src|href|style)$/,zO=Kn.each,lx=u,Av=e=>/^(TR|TH|TD)$/.test(e.nodeName),UO=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),VO=(e,n,o)=>{let i=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Vo(i)){const p=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>p?p:c]}return Yn(i)&&o&&c>=i.data.length&&(i=new ja(i,e.getBody()).next()||i),Yn(i)&&!o&&c===0&&(i=new ja(i,e.getBody()).prev()||i),i},Y1=(e,n)=>{const o=n?"firstChild":"lastChild",i=e[o];return Av(e)&&i?e.nodeName==="TR"&&i[o]||i:e},mr=(e,n,o,i)=>{var c;const p=e.create(o,i);return(c=n.parentNode)===null||c===void 0||c.insertBefore(p,n),p.appendChild(n),p},hi=(e,n,o,i,c)=>{const p=Ct.fromDom(n),h=Ct.fromDom(e.create(i,c)),_=o?ri(p):Uc(p);return Bl(h,_),o?(Ja(p,h),su(h,p)):(yd(p,h),Lr(h,p)),h.dom},X1=(e,n)=>n.links&&e.nodeName==="A",WO=(e,n,o)=>{const i=n.parentNode;let c;const p=e.dom,h=Mr(e);ut(o)&&i===p.getRoot()&&(!o.list_block||!lx(n,o.list_block))&&R(xt(n.childNodes),_=>{Im(e,h,_.nodeName.toLowerCase())?c?c.appendChild(_):(c=mr(p,_,h),p.setAttribs(c,Oc(e))):c=null}),!(xo(o)&&!lx(o.inline,n))&&p.remove(n,!0)},KO=(e,n,o)=>$(e)?{name:n,value:null}:{name:e,value:V1(n,o)},jO=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},ZO=(e,n,o,i,c)=>{let p=!1;zO(o.styles,(h,_)=>{const{name:S,value:z}=KO(_,h,i),oe=m(z,S);(o.remove_similar||ht(z)||!Vo(c)||lx(C(e,c,S),oe))&&e.setStyle(n,S,""),p=!0}),p&&jO(e,n)},GO=(e,n,o)=>{n==="removeformat"?R(pE(e.selection),i=>{R(IO,c=>e.dom.setStyle(i,c,"")),jO(e.dom,i)}):Ys(e.formatter,n).each(i=>{R(pE(e.selection),c=>ZO(e.dom,c,i,o,null))})},M0=(e,n,o,i,c)=>{const p=e.dom,h=iE(e),_=e.schema;if(no(n)&&ci(_,n.inline)&&ju(_,i)&&i.parentElement===e.getBody())return WO(e,i,n),wr.removed();if(!n.ceFalseOverride&&i&&p.getContentEditableParent(i)==="false"||i&&!ix(p,i,n)&&!X1(i,n))return wr.keep();const S=i,z=n.preserve_attributes;if(no(n)&&n.remove==="all"&&_o(z)){const oe=V(p.getAttribs(S),ve=>M(z,ve.name.toLowerCase()));if(p.removeAllAttribs(S),R(oe,ve=>p.setAttrib(S,ve.name,ve.value)),oe.length>0)return wr.rename("span")}if(n.remove!=="all"){ZO(p,S,n,o,c),zO(n.attributes,(ve,Te)=>{const{name:$e,value:dt}=KO(Te,ve,o);if(n.remove_similar||ht(dt)||!Vo(c)||lx(p.getAttrib(c,$e),dt)){if($e==="class"){const at=p.getAttrib(S,$e);if(at){let rt="";if(R(at.split(/\s+/),Wt=>{/mce\-\w+/.test(Wt)&&(rt+=(rt?" ":"")+Wt)}),rt){p.setAttrib(S,$e,rt);return}}}if(PJ.test($e)&&S.removeAttribute("data-mce-"+$e),$e==="style"&&fu(["li"])(S)&&p.getStyle(S,"list-style-type")==="none"){S.removeAttribute($e),p.setStyle(S,"list-style-type","none");return}$e==="class"&&S.removeAttribute("className"),S.removeAttribute($e)}}),zO(n.classes,ve=>{ve=V1(ve,o),(!Vo(c)||p.hasClass(c,ve))&&p.removeClass(S,ve)});const oe=p.getAttribs(S);for(let ve=0;ve<oe.length;ve++){const Te=oe[ve].nodeName;if(!h.isAttributeInternal(Te))return wr.keep()}}return n.remove!=="none"?(WO(e,S,n),wr.removed()):wr.keep()},qO=(e,n,o,i,c)=>{let p;return n.parentNode&&R(Q(e.dom,n.parentNode).reverse(),h=>{if(!p&&Vo(h)&&h.id!=="_start"&&h.id!=="_end"){const _=Ou(e,h,o,i,c);_&&_.split!==!1&&(p=h)}}),p},YO=(e,n,o,i)=>M0(e,n,o,i,i).fold(O(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),O(null)),$H=(e,n,o,i,c,p,h,_)=>{var S,z;let oe,ve;const Te=e.dom;if(o){const $e=o.parentNode;for(let dt=i.parentNode;dt&&dt!==$e;dt=dt.parentNode){let at=Te.clone(dt,!1);for(let rt=0;rt<n.length&&(at=YO(e,n[rt],_,at),at!==null);rt++);at&&(oe&&at.appendChild(oe),ve||(ve=at),oe=at)}(!h.mixed||!Te.isBlock(o))&&(i=(S=Te.split(o,i))!==null&&S!==void 0?S:i),oe&&ve&&((z=c.parentNode)===null||z===void 0||z.insertBefore(oe,c),ve.appendChild(c),no(h)&&$O(e,h,_,oe))}return i},HH=(e,n,o,i,c)=>{const p=e.formatter.get(n),h=p[0],_=e.dom,S=e.selection,z=at=>{const rt=qO(e,at,n,o,c);return $H(e,p,rt,at,at,!0,h,o)},oe=at=>td(at)&&Vo(at)&&(at.id==="_start"||at.id==="_end"),ve=at=>W(p,rt=>Ov(e,rt,o,at,at)),Te=at=>{const rt=xt(at.childNodes),Ft=ve(at)||W(p,Tn=>ix(_,at,Tn)),qt=at.parentNode;if(!Ft&&s(qt)&&Ko(h)&&ve(qt),h.deep&&rt.length)for(let Tn=0;Tn<rt.length;Tn++)Te(rt[Tn]);R(["underline","line-through","overline"],Tn=>{Vo(at)&&e.dom.getStyle(at,"text-decoration")===Tn&&at.parentNode&&k(_,at.parentNode)===Tn&&Ov(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Tn}},void 0,at)})},$e=at=>{const rt=_.get(at?"_start":"_end");if(rt){let Wt=rt[at?"firstChild":"lastChild"];return oe(Wt)&&(Wt=Wt[at?"firstChild":"lastChild"]),Yn(Wt)&&Wt.data.length===0&&(Wt=at?rt.previousSibling||rt.nextSibling:rt.nextSibling||rt.previousSibling),_.remove(rt,!0),Wt}else return null},dt=at=>{let rt,Wt,Ft=Dc(_,at,p,{includeTrailingSpace:at.collapsed});if(h.split){if(Ft=nd(Ft),rt=VO(e,Ft,!0),Wt=VO(e,Ft),rt!==Wt){if(rt=Y1(rt,!0),Wt=Y1(Wt,!1),UO(_,rt,Wt)){const rn=w.from(rt.firstChild).getOr(rt);z(hi(_,rn,!0,"span",{id:"_start","data-mce-type":"bookmark"})),$e(!0);return}if(UO(_,Wt,rt)){const rn=w.from(Wt.lastChild).getOr(Wt);z(hi(_,rn,!1,"span",{id:"_end","data-mce-type":"bookmark"})),$e(!1);return}rt=mr(_,rt,"span",{id:"_start","data-mce-type":"bookmark"}),Wt=mr(_,Wt,"span",{id:"_end","data-mce-type":"bookmark"});const qt=_.createRng();qt.setStartAfter(rt),qt.setEndBefore(Wt),mi(_,qt,rn=>{R(rn,Tn=>{!td(Tn)&&!td(Tn.parentNode)&&z(Tn)})}),z(rt),z(Wt),rt=$e(!0),Wt=$e()}else rt=Wt=z(rt);Ft.startContainer=rt.parentNode?rt.parentNode:rt,Ft.startOffset=_.nodeIndex(rt),Ft.endContainer=Wt.parentNode?Wt.parentNode:Wt,Ft.endOffset=_.nodeIndex(Wt)+1}mi(_,Ft,qt=>{R(qt,Te)})};if(i){if(ig(i)){const at=_.createRng();at.setStartBefore(i),at.setEndAfter(i),dt(at)}else dt(i);$8(e,n,i,o);return}!S.isCollapsed()||!no(h)||U1(e).length?(sv(e,()=>$3(e,dt),at=>no(h)&&jl(e,n,o,at)),e.nodeChanged()):LH(e,n,o,c),GO(e,n,o),$8(e,n,i,o)},XO=(e,n,o,i,c)=>{(i||e.selection.isEditable())&&HH(e,n,o,i,c)},JO=(e,n,o,i)=>M0(e,n,o,i).fold(()=>w.some(i),c=>w.some(e.dom.rename(i,c)),w.none),Ov=(e,n,o,i,c)=>M0(e,n,o,i,c).fold(H,p=>(e.dom.rename(i,p),!0),ee),QO=["fontsize","subscript","superscript"],zH=["strikethrough",...QO],UH=(e,n,o)=>s(e.matchNode(n.dom,o,{},o==="fontsize")),Lv=(e,n)=>W(QO,o=>UH(e,n,o)),eL=e=>M(zH,e),mE=(e,n,o,i,c)=>{const p=Ql(n,e).filter(da);return We(p,o).map(h=>{const _=p[h],S=i(_),z=[...c(qr(_)).toArray(),...nt(p.slice(0,h),oe=>o(oe)?c(oe).toArray():[qr(oe)])];return{container:_,innerWrapper:S,outerWrappers:z}})},$J=(e,n,o,i)=>{R(hr(e),c=>{da(c)&&o(c)&&i(c).isNone()&&Fl(c)}),R(hr(e),c=>Lr(n,c)),su(e,n)},pl=(e,n)=>{if(n.length>0){const o=n[n.length-1];Ja(e,o);const i=Le(n.slice(0,n.length-1),(c,p)=>(Lr(c,p),p),o);Lr(i,e)}},VH=(e,n,o,i,c)=>{const p=h=>Ws(Ct.fromDom(e.getRoot()),h)||e.isBlock(h.dom);R(n,h=>{mE(p,h,o,i,c).each(({container:_,innerWrapper:S,outerWrappers:z})=>{e.split(_.dom,h.dom),$J(h,S,o,c),pl(h,z)})})},WH=(e,n,o)=>{const i=_=>s(Ou(e,_.dom,n)),c=_=>{const S=Ct.fromTag(Fs(_)),z=Ou(e,_.dom,n,{});return s(z)&&wH(z)&&_v(e,S.dom,z),S},p=_=>{const S=Ou(e,_.dom,n,{});return s(S)?JO(e,S,{},_.dom).map(Ct.fromDom):w.some(_)},h=SO(e.selection.getRng());VH(e.dom,o,i,c,p),e.selection.setRng(NJ(h))},KH=(e,n)=>nt(n,o=>{const i=Pe(o,c=>Lv(e,c));return Lv(e,o)?[o,...i]:i}),jH=(e,n,o)=>{if(eL(n)){const i=KH(e.formatter,o);WH(e,"strikethrough",i)}},ZH=(e,n)=>{const o=V(n,i=>Lv(e.formatter,i));WH(e,"strikethrough",o)},tL=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),nL=e=>e.name==="summary",Dv=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},oL=(e,n,o,i)=>{const c=o.name;for(let p=0,h=e.length;p<h;p++){const _=e[p];if(_.name===c){const S=i.nodes[c];S?S.nodes.push(o):i.nodes[c]={filter:_,nodes:[o]}}}if(o.attributes)for(let p=0,h=n.length;p<h;p++){const _=n[p],S=_.name;if(S in o.attributes.map){const z=i.attributes[S];z?z.nodes.push(o):i.attributes[S]={filter:_,nodes:[o]}}}},sL=(e,n,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&Dv(o,c=>{oL(e,n,c,i)}),i},rL=(e,n)=>{const o=(i,c)=>{Zt(i,p=>{const h=xt(p.nodes);R(p.filter.callbacks,_=>{for(let S=h.length-1;S>=0;S--){const z=h[S];(!(c?z.attr(p.filter.name)!==void 0:z.name===p.filter.name)||Qo(z.parent))&&h.splice(S,1)}h.length>0&&_(h,p.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},zm=(e,n,o,i={})=>{const c=sL(e,n,o);rL(c,i)},cx=(e,n,o,i)=>{if((e.pad_empty_with_br||n.insert)&&o(i)){const p=new Al("br",1);n.insert&&p.attr("data-mce-bogus","1"),i.empty().append(p)}else i.empty().append(new Al("#text",3)).value=Qs},aL=e=>{var n;return hE(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Qs},hE=(e,n)=>{const o=e==null?void 0:e.firstChild;return s(o)&&o===e.lastChild&&o.name===n},iL=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},K3=(e,n,o,i)=>i.isEmpty(n,o,c=>iL(e,c)),GH=(e,n)=>s(e)&&(n(e)||e.name==="br"),lL=e=>{let n;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(n=o)}return w.from(n)},qH=e=>{const n=[];for(let o=e.firstChild;s(o);o=o.walk())n.push(o);return n},bE=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!n.isValidChild(o.name,c.name)&&bE(c,n,o);e.unwrap()}},cL=(e,n,o,i=a)=>{const c=n.getTextBlockElements(),p=n.getNonEmptyElements(),h=n.getWhitespaceElements(),_=Kn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),S=new Set,z=oe=>oe!==o&&!_[oe.name];for(let oe=0;oe<e.length;oe++){const ve=e[oe];let Te,$e,dt;if(!ve.parent||S.has(ve))continue;if(c[ve.name]&&ve.parent.name==="li"){let rt=ve.next;for(;rt&&c[rt.name];){rt.name="li",S.add(rt),ve.parent.insert(rt,ve.parent);rt=rt.next}ve.unwrap();continue}const at=[ve];for(Te=ve.parent;Te&&!n.isValidChild(Te.name,ve.name)&&z(Te);Te=Te.parent)at.push(Te);if(Te&&at.length>1)if(vE(n,ve,Te))bE(ve,n);else{at.reverse(),$e=at[0].clone(),i($e);let rt=$e;for(let Wt=0;Wt<at.length-1;Wt++){n.isValidChild(rt.name,at[Wt].name)&&Wt>0?(dt=at[Wt].clone(),i(dt),rt.append(dt)):dt=rt;for(let Ft=at[Wt].firstChild;Ft&&Ft!==at[Wt+1];){const qt=Ft.next;dt.append(Ft),Ft=qt}rt=dt}K3(n,p,h,$e)?Te.insert(ve,at[0],!0):(Te.insert($e,at[0],!0),Te.insert(ve,$e)),Te=at[0],(K3(n,p,h,Te)||hE(Te,"br"))&&Te.empty().remove()}else if(ve.parent){if(ve.name==="li"){let rt=ve.prev;if(rt&&(rt.name==="ul"||rt.name==="ol")){rt.append(ve);continue}if(rt=ve.next,rt&&(rt.name==="ul"||rt.name==="ol")&&rt.firstChild){rt.insert(ve,rt.firstChild,!0);continue}const Wt=new Al("ul",1);i(Wt),ve.wrap(Wt);continue}if(n.isValidChild(ve.parent.name,"div")&&n.isValidChild("div",ve.name)){const rt=new Al("div",1);i(rt),ve.wrap(rt)}else bE(ve,n)}}},YH=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},vE=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&YH(o,"a")?!0:nL(o)&&tL(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,HJ=(e,n,o,i)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,i),c},XH=e=>{const n=hn.fromRangeStart(e),o=hn.fromRangeEnd(e),i=e.commonAncestorContainer;return ed(!1,i,o).map(c=>!Id(n,o,i)&&Id(n,c,i)?HJ(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},dx=e=>e.collapsed?e:XH(e),JH=Kn.explode,dL=()=>{const e={};return{addFilter:(c,p)=>{R(JH(c),h=>{vn(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(p)})},getFilters:()=>kn(e),removeFilter:(c,p)=>{R(JH(c),h=>{if(vn(e,h))if(s(p)){const _=e[h],S=V(_.callbacks,z=>z!==p);S.length>0?_.callbacks=S:delete e[h]}else delete e[h]})}}},xE=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),yE=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),QH=(e,n)=>{R(n,o=>{e.attr(o,null)})},zJ=(e,n,o)=>{e.addNodeFilter("font",i=>{R(i,c=>{const p=n.parse(c.attr("style")),h=c.attr("color"),_=c.attr("face"),S=c.attr("size");h&&(p.color=h),_&&(p["font-family"]=_),S&&Tr(S).each(z=>{p["font-size"]=o[z-1]}),c.name="span",c.attr("style",n.serialize(p)),QH(c,["color","face","size"])})})},ez=(e,n,o)=>{e.addNodeFilter("strike",i=>{const c=n.type!=="html4";R(i,p=>{if(c)p.name="s";else{const h=o.parse(p.attr("style"));h["text-decoration"]="line-through",p.name="span",p.attr("style",o.serialize(h))}})})},tz=(e,n,o)=>{var i;const c=Zh();n.convert_fonts_to_spans&&zJ(e,c,Kn.explode((i=n.font_size_legacy_values)!==null&&i!==void 0?i:"")),ez(e,o,c)},nz=(e,n,o)=>{n.inline_styles&&tz(e,n,o)},oz=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),sz=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},rz=e=>{try{return decodeURIComponent(e)}catch{return e}},CE=e=>{const[n,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const p=c[2]===";base64",h=rz(i),_=p?sz(h):h;return w.some({type:c[1],data:_,base64Encoded:p})}else return w.none()},_E=(e,n,o=!0)=>{let i=n;if(o)try{i=atob(n)}catch{return w.none()}const c=new Uint8Array(i.length);for(let p=0;p<c.length;p++)c[p]=i.charCodeAt(p);return w.some(new Blob([c],{type:e}))},az=e=>new Promise((n,o)=>{CE(e).bind(({type:i,data:c,base64Encoded:p})=>_E(i,c,p)).fold(()=>o("Invalid data URI"),n)}),iz=e=>qo(e,"blob:")?oz(e):qo(e,"data:")?az(e):Promise.reject("Unknown URI format"),J1=e=>new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{n(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let lz=0;const uL=e=>"blobid"+lz++,fL=(e,n,o)=>CE(e).bind(({data:i,type:c,base64Encoded:p})=>{if(n&&!p)return w.none();{const h=p?i:btoa(i);return o(h,c)}}),pL=(e,n,o)=>{const i=e.create(uL(),n,o);return e.add(i),i},EE=(e,n,o=!1)=>fL(n,o,(i,c)=>w.from(e.getByData(i,c)).orThunk(()=>_E(c,i).map(p=>pL(e,p,i)))),gL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(qo(n,"blob:")){const i=e.getByUri(n);return s(i)?Promise.resolve(i):iz(n).then(c=>J1(c).then(p=>fL(p,!1,h=>w.some(pL(e,c,h))).getOrThunk(o)))}else return qo(n,"data:")?EE(e,n).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},mL=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,hL=e=>w.from(e.match(mL)).bind(n=>qe(n,1)).map(n=>qo(n,"www.")?n.substring(4):n),bL=(e,n)=>{w.from(e.attr("src")).bind(hL).forall(o=>!M(n,o))&&e.attr("sandbox","")},wE=(e,n)=>qo(e,`${n}/`),cz=e=>ks(e)?"iframe":wE(e,"image")?"img":wE(e,"video")?"video":wE(e,"audio")?"audio":"iframe",dz=({type:e,src:n,width:o,height:i}={},c,p)=>{const h=cz(e),_=new Al(h,1);return _.attr(h==="audio"?{src:n}:{src:n,width:o,height:i}),(h==="audio"||h==="video")&&_.attr("controls",""),h==="iframe"&&c&&bL(_,p),_},uz=e=>s(e.attr("data-mce-bogus")),I0=e=>e.attr("src")===fr.transparentSrc||s(e.attr("data-mce-placeholder")),vL=(e,n)=>{const{blob_cache:o}=n;if(o){const i=c=>{const p=c.attr("src");I0(c)||uz(c)||Qo(p)||EE(o,p,!0).each(h=>{c.attr("src",h.blobUri())})};e.addAttributeFilter("src",c=>R(c,i))}},fz=(e,n)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",S=>{let z=S.length;const oe=Te=>Te.split(" ").filter(dt=>dt.length>0).concat(["noopener"]).sort().join(" "),ve=Te=>{const $e=Te?Kn.trim(Te):"";return/\b(noopener)\b/g.test($e)?$e:oe($e)};if(!n.allow_unsafe_link_target)for(;z--;){const Te=S[z];Te.name==="a"&&Te.attr("target")==="_blank"&&Te.attr("rel",ve(Te.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",S=>{let z=S.length,oe,ve,Te,$e;for(;z--;)if($e=S[z],$e.name==="a"&&$e.firstChild&&!$e.attr("href"))for(Te=$e.parent,oe=$e.lastChild;oe&&Te;)ve=oe.prev,Te.insert(oe,$e),oe=ve}),n.fix_list_elements&&e.addNodeFilter("ul,ol",S=>{let z=S.length,oe,ve;for(;z--;)if(oe=S[z],ve=oe.parent,ve&&(ve.name==="ul"||ve.name==="ol"))if(oe.prev&&oe.prev.name==="li")oe.prev.append(oe);else{const Te=new Al("li",1);Te.attr("style","list-style-type: none"),oe.wrap(Te)}});const p=c.getValidClasses();n.validate&&p&&e.addAttributeFilter("class",S=>{var z;let oe=S.length;for(;oe--;){const ve=S[oe],Te=(z=ve.attr("class"))!==null&&z!==void 0?z:"",$e=Kn.explode(Te," ");let dt="";for(let at=0;at<$e.length;at++){const rt=$e[at];let Wt=!1,Ft=p["*"];Ft&&Ft[rt]&&(Wt=!0),Ft=p[ve.name],!Wt&&Ft&&Ft[rt]&&(Wt=!0),Wt&&(dt&&(dt+=" "),dt+=rt)}dt.length||(dt=null),ve.attr("class",dt)}}),vL(e,n);const h=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,_=Ot((i=n.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",S=>R(S,z=>{z.replace(dz({type:z.attr("type"),src:z.name==="object"?z.attr("data"):z.attr("src"),width:z.attr("width"),height:z.attr("height")},h,_))})),h&&e.addNodeFilter("iframe",S=>R(S,z=>bL(z,_)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:xL,setPrototypeOf:ux,isFrozen:pz,getPrototypeOf:SE,getOwnPropertyDescriptor:yL}=Object;let{freeze:rd,seal:rf,create:Nv}=Object,{apply:TE,construct:fx}=typeof Reflect<"u"&&Reflect;rd||(rd=function(n){return n}),rf||(rf=function(n){return n}),TE||(TE=function(n,o,i){return n.apply(o,i)}),fx||(fx=function(n,o){return new n(...o)});const px=id(Array.prototype.forEach),CL=id(Array.prototype.lastIndexOf),kE=id(Array.prototype.pop),j3=id(Array.prototype.push),gz=id(Array.prototype.splice),Rv=id(String.prototype.toLowerCase),AE=id(String.prototype.toString),_L=id(String.prototype.match),Mv=id(String.prototype.replace),ad=id(String.prototype.indexOf),EL=id(String.prototype.trim),Qf=id(Object.prototype.hasOwnProperty),Rc=id(RegExp.prototype.test),Iv=mz(TypeError);function id(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return TE(e,n,i)}}function mz(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return fx(e,o)}}function Sr(e,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rv;ux&&ux(e,null);let i=n.length;for(;i--;){let c=n[i];if(typeof c=="string"){const p=o(c);p!==c&&(pz(n)||(n[i]=p),c=p)}e[c]=!0}return e}function Z3(e){for(let n=0;n<e.length;n++)Qf(e,n)||(e[n]=null);return e}function Um(e){const n=Nv(null);for(const[o,i]of xL(e))Qf(e,o)&&(Array.isArray(i)?n[o]=Z3(i):i&&typeof i=="object"&&i.constructor===Object?n[o]=Um(i):n[o]=i);return n}function Bv(e,n){for(;e!==null;){const i=yL(e,n);if(i){if(i.get)return id(i.get);if(typeof i.value=="function")return id(i.value)}e=SE(e)}function o(){return null}return o}const wL=rd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lu=rd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),OE=rd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hz=rd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G3=rd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bz=rd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gx=rd(["#text"]),mx=rd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),hx=rd(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SL=rd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),LE=rd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vm=rf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vz=rf(/<%[\w\W]*|[\w\W]*%>/gm),xz=rf(/\$\{[\w\W]*/gm),yz=rf(/^data-[\-\w.\u00B7-\uFFFF]+$/),js=rf(/^aria-[\-\w]+$/),TL=rf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cz=rf(/^(?:\w+script|data):/i),kL=rf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),AL=rf(/^html$/i),_z=rf(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ca=Object.freeze({__proto__:null,ARIA_ATTR:js,ATTR_WHITESPACE:kL,CUSTOM_ELEMENT:_z,DATA_ATTR:yz,DOCTYPE_NAME:AL,ERB_EXPR:vz,IS_ALLOWED_URI:TL,IS_SCRIPT_OR_DATA:Cz,MUSTACHE_EXPR:Vm,TMPLIT_EXPR:xz});const Fv={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ez=function(){return typeof window>"u"?null:window},wz=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const p="dompurify"+(i?"#"+i:"");try{return n.createPolicy(p,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}},OL=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function oa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ez();const n=tr=>oa(tr);if(n.version="3.2.6",n.removed=[],!e||!e.document||e.document.nodeType!==Fv.document||!e.Element)return n.isSupported=!1,n;let{document:o}=e;const i=o,c=i.currentScript,{DocumentFragment:p,HTMLTemplateElement:h,Node:_,Element:S,NodeFilter:z,NamedNodeMap:oe=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ve,DOMParser:Te,trustedTypes:$e}=e,dt=S.prototype,at=Bv(dt,"cloneNode"),rt=Bv(dt,"remove"),Wt=Bv(dt,"nextSibling"),Ft=Bv(dt,"childNodes"),qt=Bv(dt,"parentNode");if(typeof h=="function"){const tr=o.createElement("template");tr.content&&tr.content.ownerDocument&&(o=tr.content.ownerDocument)}let rn,Tn="";const{implementation:so,createNodeIterator:Un,createDocumentFragment:gn,getElementsByTagName:mn}=o,{importNode:Rn}=i;let Lo=OL();n.isSupported=typeof xL=="function"&&typeof qt=="function"&&so&&so.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:es,ERB_EXPR:Ms,TMPLIT_EXPR:ko,DATA_ATTR:Gt,ARIA_ATTR:lo,IS_SCRIPT_OR_DATA:as,ATTR_WHITESPACE:dr,CUSTOM_ELEMENT:va}=Ca;let{IS_ALLOWED_URI:Gn}=Ca,Ro=null;const Xs=Sr({},[...wL,...Lu,...OE,...G3,...gx]);let rr=null;const Bo=Sr({},[...mx,...hx,...SL,...LE]);let Pn=Object.seal(Nv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ho=null,vs=null,Ts=!0,vr=!0,sa=!1,Mu=!0,fd=!1,a1=!0,bf=!1,Pc=!1,pd=!1,i1=!1,Z4=!1,is=!1,ur=!0,Pa=!1;const Pi="user-content-";let Xi=!0,Oi=!1,_a={},Ea=null;const gd=Sr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let up=null;const uh=Sr({},["audio","video","img","source","image","track"]);let Ag=null;const Oy=Sr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ly="http://www.w3.org/1998/Math/MathML",H6="http://www.w3.org/2000/svg",fp="http://www.w3.org/1999/xhtml";let G4=fp,hk=!1,Dy=null;const cQ=Sr({},[Ly,H6,fp],AE);let bk=Sr({},["mi","mo","mn","ms","mtext"]),vk=Sr({},["annotation-xml"]);const dQ=Sr({},["title","style","font","a","script"]);let Ny=null;const q4=["application/xhtml+xml","text/html"],bP="text/html";let sn=null,dn=null;const fo=o.createElement("form"),ao=function(pn){return pn instanceof RegExp||pn instanceof Function},xs=function(){let pn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dn&&dn===pn)){if((!pn||typeof pn!="object")&&(pn={}),pn=Um(pn),Ny=q4.indexOf(pn.PARSER_MEDIA_TYPE)===-1?bP:pn.PARSER_MEDIA_TYPE,sn=Ny==="application/xhtml+xml"?AE:Rv,Ro=Qf(pn,"ALLOWED_TAGS")?Sr({},pn.ALLOWED_TAGS,sn):Xs,rr=Qf(pn,"ALLOWED_ATTR")?Sr({},pn.ALLOWED_ATTR,sn):Bo,Dy=Qf(pn,"ALLOWED_NAMESPACES")?Sr({},pn.ALLOWED_NAMESPACES,AE):cQ,Ag=Qf(pn,"ADD_URI_SAFE_ATTR")?Sr(Um(Oy),pn.ADD_URI_SAFE_ATTR,sn):Oy,up=Qf(pn,"ADD_DATA_URI_TAGS")?Sr(Um(uh),pn.ADD_DATA_URI_TAGS,sn):uh,Ea=Qf(pn,"FORBID_CONTENTS")?Sr({},pn.FORBID_CONTENTS,sn):gd,ho=Qf(pn,"FORBID_TAGS")?Sr({},pn.FORBID_TAGS,sn):Um({}),vs=Qf(pn,"FORBID_ATTR")?Sr({},pn.FORBID_ATTR,sn):Um({}),_a=Qf(pn,"USE_PROFILES")?pn.USE_PROFILES:!1,Ts=pn.ALLOW_ARIA_ATTR!==!1,vr=pn.ALLOW_DATA_ATTR!==!1,sa=pn.ALLOW_UNKNOWN_PROTOCOLS||!1,Mu=pn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fd=pn.SAFE_FOR_TEMPLATES||!1,a1=pn.SAFE_FOR_XML!==!1,bf=pn.WHOLE_DOCUMENT||!1,i1=pn.RETURN_DOM||!1,Z4=pn.RETURN_DOM_FRAGMENT||!1,is=pn.RETURN_TRUSTED_TYPE||!1,pd=pn.FORCE_BODY||!1,ur=pn.SANITIZE_DOM!==!1,Pa=pn.SANITIZE_NAMED_PROPS||!1,Xi=pn.KEEP_CONTENT!==!1,Oi=pn.IN_PLACE||!1,Gn=pn.ALLOWED_URI_REGEXP||TL,G4=pn.NAMESPACE||fp,bk=pn.MATHML_TEXT_INTEGRATION_POINTS||bk,vk=pn.HTML_INTEGRATION_POINTS||vk,Pn=pn.CUSTOM_ELEMENT_HANDLING||{},pn.CUSTOM_ELEMENT_HANDLING&&ao(pn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pn.tagNameCheck=pn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),pn.CUSTOM_ELEMENT_HANDLING&&ao(pn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pn.attributeNameCheck=pn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),pn.CUSTOM_ELEMENT_HANDLING&&typeof pn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pn.allowCustomizedBuiltInElements=pn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fd&&(vr=!1),Z4&&(i1=!0),_a&&(Ro=Sr({},gx),rr=[],_a.html===!0&&(Sr(Ro,wL),Sr(rr,mx)),_a.svg===!0&&(Sr(Ro,Lu),Sr(rr,hx),Sr(rr,LE)),_a.svgFilters===!0&&(Sr(Ro,OE),Sr(rr,hx),Sr(rr,LE)),_a.mathMl===!0&&(Sr(Ro,G3),Sr(rr,SL),Sr(rr,LE))),pn.ADD_TAGS&&(Ro===Xs&&(Ro=Um(Ro)),Sr(Ro,pn.ADD_TAGS,sn)),pn.ADD_ATTR&&(rr===Bo&&(rr=Um(rr)),Sr(rr,pn.ADD_ATTR,sn)),pn.ADD_URI_SAFE_ATTR&&Sr(Ag,pn.ADD_URI_SAFE_ATTR,sn),pn.FORBID_CONTENTS&&(Ea===gd&&(Ea=Um(Ea)),Sr(Ea,pn.FORBID_CONTENTS,sn)),Xi&&(Ro["#text"]=!0),bf&&Sr(Ro,["html","head","body"]),Ro.table&&(Sr(Ro,["tbody"]),delete ho.tbody),pn.TRUSTED_TYPES_POLICY){if(typeof pn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Iv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof pn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Iv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');rn=pn.TRUSTED_TYPES_POLICY,Tn=rn.createHTML("")}else rn===void 0&&(rn=wz($e,c)),rn!==null&&typeof Tn=="string"&&(Tn=rn.createHTML(""));rd&&rd(pn),dn=pn}},br=Sr({},[...Lu,...OE,...hz]),$a=Sr({},[...G3,...bz]),Og=function(pn){let ts=qt(pn);(!ts||!ts.tagName)&&(ts={namespaceURI:G4,tagName:"template"});const Gs=Rv(pn.tagName),$i=Rv(ts.tagName);return Dy[pn.namespaceURI]?pn.namespaceURI===H6?ts.namespaceURI===fp?Gs==="svg":ts.namespaceURI===Ly?Gs==="svg"&&($i==="annotation-xml"||bk[$i]):!!br[Gs]:pn.namespaceURI===Ly?ts.namespaceURI===fp?Gs==="math":ts.namespaceURI===H6?Gs==="math"&&vk[$i]:!!$a[Gs]:pn.namespaceURI===fp?ts.namespaceURI===H6&&!vk[$i]||ts.namespaceURI===Ly&&!bk[$i]?!1:!$a[Gs]&&(dQ[Gs]||!br[Gs]):!!(Ny==="application/xhtml+xml"&&Dy[pn.namespaceURI]):!1},pp=function(pn){j3(n.removed,{element:pn});try{qt(pn).removeChild(pn)}catch{rt(pn)}},Ry=function(pn,ts){try{j3(n.removed,{attribute:ts.getAttributeNode(pn),from:ts})}catch{j3(n.removed,{attribute:null,from:ts})}if(ts.removeAttribute(pn),pn==="is")if(i1||Z4)try{pp(ts)}catch{}else try{ts.setAttribute(pn,"")}catch{}},uQ=function(pn){let ts=null,Gs=null;if(pd)pn="<remove></remove>"+pn;else{const uc=_L(pn,/^[\r\n\t ]+/);Gs=uc&&uc[0]}Ny==="application/xhtml+xml"&&G4===fp&&(pn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+pn+"</body></html>");const $i=rn?rn.createHTML(pn):pn;if(G4===fp)try{ts=new Te().parseFromString($i,Ny)}catch{}if(!ts||!ts.documentElement){ts=so.createDocument(G4,"template",null);try{ts.documentElement.innerHTML=hk?Tn:$i}catch{}}const Xd=ts.body||ts.documentElement;return pn&&Gs&&Xd.insertBefore(o.createTextNode(Gs),Xd.childNodes[0]||null),G4===fp?mn.call(ts,bf?"html":"body")[0]:bf?ts.documentElement:Xd},fQ=function(pn){return Un.call(pn.ownerDocument||pn,pn,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},uX=function(pn){return pn instanceof ve&&(typeof pn.nodeName!="string"||typeof pn.textContent!="string"||typeof pn.removeChild!="function"||!(pn.attributes instanceof oe)||typeof pn.removeAttribute!="function"||typeof pn.setAttribute!="function"||typeof pn.namespaceURI!="string"||typeof pn.insertBefore!="function"||typeof pn.hasChildNodes!="function")},pQ=function(pn){return typeof _=="function"&&pn instanceof _};function v2(tr,pn,ts){px(tr,Gs=>{Gs.call(n,pn,ts,dn)})}const gQ=function(pn){let ts=null;if(v2(Lo.beforeSanitizeElements,pn,null),uX(pn))return pp(pn),!0;const Gs=sn(pn.nodeName);if(v2(Lo.uponSanitizeElement,pn,{tagName:Gs,allowedTags:Ro}),a1&&pn.hasChildNodes()&&!pQ(pn.firstElementChild)&&Rc(/<[/\w!]/g,pn.innerHTML)&&Rc(/<[/\w!]/g,pn.textContent)||pn.nodeType===Fv.progressingInstruction||a1&&pn.nodeType===Fv.comment&&Rc(/<[/\w]/g,pn.data))return pp(pn),!0;if(!Ro[Gs]||ho[Gs]){if(!ho[Gs]&&hQ(Gs)&&(Pn.tagNameCheck instanceof RegExp&&Rc(Pn.tagNameCheck,Gs)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(Gs)))return!1;if(Xi&&!Ea[Gs]){const $i=qt(pn)||pn.parentNode,Xd=Ft(pn)||pn.childNodes;if(Xd&&$i){const uc=Xd.length;for(let vf=uc-1;vf>=0;--vf){const x2=at(Xd[vf],!0);x2.__removalCount=(pn.__removalCount||0)+1,$i.insertBefore(x2,Wt(pn))}}}return pp(pn),!0}return pn instanceof S&&!Og(pn)||(Gs==="noscript"||Gs==="noembed"||Gs==="noframes")&&Rc(/<\/no(script|embed|frames)/i,pn.innerHTML)?(pp(pn),!0):(fd&&pn.nodeType===Fv.text&&(ts=pn.textContent,px([es,Ms,ko],$i=>{ts=Mv(ts,$i," ")}),pn.textContent!==ts&&(j3(n.removed,{element:pn.cloneNode()}),pn.textContent=ts)),v2(Lo.afterSanitizeElements,pn,null),!1)},mQ=function(pn,ts,Gs){if(ur&&(ts==="id"||ts==="name")&&(Gs in o||Gs in fo))return!1;if(!(vr&&!vs[ts]&&Rc(Gt,ts))){if(!(Ts&&Rc(lo,ts))){if(!rr[ts]||vs[ts]){if(!(hQ(pn)&&(Pn.tagNameCheck instanceof RegExp&&Rc(Pn.tagNameCheck,pn)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(pn))&&(Pn.attributeNameCheck instanceof RegExp&&Rc(Pn.attributeNameCheck,ts)||Pn.attributeNameCheck instanceof Function&&Pn.attributeNameCheck(ts))||ts==="is"&&Pn.allowCustomizedBuiltInElements&&(Pn.tagNameCheck instanceof RegExp&&Rc(Pn.tagNameCheck,Gs)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(Gs))))return!1}else if(!Ag[ts]){if(!Rc(Gn,Mv(Gs,dr,""))){if(!((ts==="src"||ts==="xlink:href"||ts==="href")&&pn!=="script"&&ad(Gs,"data:")===0&&up[pn])){if(!(sa&&!Rc(as,Mv(Gs,dr,"")))){if(Gs)return!1}}}}}}return!0},hQ=function(pn){return pn!=="annotation-xml"&&_L(pn,va)},bQ=function(pn){v2(Lo.beforeSanitizeAttributes,pn,null);const{attributes:ts}=pn;if(!ts||uX(pn))return;const Gs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rr,forceKeepAttr:void 0};let $i=ts.length;for(;$i--;){const Xd=ts[$i],{name:uc,namespaceURI:vf,value:x2}=Xd,xk=sn(uc),fX=x2;let Jd=uc==="value"?fX:EL(fX);if(Gs.attrName=xk,Gs.attrValue=Jd,Gs.keepAttr=!0,Gs.forceKeepAttr=void 0,v2(Lo.uponSanitizeAttribute,pn,Gs),Jd=Gs.attrValue,Pa&&(xk==="id"||xk==="name")&&(Ry(uc,pn),Jd=Pi+Jd),a1&&Rc(/((--!?|])>)|<\/(style|title)/i,Jd)){Ry(uc,pn);continue}if(Gs.forceKeepAttr)continue;if(!Gs.keepAttr){Ry(uc,pn);continue}if(!Mu&&Rc(/\/>/i,Jd)){Ry(uc,pn);continue}fd&&px([es,Ms,ko],xQ=>{Jd=Mv(Jd,xQ," ")});const vQ=sn(pn.nodeName);if(!mQ(vQ,xk,Jd)){Ry(uc,pn);continue}if(rn&&typeof $e=="object"&&typeof $e.getAttributeType=="function"&&!vf)switch($e.getAttributeType(vQ,xk)){case"TrustedHTML":{Jd=rn.createHTML(Jd);break}case"TrustedScriptURL":{Jd=rn.createScriptURL(Jd);break}}if(Jd!==fX)try{vf?pn.setAttributeNS(vf,uc,Jd):pn.setAttribute(uc,Jd),uX(pn)?pp(pn):kE(n.removed)}catch{Ry(uc,pn)}}v2(Lo.afterSanitizeAttributes,pn,null)},Mte=function tr(pn){let ts=null;const Gs=fQ(pn);for(v2(Lo.beforeSanitizeShadowDOM,pn,null);ts=Gs.nextNode();)v2(Lo.uponSanitizeShadowNode,ts,null),gQ(ts),bQ(ts),ts.content instanceof p&&tr(ts.content);v2(Lo.afterSanitizeShadowDOM,pn,null)};return n.sanitize=function(tr){let pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ts=null,Gs=null,$i=null,Xd=null;if(hk=!tr,hk&&(tr="<!-->"),typeof tr!="string"&&!pQ(tr))if(typeof tr.toString=="function"){if(tr=tr.toString(),typeof tr!="string")throw Iv("dirty is not a string, aborting")}else throw Iv("toString is not a function");if(!n.isSupported)return tr;if(Pc||xs(pn),n.removed=[],typeof tr=="string"&&(Oi=!1),Oi){if(tr.nodeName){const x2=sn(tr.nodeName);if(!Ro[x2]||ho[x2])throw Iv("root node is forbidden and cannot be sanitized in-place")}}else if(tr instanceof _)ts=uQ("<!---->"),Gs=ts.ownerDocument.importNode(tr,!0),Gs.nodeType===Fv.element&&Gs.nodeName==="BODY"||Gs.nodeName==="HTML"?ts=Gs:ts.appendChild(Gs);else{if(!i1&&!fd&&!bf&&tr.indexOf("<")===-1)return rn&&is?rn.createHTML(tr):tr;if(ts=uQ(tr),!ts)return i1?null:is?Tn:""}ts&&pd&&pp(ts.firstChild);const uc=fQ(Oi?tr:ts);for(;$i=uc.nextNode();)gQ($i),bQ($i),$i.content instanceof p&&Mte($i.content);if(Oi)return tr;if(i1){if(Z4)for(Xd=gn.call(ts.ownerDocument);ts.firstChild;)Xd.appendChild(ts.firstChild);else Xd=ts;return(rr.shadowroot||rr.shadowrootmode)&&(Xd=Rn.call(i,Xd,!0)),Xd}let vf=bf?ts.outerHTML:ts.innerHTML;return bf&&Ro["!doctype"]&&ts.ownerDocument&&ts.ownerDocument.doctype&&ts.ownerDocument.doctype.name&&Rc(AL,ts.ownerDocument.doctype.name)&&(vf="<!DOCTYPE "+ts.ownerDocument.doctype.name+`>
`+vf),fd&&px([es,Ms,ko],x2=>{vf=Mv(vf,x2," ")}),rn&&is?rn.createHTML(vf):vf},n.setConfig=function(){let tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xs(tr),Pc=!0},n.clearConfig=function(){dn=null,Pc=!1},n.isValidAttribute=function(tr,pn,ts){dn||xs({});const Gs=sn(tr),$i=sn(pn);return mQ(Gs,$i,ts)},n.addHook=function(tr,pn){typeof pn=="function"&&j3(Lo[tr],pn)},n.removeHook=function(tr,pn){if(pn!==void 0){const ts=CL(Lo[tr],pn);return ts===-1?void 0:gz(Lo[tr],ts,1)[0]}return kE(Lo[tr])},n.removeHooks=function(tr){Lo[tr]=[]},n.removeAllHooks=function(){Lo=OL()},n}var bx=oa();const DE=Kn.each,Sz=Kn.trim,LL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Tz={ftp:21,http:80,https:443,mailto:25},mg=["img","video"],NE=(e,n)=>s(e)?!e:s(n)?!M(mg,n):!0,kz=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},DL=(e,n,o)=>{const i=kz(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?NE(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class Ud{static parseDataUri(n){let o;const i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(n,o,i={}){if(i.allow_script_urls)return!0;{const c=Lp.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!DL(i,c,o)}}static getDocumentBaseUrl(n){var o;let i;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?i=(o=n.href)!==null&&o!==void 0?o:"":i=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(n,o={}){this.path="",this.directory="",n=Sz(n),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const p=n.indexOf("//")===0;if(n.indexOf("/")===0&&!p&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const _=i?i.path:new Ud(document.location.href).directory;if((i==null?void 0:i.protocol)==="")n="//mce_host"+c.toAbsPath(_,n);else{const S=/([^#?]*)([#?]?.*)/.exec(n);S&&(n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(_,S[1])+S[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&DE(LL,(_,S)=>{let z=h[S];z&&(z=z.replace(/\(mce_at\)/g,"@@")),c[_]=z}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),p&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Ud(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let p=this.toRelPath(this.path,o.path);return o.query&&(p+="?"+o.query),o.anchor&&(p+="#"+o.anchor),p}toAbsolute(n,o){const i=new Ud(n,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?Tz[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let i=0,c="",p,h;const _=n.substring(0,n.lastIndexOf("/")).split("/"),S=o.split("/");if(_.length>=S.length){for(p=0,h=_.length;p<h;p++)if(p>=S.length||_[p]!==S[p]){i=p+1;break}}if(_.length<S.length){for(p=0,h=S.length;p<h;p++)if(p>=_.length||_[p]!==S[p]){i=p+1;break}}if(i===1)return o;for(p=0,h=_.length-(i-1);p<h;p++)c+="../";for(p=i-1,h=S.length;p<h;p++)p!==i-1?c+="/"+S[p]:c+=S[p];return c}toAbsPath(n,o){let i=0;const c=/\/$/.test(o)?"/":"",p=n.split("/"),h=o.split("/"),_=[];DE(p,ve=>{ve&&_.push(ve)});const S=[];for(let ve=h.length-1;ve>=0;ve--)if(!(h[ve].length===0||h[ve]===".")){if(h[ve]===".."){i++;continue}if(i>0){i--;continue}S.push(h[ve])}const z=_.length-i;let oe;return z<=0?oe=Me(S).join("/"):oe=_.slice(0,z).join("/")+"/"+Me(S).join("/"),oe.indexOf("/")!==0&&(oe="/"+oe),c&&oe.lastIndexOf("/")!==oe.length-1&&(oe+=c),oe}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const Az=Kn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),RE="data-mce-type";let oi=0;const NL=(e,n,o,i,c)=>{var p,h,_,S;const z=n.validate,oe=o.getSpecialElements();e.nodeType===Pu&&(!n.allow_conditional_comments&&/^\[if/i.test((p=e.nodeValue)!==null&&p!==void 0?p:"")&&(e.nodeValue=" "+e.nodeValue),n.sanitize&&n.allow_html_in_comments&&lt(e.nodeValue)&&(e.nodeValue=xE(e.nodeValue)));const ve=(h=c==null?void 0:c.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){s(c)&&(c.allowedTags[ve]=!0);return}if(e.nodeType!==Jl||ve==="body")return;const Te=Ct.fromDom(e),$e=zu(Te,RE),dt=Qa(Te,"data-mce-bogus");if(!$e&&lt(dt)){dt==="all"?kr(Te):Fl(Te);return}const at=o.getElementRule(ve);if(z&&!at){vn(oe,ve)?kr(Te):Fl(Te);return}else s(c)&&(c.allowedTags[ve]=!0);if(z&&at&&!$e){if(R((_=at.attributesForced)!==null&&_!==void 0?_:[],rt=>{Mo(Te,rt.name,rt.value==="{$uid}"?`mce_${oi++}`:rt.value)}),R((S=at.attributesDefault)!==null&&S!==void 0?S:[],rt=>{zu(Te,rt.name)||Mo(Te,rt.name,rt.value==="{$uid}"?`mce_${oi++}`:rt.value)}),at.attributesRequired&&!W(at.attributesRequired,rt=>zu(Te,rt))){Fl(Te);return}if(at.removeEmptyAttrs&&zg(Te)){Fl(Te);return}at.outputName&&at.outputName!==ve&&au(Te,at.outputName)}},Wm=(e,n,o,i,c)=>{const p=e.tagName.toLowerCase(),{attrName:h,attrValue:_}=c;c.keepAttr=RL(n,o,i,p,h,_),c.keepAttr?(c.allowedAttributes[h]=!0,IL(h,o)&&(c.attrValue=h),n.allow_svg_data_urls&&qo(_,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):ML(e,h)&&(c.forceKeepAttr=!0)},RL=(e,n,o,i,c,p)=>o!=="html"&&!ns(i)?!0:!(c in Az&&DL(e,p,i))&&(!e.validate||n.isValid(i,c)||qo(c,"data-")||qo(c,"aria-")),ML=(e,n)=>e.hasAttribute(RE)&&(n==="id"||n==="class"||n==="style"),IL=(e,n)=>e in n.getBoolAttrs(),Oz=(e,n,o,i)=>{const{attributes:c}=e;for(let p=c.length-1;p>=0;p--){const h=c[p],_=h.name,S=h.value;!RL(n,o,i,e.tagName.toLowerCase(),_,S)&&!ML(e,_)?e.removeAttribute(_):IL(_,o)&&e.setAttribute(_,_)}},Lz=(e,n,o)=>{const i=bx();return i.addHook("uponSanitizeElement",(c,p)=>{NL(c,e,n,o.track(c),p)}),i.addHook("uponSanitizeAttribute",(c,p)=>{Wm(c,e,n,o.current(),p)}),i},Dz=(e,n)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=n,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},Nz=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(i=>`xlink:${i}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};bx().sanitize(e,o)},Rz=(e,n)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},i=bx(),c=n.allow_mathml_annotation_encodings,p=_o(c)&&c.length>0,h=S=>{const z=S.getAttribute("encoding");return p&&lt(z)&&M(c,z)},_=(S,z)=>p&&z==="semantics"?w.some(!0):z==="annotation"?w.some(Vo(S)&&h(S)):_o(n.extended_mathml_elements)&&n.extended_mathml_elements.includes(z)?w.from(!0):w.none();i.addHook("uponSanitizeElement",(S,z)=>{var oe;const ve=(oe=z.tagName)!==null&&oe!==void 0?oe:S.nodeName.toLowerCase();_(S,ve).each($e=>{z.allowedTags[ve]=$e,!$e&&n.sanitize&&Vo(S)&&S.remove()})}),i.addHook("uponSanitizeAttribute",(S,z)=>{_o(n.extended_mathml_attributes)&&n.extended_mathml_attributes.includes(z.attrName)&&(z.forceKeepAttr=!0)}),i.sanitize(e,o)},Mz=e=>n=>{const o=Jg(n);if(o==="svg")Nz(n);else if(o==="math")Rz(n,e);else throw new Error("Not a namespace element")},vx=(e,n)=>{const o=Jy();if(e.sanitize){const i=Lz(e,n,o);return{sanitizeHtmlElement:(p,h)=>{i.sanitize(p,Dz(e,h)),i.removed=[],o.reset()},sanitizeNamespaceElement:Mz(e)}}else return{sanitizeHtmlElement:(p,h)=>{const _=document.createNodeIterator(p,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let S;for(;S=_.nextNode();){const z=o.track(S);NL(S,e,n,z),Vo(S)&&Oz(S,e,n,z)}o.reset()},sanitizeNamespaceElement:a}},BL=["script","style","template","param"],FL=Kn.makeMap,Iz=Kn.extend,q3=(e,n,o,i,c)=>{const p=e.name,h=p in o&&p!=="title"&&p!=="textarea"&&p!=="noscript",_=n.childNodes;for(let S=0,z=_.length;S<z;S++){const oe=_[S],ve=new Al(oe.nodeName.toLowerCase(),oe.nodeType);if(Vo(oe)){const Te=oe.attributes;for(let $e=0,dt=Te.length;$e<dt;$e++){const at=Te[$e];ve.attr(at.name,at.value)}ns(ve.name)&&(i(oe),ve.value=oe.innerHTML)}else Yn(oe)?(ve.value=oe.data,h&&(ve.raw=!0)):Ku(oe)?ve.value=c?yE(oe.data):oe.data:(gu(oe)||y5(oe))&&(ve.value=oe.data);if($2(oe)){const Te=Al.create("#text");Te.value=oe.innerHTML,Te.raw=!0,ve.append(Te)}else ns(ve.name)||q3(ve,oe,o,i,c);e.append(ve)}},Bz=(e,n,o)=>{const i=[];for(let c=e,p=c;c;p=c,c=c.walk()){const h=c;R(n,_=>_(h)),Qo(h.parent)&&h!==e?c=p:i.push(h)}for(let c=i.length-1;c>=0;c--){const p=i[c];R(o,h=>h(p))}},ME=(e,n,o,i)=>{const c=o.validate,p=n.getNonEmptyElements(),h=n.getWhitespaceElements(),_=Iz(FL(BL),n.getBlockElements()),S=ya(n),z=/[ \t\r\n]+/g,oe=/^[ \t\r\n]+/,ve=/[ \t\r\n]+$/,Te=Ft=>{let qt=Ft.parent;for(;s(qt);){if(qt.name in h)return!0;qt=qt.parent}return!1},$e=Ft=>{let qt=Ft;for(;s(qt);){if(qt.name in S)return K3(n,p,h,qt);qt=qt.parent}return!1},dt=Ft=>Ft.name in _||Vl(n,Ft)||ns(Ft.name)&&Ft.parent===e,at=(Ft,qt)=>{const rn=qt?Ft.prev:Ft.next;return s(rn)||Qo(Ft.parent)?!1:dt(Ft.parent)&&(Ft.parent!==e||i.isRootContent===!0)};return[Ft=>{var qt;if(Ft.type===3&&!Te(Ft)){let rn=(qt=Ft.value)!==null&&qt!==void 0?qt:"";rn=rn.replace(z," "),(GH(Ft.prev,dt)||at(Ft,!0))&&(rn=rn.replace(oe,"")),rn.length===0||rn===" "&&Ft.prev&&Ft.prev.type===Pu&&Ft.next&&Ft.next.type===Pu?Ft.remove():Ft.value=rn}},Ft=>{var qt;if(Ft.type===1){const rn=n.getElementRule(Ft.name);if(c&&rn){const Tn=K3(n,p,h,Ft);rn.paddInEmptyBlock&&Tn&&$e(Ft)?cx(o,i,dt,Ft):rn.removeEmpty&&Tn?dt(Ft)?Ft.remove():Ft.unwrap():rn.paddEmpty&&(Tn||aL(Ft))&&cx(o,i,dt,Ft)}}else if(Ft.type===3&&!Te(Ft)){let rn=(qt=Ft.value)!==null&&qt!==void 0?qt:"";(Ft.next&&dt(Ft.next)||at(Ft,!1))&&(rn=rn.replace(ve,"")),rn.length===0?Ft.remove():Ft.value=rn}}]},Fz=(e,n)=>{var o;const i=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},Y3=(e={},n=oc())=>{const o=dL(),i=dL(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},p=new DOMParser,h=vx(c,n),_=(qt,rn,Tn="html")=>{const so=Tn==="xhtml"?"application/xhtml+xml":"text/html",Un=vn(n.getSpecialElements(),rn.toLowerCase()),gn=Un?`<${rn}>${qt}</${rn}>`:qt,mn=()=>Tn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${gn}</body></html>`:/^[\s]*<head/i.test(qt)||/^[\s]*<html/i.test(qt)||/^[\s]*<!DOCTYPE/i.test(qt)?`<html>${gn}</html>`:`<body>${gn}</body>`,Rn=p.parseFromString(mn(),so).body;return h.sanitizeHtmlElement(Rn,so),Un?Rn.firstChild:Rn},S=o.addFilter,z=o.getFilters,oe=o.removeFilter,ve=i.addFilter,Te=i.getFilters,$e=i.removeFilter,dt=(qt,rn)=>{vE(n,qt)&&rn.push(qt)},at=(qt,rn)=>{const Tn=lt(rn.attr(RE)),so=rn.type===1&&!vn(qt,rn.name)&&!Vl(n,rn)&&!ns(rn.name);return rn.type===3||so&&!Tn},rt=(qt,rn)=>{const Tn=Iz(FL(BL),n.getBlockElements()),so=/^[ \t\r\n]+/,Un=/[ \t\r\n]+$/;let gn=qt.firstChild,mn=null;const Rn=Lo=>{var es,Ms;Lo&&(gn=Lo.firstChild,gn&&gn.type===3&&(gn.value=(es=gn.value)===null||es===void 0?void 0:es.replace(so,"")),gn=Lo.lastChild,gn&&gn.type===3&&(gn.value=(Ms=gn.value)===null||Ms===void 0?void 0:Ms.replace(Un,"")))};if(n.isValidChild(qt.name,rn.toLowerCase())){for(;gn;){const Lo=gn.next;at(Tn,gn)?(mn||(mn=new Al(rn,1),mn.attr(c.forced_root_block_attrs),qt.insert(mn,gn)),mn.append(gn)):(Rn(mn),mn=null),gn=Lo}Rn(mn)}},Ft={schema:n,addAttributeFilter:ve,getAttributeFilters:Te,removeAttributeFilter:$e,addNodeFilter:S,getNodeFilters:z,removeNodeFilter:oe,parse:(qt,rn={})=>{var Tn;const so=c.validate,Un=(Tn=rn.context)!==null&&Tn!==void 0?Tn:c.root_name,gn=_(qt,Un,rn.format);sl(n,gn);const mn=new Al(Un,11);q3(mn,gn,n.getSpecialElements(),h.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),gn.innerHTML="";const[Rn,Lo]=ME(mn,n,c,rn),es=[],Ms=so?as=>dt(as,es):a,ko={nodes:{},attributes:{}},Gt=as=>oL(z(),Te(),as,ko);Bz(mn,[Rn,Gt],[Lo,Ms]),es.reverse(),so&&es.length>0&&(rn.context?rn.invalid=!0:cL(es,n,mn,Gt));const lo=Fz(c,rn);return lo&&(mn.name==="body"||rn.isRootContent)&&rt(mn,lo),rn.invalid||rL(ko,rn),mn}};return fz(Ft,c),nz(Ft,c,n),Ft},xx=e=>e instanceof Al,Pz=e=>xx(e)?O0({validate:!1}).serialize(e):e,Km=(e,n,o)=>{const i=Pz(e),c=n(i);if(c.isDefaultPrevented())return c;if(xx(e))if(c.content!==i){const p=Y3({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:p}}else return{...c,content:e};else return c},jm=e=>({sanitize:Ab(e),sandbox_iframes:f7(e),sandbox_iframes_exclusions:Lb(e)}),Pv=(e,n)=>{if(n.no_events)return fe.value(n);{const o=bC(e,n);return o.isDefaultPrevented()?fe.error(gi(e,{content:"",...o}).content):fe.value(o)}},$v=(e,n,o)=>o.no_events?n:Km(n,c=>gi(e,{...o,content:c}),jm(e)).content,hg=(e,n)=>{if(n.no_events)return fe.value(n);{const o=Km(n.content,i=>H8(e,{...n,content:i}),jm(e));return o.isDefaultPrevented()?(Xn(e,o),fe.error(void 0)):fe.value(o)}},bg=(e,n,o)=>{o.no_events||Xn(e,{...o,content:n})},yx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Cx=[],PL="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),_x=[{name:"export",replacedWith:"Export to PDF"}],Ex=(e,n)=>{const o=V(n,i=>vn(e,i));return Ze(o)},$L=e=>{const n=Ex(e,yx),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Ze(n)},HL=e=>Ex(e,Cx),B0=(e,n)=>{const o=Kn.makeMap(e.plugins," "),c=V(n,p=>vn(o,p));return Ze(c)},zL=e=>B0(e,PL),UL=e=>B0(e,_x.map(n=>n.name)),VL=(e,n)=>{const o=$L(e),i=zL(n),c=i.length>0,p=o.length>0,h=n.theme==="mobile";if(c||p||h){const _=`
- `,S=h?`

Themes:${_}mobile`:"",z=c?`

Plugins:${_}${i.join(_)}`:"",oe=p?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+S+z+oe)}},wx=e=>we(_x,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),WL=(e,n)=>{const o=HL(e),i=UL(n),c=i.length>0,p=o.length>0;if(c||p){const h=`
- `,_=c?`

Plugins:${h}${i.map(wx).join(h)}`:"",S=p?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+S)}},KL=(e,n)=>{VL(e,n),WL(e,n)},jL={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},IE=e=>{console.warn(jL[e],new Error().stack)},Q1=e=>e.dom.length===0?(kr(e),w.none()):w.some(e),Zm=(e,n)=>e.filter(o=>Bm.isBookmarkNode(o.dom)).bind(n?xd:Js),af=(e,n,o,i,c)=>{const p=e.dom,h=n.dom,_=i?p.length:h.length;i?(Z_(p,h,c,!1,!i),o.setStart(h,_)):(Z_(h,p,c,!1,!i),o.setEnd(h,_))},$z=(e,n,o)=>{si(e).each(i=>{const c=e.dom;n&&hv(i,hn(c,0),o)?ex(c,0,o):!n&&bv(i,hn(c,c.length),o)&&j_(c,c.length,o)})},ZL=(e,n,o,i,c)=>{e.bind(p=>((i?j_:ex)(p.dom,i?p.dom.length:0,c),n.filter(Ha).map(_=>af(p,_,o,i,c)))).orThunk(()=>Zm(n,i).or(n).filter(Ha).map(h=>$z(h,i,c)))},Hz=(e,n,o)=>{const i=w.from(n.firstChild).map(Ct.fromDom),c=w.from(n.lastChild).map(Ct.fromDom);e.deleteContents(),e.insertNode(n);const p=i.bind(Js).filter(Ha).bind(Q1),h=c.bind(xd).filter(Ha).bind(Q1);ZL(p,i,e,!0,o),ZL(h,c,e,!1,o),e.collapse(!1)},zz=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),Uz=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},p=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return O0({validate:!1},e.schema).serialize(p)}else return n.content},Sx=(e,n,o={})=>{const i=zz(o,n);hg(e,i).each(c=>{const p=Uz(e,c),h=e.selection.getRng();Hz(h,h.createContextualFragment(p),e.schema),e.selection.setRng(h),dv(e,h),bg(e,p,c)})},Vz=(e,n,o={})=>{IE("selectionSetContent"),Sx(e,n,o)},Wz=e=>s(e.firstChild)&&e.firstChild===e.lastChild,Kz=e=>e.name==="br"||e.value===Qs,jz=(e,n)=>e.getBlockElements()[n.name]&&Wz(n)&&Kz(n.firstChild),Zz=(e,n)=>{const o=e.getNonEmptyElements();return s(n)&&(n.isEmpty(o)||jz(e,n))},Gz=(e,n)=>{let o=n.firstChild,i=n.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),Zz(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},BE=e=>{var n,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},FE=(e,n,o)=>{const i=n.serialize(o),c=e.createFragment(i);return BE(c)},GL=e=>{var n;return V((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},qz=e=>e.data===Qs||Jr(e),Yz=e=>s(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&qz(e.firstChild),qL=e=>!e.firstChild||Yz(e),YL=e=>e.length>0&&qL(e[e.length-1])?e.slice(0,-1):e,Hv=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},XL=(e,n)=>!!Hv(e,n),JL=(e,n)=>{const o=n.cloneRange(),i=n.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},PE=(e,n)=>{const o=hn.before(e),c=ll(n).next(o);return c?c.toRange():null},QL=(e,n)=>{const o=hn.after(e),c=ll(n).prev(o);return c?c.toRange():null},Xz=(e,n,o,i)=>{const c=JL(e,i),p=e.parentNode;return p&&(p.insertBefore(c[0],e),Kn.each(n,h=>{p.insertBefore(h,e)}),p.insertBefore(c[1],e),p.removeChild(e)),QL(n[n.length-1],o)},ep=(e,n,o)=>{const i=e.parentNode;return i&&Kn.each(n,c=>{i.insertBefore(c,e)}),PE(e,o)},lf=(e,n,o,i)=>(i.insertAfter(n.reverse(),e),QL(n[0],o)),Tx=(e,n,o,i)=>{const c=FE(n,e,i),p=Hv(n,o.startContainer),h=YL(GL(c.firstChild)),_=1,S=2,z=n.getRoot(),oe=ve=>{const Te=hn.fromRangeStart(o),$e=ll(n.getRoot()),dt=ve===_?$e.prev(Te):$e.next(Te),at=dt==null?void 0:dt.getNode();return at?Hv(n,at)!==p:!0};return p?oe(_)?ep(p,h,z):oe(S)?lf(p,h,z,n):Xz(p,h,z,o):null},eD=["pre"],kx=(e,n,o,i)=>{var c;const p=n.firstChild,h=n.lastChild,_=h.attr("data-mce-type")==="bookmark"?h.prev:h,S=p===_,z=M(eD,p.name);if(S&&z){const oe=p.attr("contenteditable")!=="false",ve=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===p.name,Te=w.from(R0(i,o)).forall(ni);return oe&&ve&&Te}else return!1},Ax=Ph,tD=(e,n,o)=>{if(s(o)){const i=e.getParent(n.endContainer,Ax);return o===i&&P3(Ct.fromDom(o),n)}else return!1},nD=(e,n)=>{if(e.isBlock(n)&&e.isEditable(n)){const o=n.childNodes;return o.length===1&&Jr(o[0])||o.length===0}else return!1},oD=(e,n,o)=>{var i;o.getAttribute("data-mce-bogus")==="all"?(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(n),o):nD(e.dom,o)?e.dom.setHTML(o,n):Sx(e,n,{no_events:!0})},sD=(e,n,o)=>{w.from(e.getParent(n,"td,th")).map(Ct.fromDom).each(i=>V5(i,o))},rD=(e,n)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(n){const c=e.getBody(),p=iE(e),h="*[data-mce-fragment]",_=i.select(h);Kn.each(_,S=>{const z=Te=>s(o[Te.nodeName.toLowerCase()]),oe=Te=>Te.childNodes.length===1;if((Te=>!(kA(i,Te)||kJ(i,Te)))(S)&&z(S)&&oe(S)){const Te=fv(i,S),$e=(Wt,Ft)=>st(Wt,qt=>M(Ft,qt)),dt=Wt=>oe(S)&&i.is(Wt,h)&&z(Wt)&&(Wt.nodeName===S.nodeName&&$e(Te,fv(i,Wt))||dt(Wt.children[0])),at=Wt=>s(Wt)&&Wt!==c&&(p.compare(S,Wt)||at(Wt.parentElement)),rt=Wt=>s(Wt)&&Wt!==c&&i.is(Wt,h)&&(AA(i,S,Wt)||rt(Wt.parentElement));(dt(S.children[0])||at(S.parentElement)&&!rt(S.parentElement))&&i.remove(S,!0)}}),ZH(e,Pl(_))}},Ox=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},$E=e=>{Kn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},Jz=e=>!!e.getAttribute("data-mce-fragment"),Qz=(e,n)=>s(n)&&!e.schema.getVoidElements()[n.nodeName],eU=(e,n)=>{var o,i,c;let p;const h=e.dom,_=e.selection;if(!n)return;_.scrollIntoView(n);const S=R0(e.getBody(),n);if(S&&h.getContentEditable(S)==="false"){h.remove(n),_.select(S);return}let z=h.createRng();const oe=n.previousSibling;if(Yn(oe)){z.setStart(oe,(i=(o=oe.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const $e=n.nextSibling;Yn($e)&&(oe.appendData($e.data),(c=$e.parentNode)===null||c===void 0||c.removeChild($e))}else z.setStartBefore(n),z.setEndBefore(n);const ve=$e=>{let dt=hn.fromRangeStart($e);return dt=ll(e.getBody()).next(dt),dt==null?void 0:dt.toRange()},Te=h.getParent(n,h.isBlock);if(h.remove(n),Te&&h.isEmpty(Te)){const $e=Ax(Te);Ps(Ct.fromDom(Te)),z.setStart(Te,0),z.setEnd(Te,0),!$e&&!Jz(Te)&&(p=ve(z))?(z=p,h.remove(Te)):h.add(Te,h.create("br",$e?{}:{"data-mce-bogus":"1"}))}_.setRng(z)},tU=e=>{const n=e.dom,o=dx(e.selection.getRng());e.selection.setRng(o);const i=n.getParent(o.startContainer,Ax);tD(n,o,i)?sx(e,o,Ct.fromDom(i)):p_(o)||f_(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},aD=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return w.some(n);return w.none()},nU=(e,n,o)=>{var i;return W(o.children(),tL)&&((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},oU=(e,n,o)=>{var i;const c=e.selection,p=e.dom,h=e.parser,_=o.merge,S=O0({validate:!0},e.schema),z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=kc(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,z);let oe=c.getRng();const ve=oe.startContainer,Te=e.getBody();ve===Te&&c.isCollapsed()&&p.isBlock(Te.firstChild)&&Qz(e,Te.firstChild)&&p.isEmpty(Te.firstChild)&&(oe=p.createRng(),oe.setStart(Te.firstChild,0),oe.setEnd(Te.firstChild,0),c.setRng(oe)),c.isCollapsed()||tU(e);const $e=c.getNode(),dt={context:$e.nodeName.toLowerCase(),data:o.data,insert:!0},at=h.parse(n,dt);if(o.paste===!0&&Gz(e.schema,at)&&XL(p,$e))return oe=Tx(S,p,c.getRng(),at),oe&&c.setRng(oe),n;o.paste===!0&&kx(p,at,$e,e.getBody())&&((i=at.firstChild)===null||i===void 0||i.unwrap()),Ox(at);let rt=at.lastChild;if(rt&&rt.attr("id")==="mce_marker"){const Wt=rt;for(rt=rt.prev;rt&&rt.name!=="table";rt=rt.walk(!0))if(rt.type===3||!p.isBlock(rt.name)){rt.parent&&e.schema.isValidChild(rt.parent.name,"span")&&rt.parent.insert(Wt,rt,rt.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer($e),!dt.invalid&&!nU(p,$e,at))n=S.serialize(at),oD(e,n,$e);else{Sx(e,z);let Wt=c.getNode(),Ft;const qt=e.getBody();for(Aa(Wt)?Wt=Ft=qt:Ft=Wt;Ft&&Ft!==qt;)Wt=Ft,Ft=Ft.parentNode;n=Wt===qt?qt.innerHTML:p.getOuterHTML(Wt);const rn=h.parse(n),Tn=aD(rn),so=Tn.bind(lL).getOr(rn);Tn.each(mn=>mn.replace(at));const Un=qH(at);at.unwrap();const gn=V(Un,mn=>vE(e.schema,mn));cL(gn,e.schema,so),zm(h.getNodeFilters(),h.getAttributeFilters(),rn),n=S.serialize(rn),Wt===qt?p.setHTML(qt,n):p.setOuterHTML(Wt,n)}return rD(e,_),eU(e,p.get("mce_marker")),$E(e.getBody()),sD(p,c.getStart(),e.schema),El(e.schema,e.getBody(),c.getStart()),n},HE=e=>{Xf(e)&&Bi(e.getBody()).each(n=>{const o=n.getNode(),i=pu(o)?Bi(o).getOr(n):n;e.selection.setRng(i.toRange())})},zE=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&HE(e)},sU=(e,n,o,i)=>{if(o=kc(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const p=Mr(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),p.toLowerCase())?(o=c,o=e.dom.createHTML(p,Oc(e),o)):o||(o=c),zE(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=O0({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Tc(Ct.fromDom(n))?o:Kn.trim(o);return zE(e,c,i.no_selection),{content:c,html:c}}},rU=(e,n,o,i)=>{zm(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=O0({validate:!1},e.schema).serialize(o),p=kc(Tc(Ct.fromDom(n))?c:Kn.trim(c));return zE(e,p,i.no_selection),{content:o,html:p}},aU=(e,n,o)=>w.from(e.getBody()).map(i=>xx(n)?rU(e,i,n,o):sU(e,i,n,o)).getOr({content:n,html:xx(o.content)?"":o.content}),zv={},iD=fu(["pre"]),iU=(e,n)=>{zv[e]||(zv[e]=[]),zv[e].push(n)},Lx=(e,n)=>{vn(zv,e)&&R(zv[e],o=>{o(n)})};iU("pre",e=>{const n=e.selection.getRng(),o=c=>p=>{const h=p.previousSibling;return iD(h)&&M(c,h)},i=(c,p)=>{const h=Ct.fromDom(p),_=yi(h).dom;kr(h),Bl(Ct.fromDom(c),[Ct.fromTag("br",_),Ct.fromTag("br",_),...hr(h)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),p=V(V(c,iD),o(c));R(p,h=>{i(h.previousSibling,h)})}});const Dx=Kn.each,lU=(e,n,o,i)=>{const c=p=>{if(uu(p)&&Vo(p.parentNode)&&e.isEditable(p)){const h=k(e,p.parentNode);e.getStyle(p,"color")&&h?e.setStyle(p,"text-decoration",h):e.getStyle(p,"text-decoration")===h&&e.setStyle(p,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Kn.walk(i,c,"childNodes"),c(i))},cU=(e,n,o,i)=>{if(n.styles&&n.styles.backgroundColor){const c=PH(e,"fontSize");gE(i,p=>c(p)&&e.isEditable(p),HO(e,"backgroundColor",V1(n.styles.backgroundColor,o)))}},dU=(e,n,o,i)=>{if(no(n)&&(n.inline==="sub"||n.inline==="sup")){const c=PH(e,"fontSize");gE(i,h=>c(h)&&e.isEditable(h),HO(e,"fontSize",""));const p=V(e.select(n.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(p,!0)}},uU=(e,n,o,i)=>{Dx(n,c=>{no(c)&&Dx(e.dom.select(c.inline,i),p=>{PO(p)&&Ov(e,c,o,p,c.exact?p:null)}),FJ(e.dom,c,i)})},lD=(e,n,o,i,c)=>{const p=c.parentNode;Ou(e,p,o,i)&&Ov(e,n,i,c)||n.merge_with_parents&&p&&e.dom.getParent(p,h=>Ou(e,h,o,i)?(Ov(e,n,i,c),!0):!1)},fU=Kn.each,pU=(e,n,o,i)=>{if(wm(e)&&no(n)&&o.parentNode){const c=ya(e.schema),p=co(Ct.fromDom(o),h=>Gi(h.dom));return Hn(c,i)&&Of(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!p}else return!1},UE=(e,n,o,i)=>{const c=e.formatter.get(n),p=c[0],h=!i&&e.selection.isCollapsed(),_=e.dom,S=e.selection,z=($e,dt)=>{let at=!1;return fU($e,rt=>Sn(rt)?_.getContentEditable(dt)==="false"&&!rt.ceFalseOverride||s(rt.collapsed)&&rt.collapsed!==h?!0:_.is(dt,rt.selector)&&!Gi(dt)?(_v(e,dt,rt,o,dt),at=!0,!1):!0:!1),at},oe=$e=>{if(lt($e)){const dt=_.create($e);return _v(e,dt,p,o,i),dt}else return null},ve=($e,dt,at)=>{const rt=[];let Wt=!0;const Ft=p.inline||p.block,qt=oe(Ft),rn=Un=>Dt(p)&&Ou(e,Un,n,o),Tn=(Un,gn,mn)=>{const Rn=en(p)&&av(e.schema,Un)&&Im(e,gn,Ft);return mn&&Rn},so=(Un,gn,mn,Rn)=>{const Lo=Un.nodeName.toLowerCase(),es=Im(e,Ft,Lo)&&Im(e,gn,Ft),Ms=!at&&Yn(Un)&&um(Un.data),ko=Gi(Un),Gt=!no(p)||!$e.isBlock(Un);return(mn||Rn)&&es&&!Ms&&!ko&&Gt};mi($e,dt,Un=>{let gn;const mn=Rn=>{let Lo=!1,es=Wt,Ms=!1;const ko=Rn.parentNode,Gt=ko.nodeName.toLowerCase(),lo=$e.getContentEditable(Rn);s(lo)&&(es=Wt,Wt=lo==="true",Lo=!0,Ms=lv(e,Rn));const as=Wt&&!Lo;if(Jr(Rn)&&!pU(e,p,Rn,Gt)){gn=null,ut(p)&&$e.remove(Rn);return}if(rn(Rn)){gn=null;return}if(Tn(Rn,Gt,as)){const dr=$e.rename(Rn,Ft);_v(e,dr,p,o,Rn),rt.push(dr),gn=null;return}if(Sn(p)){let dr=z(c,Rn);if(!dr&&s(ko)&&Ko(p)&&(dr=z(c,ko)),!no(p)||dr){gn=null;return}}s(qt)&&so(Rn,Gt,as,Ms)?(gn||(gn=$e.clone(qt,!1),ko.insertBefore(gn,Rn),rt.push(gn)),Ms&&Lo&&(Wt=es),gn.appendChild(Rn)):(gn=null,R(xt(Rn.childNodes),mn),Lo&&(Wt=es),gn=null)};R(Un,mn)}),p.links===!0&&R(rt,Un=>{const gn=mn=>{mn.nodeName==="A"&&_v(e,mn,p,o,i),R(xt(mn.childNodes),gn)};gn(Un)}),jH(e,n,Pl(rt)),R(rt,Un=>{const gn=Lo=>{let es=0;return R(Lo.childNodes,Ms=>{!m_(Ms)&&!td(Ms)&&es++}),es},mn=Lo=>we(Lo.childNodes,ov).filter(Ms=>$e.getContentEditable(Ms)!=="false"&&ix($e,Ms,p)).map(Ms=>{const ko=$e.clone(Ms,!1);return _v(e,ko,p,o,Lo),$e.replace(ko,Lo,!0),$e.remove(Ms,!0),ko}).getOr(Lo),Rn=gn(Un);if((rt.length>1||!$e.isBlock(Un))&&Rn===0){$e.remove(Un,!0);return}(no(p)||ut(p)&&p.wrapper)&&(!p.exact&&Rn===1&&(Un=mn(Un)),uU(e,c,o,Un),lD(e,p,n,o,Un),cU($e,p,o,Un),lU($e,p,o,Un),dU($e,p,o,Un),$O(e,p,o,Un))})},Te=ig(i)?i:S.getNode();if(_.getContentEditable(Te)==="false"&&!lv(e,Te)){i=Te,z(c,i),P8(e,n,i,o);return}if(p){if(i)if(ig(i)){if(!z(c,i)){const $e=_.createRng();$e.setStartBefore(i),$e.setEndAfter(i),ve(_,Dc(_,$e,c),!0)}}else ve(_,i,!0);else!h||!no(p)||U1(e).length?(S.setRng(dx(S.getRng())),sv(e,()=>{$3(e,($e,dt)=>{const at=dt?$e:Dc(_,$e,c);ve(_,at,!1)})},ee),e.nodeChanged()):OH(e,n,o),Ys(e.formatter,n).each($e=>{R(kv(e.selection),dt=>EH(_,dt,$e,o))});Lx(n,e)}P8(e,n,i,o)},cD=(e,n,o,i)=>{(i||e.selection.isEditable())&&UE(e,n,o,i)},dD=e=>vn(e,"vars"),gU=(e,n)=>{e.set({}),n.on("NodeChange",o=>{gD(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const i=w.from(o.node).map(c=>ig(c)?c:c.startContainer).bind(c=>Vo(c)?w.some(c):w.from(c.parentElement)).getOrThunk(()=>uD(n));gD(n,i,e.get())})},uD=e=>e.selection.getStart(),fD=(e,n,o,i,c)=>Ee(n,_=>{const S=e.formatter.matchNode(_,o,c??{},i);return!ks(S)},_=>SH(e,_,o)?!0:i?!1:s(e.formatter.matchNode(_,o,c,!0))),pD=(e,n)=>{const o=n??uD(e);return V(Q(e.dom,o),i=>Vo(i)&&!Tp(i))},gD=(e,n,o)=>{const i=pD(e,n);Zt(o,(c,p)=>{const h=_=>{const S=fD(e,i,p,_.similar,dD(_)?_.vars:void 0),z=S.isSome();if(_.state.get()!==z){_.state.set(z);const oe=S.getOr(n);dD(_)?_.callback(z,{node:oe,format:p,parents:i}):R(_.callbacks,ve=>ve(z,{node:oe,format:p,parents:i}))}};R([c.withSimilar,c.withoutSimilar],h),R(c.withVars,h)})},Nx=(e,n,o,i,c,p)=>{const h=n.get();R(o.split(","),_=>{const S=Mn(h,_).getOrThunk(()=>{const oe={withSimilar:{state:zn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zn(!1),similar:!1,callbacks:[]},withVars:[]};return h[_]=oe,oe}),z=()=>{const oe=pD(e);return fD(e,oe,_,c,p).isSome()};if(ks(p)){const oe=c?S.withSimilar:S.withoutSimilar;oe.callbacks.push(i),oe.callbacks.length===1&&oe.state.set(z())}else S.withVars.push({state:zn(z()),similar:c,vars:p,callback:i})}),n.set(h)},Rx=(e,n,o)=>{const i=e.get();R(n.split(","),c=>Mn(i,c).each(p=>{i[c]={withSimilar:{...p.withSimilar,callbacks:V(p.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...p.withoutSimilar,callbacks:V(p.withoutSimilar.callbacks,h=>h!==o)},withVars:V(p.withVars,h=>h.callback!==o)}})),e.set(i)},mU=(e,n,o,i,c,p)=>(Nx(e,n,o,i,c,p),{unbind:()=>Rx(n,o,i)}),hU=(e,n,o,i)=>{const c=e.formatter.get(n);c&&(jl(e,n,o,i)&&(!("toggle"in c[0])||c[0].toggle)?XO(e,n,o,i):cD(e,n,o,i))},X3=(e,n,o)=>({element:e,width:n,rows:o}),mD=(e,n)=>({element:e,cells:n}),bU=(e,n)=>({x:e,y:n}),hD=(e,n)=>pa(e,n).bind(Tr).getOr(1),vU=(e,n,o,i,c)=>{const p=hD(c,"rowspan"),h=hD(c,"colspan"),_=e.rows;for(let S=o;S<o+p;S++){_[S]||(_[S]=mD(Di(i),[]));for(let z=n;z<n+h;z++){const oe=_[S].cells;oe[z]=S===o&&z===n?c:qr(c)}}},xU=(e,n,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[n]},yU=(e,n,o)=>{for(;xU(e,n,o);)n++;return n},bD=e=>Le(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),vD=(e,n)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let p=0;p<c.length;p++)if(Ws(c[p],n))return w.some(bU(p,i))}return w.none()},xD=(e,n,o,i,c)=>{const p=[],h=e.rows;for(let _=o;_<=c;_++){const S=h[_].cells,z=n<i?S.slice(n,i+1):S.slice(i,n+1);p.push(mD(h[_].element,z))}return p},CU=(e,n,o)=>{const i=n.x,c=n.y,p=o.x,h=o.y,_=c<h?xD(e,i,c,p,h):xD(e,i,h,p,c);return X3(e.element,bD(_),_)},_U=(e,n)=>{const o=qr(e.element),i=Ct.fromTag("tbody");return Bl(i,n),Lr(o,i),o},UJ=e=>K(e.rows,n=>{const o=K(n.cells,c=>{const p=Di(c);return er(p,"colspan"),er(p,"rowspan"),p}),i=qr(n.element);return Bl(i,o),i}),cf=e=>{const n=X3(qr(e),0,[]);return R(Nt(e,"tr"),(o,i)=>{R(Nt(o,"td,th"),(c,p)=>{vU(n,yU(n,p,i),i,o,c)})}),X3(n.element,bD(n.rows),n.rows)},yD=e=>_U(e,UJ(e)),EU=(e,n,o)=>vD(e,n).bind(i=>vD(e,o).map(c=>CU(e,i,c))),CD=e=>we(e,n=>Fs(n)==="ul"||Fs(n)==="ol"),wU=(e,n)=>we(e,o=>Fs(o)==="li"&&P3(o,n)).fold(O([]),o=>CD(e).map(i=>{const c=Ct.fromTag(Fs(i)),p=nn(Wa(i),(h,_)=>qo(_,"list-style"));return Ni(c,p),[Ct.fromTag("li"),c]}).getOr([])),SU=(e,n)=>{const o=Le(n,(i,c)=>(Lr(c,i),c),e);return n.length>0?Cp([o]):o},VJ=e=>Ip(e)?si(e).filter(Mp).fold(O([]),n=>[e,n]):Mp(e)?[e]:[],Ol=(e,n,o)=>{const i=Ct.fromDom(n.commonAncestorContainer),c=fg(i,e),p=V(c,S=>o.isWrapper(Fs(S))),h=wU(c,n),_=p.concat(h.length?h:VJ(i));return K(_,qr)},_D=()=>Cp([]),VE=(e,n,o)=>SU(Ct.fromDom(n.cloneContents()),Ol(e,n,o)),ED=(e,n)=>Vu(n,"table",B(Ws,e)),Mx=(e,n)=>ED(e,n[0]).bind(o=>{const i=n[0],c=n[n.length-1],p=cf(o);return EU(p,i,c).map(h=>Cp([yD(h)]))}).getOrThunk(_D),TU=(e,n,o)=>n.length>0&&n[0].collapsed?_D():VE(e,n[0],o),kU=(e,n,o)=>{const i=Qb(n,e);return i.length>0?Mx(e,i):TU(e,n,o)},Ix=(e,n)=>n>=0&&n<e.length&&rg(e.charAt(n)),wD=e=>kc(e.innerText),AU=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),SD=e=>w.from(e.selection.getRng()).map(n=>{var o;const i=w.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),p=AU(i),h=Ct.fromDom(n.cloneContents());xA(h),F_(h);const _=e.dom.add(c,p,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),S=wD(_),z=kc((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),Ix(z,0)||Ix(z,z.length-1)){const oe=i.getOr(c),ve=wD(oe),Te=ve.indexOf(S);if(Te===-1)return S;{const $e=Ix(ve,Te-1),dt=Ix(ve,Te+S.length);return($e?" ":"")+S+(dt?" ":"")}}else return S}).getOr(""),OU=(e,n)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),p=pA(e,Xb(c)),h=n.contextual?kU(Ct.fromDom(e.getBody()),p,e.schema).dom:o.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,n)},TD=(e,n)=>{if(n.format==="text")return SD(e);{const o=OU(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},kD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),LU=(e,n,o={})=>{const i=kD(o,n);return Pv(e,i).fold(T,c=>{const p=TD(e,c);return $v(e,p,c)})},WE=0,AD=1,OD=2,DU=(e,n)=>{const o=e.length+n.length+2,i=new Array(o),c=new Array(o),p=(oe,ve,Te)=>({start:oe,end:ve,diag:Te}),h=(oe,ve,Te,$e,dt)=>{const at=S(oe,ve,Te,$e);if(at===null||at.start===ve&&at.diag===ve-$e||at.end===oe&&at.diag===oe-Te){let rt=oe,Wt=Te;for(;rt<ve||Wt<$e;)rt<ve&&Wt<$e&&e[rt]===n[Wt]?(dt.push([WE,e[rt]]),++rt,++Wt):ve-oe>$e-Te?(dt.push([OD,e[rt]]),++rt):(dt.push([AD,n[Wt]]),++Wt)}else{h(oe,at.start,Te,at.start-at.diag,dt);for(let rt=at.start;rt<at.end;++rt)dt.push([WE,e[rt]]);h(at.end,ve,at.end-at.diag,$e,dt)}},_=(oe,ve,Te,$e)=>{let dt=oe;for(;dt-ve<$e&&dt<Te&&e[dt]===n[dt-ve];)++dt;return p(oe,dt,ve)},S=(oe,ve,Te,$e)=>{const dt=ve-oe,at=$e-Te;if(dt===0||at===0)return null;const rt=dt-at,Wt=at+dt,Ft=(Wt%2===0?Wt:Wt+1)/2;i[1+Ft]=oe,c[1+Ft]=ve+1;let qt,rn,Tn,so,Un;for(qt=0;qt<=Ft;++qt){for(rn=-qt;rn<=qt;rn+=2){for(Tn=rn+Ft,rn===-qt||rn!==qt&&i[Tn-1]<i[Tn+1]?i[Tn]=i[Tn+1]:i[Tn]=i[Tn-1]+1,so=i[Tn],Un=so-oe+Te-rn;so<ve&&Un<$e&&e[so]===n[Un];)i[Tn]=++so,++Un;if(rt%2!==0&&rt-qt<=rn&&rn<=rt+qt&&c[Tn-rt]<=i[Tn])return _(c[Tn-rt],rn+oe-Te,ve,$e)}for(rn=rt-qt;rn<=rt+qt;rn+=2){for(Tn=rn+Ft-rt,rn===rt-qt||rn!==rt+qt&&c[Tn+1]<=c[Tn-1]?c[Tn]=c[Tn+1]-1:c[Tn]=c[Tn-1],so=c[Tn]-1,Un=so-oe+Te-rn;so>=oe&&Un>=Te&&e[so]===n[Un];)c[Tn]=so--,Un--;if(rt%2===0&&-qt<=rn&&rn<=qt&&c[Tn]<=i[Tn+rt])return _(c[Tn],rn+oe-Te,ve,$e)}}return null},z=[];return h(0,e.length,0,n.length,z),z},Uv=e=>Vo(e)?e.outerHTML:Yn(e)?Lp.encodeRaw(e.data,!1):Ku(e)?"<!--"+e.data+"-->":"",LD=e=>{let n;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)i.appendChild(n);return i},DD=(e,n,o)=>{const i=LD(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},NU=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},ND=(e,n)=>{let o=0;R(e,i=>{i[0]===WE?o++:i[0]===AD?(DD(n,i[1],o),o++):i[0]===OD&&NU(n,o)})},RU=(e,n)=>V(K(xt(e.childNodes),f(kc,Uv)),o=>o.length>0),MU=(e,n)=>{const o=K(xt(n.childNodes),Uv);return ND(DU(o,e),n),n},IU=Ur(()=>document.implementation.createHTMLDocument("undo")),KE=e=>e.querySelector("iframe")!==null,jE=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),BU=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),J3=e=>{const n=e.serializer.getTempAttrs(),o=Pm(e.getBody(),n);return KE(o)?jE(RU(o)):BU(kc(o.innerHTML))},ZE=(e,n,o)=>{const i=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?MU(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:s(i)&&ws(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},GE=e=>e.type==="fragmented"?e.fragments.join(""):e.content,RD=e=>{const n=Ct.fromTag("body",IU());return ei(n,GE(e)),R(Nt(n,"*[data-mce-bogus]"),Fl),Th(n)},FU=(e,n)=>GE(e)===GE(n),PU=(e,n)=>RD(e)===RD(n),qE=(e,n)=>!e||!n?!1:FU(e,n)?!0:PU(e,n),Bx=e=>e.get()===0,Fx=(e,n,o)=>{Bx(o)&&(e.typing=n)},MD=(e,n)=>{e.typing&&(Fx(e,!1,n),e.add())},$U=e=>{e.typing&&(e.typing=!1,e.add())},HU=(e,n,o)=>{Bx(n)&&o.set(xm(e.selection))},zU=(e,n,o,i,c,p,h)=>{const _=J3(e),S=Kn.extend(p||{},_);if(!Bx(i)||e.removed)return null;const z=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:S,lastLevel:z,originalEvent:h}).isDefaultPrevented()||z&&qE(z,S))return null;n.data[o.get()]&&c.get().each(Te=>{n.data[o.get()].beforeBookmark=Te});const oe=FC(e);if(oe&&n.data.length>oe){for(let Te=0;Te<n.data.length-1;Te++)n.data[Te]=n.data[Te+1];n.data.length--,o.set(n.data.length)}S.bookmark=xm(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(S),o.set(n.data.length-1);const ve={level:S,lastLevel:z,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",ve),e.dispatch("change",ve)):e.dispatch("AddUndo",ve),S},UU=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},VU=(e,n,o,i,c)=>{if(n.transact(i)){const p=n.data[o.get()].bookmark,h=n.data[o.get()-1];ZE(e,h,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=p)}},Q3=(e,n,o)=>{let i;return n.get()<o.length-1&&(n.set(n.get()+1),i=o[n.get()],ZE(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},Px=(e,n,o,i)=>{let c;return n.typing&&(n.add(),n.typing=!1,Fx(n,!1,o)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],ZE(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},ID=e=>{e.clear(),e.add()},BD=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!qE(J3(e),n.data[0]),WU=(e,n)=>n.get()<e.data.length-1&&!e.typing,KU=(e,n,o)=>(MD(e,n),e.beforeChange(),e.ignore(o),e.add()),YE=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},jU=(e,n)=>{const o=e.dom,i=s(n)?n:e.getBody();R(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const p=C3(e),h=o.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?o.addClass(c,p):o.removeClass(c,p);break;case"A":if(!o.getAttrib(c,"href")){const _=o.getAttrib(c,"name")||c.id,S=Sm(e);_&&e.hasVisual?o.addClass(c,S):o.removeClass(c,S)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},FD=e=>({init:{bindEvents:a},undoManager:{beforeChange:(n,o)=>HU(e,n,o),add:(n,o,i,c,p,h)=>zU(e,n,o,i,c,p,h),undo:(n,o,i)=>Px(e,n,o,i),redo:(n,o)=>Q3(e,n,o),clear:(n,o)=>UU(e,n,o),reset:n=>ID(n),hasUndo:(n,o)=>BD(e,n,o),hasRedo:(n,o)=>WU(n,o),transact:(n,o,i)=>KU(n,o,i),ignore:(n,o)=>YE(n,o),extra:(n,o,i,c)=>VU(e,n,o,i,c)},formatter:{match:(n,o,i,c)=>jl(e,n,o,i,c),matchAll:(n,o)=>RJ(e,n,o),matchNode:(n,o,i,c)=>Ou(e,n,o,i,c),canApply:n=>kO(e,n),closest:n=>kH(e,n),apply:(n,o,i)=>cD(e,n,o,i),remove:(n,o,i,c)=>XO(e,n,o,i,c),toggle:(n,o,i)=>hU(e,n,o,i),formatChanged:(n,o,i,c,p)=>mU(e,n,o,i,c,p)},editor:{getContent:n=>P_(e,n),setContent:(n,o)=>aU(e,n,o),insertContent:(n,o)=>oU(e,n,o),addVisual:n=>jU(e,n)},selection:{getContent:(n,o)=>LU(e,n,o)},autocompleter:{addDecoration:a,removeDecoration:a},raw:{getModel:()=>w.none()}}),ZU=e=>{const n=z=>qn(z)?z:{},{init:o,undoManager:i,formatter:c,editor:p,selection:h,autocompleter:_,raw:S}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(z,oe,ve)=>i.transact(ve),ignore:(z,oe)=>i.ignore(oe),extra:(z,oe,ve,Te)=>i.extra(ve,Te)},formatter:{match:(z,oe,ve,Te)=>c.match(z,n(oe),Te),matchAll:c.matchAll,matchNode:c.matchNode,canApply:z=>c.canApply(z),closest:z=>c.closest(z),apply:(z,oe,ve)=>c.apply(z,n(oe)),remove:(z,oe,ve,Te)=>c.remove(z,n(oe)),toggle:(z,oe,ve)=>c.toggle(z,n(oe)),formatChanged:(z,oe,ve,Te,$e)=>c.formatChanged(oe,ve,Te,$e)},editor:{getContent:z=>p.getContent(z),setContent:(z,oe)=>({content:p.setContent(z,oe),html:""}),insertContent:(z,oe)=>(p.insertContent(z),""),addVisual:p.addVisual},selection:{getContent:(z,oe)=>h.getContent(oe)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>w.some(S.getRawModel())}}},GU=()=>{const e=O(null),n=O("");return{init:{bindEvents:a},undoManager:{beforeChange:a,add:e,undo:e,redo:e,clear:a,reset:a,hasUndo:H,hasRedo:H,transact:e,ignore:a,extra:a},formatter:{match:H,matchAll:O([]),matchNode:O(void 0),canApply:H,closest:n,apply:a,remove:a,toggle:a,formatChanged:O({unbind:a})},editor:{getContent:n,setContent:O({content:"",html:""}),insertContent:O(""),addVisual:a},selection:{getContent:n},autocompleter:{addDecoration:a,removeDecoration:a},raw:{getModel:O(w.none())}}},tp=e=>vn(e.plugins,"rtc"),$x=e=>Mn(e.plugins,"rtc").bind(n=>w.from(n.setup)),Vv=e=>{const n=e;return $x(e).fold(()=>(n.rtcInstance=FD(e),w.none()),o=>(n.rtcInstance=GU(),w.some(()=>o().then(i=>(n.rtcInstance=ZU(i),i.rtc.isRemote)))))},XE=e=>e.rtcInstance?e.rtcInstance:FD(e),Na=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Vd=(e,n,o)=>{Na(e).undoManager.beforeChange(n,o)},Wv=(e,n,o,i,c,p,h)=>Na(e).undoManager.add(n,o,i,c,p,h),Ir=(e,n,o,i)=>Na(e).undoManager.undo(n,o,i),Kv=(e,n,o)=>Na(e).undoManager.redo(n,o),PD=(e,n,o)=>{Na(e).undoManager.clear(n,o)},$D=(e,n)=>{Na(e).undoManager.reset(n)},Hx=(e,n,o)=>Na(e).undoManager.hasUndo(n,o),JE=(e,n,o)=>Na(e).undoManager.hasRedo(n,o),QE=(e,n,o,i)=>Na(e).undoManager.transact(n,o,i),ew=(e,n,o)=>{Na(e).undoManager.ignore(n,o)},tw=(e,n,o,i,c)=>{Na(e).undoManager.extra(n,o,i,c)},zx=(e,n,o,i,c)=>Na(e).formatter.match(n,o,i,c),nw=(e,n,o)=>Na(e).formatter.matchAll(n,o),HD=(e,n,o,i,c)=>Na(e).formatter.matchNode(n,o,i,c),zD=(e,n)=>Na(e).formatter.canApply(n),UD=(e,n)=>Na(e).formatter.closest(n),VD=(e,n,o,i)=>{Na(e).formatter.apply(n,o,i)},WD=(e,n,o,i,c)=>{Na(e).formatter.remove(n,o,i,c)},F0=(e,n,o,i)=>{Na(e).formatter.toggle(n,o,i)},KD=(e,n,o,i,c,p)=>Na(e).formatter.formatChanged(n,o,i,c,p),ow=(e,n)=>XE(e).editor.getContent(n),qU=(e,n,o)=>XE(e).editor.setContent(n,o),YU=(e,n,o)=>XE(e).editor.insertContent(n,o),jD=(e,n,o)=>Na(e).selection.getContent(n,o),ZD=(e,n)=>Na(e).editor.addVisual(n),sw=e=>Na(e).init.bindEvents(),Ux=(e,n={})=>{const o=n.format?n.format:"html";return jD(e,o,n)},rw=(e,n,o)=>{if(vn(e,n)){const i=V(e[n],c=>c!==o);i.length===0?delete e[n]:e[n]=i}};var GD=(e,n)=>{let o,i;const c=(_,S)=>we(S,z=>e.is(z,_)),p=_=>e.getParents(_,void 0,e.getRoot()),h=()=>{o={},i={},n.on("NodeChange",_=>{const S=_.element,z=p(S),oe={};Zt(o,(ve,Te)=>{c(Te,z).each($e=>{i[Te]||(R(ve,dt=>{dt(!0,{node:$e,selector:Te,parents:z})}),i[Te]=ve),oe[Te]=ve})}),Zt(i,(ve,Te)=>{oe[Te]||(delete i[Te],R(ve,$e=>{$e(!1,{node:S,selector:Te,parents:z})}))})})};return{selectorChangedWithUnbind:(_,S)=>(o||h(),o[_]||(o[_]=[]),o[_].push(S),c(_,p(n.selection.getStart())).each(()=>{i[_]=o[_]}),{unbind:()=>{rw(o,_,S),rw(i,_,S)}})}};const aw=e=>!!(e&&e.ownerDocument)&&vl(Ct.fromDom(e.ownerDocument),Ct.fromDom(e)),qD=e=>e?aw(e.startContainer)&&aw(e.endContainer):!1,iw=(e,n,o,i)=>{let c,p;const{selectorChangedWithUnbind:h}=GD(e,i),_=(Gn,Ro)=>{const Xs=e.createRng();s(Gn)&&s(Ro)?(Xs.setStart(Gn,Ro),Xs.setEnd(Gn,Ro),rn(Xs),Wt(!1)):(nv(e,Xs,i.getBody(),!0),rn(Xs))},S=Gn=>Ux(i,Gn),z=(Gn,Ro)=>Vz(i,Gn,Ro),oe=Gn=>R_(i.getBody(),qt(),Gn),ve=Gn=>K7(i.getBody(),qt(),Gn),Te=(Gn,Ro)=>dr.getBookmark(Gn,Ro),$e=Gn=>dr.moveToBookmark(Gn),dt=(Gn,Ro)=>(xJ(e,Gn,Ro).each(rn),Gn),at=()=>{const Gn=qt(),Ro=Ft();return!Gn||Gn.item?!1:Gn.compareEndPoints?Gn.compareEndPoints("StartToEnd",Gn)===0:!Ro||Gn.collapsed},rt=()=>{if(i.mode.isReadOnly())return!1;const Gn=qt(),Ro=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Ro.length>0?st(Ro,Xs=>e.isEditable(Xs.parentElement)):uA(e,Gn)},Wt=Gn=>{const Ro=qt();Ro.collapse(!!Gn),rn(Ro)},Ft=()=>n.getSelection?n.getSelection():n.document.selection,qt=()=>{let Gn;const Ro=(rr,Bo,Pn)=>{try{return Bo.compareBoundaryPoints(rr,Pn)}catch{return-1}},Xs=n.document;if(s(i.bookmark)&&!Xf(i)){const rr=I7(i);if(rr.isSome())return rr.map(Bo=>pA(i,[Bo])[0]).getOr(Xs.createRange())}try{const rr=Ft();rr&&!Xg(rr.anchorNode)&&(rr.rangeCount>0?Gn=rr.getRangeAt(0):Gn=Xs.createRange(),Gn=pA(i,[Gn])[0])}catch{}if(Gn||(Gn=Xs.createRange()),Aa(Gn.startContainer)&&Gn.collapsed){const rr=e.getRoot();Gn.setStart(rr,0),Gn.setEnd(rr,0)}return c&&p&&(Ro(Gn.START_TO_START,Gn,c)===0&&Ro(Gn.END_TO_END,Gn,c)===0?Gn=p:(c=null,p=null)),Gn},rn=(Gn,Ro)=>{if(!qD(Gn))return;const Xs=Ft();if(Gn=i.dispatch("SetSelectionRange",{range:Gn,forward:Ro}).range,Xs){p=Gn;try{Xs.removeAllRanges(),Xs.addRange(Gn)}catch{}Ro===!1&&Xs.extend&&(Xs.collapse(Gn.endContainer,Gn.endOffset),Xs.extend(Gn.startContainer,Gn.startOffset)),c=Xs.rangeCount>0?Xs.getRangeAt(0):null}if(!Gn.collapsed&&Gn.startContainer===Gn.endContainer&&(Xs!=null&&Xs.setBaseAndExtent)&&Gn.endOffset-Gn.startOffset<2&&Gn.startContainer.hasChildNodes()){const Bo=Gn.startContainer.childNodes[Gn.startOffset];Bo&&Bo.nodeName==="IMG"&&(Xs.setBaseAndExtent(Gn.startContainer,Gn.startOffset,Gn.endContainer,Gn.endOffset),(Xs.anchorNode!==Gn.startContainer||Xs.focusNode!==Gn.endContainer)&&Xs.setBaseAndExtent(Bo,0,Bo,1))}i.dispatch("AfterSetSelectionRange",{range:Gn,forward:Ro})},Tn=Gn=>(Sx(i,e.getOuterHTML(Gn)),Gn),so=()=>I_(i.getBody(),qt()),Un=(Gn,Ro)=>E$(e,qt(),Gn,Ro),gn=()=>{const Gn=Ft(),Ro=Gn==null?void 0:Gn.anchorNode,Xs=Gn==null?void 0:Gn.focusNode;if(!Gn||!Ro||!Xs||Xg(Ro)||Xg(Xs))return!0;const rr=e.createRng(),Bo=e.createRng();try{rr.setStart(Ro,Gn.anchorOffset),rr.collapse(!0),Bo.setStart(Xs,Gn.focusOffset),Bo.collapse(!0)}catch{return!0}return rr.compareBoundaryPoints(rr.START_TO_START,Bo)<=0},as={dom:e,win:n,serializer:o,editor:i,expand:(Gn={type:"word"})=>rn(Z1(e).expand(qt(),Gn)),collapse:Wt,setCursorLocation:_,getContent:S,setContent:z,getBookmark:Te,moveToBookmark:$e,select:dt,isCollapsed:at,isEditable:rt,isForward:gn,setNode:Tn,getNode:so,getSel:Ft,setRng:rn,getRng:qt,getStart:oe,getEnd:ve,getSelectedBlocks:Un,normalize:()=>{const Gn=qt(),Ro=Ft();if(!Jb(Ro)&&w0(i)){const Xs=A0(e,Gn);return Xs.each(rr=>{rn(rr,gn())}),Xs.getOr(Gn)}return Gn},selectorChanged:(Gn,Ro)=>(h(Gn,Ro),as),selectorChangedWithUnbind:h,getScrollContainer:()=>{let Gn,Ro=e.getRoot();for(;Ro&&Ro.nodeName!=="BODY";){if(Ro.scrollHeight>Ro.clientHeight){Gn=Ro;break}Ro=Ro.parentNode}return Gn},scrollIntoView:(Gn,Ro)=>{s(Gn)?_$(i,Gn,Ro):dv(i,qt(),Ro)},placeCaretAt:(Gn,Ro)=>rn(oA(Gn,Ro,i.getDoc())),getBoundingClientRect:()=>{const Gn=qt();return Gn.collapsed?hn.fromRangeStart(Gn).getClientRects()[0]:Gn.getBoundingClientRect()},destroy:()=>{n=c=p=null,va.destroy()}},dr=Bm(as),va=nA(as,i);return as.bookmarkManager=dr,as.controlSelection=va,as},YD=(e,n,o)=>{n.addNodeFilter("br",(i,c,p)=>{const h=Kn.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),S=o.getWhitespaceElements();h.body=1;const z=oe=>oe.name in h||Vl(o,oe);for(let oe=0,ve=i.length;oe<ve;oe++){let Te=i[oe],$e=Te.parent;if($e&&z($e)&&Te===$e.lastChild){let dt=Te.prev;for(;dt;){const at=dt.name;if(at!=="span"||dt.attr("data-mce-type")!=="bookmark"){at==="br"&&(Te=null);break}dt=dt.prev}if(Te&&(Te.remove(),K3(o,_,S,$e))){const at=o.getElementRule($e.name);at&&(at.removeEmpty?$e.remove():at.paddEmpty&&cx(e,p,z,$e))}}else{let dt=Te;for(;$e&&$e.firstChild===dt&&$e.lastChild===dt&&(dt=$e,!h[$e.name]);)$e=$e.parent;if(dt===$e){const at=new Al("#text",3);at.value=Qs,Te.replace(at)}}}})},XD=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let p=i.length;for(;p--;){const h=i[p];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const p="data-mce-"+c,h=n.url_converter,_=n.url_converter_scope;let S=i.length;for(;S--;){const z=i[S];let oe=z.attr(p);oe!==void 0?(z.attr(c,oe.length>0?oe:null),z.attr(p,null)):(oe=z.attr(c),c==="style"?oe=o.serializeStyle(o.parseStyle(oe),z.name):h&&(oe=h.call(_,oe,c,z.name)),z.attr(c,oe.length>0?oe:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const p=i[c];let h=p.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),p.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(i,c,p)=>{let h=i.length;for(;h--;){const _=i[h];_.attr("data-mce-type")==="bookmark"&&!p.cleanup&&(w.from(_.firstChild).exists(z=>{var oe;return!um((oe=z.value)!==null&&oe!==void 0?oe:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var p;const h=S=>S.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=i.length;for(;_--;){const S=i[_],z=S.firstChild,oe=(p=z==null?void 0:z.value)!==null&&p!==void 0?p:"";if(c==="script"){const ve=S.attr("type");ve&&S.attr("type",ve==="mce-no/type"?null:ve.replace(/^mce\-/,"")),n.element_format==="xhtml"&&z&&oe.length>0&&(z.value=`// <![CDATA[
`+h(oe)+`
// ]]>`)}else n.element_format==="xhtml"&&z&&oe.length>0&&(z.value=`<!--
`+h(oe)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const p=i[c],h=p.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(p.name="#cdata",p.type=4,p.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(p.name="#text",p.type=3,p.raw=!0,p.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let p=i.length;for(;p--;){const h=i[p];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{R(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let p=i.length;for(;p--;)i[p].attr(c,null)}),n.remove_trailing_brs&&YD(n,e,e.schema)},JD=e=>{const n=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(n(o)){const i=o.prev;n(i)&&(o.remove(),i.remove())}},QD=(e,n,o)=>{let i;const c=e.dom;let p=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const _=h.createHTMLDocument("");Kn.each(p.nodeName==="BODY"?p.childNodes:[p],S=>{_.body.appendChild(_.importNode(S,!0))}),p.nodeName!=="BODY"?p=_.body.firstChild:p=_.body,i=c.doc,c.doc=_}return pC(e,{...o,node:p}),i&&(c.doc=i),p},eN=(e,n)=>s(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,lw=(e,n,o)=>eN(e,o)?QD(e,n,o):n,tN=(e,n,o)=>{Kn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let p=i.length;for(;p--;)i[p].attr(c,null)}),n.push(o))},nN=(e,n,o)=>!n.no_events&&e?ym(e,{...n,content:o}).content:o,oN=(e,n,o)=>{const i=kc(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Tc(Ct.fromDom(n))?i:Kn.trim(i)},sN=(e,n,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,i);return JD(c),c},rN=(e,n,o)=>O0(e,n).serialize(o),aN=(e,n,o,i,c)=>{const p=rN(n,o,i);return nN(e,c,p)},iN=(e,n)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Ar.DOM,p=n&&n.schema?n.schema:oc(i),h=Y3(i,p);XD(h,i,c);const _=(S,z={})=>{const oe={format:"html",...z},ve=lw(n,S,oe),Te=oN(c,ve,oe),$e=sN(h,Te,oe);return oe.format==="tree"?$e:aN(n,i,p,$e,oe)};return{schema:p,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:_,addRules:p.addValidElements,setRules:p.setValidElements,addTempAttr:B(tN,h,o),getTempAttrs:O(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},Vx=(e,n)=>{const o=iN(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Wx="html",lN=(e,n)=>({...e,format:n,get:!0,getInner:!0}),XU=(e,n={})=>{const o=n.format?n.format:Wx,i=lN(n,o);return Pv(e,i).fold(T,c=>{const p=ow(e,c);return $v(e,p,c)})},cN="html",Kx=(e,n)=>({format:cN,...e,set:!0,content:n}),jv=(e,n,o={})=>{const i=Kx(o,n);hg(e,i).each(c=>{const p=qU(e,c.content,c);bg(e,p.html,c)})},Gm=Ar.DOM,cw=e=>{Gm.setStyle(e.id,"display",e.orgDisplay)},Zv=e=>w.from(e).each(n=>n.destroy()),e4=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const i=o.dom;n.selection=o.win=o.dom=i.doc=null}},dw=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),Gm.unbind(n,"submit reset",e.formEventDelegate))},uw=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s(c==null?void 0:c.nextSibling)&&Gm.remove(c.nextSibling),Wr(e),e.editorManager.remove(e),!e.inline&&i&&cw(e),wu(e),Gm.remove(e.getContainer()),Zv(n),Zv(o),e.destroy()}},t4=(e,n)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Zv(o),Zv(i)),dw(e),e4(e),e.destroyed=!0}},Gv=(()=>{const e={};return{add:(c,p)=>{e[c]=p},get:c=>e[c]?e[c]:{icons:{}},has:c=>vn(e,c)}})(),n4=Zi.ModelManager,dN=(e,n)=>n.dom[e],fw=(e,n)=>parseInt(Va(n,e),10),uN=B(dN,"clientWidth"),fN=B(dN,"clientHeight"),JU=B(fw,"margin-top"),qm=B(fw,"margin-left"),$0=e=>e.dom.getBoundingClientRect(),pN=(e,n,o)=>{const i=uN(e),c=fN(e);return n>=0&&o>=0&&n<=i&&o<=c},gN=(e,n,o,i)=>{const c=$0(n),p=e?c.left+n.dom.clientLeft+qm(n):0,h=e?c.top+n.dom.clientTop+JU(n):0,_=o-p,S=i-h;return{x:_,y:S}},QU=(e,n,o)=>{const i=Ct.fromDom(e.getBody()),c=e.inline?i:Bg(i),p=gN(e.inline,c,n,o);return pN(c,p.x,p.y)},eV=e=>w.from(e).map(Ct.fromDom),tV=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return eV(n).map(Cd).getOr(!1)};var ld=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Du=e=>{const n=[],o=()=>{const Te=e.theme;return Te&&Te.getNotificationManagerImpl?Te.getNotificationManagerImpl():ld()},i=()=>w.from(n[0]),c=(Te,$e)=>Te.type===$e.type&&Te.text===$e.text&&!Te.progressBar&&!Te.timeout&&!$e.progressBar&&!$e.timeout,p=()=>{i().each(Te=>{Te.reposition()})},h=Te=>{n.push(Te)},_=Te=>{Ne(n,$e=>$e===Te).each($e=>{n.splice($e,1)})},S=(Te,$e=!0)=>e.removed||!tV(e)?{}:($e&&e.dispatch("BeforeOpenNotification",{notification:Te}),we(n,dt=>c(o().getArgs(dt),Te)).getOrThunk(()=>{e.editorManager.setActive(e);const dt=o().open(Te,()=>{_(dt)},()=>z7(e));return h(dt),p(),e.dispatch("OpenNotification",{notification:{...dt}}),dt})),z=()=>{i().each(Te=>{o().close(Te),_(Te),p()})},oe=O(n);return(Te=>{Te.on("SkinLoaded",()=>{const $e=gr(Te);$e&&S({text:$e,type:"warning",timeout:0},!1),p()}),Te.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(p)}),Te.on("remove",()=>{R(n.slice(),$e=>{o().close($e)})}),Te.on("keydown",$e=>{var dt;const at=((dt=$e.key)===null||dt===void 0?void 0:dt.toLowerCase())==="f12"||$e.keyCode===123;$e.altKey&&at&&($e.preventDefault(),i().map(rt=>Ct.fromDom(rt.getEl())).each(rt=>bp(rt)))})})(e),{open:S,close:z,getNotifications:oe}},H0=Zi.PluginManager,vg=Zi.ThemeManager;var pw=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const qv=e=>{let n=[];const o=()=>{const rt=e.theme;return rt&&rt.getWindowManagerImpl?rt.getWindowManagerImpl():pw()},i=(rt,Wt)=>(...Ft)=>Wt?Wt.apply(rt,Ft):void 0,c=rt=>{e.dispatch("OpenWindow",{dialog:rt})},p=rt=>{e.dispatch("CloseWindow",{dialog:rt})},h=(rt,Wt)=>{n.push({instanceApi:rt,triggerElement:Wt}),c(rt)},_=rt=>{p(rt);const Wt=ft(n,({instanceApi:Ft,triggerElement:qt})=>Ft===rt?qt:w.none());n=V(n,({instanceApi:Ft})=>Ft!==rt),n.length===0?e.focus():Wt.filter(Cd).each(bp)},S=()=>w.from(n[n.length-1]),z=rt=>{e.editorManager.setActive(e),H3(e);const Wt=Il();e.ui.show();const Ft=rt();return h(Ft,Wt),Ft},oe=(rt,Wt)=>z(()=>o().open(rt,Wt,_)),ve=rt=>z(()=>o().openUrl(rt,_)),Te=rt=>{n.length!==0&&rt.each(Wt=>bp(Wt))},$e=(rt,Wt,Ft)=>{const qt=Il(),rn=o();rn.alert(rt,i(Ft||rn,()=>{Te(qt),Wt==null||Wt()}))},dt=(rt,Wt,Ft)=>{const qt=Il(),rn=o();rn.confirm(rt,i(Ft||rn,Tn=>{Te(qt),Wt==null||Wt(Tn)}))},at=()=>{S().each(({instanceApi:rt})=>{o().close(rt),_(rt)})};return e.on("remove",()=>{R(n,({instanceApi:rt})=>{o().close(rt)})}),{open:oe,openUrl:ve,alert:$e,confirm:dt,close:at}},mN=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Yv=(e,n)=>{e._skinLoaded?mN(e,n):e.on("SkinLoaded",()=>{mN(e,n)})},Xv=(e,n)=>{Yv(e,Yc.translate(["Failed to upload image: {0}",n]))},o4=(e,n,o)=>{F8(e,n,{message:o}),console.error(o)},xg=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,gw=(e,n,o)=>{o4(e,"PluginLoadError",xg("plugin",n,o))},hN=(e,n,o)=>{o4(e,"IconsLoadError",xg("icons",n,o))},Jv=(e,n,o)=>{o4(e,"LanguageLoadError",xg("language",n,o))},nV=(e,n,o)=>{o4(e,"ThemeLoadError",xg("theme",n,o))},oV=(e,n,o)=>{o4(e,"ModelLoadError",xg("model",n,o))},e1=(e,n)=>{o4(e,"LicenseKeyManagerLoadError",xg("license key manager",n))},cd=(e,n,o)=>{const i=Yc.translate(["Failed to initialize plugin: {0}",n]);F8(e,"PluginLoadError",{message:i}),Ym(i,o),Yv(e,i)},Ym=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Mc=new WeakMap,sV=e=>{if(Mc.has(e))return;Mc.set(e,!0);const n=()=>{e.on("SwitchMode",i=>{const{mode:c}=i;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",i=>{const{state:c}=i;c||i.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),n()},zr=(e,n)=>{const{type:o,message:i}=n;e.notificationManager.open({type:o,text:i})},rV=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},yg=e=>{rV(e.type)(e.message)},z0=(e,n)=>{const{console:o,editor:i}=n;s(i)&&(e._skinLoaded?zr(e,i):e.on("SkinLoaded",()=>{zr(e,i)})),s(o)&&yg(o)},Qv="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",mw="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",iV=e=>{const n="The editor is disabled because a TinyMCE license key has not been provided.";z0(e,{console:{type:"error",message:[`${n}`,mw,Qv].join(" ")},editor:{type:"warning",message:`${n}`}})},hw=(e,n)=>{const o=`${n==="online"?"API":"license"} key`,i=`The editor is disabled because the TinyMCE ${o} could not be validated.`;z0(e,{console:{type:"error",message:[`${i}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,Qv].join(" ")},editor:{type:"warning",message:`${i}`}})},bN=(e,n)=>{const o=`The "${n}" plugin requires a valid TinyMCE license key.`;z0(e,{console:{type:"error",message:[`${o}`,Qv].join(" ")}})},bw="licensekeymanager",vN=e=>lt(Nb(e))?"online":"offline",vw=e=>{var n;const o=(n=Db(e))===null||n===void 0?void 0:n.toLowerCase();return o==="gpl"?"gpl":Qo(o)?"no_key":"non_gpl"},xw=e=>{const n=vN(e),o=vw(e),i=new Set(F1(e)).has(bw);return o!=="gpl"||n==="online"||i?{type:"use_plugin",onlineStatus:n,licenseKeyType:o,forcePlugin:i}:{type:"use_gpl",onlineStatus:n,licenseKeyType:o,forcePlugin:i}},jx=e=>({validate:n=>{const{plugin:o}=n;return lt(o)&&bN(e,o),Promise.resolve(!1)}}),lV=e=>({validate:n=>{const{plugin:o}=n,i=lt(o);return i&&bN(e,o),Promise.resolve(!i)}}),Zx="manager",cV=bw,yw=(()=>{const e=Zi();return{load:(c,p)=>{if(xw(c).type==="use_plugin"){const _=`plugins/${cV}/plugin${p}.js`;e.load(Zx,_).catch(()=>{e1(c,_)})}},add:c=>{e.add(Zx,c)},init:c=>{const p=S=>{Object.defineProperty(c,"licenseKeyManager",{value:S,writable:!1,configurable:!1,enumerable:!0})},h=xw(c),_=e.get(Zx);if(s(_)){const S=_(c,e.urls[Zx]);p(S)}else switch(h.type){case"use_gpl":{p(lV(c));break}case"use_plugin":{sV(c),p(jx(c)),h.onlineStatus==="offline"&&h.licenseKeyType==="no_key"?iV(c):hw(c,h.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),xN=e=>{w.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},Cw=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},dV=(e,n)=>{Cw(e,"StyleWithCSS",n),Cw(e,"enableInlineTableEditing",n),Cw(e,"enableObjectResizing",n)},yN=e=>{e.selection.setRng(e.selection.getRng())},CN=(e,n,o)=>{Ia(e,n)&&!o?Hl(e,n):o&&b1(e,n)},_w=e=>{const n=Ct.fromDom(e.getBody());CN(n,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),xN(e)},s4=e=>{const n=Ct.fromDom(e.getBody());CN(n,"mce-content-readonly",!1),e.hasEditableRoot()&&Nh(n,!0),dV(e,!1),z7(e)&&e.focus(),yN(e),e.nodeChanged()},Cg=e=>km(e),U0="data-mce-contenteditable",_N=e=>{R(Nt(e,'*[contenteditable="true"]'),n=>{Mo(n,U0,"true"),Nh(n,!1)})},EN=e=>{R(Nt(e,`*[${U0}="true"]`),n=>{er(n,U0),Nh(n,!0)})},wN=(e,n)=>{const o=Ct.fromDom(e.getBody());n?(_w(e),Nh(o,!1),_N(o)):(EN(o),s4(e))},SN=e=>{e.serializer?gl(e):e.on("PreInit",()=>{gl(e)})},gl=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Cg(e)&&R(n,o=>{o.attr(U0,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(U0,n=>{Cg(e)&&R(n,o=>{o.attr("contenteditable",o.attr(U0))})}),e.serializer.addTempAttr(U0)},uV=e=>e.type==="click",TN=["copy"],Ew=e=>M(TN,e.type),ww=(e,n)=>$l(n,"a",i=>Ws(i,Ct.fromDom(e.getBody()))).bind(i=>pa(i,"href")),kN=(e,n)=>{if(uV(n)&&!wo.metaKeyPressed(n)){const o=Ct.fromDom(n.target);ww(e,o).each(i=>{if(n.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${Is(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ew(n)&&e.dispatch(n.type,n)},AN=e=>{e.on("ShowCaret ObjectSelected",n=>{Cg(e)&&n.preventDefault()}),e.on("DisabledStateChange",n=>{n.isDefaultPrevented()||wN(e,n.state)})},fV=e=>{SN(e),AN(e)},pV=e=>/^[a-z0-9\-]+$/i.test(e),Gx=e=>"content/"+e+"/content.css",ON=e=>tinymce.Resource.has(Gx(e)),Wd=e=>LN(e,NC(e)),gV=e=>LN(e,x3(e)),LN=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return K(n,p=>ON(p)?p:pV(p)&&!e.inline?`${o}/${p}/${c}`:e.documentBaseURI.toAbsolute(p))},KJ=e=>{e.contentCSS=e.contentCSS.concat(Wd(e),gV(e))},Sw=e=>e?xt(e.getElementsByTagName("img")):[],mV=(e,n)=>{const o={};return{findAll:(c,p=ee)=>{const h=V(Sw(c),S=>{const z=S.src;return S.hasAttribute("data-mce-bogus")||S.hasAttribute("data-mce-placeholder")||!z||z===fr.transparentSrc?!1:qo(z,"blob:")?!e.isUploaded(z)&&p(S):qo(z,"data:")?p(S):!1}),_=K(h,S=>{const z=S.src;if(vn(o,z))return o[z].then(oe=>lt(oe)?oe:{image:S,blobInfo:oe.blobInfo});{const oe=gL(n,z).then(ve=>(delete o[z],{image:S,blobInfo:ve})).catch(ve=>(delete o[z],ve));return o[z]=oe,oe}});return Promise.all(_)}}},hV=()=>{let o={};const i=(Te,$e)=>({status:Te,resultUri:$e}),c=Te=>Te in o;return{hasBlobUri:c,getResultUri:Te=>{const $e=o[Te];return $e?$e.resultUri:null},isPending:Te=>c(Te)?o[Te].status===1:!1,isUploaded:Te=>c(Te)?o[Te].status===2:!1,markPending:Te=>{o[Te]=i(1,null)},markUploaded:(Te,$e)=>{o[Te]=i(2,$e)},removeFailed:Te=>{delete o[Te]},destroy:()=>{o={}}}};let bV=0;const Tw=()=>{const e=()=>Math.round(Ue()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},df=e=>e+bV+++Tw(),kw=()=>{let e=[];const n=ve=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[ve.toLowerCase()]||"dat",o=(ve,Te,$e,dt,at)=>{if(lt(ve))return i({id:ve,name:dt,filename:at,blob:Te,base64:$e});if(qn(ve))return i(ve);throw new Error("Unknown input type")},i=ve=>{if(!ve.blob||!ve.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Te=ve.id||df("blobid"),$e=ve.name||Te,dt=ve.blob;return{id:O(Te),name:O($e),filename:O(ve.filename||$e+"."+n(dt.type)),blob:O(dt),base64:O(ve.base64),blobUri:O(ve.blobUri||URL.createObjectURL(dt)),uri:O(ve.uri)}},c=ve=>{h(ve.id())||e.push(ve)},p=ve=>we(e,ve).getOrUndefined(),h=ve=>p(Te=>Te.id()===ve);return{create:o,add:c,get:h,getByUri:ve=>p(Te=>Te.blobUri()===ve),getByData:(ve,Te)=>p($e=>$e.base64()===ve&&$e.blob().type===Te),findFirst:p,removeByUri:ve=>{e=V(e,Te=>Te.blobUri()===ve?(URL.revokeObjectURL(Te.blobUri()),!1):!0)},destroy:()=>{R(e,ve=>{URL.revokeObjectURL(ve.blobUri())}),e=[]}}},qx=(e,n)=>{const o={},i=(at,rt)=>at?at.replace(/\/$/,"")+"/"+rt.replace(/^\//,""):rt,c=(at,rt)=>new Promise((Wt,Ft)=>{const qt=new XMLHttpRequest;qt.open("POST",n.url),qt.withCredentials=n.credentials,qt.upload.onprogress=Tn=>{rt(Tn.loaded/Tn.total*100)},qt.onerror=()=>{Ft("Image upload failed due to a XHR Transport error. Code: "+qt.status)},qt.onload=()=>{if(qt.status<200||qt.status>=300){Ft("HTTP Error: "+qt.status);return}const Tn=JSON.parse(qt.responseText);if(!Tn||!lt(Tn.location)){Ft("Invalid JSON: "+qt.responseText);return}Wt(i(n.basePath,Tn.location))};const rn=new FormData;rn.append("file",at.blob(),at.filename()),qt.send(rn)}),p=b(n.handler)?n.handler:c,h=()=>new Promise(at=>{at([])}),_=(at,rt)=>({url:rt,blobInfo:at,status:!0}),S=(at,rt)=>({url:"",blobInfo:at,status:!1,error:rt}),z=(at,rt)=>{Kn.each(o[at],Wt=>{Wt(rt)}),delete o[at]},oe=(at,rt,Wt)=>(e.markPending(at.blobUri()),new Promise(Ft=>{let qt,rn;try{const Tn=()=>{qt&&(qt.close(),rn=a)},so=gn=>{Tn(),e.markUploaded(at.blobUri(),gn),z(at.blobUri(),_(at,gn)),Ft(_(at,gn))},Un=gn=>{Tn(),e.removeFailed(at.blobUri()),z(at.blobUri(),S(at,gn)),Ft(S(at,gn))};rn=gn=>{gn<0||gn>100||w.from(qt).orThunk(()=>w.from(Wt).map(F)).each(mn=>{qt=mn,mn.progressBar.value(gn)})},rt(at,rn).then(so,gn=>{Un(lt(gn)?{message:gn}:gn)})}catch(Tn){Ft(S(at,Tn))}})),ve=at=>at===c,Te=at=>{const rt=at.blobUri();return new Promise(Wt=>{o[rt]=o[rt]||[],o[rt].push(Wt)})},$e=(at,rt)=>(at=Kn.grep(at,Wt=>!e.isUploaded(Wt.blobUri())),Promise.all(Kn.map(at,Wt=>e.isPending(Wt.blobUri())?Te(Wt):oe(Wt,p,rt))));return{upload:(at,rt)=>!n.url&&ve(p)?h():$e(at,rt)}},Yx=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),DN=(e,n)=>qx(n,{url:Vk(e),basePath:OC(e),credentials:Wk(e),handler:Kk(e)}),Aw=e=>{const n=hV(),o=DN(e,n);return{upload:(i,c=!0)=>o.upload(i,c?Yx(e):void 0)}},vV=(e,n)=>e.dom.isEmpty(n.dom)&&s(e.schema.getTextBlockElements()[Fs(n)]),NN=e=>n=>{vV(e,n)&&Lr(n,Ct.fromHtml('<br data-mce-bogus="1" />'))},xV=e=>{const n=kw();let o,i;const c=hV(),p=[],h=qt=>rn=>e.selection?qt(rn):[],_=qt=>qt+(qt.indexOf("?")===-1?"?":"&")+new Date().getTime(),S=(qt,rn,Tn)=>{let so=0;do so=qt.indexOf(rn,so),so!==-1&&(qt=qt.substring(0,so)+Tn+qt.substr(so+rn.length),so+=Tn.length-rn.length+1);while(so!==-1);return qt},z=(qt,rn,Tn)=>{const so=`src="${Tn}"${Tn===fr.transparentSrc?' data-mce-placeholder="1"':""}`;return qt=S(qt,`src="${rn}"`,so),qt=S(qt,'data-mce-src="'+rn+'"','data-mce-src="'+Tn+'"'),qt},oe=(qt,rn)=>{R(e.undoManager.data,Tn=>{Tn.type==="fragmented"?Tn.fragments=K(Tn.fragments,so=>z(so,qt,rn)):Tn.content=z(Tn.content,qt,rn)})},ve=(qt,rn)=>{const Tn=e.convertURL(rn,"src");oe(qt.src,rn),ka(Ct.fromDom(qt),{src:M1(e)?_(rn):rn,"data-mce-src":Tn})},Te=()=>(o||(o=DN(e,c)),rt().then(h(qt=>{const rn=K(qt,Tn=>Tn.blobInfo);return o.upload(rn,Yx(e)).then(h(Tn=>{const so=[];let Un=!1;const gn=K(Tn,(mn,Rn)=>{const{blobInfo:Lo,image:es}=qt[Rn];let Ms=!1;return mn.status&&Uk(e)?(mn.url&&!bs(es.src,mn.url)&&(Un=!0),n.removeByUri(es.src),tp(e)||ve(es,mn.url)):mn.error&&(mn.error.remove&&(oe(es.src,fr.transparentSrc),so.push(es),Ms=!0),Xv(e,mn.error.message)),{element:es,status:mn.status,uploadUri:mn.url,blobInfo:Lo,removed:Ms}});return so.length>0&&!tp(e)?e.undoManager.transact(()=>{R(Pl(so),mn=>{const Rn=si(mn);kr(mn),Rn.each(NN(e)),n.removeByUri(mn.dom.src)})}):Un&&e.undoManager.dispatchChange(),gn}))}))),$e=()=>Md(e)?Te():Promise.resolve([]),dt=qt=>st(p,rn=>rn(qt)),at=qt=>{p.push(qt)},rt=()=>(i||(i=mV(c,n)),i.findAll(e.getBody(),dt).then(h(qt=>{const rn=V(qt,Tn=>lt(Tn)?(Yv(e,Tn),!1):Tn.uriType!=="blob");return tp(e)||R(rn,Tn=>{oe(Tn.image.src,Tn.blobInfo.blobUri()),Tn.image.src=Tn.blobInfo.blobUri(),Tn.image.removeAttribute("data-mce-src")}),rn}))),Wt=()=>{n.destroy(),c.destroy(),i=o=null},Ft=qt=>qt.replace(/src="(blob:[^"]+)"/g,(rn,Tn)=>{const so=c.getResultUri(Tn);if(so)return'src="'+so+'"';let Un=n.getByUri(Tn);return Un||(Un=Le(e.editorManager.get(),(gn,mn)=>gn||mn.editorUpload&&mn.editorUpload.blobCache.getByUri(Tn),void 0)),Un?'src="data:'+Un.blob().type+";base64,"+Un.base64()+'"':rn});return e.on("SetContent",()=>{Md(e)?$e():rt()}),e.on("RawSaveContent",qt=>{qt.content=Ft(qt.content)}),e.on("GetContent",qt=>{qt.source_view||qt.format==="raw"||qt.format==="tree"||(qt.content=Ft(qt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",qt=>{R(qt,rn=>{const Tn=rn.attr("src");if(!Tn||n.getByUri(Tn))return;const so=c.getResultUri(Tn);so&&rn.attr("src",so)})})}),{blobCache:n,addFilter:at,uploadImages:Te,uploadImagesAuto:$e,scanForImages:rt,destroy:Wt}},yV=e=>{const n=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},p={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,c,p]:[c,h,p]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,p,h)=>Vo(c)&&c.hasAttribute("href"),onformat:(c,p,h)=>{Kn.each(h,(_,S)=>{n.setAttrib(c,S,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var p;return(p=c==null?void 0:c.customValue)!==null&&p!==void 0?p:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},Xx={remove_similar:!0,inherit:!1},r4={selector:"td,th",...Xx},RN={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...r4},tablecellverticalalign:{styles:{"vertical-align":"%value"},...r4},tablecellbordercolor:{styles:{borderColor:"%value"},...r4},tablecellclass:{classes:["%value"],...r4},tableclass:{selector:"table",classes:["%value"],...Xx},tablecellborderstyle:{styles:{borderStyle:"%value"},...r4},tablecellborderwidth:{styles:{borderWidth:"%value"},...r4}},CV=O(RN),V0=e=>{const n={},o=h=>s(h)?n[h]:n,i=h=>vn(n,h),c=(h,_)=>{h&&(lt(h)?(_o(_)||(_=[_]),R(_,S=>{ks(S.deep)&&(S.deep=!Sn(S)),ks(S.split)&&(S.split=!Sn(S)||no(S)),ks(S.remove)&&Sn(S)&&!no(S)&&(S.remove="none"),Sn(S)&&no(S)&&(S.mixed=!0,S.block_expand=!0),lt(S.classes)&&(S.classes=S.classes.split(/\s+/))}),n[h]=_):Zt(h,(S,z)=>{c(z,S)}))},p=h=>(h&&n[h]&&delete n[h],n);return c(yV(e)),c(CV()),c(RC(e)),{get:o,has:i,register:c,unregister:p}},e6=Kn.each,Nu=Ar.DOM,Jx=e=>s(e)&&qn(e),MN=(e,n)=>{const o=n&&n.schema||oc({}),i=(S,z)=>{z.classes.length>0&&Nu.addClass(S,z.classes.join(" ")),Nu.setAttribs(S,z.attrs)},c=S=>{const z=lt(S)?{name:S,classes:[],attrs:{}}:S,oe=Nu.create(z.name);return i(oe,z),oe},p=(S,z)=>{const oe=o.getElementRule(S.nodeName.toLowerCase()),ve=oe==null?void 0:oe.parentsRequired;return ve&&ve.length?z&&M(ve,z)?z:ve[0]:!1},h=(S,z,oe)=>{let ve;const Te=z[0],$e=Jx(Te)?Te.name:void 0,dt=p(S,$e);if(dt)$e===dt?(ve=Te,z=z.slice(1)):ve=dt;else if(Te)ve=Te,z=z.slice(1);else if(!oe)return S;const at=ve?c(ve):Nu.create("div");at.appendChild(S),oe&&Kn.each(oe,Wt=>{const Ft=c(Wt);at.insertBefore(Ft,S)});const rt=Jx(ve)?ve.siblings:void 0;return h(at,z,rt)},_=Nu.create("div");if(e.length>0){const S=e[0],z=c(S),oe=Jx(S)?S.siblings:void 0;_.appendChild(h(z,e.slice(1),oe))}return _},_V=e=>{e=Kn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,p,h,_)=>{switch(c){case"#":o.attrs.id=p;break;case".":o.classes.push(p);break;case":":Kn.inArray("checked disabled enabled read-only required".split(" "),p)!==-1&&(o.attrs[p]=p);break}if(h==="["){const S=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);S&&(o.attrs[S[1]]=S[2])}return""})),o.name=n||"div",o},EV=e=>lt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Kn.map(n.split(/(?:~\+|~|\+)/),_V),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],wV=(e,n)=>{let o="",i=MC(e);if(i==="")return"";const c=Te=>lt(Te)?Te.replace(/%(\w+)/g,""):"",p=(Te,$e)=>Nu.getStyle($e??e.getBody(),Te,!0);if(lt(n)){const Te=e.formatter.get(n);if(!Te)return"";n=Te[0]}if("preview"in n){const Te=n.preview;if(Te===!1)return"";i=Te||i}let h=n.block||n.inline||"span",_;const S=EV(n.selector);S.length>0?(S[0].name||(S[0].name=h),h=n.selector,_=MN(S,e)):_=MN([h],e);const z=Nu.select(h,_)[0]||_.firstChild;e6(n.styles,(Te,$e)=>{const dt=c(Te);dt&&Nu.setStyle(z,$e,dt)}),e6(n.attributes,(Te,$e)=>{const dt=c(Te);dt&&Nu.setAttrib(z,$e,dt)}),e6(n.classes,Te=>{const $e=c(Te);Nu.hasClass(z,$e)||Nu.addClass(z,$e)}),e.dispatch("PreviewFormats"),Nu.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const oe=p("fontSize"),ve=/px$/.test(oe)?parseInt(oe,10):0;return e6(i.split(" "),Te=>{let $e=p(Te,z);if(!(Te==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test($e)&&($e=p(Te),rm($e).toLowerCase()==="#ffffff"))&&!(Te==="color"&&rm($e).toLowerCase()==="#000000")){if(Te==="font-size"&&/em|%$/.test($e)){if(ve===0)return;$e=parseFloat($e)/(/%$/.test($e)?100:1)*ve+"px"}Te==="border"&&$e&&(o+="padding:0 2px;"),o+=Te+":"+$e+";"}}),e.dispatch("AfterPreviewFormats"),Nu.remove(_),o},SV=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Ow=e=>{const n=V0(e),o=zn({});return SV(e),BJ(e),tp(e)||gU(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(i,c,p)=>{VD(e,i,c,p)},remove:(i,c,p,h)=>{WD(e,i,c,p,h)},toggle:(i,c,p)=>{F0(e,i,c,p)},match:(i,c,p,h)=>zx(e,i,c,p,h),closest:i=>UD(e,i),matchAll:(i,c)=>nw(e,i,c),matchNode:(i,c,p,h)=>HD(e,i,c,p,h),canApply:i=>zD(e,i),formatChanged:(i,c,p,h)=>KD(e,o,i,c,p,h),getCssText:B(wV,e)}},IN=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Lw=(e,n,o)=>{const i=zn(!1),c=S=>{Fx(n,!1,o),n.add({},S)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",S=>{const z=S.command;IN(z)||(MD(n,o),n.beforeChange())}),e.on("ExecCommand",S=>{const z=S.command;IN(z)||c(S)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",S=>{const z=S.keyCode;if(S.isDefaultPrevented())return;const oe=fr.os.isMacOS()&&S.key==="Meta";(z>=33&&z<=36||z>=37&&z<=40||z===45||S.ctrlKey||oe)&&(c(),e.nodeChanged()),(z===46||z===8)&&e.nodeChanged(),i.get()&&n.typing&&!qE(J3(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",S=>{const z=S.keyCode;if(S.isDefaultPrevented())return;if(z>=33&&z<=36||z>=37&&z<=40||z===45){n.typing&&c(S);return}const oe=S.ctrlKey&&!S.altKey||S.metaKey;if((z<16||z>20)&&z!==224&&z!==91&&!n.typing&&!oe){n.beforeChange(),Fx(n,!0,o),n.add({},S),i.set(!0);return}(fr.os.isMacOS()?S.metaKey:S.ctrlKey&&!S.altKey)&&n.beforeChange()}),e.on("mousedown",S=>{n.typing&&c(S)});const p=S=>S.inputType==="insertReplacementText",h=S=>S.inputType==="insertText"&&S.data===null,_=S=>S.inputType==="insertFromPaste"||S.inputType==="insertFromDrop";e.on("input",S=>{S.inputType&&(p(S)||h(S)||_(S))&&c(S)}),e.on("AddUndo Undo Redo ClearUndos",S=>{S.isDefaultPrevented()||e.nodeChanged()})},Xm=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},BN=e=>{const n=hs(),o=zn(0),i=zn(0),c={data:[],typing:!1,beforeChange:()=>{Vd(e,o,n)},add:(p,h)=>Wv(e,c,i,o,n,p,h),dispatchChange:()=>{e.setDirty(!0);const p=J3(e);p.bookmark=xm(e.selection),e.dispatch("change",{level:p,lastLevel:qe(c.data,i.get()).getOrUndefined()})},undo:()=>Ir(e,c,o,i),redo:()=>Kv(e,i,c.data),clear:()=>{PD(e,c,i)},reset:()=>{$D(e,c)},hasUndo:()=>Hx(e,c,i),hasRedo:()=>JE(e,c,i),transact:p=>QE(e,c,o,p),ignore:p=>{ew(e,o,p)},extra:(p,h)=>{tw(e,c,i,p,h)}};return tp(e)||Lw(e,c,o),Xm(e),c},TV=[9,27,wo.HOME,wo.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,wo.DOWN,wo.UP,wo.LEFT,wo.RIGHT].concat(fr.browser.isFirefox()?[224]:[]),a4="data-mce-placeholder",Dw=e=>e.type==="keydown"||e.type==="keyup",Nw=e=>{const n=e.keyCode;return n===wo.BACKSPACE||n===wo.DELETE},FN=e=>{if(Dw(e)){const n=e.keyCode;return!Nw(e)&&(wo.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||M(TV,n))}else return!1},Qx=e=>Dw(e)&&!(Nw(e)||e.type==="keyup"&&e.keyCode===229),PN=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const i=n.firstElementChild;return i?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},kV=e=>{var n;const o=e.dom,i=Mr(e),c=(n=yb(e))!==null&&n!==void 0?n:"",p=(h,_)=>{if(FN(h))return;const S=e.getBody(),z=Qx(h)?!1:PN(o,S,i);(o.getAttrib(S,a4)!==""!==z||_)&&(o.setAttrib(S,a4,z?c:null),hC(e,z),e.on(z?"keydown":"keyup",p),e.off(z?"keyup":"keydown",p))};bo(c)&&e.on("init",h=>{p(h,!0),e.on("change SetContent ExecCommand",p),e.on("paste",_=>Au.setEditorTimeout(e,()=>p(_)))})},$N=e=>n=>s(n)&&n.nodeName.toLowerCase()===e,e9=e=>n=>s(n)&&e.test(n.nodeName),np=e=>s(e)&&e.nodeType===3,Jm=e=>s(e)&&e.nodeType===1,Kd=e9(/^(OL|UL|DL)$/),HN=e9(/^(OL|UL)$/),W0=e9(/^(LI|DT|DD)$/),AV=e9(/^(DT|DD)$/),K0=$N("br"),OV=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},t9=(e,n)=>s(n)&&n.nodeName in e.schema.getTextBlockElements(),t6=(e,n)=>s(e)&&e.nodeName in n,LV=(e,n)=>s(n)&&n.nodeName in e.schema.getVoidElements(),zN=(e,n)=>K0(n)?e.isBlock(n.nextSibling)&&!K0(n.previousSibling):!1,j0=(e,n,o)=>{const i=e.isEmpty(n);return o&&e.select("span[data-mce-type=bookmark]",n).length>0?!1:i},UN=(e,n)=>e.isChildOf(n,e.getRoot()),VN=(e,n)=>{if(np(e))return{container:e,offset:n};const o=Z1.getNode(e,n);return np(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&np(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&np(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},Qm=e=>{const n=e.cloneRange(),o=VN(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const i=VN(e.endContainer,e.endOffset);return n.setEnd(i.container,i.offset),n},Ic=Ar.DOM,i4=e=>{const n={},o=i=>{let c=e[i?"startContainer":"endContainer"],p=e[i?"startOffset":"endOffset"];if(Jm(c)){const h=Ic.create("span",{"data-mce-type":"bookmark"});c.hasChildNodes()?(p=Math.min(p,c.childNodes.length-1),i?c.insertBefore(h,c.childNodes[p]):Ic.insertAfter(h,c.childNodes[p])):c.appendChild(h),c=h,p=0}n[i?"startContainer":"endContainer"]=c,n[i?"startOffset":"endOffset"]=p};return o(!0),e.collapsed||o(),n},eh=e=>{const n=i=>{const c=_=>{var S;let z=(S=_.parentNode)===null||S===void 0?void 0:S.firstChild,oe=0;for(;z;){if(z===_)return oe;(!Jm(z)||z.getAttribute("data-mce-type")!=="bookmark")&&oe++,z=z.nextSibling}return-1};let p=e[i?"startContainer":"endContainer"],h=e[i?"startOffset":"endOffset"];if(p){if(Jm(p)&&p.parentNode){const _=p;h=c(p),p=p.parentNode,Ic.remove(_),!p.hasChildNodes()&&Ic.isBlock(p)&&p.appendChild(Ic.create("br"))}e[i?"startContainer":"endContainer"]=p,e[i?"startOffset":"endOffset"]=h}};n(!0),n();const o=Ic.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),Qm(o)},ba=Ar.DOM,Rw=(e,n)=>{const o=n.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===n){const i=o.previousSibling;i&&i.nodeName==="LI"?(i.appendChild(n),j0(e,o)&&ba.remove(o)):ba.setStyle(o,"listStyleType","none")}if(Kd(o)){const i=o.previousSibling;i&&i.nodeName==="LI"&&i.appendChild(n)}},l4=(e,n)=>{const o=Kn.grep(e.select("ol,ul",n));Kn.each(o,i=>{Rw(e,i)})},op=["OL","UL","DL"],Mw=op.join(","),Z0=(e,n)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,Mw,uf(e,o))},DV=(e,n)=>s(e)&&n.length===1&&n[0]===e,c4=e=>V(e.querySelectorAll(Mw),Kd),NV=e=>{const n=Z0(e),o=e.selection.getSelectedBlocks();return DV(n,o)?c4(n):V(o,i=>Kd(i)&&n!==i)},RV=(e,n)=>{const o=Kn.map(n,i=>{const c=e.dom.getParent(i,"li,dd,dt",uf(e,i));return c||i});return Ot(o)},th=e=>{const n=e.selection.getSelectedBlocks();return V(RV(e,n),W0)},MV=e=>V(th(e),AV),_g=(e,n)=>{const o=e.dom.getParents(n,"TD,TH");return o.length>0?o[0]:e.getBody()},IV=(e,n)=>!Kd(n)&&!W0(n)&&W(op,o=>e.isValidChild(n.nodeName,o)),uf=(e,n)=>{const o=e.dom.getParents(n,e.dom.isBlock),i=p=>p.nodeName.toLowerCase()!==Mr(e);return we(o,p=>i(p)&&IV(e.schema,p)).getOr(e.getBody())},BV=e=>si(e).exists(n=>W0(n.dom)&&pc(n).exists(o=>!Kd(o.dom))&&Xa(n).exists(o=>!Kd(o.dom))),jd=(e,n)=>{const o=e.dom.getParents(n,"ol,ul",uf(e,n));return Ye(o)},G0=e=>{const n=jd(e,e.selection.getStart()),o=V(e.selection.getSelectedBlocks(),HN);return n.toArray().concat(o)},FV=e=>{const n=e.selection.getStart();return e.dom.getParents(n,"ol,ul",uf(e,n))},n6=e=>{const n=G0(e),o=FV(e);return we(o,i=>BV(Ct.fromDom(i))).fold(()=>Iw(e,n),i=>[i])},Iw=(e,n)=>{const o=K(n,i=>jd(e,i).getOr(i));return Ot(o)},n9=e=>/\btox\-/.test(e.className),q0=(e,n)=>n!==null&&!e.dom.isEditable(n),PV=e=>{const n=Z0(e);return q0(e,n)||!e.selection.isEditable()},Zd=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return q0(e,o)||!e.selection.isEditable()},sp=(e,n,o)=>e.dispatch("ListMutation",{action:n,element:o}),Bw=(e,n,o={})=>{const i=e.dom,c=e.schema.getBlockElements(),p=i.createFragment(),h=Mr(e),_=Oc(e);let S,z,oe=!1;for(z=i.create(h,{..._,...o.style?{style:o.style}:{}}),t6(n.firstChild,c)||p.appendChild(z);S=n.firstChild;){const ve=S.nodeName;!oe&&(ve!=="SPAN"||S.getAttribute("data-mce-type")!=="bookmark")&&(oe=!0),t6(S,c)?(p.appendChild(S),z=null):(z||(z=i.create(h,_),p.appendChild(z)),z.appendChild(S))}return!oe&&z&&z.appendChild(i.create("br",{"data-mce-bogus":"1"})),p},Y0=e=>_f(e,"OL,UL"),Fw=e=>_f(e,"LI"),nh=e=>pc(e).exists(Y0),Pw=e=>Xa(e).exists(Y0),$V=(e,n)=>m7(e).map(o=>o>=n).getOr(!0),X0=e=>"listAttributes"in e,WN=e=>"isComment"in e,HV=e=>"isFragment"in e,KN=e=>e.depth>0,zV=e=>e.isSelected,d4=e=>{const n=hr(e),o=Pw(e)?n.slice(0,-1):n;return K(o,Di)},t1=(e,n,o)=>si(e).filter(da).map(i=>({depth:n,dirty:!1,isSelected:o,content:d4(e),itemAttributes:ru(e),listAttributes:ru(i),listType:Fs(i),isInPreviousLi:!1})),jN=(e,n)=>{Lr(e.item,n.list)},UV=e=>{for(let n=1;n<e.length;n++)jN(e[n-1],e[n])},VV=(e,n)=>{Tt(Ye(e),Fe(n),jN)},WV=(e,n)=>{const o={list:Ct.fromTag(n,e),item:Ct.fromTag("li",e)};return Lr(o.list,o.item),o},KV=(e,n,o)=>{const i=[];for(let c=0;c<o;c++)i.push(WV(e,X0(n)?n.listType:n.parentListType));return i},jV=(e,n)=>{for(let o=0;o<e.length-1;o++)iu(e[o].item,"list-style-type","none");Ye(e).each(o=>{X0(n)&&(ka(o.list,n.listAttributes),ka(o.item,n.itemAttributes)),Bl(o.item,n.content)})},ZV=(e,n)=>{Fs(e.list)!==n.listType&&(e.list=au(e.list,n.listType)),ka(e.list,n.listAttributes)},GV=(e,n,o)=>{const i=Ct.fromTag("li",e);return ka(i,n),Bl(i,o),i},qV=(e,n)=>{Lr(e.list,n),e.item=n},YV=(e,n,o)=>{const i=n.slice(0,o.depth);return Ye(i).each(c=>{if(X0(o)){const p=GV(e,o.itemAttributes,o.content);qV(c,p),ZV(c,o)}else if(HV(o))Bl(c.item,o.content);else{const p=Ct.fromHtml(`<!--${o.content}-->`);Lr(c.list,p)}}),i},XV=(e,n,o)=>{const i=KV(e,o,o.depth-n.length);return UV(i),jV(i,o),VV(n,i),n.concat(i)},JV=(e,n)=>{let o=w.none();const i=Le(n,(c,p,h)=>WN(p)?h===0?(o=w.some(p),c):YV(e,c,p):p.depth>c.length?XV(e,c,p):YV(e,c,p),[]);return o.each(c=>{const p=Ct.fromHtml(`<!--${c.content}-->`);Fe(i).each(h=>{su(h.list,p)})}),Fe(i).map(c=>c.list)},QV=(e,n,o)=>{switch(n){case"Indent":if($V(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},eW=(e,n)=>{X0(e)&&X0(n)&&(e.listType=n.listType,e.listAttributes={...n.listAttributes})},tW=e=>{e.listAttributes=nn(e.listAttributes,(n,o)=>o!=="start")},nW=(e,n)=>{const o=e[n].depth,i=p=>p.depth===o&&!p.dirty,c=p=>p.depth<o;return Ee(Me(e.slice(0,n)),i,c).orThunk(()=>Ee(e.slice(n+1),i,c))},Eg=e=>(R(e,(n,o)=>{nW(e,o).fold(()=>{n.dirty&&X0(n)&&tW(n)},i=>eW(n,i))}),e),ZN=(e,n,o,i)=>{var c;if(Ra(i))return[{depth:e+1,content:(c=i.dom.nodeValue)!==null&&c!==void 0?c:"",dirty:!1,isSelected:!1,isComment:!0}];n.each(_=>{Ws(_.start,i)&&o.set(!0)});const p=t1(i,e,o.get());n.each(_=>{Ws(_.end,i)&&o.set(!1)});const h=Xa(i).filter(Y0).map(_=>u4(e,n,o,_)).getOr([]);return p.toArray().concat(h)},oW=(e,n,o,i)=>pc(i).filter(Y0).fold(()=>ZN(e,n,o,i),c=>{const p=Le(hr(i),(h,_,S)=>{if(S===0)return h;if(Fw(_))return h.concat(ZN(e,n,o,_));{const z={isFragment:!0,depth:e,content:[_],isSelected:!1,dirty:!1,parentListType:Fs(c)};return h.concat(z)}},[]);return u4(e,n,o,c).concat(p)}),u4=(e,n,o,i)=>nt(hr(i),c=>{const p=Y0(c)?u4:oW,h=e+1;return p(h,n,o,c)}),GN=(e,n)=>{const o=zn(!1),i=0;return K(e,c=>({sourceList:c,entries:u4(i,n,o,c)}))},$w=(e,n)=>{const o=Eg(n);return K(o,i=>{const c=WN(i)?Cp([Ct.fromHtml(`<!--${i.content}-->`)]):Cp(i.content),p=X0(i)?i.itemAttributes:{};return Ct.fromDom(Bw(e,c.dom,p))})},sW=(e,n)=>{const o=Eg(n);return JV(e.contentDocument,o).toArray()},rW=(e,n)=>nt(q(n,KN),o=>Fe(o).exists(KN)?sW(e,o):$w(e,o)),aW=(e,n,o)=>{R(V(n,zV),i=>QV(e,o,i))},iW=e=>{const n=K(th(e),Ct.fromDom);return Tt(we(n,G(nh)),we(Me(n),G(nh)),(o,i)=>({start:o,end:i}))},lW=(e,n,o)=>{const i=GN(n,iW(e));R(i,c=>{aW(e,c.entries,o);const p=rW(e,c.entries);R(p,h=>{sp(e,o==="Indent"?"IndentList":"OutdentList",h.dom)}),gc(c.sourceList,p),kr(c.sourceList)})},cW=e=>m7(e).forall(n=>{const o=e.selection.getSelectedBlocks();return W(o,i=>$l(Ct.fromDom(i),"li").forall(c=>it(c,"ol,ul").length<=n))}),oh=Ar.DOM,dW=(e,n,o)=>{const i=z=>{const oe=z.parentNode;oe&&Kn.each(c,ve=>{oe.insertBefore(ve,o.parentNode)}),oh.remove(z)},c=oh.select('span[data-mce-type="bookmark"]',n),p=Bw(e,o),h=oh.createRng();h.setStartAfter(o),h.setEndAfter(n);const _=h.extractContents();for(let z=_.firstChild;z;z=z.firstChild)if(z.nodeName==="LI"&&e.dom.isEmpty(z)){oh.remove(z);break}e.dom.isEmpty(_)||oh.insertAfter(_,n),oh.insertAfter(p,n);const S=o.parentElement;S&&j0(e.dom,S)&&i(S),oh.remove(o),j0(e.dom,n)&&oh.remove(n)},uW=nu("dd"),qN=nu("dt"),fW=(e,n)=>{uW(n)?au(n,"dt"):qN(n)&&$u(n).each(o=>dW(e,o.dom,n.dom))},pW=e=>{qN(e)&&au(e,"dd")},gW=(e,n,o)=>{n==="Indent"?R(o,pW):R(o,i=>fW(e,i))},mW=(e,n)=>{const o=Pl(n6(e)),i=Pl(MV(e));let c=!1;if(o.length||i.length){const p=e.selection.getBookmark();lW(e,o,n),gW(e,n,i),e.selection.moveToBookmark(p),e.selection.setRng(Qm(e.selection.getRng())),e.nodeChanged(),c=!0}return c},Hw=(e,n)=>!PV(e)&&mW(e,n),YN=e=>Hw(e,"Indent"),zw=e=>Hw(e,"Outdent"),o9=e=>Hw(e,"Flatten"),f4=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},hW=(e,n,o)=>{const i=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(n,"list-style-type",i)},Uw=(e,n)=>{Kn.each(n,(o,i)=>{e.setAttribute(i,o)})},bW=(e,n,o)=>{Uw(n,o["list-attributes"]),Kn.each(e.select("li",n),i=>{Uw(i,o["list-item-attributes"])})},p4=(e,n,o)=>{hW(e,n,o),bW(e,n,o)},vW=(e,n,o)=>{Kn.each(o,i=>e.setStyle(n,i,""))},s9=(e,n)=>s(n)&&!t6(n,e.schema.getBlockElements()),Vw=(e,n,o,i)=>{let c=n[o?"startContainer":"endContainer"];const p=n[o?"startOffset":"endOffset"];Jm(c)&&(c=c.childNodes[Math.min(p,c.childNodes.length-1)]||c),!o&&K0(c.nextSibling)&&(c=c.nextSibling);const h=S=>{for(;!e.dom.isBlock(S)&&S.parentNode&&i!==S;)S=S.parentNode;return S},_=(S,z)=>{var oe;const ve=new ja(S,h(S)),Te=z?"next":"prev";let $e;for(;$e=ve[Te]();)if(!(LV(e,$e)||Re($e.textContent)||((oe=$e.textContent)===null||oe===void 0?void 0:oe.length)===0))return w.some($e);return w.none()};if(o&&np(c))if(Re(c.textContent))c=_(c,!1).getOr(c);else for(c.parentNode!==null&&s9(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(s9(e,c.previousSibling)||np(c.previousSibling));)c=c.previousSibling;if(!o&&np(c))if(Re(c.textContent))c=_(c,!0).getOr(c);else for(c.parentNode!==null&&s9(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(s9(e,c.nextSibling)||np(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==i;){const S=c.parentNode;if(t9(e,c)||/^(TD|TH)$/.test(S.nodeName))return c;c=S}return c},xW=(e,n,o)=>{const i=[],c=e.dom,p=Vw(e,n,!0,o),h=Vw(e,n,!1,o);let _;const S=[];for(let z=p;z&&(S.push(z),z!==h);z=z.nextSibling);return Kn.each(S,z=>{var oe;if(t9(e,z)){i.push(z),_=null;return}if(c.isBlock(z)||K0(z)){K0(z)&&c.remove(z),_=null;return}const ve=z.nextSibling;if(Bm.isBookmarkNode(z)&&(Kd(ve)||t9(e,ve)||!ve&&z.parentNode===o)){_=null;return}_||(_=c.create("p"),(oe=z.parentNode)===null||oe===void 0||oe.insertBefore(_,z),i.push(_)),_.appendChild(z)}),i},yW=(e,n,o)=>{const i=e.getStyle(n,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,i===c},CW=(e,n)=>{const o=e.selection.getStart(!0),i=Vw(e,n,!0,e.getBody());return Ds(Ct.fromDom(i),Ct.fromDom(n.commonAncestorContainer))?n.commonAncestorContainer:o},r9=(e,n,o)=>{const i=e.selection.getRng();let c="LI";const p=uf(e,CW(e,i)),h=e.dom;if(h.getContentEditable(e.selection.getNode())==="false")return;n=n.toUpperCase(),n==="DL"&&(c="DT");const _=i4(i),S=V(xW(e,i,p),e.dom.isEditable);Kn.each(S,z=>{let oe;const ve=z.previousSibling,Te=z.parentNode;W0(Te)||(ve&&Kd(ve)&&ve.nodeName===n&&yW(h,ve,o)?(oe=ve,z=h.rename(z,c),ve.appendChild(z)):(oe=h.create(n),Te.insertBefore(oe,z),oe.appendChild(z),z=h.rename(z,c)),vW(h,z,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),p4(h,oe,o),Ww(e.dom,oe))}),e.selection.setRng(eh(_))},_W=(e,n)=>Kd(e)&&e.nodeName===(n==null?void 0:n.nodeName),EW=(e,n,o)=>{const i=e.getStyle(n,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return i===c},wW=(e,n)=>e.className===n.className,XN=(e,n,o)=>_W(n,o)&&EW(e,n,o)&&wW(n,o),Ww=(e,n)=>{let o,i=n.nextSibling;if(XN(e,n,i)){const c=i;for(;o=c.firstChild;)n.appendChild(o);e.remove(c)}if(i=n.previousSibling,XN(e,n,i)){const c=i;for(;o=c.lastChild;)n.insertBefore(o,n.firstChild);e.remove(c)}},SW=(e,n,o,i)=>{if(n.nodeName!==o){const c=e.dom.rename(n,o);p4(e.dom,c,i),sp(e,f4(o),c)}else p4(e.dom,n,i),sp(e,f4(o),n)},TW=(e,n,o,i)=>{if(n.classList.forEach((c,p,h)=>{c.startsWith("tox-")&&(h.remove(c),h.length===0&&n.removeAttribute("class"))}),n.nodeName!==o){const c=e.dom.rename(n,o);p4(e.dom,c,i),sp(e,f4(o),c)}else p4(e.dom,n,i),sp(e,f4(o),n)},kW=(e,n,o,i,c)=>{const p=Kd(n);if(p&&n.nodeName===i&&!JN(c)&&!n9(n))o9(e);else{r9(e,i,c);const h=i4(e.selection.getRng()),_=p?[n,...o]:o,S=p&&n9(n)?TW:SW;Kn.each(_,z=>{S(e,z,i,c)}),e.selection.setRng(eh(h))}},JN=e=>"list-style-type"in e,QN=(e,n,o,i)=>{if(n!==e.getBody())if(n)if(n.nodeName===o&&!JN(i)&&!n9(n))o9(e);else{const c=i4(e.selection.getRng());n9(n)&&n.classList.forEach((h,_,S)=>{h.startsWith("tox-")&&(S.remove(h),S.length===0&&n.removeAttribute("class"))}),p4(e.dom,n,i);const p=e.dom.rename(n,o);Ww(e.dom,p),e.selection.setRng(eh(c)),r9(e,o,i),sp(e,f4(o),p)}else r9(e,o,i),sp(e,f4(o),n)},a9=(e,n,o)=>{const i=Z0(e);if(Zd(e,i))return;const c=NV(e),p=qn(o)?o:{};c.length>0?kW(e,i,c,n,p):QN(e,i,n,p)},Kw=(e,n,o,i)=>{let c=n.startContainer;const p=n.startOffset;if(np(c)&&(o?p<c.data.length:p>0))return c;const h=e.schema.getNonEmptyElements();Jm(c)&&(c=Z1.getNode(c,p));const _=new ja(c,i);o&&zN(e.dom,c)&&_.next();const S=o?_.next.bind(_):_.prev2.bind(_);for(;c=S();)if(c.nodeName==="LI"&&!c.hasChildNodes()||h[c.nodeName]||np(c)&&c.data.length>0)return c;return null},AW=(e,n)=>{const o=n.childNodes;return o.length===1&&!Kd(o[0])&&e.isBlock(o[0])},eR=e=>w.from(e).map(Ct.fromDom).filter(xl).exists(n=>Ed(n)&&!M(["details"],Fs(n))),OW=(e,n)=>{AW(e,n)&&eR(n.firstChild)&&e.remove(n.firstChild,!0)},jw=(e,n,o)=>{let i;const c=AW(e,o)?o.firstChild:o;if(OW(e,n),!j0(e,n,!0))for(;i=n.firstChild;)c.appendChild(i)},Zw=(e,n,o)=>{let i;const c=n.parentNode;if(!UN(e,n)||!UN(e,o))return;Kd(o.lastChild)&&(i=o.lastChild),c===o.lastChild&&K0(c.previousSibling)&&e.remove(c.previousSibling);const p=o.lastChild;p&&K0(p)&&n.hasChildNodes()&&e.remove(p),j0(e,o,!0)&&Ps(Ct.fromDom(o)),jw(e,n,o),i&&o.appendChild(i);const _=vl(Ct.fromDom(o),Ct.fromDom(n))?e.getParents(n,Kd,o):[];e.remove(n),R(_,S=>{j0(e,S)&&S!==e.getRoot()&&e.remove(S)})},LW=(e,n,o)=>{Ps(Ct.fromDom(o)),Zw(e.dom,n,o),e.selection.setCursorLocation(o,0)},DW=(e,n,o,i)=>{const c=e.dom;if(c.isEmpty(i))LW(e,o,i);else{const p=i4(n);Zw(c,o,i),e.selection.setRng(eh(p))}},NW=(e,n,o,i)=>{const c=i4(n);Zw(e.dom,o,i);const p=eh(c);e.selection.setRng(p)},RW=(e,n)=>{const o=e.dom,i=e.selection,c=i.getStart(),p=_g(e,c),h=o.getParent(i.getStart(),"LI",p);if(h){const _=h.parentElement;if(_===e.getBody()&&j0(o,_))return!0;const S=Qm(i.getRng()),z=o.getParent(Kw(e,S,n,p),"LI",p),oe=z&&(n?o.isChildOf(h,z):o.isChildOf(z,h));if(z&&z!==h&&!oe)return e.undoManager.transact(()=>{n?DW(e,S,z,h):OV(h)?zw(e):NW(e,S,h,z)}),!0;if(oe&&!n&&z!==h){const ve=S.commonAncestorContainer.parentElement;return!ve||o.isChildOf(z,ve)?!1:(e.undoManager.transact(()=>{const Te=i4(S);jw(o,ve,z),ve.remove();const $e=eh(Te);e.selection.setRng($e)}),!0)}else if(!z&&!n&&S.startOffset===0&&S.endOffset===0)return e.undoManager.transact(()=>{o9(e)}),!0}return!1},MW=(e,n,o)=>{const i=e.getParent(n.parentNode,e.isBlock,o);e.remove(n),i&&e.isEmpty(i)&&e.remove(i)},Gw=(e,n)=>{const o=e.dom,i=e.selection.getStart(),c=_g(e,i),p=o.getParent(i,o.isBlock,c);if(p&&o.isEmpty(p,void 0,{checkRootAsContent:!0})){const h=Qm(e.selection.getRng()),_=Kw(e,h,n,c),S=o.getParent(_,"LI",c);if(_&&S){const z=$e=>M(["td","th","caption"],Fs($e)),oe=$e=>$e.dom===c,ve=_d(Ct.fromDom(S),z,oe),Te=_d(Ct.fromDom(h.startContainer),z,oe);return Ut(ve,Te,Ws)?(e.undoManager.transact(()=>{const $e=S.parentNode;MW(o,p,c),Ww(o,$e),e.selection.select(_,!0),e.selection.collapse(n)}),!0):!1}}return!1},qw=(e,n)=>RW(e,n)||Gw(e,n),Yw=e=>{const n=e.selection.getStart(),o=_g(e,n),i=e.dom.getParent(n,"LI,DT,DD",o);return s(i)||th(e).length>0},tR=e=>Yw(e)?(e.undoManager.transact(()=>{let n=!0;const o=()=>n=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),n&&e.dispatch("input"),l4(e.dom,e.getBody())}),!0):!1,Xw=(e,n)=>{const o=e.selection;return!Zd(e,o.getNode())&&(o.isCollapsed()?qw(e,n):tR(e))},IW=(e,n)=>({block:e,position:n}),BW=(e,n)=>({from:e,to:n}),Jw=(e,n)=>{const o=Ct.fromDom(e),i=Ct.fromDom(n.container());return nx(o,i).map(c=>IW(c,n))},FW=e=>!(vl(e.to.block,e.from.block)||vl(e.from.block,e.to.block)),PW=e=>!Ws(e.from.block,e.to.block),nR=(e,n)=>_d(n,c=>_i(c)||ni(c.dom),c=>Ws(c,e)).filter(da).getOr(e),$W=(e,n)=>{const o=Ct.fromDom(e);return Ws(nR(o,n.from.block),nR(o,n.to.block))},HW=e=>Pr(e.from.block.dom)===!1&&Pr(e.to.block.dom)===!1,zW=e=>{const n=o=>e3(o)||Df(o.dom)||Ip(o);return n(e.from.block)&&n(e.to.block)},Qw=(e,n,o,i)=>Jr(i.position.getNode())&&!li(e,i.block)?sg(!1,i.block.dom).bind(c=>c.isEqual(i.position)?ed(o,n,c).bind(p=>Jw(n,p)):w.some(i)).getOr(i):i,UW=(e,n,o,i)=>{const c=Jw(n,hn.fromRangeStart(i)),p=c.bind(h=>ed(o,n,h.position).bind(_=>Jw(n,_).map(S=>Qw(e,n,o,S))));return Tt(c,p,BW).filter(h=>PW(h)&&$W(n,h)&&HW(h)&&zW(h)&&FW(h))},VW=(e,n,o,i)=>i.collapsed?UW(e,n,o,i):w.none(),WW=(e,n)=>{const o=hr(e);return Ne(o,i=>n.isBlock(Fs(i))).fold(O(o),i=>o.slice(0,i))},oR=(e,n)=>{const o=WW(e,n);return R(o,kr),o},sR=(e,n,o)=>{const i=fg(o,n);return we(i.reverse(),c=>li(e,c)).each(kr)},rR=(e,n)=>V(Uc(n),o=>!li(e,o)).length===0,J0=(e,n,o,i,c)=>{if(li(i,o))return L1(o),Bi(o.dom);rR(i,c)&&li(i,n)&&Ja(c,Ct.fromTag("br"));const p=kl(o.dom,hn.before(c.dom));return R(oR(n,i),h=>{Ja(c,h)}),sR(i,e,n),p},aR=(e,n)=>e.isInline(Fs(n)),KW=(e,n,o,i)=>{if(li(i,o)){if(li(i,n)){const h=ae((_=>{const S=(z,oe)=>pc(z).fold(()=>oe,ve=>aR(i,ve)?S(ve,oe.concat(qr(ve))):oe);return S(_,[])})(o),(_,S)=>(nl(_,S),S),O1());Ps(n),Lr(n,h)}return kr(o),Bi(n.dom)}const c=Pd(o.dom);return R(oR(n,i),p=>{Lr(o,p)}),sR(i,e,n),c},jW=(e,n)=>{const o=fg(n,e);return w.from(o[o.length-1])},ZW=(e,n)=>vl(n,e)?jW(n,e):w.none(),iR=(e,n)=>{sg(e,n.dom).bind(o=>w.from(o.getNode())).map(Ct.fromDom).filter(zf).each(kr)},Q0=(e,n,o,i)=>(iR(!0,n),iR(!1,o),ZW(n,o).fold(B(KW,e,n,o,i),B(J0,e,n,o,i))),lR=(e,n,o,i,c)=>n?Q0(e,i,o,c):Q0(e,o,i,c),o6=(e,n)=>{const o=Ct.fromDom(e.getBody());return VW(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{lR(o,n,c.from.block,c.to.block,e.schema).each(p=>{e.selection.setRng(p.toRange())})})},eS=(e,n,o)=>{const i=n.getRng();return Tt(nx(e,Ct.fromDom(i.startContainer)),nx(e,Ct.fromDom(i.endContainer)),(c,p)=>Ws(c,p)?w.none():w.some(()=>{i.deleteContents(),lR(e,!0,c,p,o).each(h=>{n.setRng(h.toRange())})})).getOr(w.none())},cR=(e,n)=>{const o=Ct.fromDom(n),i=B(Ws,e);return Mi(o,_i,i).isSome()},dR=(e,n)=>cR(e,n.startContainer)||cR(e,n.endContainer),i9=(e,n)=>{const o=kl(e.dom,hn.fromRangeStart(n)).isNone(),i=cl(e.dom,hn.fromRangeEnd(n)).isNone();return!dR(e,n)&&o&&i},GW=e=>w.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),qW=e=>{const n=Ct.fromDom(e.getBody()),o=e.selection.getRng();return i9(n,o)?GW(e):eS(n,e.selection,e.schema)},tS=(e,n)=>e.selection.isCollapsed()?w.none():qW(e),wg=(e,n,o,i,c)=>w.from(n._selectionOverrides.showCaret(e,o,i,c)),YW=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},e2=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?w.none():w.some(YW(n)),XW=(e,n,o)=>{const i=L3(1,e.getBody(),n),c=hn.fromRangeStart(i),p=c.getNode();if(Om(p))return wg(1,e,p,!c.isAtEnd(),!1);const h=c.getNode(!0);if(Om(h))return wg(1,e,h,!1,!1);const _=R0(e.dom.getRoot(),c.getNode());return Om(_)?wg(1,e,_,!1,o):w.none()},nS=(e,n,o)=>n.collapsed?XW(e,n,o).getOr(n):n,JW=e=>$m(e)||pv(e),QW=e=>Hm(e)||gv(e),eK=(e,n)=>{Yn(n)&&n.data.length===0&&e.remove(n)},uR=(e,n,o,i,c,p)=>{wg(i,e,p.getNode(!c),c,!0).each(h=>{if(n.collapsed){const _=n.cloneRange();c?_.setEnd(h.startContainer,h.startOffset):_.setStart(h.endContainer,h.endOffset),_.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),eK(e.dom,o)},tK=(e,n)=>{const o=e.selection.getRng();if(!Yn(o.commonAncestorContainer))return w.none();const i=n?1:-1,c=ll(e.getBody()),p=B(eg,n?c.next:c.prev),h=n?JW:QW,_=Qp(i,e.getBody(),o),S=p(_),z=S&&zd(n,S);if(!z||!Gf(_,z))return w.none();if(h(z))return w.some(()=>uR(e,o,_.getNode(),i,n,z));const oe=p(z);return oe&&h(oe)&&Gf(z,oe)?w.some(()=>uR(e,o,_.getNode(),i,n,oe)):w.none()},oS=(e,n)=>tK(e,n),sS=(e,n)=>{const o=e.getBody();return n?Bi(o).filter($m):Pd(o).filter(Hm)},rS=e=>{const n=e.selection.getRng();return!n.collapsed&&(sS(e,!0).exists(o=>o.isEqual(hn.fromRangeStart(n)))||sS(e,!1).exists(o=>o.isEqual(hn.fromRangeEnd(n))))},nK=e=>s(e)&&(_i(Ct.fromDom(e))||Ip(Ct.fromDom(e))),Gd=Xo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),oK=(e,n)=>{const o=n.getNode(!e),i=e?"after":"before";return Vo(o)&&o.getAttribute("data-mce-caret")===i},sK=(e,n,o,i,c)=>{const p=h=>c.isInline(h.nodeName.toLowerCase())&&!Id(o,i,e);return E7(!n,o).fold(()=>E7(n,i).fold(H,p),p)},aS=(e,n,o,i,c)=>{const p=c.getNode(!o);return nx(Ct.fromDom(n),Ct.fromDom(i.getNode())).map(h=>li(e,h)?Gd.remove(h.dom):Gd.moveToElement(p)).orThunk(()=>w.some(Gd.moveToElement(p)))},fR=(e,n,o,i)=>ed(n,e,o).bind(c=>nK(c.getNode())||sK(e,n,o,c,i)?w.none():n&&Pr(c.getNode())||!n&&Pr(c.getNode(!0))?aS(i,e,n,o,c):n&&Hm(o)||!n&&$m(o)?w.some(Gd.moveToPosition(c)):w.none()),rK=(e,n)=>Qo(n)?w.none():e&&Pr(n.nextSibling)?w.some(Gd.moveToElement(n.nextSibling)):!e&&Pr(n.previousSibling)?w.some(Gd.moveToElement(n.previousSibling)):w.none(),aK=(e,n,o)=>o.fold(i=>w.some(Gd.remove(i)),i=>w.some(Gd.moveToElement(i)),i=>Id(n,i,e)?w.none():w.some(Gd.moveToPosition(i))),iK=(e,n,o,i)=>oK(n,o)?rK(n,o.getNode(!n)).orThunk(()=>fR(e,n,o,i)):fR(e,n,o,i).bind(c=>aK(e,o,c)),lK=(e,n,o,i)=>{const c=L3(n?1:-1,e,o),p=hn.fromRangeStart(c),h=Ct.fromDom(e);return!n&&Hm(p)?w.some(Gd.remove(p.getNode(!0))):n&&$m(p)?w.some(Gd.remove(p.getNode())):!n&&$m(p)&&X7(h,p,i)?FA(h,p,i).map(_=>Gd.remove(_.getNode())):n&&Hm(p)&&U_(h,p,i)?P$(h,p,i).map(_=>Gd.remove(_.getNode())):iK(e,n,p,i)},iS=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),q1(e,n,Ct.fromDom(o)),!0),cK=(e,n)=>o=>{const i=n?hn.before(o):hn.after(o);return e.selection.setRng(i.toRange()),!0},dK=e=>n=>(e.selection.setRng(n.toRange()),!0),pR=(e,n)=>w.from(R0(e.getBody(),n)),uK=(e,n)=>{const o=e.selection.getNode();return pR(e,o).filter(Pr).fold(()=>lK(e.getBody(),n,e.selection.getRng(),e.schema).map(i=>()=>i.fold(iS(e,n),cK(e,n),dK(e))),()=>w.some(a))},fK=e=>{R(Nt(e,".mce-offscreen-selection"),kr)},pK=(e,n)=>{const o=e.selection.getNode();return Pr(o)&&!Ph(o)?pR(e,o.parentNode).filter(Pr).fold(()=>w.some(()=>{fK(Ct.fromDom(e.getBody())),q1(e,n,Ct.fromDom(e.selection.getNode())),eE(e)}),()=>w.some(a)):rS(e)?w.some(()=>{aO(e,e.selection.getRng(),Ct.fromDom(e.getBody()))}):w.none()},gR=e=>{const n=e.dom,o=e.selection,i=R0(e.getBody(),o.getNode());if(ni(i)&&n.isBlock(i)&&n.isEmpty(i)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),o.setRng(hn.before(c).toRange())}return!0},lS=(e,n)=>e.selection.isCollapsed()?uK(e,n):pK(e,n),mR=e=>e.hasOwnProperty("text"),hR=e=>e.hasOwnProperty("marker"),bR=(e,n)=>{const o=(p,h)=>{if(Yn(p))return{text:p,offset:h};{const _=n(),S=p.childNodes;return h<S.length?(p.insertBefore(_,S[h]),{marker:_,before:!0}):(p.appendChild(_),{marker:_,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},vR=e=>{var n,o;const{start:i,end:c}=e,p=new window.Range;return mR(i)?p.setStart(i.text,i.offset):hR(i)&&(i.before?p.setStartBefore(i.marker):p.setStartAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),mR(c)?p.setEnd(c.text,c.offset):hR(c)&&(c.before?p.setEndBefore(c.marker):p.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),p},cS=(e,n)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),p=i.getParent(e.selection.getEnd(),i.isBlock),h=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&p&&c===h.firstChild&&p===h.lastChild&&!i.isEmpty(h)){const S=c.cloneNode(!1),z=()=>{if(n?oO(e):yv(e),h.firstChild!==c){const oe=bR(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(ve=>S.appendChild(ve)),h.appendChild(S),e.selection.setRng(vR(oe))}};return w.some(z)}return w.none()},gK=(e,n)=>{const o=hn.fromRangeStart(e.selection.getRng());return ed(n,e.getBody(),o).filter(i=>n?N$(i):R$(i)).bind(i=>Fb(n?0:-1,i)).map(i=>()=>e.selection.select(i))},dS=(e,n)=>e.selection.isCollapsed()?gK(e,n):w.none(),g4=Yn,xR=e=>g4(e)&&e.data[0]===ui,yR=e=>g4(e)&&e.data[e.data.length-1]===ui,CR=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ui)},mK=e=>{var n;if(g4(e.previousSibling))return yR(e.previousSibling)||e.previousSibling.appendData(ui),e.previousSibling;if(g4(e))return xR(e)||e.insertData(0,ui),e;{const o=CR(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},hK=e=>{var n,o;if(g4(e.nextSibling))return xR(e.nextSibling)||e.nextSibling.insertData(0,ui),e.nextSibling;if(g4(e))return yR(e)||e.appendData(ui),e;{const i=CR(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},s6=(e,n)=>e?mK(n):hK(n),bK=B(s6,!0),vK=B(s6,!1),uS=(e,n)=>Yn(e.container())?s6(n,e.container()):s6(n,e.getNode()),_R=(e,n)=>{const o=n.get();return o&&e.container()===o&&yu(o)},fS=(e,n)=>n.fold(o=>{P1(e.get());const i=bK(o);return e.set(i),w.some(hn(i,i.length-1))},o=>Bi(o).map(i=>{if(_R(i,e)){const c=e.get();return hn(c,1)}else{P1(e.get());const c=uS(i,!0);return e.set(c),hn(c,1)}}),o=>Pd(o).map(i=>{if(_R(i,e)){const c=e.get();return hn(c,c.length-1)}else{P1(e.get());const c=uS(i,!1);return e.set(c),hn(c,c.length-1)}}),o=>{P1(e.get());const i=vK(o);return e.set(i),w.some(hn(i,1))}),ER=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,n);if(i.isSome())return i}return w.none()},lc=Xo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),l9=(e,n)=>{const o=Zf(n,e);return o||e},wR=(e,n,o)=>{const i=X_(o),c=l9(n,i.container());return pg(e,c,i).fold(()=>cl(c,i).bind(B(pg,e,c)).map(p=>lc.before(p)),w.none)},jJ=(e,n)=>of(e,n)===null,m4=(e,n,o)=>pg(e,n,o).filter(B(jJ,n)),ZJ=(e,n,o)=>{const i=J_(o);return m4(e,n,i).bind(c=>kl(c,i).isNone()?w.some(lc.start(c)):w.none())},GJ=(e,n,o)=>{const i=X_(o);return m4(e,n,i).bind(c=>cl(c,i).isNone()?w.some(lc.end(c)):w.none())},qJ=(e,n,o)=>{const i=J_(o),c=l9(n,i.container());return pg(e,c,i).fold(()=>kl(c,i).bind(B(pg,e,c)).map(p=>lc.after(p)),w.none)},xK=e=>!xv(t2(e)),qi=(e,n,o)=>ER([wR,ZJ,GJ,qJ],[e,n,o]).filter(xK),t2=e=>e.fold(T,T,T,T),ff=e=>e.fold(O("before"),O("start"),O("end"),O("after")),rp=e=>e.fold(lc.before,lc.before,lc.after,lc.after),r6=e=>e.fold(lc.start,lc.start,lc.end,lc.end),SR=(e,n)=>ff(e)===ff(n)&&t2(e)===t2(n),a6=(e,n,o,i,c,p)=>Tt(pg(n,o,i),pg(n,o,c),(h,_)=>h!==_&&eO(o,h,_)?lc.after(e?h:_):p).getOr(p),yK=(e,n)=>e.fold(ee,o=>!SR(o,n)),TR=(e,n,o,i,c)=>{const p=zd(e,c);return ed(e,o,p).map(B(zd,e)).fold(()=>i.map(rp),S=>qi(n,o,S).map(B(a6,e,n,o,p,S)).filter(B(yK,i))).filter(xK)},YJ=(e,n)=>e?n.fold(f(w.some,lc.start),w.none,f(w.some,lc.after),w.none):n.fold(w.none,f(w.some,lc.before),w.none,f(w.some,lc.end)),CK=(e,n,o,i)=>{const c=zd(e,i),p=qi(n,o,c);return qi(n,o,c).bind(B(YJ,e)).orThunk(()=>TR(e,n,o,p,i))},i6=e=>b(e.selection.getSel().modify),pS=(e,n,o)=>{const i=e?1:-1;return n.setRng(hn(o.container(),o.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Fa=(e,n)=>{const o=n.selection.getRng(),i=e?hn.fromRangeEnd(o):hn.fromRangeStart(o);return i6(n)?e&&fm(i)?pS(!0,n.selection,i):!e&&o3(i)?pS(!1,n.selection,i):!1:!1};var ap;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(ap||(ap={}));const c9=(e,n)=>e===-1?Me(n):n,h4=(e,n,o)=>e===1?n.next(o):n.prev(o),n2=(e,n,o,i)=>Jr(i.getNode(n===1))?ap.Br:Id(o,i)===!1?ap.Block:ap.Wrap,sh=(e,n,o,i)=>{const c=ll(o);let p=i;const h=[];for(;p;){const _=h4(n,c,p);if(!_)break;if(Jr(_.getNode(!1)))return n===1?{positions:c9(n,h).concat([_]),breakType:ap.Br,breakAt:w.some(_)}:{positions:c9(n,h),breakType:ap.Br,breakAt:w.some(_)};if(!_.isVisible()){p=_;continue}if(e(p,_)){const S=n2(o,n,p,_);return{positions:c9(n,h),breakType:S,breakAt:w.some(_)}}h.push(_),p=_}return{positions:c9(n,h),breakType:ap.Eol,breakAt:w.none()}},kR=(e,n,o,i)=>n(o,i).breakAt.map(c=>{const p=n(o,c).positions;return e===-1?p.concat(c):[c].concat(p)}).getOr([]),gS=(e,n)=>Le(e,(o,i)=>o.fold(()=>w.some(i),c=>Tt(Fe(c.getClientRects()),Fe(i.getClientRects()),(p,h)=>{const _=Math.abs(n-p.left);return Math.abs(n-h.left)<=_?i:c}).or(o)),w.none()),b4=(e,n)=>Fe(n.getClientRects()).bind(o=>gS(e,o.left)),o2=B(sh,hn.isAbove,-1),v4=B(sh,hn.isBelow,1),mS=B(kR,-1,o2),AR=B(kR,1,v4),OR=(e,n)=>o2(e,n).breakAt.isNone(),d9=(e,n)=>v4(e,n).breakAt.isNone(),_K=e=>Bi(e).map(n=>[n].concat(v4(e,n).positions)).getOr([]),EK=e=>Pd(e).map(n=>o2(e,n).positions.concat(n)).getOr([]),wK=(e,n)=>b4(mS(e,n),n),SK=(e,n)=>b4(AR(e,n),n),TK=Pr,u9=(e,n)=>Math.abs(e.left-n),hS=(e,n)=>Math.abs(e.right-n),kK=e=>Hn(e,"node"),LR=(e,n)=>cn(e,(o,i)=>{const c=Math.min(u9(o,n),hS(o,n)),p=Math.min(u9(i,n),hS(i,n));return p===c&&kK(i)&&TK(i.node)||p<c?i:o}),x4=e=>{const n=o=>K(o,i=>{const c=La(i);return c.node=e,c});if(Vo(e))return n(e.getClientRects());if(Yn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},bS=e=>nt(e,x4);var s2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(s2||(s2={}));const DR=(e,n,o,i)=>{let c=i;for(;c=Jp(c,e,a0,n);)if(o(c))return},NR=(e,n,o,i,c,p)=>{let h=0;const _=[],S=ve=>{let Te=bS([ve]);e===s2.Up&&(Te=Te.reverse());for(let $e=0;$e<Te.length;$e++){const dt=Te[$e];if(!o(dt,z)){if(_.length>0&&n(dt,us(_))&&h++,dt.line=h,c(dt))return!0;_.push(dt)}}return!1},z=us(p.getClientRects());if(!z)return _;const oe=p.getNode();return oe&&(S(oe),DR(e,i,S,oe)),_},RR=(e,n)=>n.line>e,AK=(e,n)=>n.line===e,MR=B(NR,s2.Up,pm,N1),IR=B(NR,s2.Down,N1,pm),vS=e=>us(e.getClientRects()),BR=(e,n,o,i)=>{const c=ll(n);let p,h,_,S;const z=[];let oe=0;e===s2.Down?(p=c.next,h=N1,_=pm,S=hn.after(i)):(p=c.prev,h=pm,_=N1,S=hn.before(i));const ve=vS(S);do{if(!S.isVisible())continue;const Te=vS(S);if(_(Te,ve))continue;z.length>0&&h(Te,us(z))&&oe++;const $e=La(Te);if($e.position=S,$e.line=oe,o($e))return z;z.push($e)}while(S=p(S));return z},xS=e=>n=>RR(e,n),f9=e=>n=>AK(e,n),Sg=(e,n)=>{e.selection.setRng(n),dv(e,e.selection.getRng())},yS=(e,n,o)=>w.some(nS(e,n,o)),FR=(e,n,o,i,c,p)=>{const h=n===1,_=ll(e.getBody()),S=B(eg,h?_.next:_.prev),z=h?i:c;if(!o.collapsed){const dt=gm(o);if(p(dt))return wg(n,e,dt,n===-1,!1);if(rS(e)){const at=o.cloneRange();return at.collapse(n===-1),w.from(at)}}const oe=Qp(n,e.getBody(),o);if(z(oe))return e2(e,oe.getNode(!h));let ve=S(oe);const Te=Xc(o);if(ve)ve=zd(h,ve);else return Te?w.some(o):w.none();if(z(ve))return wg(n,e,ve.getNode(!h),h,!1);const $e=S(ve);return $e&&z($e)&&Gf(ve,$e)?wg(n,e,$e.getNode(!h),h,!1):Te?yS(e,ve.toRange(),!1):w.none()},p9=(e,n,o,i,c,p)=>{const h=Qp(n,e.getBody(),o),_=us(h.getClientRects()),S=n===s2.Down,z=e.getBody();if(!_)return w.none();if(rS(e)){const rt=S?hn.fromRangeEnd(o):hn.fromRangeStart(o);return(S?SK:wK)(z,rt).orThunk(()=>w.from(rt)).map(Ft=>Ft.toRange())}const ve=(S?IR:MR)(z,xS(1),h),Te=V(ve,f9(1)),$e=_.left,dt=LR(Te,$e);if(dt&&p(dt.node)){const rt=Math.abs($e-dt.left),Wt=Math.abs($e-dt.right);return wg(n,e,dt.node,rt<Wt,!1)}let at;if(i(h)?at=h.getNode():c(h)?at=h.getNode(!0):at=gm(o),at){const rt=BR(n,z,xS(1),at);let Wt=LR(V(rt,f9(1)),$e);if(Wt||(Wt=us(V(rt,f9(0))),Wt))return yS(e,Wt.position.toRange(),!1)}return Te.length===0?r2(e,S).filter(S?c:i).map(rt=>nS(e,rt.toRange(),!1)):w.none()},r2=(e,n)=>{const o=e.selection.getRng(),i=n?hn.fromRangeEnd(o):hn.fromRangeStart(o),c=t_(i.container(),e.getBody());if(n){const p=v4(c,i);return Ye(p.positions)}else{const p=o2(c,i);return Fe(p.positions)}},y4=(e,n,o)=>r2(e,n).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),C4=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},CS=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},_S=(e,n,o)=>fS(n,o).map(i=>(C4(e,i),o)),g9=(e,n,o)=>{const i=hn.fromRangeStart(e);if(e.collapsed)return i;{const c=hn.fromRangeEnd(e);return o?kl(n,c).getOr(c):cl(n,i).getOr(i)}},OK=(e,n,o)=>{const i=e.getBody(),c=g9(e.selection.getRng(),i,o),p=B(D0,e);return CK(o,p,i,c).bind(_=>_S(e,n,_))},LK=(e,n,o)=>{const i=K(Nt(Ct.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),c=V(i,e),p=V(o,e);R(tt(c,p),B(CS,!1)),R(tt(p,c),B(CS,!0))},a2=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=hn.fromRangeStart(e.selection.getRng());hn.isTextPosition(i)&&!tO(i)&&(C4(e,T3(o,i)),n.set(null))}},ES=(e,n,o,i)=>{if(n.selection.isCollapsed()){const c=V(i,e);R(c,p=>{const h=hn.fromRangeStart(n.selection.getRng());qi(e,n.getBody(),h).bind(_=>_S(n,o,_))})}},wS=(e,n,o)=>Em(e)?OK(e,n,o).isSome():!1,_4=(e,n,o)=>Em(n)?Fa(e,n):!1,PR=e=>{const n=zn(null),o=B(D0,e);return e.on("NodeChange",i=>{Em(e)&&(LK(o,e.dom,i.parents),a2(e,n),ES(o,e,n,i.parents))}),n},SS=B(_4,!0),$R=B(_4,!1),l6=(e,n,o)=>{if(Em(e)){const i=r2(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?hn.fromRangeEnd(c):hn.fromRangeStart(c)});return qi(B(D0,e),e.getBody(),i).exists(c=>{const p=rp(c);return fS(o,p).exists(h=>(C4(e,h),!0))})}else return!1},DK=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},HR=e=>Tt(Bi(e),Pd(e),(n,o)=>{const i=zd(!0,n),c=zd(!1,o);return cl(e,i).forall(p=>p.isEqual(c))}).getOr(!0),zR=(e,n)=>o=>fS(n,o).map(i=>()=>C4(e,i)),UR=(e,n,o,i)=>{const c=e.getBody(),p=B(D0,e);e.undoManager.ignore(()=>{e.selection.setRng(DK(o,i)),yv(e),qi(p,c,hn.fromRangeStart(e.selection.getRng())).map(r6).bind(zR(e,n)).each(j)}),e.nodeChanged()},NK=(e,n)=>{const o=Zf(n,e);return o||e},RK=(e,n,o,i)=>{const c=NK(e.getBody(),i.container()),p=B(D0,e),h=qi(p,c,i);return h.bind(S=>o?S.fold(O(w.some(r6(S))),w.none,O(w.some(rp(S))),w.none):S.fold(w.none,O(w.some(rp(S))),w.none,O(w.some(r6(S))))).map(zR(e,n)).getOrThunk(()=>{const S=Tu(o,c,i),z=S.bind(oe=>qi(p,c,oe));return Tt(h,z,()=>pg(p,c,i).bind(oe=>HR(oe)?w.some(()=>{q1(e,o,Ct.fromDom(oe))}):w.none())).getOrThunk(()=>z.bind(()=>S.map(oe=>()=>{o?UR(e,n,i,oe):UR(e,n,oe,i)})))})},c6=(e,n,o)=>{if(e.selection.isCollapsed()&&Em(e)){const i=hn.fromRangeStart(e.selection.getRng());return RK(e,n,o,i)}return w.none()},MK=e=>za(e)>1,TS=(e,n)=>{const o=Ct.fromDom(e.getBody()),i=Ct.fromDom(e.selection.getStart()),c=fg(i,o);return Ne(c,n).fold(O(c),p=>c.slice(0,p))},IK=e=>za(e)===1,BK=e=>TS(e,n=>e.schema.isBlock(Fs(n))||MK(n)),FK=e=>TS(e,n=>e.schema.isBlock(Fs(n))),VR=(e,n)=>{const o=B(MO,e);return nt(n,i=>o(i)?[i.dom]:[])},WR=e=>{const n=FK(e);return VR(e,n)},PK=(e,n,o,i)=>{const c=VR(n,i);if(c.length===0)q1(n,e,o);else{const p=RO(o.dom,c);n.selection.setRng(p.toRange())}},$K=(e,n)=>{const o=V(BK(e),IK);return Ye(o).bind(i=>{const c=hn.fromRangeStart(e.selection.getRng());return sO(n,c,i.dom)&&!os(i)?w.some(()=>PK(n,e,i,o)):w.none()})},HK=(e,n)=>{const o=n.parentElement;return Jr(n)&&!ht(o)&&e.dom.isEmpty(o)},zK=e=>os(Ct.fromDom(e)),KR=(e,n)=>{const o=e.selection.getStart(),i=HK(e,o)||zK(o)?RO(o,n):RH(e.selection.getRng(),n);e.selection.setRng(i.toRange())},UK=(e,n)=>{const o=tt(n,WR(e));o.length>0&&KR(e,o)},kS=e=>Yn(e.startContainer),VK=e=>e.startOffset===0&&kS(e),m9=(e,n)=>{const o=n.startContainer.parentElement;return!ht(o)&&MO(e,Ct.fromDom(o))},Zl=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ht(n)&&!ht(o)&&n.isEqualNode(o)},WK=e=>{const n=e.endContainer;return e.endOffset===(Yn(n)?n.length:n.childNodes.length)},h9=e=>Zl(e)&&WK(e),i2=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),jR=e=>h9(e)||i2(e),dd=e=>{const n=e.selection.getRng();return VK(n)&&m9(e,n)&&jR(n)},l2=e=>{if(dd(e)){const n=WR(e);return w.some(()=>{yv(e),UK(e,n)})}else return w.none()},b9=(e,n)=>e.selection.isCollapsed()?$K(e,n):l2(e),KK=(e,n)=>En(e,o=>Gi(o.dom),o=>n.isBlock(Fs(o))),ZR=e=>KK(Ct.fromDom(e.selection.getStart()),e.schema),jK=e=>{const n=e.selection.getRng();return n.collapsed&&(kS(n)||e.dom.isEmpty(n.startContainer))&&!ZR(e)},E4=e=>(jK(e)&&KR(e,[]),!0),d6=(e,n,o)=>s(o)?w.some(()=>{e._selectionOverrides.hideFakeCaret(),q1(e,n,Ct.fromDom(o))}):w.none(),AS=(e,n)=>{const o=n?pv:gv,c=Qp(n?1:-1,e.getBody(),e.selection.getRng());return o(c)?d6(e,n,c.getNode(!n)):w.from(zd(n,c)).filter(p=>o(p)&&Gf(c,p)).bind(p=>d6(e,n,p.getNode(!n)))},ZK=(e,n)=>{const o=e.selection.getNode();return Zc(o)?d6(e,n,o):w.none()},OS=(e,n)=>e.selection.isCollapsed()?AS(e,n):ZK(e,n),GR=e=>_d(e,n=>ni(n.dom)||Pr(n.dom)).exists(n=>ni(n.dom)),Ru=e=>Tr(e??"").getOr(0),v9=(e,n)=>{const o=e||iC(n)?"margin":"padding",i=Va(n,"direction")==="rtl"?"-right":"-left";return o+i},GK=(e,n,o,i,c,p)=>{const h=v9(o,Ct.fromDom(p)),_=Ru(e.getStyle(p,h));if(n==="outdent"){const S=Math.max(0,_-i);e.setStyle(p,h,S?S+c:"")}else{const S=_+i+c;e.setStyle(p,h,S)}},x9=(e,n)=>st(n,o=>{const i=v9(b3(e),o),c=tc(o,i).map(Ru).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),y9=e=>{const n=XR(e);return!e.mode.isReadOnly()&&(n.length>1||x9(e,n))},qR=e=>!e.mode.isReadOnly()&&cW(e),LS=e=>Mp(e)||Ip(e),YR=e=>si(e).exists(LS),XR=e=>V(Pl(e.selection.getSelectedBlocks()),n=>!LS(n)&&!YR(n)&&GR(n)),JR=(e,n)=>{var o,i;if(e.mode.isReadOnly())return;const{dom:c}=e,p=DC(e),h=(i=(o=/[a-z%]+$/i.exec(p))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",_=Ru(p),S=b3(e);R(XR(e),z=>{GK(c,n,S,_,h,z.dom)}),n==="indent"?YN(e):zw(e)},qK=e=>JR(e,"indent"),QR=e=>JR(e,"outdent"),eM=e=>{if(e.selection.isCollapsed()&&y9(e)){const n=e.dom,o=e.selection.getRng(),i=hn.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&q7(Ct.fromDom(c),i,e.schema))return w.some(()=>QR(e))}return w.none()},tM=(e,n)=>{const o=dx(e.selection.getRng());return u_(o)?w.some(()=>q1(e,n,Ct.fromDom(e.selection.getNode()))):w.none()},DS=(e,n)=>e.selection.isCollapsed()?w.none():tM(e,n),nM=(e,n,o)=>ft([eM,lS,oS,(i,c)=>c6(i,n,c),o6,ax,dS,OS,tS,b9,cS,DS],i=>i(e,o)).filter(i=>e.selection.isEditable()),NS=(e,n)=>{nM(e,n,!1).fold(()=>{e.selection.isEditable()&&(yv(e),eE(e))},j),Yw(e)&&l4(e.dom,e.getBody())},oM=(e,n)=>{nM(e,n,!0).fold(()=>{e.selection.isEditable()&&oO(e)},j),Yw(e)&&l4(e.dom,e.getBody())},RS=(e,n)=>{e.addCommand("delete",()=>{NS(e,n)}),e.addCommand("forwardDelete",()=>{oM(e,n)})},C9=5,sM=400,_9=e=>e.touches===void 0||e.touches.length!==1?w.none():w.some(e.touches[0]),rM=(e,n)=>{const o=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return o>C9||i>C9},aM=e=>{const n=hs(),o=zn(!1),i=Qn(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},sM);e.on("touchstart",c=>{_9(c).each(p=>{i.cancel();const h={x:p.clientX,y:p.clientY,target:c.target};i.throttle(c),o.set(!1),n.set(h)})},!0),e.on("touchmove",c=>{i.cancel(),_9(c).each(p=>{n.on(h=>{rM(p,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&n.get().filter(p=>p.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},u6=(e,n)=>vn(e,n.nodeName),iM=(e,n)=>Yn(n)?!0:Vo(n)?!u6(e.getBlockElements(),n)&&!td(n)&&!ju(e,n)&&!Gc(n)&&!$2(n):!1,lM=(e,n,o)=>W(MA(Ct.fromDom(o),Ct.fromDom(n)),i=>u6(e,i.dom)),cM=(e,n)=>{if(Yn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||u6(e,n.nextSibling)||Gc(n.nextSibling)}return!1},MS=e=>e.dom.create(Mr(e),Oc(e)),YK=e=>{const n=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),p=o.getStart(),h=e.getBody();let _,S,z=null;const oe=Mr(e);if(!p||!Vo(p))return;const ve=h.nodeName.toLowerCase();if(!i.isValidChild(ve,oe.toLowerCase())||lM(c,h,p))return;if(h.firstChild===h.lastChild&&Jr(h.firstChild)){_=MS(e),_.appendChild(O1().dom),h.replaceChild(_,h.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let Te=h.firstChild;for(;Te;)if(Vo(Te)&&Qg(i,Te),iM(i,Te)){if(cM(c,Te)){S=Te,Te=Te.nextSibling,n.remove(S);continue}if(!_){if(!z&&e.hasFocus()&&(z=bR(e.selection.getRng(),()=>document.createElement("span"))),!Te.parentNode){Te=null;break}_=MS(e),h.insertBefore(_,Te)}S=Te,Te=Te.nextSibling,_.appendChild(S)}else _=null,Te=Te.nextSibling;z&&(e.selection.setRng(vR(z)),e.nodeChanged())},f6=(e,n,o)=>{const i=Ct.fromDom(MS(e)),c=O1();Lr(i,c),o(n,i);const p=document.createRange();return p.setStartBefore(c.dom),p.setEndBefore(c.dom),p},XK=e=>{e.on("NodeChange",()=>YK(e))},w4=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,JK=(e,n,o)=>function(i){const c=arguments,p=c[c.length-2],h=p>0?n.charAt(p-1):"";if(h==='"')return i;if(h===">"){const _=n.lastIndexOf("<",p);if(_!==-1&&n.substring(_,p).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},QK=(e,n,o)=>{let i=n.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(n[i],JK(e,c,y0(e)));o.content=c}},ej=(e,n)=>st(e,o=>{const i=n.match(o);return i!==null&&i[0].length===n.length}),tj=e=>{const n="contenteditable",o=" "+Kn.trim(kb(e))+" ",i=" "+Kn.trim(y0(e))+" ",c=w4(o),p=w4(i),h=zC(e);h.length>0&&e.on("BeforeSetContent",_=>{QK(e,h,_)}),e.parser.addAttributeFilter("class",_=>{let S=_.length;for(;S--;){const z=_[S];c(z)?z.attr(n,"true"):p(z)&&z.attr(n,"false")}}),e.serializer.addAttributeFilter(n,_=>{let S=_.length;for(;S--;){const z=_[S];if(!c(z)&&!p(z))continue;const oe=z.attr("data-mce-content");h.length>0&&oe?ej(h,oe)?(z.name="#text",z.type=3,z.raw=!0,z.value=oe):z.remove():z.attr(n,null)}})},dM=e=>Ma(Ct.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),IS=(e,n)=>{n.hasAttribute("data-mce-caret")&&(o0(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},nj=(e,n)=>{const o=dM(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),IS(e,o);return}Fp(o)&&(IS(e,o),e.undoManager.add())}},oj=e=>{e.on("keyup compositionstart",B(nj,e))},uM=Pr,sj=(e,n,o)=>FR(n,e,o,$m,Hm,uM),rj=(e,n,o)=>p9(n,e,o,p=>$m(p)||RA(p),p=>Hm(p)||$_(p),uM),fM=e=>{const n=e.dom.create(Mr(e));return n.innerHTML='<br data-mce-bogus="1">',n},aj=(e,n,o)=>{const i=ll(e.getBody()),c=B(eg,n===1?i.next:i.prev);if(o.collapsed){const p=e.dom.getParent(o.startContainer,"PRE");if(!p)return;if(!c(hn.fromRangeStart(o))){const _=Ct.fromDom(fM(e));n===1?yd(Ct.fromDom(p),_):Ja(Ct.fromDom(p),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},ij=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return sj(o,e,i).orThunk(()=>(aj(e,o,i),w.none()))},lj=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return rj(o,e,i).orThunk(()=>(aj(e,o,i),w.none()))},cj=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return xv(o)?!n:n},pM=(e,n)=>ij(e,cj(e.selection,n)).exists(o=>(Sg(e,o),!0)),gM=(e,n)=>lj(e,n).exists(o=>(Sg(e,o),!0)),mM=(e,n)=>y4(e,n,n?Hm:$m),E9=(e,n)=>sS(e,!n).map(o=>{const i=o.toRange(),c=e.selection.getRng();return n?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(Sg(e,o),!0)),hM=e=>M(["figcaption"],Fs(e)),dj=(e,n,o)=>{const i=B(Ws,n);return _d(Ct.fromDom(e.container()),c=>o.isBlock(Fs(c)),i).filter(hM)},uj=(e,n,o)=>n?d9(e.dom,o):OR(e.dom,o),fj=(e,n)=>{const o=Ct.fromDom(e.getBody()),i=hn.fromRangeStart(e.selection.getRng());return dj(i,o,e.schema).exists(()=>{if(uj(o,n,i)){const p=f6(e,o,n?Lr:su);return e.selection.setRng(p),!0}else return!1})},bM=(e,n)=>e.selection.isCollapsed()?fj(e,n):!1,pj=(e,n,o)=>{const i=e.selection.getRng(),c=hn.fromRangeStart(i);return e.getBody().firstChild===n&&OR(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},gj=(e,n)=>{const o=e.selection.getRng(),i=hn.fromRangeStart(o);return e.getBody().lastChild===n&&d9(n,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},mj=(e,n)=>n?w.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>gj(e,o)).getOr(!1):w.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>w.from(e.dom.getParent(o,"details")).map(i=>pj(e,i,o))).getOr(!1),vM=(e,n)=>mj(e,n),xM={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},hj=e=>K(e,n=>({...xM,...n})),yM=e=>K(e,n=>({...xM,...n})),CM=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,bj=(e,n)=>nt(hj(e),o=>CM(o,n)?[o]:[]),vj=(e,n)=>nt(yM(e),o=>CM(o,n)?[o]:[]),ys=(e,...n)=>()=>e.apply(null,n),p6=(e,n)=>we(bj(e,n),o=>o.action()),_M=(e,n)=>ft(vj(e,n),o=>o.action()),BS=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return FR(e,o,i,pv,gv,Zc).exists(c=>(Sg(e,c),!0))},w9=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return p9(e,o,i,pv,gv,Zc).exists(c=>(Sg(e,c),!0))},EM=(e,n)=>y4(e,n,n?gv:pv),xj=(e,n)=>yj(e,n,ee),yj=(e,n,o)=>nt(hr(e),i=>Ml(i,n)?o(i)?[i]:[]:yj(i,n,o)),Cj=(e,n,o=H)=>{if(o(n))return w.none();if(M(e,Fs(n)))return w.some(n);const i=c=>Ml(c,"table")||o(c);return Vu(n,e.join(","),i)},_j=(e,n)=>Cj(["td","th"],e,n),Ej=e=>xj(e,"th,td"),S4=(e,n)=>$l(e,"table",n),wM=Xo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),g6={...wM,none:e=>wM.none(e)},S9=(e,n,o,i,c=ee)=>{const p=i===1;if(!p&&o<=0)return g6.first(e[0]);if(p&&o>=e.length-1)return g6.last(e[e.length-1]);{const h=o+i,_=e[h];return c(_)?g6.middle(n,_):S9(e,n,h,i,c)}},Tg=(e,n)=>S4(e,n).bind(o=>{const i=Ej(o);return Ne(i,p=>Ws(e,p)).map(p=>({index:p,all:i}))}),Bc=(e,n,o)=>Tg(e,o).fold(()=>g6.none(e),c=>S9(c.all,e,c.index,1,n)),SM=(e,n,o)=>Tg(e,o).fold(()=>g6.none(),c=>S9(c.all,e,c.index,-1,n));var m6=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rh=()=>{const e=z=>Ct.fromDom(z.dom.cloneNode(!1)),n=z=>yi(z).dom,o=z=>da(z)?Fs(z)==="body"?!0:M(m6,Fs(z)):!1,i=z=>da(z)?M(["br","img","hr","input"],Fs(z)):!1,c=z=>da(z)&&Qa(z,"contenteditable")==="false",p=(z,oe)=>z.dom.compareDocumentPosition(oe.dom),h=(z,oe)=>{const ve=ru(z);ka(oe,ve)},_=z=>{const oe=Fs(z);return M(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],oe)},S=z=>da(z)?pa(z,"lang"):w.none();return{up:O({selector:Vu,closest:$l,predicate:Mi,all:Ql}),down:O({selector:Nt,predicate:Pe}),styles:O({get:Va,getRaw:tc,set:iu,remove:Sf}),attrs:O({get:Qa,set:Mo,remove:er,copyTo:h}),insert:O({before:Ja,after:yd,afterAll:Sh,append:Lr,appendAll:Bl,prepend:su,wrap:nl}),remove:O({unwrap:Fl,remove:kr}),create:O({nu:Ct.fromTag,clone:e,text:Ct.fromText}),query:O({comparePosition:p,prevSibling:Js,nextSibling:xd}),property:O({children:hr,name:Fs,parent:si,document:n,isText:Ha,isComment:Ra,isElement:da,isSpecial:_,getLanguage:S,getText:pr,setText:mc,isBoundary:o,isEmptyTag:i,isNonEditable:c}),eq:Ws,is:_f}};const pf=(e,n)=>({element:e,offset:n}),T4=(e,n)=>{if(e.property().isText(n))return pf(n,e.property().getText(n).length);{const o=e.property().children(n);return o.length>0?T4(e,o[o.length-1]):pf(n,o.length)}},T9=(e,n,o)=>{const i=e.property().children(n);return i.length>0&&o<i.length?T9(e,i[o],0):i.length>0&&e.property().isElement(n)&&i.length===o?T4(e,i[i.length-1]):pf(n,o)},FS=T9,TM=rh(),kM=(e,n)=>FS(TM,e,n),AM=te("image"),wj=e=>{const n=e;return w.from(n[AM])},OM=(e,n)=>{const o=e;o[AM]=n},k9=te("event"),LM=e=>{const n=e;return w.from(n[k9])},A9=e=>n=>{const o=n;o[k9]=e},JJ=(e,n)=>A9(n)(e),Sj=A9(0),QJ=A9(2),gf=A9(1),Tj=(e=>n=>{const o=n;return w.from(o[k9]).exists(i=>i===e)})(0),c2=()=>Object.freeze({length:0,item:e=>null}),O9=te("mode"),kj=e=>{const n=e;return w.from(n[O9])},d2=e=>n=>{const o=n;o[O9]=e},L9=(e,n)=>d2(n)(e),PS=d2(0),D9=d2(2),Aj=d2(1),$S=e=>n=>{const o=n;return w.from(o[O9]).exists(i=>i===e)},u2=$S(0),HS=$S(1),zS=(e,n)=>({...n,get length(){return n.length},add:(o,i)=>{if(u2(e))if(lt(o)){if(!ks(i))return n.add(o,i)}else return n.add(o);return null},remove:o=>{u2(e)&&n.remove(o)},clear:()=>{u2(e)&&n.clear()}}),Oj=["none","copy","link","move"],Lj=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],US=()=>{const e=new window.DataTransfer;let n="move",o="all";const i={get dropEffect(){return n},set dropEffect(c){M(Oj,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Tj(i)&&M(Lj,c)&&(o=c)},get items(){return zS(i,e.items)},get files(){return HS(i)?c2():e.files},get types(){return e.types},setDragImage:(c,p,h)=>{u2(i)&&(OM(i,{image:c,x:p,y:h}),e.setDragImage(c,p,h))},getData:c=>HS(i)?"":e.getData(c),setData:(c,p)=>{u2(i)&&e.setData(c,p)},clearData:c=>{u2(i)&&e.clearData(c)}};return PS(i),i},Dj=e=>{const n=US(),o=kj(e);return D9(e),Sj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,wj(e).each(i=>n.setDragImage(i.image,i.x,i.y)),R(e.types,i=>{i!=="Files"&&n.setData(i,e.getData(i))}),R(e.files,i=>n.items.add(i)),LM(e).each(i=>{JJ(n,i)}),o.each(i=>{L9(e,i),L9(n,i)}),n},Nj=e=>{const n=e.getData("text/html");return n===""?w.none():w.some(n)},DM=(e,n)=>e.setData("text/html",n),Rj=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Mj=(e,n)=>nt(n,o=>{const i=Rj(La(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),NM=(e,n,o)=>Le(e,(i,c)=>i.fold(()=>w.some(c),p=>{const h=Math.sqrt(Math.abs(p.x-n)+Math.abs(p.y-o)),_=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return w.some(_<h?c:p)}),w.none()),RM=(e,n,o,i,c)=>{const p=Nt(Ct.fromDom(o),"td,th,caption").map(_=>_.dom),h=V(Mj(e,p),_=>n(_,c));return NM(h,i,c).map(_=>_.cell)},kg=e=>e.bottom,VS=e=>e.top,Ij=(e,n)=>e.y<n,Bj=(e,n)=>e.y>n,Fj=B(RM,kg,Ij),WS=B(RM,VS,Bj),KS=(e,n)=>Fe(n.getClientRects()).bind(o=>Fj(e,o.left,o.top)).bind(o=>b4(EK(o),n)),MM=(e,n)=>Ye(n.getClientRects()).bind(o=>WS(e,o.left,o.top)).bind(o=>b4(_K(o),n)),IM=(e,n,o)=>o.breakAt.exists(i=>e(n,i).breakAt.isSome()),BM=e=>e.breakType===ap.Wrap&&e.positions.length===0,Pj=e=>e.breakType===ap.Br&&e.positions.length===1,k4=(e,n,o)=>{const i=e(n,o);return BM(i)||!Jr(o.getNode())&&Pj(i)?!IM(e,n,i):i.breakAt.isNone()},N9=B(k4,o2),FM=B(k4,v4),PM=(e,n,o)=>{const i=hn.fromRangeStart(n);return sg(!e,o).exists(c=>c.isEqual(i))},$M=(e,n,o,i)=>{const c=e.selection.getRng(),p=n?1:-1;return Am()&&PM(n,c,o)?(wg(p,e,o,!n,!1).each(h=>{Sg(e,h)}),!0):!1},HM=(e,n,o)=>KS(n,o).orThunk(()=>Fe(o.getClientRects()).bind(i=>gS(mS(e,hn.before(n)),i.left))).getOr(hn.before(n)),R9=(e,n,o)=>MM(n,o).orThunk(()=>Fe(o.getClientRects()).bind(i=>gS(AR(e,hn.after(n)),i.left))).getOr(hn.after(n)),M9=(e,n)=>{const o=n.getNode(e);return pu(o)?w.some(o):w.none()},h6=(e,n,o)=>{n.undoManager.transact(()=>{const i=e?yd:Ja,c=f6(n,Ct.fromDom(o),i);Sg(n,c)})},zM=(e,n,o)=>{const i=M9(!!n,o),c=n===!1;i.fold(()=>Sg(e,o.toRange()),p=>sg(c,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>Sg(e,o.toRange()),h=>h6(n,e,p)))},UM=(e,n,o,i)=>{const c=e.selection.getRng(),p=hn.fromRangeStart(c),h=e.getBody();if(!n&&N9(i,p)){const _=HM(h,o,p);return zM(e,n,_),!0}else if(n&&FM(i,p)){const _=R9(h,o,p);return zM(e,n,_),!0}else return!1},VM=(e,n,o)=>w.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>w.from(e.dom.getParent(i,"table")).map(c=>o(e,n,c,i))).getOr(!1),WM=(e,n)=>VM(e,n,$M),I9=(e,n)=>VM(e,n,UM),$j=e=>{const n=bc.exact(e,0,e,0);return ol(n)},KM=e=>B9(e)||yl(e).some(n=>xl(n)&&B9(n)),Hj=(e,n,o)=>o.fold(w.none,w.none,(i,c)=>Rh(c).map(p=>$j(p)),i=>e.mode.isReadOnly()||!zj(i)||!KM(i)?w.none():(e.execCommand("mceTableInsertRowAfter"),jM(e,n,i))),zj=e=>_d(e,nu("table")).exists(Ed),jM=(e,n,o)=>Hj(e,n,Bc(o,B9)),Uj=(e,n,o)=>Hj(e,n,SM(o,B9)),B9=e=>Ed(e)||Fo(e,Vj),Vj=e=>xl(e)&&Ed(e),ZM=(e,n)=>{const o=["table","li","dl"],i=Ct.fromDom(e.getBody()),c=_=>{const S=Fs(_);return Ws(_,i)||M(o,S)},p=e.selection.getRng(),h=Ct.fromDom(n?p.endContainer:p.startContainer);return _j(h,c).map(_=>(S4(_,c).each(oe=>{e.model.table.clearSelectedCells(oe.dom)}),e.selection.collapse(!n),(n?jM:Uj)(e,c,_).each(oe=>{e.selection.setRng(oe)}),!0)).getOr(!1)},Wj=(e,n,o)=>{const i=fr.os.isMacOS()||fr.os.isiOS();p6([{keyCode:wo.RIGHT,action:ys(pM,e,!0)},{keyCode:wo.LEFT,action:ys(pM,e,!1)},{keyCode:wo.UP,action:ys(gM,e,!1)},{keyCode:wo.DOWN,action:ys(gM,e,!0)},...i?[{keyCode:wo.UP,action:ys(E9,e,!1),metaKey:!0,shiftKey:!0},{keyCode:wo.DOWN,action:ys(E9,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:wo.RIGHT,action:ys(WM,e,!0)},{keyCode:wo.LEFT,action:ys(WM,e,!1)},{keyCode:wo.UP,action:ys(I9,e,!1)},{keyCode:wo.DOWN,action:ys(I9,e,!0)},{keyCode:wo.UP,action:ys(I9,e,!1)},{keyCode:wo.UP,action:ys(vM,e,!1)},{keyCode:wo.DOWN,action:ys(vM,e,!0)},{keyCode:wo.RIGHT,action:ys(BS,e,!0)},{keyCode:wo.LEFT,action:ys(BS,e,!1)},{keyCode:wo.UP,action:ys(w9,e,!1)},{keyCode:wo.DOWN,action:ys(w9,e,!0)},{keyCode:wo.RIGHT,action:ys(wS,e,n,!0)},{keyCode:wo.LEFT,action:ys(wS,e,n,!1)},{keyCode:wo.RIGHT,ctrlKey:!i,altKey:i,action:ys(SS,e,n)},{keyCode:wo.LEFT,ctrlKey:!i,altKey:i,action:ys($R,e,n)},{keyCode:wo.UP,action:ys(bM,e,!1)},{keyCode:wo.DOWN,action:ys(bM,e,!0)}],o).each(c=>{o.preventDefault()})},jS=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Wj(e,n,o)})},n1=(e,n)=>({container:e,offset:n}),o1=Ar.DOM,b6=e=>n=>e===n?-1:0,ZS=e=>n=>e.isBlock(n)||M(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",F9=(e,n,o)=>{if(Yn(e)&&n>=0)return w.some(n1(e,n));{const i=Xu(o1);return w.from(i.backwards(e,n,b6(e),o)).map(c=>n1(c.container,c.container.data.length))}},GS=(e,n,o)=>{if(Yn(e)&&n>=e.length)return w.some(n1(e,n));{const i=Xu(o1);return w.from(i.forwards(e,n,b6(e),o)).map(c=>n1(c.container,0))}},ip=(e,n,o)=>{if(!Yn(e))return w.none();const i=e.data;if(n>=0&&n<=i.length)return w.some(n1(e,n));{const c=Xu(o1);return w.from(c.backwards(e,n,b6(e),o)).bind(p=>{const h=p.container.data;return ip(p.container,n+h.length,o)})}},qS=(e,n,o)=>{if(!Yn(e))return w.none();const i=e.data;if(n<=i.length)return w.some(n1(e,n));{const c=Xu(o1);return w.from(c.forwards(e,n,b6(e),o)).bind(p=>qS(p.container,n-i.length,o))}},ud=(e,n,o,i,c)=>{const p=Xu(e,ZS(e));return w.from(p.backwards(n,o,i,c))},f2=e=>e.collapsed&&Yn(e.startContainer),GM=e=>kc(e.toString().replace(/\u00A0/g," ")),P9=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,Kj=(e,n)=>e.substring(n.length),qM=(e,n,o,i=!1)=>{let c;const p=o.charAt(0);for(c=n-1;c>=0;c--){const h=e.charAt(c);if(!i&&P9(h))return w.none();if(p===h&&bs(e,o,c,n))break}return w.some(c)},YS=(e,n,o,i=!1)=>{if(!f2(n))return w.none();const c={text:"",offset:0},p=(_,S,z)=>(c.text=z+c.text,c.offset+=S,qM(c.text,c.offset,o,i).getOr(S)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return ud(e,n.startContainer,n.startOffset,p,h).bind(_=>{const S=n.cloneRange();if(S.setStart(_.container,_.offset),S.setEnd(n.endContainer,n.endOffset),S.collapsed)return w.none();const z=GM(S);return z.lastIndexOf(o)!==0?w.none():w.some({text:Kj(z,o),range:S,trigger:o})})},jj=e=>e.nodeType===T2,Zj=e=>e.nodeType===Jl,YM=e=>{if(jj(e))return n1(e,e.data.length);{const n=e.childNodes;return n.length>0?YM(n[n.length-1]):n1(e,n.length)}},XM=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?XM(o[n],0):o.length>0&&Zj(e)&&o.length===n?YM(o[o.length-1]):n1(e,n)},JM=(e,n)=>{var o;const i=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return ud(e,n.container,n.offset,(c,p)=>p===0?-1:p,i).filter(c=>{const p=c.container.data.charAt(c.offset-1);return!P9(p)}).isSome()},Gj=e=>n=>{const o=XM(n.startContainer,n.startOffset);return!JM(e,o)},qj=(e,n,o)=>ft(o.triggers,i=>YS(e,n,i)),A4=(e,n)=>{const o=n(),i=e.selection.getRng();return qj(e.dom,i,o).bind(c=>v6(e,n,c))},v6=(e,n,o,i={})=>{var c;const p=n(),_=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",S=V(p.lookupByTrigger(o.trigger),oe=>o.text.length>=oe.minChars&&oe.matches.getOrThunk(()=>Gj(e.dom))(o.range,_,o.text));if(S.length===0)return w.none();const z=Promise.all(K(S,oe=>oe.fetch(o.text,oe.maxResults,i).then(Te=>({matchText:o.text,items:Te,columns:oe.columns,onAction:oe.onAction,highlightOn:oe.highlightOn}))));return w.some({lookupData:z,context:o})};var mf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(mf||(mf={}));const $9=(e,n,o)=>e.stype===mf.Error?n(e.serror):o(e.svalue),XS=e=>{const n=[],o=[];return R(e,i=>{$9(i,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},Yj=(e,n)=>e.stype===mf.Error?{stype:mf.Error,serror:n(e.serror)}:e,Xj=(e,n)=>e.stype===mf.Value?{stype:mf.Value,svalue:n(e.svalue)}:e,Jj=(e,n)=>e.stype===mf.Value?n(e.svalue):e,QM=(e,n)=>e.stype===mf.Error?n(e.serror):e,x6=e=>({stype:mf.Value,svalue:e}),JS=e=>({stype:mf.Error,serror:e}),Gl={fromResult:e=>e.fold(JS,x6),toResult:e=>$9(e,fe.error,fe.value),svalue:x6,partition:XS,serror:JS,bind:Jj,bindError:QM,map:Xj,mapError:Yj,fold:$9},eI=e=>qn(e)&&Rt(e).length>100?" removed due to size":JSON.stringify(e,null,2),Qj=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:O("... (only showing first ten failures)")}]):e;return K(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},tI=(e,n)=>Gl.serror([{path:e,getErrorInfo:n}]),nI=(e,n,o)=>tI(e,()=>'Could not find valid *required* value for "'+n+'" in '+eI(o)),eZ=(e,n)=>tI(e,O(n)),oI=e=>{const n=(i,c)=>Gl.bindError(e(c),p=>eZ(i,p)),o=O("val");return{extract:n,toString:o}},sI=oI(Gl.svalue),p2=O(sI),eT=(e,n)=>oI(o=>{const i=typeof o;return e(o)?Gl.svalue(o):Gl.serror(`Expected type: ${n} but got: ${i}`)}),rI=eT($,"number"),H9=eT(lt,"string"),tT=eT(b,"function"),z9=()=>({tag:"required",process:{}}),aI=e=>({tag:"defaultedThunk",process:e}),iI=e=>aI(O(e)),nT=()=>({tag:"option",process:{}}),tZ=(e,n,o,i)=>({tag:"field",key:e,newKey:n,presence:o,prop:i}),lI=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},nZ=(e,n)=>Gl.svalue(pt(n,mt.apply(void 0,e))),U9=e=>f(Gl.serror,ct)(e),V9={consolidateObj:(e,n)=>{const o=Gl.partition(e);return o.errors.length>0?U9(o.errors):nZ(o.values,n)},consolidateArr:e=>{const n=Gl.partition(e);return n.errors.length>0?U9(n.errors):Gl.svalue(n.values)}},oZ=(e,n,o,i)=>Mn(n,o).fold(()=>nI(e,o,n),i),W9=(e,n,o,i)=>{const c=Mn(e,n).getOrThunk(()=>o(e));return i(c)},cI=(e,n,o)=>o(Mn(e,n)),dI=(e,n,o,i)=>{const c=Mn(e,n).map(p=>p===!0?o(e):p);return i(c)},uI=(e,n,o,i,c)=>{const p=_=>c.extract(n.concat([i]),_),h=_=>_.fold(()=>Gl.svalue(w.none()),S=>{const z=c.extract(n.concat([i]),S);return Gl.map(z,w.some)});switch(e.tag){case"required":return oZ(n,o,i,p);case"defaultedThunk":return W9(o,i,e.process,p);case"option":return cI(o,i,h);case"defaultedOptionThunk":return dI(o,i,e.process,h);case"mergeWithThunk":return W9(o,i,O({}),_=>{const S=pt(e.process(o),_);return p(S)})}},sZ=(e,n,o)=>{const i={},c=[];for(const p of o)lI(p,(h,_,S,z)=>{const oe=uI(S,e,n,h,z);Gl.fold(oe,ve=>{c.push(...ve)},ve=>{i[_]=ve})},(h,_)=>{i[h]=_(n)});return c.length>0?Gl.serror(c):Gl.svalue(i)},fI=e=>({extract:(i,c)=>sZ(i,c,e),toString:()=>`obj{
`+K(e,c=>lI(c,(p,h,_,S)=>p+" -> "+S.toString(),(p,h)=>"state("+p+")")).join(`
`)+"}"}),rZ=e=>({extract:(i,c)=>{const p=K(c,(h,_)=>e.extract(i.concat(["["+_+"]"]),h));return V9.consolidateArr(p)},toString:()=>"array("+e.toString()+")"}),aZ=(e,n,o)=>{const i=n.extract([e],o);return Gl.mapError(i,c=>({input:o,errors:c}))},y6=(e,n,o)=>Gl.toResult(aZ(e,n,o)),pI=e=>`Errors: 
`+Qj(e.errors).join(`
`)+`

Input object: `+eI(e.input),O4=tZ,iZ=e=>O4(e,e,z9(),p2()),K9=(e,n)=>O4(e,e,z9(),n),gI=e=>K9(e,H9),mI=e=>K9(e,tT),hI=e=>O4(e,e,nT(),p2()),bI=(e,n)=>O4(e,e,nT(),n),vI=e=>bI(e,H9),lZ=e=>bI(e,tT),cZ=(e,n)=>O4(e,e,iI(n),p2()),xI=(e,n,o)=>O4(e,e,iI(n),o),yI=(e,n)=>xI(e,n,rI),oT=(e,n,o)=>xI(e,n,rZ(o)),dZ=gI("type"),CI=mI("fetch"),uZ=mI("onAction"),fZ=e=>cZ("columns",e),pZ=fI([dZ,gI("trigger"),yI("minChars",1),fZ(1),yI("maxResults",10),lZ("matches"),CI,uZ,oT("highlightOn",[],H9)]),gZ=e=>y6("Autocompleter",pZ,e),bi=()=>{const e={},n={},o={},i={},c={},p={},h={},_={},S={},z=($e,dt)=>(at,rt)=>{$e[at.toLowerCase()]={...rt,type:dt}},oe=($e,dt)=>(at,rt)=>{$e[at.toLowerCase()]={type:dt,...rt}},ve=($e,dt)=>i[$e.toLowerCase()]=dt,Te=($e,dt)=>h[$e.toLowerCase()]=dt;return{addButton:z(e,"button"),addGroupToolbarButton:z(e,"grouptoolbarbutton"),addToggleButton:z(e,"togglebutton"),addMenuButton:z(e,"menubutton"),addSplitButton:z(e,"splitbutton"),addMenuItem:z(n,"menuitem"),addNestedMenuItem:z(n,"nestedmenuitem"),addToggleMenuItem:z(n,"togglemenuitem"),addAutocompleter:z(o,"autocompleter"),addContextMenu:z(c,"contextmenu"),addContextToolbar:z(p,"contexttoolbar"),addContextForm:oe(p,"contextform"),addSidebar:z(_,"sidebar"),addView:z(S,"views"),addIcon:ve,addContext:Te,getAll:()=>({buttons:e,menuItems:n,icons:i,popups:o,contextMenus:c,contextToolbars:p,sidebars:_,views:S,contexts:h})}},mZ=e=>{const n=e.ui.registry.getAll().popups,o=wn(n,h=>gZ(h).fold(_=>{throw new Error(pI(_))},T)),i=St(bn(o,h=>h.trigger)),c=kn(o);return{dataset:o,triggers:i,lookupByTrigger:h=>V(c,_=>_.trigger===h)}},hZ=(e,n)=>{const o=Qn(n.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},bZ=e=>{const n=hs(),o=zn(!1),i=n.isSet,c=()=>{i()&&(xC(e),o.set(!1),n.clear())},p=ve=>{i()||n.set({trigger:ve.trigger,matchLength:ve.text.length})},h=Ur(()=>mZ(e)),_=ve=>n.get().map(Te=>YS(e.dom,e.selection.getRng(),Te.trigger,!0).bind($e=>v6(e,h,$e,ve))).getOrThunk(()=>A4(e,h)),S=ve=>{_(ve).fold(c,Te=>{p(Te.context),Te.lookupData.then($e=>{n.get().map(dt=>{const at=Te.context;dt.trigger===at.trigger&&(n.set({...dt,matchLength:at.text.length}),o.get()?(hb(e,{range:at.range}),z8(e,{lookupData:$e})):(o.set(!0),hb(e,{range:at.range}),vC(e,{lookupData:$e})))})})})},z=(ve,Te)=>{const $e=ve.compareBoundaryPoints(window.Range.START_TO_START,Te),dt=ve.compareBoundaryPoints(window.Range.END_TO_END,Te);return $e>=0&&dt<=0},oe=()=>n.get().bind(({trigger:ve})=>{const Te=e.selection.getRng();return YS(e.dom,Te,ve,o.get()).filter(({range:$e})=>z(Te,$e)).map(({range:$e})=>$e)});e.addCommand("mceAutocompleterReload",(ve,Te)=>{const $e=qn(Te)?Te.fetchOptions:{};S($e)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{oe().each(ve=>{hb(e,{range:ve})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>oe().isSome()),hZ(e,{cancelIfNecessary:c,load:S})},sT=$c().browser.isSafari(),rT=e=>L1(Ct.fromDom(e)),L4=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},j9=(e,n)=>w.from(e.getParent(n.container(),"details")),_I=(e,n)=>j9(e,n).isSome(),xZ=(e,n)=>{const o=w.from(e.getParent(n.startContainer,"details")),i=w.from(e.getParent(n.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(p=>w.from(e.select("summary",p)[0]));return w.some({startSummary:c,startDetails:o,endDetails:i})}else return w.none()},yZ=(e,n)=>Bi(n).exists(o=>o.isEqual(e)),CZ=(e,n)=>Pd(n).exists(o=>Jr(o.getNode())&&kl(n,o).exists(i=>i.isEqual(e))||o.isEqual(e)),_Z=(e,n)=>n.startSummary.exists(o=>yZ(e,o)),EZ=(e,n)=>n.startSummary.exists(o=>CZ(e,o)),wZ=(e,n)=>n.startDetails.exists(o=>kl(o,e).forall(i=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),SZ=(e,n,o)=>o.startDetails.exists(i=>cl(e,n).forall(c=>!i.contains(c.container()))),EI=(e,n)=>{const o=n.getNode();ks(o)||e.selection.setCursorLocation(o,n.offset())},wI=(e,n,o)=>{const i=e.dom.getParent(n.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Bi(c):Pd(c)).each(h=>EI(e,h))}else EI(e,n)},TZ=(e,n)=>{const o=S=>S.contains(e.startContainer),i=S=>S.contains(e.endContainer),c=n.startSummary.exists(o),p=n.startSummary.exists(i),h=n.startDetails.forall(S=>n.endDetails.forall(z=>S!==z));return(c||p)&&!(c&&p)||h},SI=(e,n,o)=>{const{dom:i,selection:c}=e,p=e.getBody();if(o==="character"){const h=hn.fromRangeStart(c.getRng()),_=i.getParent(h.container(),i.isBlock),S=j9(i,h),z=_&&i.isEmpty(_),oe=ht(_==null?void 0:_.previousSibling),ve=ht(_==null?void 0:_.nextSibling);return z&&(n?ve:oe)&&Tu(!n,p,h).exists(dt=>_I(i,dt)&&!Ut(S,j9(i,dt)))?!0:Tu(n,p,h).fold(H,Te=>{const $e=j9(i,Te);if(_I(i,Te)&&!Ut(S,$e)){if(n||wI(e,Te,!1),_&&z){if(n&&oe)return!0;if(!n&&ve)return!0;wI(e,Te,n),e.dom.remove(_)}return!0}else return!1})}else return!1},kZ=(e,n,o,i)=>{const p=e.selection.getRng(),h=hn.fromRangeStart(p),_=e.getBody();return i==="selection"?TZ(p,n):o?EZ(h,n)||SZ(_,h,n):_Z(h,n)||wZ(h,n)},TI=(e,n,o)=>xZ(e.dom,e.selection.getRng()).fold(()=>SI(e,n,o),i=>kZ(e,i,n,o)||SI(e,n,o)),kI=(e,n,o)=>{const i=e.selection,c=i.getNode(),p=i.getRng(),h=hn.fromRangeStart(p);return a8(c)?(o==="selection"&&L4(p,c)||sO(n,h,c)?rT(c):e.undoManager.transact(()=>{const _=i.getSel();let{anchorNode:S,anchorOffset:z,focusNode:oe,focusOffset:ve}=_??{};const Te=()=>{s(S)&&s(z)&&s(oe)&&s(ve)&&(_==null||_.setBaseAndExtent(S,z,oe,ve))},$e=()=>{S=_==null?void 0:_.anchorNode,z=_==null?void 0:_.anchorOffset,oe=_==null?void 0:_.focusNode,ve=_==null?void 0:_.focusOffset},dt=(rt,Wt)=>{R(rt.childNodes,Ft=>{ig(Ft)&&Wt.appendChild(Ft)})},at=e.dom.create("span",{"data-mce-bogus":"1"});dt(c,at),c.appendChild(at),Te(),(o==="word"||o==="line")&&(_==null||_.modify("extend",n?"right":"left",o)),!i.isCollapsed()&&L4(i.getRng(),at)?rT(c):(e.execCommand(n?"ForwardDelete":"Delete"),$e(),dt(at,c),Te()),e.dom.remove(at)}),!0):!1},ah=(e,n,o)=>TI(e,n,o)||sT&&kI(e,n,o)?w.some(a):w.none(),AI=e=>(n,o,i={})=>{const c=n.getBody(),p={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:a,inputType:o},h=F5(new InputEvent(e));return n.dispatch(e,{...h,...p,...i})},C6=AI("input"),Z9=AI("beforeinput"),OI=$c(),aT=OI.os,LI=aT.isMacOS()||aT.isiOS(),OZ=OI.browser.isFirefox(),DI=(e,n,o)=>{const i=o.keyCode===wo.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),p=c?"character":"selection",h=_=>c?_?"word":"line":"selection";_M([{keyCode:wo.BACKSPACE,action:ys(eM,e)},{keyCode:wo.BACKSPACE,action:ys(lS,e,!1)},{keyCode:wo.DELETE,action:ys(lS,e,!0)},{keyCode:wo.BACKSPACE,action:ys(oS,e,!1)},{keyCode:wo.DELETE,action:ys(oS,e,!0)},{keyCode:wo.BACKSPACE,action:ys(c6,e,n,!1)},{keyCode:wo.DELETE,action:ys(c6,e,n,!0)},{keyCode:wo.BACKSPACE,action:ys(ax,e,!1)},{keyCode:wo.DELETE,action:ys(ax,e,!0)},{keyCode:wo.BACKSPACE,action:ys(ah,e,!1,p)},{keyCode:wo.DELETE,action:ys(ah,e,!0,p)},...LI?[{keyCode:wo.BACKSPACE,altKey:!0,action:ys(ah,e,!1,h(!0))},{keyCode:wo.DELETE,altKey:!0,action:ys(ah,e,!0,h(!0))},{keyCode:wo.BACKSPACE,metaKey:!0,action:ys(ah,e,!1,h(!1))}]:[{keyCode:wo.BACKSPACE,ctrlKey:!0,action:ys(ah,e,!1,h(!0))},{keyCode:wo.DELETE,ctrlKey:!0,action:ys(ah,e,!0,h(!0))}],{keyCode:wo.BACKSPACE,action:ys(dS,e,!1)},{keyCode:wo.DELETE,action:ys(dS,e,!0)},{keyCode:wo.BACKSPACE,action:ys(OS,e,!1)},{keyCode:wo.DELETE,action:ys(OS,e,!0)},{keyCode:wo.BACKSPACE,action:ys(tS,e,!1)},{keyCode:wo.DELETE,action:ys(tS,e,!0)},{keyCode:wo.BACKSPACE,action:ys(o6,e,!1)},{keyCode:wo.DELETE,action:ys(o6,e,!0)},{keyCode:wo.BACKSPACE,action:ys(b9,e,!1)},{keyCode:wo.DELETE,action:ys(b9,e,!0)},{keyCode:wo.BACKSPACE,action:ys(cS,e,!1)},{keyCode:wo.DELETE,action:ys(cS,e,!0)},{keyCode:wo.BACKSPACE,action:ys(DS,e,!1)},{keyCode:wo.DELETE,action:ys(DS,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),Z9(e,i).isDefaultPrevented()||(_(),C6(e,i))})},NI=(e,n,o)=>p6([{keyCode:wo.BACKSPACE,action:ys(gR,e)},{keyCode:wo.DELETE,action:ys(gR,e)},...LI?[{keyCode:wo.BACKSPACE,altKey:!0,action:ys(E4,e)},{keyCode:wo.DELETE,altKey:!0,action:ys(E4,e)},...o?[{keyCode:OZ?224:91,action:ys(E4,e)}]:[]]:[{keyCode:wo.BACKSPACE,ctrlKey:!0,action:ys(E4,e)},{keyCode:wo.DELETE,ctrlKey:!0,action:ys(E4,e)}]],n),LZ=(e,n)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===wo.BACKSPACE,i.isDefaultPrevented()||DI(e,n,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||NI(e,i,o),o=!1})},DZ=(e,n)=>{const o=Ct.fromDom(e),i=Ct.fromDom(n),c=nu("span"),p=B(Ws,o),h=S=>da(S)&&tc(S,"font-size").isSome(),_=[...h(i)?[i]:[],...Z(i,h,p)];R(_.slice(1),S=>{Sf(S,"font-size"),er(S,"data-mce-style"),c(S)&&zg(S)&&Fl(S)})},NZ=e=>{for(;e;){if(Vo(e)||Yn(e)&&e.data&&/[\r\n\s]/.test(e.data))return w.from(Ct.fromDom(e));e=e.nextSibling}return w.none()},D4=(e,n)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const p=S=>/^(ul|ol|dl)$/.test(Fs(S)),h=S=>p(S)?w.from(S):Vr(S,p),_=S=>o.isEmpty(S.dom);NZ(n.firstChild).each(S=>{h(S).fold(()=>{if(_(S)){const z=kM(S,0).element;zf(z)||Lr(z,Ct.fromText(Qs))}},z=>{Ja(z,Ct.fromText(Qs))})})}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const p=new ja(n,n);let h=n,_;for(;_=p.current();){if(Yn(_)){c.setStart(_,0),c.setEnd(_,0);break}if(i[_.nodeName.toLowerCase()]){c.setStartBefore(_),c.setEndBefore(_);break}h=_,_=p.next()}_||(c.setStart(h,0),c.setEnd(h,0))}else Jr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),dv(e,c)},N4=(e,n)=>{const o=e.getRoot();let i,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},iT=e=>w.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),RZ=e=>iT(e).fold(O(""),n=>n.nodeName.toUpperCase()),RI=e=>iT(e).filter(n=>Ip(Ct.fromDom(n))).isSome(),lT=e=>{e.innerHTML='<br data-mce-bogus="1">'},MZ=(e,n,o)=>{const i=e.dom;w.from(o.style).map(i.parseStyle).each(S=>{const oe={...Wa(Ct.fromDom(n)),...S};i.setStyles(n,oe)});const c=w.from(o.class).map(S=>S.split(/\s+/)),p=w.from(n.className).map(S=>V(S.split(/\s+/),z=>z!==""));Tt(c,p,(S,z)=>{const oe=V(z,Te=>!M(S,Te)),ve=[...S,...oe];i.setAttrib(n,"class",ve.join(" "))});const h=["style","class"],_=nn(o,(S,z)=>!M(h,z));i.setAttribs(n,_)},R4=(e,n)=>{if(Mr(e).toLowerCase()===n.tagName.toLowerCase()){const i=Oc(e);MZ(e,n,i)}},MI=(e,n,o,i,c=!0,p,h)=>{const _=e.dom,S=e.schema,z=Mr(e),oe=o?o.nodeName.toUpperCase():"";let ve=n;const Te=S.getTextInlineElements();let $e;p||oe==="TABLE"||oe==="HR"?$e=_.create(p||z,h||{}):$e=o.cloneNode(!1);let dt=$e;if(!c)_.setAttrib($e,"style",null),_.setAttrib($e,"class",null);else{do if(Te[ve.nodeName]){if(Gi(ve)||td(ve))continue;const at=ve.cloneNode(!1);_.setAttrib(at,"id",""),$e.hasChildNodes()?(at.appendChild($e.firstChild),$e.appendChild(at)):(dt=at,$e.appendChild(at))}while((ve=ve.parentNode)&&ve!==i);DZ($e,dt)}return R4(e,$e),lT(dt),$e},IZ=(e,n)=>e.dom.getParent(n,$h),BZ=(e,n,o)=>{let i=n;for(;i&&i!==e&&ht(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return $h(c);i=c}return!1},II=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Mr(e)&&e.dom.isEmpty(o)&&BZ(e.getBody(),o,i=>vn(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),BI=(e,n,o)=>{var i,c,p;const h=n(Mr(e)),_=IZ(e,o);_&&(e.dom.insertAfter(h,_),D4(e,h),((p=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&p!==void 0?p:0)>1&&e.dom.remove(o))},FZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,PZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},FI=(e,n)=>{const o=e==null?void 0:e.parentNode;return s(o)&&o.nodeName===n},PI=e=>s(e)&&/^(OL|UL|LI)$/.test(e.nodeName),cT=e=>s(e)&&/^(LI|DT|DD)$/.test(e.nodeName),$Z=e=>PI(e)&&PI(e.parentNode),G9=e=>{const n=e.parentNode;return cT(n)?n:e},q9=(e,n,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!Vo(i);)i=i[o?"nextSibling":"previousSibling"];return i===n},HZ=e=>Le(bn(Wa(Ct.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),zZ=(e,n,o,i,c)=>{const p=e.dom,h=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;$Z(o)&&(c="LI");const S=cT(i)?HZ(i):void 0;let z=cT(i)&&S?n(c,{style:HZ(i)}):n(c);if(q9(o,i,!0)&&q9(o,i,!1))if(FI(o,"LI")){const oe=G9(o);p.insertAfter(z,oe),PZ(o)?p.remove(oe):p.remove(o)}else p.replace(z,o);else if(q9(o,i,!0))FI(o,"LI")?(p.insertAfter(z,G9(o)),z.appendChild(p.doc.createTextNode(" ")),z.appendChild(o)):_.insertBefore(z,o),p.remove(i);else if(q9(o,i,!1))p.insertAfter(z,G9(o)),p.remove(i);else{o=G9(o);const oe=h.cloneRange();oe.setStartAfter(i),oe.setEndAfter(o);const ve=oe.extractContents();if(c==="LI"&&FZ(ve,"LI")){const Te=V(K(z.children,Ct.fromDom),G(nu("br")));z=ve.firstChild,p.insertAfter(ve,o),R(Te,$e=>su(Ct.fromDom(z),$e)),S&&z.setAttribute("style",S)}else p.insertAfter(ve,o),p.insertAfter(z,o);p.remove(i)}D4(e,z)},Y9=e=>{R(Pe(Ct.fromDom(e),Ha),n=>{const o=n.dom;o.nodeValue=kc(o.data)})},$I=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},HI=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),dT=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,zI=(e,n)=>e.nodeName===n||e.nextSibling&&e.nextSibling.nodeName===n,X9=(e,n)=>s(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",UZ=(e,n,o)=>{var i;const c=[];if(!o)return;let p=o;for(;p=p.firstChild;){if(e.isBlock(p))return;Vo(p)&&!n[p.nodeName.toLowerCase()]&&c.push(p)}let h=c.length;for(;h--;)p=c[h],(!p.hasChildNodes()||p.firstChild===p.lastChild&&((i=p.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||HI(e,p))&&e.remove(p)},uT=(e,n,o)=>Yn(n)?e?o===1&&n.data.charAt(o-1)===ui?0:o:o===n.data.length-1&&n.data.charAt(o)===ui?n.data.length:o:o,VZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,uT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,uT(!1,e.endContainer,e.endOffset)),n},UI=e=>{let n=e;do Yn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},WZ=(e,n,o,i,c)=>{var p,h;const _=e.dom,S=(p=N4(_,i))!==null&&p!==void 0?p:_.getRoot();let z=_.getParent(i,_.isBlock);if(!z||!X9(_,z)){if(z=z||S,!z.hasChildNodes()){const $e=_.create(n);return R4(e,$e),z.appendChild($e),o.setStart($e,0),o.setEnd($e,0),$e}let oe=i;for(;oe&&oe.parentNode!==z;)oe=oe.parentNode;let ve;for(;oe&&!_.isBlock(oe);)ve=oe,oe=oe.previousSibling;const Te=(h=ve==null?void 0:ve.parentElement)===null||h===void 0?void 0:h.nodeName;if(ve&&Te&&e.schema.isValidChild(Te,n.toLowerCase())){const $e=ve.parentNode,dt=_.create(n);for(R4(e,dt),$e.insertBefore(dt,ve),oe=ve;oe&&!_.isBlock(oe);){const at=oe.nextSibling;dt.appendChild(oe),oe=at}o.setStart(i,c),o.setEnd(i,c)}}return i},fT=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Vo(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},KZ=(e,n)=>{const o=or(e);return Qo(n)?!1:lt(o)?M(Kn.explode(o),n.nodeName.toLowerCase()):o},pT={insert:(e,n)=>{let o,i,c,p,h=!1;const _=e.dom,S=e.schema,z=S.getNonEmptyElements(),oe=e.selection.getRng(),ve=Mr(e),Te=Ct.fromDom(oe.startContainer),$e=fc(Te,oe.startOffset),dt=$e.exists(Rn=>xl(Rn)&&!Ed(Rn)),at=oe.collapsed&&dt,rt=(Rn,Lo)=>MI(e,o,so,Tn,AC(e),Rn,Lo),Wt=Rn=>{const Lo=uT(Rn,o,i);if(Yn(o)&&(Rn?Lo>0:Lo<o.data.length))return!1;if((o.parentNode===so||o===so)&&h&&!Rn||Rn&&Vo(o)&&o===so.firstChild)return!0;if(dT(o,"TABLE")||dT(o,"HR"))return zI(o,"BR")?!Rn:h&&!Rn||!h&&Rn;const es=new ja(o,so);Yn(o)&&(Rn&&Lo===0?es.prev():!Rn&&Lo===o.data.length&&es.next());let Ms;for(;Ms=es.current();){if(Vo(Ms)){if(!Ms.getAttribute("data-mce-bogus")){const ko=Ms.nodeName.toLowerCase();if(z[ko]&&ko!=="br")return!1}}else if(Yn(Ms)&&!du(Ms.data))return!1;Rn?es.prev():es.next()}return!0},Ft=()=>{let Rn;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Un!=="HGROUP"?Rn=rt(ve):Rn=rt(),KZ(e,p)&&X9(_,p)&&_.isEmpty(so,void 0,{includeZwsp:!0})?Rn=_.split(p,so):_.insertAfter(Rn,so),D4(e,Rn),Rn};A0(_,oe).each(Rn=>{oe.setStart(Rn.startContainer,Rn.startOffset),oe.setEnd(Rn.endContainer,Rn.endOffset)}),o=oe.startContainer,i=oe.startOffset;const qt=!!(n&&n.shiftKey),rn=!!(n&&n.ctrlKey);Vo(o)&&o.hasChildNodes()&&!at&&(h=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,h&&Yn(o)?i=o.data.length:i=0);const Tn=N4(_,o);if(!Tn||$I(e,o))return;qt||(o=WZ(e,ve,oe,o,i));let so=_.getParent(o,_.isBlock)||_.getRoot();p=s(so==null?void 0:so.parentNode)?_.getParent(so.parentNode,_.isBlock):null,c=so?so.nodeName.toUpperCase():"";const Un=p?p.nodeName.toUpperCase():"";if(Un==="LI"&&!rn){const Rn=p;so=Rn,p=Rn.parentNode,c=Un}if(Vo(p)&&II(e,qt,so))return BI(e,rt,so);if(/^(LI|DT|DD)$/.test(c)&&Vo(p)&&_.isEmpty(so)){zZ(e,rt,p,so,ve);return}if(!at&&(so===e.getBody()||!X9(_,so)))return;const gn=so.parentNode;let mn;if(at)mn=rt(ve),$e.fold(()=>{Lr(Te,Ct.fromDom(mn))},Rn=>{Ja(Rn,Ct.fromDom(mn))}),e.selection.setCursorLocation(mn,0);else if(D1(so))mn=o0(so),_.isEmpty(so)&&lT(so),R4(e,mn),D4(e,mn);else if(Wt(!1))mn=Ft();else if(Wt(!0)&&gn){const Rn=hn.fromRangeStart(oe),Lo=$_(Rn),es=Ct.fromDom(so),ko=X7(es,Rn,e.schema)?FA(es,Rn,e.schema).bind(lo=>w.from(lo.getNode())):w.none();mn=gn.insertBefore(rt(),so);const Gt=dT(so,"HR")||Lo?mn:ko.getOr(so);D4(e,Gt)}else{const Rn=VZ(oe).cloneRange();Rn.setEndAfter(so);const Lo=Rn.extractContents();Y9(Lo),UI(Lo),mn=Lo.firstChild,so===mn?s(gn)&&_.insertAfter(Lo,gn):_.insertAfter(Lo,so),UZ(_,z,mn),fT(_,so),_.isEmpty(so)&&lT(so),mn.normalize(),_.isEmpty(mn)?(_.remove(mn),Ft()):(R4(e,mn),D4(e,mn))}_.setAttrib(mn,"id",""),e.dispatch("NewBlock",{newBlock:mn})},fakeEventName:"insertParagraph"},jZ=(e,n,o)=>{const i=new ja(n,o);let c;const p=e.getNonEmptyElements();for(;c=i.next();)if(p[c.nodeName.toLowerCase()]||Yn(c)&&c.length>0)return!0;return!1},VI=(e,n,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),dv(e,i)},ZZ=(e,n)=>{const o=e.selection,i=e.dom,c=o.getRng();let p,h=!1;A0(i,c).each($e=>{c.setStart($e.startContainer,$e.startOffset),c.setEnd($e.endContainer,$e.endOffset)});let _=c.startOffset,S=c.startContainer;if(Vo(S)&&S.hasChildNodes()){const $e=_>S.childNodes.length-1;S=S.childNodes[Math.min(_,S.childNodes.length-1)]||S,$e&&Yn(S)?_=S.data.length:_=0}let z=i.getParent(S,i.isBlock);const oe=z&&z.parentNode?i.getParent(z.parentNode,i.isBlock):null,ve=oe?oe.nodeName.toUpperCase():"",Te=!!(n&&n.ctrlKey);ve==="LI"&&!Te&&(z=oe),Yn(S)&&_>=S.data.length&&(jZ(e.schema,S,z||i.getRoot())||(p=i.create("br"),c.insertNode(p),c.setStartAfter(p),c.setEndAfter(p),h=!0)),p=i.create("br"),$p(i,c,p),VI(e,p,h),e.undoManager.add()},GZ=(e,n)=>{const o=Ct.fromTag("br");Ja(Ct.fromDom(n),o),e.undoManager.add()},aQ=(e,n)=>{YZ(e.getBody(),n)||yd(Ct.fromDom(n),Ct.fromTag("br"));const o=Ct.fromTag("br");yd(Ct.fromDom(n),o),VI(e,o.dom,!1),e.undoManager.add()},qZ=e=>Jr(e.getNode()),YZ=(e,n)=>qZ(hn.after(n))?!0:cl(e,hn.after(n)).map(o=>Jr(o.getNode())).getOr(!1),WI=e=>e&&e.nodeName==="A"&&"href"in e,XZ=e=>e.fold(H,WI,WI,H),JZ=e=>{const n=B(D0,e),o=hn.fromRangeStart(e.selection.getRng());return qi(n,e.getBody(),o).filter(XZ)},KI=(e,n)=>{n.fold(a,B(GZ,e),B(aQ,e),a)},s1={insert:(e,n)=>{const o=JZ(e);o.isSome()?o.each(B(KI,e)):ZZ(e,n)},fakeEventName:"insertLineBreak"},gT=(e,n)=>iT(e).filter(o=>n.length>0&&Ml(Ct.fromDom(o),n)).isSome(),ZI=e=>gT(e,TC(e)),QZ=e=>gT(e,kC(e)),cc=Xo.generate([{br:[]},{block:[]},{none:[]}]),mT=(e,n)=>QZ(e),hT=e=>(n,o)=>RI(n)===e,bT=(e,n)=>(o,i)=>RZ(o)===e.toUpperCase()===n,eG=e=>{const n=N4(e.dom,e.selection.getStart());return Qo(n)},_6=e=>bT("pre",e),tG=()=>bT("summary",!0),J9=e=>(n,o)=>Kf(n)===e,nG=(e,n)=>ZI(e),E6=(e,n)=>n,oG=e=>{const n=Mr(e),o=N4(e.dom,e.selection.getStart());return s(o)&&e.schema.isValidChild(o.nodeName,n)},sG=e=>{const n=e.selection.getRng(),o=Ct.fromDom(n.startContainer),c=fc(o,n.startOffset).map(p=>xl(p)&&!Ed(p));return n.collapsed&&c.getOr(!0)},hf=(e,n)=>(o,i)=>Le(e,(p,h)=>p&&h(o,i),!0)?w.some(n):w.none(),vT=(e,n)=>ER([hf([mT],cc.none()),hf([_6(!0),eG],cc.none()),hf([tG()],cc.br()),hf([_6(!0),J9(!1),E6],cc.br()),hf([_6(!0),J9(!1)],cc.block()),hf([_6(!0),J9(!0),E6],cc.block()),hf([_6(!0),J9(!0)],cc.br()),hf([hT(!0),E6],cc.br()),hf([hT(!0)],cc.block()),hf([nG],cc.br()),hf([E6],cc.br()),hf([oG],cc.block()),hf([sG],cc.block())],[e,!!(n&&n.shiftKey)]).getOr(cc.none()),Q9=(e,n,o)=>{n.mode.isReadOnly()||(n.selection.isCollapsed()||nO(n),!(s(o)&&Z9(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),s(o)&&C6(n,e.fakeEventName)))},GI=(e,n)=>{if(e.mode.isReadOnly())return;const o=()=>Q9(s1,e,n),i=()=>Q9(pT,e,n),c=vT(e,n);switch(SC(e)){case"linebreak":c.fold(o,o,a);break;case"block":c.fold(i,i,a);break;case"invert":c.fold(i,o,a);break;default:c.fold(o,i,a);break}},qI=$c(),rG=qI.os.isiOS()&&qI.browser.isSafari(),YI=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),$U(e.undoManager),e.undoManager.transact(()=>{GI(e,n)}))},aG=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Yn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=n.data.charAt(e.startOffset-1);return o.test(i)}else return!1},iG=e=>{let n=w.none();const o=c=>{n=w.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,p)=>{c.undoManager.undo(),n.fold(a,h=>c.selection.moveToBookmark(h)),YI(c,p),n=w.none()};e.on("keydown",c=>{c.keyCode===wo.ENTER&&(rG&&aG(e.selection.getRng())?o(e):YI(e,c))}),e.on("keyup",c=>{c.keyCode===wo.ENTER&&n.each(()=>i(e,c))})},lG=(e,n,o)=>{const i=fr.os.isMacOS()||fr.os.isiOS();p6([{keyCode:wo.END,action:ys(mM,e,!0)},{keyCode:wo.HOME,action:ys(mM,e,!1)},...i?[]:[{keyCode:wo.HOME,action:ys(E9,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:wo.END,action:ys(E9,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:wo.END,action:ys(EM,e,!0)},{keyCode:wo.HOME,action:ys(EM,e,!1)},{keyCode:wo.END,action:ys(l6,e,!0,n)},{keyCode:wo.HOME,action:ys(l6,e,!1,n)}],o).each(c=>{o.preventDefault()})},ey=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||lG(e,n,o)})},cG=e=>{e.on("input",n=>{n.isComposing||L0(e)})},dG=$c(),xT=(e,n,o)=>{p6([{keyCode:wo.PAGE_UP,action:ys(l6,e,!1,n)},{keyCode:wo.PAGE_DOWN,action:ys(l6,e,!0,n)}],o)},ty=e=>e.stopImmediatePropagation(),XI=e=>e.keyCode===wo.PAGE_UP||e.keyCode===wo.PAGE_DOWN,JI=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",ty,!0):!o&&e.get()&&n.off("NodeChange",ty),e.set(o)},QI=(e,n)=>{if(dG.os.isMacOS())return;const o=zn(!1);e.on("keydown",i=>{XI(i)&&JI(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||xT(e,n,i),XI(i)&&o.get()&&(JI(o,e,!1),e.nodeChanged())})},eB=(e,n)=>e===n||e.contains(n),uG=(e,n)=>!eB(e.getBody(),n.startContainer)||!eB(e.getBody(),n.endContainer)?!0:uA(e.dom,n),fG=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||W(n.getTargetRanges(),o=>!uG(e,o)))&&n.preventDefault()})},tB=(e,n)=>{const o=n.container(),i=n.offset();return Yn(o)?(o.insertData(i,e),w.some(hn(o,i+e.length))):H1(n).map(c=>{const p=Ct.fromText(e);return n.isAtEnd()?yd(c,p):Ja(c,p),hn(p.dom,e.length)})},nB=B(tB,Qs),oB=B(tB," "),sB=(e,n,o)=>VA(e,n,o)?nB(n):oB(n),ny=e=>n=>n.fold(o=>kl(e.dom,hn.before(o)),o=>Bi(o),o=>Pd(o),o=>cl(e.dom,hn.after(o))),rB=(e,n,o)=>i=>VA(e,i,o)?nB(n):oB(n),yT=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},pG=(e,n)=>e.isEditable(e.getParent(n,"summary")),gG=e=>{const n=hn.fromRangeStart(e.selection.getRng()),o=Ct.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=B(D0,e),c=hn.fromRangeStart(e.selection.getRng());return qi(i,e.getBody(),c).bind(ny(o)).map(p=>()=>rB(o,n,e.schema)(p).each(yT(e)))}else return w.none()},oy=e=>{const n=()=>{const o=Ct.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=hn.fromRangeStart(e.selection.getRng());sB(o,i,e.schema).each(yT(e))};return Xt(fr.browser.isFirefox()&&e.selection.isEditable()&&pG(e.dom,e.selection.getRng().startContainer),n)},mG=(e,n)=>{_M([{keyCode:wo.SPACEBAR,action:ys(gG,e)},{keyCode:wo.SPACEBAR,action:ys(oy,e)}],n).each(o=>{n.preventDefault(),Z9(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),C6(e,"insertText",{data:" "}))})},aB=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||mG(e,n)})},hG=e=>Gp(e)?[{keyCode:wo.TAB,action:ys(ZM,e,!0)},{keyCode:wo.TAB,shiftKey:!0,action:ys(ZM,e,!1)}]:[],iB=(e,n)=>{p6([...hG(e)],n).each(o=>{n.preventDefault()})},bG=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||iB(e,n)})},vG=e=>{if(e.addShortcut("Meta+P","","mcePrint"),bZ(e),tp(e))return zn(null);{const n=PR(e);return fG(e),oj(e),jS(e,n),LZ(e,n),iG(e),aB(e),cG(e),bG(e),ey(e,n),QI(e,n),n}},xG=(e,n)=>{const o=Z0(e);o===null||Zd(e,o)||e.undoManager.transact(()=>{qn(n.styles)&&e.dom.setStyles(o,n.styles),qn(n.attrs)&&Zt(n.attrs,(i,c)=>e.dom.setAttrib(o,c,i))})},CT=(e,n)=>()=>{const o=Z0(e);return s(o)&&o.nodeName===n},yG=e=>{e.addCommand("InsertUnorderedList",(n,o)=>{a9(e,"UL",o)}),e.addCommand("InsertOrderedList",(n,o)=>{a9(e,"OL",o)}),e.addCommand("InsertDefinitionList",(n,o)=>{a9(e,"DL",o)}),e.addCommand("RemoveList",()=>{o9(e)}),e.addCommand("mceListUpdate",(n,o)=>{qn(o)&&xG(e,o)}),e.addCommand("mceListBackspaceDelete",(n,o)=>{Xw(e,o)}),e.addQueryStateHandler("InsertUnorderedList",CT(e,"UL")),e.addQueryStateHandler("InsertOrderedList",CT(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",CT(e,"DL"))},M4=e=>{e.on("keydown",n=>{n.keyCode===wo.BACKSPACE?Xw(e,!1)&&n.preventDefault():n.keyCode===wo.DELETE&&Xw(e,!0)&&n.preventDefault()})},lB=e=>e.type===3,cB=e=>e.length===0,dB=e=>{const n=(c,p)=>{const h=Al.create("li");R(c,_=>h.append(_)),p?e.insert(h,p,!0):e.append(h)},o=(c,p)=>lB(p)?[...c,p]:!cB(c)&&!lB(p)?(n(c,p),[]):c,i=Le(e.children(),o,[]);cB(i)||n(i)},CG=e=>{e.on("PreInit",()=>{const{parser:n}=e;n.addNodeFilter("ul,ol",o=>R(o,dB))})},_G=e=>{e.on("keydown",n=>{n.keyCode!==wo.TAB||wo.metaKeyPressed(n)||e.undoManager.transact(()=>{(n.shiftKey?zw(e):YN(e))&&n.preventDefault()})})},EG=e=>{g7(e)&&_G(e)},uB=e=>{M4(e),yG(e),CG(e),EG(e)};class wG{constructor(n){this.lastPath=[],this.editor=n;let o;const i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const p=n.selection.getRng(),h={startContainer:p.startContainer,startOffset:p.startOffset,endContainer:p.endContainer,endOffset:p.endOffset};(c.type==="nodechange"||!k_(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{H3(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&w0(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&w0(n)&&(n.selection.getNode().nodeName==="IMG"?Au.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor,i=o.selection;let c;if(o.initialized&&i&&!Y8(o)&&!km(o)){const p=o.getBody();c=i.getStart(!0)||p,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,p))&&(c=p);const h=[];o.dom.getParent(c,_=>_===p?!0:(h.push(_),!1)),o.dispatch("NodeChange",{...n,element:c,parents:h})}}isSameElementPath(n){let o;const i=this.editor,c=Me(i.dom.getParents(n,ee,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const fB="x-tinymce/html",_T=O(fB),I4="<!-- "+fB+" -->",SG=e=>I4+e,TG=e=>e.replace(I4,""),pB=e=>e.indexOf(I4)!==-1,kG=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),AG=(e,n)=>{let o="<"+e;const i=bn(n,(c,p)=>p+'="'+Lp.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},OG=(e,n,o)=>{const i=e.split(/\n\n/),c=AG(n,o),p="</"+n+">",h=K(i,S=>S.split(/\n/).join("<br />")),_=S=>c+S+p;return h.length===1?h[0]:K(h,_).join("")},gB="%MCEPASTEBIN%",LG=(e,n)=>{const{dom:o,selection:i}=e,c=e.getBody();n.set(i.getRng());const p=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},gB);fr.browser.isFirefox()&&o.setStyle(p,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(p,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),p.focus(),i.select(p,!0)},DG=(e,n)=>{const o=e.dom;if(ET(e)){let i;const c=n.get();for(;i=ET(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}n.set(null)},ET=e=>e.dom.get("mcepastebin"),NG=e=>s(e)&&e.id==="mcepastebin",RG=e=>{const n=e.dom,o=(h,_)=>{h.appendChild(_),n.remove(_,!0)},[i,...c]=V(e.getBody().childNodes,NG);R(c,h=>{o(i,h)});const p=n.select("div[id=mcepastebin]",i);for(let h=p.length-1;h>=0;h--){const _=n.create("div");i.insertBefore(_,p[h]),o(_,p[h])}return i?i.innerHTML:""},mB=e=>e===gB,Br=e=>{const n=zn(null);return{create:()=>LG(e,n),remove:()=>DG(e,n),getEl:()=>ET(e),getHtml:()=>RG(e),getLastRng:n.get}},hB=(e,n)=>(Kn.each(n,o=>{Yt(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),bB=e=>{const n=oc(),o=Y3({},n);let i="";const c=n.getVoidElements(),p=Kn.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),_=S=>{const z=S.name,oe=S;if(z==="br"){i+=`
`;return}if(z!=="wbr"){if(c[z]&&(i+=" "),p[z]){i+=" ";return}if(S.type===3&&(i+=S.value),!(S.name in n.getVoidElements())){let ve=S.firstChild;if(ve)do _(ve);while(ve=ve.next)}h[z]&&oe.next&&(i+=`
`,z==="p"&&(i+=`
`))}};return e=hB(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),i},vB=e=>(e=hB(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Qs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),wT=e=>{let n=0;return()=>e+n++},xB=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},MG=(e,n)=>{const o=Y3({sanitize:Ab(e),sandbox_iframes:f7(e),sandbox_iframes_exclusions:Lb(e),convert_unsafe_embeds:KC(e)},e.schema);o.addNodeFilter("meta",c=>{Kn.each(c,p=>{p.remove()})});const i=o.parse(n,{forced_root_block:!1,isRootContent:!0});return O0({validate:!0},e.schema).serialize(i)},yB=(e,n)=>({content:e,cancelled:n}),IG=(e,n,o)=>{const i=e.dom.create("div",{style:"display:none"},n),c=yC(e,i,o);return yB(c.node.innerHTML,c.isDefaultPrevented())},CB=(e,n,o)=>{const i=Cs(e,n,o),c=MG(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?IG(e,c,o):yB(c,i.isDefaultPrevented())},sy=(e,n,o)=>CB(e,n,o),ST=(e,n)=>(e.insertContent(n,{merge:s7(e),paste:!0}),!0),TT=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),kT=(e,n)=>TT(n)&&W(d7(e),o=>Do(n.toLowerCase(),`.${o.toLowerCase()}`)),BG=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),FG=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),PG=(e,n,o)=>!e.selection.isCollapsed()&&TT(n)?FG(e,n,o):!1,$G=(e,n,o)=>kT(e,n)?BG(e,n,o):!1,_B=(e,n)=>{Kn.each([PG,$G,ST],o=>!o(e,n,ST))},HG=(e,n,o)=>{o||!E3(e)?ST(e,n):_B(e,n)},zG=wT("mceclip"),EB=e=>{const n=US();return DM(n,e),D9(n),n},wB=(e,n,o,i,c)=>{const p=sy(e,n,o);if(!p.cancelled){const h=p.content,_=()=>HG(e,h,i);c?Z9(e,"insertFromPaste",{dataTransfer:EB(h)}).isDefaultPrevented()||(_(),C6(e,"insertFromPaste")):_()}},ry=(e,n,o,i)=>{const c=o||pB(n);wB(e,TG(n),c,!1,i)},AT=(e,n,o)=>{const i=e.dom.encode(n).replace(/\r\n/g,`
`),c=n8(i,HC(e)),p=OG(c,Mr(e),Oc(e));wB(e,p,!1,!0,o)},w6=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{n[i]=e.getData(i)}catch{n[i]=""}}return n},ih=(e,n)=>n in e&&e[n].length>0,OT=e=>ih(e,"text/html")||ih(e,"text/plain"),UG=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return s(o)?e.dom.encode(o[1]):void 0},LT=(e,n,o,i)=>{const c=zG(),p=M1(e)&&s(o.name),h=p?UG(e,o.name):c,_=p?o.name:void 0,S=n.create(c,o,i,h,_);return n.add(S),S},VG=(e,n)=>{CE(n.uri).each(({data:o,type:i,base64Encoded:c})=>{const p=c?o:btoa(o),h=n.file,_=e.editorUpload.blobCache,S=_.getByData(p,i),z=S??LT(e,_,h,p);ry(e,`<img src="${z.blobUri()}">`,!1,!0)})},SB=e=>e.type==="paste",WG=e=>Promise.all(K(e,n=>J1(n).then(o=>({file:n,uri:o})))),KG=e=>{const n=d7(e);return o=>qo(o.type,"image/")&&W(n,i=>xB(i)===o.type)},jG=(e,n)=>{const o=n.items?nt(xt(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=n.files?xt(n.files):[];return V(o.length>0?o:i,KG(e))},TB=(e,n,o)=>{const i=SB(n)?n.clipboardData:n.dataTransfer;if(jp(e)&&i){const c=jG(e,i);if(c.length>0)return n.preventDefault(),WG(c).then(p=>{o&&e.selection.setRng(o),R(p,h=>{VG(e,h)})}),!0}return!1},kB=e=>{var n,o;return fr.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},ZG=e=>wo.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,ay=(e,n,o,i,c)=>{let p=vB(o);const h=ih(n,_T())||pB(o),_=!h&&kG(p),S=TT(p);(mB(p)||!p.length||_&&!S)&&(i=!0),(i||S)&&(ih(n,"text/plain")&&_?p=n["text/plain"]:p=bB(p)),!mB(p)&&(i?AT(e,p,c):ry(e,p,h,c))},iy=(e,n,o)=>{let i;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",p=>{ZG(p)&&!p.isDefaultPrevented()&&(i=p.shiftKey&&p.keyCode===86)}),e.on("paste",p=>{if(p.isDefaultPrevented()||kB(p))return;const h=o.get()==="text"||i;i=!1;const _=w6(p.clipboardData);!OT(_)&&TB(e,p,c())||(ih(_,"text/html")?(p.preventDefault(),ay(e,_,_["text/html"],h,!0)):ih(_,"text/plain")&&ih(_,"text/uri-list")?(p.preventDefault(),ay(e,_,_["text/plain"],h,!0)):(n.create(),Au.setEditorTimeout(e,()=>{const S=n.getHtml();n.remove(),ay(e,_,S,h,!1)},0)))})},DT=e=>{const n=c=>qo(c,"webkit-fake-url"),o=c=>qo(c,"data:"),i=c=>{var p;return((p=c.data)===null||p===void 0?void 0:p.paste)===!0};e.parser.addNodeFilter("img",(c,p,h)=>{if(!jp(e)&&i(h))for(const _ of c){const S=_.attr("src");lt(S)&&!_.attr("data-mce-object")&&S!==fr.transparentSrc&&(n(S)||!a7(e)&&o(S))&&_.remove()}})},NT=(e,n,o)=>{iy(e,n,o),DT(e)},GG=(e,n)=>{n.get()==="text"?(n.set("html"),bb(e,!1)):(n.set("text"),bb(e,!0)),e.focus()},qG=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{GG(e,n)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&ry(e,i.html,i.internal,!1),i.text&&AT(e,i.text,!1)})},B4=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(_T(),n),!0}catch{return!1}else return!1},AB=(e,n,o,i)=>{B4(e.clipboardData,n.html,n.text)?(e.preventDefault(),i()):o(n.html,i)},g2=e=>(n,o)=>{const{dom:i,selection:c}=e,p=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=i.create("div",{contenteditable:"true"},n);i.setStyles(p,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),p.appendChild(h),i.add(e.getBody(),p);const _=c.getRng();h.focus();const S=i.createRng();S.selectNodeContents(h),c.setRng(S),Au.setEditorTimeout(e,()=>{c.setRng(_),i.remove(p),o()},0)},F4=e=>({html:SG(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),YG=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),OB=e=>!e.selection.isCollapsed()||YG(e),P4=(e,n)=>o=>{!o.isDefaultPrevented()&&OB(e)&&e.selection.isEditable()&&AB(o,F4(e),g2(e),()=>{if(fr.browser.isChromium()||fr.browser.isFirefox()){const i=e.selection.getRng();Au.setEditorTimeout(e,()=>{e.selection.setRng(i),NS(e,n)},0)}else NS(e,n)})},XG=e=>n=>{!n.isDefaultPrevented()&&OB(e)&&AB(n,F4(e),g2(e),a)},RT=(e,n)=>{e.on("cut",P4(e,n)),e.on("copy",XG(e))},LB=(e,n)=>{var o,i;return Z1.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(i=n.clientY)!==null&&i!==void 0?i:0,e.getDoc())},DB=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},MT=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},IT=e=>W(e.files,n=>/^image\//.test(n.type)),NB=(e,n,o,i)=>{const c=e.getParent(o,h=>ju(n,h));if(!ht(e.getParent(o,"summary")))return!0;if(c&&vn(i,"text/html")){const h=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!ht(h.querySelector(c.nodeName.toLowerCase()))}else return!1},JG=e=>{e.on("input",n=>{const o=i=>ht(i.querySelector("summary"));if(n.inputType==="deleteByDrag"){const i=V(e.dom.select("details"),o);R(i,c=>{Jr(c.firstChild)&&c.firstChild.remove();const p=e.dom.create("summary");p.appendChild(O1().dom),c.prepend(p)})}})},QG=(e,n)=>{$C(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),jp(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&IT(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=LB(e,o);if(Qo(i))return;const c=w6(o.dataTransfer),p=ih(c,_T());if((!OT(c)||DB(c))&&TB(e,o,i))return;const h=c[_T()],_=h||c["text/html"]||c["text/plain"],S=NB(e.dom,e.schema,i.startContainer,c),z=n.get();z&&!S||_&&(o.preventDefault(),Au.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||z&&S)&&e.execCommand("Delete"),MT(e,i);const oe=vB(_);c["text/html"]?ry(e,oe,p,!0):AT(e,oe,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{jp(e)&&!n.get()&&(o.preventDefault(),MT(e,LB(e,o))),o.type==="dragend"&&n.set(!1)}),JG(e)},RB=e=>{const n=c=>p=>{c(e,p)},o=Tm(e);b(o)&&e.on("PastePreProcess",n(o));const i=Zp(e);b(i)&&e.on("PastePostProcess",n(i))},eq=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},MB=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,ly=e=>Kn.trim(e).replace(MB,rm).toLowerCase(),IB=(e,n,o)=>{const i=n7(e);if(o||i==="all"||!o7(e))return n;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const p=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,S,z,oe)=>{const ve=p.parseStyle(p.decode(z)),Te={};for(let dt=0;dt<c.length;dt++){const at=ve[c[dt]];let rt=at,Wt=p.getStyle(h,c[dt],!0);/color/.test(c[dt])&&(rt=ly(rt),Wt=ly(Wt)),Wt!==rt&&(Te[c[dt]]=at)}const $e=p.serializeStyle(Te,"span");return $e?S+' style="'+$e+'"'+oe:S+oe})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(p,h,_,S)=>h+' style="'+_+'"'+S),n},tq=e=>{(fr.browser.isChromium()||fr.browser.isSafari())&&eq(e,IB)},nq=(e,n)=>{const o=zn(!1),i=zn(r7(e)?"text":"html"),c=Br(e);tq(e),qG(e,i),RB(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>i.get()==="text"),e.on("PreInit",()=>{RT(e,n),QG(e,o),NT(e,c,i)})},oq=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},BB=e=>{e.parser.addNodeFilter("details",n=>{const o=u7(e);R(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=WC(e);R(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},BT=e=>{oq(e),BB(e)},sq=Jr,FT=Yn,FB=e=>Pr(e.dom),rq=e=>ni(e.dom),PT=e=>n=>Ws(Ct.fromDom(e),n),aq=(e,n,o)=>_d(Ct.fromDom(e),i=>rq(i)||o.isBlock(Fs(i)),PT(n)).getOr(Ct.fromDom(n)).dom,PB=(e,n)=>_d(Ct.fromDom(e),FB,PT(n)),S6=(e,n,o)=>{const i=new ja(e,n),c=o?i.next.bind(i):i.prev.bind(i);let p=e;for(let h=o?e:c();h&&!sq(h);h=c())jr(h)&&(p=h);return p},iq=(e,n,o)=>{const c=hn.fromRangeStart(e).getNode(),p=aq(c,n,o),h=S6(c,p,!1),_=S6(c,p,!0),S=document.createRange();return PB(h,p).fold(()=>{FT(h)?S.setStart(h,0):S.setStartBefore(h)},z=>S.setStartBefore(z.dom)),PB(_,p).fold(()=>{FT(_)?S.setEnd(_,_.data.length):S.setEndAfter(_)},z=>S.setEndAfter(z.dom)),S},lq=e=>{const n=iq(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(dx(n))},$B=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),lq(e))})};var m2;(function(e){e.Before="before",e.After="after"})(m2||(m2={}));const cq=(e,n)=>Math.abs(e.left-n),dq=(e,n)=>Math.abs(e.right-n),uq=(e,n)=>e>=n.top&&e<=n.bottom,fq=(e,n)=>e.top<n.bottom&&e.bottom>n.top,pq=(e,n)=>{const o=r3(e,n)/Math.min(e.height,n.height);return fq(e,n)&&o>.5},HB=(e,n)=>{const o=V(e,i=>uq(n,i));return q5(o).fold(()=>[[],e],i=>{const{pass:c,fail:p}=J(e,h=>pq(h,i));return[c,p]})},gq=(e,n)=>({node:e.node,position:cq(e,n)<dq(e,n)?m2.Before:m2.After}),mq=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),$T=(e,n,o,i)=>{const c=ve=>jr(ve.node)?w.some(ve):Vo(ve.node)?$T(xt(ve.node.childNodes),n,o,!1):w.none(),p=(ve,Te,$e)=>c(Te).filter(dt=>Math.abs($e(ve,n,o)-$e(dt,n,o))<2&&Yn(dt.node)),h=(ve,Te)=>{const $e=Ze(ve,(dt,at)=>Te(dt,n,o)-Te(at,n,o));return ft($e,c).map(dt=>i&&!Yn(dt.node)&&$e.length>1?p(dt,$e[1],Te).getOr(dt):dt)},[_,S]=HB(bS(e),o),{pass:z,fail:oe}=J(S,ve=>ve.top<o);return h(_,mq).orThunk(()=>h(oe,s3)).orThunk(()=>h(z,s3))},hq=(e,n,o,i)=>{const c=(p,h)=>{const _=z=>Vo(z)&&z.classList.contains("mce-drag-container"),S=V(p.dom.childNodes,G(_));return h.fold(()=>$T(S,o,i,!0),z=>{const oe=V(S,ve=>ve!==z.dom);return $T(oe,o,i,!0)}).orThunk(()=>(Ws(p,e)?w.none():$u(p)).bind(oe=>c(oe,w.some(p))))};return c(n,w.none())},bq=(e,n,o)=>{const i=Ct.fromDom(e),c=yi(i),h=Ct.fromPoint(c,n,o).filter(_=>vl(i,_)).getOr(i);return hq(i,h,n,o)},zB=(e,n,o)=>bq(e,n,o).filter(i=>Yp(i.node)).map(i=>gq(i,n)),UB=e=>{var n,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,p=c.documentElement,h=c.defaultView;return{top:i.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-p.clientTop,left:i.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-p.clientLeft}},vq=e=>e.inline?UB(e.getBody()):{left:0,top:0},VB=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},WB=e=>{const n=e.getBody(),o=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?i:c},xq=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=UB(e.getContentAreaContainer()),i=WB(e);return{left:n.pageX-o.left+i.left,top:n.pageY-o.top+i.top}}return{left:n.pageX,top:n.pageY}},yq=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),Cq=(e,n)=>yq(vq(e),VB(e),xq(e,n)),$4=e=>({target:e,srcElement:e}),_q=(e,n,o,i)=>({...n,dataTransfer:i,type:e,...$4(o)}),Eq=(e,n,o)=>{const i=P("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:a,stopImmediatePropagation:a,stopPropagation:a,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...$4(n)}},KB=(e,n)=>{const o=Dj(e);return n==="dragstart"?(Sj(o),PS(o)):n==="drop"?(QJ(o),D9(o)):(gf(o),Aj(o)),o},wq=(e,n,o,i)=>{const c=KB(o,e);return ks(i)?Eq(e,n,c):_q(e,i,n,c)},cy=32,Sq=100,dy=8,uy=16,T6=Pr,jB=lC(T6,ni),ZB=(e,n,o)=>T6(o)&&o!==n&&e.isEditable(o.parentElement),Tq=(e,n,o)=>Qo(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),kq=(e,n,o,i)=>{const c=e.dom,p=n.cloneNode(!0);c.setStyles(p,{width:o,height:i}),c.setAttrib(p,"data-mce-selected",null);const h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(p,{margin:0,boxSizing:"border-box"}),h.appendChild(p),h},Aq=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},HT=(e,n)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+n,behavior:"smooth"})},GB=HT("left",-cy),qB=HT("left",cy),fy=HT("top",-cy),k6=HT("top",cy),Oq=(e,n,o,i,c,p,h,_,S,z,oe,ve)=>{let Te=0,$e=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(Te=n.pageX+o-c),n.pageY+i>p&&($e=n.pageY+i-p),e.style.width=o-Te+"px",e.style.height=i-$e+"px";const dt=S.clientHeight,at=S.clientWidth,rt=h+S.getBoundingClientRect().top,Wt=_+S.getBoundingClientRect().left;oe.on(Ft=>{Ft.intervalId.clear(),Ft.dragging&&ve&&(h+dy>=dt?Ft.intervalId.set(k6(z)):h-dy<=0?Ft.intervalId.set(fy(z)):_+dy>=at?Ft.intervalId.set(qB(z)):_-dy<=0?Ft.intervalId.set(GB(z)):rt+uy>=window.innerHeight?Ft.intervalId.set(k6(window)):rt-uy<=0?Ft.intervalId.set(fy(window)):Wt+uy>=window.innerWidth?Ft.intervalId.set(qB(window)):Wt-uy<=0&&Ft.intervalId.set(GB(window)))})},YB=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Lq=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);YB(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&L1(Ct.fromDom(o))},XB=e=>e.button===0,Dq=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),zT=(e,n)=>o=>{if(XB(o)){const i=we(n.dom.getParents(o.target),jB).getOr(null);if(s(i)&&ZB(n.dom,n.getBody(),i)){const c=n.dom.getPos(i),p=n.getBody(),h=n.getDoc().documentElement;e.set({element:i,dataTransfer:US(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?p.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?p.scrollHeight:h.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:kq(n,i,i.offsetWidth,i.offsetHeight),intervalId:to(Sq)})}}},JB=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),zB(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===m2.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},A6=(e,n,o,i,c)=>{n==="dragstart"&&DM(i,e.dom.getOuterHTML(o));const p=wq(n,o,i,c);return e.dispatch(n,p)},Nq=(e,n)=>{const o=vi((c,p)=>JB(n,c,p),0);n.on("remove",o.cancel);const i=e;return c=>e.on(p=>{const h=Math.max(Math.abs(c.screenX-p.screenX),Math.abs(c.screenY-p.screenY));if(!p.dragging&&h>10){const _=A6(n,"dragstart",p.element,p.dataTransfer,c);if(s(_.dataTransfer)&&(p.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;p.dragging=!0,n.focus()}if(p.dragging){const _=c.currentTarget===n.getDoc().documentElement,S=Dq(p,Cq(n,c));Aq(p.ghost,n.getBody()),Oq(p.ghost,S,p.width,p.height,p.maxX,p.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),i,_),o.throttle(c.clientX,c.clientY)}})},QB=e=>{const n=e.getSel();if(s(n)){const i=n.getRangeAt(0).startContainer;return Yn(i)?i.parentNode:i}else return null},Rq=(e,n)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(Tq(n,QB(n.selection),i.element)){const p=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();A6(n,"drop",p,i.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Lq(n.dom,i.element),Nj(i.dataTransfer).each(_=>n.insertContent(_)),n._selectionOverrides.hideFakeCaret()})}A6(n,"dragend",n.getBody(),i.dataTransfer,o)}}),eF(e)},Mq=(e,n,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>A6(n,"dragend",i.element,i.dataTransfer),c=>A6(n,"dragend",i.element,i.dataTransfer,c))}),eF(e)},Iq=(e,n)=>o=>Mq(e,n,w.some(o)),eF=e=>{e.on(n=>{n.intervalId.clear(),YB(n.ghost)}),e.clear()},Bq=e=>{const n=hs(),o=Ar.DOM,i=document,c=zT(n,e),p=Nq(n,e),h=Rq(n,e),_=Iq(n,e);e.on("mousedown",c),e.on("mousemove",p),e.on("mouseup",h),o.bind(i,"mousemove",p),o.bind(i,"mouseup",_),e.on("remove",()=>{o.unbind(i,"mousemove",p),o.unbind(i,"mouseup",_)}),e.on("keydown",S=>{S.keyCode===wo.ESC&&Mq(n,e,w.none())})},tF=e=>{const n=c=>{if(!c.isDefaultPrevented()){const p=c.dataTransfer;p&&(M(p.types,"Files")||p.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Yv(e,"Dropped file type is not supported"))}},o=c=>{S_(e,c.target)&&n(c)},i=()=>{const c=Ar.DOM,p=e.dom,h=document,_=e.inline?e.getBody():e.getDoc(),S=["drop","dragover"];R(S,z=>{c.bind(h,z,o),p.bind(_,z,n)}),e.on("remove",()=>{R(S,z=>{c.unbind(h,z,o),p.unbind(_,z,n)})})};e.on("init",()=>{Au.setEditorTimeout(e,i,0)})},UT=e=>{Bq(e),y3(e)&&tF(e)},py=e=>{const n=vi(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=nS(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},nF=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Zc(o)){const i=R0(e.getBody(),o),c=Pr(i)?i:o;e.selection.getNode()!==c&&e2(e,c).each(p=>e.selection.setRng(p))}})})},O6=Pr,oF=(e,n)=>R0(e.getBody(),n),Fq=e=>{const n=e.selection,o=e.dom,i=e.getBody(),c=XC(e,i,o.isBlock,()=>Xf(e)),p="sel-"+o.uniqueId(),h="data-mce-selected";let _;const S=Un=>s(Un)&&o.hasClass(Un,"mce-offscreen-selection"),z=Un=>Un!==i&&(O6(Un)||Zc(Un))&&o.isChildOf(Un,i)&&o.isEditable(Un.parentNode),oe=Un=>{Un&&n.setRng(Un)},ve=(Un,gn,mn,Rn=!0)=>e.dispatch("ShowCaret",{target:gn,direction:Un,before:mn}).isDefaultPrevented()?null:(Rn&&n.scrollIntoView(gn,Un===-1),c.show(mn,gn)),Te=Un=>{Un.hasAttribute("data-mce-caret")&&(o0(Un),n.scrollIntoView(Un))},$e=()=>{e.on("click",gn=>{o.isEditable(gn.target)||(gn.preventDefault(),e.focus())}),e.on("blur NewBlock",rn),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",gn=>{const mn=gn.target,Rn=oF(e,mn);O6(Rn)?(gn.preventDefault(),e2(e,Rn).each(qt)):z(mn)&&e2(e,mn).each(qt)},!0),e.on("mousedown",gn=>{const mn=gn.target;if(mn!==i&&mn.nodeName!=="HTML"&&!o.isChildOf(mn,i)||!QU(e,gn.clientX,gn.clientY))return;rn(),so();const Rn=oF(e,mn);O6(Rn)?(gn.preventDefault(),e2(e,Rn).each(qt)):zB(i,gn.clientX,gn.clientY).each(Lo=>{gn.preventDefault();const es=ve(1,Lo.node,Lo.position===m2.Before,!1);oe(es),uu(Rn)?Rn.focus():e.getBody().focus()})}),e.on("keypress",gn=>{wo.modifierPressed(gn)||O6(n.getNode())&&gn.preventDefault()}),e.on("GetSelectionRange",gn=>{let mn=gn.range;if(_){if(!_.parentNode){_=null;return}mn=mn.cloneRange(),mn.selectNode(_),gn.range=mn}}),e.on("focusin",gn=>{if(e.selection.isCollapsed()&&!Zc(gn.target)&&e.getBody().contains(gn.target)&&gn.target!==e.getBody()&&!e.dom.isEditable(gn.target.parentNode)){c.isShowing()&&c.hide(),gn.target.contains(e.selection.getNode())||(e.selection.select(gn.target,!0),e.selection.collapse(!0));const mn=qt(e.selection.getRng(),!0);mn&&e.selection.setRng(mn)}}),e.on("SetSelectionRange",gn=>{gn.range=rt(gn.range);const mn=qt(gn.range,gn.forward);mn&&(gn.range=mn)});const Un=gn=>Vo(gn)&&gn.id==="mcepastebin";e.on("AfterSetSelectionRange",gn=>{const mn=gn.range,Rn=mn.startContainer.parentElement;!at(mn)&&!Un(Rn)&&so(),S(Rn)||rn()}),UT(e),py(e),nF(e)},dt=Un=>nr(Un)||t0(Un)||Ju(Un),at=Un=>dt(Un.startContainer)||dt(Un.endContainer),rt=Un=>{const gn=e.schema.getVoidElements(),mn=o.createRng(),Rn=Un.startContainer,Lo=Un.startOffset,es=Un.endContainer,Ms=Un.endOffset;return vn(gn,Rn.nodeName.toLowerCase())?Lo===0?mn.setStartBefore(Rn):mn.setStartAfter(Rn):mn.setStart(Rn,Lo),vn(gn,es.nodeName.toLowerCase())?Ms===0?mn.setEndBefore(es):mn.setEndAfter(es):mn.setEnd(es,Ms),mn},Wt=(Un,gn)=>{const mn=Ct.fromDom(e.getBody()),Rn=e.getDoc(),Lo=Ma(mn,"#"+p).getOrThunk(()=>{const ko=Ct.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Rn);return Mo(ko,"id",p),Lr(mn,ko),ko}),es=o.createRng();Ps(Lo),Bl(Lo,[Ct.fromText(Qs,Rn),Ct.fromDom(gn),Ct.fromText(Qs,Rn)]),es.setStart(Lo.dom.firstChild,1),es.setEnd(Lo.dom.lastChild,0),Ni(Lo,{top:o.getPos(Un,e.getBody()).y+"px"}),bp(Lo);const Ms=n.getSel();return Ms&&(Ms.removeAllRanges(),Ms.addRange(es)),es},Ft=Un=>{const gn=Un.cloneNode(!0),mn=e.dispatch("ObjectSelected",{target:Un,targetClone:gn});if(mn.isDefaultPrevented())return null;const Rn=Wt(Un,mn.targetClone),Lo=Ct.fromDom(Un);return R(Nt(Ct.fromDom(e.getBody()),`*[${h}]`),es=>{Ws(Lo,es)||er(es,h)}),o.getAttrib(Un,h)||Un.setAttribute(h,"1"),_=Un,so(),Rn},qt=(Un,gn)=>{if(!Un)return null;if(Un.collapsed){if(!at(Un)){const es=gn?1:-1,Ms=Qp(es,i,Un),ko=Ms.getNode(!gn);if(s(ko)){if(Yp(ko))return ve(es,ko,gn?!Ms.isAtEnd():!1,!1);if(yu(ko)&&Pr(ko.nextSibling)){const lo=o.createRng();return lo.setStart(ko,0),lo.setEnd(ko,0),lo}}const Gt=Ms.getNode(gn);if(s(Gt)){if(Yp(Gt))return ve(es,Gt,gn?!1:!Ms.isAtEnd(),!1);if(yu(Gt)&&Pr(Gt.previousSibling)){const lo=o.createRng();return lo.setStart(Gt,1),lo.setEnd(Gt,1),lo}}}return null}let mn=Un.startContainer,Rn=Un.startOffset;const Lo=Un.endOffset;if(Yn(mn)&&Rn===0&&O6(mn.parentNode)&&(mn=mn.parentNode,Rn=o.nodeIndex(mn),mn=mn.parentNode),!Vo(mn))return null;if(Lo===Rn+1&&mn===Un.endContainer){const es=mn.childNodes[Rn];if(z(es))return Ft(es)}return null},rn=()=>{_&&_.removeAttribute(h),Ma(Ct.fromDom(e.getBody()),"#"+p).each(kr),_=null},Tn=()=>{c.destroy(),_=null},so=()=>{c.hide()};return tp(e)||$e(),{showCaret:ve,showBlockCaretContainer:Te,hideFakeCaret:so,destroy:Tn}},Pq=(e,n)=>{let o=n;for(let i=e.previousSibling;Yn(i);i=i.previousSibling)o+=i.data.length;return o},VT=(e,n,o,i,c)=>{if(Yn(o)&&(i<0||i>o.data.length))return[];const p=c&&Yn(o)?[Pq(o,i)]:[i];let h=o;for(;h!==n&&h.parentNode;)p.push(e.nodeIndex(h,c)),h=h.parentNode;return h===n?p.reverse():[]},WT=(e,n,o,i,c,p,h=!1)=>{const _=VT(e,n,o,i,h),S=VT(e,n,c,p,h);return{start:_,end:S}},KT=(e,n)=>{const o=n.slice(),i=o.pop();return $(i)?Le(o,(p,h)=>p.bind(_=>w.from(_.childNodes[h])),w.some(e)).bind(p=>Yn(p)&&(i<0||i>p.data.length)?w.none():w.some({node:p,offset:i})):w.none()},sF=(e,n)=>KT(e,n.start).bind(({node:o,offset:i})=>KT(e,n.end).map(({node:c,offset:p})=>{const h=document.createRange();return h.setStart(o,i),h.setEnd(c,p),h})),$q=(e,n,o,i=!1)=>WT(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),lh=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const i=n.parentNode;e.remove(n,Yn(n.firstChild)&&du(n.firstChild.data)),lh(e,i,o)}},L6=(e,n,o,i=!0)=>{const c=n.startContainer.parentNode,p=n.endContainer.parentNode;n.deleteContents(),i&&!o(n.startContainer)&&(Yn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Yn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),lh(e,c,o),c!==p&&lh(e,p,o))},jT=(e,n)=>w.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),ZT=(e,n,o)=>{const i=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:gb(i).concat(e.blockPatterns),inlinePatterns:f0(i).concat(e.inlinePatterns)}},gy=(e,n,o,i)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,i),c.toString()},rF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),H4=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},aF=(e,n,o)=>{const i=sF(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,p=i.endContainer,h=i.endOffset===0?p:p.splitText(i.endOffset),_=i.startOffset===0?c:c.splitText(i.startOffset),S=_.parentNode,z=h.parentNode;return{prefix:n,end:z.insertBefore(rF(e,n+"-end"),h),start:S.insertBefore(rF(e,n+"-start"),_)}},iF=(e,n,o)=>{lh(e,e.get(n.prefix+"-end"),o),lh(e,e.get(n.prefix+"-start"),o)},GT=e=>e.start.length===0,lF=e=>(n,o)=>{const c=n.data.substring(0,o),p=c.lastIndexOf(e.charAt(e.length-1)),h=c.lastIndexOf(e);return h!==-1?h+e.length:p!==-1?p+1:-1},D6=(e,n,o,i)=>{const c=n.start;return ud(e,i.container,i.offset,lF(c),o).bind(h=>{var _,S;const z=(S=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(c))!==null&&S!==void 0?S:-1;if(z!==-1&&h.offset>=z+c.length){const ve=e.createRng();return ve.setStart(h.container,h.offset-c.length),ve.setEnd(h.container,h.offset),w.some(ve)}else{const ve=h.offset-c.length;return ip(h.container,ve,o).map(Te=>{const $e=e.createRng();return $e.setStart(Te.container,Te.offset),$e.setEnd(h.container,h.offset),$e}).filter(Te=>Te.toString()===c).orThunk(()=>D6(e,n,o,n1(h.container,0)))}})},cF=(e,n,o,i,c,p=!1)=>{if(n.start.length===0&&!p){const h=e.createRng();return h.setStart(o,i),h.setEnd(o,i),w.some(h)}return F9(o,i,c).bind(h=>D6(e,n,c,h).bind(S=>{var z;if(p){if(S.endContainer===h.container&&S.endOffset===h.offset)return w.none();if(h.offset===0&&((z=S.endContainer.textContent)===null||z===void 0?void 0:z.length)===S.endOffset)return w.none()}return w.some(S)}))},dF=(e,n,o,i)=>{const c=e.dom,p=c.getRoot(),h=o.pattern,_=o.position.container,S=o.position.offset;return ip(_,S-o.pattern.end.length,n).bind(z=>{const oe=WT(c,p,z.container,z.offset,_,S,i);if(GT(h))return w.some({matches:[{pattern:h,startRng:oe,endRng:oe}],position:z});{const ve=my(e,o.remainingPatterns,z.container,z.offset,n,i),Te=ve.getOr({matches:[],position:z}),$e=Te.position;return cF(c,h,$e.container,$e.offset,n,ve.isNone()).map(at=>{const rt=$q(c,p,at,i);return{matches:Te.matches.concat([{pattern:h,startRng:rt,endRng:oe}]),position:n1(at.startContainer,at.startOffset)}})}})},my=(e,n,o,i,c,p)=>{const h=e.dom;return F9(o,i,h.getRoot()).bind(_=>{const S=gy(h,c,o,i);for(let z=0;z<n.length;z++){const oe=n[z];if(!Do(S,oe.end))continue;const ve=n.slice();ve.splice(z,1);const Te=dF(e,c,{pattern:oe,remainingPatterns:ve,position:_},p);if(Te.isNone()&&i>0)return my(e,n,o,i-1,c,p);if(Te.isSome())return Te}return w.none()})},uF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?R(n.format,i=>{e.formatter.apply(i)}):e.execCommand(n.cmd,!1,n.value)},fF=(e,n,o,i)=>{const c=H4(e.dom,o);L6(e.dom,c,i),uF(e,n,c)},Hq=(e,n,o,i,c)=>{const p=e.dom,h=H4(p,i),_=H4(p,o);L6(p,_,c),L6(p,h,c);const S={prefix:o.prefix,start:o.end,end:i.start},z=H4(p,S);uF(e,n,z)},zq=(e,n)=>{const o=te("mce_textpattern"),i=ae(n,(c,p)=>{const h=aF(e,o+`_end${c.length}`,p.endRng);return c.concat([{...p,endMarker:h}])},[]);return ae(i,(c,p)=>{const h=i.length-c.length-1,_=GT(p.pattern)?p.endMarker:aF(e,o+`_start${h}`,p.startRng);return c.concat([{...p,startMarker:_}])},[])},Uq=e=>Ze(e,(n,o)=>o.end.length-n.end.length),qT=(e,n)=>{const o=st(e,i=>W(n,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},pF=(e,n,o,i,c,p)=>{const h=my(e,c.inlinePatterns,o,i,n,p).fold(()=>[],S=>S.matches),_=my(e,Uq(c.inlinePatterns),o,i,n,p).fold(()=>[],S=>S.matches);return qT(h,_)},gF=(e,n)=>{if(n.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=zq(o,n);R(c,p=>{const h=o.getParent(p.startMarker.start,o.isBlock),_=S=>S===h;GT(p.pattern)?fF(e,p.pattern,p.endMarker,_):Hq(e,p.pattern,p.startMarker,p.endMarker,_),iF(o,p.endMarker,_),iF(o,p.startMarker,_)}),e.selection.moveToBookmark(i)},mF=(e,n,o)=>GS(n,0,n).map(i=>{const c=i.container;return qS(c,o.start.length,n).each(p=>{const h=e.createRng();h.setStart(c,0),h.setEnd(p.container,p.offset),L6(e,h,_=>_===n)}),c}),hF=e=>(n,o)=>{const i=n.dom,c=o.pattern,p=sF(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(_,S)=>{const z=S.get(_);return _o(z)&&Fe(z).exists(oe=>vn(oe,"block"))};return jT(n,p).each(_=>{c.type==="block-format"?h(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,_,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,_,c),n.execCommand(c.cmd,!1,c.value)})}),!0},Vq=e=>Ze(e,(n,o)=>o.start.length-n.start.length),bF=e=>(n,o)=>{const i=Vq(n),c=o.replace(Qs," ");return we(i,p=>e(p,o,c))},hy=(e,n)=>(o,i,c,p,h)=>{var _;h===void 0&&(h=(_=i.textContent)!==null&&_!==void 0?_:"");const S=o.dom,z=Mr(o);return S.is(i,z)?e(c.blockPatterns,h).map(oe=>n&&Kn.trim(h).length===oe.start.length?[]:[{pattern:oe,range:WT(S,S.getRoot(),i,0,i,0,p)}]).getOr([]):[]},Wq=e=>/^\s[^\s]/.test(e),Kq=hF((e,n,o)=>{mF(e,n,o).each(i=>{const c=Ct.fromDom(i),p=pr(c);Wq(p)&&mc(c,p.slice(1))})}),vF=bF((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),jq=hy(vF,!0),Zq=(e,n)=>{const o=e.selection.getRng();return jT(e,o).map(i=>{var c;const p=Math.max(0,o.startOffset),h=ZT(n,i,(c=i.textContent)!==null&&c!==void 0?c:""),_=pF(e,i,o.startContainer,p,h,!0),S=jq(e,i,h,!0);return{inlineMatches:_,blockMatches:S}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},Gq=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();R(n,i=>Kq(e,i)),e.selection.moveToBookmark(o)},qq=hF(mF),Yq=bF((e,n,o)=>n===e.start||o===e.start),Xq=hy(Yq,!1),Jq=(e,n)=>{const o=e.selection.getRng();return jT(e,o).map(i=>{const c=Math.max(0,o.startOffset),p=gy(e.dom,i,o.startContainer,c),h=ZT(n,i,p);return Xq(e,i,h,!1,p)}).filter(i=>i.length>0)},Qq=(e,n)=>{R(n,o=>qq(e,o))},xF=(e,n)=>Zq(e,n).fold(H,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{W5(e),gF(e,o),Gq(e,i);const c=e.selection.getRng(),p=F9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),p.each(h=>{const _=h.container;_.data.charAt(h.offset-1)===wa&&(_.deleteData(h.offset-1,1),lh(e.dom,_.parentNode,S=>S===e.dom.getRoot()))})}),!0)),eY=(e,n)=>{const o=e.selection.getRng();jT(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),p=gy(e.dom,i,o.startContainer,c),h=ZT(n,i,p),_=pF(e,i,o.startContainer,c,h,!1);_.length>0&&e.undoManager.transact(()=>{gF(e,_)})})},YT=(e,n)=>Jq(e,n).fold(H,o=>(e.undoManager.transact(()=>{Qq(e,o)}),!0)),yF=(e,n,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],n))return!0;return!1},tY=(e,n)=>yF(e,n,(o,i)=>o===i.keyCode&&!wo.modifierPressed(i)),nY=(e,n)=>yF(e,n,(o,i)=>o.charCodeAt(0)===i.charCode),oY=e=>{const n=[",",".",";",":","!","?"],o=[32],i=()=>I8(w3(e).filter(h=>h.type==="inline-command"||h.type==="block-command"?e.queryCommandSupported(h.cmd):!0),Tb(e)),c=()=>UC(e);e.on("keydown",h=>{if(h.keyCode===13&&!wo.modifierPressed(h)&&e.selection.isCollapsed()&&e.selection.isEditable()){const _=ef(i(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||c())&&xF(e,_)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const _=ef(i(),"space");(_.blockPatterns.length>0||c())&&YT(e,_)&&h.preventDefault()}},!0);const p=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const h=ef(i(),"space");(h.inlinePatterns.length>0||c())&&eY(e,h)}};e.on("keyup",h=>{tY(o,h)&&p()}),e.on("keypress",h=>{nY(n,h)&&Au.setEditorTimeout(e,p)})},sY=e=>{oY(e)},rY=e=>{const n=Kn.each,o=wo.BACKSPACE,i=wo.DELETE,c=e.dom,p=e.selection,h=e.parser,_=fr.browser,S=_.isFirefox(),z=_.isChromium()||_.isSafari(),oe=fr.deviceType.isiPhone()||fr.deviceType.isiPad(),ve=fr.os.isMacOS()||fr.os.isiOS(),Te=(Pn,ho)=>{try{e.getDoc().execCommand(Pn,!1,String(ho))}catch{}},$e=Pn=>Pn.isDefaultPrevented(),dt=()=>{const Pn=vs=>{const Ts=c.create("body"),vr=vs.cloneContents();return Ts.appendChild(vr),p.serializer.serialize(Ts,{format:"html"})},ho=vs=>{const Ts=Pn(vs),vr=c.createRng();vr.selectNode(e.getBody());const sa=Pn(vr);return Ts===sa};e.on("keydown",vs=>{const Ts=vs.keyCode;if(!$e(vs)&&(Ts===i||Ts===o)&&e.selection.isEditable()){const vr=e.selection.isCollapsed(),sa=e.getBody();if(vr&&!Of(e.schema,sa)||!vr&&!ho(e.selection.getRng()))return;vs.preventDefault(),e.setContent(""),sa.firstChild&&c.isBlock(sa.firstChild)?e.selection.setCursorLocation(sa.firstChild,0):e.selection.setCursorLocation(sa,0),e.nodeChanged()}})},at=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},rt=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Pn=>{let ho;if(Pn.target===e.getDoc().documentElement)if(ho=p.getRng(),e.getBody().focus(),Pn.type==="mousedown"){if(nr(ho.startContainer))return;p.placeCaretAt(Pn.clientX,Pn.clientY)}else p.setRng(ho)})},Wt=()=>{e.on("keydown",Pn=>{if(!$e(Pn)&&Pn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(p.isCollapsed()&&p.getRng().startOffset===0){const ho=p.getNode(),vs=ho.previousSibling;if(ho.nodeName==="HR"){c.remove(ho),Pn.preventDefault();return}vs&&vs.nodeName&&vs.nodeName.toLowerCase()==="hr"&&(c.remove(vs),Pn.preventDefault())}}})},Ft=()=>{Range.prototype.getClientRects||e.on("mousedown",Pn=>{if(!$e(Pn)&&Pn.target.nodeName==="HTML"){const ho=e.getBody();ho.blur(),Au.setEditorTimeout(e,()=>{ho.focus()})}})},qt=()=>{const Pn=Sm(e);e.on("click",ho=>{const vs=ho.target;/^(IMG|HR)$/.test(vs.nodeName)&&c.isEditable(vs)&&(ho.preventDefault(),e.selection.select(vs),e.nodeChanged()),vs.nodeName==="A"&&c.hasClass(vs,Pn)&&vs.childNodes.length===0&&c.isEditable(vs.parentNode)&&(ho.preventDefault(),p.select(vs))})},rn=()=>{const Pn=ho=>ho.nodeName==="IMG"&&e.dom.isEditable(ho);e.on("mousedown",ho=>{Tt(w.from(ho.clientX),w.from(ho.clientY),(vs,Ts)=>{const vr=e.getDoc().caretPositionFromPoint(vs,Ts),sa=(vr==null?void 0:vr.offsetNode.childNodes[vr.offset-(vr.offset>0?1:0)])||(vr==null?void 0:vr.offsetNode);if(sa&&Pn(sa)){const Mu=sa.getBoundingClientRect();ho.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(sa),ho.clientX<Mu.left||ho.clientY<Mu.top?e.selection.collapse(!0):(ho.clientX>Mu.right||ho.clientY>Mu.bottom)&&e.selection.collapse(!1)}})})},Tn=()=>{const Pn=()=>{const vs=c.getAttribs(p.getStart().cloneNode(!1));return()=>{const Ts=p.getStart();Ts!==e.getBody()&&(c.setAttrib(Ts,"style",null),n(vs,vr=>{Ts.setAttributeNode(vr.cloneNode(!0))}))}},ho=()=>!p.isCollapsed()&&c.getParent(p.getStart(),c.isBlock)!==c.getParent(p.getEnd(),c.isBlock);e.on("keypress",vs=>{let Ts;return!$e(vs)&&(vs.keyCode===8||vs.keyCode===46)&&ho()?(Ts=Pn(),e.getDoc().execCommand("delete",!1),Ts(),vs.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",vs=>{if(!$e(vs)&&ho()){const Ts=Pn();Au.setEditorTimeout(e,()=>{Ts()})}})},so=()=>{e.on("keydown",Pn=>{if(!$e(Pn)&&Pn.keyCode===o&&p.isCollapsed()&&p.getRng().startOffset===0){const ho=p.getNode().previousSibling;if(ho&&ho.nodeName&&ho.nodeName.toLowerCase()==="table")return Pn.preventDefault(),!1}return!0})},Un=()=>{e.on("keydown",Pn=>{if($e(Pn)||Pn.keyCode!==wo.BACKSPACE)return;let ho=p.getRng();const vs=ho.startContainer,Ts=ho.startOffset,vr=c.getRoot();let sa=vs;if(!(!ho.collapsed||Ts!==0)){for(;sa.parentNode&&sa.parentNode.firstChild===sa&&sa.parentNode!==vr;)sa=sa.parentNode;sa.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,sa),ho=c.createRng(),ho.setStart(vs,0),ho.setEnd(vs,0),p.setRng(ho))}})},gn=()=>{const Pn=nu("figcaption");e.on("keydown",ho=>{if(ho.keyCode===wo.LEFT||ho.keyCode===wo.RIGHT){const vs=Ct.fromDom(e.selection.getNode());Pn(vs)&&e.selection.isCollapsed()&&si(vs).bind(Ts=>{var vr;return e.selection.getRng().startOffset===0&&ho.keyCode===wo.LEFT?Js(Ts):e.selection.getRng().endOffset===((vr=vs.dom.textContent)===null||vr===void 0?void 0:vr.length)&&ho.keyCode===wo.RIGHT?xd(Ts):w.none()}).each(Ts=>{e.selection.setCursorLocation(Ts.dom,0)})}})},mn=()=>{const Pn=()=>{Te("StyleWithCSS",!1),Te("enableInlineTableEditing",!1),j8(e)||Te("enableObjectResizing",!1)};PC(e)||e.on("BeforeExecCommand mousedown",Pn)},Rn=()=>{const Pn=()=>{n(c.select("a:not([data-mce-block])"),ho=>{var vs;let Ts=ho.parentNode;const vr=c.getRoot();if((Ts==null?void 0:Ts.lastChild)===ho){for(;Ts&&!c.isBlock(Ts);){if(((vs=Ts.parentNode)===null||vs===void 0?void 0:vs.lastChild)!==Ts||Ts===vr)return;Ts=Ts.parentNode}c.add(Ts,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ho=>{(ho.type==="setcontent"||ho.command==="mceInsertLink")&&Pn()})},Lo=()=>{e.on("init",()=>{Te("DefaultParagraphSeparator",Mr(e))})},es=Pn=>{const ho=Pn.getBody(),vs=Pn.selection.getRng();return vs.startContainer===vs.endContainer&&vs.startContainer===ho&&vs.startOffset===0&&vs.endOffset===ho.childNodes.length},Ms=()=>{e.on("keyup focusin mouseup",Pn=>{!wo.modifierPressed(Pn)&&!es(e)&&p.normalize()},!0)},ko=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Gt=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},lo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Pn=>{let ho;Pn.target.nodeName==="HTML"&&(ho=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ho),e.selection.normalize(),e.nodeChanged())}))},as=()=>{ve&&e.on("keydown",Pn=>{wo.metaKeyPressed(Pn)&&!Pn.shiftKey&&(Pn.keyCode===37||Pn.keyCode===39)&&(Pn.preventDefault(),e.selection.getSel().modify("move",Pn.keyCode===37?"backward":"forward","lineboundary"))})},dr=()=>{e.on("click",Pn=>{let ho=Pn.target;do if(ho.tagName==="A"){Pn.preventDefault();return}while(ho=ho.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},va=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Pn=>{Pn.preventDefault()})})},Gn=()=>{h.addNodeFilter("br",Pn=>{let ho=Pn.length;for(;ho--;)Pn[ho].attr("class")==="Apple-interchange-newline"&&Pn[ho].remove()})},Ro=a,Xs=()=>{if(!S||e.removed)return!1;const Pn=e.selection.getSel();return!Pn||!Pn.rangeCount||Pn.rangeCount===0},rr=()=>{z&&(rt(),qt(),va(),at(),oe&&(Gt(),lo(),dr())),S&&(Ft(),mn(),ko(),as())},Bo=()=>{Un(),dt(),fr.windowsPhone||Ms(),z&&(rt(),qt(),Lo(),va(),so(),Gn(),oe?(Gt(),lo(),dr()):at()),S&&(gn(),rn(),Wt(),Ft(),Tn(),mn(),Rn(),ko(),as(),so())};return tp(e)?rr():Bo(),{refreshContentEditable:Ro,isHidden:Xs}},z4=Ar.DOM,aY=(e,n)=>{const o=Ct.fromDom(e.getBody()),i=tl(ou(o)),c=Ct.fromTag("style");Mo(c,"type","text/css"),Lr(c,Ct.fromText(n)),Lr(i,c),e.on("remove",()=>{kr(c)})},iY=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,XT=e=>nn(e,n=>ks(n)===!1),CF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return XT({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_html_in_comments:n("allow_html_in_comments"),allow_mathml_annotation_encodings:n("allow_mathml_annotation_encodings"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),extended_mathml_attributes:n("extended_mathml_attributes"),extended_mathml_elements:n("extended_mathml_elements"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:iY(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:Lb(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},_F=e=>{const n=e.options.get;return XT({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},lY=e=>{const n=e.options.get;return{...CF(e),..._F(e),...XT({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},cY=e=>{const n=Y3(CF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,p="data-mce-"+i;let h=o.length;for(;h--;){const _=o[h];let S=_.attr(i);if(S&&!_.attr(p)){if(S.indexOf("data:")===0||S.indexOf("blob:")===0)continue;i==="style"?(S=c.serializeStyle(c.parseStyle(S),_.name),S.length||(S=null),_.attr(p,S),_.attr(i,S)):i==="tabindex"?(_.attr(p,S),_.attr(i,null)):_.attr(p,e.convertURL(S,i,_.name))}}}),n.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],p=c.attr("type")||"no/type";p.indexOf("mce-")!==0&&c.attr("type","mce-"+p)}}),i7(e)&&n.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const p=o[c];p.type=8,p.name="#comment",p.value="[CDATA["+e.dom.encode((i=p.value)!==null&&i!==void 0?i:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const p=o[i];p.isEmpty(c)&&p.getAll("br").length===0&&p.append(new Al("br",1))}}),n},dY=e=>{const n=Q8(e);n&&Au.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},uY=e=>{const n=e.dom.getRoot();!e.inline&&(!w0(e)||e.selection.getStart(!0)===n)&&Bi(n).each(o=>{const i=o.getNode(),c=pu(i)?Bi(i).getOr(o):o;e.selection.setRng(c.toRange())})},EF=e=>{e.bindPendingEventDelegates(),e.initialized=!0,mb(e),e.focus(!0),uY(e),e.nodeChanged({initial:!0});const n=J8(e);b(n)&&n.call(e,e),dY(e),Cg(e)&&wN(e,!0)},JT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,wF=(e,n,o)=>{const{pass:i,fail:c}=J(n,_=>tinymce.Resource.has(Gx(_))),h=[...i.map(_=>{const S=tinymce.Resource.get(Gx(_));return lt(S)?Promise.resolve(JT(e).loadRawCss(_,S)):Promise.resolve()}),JT(e).loadAll(c)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},SF=e=>{const n=JT(e),o=x3(e),i=e.contentCSS,c=()=>{n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},p=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let S="";Kn.each(e.contentStyles,z=>{S+=z+`\r
`}),e.dom.addStyle(S)}const h=Promise.all(wF(e,i,o)).then(p).catch(p),_=v3(e);return _&&aY(e,_),h},fY=e=>{const n=e.getDoc(),o=e.getBody();gC(e),e7(e)||(n.body.spellcheck=!1,z4.setAttrib(o,"spellcheck","false")),e.quirks=rY(e),mC(e);const i=xb(e);i!==void 0&&(o.dir=i);const c=t7(e);c&&e.on("BeforeSetContent",p=>{Kn.each(c,h=>{p.content=p.content.replace(h,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",p=>{e.composing=p.type==="compositionstart"})},TF=e=>{tp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},h2=e=>{e.removed!==!0&&(TF(e),EF(e))},pY=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},QT=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(z4.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const i=e.getBody();i.disabled=!0,e.readonly=PC(e),e._editableRoot=X8(e),!km(e)&&e.hasEditableRoot()&&(e.inline&&z4.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=xV(e),e.schema=oc(_F(e)),e.dom=Ar(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:g0(e),referrerPolicy:vb(e),crossOrigin:W8(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=cY(e),e.serializer=Vx(lY(e),e),e.selection=iw(e.dom,e.getWin(),e.serializer,e),e.annotator=T0(e),e.formatter=Ow(e),e.undoManager=BN(e),e._nodeChangeDispatcher=new wG(e),e._selectionOverrides=Fq(e),uB(e),aM(e),BT(e),tj(e),tp(e)||($B(e),sY(e));const c=vG(e);RS(e,c),XK(e),kV(e),nq(e,c);const p=Vv(e);fY(e),p.fold(()=>{const h=pY(e);SF(e).then(()=>{h2(e),h()})},h=>{e.setProgressState(!0),SF(e).then(()=>{h().then(_=>{e.setProgressState(!1),h2(e),sw(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),h2(e),sw(e)})})})},ek=Ar.DOM,gY=(e,n,o,i)=>{const c=Ct.fromTag("iframe");return i.each(p=>Mo(c,"tabindex",p)),ka(c,o),ka(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),b1(c,"tox-edit-area__iframe"),c},mY=e=>{let n=m3(e)+"<html><head>";Cm(e)!==e.editorManager.documentBaseURL&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=h3(e),i=_m(e),c=e.translate(tf(e));return p0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+p0(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},hY=(e,n)=>{const o=fr.browser.isFirefox()?tf(e):"Rich Text Area",i=e.translate(o),c=pa(Ct.fromDom(e.getElement()),"tabindex").bind(Tr),p=gY(e.id,i,rc(e),c).dom;p.onload=()=>{p.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=p,e.iframeHTML=mY(e),ek.add(n.iframeContainer,p)},kF=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,QT(e)};if(C0(e)||fr.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=Vc(Ct.fromDom(n),"load",()=>{i.unbind(),o()});n.srcdoc=e.iframeHTML}},bY=(e,n)=>{hY(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=ek.isHidden(n.editorContainer)),e.getElement().style.display="none",ek.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,kF(e)},tk=Ar.DOM,vY=(e,n,o)=>{const i=H0.get(o),c=H0.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=Kn.trim(o),i&&Kn.inArray(n,o)===-1){if(e.plugins[o])return;try{const p=i(e,c)||{};e.plugins[o]=p,b(p.init)&&(p.init(e,c),n.push(o))}catch(p){cd(e,o,p)}}},xY=e=>{const n=o=>{o.keyCode===wo.ESC&&!o.defaultPrevented&&_C(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",n),e.inline||e.on("keyup",n),e.on("remove",()=>{document.removeEventListener("keyup",n),e.inline||e.off("keyup",n)})},yY=e=>e.replace(/^\-/,""),CY=e=>{const n=[];R(F1(e),o=>{vY(e,n,yY(o))})},_Y=e=>{const n=Kn.trim(Vp(e)),o=e.ui.registry.getAll().icons,i={...Gv.get("default").icons,...Gv.get(n).icons};Zt(i,(c,p)=>{vn(o,p)||e.ui.registry.addIcon(p,c)})},EY=e=>{const n=Wp(e);if(lt(n)){const o=vg.get(n);e.theme=o(e,vg.urls[n])||{},b(e.theme.init)&&e.theme.init(e,vg.urls[n]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},wY=e=>{const n=h0(e),o=n4.get(n);e.model=o(e,n4.urls[n])},SY=e=>{yw.init(e)},TY=e=>{const n=e.theme.renderUI;return n?n():nk(e)},AF=e=>{const n=e.getElement(),i=Wp(e)(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},by=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),OF=e=>{const n=tk.create("div");return tk.insertAfter(n,e),by(n,n)},nk=e=>{const n=e.getElement();return e.inline?by(null):OF(n)},kY=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,lt(Wp(e))?TY(e):b(Wp(e))?AF(e):nk(e)},AY=(e,n)=>{const o={show:w.from(n.show).getOr(a),hide:w.from(n.hide).getOr(a),isEnabled:w.from(n.isEnabled).getOr(ee),setEnabled:i=>{i&&(e.mode.get()==="readonly"||Cg(e))||w.from(n.setEnabled).each(p=>p(i))}};e.ui={...e.ui,...o}},OY=async e=>{e.dispatch("ScriptsLoaded"),_Y(e),xY(e),EY(e),wY(e),SY(e),CY(e);const n=await kY(e);AY(e,w.from(n.api).getOr({})),e.editorContainer=n.editorContainer,KJ(e),e.inline?QT(e):bY(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},ch=Ar.DOM,ok=e=>e.charAt(0)==="-",LY=(e,n)=>{const o=m0(n),i=LC(n);if(!Yc.hasCode(o)&&o!=="en"){const c=bo(i)?i:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{Jv(n,c,o)})}},DY=(e,n)=>{const o=Wp(e);if(lt(o)&&!ok(o)&&!vn(vg.urls,o)){const i=_b(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${n}.js`;vg.load(o,c).catch(()=>{nV(e,c,o)})}},sk=(e,n)=>{const o=h0(e);if(o!=="plugin"&&!vn(n4.urls,o)){const i=I1(e),c=lt(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${n}.js`;n4.load(o,c).catch(()=>{oV(e,c,o)})}},vy=(e,n)=>{yw.load(e,n)},LF=e=>w.from(ar(e)).filter(bo).map(n=>({url:n,name:w.none()})),rk=(e,n,o)=>w.from(n).filter(i=>bo(i)&&!Gv.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:w.some(i)})),DF=(e,n,o)=>{const i=rk(n,"default",o),c=LF(n).orThunk(()=>rk(n,Vp(n),""));R(At([i,c]),p=>{e.add(p.url).catch(()=>{hN(n,p.url,p.name.getOrUndefined())})})},NY=(e,n)=>{const o=(i,c)=>{i!=="licensekeymanager"&&H0.load(i,c).catch(()=>{gw(e,c,i)})};Zt(v0(e),(i,c)=>{o(c,i),e.options.set("plugins",F1(e).concat(c))}),R(F1(e),i=>{i=Kn.trim(i),i&&!H0.urls[i]&&!ok(i)&&o(i,`plugins/${i}/plugin${n}.js`)})},RY=e=>{const n=Wp(e);return!lt(n)||s(vg.get(n))},MY=e=>{const n=h0(e);return s(n4.get(n))},IY=(e,n)=>{const o=Us.ScriptLoader,i=()=>{!e.removed&&RY(e)&&MY(e)&&OY(e)};DY(e,n),sk(e,n),vy(e,n),LY(o,e),DF(o,e,n),NY(e,n),o.loadQueue().then(i,i)},lp=(e,n)=>xr.forElement(e,{contentCssCors:Eb(n),referrerPolicy:vb(n)}),NF=e=>{const n=e.id;Yc.setCode(m0(e));const o=()=>{ch.unbind(window,"ready",o),e.render()};if(!T1.Event.domLoaded){ch.bind(window,"ready",o);return}if(!e.getElement())return;const i=Ct.fromDom(e.getElement()),c=ru(i);e.on("remove",()=>{A(i.dom.attributes,h=>er(i,h.name)),ka(i,c)}),e.ui.styleSheetLoader=lp(i,e),Kp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const p=e.getElement().form||ch.getParent(n,"form");p&&(e.formElement=p,BC(e)&&!Af(e.getElement())&&(ch.insertAfter(ch.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},ch.bind(p,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),B1(e)&&!p.submit.nodeType&&!p.submit.length&&!p._mceOldSubmit&&(p._mceOldSubmit=p.submit,p.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),p._mceOldSubmit(p)))),e.windowManager=qv(e),e.notificationManager=Du(e),VC(e)&&e.on("GetContent",h=>{h.save&&(h.content=ch.encode(h.content))}),G8(e)&&e.on("submit",()=>{e.initialized&&e.save()}),q8(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),IY(e,e.suffix)},RF=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],MF=e=>{var n;return Intl.Segmenter?`${(n=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)===null||n===void 0?void 0:n.segment}`:e.trim()[0]},BY=()=>{const e=Math.floor(Ue()*RF.length);return RF[e]},FY=(e,n,o=36)=>{const i=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${i}" cy="${i}" r="${i}" fill="${n}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${i}">`+MF(e)+"</text></svg>"},N6=e=>{const n=FY(e,BY());return"data:image/svg+xml,"+encodeURIComponent(n)},xy=fI([iZ("id"),vI("name"),vI("avatar"),hI("custom")]),PY=e=>{const n={};return Zt(e,(o,i)=>{o.each(c=>{n[i]=c})}),n},$Y=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const n=K(e,c=>y6("Invalid user object",xy,c)),{errors:o,values:i}=_n(n);if(o.length>0){const c=K(o,(p,h)=>`User at index ${h}: ${pI(p)}`);console.warn(`User validation errors:
`+c.join(`
`))}return K(i,c=>{const{id:p,name:h,avatar:_,...S}=c;return{id:p,name:h.getOr(p),avatar:_.getOr(N6(h.getOr(p))),...PY(S)}})},HY=e=>{const n=new Map,o=new Map,i=z=>w.from(n.get(z)),c=(z,oe)=>{n.set(oe,z)},p=(z,oe)=>w.from(o.get(z)).each(({reject:ve})=>{ve(oe),o.delete(z)}),h=(z,oe)=>w.from(o.get(z)).each(({resolve:ve})=>{ve(oe),o.delete(z)}),_=z=>{const oe=p7(e);if(Array.isArray(z)){if(!oe)return ze(z,Te=>Promise.resolve({id:Te,name:Te,avatar:N6(Te)}))}else return{};const ve=Ot(V(z,Te=>!i(Te).isSome()));return R(ve,Te=>{const $e=new Promise((dt,at)=>{o.set(Te,{resolve:dt,reject:at})});c($e,Te)}),ve.length>0&&oe(ve).then($Y).then(Te=>{const $e=new Set(K(Te,dt=>dt.id));R(Te,dt=>h(dt.id,dt)),R(ve,dt=>{$e.has(dt)||p(dt,new Error(`User ${dt} not found`))})}).catch(Te=>{R(ve,$e=>p($e,Te instanceof Error?Te:new Error("Network error")))}),Le(z,(Te,$e)=>(Te[$e]=i($e).getOr(Promise.resolve({id:$e,name:$e,avatar:N6($e)})),Te),{})},S=_0(e);return Object.freeze({userId:S,fetchUsers:_})},IF=e=>HY(e),zY=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,Cg(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),zk(e,n))},BF=e=>e._editableRoot,UY=(e,n)=>({sections:O(e),options:O(n)}),FF=$c().deviceType,PF=FF.isPhone(),VY=FF.isTablet(),R6=e=>{if(Qo(e))return[];{const n=_o(e)?e:e.split(/[ ,]/),o=K(n,As);return V(o,bo)}},$F=(e,n)=>{const o=It(n,(i,c)=>M(e,c));return UY(o.t,o.f)},yy=(e,n,o={})=>{const i=e.sections(),c=Mn(i,n).getOr({});return Kn.extend({},o,c)},M6=(e,n)=>vn(e.sections(),n),WY=(e,n)=>M6(e,n)?e.sections()[n]:{},HF=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Mn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),zF=(e,n)=>{var o;const i=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Kn.extend({},e.external_plugins,i):i},KY=(e,n)=>[...R6(e),...R6(n)],UF=(e,n,o,i)=>e&&M6(n,"mobile")?i:o,jY=(e,n,o,i)=>{const c=R6(o.forced_plugins),p=R6(i.plugins),h=WY(n,"mobile"),_=h.plugins?R6(h.plugins):p,S=UF(e,n,p,_),z=KY(c,S);return Kn.extend(i,{forced_plugins:c,plugins:z})},ZY=(e,n)=>e&&M6(n,"mobile"),GY=(e,n,o,i,c)=>{var p;const h=e?{mobile:HF((p=c.mobile)!==null&&p!==void 0?p:{},n)}:{},_=$F(["mobile"],pt(h,c)),S=Kn.extend(o,i,_.options(),ZY(e,_)?yy(_,"mobile"):{},{external_plugins:zF(i,_.options())});return jY(e,_,i,S)},qY=(e,n)=>{const o=mt(n);return GY(PF||VY,PF,o,e,o)},VF=(e,n)=>ZD(e,n),WF=e=>{const n=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{R("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&n("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},KF=e=>{const n=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return W(c,p=>s(e.formatter.matchNode(p,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},jF=e=>{WF(e),KF(e)},ZF=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let i;try{o.execCommand(n)}catch{i=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(i=!0),i||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(fr.os.isMacOS()||fr.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},GF=(e,n,o,i)=>{const c=Ct.fromDom(e.getRoot());return hv(c,hn.fromRangeStart(n),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),bv(c,hn.fromRangeEnd(n),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},ak=e=>{if(typeof e!="string"){const n=Kn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},qF=(e,n)=>{const o=e.selection,i=e.dom;return/^ | $/.test(n)?GF(i,o.getRng(),n,e.schema):n},I6=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:i}=ak(n);hg(e,{...i,content:qF(e,o),format:"html",set:!1,selection:!0}).each(c=>{const p=YU(e,c.content,i);bg(e,p,c),e.addVisual()})}},YF=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,i)=>{I6(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,i)=>{I6(e,e.dom.encode(i))},insertHTML:(n,o,i)=>{I6(e,i)},mceInsertContent:(n,o,i)=>{I6(e,i)},mceSetContent:(n,o,i)=>{e.setContent(i)},mceReplaceContent:(n,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(_3(e))}})},YY={"font-size":"size","font-family":"face"},XY=nu("font"),XF=(e,n,o)=>{const i=p=>tc(p,e).orThunk(()=>XY(p)?Mn(YY,e).bind(h=>pa(p,h)):w.none()),c=p=>Ws(Ct.fromDom(n),p);return ma(Ct.fromDom(o),p=>i(p),c)},JF=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),QF=(e,n)=>w.from(Ar.DOM.getStyle(n,e,!0)),ik=e=>(n,o)=>w.from(o).map(Ct.fromDom).filter(da).bind(i=>XF(e,n,i.dom).or(QF(e,i.dom))).getOr(""),lk=ik("font-size"),ck=f(JF,ik("font-family")),Cy=e=>Bi(e.getBody()).bind(n=>{const o=n.container();return w.from(Yn(o)?o.parentNode:o)}),eP=e=>w.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?w.none():w.from(e.selection.getStart(!0))}),tP=(e,n)=>eP(e).orThunk(B(Cy,e)).map(Ct.fromDom).filter(da).bind(n),_y=(e,n)=>tP(e,N(w.some,n)),Ey=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const i=c7(e),c=Ob(e);return c.length>0?c[o-1]||n:i[o-1]||n}else return n}else return n},nP=e=>{const n=e.split(/\s*,\s*/);return K(n,o=>o.indexOf(" ")!==-1&&!(qo(o,'"')||qo(o,"'"))?`'${o}'`:o).join(",")},oP=(e,n)=>{const o=Ey(e,n);e.formatter.toggle("fontname",{value:nP(o)}),e.nodeChanged()},JY=e=>_y(e,n=>ck(e.getBody(),n.dom)).getOr(""),sP=(e,n)=>{e.formatter.toggle("fontsize",{value:Ey(e,n)}),e.nodeChanged()},QY=e=>_y(e,n=>lk(e.getBody(),n.dom)).getOr(""),eX=e=>_y(e,n=>{const o=Ct.fromDom(e.getBody()),i=ma(n,p=>tc(p,"line-height"),B(Ws,o)),c=()=>{const p=parseFloat(Va(n,"line-height")),h=parseFloat(Va(n,"font-size"));return String(p/h)};return i.getOrThunk(c)}).getOr(""),tX=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},rP=e=>{const n=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,i,c)=>{n(o,{value:c})},BackColor:(o,i,c)=>{n("hilitecolor",{value:c})},FontName:(o,i,c)=>{oP(e,c)},FontSize:(o,i,c)=>{sP(e,c)},LineHeight:(o,i,c)=>{tX(e,c)},Lang:(o,i,c)=>{var p;n(o,{value:c.code,customValue:(p=c.customCode)!==null&&p!==void 0?p:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,i,c)=>{n(lt(c)?c:"p")},mceToggleFormat:(o,i,c)=>{n(c)}})},nX=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>JY(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>QY(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>eX(e))},aP=e=>{rP(e),nX(e)},wy=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},oX=e=>{e.editorCommands.addCommands({Indent:()=>{qK(e)},Outdent:()=>{QR(e)}}),e.editorCommands.addCommands({Outdent:()=>y9(e),Indent:()=>qR(e)},"state")},iP=e=>{const n=(o,i,c)=>{if(e.mode.isReadOnly())return;const p=lt(c)?{href:c}:c,h=e.dom.getParent(e.selection.getNode(),"a");qn(p)&&lt(p.href)&&(p.href=p.href.replace(/ /g,"%20"),(!h||!p.href)&&e.formatter.remove("link"),p.href&&e.formatter.apply("link",p,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},sX=(e,n,o,i)=>{const c=e.dom,p=_=>c.isBlock(_)&&_.parentElement===o,h=p(n)?n:c.getParent(i,p,o);return w.from(h).map(Ct.fromDom)},dk=(e,n)=>{if(e.mode.isReadOnly())return;const o=e.dom,i=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),p=n?i.startContainer:i.endContainer,h=N4(o,p);if(!h||!h.isContentEditable)return;const _=n?Ja:yd,S=Mr(e);sX(e,c,h,p).each(z=>{const oe=MI(e,p,z.dom,h,!1,S);_(z,Ct.fromDom(oe)),e.selection.setCursorLocation(oe,0),e.dispatch("NewBlock",{newBlock:oe}),C6(e,"insertParagraph")})},uk=e=>dk(e,!0),rX=e=>dk(e,!1),aX=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{uk(e)},InsertNewBlockAfter:()=>{rX(e)}})},lP=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Q9(pT,e)},mceInsertNewLine:(n,o,i)=>{GI(e,i)},InsertLineBreak:(n,o,i)=>{Q9(s1,e)}})},iX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),p=>Vo(p)&&c++===i?(e.selection.select(p),!1):!0,e.getBody())},mceSelectNode:(n,o,i)=>{e.selection.select(i)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ni);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},lX=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const p=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(p)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,i)=>{tA(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},cX=e=>{jF(e),ZF(e),wy(e),iX(e),YF(e),iP(e),oX(e),aX(e),lP(e),aP(e),lX(e)},dX=["toggleview"],cP=e=>M(dX,e.toLowerCase());class fk{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,i,c){const p=this.editor,h=n.toLowerCase(),_=c==null?void 0:c.skip_focus;if(p.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!_?p.focus():XP(p)),p.dispatch("BeforeExecCommand",{command:n,ui:o,value:i}).isDefaultPrevented()))return!1;const z=this.commands.exec[h];return b(z)?(z(h,o,i,c),p.dispatch("ExecCommand",{command:n,ui:o,value:i,args:c}),!0):!1}queryCommandState(n){if(!cP(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),i=this.commands.state[o];return b(i)?i(o):!1}queryCommandValue(n){if(!cP(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),i=this.commands.value[o];return b(i)?i(o):""}addCommands(n,o="exec"){const i=this.commands;Zt(n,(c,p)=>{R(p.toLowerCase().split(","),h=>{i[o][h]=c})})}addCommand(n,o,i){const c=n.toLowerCase();this.commands.exec[c]=(p,h,_,S)=>o.call(i??this.editor,h,_,S)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,i){this.commands.state[n.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(n,o,i){this.commands.value[n.toLowerCase()]=()=>o.call(i??this.editor)}}const dP=Kn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class pk{static isNative(n){return!!dP[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||H}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const i=n.toLowerCase(),c=am(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const p=this.bindings[i];if(p)for(let h=0,_=p.length;h<_;h++){const S=p[h];if(!S.removed){if(S.once&&this.off(i,S.func),c.isImmediatePropagationStopped())return c;if(S.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,i,c){if(o===!1&&(o=H),o){const p={func:o,removed:!1};c&&Kn.extend(p,c);const h=n.toLowerCase().split(" ");let _=h.length;for(;_--;){const S=h[_];let z=this.bindings[S];z||(z=[],this.toggleEvent(S,!0)),i?z=[p,...z]:z=[...z,p],this.bindings[S]=z}}return this}off(n,o){if(n){const i=n.toLowerCase().split(" ");let c=i.length;for(;c--;){const p=i[c];let h=this.bindings[p];if(!p)return Zt(this.bindings,(_,S)=>{this.toggleEvent(S,!1),delete this.bindings[S]}),this;if(h){if(!o)h.length=0;else{const _=J(h,S=>S.func===o);h=_.fail,this.bindings[p]=h,R(_.pass,S=>{S.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}}else Zt(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,i){return this.on(n,o,i,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const B6=e=>(e._eventDispatcher||(e._eventDispatcher=new pk({scope:e,toggleEvent:(n,o)=>{pk.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),gk={fire(e,n,o){return IE("fire"),this.dispatch(e,n,o)},dispatch(e,n,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return am(e.toLowerCase(),n??{},i);const c=B6(i).dispatch(e,n);if(o!==!1&&i.parent){let p=i.parent();for(;p&&!c.isPropagationStopped();)p.dispatch(e,c,!1),p=p.parent?p.parent():void 0}return c},on(e,n,o){return B6(this).on(e,n,o)},off(e,n){return B6(this).off(e,n)},once(e,n){return B6(this).once(e,n)},hasEventListeners(e){return B6(this).has(e)}},Sy=Ar.DOM;let t;const r=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Cb(e);return o?(e.eventRoot||(e.eventRoot=Sy.select(o)[0]),e.eventRoot):e.getBody()},l=e=>!e.hidden&&!Cg(e),d=(e,n,o)=>{l(e)?e.dispatch(n,o):Cg(e)&&kN(e,o)},g=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=r(e,n);if(Cb(e)){if(t||(t={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||t&&(Zt(t,(c,p)=>{e.dom.unbind(r(e,p))}),t=null)})),t[n])return;const i=c=>{const p=c.target,h=e.editorManager.get();let _=h.length;for(;_--;){const S=h[_].getBody();(S===p||Sy.isChildOf(p,S))&&d(h[_],n,c)}};t[n]=i,Sy.bind(o,n,i)}else{const i=c=>{d(e,n,c)};Sy.bind(o,n,i),e.delegates[n]=i}},v={...gk,bindPendingEventDelegates(){const e=this;Kn.each(e._pendingNativeEvents,n=>{g(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?g(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(r(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Zt(e.delegates,(i,c)=>{e.dom.unbind(r(e,c),c,i)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},y=e=>lt(e)?{value:e.split(/[ ,]/),valid:!0}:ge(e,lt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},D=e=>{const n=(()=>{switch(e){case"array":return _o;case"boolean":return eo;case"function":return b;case"number":return $;case"object":return qn;case"string":return lt;case"string[]":return y;case"object[]":return o=>ge(o,qn);case"regexp":return o=>Yt(o,RegExp);default:return ee}})();return o=>Se(o,n,`The value must be a ${e}.`)},U=e=>lt(e.processor),X=(e,n)=>{const o=io(n.message)?"":`. ${n.message}`;return e+o},ce=e=>e.valid,Se=(e,n,o="")=>{const i=n(e);return eo(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},He=(e,n,o)=>{if(!ks(n)){const i=Se(n,o);if(ce(i))return i.value;console.error(X(`Invalid default value passed for the "${e}" option`,i))}},Qe=(e,n,o=n)=>{const i={},c={},p=($e,dt,at)=>{const rt=Se(dt,at);return ce(rt)?(c[$e]=rt.value,!0):(console.warn(X(`Invalid value passed for the ${$e} option`,rt)),!1)},h=($e,dt)=>{const at=U(dt)?D(dt.processor):dt.processor,rt=He($e,dt.default,at);i[$e]={...dt,default:rt,processor:at},Mn(c,$e).orThunk(()=>Mn(n,$e)).each(Ft=>p($e,Ft,at))},_=$e=>vn(i,$e);return{register:h,isRegistered:_,get:$e=>Mn(c,$e).orThunk(()=>Mn(i,$e).map(dt=>dt.default)).getOrUndefined(),set:($e,dt)=>{if(_($e)){const at=i[$e];return at.immutable?(console.error(`"${$e}" is an immutable option and cannot be updated`),!1):p($e,dt,at.processor)}else return console.warn(`"${$e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:$e=>{const dt=_($e);return dt&&delete c[$e],dt},isSet:$e=>vn(c,$e),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,($e,dt)=>eo(dt)||$(dt)||lt(dt)||ht(dt)||_o(dt)||fs(dt)?dt:Object.prototype.toString.call(dt))))}catch($e){console.error($e)}}}},Je=(e,n)=>{e.dom.contentEditable="true"},vt=(e,n)=>{const o=Ct.fromDom(e.getBody());n?(e.readonly=!0,e.hasEditableRoot()&&Je(o),_w(e)):(e.readonly=!1,s4(e))},Lt=e=>e.readonly,_t=e=>{const n=e.undoManager.add();s(n)&&(e.undoManager.undo(),e.undoManager.reset())},$t=e=>W(e,n=>n.type==="characterData"||n.type==="childList"),Vt=e=>{const n=i=>{Lt(e)&&$t(i)&&_t(e)},o=new MutationObserver(n);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",i=>{Lt(e)&&i.preventDefault()}),e.on("BeforeExecCommand",i=>{(i.command==="Undo"||i.command==="Redo")&&Lt(e)&&i.preventDefault()}),e.on("compositionstart",()=>{Lt(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(Lt(e)){const i=o.takeRecords();n(i)}o.disconnect()})},an=["design","readonly"],fn=(e,n,o,i)=>{const c=o[n.get()],p=o[i];try{p.activate()}catch(h){console.error(`problem while activating editor mode ${i}:`,h);return}c.deactivate(),c.editorReadOnly!==p.editorReadOnly&&vt(e,p.editorReadOnly),n.set(i),B8(e,i)},uo=(e,n,o,i)=>{if(!(i===o.get()||e.initialized&&Cg(e))){if(!vn(n,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?fn(e,o,n,i):e.on("init",()=>fn(e,o,n,i))}},Fn=(e,n,o)=>{if(M(an,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${n}:`,i)}}}}},$n=e=>{const n=zn("design"),o=zn({design:{activate:a,deactivate:a,editorReadOnly:!1},readonly:{activate:a,deactivate:a,editorReadOnly:!0}});return Vt(e),fV(e),{isReadOnly:()=>Lt(e),set:i=>uo(e,o.get(),n,i),get:()=>n.get(),register:(i,c)=>{o.set(Fn(o.get(),i,c))}}},Nn=Kn.each,Zo=Kn.explode,Po={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Zs=Kn.makeMap("alt,ctrl,shift,meta,access"),rs=e=>e in Zs,Os=e=>{const n={},o=fr.os.isMacOS()||fr.os.isiOS();Nn(Zo(e.toLowerCase(),"+"),p=>{rs(p)?n[p]=!0:/^[0-9]{2,}$/.test(p)?n.keyCode=parseInt(p,10):(n.charCode=p.charCodeAt(0),n.keyCode=Po[p]||p.toUpperCase().charCodeAt(0))});const i=[n.keyCode];let c;for(c in Zs)n[c]?i.push(c):n[c]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class Io{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(Nn(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,i,c){const p=this,h=p.normalizeCommandFunc(i);return Nn(Zo(Kn.trim(n)),_=>{const S=p.createShortcut(_,o,h,c);p.shortcuts[S.id]=S}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,i=n;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Kn.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(n,o,i,c){const p=Kn.map(Zo(n,">"),Os);return p[p.length-1]=Kn.extend(p[p.length-1],{func:i,scope:c||this.editor}),Kn.extend(p[0],{desc:this.editor.translate(o),subpatterns:p.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Ln=()=>{const e=bi();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},oo=Ar.DOM,ls=Kn.extend,Ls=Kn.each;class $o{constructor(n,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,ls(this,v);const c=this;this.id=n,this.editorUid=pe(),this.hidden=!1;const p=qY(i.defaultOptions,o);this.options=Qe(c,p,o),g3(c),this.userLookup=IF(this);const h=this.options.get;h("deprecation_warnings")&&KL(o,p);const _=h("suffix");_&&(i.suffix=_),this.suffix=i.suffix;const S=h("base_url");S&&i._setBaseUrl(S),this.baseUri=i.baseURI;const z=vb(c);z&&(Us.ScriptLoader._setReferrerPolicy(z),Ar.DOM.styleSheetLoader._setReferrerPolicy(z)),Us.ScriptLoader._setCrossOrigin($e=>W8(c)($e,"script")),Ar.DOM.styleSheetLoader._setCrossOrigin($e=>W8(c)($e,"stylesheet"));const oe=Eb(c);s(oe)&&Ar.DOM.styleSheetLoader._setContentCssCors(oe),Zi.languageLoad=h("language_load"),Zi.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new Ud(Cm(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Kp(c),this.hasVisual=wb(c),this.shortcuts=new Io(this),this.editorCommands=new fk(this),cX(this);const ve=h("cache_suffix");ve&&(fr.cacheSuffix=ve.replace(/^[\?\&]+/,"")),this.ui={registry:Ln(),styleSheetLoader:void 0,show:a,hide:a,setEnabled:a,isEnabled:ee},this.mode=$n(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),i.dispatch("SetupEditor",{editor:this});const Te=x0(c);b(Te)&&Te.call(c,c)}render(){NF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Xf(this)}translate(n){return Yc.translate(n)}getParam(n,o,i){const c=this.options;return c.isRegistered(n)||(s(i)?c.register(n,{processor:i,default:o}):c.register(n,{processor:ee,default:o})),!c.isSet(n)&&!ks(o)?o:c.get(n)}hasPlugin(n,o){return M(F1(this),n)?o?H0.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,i){this.editorCommands.addCommand(n,o,i)}addQueryStateHandler(n,o,i){this.editorCommands.addQueryStateHandler(n,o,i)}addQueryValueHandler(n,o,i){this.editorCommands.addQueryValueHandler(n,o,i)}addShortcut(n,o,i,c){this.shortcuts.add(n,o,i,c)}execCommand(n,o,i,c){return this.editorCommands.execCommand(n,o,i,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(oo.show(n.getContainer()),oo.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(oo.hide(n.getContainer()),oo.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,i=o.getElement();if(!o.removed&&i){const c={...n,load:!0},p=Af(i)?i.value:i.innerHTML;o.setContent(p,c),c.no_events||o.dispatch("LoadContent",{...c,element:i})}}save(n={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...n,save:!0,element:i};let p=o.getContent(c);const h={...c,content:p};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),p=h.content,Af(i))i.value=p;else{(n.is_removing||!o.inline)&&(i.innerHTML=p);const _=oo.getParent(o.id,"form");_&&Ls(_.elements,S=>S.name===o.id?(S.value=p,!1):!0)}return h.element=c.element=i=null,h.set_dirty!==!1&&o.setDirty(!1),p}setContent(n,o){jv(this,n,o)}getContent(n){return XU(this,n)}insertContent(n,o){o&&(n=ls({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?jv(this,this.startContent,{initial:!0,format:"raw"}):jv(this,n,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||oo.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=oo.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const i=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(n,o,i){const c=this,p=c.options.get,h=Sb(c);if(b(h))return h.call(c,n,i,!0,o);if(!p("convert_urls")||i==="link"||qn(i)&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const _=new Ud(n);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?n:p("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,p("remove_script_host")),n)}addVisual(n){VF(this,n)}setEditableRoot(n){zY(this,n)}hasEditableRoot(){return BF(this)}remove(){uw(this)}destroy(n){t4(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const _s=Ar.DOM,Cr=Kn.each;let lr=!1,Yi,cr=[];const Ll=e=>{const n=e.type;Cr(Yd.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},Ai=e=>{if(e!==lr){const n=Ar.DOM;e?(n.bind(window,"resize",Ll),n.bind(window,"scroll",Ll)):(n.unbind(window,"resize",Ll),n.unbind(window,"scroll",Ll)),lr=e}},dc=e=>{const n=cr;return cr=V(cr,o=>e!==o),Yd.activeEditor===e&&(Yd.activeEditor=cr.length>0?cr[0]:null),Yd.focusedEditor===e&&(Yd.focusedEditor=null),n.length!==cr.length},Fc=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(dc(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},qd=document.compatMode!=="CSS1Compat",Yd={...gk,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:pe(),majorVersion:"8",minorVersion:"0.2",releaseDate:"2025-08-14",i18n:Yc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",i=Ud.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const p=document.getElementsByTagName("script");for(let h=0;h<p.length;h++){const _=p[h].src||"";if(_==="")continue;const S=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){S.indexOf(".min")!==-1&&(o=".min"),n=_.substring(0,_.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new Ud(i).toAbsolute(n),e.documentBaseURL=i,e.baseURI=new Ud(e.baseURL),e.suffix=o,hJ(e),R(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],p=>Object.defineProperty(e,p,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&Zt(i,(c,p)=>{Zi.PluginManager.urls[p]=c})},init(e){const n=this;let o;const i=Kn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(oe,ve)=>oe.inline&&ve.tagName.toLowerCase()in i,p=oe=>{let ve=oe.id;return ve||(ve=Mn(oe,"name").filter(Te=>!_s.get(Te)).getOrThunk(_s.uniqueId),oe.setAttribute("id",ve)),ve},h=oe=>{const ve=e[oe];if(ve)return ve.apply(n,[])},_=oe=>fr.browser.isIE()||fr.browser.isEdge()?(Ym("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):qd?(Ym("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):lt(oe.selector)?_s.select(oe.selector):s(oe.target)?[oe.target]:[];let S=oe=>{o=oe};const z=()=>{let oe=0;const ve=[];let Te;const $e=(dt,at,rt)=>{const Wt=new $o(dt,at,n);ve.push(Wt),Wt.on("init",()=>{++oe===Te.length&&S(ve)}),Wt.targetElm=Wt.targetElm||rt,Wt.render()};_s.unbind(window,"ready",z),h("onpageload"),Te=Ot(_(e)),Kn.each(Te,dt=>{Fc(n.get(dt.id))}),Te=Kn.grep(Te,dt=>!n.get(dt.id)),Te.length===0?S([]):Cr(Te,dt=>{c(e,dt)?Ym("Could not initialize inline editor on invalid inline target element",dt):$e(p(dt),e,dt)})};return _s.bind(window,"ready",z),new Promise(oe=>{o?oe(o):S=ve=>{oe(ve)}})},get(e){return arguments.length===0?cr.slice(0):lt(e)?we(cr,n=>n.id===e).getOr(null):$(e)&&cr[e]?cr[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&cr.push(e),Ai(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),Yi||(Yi=i=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",Yi))),e},createEditor(e,n){return this.add(new $o(e,n,this))},remove(e){const n=this;let o;if(!e){for(let i=cr.length-1;i>=0;i--)n.remove(cr[i]);return}if(lt(e)){Cr(_s.select(e),i=>{o=n.get(i.id),o&&n.remove(o)});return}return o=e,ht(n.get(o.id))?null:(dc(o)&&n.dispatch("RemoveEditor",{editor:o}),cr.length===0&&window.removeEventListener("beforeunload",Yi),o.remove(),Ai(cr.length>0),o)},execCommand(e,n,o){var i;const c=this,p=qn(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(p)){const h=o.options;new $o(p,h,c).render()}return!0}case"mceRemoveEditor":{const h=c.get(p);return h&&h.remove(),!0}case"mceToggleEditor":{const h=c.get(p);return h?(h.isHidden()?h.show():h.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Cr(cr,e=>{e.save()})},addI18n:(e,n)=>{Yc.add(e,n)},translate:e=>Yc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ud(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ud(this.baseURL)},_addLicenseKeyManager:e=>yw.add(e)};Yd.setup();const U4=(()=>{const e=hs(),n=p=>({items:p,types:Rt(p),getType:h=>Mn(p,h).getOrUndefined()}),o=p=>{e.set(p)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:i,clear:c}})(),cp=Math.min,dp=Math.max,V4=Math.round,b2=(e,n,o)=>{let i=n.x,c=n.y;const p=e.w,h=e.h,_=n.w,S=n.h,z=(o||"").split("");return z[0]==="b"&&(c+=S),z[1]==="r"&&(i+=_),z[0]==="c"&&(c+=V4(S/2)),z[1]==="c"&&(i+=V4(_/2)),z[3]==="b"&&(c-=h),z[4]==="r"&&(i-=p),z[3]==="c"&&(c-=V4(h/2)),z[4]==="c"&&(i-=V4(p/2)),W4(i,c,p,h)},Ty=(e,n,o,i)=>{for(let c=0;c<i.length;c++){const p=b2(e,n,i[c]);if(p.x>=o.x&&p.x+p.w<=o.w+o.x&&p.y>=o.y&&p.y+p.h<=o.h+o.y)return i[c]}return null},ky=(e,n,o)=>W4(e.x-n,e.y-o,e.w+n*2,e.h+o*2),uP=(e,n)=>{const o=dp(e.x,n.x),i=dp(e.y,n.y),c=cp(e.x+e.w,n.x+n.w),p=cp(e.y+e.h,n.y+n.h);return c-o<0||p-i<0?null:W4(o,i,c-o,p-i)},fP=(e,n,o)=>{let i=e.x,c=e.y,p=e.x+e.w,h=e.y+e.h;const _=n.x+n.w,S=n.y+n.h,z=dp(0,n.x-i),oe=dp(0,n.y-c),ve=dp(0,p-_),Te=dp(0,h-S);return i+=z,c+=oe,o&&(p+=z,h+=oe,i-=ve,c-=Te),p-=ve,h-=Te,W4(i,c,p-i,h-c)},W4=(e,n,o,i)=>({x:e,y:n,w:o,h:i}),F6={inflate:ky,relativePosition:b2,findBestRelativePosition:Ty,intersect:uP,clamp:fP,create:W4,fromClientRect:e=>W4(e.left,e.top,e.width,e.height)},K4=(e,n,o=1e3)=>{let i=!1,c=null;const p=z=>(...oe)=>{i||(i=!0,c!==null&&(window.clearTimeout(c),c=null),z.apply(null,oe))},h=p(e),_=p(n);return{start:(...z)=>{!i&&c===null&&(c=window.setTimeout(()=>_.apply(null,z),o))},resolve:h,reject:_}},gP=(()=>{const e={},n={},o={};return{load:(S,z)=>{const oe=`Script at URL "${z}" failed to load`,ve=`Script at URL "${z}" did not call \`tinymce.Resource.add('${S}', data)\` within 1 second`;if(e[S]!==void 0)return e[S];{const Te=new Promise(($e,dt)=>{const at=K4($e,dt);n[S]=at.resolve,Us.ScriptLoader.loadScript(z).then(()=>at.start(ve),()=>at.reject(oe))});return e[S]=Te,Te}},add:(S,z)=>{n[S]!==void 0&&(n[S](z),delete n[S]),e[S]=Promise.resolve(z),o[S]=z},has:S=>S in o,get:S=>o[S],unload:S=>{delete e[S],delete o[S]}}})(),mP=()=>(()=>{let e={},n=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{n.push(i),e[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete e[i]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let j4;try{const e="__storage_test__";j4=window.localStorage,j4.setItem(e,e),j4.removeItem(e)}catch{j4=mP()}var mk=j4;const hP={geom:{Rect:F6},util:{Delay:Au,Tools:Kn,VK:wo,URI:Ud,EventDispatcher:pk,Observable:gk,I18n:Yc,LocalStorage:mk,ImageUploader:Aw},dom:{EventUtils:T1,TreeWalker:ja,TextSeeker:Xu,DOMUtils:Ar,ScriptLoader:Us,RangeUtils:Z1,Serializer:Vx,StyleSheetLoader:S5,ControlSelection:nA,BookmarkManager:Bm,Selection:iw,Event:T1.Event},html:{Styles:Zh,Entities:Lp,Node:Al,Schema:oc,DomParser:Y3,Writer:EA,Serializer:O0},Env:fr,AddOnManager:Zi,Annotator:T0,Formatter:Ow,UndoManager:BN,EditorCommands:fk,WindowManager:qv,NotificationManager:Du,EditorObservable:v,Shortcuts:Io,Editor:$o,FocusManager:Xk,EditorManager:Yd,DOM:Ar.DOM,ScriptLoader:Us.ScriptLoader,PluginManager:H0,ThemeManager:vg,ModelManager:n4,IconManager:Gv,Resource:gP,FakeClipboard:U4,trim:Kn.trim,isArray:Kn.isArray,is:Kn.is,toArray:Kn.toArray,makeMap:Kn.makeMap,each:Kn.each,map:Kn.map,grep:Kn.grep,inArray:Kn.inArray,extend:Kn.extend,walk:Kn.walk,resolve:Kn.resolve,explode:Kn.explode,_addCacheSuffix:Kn._addCacheSuffix},$6=Kn.extend(Yd,hP),Ay=e=>{try{E.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})($6),Ay($6)})()})(Rte);var Tre=Rte.exports;const kre=Lte(Tre);tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary.tox-button--secondary--outline{background-color:#fff;border-color:#f0f0f0}.tox .tox-button--secondary.tox-button--secondary--outline:hover:not(:disabled){background-color:#f0f0f0;border-color:#e3e3e3}.tox .tox-button--secondary.tox-button--secondary--outline:active:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3}.tox .tox-button--secondary.tox-button--secondary--outline[disabled]{background-color:#fff;border-color:#f0f0f0;color:rgba(34,47,62,.5)}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0;width:34px}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits__toolbar{display:flex;align-content:center;align-self:stretch;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__toolbar--start{display:flex;align-items:start;flex:0;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__toolbar--end{display:flex;align-items:end;flex:0;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__title{color:#222f3e;font-size:20px;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;justify-content:flex-end;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px;position:sticky;top:0;background-color:#f0f0f0;margin:-4px -12px;z-index:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:0 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header{display:flex;flex:auto;flex-direction:row;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px;flex-direction:row}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--selected{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--selected:not(.tox-suggestededits__card--resolved){background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;z-index:1301;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:#cfefaf;-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:#cfefaf;box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:#cce2fc;-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:#cce2fc;box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:#f2a6a6;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:#f2a6a6;box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid #cfefaf;padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid #cfefaf;outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid #cce2fc;padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid #cce2fc;outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid #f2a6a6;padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid #f2a6a6;outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:#861313}div.tox-suggestededits__annotation--added__highlight>hr{border-color:#4f851a}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const E=Object.getPrototypeOf,I=(t,r,l)=>{var d;return l(t,r.prototype)?!0:((d=t.constructor)===null||d===void 0?void 0:d.name)===r.name},x=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&I(t,String,(l,d)=>d.isPrototypeOf(l))?"string":r},de=t=>r=>x(r)===t,Ae=t=>r=>typeof r===t,Ie=t=>r=>t===r,Ke=(t,r)=>Mt(t)&&I(t,r,(l,d)=>E(l)===d),ot=de("string"),Mt=de("object"),Oe=t=>Ke(t,Object),un=de("array"),On=Ie(null),xe=Ae("boolean"),Go=Ie(void 0),Co=t=>t==null,Eo=t=>!Co(t),jt=Ae("function"),Wo=Ae("number"),Yt=(t,r)=>{if(un(t)){for(let l=0,d=t.length;l<d;++l)if(!r(t[l]))return!1;return!0}return!1},lt=()=>{},qn=t=>()=>t(),fs=(t,r)=>(...l)=>t(r.apply(null,l)),_o=(t,r)=>l=>t(r(l)),ht=t=>()=>t,eo=t=>t,ks=(t,r)=>t===r;function Qo(t,...r){return(...l)=>{const d=r.concat(l);return t.apply(null,d)}}const s=t=>r=>!t(r),b=t=>()=>{throw new Error(t)},$=t=>t(),ge=ht(!1),a=ht(!0);class f{constructor(r,l){this.tag=r,this.value=l}static some(r){return new f(!0,r)}static none(){return f.singletonNone}fold(r,l){return this.tag?l(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?f.some(r(this.value)):f.none()}bind(r){return this.tag?r(this.value):f.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:f.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Eo(r)?f.some(r):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);const N=Array.prototype.slice,O=Array.prototype.indexOf,T=Array.prototype.push,L=(t,r)=>O.call(t,r),B=(t,r)=>{const l=L(t,r);return l===-1?f.none():f.some(l)},G=(t,r)=>L(t,r)>-1,P=(t,r)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];if(r(g,l))return!0}return!1},F=(t,r)=>{const l=[];for(let d=0;d<t;d++)l.push(r(d));return l},j=(t,r)=>{const l=[];for(let d=0;d<t.length;d+=r){const g=N.call(t,d,d+r);l.push(g)}return l},H=(t,r)=>{const l=t.length,d=new Array(l);for(let g=0;g<l;g++){const v=t[g];d[g]=r(v,g)}return d},ee=(t,r)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];r(g,l)}},w=(t,r)=>{for(let l=t.length-1;l>=0;l--){const d=t[l];r(d,l)}},he=(t,r)=>{const l=[],d=[];for(let g=0,v=t.length;g<v;g++){const y=t[g];(r(y,g)?l:d).push(y)}return{pass:l,fail:d}},be=(t,r)=>{const l=[];for(let d=0,g=t.length;d<g;d++){const v=t[d];r(v,d)&&l.push(v)}return l},se=(t,r,l)=>(w(t,(d,g)=>{l=r(l,d,g)}),l),re=(t,r,l)=>(ee(t,(d,g)=>{l=r(l,d,g)}),l),ie=(t,r,l)=>{for(let d=0,g=t.length;d<g;d++){const v=t[d];if(r(v,d))return f.some(v);if(l(v,d))break}return f.none()},M=(t,r)=>ie(t,r,ge),W=(t,r)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];if(r(g,l))return f.some(l)}return f.none()},K=t=>{const r=[];for(let l=0,d=t.length;l<d;++l){if(!un(t[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+t);T.apply(r,t[l])}return r},R=(t,r)=>K(H(t,r)),A=(t,r)=>{for(let l=0,d=t.length;l<d;++l){const g=t[l];if(r(g,l)!==!0)return!1}return!0},J=t=>{const r=N.call(t,0);return r.reverse(),r},V=(t,r)=>be(t,l=>!G(r,l)),q=(t,r)=>{const l={};for(let d=0,g=t.length;d<g;d++){const v=t[d];l[String(v)]=r(v,d)}return l},ae=t=>[t],Le=(t,r)=>{const l=N.call(t,0);return l.sort(r),l},Ee=(t,r)=>r>=0&&r<t.length?f.some(t[r]):f.none(),we=t=>Ee(t,0),Ne=t=>Ee(t,t.length-1),We=jt(Array.from)?Array.from:t=>N.call(t),ct=(t,r)=>{for(let l=0;l<t.length;l++){const d=r(t[l],l);if(d.isSome())return d}return f.none()},nt=Object.keys,st=Object.hasOwnProperty,Me=(t,r)=>{const l=nt(t);for(let d=0,g=l.length;d<g;d++){const v=l[d],y=t[v];r(y,v)}},tt=(t,r)=>ze(t,(l,d)=>({k:d,v:r(l,d)})),ze=(t,r)=>{const l={};return Me(t,(d,g)=>{const v=r(d,g);l[v.k]=v.v}),l},Ze=t=>(r,l)=>{t[l]=r},qe=(t,r,l,d)=>{Me(t,(g,v)=>{(r(g,v)?l:d)(g,v)})},Fe=(t,r)=>{const l={},d={};return qe(t,r,Ze(l),Ze(d)),{t:l,f:d}},Ye=(t,r)=>{const l={};return qe(t,r,Ze(l),lt),l},xt=(t,r)=>{const l=[];return Me(t,(d,g)=>{l.push(r(d,g))}),l},ft=(t,r)=>{const l=nt(t);for(let d=0,g=l.length;d<g;d++){const v=l[d],y=t[v];if(r(y,v,t))return f.some(y)}return f.none()},Ot=t=>xt(t,eo),Rt=(t,r)=>zt(t,r)?f.from(t[r]):f.none(),zt=(t,r)=>st.call(t,r),Zt=(t,r)=>zt(t,r)&&t[r]!==void 0&&t[r]!==null,Zn={generate:t=>{if(!un(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],l={};return ee(t,(d,g)=>{const v=nt(d);if(v.length!==1)throw new Error("one and only one name per case");const y=v[0],D=d[y];if(l[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!un(D))throw new Error("case arguments must be an array");r.push(y),l[y]=(...U)=>{const X=U.length;if(X!==D.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+D.length+" ("+D+"), got "+X);return{fold:(...Se)=>{if(Se.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+Se.length);return Se[g].apply(null,U)},match:Se=>{const He=nt(Se);if(r.length!==He.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+He.join(","));if(!A(r,Je=>G(He,Je)))throw new Error("Not all branches were specified when using match. Specified: "+He.join(", ")+`
Required: `+r.join(", "));return Se[y].apply(null,U)},log:Se=>{console.log(Se,{constructors:r,constructor:y,params:U})}}}}),l}},et=t=>{let r=t;return{get:()=>r,set:g=>{r=g}}},wt=t=>{let r=f.none(),l=[];const d=X=>wt(ce=>{g(Se=>{ce(X(Se))})}),g=X=>{y()?U(X):l.push(X)},v=X=>{y()||(r=f.some(X),D(l),l=[])},y=()=>r.isSome(),D=X=>{ee(X,U)},U=X=>{r.each(ce=>{setTimeout(()=>{X(ce)},0)})};return t(v),{get:g,map:d,isReady:y}},nn={nu:wt,pure:t=>wt(r=>{r(t)})},bn=t=>{setTimeout(()=>{throw t},0)},kn=t=>{const r=U=>{t().then(U,bn)};return{map:U=>kn(()=>t().then(U)),bind:U=>kn(()=>t().then(X=>U(X).toPromise())),anonBind:U=>kn(()=>t().then(()=>U.toPromise())),toLazy:()=>nn.nu(r),toCached:()=>{let U=null;return kn(()=>(U===null&&(U=t()),U))},toPromise:t,get:r}},Hn={nu:t=>kn(()=>new Promise(t)),pure:t=>kn(()=>Promise.resolve(t))},So=t=>{const r=v=>v(t),l=ht(t),d=()=>g,g={tag:!0,inner:t,fold:(v,y)=>y(t),isValue:a,isError:ge,map:v=>zn.value(v(t)),mapError:d,bind:r,exists:r,forall:r,getOr:l,or:d,getOrThunk:l,orThunk:d,getOrDie:l,each:v=>{v(t)},toOptional:()=>f.some(t)};return g},ro=t=>{const r=()=>l,l={tag:!1,inner:t,fold:(d,g)=>d(t),isValue:ge,isError:a,map:r,mapError:d=>zn.error(d(t)),bind:r,exists:ge,forall:a,getOr:eo,or:eo,getOrThunk:$,orThunk:$,getOrDie:b(String(t)),each:lt,toOptional:f.none};return l},zn={value:So,error:ro,fromOption:(t,r)=>t.fold(()=>ro(r),So)},cs=t=>({...t,toCached:()=>cs(t.toCached()),bindFuture:U=>cs(t.bind(X=>X.fold(ce=>Hn.pure(zn.error(ce)),ce=>U(ce)))),bindResult:U=>cs(t.map(X=>X.bind(U))),mapResult:U=>cs(t.map(X=>X.map(U))),mapError:U=>cs(t.map(X=>X.mapError(U))),foldResult:(U,X)=>t.map(ce=>ce.fold(U,X)),withTimeout:(U,X)=>cs(Hn.nu(ce=>{let Se=!1;const He=setTimeout(()=>{Se=!0,ce(zn.error(X()))},U);t.get(Qe=>{Se||(clearTimeout(He),ce(Qe))})}))}),ms=t=>cs(Hn.nu(t)),Et=t=>cs(Hn.pure(zn.value(t))),Ce={nu:ms,wrap:cs,pure:Et,value:Et,error:t=>cs(Hn.pure(zn.error(t))),fromResult:t=>cs(Hn.pure(t)),fromFuture:t=>cs(t.map(zn.value)),fromPromise:t=>ms(r=>{t.then(l=>{r(zn.value(l))},l=>{r(zn.error(l))})})},Ue=typeof window<"u"?window:Function("return this;")(),Be=(t,r,l,d)=>{const g=t+r;return g>d?l:g<l?d:g},te=(t,r,l)=>Math.min(Math.max(t,r),l),pe=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let me=0;const _e=t=>{const l=new Date().getTime(),d=Math.floor(pe()*1e9);return me++,t+"_"+d+me+String(l)},je=(t,r)=>r,pt=(t,r)=>Oe(t)&&Oe(r)?kt(t,r):r,mt=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const l={};for(let d=0;d<r.length;d++){const g=r[d];for(const v in g)zt(g,v)&&(l[v]=t(l[v],g[v]))}return l},kt=mt(pt),Ut=mt(je),At=(t,r,l=ks)=>t.exists(d=>l(d,r)),Tt=(t,r,l=ks)=>Jt(t,r,l).getOr(t.isNone()&&r.isNone()),Bt=t=>{const r=[],l=d=>{r.push(d)};for(let d=0;d<t.length;d++)t[d].each(l);return r},Xt=t=>{const r=[];for(let l=0;l<t.length;l++){const d=t[l];if(d.isSome())r.push(d.getOrDie());else return f.none()}return f.some(r)},Jt=(t,r,l)=>t.isSome()&&r.isSome()?f.some(l(t.getOrDie(),r.getOrDie())):f.none(),on=(t,r,l,d)=>t.isSome()&&r.isSome()&&l.isSome()?f.some(d(t.getOrDie(),r.getOrDie(),l.getOrDie())):f.none(),_n=(t,r)=>t!=null?f.some(r(t)):f.none(),Dn=(t,r)=>t?f.some(r):f.none(),to=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),hs=(t,r)=>{let l=r??Ue;for(let d=0;d<t.length&&l!==void 0&&l!==null;++d)l=l[t[d]];return l},Bs=(t,r)=>{const l=t.split(".");return hs(l,r)};Zn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ps=t=>{const r=[],l=[];return ee(t,d=>{d.fold(g=>{r.push(g)},g=>{l.push(g)})}),{errors:r,values:l}},Is=t=>{const r=et(f.none()),l=()=>r.get().each(t);return{clear:()=>{l(),r.set(f.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:D=>{l(),r.set(f.some(D))}}},bs=()=>Is(t=>t.destroy()),qo=()=>Is(t=>t.unbind()),Do=()=>{const t=Is(lt);return{...t,on:l=>t.get().each(l)}},zs=(t,r)=>t+r,As=(t,r)=>t.substring(r),Vs=(t,r,l)=>r===""||t.length>=r.length&&t.substr(l,l+r.length)===r,go=(t,r)=>po(t,r)?As(t,r.length):t,bo=(t,r)=>Tr(t,r)?t:zs(t,r),io=(t,r,l=0,d)=>{const g=t.indexOf(r,l);return g!==-1?Go(d)?!0:g+r.length<=d:!1},po=(t,r)=>Vs(t,r,0),Tr=(t,r)=>Vs(t,r,t.length-r.length),Qn=(t=>r=>r.replace(t,""))(/^\s+|\s+$/g),Ur=t=>t.length>0,wa=t=>!Ur(t),Qs=t=>{const r=parseFloat(t);return isNaN(r)?f.none():f.some(r)},ia=(t,r)=>{let l=null,d=null;return{cancel:()=>{On(l)||(clearTimeout(l),l=null,d=null)},throttle:(...y)=>{d=y,On(l)&&(l=setTimeout(()=>{const D=d;l=null,d=null,t.apply(null,D)},r))}}},Re=(t,r)=>{let l=null;return{cancel:()=>{On(l)||(clearTimeout(l),l=null)},throttle:(...v)=>{On(l)&&(l=setTimeout(()=>{l=null,t.apply(null,v)},r))}}},gt=(t,r)=>{let l=null;const d=()=>{On(l)||(clearTimeout(l),l=null)};return{cancel:d,throttle:(...v)=>{d(),l=setTimeout(()=>{l=null,t.apply(null,v)},r)}}},St=t=>{let r=!1,l;return(...d)=>(r||(r=!0,l=t.apply(null,d)),l)},Pt="\uFEFF",Qt="",Vn=(t,r)=>{const d=(r||document).createElement("div");if(d.innerHTML=t,!d.hasChildNodes()||d.childNodes.length>1){const g="HTML does not have a single root node";throw console.error(g,t),new Error(g)}return mo(d.childNodes[0])},jn=(t,r)=>{const d=(r||document).createElement(t);return mo(d)},vo=(t,r)=>{const d=(r||document).createTextNode(t);return mo(d)},mo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},cn={fromHtml:Vn,fromTag:jn,fromText:vo,fromDom:mo,fromPoint:(t,r,l)=>f.from(t.dom.elementFromPoint(r,l)).map(mo)},ds=(t,r)=>{r.fold(l=>{t.setStartBefore(l.dom)},(l,d)=>{t.setStart(l.dom,d)},l=>{t.setStartAfter(l.dom)})},us=(t,r)=>{r.fold(l=>{t.setEndBefore(l.dom)},(l,d)=>{t.setEnd(l.dom,d)},l=>{t.setEndAfter(l.dom)})},Ve=(t,r,l)=>{const d=t.document.createRange();return ds(d,r),us(d,l),d},bt=(t,r,l,d,g)=>{const v=t.document.createRange();return v.setStart(r.dom,l),v.setEnd(d.dom,g),v},Ht=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),ln=t=>{const r=t.getClientRects(),l=r.length>0?r[0]:t.getBoundingClientRect();return l.width>0||l.height>0?f.some(l).map(Ht):f.none()},An=t=>{const r=t.getBoundingClientRect();return r.width>0||r.height>0?f.some(r).map(Ht):f.none()},Wn=Zn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yo=(t,r,l)=>r(cn.fromDom(l.startContainer),l.startOffset,cn.fromDom(l.endContainer),l.endOffset),Oo=(t,r)=>r.match({domRange:l=>({ltr:ht(l),rtl:f.none}),relative:(l,d)=>({ltr:St(()=>Ve(t,l,d)),rtl:St(()=>f.some(Ve(t,d,l)))}),exact:(l,d,g,v)=>({ltr:St(()=>bt(t,l,d,g,v)),rtl:St(()=>f.some(bt(t,g,v,l,d)))})}),To=(t,r)=>{const l=r.ltr();return l.collapsed?r.rtl().filter(g=>g.collapsed===!1).map(g=>Wn.rtl(cn.fromDom(g.endContainer),g.endOffset,cn.fromDom(g.startContainer),g.startOffset)).getOrThunk(()=>Yo(t,Wn.ltr,l)):Yo(t,Wn.ltr,l)},ke=(t,r)=>{const l=Oo(t,r);return To(t,l)},Ge=(t,r)=>ke(t,r).match({ltr:(d,g,v,y)=>{const D=t.document.createRange();return D.setStart(d.dom,g),D.setEnd(v.dom,y),D},rtl:(d,g,v,y)=>{const D=t.document.createRange();return D.setStart(v.dom,y),D.setEnd(d.dom,g),D}});Wn.ltr,Wn.rtl;const yt=9,Kt=11,Cn=1,jo=3,gs=(t,r)=>{const l=t.dom;if(l.nodeType!==Cn)return!1;{const d=l;if(d.matches!==void 0)return d.matches(r);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(r);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(r);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},ir=t=>t.nodeType!==Cn&&t.nodeType!==yt&&t.nodeType!==Kt||t.childElementCount===0,Or=(t,r)=>{const l=r===void 0?document:r.dom;return ir(l)?[]:H(l.querySelectorAll(t),cn.fromDom)},Gr=(t,r)=>{const l=r===void 0?document:r.dom;return ir(l)?f.none():f.from(l.querySelector(t)).map(cn.fromDom)},Rs=(t,r)=>t.dom===r.dom,Sa=(t,r)=>{const l=t.dom,d=r.dom;return l===d?!1:l.contains(d)},Hi=(t,r,l,d)=>{const g=t.isiOS()&&/ipad/i.test(l)===!0,v=t.isiOS()&&!g,y=t.isiOS()||t.isAndroid(),D=y||d("(pointer:coarse)"),U=g||!v&&y&&d("(min-device-width:768px)"),X=v||y&&!U,ce=r.isSafari()&&t.isiOS()&&/safari/i.test(l)===!1,Se=!X&&!U&&!ce;return{isiPad:ht(g),isiPhone:ht(v),isTablet:ht(U),isPhone:ht(X),isTouch:ht(D),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ht(ce),isDesktop:ht(Se)}},ta=(t,r)=>{for(let l=0;l<t.length;l++){const d=t[l];if(d.test(r))return d}},Ta=(t,r)=>{const l=ta(t,r);if(!l)return{major:0,minor:0};const d=g=>Number(r.replace(l,"$"+g));return Qi(d(1),d(2))},xi=(t,r)=>{const l=String(r).toLowerCase();return t.length===0?la():Ta(t,l)},la=()=>Qi(0,0),Qi=(t,r)=>({major:t,minor:r}),zi={nu:Qi,detect:xi,unknown:la},ml=(t,r)=>ct(r.brands,l=>{const d=l.brand.toLowerCase();return M(t,g=>{var v;return d===((v=g.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(g=>({current:g.name,version:zi.nu(parseInt(l.version,10),0)}))}),eu=(t,r)=>{const l=String(r).toLowerCase();return M(t,d=>d.search(l))},l1=(t,r)=>eu(t,r).map(l=>{const d=zi.detect(l.versionRegexes,r);return{current:l.name,version:d}}),Rg=(t,r)=>eu(t,r).map(l=>{const d=zi.detect(l.versionRegexes,r);return{current:l.name,version:d}}),md=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ui=t=>r=>io(r,t),gh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>io(t,"edge/")&&io(t,"chrome")&&io(t,"safari")&&io(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,md],search:t=>io(t,"chrome")&&!io(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>io(t,"msie")||io(t,"trident")},{name:"Opera",versionRegexes:[md,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ui("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ui("firefox")},{name:"Safari",versionRegexes:[md,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(io(t,"safari")||io(t,"mobile/"))&&io(t,"applewebkit")}],C2=[{name:"Windows",search:Ui("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>io(t,"iphone")||io(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ui("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ui("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ui("linux"),versionRegexes:[]},{name:"Solaris",search:Ui("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ui("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ui("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],e5={browsers:ht(gh),oses:ht(C2)},Yl="Edge",_2="Chromium",E2="IE",$c="Opera",t5="Firefox",n5="Safari",o5=()=>mh({current:void 0,version:zi.unknown()}),mh=t=>{const r=t.current,l=t.version,d=g=>()=>r===g;return{current:r,version:l,isEdge:d(Yl),isChromium:d(_2),isIE:d(E2),isOpera:d($c),isFirefox:d(t5),isSafari:d(n5)}},hh={unknown:o5,nu:mh},J6="Windows",bh="iOS",hd="Android",bd="Linux",vd="macOS",s5="Solaris",fr="FreeBSD",w2="ChromeOS",S2=()=>vh({current:void 0,version:zi.unknown()}),vh=t=>{const r=t.current,l=t.version,d=g=>()=>r===g;return{current:r,version:l,isWindows:d(J6),isiOS:d(bh),isAndroid:d(hd),isMacOS:d(vd),isLinux:d(bd),isSolaris:d(s5),isFreeBSD:d(fr),isChromeOS:d(w2)}},ga={unknown:S2,nu:vh},xh={detect:(t,r,l)=>{const d=e5.browsers(),g=e5.oses(),v=r.bind(U=>ml(d,U)).orThunk(()=>l1(d,t)).fold(hh.unknown,hh.nu),y=Rg(g,t).fold(ga.unknown,ga.nu),D=Hi(y,v,t,l);return{browser:v,os:y,deviceType:D}}},r5=t=>window.matchMedia(t).matches;let e8=St(()=>xh.detect(window.navigator.userAgent,f.from(window.navigator.userAgentData),r5));const ca=()=>e8(),Cf=(t,r)=>Bs(t,r),Kn=(t,r)=>{const l=Cf(t,r);if(l==null)throw new Error(t+" not available on this browser");return l},a5=Object.getPrototypeOf,Nl=t=>Kn("HTMLElement",t),mp=t=>{const r=Bs("ownerDocument.defaultView",t);return Mt(t)&&(Nl(r).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(a5(t).constructor.name))},el=t=>t.dom.nodeName.toLowerCase(),i5=t=>t.dom.nodeType,Ct=t=>r=>i5(r)===t,Bu=t=>hl(t)&&mp(t.dom),hl=Ct(Cn),tu=Ct(jo),Mg=Ct(yt),Fu=Ct(Kt),bl=t=>r=>hl(r)&&el(r)===t,Rl=t=>cn.fromDom(t.dom.ownerDocument),yh=t=>Mg(t)?t:Rl(t),Ch=t=>cn.fromDom(yh(t).dom.documentElement),Pu=t=>cn.fromDom(yh(t).dom.defaultView),Xl=t=>f.from(t.dom.parentNode).map(cn.fromDom),_h=t=>Xl(t),Jl=t=>f.from(t.dom.parentElement).map(cn.fromDom),T2=(t,r)=>{const l=jt(r)?r:ge;let d=t.dom;const g=[];for(;d.parentNode!==null&&d.parentNode!==void 0;){const v=d.parentNode,y=cn.fromDom(v);if(g.push(y),l(y)===!0)break;d=v}return g},Ml=t=>f.from(t.dom.offsetParent).map(cn.fromDom),Eh=t=>f.from(t.dom.previousSibling).map(cn.fromDom),k2=t=>f.from(t.dom.nextSibling).map(cn.fromDom),Hc=t=>H(t.dom.childNodes,cn.fromDom),Ws=(t,r)=>{const l=t.dom.childNodes;return f.from(l[r]).map(cn.fromDom)},vl=t=>Ws(t,0),_f=(t,r)=>({element:t,offset:r}),hp=(t,r)=>{const l=Hc(t);return l.length>0&&r<l.length?_f(l[r],0):_f(t,r)},Fs=(t,r,l,d)=>{const v=Rl(t).dom.createRange();return v.setStart(t.dom,r),v.setEnd(l.dom,d),v},Ig=(t,r,l,d)=>{const g=Fs(t,r,l,d),v=Rs(t,l)&&r===d;return g.collapsed&&!v},zc=t=>Fu(t)&&Eo(t.dom.host),Ra=t=>cn.fromDom(t.dom.getRootNode()),xl=t=>zc(t)?t:cn.fromDom(yh(t).dom.body),da=t=>Ha(t).isSome(),Ha=t=>{const r=Ra(t);return zc(r)?f.some(r):f.none()},ua=t=>cn.fromDom(t.dom.host),l5=t=>{if(Eo(t.target)){const r=cn.fromDom(t.target);if(hl(r)&&nu(r)&&t.composed&&t.composedPath){const l=t.composedPath();if(l)return we(l)}}return f.from(t.target)},nu=t=>Eo(t.dom.shadowRoot),Vi=(t,r,l,d,g,v,y)=>({target:t,x:r,y:l,stop:d,prevent:g,kill:v,raw:y}),yi=t=>{const r=cn.fromDom(l5(t).getOr(t.target)),l=()=>t.stopPropagation(),d=()=>t.preventDefault(),g=fs(d,l);return Vi(r,t.clientX,t.clientY,l,d,g,t)},Bg=(t,r)=>l=>{t(l)&&r(yi(l))},fa=(t,r,l,d,g)=>{const v=Bg(l,d);return t.dom.addEventListener(r,v,g),{unbind:Qo(Ql,t,r,v,g)}},si=(t,r,l,d)=>fa(t,r,l,d,!1),$u=(t,r,l,d)=>fa(t,r,l,d,!0),Ql=(t,r,l,d)=>{t.dom.removeEventListener(r,l,d)},yl=a,Js=(t,r,l)=>si(t,r,yl,l),xd=(t,r,l)=>$u(t,r,yl,l),Uc=yi,ri=()=>cn.fromDom(document),hr=(t,r=!1)=>t.dom.focus({preventScroll:r}),fc=t=>t.dom.blur(),pc=t=>{const r=Ra(t).dom;return t.dom===r.activeElement},Xa=(t=ri())=>f.from(t.dom.activeElement).map(cn.fromDom),za=t=>Xa(Ra(t)).filter(r=>t.dom.contains(r.dom)),c1=(t,r)=>{Xl(t).each(d=>{d.dom.insertBefore(r.dom,t.dom)})},Fg=(t,r)=>{k2(t).fold(()=>{Xl(t).each(g=>{tl(g,r)})},d=>{c1(d,r)})},ou=(t,r)=>{vl(t).fold(()=>{tl(t,r)},d=>{t.dom.insertBefore(r.dom,d.dom)})},tl=(t,r)=>{t.dom.appendChild(r.dom)},c5=(t,r,l)=>{Ws(t,l).fold(()=>{tl(t,r)},d=>{c1(d,r)})},A2=(t,r)=>{ee(r,l=>{tl(t,l)})},Ef=(t,r,l)=>{if(ot(l)||xe(l)||Wo(l))t.setAttribute(r,l+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",l,":: Element ",t),new Error("Attribute value was not simple")},ss=(t,r,l)=>{Ef(t.dom,r,l)},O2=(t,r)=>{const l=t.dom;Me(r,(d,g)=>{Ef(l,g,d)})},Ua=(t,r)=>{const l=t.dom.getAttribute(r);return l===null?void 0:l},ai=(t,r)=>f.from(Ua(t,r)),ii=(t,r)=>{const l=t.dom;return l&&l.hasAttribute?l.hasAttribute(r):!1},Kr=(t,r)=>{t.dom.removeAttribute(r)},Hu=t=>re(t.dom.attributes,(r,l)=>(r[l.name]=l.value,r),{}),Pg=t=>{t.dom.textContent="",ee(Hc(t),r=>{ec(r)})},ec=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Vc=(t,r)=>cn.fromDom(t.dom.cloneNode(r)),$g=t=>Vc(t,!1),bp=t=>Vc(t,!0),wh=(t,r)=>{const d=(r||document).createElement("div");return d.innerHTML=t,Hc(cn.fromDom(d))},Il=t=>t.dom.innerHTML,wf=(t,r)=>{const d=Rl(t).dom,g=cn.fromDom(d.createDocumentFragment()),v=wh(r,d);A2(g,v),Pg(t),tl(t,g)},Ja=t=>{const r=cn.fromTag("div"),l=cn.fromDom(t.dom.cloneNode(!0));return tl(r,l),Il(r)},yd=t=>{if(zc(t))return"#shadow-root";{const r=$g(t);return Ja(r)}},su=t=>new Promise((r,l)=>{const d=()=>{v(),r(t)},g=[Js(t,"load",d),Js(t,"error",()=>{v(),l("Unable to load data from image: "+t.dom.src)})],v=()=>ee(g,y=>y.unbind());t.dom.complete&&d()}),Lr=t=>t.style!==void 0&&jt(t.style.getPropertyValue),nl=t=>{const r=tu(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const l=r.ownerDocument;return Ha(cn.fromDom(r)).fold(()=>l.body.contains(r),_o(nl,ua))},gc=()=>Sh(cn.fromDom(document)),Sh=t=>{const r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return cn.fromDom(r)},Bl=(t,r,l)=>{if(!ot(l))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",l,":: Element ",t),new Error("CSS value must be a string: "+l);Lr(t)&&t.style.setProperty(r,l)},Hg=(t,r)=>{Lr(t)&&t.style.removeProperty(r)},Mo=(t,r,l)=>{const d=t.dom;Bl(d,r,l)},ka=(t,r)=>{const l=t.dom;Me(r,(d,g)=>{Bl(l,g,d)})},Qa=(t,r)=>{const l=t.dom;Me(r,(d,g)=>{d.fold(()=>{Hg(l,g)},v=>{Bl(l,g,v)})})},pa=(t,r)=>{const l=t.dom,g=window.getComputedStyle(l).getPropertyValue(r);return g===""&&!nl(t)?zu(l,r):g},zu=(t,r)=>Lr(t)?t.style.getPropertyValue(r):"",er=(t,r)=>{const l=t.dom,d=zu(l,r);return f.from(d).filter(g=>g.length>0)},zg=t=>{const r={},l=t.dom;if(Lr(l))for(let d=0;d<l.style.length;d++){const g=l.style.item(d);r[g]=l.style[g]}return r},ru=(t,r,l)=>{const d=cn.fromTag(t);return Mo(d,r,l),er(d,r).isSome()},Ps=(t,r)=>{const l=t.dom;Hg(l,r),At(ai(t,"style").map(Qn),"")&&Kr(t,"style")},kr=t=>t.dom.offsetWidth,Fl=(t,r)=>{const l=(D,U)=>{if(!Wo(U)&&!U.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+U);const X=D.dom;Lr(X)&&(X.style[t]=U+"px")},d=D=>{const U=r(D);if(U<=0||U===null){const X=pa(D,t);return parseFloat(X)||0}return U},g=d,v=(D,U)=>re(U,(X,ce)=>{const Se=pa(D,ce),He=Se===void 0?0:parseInt(Se,10);return isNaN(He)?X:X+He},0);return{set:l,get:d,getOuter:g,aggregate:v,max:(D,U,X)=>{const ce=v(D,X);return U>ce?U-ce:0}}},d1=Fl("height",t=>{const r=t.dom;return nl(t)?r.getBoundingClientRect().height:r.offsetHeight}),qr=t=>d1.get(t),Di=t=>d1.getOuter(t),Uu=(t,r)=>{const l=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],d=d1.max(t,r,l);Mo(t,"max-height",d+"px")},au=t=>t.offsetWidth<=0&&t.offsetHeight<=0,u1=t=>!au(t.dom),Pl=Fl("width",t=>{const r=t.dom;return nl(t)?r.getBoundingClientRect().width:r.offsetWidth}),Th=(t,r)=>Pl.set(t,r),ei=t=>Pl.get(t),f1=t=>Pl.getOuter(t),vp=(t,r)=>{const l=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],d=Pl.max(t,r,l);Mo(t,"max-width",d+"px")},Cd=(t,r)=>({left:t,top:r,translate:(d,g)=>Cd(t+d,r+g)}),Dr=Cd,L2=t=>{const r=t.getBoundingClientRect();return Dr(r.left,r.top)},iu=(t,r)=>t!==void 0?t:r!==void 0?r:0,Ni=t=>{const r=t.dom.ownerDocument,l=r.body,d=r.defaultView,g=r.documentElement;if(l===t.dom)return Dr(l.offsetLeft,l.offsetTop);const v=iu(d==null?void 0:d.pageYOffset,g.scrollTop),y=iu(d==null?void 0:d.pageXOffset,g.scrollLeft),D=iu(g.clientTop,l.clientTop),U=iu(g.clientLeft,l.clientLeft);return Va(t).translate(y-U,v-D)},Va=t=>{const r=t.dom,d=r.ownerDocument.body;return d===r?Dr(d.offsetLeft,d.offsetTop):nl(t)?L2(r):Dr(0,0)},Ri=t=>{const r=t!==void 0?t.dom:document,l=r.body.scrollLeft||r.documentElement.scrollLeft,d=r.body.scrollTop||r.documentElement.scrollTop;return Dr(l,d)},tc=(t,r,l)=>{const g=(l!==void 0?l.dom:document).defaultView;g&&g.scrollTo(t,r)},Sf=((t,r)=>{const l=v=>{if(!t(v))throw new Error("Can only get "+r+" value of a "+r+" node");return d(v).getOr("")},d=v=>t(v)?f.from(v.dom.nodeValue):f.none();return{get:l,getOption:d,set:(v,y)=>{if(!t(v))throw new Error("Can only set raw "+r+" value of a "+r+" node");v.dom.nodeValue=y}}})(tu,"text"),d5=t=>Sf.get(t),D2=(t,r)=>l=>u5(l)==="rtl"?r:t,u5=t=>pa(t,"direction")==="rtl"?"rtl":"ltr",Wc=(t,r)=>{const l=Ua(t,r);return l===void 0||l===""?[]:l.split(" ")},N2=(t,r,l)=>{const g=Wc(t,r).concat([l]);return ss(t,r,g.join(" ")),!0},Tf=(t,r,l)=>{const d=be(Wc(t,r),g=>g!==l);return d.length>0?ss(t,r,d.join(" ")):Kr(t,r),!1};var p1=(t,r,l,d,g)=>t(l,d)?f.some(l):jt(g)&&g(l)?f.none():r(l,d,g);const xp=(t,r,l)=>{let d=t.dom;const g=jt(l)?l:ge;for(;d.parentNode;){d=d.parentNode;const v=cn.fromDom(d);if(r(v))return f.some(v);if(g(v))break}return f.none()},kh=(t,r,l)=>p1((g,v)=>v(g),xp,t,r,l),kf=(t,r)=>{const l=t.dom;return l.parentNode?yp(cn.fromDom(l.parentNode),d=>!Rs(t,d)&&r(d)):f.none()},yp=(t,r)=>{const l=g=>r(cn.fromDom(g));return M(t.dom.childNodes,l).map(cn.fromDom)},R2=(t,r)=>{const l=d=>{for(let g=0;g<d.childNodes.length;g++){const v=cn.fromDom(d.childNodes[g]);if(r(v))return f.some(v);const y=l(d.childNodes[g]);if(y.isSome())return y}return f.none()};return l(t.dom)},M2=t=>Gr(t),Kc=(t,r,l)=>xp(t,d=>gs(d,r),l),Cp=(t,r)=>kf(t,l=>gs(l,r)),g1=(t,r)=>yp(t,l=>gs(l,r)),pr=(t,r)=>Gr(r,t),nc=(t,r,l)=>p1((g,v)=>gs(g,v),Kc,t,r,l),mc=(t,r)=>{t.dom.checked=r},Ah=t=>t.dom.checked,m1=t=>t.dom.classList!==void 0,Oh=t=>Wc(t,"class"),Lh=(t,r)=>N2(t,"class",r),Mi=(t,r)=>Tf(t,"class",r),_d=(t,r)=>G(Oh(t),r)?Mi(t,r):Lh(t,r),na=(t,r)=>{m1(t)?t.dom.classList.add(r):Lh(t,r)},I2=t=>{(m1(t)?t.dom.classList:Oh(t)).length===0&&Kr(t,"class")},Vr=(t,r)=>{m1(t)?t.dom.classList.remove(r):Mi(t,r),I2(t)},Vu=(t,r)=>{const l=m1(t)?t.dom.classList.toggle(r):_d(t,r);return I2(t),l},Ma=(t,r)=>m1(t)&&t.dom.classList.contains(r),$l=(t,r)=>{ee(r,l=>{na(t,l)})},Cl=(t,r)=>{ee(r,l=>{Vr(t,l)})},h1=(t,r)=>{ee(r,l=>{Vu(t,l)})},Ug=(t,r)=>A(r,l=>Ma(t,l)),Dh=t=>{const r=t.dom.classList,l=new Array(r.length);for(let d=0;d<r.length;d++){const g=r.item(d);g!==null&&(l[d]=g)}return l},B2=t=>m1(t)?Dh(t):Oh(t),b1=t=>t.dom.textContent,jc=t=>t.dom.value,Hl=(t,r)=>{if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},ti=(t,r,l)=>be(T2(t,l),r),Ia=(t,r)=>Or(r,t),F2=(t,r,l)=>kh(t,r,l).isSome(),_p=(t,r,l)=>nc(t,r,l).isSome(),Vg=t=>jt(t)?t:ge,Ed=(t,r,l)=>{let d=t.dom;const g=Vg(l);for(;d.parentNode;){d=d.parentNode;const v=cn.fromDom(d),y=r(v);if(y.isSome())return y;if(g(v))break}return f.none()},Wg=(t,r,l)=>{const d=r(t),g=Vg(l);return d.orThunk(()=>g(t)?f.none():Ed(t,r,g))},Z={create:(t,r,l,d)=>({start:t,soffset:r,finish:l,foffset:d})},ne=Zn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Pe=(t,r,l,d)=>t.fold(r,l,d),it=t=>t.fold(eo,eo,eo),Nt=ne.before,En=ne.on,co=ne.after,Fo={before:Nt,on:En,after:co,cata:Pe,getStart:it},Ds=Zn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$s=t=>Ds.exact(t.start,t.soffset,t.finish,t.foffset),Nr=t=>t.match({domRange:r=>cn.fromDom(r.startContainer),relative:(r,l)=>Fo.getStart(r),exact:(r,l,d,g)=>r}),Yr=Ds.domRange,ma=Ds.relative,zl=Ds.exact,lu=t=>{const r=Nr(t);return Pu(r)},cu=Z.create,hc={domRange:Yr,relative:ma,exact:zl,exactFromRange:$s,getWin:lu,range:cu},Rh=t=>f.from(t.getSelection()),Ep=t=>{if(t.rangeCount>0){const r=t.getRangeAt(0),l=t.getRangeAt(t.rangeCount-1);return f.some(Z.create(cn.fromDom(r.startContainer),r.startOffset,cn.fromDom(l.endContainer),l.endOffset))}else return f.none()},v1=t=>{if(t.anchorNode===null||t.focusNode===null)return Ep(t);{const r=cn.fromDom(t.anchorNode),l=cn.fromDom(t.focusNode);return Ig(r,t.anchorOffset,l,t.focusOffset)?f.some(Z.create(r,t.anchorOffset,l,t.focusOffset)):Ep(t)}},Wu=t=>Rh(t).filter(r=>r.rangeCount>0).bind(v1),Kg=(t,r)=>{const l=Ge(t,r);return ln(l)},jg=(t,r)=>{const l=Ge(t,r);return An(l)},Zg={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},f5=(()=>{const t="[0-9]+",l="[eE]"+("[+-]?"+t),d="\\.",g=D=>`(?:${D})?`,y=`[+-]?(?:${["Infinity",t+d+g(t)+g(l),d+t+g(l),t+g(l)].join("|")})`;return new RegExp(`^(${y})(.*)$`)})(),p5=(t,r)=>P(r,l=>P(Zg[l],d=>t===d)),Ks=(t,r)=>f.from(f5.exec(t)).bind(d=>{const g=Number(d[1]),v=d[2];return p5(v,r)?f.some({value:g,unit:v}):f.none()}),Xr=(t,r)=>Ks(t,r).map(({value:l,unit:d})=>l+d),Ci=t=>{const r=t===void 0?window:t;return ca().browser.isFirefox()?f.none():f.from(r.visualViewport)},_l=(t,r,l,d)=>({x:t,y:r,width:l,height:d,right:t+l,bottom:r+d}),Gg=t=>{const r=t===void 0?window:t,l=r.document,d=Ri(cn.fromDom(l));return Ci(r).fold(()=>{const g=r.document.documentElement,v=g.clientWidth,y=g.clientHeight;return _l(d.left,d.top,v,y)},g=>_l(Math.max(g.pageLeft,d.left),Math.max(g.pageTop,d.top),g.width,g.height))},wp=(t,r)=>t.view(r).fold(ht([]),d=>{const g=t.owner(d),v=wp(t,g);return[d].concat(v)}),qg=(t,r)=>{const l=r.owner(t),d=wp(r,l);return f.some(d)};var bc=Object.freeze({__proto__:null,view:t=>{var r;return(t.dom===document?f.none():f.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(cn.fromDom)},owner:t=>Rl(t)});const Mh=t=>{const r=ri(),l=Ri(r);return qg(t,bc).fold(Qo(Ni,t),g=>{const v=Va(t),y=se(g,(D,U)=>{const X=Va(U);return{left:D.left+X.left,top:D.top+X.top}},{left:0,top:0});return Dr(y.left+v.left+l.left,y.top+v.top+l.top)})},g5=(t,r,l)=>({point:t,width:r,height:l}),Vy=(t,r,l,d)=>({x:t,y:r,width:l,height:d}),Ka=(t,r,l,d)=>({x:t,y:r,width:l,height:d,right:t+l,bottom:r+d}),ha=t=>{const r=Ni(t),l=f1(t),d=Di(t);return Ka(r.left,r.top,l,d)},x1=t=>{const r=Mh(t),l=f1(t),d=Di(t);return Ka(r.left,r.top,l,d)},Sp=(t,r)=>{const l=Math.max(t.x,r.x),d=Math.max(t.y,r.y),g=Math.min(t.right,r.right),v=Math.min(t.bottom,r.bottom),y=g-l,D=v-d;return Ka(l,d,y,D)},m5=(t,r)=>re(r,(l,d)=>Sp(l,d),t),ol=()=>Gg(window),h5=(t,r)=>Rs(t.element,r.event.target),y1=t=>(At(er(t,"position"),"fixed")?f.none():Ml(t)).orThunk(()=>{const d=cn.fromTag("span");return Xl(t).bind(g=>{tl(g,d);const v=Ml(d);return ec(d),v})}),Ih=t=>y1(t).map(Ni).getOrThunk(()=>Dr(0,0)),Ul=(t,r)=>{const l=f.from(Ua(t,"id")).getOrThunk(()=>{const d=_e("aria");return ss(r,"id",d),d});ss(t,"aria-describedby",l)},ja=t=>{Kr(t,"aria-describedby")};var vc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(vc||(vc={}));const du=(t,r,l)=>t.stype===vc.Error?r(t.serror):l(t.svalue),P2=t=>{const r=[],l=[];return ee(t,d=>{du(d,g=>l.push(g),g=>r.push(g))}),{values:r,errors:l}},Wy=(t,r)=>t.stype===vc.Error?{stype:vc.Error,serror:r(t.serror)}:t,b5=(t,r)=>t.stype===vc.Value?{stype:vc.Value,svalue:r(t.svalue)}:t,v5=(t,r)=>t.stype===vc.Value?r(t.svalue):t,n8=(t,r)=>t.stype===vc.Error?r(t.serror):t,C1=t=>({stype:vc.Value,svalue:t}),Xg=t=>({stype:vc.Error,serror:t}),Za={fromResult:t=>t.fold(Xg,C1),toResult:t=>du(t,zn.error,zn.value),svalue:C1,partition:P2,serror:Xg,bind:v5,bindError:n8,map:b5,mapError:Wy,fold:du},wd=t=>Mt(t)&&nt(t).length>100?" removed due to size":JSON.stringify(t,null,2),fu=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ht("... (only showing first ten failures)")}]):t;return H(r,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())},xc=(t,r)=>Za.serror([{path:t,getErrorInfo:r}]),x5=(t,r,l)=>xc(t,()=>'Could not find valid *required* value for "'+r+'" in '+wd(l)),Tp=(t,r)=>xc(t,()=>'Choice schema did not contain choice key: "'+r+'"'),Ky=(t,r,l)=>xc(t,()=>'The chosen schema: "'+l+'" did not exist in branches: '+wd(r)),pu=(t,r)=>xc(t,()=>"There are unsupported fields: ["+r.join(", ")+"] specified"),o8=(t,r)=>xc(t,ht(r)),Af=t=>{const r=(d,g)=>Za.bindError(t(g),v=>o8(d,v)),l=ht("val");return{extract:r,toString:l}},Yn=Af(Za.svalue),gu=ht(Yn),y5=(t,r)=>Af(l=>{const d=typeof l;return t(l)?Za.svalue(l):Za.serror(`Expected type: ${r} but got: ${d}`)}),Ku=y5(Wo,"number"),Aa=y5(ot,"string"),qs=y5(xe,"boolean"),Jr=y5(jt,"function"),Bh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(r=>Bh(t[r]));default:return!1}},s8=Af(t=>Bh(t)?Za.svalue(t):Za.serror("Expected value to be acceptable for sending via postMessage")),ni=()=>({tag:"required",process:{}}),Pr=t=>({tag:"defaultedThunk",process:t}),Fh=t=>Pr(ht(t)),Ph=()=>({tag:"option",process:{}}),kp=t=>({tag:"mergeWithThunk",process:t}),$2=t=>kp(ht(t)),Zc=(t,r,l,d)=>({tag:"field",key:t,newKey:r,presence:l,prop:d}),r8=(t,r)=>({tag:"custom",newKey:t,instantiator:r}),$h=(t,r,l)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return l(t.newKey,t.instantiator)}},a8=(t,r)=>Za.svalue(kt(r,Ut.apply(void 0,t))),H2=t=>fs(Za.serror,K)(t),C5={consolidateObj:(t,r)=>{const l=Za.partition(t);return l.errors.length>0?H2(l.errors):a8(l.values,r)},consolidateArr:t=>{const r=Za.partition(t);return r.errors.length>0?H2(r.errors):Za.svalue(r.values)}},i8=(t,r,l,d)=>Rt(r,l).fold(()=>x5(t,l,r),d),z2=(t,r,l,d)=>{const g=Rt(t,r).getOrThunk(()=>l(t));return d(g)},Gy=(t,r,l)=>l(Rt(t,r)),qy=(t,r,l,d)=>{const g=Rt(t,r).map(v=>v===!0?l(t):v);return d(g)},Hh=(t,r,l,d,g)=>{const v=D=>g.extract(r.concat([d]),D),y=D=>D.fold(()=>Za.svalue(f.none()),U=>{const X=g.extract(r.concat([d]),U);return Za.map(X,f.some)});switch(t.tag){case"required":return i8(r,l,d,v);case"defaultedThunk":return z2(l,d,t.process,v);case"option":return Gy(l,d,y);case"defaultedOptionThunk":return qy(l,d,t.process,y);case"mergeWithThunk":return z2(l,d,ht({}),D=>{const U=kt(t.process(l),D);return v(U)})}},Of=(t,r,l)=>{const d={},g=[];for(const v of l)$h(v,(y,D,U,X)=>{const ce=Hh(U,t,r,y,X);Za.fold(ce,Se=>{g.push(...Se)},Se=>{d[D]=Se})},(y,D)=>{d[y]=D(r)});return g.length>0?Za.serror(g):Za.svalue(d)},li=t=>({extract:(d,g)=>t().extract(d,g),toString:()=>t().toString()}),Yy=t=>nt(Ye(t,Eo)),yc=t=>{const r=ns(t),l=se(t,(g,v)=>$h(v,y=>kt(g,{[y]:!0}),ht(g)),{});return{extract:(g,v)=>{const y=xe(v)?[]:Yy(v),D=be(y,U=>!Zt(l,U));return D.length===0?r.extract(g,v):pu(g,D)},toString:r.toString}},ns=t=>({extract:(d,g)=>Of(d,g,t),toString:()=>`obj{
`+H(t,g=>$h(g,(v,y,D,U)=>v+" -> "+U.toString(),(v,y)=>"state("+v+")")).join(`
`)+"}"}),Gc=t=>({extract:(d,g)=>{const v=H(g,(y,D)=>t.extract(d.concat(["["+D+"]"]),y));return C5.consolidateArr(v)},toString:()=>"array("+t.toString()+")"}),Jg=(t,r)=>{const l=r!==void 0?r:eo;return{extract:(v,y)=>{const D=[];for(const U of t){const X=U.extract(v,y);if(X.stype===vc.Value)return{stype:vc.Value,svalue:l(X.svalue)};D.push(X)}return C5.consolidateArr(D)},toString:()=>"oneOf("+H(t,v=>v.toString()).join(", ")+")"}},Xy=(t,r)=>{const l=(v,y)=>Gc(Af(t)).extract(v,y);return{extract:(v,y)=>{const D=nt(y),U=l(v,D);return Za.bind(U,X=>{const ce=H(X,Se=>Zc(Se,Se,ni(),r));return ns(ce).extract(v,y)})},toString:()=>"setOf("+r.toString()+")"}},Jy=(t,r)=>{const l=St(r);return{extract:(v,y)=>l().extract(v,y),toString:()=>l().toString()}},Ap=fs(Gc,ns),l8=(t,r,l,d)=>Rt(l,d).fold(()=>Ky(t,l,d),v=>v.extract(t.concat(["branch: "+d]),r)),Lf=(t,r)=>({extract:(g,v)=>Rt(v,t).fold(()=>Tp(g,t),D=>l8(g,v,r,D)),toString:()=>"chooseOn("+t+"). Possible values: "+nt(r)}),_5=()=>Gc(Yn),_1=t=>Af(r=>t(r).fold(Za.serror,Za.svalue)),E5=(t,r)=>Xy(l=>Za.fromResult(t(l)),r),Qy=(t,r,l)=>{const d=r.extract([t],l);return Za.mapError(d,g=>({input:l,errors:g}))},ra=(t,r,l)=>Za.toResult(Qy(t,r,l)),Sd=t=>t.fold(r=>{throw new Error(Qg(r))},eo),sl=(t,r,l)=>Sd(ra(t,r,l)),Qg=t=>`Errors: 
`+fu(t.errors).join(`
`)+`

Input object: `+wd(t.input),El=(t,r)=>Lf(t,tt(r,ns)),Df=(t,r)=>Jy(t,r),ci=Zc,Wi=r8,ju=t=>_1(r=>G(t,r)?zn.value(r):zn.error(`Unsupported value: "${r}", choose one of "${t.join(", ")}".`)),Bn=t=>ci(t,t,ni(),gu()),Vl=(t,r)=>ci(t,t,ni(),r),w5=t=>Vl(t,Ku),Ga=t=>Vl(t,Aa),Td=(t,r)=>ci(t,t,ni(),ju(r)),Cc=t=>Vl(t,Jr),eC=(t,r)=>ci(t,t,Ph(),Af(l=>Za.serror("The field: "+t+" is forbidden. "+r))),Nf=(t,r)=>ci(t,t,ni(),ns(r)),S5=(t,r)=>ci(t,t,ni(),Ap(r)),_c=(t,r)=>ci(t,t,ni(),Gc(r)),xr=t=>ci(t,t,Ph(),gu()),mu=(t,r)=>ci(t,t,Ph(),r),em=t=>mu(t,Ku),xa=t=>mu(t,Aa),T5=(t,r)=>mu(t,ju(r)),k5=t=>mu(t,qs),hu=t=>mu(t,Jr),A5=(t,r)=>mu(t,Gc(r)),wl=(t,r)=>mu(t,ns(r)),tC=(t,r)=>mu(t,yc(r)),tn=(t,r)=>ci(t,t,Fh(r),gu()),Sl=(t,r,l)=>ci(t,t,Fh(r),l),O5=(t,r)=>Sl(t,r,Ku),aa=(t,r)=>Sl(t,r,Aa),Ec=(t,r,l)=>Sl(t,r,ju(l)),Oa=(t,r)=>Sl(t,r,qs),$r=(t,r)=>Sl(t,r,Jr),c8=(t,r)=>Sl(t,r,s8),Rf=(t,r,l)=>Sl(t,r,Gc(l)),U2=(t,r,l)=>Sl(t,r,ns(l)),Op=(t,r)=>{const l={};return Me(t,(d,g)=>{G(r,g)||(l[g]=d)}),l},zh=(t,r)=>({[t]:r}),L5=t=>{const r={};return ee(t,l=>{r[l.key]=l.value}),r},D5=(t,r)=>Op(t,r),tm=(t,r)=>zh(t,r),Uh=t=>L5(t),Lp=(t,r)=>t.length===0?zn.value(r):zn.value(kt(r,Ut.apply(void 0,t))),Ki=t=>zn.error(K(t)),N5=(t,r)=>{const l=ps(t);return l.errors.length>0?Ki(l.errors):Lp(l.values,r)},Ii=ht,Mf=Ii("touchstart"),If=Ii("touchmove"),E1=Ii("touchend"),nm=Ii("touchcancel"),rl=Ii("mousedown"),om=Ii("mousemove"),qa=Ii("mouseout"),R5=Ii("mouseup"),kd=Ii("mouseover"),wc=Ii("focusin"),d8=Ii("focusout"),di=Ii("keydown"),sm=Ii("keyup"),Bf=Ii("input"),Zu=Ii("change"),bu=Ii("click"),vu=Ii("transitioncancel"),Vh=Ii("transitionend"),Dp=Ii("transitionstart"),u8=Ii("selectstart"),ya=t=>ht("alloy."+t),M5={tap:ya("tap")},oc=ya("focus"),Wh=ya("blur.post"),I5=ya("paste.post"),Ff=ya("receive"),qc=ya("execute"),w1=ya("focus.item"),Np=M5.tap,f8=ya("longpress"),Kh=ya("sandbox.close"),B5=ya("typeahead.cancel"),jh=ya("system.init"),p8=ya("system.touchmove"),rm=ya("system.touchend"),Zh=ya("system.scroll"),Gh=ya("system.resize"),xu=ya("system.attached"),Pf=ya("system.detached"),Rp=ya("system.dismissRequested"),F5=ya("system.repositionRequested"),am=ya("focusmanager.shifted"),P5=ya("slotcontainer.visibility"),g8=ya("system.external.element.scroll"),V2=ya("change.tab"),qh=ya("dismiss.tab"),W2=ya("highlight"),S1=ya("dehighlight"),$f=t=>yd(t),T1="unknown";var k1;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(k1||(k1={}));const $5=et({}),K2=(t,r)=>{const l=[],d=new Date().getTime();return{logEventCut:(g,v,y)=>{l.push({outcome:"cut",target:v,purpose:y})},logEventStopped:(g,v,y)=>{l.push({outcome:"stopped",target:v,purpose:y})},logNoParent:(g,v,y)=>{l.push({outcome:"no-parent",target:v,purpose:y})},logEventNoHandlers:(g,v)=>{l.push({outcome:"no-handlers-left",target:v})},logEventResponse:(g,v,y)=>{l.push({outcome:"response",purpose:y,target:v})},write:()=>{const g=new Date().getTime();G(["mousemove","mouseover","mouseout",jh()],t)||console.log(t,{event:t,time:g-d,target:r.dom,sequence:H(l,v=>G(["cut","stopped","response"],v.outcome)?"{"+v.purpose+"} "+v.outcome+" at ("+$f(v.target)+")":v.outcome)})}}},Fk=(t,r,l)=>{switch(Rt($5.get(),t).orThunk(()=>{const g=nt($5.get());return ct(g,v=>t.indexOf(v)>-1?f.some($5.get()[v]):f.none())}).getOr(k1.NORMAL)){case k1.NORMAL:return l(Pk());case k1.LOGGING:{const g=K2(t,r),v=l(g);return g.write(),v}case k1.STOP:return!0}},ji=["alloy/data/Fields","alloy/debugging/Debugging"],m8=()=>{const t=new Error;if(t.stack!==void 0){const r=t.stack.split(`
`);return M(r,l=>l.indexOf("alloy")>0&&!P(ji,d=>l.indexOf(d)>-1)).getOr(T1)}else return T1},im={logEventCut:lt,logEventStopped:lt,logNoParent:lt,logEventNoHandlers:lt,logEventResponse:lt,write:lt},j2=(t,r,l)=>Fk(t,r,l),Pk=ht(im),h8=ht([Bn("menu"),Bn("selectedMenu")]),b8=ht([Bn("item"),Bn("selectedItem")]);ht(ns(b8().concat(h8())));const Ar=ht(ns(b8())),Yh=Nf("initSize",[Bn("numColumns"),Bn("numRows")]),v8=()=>Vl("markers",Ar()),x8=()=>Nf("markers",[Bn("backgroundMenu")].concat(h8()).concat(b8())),Wl=t=>Nf("markers",H(t,Bn)),Xh=(t,r,l)=>(m8(),ci(r,r,l,_1(d=>zn.value((...g)=>d.apply(void 0,g))))),Us=t=>Xh("onHandler",t,Fh(lt)),sc=t=>Xh("onKeyboardHandler",t,Fh(f.none)),Jh=t=>Xh("onHandler",t,ni()),Z2=t=>Xh("onKeyboardHandler",t,ni()),Rr=(t,r)=>Wi(t,ht(r)),G2=t=>Wi(t,eo),H5=ht(Yh),$k=(t,r,l)=>{const d=l.toString(),g=d.indexOf(")")+1,v=d.indexOf("("),y=d.substring(v+1,g-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:r,parameters:y8(y.slice(0,1).concat(y.slice(3)))}),t},y8=t=>H(t,r=>Tr(r,"/*")?r.substring(0,r.length-2):r),C8=(t,r)=>{const l=t.toString(),d=l.indexOf(")")+1,g=l.indexOf("("),v=l.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:r,parameters:y8(v)}),t},Hk=(t,r)=>{const l=r.toString(),d=l.indexOf(")")+1,g=l.indexOf("("),v=l.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:y8(v.slice(1))}),t},nC=(t,r)=>{let l=null;return{cancel:()=>{l!==null&&(clearTimeout(l),l=null)},schedule:(...v)=>{l=setTimeout(()=>{t.apply(null,v),l=null},r)}}},oC=5,_8=400,Yc=t=>{const r=t.raw;return r.touches===void 0||r.touches.length!==1?f.none():f.some(r.touches[0])},Zi=(t,r)=>{const l=Math.abs(t.clientX-r.x),d=Math.abs(t.clientY-r.y);return l>oC||d>oC},lm=t=>{const r=Do(),l=et(!1),d=nC(X=>{t.triggerEvent(f8(),X),l.set(!0)},_8),g=X=>(Yc(X).each(ce=>{d.cancel();const Se={x:ce.clientX,y:ce.clientY,target:X.target};d.schedule(X),l.set(!1),r.set(Se)}),f.none()),v=X=>(d.cancel(),Yc(X).each(ce=>{r.on(Se=>{Zi(ce,Se)&&r.clear()})}),f.none()),y=X=>{d.cancel();const ce=Se=>Rs(Se.target,X.target);return r.get().filter(ce).map(Se=>l.get()?(X.prevent(),!1):t.triggerEvent(Np(),X))},D=Uh([{key:Mf(),value:g},{key:If(),value:v},{key:E1(),value:y}]);return{fireIfReady:(X,ce)=>Rt(D,ce).bind(Se=>Se(X))}};var Sc;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Sc||(Sc={}));const Gu="placeholder",qu=Zn.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),A1=t=>zt(t,"uiType"),Yu=(t,r,l,d)=>t.exists(g=>g!==l.owner)?qu.single(!0,ht(l)):Rt(d,l.name).fold(()=>{throw new Error("Unknown placeholder component: "+l.name+`
Known: [`+nt(d)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(l,null,2))},g=>g.replace()),cm=(t,r,l,d)=>A1(l)&&l.uiType===Gu?Yu(t,r,l,d):qu.single(!1,ht(l)),z5=(t,r,l,d)=>cm(t,r,l,d).fold((v,y)=>{const D=A1(l)?y(r,l.config,l.validated):y(r),U=Rt(D,"components").getOr([]),X=R(U,ce=>z5(t,r,ce,d));return[{...D,components:X}]},(v,y)=>{if(A1(l)){const D=y(r,l.config,l.validated);return l.validated.preprocess.getOr(eo)(D)}else return y(r)}),E8=(t,r,l,d)=>R(l,g=>z5(t,r,g,d)),sC=(t,r)=>{let l=!1;const d=()=>l,g=()=>{if(l)throw new Error("Trying to use the same placeholder more than once: "+t);return l=!0,r},v=()=>r.fold((y,D)=>y,(y,D)=>y);return{name:ht(t),required:v,used:d,replace:g}},rC=(t,r,l,d)=>{const g=tt(d,(y,D)=>sC(D,y)),v=E8(t,r,l,g);return Me(g,y=>{if(y.used()===!1&&y.required())throw new Error("Placeholder: "+y.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),v},q2=qu.single,U5=qu.multiple,w8=ht(Gu),Y2=Zn.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Hf=tn("factory",{sketch:eo}),Xu=tn("schema",[]),Qh=Bn("name"),X2=ci("pname","pname",Pr(t=>"<alloy."+_e(t.name)+">"),gu()),aC=Wi("schema",()=>[xr("preprocess")]),J2=tn("defaults",ht({})),Q2=tn("overrides",ht({})),S8=ns([Hf,Xu,Qh,X2,J2,Q2]),dm=ns([Hf,Xu,Qh,J2,Q2]),iC=ns([Hf,Xu,Qh,X2,J2,Q2]),zf=ns([Hf,aC,Qh,Bn("unit"),X2,J2,Q2]),e3=t=>t.fold(f.some,f.none,f.some,f.some),Mp=t=>{const r=l=>l.name;return t.fold(r,r,r,r)},Ip=t=>t.fold(eo,eo,eo,eo),e0=(t,r)=>l=>{const d=sl("Converting part type",r,l);return t(d)},_i=e0(Y2.required,S8),Tc=e0(Y2.external,dm),Ad=e0(Y2.optional,iC),t3=e0(Y2.group,zf),O1=ht("entirety");var L1=Object.freeze({__proto__:null,required:_i,external:Tc,optional:Ad,group:t3,asNamedPart:e3,name:Mp,asCommon:Ip,original:O1});const V5=(t,r,l,d)=>kt(r.defaults(t,l,d),l,{uid:t.partUids[r.name]},r.overrides(t,l,d)),ui=(t,r,l)=>{const d={},g={};return ee(l,v=>{v.fold(y=>{d[y.pname]=q2(!0,(D,U,X)=>y.factory.sketch(V5(D,y,U,X)))},y=>{const D=r.parts[y.name];g[y.name]=ht(y.factory.sketch(V5(r,y,D[O1()]),D))},y=>{d[y.pname]=q2(!1,(D,U,X)=>y.factory.sketch(V5(D,y,U,X)))},y=>{d[y.pname]=U5(!0,(D,U,X)=>{const ce=D[y.name];return H(ce,Se=>y.factory.sketch(kt(y.defaults(D,Se,X),Se,y.overrides(D,Se))))})})}),{internals:ht(d),externals:ht(g)}},um=(t,r)=>{const l={};return ee(r,d=>{e3(d).each(g=>{const v=kc(t,g.pname);l[g.name]=y=>{const D=sl("Part: "+g.name+" in "+t,ns(g.schema),y);return{...v,config:y,validated:D}}})}),l},kc=(t,r)=>({uiType:w8(),owner:t,name:r}),W5=(t,r,l)=>({uiType:w8(),owner:t,name:r,config:l,validated:{}}),T8=t=>R(t,r=>r.fold(f.none,f.some,f.none,f.none).map(l=>Nf(l.name,l.schema.concat([G2(O1())]))).toArray()),Bp=t=>H(t,Mp),D1=(t,r,l)=>ui(t,r,l),yu=(t,r,l)=>rC(f.some(t),r,r.components,l),nr=(t,r,l)=>{const d=r.partUids[l];return t.getSystem().getByUid(d).toOptional()},Fp=(t,r,l)=>nr(t,r,l).getOrDie("Could not find part: "+l),n3=(t,r,l)=>{const d={},g=r.partUids,v=t.getSystem();return ee(l,y=>{d[y]=ht(v.getByUid(g[y]))}),d},fm=(t,r)=>{const l=t.getSystem();return tt(r.partUids,(d,g)=>ht(l.getByUid(d)))},o3=t=>nt(t.partUids),K5=(t,r,l)=>{const d={},g=r.partUids,v=t.getSystem();return ee(l,y=>{d[y]=ht(v.getByUid(g[y]).getOrDie())}),d},t0=(t,r)=>{const l=Bp(r);return Uh(H(l,d=>({key:d,value:t+"-"+d})))},Ju=t=>ci("partUids","partUids",kp(r=>t0(r.uid,t)),gu());var n0=Object.freeze({__proto__:null,generate:um,generateOne:W5,schemas:T8,names:Bp,substitutes:D1,components:yu,defaultUids:t0,defaultUidsSchema:Ju,getAllParts:fm,getAllPartNames:o3,getPart:nr,getPartOrDie:Fp,getParts:n3,getPartsOrDie:K5});const o0=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Xc=(t,r,l,d=1)=>{const g=t*d,v=r*d,y=U=>Rt(l,U).getOr([]),D=(U,X,ce)=>{const Se=V(o0,ce);return{offset:Dr(U,X),classesOn:R(ce,y),classesOff:R(Se,y)}};return{southeast:()=>D(-t,r,["top","alignLeft"]),southwest:()=>D(t,r,["top","alignRight"]),south:()=>D(-t/2,r,["top","alignCentre"]),northeast:()=>D(-t,-r,["bottom","alignLeft"]),northwest:()=>D(t,-r,["bottom","alignRight"]),north:()=>D(-t/2,-r,["bottom","alignCentre"]),east:()=>D(t,-r/2,["valignCentre","left"]),west:()=>D(-t,-r/2,["valignCentre","right"]),insetNortheast:()=>D(g,v,["top","alignLeft","inset"]),insetNorthwest:()=>D(-g,v,["top","alignRight","inset"]),insetNorth:()=>D(-g/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>D(g,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>D(-g,-v,["bottom","alignRight","inset"]),insetSouth:()=>D(-g/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>D(-g,-v/2,["valignCentre","right","inset"]),insetWest:()=>D(g,-v/2,["valignCentre","left","inset"])}},Qu=()=>Xc(0,0,{}),La=(t,r,l,d,g,v,y,D=!1)=>({x:t,y:r,bubble:l,direction:d,placement:g,restriction:v,label:`${y}-${g}`,alwaysFit:D}),Cu=Zn.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),j5=(t,r,l,d,g,v,y,D,U)=>t.fold(r,l,d,g,v,y,D,U),Z5=(t,r,l,d)=>t.fold(r,r,d,d,r,d,l,l),pm=(t,r,l,d)=>t.fold(r,d,r,d,l,l,r,d),N1=Cu.southeast,G5=Cu.southwest,q5=Cu.northeast,s3=Cu.northwest,r3=Cu.south,gm=Cu.north,Od=Cu.east,k8=Cu.west,A8=(t,r)=>{switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Ei=(t,r)=>q(["left","right","top","bottom"],l=>Rt(r,l).map(d=>A8(t,d))),lC=(t,r,l)=>{const d=(U,X)=>r[U].map(ce=>{const Se=U==="top"||U==="bottom",He=Se?l.top:l.left,Je=(U==="left"||U==="top"?Math.max:Math.min)(ce,X)+He;return Se?te(Je,t.y,t.bottom):te(Je,t.x,t.right)}).getOr(X),g=d("left",t.x),v=d("top",t.y),y=d("right",t.right),D=d("bottom",t.bottom);return Ka(g,v,y-g,D-v)},R1="layout",Y5=t=>t.x,X5=(t,r)=>t.x+t.width/2-r.width/2,J5=(t,r)=>t.x+t.width-r.width,s0=(t,r)=>t.y-r.height,Q5=t=>t.y+t.height,eb=(t,r)=>t.y+t.height/2-r.height/2,cC=t=>t.x+t.width,r0=(t,r)=>t.x-r.width,jr=(t,r,l)=>La(Y5(t),Q5(t),l.southeast(),N1(),"southeast",Ei(t,{left:1,top:3}),R1),Ya=(t,r,l)=>La(J5(t,r),Q5(t),l.southwest(),G5(),"southwest",Ei(t,{right:0,top:3}),R1),fi=(t,r,l)=>La(Y5(t),s0(t,r),l.northeast(),q5(),"northeast",Ei(t,{left:1,bottom:2}),R1),wi=(t,r,l)=>La(J5(t,r),s0(t,r),l.northwest(),s3(),"northwest",Ei(t,{right:0,bottom:2}),R1),pi=(t,r,l)=>La(X5(t,r),s0(t,r),l.north(),gm(),"north",Ei(t,{bottom:2}),R1),Ba=(t,r,l)=>La(X5(t,r),Q5(t),l.south(),r3(),"south",Ei(t,{top:3}),R1),a0=(t,r,l)=>La(cC(t),eb(t,r),l.east(),Od(),"east",Ei(t,{left:0}),R1),a3=(t,r,l)=>La(r0(t,r),eb(t,r),l.west(),k8(),"west",Ei(t,{right:1}),R1),tb=()=>[jr,Ya,fi,wi,Ba,pi,a0,a3],nb=()=>[Ya,jr,wi,fi,Ba,pi,a0,a3],ob=()=>[fi,wi,jr,Ya,pi,Ba],mm=()=>[wi,fi,Ya,jr,pi,Ba],sb=()=>[jr,Ya,fi,wi,Ba,pi],Pp=()=>[Ya,jr,wi,fi,Ba,pi],i0="data-alloy-placement",rb=(t,r)=>{ss(t,i0,r)},l0=t=>ai(t,i0),ab=t=>Kr(t,i0),_u="layout-inset",i3=t=>t.x,l3=(t,r)=>t.x+t.width/2-r.width/2,c3=(t,r)=>t.x+t.width-r.width,c0=t=>t.y,d0=(t,r)=>t.y+t.height-r.height,Uf=(t,r)=>t.y+t.height/2-r.height/2,Eu=(t,r,l)=>La(c3(t,r),d0(t,r),l.insetSouthwest(),s3(),"southwest",Ei(t,{right:0,bottom:3}),_u),d3=(t,r,l)=>La(i3(t),d0(t,r),l.insetSoutheast(),q5(),"southeast",Ei(t,{left:1,bottom:3}),_u),hn=(t,r,l)=>La(c3(t,r),c0(t),l.insetNorthwest(),G5(),"northwest",Ei(t,{right:0,top:2}),_u),Jc=(t,r,l)=>La(i3(t),c0(t),l.insetNortheast(),N1(),"northeast",Ei(t,{left:1,top:2}),_u),Qc=(t,r,l)=>La(l3(t,r),c0(t),l.insetNorth(),r3(),"north",Ei(t,{top:2}),_u),hm=(t,r,l)=>La(l3(t,r),d0(t,r),l.insetSouth(),gm(),"south",Ei(t,{bottom:3}),_u),$p=(t,r,l)=>La(c3(t,r),Uf(t,r),l.insetEast(),k8(),"east",Ei(t,{right:0}),_u),Ld=(t,r,l)=>La(i3(t),Uf(t,r),l.insetWest(),Od(),"west",Ei(t,{left:1}),_u),O8=t=>{switch(t){case"north":return Qc;case"northeast":return Jc;case"northwest":return hn;case"south":return hm;case"southeast":return d3;case"southwest":return Eu;case"east":return $p;case"west":return Ld}},al=(t,r,l,d,g)=>l0(d).map(O8).getOr(Qc)(t,r,l,d,g),u0=t=>{switch(t){case"north":return hm;case"northeast":return d3;case"northwest":return Eu;case"south":return Qc;case"southeast":return Jc;case"southwest":return hn;case"east":return Ld;case"west":return $p}},ib=(t,r,l,d,g)=>l0(d).map(u0).getOr(Qc)(t,r,l,d,g),L8=(t,r)=>{Uu(t,Math.floor(r))},lb=ht((t,r)=>{L8(t,r),ka(t,{"overflow-x":"hidden","overflow-y":"auto"})}),bm=ht((t,r)=>{L8(t,r)}),u3=ht((t,r)=>{vp(t,Math.floor(r))});var Vf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Vf||(Vf={}));const f3="data-alloy-vertical-dir",dC=t=>F2(t,r=>hl(r)&&Ua(r,"data-alloy-vertical-dir")===Vf.BottomToTop);var il;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(il||(il={}));const Dd={init:()=>Tl({readState:ht("No State required")})},Tl=t=>t,uC={can:a,abort:ge,run:lt},Hp=t=>{if(!Zt(t,"can")&&!Zt(t,"abort")&&!Zt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...uC,...t}},fC=(t,r)=>(...l)=>re(t,(d,g)=>d&&r(g).apply(void 0,l),!0),cb=(t,r)=>(...l)=>re(t,(d,g)=>d||r(g).apply(void 0,l),!1),D8=t=>jt(t)?{can:a,abort:ge,run:t}:t,N8=t=>{const r=fC(t,g=>g.can),l=cb(t,g=>g.abort);return{can:r,abort:l,run:(...g)=>{ee(t,v=>{v.run.apply(void 0,g)})}}},Hs=(t,r)=>{ub(t,t.element,r,{})},Jo=(t,r,l)=>{ub(t,t.element,r,l)},vm=t=>{Hs(t,qc())},db=(t,r,l)=>{ub(t,r,l,{})},ub=(t,r,l,d)=>{const g={target:r,...d};t.getSystem().triggerEvent(l,r,g)},R8=(t,r,l,d)=>{const g={...d,target:r};t.getSystem().triggerEvent(l,r,g)},fb=(t,r,l,d)=>{t.getSystem().triggerEvent(l,r,d.event)},Qr=t=>Uh(t),xm=(t,r)=>({key:t,value:Hp({abort:r})}),pb=(t,r)=>({key:t,value:Hp({can:r})}),M8=t=>({key:t,value:Hp({run:(r,l)=>{l.event.prevent()}})}),xn=(t,r)=>({key:t,value:Hp({run:r})}),p3=(t,r,l)=>({key:t,value:Hp({run:(d,g)=>{r.apply(void 0,[d,g].concat(l))}})}),gb=t=>r=>xn(t,r),f0=t=>r=>({key:t,value:Hp({run:(l,d)=>{h5(l,d)&&r(l,d)}})}),I8=(t,r)=>xn(t,(l,d)=>{l.getSystem().getByUid(r).each(g=>{fb(g,g.element,t,d)})}),ef=(t,r,l)=>{const d=r.partUids[l];return I8(t,d)},zp=(t,r)=>xn(t,(l,d)=>{const g=d.event,v=l.getSystem().getByDom(g.target).getOrThunk(()=>Wg(g.target,D=>l.getSystem().getByDom(D).toOptional(),ge).getOr(l));r(l,v,d)}),Up=t=>xn(t,(r,l)=>{l.cut()}),pC=t=>xn(t,(r,l)=>{l.stop()}),ym=(t,r)=>f0(t)(r),Wr=f0(xu()),wu=f0(Pf()),B8=f0(jh()),Wf=gb(qc()),Nd=t=>({classes:Go(t.classes)?[]:t.classes,attributes:Go(t.attributes)?{}:t.attributes,styles:Go(t.styles)?{}:t.styles}),gC=(t,r)=>({...t,attributes:{...t.attributes,...r.attributes},styles:{...t.styles,...r.styles},classes:t.classes.concat(r.classes)}),mC=(t,r,l)=>Wf(d=>{l(d,t,r)}),mb=(t,r,l)=>B8((d,g)=>{l(d,t,r)}),hC=(t,r,l,d,g,v)=>{const y=yc(t),D=wl(r,[tC("config",t)]);return H8(y,D,r,l,d,g,v)},F8=(t,r,l,d,g,v)=>{const y=t,D=wl(r,[mu("config",t)]);return H8(y,D,r,l,d,g,v)},P8=(t,r,l)=>$k((g,...v)=>{const y=[g].concat(v);return g.config({name:ht(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+l)},D=>{const U=Array.prototype.slice.call(y,1);return r.apply(void 0,[g,D.config,D.state].concat(U))})},l,r),$8=t=>({key:t,value:void 0}),H8=(t,r,l,d,g,v,y)=>{const D=Se=>Zt(Se,l)?Se[l]():f.none(),U=tt(g,(Se,He)=>P8(l,Se,He)),ce={...tt(v,(Se,He)=>C8(Se,He)),...U,revoke:Qo($8,l),config:Se=>{const He=sl(l+"-config",t,Se);return{key:l,value:{config:He,me:ce,configAsRaw:St(()=>sl(l+"-config",t,Se)),initialConfig:Se,state:y}}},schema:ht(r),exhibit:(Se,He)=>Jt(D(Se),Rt(d,"exhibit"),(Qe,Je)=>Je(He,Qe.config,Qe.state)).getOrThunk(()=>Nd({})),name:ht(l),handlers:Se=>D(Se).map(He=>Rt(d,"events").getOr(()=>({}))(He.config,He.state)).getOr({})};return ce},Xn=t=>Uh(t),bC=yc([Bn("fields"),Bn("name"),tn("active",{}),tn("apis",{}),tn("state",Dd),tn("extra",{})]),gi=t=>{const r=sl("Creating behaviour: "+t.name,bC,t);return hC(r.fields,r.name,r.active,r.apis,r.extra,r.state)},vC=yc([Bn("branchKey"),Bn("branches"),Bn("name"),tn("active",{}),tn("apis",{}),tn("state",Dd),tn("extra",{})]),z8=t=>{const r=sl("Creating behaviour: "+t.name,vC,t);return F8(El(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},hb=ht(void 0),xC=(t,r)=>{const l=Qr(r);return gi({fields:[Bn("enabled")],name:t,active:{events:ht(l)}})},Cs=(t,r)=>{const l=xC(t,r);return{key:t,value:{config:{},me:l,configAsRaw:ht({}),initialConfig:{},state:Dd}}},yC=t=>({init:()=>{const l=et(t);return{get:()=>l.get(),set:D=>l.set(D),clear:()=>l.set(t),readState:()=>l.get()}}}),bb=(t,r)=>{r.ignore||(hr(t.element),r.onFocus(t))};var _C=Object.freeze({__proto__:null,focus:bb,blur:(t,r)=>{r.ignore||fc(t.element)},isFocused:t=>pc(t.element)}),V8=Object.freeze({__proto__:null,exhibit:(t,r)=>{const l=r.ignore?{}:{attributes:{tabindex:"-1"}};return Nd(l)},events:t=>Qr([xn(oc(),(r,l)=>{bb(r,t),l.stop()})].concat(t.stopMousedown?[xn(rl(),(r,l)=>{l.event.prevent()})]:[]))}),wC=[Us("onFocus"),tn("stopMousedown",!1),tn("ignore",!1)];const Es=gi({fields:wC,name:"focusing",active:V8,apis:_C}),Ao=[8],Rd=[9],Ac=[13],g3=[27],rc=[32],m3=[37],Cm=[38],h3=[39],_m=[40],p0=ht("tooltipping.close.all"),Kf=ht("dismiss.popups"),Mr=ht("reposition.popups"),Oc=ht("mouse.released"),SC=(t,r,l)=>{const d=J(t.slice(0,r)),g=J(t.slice(r+1));return M(d.concat(g),l)},TC=(t,r,l)=>{const d=J(t.slice(0,r));return M(d,l)},kC=(t,r,l)=>{const d=t.slice(0,r),g=t.slice(r+1);return M(g.concat(d),l)},AC=(t,r,l)=>{const d=t.slice(r+1);return M(d,l)},or=t=>r=>{const l=r.raw;return G(t,l.which)},Md=t=>r=>A(t,l=>l(r)),M1=t=>t.raw.shiftKey===!0,Uk=t=>t.raw.ctrlKey===!0,Vp=s(M1),ar=(t,r)=>({matches:t,classification:r}),Vk=(t,r)=>M(t,d=>d.matches(r)).map(d=>d.classification),OC=(t,r,l,d)=>{const g=Ia(t.element,"."+r.highlightClass);ee(g,v=>{P(d,D=>Rs(D.element,v))||(Vr(v,r.highlightClass),t.getSystem().getByDom(v).each(D=>{r.onDehighlight(t,D),Hs(D,S1())}))})},Wk=(t,r,l)=>OC(t,r,l,[]),Kk=(t,r,l,d)=>{b3(t,r,l,d)&&(Vr(d.element,r.highlightClass),r.onDehighlight(t,d),Hs(d,S1()))},g0=(t,r,l,d)=>{OC(t,r,l,[d]),b3(t,r,l,d)||(na(d.element,r.highlightClass),r.onHighlight(t,d),Hs(d,W2()))},vb=(t,r,l)=>{v3(t,r).each(d=>{g0(t,r,l,d)})},W8=(t,r,l)=>{x3(t,r).each(d=>{g0(t,r,l,d)})},m0=(t,r,l,d)=>{NC(t,r,l,d).fold(g=>{throw g},g=>{g0(t,r,l,g)})},LC=(t,r,l,d)=>{const g=Z8(t,r);M(g,d).each(y=>{g0(t,r,l,y)})},b3=(t,r,l,d)=>Ma(d.element,r.highlightClass),DC=(t,r,l)=>pr(t.element,"."+r.highlightClass).bind(d=>t.getSystem().getByDom(d).toOptional()),NC=(t,r,l,d)=>{const g=Ia(t.element,"."+r.itemClass);return f.from(g[d]).fold(()=>zn.error(new Error("No element found with index "+d)),t.getSystem().getByDom)},v3=(t,r,l)=>pr(t.element,"."+r.itemClass).bind(d=>t.getSystem().getByDom(d).toOptional()),x3=(t,r,l)=>{const d=Ia(t.element,"."+r.itemClass);return(d.length>0?f.some(d[d.length-1]):f.none()).bind(v=>t.getSystem().getByDom(v).toOptional())},xb=(t,r,l,d)=>{const g=Ia(t.element,"."+r.itemClass);return W(g,y=>Ma(y,r.highlightClass)).bind(y=>{const D=Be(y,d,0,g.length-1);return t.getSystem().getByDom(g[D]).toOptional()})},K8=(t,r,l)=>xb(t,r,l,-1),j8=(t,r,l)=>xb(t,r,l,1),Z8=(t,r,l)=>{const d=Ia(t.element,"."+r.itemClass);return Bt(H(d,g=>t.getSystem().getByDom(g).toOptional()))};var yb=Object.freeze({__proto__:null,dehighlightAll:Wk,dehighlight:Kk,highlight:g0,highlightFirst:vb,highlightLast:W8,highlightAt:m0,highlightBy:LC,isHighlighted:b3,getHighlighted:DC,getFirst:v3,getLast:x3,getPrevious:K8,getNext:j8,getCandidates:Z8}),Cb=[Bn("highlightClass"),Bn("itemClass"),Us("onHighlight"),Us("onDehighlight")];const gr=gi({fields:Cb,name:"highlighting",apis:yb}),Wp=(t,r,l)=>{r.exists(g=>l.exists(v=>Rs(v,g)))||Jo(t,am(),{prevFocus:r,newFocus:l})},_b=()=>{const t=l=>za(l.element);return{get:t,set:(l,d)=>{const g=t(l);l.getSystem().triggerFocus(d,l.element);const v=t(l);Wp(l,g,v)}}},h0=()=>{const t=l=>gr.getHighlighted(l).map(d=>d.element);return{get:t,set:(l,d)=>{const g=t(l);l.getSystem().getByDom(d).fold(lt,y=>{gr.highlight(l,y)});const v=t(l);Wp(l,g,v)}}},I1=(t,r,l,d,g)=>{const v=()=>t.concat([tn("focusManager",_b()),Sl("focusInside","onFocus",_1(X=>G(["onFocus","onEnterOrSpace","onApi"],X)?zn.value(X):zn.error("Invalid value for focusInside"))),Rr("handler",U),Rr("state",r),Rr("sendFocusIn",g)]),y=(X,ce,Se,He,Qe)=>{const Je=Se(X,ce,He,Qe);return Vk(Je,ce.event).bind(vt=>vt(X,ce,He,Qe))},U={schema:v,processKey:y,toEvents:(X,ce)=>{const Se=X.focusInside!==Sc.OnFocusMode?f.none():g(X).map(Je=>xn(oc(),(vt,Lt)=>{Je(vt,X,ce),Lt.stop()})),He=(Je,vt)=>{const Lt=or(rc.concat(Ac))(vt.event);X.focusInside===Sc.OnEnterOrSpaceMode&&Lt&&h5(Je,vt)&&g(X).each(_t=>{_t(Je,X,ce),vt.stop()})},Qe=[xn(di(),(Je,vt)=>{y(Je,vt,l,X,ce).fold(()=>{He(Je,vt)},Lt=>{vt.stop()})}),xn(sm(),(Je,vt)=>{y(Je,vt,d,X,ce).each(Lt=>{vt.stop()})})];return Qr(Se.toArray().concat(Qe))}};return U},Em=t=>{const r=[xr("onEscape"),xr("onEnter"),tn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),tn("firstTabstop",0),tn("useTabstopAt",a),xr("visibilitySelector")].concat([t]),l=(_t,$t)=>{const Vt=_t.visibilitySelector.bind(an=>nc($t,an)).getOr($t);return qr(Vt)>0},d=(_t,$t)=>{const Vt=Ia(_t.element,$t.selector),an=be(Vt,fn=>l($t,fn));return f.from(an[$t.firstTabstop])},g=(_t,$t)=>$t.focusManager.get(_t).bind(Vt=>nc(Vt,$t.selector)),v=(_t,$t)=>l(_t,$t)&&_t.useTabstopAt($t),y=(_t,$t,Vt)=>{d(_t,$t).each(an=>{$t.focusManager.set(_t,an)})},D=(_t,$t,Vt,an,fn)=>fn($t,Vt,uo=>v(an,uo)).fold(()=>an.cyclic?f.some(!0):f.none(),uo=>(an.focusManager.set(_t,uo),f.some(!0))),U=(_t,$t,Vt,an)=>{const fn=be(Ia(_t.element,Vt.selector),uo=>l(Vt,uo));return g(_t,Vt).bind(uo=>W(fn,Qo(Rs,uo)).bind($n=>D(_t,fn,$n,Vt,an)))},X=(_t,$t,Vt)=>{const an=Vt.cyclic?SC:TC;return U(_t,$t,Vt,an)},ce=(_t,$t,Vt)=>{const an=Vt.cyclic?kC:AC;return U(_t,$t,Vt,an)},Se=_t=>_h(_t).bind(vl).exists($t=>Rs($t,_t)),He=(_t,$t,Vt)=>g(_t,Vt).filter(an=>!Vt.useTabstopAt(an)).bind(an=>(Se(an)?X:ce)(_t,$t,Vt)),Qe=(_t,$t,Vt)=>Vt.onEnter.bind(an=>an(_t,$t)),Je=(_t,$t,Vt)=>(_t.getSystem().broadcastOn([p0()],{closedTooltip:()=>{$t.stop()}}),$t.isStopped()?f.none():Vt.onEscape.bind(an=>an(_t,$t))),vt=ht([ar(Md([M1,or(Rd)]),X),ar(or(Rd),ce),ar(Md([Vp,or(Ac)]),Qe)]),Lt=ht([ar(or(g3),Je),ar(or(Rd),He)]);return I1(r,Dd.init,vt,Lt,()=>f.some(y))};var RC=Em(Wi("cyclic",ge)),MC=Em(Wi("cyclic",a));const wm=t=>bl("input")(t)&&Ua(t,"type")!=="radio"||bl("textarea")(t),IC=(t,r,l)=>(db(t,l,qc()),f.some(!0)),b0=(t,r,l)=>wm(l)&&or(rc)(r.event)?f.none():IC(t,r,l),Kp=(t,r)=>f.some(!0),BC=[tn("execute",b0),tn("useSpace",!1),tn("useEnter",!0),tn("useControlEnter",!1),tn("useDown",!1)],B1=(t,r,l)=>l.execute(t,r,t.element),G8=(t,r,l,d)=>{const g=l.useSpace&&!wm(t.element)?rc:[],v=l.useEnter?Ac:[],y=l.useDown?_m:[],D=g.concat(v).concat(y);return[ar(or(D),B1)].concat(l.useControlEnter?[ar(Md([Uk,or(Ac)]),B1)]:[])},q8=(t,r,l,d)=>l.useSpace&&!wm(t.element)?[ar(or(rc),Kp)]:[];var FC=I1(BC,Dd.init,G8,q8,()=>f.none());const Y8=()=>{const t=Do();return Tl({readState:()=>t.get().map(g=>({numRows:String(g.numRows),numColumns:String(g.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(g,v)=>{t.set({numRows:g,numColumns:v})},getNumRows:()=>t.get().map(g=>g.numRows),getNumColumns:()=>t.get().map(g=>g.numColumns)})};var X8=Object.freeze({__proto__:null,flatgrid:Y8,init:t=>t.state(t)});const Eb=t=>(r,l,d,g)=>{const v=t(r.element);return wb(v,r,l,d,g)},F1=(t,r)=>{const l=D2(t,r);return Eb(l)},v0=(t,r)=>{const l=D2(r,t);return Eb(l)},y3=t=>(r,l,d,g)=>wb(t,r,l,d,g),wb=(t,r,l,d,g)=>d.focusManager.get(r).bind(y=>t(r.element,y,d,g)).map(y=>(d.focusManager.set(r,y),!0)),C3=y3,Sm=y3,tf=y3,x0=(t,r)=>W(t,r).map(l=>({index:l,candidates:t})),J8=(t,r,l)=>{const d=y=>Rs(y,r),g=Ia(t,l),v=be(g,u1);return x0(v,d)},Sb=(t,r)=>W(t,l=>Rs(r,l)),Q8=(t,r,l,d)=>{const g=Math.floor(r/l),v=r%l;return d(g,v).bind(y=>{const D=y.row*l+y.column;return D>=0&&D<t.length?f.some(t[D]):f.none()})},e7=(t,r,l,d,g)=>Q8(t,r,d,(v,y)=>{const U=v===l-1?t.length-v*d:d,X=Be(y,g,0,U-1);return f.some({row:v,column:X})}),t7=(t,r,l,d,g)=>Q8(t,r,d,(v,y)=>{const D=Be(v,g,0,l-1),X=D===l-1?t.length-D*d:d,ce=te(y,0,X-1);return f.some({row:D,column:ce})}),$C=(t,r,l,d)=>e7(t,r,l,d,1),jp=(t,r,l,d)=>e7(t,r,l,d,-1),Tm=(t,r,l,d)=>t7(t,r,l,d,-1),Zp=(t,r,l,d)=>t7(t,r,l,d,1),_3=[Bn("selector"),tn("execute",b0),sc("onEscape"),tn("captureTab",!1),H5()],n7=(t,r,l)=>{pr(t.element,r.selector).each(d=>{r.focusManager.set(t,d)})},o7=(t,r)=>r.focusManager.get(t).bind(l=>nc(l,r.selector)),s7=(t,r,l,d)=>o7(t,l).bind(g=>l.execute(t,r,g)),E3=t=>(r,l,d,g)=>J8(r,l,d.selector).bind(v=>t(v.candidates,v.index,g.getNumRows().getOr(d.initSize.numRows),g.getNumColumns().getOr(d.initSize.numColumns))),r7=(t,r,l)=>l.captureTab?f.some(!0):f.none(),HC=(t,r,l)=>l.onEscape(t,r),a7=E3(jp),w3=E3($C),Tb=E3(Tm),y0=E3(Zp),kb=ht([ar(or(m3),F1(a7,w3)),ar(or(h3),v0(a7,w3)),ar(or(Cm),C3(Tb)),ar(or(_m),Sm(y0)),ar(Md([M1,or(Rd)]),r7),ar(Md([Vp,or(Rd)]),r7),ar(or(rc.concat(Ac)),s7)]),zC=ht([ar(or(g3),HC),ar(or(rc),Kp)]);var i7=I1(_3,Y8,kb,zC,()=>f.some(n7));const l7=(t,r,l,d,g)=>{const v=D=>el(D)==="button"&&Ua(D,"disabled")==="disabled",y=(D,U,X)=>g(D,U,d,0,X.length-1,X[U],ce=>v(X[ce])?y(D,ce,X):f.from(X[ce]));return J8(t,l,r).bind(D=>{const U=D.index,X=D.candidates;return y(U,U,X)})},Ab=(t,r,l,d)=>l7(t,r,l,d,(g,v,y,D,U,X,ce)=>{const Se=te(v+y,D,U);return Se===g?f.from(X):ce(Se)}),C0=(t,r,l,d)=>l7(t,r,l,d,(g,v,y,D,U,X,ce)=>{const Se=Be(v,y,D,U);return Se===g?f.none():ce(Se)}),UC=[Bn("selector"),tn("getInitial",f.none),tn("execute",b0),sc("onEscape"),tn("executeOnMove",!1),tn("allowVertical",!0),tn("allowHorizontal",!0),tn("cycles",!0)],c7=(t,r)=>r.focusManager.get(t).bind(l=>nc(l,r.selector)),Ob=(t,r,l)=>c7(t,l).bind(d=>l.execute(t,r,d)),VC=(t,r,l)=>{r.getInitial(t).orThunk(()=>pr(t.element,r.selector)).each(d=>{r.focusManager.set(t,d)})},d7=(t,r,l)=>(l.cycles?C0:Ab)(t,l.selector,r,-1),Gp=(t,r,l)=>(l.cycles?C0:Ab)(t,l.selector,r,1),u7=t=>(r,l,d,g)=>t(r,l,d,g).bind(()=>d.executeOnMove?Ob(r,l,d):f.some(!0)),WC=(t,r,l)=>l.onEscape(t,r),f7=(t,r,l,d)=>{const g=[...l.allowHorizontal?m3:[]].concat(l.allowVertical?Cm:[]),v=[...l.allowHorizontal?h3:[]].concat(l.allowVertical?_m:[]);return[ar(or(g),u7(F1(d7,Gp))),ar(or(v),u7(v0(d7,Gp))),ar(or(Ac),Ob),ar(or(rc),Ob)]},Lb=ht([ar(or(rc),Kp),ar(or(g3),WC)]);var KC=I1(UC,Dd.init,f7,Lb,()=>f.some(VC));const Db=(t,r,l)=>f.from(t[r]).bind(d=>f.from(d[l]).map(g=>({rowIndex:r,columnIndex:l,cell:g}))),Nb=(t,r,l,d)=>{const v=t[r].length,y=Be(l,d,0,v-1);return Db(t,r,y)},km=(t,r,l,d)=>{const g=Be(l,d,0,t.length-1),v=t[g].length,y=te(r,0,v-1);return Db(t,g,y)},_0=(t,r,l,d)=>{const v=t[r].length,y=te(l+d,0,v-1);return Db(t,r,y)},p7=(t,r,l,d)=>{const g=te(l+d,0,t.length-1),v=t[g].length,y=te(r,0,v-1);return Db(t,g,y)},g7=(t,r,l)=>Nb(t,r,l,1),m7=(t,r,l)=>Nb(t,r,l,-1),S3=(t,r,l)=>km(t,l,r,-1),h7=(t,r,l)=>km(t,l,r,1),b7=(t,r,l)=>_0(t,r,l,-1),jC=(t,r,l)=>_0(t,r,l,1),ZC=(t,r,l)=>p7(t,l,r,-1),qp=(t,r,l)=>p7(t,l,r,1),Rb=[Nf("selectors",[Bn("row"),Bn("cell")]),tn("cycles",!0),tn("previousSelector",f.none),tn("execute",b0)],Mb=(t,r,l)=>{r.previousSelector(t).orThunk(()=>{const g=r.selectors;return pr(t.element,g.cell)}).each(g=>{r.focusManager.set(t,g)})},GC=(t,r,l)=>za(t.element).bind(d=>l.execute(t,r,d)),qC=(t,r)=>H(t,l=>Ia(l,r.selectors.cell)),T3=(t,r)=>(l,d,g)=>{const v=g.cycles?t:r;return nc(d,g.selectors.row).bind(y=>{const D=Ia(y,g.selectors.cell);return Sb(D,d).bind(U=>{const X=Ia(l,g.selectors.row);return Sb(X,y).bind(ce=>{const Se=qC(X,g);return v(Se,ce,U).map(He=>He.cell)})})})},P1=T3(m7,b7),v7=T3(g7,jC),k3=T3(S3,ZC),A3=T3(h7,qp),x7=ht([ar(or(m3),F1(P1,v7)),ar(or(h3),v0(P1,v7)),ar(or(Cm),C3(k3)),ar(or(_m),Sm(A3)),ar(or(rc.concat(Ac)),GC)]),y7=ht([ar(or(rc),Kp)]);var YC=I1(Rb,Dd.init,x7,y7,()=>f.some(Mb));const XC=[Bn("selector"),tn("execute",b0),tn("moveOnTab",!1)],Am=(t,r,l)=>l.focusManager.get(t).bind(d=>l.execute(t,r,d)),Om=(t,r,l)=>{pr(t.element,r.selector).each(d=>{r.focusManager.set(t,d)})},Yp=(t,r,l)=>C0(t,l.selector,r,-1),Ib=(t,r,l)=>C0(t,l.selector,r,1),jf=(t,r,l,d)=>l.moveOnTab?tf(Yp)(t,r,l,d):f.none(),JC=(t,r,l,d)=>l.moveOnTab?tf(Ib)(t,r,l,d):f.none(),Su=ht([ar(or(Cm),tf(Yp)),ar(or(_m),tf(Ib)),ar(Md([M1,or(Rd)]),jf),ar(Md([Vp,or(Rd)]),JC),ar(or(Ac),Am),ar(or(rc),Am)]),C7=ht([ar(or(rc),Kp)]);var Bb=I1(XC,Dd.init,Su,C7,()=>f.some(Om));const QC=[sc("onSpace"),sc("onEnter"),sc("onShiftEnter"),sc("onLeft"),sc("onRight"),sc("onTab"),sc("onShiftTab"),sc("onUp"),sc("onDown"),sc("onEscape"),tn("stopSpaceKeyup",!1),xr("focusIn")],jk=(t,r,l)=>[ar(or(rc),l.onSpace),ar(Md([Vp,or(Ac)]),l.onEnter),ar(Md([M1,or(Ac)]),l.onShiftEnter),ar(Md([M1,or(Rd)]),l.onShiftTab),ar(Md([Vp,or(Rd)]),l.onTab),ar(or(Cm),l.onUp),ar(or(_m),l.onDown),ar(or(m3),l.onLeft),ar(or(h3),l.onRight),ar(or(rc),l.onSpace)],e_=(t,r,l)=>[...l.stopSpaceKeyup?[ar(or(rc),Kp)]:[],ar(or(g3),l.onEscape)];var Lm=I1(QC,Dd.init,jk,e_,t=>t.focusIn);const Xp=RC.schema(),O3=MC.schema(),Jp=KC.schema(),t_=i7.schema(),Zf=YC.schema(),Id=FC.schema(),Fb=Bb.schema(),_7=Lm.schema();var Pb=Object.freeze({__proto__:null,acyclic:Xp,cyclic:O3,flow:Jp,flatgrid:t_,matrix:Zf,execution:Id,menu:Fb,special:_7});const $b=t=>Zt(t,"setGridSize"),Ho=z8({branchKey:"mode",branches:Pb,name:"keying",active:{events:(t,r)=>t.handler.toEvents(t,r)},apis:{focusIn:(t,r,l)=>{r.sendFocusIn(r).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},d=>{d(t,r,l)})},setGridSize:(t,r,l,d,g)=>{$b(l)?l.setGridSize(d,g):console.error("Layout does not support setGridSize")}},state:X8}),$1=_e("alloy-premade"),L3=t=>(Object.defineProperty(t.element.dom,$1,{value:t.uid,writable:!0}),tm($1,t)),E7=t=>zt(t.dom,$1),Qp=t=>Rt(t,$1),H1=t=>Hk((r,...l)=>t(r.getApis(),r,...l),t),Hb=t=>t.getSystem().isConnected(),eg=t=>{Hs(t,Pf());const r=t.components();ee(r,eg)},Gf=t=>{const r=t.components();ee(r,Gf),Hs(t,xu())},zb=(t,r)=>{t.getSystem().addToWorld(r),nl(t.element)&&Gf(r)},Bd=t=>{eg(t),t.getSystem().removeFromWorld(t)},Ub=(t,r)=>{tl(t.element,r.element)},D3=t=>{ee(t.components(),r=>ec(r.element)),Pg(t.element),t.syncComponents()},tg=(t,r,l)=>{const d=t.components();D3(t);const g=l(r),v=V(d,g);ee(v,y=>{eg(y),t.getSystem().removeFromWorld(y)}),ee(g,y=>{Hb(y)?Ub(t,y):(t.getSystem().addToWorld(y),Ub(t,y),nl(t.element)&&Gf(y))}),t.syncComponents()},ng=(t,r,l)=>{const d=t.components(),g=R(r,D=>Qp(D).toArray());ee(d,D=>{G(g,D)||Bd(D)});const v=l(r),y=V(d,v);ee(y,D=>{Hb(D)&&Bd(D)}),ee(v,D=>{Hb(D)||zb(t,D)}),t.syncComponents()},Fd=(t,r)=>{E0(t,r,tl)},E0=(t,r,l)=>{t.getSystem().addToWorld(r),l(t.element,r.element),nl(t.element)&&Gf(r),t.syncComponents()},z1=t=>{eg(t),ec(t.element),t.getSystem().removeFromWorld(t)},nf=t=>{const r=Xl(t.element).bind(l=>t.getSystem().getByDom(l).toOptional());z1(t),r.each(l=>{l.syncComponents()})},w7=t=>{const r=t.components();ee(r,z1),Pg(t.element),t.syncComponents()},og=(t,r)=>{S7(t,r,tl)},ll=(t,r)=>{S7(t,r,Fg)},S7=(t,r,l)=>{l(t,r.element);const d=Hc(r.element);ee(d,g=>{r.getByDom(g).each(Gf)})},T7=t=>{const r=Hc(t.element);ee(r,l=>{t.getByDom(l).each(eg)}),ec(t.element)},N3=(t,r,l)=>Ws(t,r).map(g=>{if(l.exists(y=>!Rs(y,g))){const y=l.map(el).getOr("span"),D=cn.fromTag(y);return c1(g,D),D}else return g}),Vb=(t,r,l)=>{l.fold(()=>tl(t,r),d=>{Rs(d,r)||(c1(d,r),ec(d))})},Wb=(t,r,l)=>{const d=H(r,l),g=Hc(t);return ee(g.slice(d.length),ec),d},n_=(t,r,l,d)=>{const g=Ws(t,r),v=d(l,g),y=N3(t,r,g);return Vb(t,v.element,y),v},Zk=(t,r,l)=>Wb(t,r,(d,g)=>n_(t,g,d,l)),ed=(t,r)=>Wb(t,r,(l,d)=>{const g=Ws(t,d);return Vb(t,l,g),l}),Tu=(t,r)=>{const l=Ra(r),d=Xa(l).bind(v=>{const y=D=>Rs(v,D);return y(r)?f.some(r):R2(r,y)}),g=t(r);return d.each(v=>{Xa(l).filter(y=>Rs(y,v)).fold(()=>{hr(v)},lt)}),g},Kb=(t,r)=>{Tu(()=>{tg(t,r,()=>H(r,t.getSystem().build))},t.element)},sg=(t,r)=>{Tu(()=>{ng(t,r,()=>Zk(t.element,r,t.getSystem().buildOrPatch))},t.element)},cl=(t,r,l,d)=>{Bd(r);const g=n_(t.element,l,d,t.getSystem().buildOrPatch);zb(t,g),t.syncComponents()},kl=(t,r,l)=>{const d=t.getSystem().build(l);E0(t,d,r)},Bi=(t,r,l,d)=>{nf(r),kl(t,(g,v)=>c5(g,v,l),d)},Pd=(t,r,l,d)=>(r.reuseDom?sg:Kb)(t,d),jb=(t,r,l,d)=>{kl(t,tl,d)},Gi=(t,r,l,d)=>{kl(t,ou,d)},of=(t,r,l,d)=>{const g=R3(t);M(g,y=>Rs(d.element,y.element)).each(nf)},R3=(t,r)=>t.components(),k7=(t,r,l,d,g)=>{const v=R3(t);return f.from(v[d]).map(y=>(g.fold(()=>nf(y),D=>{(r.reuseDom?cl:Bi)(t,y,d,D)}),y))};var Zb=Object.freeze({__proto__:null,append:jb,prepend:Gi,remove:of,replaceAt:k7,replaceBy:(t,r,l,d,g)=>{const v=R3(t);return W(v,d).bind(y=>k7(t,r,l,y,g))},set:Pd,contents:R3});const ws=gi({fields:[Oa("reuseDom",!0)],name:"replacing",apis:Zb}),Dm=(t,r,l)=>Rs(r,t.element)&&!Rs(r,l),ku=Qr([pb(oc(),(t,r)=>{const l=r.event,d=l.originator,g=l.target;return Dm(t,d,g)?(console.warn(oc()+` did not get interpreted by the desired target. 
Originator: `+$f(d)+`
Target: `+$f(g)+`
Check the `+oc()+" event handlers"),!1):!0})]);var o_=Object.freeze({__proto__:null,events:ku});const s_=ht("alloy-id-"),r_=ht("data-alloy-id"),a_=s_(),Gb=r_(),qb=(t,r)=>{const l=_e(a_+t);return Nm(r,l),l},Nm=(t,r)=>{Object.defineProperty(t.dom,Gb,{value:r,writable:!0})},$d=t=>{const r=hl(t)?t.dom[Gb]:null;return f.from(r)},Rm=t=>_e(t),i_=eo,M3=t=>{const r=g=>`The component must be in a context to execute: ${g}`+(t?`
`+$f(t().element)+" is not in context.":""),l=g=>()=>{throw new Error(r(g))},d=g=>()=>{console.warn(r(g))};return{debugInfo:ht("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:l("build"),buildOrPatch:l("buildOrPatch"),addToWorld:l("addToWorld"),removeFromWorld:l("removeFromWorld"),addToGui:l("addToGui"),removeFromGui:l("removeFromGui"),getByUid:l("getByUid"),getByDom:l("getByDom"),isConnected:ge}},l_=M3(),I3=(t,r)=>{const l=H(r,g=>wl(g.name(),[Bn("config"),tn("state",Dd)])),d=ra("component.behaviours",ns(l),t.behaviours).fold(g=>{throw new Error(Qg(g)+`
Complete spec:
`+JSON.stringify(t,null,2))},eo);return{list:r,data:tt(d,g=>{const v=g.map(y=>({config:y.config,state:y.state.init(y.config)}));return ht(v)})}},Si=t=>t.list,td=t=>t.data,A7=(t,r)=>{const l={};return Me(t,(d,g)=>{Me(d,(v,y)=>{const D=Rt(l,y).getOr([]);l[y]=D.concat([r(g,v)])})}),l},B3=(t,r,l,d)=>{const g={...r};ee(l,ce=>{g[ce.name()]=ce.exhibit(t,d)});const v=A7(g,(ce,Se)=>({name:ce,modification:Se})),y=ce=>se(ce,(Se,He)=>({...He.modification,...Se}),{}),D=se(v.classes,(ce,Se)=>Se.modification.concat(ce),[]),U=y(v.attributes),X=y(v.styles);return Nd({classes:D,attributes:U,styles:X})},rg=(t,r,l,d)=>{try{const g=Le(l,(v,y)=>{const D=v[r],U=y[r],X=d.indexOf(D),ce=d.indexOf(U);if(X===-1)throw new Error("The ordering for "+t+" does not have an entry for "+D+`.
Order specified: `+JSON.stringify(d,null,2));if(ce===-1)throw new Error("The ordering for "+t+" does not have an entry for "+U+`.
Order specified: `+JSON.stringify(d,null,2));return X<ce?-1:ce<X?1:0});return zn.value(g)}catch(g){return zn.error([g])}},Yb=(t,r)=>({handler:t,purpose:r}),Xb=(t,r)=>({cHandler:t,purpose:r}),c_=(t,r)=>Xb(Qo.apply(void 0,[t.handler].concat(r)),t.purpose),Jb=t=>t.cHandler,d_=(t,r)=>({name:t,handler:r}),F3=(t,r)=>{const l={};return ee(t,d=>{l[d.name()]=d.handlers(r)}),l},Qb=(t,r,l)=>{const d={...l,...F3(r,t)};return A7(d,d_)},U1=(t,r,l,d)=>{const g=Qb(t,l,d);return tv(g,r)},ag=t=>{const r=D8(t);return(l,d,...g)=>{const v=[l,d].concat(g);r.abort.apply(void 0,v)?d.stop():r.can.apply(void 0,v)&&r.run.apply(void 0,v)}},O7=(t,r)=>zn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(H(r,l=>l.name),null,2)]),ev=(t,r,l)=>{const d=r[l];return d?rg("Event: "+l,"name",t,d).map(g=>{const v=H(g,y=>y.handler);return N8(v)}):O7(l,t)},tv=(t,r)=>{const l=xt(t,(d,g)=>(d.length===1?zn.value(d[0].handler):ev(d,r,g)).map(y=>{const D=ag(y),U=d.length>1?be(r[g],X=>P(d,ce=>ce.name===X)).join(" > "):d[0].name;return tm(g,Yb(D,U))}));return N5(l,{})},sf="alloy.base.behaviour",P3=ns([ci("dom","dom",ni(),ns([Bn("tag"),tn("styles",{}),tn("classes",[]),tn("attributes",{}),xr("value"),xr("innerHtml")])),Bn("components"),Bn("uid"),tn("events",{}),tn("apis",{}),ci("eventOrder","eventOrder",$2({[qc()]:["disabling",sf,"toggling","typeaheadevents"],[oc()]:[sf,"focusing","keying"],[jh()]:[sf,"disabling","toggling","representing","tooltipping"],[Bf()]:[sf,"representing","streaming","invalidating"],[Pf()]:[sf,"representing","item-events","toolbar-button-events","tooltipping"],[rl()]:["focusing",sf,"item-type-events"],[Mf()]:["focusing",sf,"item-type-events"],[kd()]:["item-type-events","tooltipping"],[Ff()]:["receiving","reflecting","tooltipping"]}),gu()),xr("domModification")]),nv=t=>ra("custom.definition",P3,t),w0=t=>({...t.dom,uid:t.uid,domChildren:H(t.components,r=>r.element)}),$3=t=>t.domModification.fold(()=>Nd({}),Nd),L7=t=>t.events,Mm=(t,r)=>{const l=nt(t),d=nt(r),g=V(d,l),v=Fe(t,(y,D)=>!zt(r,D)||y!==r[D]).t;return{toRemove:g,toSet:v}},u_=(t,r)=>{const{class:l,style:d,...g}=Hu(r),{toSet:v,toRemove:y}=Mm(t.attributes,g),D=()=>{ee(y,Vt=>Kr(r,Vt)),O2(r,v)},U=zg(r),{toSet:X,toRemove:ce}=Mm(t.styles,U),Se=()=>{ee(ce,Vt=>Ps(r,Vt)),ka(r,X)},He=B2(r),Qe=V(He,t.classes),Je=V(t.classes,He),vt=()=>{$l(r,Je),Cl(r,Qe)},Lt=Vt=>{wf(r,Vt)},_t=()=>{const Vt=t.domChildren;ed(r,Vt)},$t=()=>{const Vt=r,an=t.value.getOrUndefined();an!==jc(Vt)&&Hl(Vt,an??"")};return D(),vt(),Se(),t.innerHtml.fold(_t,Lt),$t(),r},f_=t=>{const r=cn.fromTag(t.tag);O2(r,t.attributes),$l(r,t.classes),ka(r,t.styles),t.innerHtml.each(d=>wf(r,d));const l=t.domChildren;return A2(r,l),t.value.each(d=>{Hl(r,d)}),r},p_=(t,r)=>{try{const l=u_(t,r);return f.some(l)}catch{return f.none()}},ig=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ov=(t,r)=>{const l=g=>el(g)===t.tag&&!ig(t)&&!E7(g),d=r.filter(l).bind(g=>p_(t,g)).getOrThunk(()=>f_(t));return Nm(d,t.uid),d},g_=t=>{const r=Rt(t,"behaviours").getOr({});return R(nt(r),l=>{const d=r[l];return Eo(d)?[d.me]:[]})},sv=(t,r)=>I3(t,r),rv=t=>{const r=g_(t);return sv(t,r)},D7=(t,r,l)=>{const d=w0(t),g=$3(t),v={"alloy.base.modification":g},y=r.length>0?B3(l,v,r,d):g;return gC(d,y)},av=(t,r,l)=>{const d={"alloy.base.behaviour":L7(t)};return U1(l,t.eventOrder,r,d).getOrDie()},Im=(t,r)=>{const l=()=>Vt,d=et(l_),g=Sd(nv(t)),v=rv(t),y=Si(v),D=td(v),U=D7(g,y,D),X=ov(U,r),ce=av(g,y,D),Se=et(g.components),He=an=>{d.set(an)},Qe=()=>{d.set(M3(l))},Je=()=>{const an=Hc(X),fn=R(an,uo=>d.get().getByDom(uo).fold(()=>[],ae));Se.set(fn)},vt=an=>{const fn=D;return(jt(fn[an.name()])?fn[an.name()]:()=>{throw new Error("Could not find "+an.name()+" in "+JSON.stringify(t,null,2))})()},Lt=an=>jt(D[an.name()]),_t=()=>g.apis,$t=an=>D[an]().map(fn=>fn.state.readState()).getOr("not enabled"),Vt={uid:t.uid,getSystem:d.get,config:vt,hasConfigured:Lt,spec:t,readState:$t,getApis:_t,connect:He,disconnect:Qe,element:X,syncComponents:Je,components:Se.get,events:ce};return Vt},iv=(t,r)=>{const l=Rt(t,"components").getOr([]);return r.fold(()=>H(l,C),d=>H(l,(g,v)=>m(g,Ws(d,v))))},m_=(t,r)=>{const{events:l,...d}=i_(t),g=iv(d,r),v={...d,events:{...o_,...l},components:g};return zn.value(Im(v,r))},Zr=t=>{const r=cn.fromText(t);return lv({element:r})},lv=t=>{const r=sl("external.component",yc([Bn("element"),xr("uid")]),t),l=et(M3()),d=D=>{l.set(D)},g=()=>{l.set(M3(()=>y))},v=r.uid.getOrThunk(()=>Rm("external"));Nm(r.element,v);const y={uid:v,getSystem:l.get,config:f.none,hasConfigured:ge,connect:d,disconnect:g,getApis:()=>({}),element:r.element,spec:t,readState:ht("No state"),syncComponents:lt,components:ht([]),events:{}};return L3(y)},V1=Rm,u=t=>zt(t,"uid"),m=(t,r)=>Qp(t).getOrThunk(()=>{const l=u(t)?t:{uid:V1(""),...t};return m_(l,r).getOrDie()}),C=t=>m(t,f.none()),k=L3;var Xe=Object.freeze({__proto__:null,block:(t,r,l,d)=>{ss(t.element,"aria-busy",!0);const g=r.getRoot(t).getOr(t),v=Xn([Ho.config({mode:"special",onTab:()=>f.some(!0),onShiftTab:()=>f.some(!0)}),Es.config({})]),y=d(g,v),D=g.getSystem().build(y);ws.append(g,k(D)),D.hasConfigured(Ho)&&r.focus&&Ho.focusIn(D),l.isBlocked()||r.onBlock(t),l.blockWith(()=>ws.remove(g,D))},unblock:(t,r,l)=>{Kr(t.element,"aria-busy"),l.isBlocked()&&r.onUnblock(t),l.clear()},isBlocked:(t,r,l)=>l.isBlocked()}),ut=[$r("getRoot",f.none),Oa("focus",!0),Us("onBlock"),Us("onUnblock")],en=Object.freeze({__proto__:null,init:()=>{const t=bs(),r=l=>{t.set({destroy:l})};return Tl({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})}});const Sn=gi({fields:ut,name:"blocking",apis:Xe,state:en});var xo=Object.freeze({__proto__:null,getCurrent:(t,r,l)=>r.find(t)});const Ko=[Bn("find")],yn=gi({fields:Ko,name:"composing",apis:xo});var Ss=Object.freeze({__proto__:null,getCoupled:(t,r,l,d)=>l.getOrCreate(t,r,d),getExistingCoupled:(t,r,l,d)=>l.getExisting(t,r,d)}),No=[Vl("others",E5(zn.value,gu()))],_r=Object.freeze({__proto__:null,init:()=>{const t={},r=(v,y)=>{if(nt(v.others).length===0)throw new Error("Cannot find any known coupled components");return Rt(t,y)},l=(v,y,D)=>r(y,D).getOrThunk(()=>{const X=Rt(y.others,D).getOrDie("No information found for coupled component: "+D)(v),ce=v.getSystem().build(X);return t[D]=ce,ce}),d=(v,y,D)=>r(y,D).orThunk(()=>(Rt(y.others,D).getOrDie("No information found for coupled component: "+D),f.none())),g=ht({});return Tl({readState:g,getExisting:d,getOrCreate:l})}});const Ns=gi({fields:No,name:"coupling",apis:Ss,state:_r}),Da=["input","button","textarea","select"],Lc=(t,r,l)=>{(r.disabled()?Kl:Dc)(t,r)},qf=(t,r)=>r.useNative===!0&&G(Da,el(t.element)),W1=t=>ii(t.element,"disabled"),K1=t=>{ss(t.element,"disabled","disabled")},Er=t=>{Kr(t.element,"disabled")},dl=t=>Ua(t.element,"aria-disabled")==="true",ul=t=>{ss(t.element,"aria-disabled","true")},ac=t=>{ss(t.element,"aria-disabled","false")},Kl=(t,r,l)=>{r.disableClass.each(g=>{na(t.element,g)}),(qf(t,r)?K1:ul)(t),r.onDisabled(t)},Dc=(t,r,l)=>{r.disableClass.each(g=>{Vr(t.element,g)}),(qf(t,r)?Er:ac)(t),r.onEnabled(t)},mi=(t,r)=>qf(t,r)?W1(t):dl(t);var S0=Object.freeze({__proto__:null,enable:Dc,disable:Kl,isDisabled:mi,onLoad:Lc,set:(t,r,l,d)=>{(d?Kl:Dc)(t,r)}}),R7=Object.freeze({__proto__:null,exhibit:(t,r)=>Nd({classes:r.disabled()?r.disableClass.toArray():[]}),events:(t,r)=>Qr([xm(qc(),(l,d)=>mi(l,t)),mb(t,r,Lc)])}),h_=[$r("disabled",ge),tn("useNative",!0),xr("disableClass"),Us("onDisabled"),Us("onEnabled")];const zo=gi({fields:h_,name:"disabling",active:R7,apis:S0}),Hd=(t,r,l,d,g)=>{const v=y=>y+"px";return{position:t,left:r.map(v),top:l.map(v),right:d.map(v),bottom:g.map(v)}},b_=t=>({...t,position:f.some(t.position)}),T0=(t,r)=>{Qa(t,b_(r))},Bm=(t,r)=>{const l=t.element;na(l,r.transitionClass),Vr(l,r.fadeOutClass),na(l,r.fadeInClass),r.onShow(t)},Fm=(t,r)=>{const l=t.element;na(l,r.transitionClass),Vr(l,r.fadeInClass),na(l,r.fadeOutClass),r.onHide(t)},qk=(t,r)=>t.y<r.bottom&&t.bottom>r.y,Yk=(t,r)=>t.y>=r.y,v_=(t,r)=>t.bottom<=r.bottom,M7=(t,r,l)=>({location:"top",leftX:r,topY:l.bounds.y-t.y}),x_=(t,r,l)=>({location:"bottom",leftX:r,bottomY:t.bottom-l.bounds.bottom}),y_=t=>t.box.x-t.win.x,ZP=(t,r,l)=>{const d=r.win,g=r.box,v=y_(r);return ct(t,y=>{switch(y){case"bottom":return v_(g,l.bounds)?f.none():f.some(x_(d,v,l));case"top":return Yk(g,l.bounds)?f.none():f.some(M7(d,v,l));default:return f.none()}}).getOr({location:"no-dock"})},GP=(t,r,l)=>A(t,d=>{switch(d){case"bottom":return v_(r,l.bounds);case"top":return Yk(r,l.bounds)}}),qP=(t,r)=>{const l=r.optScrollEnv.fold(ht(t.bounds.y),d=>d.scrollElmTop+(t.bounds.y-d.currentScrollTop));return Dr(t.bounds.x,l)},YP=(t,r)=>{const l=r.optScrollEnv.fold(ht(t.y),d=>t.y+d.currentScrollTop-d.scrollElmTop);return Dr(t.x,l)},H3=(t,r,l)=>l.getInitialPos().map(d=>{const g=qP(d,r);return{box:Ka(g.left,g.top,ei(t),qr(t)),location:d.location}}),I7=(t,r,l,d,g)=>{const v=YP(r,l),y=Ka(v.left,v.top,r.width,r.height);d.setInitialPos({style:zg(t),position:pa(t,"position")||"static",bounds:y,location:g.location})},XP=(t,r,l,d,g)=>{d.getInitialPos().fold(()=>I7(t,r,l,d,g),()=>lt)},JP=(t,r,l)=>l.getInitialPos().bind(d=>{var g;switch(l.clearInitialPos(),d.position){case"static":return f.some({morph:"static"});case"absolute":const v=y1(t).getOr(gc()),y=ha(v),D=(g=v.dom.scrollTop)!==null&&g!==void 0?g:0;return f.some({morph:"absolute",positionCss:Hd("absolute",Rt(d.style,"left").map(U=>r.x-y.x),Rt(d.style,"top").map(U=>r.y-y.y+D),Rt(d.style,"right").map(U=>y.right-r.right),Rt(d.style,"bottom").map(U=>y.bottom-r.bottom))});default:return f.none()}}),Xk=(t,r,l)=>H3(t,r,l).filter(({box:d})=>GP(l.getModes(),d,r)).bind(({box:d})=>JP(t,d,l)),C_=t=>{switch(t.location){case"top":return f.some({morph:"fixed",positionCss:Hd("fixed",f.some(t.leftX),f.some(t.topY),f.none(),f.none())});case"bottom":return f.some({morph:"fixed",positionCss:Hd("fixed",f.some(t.leftX),f.none(),f.none(),f.some(t.bottomY))});default:return f.none()}},QP=(t,r,l)=>{const d=ha(t),g=ol(),v=ZP(l.getModes(),{win:g,box:d},r);return v.location==="top"||v.location==="bottom"?(I7(t,d,r,l,v),C_(v)):f.none()},Au=(t,r,l)=>Xk(t,r,l).orThunk(()=>r.optScrollEnv.bind(d=>H3(t,r,l)).bind(({box:d,location:g})=>{const v=ol(),y=y_({win:v,box:d}),D=g==="top"?M7(v,y,r):x_(v,y,r);return C_(D)})),Jk=(t,r,l)=>{const d=t.element;return At(er(d,"position"),"fixed")?Au(d,r,l):QP(d,r,l)},e$=(t,r,l)=>{const d=t.element;return H3(d,r,l).bind(({box:g})=>JP(d,g,l))},gJ=(t,r,l,d)=>{const g=ha(t),v=ol(),y=y_({win:v,box:g}),D=d(v,y,r);return D.location==="bottom"||D.location==="top"?(XP(t,g,r,l,D),C_(D)):f.none()},t$=(t,r,l)=>{l.setDocked(!1),ee(["left","right","top","bottom","position"],d=>Ps(t.element,d)),r.onUndocked(t)},__=(t,r,l,d)=>{const g=d.position==="fixed";l.setDocked(g),T0(t.element,d),(g?r.onDocked:r.onUndocked)(t)},E_=(t,r,l,d,g=!1)=>{r.contextual.each(v=>{v.lazyContext(t).each(y=>{const D=qk(y,d.bounds);D!==l.isVisible()&&(l.setVisible(D),g&&!D?($l(t.element,[v.fadeOutClass]),v.onHide(t)):(D?Bm:Fm)(t,v))})})},Qk=(t,r,l,d,g)=>{E_(t,r,l,d,!0),__(t,r,l,g.positionCss)},n$=(t,r,l,d,g)=>{switch(g.morph){case"static":return t$(t,r,l);case"absolute":return __(t,r,l,g.positionCss);case"fixed":return Qk(t,r,l,d,g)}},o$=(t,r,l)=>{const d=r.lazyViewport(t);E_(t,r,l,d),Jk(t,d,l).each(g=>{n$(t,r,l,d,g)})},s$=(t,r,l)=>{const d=t.element;l.setDocked(!1);const g=r.lazyViewport(t);e$(t,g,l).each(v=>{switch(v.morph){case"static":{t$(t,r,l);break}case"absolute":{__(t,r,l,v.positionCss);break}}}),l.setVisible(!0),r.contextual.each(v=>{Cl(d,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),B7(t,r,l)},B7=(t,r,l)=>{t.getSystem().isConnected()&&o$(t,r,l)},k0=(t,r,l)=>{l.isDocked()&&s$(t,r,l)},F7=t=>(r,l,d)=>{const g=l.lazyViewport(r);gJ(r.element,g,d,t).each(y=>{Qk(r,l,d,g,y)})},r$=F7(M7),w_=F7(x_);var a$=Object.freeze({__proto__:null,refresh:B7,reset:k0,isDocked:(t,r,l)=>l.isDocked(),getModes:(t,r,l)=>l.getModes(),setModes:(t,r,l,d)=>l.setModes(d),forceDockToTop:r$,forceDockToBottom:w_}),i$=Object.freeze({__proto__:null,events:(t,r)=>Qr([ym(Vh(),(l,d)=>{t.contextual.each(g=>{Ma(l.element,g.transitionClass)&&(Cl(l.element,[g.transitionClass,g.fadeInClass]),(r.isVisible()?g.onShown:g.onHidden)(l)),d.stop()})}),xn(Zh(),(l,d)=>{B7(l,t,r)}),xn(g8(),(l,d)=>{B7(l,t,r)}),xn(Gh(),(l,d)=>{k0(l,t,r)})])}),l$=[wl("contextual",[Ga("fadeInClass"),Ga("fadeOutClass"),Ga("transitionClass"),Cc("lazyContext"),Us("onShow"),Us("onShown"),Us("onHide"),Us("onHidden")]),$r("lazyViewport",()=>({bounds:ol(),optScrollEnv:f.none()})),Rf("modes",["top","bottom"],Aa),Us("onDocked"),Us("onUndocked")],c$=Object.freeze({__proto__:null,init:t=>{const r=et(!1),l=et(!0),d=Do(),g=et(t.modes),v=()=>`docked:  ${r.get()}, visible: ${l.get()}, modes: ${g.get().join(",")}`;return Tl({isDocked:r.get,setDocked:r.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:l.get,setVisible:l.set,getModes:g.get,setModes:g.set,readState:v})}});const ea=gi({fields:l$,name:"docking",active:i$,apis:a$,state:c$}),z3=Zn.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),P7=t=>r=>r.translate(-t.left,-t.top),$7=t=>r=>r.translate(t.left,t.top),lg=t=>(r,l)=>re(t,(d,g)=>g(d),Dr(r,l)),H7=(t,r,l)=>t.fold(lg([$7(l),P7(r)]),lg([P7(r)]),lg([])),Xf=(t,r,l)=>t.fold(lg([$7(l)]),lg([]),lg([$7(r)])),z7=(t,r,l)=>t.fold(lg([]),lg([P7(l)]),lg([$7(r),P7(l)])),d$=(t,r,l,d,g,v)=>{const y=Xf(t,g,v),D=Xf(r,g,v);return Math.abs(y.left-D.left)<=l&&Math.abs(y.top-D.top)<=d},T_=(t,r,l,d,g,v)=>{const y=Xf(t,g,v),D=Xf(r,g,v),U=Math.abs(y.left-D.left),X=Math.abs(y.top-D.top);return Dr(U,X)},tA=(t,r,l)=>{const d=t.fold((g,v)=>({position:f.some("absolute"),left:f.some(g+"px"),top:f.some(v+"px")}),(g,v)=>({position:f.some("absolute"),left:f.some(g-l.left+"px"),top:f.some(v-l.top+"px")}),(g,v)=>({position:f.some("fixed"),left:f.some(g+"px"),top:f.some(v+"px")}));return{right:f.none(),bottom:f.none(),...d}},wo=(t,r,l)=>t.fold((d,g)=>U7(d+r,g+l),(d,g)=>dg(d+r,g+l),(d,g)=>j1(d+r,g+l)),cg=(t,r,l,d)=>{const g=(v,y)=>(D,U)=>{const X=v(r,l,d);return y(D.getOr(X.left),U.getOr(X.top))};return t.fold(g(z7,U7),g(Xf,dg),g(H7,j1))},U7=z3.offset,dg=z3.absolute,j1=z3.fixed,V7=(t,r)=>{const l=Ua(t,r);return Go(l)?NaN:parseInt(l,10)},u$=(t,r)=>{const l=t.element,d=V7(l,r.leftAttr),g=V7(l,r.topAttr);return isNaN(d)||isNaN(g)?f.none():f.some(Dr(d,g))},nA=(t,r,l)=>{const d=t.element;ss(d,r.leftAttr,l.left+"px"),ss(d,r.topAttr,l.top+"px")},oA=(t,r)=>{const l=t.element;Kr(l,r.leftAttr),Kr(l,r.topAttr)},k_=(t,r,l,d)=>u$(t,r).fold(()=>l,g=>j1(g.left+d.left,g.top+d.top)),f$=(t,r,l,d,g,v)=>{const y=k_(t,r,l,d),D=r.mustSnap?p$(t,r,y,g,v):aA(t,r,y,g,v),U=H7(y,g,v);return nA(t,r,U),D.fold(()=>({coord:j1(U.left,U.top),extra:f.none()}),X=>({coord:X.output,extra:X.extra}))},sA=(t,r)=>{oA(t,r)},rA=(t,r,l,d)=>ct(t,g=>{const v=g.sensor;return d$(r,v,g.range.left,g.range.top,l,d)?f.some({output:cg(g.output,r,l,d),extra:g.extra}):f.none()}),p$=(t,r,l,d,g)=>{const v=r.getSnapPoints(t);return rA(v,l,d,g).orThunk(()=>re(v,(U,X)=>{const ce=X.sensor,Se=T_(l,ce,X.range.left,X.range.top,d,g);return U.deltas.fold(()=>({deltas:f.some(Se),snap:f.some(X)}),He=>{const Qe=(Se.left+Se.top)/2,Je=(He.left+He.top)/2;return Qe<=Je?{deltas:f.some(Se),snap:f.some(X)}:U})},{deltas:f.none(),snap:f.none()}).snap.map(U=>({output:cg(U.output,l,d,g),extra:U.extra})))},aA=(t,r,l,d,g)=>{const v=r.getSnapPoints(t);return rA(v,l,d,g)},g$=(t,r,l)=>({coord:cg(t.output,t.output,r,l),extra:t.extra});var A_=Object.freeze({__proto__:null,snapTo:(t,r,l,d)=>{const g=r.getTarget(t.element);if(r.repositionTarget){const v=Rl(t.element),y=Ri(v),D=Ih(g),U=g$(d,y,D),X=tA(U.coord,y,D);Qa(g,X)}}});const Fi=(t,r)=>U2(t,{},H(r,l=>eC(l.name(),"Cannot configure "+l.name()+" for "+t)).concat([Wi("dump",eo)])),A0=t=>t.dump,Ti=(t,r)=>({...Xn(r),...t.dump}),nd={field:Fi,augment:Ti,get:A0},Z1=(t,r)=>(t.length>0?[Nf("parts",t)]:[]).concat([Bn("uid"),tn("dom",{}),tn("components",[]),G2("originalSpec"),tn("debug.sketcher",{})]).concat(r),W7=(t,r,l,d,g)=>{const v=Z1(d,g);return sl(t+" [SpecSchema]",yc(v.concat(r)),l)},m$=(t,r,l,d)=>{const g=L_(d),v=W7(t,r,g,[],[]);return l(v,g)},O_=(t,r,l,d,g)=>{const v=L_(g),y=T8(l),D=Ju(l),U=W7(t,r,v,y,[D]),X=D1(t,U,l),ce=yu(t,U,X.internals());return d(U,ce,v,X.externals())},h$=t=>zt(t,"uid"),L_=t=>h$(t)?t:{...t,uid:Rm("uid")},b$=t=>t.uid!==void 0,v$=yc([Bn("name"),Bn("factory"),Bn("configFields"),tn("apis",{}),tn("extraApis",{})]),iA=yc([Bn("name"),Bn("factory"),Bn("configFields"),Bn("partFields"),tn("apis",{}),tn("extraApis",{})]),od=t=>{const r=sl("Sketcher for "+t.name,v$,t),l=v=>m$(r.name,r.configFields,r.factory,v),d=tt(r.apis,H1),g=tt(r.extraApis,(v,y)=>C8(v,y));return{name:r.name,configFields:r.configFields,sketch:l,...d,...g}},ic=t=>{const r=sl("Sketcher for "+t.name,iA,t),l=y=>O_(r.name,r.configFields,r.partFields,r.factory,y),d=um(r.name,r.partFields),g=tt(r.apis,H1),v=tt(r.extraApis,(y,D)=>C8(y,D));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:l,parts:d,...g,...v}},Jf=od({name:"Container",factory:t=>{const{attributes:r,...l}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...l},components:t.components,behaviours:A0(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[tn("components",[]),Fi("containerBehaviours",[]),tn("events",{}),tn("domModification",{}),tn("eventOrder",{})]}),cv="data-initial-z-index",lA=t=>{Xl(t.element).filter(hl).each(r=>{ai(r,cv).fold(()=>Ps(r,"z-index"),l=>Mo(r,"z-index",l)),Kr(r,cv)})},cA=t=>{Xl(t.element).filter(hl).each(r=>{er(r,"z-index").each(l=>{ss(r,cv,l)}),Mo(r,"z-index",pa(t.element,"z-index"))})},D_=(t,r)=>{t.getSystem().addToGui(r),cA(r)},y$=t=>{lA(t),t.getSystem().removeFromGui(t)},dA=(t,r,l)=>t.getSystem().build(Jf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:l}));var C$=wl("snaps",[Bn("getSnapPoints"),Us("onSensor"),Bn("leftAttr"),Bn("topAttr"),tn("lazyViewport",ol),tn("mustSnap",!1)]);const N_=[tn("useFixed",ge),Bn("blockerClass"),tn("getTarget",eo),tn("onDrag",lt),tn("repositionTarget",!0),tn("onDrop",lt),$r("getBounds",ol),C$],_$=t=>on(er(t,"left"),er(t,"top"),er(t,"position"),(r,l,d)=>(d==="fixed"?j1:U7)(parseInt(r,10),parseInt(l,10))).getOrThunk(()=>{const r=Ni(t);return dg(r.left,r.top)}),dv=(t,r,l,d,g)=>{const v=g.bounds,y=Xf(r,l,d),D=te(y.left,v.x,v.x+v.width-g.width),U=te(y.top,v.y,v.y+v.height-g.height),X=dg(D,U);return r.fold(()=>{const ce=z7(X,l,d);return U7(ce.left,ce.top)},ht(X),()=>{const ce=H7(X,l,d);return j1(ce.left,ce.top)})},uA=(t,r,l,d,g,v,y)=>{const D=r.fold(()=>{const U=wo(l,v.left,v.top),X=H7(U,d,g);return j1(X.left,X.top)},U=>{const X=f$(t,U,l,v,d,g);return X.extra.each(ce=>{U.onSensor(t,ce)}),X.coord});return dv(t,D,d,g,y)},fA=(t,r,l,d)=>{const g=r.getTarget(t.element);if(r.repositionTarget){const v=Rl(t.element),y=Ri(v),D=Ih(g),U=_$(g),X=uA(t,r.snaps,U,y,D,d,l),ce=tA(X,y,D);Qa(g,ce)}r.onDrag(t,g,d)},R_=(t,r)=>({bounds:t.getBounds(),height:Di(r.element),width:f1(r.element)}),K7=(t,r,l,d,g)=>{const v=l.update(d,g),y=l.getStartData().getOrThunk(()=>R_(r,t));v.each(D=>{fA(t,r,y,D)})},M_=(t,r,l,d)=>{r.each(y$),l.snaps.each(v=>{sA(t,v)});const g=l.getTarget(t.element);d.reset(),l.onDrop(t,g)},I_=t=>(r,l)=>{const d=g=>{l.setStartData(R_(r,g))};return Qr([xn(Zh(),g=>{l.getStartData().each(()=>d(g))}),...t(r,l,d)])},E$=t=>Qr([xn(rl(),t.forceDrop),xn(R5(),t.drop),xn(om(),(r,l)=>{t.move(l.event)}),xn(qa(),t.delayDrop)]);var w$=Object.freeze({__proto__:null,getData:t=>f.from(Dr(t.x,t.y)),getDelta:(t,r)=>Dr(r.left-t.left,r.top-t.top)});const uv=(t,r,l)=>[xn(rl(),(d,g)=>{if(g.event.raw.button!==0)return;g.stop();const y=()=>M_(d,f.some(X),t,r),D=nC(y,200),U={drop:y,delayDrop:D.schedule,forceDrop:y,move:Se=>{D.cancel(),K7(d,t,r,w$,Se)}},X=dA(d,t.blockerClass,E$(U));(()=>{l(d),D_(d,X)})()})],S$=[...N_,Rr("dragger",{handlers:I_(uv)})],gA=t=>Qr([xn(Mf(),t.forceDrop),xn(E1(),t.drop),xn(nm(),t.drop),xn(If(),(r,l)=>{t.move(l.event)})]),Al=t=>{const r=t[0];return f.some(Dr(r.clientX,r.clientY))};var B_=Object.freeze({__proto__:null,getData:t=>{const l=t.raw.touches;return l.length===1?Al(l):f.none()},getDelta:(t,r)=>Dr(r.left-t.left,r.top-t.top)});const mA=(t,r,l)=>{const d=Do(),g=v=>{M_(v,d.get(),t,r),d.clear()};return[xn(Mf(),(v,y)=>{y.stop();const D=()=>g(v),U={drop:D,delayDrop:lt,forceDrop:D,move:Se=>{K7(v,t,r,B_,Se)}},X=dA(v,t.blockerClass,gA(U));d.set(X),(()=>{l(v),D_(v,X)})()}),xn(If(),(v,y)=>{y.stop(),K7(v,t,r,B_,y.event)}),xn(E1(),(v,y)=>{y.stop(),g(v)}),xn(nm(),g)]},hA=[...N_,Rr("dragger",{handlers:I_(mA)})],bA=(t,r,l)=>[...uv(t,r,l),...mA(t,r,l)],k$=[...N_,Rr("dragger",{handlers:I_(bA)})];var vA=Object.freeze({__proto__:null,mouse:S$,touch:hA,mouseOrTouch:k$}),A$=Object.freeze({__proto__:null,init:()=>{let t=f.none(),r=f.none();const l=()=>{t=f.none(),r=f.none()},d=(U,X)=>{const ce=t.map(Se=>U.getDelta(Se,X));return t=f.some(X),ce},g=(U,X)=>U.getData(X).bind(ce=>d(U,ce)),v=U=>{r=f.some(U)},y=()=>r,D=ht({});return Tl({readState:D,reset:l,update:g,getStartData:y,setStartData:v})}});const Pm=z8({branchKey:"mode",branches:vA,name:"dragging",active:{events:(t,r)=>t.dragger.handlers(t,r)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:f.from(t.extra)})},state:A$,apis:A_}),xA=["input","textarea"],F_=t=>{const r=el(t);return G(xA,r)},yA=(t,r)=>{const l=r.getRoot(t).getOr(t.element);Vr(l,r.invalidClass),r.notify.each(d=>{F_(t.element)&&ss(t.element,"aria-invalid",!1),d.getContainer(t).each(g=>{wf(g,d.validHtml)}),d.onValid(t)})},CA=(t,r,l,d)=>{const g=r.getRoot(t).getOr(t.element);na(g,r.invalidClass),r.notify.each(v=>{F_(t.element)&&ss(t.element,"aria-invalid",!0),v.getContainer(t).each(y=>{wf(y,d)}),v.onInvalid(t,d)})},_A=(t,r,l)=>r.validator.fold(()=>Hn.pure(zn.value(!0)),d=>d.validate(t)),P_=(t,r,l)=>(r.notify.each(d=>{d.onValidate(t)}),_A(t,r).map(d=>t.getSystem().isConnected()?d.fold(g=>(CA(t,r,l,g),zn.error(g)),g=>(yA(t,r),zn.value(g))):zn.error("No longer in system")));var EA=Object.freeze({__proto__:null,markValid:yA,markInvalid:CA,query:_A,run:P_,isInvalid:(t,r)=>{const l=r.getRoot(t).getOr(t.element);return Ma(l,r.invalidClass)}}),wA=Object.freeze({__proto__:null,events:(t,r)=>t.validator.map(l=>Qr([xn(l.onEvent,d=>{P_(d,t,r).get(eo)})].concat(l.validateOnLoad?[Wr(d=>{P_(d,t,r).get(lt)})]:[]))).getOr({})}),SA=[Bn("invalidClass"),tn("getRoot",f.none),wl("notify",[tn("aria","alert"),tn("getContainer",f.none),tn("validHtml",""),Us("onValid"),Us("onInvalid"),Us("onValidate")]),wl("validator",[Bn("validate"),tn("onEvent","input"),tn("validateOnLoad",!0)])];const j7=(t,r,l)=>{r.store.manager.onLoad(t,r,l)},TA=(t,r,l)=>{r.store.manager.onUnload(t,r,l)};var kA=Object.freeze({__proto__:null,onLoad:j7,onUnload:TA,setValue:(t,r,l,d)=>{r.store.manager.setValue(t,r,l,d)},getValue:(t,r,l)=>r.store.manager.getValue(t,r,l),getState:(t,r,l)=>l}),L$=Object.freeze({__proto__:null,events:(t,r)=>{const l=t.resetOnDom?[Wr((d,g)=>{j7(d,t,r)}),wu((d,g)=>{TA(d,t,r)})]:[mb(t,r,j7)];return Qr(l)}});const AA=()=>{const t=et(null),r=()=>({mode:"memory",value:t.get()}),l=()=>t.get()===null,d=()=>{t.set(null)};return Tl({set:t.set,get:t.get,isNotSet:l,clear:d,readState:r})},OA=()=>Tl({readState:lt}),Z7=()=>{const t=et({}),r=et({});return Tl({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:r.get()}),lookup:y=>Rt(t.get(),y).orThunk(()=>Rt(r.get(),y)),update:y=>{const D=t.get(),U=r.get(),X={},ce={};ee(y,Se=>{X[Se.value]=Se,Rt(Se,"meta").each(He=>{Rt(He,"text").each(Qe=>{ce[Qe]=Se})})}),t.set({...D,...X}),r.set({...U,...ce})},clear:()=>{t.set({}),r.set({})}})};var D$=Object.freeze({__proto__:null,memory:AA,dataset:Z7,manual:OA,init:t=>t.store.manager.state(t)});const ug=(t,r,l,d)=>{const g=r.store;l.update([d]),g.setValue(t,d),r.onSetValue(t,d)},DA=(t,r,l)=>{const d=r.store,g=d.getDataKey(t);return l.lookup(g).getOrThunk(()=>d.getFallbackEntry(g))},NA=(t,r,l)=>{r.store.initialValue.each(g=>{ug(t,r,l,g)})},N$=(t,r,l)=>{l.clear()};var R$=[xr("initialValue"),Bn("getFallbackEntry"),Bn("getDataKey"),Bn("setValue"),Rr("manager",{setValue:ug,getValue:DA,onLoad:NA,onUnload:N$,state:Z7})];const pv=(t,r,l)=>r.store.getValue(t),gv=(t,r,l,d)=>{r.store.setValue(t,d),r.onSetValue(t,d)},RA=(t,r,l)=>{r.store.initialValue.each(d=>{r.store.setValue(t,d)})};var $_=[Bn("getValue"),tn("setValue",lt),xr("initialValue"),Rr("manager",{setValue:gv,getValue:pv,onLoad:RA,onUnload:lt,state:Dd.init})];const $m=(t,r,l,d)=>{l.set(d),r.onSetValue(t,d)},Hm=(t,r,l)=>l.get(),M$=(t,r,l)=>{r.store.initialValue.each(d=>{l.isNotSet()&&l.set(d)})},I$=(t,r,l)=>{l.clear()};var MA=[xr("initialValue"),Rr("manager",{setValue:$m,getValue:Hm,onLoad:M$,onUnload:I$,state:AA})],fg=[Sl("store",{mode:"memory"},El("mode",{memory:MA,manual:$_,dataset:R$})),Us("onSetValue"),tn("resetOnDom",!1)];const yo=gi({fields:fg,name:"representing",active:L$,apis:kA,extra:{setValueFrom:(t,r)=>{const l=yo.getValue(r);yo.setValue(t,l)}},state:D$}),G1=gi({fields:SA,name:"invalidating",active:wA,apis:EA,extra:{validation:t=>r=>{const l=yo.getValue(r);return Hn.pure(t(l))}}});var IA=Object.freeze({__proto__:null,exhibit:(t,r)=>Nd({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const G7=Zn.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),q7=(t,r,l,d,g,v)=>{const y=r.rect,D=y.x-l,U=y.y-d,X=y.width,ce=y.height,Se=g-(D+X),He=v-(U+ce),Qe=f.some(D),Je=f.some(U),vt=f.some(Se),Lt=f.some(He),_t=f.none();return j5(r.direction,()=>Hd(t,Qe,Je,_t,_t),()=>Hd(t,_t,Je,vt,_t),()=>Hd(t,Qe,_t,_t,Lt),()=>Hd(t,_t,_t,vt,Lt),()=>Hd(t,Qe,Je,_t,_t),()=>Hd(t,Qe,_t,_t,Lt),()=>Hd(t,Qe,Je,_t,_t),()=>Hd(t,_t,Je,vt,_t))},H_=(t,r)=>t.fold(()=>{const l=r.rect;return Hd("absolute",f.some(l.x),f.some(l.y),f.none(),f.none())},(l,d,g,v)=>q7("absolute",r,l,d,g,v),(l,d,g,v)=>q7("fixed",r,l,d,g,v)),z_=(t,r)=>{const l=Qo(Mh,r),d=t.fold(l,l,()=>{const y=Ri();return Mh(r).translate(-y.left,-y.top)}),g=f1(r),v=Di(r);return Ka(d.left,d.top,g,v)},F$=(t,r)=>r.fold(()=>t.fold(ol,ol,Ka),l=>t.fold(ht(l),ht(l),()=>{const d=BA(t,l.x,l.y);return Ka(d.left,d.top,l.width,l.height)})),BA=(t,r,l)=>{const d=Dr(r,l),g=()=>{const v=Ri();return d.translate(-v.left,-v.top)};return t.fold(ht(d),ht(d),g)},Y7=(t,r,l,d)=>t.fold(r,l,d);G7.none;const U_=G7.relative,X7=G7.fixed,FA=(t,r)=>({anchorBox:t,origin:r}),P$=(t,r)=>FA(t,r),mv=Zn.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),PA=(t,r)=>{const{x:l,y:d,right:g,bottom:v}=r,{x:y,y:D,right:U,bottom:X,width:ce,height:Se}=t,He=y>=l&&y<=g,Qe=D>=d&&D<=v,Je=He&&Qe,vt=U<=g&&U>=l,Lt=X<=v&&X>=d,_t=vt&&Lt,$t=Math.min(ce,y>=l?g-y:U-l),Vt=Math.min(Se,D>=d?v-D:X-d);return{originInBounds:Je,sizeInBounds:_t,visibleW:$t,visibleH:Vt}},$A=(t,r)=>{const{x:l,y:d,right:g,bottom:v}=r,{x:y,y:D,width:U,height:X}=t,ce=Math.max(l,g-U),Se=Math.max(d,v-X),He=te(y,l,ce),Qe=te(D,d,Se),Je=Math.min(He+U,g)-He,vt=Math.min(Qe+X,v)-Qe;return Ka(He,Qe,Je,vt)},HA=(t,r,l)=>{const d=ht(r.bottom-l.y),g=ht(l.bottom-r.y),v=Z5(t,g,g,d),y=ht(r.right-l.x),D=ht(l.right-r.x);return{maxWidth:pm(t,D,D,y),maxHeight:v}},$$=(t,r,l,d)=>{const g=t.bubble,v=g.offset,y=lC(d,t.restriction,v),D=t.x+v.left,U=t.y+v.top,X=Ka(D,U,r,l),{originInBounds:ce,sizeInBounds:Se,visibleW:He,visibleH:Qe}=PA(X,y),Je=ce&&Se,vt=Je?X:$A(X,y),Lt=vt.width>0&&vt.height>0,{maxWidth:_t,maxHeight:$t}=HA(t.direction,vt,d),Vt={rect:vt,maxHeight:$t,maxWidth:_t,direction:t.direction,placement:t.placement,classes:{on:g.classesOn,off:g.classesOff},layout:t.label,testY:U};return Je||t.alwaysFit?mv.fit(Vt):mv.nofit(Vt,He,Qe,Lt)},V_=(t,r,l,d,g,v)=>{const y=d.width,D=d.height,U=(ce,Se,He,Qe,Je)=>{const vt=ce(l,d,g,t,v),Lt=$$(vt,y,D,v);return Lt.fold(ht(Lt),(_t,$t,Vt,an)=>(Je===an?Vt>Qe||$t>He:!Je&&an)?Lt:mv.nofit(Se,He,Qe,Je))};return re(r,(ce,Se)=>{const He=Qo(U,Se);return ce.fold(ht(ce),He)},mv.nofit({rect:l,maxHeight:d.height,maxWidth:d.width,direction:N1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:l.y},-1,-1,!1)).fold(eo,eo)},zA=["top","bottom","right","left"],J7="data-alloy-transition-timer",H$=(t,r)=>Ug(t,r.classes),z$=(t,r,l)=>l.exists(d=>{const g=t.mode;return g==="all"?!0:d[g]!==r[g]}),UA=(t,r)=>{const l=d=>parseFloat(d).toFixed(3);return ft(r,(d,g)=>{const v=t[g].map(l),y=d.map(l);return!Tt(v,y)}).isSome()},U$=t=>{const r=v=>{const D=pa(t,v).split(/\s*,\s*/);return be(D,Ur)},l=v=>{if(ot(v)&&/^[\d.]+/.test(v)){const y=parseFloat(v);return Tr(v,"ms")?y:y*1e3}else return 0},d=r("transition-delay"),g=r("transition-duration");return re(g,(v,y,D)=>{const U=l(d[D])+l(y);return Math.max(v,U)},0)},V$=(t,r)=>{const l=qo(),d=qo();let g;const v=X=>{var ce;const Se=(ce=X.raw.pseudoElement)!==null&&ce!==void 0?ce:"";return Rs(X.target,t)&&wa(Se)&&G(zA,X.raw.propertyName)},y=X=>{if(Co(X)||v(X)){l.clear(),d.clear();const ce=X==null?void 0:X.raw.type;(Co(ce)||ce===Vh())&&(clearTimeout(g),Kr(t,J7),Cl(t,r.classes))}},D=Js(t,Dp(),X=>{v(X)&&(D.unbind(),l.set(Js(t,Vh(),y)),d.set(Js(t,vu(),y)))}),U=U$(t);window.requestAnimationFrame(()=>{g=setTimeout(y,U+17),ss(t,J7,g)})},VA=(t,r)=>{$l(t,r.classes),ai(t,J7).each(l=>{clearTimeout(parseInt(l,10)),Kr(t,J7)}),V$(t,r)},hv=(t,r,l,d,g,v)=>{const y=z$(d,g,v);if(y||H$(t,d)){Mo(t,"position",l.position);const D=z_(r,t),U=H_(r,{...g,rect:D}),X=q(zA,ce=>U[ce]);UA(l,X)&&(Qa(t,X),y&&VA(t,d),kr(t))}else Cl(t,d.classes)},W$=t=>({width:Math.ceil(f1(t)),height:Di(t)}),bv=(t,r,l,d)=>{Ps(r,"max-height"),Ps(r,"max-width");const g=W$(r);return V_(r,d.preference,t,g,l,d.bounds)},W_=(t,r)=>{const l=r.classes;Cl(t,l.off),$l(t,l.on)},WA=(t,r,l)=>{const d=l.maxHeightFunction;d(t,r.maxHeight)},KA=(t,r,l)=>{const d=l.maxWidthFunction;d(t,r.maxWidth)},K$=(t,r,l)=>{const d=H_(l.origin,r);l.transition.each(g=>{hv(t,l.origin,d,g,r,l.lastPlacement)}),T0(t,d)},j$=(t,r)=>{rb(t,r.placement)},K_=(t,r,l)=>t[r]===void 0?l:t[r],Z$=(t,r,l,d,g,v,y,D)=>{const U=K_(y,"maxHeightFunction",lb()),X=K_(y,"maxWidthFunction",lt),ce=t.anchorBox,Se=t.origin,He={bounds:F$(Se,v),origin:Se,preference:d,maxHeightFunction:U,maxWidthFunction:X,lastPlacement:g,transition:D};return jA(ce,r,l,He)},jA=(t,r,l,d)=>{const g=bv(t,r,l,d);return K$(r,g,d),j$(r,g),W_(r,g),WA(r,g,d),KA(r,g,d),{layout:g.layout,placement:g.placement}},Q7=eo,L0=()=>wl("layouts",[Bn("onLtr"),Bn("onRtl"),xr("onBottomLtr"),xr("onBottomRtl")]),vv=(t,r,l,d,g,v,y)=>{const D=y.map(dC).getOr(!1),U=r.layouts.map(Qe=>Qe.onLtr(t)),X=r.layouts.map(Qe=>Qe.onRtl(t)),ce=D?r.layouts.bind(Qe=>Qe.onBottomLtr.map(Je=>Je(t))).or(U).getOr(g):U.getOr(l),Se=D?r.layouts.bind(Qe=>Qe.onBottomRtl.map(Je=>Je(t))).or(X).getOr(v):X.getOr(d);return D2(ce,Se)(t)},ex=(t,r,l)=>{const d=r.hotspot,g=z_(l,d.element),v=vv(t.element,r,sb(),Pp(),ob(),mm(),f.some(r.hotspot.element));return f.some(Q7({anchorBox:g,bubble:r.bubble.getOr(Qu()),overrides:r.overrides,layouts:v}))};var j_=[Bn("hotspot"),xr("bubble"),tn("overrides",{}),L0(),Rr("placement",ex)];const Z_=(t,r,l)=>{const d=BA(l,r.x,r.y),g=Ka(d.left,d.top,r.width,r.height),v=vv(t.element,r,tb(),nb(),tb(),nb(),f.none());return f.some(Q7({anchorBox:g,bubble:r.bubble,overrides:r.overrides,layouts:v}))};var G$=[Bn("x"),Bn("y"),tn("height",0),tn("width",0),tn("bubble",Qu()),tn("overrides",{}),L0(),Rr("placement",Z_)];const ZA=Zn.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),q$=t=>t.fold(eo,(r,l,d)=>r.translate(-l,-d)),Y$=t=>t.fold(eo,eo),G_=t=>re(t,(r,l)=>r.translate(l.left,l.top),Dr(0,0)),GA=t=>{const r=H(t,q$);return G_(r)},qA=t=>{const r=H(t,Y$);return G_(r)},X$=ZA.screen,J$=ZA.absolute,Q$=(t,r,l)=>{const d=Pu(l.root).dom,g=v=>{const y=Rl(v),D=Rl(t.element);return Rs(y,D)};return f.from(d.frameElement).map(cn.fromDom).filter(g).map(Ni)},YA=(t,r,l)=>{const d=Rl(t.element),g=Ri(d),v=Q$(t,r,l).getOr(g);return J$(v,g.left,g.top)},q_=(t,r,l,d)=>{const g=X$(Dr(t,r));return f.some(g5(g,l,d))},Y_=(t,r,l,d,g)=>t.map(v=>{const y=[r,v.point],D=Y7(d,()=>qA(y),()=>qA(y),()=>GA(y)),U=Vy(D.left,D.top,v.width,v.height),X=l.showAbove?ob():sb(),ce=l.showAbove?mm():Pp(),Se=vv(g,l,X,ce,X,ce,f.none());return Q7({anchorBox:U,bubble:l.bubble.getOr(Qu()),overrides:l.overrides,layouts:Se})}),eH=(t,r,l)=>{const d=YA(t,l,r);return r.node.filter(nl).bind(g=>{const v=g.dom.getBoundingClientRect(),y=q_(v.left,v.top,v.width,v.height),D=r.node.getOr(t.element);return Y_(y,d,r,l,D)})};var tH=[Bn("node"),Bn("root"),xr("bubble"),L0(),tn("overrides",{}),tn("showAbove",!1),Rr("placement",eH)];const tx=(t,r)=>({element:t,offset:r}),nH=(t,r)=>{const l=Hc(t);if(l.length===0)return tx(t,r);if(r<l.length)return tx(l[r],0);{const d=l[l.length-1],g=tu(d)?d5(d).length:Hc(d).length;return tx(d,g)}},XA=(t,r)=>tu(t)?tx(t,r):nH(t,r),q1=t=>t.foffset!==void 0,JA=(t,r)=>r.getSelection.getOrThunk(()=>()=>Wu(t))().map(d=>{if(q1(d)){const g=XA(d.start,d.soffset),v=XA(d.finish,d.foffset);return hc.range(g.element,g.offset,v.element,v.offset)}else return d}),oH=(t,r,l)=>{const d=Pu(r.root).dom,g=YA(t,l,r),v=JA(d,r).bind(U=>{if(q1(U))return jg(d,hc.exactFromRange(U)).orThunk(()=>{const ce=cn.fromText(Pt);c1(U.start,ce);const Se=Kg(d,hc.exact(ce,0,ce,1));return ec(ce),Se}).bind(ce=>q_(ce.left,ce.top,ce.width,ce.height));{const X=tt(U,Se=>Se.dom.getBoundingClientRect()),ce={left:Math.min(X.firstCell.left,X.lastCell.left),right:Math.max(X.firstCell.right,X.lastCell.right),top:Math.min(X.firstCell.top,X.lastCell.top),bottom:Math.max(X.firstCell.bottom,X.lastCell.bottom)};return q_(ce.left,ce.top,ce.right-ce.left,ce.bottom-ce.top)}}),D=JA(d,r).bind(U=>q1(U)?hl(U.start)?f.some(U.start):Jl(U.start):f.some(U.firstCell)).getOr(t.element);return Y_(v,g,r,l,D)};var D0=[xr("getSelection"),Bn("root"),xr("bubble"),L0(),tn("overrides",{}),tn("showAbove",!1),Rr("placement",oH)];const xv="link-layout",QA=t=>t.x+t.width,pg=(t,r)=>t.x-r.width,eO=(t,r)=>t.y-r.height+t.height,tO=t=>t.y,zd=(t,r,l)=>La(QA(t),tO(t),l.southeast(),N1(),"southeast",Ei(t,{left:0,top:2}),xv),X_=(t,r,l)=>La(pg(t,r),tO(t),l.southwest(),G5(),"southwest",Ei(t,{right:1,top:2}),xv),J_=(t,r,l)=>La(QA(t),eO(t,r),l.northeast(),q5(),"northeast",Ei(t,{left:0,bottom:3}),xv),Q_=(t,r,l)=>La(pg(t,r),eO(t,r),l.northwest(),s3(),"northwest",Ei(t,{right:1,bottom:3}),xv),nO=()=>[zd,X_,J_,Q_],yv=()=>[X_,zd,Q_,J_],oO=(t,r,l)=>{const d=z_(l,r.item.element),g=vv(t.element,r,nO(),yv(),nO(),yv(),f.none());return f.some(Q7({anchorBox:d,bubble:Qu(),overrides:r.overrides,layouts:g}))};var sH=[Bn("item"),L0(),tn("overrides",{}),Rr("placement",oO)],rH=El("type",{selection:D0,node:tH,hotspot:j_,submenu:sH,makeshift:G$});const nx=[_c("classes",Aa),Ec("mode","all",["all","layout","placement"])],eE=[tn("useFixed",ge),xr("getBounds")],sO=[Vl("anchor",rH),wl("transition",nx)],rO=()=>{const t=document.documentElement;return X7(0,0,t.clientWidth,t.clientHeight)},aO=t=>{const r=Ni(t.element),l=t.element.dom.getBoundingClientRect();return U_(r.left,r.top,l.width,l.height)},aH=(t,r,l,d,g,v)=>{const y=P$(r.anchorBox,t);return Z$(y,d.element,r.bubble,r.layouts,g,l,r.overrides,v)},tE=(t,r,l,d,g)=>{const v=f.none();nE(t,r,l,d,g,v)},nE=(t,r,l,d,g,v)=>{const y=sl("placement.info",ns(sO),g),D=y.anchor,U=d.element,X=l.get(d.uid);Tu(()=>{Mo(U,"position","fixed");const ce=er(U,"visibility");Mo(U,"visibility","hidden");const Se=r.useFixed()?rO():aO(t);D.placement(t,D,Se).each(He=>{const Qe=v.orThunk(()=>r.getBounds.map($)),Je=aH(Se,He,Qe,d,X,y.transition);l.set(d.uid,Je)}),ce.fold(()=>{Ps(U,"visibility")},He=>{Mo(U,"visibility",He)}),er(U,"left").isNone()&&er(U,"top").isNone()&&er(U,"right").isNone()&&er(U,"bottom").isNone()&&At(er(U,"position"),"fixed")&&Ps(U,"position")},U)};var iH=Object.freeze({__proto__:null,position:tE,positionWithinBounds:nE,getMode:(t,r,l)=>r.useFixed()?"fixed":"absolute",reset:(t,r,l,d)=>{const g=d.element;ee(["position","left","right","top","bottom"],v=>Ps(g,v)),ab(g),l.clear(d.uid)}}),lH=Object.freeze({__proto__:null,init:()=>{let t={};return Tl({readState:()=>t,clear:g=>{Eo(g)?delete t[g]:t={}},set:(g,v)=>{t[g]=v},get:g=>Rt(t,g)})}});const ki=gi({fields:eE,name:"positioning",active:IA,apis:iH,state:lH}),ox=(t,r)=>r.universal?t:be(t,l=>G(r.channels,l));var lO=Object.freeze({__proto__:null,events:t=>Qr([xn(Ff(),(r,l)=>{const d=t.channels,g=nt(d),v=l,y=ox(g,v);ee(y,D=>{const U=d[D],X=U.schema,ce=sl("channel["+D+`] data
Receiver: `+$f(r.element),X,v.data);U.onReceive(r,ce)})})])}),dH=[Vl("channels",E5(zn.value,yc([Jh("onReceive"),tn("schema",gu())])))];const sd=gi({fields:dH,name:"receiving",active:lO});var uH=Object.freeze({__proto__:null,events:(t,r)=>{const l=(d,g)=>{t.updateState.each(v=>{const y=v(d,g);r.set(y)}),t.renderComponents.each(v=>{const y=v(g,r.get());(t.reuseDom?sg:Kb)(d,y)})};return Qr([xn(Ff(),(d,g)=>{const v=g;if(!v.universal){const y=t.channel;G(v.channels,y)&&l(d,v.data)}}),Wr((d,g)=>{t.initialData.each(v=>{l(d,v)})})])}}),dO=Object.freeze({__proto__:null,getState:(t,r,l)=>l}),uO=[Bn("channel"),xr("renderComponents"),xr("updateState"),xr("initialData"),Oa("reuseDom",!0)],fH=Object.freeze({__proto__:null,init:()=>{const t=et(f.none()),r=()=>t.set(f.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:r}}});const Nc=gi({fields:uO,name:"reflecting",active:uH,apis:dO,state:fH}),pO=(t,r,l,d)=>{l.get().each(y=>{w7(t)});const g=r.getAttachPoint(t);Fd(g,t);const v=t.getSystem().build(d);return Fd(t,v),l.set(v),v},gO=(t,r,l,d)=>{const g=pO(t,r,l,d);return r.onOpen(t,g),g},pH=(t,r,l,d)=>l.get().map(()=>pO(t,r,l,d)),mO=(t,r,l,d,g)=>{sx(t,r),gO(t,r,l,d),g(),yO(t,r)},hO=(t,r,l)=>{l.get().each(d=>{w7(t),nf(t),r.onClose(t,d),l.clear()})},bO=(t,r,l)=>l.isOpen(),oE=(t,r,l,d)=>bO(t,r,l)&&l.get().exists(g=>r.isPartOf(t,g,d)),vO=(t,r,l)=>l.get(),xO=(t,r,l,d)=>{er(t.element,r).fold(()=>{Kr(t.element,l)},g=>{ss(t.element,l,g)}),Mo(t.element,r,d)},gH=(t,r,l)=>{ai(t.element,l).fold(()=>Ps(t.element,r),d=>Mo(t.element,r,d))},sx=(t,r,l)=>{const d=r.getAttachPoint(t);Mo(t.element,"position",ki.getMode(d)),xO(t,"visibility",r.cloakVisibilityAttr,"hidden")},mH=t=>P(["top","left","right","bottom"],r=>er(t,r).isSome()),yO=(t,r,l)=>{mH(t.element)||Ps(t.element,"position"),gH(t,"visibility",r.cloakVisibilityAttr)};var hH=Object.freeze({__proto__:null,cloak:sx,decloak:yO,open:gO,openWhileCloaked:mO,close:hO,isOpen:bO,isPartOf:oE,getState:vO,setContent:pH}),bH=Object.freeze({__proto__:null,events:(t,r)=>Qr([xn(Kh(),(l,d)=>{hO(l,t,r)})])}),CO=[Us("onOpen"),Us("onClose"),Bn("isPartOf"),Bn("getAttachPoint"),tn("cloakVisibilityAttr","data-precloak-visibility")],vH=Object.freeze({__proto__:null,init:()=>{const t=Do(),r=ht("not-implemented");return Tl({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const sr=gi({fields:CO,name:"sandboxing",active:bH,apis:hH,state:vH}),Cv=(t,r)=>r.getAnimationRoot.fold(()=>t.element,l=>l(t)),gg=t=>t.dimension.property,N0=(t,r)=>t.dimension.getDimension(r),rx=(t,r)=>{const l=Cv(t,r);Cl(l,[r.shrinkingClass,r.growingClass])},sE=(t,r)=>{Vr(t.element,r.openClass),na(t.element,r.closedClass),Mo(t.element,gg(r),"0px"),kr(t.element)},rE=(t,r)=>{Vr(t.element,r.closedClass),na(t.element,r.openClass),Ps(t.element,gg(r))},aE=(t,r,l,d)=>{l.setCollapsed(),Mo(t.element,gg(r),N0(r,t.element)),rx(t,r),sE(t,r),r.onStartShrink(t),r.onShrunk(t)},xH=(t,r,l,d)=>{const g=d.getOrThunk(()=>N0(r,t.element));l.setCollapsed(),Mo(t.element,gg(r),g),kr(t.element);const v=Cv(t,r);Vr(v,r.growingClass),na(v,r.shrinkingClass),sE(t,r),r.onStartShrink(t)},EO=(t,r,l)=>{const d=N0(r,t.element);(d==="0px"?aE:xH)(t,r,l,f.some(d))},ax=(t,r,l)=>{const d=Cv(t,r),g=Ma(d,r.shrinkingClass),v=N0(r,t.element);rE(t,r);const y=N0(r,t.element);(g?()=>{Mo(t.element,gg(r),v),kr(t.element)}:()=>{sE(t,r)})(),Vr(d,r.shrinkingClass),na(d,r.growingClass),rE(t,r),Mo(t.element,gg(r),y),l.setExpanded(),r.onStartGrow(t)},R0=(t,r,l)=>{if(l.isExpanded()){Ps(t.element,gg(r));const d=N0(r,t.element);Mo(t.element,gg(r),d)}},yH=(t,r,l)=>{l.isExpanded()||ax(t,r,l)},CH=(t,r,l)=>{l.isExpanded()&&EO(t,r,l)},iE=(t,r,l)=>{l.isExpanded()&&aE(t,r,l)},wO=(t,r,l)=>l.isExpanded(),_H=(t,r,l)=>l.isCollapsed(),U3=(t,r,l)=>{const d=Cv(t,r);return Ma(d,r.growingClass)===!0},SO=(t,r,l)=>{const d=Cv(t,r);return Ma(d,r.shrinkingClass)===!0};var wH=Object.freeze({__proto__:null,refresh:R0,grow:yH,shrink:CH,immediateShrink:iE,hasGrown:wO,hasShrunk:_H,isGrowing:U3,isShrinking:SO,isTransitioning:(t,r,l)=>U3(t,r)||SO(t,r),toggleGrow:(t,r,l)=>{(l.isExpanded()?EO:ax)(t,r,l)},disableTransitions:rx,immediateGrow:(t,r,l)=>{l.isExpanded()||(rE(t,r),Mo(t.element,gg(r),N0(r,t.element)),rx(t,r),l.setExpanded(),r.onStartGrow(t),r.onGrown(t))}}),lE=Object.freeze({__proto__:null,exhibit:(t,r,l)=>{const d=r.expanded;return Nd(d?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:tm(r.dimension.property,"0px")})},events:(t,r)=>Qr([ym(Vh(),(l,d)=>{d.event.raw.propertyName===t.dimension.property&&(rx(l,t),r.isExpanded()&&Ps(l.element,t.dimension.property),(r.isExpanded()?t.onGrown:t.onShrunk)(l))})])}),ix=[Bn("closedClass"),Bn("openClass"),Bn("shrinkingClass"),Bn("growingClass"),xr("getAnimationRoot"),Us("onShrunk"),Us("onStartShrink"),Us("onGrown"),Us("onStartGrow"),tn("expanded",!1),Vl("dimension",El("property",{width:[Rr("property","width"),Rr("getDimension",t=>ei(t)+"px")],height:[Rr("property","height"),Rr("getDimension",t=>qr(t)+"px")]}))],Ou=Object.freeze({__proto__:null,init:t=>{const r=et(t.expanded),l=()=>"expanded: "+r.get();return Tl({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:Qo(r.set,!1),setExpanded:Qo(r.set,!0),readState:l})}});const jl=gi({fields:ix,name:"sliding",active:lE,apis:wH,state:Ou});var kH=Object.freeze({__proto__:null,events:(t,r)=>{const d=t.stream.streams.setup(t,r);return Qr([xn(t.event,d),wu(()=>r.cancel())].concat(t.cancelEvent.map(g=>[xn(g,()=>r.cancel())]).getOr([])))}});const kO=t=>{const r=et(null);return Tl({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:v=>{r.set(v)},cancel:()=>{const v=r.get();v!==null&&v.cancel()}})};var Ev=Object.freeze({__proto__:null,throttle:kO,init:t=>t.stream.streams.state(t)});const AH=(t,r)=>{const l=t.stream,d=gt(t.onStream,l.delay);return r.setTimer(d),(g,v)=>{d.throttle(g,v),l.stopEvent&&v.stop()}};var AO=[Vl("stream",El("mode",{throttle:[Bn("delay"),tn("stopEvent",!0),Rr("streams",{setup:AH,state:kO})]})),tn("event","input"),xr("cancelEvent"),Jh("onStream")];const wv=gi({fields:AO,name:"streaming",active:kH,state:Ev});var cE=Object.freeze({__proto__:null,exhibit:(t,r)=>Nd({attributes:Uh([{key:r.tabAttr,value:"true"}])})}),dE=[tn("tabAttr","data-alloy-tabstop")];const Hr=gi({fields:dE,name:"tabstopping",active:cE}),OO=(t,r,l)=>{const d=r.aria;d.update(t,d,l.get())},LO=(t,r,l)=>{r.toggleClass.each(d=>{l.get()?na(t.element,d):Vr(t.element,d)})},Sv=(t,r,l,d)=>{const g=l.get();l.set(d),LO(t,r,l),OO(t,r,l),g!==d&&r.onToggled(t,d)},uE=(t,r,l)=>{Sv(t,r,l,!l.get())},DO=(t,r,l)=>{Sv(t,r,l,!0)},OH=(t,r,l)=>{Sv(t,r,l,!1)},LH=(t,r,l)=>l.get(),NO=(t,r,l)=>{Sv(t,r,l,r.selected)};var DH=Object.freeze({__proto__:null,onLoad:NO,toggle:uE,isOn:LH,on:DO,off:OH,set:Sv}),RO=Object.freeze({__proto__:null,exhibit:()=>Nd({}),events:(t,r)=>{const l=mC(t,r,uE),d=mb(t,r,NO);return Qr(K([t.toggleOnExecute?[l]:[],[d]]))}});const RH=(t,r,l)=>{ss(t.element,"aria-pressed",l),r.syncWithExpanded&&BO(t,r,l)},MO=(t,r,l)=>{ss(t.element,"aria-selected",l)},IO=(t,r,l)=>{ss(t.element,"aria-checked",l)},BO=(t,r,l)=>{ss(t.element,"aria-expanded",l)};var MH=[tn("selected",!1),xr("toggleClass"),tn("toggleOnExecute",!0),Us("onToggled"),Sl("aria",{mode:"none"},El("mode",{pressed:[tn("syncWithExpanded",!1),Rr("update",RH)],checked:[Rr("update",IO)],expanded:[Rr("update",BO)],selected:[Rr("update",MO)],none:[Rr("update",lt)]}))];const Ys=gi({fields:MH,name:"toggling",active:RO,apis:DH,state:yC(!1)}),fE=_e("tooltip.exclusive"),V3=_e("tooltip.show"),W3=_e("tooltip.hide"),Tv=_e("tooltip.immediateHide"),kv=_e("tooltip.immediateShow"),pE=(t,r,l)=>{t.getSystem().broadcastOn([fE],{})};var $O=Object.freeze({__proto__:null,hideAllExclusive:pE,immediateOpenClose:(t,r,l,d)=>Hs(t,d?kv:Tv),isEnabled:(t,r,l)=>l.isEnabled(),setComponents:(t,r,l,d)=>{l.getTooltip().each(g=>{g.getSystem().isConnected()&&ws.set(g,d)})},setEnabled:(t,r,l,d)=>l.setEnabled(d)}),gE=Object.freeze({__proto__:null,events:(t,r)=>{const l=y=>{r.getTooltip().each(D=>{D.getSystem().isConnected()&&(nf(D),t.onHide(y,D),r.clearTooltip())}),r.clearTimer()},d=y=>{if(!r.isShowing()&&r.isEnabled()){pE(y);const D=t.lazySink(y).getOrDie(),U=y.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Qr(t.mode==="normal"?[xn(kd(),X=>{Hs(y,V3)}),xn(qa(),X=>{Hs(y,W3)})]:[]),behaviours:Xn([ws.config({})])});r.setTooltip(U),Fd(D,U),t.onShow(y,U),ki.position(D,U,{anchor:t.anchor(y)})}},g=y=>{r.getTooltip().each(D=>{const U=t.lazySink(y).getOrDie();ki.position(U,D,{anchor:t.anchor(y)})})},v=()=>{switch(t.mode){case"normal":return[xn(wc(),y=>{Hs(y,kv)}),xn(Wh(),y=>{Hs(y,Tv)}),xn(kd(),y=>{Hs(y,V3)}),xn(qa(),y=>{Hs(y,W3)})];case"follow-highlight":return[xn(W2(),(y,D)=>{Hs(y,V3)}),xn(S1(),y=>{Hs(y,W3)})];case"children-normal":return[xn(wc(),(y,D)=>{za(y.element).each(U=>{gs(D.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Hs(y,kv)},X=>{r.isShowing()&&(t.onShow(y,X),g(y))})})}),xn(Wh(),y=>{za(y.element).fold(()=>{Hs(y,Tv)},lt)}),xn(kd(),y=>{pr(y.element,"[data-mce-tooltip]:hover").each(D=>{r.getTooltip().fold(()=>{Hs(y,V3)},U=>{r.isShowing()&&(t.onShow(y,U),g(y))})})}),xn(qa(),y=>{pr(y.element,"[data-mce-tooltip]:hover").fold(()=>{Hs(y,W3)},lt)})];default:return[xn(wc(),(y,D)=>{za(y.element).each(U=>{gs(D.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Hs(y,kv)},X=>{r.isShowing()&&(t.onShow(y,X),g(y))})})}),xn(Wh(),y=>{za(y.element).fold(()=>{Hs(y,Tv)},lt)})]}};return Qr(K([[B8(y=>{t.onSetup(y)}),xn(V3,y=>{r.resetTimer(()=>{d(y)},t.delayForShow())}),xn(W3,y=>{r.resetTimer(()=>{l(y)},t.delayForHide())}),xn(kv,y=>{r.resetTimer(()=>{d(y)},0)}),xn(Tv,y=>{r.resetTimer(()=>{l(y)},0)}),xn(Ff(),(y,D)=>{const U=D;U.universal||(G(U.channels,fE)||G(U.channels,p0()))&&(U.data.closedTooltip&&r.isShowing()&&U.data.closedTooltip(),l(y))}),wu(y=>{l(y)})],v()]))}}),FH=[Bn("lazySink"),Bn("tooltipDom"),tn("exclusive",!0),tn("tooltipComponents",[]),$r("delayForShow",ht(300)),$r("delayForHide",ht(100)),$r("onSetup",lt),Ec("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),tn("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:ht([Ba,pi,jr,fi,Ya,wi]),onRtl:ht([Ba,pi,jr,fi,Ya,wi])},bubble:Xc(0,-2,{})})),Us("onHide"),Us("onShow")],HO=Object.freeze({__proto__:null,init:()=>{const t=et(!0),r=Do(),l=Do(),d=()=>{r.on(clearTimeout)},g=(y,D)=>{d(),r.set(setTimeout(y,D))},v=ht("not-implemented");return Tl({getTooltip:l.get,isShowing:l.isSet,setTooltip:l.set,clearTooltip:l.clear,clearTimer:d,resetTimer:g,readState:v,isEnabled:()=>t.get(),setEnabled:y=>t.set(y)})}});const wr=gi({fields:FH,name:"tooltipping",active:gE,state:HO,apis:$O});var lx=Object.freeze({__proto__:null,events:()=>Qr([xm(u8(),a)]),exhibit:()=>Nd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Av=gi({fields:[],name:"unselecting",active:lx}),UO=t=>{const r=t.dom.attributes!==void 0?t.dom.attributes:[];return re(r,(l,d)=>d.name==="class"?l:{...l,[d.name]:d.value},{})},VO=t=>Array.prototype.slice.call(t.dom.classList,0),Y1=t=>{const r=cn.fromHtml(t),l=Hc(r),d=UO(r),g=VO(r),v=l.length===0?{}:{innerHtml:Il(r)};return{tag:el(r),classes:g,attributes:d,...v}},mr=t=>{const r=b$(t)&&Zt(t,"uid")?t.uid:Rm("memento");return{get:v=>v.getSystem().getByUid(r).getOrDie(),getOpt:v=>v.getSystem().getByUid(r).toOptional(),asSpec:()=>({...t,uid:r})}},hi=n0,X1=L1,WO=(t,r)=>{const l=et(!1),d=et(!1);return{stop:()=>{l.set(!0)},cut:()=>{d.set(!0)},isStopped:l.get,isCut:d.get,event:t,setSource:r.set,getSource:r.get}},KO=t=>{const r=et(!1);return{stop:()=>{r.set(!0)},cut:lt,isStopped:r.get,isCut:ge,event:t,setSource:b("Cannot set source of a broadcasted event"),getSource:b("Cannot get source of a broadcasted event")}},jO=t=>t.raw.which===Ao[0]&&!G(["input","textarea"],el(t.target))&&!_p(t.target,'[contenteditable="true"]'),ZO=(t,r)=>{const l={stopBackspace:!0,...r},d=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],g=lm(l),v=H(d.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Qe=>Js(t,Qe,Je=>{g.fireIfReady(Je,Qe).each(Lt=>{Lt&&Je.kill()}),l.triggerEvent(Qe,Je)&&Je.kill()})),y=Do(),D=Js(t,"paste",Qe=>{g.fireIfReady(Qe,"paste").each(vt=>{vt&&Qe.kill()}),l.triggerEvent("paste",Qe)&&Qe.kill(),y.set(setTimeout(()=>{l.triggerEvent(I5(),Qe)},0))}),U=Js(t,"keydown",Qe=>{l.triggerEvent("keydown",Qe)?Qe.kill():l.stopBackspace&&jO(Qe)&&Qe.prevent()}),X=Js(t,"focusin",Qe=>{l.triggerEvent("focusin",Qe)&&Qe.kill()}),ce=Do(),Se=Js(t,"focusout",Qe=>{l.triggerEvent("focusout",Qe)&&Qe.kill(),ce.set(setTimeout(()=>{l.triggerEvent(Wh(),Qe)},0))});return{unbind:()=>{ee(v,Qe=>{Qe.unbind()}),U.unbind(),X.unbind(),Se.unbind(),D.unbind(),y.on(clearTimeout),ce.on(clearTimeout)}}},GO=(t,r)=>{const l=Rt(t,"target").getOr(r);return et(l)},M0=Zn.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),qO=(t,r,l,d,g,v)=>{const y=t(r,d),D=WO(l,g);return y.fold(()=>(v.logEventNoHandlers(r,d),M0.complete()),U=>{const X=U.descHandler;return Jb(X)(D),D.isStopped()?(v.logEventStopped(r,U.element,X.purpose),M0.stopped()):D.isCut()?(v.logEventCut(r,U.element,X.purpose),M0.complete()):Xl(U.element).fold(()=>(v.logNoParent(r,U.element,X.purpose),M0.complete()),Se=>(v.logEventResponse(r,U.element,X.purpose),M0.resume(Se)))})},YO=(t,r,l,d,g,v)=>qO(t,r,l,d,g,v).fold(a,y=>YO(t,r,l,y,g,v),ge),$H=(t,r,l,d,g)=>{const v=GO(l,d);return qO(t,r,l,d,v,g)},HH=(t,r,l)=>{const d=KO(r);return ee(t,g=>{const v=g.descHandler;Jb(v)(d)}),d.isStopped()},XO=(t,r,l,d)=>JO(t,r,l,l.target,d),JO=(t,r,l,d,g)=>{const v=GO(l,d);return YO(t,r,l,d,v,g)},Ov=(t,r)=>({element:t,descHandler:r}),QO=(t,r)=>({id:t,descHandler:r}),zH=()=>{const t={},r=(y,D,U)=>{Me(U,(X,ce)=>{const Se=t[ce]!==void 0?t[ce]:{};Se[D]=c_(X,y),t[ce]=Se})},l=(y,D)=>$d(D).bind(U=>Rt(y,U)).map(U=>Ov(D,U));return{registerId:r,unregisterId:y=>{Me(t,(D,U)=>{zt(D,y)&&delete D[y]})},filterByType:y=>Rt(t,y).map(D=>xt(D,(U,X)=>QO(X,U))).getOr([]),find:(y,D,U)=>Rt(t,D).bind(X=>Wg(U,ce=>l(X,ce),y))}},UH=()=>{const t=zH(),r={},l=X=>{const ce=X.element;return $d(ce).getOrThunk(()=>qb("uid-",X.element))},d=(X,ce)=>{const Se=r[ce];if(Se===X)v(X);else throw new Error('The tagId "'+ce+'" is already used by: '+$f(Se.element)+`
Cannot use it for: `+$f(X.element)+`
The conflicting element is`+(nl(Se.element)?" ":" not ")+"already in the DOM")},g=X=>{const ce=l(X);Zt(r,ce)&&d(X,ce);const Se=[X];t.registerId(Se,ce,X.events),r[ce]=X},v=X=>{$d(X.element).each(ce=>{delete r[ce],t.unregisterId(ce)})};return{find:(X,ce,Se)=>t.find(X,ce,Se),filter:X=>t.filterByType(X),register:g,unregister:v,getById:X=>Rt(r,X)}},Lv=t=>{const r=_t=>Xl(t.element).fold(a,$t=>Rs(_t,$t)),l=UH(),d=(_t,$t)=>l.find(r,_t,$t),g=ZO(t.element,{triggerEvent:(_t,$t)=>j2(_t,$t.target,Vt=>XO(d,_t,$t,Vt))}),v={debugInfo:ht("real"),triggerEvent:(_t,$t,Vt)=>{j2(_t,$t,an=>JO(d,_t,Vt,$t,an))},triggerFocus:(_t,$t)=>{$d(_t).fold(()=>{hr(_t)},Vt=>{j2(oc(),_t,an=>($H(d,oc(),{originator:$t,kill:lt,prevent:lt,target:_t},_t,an),!1))})},triggerEscape:(_t,$t)=>{v.triggerEvent("keydown",_t.element,$t.event)},getByUid:_t=>vt(_t),getByDom:_t=>Lt(_t),build:C,buildOrPatch:m,addToGui:_t=>{U(_t)},removeFromGui:_t=>{X(_t)},addToWorld:_t=>{y(_t)},removeFromWorld:_t=>{D(_t)},broadcast:_t=>{He(_t)},broadcastOn:(_t,$t)=>{Qe(_t,$t)},broadcastEvent:(_t,$t)=>{Je(_t,$t)},isConnected:a},y=_t=>{_t.connect(v),tu(_t.element)||(l.register(_t),ee(_t.components(),y),v.triggerEvent(jh(),_t.element,{target:_t.element}))},D=_t=>{tu(_t.element)||(ee(_t.components(),D),l.unregister(_t)),_t.disconnect()},U=_t=>{Fd(t,_t)},X=_t=>{nf(_t)},ce=()=>{g.unbind(),ec(t.element)},Se=_t=>{const $t=l.filter(Ff());ee($t,Vt=>{const an=Vt.descHandler;Jb(an)(_t)})},He=_t=>{Se({universal:!0,data:_t})},Qe=(_t,$t)=>{Se({universal:!1,channels:_t,data:$t})},Je=(_t,$t)=>{const Vt=l.filter(_t);return HH(Vt,$t)},vt=_t=>l.getById(_t).fold(()=>zn.error(new Error('Could not find component with uid: "'+_t+'" in system.')),zn.value),Lt=_t=>{const $t=$d(_t).getOr("not found");return vt($t)};return y(t),{root:t,element:t.element,destroy:ce,add:U,remove:X,getByUid:vt,getByDom:Lt,addToWorld:y,removeFromWorld:D,broadcast:He,broadcastOn:Qe,broadcastEvent:Je}},eL=()=>{const t=(r,l)=>{l.stop(),vm(r)};return[xn(bu(),t),xn(Np(),t),Up(Mf()),Up(rl())]},mE=t=>{const r=l=>Wf((d,g)=>{l(d),g.stop()});return Qr(K([t.map(r).toArray(),eL()]))},pl=od({name:"Button",factory:t=>{const r=mE(t.action),l=t.dom.tag,d=v=>Rt(t.dom,"attributes").bind(y=>Rt(y,v)),g=()=>{if(l==="button"){const v=d("type").getOr("button"),y=d("role").map(D=>({role:D})).getOr({});return{type:v,...y}}else return{role:t.role.getOr(d("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:nd.augment(t.buttonBehaviours,[Es.config({}),Ho.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:g()},eventOrder:t.eventOrder}},configFields:[tn("uid",void 0),Bn("dom"),tn("components",[]),nd.field("buttonBehaviours",[Es,Ho]),xr("action"),xr("role"),tn("eventOrder",{})]}),VH=ht([tn("shell",!1),Bn("makeItem"),tn("setupItem",lt),nd.field("listBehaviours",[ws])]),KH=Ad({name:"items",overrides:()=>({behaviours:Xn([ws.config({})])})}),jH=ht([KH]),ZH=ht("CustomList"),tL=(t,r,l,d)=>{const g=(D,U)=>{y(D).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},X=>{const ce=ws.contents(X),Se=U.length,He=Se-ce.length,Qe=He>0?F(He,()=>t.makeItem()):[],Je=ce.slice(Se);ee(Je,Lt=>ws.remove(X,Lt)),ee(Qe,Lt=>ws.append(X,Lt));const vt=ws.contents(X);ee(vt,(Lt,_t)=>{t.setupItem(D,Lt,U[_t],_t)})})},v=t.shell?{behaviours:[ws.config({})],components:[]}:{behaviours:[],components:r},y=D=>t.shell?f.some(D):nr(D,t,"items");return{uid:t.uid,dom:t.dom,components:v.components,behaviours:Ti(t.listBehaviours,v.behaviours),apis:{setItems:g}}},nL=ic({name:ZH(),configFields:VH(),partFields:jH(),factory:tL,apis:{setItems:(t,r,l)=>{t.setItems(r,l)}}}),Dv="aria-controls",oL=t=>kh(t,l=>{if(!hl(l))return!1;const d=Ua(l,"id");return d!==void 0&&d.indexOf(Dv)>-1}).bind(l=>{const d=Ua(l,"id"),g=Ra(l);return pr(g,`[${Dv}="${d}"]`)}),sL=()=>{const t=_e(Dv);return{id:t,link:d=>{ss(d,Dv,t)},unlink:d=>{Kr(d,Dv)}}},rL=(t,r)=>oL(r).exists(l=>zm(t,l)),zm=(t,r)=>F2(r,l=>Rs(l,t.element),ge)||rL(t,r),cx="alloy.item-hover",aL="alloy.item-focus",hE="alloy.item-toggled",iL=t=>{(za(t.element).isNone()||Es.isFocused(t))&&(Es.isFocused(t)||Es.focus(t),Jo(t,cx,{item:t}))},K3=t=>{Jo(t,aL,{item:t})},GH=(t,r)=>{Jo(t,hE,{item:t,state:r})},lL=ht(cx),qH=ht(aL),bE=ht(hE),cL=t=>t.role.fold(()=>t.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),eo),YH=(t,r)=>({aria:{mode:r?"selected":"checked"},...Ye(t,(l,d)=>d!=="exclusive"),onToggled:(l,d)=>{jt(t.onToggled)&&t.onToggled(l,d),GH(l,d)}}),vE=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:cL(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:nd.augment(t.itemBehaviours,[t.toggling.fold(Ys.revoke,r=>Ys.config(YH(r,t.role.exists(l=>l==="option")))),Es.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:r=>{K3(r)}}),Ho.config({mode:"execution"}),yo.config({store:{mode:"memory",initialValue:t.data}}),Cs("item-type-events",[...eL(),xn(kd(),iL),xn(w1(),Es.focus)])]),components:t.components,eventOrder:t.eventOrder});var XH=[Bn("data"),Bn("components"),Bn("dom"),tn("hasSubmenu",!1),xr("toggling"),xr("role"),nd.field("itemBehaviours",[Ys,Es,Ho,yo]),tn("ignoreFocus",!1),tn("domModification",{}),Rr("builder",vE),tn("eventOrder",{})];const dx=t=>({dom:t.dom,components:t.components,events:Qr([pC(w1())])});var dL=[Bn("dom"),Bn("components"),Rr("builder",dx)];const xE=ht("item-widget"),yE=ht([_i({name:"widget",overrides:t=>({behaviours:Xn([yo.config({store:{mode:"manual",getValue:r=>t.data,setValue:lt}})])})})]),QH=t=>{const r=D1(xE(),t,yE()),l=yu(xE(),t,r.internals()),d=v=>nr(v,t,"widget").map(y=>(Ho.focusIn(y),y)),g=(v,y)=>wm(y.event.target)?f.none():(t.autofocus&&y.setSource(v.element),f.none());return{dom:t.dom,components:l,domModification:t.domModification,events:Qr([Wf((v,y)=>{d(v).each(D=>{y.stop()})}),xn(kd(),iL),xn(w1(),(v,y)=>{t.autofocus?d(v):Es.focus(v)})]),behaviours:nd.augment(t.widgetBehaviours,[yo.config({store:{mode:"memory",initialValue:t.data}}),Es.config({ignore:t.ignoreFocus,onFocus:v=>{K3(v)}}),Ho.config({mode:"special",focusIn:t.autofocus?v=>{d(v)}:hb(),onLeft:g,onRight:g,onEscape:(v,y)=>!Es.isFocused(v)&&!t.autofocus?(Es.focus(v),f.some(!0)):(t.autofocus&&y.setSource(v.element),f.none())})])}};var ez=[Bn("uid"),Bn("data"),Bn("components"),Bn("dom"),tn("autofocus",!1),tn("ignoreFocus",!1),nd.field("widgetBehaviours",[yo,Es,Ho]),tn("domModification",{}),Ju(yE()),Rr("builder",QH)];const tz=El("type",{widget:ez,item:XH,separator:dL}),nz=(t,r)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}),oz=(t,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},previousSelector:r.previousSelector,focusManager:t.focusManager}),sz=(t,r)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}),rz=ht([t3({factory:{sketch:t=>{const r=sl("menu.spec item",tz,t);return r.builder(r)}},name:"items",unit:"item",defaults:(t,r)=>zt(r,"uid")?r:{...r,uid:Rm("item")},overrides:(t,r)=>({type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),CE=ht([xa("role"),Bn("value"),Bn("items"),Bn("dom"),Bn("components"),tn("eventOrder",{}),Fi("menuBehaviours",[gr,yo,yn,Ho]),Sl("movement",{mode:"menu",moveOnTab:!0},El("mode",{grid:[H5(),Rr("config",nz)],matrix:[Rr("config",oz),Bn("rowSelector"),tn("previousSelector",f.none)],menu:[tn("moveOnTab",!0),Rr("config",sz)]})),v8(),tn("fakeFocus",!1),tn("focusManager",_b()),Us("onHighlight"),Us("onDehighlight"),tn("showMenuRole",!0)]),_E=ht("alloy.menu-focus"),az=(t,r)=>{const l=Ia(t.element,'[role="menuitemradio"][aria-checked="true"]');ee(l,d=>{Rs(d,r.element)||t.getSystem().getByDom(d).each(g=>{Ys.off(g)})})},iz=(t,r,l,d)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ti(t.menuBehaviours,[gr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),yo.config({store:{mode:"memory",initialValue:t.value}}),yn.config({find:f.some}),Ho.config(t.movement.config(t,t.movement))]),events:Qr([xn(qH(),(g,v)=>{const y=v.event;g.getSystem().getByDom(y.target).each(D=>{gr.highlight(g,D),v.stop(),Jo(g,_E(),{menu:g,item:D})})}),xn(lL(),(g,v)=>{const y=v.event.item;gr.highlight(g,y)}),xn(bE(),(g,v)=>{const{item:y,state:D}=v.event;D&&Ua(y.element,"role")==="menuitemradio"&&az(g,y)})]),components:r,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),J1=ic({name:"Menu",configFields:CE(),partFields:rz(),factory:iz}),lz=t=>ze(t,(r,l)=>({k:r,v:l})),uL=(t,r,l,d)=>Rt(l,d).bind(g=>Rt(t,g).bind(v=>{const y=uL(t,r,l,v);return f.some([v].concat(y))})).getOr([]),fL=(t,r)=>{const l={};Me(t,(y,D)=>{ee(y,U=>{l[U]=D})});const d=r,g=lz(r),v=tt(g,(y,D)=>[D].concat(uL(l,d,g,D)));return tt(l,y=>Rt(v,y).getOr([y]))},pL=()=>{const t=et({}),r=et({}),l=et({}),d=Do(),g=et({}),v=()=>{t.set({}),r.set({}),l.set({}),d.clear()},y=()=>d.get().isNone(),D=(fn,uo)=>{r.set({...r.get(),[fn]:{type:"prepared",menu:uo}})},U=(fn,uo,Fn,$n)=>{d.set(fn),t.set(Fn),r.set(uo),g.set($n);const Nn=fL($n,Fn);l.set(Nn)},X=fn=>ft(t.get(),(uo,Fn)=>uo===fn),ce=(fn,uo,Fn)=>vt(fn).bind($n=>X(fn).bind(Nn=>uo(Nn).map(Zo=>({triggeredMenu:$n,triggeringItem:Zo,triggeringPath:Fn})))),Se=(fn,uo)=>{const Fn=be(_t(fn).toArray(),$n=>vt($n).isSome());return Rt(l.get(),fn).bind($n=>{const Nn=J(Fn.concat($n)),Zo=R(Nn,(Po,Zs)=>ce(Po,uo,Nn.slice(0,Zs+1)).fold(()=>At(d.get(),Po)?[]:[f.none()],rs=>[f.some(rs)]));return Xt(Zo)})},He=fn=>Rt(t.get(),fn).map(uo=>{const Fn=Rt(l.get(),fn).getOr([]);return[uo].concat(Fn)}),Qe=fn=>Rt(l.get(),fn).bind(uo=>uo.length>1?f.some(uo.slice(1)):f.none()),Je=fn=>Rt(l.get(),fn),vt=fn=>Lt(fn).bind(EE),Lt=fn=>Rt(r.get(),fn),_t=fn=>Rt(t.get(),fn);return{setMenuBuilt:D,setContents:U,expand:He,refresh:Je,collapse:Qe,lookupMenu:Lt,lookupItem:_t,otherMenus:fn=>{const uo=g.get();return V(nt(uo),fn)},getPrimary:()=>d.get().bind(vt),getMenus:()=>r.get(),clear:v,isClear:y,getTriggeringPath:Se}},EE=t=>t.type==="prepared"?f.some(t.menu):f.none(),gL={init:pL,extractPreparedMenu:EE},mL=_e("tiered-menu-item-highlight"),hL=_e("tiered-menu-item-dehighlight"),bL=(t,r)=>{const l=Do(),d=(Ln,oo,ls)=>tt(ls,(Ls,$o)=>{const _s=()=>J1.sketch({...Ls,value:$o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Cr,lr)=>{Jo(Cr,mL,{menuComp:Cr,itemComp:lr})},onDehighlight:(Cr,lr)=>{Jo(Cr,hL,{menuComp:Cr,itemComp:lr})},focusManager:t.fakeFocus?h0():_b()});return $o===oo?{type:"prepared",menu:Ln.getSystem().build(_s())}:{type:"notbuilt",nbMenu:_s}}),g=gL.init(),v=Ln=>{const oo=d(Ln,t.data.primary,t.data.menus),ls=U();return g.setContents(t.data.primary,oo,t.data.expansions,ls),g.getPrimary()},y=Ln=>yo.getValue(Ln).value,D=(Ln,oo,ls)=>ct(oo,Ls=>{if(!Ls.getSystem().isConnected())return f.none();const $o=gr.getCandidates(Ls);return M($o,_s=>y(_s)===ls)}),U=Ln=>tt(t.data.menus,(oo,ls)=>R(oo.items,Ls=>Ls.type==="separator"?[]:[Ls.data.value])),X=gr.highlight,ce=(Ln,oo)=>{X(Ln,oo),gr.getHighlighted(oo).orThunk(()=>gr.getFirst(oo)).each(ls=>{t.fakeFocus?gr.highlight(oo,ls):db(Ln,ls.element,w1())})},Se=(Ln,oo)=>Bt(H(oo,ls=>Ln.lookupMenu(ls).bind(Ls=>Ls.type==="prepared"?f.some(Ls.menu):f.none()))),He=(Ln,oo,ls)=>{const Ls=Se(oo,oo.otherMenus(ls));ee(Ls,$o=>{Cl($o.element,[t.markers.backgroundMenu]),t.stayInDom||ws.remove(Ln,$o)})},Qe=Ln=>l.get().getOrThunk(()=>{const oo={},ls=Ia(Ln.element,`.${t.markers.item}`),Ls=be(ls,$o=>Ua($o,"aria-haspopup")==="true");return ee(Ls,$o=>{Ln.getSystem().getByDom($o).each(_s=>{const Cr=y(_s);oo[Cr]=_s})}),l.set(oo),oo}),Je=(Ln,oo)=>{const ls=Qe(Ln);Me(ls,(Ls,$o)=>{const _s=G(oo,$o);ss(Ls.element,"aria-expanded",_s)})},vt=(Ln,oo,ls)=>f.from(ls[0]).bind(Ls=>oo.lookupMenu(Ls).bind($o=>{if($o.type==="notbuilt")return f.none();{const _s=$o.menu,Cr=Se(oo,ls.slice(1));return ee(Cr,lr=>{na(lr.element,t.markers.backgroundMenu)}),nl(_s.element)||ws.append(Ln,k(_s)),Cl(_s.element,[t.markers.backgroundMenu]),ce(Ln,_s),He(Ln,oo,ls),f.some(_s)}}));let Lt;(function(Ln){Ln[Ln.HighlightSubmenu=0]="HighlightSubmenu",Ln[Ln.HighlightParent=1]="HighlightParent"})(Lt||(Lt={}));const _t=(Ln,oo,ls)=>{if(ls.type==="notbuilt"){const Ls=Ln.getSystem().build(ls.nbMenu());return g.setMenuBuilt(oo,Ls),Ls}else return ls.menu},$t=(Ln,oo,ls=Lt.HighlightSubmenu)=>{if(oo.hasConfigured(zo)&&zo.isDisabled(oo))return f.some(oo);{const Ls=y(oo);return g.expand(Ls).bind($o=>(Je(Ln,$o),f.from($o[0]).bind(_s=>g.lookupMenu(_s).bind(Cr=>{const lr=_t(Ln,_s,Cr);return nl(lr.element)||ws.append(Ln,k(lr)),t.onOpenSubmenu(Ln,oo,lr,J($o)),ls===Lt.HighlightSubmenu?(gr.highlightFirst(lr),vt(Ln,g,$o)):(gr.dehighlightAll(lr),f.some(oo))}))))}},Vt=(Ln,oo)=>{const ls=y(oo);return g.collapse(ls).bind(Ls=>(Je(Ln,Ls),vt(Ln,g,Ls).map($o=>(t.onCollapseMenu(Ln,oo,$o),$o))))},an=(Ln,oo)=>{const ls=y(oo);return g.refresh(ls).bind(Ls=>(Je(Ln,Ls),vt(Ln,g,Ls)))},fn=(Ln,oo)=>wm(oo.element)?f.none():$t(Ln,oo,Lt.HighlightSubmenu),uo=(Ln,oo)=>wm(oo.element)?f.none():Vt(Ln,oo),Fn=(Ln,oo)=>Vt(Ln,oo).orThunk(()=>t.onEscape(Ln,oo).map(()=>Ln)),$n=Ln=>(oo,ls)=>nc(ls.getSource(),`.${t.markers.item}`).bind(Ls=>oo.getSystem().getByDom(Ls).toOptional().bind($o=>Ln(oo,$o).map(a))),Nn=Qr([xn(_E(),(Ln,oo)=>{const ls=oo.event.item;g.lookupItem(y(ls)).each(()=>{const Ls=oo.event.menu;gr.highlight(Ln,Ls);const $o=y(oo.event.item);g.refresh($o).each(_s=>He(Ln,g,_s))})}),Wf((Ln,oo)=>{const ls=oo.event.target;Ln.getSystem().getByDom(ls).each(Ls=>{y(Ls).indexOf("collapse-item")===0&&Vt(Ln,Ls),$t(Ln,Ls,Lt.HighlightSubmenu).fold(()=>{t.onExecute(Ln,Ls)},lt)})}),Wr((Ln,oo)=>{v(Ln).each(ls=>{ws.append(Ln,k(ls)),t.onOpenMenu(Ln,ls),t.highlightOnOpen===il.HighlightMenuAndItem?ce(Ln,ls):t.highlightOnOpen===il.HighlightJustMenu&&X(Ln,ls)})}),xn(mL,(Ln,oo)=>{t.onHighlightItem(Ln,oo.event.menuComp,oo.event.itemComp)}),xn(hL,(Ln,oo)=>{t.onDehighlightItem(Ln,oo.event.menuComp,oo.event.itemComp)}),...t.navigateOnHover?[xn(lL(),(Ln,oo)=>{const ls=oo.event.item;an(Ln,ls),$t(Ln,ls,Lt.HighlightParent),t.onHover(Ln,ls)})]:[]]),Zo=Ln=>gr.getHighlighted(Ln).bind(gr.getHighlighted),Po=Ln=>{Zo(Ln).each(oo=>{Vt(Ln,oo)})},Zs=Ln=>{g.getPrimary().each(oo=>{ce(Ln,oo)})},rs=Ln=>f.from(Ln.components()[0]).filter(oo=>Ua(oo.element,"role")==="menu"),Io={collapseMenu:Po,highlightPrimary:Zs,repositionMenus:Ln=>{g.getPrimary().bind(ls=>Zo(Ln).bind(Ls=>{const $o=y(Ls),_s=Ot(g.getMenus()),Cr=Bt(H(_s,gL.extractPreparedMenu));return g.getTriggeringPath($o,lr=>D(Ln,Cr,lr))}).map(Ls=>({primary:ls,triggeringPath:Ls}))).fold(()=>{rs(Ln).each(ls=>{t.onRepositionMenu(Ln,ls,[])})},({primary:ls,triggeringPath:Ls})=>{t.onRepositionMenu(Ln,ls,Ls)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ti(t.tmenuBehaviours,[Ho.config({mode:"special",onRight:$n(fn),onLeft:$n(uo),onEscape:$n(Fn),focusIn:(Ln,oo)=>{g.getPrimary().each(ls=>{db(Ln,ls.element,w1())})}}),gr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),yn.config({find:Ln=>gr.getHighlighted(Ln)}),ws.config({})]),eventOrder:t.eventOrder,apis:Io,events:Nn}},wE=ht("collapse-item"),cz=(t,r,l)=>({primary:t,menus:r,expansions:l}),dz=(t,r)=>({primary:t,menus:tm(t,r),expansions:{}}),uz=t=>({value:_e(wE()),meta:{text:t}}),I0=od({name:"TieredMenu",configFields:[Z2("onExecute"),Z2("onEscape"),Jh("onOpenMenu"),Jh("onOpenSubmenu"),Us("onRepositionMenu"),Us("onCollapseMenu"),tn("highlightOnOpen",il.HighlightMenuAndItem),Nf("data",[Bn("primary"),Bn("menus"),Bn("expansions")]),tn("fakeFocus",!1),Us("onHighlightItem"),Us("onDehighlightItem"),Us("onHover"),x8(),Bn("dom"),tn("navigateOnHover",!0),tn("stayInDom",!1),Fi("tmenuBehaviours",[Ho,gr,yn,ws]),tn("eventOrder",{})],apis:{collapseMenu:(t,r)=>{t.collapseMenu(r)},highlightPrimary:(t,r)=>{t.highlightPrimary(r)},repositionMenus:(t,r)=>{t.repositionMenus(r)}},factory:bL,extraApis:{tieredData:cz,singleData:dz,collapseItem:uz}}),vL=ht("sink"),fz=ht(Ad({name:vL(),overrides:ht({dom:{tag:"div"},behaviours:Xn([ki.config({useFixed:a})]),events:Qr([Up(di()),Up(rl()),Up(bu())])})})),xL=yc([tn("isExtraPart",ge),wl("fireEventInstead",[tn("event",Rp())])]),ux=t=>{const r=sl("Dismissal",xL,t);return{[Kf()]:{schema:yc([Bn("target")]),onReceive:(l,d)=>{sr.isOpen(l)&&(sr.isPartOf(l,d.target)||r.isExtraPart(l,d.target)||r.fireEventInstead.fold(()=>sr.close(l),v=>Hs(l,v.event)))}}}},pz=yc([wl("fireEventInstead",[tn("event",F5())]),Cc("doReposition")]),SE=t=>{const r=sl("Reposition",pz,t);return{[Mr()]:{onReceive:l=>{sr.isOpen(l)&&r.fireEventInstead.fold(()=>r.doReposition(l),d=>Hs(l,d.event))}}}},yL=(t,r)=>{const l=t.getHotspot(r).getOr(r),d="hotspot",g=t.getAnchorOverrides();return t.layouts.fold(()=>({type:d,hotspot:l,overrides:g}),v=>({type:d,hotspot:l,overrides:g,layouts:v}))},rd=(t,r,l)=>{const d=t.fetch;return d(l).map(r)},rf=(t,r,l,d,g,v,y)=>{const D=rd(t,r,d),U=CL(d,t);return D.map(X=>X.bind(ce=>{const Se=ce.menus[ce.primary];return f.from(Se).each(He=>{t.listRole.each(Qe=>{He.role=Qe})}),f.from(I0.sketch({...v.menu(),uid:Rm(""),data:ce,highlightOnOpen:y,onOpenMenu:(He,Qe)=>{const Je=U().getOrDie();ki.position(Je,Qe,{anchor:l}),sr.decloak(g)},onOpenSubmenu:(He,Qe,Je)=>{const vt=U().getOrDie();ki.position(vt,Je,{anchor:{type:"submenu",item:Qe}}),sr.decloak(g)},onRepositionMenu:(He,Qe,Je)=>{const vt=U().getOrDie();ki.position(vt,Qe,{anchor:l}),ee(Je,Lt=>{ki.position(vt,Lt.triggeredMenu,{anchor:{type:"submenu",item:Lt.triggeringItem}})})},onEscape:()=>(Es.focus(d),sr.close(g),f.some(!0))}))}))},Nv=(t,r,l,d,g,v,y)=>{const D=yL(t,l);return rf(t,r,D,l,d,g,y).map(X=>(X.fold(()=>{sr.isOpen(d)&&sr.close(d)},ce=>{sr.cloak(d),sr.open(d,ce),v(d)}),d))},TE=(t,r,l,d,g,v,y)=>(sr.close(d),Hn.pure(d)),fx=(t,r,l,d,g,v)=>{const y=Ns.getCoupled(l,"sandbox");return(sr.isOpen(y)?TE:Nv)(t,r,l,y,d,g,v)},px=(t,r,l)=>{const d=yn.getCurrent(r).getOr(r),g=ei(t.element);l?Mo(d.element,"min-width",g+"px"):Th(d.element,g)},CL=(t,r)=>t.getSystem().getByUid(r.uid+"-"+vL()).map(l=>()=>zn.value(l)).getOrThunk(()=>r.lazySink.fold(()=>()=>zn.error(new Error("No internal sink is specified, nor could an external sink be found")),l=>()=>l(t))),kE=t=>{sr.getState(t).each(r=>{I0.repositionMenus(r)})},j3=(t,r,l)=>{const d=sL(),g=(D,U)=>{const X=yL(t,r);d.link(r.element),t.matchWidth&&px(X.hotspot,U,t.useMinWidth),t.onOpen(X,D,U),l!==void 0&&l.onOpen!==void 0&&l.onOpen(D,U)},v=(D,U)=>{d.unlink(r.element),y().getOr(U).element.dom.dispatchEvent(new window.FocusEvent("focusout")),l!==void 0&&l.onClose!==void 0&&l.onClose(D,U)},y=CL(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:d.id}},behaviours:nd.augment(t.sandboxBehaviours,[yo.config({store:{mode:"memory",initialValue:r}}),sr.config({onOpen:g,onClose:v,isPartOf:(D,U,X)=>zm(U,X)||zm(r,X),getAttachPoint:()=>y().getOrDie()}),yn.config({find:D=>sr.getState(D).bind(U=>yn.getCurrent(U))}),sd.config({channels:{...ux({isExtraPart:ge}),...SE({doReposition:kE})}})])}},gz=t=>{const r=Ns.getCoupled(t,"sandbox");kE(r)},Rv=()=>[tn("sandboxClasses",[]),nd.field("sandboxBehaviours",[yn,sd,sr,yo])],AE=ht([Bn("dom"),Bn("fetch"),Us("onOpen"),sc("onExecute"),tn("getHotspot",f.some),tn("getAnchorOverrides",ht({})),L0(),Fi("dropdownBehaviours",[Ys,Ns,Ho,Es]),Bn("toggleClass"),tn("eventOrder",{}),xr("lazySink"),tn("matchWidth",!1),tn("useMinWidth",!1),xr("role"),xr("listRole")].concat(Rv())),_L=ht([Tc({schema:[x8(),tn("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),fz()]),Mv=(t,r,l,d)=>{const g=ce=>Rt(t.dom,"attributes").bind(Se=>Rt(Se,ce)),v=ce=>{sr.getState(ce).each(Se=>{I0.highlightPrimary(Se)})},y=(ce,Se,He)=>fx(t,eo,ce,d,Se,He),D=ce=>{y(ce,v,il.HighlightMenuAndItem).get(lt)},U={expand:ce=>{Ys.isOn(ce)||y(ce,lt,il.HighlightNone).get(lt)},open:ce=>{Ys.isOn(ce)||y(ce,lt,il.HighlightMenuAndItem).get(lt)},refetch:ce=>Ns.getExistingCoupled(ce,"sandbox").fold(()=>y(ce,lt,il.HighlightMenuAndItem).map(lt),He=>Nv(t,eo,ce,He,d,lt,il.HighlightMenuAndItem).map(lt)),isOpen:Ys.isOn,close:ce=>{Ys.isOn(ce)&&y(ce,lt,il.HighlightMenuAndItem).get(lt)},repositionMenus:ce=>{Ys.isOn(ce)&&gz(ce)}},X=(ce,Se)=>(vm(ce),f.some(!0));return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.dropdownBehaviours,[Ys.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ns.config({others:{sandbox:ce=>j3(t,ce,{onOpen:()=>Ys.on(ce),onClose:()=>Ys.off(ce)})}}),Ho.config({mode:"special",onSpace:X,onEnter:X,onDown:(ce,Se)=>{if(ad.isOpen(ce)){const He=Ns.getCoupled(ce,"sandbox");v(He)}else ad.open(ce);return f.some(!0)},onEscape:(ce,Se)=>ad.isOpen(ce)?(ad.close(ce),f.some(!0)):f.none()}),Es.config({})]),events:mE(f.some(D)),eventOrder:{...t.eventOrder,[qc()]:["disabling","toggling","alloy.base.behaviour"]},apis:U,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),ce=>({role:ce})),...t.dom.tag==="button"?{type:g("type").getOr("button")}:{}}}}},ad=ic({name:"Dropdown",configFields:AE(),partFields:_L(),factory:Mv,apis:{open:(t,r)=>t.open(r),refetch:(t,r)=>t.refetch(r),expand:(t,r)=>t.expand(r),close:(t,r)=>t.close(r),isOpen:(t,r)=>t.isOpen(r),repositionMenus:(t,r)=>t.repositionMenus(r)}}),EL="form",Qf=[Fi("formBehaviours",[yo])],Rc=t=>"<alloy.field."+t+">",Iv=t=>{const r=(()=>{const v=[];return{field:(D,U)=>(v.push(D),W5(EL,Rc(D),U)),record:ht(v)}})(),l=t(r),d=r.record(),g=H(d,v=>_i({name:v,pname:Rc(v)}));return O_(EL,Qf,g,mz,l)},id=(t,r)=>t.fold(()=>zn.error(r),zn.value),mz=(t,r)=>({uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.formBehaviours,[yo.config({store:{mode:"manual",getValue:l=>{const d=fm(l,t);return tt(d,(g,v)=>g().bind(y=>{const D=yn.getCurrent(y);return id(D,new Error(`Cannot find a current component to extract the value from for form part '${v}': `+$f(y.element)))}).map(yo.getValue))},setValue:(l,d)=>{Me(d,(g,v)=>{nr(l,t,v).each(y=>{yn.getCurrent(y).each(D=>{yo.setValue(D,g)})})})}}})]),apis:{getField:(l,d)=>nr(l,t,d).bind(yn.getCurrent)}}),Sr={getField:H1((t,r,l)=>t.getField(r,l)),sketch:Iv},Z3=ht([Bn("dom"),tn("shell",!0),Fi("toolbarBehaviours",[ws])]),Bv=ht([Ad({name:"groups",overrides:()=>({behaviours:Xn([ws.config({})])})})]),wL=(t,r,l,d)=>{const g=(D,U)=>{v(D).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},X=>{ws.set(X,U)})},v=D=>t.shell?f.some(D):nr(D,t,"groups"),y=t.shell?{behaviours:[ws.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:y.components,behaviours:Ti(t.toolbarBehaviours,y.behaviours),apis:{setGroups:g,refresh:lt},domModification:{attributes:{role:"group"}}}},Lu=ic({name:"Toolbar",configFields:Z3(),partFields:Bv(),factory:wL,apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)}}}),OE=ht([Wl(["toggledClass"]),Bn("lazySink"),Cc("fetch"),hu("getBounds"),wl("fireDismissalEventInstead",[tn("event",Rp())]),L0(),Us("onToggled")]),hz=ht([Tc({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Xn([Ys.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Tc({factory:Lu,schema:Z3(),name:"toolbar",overrides:t=>({toolbarBehaviours:Xn([Ho.config({mode:"cyclic",onEscape:r=>(nr(r,t,"button").each(Es.focus),f.none())})])})})]),G3=Do(),bz=(t,r)=>{G3.set(!0),gx(t,r),G3.clear()},gx=(t,r)=>{const l=Ns.getCoupled(t,"toolbarSandbox");sr.isOpen(l)?sr.close(l):sr.open(l,r.toolbar())},mx=(t,r,l,d)=>{const g=l.getBounds.map(y=>y()),v=l.lazySink(t).getOrDie();ki.positionWithinBounds(v,r,{anchor:{type:"hotspot",hotspot:t,layouts:d,overrides:{maxWidthFunction:u3()}}},g)},hx=(t,r,l,d,g)=>{Lu.setGroups(r,g),mx(t,r,l,d),Ys.on(t)},SL=(t,r,l)=>{const d=sL(),g=(y,D)=>{const U=G3.get().getOr(!1);l.fetch().get(X=>{hx(t,D,l,r.layouts,X),d.link(t.element),U||Ho.focusIn(D)})},v=()=>{Ys.off(t),G3.get().getOr(!1)||Es.focus(t),d.unlink(t.element)};return{dom:{tag:"div",attributes:{id:d.id}},behaviours:Xn([Ho.config({mode:"special",onEscape:y=>(sr.close(y),f.some(!0))}),sr.config({onOpen:g,onClose:v,isPartOf:(y,D,U)=>zm(D,U)||zm(t,U),getAttachPoint:()=>l.lazySink(t).getOrDie()}),sd.config({channels:{...ux({isExtraPart:ge,...l.fireDismissalEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({})}),...SE({doReposition:()=>{sr.getState(Ns.getCoupled(t,"toolbarSandbox")).each(y=>{mx(t,y,l,r.layouts)})}})}})])}},Vm=ic({name:"FloatingToolbarButton",factory:(t,r,l,d)=>({...pl.sketch({...d.button(),action:g=>{gx(g,d)},buttonBehaviours:nd.augment({dump:d.button().buttonBehaviours},[Ns.config({others:{toolbarSandbox:g=>SL(g,l,t)}})])}),apis:{setGroups:(g,v)=>{sr.getState(Ns.getCoupled(g,"toolbarSandbox")).each(y=>{hx(g,y,t,l.layouts,v)})},reposition:g=>{sr.getState(Ns.getCoupled(g,"toolbarSandbox")).each(v=>{mx(g,v,t,l.layouts)})},toggle:g=>{gx(g,d)},toggleWithoutFocusing:g=>{bz(g,d)},getToolbar:g=>sr.getState(Ns.getCoupled(g,"toolbarSandbox")),isOpen:g=>sr.isOpen(Ns.getCoupled(g,"toolbarSandbox"))}}),configFields:OE(),partFields:hz(),apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)},reposition:(t,r)=>{t.reposition(r)},toggle:(t,r)=>{t.toggle(r)},toggleWithoutFocusing:(t,r)=>{t.toggleWithoutFocusing(r)},getToolbar:(t,r)=>t.getToolbar(r),isOpen:(t,r)=>t.isOpen(r)}}),vz=ht([tn("prefix","form-field"),Fi("fieldBehaviours",[yn,yo])]),xz=ht([Ad({schema:[Bn("dom")],name:"label"}),Ad({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Bn("text")],name:"aria-descriptor"}),_i({factory:{sketch:t=>{const r=D5(t,["factory"]);return t.factory.sketch(r)}},schema:[Bn("factory")],name:"field"})]),yz=(t,r,l,d)=>{const g=Ti(t.fieldBehaviours,[yn.config({find:D=>nr(D,t,"field")}),yo.config({store:{mode:"manual",getValue:D=>yn.getCurrent(D).bind(yo.getValue),setValue:(D,U)=>{yn.getCurrent(D).each(X=>{yo.setValue(X,U)})}}})]),v=Qr([Wr((D,U)=>{const X=n3(D,t,["label","field","aria-descriptor"]);X.field().each(ce=>{const Se=_e(t.prefix);X.label().each(He=>{ss(He.element,"for",Se),ss(ce.element,"id",Se)}),X["aria-descriptor"]().each(He=>{const Qe=_e(t.prefix);ss(He.element,"id",Qe),ss(ce.element,"aria-describedby",Qe)})})})]),y={getField:D=>nr(D,t,"field"),getLabel:D=>nr(D,t,"label")};return{uid:t.uid,dom:t.dom,components:r,behaviours:g,events:v,apis:y}},js=ic({name:"FormField",configFields:vz(),partFields:xz(),factory:yz,apis:{getField:(t,r)=>t.getField(r),getLabel:(t,r)=>t.getLabel(r)}}),TL=ht([tn("field1Name","field1"),tn("field2Name","field2"),Jh("onLockedChange"),Wl(["lockClass"]),tn("locked",!1),nd.field("coupledFieldBehaviours",[yn,yo]),$r("onInput",lt)]),Cz=(t,r,l)=>nr(t,r,l).bind(yn.getCurrent),kL=(t,r)=>_i({factory:js,name:t,overrides:l=>({fieldBehaviours:Xn([Cs("coupled-input-behaviour",[xn(Bf(),d=>{Cz(d,l,r).each(g=>{nr(d,l,"lock").each(v=>{Ys.isOn(v)&&l.onLockedChange(d,g,v),l.onInput(d)})})})])])})}),AL=ht([kL("field1","field2"),kL("field2","field1"),_i({factory:pl,schema:[Bn("dom")],name:"lock",overrides:t=>({buttonBehaviours:Xn([Ys.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),_z=(t,r,l,d)=>({uid:t.uid,dom:t.dom,components:r,behaviours:nd.augment(t.coupledFieldBehaviours,[yn.config({find:f.some}),yo.config({store:{mode:"manual",getValue:g=>{const v=K5(g,t,["field1","field2"]);return{[t.field1Name]:yo.getValue(v.field1()),[t.field2Name]:yo.getValue(v.field2())}},setValue:(g,v)=>{const y=K5(g,t,["field1","field2"]);Zt(v,t.field1Name)&&yo.setValue(y.field1(),v[t.field1Name]),Zt(v,t.field2Name)&&yo.setValue(y.field2(),v[t.field2Name])}}})]),apis:{getField1:g=>nr(g,t,"field1"),getField2:g=>nr(g,t,"field2"),getLock:g=>nr(g,t,"lock")}}),Ca=ic({name:"FormCoupledInputs",configFields:TL(),partFields:AL(),factory:_z,apis:{getField1:(t,r)=>t.getField1(r),getField2:(t,r)=>t.getField2(r),getLock:(t,r)=>t.getLock(r)}}),Fv=(t,r)=>{const l=H(t.options,g=>({dom:{tag:"option",value:g.value,innerHtml:g.text}})),d=t.data.map(g=>tm("initialValue",g)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:l,behaviours:Ti(t.selectBehaviours,[Es.config({}),yo.config({store:{mode:"manual",getValue:g=>jc(g.element),setValue:(g,v)=>{const y=we(t.options);M(t.options,U=>U.value===v).isSome()?Hl(g.element,v):g.element.dom.selectedIndex===-1&&v===""&&y.each(U=>Hl(g.element,U.value))},...d}})])}},Ez=od({name:"HtmlSelect",configFields:[Bn("options"),Fi("selectBehaviours",[Es,yo]),tn("selectClasses",[]),tn("selectAttributes",{}),xr("data")],factory:Fv}),wz=(t,r,l,d,g)=>{const v=()=>t.lazySink(r),y=d.type==="horizontal"?{layouts:{onLtr:()=>sb(),onRtl:()=>Pp()}}:{},D=X=>X.length===2,U=X=>D(X)?y:{};return I0.sketch({dom:{tag:"div"},data:d.data,markers:d.menu.markers,highlightOnOpen:d.menu.highlightOnOpen,fakeFocus:d.menu.fakeFocus,onEscape:()=>(sr.close(r),t.onEscape.map(X=>X(r)),f.some(!0)),onExecute:()=>f.some(!0),onOpenMenu:(X,ce)=>{ki.positionWithinBounds(v().getOrDie(),ce,l,g())},onOpenSubmenu:(X,ce,Se,He)=>{const Qe=v().getOrDie();ki.position(Qe,Se,{anchor:{type:"submenu",item:ce,...U(He)}})},onRepositionMenu:(X,ce,Se)=>{const He=v().getOrDie();ki.positionWithinBounds(He,ce,l,g()),ee(Se,Qe=>{const Je=U(Qe.triggeringPath);ki.position(He,Qe.triggeredMenu,{anchor:{type:"submenu",item:Qe.triggeringItem,...Je}})})}})},OL=(t,r)=>{const l=(He,Qe)=>t.getRelated(He).exists(vt=>zm(vt,Qe)),d=(He,Qe)=>{sr.setContent(He,Qe)},g=(He,Qe,Je)=>{const vt=f.none;v(He,Qe,Je,vt)},v=(He,Qe,Je,vt)=>{const Lt=t.lazySink(He).getOrDie();sr.openWhileCloaked(He,Qe,()=>ki.positionWithinBounds(Lt,He,Je,vt())),yo.setValue(He,f.some({mode:"position",config:Je,getBounds:vt}))},y=(He,Qe,Je)=>{D(He,Qe,Je,f.none)},D=(He,Qe,Je,vt)=>{const Lt=wz(t,He,Qe,Je,vt);sr.open(He,Lt),yo.setValue(He,f.some({mode:"menu",menu:Lt}))},U=He=>{sr.isOpen(He)&&(yo.setValue(He,f.none()),sr.close(He))},X=He=>sr.getState(He),ce=He=>{sr.isOpen(He)&&yo.getValue(He).each(Qe=>{switch(Qe.mode){case"menu":sr.getState(He).each(I0.repositionMenus);break;case"position":const Je=t.lazySink(He).getOrDie();ki.positionWithinBounds(Je,He,Qe.config,Qe.getBounds());break}})},Se={setContent:d,showAt:g,showWithinBounds:v,showMenuAt:y,showMenuWithinBounds:D,hide:U,getContent:X,reposition:ce,isOpen:sr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Ti(t.inlineBehaviours,[sr.config({isPartOf:(He,Qe,Je)=>zm(Qe,Je)||l(He,Je),getAttachPoint:He=>t.lazySink(He).getOrDie(),onOpen:He=>{t.onShow(He)},onClose:He=>{t.onHide(He)}}),yo.config({store:{mode:"memory",initialValue:f.none()}}),sd.config({channels:{...ux({isExtraPart:r.isExtraPart,...t.fireDismissalEventInstead.map(He=>({fireEventInstead:{event:He.event}})).getOr({})}),...SE({...t.fireRepositionEventInstead.map(He=>({fireEventInstead:{event:He.event}})).getOr({}),doReposition:ce})}})]),eventOrder:t.eventOrder,apis:Se}},oa=od({name:"InlineView",configFields:[Bn("lazySink"),Us("onShow"),Us("onHide"),hu("onEscape"),Fi("inlineBehaviours",[sr,yo,sd]),wl("fireDismissalEventInstead",[tn("event",Rp())]),wl("fireRepositionEventInstead",[tn("event",F5())]),tn("getRelated",f.none),tn("isExtraPart",ge),tn("eventOrder",f.none)],factory:OL,apis:{showAt:(t,r,l,d)=>{t.showAt(r,l,d)},showWithinBounds:(t,r,l,d,g)=>{t.showWithinBounds(r,l,d,g)},showMenuAt:(t,r,l,d)=>{t.showMenuAt(r,l,d)},showMenuWithinBounds:(t,r,l,d,g)=>{t.showMenuWithinBounds(r,l,d,g)},hide:(t,r)=>{t.hide(r)},isOpen:(t,r)=>t.isOpen(r),getContent:(t,r)=>t.getContent(r),setContent:(t,r,l)=>{t.setContent(r,l)},reposition:(t,r)=>{t.reposition(r)}}}),bx=ht([aa("type","text"),xr("data"),tn("inputAttributes",{}),tn("inputStyles",{}),tn("tag","input"),tn("inputClasses",[]),Us("onSetValue"),$r("fromInputValue",eo),$r("toInputValue",eo),tn("styles",{}),tn("eventOrder",{}),Fi("inputBehaviours",[yo,Es]),tn("selectOnFocus",!0)]),DE=t=>Xn([Es.config({onFocus:t.selectOnFocus?r=>{const l=r.element,d=jc(l);t.type!=="range"&&l.dom.setSelectionRange(0,d.length)}:lt})]),Sz=t=>({...DE(t),...Ti(t.inputBehaviours,[yo.config({store:{mode:"manual",...t.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>t.fromInputValue(jc(r.element)),setValue:(r,l)=>{jc(r.element)!==l&&Hl(r.element,t.toInputValue(l))}},onSetValue:t.onSetValue})])}),LL=t=>({tag:t.tag,attributes:{type:t.type,...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),Tz=(t,r)=>({uid:t.uid,dom:LL(t),components:[],behaviours:Sz(t),eventOrder:t.eventOrder}),mg=od({name:"Input",configFields:bx(),factory:Tz}),NE=um(xE(),yE()),kz=(t,r)=>{const l=ai(t,"id").fold(()=>{const d=_e("dialog-label");return ss(r,"id",d),d},eo);ss(t,"aria-labelledby",l)},DL=ht([Bn("lazySink"),xr("dragBlockClass"),$r("getBounds",ol),tn("useTabstopAt",a),tn("firstTabstop",0),tn("eventOrder",{}),Fi("modalBehaviours",[Ho]),sc("onExecute"),Z2("onEscape")]),Ud={sketch:eo},Az=ht([Ad({name:"draghandle",overrides:(t,r)=>({behaviours:Xn([Pm.config({mode:"mouse",getTarget:l=>Kc(l,'[role="dialog"]').getOr(l),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])})}),_i({schema:[Bn("dom")],name:"title"}),_i({factory:Ud,schema:[Bn("dom")],name:"close"}),_i({factory:Ud,schema:[Bn("dom")],name:"body"}),Ad({factory:Ud,schema:[Bn("dom")],name:"footer"}),Tc({factory:{sketch:(t,r)=>({...t,dom:r.dom,components:r.components})},schema:[tn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),tn("components",[])],name:"blocker"})]),RE=(t,r,l,d)=>{const g=Do(),v=Je=>{g.set(Je);const vt=t.lazySink(Je).getOrDie(),Lt=d.blocker(),_t=vt.getSystem().build({...Lt,components:Lt.components.concat([k(Je)]),behaviours:Xn([Es.config({}),Cs("dialog-blocker-events",[ym(wc(),()=>{Sn.isBlocked(Je)?lt():Ho.focusIn(Je)})])])});Fd(vt,_t),Ho.focusIn(Je)},y=Je=>{g.clear(),Xl(Je.element).each(vt=>{Je.getSystem().getByDom(vt).each(Lt=>{nf(Lt)})})},D=Je=>Fp(Je,t,"body"),U=Je=>nr(Je,t,"footer"),X=(Je,vt)=>{Sn.block(Je,vt)},ce=Je=>{Sn.unblock(Je)},Se=_e("modal-events"),He={...t.eventOrder,[xu()]:[Se].concat(t.eventOrder["alloy.system.attached"]||[])},Qe=ca();return{uid:t.uid,dom:t.dom,components:r,apis:{show:v,hide:y,getBody:D,getFooter:U,setIdle:ce,setBusy:X},eventOrder:He,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ti(t.modalBehaviours,[ws.config({}),Ho.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Sn.config({getRoot:g.get}),Cs(Se,[Wr(Je=>{const vt=Fp(Je,t,"title").element,Lt=b1(vt);Qe.os.isMacOS()&&Eo(Lt)?ss(Je.element,"aria-label",Lt):kz(Je.element,vt)})])])}},oi=ic({name:"ModalDialog",configFields:DL(),partFields:Az(),factory:RE,apis:{show:(t,r)=>{t.show(r)},hide:(t,r)=>{t.hide(r)},getBody:(t,r)=>t.getBody(r),getFooter:(t,r)=>t.getFooter(r),setBusy:(t,r,l)=>{t.setBusy(r,l)},setIdle:(t,r)=>{t.setIdle(r)}}}),NL=Ad({schema:[Bn("dom")],name:"label"}),Wm=t=>Ad({name:""+t+"-edge",overrides:r=>r.model.manager.edgeActions[t].fold(()=>({}),d=>({events:Qr([p3(Mf(),(g,v,y)=>d(g,y),[r]),p3(rl(),(g,v,y)=>d(g,y),[r]),p3(om(),(g,v,y)=>{y.mouseIsDown.get()&&d(g,y)},[r])])}))}),RL=Wm("top-left"),ML=Wm("top"),IL=Wm("top-right"),Oz=Wm("right"),Lz=Wm("bottom-right"),Dz=Wm("bottom"),Nz=Wm("bottom-left"),Rz=Wm("left"),Mz=_i({name:"thumb",defaults:ht({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Qr([ef(Mf(),t,"spectrum"),ef(If(),t,"spectrum"),ef(E1(),t,"spectrum"),ef(rl(),t,"spectrum"),ef(om(),t,"spectrum"),ef(R5(),t,"spectrum")])})}),vx=t=>M1(t.event),BL=_i({schema:[Wi("mouseIsDown",()=>et(!1))],name:"spectrum",overrides:t=>{const l=t.model.manager,d=(g,v)=>l.getValueFromEvent(v).map(y=>l.setValueFrom(g,t,y));return{behaviours:Xn([Ho.config({mode:"special",onLeft:(g,v)=>l.onLeft(g,t,vx(v)),onRight:(g,v)=>l.onRight(g,t,vx(v)),onUp:(g,v)=>l.onUp(g,t,vx(v)),onDown:(g,v)=>l.onDown(g,t,vx(v))}),Hr.config({}),Es.config({})]),events:Qr([xn(Mf(),d),xn(If(),d),xn(rl(),d),xn(om(),(g,v)=>{t.mouseIsDown.get()&&d(g,v)})])}}});var FL=[NL,Rz,Oz,ML,Dz,RL,IL,Nz,Lz,Mz,BL];const q3=ht("slider.change.value"),Bz=t=>t.type.indexOf("touch")!==-1,ME=t=>{const r=t.event.raw;if(Bz(r)){const l=r;return l.touches!==void 0&&l.touches.length===1?f.some(l.touches[0]).map(d=>Dr(d.clientX,d.clientY)):f.none()}else{const l=r;return l.clientX!==void 0?f.some(l).map(d=>Dr(d.clientX,d.clientY)):f.none()}},Fz="top",Y3="right",xx="bottom",Pz="left",Km=t=>t.model.minX,jm=t=>t.model.minY,Pv=t=>t.model.minX-1,$v=t=>t.model.minY-1,hg=t=>t.model.maxX,bg=t=>t.model.maxY,yx=t=>t.model.maxX+1,Cx=t=>t.model.maxY+1,PL=(t,r,l)=>r(t)-l(t),_x=t=>PL(t,hg,Km),Ex=t=>PL(t,bg,jm),$L=t=>_x(t)/2,HL=t=>Ex(t)/2,B0=(t,r)=>r?t.stepSize*t.speedMultiplier:t.stepSize,zL=t=>t.snapToGrid,UL=t=>t.snapStart,VL=t=>t.rounded,wx=(t,r)=>t[r+"-edge"]!==void 0,WL=t=>wx(t,Pz),KL=t=>wx(t,Y3),jL=t=>wx(t,Fz),IE=t=>wx(t,xx),Q1=t=>t.model.value.get(),Zm=(t,r)=>({x:t,y:r}),af=(t,r)=>{Jo(t,q3(),{value:r})},$z=(t,r)=>{af(t,Zm(Pv(r),$v(r)))},ZL=(t,r)=>{af(t,$v(r))},Hz=(t,r)=>{af(t,Zm($L(r),$v(r)))},zz=(t,r)=>{af(t,Zm(yx(r),$v(r)))},Uz=(t,r)=>{af(t,yx(r))},Sx=(t,r)=>{af(t,Zm(yx(r),HL(r)))},Vz=(t,r)=>{af(t,Zm(yx(r),Cx(r)))},Wz=(t,r)=>{af(t,Cx(r))},Kz=(t,r)=>{af(t,Zm($L(r),Cx(r)))},jz=(t,r)=>{af(t,Zm(Pv(r),Cx(r)))},Zz=(t,r)=>{af(t,Pv(r))},Gz=(t,r)=>{af(t,Zm(Pv(r),HL(r)))},BE=(t,r,l,d)=>t<r?t:t>l?l:t===r?r-1:Math.max(r,t-d),FE=(t,r,l,d)=>t>l?t:t<r?r:t===l?l+1:Math.min(l,t+d),GL=(t,r,l)=>Math.max(r,Math.min(l,t)),qz=(t,r,l,d,g)=>g.fold(()=>{const v=t-r,y=Math.round(v/d)*d;return GL(r+y,r-1,l+1)},v=>{const y=(t-v)%d,D=Math.round(y/d),U=Math.floor((t-v)/d),X=Math.floor((l-v)/d),ce=Math.min(X,U+D),Se=v+ce*d;return Math.max(v,Se)}),Yz=(t,r,l)=>Math.min(l,Math.max(t,r))-r,qL=t=>{const{min:r,max:l,range:d,value:g,step:v,snap:y,snapStart:D,rounded:U,hasMinEdge:X,hasMaxEdge:ce,minBound:Se,maxBound:He,screenRange:Qe}=t,Je=X?r-1:r,vt=ce?l+1:l;if(g<Se)return Je;if(g>He)return vt;{const Lt=Yz(g,Se,He),_t=GL(Lt/Qe*d+r,Je,vt);return y&&_t>=r&&_t<=l?qz(_t,r,l,v,D):U?Math.round(_t):_t}},YL=t=>{const{min:r,max:l,range:d,value:g,hasMinEdge:v,hasMaxEdge:y,maxBound:D,maxOffset:U,centerMinEdge:X,centerMaxEdge:ce}=t;return g<r?v?0:X:g>l?y?D:ce:(g-r)/d*U},Hv="top",XL="right",JL="bottom",PE="left",QL="width",Xz="height",ep=t=>t.element.dom.getBoundingClientRect(),lf=(t,r)=>t[r],Tx=t=>{const r=ep(t);return lf(r,PE)},eD=t=>{const r=ep(t);return lf(r,XL)},kx=t=>{const r=ep(t);return lf(r,Hv)},Ax=t=>{const r=ep(t);return lf(r,JL)},tD=t=>{const r=ep(t);return lf(r,QL)},nD=t=>{const r=ep(t);return lf(r,Xz)},oD=(t,r,l)=>(t+r)/2-l,sD=(t,r)=>{const l=ep(t),d=ep(r),g=lf(l,PE),v=lf(l,XL),y=lf(d,PE);return oD(g,v,y)},rD=(t,r)=>{const l=ep(t),d=ep(r),g=lf(l,Hv),v=lf(l,JL),y=lf(d,Hv);return oD(g,v,y)},Ox=(t,r)=>{Jo(t,q3(),{value:r})},$E=(t,r,l)=>{const d={min:Km(r),max:hg(r),range:_x(r),value:l,step:B0(r),snap:zL(r),snapStart:UL(r),rounded:VL(r),hasMinEdge:WL(r),hasMaxEdge:KL(r),minBound:Tx(t),maxBound:eD(t),screenRange:tD(t)};return qL(d)},Jz=(t,r,l)=>{const d=$E(t,r,l);return Ox(t,d),d},Qz=(t,r)=>{const l=Km(r);Ox(t,l)},eU=(t,r)=>{const l=hg(r);Ox(t,l)},tU=(t,r,l,d)=>{const v=(t>0?FE:BE)(Q1(l),Km(l),hg(l),B0(l,d));return Ox(r,v),f.some(v)},aD=t=>(r,l,d)=>tU(t,r,l,d).map(a),nU=t=>ME(t).map(l=>l.left),oU=(t,r,l,d,g)=>{const y=tD(t),D=d.bind(ce=>f.some(sD(ce,t))).getOr(0),U=g.bind(ce=>f.some(sD(ce,t))).getOr(y),X={min:Km(r),max:hg(r),range:_x(r),value:l,hasMinEdge:WL(r),hasMaxEdge:KL(r),minBound:Tx(t),maxBound:eD(t),maxOffset:y,centerMinEdge:D,centerMaxEdge:U};return YL(X)},HE=(t,r,l,d,g,v)=>{const y=oU(r,v,l,d,g);return Tx(r)-Tx(t)+y},zE=(t,r,l,d)=>{const g=Q1(l),v=HE(t,d.getSpectrum(t),g,d.getLeftEdge(t),d.getRightEdge(t),l),y=ei(r.element)/2;Mo(r.element,"left",v-y+"px")},sU=aD(-1),rU=aD(1),aU=f.none,zv=f.none,iD={"top-left":f.none(),top:f.none(),"top-right":f.none(),right:f.some(Uz),"bottom-right":f.none(),bottom:f.none(),"bottom-left":f.none(),left:f.some(Zz)};var iU=Object.freeze({__proto__:null,setValueFrom:Jz,setToMin:Qz,setToMax:eU,findValueOfOffset:$E,getValueFromEvent:nU,findPositionOfValue:HE,setPositionFromValue:zE,onLeft:sU,onRight:rU,onUp:aU,onDown:zv,edgeActions:iD});const Lx=(t,r)=>{Jo(t,q3(),{value:r})},Dx=(t,r,l)=>{const d={min:jm(r),max:bg(r),range:Ex(r),value:l,step:B0(r),snap:zL(r),snapStart:UL(r),rounded:VL(r),hasMinEdge:jL(r),hasMaxEdge:IE(r),minBound:kx(t),maxBound:Ax(t),screenRange:nD(t)};return qL(d)},lU=(t,r,l)=>{const d=Dx(t,r,l);return Lx(t,d),d},cU=(t,r)=>{const l=jm(r);Lx(t,l)},dU=(t,r)=>{const l=bg(r);Lx(t,l)},uU=(t,r,l,d)=>{const v=(t>0?FE:BE)(Q1(l),jm(l),bg(l),B0(l,d));return Lx(r,v),f.some(v)},lD=t=>(r,l,d)=>uU(t,r,l,d).map(a),fU=t=>ME(t).map(l=>l.top),pU=(t,r,l,d,g)=>{const y=nD(t),D=d.bind(ce=>f.some(rD(ce,t))).getOr(0),U=g.bind(ce=>f.some(rD(ce,t))).getOr(y),X={min:jm(r),max:bg(r),range:Ex(r),value:l,hasMinEdge:jL(r),hasMaxEdge:IE(r),minBound:kx(t),maxBound:Ax(t),maxOffset:y,centerMinEdge:D,centerMaxEdge:U};return YL(X)},UE=(t,r,l,d,g,v)=>{const y=pU(r,v,l,d,g);return kx(r)-kx(t)+y},cD=(t,r,l,d)=>{const g=Q1(l),v=UE(t,d.getSpectrum(t),g,d.getTopEdge(t),d.getBottomEdge(t),l),y=qr(r.element)/2;Mo(r.element,"top",v-y+"px")},dD=f.none,gU=f.none,uD=lD(-1),fD=lD(1),pD={"top-left":f.none(),top:f.some(ZL),"top-right":f.none(),right:f.none(),"bottom-right":f.none(),bottom:f.some(Wz),"bottom-left":f.none(),left:f.none()};var gD=Object.freeze({__proto__:null,setValueFrom:lU,setToMin:cU,setToMax:dU,findValueOfOffset:Dx,getValueFromEvent:fU,findPositionOfValue:UE,setPositionFromValue:cD,onLeft:dD,onRight:gU,onUp:uD,onDown:fD,edgeActions:pD});const Nx=(t,r)=>{Jo(t,q3(),{value:r})},Rx=(t,r)=>({x:t,y:r}),mU=(t,r,l)=>{const d=$E(t,r,l.left),g=Dx(t,r,l.top),v=Rx(d,g);return Nx(t,v),v},hU=(t,r,l,d,g)=>{const v=t>0?FE:BE,y=r?Q1(d).x:v(Q1(d).x,Km(d),hg(d),B0(d,g)),D=r?v(Q1(d).y,jm(d),bg(d),B0(d,g)):Q1(d).y;return Nx(l,Rx(y,D)),f.some(y)},X3=(t,r)=>(l,d,g)=>hU(t,r,l,d,g).map(a),mD=(t,r)=>{const l=Km(r),d=jm(r);Nx(t,Rx(l,d))},bU=(t,r)=>{const l=hg(r),d=bg(r);Nx(t,Rx(l,d))},hD=t=>ME(t),vU=(t,r,l,d)=>{const g=Q1(l),v=HE(t,d.getSpectrum(t),g.x,d.getLeftEdge(t),d.getRightEdge(t),l),y=UE(t,d.getSpectrum(t),g.y,d.getTopEdge(t),d.getBottomEdge(t),l),D=ei(r.element)/2,U=qr(r.element)/2;Mo(r.element,"left",v-D+"px"),Mo(r.element,"top",y-U+"px")},xU=X3(-1,!1),yU=X3(1,!1),bD=X3(-1,!0),vD=X3(1,!0),xD={"top-left":f.some($z),top:f.some(Hz),"top-right":f.some(zz),right:f.some(Sx),"bottom-right":f.some(Vz),bottom:f.some(Kz),"bottom-left":f.some(jz),left:f.some(Gz)};var CU=Object.freeze({__proto__:null,setValueFrom:mU,setToMin:mD,setToMax:bU,getValueFromEvent:hD,setPositionFromValue:vU,onLeft:xU,onRight:yU,onUp:bD,onDown:vD,edgeActions:xD});const _U=[tn("stepSize",1),tn("speedMultiplier",10),tn("onChange",lt),tn("onChoose",lt),tn("onInit",lt),tn("onDragStart",lt),tn("onDragEnd",lt),tn("snapToGrid",!1),tn("rounded",!0),xr("snapStart"),Vl("model",El("mode",{x:[tn("minX",0),tn("maxX",100),Wi("value",t=>et(t.mode.minX)),Bn("getInitialValue"),Rr("manager",iU)],y:[tn("minY",0),tn("maxY",100),Wi("value",t=>et(t.mode.minY)),Bn("getInitialValue"),Rr("manager",gD)],xy:[tn("minX",0),tn("maxX",100),tn("minY",0),tn("maxY",100),Wi("value",t=>et({x:t.mode.minX,y:t.mode.minY})),Bn("getInitialValue"),Rr("manager",CU)]})),Fi("sliderBehaviours",[Ho,yo]),Wi("mouseIsDown",()=>et(!1))],cf=ic({name:"Slider",configFields:_U,partFields:FL,factory:(t,r,l,d)=>{const g=fn=>Fp(fn,t,"thumb"),v=fn=>Fp(fn,t,"spectrum"),y=fn=>nr(fn,t,"left-edge"),D=fn=>nr(fn,t,"right-edge"),U=fn=>nr(fn,t,"top-edge"),X=fn=>nr(fn,t,"bottom-edge"),ce=t.model,Se=ce.manager,He=(fn,uo)=>{Se.setPositionFromValue(fn,uo,t,{getLeftEdge:y,getRightEdge:D,getTopEdge:U,getBottomEdge:X,getSpectrum:v})},Qe=(fn,uo)=>{ce.value.set(uo);const Fn=g(fn);He(fn,Fn)},Je=(fn,uo)=>{Qe(fn,uo);const Fn=g(fn);return t.onChange(fn,Fn,uo),f.some(!0)},vt=fn=>{Se.setToMin(fn,t)},Lt=fn=>{Se.setToMax(fn,t)},_t=fn=>{const uo=()=>{nr(fn,t,"thumb").each($n=>{const Nn=ce.value.get();t.onChoose(fn,$n,Nn)})},Fn=t.mouseIsDown.get();t.mouseIsDown.set(!1),Fn&&uo()},$t=(fn,uo)=>{uo.stop(),t.mouseIsDown.set(!0),t.onDragStart(fn,g(fn))},Vt=(fn,uo)=>{uo.stop(),t.onDragEnd(fn,g(fn)),_t(fn)},an=fn=>{nr(fn,t,"spectrum").map(Ho.focusIn)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.sliderBehaviours,[Ho.config({mode:"special",focusIn:an}),yo.config({store:{mode:"manual",getValue:fn=>ce.value.get(),setValue:Qe}}),sd.config({channels:{[Oc()]:{onReceive:_t}}})]),events:Qr([xn(q3(),(fn,uo)=>{Je(fn,uo.event.value)}),Wr((fn,uo)=>{const Fn=ce.getInitialValue();ce.value.set(Fn);const $n=g(fn);He(fn,$n);const Nn=v(fn);t.onInit(fn,$n,Nn,ce.value.get())}),xn(Mf(),$t),xn(E1(),Vt),xn(rl(),(fn,uo)=>{an(fn),$t(fn,uo)}),xn(R5(),Vt)]),apis:{resetToMin:vt,resetToMax:Lt,setValue:Qe,refresh:He},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,r,l)=>{t.setValue(r,l)},resetToMin:(t,r)=>{t.resetToMin(r)},resetToMax:(t,r)=>{t.resetToMax(r)},refresh:(t,r)=>{t.refresh(r)}}}),yD="container",EU=[Fi("slotBehaviours",[])],CD=t=>"<alloy.field."+t+">",wU=t=>{const r=(()=>{const v=[];return{slot:(D,U)=>(v.push(D),W5(yD,CD(D),U)),record:ht(v)}})(),l=t(r),d=r.record(),g=H(d,v=>_i({name:v,pname:CD(v)}));return O_(yD,EU,g,SU,l)},SU=(t,r)=>{const l=vt=>o3(t),d=(vt,Lt)=>nr(vt,t,Lt),g=(vt,Lt)=>(_t,$t)=>nr(_t,t,$t).map(Vt=>vt(Vt,$t)).getOr(Lt),v=vt=>(Lt,_t)=>{ee(_t,$t=>vt(Lt,$t))},y=(vt,Lt)=>Ua(vt.element,"aria-hidden")!=="true",D=(vt,Lt)=>{if(!y(vt)){const _t=vt.element;Ps(_t,"display"),Kr(_t,"aria-hidden"),Jo(vt,P5(),{name:Lt,visible:!0})}},U=(vt,Lt)=>{if(y(vt)){const _t=vt.element;Mo(_t,"display","none"),ss(_t,"aria-hidden","true"),Jo(vt,P5(),{name:Lt,visible:!1})}},X=g(y,!1),ce=g(U),Se=v(ce),He=vt=>Se(vt,l()),Qe=g(D),Je={getSlotNames:l,getSlot:d,isShowing:X,hideSlot:ce,hideAllSlots:He,showSlot:Qe};return{uid:t.uid,dom:t.dom,components:r,behaviours:A0(t.slotBehaviours),apis:Je}},Ol={...tt({getSlotNames:(t,r)=>t.getSlotNames(r),getSlot:(t,r,l)=>t.getSlot(r,l),isShowing:(t,r,l)=>t.isShowing(r,l),hideSlot:(t,r,l)=>t.hideSlot(r,l),hideAllSlots:(t,r)=>t.hideAllSlots(r),showSlot:(t,r,l)=>t.showSlot(r,l)},t=>H1(t)),sketch:wU},_D=(t,r)=>re(t,(g,v)=>r(v,g.len).fold(ht(g),D=>({len:D.finish,list:g.list.concat([D])})),{len:0,list:[]}).list,VE=(t,r,l)=>({within:t,extra:r,withinWidth:l}),ED=(t,r,l)=>{const d=_D(t,(D,U)=>{const X=l(D);return f.some({element:D,start:U,finish:U+X,width:X})}),g=be(d,D=>D.finish<=r),v=se(g,(D,U)=>D+U.width,0),y=d.slice(g.length);return{within:g,extra:y,withinWidth:v}},Mx=t=>H(t,r=>r.element),TU=(t,r,l)=>{const d=Mx(t.concat(r));return VE(d,[],l)},kU=(t,r,l,d)=>{const g=Mx(t).concat([l]);return VE(g,Mx(r),d)},Ix=(t,r,l)=>VE(Mx(t),[],l),wD=(t,r,l)=>{const d=ED(r,t,l);return d.extra.length===0?f.some(d):f.none()},AU=(t,r,l,d)=>{const g=wD(t,r,l).getOrThunk(()=>ED(r,t-l(d),l)),v=g.within,y=g.extra,D=g.withinWidth;return y.length===1&&y[0].width<=l(d)?TU(v,y,D):y.length>=1?kU(v,y,d,D):Ix(v,y,D)},SD=(t,r)=>{const l=H(r,d=>k(d));Lu.setGroups(t,l)},OU=t=>ct(t,r=>za(r.element).bind(l=>r.getSystem().getByDom(l).toOptional())),TD=(t,r,l)=>{const d=r.builtGroups.get();if(d.length===0)return;const g=Fp(t,r,"primary"),v=Ns.getCoupled(t,"overflowGroup");Mo(g.element,"visibility","hidden");const y=d.concat([v]),D=OU(y);l([]),SD(g,y);const U=ei(g.element),X=AU(U,r.builtGroups.get(),ce=>Math.ceil(ce.element.dom.getBoundingClientRect().width),v);X.extra.length===0?(ws.remove(g,v),l([])):(SD(g,X.within),l(X.extra)),Ps(g.element,"visibility"),kr(g.element),D.each(Es.focus)},kD=ht([Fi("splitToolbarBehaviours",[Ns]),Wi("builtGroups",()=>et([]))]),LU=ht([Wl(["overflowToggledClass"]),hu("getOverflowBounds"),Bn("lazySink"),Wi("overflowGroups",()=>et([])),Us("onOpened"),Us("onClosed")].concat(kD())),WE=ht([_i({factory:Lu,schema:Z3(),name:"primary"}),Tc({schema:Z3(),name:"overflow"}),Tc({name:"overflow-button"}),Tc({name:"overflow-group"})]),AD=ht([Bn("items"),Wl(["itemSelector"]),Fi("tgroupBehaviours",[Ho])]),OD=ht([t3({name:"items",unit:"item"})]),DU=(t,r,l,d)=>({uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.tgroupBehaviours,[Ho.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Uv=ic({name:"ToolbarGroup",configFields:AD(),partFields:OD(),factory:DU}),LD=t=>H(t,r=>k(r)),DD=(t,r,l)=>{TD(t,l,d=>{l.overflowGroups.set(d),r.getOpt(t).each(g=>{Vm.setGroups(g,LD(d))})})},NU=(t,r,l,d)=>{const g=mr(Vm.sketch({fetch:()=>Hn.nu(v=>{v(LD(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ya,jr],onRtl:()=>[jr,Ya],onBottomLtr:()=>[wi,fi],onBottomRtl:()=>[fi,wi]},getBounds:l.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,y)=>t[y?"onOpened":"onClosed"](v)}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.splitToolbarBehaviours,[Ns.config({others:{overflowGroup:()=>Uv.sketch({...d["overflow-group"](),items:[g.asSpec()]})}})]),apis:{setGroups:(v,y)=>{t.builtGroups.set(H(y,v.getSystem().build)),DD(v,g,t)},refresh:v=>DD(v,g,t),toggle:v=>{g.getOpt(v).each(y=>{Vm.toggle(y)})},toggleWithoutFocusing:v=>{g.getOpt(v).each(Vm.toggleWithoutFocusing)},isOpen:v=>g.getOpt(v).map(Vm.isOpen).getOr(!1),reposition:v=>{g.getOpt(v).each(y=>{Vm.reposition(y)})},getOverflow:v=>g.getOpt(v).bind(Vm.getToolbar)},domModification:{attributes:{role:"group"}}}},ND=ic({name:"SplitFloatingToolbar",configFields:LU(),partFields:WE(),factory:NU,apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)},refresh:(t,r)=>{t.refresh(r)},reposition:(t,r)=>{t.reposition(r)},toggle:(t,r)=>{t.toggle(r)},toggleWithoutFocusing:(t,r)=>{t.toggle(r)},isOpen:(t,r)=>t.isOpen(r),getOverflow:(t,r)=>t.getOverflow(r)}}),RU=ht([Wl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Us("onOpened"),Us("onClosed")].concat(kD())),MU=ht([_i({factory:Lu,schema:Z3(),name:"primary"}),_i({factory:Lu,schema:Z3(),name:"overflow",overrides:t=>({toolbarBehaviours:Xn([jl.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:r=>{nr(r,t,"overflow-button").each(l=>{Ys.off(l)}),t.onClosed(r)},onGrown:r=>{t.onOpened(r)},onStartGrow:r=>{nr(r,t,"overflow-button").each(Ys.on)}}),Ho.config({mode:"acyclic",onEscape:r=>(nr(r,t,"overflow-button").each(Es.focus),f.some(!0))})])})}),Tc({name:"overflow-button",overrides:t=>({buttonBehaviours:Xn([Ys.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Tc({name:"overflow-group"})]),IU=(t,r)=>nr(t,r,"overflow").map(jl.hasGrown).getOr(!1),KE=(t,r,l)=>{nr(t,r,"overflow-button").each(d=>{nr(t,r,"overflow").each(g=>{if(jE(t,r),jl.hasShrunk(g)){const v=r.onOpened;r.onOpened=y=>{l||Ho.focusIn(g),v(y),r.onOpened=v}}else{const v=r.onClosed;r.onClosed=y=>{l||Es.focus(d),v(y),r.onClosed=v}}jl.toggleGrow(g)})})},jE=(t,r)=>{nr(t,r,"overflow").each(l=>{TD(t,r,d=>{const g=H(d,v=>k(v));Lu.setGroups(l,g)}),nr(t,r,"overflow-button").each(d=>{jl.hasGrown(l)&&Ys.on(d)}),jl.refresh(l)})},BU=(t,r,l,d)=>{const g="alloy.toolbar.toggle",v=(y,D)=>{const U=H(D,y.getSystem().build);t.builtGroups.set(U)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.splitToolbarBehaviours,[Ns.config({others:{overflowGroup:y=>Uv.sketch({...d["overflow-group"](),items:[pl.sketch({...d["overflow-button"](),action:D=>{Hs(y,g)}})]})}}),Cs("toolbar-toggle-events",[xn(g,y=>{KE(y,t,!1)})])]),apis:{setGroups:(y,D)=>{v(y,D),jE(y,t)},refresh:y=>jE(y,t),toggle:y=>{KE(y,t,!1)},toggleWithoutFocusing:y=>{KE(y,t,!0)},isOpen:y=>IU(y,t)},domModification:{attributes:{role:"group"}}}},J3=ic({name:"SplitSlidingToolbar",configFields:RU(),partFields:MU(),factory:BU,apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)},refresh:(t,r)=>{t.refresh(r)},toggle:(t,r)=>{t.toggle(r)},isOpen:(t,r)=>t.isOpen(r)}}),ZE=(t,r)=>({uid:t.uid,dom:t.dom,components:t.components,events:mE(t.action),behaviours:Ti(t.tabButtonBehaviours,[Es.config({}),Ho.config({mode:"execution",useSpace:!0,useEnter:!0}),yo.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),GE=od({name:"TabButton",configFields:[tn("uid",void 0),Bn("value"),ci("dom","dom",kp(()=>({attributes:{role:"tab",id:_e("aria"),"aria-selected":"false"}})),gu()),xr("action"),tn("domModification",{}),Fi("tabButtonBehaviours",[Es,Ho,yo]),Bn("view")],factory:ZE}),RD=ht([Bn("tabs"),Bn("dom"),tn("clickToDismiss",!1),Fi("tabbarBehaviours",[gr,Ho]),Wl(["tabClass","selectedClass"])]),FU=t3({factory:GE,name:"tabs",unit:"tab",overrides:t=>{const r=(d,g)=>{gr.dehighlight(d,g),Jo(d,qh(),{tabbar:d,button:g})},l=(d,g)=>{gr.highlight(d,g),Jo(d,V2(),{tabbar:d,button:g})};return{action:d=>{const g=d.getSystem().getByUid(t.uid).getOrDie(),v=gr.isHighlighted(g,d);(v&&t.clickToDismiss?r:v?lt:l)(g,d)},domModification:{classes:[t.markers.tabClass]}}}}),PU=ht([FU]),qE=(t,r,l,d)=>({uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ti(t.tabbarBehaviours,[gr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(g,v)=>{ss(v.element,"aria-selected","true")},onDehighlight:(g,v)=>{ss(v.element,"aria-selected","false")}}),Ho.config({mode:"flow",getInitial:g=>gr.getHighlighted(g).map(v=>v.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Bx=ic({name:"Tabbar",configFields:RD(),partFields:PU(),factory:qE}),Fx=(t,r)=>({uid:t.uid,dom:t.dom,behaviours:Ti(t.tabviewBehaviours,[ws.config({})]),domModification:{attributes:{role:"tabpanel"}}}),MD=od({name:"Tabview",configFields:[Fi("tabviewBehaviours",[ws])],factory:Fx}),$U=ht([tn("selectFirst",!0),Us("onChangeTab"),Us("onDismissTab"),tn("tabs",[]),Fi("tabSectionBehaviours",[])]),HU=_i({factory:Bx,schema:[Bn("dom"),Nf("markers",[Bn("tabClass"),Bn("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),zU=_i({factory:MD,name:"tabview"}),UU=ht([HU,zU]),VU=(t,r,l,d)=>{const g=y=>{const D=yo.getValue(y);nr(y,t,"tabview").each(U=>{M(t.tabs,ce=>ce.value===D).each(ce=>{const Se=ce.view();ai(y.element,"id").each(He=>{ss(U.element,"aria-labelledby",He)}),ws.set(U,Se),t.onChangeTab(U,y,Se)})})},v=(y,D)=>{nr(y,t,"tabbar").each(U=>{D(U).each(vm)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:A0(t.tabSectionBehaviours),events:Qr(K([t.selectFirst?[Wr((y,D)=>{v(y,gr.getFirst)})]:[],[xn(V2(),(y,D)=>{const U=D.event.button;g(U)}),xn(qh(),(y,D)=>{const U=D.event.button;t.onDismissTab(y,U)})]])),apis:{getViewItems:y=>nr(y,t,"tabview").map(D=>ws.contents(D)).getOr([]),showTab:(y,D)=>{v(y,X=>{const ce=gr.getCandidates(X);return M(ce,He=>yo.getValue(He)===D).filter(He=>!gr.isHighlighted(X,He))})}}}},Q3=ic({name:"TabSection",configFields:$U(),partFields:UU(),factory:VU,apis:{getViewItems:(t,r)=>t.getViewItems(r),showTab:(t,r,l)=>{t.showTab(r,l)}}}),Px=(t,r,l)=>{const d=yo.getValue(l);yo.setValue(r,d),BD(r)},ID=(t,r)=>{const l=t.element,d=jc(l),g=l.dom;Ua(l,"type")!=="number"&&r(g,d)},BD=t=>{ID(t,(r,l)=>r.setSelectionRange(l.length,l.length))},WU=(t,r)=>{ID(t,(l,d)=>l.setSelectionRange(r,d.length))},KU=(t,r,l)=>{if(t.selectsOver){const d=yo.getValue(r),g=t.getDisplayText(d),v=yo.getValue(l);return t.getDisplayText(v).indexOf(g)===0?f.some(()=>{Px(t,r,l),WU(r,g.length)}):f.none()}else return f.none()},YE=ht("alloy.typeahead.itemexecute"),jU=(t,r,l,d)=>{const g=(Se,He,Qe)=>{t.previewing.set(!1);const Je=Ns.getCoupled(Se,"sandbox");if(sr.isOpen(Je))yn.getCurrent(Je).each(vt=>{gr.getHighlighted(vt).fold(()=>{Qe(vt)},()=>{fb(Je,vt.element,"keydown",He)})});else{const vt=Lt=>{yn.getCurrent(Lt).each(Qe)};Nv(t,y(Se),Se,Je,d,vt,il.HighlightMenuAndItem).get(lt)}},v=DE(t),y=Se=>He=>He.map(Qe=>{const Je=Ot(Qe.menus),vt=R(Je,_t=>be(_t.items,$t=>$t.type==="item"));return yo.getState(Se).update(H(vt,_t=>_t.data)),Qe}),D=Se=>yn.getCurrent(Se),U="typeaheadevents",X=[Es.config({}),yo.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:Se=>jc(Se.element),getFallbackEntry:Se=>({value:Se,meta:{}}),setValue:(Se,He)=>{Hl(Se.element,t.model.getDisplayText(He))},...t.initialData.map(Se=>tm("initialValue",Se)).getOr({})}}),wv.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(Se,He)=>{const Qe=Ns.getCoupled(Se,"sandbox");if(Es.isFocused(Se)&&jc(Se.element).length>=t.minChars){const vt=D(Qe).bind(_t=>gr.getHighlighted(_t).map(yo.getValue));t.previewing.set(!0);const Lt=_t=>{D(Qe).each($t=>{vt.fold(()=>{t.model.selectsOver&&gr.highlightFirst($t)},Vt=>{gr.highlightBy($t,an=>yo.getValue(an).value===Vt.value),gr.getHighlighted($t).orThunk(()=>(gr.highlightFirst($t),f.none()))})})};Nv(t,y(Se),Se,Qe,d,Lt,il.HighlightJustMenu).get(lt)}},cancelEvent:B5()}),Ho.config({mode:"special",onDown:(Se,He)=>(g(Se,He,gr.highlightFirst),f.some(!0)),onEscape:Se=>{const He=Ns.getCoupled(Se,"sandbox");return sr.isOpen(He)?(sr.close(He),f.some(!0)):f.none()},onUp:(Se,He)=>(g(Se,He,gr.highlightLast),f.some(!0)),onEnter:Se=>{const He=Ns.getCoupled(Se,"sandbox"),Qe=sr.isOpen(He);if(Qe&&!t.previewing.get())return D(He).bind(Je=>gr.getHighlighted(Je)).map(Je=>(Jo(Se,YE(),{item:Je}),!0));{const Je=yo.getValue(Se);return Hs(Se,B5()),t.onExecute(He,Se,Je),Qe&&sr.close(He),f.some(!0)}}}),Ys.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ns.config({others:{sandbox:Se=>j3(t,Se,{onOpen:()=>Ys.on(Se),onClose:()=>{t.lazyTypeaheadComp.get().each(He=>Kr(He.element,"aria-activedescendant")),Ys.off(Se)}})}}),Cs(U,[Wr(Se=>{t.lazyTypeaheadComp.set(f.some(Se))}),wu(Se=>{t.lazyTypeaheadComp.set(f.none())}),Wf(Se=>{const He=lt;fx(t,y(Se),Se,d,He,il.HighlightMenuAndItem).get(lt)}),xn(YE(),(Se,He)=>{const Qe=Ns.getCoupled(Se,"sandbox");Px(t.model,Se,He.event.item),Hs(Se,B5()),t.onItemExecute(Se,Qe,He.event.item,yo.getValue(Se)),sr.close(Qe),BD(Se)})].concat(t.dismissOnBlur?[xn(Wh(),Se=>{const He=Ns.getCoupled(Se,"sandbox");za(He.element).isNone()&&sr.close(He)})]:[]))],ce={[Pf()]:[yo.name(),wv.name(),U],...t.eventOrder};return{uid:t.uid,dom:LL(kt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Ti(t.typeaheadBehaviours,X)},eventOrder:ce}},FD=ht([xr("lazySink"),Bn("fetch"),tn("minChars",5),tn("responseTime",1e3),Us("onOpen"),tn("getHotspot",f.some),tn("getAnchorOverrides",ht({})),tn("layouts",f.none()),tn("eventOrder",{}),U2("model",{},[tn("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),tn("selectsOver",!0),tn("populateFromBrowse",!0)]),Us("onSetValue"),sc("onExecute"),Us("onItemExecute"),tn("inputClasses",[]),tn("inputAttributes",{}),tn("inputStyles",{}),tn("matchWidth",!0),tn("useMinWidth",!1),tn("dismissOnBlur",!0),Wl(["openClass"]),xr("initialData"),xr("listRole"),Fi("typeaheadBehaviours",[Es,yo,wv,Ho,Ys,Ns]),Wi("lazyTypeaheadComp",()=>et(f.none)),Wi("previewing",()=>et(!0))].concat(bx()).concat(Rv())),ZU=ht([Tc({schema:[x8()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(r,l,d)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(g=>{KU(t.model,g,d).fold(()=>{t.model.selectsOver?(gr.dehighlight(l,d),t.previewing.set(!0)):t.previewing.set(!1)},v=>{v(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(g=>{t.model.populateFromBrowse&&Px(t.model,g,d),ai(d.element,"id").each(v=>ss(g.element,"aria-activedescendant",v))})},onExecute:(r,l)=>t.lazyTypeaheadComp.get().map(d=>(Jo(d,YE(),{item:l}),!0)),onHover:(r,l)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&Px(t.model,d,l)})}})})]),GU=ic({name:"Typeahead",configFields:FD(),partFields:ZU(),factory:jU});var tp=tinymce.util.Tools.resolve("tinymce.ThemeManager"),$x=tinymce.util.Tools.resolve("tinymce.util.Delay"),Vv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),XE=tinymce.util.Tools.resolve("tinymce.EditorManager"),Na=tinymce.util.Tools.resolve("tinymce.Env"),Vd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Vd||(Vd={}));var Wv;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Wv||(Wv={}));const Ir=t=>r=>r.options.get(t),Kv=t=>r=>f.from(t(r)),PD=t=>{const r=Na.deviceType.isPhone(),l=Na.deviceType.isTablet()||r,d=t.options.register,g=y=>ot(y)||y===!1,v=y=>ot(y)||Wo(y);d("skin",{processor:y=>ot(y)||y===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(t.getElement().offsetHeight,400)}),d("width",{processor:v,default:Vv.DOM.getStyle(t.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:y=>ot(y)||xe(y),default:!r}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:y=>xe(y)||ot(y)||un(y)?{value:y,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),F(9,y=>{d("toolbar"+(y+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:l?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Wv.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:t.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:g,default:"#top"}),d("anchor_bottom",{processor:g,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:y=>y==="both"||xe(y),default:!Na.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},$D=Ir("readonly"),Hx=Ir("disabled"),JE=Ir("height"),QE=Ir("width"),ew=Kv(Ir("min_width")),tw=Kv(Ir("min_height")),zx=Kv(Ir("max_width")),nw=Kv(Ir("max_height")),HD=Kv(Ir("style_formats")),zD=Ir("style_formats_merge"),UD=Ir("style_formats_autohide"),VD=Ir("content_langs"),WD=Ir("removed_menuitems"),F0=Ir("toolbar_mode"),KD=Ir("toolbar_groups"),ow=Ir("toolbar_location"),qU=Ir("fixed_toolbar_container"),YU=Ir("fixed_toolbar_container_target"),jD=Ir("toolbar_persist"),ZD=Ir("toolbar_sticky_offset"),sw=Ir("menubar"),Ux=Ir("toolbar"),rw=Ir("file_picker_callback"),GD=Ir("file_picker_validator_handler"),aw=Ir("font_size_input_default_unit"),qD=Ir("file_picker_types"),iw=Ir("typeahead_urls"),YD=Ir("anchor_top"),XD=Ir("anchor_bottom"),JD=Ir("draggable_modal"),QD=Ir("statusbar"),eN=Ir("elementpath"),lw=Ir("branding"),tN=Ir("resize"),nN=Ir("paste_as_text"),oN=Ir("sidebar_show"),sN=Ir("promotion"),rN=Ir("help_accessibility"),aN=Ir("default_font_stack"),iN=Ir("skin"),Vx=t=>t.options.get("skin")===!1,Wx=t=>t.options.get("menubar")!==!1,lN=t=>{const r=t.options.get("skin_url");if(Vx(t))return r;if(r)return t.documentBaseURI.toAbsolute(r);{const l=t.options.get("skin");return XE.baseURL+"/skins/ui/"+l}},XU=t=>f.from(t.options.get("skin_url")),cN=t=>t.options.get("line_height_formats").split(" "),Kx=t=>{const r=Ux(t),l=ot(r),d=un(r)&&r.length>0;return!Gm(t)&&(d||l||r===!0)},jv=t=>{const r=F(9,d=>t.options.get("toolbar"+(d+1))),l=be(r,ot);return Dn(l.length>0,l)},Gm=t=>jv(t).fold(()=>{const r=Ux(t);return Yt(r,ot)&&r.length>0},a),cw=t=>ow(t)===Wv.bottom,Zv=t=>{var r;if(!t.inline)return f.none();const l=(r=qU(t))!==null&&r!==void 0?r:"";if(l.length>0)return pr(gc(),l);const d=YU(t);return Eo(d)?f.some(cn.fromDom(d)):f.none()},e4=t=>t.inline&&Zv(t).isSome(),dw=t=>Zv(t).getOrThunk(()=>xl(Ra(cn.fromDom(t.getElement())))),uw=t=>t.inline&&!Wx(t)&&!Kx(t)&&!Gm(t),t4=t=>(t.options.get("toolbar_sticky")||t.inline)&&!e4(t)&&!uw(t),P0=t=>!e4(t)&&t.options.get("ui_mode")==="split",Gv=t=>{const r=t.options.get("menu");return tt(r,l=>({...l,items:l.items}))};var n4=Object.freeze({__proto__:null,get ToolbarMode(){return Vd},get ToolbarLocation(){return Wv},register:PD,getSkinUrl:lN,getSkinUrlOption:XU,isReadOnly:$D,isDisabled:Hx,getSkin:iN,isSkinDisabled:Vx,getHeightOption:JE,getWidthOption:QE,getMinWidthOption:ew,getMinHeightOption:tw,getMaxWidthOption:zx,getMaxHeightOption:nw,getUserStyleFormats:HD,shouldMergeStyleFormats:zD,shouldAutoHideStyleFormats:UD,getLineHeightFormats:cN,getContentLanguages:VD,getRemovedMenuItems:WD,isMenubarEnabled:Wx,isMultipleToolbars:Gm,isToolbarEnabled:Kx,isToolbarPersist:jD,getMultipleToolbarsOption:jv,getUiContainer:dw,useFixedContainer:e4,isSplitUiMode:P0,getToolbarMode:F0,isDraggableModal:JD,isDistractionFree:uw,isStickyToolbar:t4,getStickyToolbarOffset:ZD,getToolbarLocation:ow,isToolbarLocationBottom:cw,getToolbarGroups:KD,getMenus:Gv,getMenubar:sw,getToolbar:Ux,getFilePickerCallback:rw,getFilePickerTypes:qD,useTypeaheadUrls:iw,getAnchorTop:YD,getAnchorBottom:XD,getFilePickerValidatorHandler:GD,getFontSizeInputDefaultUnit:aw,useStatusBar:QD,useElementPath:eN,promotionEnabled:sN,useBranding:lw,getResize:tN,getPasteAsText:nN,getSidebarShow:oN,useHelpAccessibility:rN,getDefaultFontStack:aN});const dN=["visible","hidden","clip"],fw=t=>Qn(t).length>0&&!G(dN,t),uN=t=>{if(Bu(t)){const r=pa(t,"overflow-x"),l=pa(t,"overflow-y");return fw(r)||fw(l)}else return!1},fN=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),JU=(t,r)=>{const l=ti(r,uN),d=l.length===0?Ha(r).map(ua).map(g=>ti(g,uN)).getOr([]):l;return we(d).map(g=>({element:g,others:d.slice(1),isFullscreen:()=>fN(t)}))},qm=(t,r)=>P0(t)?JU(t,r):f.none(),$0=t=>{const r=[...H(t.others,ha),ol()];return t.isFullscreen()?ol():m5(ha(t.element),r)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:pN,setPrototypeOf:gN,isFrozen:QU,getPrototypeOf:eV,getOwnPropertyDescriptor:tV}=Object;let{freeze:ld,seal:Du,create:H0}=Object,{apply:vg,construct:pw}=typeof Reflect<"u"&&Reflect;ld||(ld=function(r){return r}),Du||(Du=function(r){return r}),vg||(vg=function(r,l,d){return r.apply(l,d)}),pw||(pw=function(r,l){return new r(...l)});const qv=Mc(Array.prototype.forEach),mN=Mc(Array.prototype.lastIndexOf),Yv=Mc(Array.prototype.pop),Xv=Mc(Array.prototype.push),o4=Mc(Array.prototype.splice),xg=Mc(String.prototype.toLowerCase),gw=Mc(String.prototype.toString),hN=Mc(String.prototype.match),Jv=Mc(String.prototype.replace),nV=Mc(String.prototype.indexOf),oV=Mc(String.prototype.trim),e1=Mc(Object.prototype.hasOwnProperty),cd=Mc(RegExp.prototype.test),Ym=sV(TypeError);function Mc(t){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var l=arguments.length,d=new Array(l>1?l-1:0),g=1;g<l;g++)d[g-1]=arguments[g];return vg(t,r,d)}}function sV(t){return function(){for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return pw(t,l)}}function zr(t,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xg;gN&&gN(t,null);let d=r.length;for(;d--;){let g=r[d];if(typeof g=="string"){const v=l(g);v!==g&&(QU(r)||(r[d]=v),g=v)}t[g]=!0}return t}function rV(t){for(let r=0;r<t.length;r++)e1(t,r)||(t[r]=null);return t}function yg(t){const r=H0(null);for(const[l,d]of pN(t))e1(t,l)&&(Array.isArray(d)?r[l]=rV(d):d&&typeof d=="object"&&d.constructor===Object?r[l]=yg(d):r[l]=d);return r}function z0(t,r){for(;t!==null;){const d=tV(t,r);if(d){if(d.get)return Mc(d.get);if(typeof d.value=="function")return Mc(d.value)}t=eV(t)}function l(){return null}return l}const aV=ld(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qv=ld(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mw=ld(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iV=ld(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hw=ld(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bN=ld(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bw=ld(["#text"]),vN=ld(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vw=ld(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xw=ld(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jx=ld(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lV=Du(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zx=Du(/<%[\w\W]*|[\w\W]*%>/gm),cV=Du(/\$\{[\w\W]*/gm),WJ=Du(/^data-[\-\w.\u00B7-\uFFFF]+$/),yw=Du(/^aria-[\-\w]+$/),xN=Du(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cw=Du(/^(?:\w+script|data):/i),dV=Du(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yN=Du(/^html$/i),CN=Du(/^[a-z][.\w]*(-[.\w]+)+$/i);var _w=Object.freeze({__proto__:null,ARIA_ATTR:yw,ATTR_WHITESPACE:dV,CUSTOM_ELEMENT:CN,DATA_ATTR:WJ,DOCTYPE_NAME:yN,ERB_EXPR:Zx,IS_ALLOWED_URI:xN,IS_SCRIPT_OR_DATA:Cw,MUSTACHE_EXPR:lV,TMPLIT_EXPR:cV});const s4={element:1,text:3,progressingInstruction:7,comment:8,document:9},Cg=function(){return typeof window>"u"?null:window},U0=function(r,l){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let d=null;const g="data-tt-policy-suffix";l&&l.hasAttribute(g)&&(d=l.getAttribute(g));const v="dompurify"+(d?"#"+d:"");try{return r.createPolicy(v,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+v+" could not be created."),null}},_N=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function EN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cg();const r=ko=>EN(ko);if(r.version="3.2.6",r.removed=[],!t||!t.document||t.document.nodeType!==s4.document||!t.Element)return r.isSupported=!1,r;let{document:l}=t;const d=l,g=d.currentScript,{DocumentFragment:v,HTMLTemplateElement:y,Node:D,Element:U,NodeFilter:X,NamedNodeMap:ce=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:Se,DOMParser:He,trustedTypes:Qe}=t,Je=U.prototype,vt=z0(Je,"cloneNode"),Lt=z0(Je,"remove"),_t=z0(Je,"nextSibling"),$t=z0(Je,"childNodes"),Vt=z0(Je,"parentNode");if(typeof y=="function"){const ko=l.createElement("template");ko.content&&ko.content.ownerDocument&&(l=ko.content.ownerDocument)}let an,fn="";const{implementation:uo,createNodeIterator:Fn,createDocumentFragment:$n,getElementsByTagName:Nn}=l,{importNode:Zo}=d;let Po=_N();r.isSupported=typeof pN=="function"&&typeof Vt=="function"&&uo&&uo.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Zs,ERB_EXPR:rs,TMPLIT_EXPR:Os,DATA_ATTR:Io,ARIA_ATTR:Ln,IS_SCRIPT_OR_DATA:oo,ATTR_WHITESPACE:ls,CUSTOM_ELEMENT:Ls}=_w;let{IS_ALLOWED_URI:$o}=_w,_s=null;const Cr=zr({},[...aV,...Qv,...mw,...hw,...bw]);let lr=null;const Yi=zr({},[...vN,...vw,...xw,...jx]);let cr=Object.seal(H0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ll=null,Ai=null,dc=!0,Fc=!0,qd=!1,Yd=!0,r1=!1,U4=!0,cp=!1,dp=!1,V4=!1,b2=!1,Ty=!1,ky=!1,uP=!0,fP=!1;const W4="user-content-";let pP=!0,F6=!1,K4={},P6=null;const gP=zr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mP=null;const j4=zr({},["audio","video","img","source","image","track"]);let mk=null;const hP=zr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$6="http://www.w3.org/1998/Math/MathML",Ay="http://www.w3.org/2000/svg",dh="http://www.w3.org/1999/xhtml";let e=dh,n=!1,o=null;const i=zr({},[$6,Ay,dh],gw);let c=zr({},["mi","mo","mn","ms","mtext"]),p=zr({},["annotation-xml"]);const h=zr({},["title","style","font","a","script"]);let _=null;const S=["application/xhtml+xml","text/html"],z="text/html";let oe=null,ve=null;const Te=l.createElement("form"),$e=function(Gt){return Gt instanceof RegExp||Gt instanceof Function},dt=function(){let Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ve&&ve===Gt)){if((!Gt||typeof Gt!="object")&&(Gt={}),Gt=yg(Gt),_=S.indexOf(Gt.PARSER_MEDIA_TYPE)===-1?z:Gt.PARSER_MEDIA_TYPE,oe=_==="application/xhtml+xml"?gw:xg,_s=e1(Gt,"ALLOWED_TAGS")?zr({},Gt.ALLOWED_TAGS,oe):Cr,lr=e1(Gt,"ALLOWED_ATTR")?zr({},Gt.ALLOWED_ATTR,oe):Yi,o=e1(Gt,"ALLOWED_NAMESPACES")?zr({},Gt.ALLOWED_NAMESPACES,gw):i,mk=e1(Gt,"ADD_URI_SAFE_ATTR")?zr(yg(hP),Gt.ADD_URI_SAFE_ATTR,oe):hP,mP=e1(Gt,"ADD_DATA_URI_TAGS")?zr(yg(j4),Gt.ADD_DATA_URI_TAGS,oe):j4,P6=e1(Gt,"FORBID_CONTENTS")?zr({},Gt.FORBID_CONTENTS,oe):gP,Ll=e1(Gt,"FORBID_TAGS")?zr({},Gt.FORBID_TAGS,oe):yg({}),Ai=e1(Gt,"FORBID_ATTR")?zr({},Gt.FORBID_ATTR,oe):yg({}),K4=e1(Gt,"USE_PROFILES")?Gt.USE_PROFILES:!1,dc=Gt.ALLOW_ARIA_ATTR!==!1,Fc=Gt.ALLOW_DATA_ATTR!==!1,qd=Gt.ALLOW_UNKNOWN_PROTOCOLS||!1,Yd=Gt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,r1=Gt.SAFE_FOR_TEMPLATES||!1,U4=Gt.SAFE_FOR_XML!==!1,cp=Gt.WHOLE_DOCUMENT||!1,b2=Gt.RETURN_DOM||!1,Ty=Gt.RETURN_DOM_FRAGMENT||!1,ky=Gt.RETURN_TRUSTED_TYPE||!1,V4=Gt.FORCE_BODY||!1,uP=Gt.SANITIZE_DOM!==!1,fP=Gt.SANITIZE_NAMED_PROPS||!1,pP=Gt.KEEP_CONTENT!==!1,F6=Gt.IN_PLACE||!1,$o=Gt.ALLOWED_URI_REGEXP||xN,e=Gt.NAMESPACE||dh,c=Gt.MATHML_TEXT_INTEGRATION_POINTS||c,p=Gt.HTML_INTEGRATION_POINTS||p,cr=Gt.CUSTOM_ELEMENT_HANDLING||{},Gt.CUSTOM_ELEMENT_HANDLING&&$e(Gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(cr.tagNameCheck=Gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Gt.CUSTOM_ELEMENT_HANDLING&&$e(Gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(cr.attributeNameCheck=Gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Gt.CUSTOM_ELEMENT_HANDLING&&typeof Gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(cr.allowCustomizedBuiltInElements=Gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),r1&&(Fc=!1),Ty&&(b2=!0),K4&&(_s=zr({},bw),lr=[],K4.html===!0&&(zr(_s,aV),zr(lr,vN)),K4.svg===!0&&(zr(_s,Qv),zr(lr,vw),zr(lr,jx)),K4.svgFilters===!0&&(zr(_s,mw),zr(lr,vw),zr(lr,jx)),K4.mathMl===!0&&(zr(_s,hw),zr(lr,xw),zr(lr,jx))),Gt.ADD_TAGS&&(_s===Cr&&(_s=yg(_s)),zr(_s,Gt.ADD_TAGS,oe)),Gt.ADD_ATTR&&(lr===Yi&&(lr=yg(lr)),zr(lr,Gt.ADD_ATTR,oe)),Gt.ADD_URI_SAFE_ATTR&&zr(mk,Gt.ADD_URI_SAFE_ATTR,oe),Gt.FORBID_CONTENTS&&(P6===gP&&(P6=yg(P6)),zr(P6,Gt.FORBID_CONTENTS,oe)),pP&&(_s["#text"]=!0),cp&&zr(_s,["html","head","body"]),_s.table&&(zr(_s,["tbody"]),delete Ll.tbody),Gt.TRUSTED_TYPES_POLICY){if(typeof Gt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ym('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Gt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ym('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');an=Gt.TRUSTED_TYPES_POLICY,fn=an.createHTML("")}else an===void 0&&(an=U0(Qe,g)),an!==null&&typeof fn=="string"&&(fn=an.createHTML(""));ld&&ld(Gt),ve=Gt}},at=zr({},[...Qv,...mw,...iV]),rt=zr({},[...hw,...bN]),Wt=function(Gt){let lo=Vt(Gt);(!lo||!lo.tagName)&&(lo={namespaceURI:e,tagName:"template"});const as=xg(Gt.tagName),dr=xg(lo.tagName);return o[Gt.namespaceURI]?Gt.namespaceURI===Ay?lo.namespaceURI===dh?as==="svg":lo.namespaceURI===$6?as==="svg"&&(dr==="annotation-xml"||c[dr]):!!at[as]:Gt.namespaceURI===$6?lo.namespaceURI===dh?as==="math":lo.namespaceURI===Ay?as==="math"&&p[dr]:!!rt[as]:Gt.namespaceURI===dh?lo.namespaceURI===Ay&&!p[dr]||lo.namespaceURI===$6&&!c[dr]?!1:!rt[as]&&(h[as]||!at[as]):!!(_==="application/xhtml+xml"&&o[Gt.namespaceURI]):!1},Ft=function(Gt){Xv(r.removed,{element:Gt});try{Vt(Gt).removeChild(Gt)}catch{Lt(Gt)}},qt=function(Gt,lo){try{Xv(r.removed,{attribute:lo.getAttributeNode(Gt),from:lo})}catch{Xv(r.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Gt),Gt==="is")if(b2||Ty)try{Ft(lo)}catch{}else try{lo.setAttribute(Gt,"")}catch{}},rn=function(Gt){let lo=null,as=null;if(V4)Gt="<remove></remove>"+Gt;else{const Gn=hN(Gt,/^[\r\n\t ]+/);as=Gn&&Gn[0]}_==="application/xhtml+xml"&&e===dh&&(Gt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Gt+"</body></html>");const dr=an?an.createHTML(Gt):Gt;if(e===dh)try{lo=new He().parseFromString(dr,_)}catch{}if(!lo||!lo.documentElement){lo=uo.createDocument(e,"template",null);try{lo.documentElement.innerHTML=n?fn:dr}catch{}}const va=lo.body||lo.documentElement;return Gt&&as&&va.insertBefore(l.createTextNode(as),va.childNodes[0]||null),e===dh?Nn.call(lo,cp?"html":"body")[0]:cp?lo.documentElement:va},Tn=function(Gt){return Fn.call(Gt.ownerDocument||Gt,Gt,X.SHOW_ELEMENT|X.SHOW_COMMENT|X.SHOW_TEXT|X.SHOW_PROCESSING_INSTRUCTION|X.SHOW_CDATA_SECTION,null)},so=function(Gt){return Gt instanceof Se&&(typeof Gt.nodeName!="string"||typeof Gt.textContent!="string"||typeof Gt.removeChild!="function"||!(Gt.attributes instanceof ce)||typeof Gt.removeAttribute!="function"||typeof Gt.setAttribute!="function"||typeof Gt.namespaceURI!="string"||typeof Gt.insertBefore!="function"||typeof Gt.hasChildNodes!="function")},Un=function(Gt){return typeof D=="function"&&Gt instanceof D};function gn(ko,Gt,lo){qv(ko,as=>{as.call(r,Gt,lo,ve)})}const mn=function(Gt){let lo=null;if(gn(Po.beforeSanitizeElements,Gt,null),so(Gt))return Ft(Gt),!0;const as=oe(Gt.nodeName);if(gn(Po.uponSanitizeElement,Gt,{tagName:as,allowedTags:_s}),U4&&Gt.hasChildNodes()&&!Un(Gt.firstElementChild)&&cd(/<[/\w!]/g,Gt.innerHTML)&&cd(/<[/\w!]/g,Gt.textContent)||Gt.nodeType===s4.progressingInstruction||U4&&Gt.nodeType===s4.comment&&cd(/<[/\w]/g,Gt.data))return Ft(Gt),!0;if(!_s[as]||Ll[as]){if(!Ll[as]&&Lo(as)&&(cr.tagNameCheck instanceof RegExp&&cd(cr.tagNameCheck,as)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(as)))return!1;if(pP&&!P6[as]){const dr=Vt(Gt)||Gt.parentNode,va=$t(Gt)||Gt.childNodes;if(va&&dr){const Gn=va.length;for(let Ro=Gn-1;Ro>=0;--Ro){const Xs=vt(va[Ro],!0);Xs.__removalCount=(Gt.__removalCount||0)+1,dr.insertBefore(Xs,_t(Gt))}}}return Ft(Gt),!0}return Gt instanceof U&&!Wt(Gt)||(as==="noscript"||as==="noembed"||as==="noframes")&&cd(/<\/no(script|embed|frames)/i,Gt.innerHTML)?(Ft(Gt),!0):(r1&&Gt.nodeType===s4.text&&(lo=Gt.textContent,qv([Zs,rs,Os],dr=>{lo=Jv(lo,dr," ")}),Gt.textContent!==lo&&(Xv(r.removed,{element:Gt.cloneNode()}),Gt.textContent=lo)),gn(Po.afterSanitizeElements,Gt,null),!1)},Rn=function(Gt,lo,as){if(uP&&(lo==="id"||lo==="name")&&(as in l||as in Te))return!1;if(!(Fc&&!Ai[lo]&&cd(Io,lo))){if(!(dc&&cd(Ln,lo))){if(!lr[lo]||Ai[lo]){if(!(Lo(Gt)&&(cr.tagNameCheck instanceof RegExp&&cd(cr.tagNameCheck,Gt)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(Gt))&&(cr.attributeNameCheck instanceof RegExp&&cd(cr.attributeNameCheck,lo)||cr.attributeNameCheck instanceof Function&&cr.attributeNameCheck(lo))||lo==="is"&&cr.allowCustomizedBuiltInElements&&(cr.tagNameCheck instanceof RegExp&&cd(cr.tagNameCheck,as)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(as))))return!1}else if(!mk[lo]){if(!cd($o,Jv(as,ls,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Gt!=="script"&&nV(as,"data:")===0&&mP[Gt])){if(!(qd&&!cd(oo,Jv(as,ls,"")))){if(as)return!1}}}}}}return!0},Lo=function(Gt){return Gt!=="annotation-xml"&&hN(Gt,Ls)},es=function(Gt){gn(Po.beforeSanitizeAttributes,Gt,null);const{attributes:lo}=Gt;if(!lo||so(Gt))return;const as={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:lr,forceKeepAttr:void 0};let dr=lo.length;for(;dr--;){const va=lo[dr],{name:Gn,namespaceURI:Ro,value:Xs}=va,rr=oe(Gn),Bo=Xs;let Pn=Gn==="value"?Bo:oV(Bo);if(as.attrName=rr,as.attrValue=Pn,as.keepAttr=!0,as.forceKeepAttr=void 0,gn(Po.uponSanitizeAttribute,Gt,as),Pn=as.attrValue,fP&&(rr==="id"||rr==="name")&&(qt(Gn,Gt),Pn=W4+Pn),U4&&cd(/((--!?|])>)|<\/(style|title)/i,Pn)){qt(Gn,Gt);continue}if(as.forceKeepAttr)continue;if(!as.keepAttr){qt(Gn,Gt);continue}if(!Yd&&cd(/\/>/i,Pn)){qt(Gn,Gt);continue}r1&&qv([Zs,rs,Os],vs=>{Pn=Jv(Pn,vs," ")});const ho=oe(Gt.nodeName);if(!Rn(ho,rr,Pn)){qt(Gn,Gt);continue}if(an&&typeof Qe=="object"&&typeof Qe.getAttributeType=="function"&&!Ro)switch(Qe.getAttributeType(ho,rr)){case"TrustedHTML":{Pn=an.createHTML(Pn);break}case"TrustedScriptURL":{Pn=an.createScriptURL(Pn);break}}if(Pn!==Bo)try{Ro?Gt.setAttributeNS(Ro,Gn,Pn):Gt.setAttribute(Gn,Pn),so(Gt)?Ft(Gt):Yv(r.removed)}catch{qt(Gn,Gt)}}gn(Po.afterSanitizeAttributes,Gt,null)},Ms=function ko(Gt){let lo=null;const as=Tn(Gt);for(gn(Po.beforeSanitizeShadowDOM,Gt,null);lo=as.nextNode();)gn(Po.uponSanitizeShadowNode,lo,null),mn(lo),es(lo),lo.content instanceof v&&ko(lo.content);gn(Po.afterSanitizeShadowDOM,Gt,null)};return r.sanitize=function(ko){let Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo=null,as=null,dr=null,va=null;if(n=!ko,n&&(ko="<!-->"),typeof ko!="string"&&!Un(ko))if(typeof ko.toString=="function"){if(ko=ko.toString(),typeof ko!="string")throw Ym("dirty is not a string, aborting")}else throw Ym("toString is not a function");if(!r.isSupported)return ko;if(dp||dt(Gt),r.removed=[],typeof ko=="string"&&(F6=!1),F6){if(ko.nodeName){const Xs=oe(ko.nodeName);if(!_s[Xs]||Ll[Xs])throw Ym("root node is forbidden and cannot be sanitized in-place")}}else if(ko instanceof D)lo=rn("<!---->"),as=lo.ownerDocument.importNode(ko,!0),as.nodeType===s4.element&&as.nodeName==="BODY"||as.nodeName==="HTML"?lo=as:lo.appendChild(as);else{if(!b2&&!r1&&!cp&&ko.indexOf("<")===-1)return an&&ky?an.createHTML(ko):ko;if(lo=rn(ko),!lo)return b2?null:ky?fn:""}lo&&V4&&Ft(lo.firstChild);const Gn=Tn(F6?ko:lo);for(;dr=Gn.nextNode();)mn(dr),es(dr),dr.content instanceof v&&Ms(dr.content);if(F6)return ko;if(b2){if(Ty)for(va=$n.call(lo.ownerDocument);lo.firstChild;)va.appendChild(lo.firstChild);else va=lo;return(lr.shadowroot||lr.shadowrootmode)&&(va=Zo.call(d,va,!0)),va}let Ro=cp?lo.outerHTML:lo.innerHTML;return cp&&_s["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&cd(yN,lo.ownerDocument.doctype.name)&&(Ro="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+Ro),r1&&qv([Zs,rs,Os],Xs=>{Ro=Jv(Ro,Xs," ")}),an&&ky?an.createHTML(Ro):Ro},r.setConfig=function(){let ko=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt(ko),dp=!0},r.clearConfig=function(){ve=null,dp=!1},r.isValidAttribute=function(ko,Gt,lo){ve||dt({});const as=oe(ko),dr=oe(Gt);return Rn(as,dr,lo)},r.addHook=function(ko,Gt){typeof Gt=="function"&&Xv(Po[ko],Gt)},r.removeHook=function(ko,Gt){if(Gt!==void 0){const lo=mN(Po[ko],Gt);return lo===-1?void 0:o4(Po[ko],lo,1)[0]}return Yv(Po[ko])},r.removeHooks=function(ko){Po[ko]=[]},r.removeAllHooks=function(){Po=_N()},r}var wN=EN();const SN=t=>wN().sanitize(t);var gl=tinymce.util.Tools.resolve("tinymce.util.I18n");const uV={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},TN="temporary-placeholder",Ew=t=>()=>Rt(t,TN).getOr("!not found!"),ww=(t,r)=>{const l=t.toLowerCase();if(gl.isRtl()){const d=bo(l,"-rtl");return zt(r,d)?d:l}else return l},kN=(t,r)=>Rt(r,ww(t,r)),AN=(t,r)=>{const l=r();return kN(t,l).getOrThunk(Ew(l))},fV=(t,r,l)=>{const d=r();return kN(t,d).or(l).getOrThunk(Ew(d))},pV=t=>gl.isRtl()?zt(uV,t):!1,Gx=()=>Cs("add-focusable",[Wr(t=>{g1(t.element,"svg").each(r=>ss(r,"focusable","false"))})]),ON=(t,r,l,d)=>{var g,v,y;const D=pV(r)?["tox-icon--flip"]:[],U=Rt(l,ww(r,l)).or(d).getOrThunk(Ew(l));return{dom:{tag:t.tag,attributes:(g=t.attributes)!==null&&g!==void 0?g:{},classes:t.classes.concat(D),innerHtml:U},behaviours:Xn([...(v=t.behaviours)!==null&&v!==void 0?v:[],Gx()]),eventOrder:(y=t.eventOrder)!==null&&y!==void 0?y:{}}},Wd=(t,r,l,d=f.none())=>ON(r,t,l(),d),gV=(t,r,l)=>{const d=l(),g=M(t,v=>zt(d,ww(v,d)));return ON(r,g.getOr(TN),d,f.none())},LN={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Sw=od({name:"Notification",factory:t=>{const r=_e("notification-text"),l=mr({dom:Y1(`<p id=${r}>${SN(t.backstageProvider.translate(t.text))}</p>`),behaviours:Xn([ws.config({})])}),d=Je=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Je}%`}}}),g=Je=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Je}%`}}),v=mr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},g(0)],behaviours:Xn([ws.config({})])}),U={updateProgress:(Je,vt)=>{Je.getSystem().isConnected()&&v.getOpt(Je).each(Lt=>{ws.set(Lt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(vt)]},g(vt)])})},updateText:(Je,vt)=>{if(Je.getSystem().isConnected()){const Lt=l.get(Je);ws.set(Lt,[Zr(vt)])}}},X=K([t.icon.toArray(),[t.level],f.from(LN[t.level]).toArray()]),ce=mr(pl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[Wd("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:Xn([Hr.config({}),wr.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:Je=>{t.onAction(Je)}})),Se=gV(X,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),He={dom:{tag:"div",classes:["tox-notification__body"]},components:[l.asSpec()],behaviours:Xn([ws.config({})])},Qe=[Se,He];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},behaviours:Xn([Hr.config({}),Es.config({}),Ho.config({mode:"special",onEscape:Je=>(t.onAction(Je),f.some(!0))})]),components:Qe.concat(t.progress?[v.asSpec()]:[]).concat([ce.asSpec()]),apis:U}},configFields:[Ec("level","info",["success","error","warning","warn","info"]),Bn("progress"),xr("icon"),Bn("onAction"),Bn("text"),Bn("iconProvider"),Bn("backstageProvider")],apis:{updateProgress:(t,r,l)=>{t.updateProgress(r,l)},updateText:(t,r,l)=>{t.updateText(r,l)}}});var mV=(t,r,l,d)=>{const g=r.backstage.shared,v=()=>cn.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),y=()=>{const Se=ha(v());return f.some(Se)},D=Se=>{y().each(He=>{ee(Se,Qe=>{Ps(Qe.element,"width"),ei(Qe.element)>He.width&&Mo(Qe.element,"width",He.width+"px")})})};return{open:(Se,He,Qe)=>{const Je=()=>{const Vt=Fn=>{ws.remove(Fn,Lt),_t()},an=(Fn,$n)=>{Hc(Fn.element).length===0?fn(Fn,$n):uo(Fn,$n)},fn=(Fn,$n)=>{oa.hide(Fn),d.clear(),$n&&t.focus()},uo=(Fn,$n)=>{$n&&Ho.focusIn(Fn)};d.on(Fn=>{He();const $n=Qe();Vt(Fn),an(Fn,$n)})},vt=()=>!t4(t)||!g.header.isPositionedAtTop(),Lt=C(Sw.sketch({text:Se.text,level:G(["success","error","warning","warn","info"],Se.type)?Se.type:void 0,progress:Se.progressBar===!0,icon:Se.icon,onAction:Je,iconProvider:g.providers.icons,backstageProvider:g.providers}));if(d.isSet()){const Vt=k(Lt);d.on(an=>{ws.append(an,Vt),oa.reposition(an),Lt.hasConfigured(ea)&&ea.refresh(an),D(an.components())})}else{const Vt=C(oa.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:g.getSink,fireDismissalEventInstead:{},...g.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Xn([Ho.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),ws.config({}),...vt()?[ea.config({contextual:{lazyContext:()=>f.some(ha(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Fn=>qm(t,Fn.element).map(Nn=>({bounds:$0(Nn),optScrollEnv:f.some({currentScrollTop:Nn.element.dom.scrollTop,scrollElmTop:Ni(Nn.element).top})})).getOrThunk(()=>({bounds:ol(),optScrollEnv:f.none()}))})]:[]])})),an=k(Lt),fn={maxHeightFunction:bm()},uo={...g.anchors.banner(),overrides:fn};d.set(Vt),l.add(Vt),oa.showWithinBounds(Vt,an,{anchor:uo},y)}Wo(Se.timeout)&&Se.timeout>0&&$x.setEditorTimeout(t,()=>{Je()},Se.timeout);const _t=()=>{d.on(Vt=>{oa.reposition(Vt),Vt.hasConfigured(ea)&&ea.refresh(Vt),D(Vt.components())})};return{close:Je,reposition:_t,text:Vt=>{Sw.updateText(Lt,Vt)},settings:Se,getEl:()=>Lt.element.dom,progressBar:{value:Vt=>{Sw.updateProgress(Lt,Vt)}}}},close:Se=>{Se.close()},getArgs:Se=>Se.settings}};const bV={setup:(t,r)=>{const l=(g,v)=>{Jo(g,di(),{raw:v})},d=()=>t.getMenu().bind(gr.getHighlighted);r.on("keydown",g=>{const v=g.which;t.isActive()&&(t.isMenuOpen()?v===13?(d().each(vm),g.preventDefault()):v===40?(d().fold(()=>{t.getMenu().each(gr.highlightFirst)},y=>{l(y,g)}),g.preventDefault(),g.stopImmediatePropagation()):(v===37||v===38||v===39)&&d().each(y=>{l(y,g),g.preventDefault(),g.stopImmediatePropagation()}):(v===13||v===38||v===40)&&t.cancelIfNecessary())}),r.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!r.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var Tw;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Tw||(Tw={}));var df=Tw;const kw="tox-menu-nav__js",qx="tox-collection__item",Yx="tox-swatch",DN={normal:kw,color:Yx},Aw="tox-collection__item--enabled",vV="tox-collection__group-heading",NN="tox-collection__item-icon",xV="tox-collection__item-image",yV="tox-collection__item-image-selector",Xx="tox-collection__item-label",r4="tox-collection__item-accessory",RN="tox-collection__item-caret",CV="tox-collection__item-checkmark",V0="tox-collection__item--active",e6="tox-collection__item-container",Nu="tox-collection__item-container--column",Jx="tox-collection__item-container--row",MN="tox-collection__item-container--align-right",_V="tox-collection__item-container--align-left",EV="tox-collection__item-container--valign-top",wV="tox-collection__item-container--valign-middle",SV="tox-collection__item-container--valign-bottom",Ow=t=>Rt(DN,t).getOr(kw),IN=t=>t==="color"?"tox-swatches":"tox-menu",Lw=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:IN(t),tieredMenu:"tox-tiered-menu"}),Xm=t=>{const r=Lw(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:Ow(t)}},BN=(t,r,l)=>{const d=Lw(l);return{tag:"div",classes:K([[d.menu,`tox-menu-${r}-column`],t?[d.hasIcons]:[]])}},TV=[J1.parts.items({})],a4=(t,r,l)=>{const d=Lw(l);return{dom:{tag:"div",classes:K([[d.tieredMenu]])},markers:Xm(l)}},Dw=_e("refetch-trigger-event"),Nw=_e("redirect-menu-item-interaction"),FN="tox-menu__searcher",Qx=t=>pr(t.element,`.${FN}`).bind(r=>t.getSystem().getByDom(r).toOptional()),PN=Qx,kV=(t,r)=>{yo.setValue(t,r.fetchPattern),t.element.dom.selectionStart=r.selectionStart,t.element.dom.selectionEnd=r.selectionEnd},$N=t=>{const r=yo.getValue(t),l=t.element.dom.selectionStart,d=t.element.dom.selectionEnd;return{fetchPattern:r,selectionStart:l,selectionEnd:d}},e9=(t,r)=>{ai(r.element,"id").each(l=>ss(t.element,"aria-activedescendant",l))},np=t=>{const r=(g,v)=>(v.cut(),f.none()),l=(g,v)=>{const y={interactionEvent:v.event,eventType:v.event.raw.type};return Jo(g,Nw,y),f.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[qx]},components:[mg.sketch({inputClasses:[FN,"tox-textfield"],inputAttributes:{...t.placeholder.map(g=>({placeholder:t.i18n(g)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Xn([Cs(d,[xn(Bf(),g=>{Hs(g,Dw)}),xn(di(),(g,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),Ho.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:l,onEscape:l,onUp:l,onDown:l})]),eventOrder:{keydown:[d,Ho.name()]}})]}},Jm="tox-collection--results__js",Kd=t=>{var r;return t.dom?{...t,dom:{...t.dom,attributes:{...(r=t.dom.attributes)!==null&&r!==void 0?r:{},id:_e("aria-item-search-result-id"),"aria-selected":"false"}}}:t},HN="Use arrow keys to navigate.",W0=(t,r)=>l=>{const d=j(l,r);return H(d,g=>({dom:t,components:g}))},AV=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":gl.translate(HN)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[J1.parts.items({preprocess:t!=="auto"?W0({tag:"div",classes:["tox-swatches__row"]},t):eo})]}]}),K0=t=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[J1.parts.items({preprocess:t!=="auto"?W0({tag:"div",classes:["tox-image-selector__row"]},t):eo})]}]}),OV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[J1.parts.items({preprocess:W0({tag:"div",classes:["tox-collection__group"]},t)})]}),t9=(t,r)=>{const l=[];let d=[];return ee(t,(g,v)=>{r(g,v)?(d.length>0&&l.push(d),d=[],(zt(g.dom,"innerHtml")||g.components&&g.components.length>0)&&d.push(g)):d.push(g)}),d.length>0&&l.push(d),H(l,g=>({dom:{tag:"div",classes:["tox-collection__group"]},components:g}))},t6=(t,r,l)=>J1.parts.items({preprocess:d=>{const g=H(d,l);return t!=="auto"&&t>1?W0({tag:"div",classes:["tox-collection__group"]},t)(g):t9(g,(v,y)=>r[y].type==="separator")}}),LV=t=>P(t,r=>r.type==="widget"),zN=(t,r,l=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...LV(r)?{"aria-label":gl.translate(HN)}:{}}},components:[t6(t,r,eo)]}),j0=(t,r,l=!0)=>{const d=_e("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Jm].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:d}},components:[t6(t,r,Kd)]}},UN=(t,r,l)=>{const d=_e("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[np({i18n:gl.translate,placeholder:l.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Jm],attributes:{id:d}},components:[t6(t,r,Kd)]}]}},VN=(t,r=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[J1.parts.items({preprocess:l=>t9(l,(d,g)=>t[g].type==="separator")})]}),Qm=t=>P(t,r=>"icon"in r&&r.icon!==void 0),Ic=t=>(console.error(Qg(t)),console.log(t),f.none()),i4=(t,r,l,d,g)=>{const v=VN(l);return{value:t,dom:v.dom,components:v.components,items:l}},eh=(t,r,l,d,g)=>{const v=()=>g.menuType!=="searchable"?zN(d,l):g.searchMode.searchMode==="search-with-field"?UN(d,l,g.searchMode):j0(d,l);if(g.menuType==="color"){const y=AV(d);return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="imageselector"&&d!=="auto"){const y=K0(d);return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="normal"&&d==="auto"){const y=zN(d,l);return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="normal"||g.menuType==="searchable"){const y=v();return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="listpreview"&&d!=="auto"){const y=OV(d);return{value:t,dom:y.dom,components:y.components,items:l}}else return{value:t,dom:BN(r,d,g.menuType),components:TV,items:l}},ba=Ga("type"),Rw=Ga("name"),l4=Ga("label"),op=Ga("text"),Mw=Ga("title"),Z0=Ga("icon"),DV=Ga("url"),c4=Ga("value"),NV=Cc("fetch"),RV=Cc("getSubmenuItems"),th=Cc("onAction"),MV=Cc("onItemAction"),_g=$r("onSetup",()=>lt),IV=xa("name"),uf=xa("text"),BV=xa("role"),jd=xa("icon"),G0=xa("tooltip"),FV=xa("chevronTooltip"),n6=xa("label"),Iw=xa("shortcut"),n9=hu("select"),q0=Oa("active",!1),PV=Oa("borderless",!1),Zd=Oa("enabled",!0),sp=Oa("primary",!1),Bw=t=>tn("columns",t),Y0=tn("meta",{}),Fw=$r("onAction",lt),nh=t=>aa("type",t),Pw=t=>ci("name","name",Pr(()=>_e(`${t}-name`)),Aa),$V=t=>ci("value","value",Pr(()=>_e(`${t}-value`)),gu()),X0=[ba,op,Td("level",["info","warn","error","success"]),Z0,tn("url","")],WN=ns(X0),HV=t=>[ba,t],KN=[ba,op,Zd,Pw("button"),jd,PV,T5("buttonType",["primary","secondary","toolbar"]),sp,aa("context","mode:design")],zV=ns(KN),d4=[ba,Rw],t1=d4.concat([n6]),jN=d4.concat([l4,Zd,aa("context","mode:design")]),UV=ns(jN),VV=qs,WV=t1.concat([Bw("auto"),aa("context","mode:design")]),KV=ns(WV),jV=Ap([c4,op,Z0]),ZV=t1.concat([aa("storageKey","default"),aa("context","mode:design")]),GV=ns(ZV),qV=Aa,XV=ns(t1),JV=Aa,QV=d4.concat([aa("tag","textarea"),Ga("scriptId"),Ga("scriptUrl"),hu("onFocus"),c8("settings",void 0)]),eW=d4.concat([aa("tag","textarea"),Cc("init")]),tW=_1(t=>ra("customeditor.old",yc(eW),t).orThunk(()=>ra("customeditor.new",yc(QV),t))),nW=Aa,Eg=[Zd,uf,BV,Iw,$V("menuitem"),Y0,aa("context","mode:design")],ZN=ns([ba,Rw].concat(Eg)),oW=qs,u4=[Pw("button"),jd,Ec("align","end",["start","end"]),sp,Zd,T5("buttonType",["primary","secondary"]),aa("context","mode:design")],GN=[...u4,op],$w=[Td("type",["submit","cancel","custom"]),...GN],sW=[Td("type",["menu"]),uf,G0,jd,_c("items",ZN),...u4],rW=[...u4,Td("type",["togglebutton"]),G0,jd,uf,Oa("active",!1)],aW=El("type",{submit:$w,cancel:$w,custom:$w,menu:sW,togglebutton:rW}),iW=t1.concat([aa("context","mode:design")]),lW=ns(iW),cW=_5(),oh=t=>[ba,w5("columns"),t],dW=[ba,Ga("html"),Ec("presets","presentation",["presentation","document"]),$r("onInit",lt),Oa("stretched",!1)],uW=ns(dW),qN=t1.concat([Oa("border",!1),Oa("sandboxed",!0),Oa("streamContent",!1),Oa("transparent",!0)]),fW=ns(qN),pW=Aa,gW=ns(d4.concat([xa("height")])),mW=ns([Ga("url"),em("zoom"),em("cachedWidth"),em("cachedHeight")]),Hw=t1.concat([xa("inputMode"),xa("placeholder"),Oa("maximized",!1),Zd,aa("context","mode:design")]),YN=ns(Hw),zw=Aa,o9=t=>[ba,l4,t,Ec("align","start",["start","center","end"]),xa("for")],f4=[op,c4],hW=[op,_c("items",Df("items",()=>Uw))],Uw=Jg([ns(f4),ns(hW)]),bW=t1.concat([_c("items",Uw),Zd,aa("context","mode:design")]),p4=ns(bW),vW=Aa,s9=t1.concat([S5("items",[op,c4]),O5("size",1),Zd,aa("context","mode:design")]),Vw=ns(s9),xW=Aa,yW=t1.concat([Oa("constrain",!0),Zd,aa("context","mode:design")]),CW=ns(yW),r9=ns([Ga("width"),Ga("height")]),_W=d4.concat([l4,O5("min",0),O5("max",0)]),EW=ns(_W),wW=Ku,XN=[ba,_c("header",Aa),_c("cells",Gc(Aa))],Ww=ns(XN),SW=t1.concat([xa("placeholder"),Oa("maximized",!1),Zd,aa("context","mode:design"),k5("spellcheck")]),TW=ns(SW),kW=Aa,JN=[aa("buttonType","default"),xa("text"),xa("tooltip"),xa("icon"),Sl("search",!1,Jg([qs,ns([xa("placeholder")])],t=>xe(t)?t?f.some({placeholder:f.none()}):f.none():f.some(t))),Cc("fetch"),$r("onSetup",()=>lt),aa("context","mode:design")],QN=ns([ba,...JN]),a9=t=>ra("menubutton",QN,t),Kw=[Td("type",["directory","leaf"]),Mw,Ga("id"),mu("menu",QN),xa("customStateIcon"),xa("customStateIconTooltip")],eR=ns(Kw),OW=Kw.concat([_c("children",Df("children",()=>Lf("type",{directory:jw,leaf:eR})))]),jw=ns(OW),Zw=Lf("type",{directory:jw,leaf:eR}),LW=[ba,_c("items",Zw),hu("onLeafAction"),hu("onToggleExpand"),Rf("defaultExpandedIds",[],Aa),xa("defaultSelectedId")],DW=ns(LW),NW=t1.concat([Ec("filetype","file",["image","media","file"]),Zd,xa("picker_text"),aa("context","mode:design")]),RW=ns(NW),MW=ns([c4,Y0]),Gw=t=>ci("items","items",ni(),Gc(_1(r=>ra(`Checking item of ${t}`,qw,r).fold(l=>zn.error(Qg(l)),l=>zn.value(l))))),qw=li(()=>Lf("type",{alertbanner:WN,bar:ns(HV(Gw("bar"))),button:zV,checkbox:UV,colorinput:GV,colorpicker:XV,dropzone:lW,grid:ns(oh(Gw("grid"))),iframe:fW,input:YN,listbox:p4,selectbox:Vw,sizeinput:CW,slider:EW,textarea:TW,urlinput:RW,customeditor:tW,htmlpanel:uW,imagepreview:gW,collection:KV,label:ns(o9(Gw("label"))),table:Ww,tree:DW,panel:tR})),Yw=[ba,tn("classes",[]),_c("items",qw)],tR=ns(Yw),Xw=[Pw("tab"),Mw,_c("items",qw)],IW=[ba,S5("tabs",Xw)],BW=ns(IW),Jw=GN,FW=aW,PW=ns([Ga("title"),Vl("body",Lf("type",{panel:tR,tabpanel:BW})),aa("size","normal"),Rf("buttons",[],FW),tn("initialData",{}),$r("onAction",lt),$r("onChange",lt),$r("onSubmit",lt),$r("onClose",lt),$r("onCancel",lt),$r("onTabChange",lt)]),nR=t=>ra("dialog",PW,t),$W=ns([Td("type",["cancel","custom"]),...Jw]),HW=ns([Ga("title"),Ga("url"),em("height"),em("width"),A5("buttons",$W),$r("onAction",lt),$r("onCancel",lt),$r("onClose",lt),$r("onMessage",lt)]),zW=t=>ra("dialog",HW,t),Qw=t=>Mt(t)?[t].concat(R(Ot(t),Qw)):un(t)?R(t,Qw):[],UW=t=>ot(t.type)&&ot(t.name),VW={checkbox:VV,colorinput:qV,colorpicker:JV,dropzone:cW,input:zw,iframe:pW,imagepreview:mW,selectbox:xW,sizeinput:r9,slider:wW,listbox:vW,size:r9,textarea:kW,urlinput:MW,customeditor:nW,collection:jV,togglemenuitem:oW},WW=t=>f.from(VW[t.type]),oR=t=>be(Qw(t),UW),sR=t=>{const r=oR(t),l=R(r,d=>WW(d).fold(()=>[],g=>[Vl(d.name,g)]));return ns(l)},rR=t=>{var r;const l=Sd(nR(t)),d=sR(t),g=(r=t.initialData)!==null&&r!==void 0?r:{};return{internalDialog:l,dataValidator:d,initialData:g}},J0={open:(t,r)=>{const l=rR(r);return t(l.internalDialog,l.initialData,l.dataValidator)},openUrl:(t,r)=>{const l=Sd(zW(r));return t(l)},redial:t=>rR(t)},aR=ns([ba,uf]),KW=t=>ra("separatormenuitem",aR,t),jW=ns([nh("autocompleteitem"),q0,Zd,Y0,c4,uf,jd]),ZW=t=>ra("Autocompleter.Separator",aR,t),iR=t=>ra("Autocompleter.Item",jW,t),Q0=[Zd,G0,jd,uf,_g,aa("context","mode:design")],lR=ns([ba,th,Iw].concat(Q0)),o6=t=>ra("toolbarbutton",lR,t),eS=[q0].concat(Q0),cR=ns(eS.concat([ba,th,Iw])),dR=t=>ra("ToggleButton",cR,t),i9=[$r("predicate",ge),Ec("scope","node",["node","editor"]),Ec("position","selection",["node","selection","line"])],GW=Q0.concat([nh("contextformbutton"),aa("align","end"),sp,th,Wi("original",eo)]),qW=eS.concat([nh("contextformbutton"),aa("align","end"),sp,th,Wi("original",eo)]),tS=Q0.concat([nh("contextformbutton")]),wg=eS.concat([nh("contextformtogglebutton")]),YW=El("type",{contextformbutton:GW,contextformtogglebutton:qW}),e2=[n6,_c("commands",YW),mu("launch",El("type",{contextformbutton:tS,contextformtogglebutton:wg})),$r("onInput",lt),$r("onSetup",lt)],XW=[...i9,...e2,Td("type",["contextform"]),$r("initValue",ht("")),xa("placeholder")],nS=[...i9,...e2,Td("type",["contextsliderform"]),$r("initValue",ht(0)),$r("min",ht(0)),$r("max",ht(100))],JW=[...i9,...e2,Td("type",["contextsizeinputform"]),$r("initValue",ht({width:"",height:""}))],QW=El("type",{contextform:XW,contextsliderform:nS,contextsizeinputform:JW}),eK=t=>ra("ContextForm",QW,t),uR=Q0.concat([nh("contexttoolbarbutton")]),tK=ns([nh("contexttoolbar"),wl("launch",uR),Vl("items",Jg([Aa,Ap([xa("name"),xa("label"),_c("items",Aa)])]))].concat(i9)),oS=t=>({name:t.name.getOrUndefined(),label:t.label.getOrUndefined(),items:t.items}),sS=t=>({...t,launch:t.launch.getOrUndefined(),items:ot(t.items)?t.items:H(t.items,oS)}),rS=t=>ra("ContextToolbar",tK,t),nK=[ba,Ga("src"),xa("alt"),Rf("classes",[],Aa)],Gd=ns(nK),oK=[ba,op,IV,Rf("classes",["tox-collection__item-label"],Aa)],sK=ns(oK),aS=li(()=>Lf("type",{cardimage:Gd,cardtext:sK,cardcontainer:fR})),fR=ns([ba,aa("direction","horizontal"),aa("align","left"),aa("valign","middle"),_c("items",aS)]),rK=ns([ba,n6,_c("items",aS),_g,Fw].concat(Eg)),aK=t=>ra("cardmenuitem",rK,t),iK=ns([ba,q0,jd,n6].concat(Eg)),lK=t=>ra("choicemenuitem",iK,t),iS=[ba,Ga("fancytype"),Fw],cK=[tn("initData",{})].concat(iS),dK=[hu("select"),U2("initData",{},[Oa("allowCustomColors",!0),aa("storageKey","default"),A5("colors",gu())])].concat(iS),pR=[hu("select"),Nf("initData",[w5("columns"),Rf("items",[],gu())])].concat(iS),uK=El("fancytype",{inserttable:cK,colorswatch:dK,imageselect:pR}),fK=t=>ra("fancymenuitem",uK,t),pK=ns([ba,q0,DV,n6,G0].concat(Eg)),gR=ns([ba,q0,Z0,l4,G0,c4].concat(Eg)),lS=t=>ra("imagemenuitem",pK,t),mR=t=>ra("resetimageitem",gR,t),hR=ns([ba,_g,Fw,jd].concat(Eg)),bR=t=>ra("menuitem",hR,t),vR=ns([ba,RV,_g,jd].concat(Eg)),cS=t=>ra("nestedmenuitem",vR,t),gK=ns([ba,jd,q0,_g,th].concat(Eg)),dS=t=>ra("togglemenuitem",gK,t),g4=ns([jd,G0,$r("onShow",lt),$r("onHide",lt),_g]),xR=t=>ra("sidebar",g4,t),yR=ns([ba,Vl("items",Jg([Ap([Rw,_c("items",Aa)]),Aa]))].concat(Q0)),CR=t=>ra("GroupToolbarButton",yR,t),mK=ns([ba,G0,FV,jd,uf,n9,NV,_g,Ec("presets","normal",["normal","color","listpreview"]),Bw(1),th,MV,aa("context","mode:design")]),hK=t=>ra("SplitButton",mK,t),s6=[uf,jd,xa("tooltip"),Ec("buttonType","secondary",["primary","secondary"]),Oa("borderless",!1),Cc("onAction"),aa("context","mode:design")],bK=[...s6,op,Td("type",["button"])],vK=[...s6,Oa("active",!1),Td("type",["togglebutton"])],uS={button:bK,togglebutton:vK},_R=[Td("type",["group"]),Rf("buttons",[],El("type",uS))],fS=El("type",{...uS,group:_R}),ER=ns([Rf("buttons",[],fS),Cc("onShow"),Cc("onHide")]),lc=t=>ra("view",ER,t),l9=(t,r,l)=>{const d=Ia(t.element,"."+l);if(d.length>0){const g=W(d,v=>{const y=v.dom.getBoundingClientRect().top,D=d[0].dom.getBoundingClientRect().top;return Math.abs(y-D)>r}).getOr(d.length);return f.some({numColumns:g,numRows:Math.ceil(d.length/g)})}else return f.none()},wR=(t,r)=>Xn([Cs(t,r)]),m4={namedEvents:wR,unnamedEvents:t=>wR(_e("unnamed-events"),t)},qi={item:t=>zo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>zo.config({disabled:t}),splitButton:t=>zo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>zo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},t2=(t,r)=>{const l=t.getApi(r);return d=>{d(l)}},ff=(t,r)=>Wr(l=>{jt(t.onBeforeSetup)&&t.onBeforeSetup(l),t2(t,l)(g=>{const v=t.onSetup(g);jt(v)&&r.set(v)})}),rp=(t,r)=>wu(l=>t2(t,l)(r.get())),r6=(t,r,l)=>wu(d=>(l.set(yo.getValue(d)),t2(t,d)(r.get()))),SR="silver.uistate",a6="setDisabled",yK="setEnabled",TR="init",CK=["switchmode",TR],i6=(t,r)=>{const l=t.mainUi.outerContainer,d=[t.mainUi.mothership,...t.uiMotherships];r===a6&&ee(d,g=>{g.broadcastOn([Kf()],{target:l.element})}),ee(d,g=>{g.broadcastOn([SR],r)})},pS=(t,r)=>{t.on("init SwitchMode",l=>{i6(r,l.type)}),t.on("DisabledStateChange",l=>{if(!l.isDefaultPrevented()){const d=l.state?a6:TR;i6(r,d),l.state||t.nodeChanged()}}),t.on("NodeChange",l=>{const d=t.ui.isEnabled()?l.type:a6;i6(r,d)}),$D(t)&&t.mode.set("readonly")},Fa=t=>sd.config({channels:{[SR]:{onReceive:(r,l)=>{if(l===a6||l===yK){zo.set(r,l===a6);return}const{contextType:d,shouldDisable:g}=t();d==="mode"&&!G(CK,l)||zo.set(r,g)}}}}),ap=(t,r)=>Wf((l,d)=>{t2(t,l)(t.onAction),!t.triggersSubmenu&&r===df.CLOSE_ON_EXECUTE&&(l.getSystem().isConnected()&&Hs(l,Kh()),d.stop())}),c9={[qc()]:["disabling","alloy.base.behaviour","toggling","item-events"]},h4=Bt,n2=(t,r,l,d)=>{const g=et(lt);return{type:"item",dom:r.dom,components:h4(r.optComponents),data:t.data,eventOrder:c9,hasSubmenu:t.triggersSubmenu,itemBehaviours:Xn([Cs("item-events",[ap(t,l),ff(t,g),rp(t,g)]),qi.item(()=>!t.enabled||d.checkUiComponentContext(t.context).shouldDisable),Fa(()=>d.checkUiComponentContext(t.context)),ws.config({})].concat(t.itemBehaviours))}},sh=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),kR=(t,r)=>{var l,d;const g=cn.fromTag("div");na(g,"tox-image-selector-loading-spinner");const v=D=>{na(D,"tox-image-selector-loading-spinner-wrapper"),tl(D,g)},y=D=>{Vr(D,"tox-image-selector-loading-spinner-wrapper"),ec(g)};return{dom:{tag:t.tag,attributes:(l=t.attributes)!==null&&l!==void 0?l:{},classes:t.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...t.checkMark.toArray()],behaviours:Xn([...(d=t.behaviours)!==null&&d!==void 0?d:[],Cs("render-image-events",[Wr(D=>{v(D.element),pr(D.element,"img").each(U=>{su(U).catch(X=>{console.error(X)}).finally(()=>{y(D.element)})})})])])}},gS=(t,r)=>kR(r,t),b4=t=>{const r=Na.os.isMacOS()||Na.os.isiOS(),g=r?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},v=t.split("+"),y=H(v,D=>{const U=D.toLowerCase().trim();return zt(g,U)?g[U]:D});return r?y.join(""):y.join("+")},o2=(t,r,l=[NN])=>Wd(t,{tag:"div",classes:l},r),v4=t=>({dom:{tag:"div",classes:[Xx]},components:[Zr(gl.translate(t))]}),mS=(t,r)=>({dom:{tag:"div",classes:r,innerHtml:t}}),AR=(t,r)=>({dom:{tag:"div",classes:[Xx]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Zr(gl.translate(r))]}]}),OR=t=>({dom:{tag:"div",classes:[r4]},components:[Zr(b4(t))]}),d9=t=>o2("checkmark",t,[CV]),_K=t=>o2("chevron-right",t,[RN]),EK=t=>o2("chevron-down",t,[RN]),wK=(t,r)=>{const l=t.direction==="vertical"?Nu:Jx,d=t.align==="left"?_V:MN;return{dom:{tag:"div",classes:[e6,l,d,(()=>{switch(t.valign){case"top":return EV;case"middle":return wV;case"bottom":return SV}})()]},components:r}},SK=(t,r,l)=>({dom:{tag:"img",classes:r,attributes:{src:t,alt:l.getOr("")}}}),TK=(t,r,l)=>{const d="custom",g="remove",v=t.value,y=t.iconContent.map(X=>fV(X,r.icons,l)),D=t.ariaLabel.map(X=>({"aria-label":r.translate(X),"data-mce-name":X})).getOr({});return{dom:(()=>{const X=Yx,ce=y.getOr(""),Se={tag:"div",attributes:D,classes:[X]};return v===d?{...Se,tag:"button",classes:[...Se.classes,"tox-swatches__picker-btn"],innerHtml:ce}:v===g?{...Se,classes:[...Se.classes,"tox-swatch--remove"],innerHtml:ce}:Eo(v)?{...Se,attributes:{...Se.attributes,"data-mce-color":v},styles:{"background-color":v},innerHtml:ce}:Se})(),optComponents:[]}},u9=(t,r)=>{const l=t.map(d=>({attributes:{id:_e("menu-item"),"aria-label":gl.translate(d)}})).getOr({});return{tag:"div",classes:[kw,qx].concat(r),...l}},hS=t=>({dom:{tag:"label"},components:[Zr(t)]}),kK=(t,r,l,d)=>{const g={tag:"div",classes:[NN]},v=He=>Wd(He,g,r.icons,d),y=()=>f.some({dom:g}),D=l?t.iconContent.map(v).orThunk(y):f.none(),U=t.checkMark,X=f.from(t.meta).fold(()=>v4,He=>zt(He,"style")?Qo(AR,He.style):v4),ce=t.htmlContent.fold(()=>t.textContent.map(X),He=>f.some(mS(He,[Xx])));return{dom:u9(t.ariaLabel,[]),optComponents:[D,ce,t.shortcutContent.map(OR),U,t.caret,t.labelContent.map(hS)]}},LR=t=>({dom:u9(t.ariaLabel,[yV]),optComponents:[f.some(gS(t.iconContent.getOrDie(),{tag:"div",classes:[xV],checkMark:t.checkMark})),t.labelContent.map(hS)]}),x4=(t,r,l,d=f.none())=>t.presets==="color"?TK(t,r,d):t.presets==="img"?LR(t):kK(t,r,l,d),bS=(t,r,l)=>Rt(t,"tooltipWorker").map(d=>[wr.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:g=>({type:"submenu",item:g,overrides:{maxHeightFunction:bm}}),mode:"follow-highlight",onShow:(g,v)=>{d(y=>{wr.setComponents(g,[lv({element:cn.fromDom(y)})])})}})]).getOrThunk(()=>l.map(d=>[wr.config({...r.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),s2=t=>Vv.DOM.encode(t),DR=(t,r)=>{const l=gl.translate(t),d=s2(l);if(r.length>0){const g=new RegExp(to(r),"gi");return d.replace(g,v=>`<span class="tox-autocompleter-highlight">${v}</span>`)}else return d},NR=(t,r,l,d,g,v,y,D=!0)=>{const U=x4({presets:d,textContent:f.none(),htmlContent:l?t.text.map(ce=>DR(ce,r)):f.none(),ariaLabel:t.text,labelContent:f.none(),iconContent:t.icon,shortcutContent:f.none(),checkMark:f.none(),caret:f.none(),value:t.value},y.providers,D,t.icon),X=t.text.filter(ce=>!l&&ce!=="");return n2({context:"mode:design",data:sh(t),enabled:t.enabled,getApi:ht({}),onAction:ce=>g(t.value,t.meta),onSetup:ht(lt),triggersSubmenu:!1,itemBehaviours:bS(t,y,X)},U,v,y.providers)},RR=(t,r)=>H(t,l=>{switch(l.type){case"cardcontainer":return wK(l,RR(l.items,r));case"cardimage":return SK(l.src,l.classes,l.alt);case"cardtext":const g=l.name.exists(v=>G(r.cardText.highlightOn,v))?f.from(r.cardText.matchText).getOr(""):"";return mS(DR(l.text,g),l.classes)}}),AK=(t,r,l,d)=>{const g=y=>({isEnabled:()=>!zo.isDisabled(y),setEnabled:D=>{zo.set(y,!D),ee(Ia(y.element,"*"),U=>{y.getSystem().getByDom(U).each(X=>{X.hasConfigured(zo)&&zo.set(X,!D)})})}}),v={dom:u9(t.label,[]),optComponents:[f.some({dom:{tag:"div",classes:[e6,Jx]},components:RR(t.items,d)})]};return n2({context:"mode:design",data:sh({text:f.none(),...t}),enabled:t.enabled,getApi:g,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:f.from(d.itemBehaviours).getOr([])},v,r,l.providers)},MR=(t,r,l,d,g,v,y,D=!0)=>{const U=Se=>({setActive:He=>{Ys.set(Se,He)},isActive:()=>Ys.isOn(Se),isEnabled:()=>!zo.isDisabled(Se),setEnabled:He=>zo.set(Se,!He)}),X=x4({presets:l,textContent:r?t.text:f.none(),htmlContent:f.none(),labelContent:t.label,ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:f.none(),checkMark:r?f.some(d9(y.icons)):f.none(),caret:f.none(),value:t.value},y,D),ce=t.text.filter(ht(!r)).map(Se=>wr.config(y.tooltips.getConfig({tooltipText:y.translate(Se)})));return kt(n2({context:t.context,data:sh(t),enabled:t.enabled,getApi:U,onAction:Se=>d(t.value),onSetup:Se=>(Se.setActive(g),lt),triggersSubmenu:!1,itemBehaviours:[...ce.toArray()]},X,v,y),{toggling:{toggleClass:Aw,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},IR=t=>({value:f9(t)}),vS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,BR=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,xS=t=>vS.test(t)||BR.test(t),f9=t=>go(t,"#").toUpperCase(),Sg=t=>xS(t)?f.some({value:f9(t)}):f.none(),yS=t=>({value:t.value.replace(vS,(l,d,g,v)=>d+d+g+g+v+v)}),FR=t=>{const r=yS(t),l=BR.exec(r.value);return l===null?["FFFFFF","FF","FF","FF"]:l},p9=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},r2=t=>{const r=p9(t.red)+p9(t.green)+p9(t.blue);return IR(r)},y4=(t,r,l)=>({hue:t,saturation:r,value:l}),C4=t=>{let r=0,l=0,d=0;const g=t.red/255,v=t.green/255,y=t.blue/255,D=Math.min(g,Math.min(v,y)),U=Math.max(g,Math.max(v,y));if(D===U)return d=D,y4(0,0,d*100);const X=g===D?v-y:y===D?g-v:y-g;return r=g===D?3:y===D?1:5,r=60*(r-X/(U-D)),l=(U-D)/U,d=U,y4(Math.round(r),Math.round(l*100),Math.round(d*100))},CS=Math.min,_S=Math.max,g9=Math.round,OK=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,LK=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,a2=(t,r,l,d)=>({red:t,green:r,blue:l,alpha:d}),ES=t=>{const r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},wS=t=>{let r,l,d;const g=(t.hue||0)%360;let v=t.saturation/100,y=t.value/100;if(v=_S(0,CS(v,1)),y=_S(0,CS(y,1)),v===0)return r=l=d=g9(255*y),a2(r,l,d,1);const D=g/60,U=y*v,X=U*(1-Math.abs(D%2-1)),ce=y-U;switch(Math.floor(D)){case 0:r=U,l=X,d=0;break;case 1:r=X,l=U,d=0;break;case 2:r=0,l=U,d=X;break;case 3:r=0,l=X,d=U;break;case 4:r=X,l=0,d=U;break;case 5:r=U,l=0,d=X;break;default:r=l=d=0}return r=g9(255*(r+ce)),l=g9(255*(l+ce)),d=g9(255*(d+ce)),a2(r,l,d,1)},_4=t=>{const r=FR(t),l=parseInt(r[1],16),d=parseInt(r[2],16),g=parseInt(r[3],16);return a2(l,d,g,1)},PR=(t,r,l,d)=>{const g=parseInt(t,10),v=parseInt(r,10),y=parseInt(l,10),D=parseFloat(d);return a2(g,v,y,D)},SS=t=>{const r=OK.exec(t);if(r!==null)return f.some(PR(r[1],r[2],r[3],"1"));const l=LK.exec(t);return l!==null?f.some(PR(l[1],l[2],l[3],l[4])):f.none()},$R=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,l6=a2(255,0,0,1),DK=t=>C4(_4(t)),HR=t=>r2(wS(t)),zR=t=>Sg(t).orThunk(()=>SS(t).map(r2)).getOrThunk(()=>{const r=document.createElement("canvas");r.height=1,r.width=1;const l=r.getContext("2d");l.clearRect(0,0,r.width,r.height),l.fillStyle="#FFFFFF",l.fillStyle=t,l.fillRect(0,0,1,1);const d=l.getImageData(0,0,1,1).data,g=d[0],v=d[1],y=d[2],D=d[3];return r2(a2(g,v,y,D))}),UR=t=>{t.dispatch("SkinLoaded")},NK=(t,r)=>{t.dispatch("SkinLoadError",r)},RK=t=>{t.dispatch("ResizeEditor")},c6=(t,r)=>{t.dispatch("ResizeContent",r)},MK=(t,r)=>{t.dispatch("ScrollContent",r)},TS=(t,r)=>{t.dispatch("TextColorChange",r)},IK=(t,r)=>{t.dispatch("AfterProgressState",{state:r})},BK=(t,r)=>t.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),FK=(t,r)=>{t.dispatch("ToggleToolbarDrawer",{state:r})},VR=(t,r)=>{t.dispatch("StylesTextUpdate",r)},WR=(t,r)=>{t.dispatch("AlignTextUpdate",r)},PK=(t,r)=>{t.dispatch("FontSizeTextUpdate",r)},$K=(t,r)=>{t.dispatch("FontSizeInputTextUpdate",r)},HK=(t,r)=>{t.dispatch("BlocksTextUpdate",r)},zK=(t,r)=>{t.dispatch("FontFamilyTextUpdate",r)},KR=t=>{t.dispatch("ToggleSidebar")},UK=t=>{t.dispatch("ToggleView")},kS=t=>{t.dispatch("ContextToolbarClose")},VK=t=>{t.dispatch("ContextFormSlideBack")},m9=(t,r)=>()=>{t(),r()},Zl=(t,r=a)=>i2(t,"NodeChange",l=>{l.setEnabled(t.selection.isEditable()&&r())}),WK=(t,r)=>l=>{const d=qo(),g=()=>{l.setActive(t.formatter.match(r));const v=t.formatter.formatChanged(r,l.setActive);d.set(v)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),d.clear()}},h9=(t,r)=>l=>{const d=Zl(t)(l),g=WK(t,r)(l);return()=>{d(),g()}},i2=(t,r,l)=>d=>{const g=()=>l(d),v=()=>{l(d),t.on(r,g)};return t.initialized?v():t.once("init",v),()=>{t.off("init",v),t.off(r,g)}},jR=t=>r=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})},dd=(t,r)=>()=>t.execCommand(r);var l2=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const b9={},KK=(t,r=10)=>{const l=l2.getItem(t),d=ot(l)?JSON.parse(l):[],v=(X=>r-X.length<0?X.slice(0,r):X)(d),y=X=>{B(v,X).each(D),v.unshift(X),v.length>r&&v.pop(),l2.setItem(t,JSON.stringify(v))},D=X=>{v.splice(X,1)};return{add:y,state:()=>v.slice(0)}},ZR=t=>Rt(b9,t).getOrThunk(()=>{const r=`tinymce-custom-colors-${t}`,l=l2.getItem(r);if(Co(l)){const g=l2.getItem("tinymce-custom-colors");l2.setItem(r,Eo(g)?g:"[]")}const d=KK(r,10);return b9[t]=d,d}),jK=t=>H(ZR(t).state(),r=>({type:"choiceitem",text:r,icon:"checkmark",value:r})),E4=(t,r)=>{ZR(t).add(r)},d6="forecolor",AS="hilitecolor",ZK=5,OS=t=>GR(t.map((r,l)=>l%2===0?"#"+zR(r).value:r)),GR=t=>{const r=[];for(let l=0;l<t.length;l+=2)r.push({text:t[l+1],value:t[l],icon:"checkmark",type:"choiceitem"});return r},Ru=t=>r=>r.options.get(t),v9="#000000",GK=t=>{const r=t.options.register,l=v=>Yt(v,ot)?{value:OS(v),valid:!0}:{valid:!1,message:"Must be an array of strings."},d=v=>Yt(v,ot)?{value:GR(v),valid:!0}:{valid:!1,message:"Must be an array of strings."},g=v=>Wo(v)&&v>0?{value:v,valid:!0}:{valid:!1,message:"Must be a positive number."};r("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),r("color_map_raw",{processor:d}),r("color_map_background",{processor:l}),r("color_map_foreground",{processor:l}),r("color_cols",{processor:g,default:y9(t)}),r("color_cols_foreground",{processor:g,default:qR(t,d6)}),r("color_cols_background",{processor:g,default:qR(t,AS)}),r("custom_colors",{processor:"boolean",default:!0}),r("color_default_foreground",{processor:"string",default:v9}),r("color_default_background",{processor:"string",default:v9})},x9=(t,r)=>r===d6&&t.options.isSet("color_map_foreground")?Ru("color_map_foreground")(t):r===AS&&t.options.isSet("color_map_background")?Ru("color_map_background")(t):t.options.isSet("color_map_raw")?Ru("color_map_raw")(t):Ru("color_map")(t),y9=(t,r="default")=>Math.max(ZK,Math.ceil(Math.sqrt(x9(t,r).length))),qR=(t,r)=>{const l=Ru("color_cols")(t),d=y9(t,r);return l===y9(t)?d:l},LS=(t,r="default")=>Math.round(r===d6?Ru("color_cols_foreground")(t):r===AS?Ru("color_cols_background")(t):Ru("color_cols")(t)),YR=Ru("custom_colors"),XR=Ru("color_default_foreground"),JR=Ru("color_default_background"),qK="rgba(0, 0, 0, 0)",QR=t=>SS(t).exists(r=>r.alpha!==0),eM=t=>Wg(t,r=>{if(hl(r)){const l=pa(r,"background-color");return Dn(QR(l),l)}else return f.none()}).getOr(qK),tM=(t,r)=>{const l=cn.fromDom(t.selection.getStart()),d=r==="hilitecolor"?eM(l):pa(l,"color");return SS(d).map(g=>"#"+r2(g).value)},DS=(t,r,l)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(r,{value:l}),t.nodeChanged()})},nM=(t,r)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(r,{value:null},void 0,!0),t.nodeChanged()})},NS=t=>{t.addCommand("mceApplyTextcolor",(r,l)=>{DS(t,r,l)}),t.addCommand("mceRemoveTextcolor",r=>{nM(t,r)})},oM=t=>{const r="choiceitem",l={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[l,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[l]},RS=(t,r,l,d)=>{l==="custom"?cM(t)(v=>{v.each(y=>{E4(r,y),t.execCommand("mceApplyTextcolor",r,y),d(y)})},tM(t,r).getOr(v9)):l==="remove"?(d(""),t.execCommand("mceRemoveTextcolor",r)):(d(l),t.execCommand("mceApplyTextcolor",r,l))},C9=(t,r,l)=>t.concat(jK(r).concat(oM(l))),sM=(t,r,l)=>d=>{d(C9(t,r,l))},_9=(t,r,l)=>{const d=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(d,l)},rM=(t,r)=>{t.setTooltip(r)},aM=(t,r)=>l=>{const d=tM(t,r);return At(d,l.toUpperCase())},u6=(t,r,l)=>{if(wa(l))return r==="forecolor"?"Text color":"Background color";const d=r==="forecolor"?"Text color {0}":"Background color {0}",g=C9(x9(t,r),r,!1),v=M(g,y=>y.value===l).getOr({text:""}).text;return t.translate([d,t.translate(v)])},iM=(t,r,l,d)=>{t.ui.registry.addSplitButton(r,{tooltip:u6(t,l,d.get()),chevronTooltip:r==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:aM(t,l),columns:LS(t,l),fetch:sM(x9(t,l),l,YR(t)),onAction:g=>{RS(t,l,d.get(),lt)},onItemAction:(g,v)=>{RS(t,l,v,y=>{d.set(y),TS(t,{name:r,color:y})})},onSetup:g=>{_9(g,r,d.get());const v=y=>{y.name===r&&(_9(g,y.name,y.color),rM(g,u6(t,l,y.color)))};return t.on("TextColorChange",v),m9(Zl(t)(g),()=>{t.off("TextColorChange",v)})}})},lM=(t,r,l,d,g)=>{t.ui.registry.addNestedMenuItem(r,{text:d,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(rM(v,u6(t,l,g.get())),_9(v,r,g.get()),Zl(t)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:aM(t,l),initData:{storageKey:l},onAction:v=>{RS(t,l,v.value,y=>{g.set(y),TS(t,{name:r,color:y})})}}]})},cM=t=>(r,l)=>{let d=!1;const g=D=>{const X=D.getData().colorpicker;d?(r(f.from(X)),D.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",X]))},v=(D,U)=>{U.name==="hex-valid"&&(d=U.value)},y={colorpicker:l};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y,onAction:v,onSubmit:g,onClose:lt,onCancel:()=>{r(f.none())}})},MS=t=>{NS(t);const r=XR(t),l=JR(t),d=et(r),g=et(l);iM(t,"forecolor","forecolor",d),iM(t,"backcolor","hilitecolor",g),lM(t,"forecolor","forecolor","Text color",d),lM(t,"backcolor","hilitecolor","Background color",g)},YK=(t,r,l,d,g)=>{const v=U=>({setActive:X=>{Ys.set(U,X)},isActive:()=>Ys.isOn(U),isEnabled:()=>!zo.isDisabled(U),setEnabled:X=>zo.set(U,!X)}),y=x4({presets:"img",textContent:f.none(),htmlContent:f.none(),ariaLabel:t.tooltip,iconContent:f.some(t.url),labelContent:t.label,shortcutContent:f.none(),checkMark:f.some(d9(g.icons)),caret:f.none(),value:t.value},g,!0),D=t.tooltip.map(U=>wr.config(g.tooltips.getConfig({tooltipText:g.translate(U)})));return kt(n2({context:t.context,data:sh(t),enabled:t.enabled,getApi:v,onAction:U=>{r(t.value),U.setActive(!0)},onSetup:U=>(U.setActive(l),lt),triggersSubmenu:!1,itemBehaviours:[...D.toArray()]},y,d,g),{toggling:{toggleClass:Aw,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},f6=(t,r,l,d,g,v,y,D)=>{const U=Qm(r),ce=XK(r,l,d,g!=="color"?"normal":"color",v,y,D);return eh(t,U,ce,d,{menuType:g})},XK=(t,r,l,d,g,v,y)=>Bt(H(t,D=>D.type==="choiceitem"?lK(D).fold(Ic,U=>f.some(MR(U,l===1,d,r,v(U.value),g,y,Qm(t)))):D.type==="imageitem"?lS(D).fold(Ic,U=>f.some(YK(U,r,v(U.value),g,y))):D.type==="resetimage"?mR(D).fold(Ic,U=>f.some(MR({...U,text:U.tooltip,icon:f.some(U.icon),label:f.some(U.label)},l===1,d,r,v(U.value),g,y,Qm(t)))):f.none())),w4=(t,r)=>{const l=Xm(r);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+l.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:g=>r==="color"?pr(g.element,"[aria-checked=true]"):f.none()}},JK=(t,r)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?`.${Yx}`:`.${qx}`}},QK=(t,r)=>{const l=ej(t,r),d=r.colorinput.getColorCols(t.initData.storageKey),g="color",y={...f6(_e("menu-value"),l,D=>{t.onAction({value:D})},d,g,df.CLOSE_ON_EXECUTE,t.select.getOr(ge),r.shared.providers),markers:Xm(g),movement:w4(d,g),showMenuRole:!1};return{type:"widget",data:{value:_e("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[NE.widget(J1.sketch(y))]}},ej=(t,r)=>{const l=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(()=>C9(r.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,l),d=>d.concat(oM(l)))},tj=(t,r)=>{const l="imageselector",d=t.initData.columns,v={...f6(_e("menu-value"),t.initData.items,y=>{t.onAction({value:y})},d,l,df.CLOSE_ON_EXECUTE,t.select.getOr(ge),r.shared.providers),markers:Xm(l),movement:w4(d,l),showMenuRole:!1};return{type:"widget",data:{value:_e("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[NE.widget(J1.sketch(v))]}},dM=_e("cell-over"),IS=_e("cell-execute"),nj=t=>(r,l)=>t.shared.providers.translate(["{0} columns, {1} rows",l,r]),oj=(t,r,l)=>{const d=y=>Jo(y,dM,{row:t,col:r}),g=y=>Jo(y,IS,{row:t,col:r}),v=(y,D)=>{D.stop(),g(y)};return C({dom:{tag:"div",attributes:{role:"button","aria-label":l}},behaviours:Xn([Cs("insert-table-picker-cell",[xn(kd(),Es.focus),xn(qc(),g),xn(bu(),v),xn(Np(),v)]),Ys.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Es.config({onFocus:d})])})},uM=(t,r,l)=>{const d=[];for(let g=0;g<r;g++){const v=[];for(let y=0;y<l;y++){const D=t(g+1,y+1);v.push(oj(g,y,D))}d.push(v)}return d},sj=(t,r,l,d,g)=>{for(let v=0;v<d;v++)for(let y=0;y<g;y++)Ys.set(t[v][y],v<=r&&y<=l)},rj=t=>R(t,r=>H(r,k)),fM=(t,r)=>Zr(`${r}x${t}`),ij={inserttable:(t,r)=>{const g=nj(r),v=uM(g,10,10),y=fM(0,0),D=mr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[y],behaviours:Xn([ws.config({})])});return{type:"widget",data:{value:_e("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[NE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:rj(v).concat(D.asSpec()),behaviours:Xn([Cs("insert-table-picker",[Wr(U=>{ws.set(D.get(U),[y])}),zp(dM,(U,X,ce)=>{const{row:Se,col:He}=ce.event;sj(v,Se,He,10,10),ws.set(D.get(U),[fM(Se+1,He+1)])}),zp(IS,(U,X,ce)=>{const{row:Se,col:He}=ce.event;Hs(U,Kh()),t.onAction({numRows:Se+1,numColumns:He+1})})]),Ho.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:QK,imageselect:tj},lj=(t,r)=>Rt(ij,t.fancytype).map(l=>l(t,r)),cj=(t,r,l,d=!0,g=!1)=>{const v=g?EK(l.icons):_K(l.icons),y=U=>({isEnabled:()=>!zo.isDisabled(U),setEnabled:X=>zo.set(U,!X),setIconFill:(X,ce)=>{pr(U.element,`svg path[class="${X}"], rect[class="${X}"]`).each(Se=>{ss(Se,"fill",ce)})},setTooltip:X=>{const ce=l.translate(X);ss(U.element,"aria-label",ce)}}),D=x4({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:f.none(),ariaLabel:t.text,labelContent:f.none(),caret:f.some(v),checkMark:f.none(),shortcutContent:t.shortcut},l,d);return n2({context:t.context,data:sh(t),getApi:y,enabled:t.enabled,onAction:lt,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},D,r,l)},pM=(t,r,l,d=!0)=>{const g=y=>({isEnabled:()=>!zo.isDisabled(y),setEnabled:D=>zo.set(y,!D)}),v=x4({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:f.none(),labelContent:f.none(),ariaLabel:t.text,caret:f.none(),checkMark:f.none(),shortcutContent:t.shortcut},l,d);return n2({context:t.context,data:sh(t),getApi:g,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,r,l)},gM=t=>({type:"separator",dom:{tag:"div",classes:[qx,vV]},components:t.text.map(Zr).toArray()}),mM=(t,r,l,d=!0)=>{const g=y=>({setActive:D=>{Ys.set(y,D)},isActive:()=>Ys.isOn(y),isEnabled:()=>!zo.isDisabled(y),setEnabled:D=>zo.set(y,!D)}),v=x4({iconContent:t.icon,textContent:t.text,htmlContent:f.none(),labelContent:f.none(),ariaLabel:t.text,checkMark:f.some(d9(l.icons)),caret:f.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},l,d);return kt(n2({context:t.context,data:sh(t),enabled:t.enabled,getApi:g,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,r,l),{toggling:{toggleClass:Aw,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},E9=NR,hM=gM,dj=pM,uj=cj,fj=mM,bM=lj,pj=AK,gj=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},mj=t=>{const r=yo.getValue(t),l=Qx(t).map($N);ad.refetch(r).get(()=>{const d=Ns.getCoupled(r,"sandbox");l.each(g=>Qx(d).each(v=>kV(v,g)))})},vM=(t,r)=>{xM(t).each(l=>{R8(t,l.element,r.event.eventType,r.event.interactionEvent)})},xM=t=>sr.getState(t).bind(gr.getHighlighted).bind(gr.getHighlighted),hj=t=>Ma(t.element,Jm)?f.some(t.element):pr(t.element,"."+Jm),yM=(t,r,l)=>{PN(t).each(d=>{e9(d,l),hj(r).each(v=>{ai(v,"id").each(y=>ss(d.element,"aria-controls",y))})}),ss(l.element,"aria-selected","true")},CM=(t,r,l)=>{ss(l.element,"aria-selected","false")},bj=t=>{PN(t).each(r=>Es.focus(r))},vj=t=>Ns.getExistingCoupled(t,"sandbox").bind(Qx).map($N).map(l=>l.fetchPattern).getOr("");var ys;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(ys||(ys={}));const p6=(t,r,l,d,g)=>{const v=l.shared.providers,y=D=>g?{...D,shortcut:f.none(),icon:D.text.isSome()?f.none():D.icon}:D;switch(t.type){case"menuitem":return bR(t).fold(Ic,D=>f.some(dj(y(D),r,v,d)));case"nestedmenuitem":return cS(t).fold(Ic,D=>f.some(uj(y(D),r,v,d,g)));case"togglemenuitem":return dS(t).fold(Ic,D=>f.some(fj(y(D),r,v,d)));case"separator":return KW(t).fold(Ic,D=>f.some(hM(D)));case"fancymenuitem":return fK(t).fold(Ic,D=>bM(D,l));default:return console.error("Unknown item in general menu",t),f.none()}},_M=(t,r,l,d,g,v,y)=>{const D=d===1,U=!D||Qm(t);return Bt(H(t,X=>{switch(X.type){case"separator":return ZW(X).fold(Ic,ce=>f.some(hM(ce)));case"cardmenuitem":return aK(X).fold(Ic,ce=>f.some(pj({...ce,onAction:Se=>{ce.onAction(Se),l(ce.value,ce.meta)}},g,v,{itemBehaviours:bS(ce.meta,v,f.none()),cardText:{matchText:r,highlightOn:y}})));case"autocompleteitem":default:return iR(X).fold(Ic,ce=>f.some(E9(ce,r,D,"normal",l,g,v,U)))}}))},BS=(t,r,l,d,g,v)=>{const y=Qm(r),D=Bt(H(r,ce=>{const Se=Qe=>g?!zt(Qe,"text"):y,He=Qe=>p6(Qe,l,d,Se(Qe),g);return ce.type==="nestedmenuitem"&&ce.getSubmenuItems().length<=0?He({...ce,enabled:!1}):He(ce)})),U=gj(v);return(g?i4:eh)(t,y,D,1,U)},w9=t=>I0.singleData(t.value,t),EM=(t,r,l,d)=>{const g=w4(r,d),v=Xm(d);return{data:w9({...t,movement:g,menuBehaviours:m4.unnamedEvents(r!=="auto"?[]:[Wr((y,D)=>{l9(y,4,v.item).each(({numColumns:U,numRows:X})=>{Ho.setGridSize(y,X,U)})})])}),menu:{markers:Xm(d),fakeFocus:l===ys.ContentFocus}}},xj=t=>Z.create(cn.fromDom(t.startContainer),t.startOffset,cn.fromDom(t.endContainer),t.endOffset),Cj={register:(t,r)=>{const l=_e("autocompleter"),d=et(!1),g=et(!1),v=Do(),y=C(oa.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:l}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Xn([Cs("dismissAutocompleter",[xn(Rp(),()=>Se()),xn(W2(),(_t,$t)=>{ai($t.event.target,"id").each(Vt=>ss(cn.fromDom(t.getBody()),"aria-activedescendant",Vt))})])]),lazySink:r.getSink})),D=()=>oa.isOpen(y),U=g.get,X=()=>{if(D()){oa.hide(y),t.dom.remove(l,!1);const _t=cn.fromDom(t.getBody());ai(_t,"aria-owns").filter($t=>$t===l).each(()=>{Kr(_t,"aria-owns"),Kr(_t,"aria-activedescendant")})}},ce=()=>oa.getContent(y).bind(_t=>Ee(_t.components(),0)),Se=()=>t.execCommand("mceAutocompleterClose"),He=_t=>{const $t=ct(_t,Vt=>f.from(Vt.columns)).getOr(1);return R(_t,Vt=>{const an=Vt.items;return _M(an,Vt.matchText,(fn,uo)=>{const Fn={hide:()=>Se(),reload:$n=>{X(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:$n})}};t.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each($n=>{d.set(!0),Vt.onAction(Fn,$n,fn,uo),d.set(!1)})},$t,df.BUBBLE_TO_SANDBOX,r,Vt.highlightOn)})},Qe=(_t,$t)=>{const Vt=ct(_t,an=>f.from(an.columns)).getOr(1);oa.showMenuAt(y,{anchor:{type:"selection",getSelection:()=>v.get().map(xj),root:cn.fromDom(t.getBody())}},EM(eh("autocompleter-value",!0,$t,Vt,{menuType:"normal"}),Vt,ys.ContentFocus,"normal")),ce().each(gr.highlightFirst)},Je=_t=>{const $t=He(_t);$t.length>0?(Qe(_t,$t),ss(cn.fromDom(t.getBody()),"aria-owns",l),t.inline||vt()):X()},vt=()=>{t.dom.get(l)&&t.dom.remove(l,!1);const _t=t.getDoc().documentElement,$t=t.selection.getNode(),Vt=bp(y.element);ka(Vt,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${$t.offsetTop}px`,left:`${$t.offsetLeft}px`}),t.dom.add(_t,Vt.dom),pr(Vt,'[role="menu"]').each(an=>{Ps(an,"position"),Ps(an,"max-height")})};t.on("AutocompleterStart",({lookupData:_t})=>{g.set(!0),d.set(!1),Je(_t)}),t.on("AutocompleterUpdate",({lookupData:_t})=>Je(_t)),t.on("AutocompleterUpdateActiveRange",({range:_t})=>v.set(_t)),t.on("AutocompleterEnd",()=>{X(),g.set(!1),d.set(!1),v.clear()});const Lt={cancelIfNecessary:Se,isMenuOpen:D,isActive:U,isProcessingAction:d.get,getMenu:ce};bV.setup(Lt,t)}},_j=(t,r)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:H(t.items,r.interpreter)});var Ej=tinymce.util.Tools.resolve("tinymce.html.Entities");const S4=(t,r,l,d)=>{const g=XJ(t,r,l,d);return js.sketch(g)},wM=(t,r)=>S4(t,r,[],[]),XJ=(t,r,l,d)=>({dom:S9(l),components:t.toArray().concat([r]),fieldBehaviours:Xn(d)}),g6=()=>S9([]),S9=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Tg=(t,r)=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(t))]}),Bc=_e("form-component-change"),SM=_e("form-component-input"),m6=_e("form-close"),rh=_e("form-cancel"),pf=_e("form-action"),T4=_e("form-submit"),T9=_e("form-block"),FS=_e("form-unblock"),TM=_e("form-tabchange"),kM=_e("form-resize"),AM=(t,r,l)=>{const d=t.label.map(Qe=>Tg(Qe,r)),g=r.icons(),v=Qe=>{var Je;return(Je=g[Qe])!==null&&Je!==void 0?Je:Qe},y=Qe=>(Je,vt)=>{nc(vt.event.target,"[data-collection-item-value]").each(Lt=>{Qe(Je,vt,Lt,Ua(Lt,"data-collection-item-value"))})},D=(Qe,Je)=>{const Lt=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",_t=H(Je,an=>{const fn=gl.translate(an.text),uo=t.columns===1?`<div class="tox-collection__item-label">${fn}</div>`:"",Fn=`<div class="tox-collection__item-icon">${v(an.icon)}</div>`,$n={_:" "," - ":" ","-":" "},Nn=fn.replace(/\_| \- |\-/g,Zo=>$n[Zo]);return`<div data-mce-tooltip="${Nn}" class="tox-collection__item${Lt}" tabindex="-1" data-collection-item-value="${Ej.encodeAllRaw(an.value)}" aria-label="${Nn}">${Fn}${uo}</div>`}),$t=t.columns!=="auto"&&t.columns>1?j(_t,t.columns):[_t],Vt=H($t,an=>`<div class="tox-collection__group">${an.join("")}</div>`);wf(Qe.element,Vt.join(""))},U=y((Qe,Je,vt,Lt)=>{Je.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||Jo(Qe,pf,{name:t.name,value:Lt})}),X=[xn(kd(),y((Qe,Je,vt)=>{hr(vt,!0)})),xn(bu(),U),xn(Np(),U),xn(wc(),y((Qe,Je,vt)=>{pr(Qe.element,"."+V0).each(Lt=>{Vr(Lt,V0)}),na(vt,V0)})),xn(d8(),y(Qe=>{pr(Qe.element,"."+V0).each(Je=>{Vr(Je,V0),fc(Je)})})),Wf(y((Qe,Je,vt,Lt)=>{Jo(Qe,pf,{name:t.name,value:Lt})}))],ce=(Qe,Je)=>H(Ia(Qe.element,".tox-collection__item"),Je),Se=js.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:eo},behaviours:Xn([zo.config({disabled:()=>r.checkUiComponentContext(t.context).shouldDisable,onDisabled:Qe=>{ce(Qe,Je=>{na(Je,"tox-collection__item--state-disabled"),ss(Je,"aria-disabled",!0)})},onEnabled:Qe=>{ce(Qe,Je=>{Vr(Je,"tox-collection__item--state-disabled"),Kr(Je,"aria-disabled")})}}),Fa(()=>r.checkUiComponentContext(t.context)),ws.config({}),wr.config({...r.tooltips.getConfig({tooltipText:"",onShow:Qe=>{pr(Qe.element,"."+V0+"[data-mce-tooltip]").each(Je=>{ai(Je,"data-mce-tooltip").each(vt=>{wr.setComponents(Qe,r.tooltips.getComponents({tooltipText:vt}))})})}}),mode:"children-keyboard-focus",anchor:Qe=>({type:"node",node:pr(Qe.element,"."+V0).orThunk(()=>M2(".tox-collection__item")),root:Qe.element,layouts:{onLtr:ht([Ba,pi,jr,fi,Ya,wi]),onRtl:ht([Ba,pi,jr,fi,Ya,wi])},bubble:Xc(0,-2,{})})}),yo.config({store:{mode:"memory",initialValue:l.getOr([])},onSetValue:(Qe,Je)=>{D(Qe,Je),t.columns==="auto"&&l9(Qe,5,"tox-collection__item").each(({numRows:vt,numColumns:Lt})=>{Ho.setGridSize(Qe,vt,Lt)}),Hs(Qe,kM)}}),Hr.config({}),Ho.config(JK(t.columns,"normal")),Cs("collection-events",X)]),eventOrder:{[qc()]:["disabling","alloy.base.behaviour","collection-events"],[wc()]:["collection-events","tooltipping"]}});return S4(d,Se,["tox-form__group--collection"],[])},wj=(t,r)=>ad.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Xn([qi.button(()=>r.providers.isDisabled()||r.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.providers.checkUiComponentContext(t.context)),Av.config({}),Hr.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:l=>Hn.nu(d=>t.fetch(d)).map(d=>f.from(w9(kt(f6(_e("menu-value"),d,g=>{t.onItemAction(l,g)},t.columns,t.presets,df.CLOSE_ON_EXECUTE,ge,r.providers),{movement:w4(t.columns,t.presets)})))),parts:{menu:a4(!1,1,t.presets)}}),OM=_e("color-input-change"),k9=_e("color-swatch-change"),LM=_e("color-picker-cancel"),A9=(t,r,l,d)=>{const g=js.parts.field({factory:mg,inputClasses:["tox-textfield"],data:d,onSetValue:X=>G1.run(X).get(lt),inputBehaviours:Xn([zo.config({disabled:()=>r.providers.isDisabled()||r.providers.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.providers.checkUiComponentContext(t.context)),Hr.config({}),G1.config({invalidClass:"tox-textbox-field-invalid",getRoot:X=>Jl(X.element),notify:{onValid:X=>{const ce=yo.getValue(X);Jo(X,OM,{color:ce})}},validator:{validateOnLoad:!1,validate:X=>{const ce=yo.getValue(X);if(ce.length===0)return Hn.pure(zn.value(!0));{const Se=cn.fromTag("span");Mo(Se,"background-color",ce);const He=er(Se,"background-color").fold(()=>zn.error("blah"),Qe=>zn.value(ce));return Hn.pure(He)}}}})]),selectOnFocus:!1}),v=t.label.map(X=>Tg(X,r.providers)),y=(X,ce)=>{Jo(X,k9,{value:ce})},D=(X,ce)=>{U.getOpt(X).each(Se=>{ce==="custom"?l.colorPicker(He=>{He.fold(()=>Hs(Se,LM),Qe=>{y(Se,Qe),E4(t.storageKey,Qe)})},"#ffffff"):ce==="remove"?y(Se,""):y(Se,ce)})},U=mr(wj({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ya,jr,Ba],onLtr:()=>[jr,Ya,Ba]},components:[],fetch:sM(l.getColors(t.storageKey),t.storageKey,l.hasCustomColors()),columns:l.getColorCols(t.storageKey),presets:"color",onItemAction:D,context:t.context},r));return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[g,U.asSpec()]}]),fieldBehaviours:Xn([Cs("form-field-events",[xn(OM,(X,ce)=>{U.getOpt(X).each(Se=>{Mo(Se.element,"background-color",ce.event.color)}),Jo(X,Bc,{name:t.name})}),xn(k9,(X,ce)=>{js.getField(X).each(Se=>{yo.setValue(Se,ce.event.value),yn.getCurrent(X).each(Es.focus)})}),xn(LM,(X,ce)=>{js.getField(X).each(Se=>{yn.getCurrent(X).each(Es.focus)})})])])})},gf={self:()=>yn.config({find:f.some}),memento:t=>yn.config({find:t.getOpt}),childAt:t=>yn.config({find:r=>Ws(r.element,t).bind(l=>r.getSystem().getByDom(l).toOptional())})},eQ=ns([tn("preprocess",eo),tn("postprocess",eo)]),Tj=(t,r)=>{const l=sl("RepresentingConfigs.memento processors",eQ,r);return yo.config({store:{mode:"manual",getValue:d=>{const g=t.get(d),v=yo.getValue(g);return l.postprocess(v)},setValue:(d,g)=>{const v=l.preprocess(g),y=t.get(d);yo.setValue(y,v)}}})},c2=(t,r,l)=>yo.config({store:{mode:"manual",...t.map(d=>({initialValue:d})).getOr({}),getValue:r,setValue:l}}),O9=(t,r,l)=>c2(t,d=>r(d.element),(d,g)=>l(d.element,g)),kj=t=>O9(t,Il,wf),d2=t=>yo.config({store:{mode:"memory",initialValue:t}}),L9=_e("rgb-hex-update"),PS=_e("slider-update"),D9=_e("palette-update"),Aj=(t,r)=>{const l=cf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),d=cf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return cf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ht(0)},components:[l,d],sliderBehaviours:Xn([Es.config({})]),onChange:(g,v,y)=>{ss(g.element,"aria-valuenow",Math.floor(360-y*3.6)),Jo(g,PS,{value:y})}})},$S=_e("valid-input"),u2=_e("invalid-input"),HS=_e("validating-input"),zS="colorcustom.rgb.",Oj={isEnabled:a,setEnabled:lt,immediatelyShow:lt,immediatelyHide:lt},Lj=(t,r,l,d,g,v)=>{const y=(vt,Lt)=>{const _t=Lt.get();vt!==_t.isEnabled()&&(_t.setEnabled(vt),vt?_t.immediatelyShow():_t.immediatelyHide())},D=(vt,Lt,_t)=>G1.config({invalidClass:r("invalid"),notify:{onValidate:$t=>{Jo($t,HS,{type:vt})},onValid:$t=>{y(!1,_t),Jo($t,$S,{type:vt,value:yo.getValue($t)})},onInvalid:$t=>{y(!0,_t),Jo($t,u2,{type:vt,value:yo.getValue($t)})}},validator:{validate:$t=>{const Vt=yo.getValue($t),an=Lt(Vt)?zn.value(!0):zn.error(t("aria.input.invalid"));return Hn.pure(an)},validateOnLoad:!1}}),U=(vt,Lt,_t,$t,Vt)=>{const an=et(Oj),fn=t(zS+"range"),uo=js.parts.label({dom:{tag:"label"},components:[Zr(_t)]}),Fn=js.parts.field({data:Vt,factory:mg,inputAttributes:{type:"text","aria-label":$t,...Lt==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:Xn([D(Lt,vt,an),Hr.config({}),wr.config({...g({tooltipText:"",onSetup:Os=>{an.set({isEnabled:()=>wr.isEnabled(Os),setEnabled:Io=>wr.setEnabled(Os,Io),immediatelyShow:()=>wr.immediateOpenClose(Os,!0),immediatelyHide:()=>wr.immediateOpenClose(Os,!1)}),wr.setEnabled(Os,!1)},onShow:(Os,Io)=>{wr.setComponents(Os,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[Zr(t(Lt==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Os=>{G1.isInvalid(Os)&&G1.run(Os).get(lt)}}),$n=_e("aria-invalid"),Nn=mr(v("invalid",f.some($n),"warning")),Zo=mr({dom:{tag:"div",classes:[r("invalid-icon")]},components:[Nn.asSpec()]}),Po=[uo,Fn,Zo.asSpec()],Zs=Lt!=="hex"?[js.parts["aria-descriptor"]({text:fn})]:[],rs=Po.concat(Zs);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:rs}},X=(vt,Lt)=>{const _t=r2(Lt);return Sr.getField(vt,"hex").each($t=>{Es.isFocused($t)||yo.setValue(vt,{hex:_t.value})}),_t},ce=(vt,Lt)=>{const _t=Lt.red,$t=Lt.green,Vt=Lt.blue;yo.setValue(vt,{red:_t,green:$t,blue:Vt})},Se=mr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),He=(vt,Lt)=>{Se.getOpt(vt).each(_t=>{Mo(_t.element,"background-color","#"+Lt.value)})};return od({factory:()=>{const vt={red:et(f.some(255)),green:et(f.some(255)),blue:et(f.some(255)),hex:et(f.some("ffffff"))},Lt=(Io,Ln)=>{const oo=_4(Ln);ce(Io,oo),an(oo)},_t=Io=>vt[Io].get(),$t=(Io,Ln)=>{vt[Io].set(Ln)},Vt=()=>_t("red").bind(Io=>_t("green").bind(Ln=>_t("blue").map(oo=>a2(Io,Ln,oo,1)))),an=Io=>{const Ln=Io.red,oo=Io.green,ls=Io.blue;$t("red",f.some(Ln)),$t("green",f.some(oo)),$t("blue",f.some(ls))},fn=(Io,Ln)=>{const oo=Ln.event;oo.type!=="hex"?$t(oo.type,f.none()):d(Io)},uo=(Io,Ln)=>{l(Io);const oo=IR(Ln);$t("hex",f.some(oo.value));const ls=_4(oo);ce(Io,ls),an(ls),Jo(Io,L9,{hex:oo}),He(Io,oo)},Fn=(Io,Ln,oo)=>{const ls=parseInt(oo,10);$t(Ln,f.some(ls)),Vt().each(Ls=>{const $o=X(Io,Ls);Jo(Io,L9,{hex:$o}),He(Io,$o)})},$n=Io=>Io.type==="hex",Nn=(Io,Ln)=>{const oo=Ln.event;$n(oo)?uo(Io,oo.value):Fn(Io,oo.type,oo.value)},Zo=Io=>({label:t(zS+Io+".label"),description:t(zS+Io+".description")}),Po=Zo("red"),Zs=Zo("green"),rs=Zo("blue"),Os=Zo("hex");return kt(Sr.sketch(Io=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Io.field("red",js.sketch(U(ES,"red",Po.label,Po.description,255))),Io.field("green",js.sketch(U(ES,"green",Zs.label,Zs.description,255))),Io.field("blue",js.sketch(U(ES,"blue",rs.label,rs.description,255))),Io.field("hex",js.sketch(U(xS,"hex",Os.label,Os.description,"ffffff"))),Se.asSpec()],formBehaviours:Xn([G1.config({invalidClass:r("form-invalid")}),Cs("rgb-form-events",[xn($S,Nn),xn(u2,fn),xn(HS,fn)])])})),{apis:{updateHex:(Io,Ln)=>{yo.setValue(Io,{hex:Ln.value}),Lt(Io,Ln),He(Io,Ln)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(vt,Lt,_t)=>{vt.updateHex(Lt,_t)}},extraApis:{}})},US=(t,r)=>{const l=cf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),d=cf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:`<div class=${r("sv-palette-inner-thumb")} role="presentation"></div>`}}),g=(X,ce)=>{const{width:Se,height:He}=X,Qe=X.getContext("2d");if(Qe===null)return;Qe.fillStyle=ce,Qe.fillRect(0,0,Se,He);const Je=Qe.createLinearGradient(0,0,Se,0);Je.addColorStop(0,"rgba(255,255,255,1)"),Je.addColorStop(1,"rgba(255,255,255,0)"),Qe.fillStyle=Je,Qe.fillRect(0,0,Se,He);const vt=Qe.createLinearGradient(0,0,0,He);vt.addColorStop(0,"rgba(0,0,0,0)"),vt.addColorStop(1,"rgba(0,0,0,1)"),Qe.fillStyle=vt,Qe.fillRect(0,0,Se,He)},v=(X,ce)=>{const Se=X.components()[0].element.dom,He=y4(ce,100,100),Qe=wS(He);g(Se,$R(Qe))},y=(X,ce)=>{const Se=C4(_4(ce));cf.setValue(X,{x:Se.saturation,y:100-Se.value}),ss(X.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Se.saturation,Se.value]))};return od({factory:X=>{const ce=ht({x:0,y:0}),Se=(Je,vt,Lt)=>{Wo(Lt)||ss(Je.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Lt.x),Math.floor(100-Lt.y)])),Jo(Je,D9,{value:Lt})},He=(Je,vt,Lt,_t)=>{g(Lt.element.dom,$R(l6))},Qe=Xn([yn.config({find:f.some}),Es.config({})]);return cf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:ce},rounded:!1,components:[l,d],onChange:Se,onInit:He,sliderBehaviours:Qe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(X,ce,Se)=>{v(ce,Se)},setThumb:(X,ce,Se)=>{y(ce,Se)}},extraApis:{}})},Dj=(t,r,l,d)=>{const g=y=>{const D=Lj(t,r,y.onValidHex,y.onInvalidHex,l,d),U=US(t,r),X=$n=>(100-$n)/100*360,ce=$n=>100-$n/360*100,Se={paletteRgba:et(l6),paletteHue:et(0)},He=mr(Aj(t,r)),Qe=mr(U.sketch({})),Je=mr(D.sketch({})),vt=($n,Nn,Zo)=>{Qe.getOpt($n).each(Po=>{U.setHue(Po,Zo)})},Lt=($n,Nn)=>{Je.getOpt($n).each(Zo=>{D.updateHex(Zo,Nn)})},_t=($n,Nn,Zo)=>{He.getOpt($n).each(Po=>{cf.setValue(Po,ce(Zo))})},$t=($n,Nn)=>{Qe.getOpt($n).each(Zo=>{U.setThumb(Zo,Nn)})},Vt=($n,Nn)=>{const Zo=_4($n);Se.paletteRgba.set(Zo),Se.paletteHue.set(Nn)},an=($n,Nn,Zo,Po)=>{Vt(Nn,Zo),ee(Po,Zs=>{Zs($n,Nn,Zo)})},fn=()=>{const $n=[Lt];return(Nn,Zo)=>{const Po=Zo.event.value,Zs=Se.paletteHue.get(),rs=y4(Zs,Po.x,100-Po.y),Os=HR(rs);an(Nn,Os,Zs,$n)}},uo=()=>{const $n=[vt,Lt];return(Nn,Zo)=>{const Po=X(Zo.event.value),Zs=Se.paletteRgba.get(),rs=C4(Zs),Os=y4(Po,rs.saturation,rs.value),Io=HR(Os);an(Nn,Io,Po,$n)}},Fn=()=>{const $n=[vt,_t,$t];return(Nn,Zo)=>{const Po=Zo.event.hex,Zs=DK(Po);an(Nn,Po,Zs.hue,$n)}};return{uid:y.uid,dom:y.dom,components:[Qe.asSpec(),He.asSpec(),Je.asSpec()],behaviours:Xn([Cs("colour-picker-events",[xn(L9,Fn()),xn(D9,fn()),xn(PS,uo())]),yn.config({find:$n=>Je.getOpt($n)}),Ho.config({mode:"acyclic"})])}};return od({name:"ColourPicker",configFields:[Bn("dom"),tn("onValidHex",lt),tn("onInvalidHex",lt)],factory:g})},Nj={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},DM=t=>r=>ot(r)?t.translate(Nj[r]):t.translate(r),Rj=(t,r,l)=>{const d=X=>"tox-"+X,g=(X,ce,Se=X,He=X)=>Wd(Se,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+X],attributes:{title:r.translate(He),"aria-live":"polite",...ce.fold(()=>({}),Qe=>({id:Qe}))}},r.icons),v=Dj(DM(r),d,r.tooltips.getConfig,g),y=X=>{Jo(X,pf,{name:"hex-valid",value:!0})},D=X=>{Jo(X,pf,{name:"hex-valid",value:!1})},U=mr(v.sketch({dom:{tag:"div",classes:[d("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:D}));return{dom:{tag:"div"},components:[U.asSpec()],behaviours:Xn([c2(l,X=>{const ce=U.get(X);return yn.getCurrent(ce).bind(Qe=>yo.getValue(Qe).hex).map(Qe=>"#"+go(Qe,"#")).getOr("")},(X,ce)=>{const Se=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,He=f.from(Se.exec(ce)).bind(vt=>Ee(vt,1)),Qe=U.get(X);yn.getCurrent(Qe).fold(()=>{console.log("Can not find form")},vt=>{yo.setValue(vt,{hex:He.getOr("")}),Sr.getField(vt,"hex").each(Lt=>{Hs(Lt,Bf())})})}),gf.self()])}};var Mj=tinymce.util.Tools.resolve("tinymce.Resource");const NM=t=>zt(t,"init"),RM=t=>{const r=Do(),l=mr({dom:{tag:t.tag}}),d=Do(),g=!NM(t)&&t.onFocus.isSome()?[Es.config({onFocus:v=>{t.onFocus.each(y=>{y(v.element.dom)})}}),Hr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Xn([Cs("custom-editor-events",[Wr(v=>{l.getOpt(v).each(y=>{(NM(t)?t.init(y.element.dom):Mj.load(t.scriptId,t.scriptUrl).then(D=>D(y.element.dom,t.settings))).then(D=>{d.on(U=>{D.setValue(U)}),d.clear(),r.set(D)})})})]),c2(f.none(),()=>r.get().fold(()=>d.get().getOr(""),v=>v.getValue()),(v,y)=>{r.get().fold(()=>d.set(y),D=>D.setValue(y))}),gf.self()].concat(g)),components:[l.asSpec()]}};var kg=tinymce.util.Tools.resolve("tinymce.util.Tools");const VS=_e("browse.files.event"),Ij=(t,r)=>{const l=kg.explode(r.getOption("images_file_types")),d=g=>P(l,v=>Tr(g.name.toLowerCase(),`.${v.toLowerCase()}`));return be(We(t),d)},Bj=(t,r,l)=>{const d=(He,Qe)=>{Qe.stop()},g=He=>(Qe,Je)=>{ee(He,vt=>{vt(Qe,Je)})},v=(He,Qe)=>{var Je;if(!zo.isDisabled(He)){const vt=Qe.event.raw;Jo(He,VS,{files:(Je=vt.dataTransfer)===null||Je===void 0?void 0:Je.files})}},y=(He,Qe)=>{const Je=Qe.event.raw.target;Jo(He,VS,{files:Je.files})},D=(He,Qe)=>{Qe&&(yo.setValue(He,Ij(Qe,r)),Jo(He,Bc,{name:t.name}))},U=mr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Xn([Cs("input-file-events",[Up(bu()),Up(Np())])])}),X=t.label.map(He=>Tg(He,r)),ce=js.parts.field({factory:pl,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Zr(r.translate("Browse for an image")),U.asSpec()],action:He=>{U.get(He).element.dom.click()},buttonBehaviours:Xn([gf.self(),d2(l.getOr([])),Hr.config({}),qi.button(()=>r.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.checkUiComponentContext(t.context))])}),Se={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Xn([zo.config({disabled:()=>r.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.checkUiComponentContext(t.context)),Ys.config({toggleClass:"dragenter",toggleOnExecute:!1}),Cs("dropzone-events",[xn("dragenter",g([d,Ys.toggle])),xn("dragleave",g([d,Ys.toggle])),xn("dragover",d),xn("drop",g([d,v])),xn(Zu(),y)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Zr(r.translate("Drop an image here"))]},ce]}]};return S4(X,Se,["tox-form__group--stretched"],[Cs("handle-files",[xn(VS,(He,Qe)=>{js.getField(He).each(Je=>{D(Je,Qe.event.files)})})])])},Fj=(t,r)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:H(t.items,r.interpreter)}),WS=_e("alloy-fake-before-tabstop"),KS=_e("alloy-fake-after-tabstop"),MM=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Xn([Es.config({ignore:!0}),Hr.config({})])}),IM=(t,r)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[MM([WS]),r,MM([KS])],behaviours:Xn([gf.childAt(1)])}),BM=(t,r)=>{Jo(t,di(),{raw:{which:9,shiftKey:r}})},Pj=(t,r)=>{const l=r.element;Ma(l,WS)?BM(t,!0):Ma(l,KS)&&BM(t,!1)},k4=t=>_p(t,["."+WS,"."+KS].join(","),ge),N9=_e("update-dialog"),FM=_e("update-title"),PM=_e("update-body"),$M=_e("update-footer"),HM=_e("body-send-message"),R9=_e("dialog-focus-shifted"),M9=ca().browser,h6=M9.isSafari(),zM=M9.isFirefox(),UM=h6||zM,VM=M9.isChromium(),WM=({scrollTop:t,scrollHeight:r,clientHeight:l})=>Math.ceil(t)+l>=r,I9=(t,r)=>t.scrollTo(0,r==="bottom"?99999999:r),$j=(t,r)=>{const l=t.body;return f.from(!/^<!DOCTYPE (html|HTML)/.test(r)&&(!VM&&!h6||Eo(l)&&(l.scrollTop!==0||Math.abs(l.scrollHeight-l.clientHeight)>1))?l:t.documentElement)},KM=(t,r,l)=>{const d=t.dom;f.from(d.contentDocument).fold(l,g=>{let v=0;const y=$j(g,r).map(U=>(v=U.scrollTop,U)).forall(WM),D=()=>{const U=d.contentWindow;Eo(U)&&(y?I9(U,"bottom"):!y&&UM&&v!==0&&I9(U,v))};h6&&d.addEventListener("load",D,{once:!0}),g.open(),g.write(r),g.close(),h6||D()})},zj=Dn(UM,h6?500:200).map(t=>ia(KM,t)),jM=(t,r)=>{const l=et(t.getOr(""));return{getValue:d=>l.get(),setValue:(d,g)=>{if(l.get()!==g){const v=d.element,y=()=>ss(v,"srcdoc",g);r?zj.fold(ht(KM),D=>D.throttle)(v,g,y):y()}l.set(g)}}},Uj=(t,r,l)=>{const d="tox-dialog__iframe",g=t.transparent?[]:[`${d}--opaque`],v=t.border?["tox-navobj-bordered"]:[],y={...t.label.map(Se=>({title:Se})).getOr({}),...l.map(Se=>({srcdoc:Se})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},D=jM(l,t.streamContent),U=t.label.map(Se=>Tg(Se,r)),X=Se=>IM(f.from(v),{uid:Se.uid,dom:{tag:"iframe",attributes:y,classes:[d,...g]},behaviours:Xn([Hr.config({}),Es.config({}),c2(l,D.getValue,D.setValue),sd.config({channels:{[R9]:{onReceive:(He,Qe)=>{Qe.newFocus.each(Je=>{Jl(He.element).each(vt=>{(Rs(He.element,Je)?na:Vr)(vt,"tox-navobj-bordered-focus")})})}}}})])}),ce=js.parts.field({factory:{sketch:X}});return S4(U,ce,["tox-form__group--stretched"],[])},B9=(t,r,l,d,g)=>{const v=l*g,y=d*g,D=Math.max(0,t/2-v/2),U=Math.max(0,r/2-y/2);return{left:D.toString()+"px",top:U.toString()+"px",width:v.toString()+"px",height:y.toString()+"px"}},Vj=(t,r,l)=>{const d=ei(t),g=qr(t);return Math.min(d/r,g/l,1)},ZM=(t,r)=>{const l=et(r.getOr({url:""})),d=mr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:r.map(U=>({src:U.url})).getOr({})}}),g=mr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[d.asSpec()]}),v=(U,X)=>{const ce={url:X.url};X.zoom.each(He=>ce.zoom=He),X.cachedWidth.each(He=>ce.cachedWidth=He),X.cachedHeight.each(He=>ce.cachedHeight=He),l.set(ce);const Se=()=>{const{cachedWidth:He,cachedHeight:Qe,zoom:Je}=ce;if(!Go(He)&&!Go(Qe)){if(Go(Je)){const Lt=Vj(U.element,He,Qe);ce.zoom=Lt}const vt=B9(ei(U.element),qr(U.element),He,Qe,ce.zoom);g.getOpt(U).each(Lt=>{ka(Lt.element,vt)})}};d.getOpt(U).each(He=>{const Qe=He.element;X.url!==Ua(Qe,"src")&&(ss(Qe,"src",X.url),Vr(U.element,"tox-imagepreview__loaded")),Se(),su(Qe).then(Je=>{U.getSystem().isConnected()&&(na(U.element,"tox-imagepreview__loaded"),ce.cachedWidth=Je.dom.naturalWidth,ce.cachedHeight=Je.dom.naturalHeight,Se())})})},y={};t.height.each(U=>y.height=U);const D=r.map(U=>({url:U.url,zoom:f.from(U.zoom),cachedWidth:f.from(U.cachedWidth),cachedHeight:f.from(U.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[g.asSpec()],behaviours:Xn([gf.self(),c2(D,()=>l.get(),v)])}},Wj=(t,r,l)=>{const d="tox-label",g=t.align==="center"?[`${d}--center`]:[],v=t.align==="end"?[`${d}--end`]:[],y=mr({dom:{tag:"label",classes:[d,...g,...v]},components:[Zr(r.providers.translate(t.label))]}),D=H(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y.asSpec(),...D],behaviours:Xn([gf.self(),ws.config({}),kj(f.none()),Ho.config({mode:"acyclic"}),Cs("label",[Wr(U=>{t.for.each(X=>{l(X).each(ce=>{y.getOpt(U).each(Se=>{var He;const Qe=(He=Ua(ce.element,"id"))!==null&&He!==void 0?He:_e("form-field");ss(ce.element,"id",Qe),ss(Se.element,"for",Qe)})})})})])])}},jS=_e("toolbar.button.execute"),n1=t=>Wf((r,l)=>{t2(t,r)(d=>{Jo(r,jS,{buttonApi:d}),t.onAction(d)})}),o1=_e("common-button-display-events"),b6={[qc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[xu()]:["toolbar-button-events",o1],[Pf()]:["toolbar-button-events","dropdown-events","tooltipping"],[rl()]:["focusing","alloy.base.behaviour",o1]},ZS=t=>Mo(t.element,"width",pa(t.element,"width")),F9=(t,r,l)=>Wd(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:l},r),GS=(t,r)=>F9(t,r,[]),ip=(t,r)=>F9(t,r,[ws.config({})]),qS=(t,r,l)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Zr(l.translate(t))],behaviours:Xn([ws.config({})])}),ud=_e("update-menu-text"),f2=_e("update-menu-icon"),GM=_e("update-tooltip-text"),P9=(t,r,l,d)=>{const g=et(lt),v=et(t.tooltip),y=t.text.map(Lt=>mr(qS(Lt,r,l.providers))),D=t.icon.map(Lt=>mr(ip(Lt,l.providers.icons))),U=(Lt,_t)=>{const $t=yo.getValue(Lt);return Es.focus($t),Jo($t,"keydown",{raw:_t.event.raw}),ad.close($t),f.some(!0)},X=t.role.fold(()=>({}),Lt=>({role:Lt})),ce=f.from(t.listRole).map(Lt=>({listRole:Lt})).getOr({}),Se=t.ariaLabel.fold(()=>({}),Lt=>({"aria-label":l.providers.translate(Lt)})),He=Wd("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},l.providers.icons),Qe=_e("common-button-display-events"),Je="dropdown-events";return mr(ad.sketch({...t.uid?{uid:t.uid}:{},...X,...ce,dom:{tag:"button",classes:[r,`${r}--select`].concat(H(t.classes,Lt=>`${r}--${Lt}`)),attributes:{...Se,...Eo(d)?{"data-mce-name":d}:{}}},components:h4([D.map(Lt=>Lt.asSpec()),y.map(Lt=>Lt.asSpec()),f.some(He)]),matchWidth:!0,useMinWidth:!0,onOpen:(Lt,_t,$t)=>{t.searchable&&bj($t)},dropdownBehaviours:Xn([...t.dropdownBehaviours,qi.button(()=>t.disabled||l.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>l.providers.checkUiComponentContext(t.context)),Av.config({}),ws.config({}),...t.tooltip.map(Lt=>wr.config(l.providers.tooltips.getConfig({tooltipText:l.providers.translate(Lt),onShow:_t=>{if(Jt(v.get(),t.tooltip,($t,Vt)=>Vt!==$t).getOr(!1)){const $t=l.providers.translate(v.get().getOr(""));wr.setComponents(_t,l.providers.tooltips.getComponents({tooltipText:$t}))}}}))).toArray(),Cs(Je,[ff(t,g),rp(t,g)]),Cs(Qe,[Wr((Lt,_t)=>{t.listRole!=="listbox"&&ZS(Lt)})]),Cs("update-dropdown-width-variable",[xn(Gh(),(Lt,_t)=>ad.close(Lt))]),Cs("menubutton-update-display-text",[xn(ud,(Lt,_t)=>{y.bind($t=>$t.getOpt(Lt)).each($t=>{ws.set($t,[Zr(l.providers.translate(_t.event.text))])})}),xn(f2,(Lt,_t)=>{D.bind($t=>$t.getOpt(Lt)).each($t=>{ws.set($t,[ip(_t.event.icon,l.providers.icons)])})}),xn(GM,(Lt,_t)=>{const $t=l.providers.translate(_t.event.text);ss(Lt.element,"aria-label",$t),v.set(f.some(_t.event.text))})])]),eventOrder:kt(b6,{[rl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[xu()]:["toolbar-button-events",wr.name(),Je,Qe]}),sandboxBehaviours:Xn([Ho.config({mode:"special",onLeft:U,onRight:U}),Cs("dropdown-sandbox-events",[xn(Dw,(Lt,_t)=>{mj(Lt),_t.stop()}),xn(Nw,(Lt,_t)=>{vM(Lt,_t),_t.stop()})])]),lazySink:l.getSink,toggleClass:`${r}--active`,parts:{menu:{...a4(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:yM,onCollapseMenu:(Lt,_t,$t)=>{gr.getHighlighted($t).each(Vt=>{yM(Lt,$t,Vt)})},onDehighlightItem:CM}}},getAnchorOverrides:()=>({maxHeightFunction:(Lt,_t)=>{lb()(Lt,_t-10)}}),fetch:Lt=>Hn.nu(Qo(t.fetch,Lt))})).asSpec()},Kj=t=>ot(t),qM=t=>t.type==="separator",YS=t=>zt(t,"getSubmenuItems"),jj={type:"separator"},Zj=(t,r)=>{const l=re(t,(d,g)=>Kj(g)?g===""?d:g==="|"?d.length>0&&!qM(d[d.length-1])?d.concat([jj]):d:zt(r,g.toLowerCase())?d.concat([r[g.toLowerCase()]]):d:d.concat([g]),[]);return l.length>0&&qM(l[l.length-1])&&l.pop(),l},YM=(t,r)=>{const l=t.getSubmenuItems(),d=JM(l,r),g=kt(d.menus,{[t.value]:d.items}),v=kt(d.expansions,{[t.value]:t.value});return{item:t,menus:g,expansions:v}},XM=t=>{const r=Rt(t,"value").getOrThunk(()=>_e("generated-menu-item"));return kt({value:r},t)},JM=(t,r)=>{const l=Zj(ot(t)?t.split(" "):t,r);return se(l,(d,g)=>{if(YS(g)){const v=XM(g),y=YM(v,r);return{menus:kt(d.menus,y.menus),items:[y.item,...d.items],expansions:kt(d.expansions,y.expansions)}}else return{...d,items:[g,...d.items]}},{menus:{},expansions:{},items:[]})},Gj=t=>t.search.fold(()=>({searchMode:"no-search"}),r=>({searchMode:"search-with-field",placeholder:r.placeholder})),qj=t=>t.search.fold(()=>({searchMode:"no-search"}),r=>({searchMode:"search-with-results"})),A4=(t,r,l,d)=>{const g=_e("primary-menu"),v=JM(t,l.shared.providers.menuItems());if(v.items.length===0)return f.none();const y=Gj(d),D=BS(g,v.items,r,l,d.isHorizontalMenu,y),U=qj(d),X=tt(v.menus,(Se,He)=>BS(He,Se,r,l,!1,U)),ce=kt(X,tm(g,D));return f.from(I0.tieredData(g,ce,v.expansions))},v6=t=>!zt(t,"items"),mf="data-value",$9=(t,r,l,d,g)=>H(l,v=>v6(v)?{type:"togglemenuitem",...g?{}:{role:"option"},text:v.text,value:v.value,active:v.value===d,onAction:()=>{yo.setValue(t,v.value),Jo(t,Bc,{name:r}),Es.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>$9(t,r,v.items,d,g)}),XS=(t,r)=>ct(t,l=>v6(l)?Dn(l.value===r,l):XS(l.items,r)),Yj=(t,r,l)=>{const d=P(t.items,X=>!v6(X)),g=r.shared.providers,v=l.bind(X=>XS(t.items,X)).orThunk(()=>we(t.items).filter(v6)),y=t.label.map(X=>Tg(X,g)),D=js.parts.field({dom:{},factory:{sketch:X=>P9({context:t.context,uid:X.uid,text:v.map(ce=>ce.text),icon:f.none(),tooltip:f.none(),role:Dn(!d,"combobox"),...d?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(ce,Se)=>{const He=$9(ce,t.name,t.items,yo.getValue(ce),d);Se(A4(He,df.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:f.none()}))},onSetup:ht(lt),getApi:ht({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Hr.config({}),c2(v.map(ce=>ce.value),ce=>Ua(ce.element,mf),(ce,Se)=>{XS(t.items,Se).each(He=>{ss(ce.element,mf,He.value),Jo(ce,ud,{text:He.text})})})]},"tox-listbox",r.shared)}}),U={dom:{tag:"div",classes:["tox-listboxfield"]},components:[D]};return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:K([y.toArray(),[U]]),fieldBehaviours:Xn([zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable,onDisabled:X=>{js.getField(X).each(zo.disable)},onEnabled:X=>{js.getField(X).each(zo.enable)}})])})},Xj=(t,r)=>({dom:{tag:"div",classes:t.classes},components:H(t.items,r.shared.interpreter)}),Jj=(t,r,l)=>{const d=H(t.items,U=>({text:r.translate(U.text),value:U.value})),g=t.label.map(U=>Tg(U,r)),v=js.parts.field({dom:{},...l.map(U=>({data:U})).getOr({}),selectAttributes:{size:t.size},options:d,factory:Ez,selectBehaviours:Xn([zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable}),Hr.config({}),Cs("selectbox-change",[xn(Zu(),(U,X)=>{Jo(U,Bc,{name:t.name})})])])}),y=t.size>1?f.none():f.some(Wd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),D={dom:{tag:"div",classes:["tox-selectfield"]},components:K([[v],y.toArray()])};return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:K([g.toArray(),[D]]),fieldBehaviours:Xn([zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable,onDisabled:U=>{js.getField(U).each(zo.disable)},onEnabled:U=>{js.getField(U).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext(t.context))])})},QM=t=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},l=g=>g in r?r[g]:1;let d=t.value.toFixed(l(t.unit));return d.indexOf(".")!==-1&&(d=d.replace(/\.?0*$/,"")),d+t.unit},x6=t=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(l!==null){const d=parseFloat(l[1]),g=l[2];return zn.value({value:d,unit:g})}else return zn.error(t)},JS=(t,r)=>{const l={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=g=>zt(l,g);return t.unit===r?f.some(t.value):d(t.unit)&&d(r)?l[t.unit]===l[r]?f.some(t.value):f.some(t.value/l[t.unit]*l[r]):f.none()},QS=t=>f.none(),tQ=(t,r)=>l=>JS(l,r).map(d=>({value:d*t,unit:r})),Gl=(t,r)=>{const l=x6(t).toOptional(),d=x6(r).toOptional();return Jt(l,d,(g,v)=>JS(g,v.unit).map(y=>v.value/y).map(y=>tQ(y,v.unit)).getOr(QS)).getOr(QS)},eI=(t,r)=>{let l=QS;const d=_e("ratio-event"),g=vt=>Wd(vt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+vt]},r.icons),v=()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable,y=Fa(()=>r.checkUiComponentContext(t.context)),D=t.label.getOr("Constrain proportions"),U=r.translate(D),X=Ca.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":U,"data-mce-name":D}},components:[g("lock"),g("unlock")],buttonBehaviours:Xn([zo.config({disabled:v}),y,Hr.config({}),wr.config(r.tooltips.getConfig({tooltipText:U}))])}),ce=vt=>({dom:{tag:"div",classes:["tox-form__group"]},components:vt}),Se=vt=>js.parts.field({factory:mg,inputClasses:["tox-textfield"],inputBehaviours:Xn([zo.config({disabled:v}),y,Hr.config({}),Cs("size-input-events",[xn(wc(),(Lt,_t)=>{Jo(Lt,d,{isField1:vt})}),xn(Zu(),(Lt,_t)=>{Jo(Lt,Bc,{name:t.name})})])]),selectOnFocus:!1}),He=vt=>({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(vt))]}),Qe=Ca.parts.field1(ce([js.parts.label(He("Width")),Se(!0)])),Je=Ca.parts.field2(ce([js.parts.label(He("Height")),Se(!1)]));return Ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Qe,Je,ce([He(Qt),X])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(vt,Lt,_t)=>{x6(yo.getValue(vt)).each($t=>{l($t).each(Vt=>{yo.setValue(Lt,QM(Vt))})})},coupledFieldBehaviours:Xn([zo.config({disabled:v,onDisabled:vt=>{Ca.getField1(vt).bind(js.getField).each(zo.disable),Ca.getField2(vt).bind(js.getField).each(zo.disable),Ca.getLock(vt).each(zo.disable)},onEnabled:vt=>{Ca.getField1(vt).bind(js.getField).each(zo.enable),Ca.getField2(vt).bind(js.getField).each(zo.enable),Ca.getLock(vt).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext("mode:design")),Cs("size-input-events2",[xn(d,(vt,Lt)=>{const _t=Lt.event.isField1,$t=_t?Ca.getField1(vt):Ca.getField2(vt),Vt=_t?Ca.getField2(vt):Ca.getField1(vt),an=$t.map(yo.getValue).getOr(""),fn=Vt.map(yo.getValue).getOr("");l=Gl(an,fn)})])])})},Qj=(t,r,l)=>{const d=cf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(t.label))]}),g=cf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=cf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return cf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:ht(l.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[d,g,v],sliderBehaviours:Xn([gf.self(),Es.config({})]),onChoose:(y,D,U)=>{Jo(y,Bc,{name:t.name,value:U})},onChange:(y,D,U)=>{Jo(y,Bc,{name:t.name,value:U})}})},tI=(t,r)=>{const l=D=>({dom:{tag:"th",innerHtml:r.translate(D)}}),d=D=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:H(D,l)}]}),g=D=>({dom:{tag:"td",innerHtml:r.translate(D)}}),v=D=>({dom:{tag:"tr"},components:H(D,g)}),y=D=>({dom:{tag:"tbody"},components:H(D,v)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[d(t.header),y(t.cells)],behaviours:Xn([Hr.config({}),Es.config({})])}},nI=(t,r)=>{const l=t.label.map(Je=>Tg(Je,r)),d=[zo.config({disabled:()=>t.disabled||r.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.checkUiComponentContext(t.context)),Ho.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:Je=>(Hs(Je,T4),f.some(!0))}),Cs("textfield-change",[xn(Bf(),(Je,vt)=>{Jo(Je,Bc,{name:t.name})}),xn(I5(),(Je,vt)=>{Jo(Je,Bc,{name:t.name})})]),Hr.config({})],g=t.validation.map(Je=>G1.config({getRoot:vt=>Jl(vt.element),invalidClass:"tox-invalid",validator:{validate:vt=>{const Lt=yo.getValue(vt),_t=Je.validator(Lt);return Hn.pure(_t===!0?zn.value(Lt):zn.error(_t))},validateOnLoad:Je.validateOnLoad}})).toArray(),v=t.placeholder.fold(ht({}),Je=>({placeholder:r.translate(Je)})),y=t.inputMode.fold(ht({}),Je=>({inputmode:Je})),U={...t.spellcheck.fold(ht({}),Je=>({spellcheck:Je})),...v,...y,"data-mce-name":t.name},X=js.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(Je=>({data:Je})).getOr({}),inputAttributes:U,inputClasses:[t.classname],inputBehaviours:Xn(K([d,g])),selectOnFocus:!1,factory:mg}),ce=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[X]}:X,He=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),Qe=[zo.config({disabled:()=>t.disabled||r.checkUiComponentContext(t.context).shouldDisable,onDisabled:Je=>{js.getField(Je).each(zo.disable)},onEnabled:Je=>{js.getField(Je).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext(t.context))];return S4(l,ce,He,Qe)},eZ=(t,r,l)=>nI({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:f.none(),maximized:t.maximized,data:l,context:t.context,spellcheck:f.none()},r),oI=(t,r,l)=>nI({name:t.name,multiline:!0,label:t.label,inputMode:f.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:f.none(),maximized:t.maximized,data:l,context:t.context,spellcheck:t.spellcheck},r),sI=t=>({isEnabled:()=>!zo.isDisabled(t),setEnabled:r=>zo.set(t,!r),setActive:r=>{const l=t.element;r?(na(l,"tox-tbtn--enabled"),ss(l,"aria-pressed",!0)):(Vr(l,"tox-tbtn--enabled"),Kr(l,"aria-pressed"))},isActive:()=>Ma(t.element,"tox-tbtn--enabled"),setTooltip:r=>{Jo(t,GM,{text:r})},setText:r=>{Jo(t,ud,{text:r})},setIcon:r=>Jo(t,f2,{icon:r})}),p2=(t,r,l,d,g=!0,v)=>{const y=t.buttonType==="bordered"?["bordered"]:[];return P9({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:d,fetch:(D,U)=>{const X={pattern:t.search.isSome()?vj(D):""};t.fetch(ce=>{U(A4(ce,df.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:t.search}))},X,sI(D))},onSetup:t.onSetup,getApi:D=>sI(D),columns:1,presets:"normal",classes:y,dropdownBehaviours:[...g?[Hr.config({})]:[]],context:t.context},r,l.shared,v)},eT=(t,r,l)=>{const d=v=>y=>{const D=!y.isActive();y.setActive(D),v.storage.set(D),l.shared.getSink().each(U=>{r().getOpt(U).each(X=>{hr(X.element),Jo(X,pf,{name:v.name,value:v.storage.get()})})})},g=v=>y=>{y.setActive(v.storage.get())};return v=>{v(H(t,y=>{const D=y.text.fold(()=>({}),U=>({text:U}));return{type:y.type,active:!1,...D,context:y.context,onAction:d(y),onSetup:g(y)}}))}},rI=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Zr(t)]}),H9=(t,r,l)=>{t.customStateIcon.each(d=>r.push(aI(d,l.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],g=>[wr.config(l.shared.providers.tooltips.getConfig({tooltipText:g}))]),["tox-icon-custom-state"])))},tT=_e("leaf-label-event-id"),z9=({leaf:t,onLeafAction:r,visible:l,treeId:d,selectedId:g,backstage:v})=>{const y=t.menu.map(U=>p2(U,"tox-mbtn",v,f.none(),l)),D=[rI(t.title)];return H9(t,D,v),y.each(U=>D.push(U)),pl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(l?["tox-tree--leaf__label--visible"]:[])},components:D,role:"treeitem",action:U=>{r(t.id),U.getSystem().broadcastOn([`update-active-item-${d}`],{value:t.id})},eventOrder:{[di()]:[tT,"keying"]},buttonBehaviours:Xn([...l?[Hr.config({})]:[],Ys.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),sd.config({channels:{[`update-active-item-${d}`]:{onReceive:(U,X)=>{(X.value===t.id?Ys.on:Ys.off)(U)}}}}),Cs(tT,[Wr((U,X)=>{g.each(ce=>{(ce===t.id?Ys.on:Ys.off)(U)})}),xn(di(),(U,X)=>{const ce=X.event.raw.code==="ArrowLeft",Se=X.event.raw.code==="ArrowRight";ce?(Kc(U.element,".tox-tree--directory").each(He=>{U.getSystem().getByDom(He).each(Qe=>{g1(He,".tox-tree--directory__label").each(Je=>{Qe.getSystem().getByDom(Je).each(Es.focus)})})}),X.stop()):Se&&X.stop()})])])})},aI=(t,r,l,d,g)=>Wd(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(d||[]),behaviours:l,attributes:g},r),iI=(t,r)=>aI(t,r,[]),nT=_e("directory-label-event-id"),tZ=({directory:t,visible:r,noChildren:l,backstage:d})=>{const g=t.menu.map(D=>p2(D,"tox-mbtn",d,f.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[iI("chevron-right",d.shared.providers.icons)]},rI(t.title)];H9(t,v,d),g.each(D=>{v.push(D)});const y=D=>{Kc(D.element,".tox-tree--directory").each(U=>{D.getSystem().getByDom(U).each(X=>{const ce=!Ys.isOn(X);Ys.toggle(X),Jo(D,"expand-tree-node",{expanded:ce,node:t.id})})})};return pl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:v,action:y,eventOrder:{[di()]:[nT,"keying"]},buttonBehaviours:Xn([...r?[Hr.config({})]:[],Cs(nT,[xn(di(),(D,U)=>{const X=U.event.raw.code==="ArrowRight",ce=U.event.raw.code==="ArrowLeft";X&&l&&U.stop(),(X||ce)&&Kc(D.element,".tox-tree--directory").each(Se=>{D.getSystem().getByDom(Se).each(He=>{!Ys.isOn(He)&&X||Ys.isOn(He)&&ce?(y(D),U.stop()):ce&&!Ys.isOn(He)&&(Kc(He.element,".tox-tree--directory").each(Qe=>{g1(Qe,".tox-tree--directory__label").each(Je=>{He.getSystem().getByDom(Je).each(Es.focus)})}),U.stop())})})})])])})},lI=({children:t,onLeafAction:r,visible:l,treeId:d,expandedIds:g,selectedId:v,backstage:y})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(D=>D.type==="leaf"?z9({leaf:D,selectedId:v,onLeafAction:r,visible:l,treeId:d,backstage:y}):U9({directory:D,expandedIds:g,selectedId:v,onLeafAction:r,labelTabstopping:l,treeId:d,backstage:y})),behaviours:Xn([jl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:l}),ws.config({})])}),nZ=_e("directory-event-id"),U9=({directory:t,onLeafAction:r,labelTabstopping:l,treeId:d,backstage:g,expandedIds:v,selectedId:y})=>{const{children:D}=t,U=et(v),X=Se=>D.map(He=>He.type==="leaf"?z9({leaf:He,selectedId:y,onLeafAction:r,visible:Se,treeId:d,backstage:g}):U9({directory:He,expandedIds:U.get(),selectedId:y,onLeafAction:r,labelTabstopping:Se,treeId:d,backstage:g})),ce=v.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[tZ({directory:t,visible:l,noChildren:t.children.length===0,backstage:g}),lI({children:D,expandedIds:v,selectedId:y,onLeafAction:r,visible:ce,treeId:d,backstage:g})],behaviours:Xn([Cs(nZ,[Wr((Se,He)=>{Ys.set(Se,ce)}),xn("expand-tree-node",(Se,He)=>{const{expanded:Qe,node:Je}=He.event;U.set(Qe?[...U.get(),Je]:U.get().filter(vt=>vt!==Je))})]),Ys.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Se,He)=>{const Qe=Se.components()[1],Je=X(He);He?jl.grow(Qe):jl.shrink(Qe),ws.set(Qe,Je)}})])}},nQ=_e("tree-event-id"),oQ=(t,r)=>{const l=t.onLeafAction.getOr(lt),d=t.onToggleExpand.getOr(lt),g=t.defaultExpandedIds,v=et(g),y=et(t.defaultSelectedId),D=_e("tree-id"),U=(X,ce)=>t.items.map(Se=>Se.type==="leaf"?z9({leaf:Se,selectedId:X,onLeafAction:l,visible:!0,treeId:D,backstage:r}):U9({directory:Se,selectedId:X,onLeafAction:l,expandedIds:ce,labelTabstopping:!0,treeId:D,backstage:r}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:U(y.get(),v.get()),behaviours:Xn([Ho.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Cs(nQ,[xn("expand-tree-node",(X,ce)=>{const{expanded:Se,node:He}=ce.event;v.set(Se?[...v.get(),He]:v.get().filter(Qe=>Qe!==He)),d(v.get(),{expanded:Se,node:He})})]),sd.config({channels:{[`update-active-item-${D}`]:{onReceive:(X,ce)=>{y.set(f.some(ce.value)),ws.set(X,U(f.some(ce.value),v.get()))}}}}),ws.config({})])}},V9=(t,r,l=[],d,g,v,y)=>{const D=r.fold(()=>({}),ce=>({action:ce})),U={buttonBehaviours:Xn([qi.item(()=>!t.enabled||y.checkUiComponentContext(t.context).shouldDisable),Fa(()=>y.checkUiComponentContext(t.context)),Hr.config({}),...v.map(ce=>wr.config(y.tooltips.getConfig({tooltipText:y.translate(ce)}))).toArray(),Cs("button press",[M8("click")])].concat(l)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...D},X=kt(U,{dom:d});return kt(X,{components:g})},oZ=(t,r,l,d=[],g)=>{const v=t.tooltip.map(X=>({"aria-label":l.translate(X)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:{...v,"data-mce-name":g}},D=t.icon.map(X=>GS(X,l.icons)),U=h4([D]);return V9(t,r,d,y,U,t.tooltip,l)},W9=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},cI=(t,r,l,d=[],g=[])=>{const v=l.translate(t.text),y=t.icon.map(Qe=>GS(Qe,l.icons)),D=[y.getOrThunk(()=>Zr(v))],U=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),Se={tag:"button",classes:[...W9(U),...y.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...g],attributes:{"aria-label":v,"data-mce-name":t.text}},He=t.icon.map(ht(v));return V9(t,r,d,Se,D,He,l)},dI=(t,r,l,d=[],g=[])=>{const v=cI(t,f.some(r),l,d,g);return pl.sketch(v)},uI=(t,r)=>l=>{r==="custom"?Jo(l,pf,{name:t,value:{}}):r==="submit"?Hs(l,T4):r==="cancel"?Hs(l,rh):console.error("Unknown button type: ",r)},sZ=(t,r)=>r==="menu",fI=(t,r)=>r==="custom"||r==="cancel"||r==="submit",rZ=(t,r)=>r==="togglebutton",aZ=(t,r,l)=>{var d,g;const v=t.icon.map(Vt=>ip(Vt,r.icons)).map(mr),y=Vt=>{Jo(Vt,pf,{name:t.name,value:{setIcon:an=>{v.map(fn=>fn.getOpt(Vt).each(uo=>{ws.set(uo,[ip(an,r.icons)])}))}}})},D=t.buttonType.getOr(t.primary?"primary":"secondary"),U={...t,name:(d=t.name)!==null&&d!==void 0?d:"",tooltip:t.tooltip,enabled:(g=t.enabled)!==null&&g!==void 0?g:!1},X=U.tooltip.or(t.text).map(Vt=>({"aria-label":r.translate(Vt)})).getOr({}),ce=W9(D??"secondary"),Se=t.icon.isSome()&&t.text.isSome(),He={tag:"button",classes:[...ce.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...Se?["tox-button--icon-and-text"]:[]],attributes:{...X,...Eo(l)?{"data-mce-name":l}:{}}},Qe=[],Je=r.translate(t.text.getOr("")),vt=Zr(Je),_t=[...h4([v.map(Vt=>Vt.asSpec())]),...t.text.isSome()?[vt]:[]],$t=V9(U,f.some(y),Qe,He,_t,t.tooltip,r);return pl.sketch($t)},y6=(t,r,l)=>{if(sZ(t,r)){const d=()=>y,g=t,v={...t,buttonType:"default",type:"menubutton",search:f.none(),onSetup:D=>(D.setEnabled(t.enabled),lt),fetch:eT(g.items,d,l)},y=mr(p2(v,"tox-tbtn",l,f.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return y.asSpec()}else if(fI(t,r)){const d=uI(t.name,r),g={...t,context:r==="cancel"?"any":t.context,borderless:!1};return dI(g,d,l.shared.providers,[])}else{if(rZ(t,r))return aZ(t,l.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")}},pI=(t,r)=>{const l=uI(t.name,"custom");return wM(f.none(),js.parts.field({factory:pl,...cI(t,f.some(l),r,[d2(""),gf.self()])}))},O4={type:"separator"},iZ=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:lt}),K9=(t,r)=>({type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:lt}),gI=t=>H(t,iZ),mI=(t,r)=>be(r,l=>l.type===t),hI=(t,r)=>gI(mI(t,r)),bI=t=>hI("header",t.targets),vI=t=>hI("anchor",t.targets),lZ=t=>f.from(t.anchorTop).map(r=>K9("<top>",r)).toArray(),cZ=t=>f.from(t.anchorBottom).map(r=>K9("<bottom>",r)).toArray(),xI=t=>H(t,r=>K9(r,r)),yI=t=>re(t,(r,l)=>r.length===0||l.length===0?r.concat(l):r.concat(O4,l),[]),oT=(t,r)=>{const l=t.toLowerCase();return be(r,d=>{var g;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,y=(g=d.value)!==null&&g!==void 0?g:"";return io(v.toLowerCase(),l)||io(y.toLowerCase(),l)})},dZ=(t,r,l)=>{var d,g;const v=yo.getValue(r),y=(g=(d=v==null?void 0:v.meta)===null||d===void 0?void 0:d.text)!==null&&g!==void 0?g:v.value;return l.getLinkInformation().fold(()=>[],U=>{const X=oT(y,xI(l.getHistory(t)));return t==="file"?yI([X,oT(y,bI(U)),oT(y,K([lZ(U),vI(U),cZ(U)]))]):X})},CI=_e("aria-invalid"),uZ=(t,r,l,d)=>{const g=r.shared.providers,v=$t=>{const Vt=yo.getValue($t);l.addToHistory(Vt.value,t.filetype)},y={...d.map($t=>({initialData:$t})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":CI,type:"url"},minChars:0,responseTime:0,fetch:$t=>{const Vt=dZ(t.filetype,$t,l),an=A4(Vt,df.BUBBLE_TO_SANDBOX,r,{isHorizontalMenu:!1,search:f.none()});return Hn.pure(an)},getHotspot:$t=>Je.getOpt($t),onSetValue:($t,Vt)=>{$t.hasConfigured(G1)&&G1.run($t).get(lt)},typeaheadBehaviours:Xn([...l.getValidationHandler().map($t=>G1.config({getRoot:Vt=>Jl(Vt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Vt,an)=>{ce.getOpt(Vt).each(fn=>{ss(fn.element,"title",g.translate(an))})}},validator:{validate:Vt=>{const an=yo.getValue(Vt);return Ce.nu(fn=>{$t({type:t.filetype,url:an.value},uo=>{if(uo.status==="invalid"){const Fn=zn.error(uo.message);fn(Fn)}else{const Fn=zn.value(uo.message);fn(Fn)}})})},validateOnLoad:!1}})).toArray(),zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable}),Hr.config({}),Cs("urlinput-events",[xn(Bf(),$t=>{const Vt=jc($t.element),an=Vt.trim();an!==Vt&&Hl($t.element,an),t.filetype==="file"&&Jo($t,Bc,{name:t.name})}),xn(Zu(),$t=>{Jo($t,Bc,{name:t.name}),v($t)}),xn(I5(),$t=>{Jo($t,Bc,{name:t.name}),v($t)})])]),eventOrder:{[Bf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:$t=>$t.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:a4(!1,1,"normal")},onExecute:($t,Vt,an)=>{Jo(Vt,T4,{})},onItemExecute:($t,Vt,an,fn)=>{v($t),Jo($t,Bc,{name:t.name})}},D=js.parts.field({...y,factory:GU}),U=t.label.map($t=>Tg($t,g)),ce=mr((($t,Vt,an=$t,fn=$t)=>Wd(an,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+$t],attributes:{title:g.translate(fn),"aria-live":"polite",...Vt.fold(()=>({}),uo=>({id:uo}))}},g.icons))("invalid",f.some(CI),"warning")),Se=mr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[ce.asSpec()]}),He=l.getUrlPicker(t.filetype),Qe=_e("browser.url.event"),Je=mr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[D,Se.asSpec()],behaviours:Xn([zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable})])}),vt=mr(dI({context:t.context,name:t.name,icon:f.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:f.none(),borderless:!0},$t=>Hs($t,Qe),g,[],["tox-browse-url"])),Lt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:K([[Je.asSpec()],He.map(()=>vt.asSpec()).toArray()])}),_t=$t=>{yn.getCurrent($t).each(Vt=>{const an=yo.getValue(Vt),fn={fieldname:t.name,...an};He.each(uo=>{uo(fn).get(Fn=>{yo.setValue(Vt,Fn),Jo($t,Bc,{name:t.name})})})})};return js.sketch({dom:g6(),components:U.toArray().concat([Lt()]),fieldBehaviours:Xn([zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable,onDisabled:$t=>{js.getField($t).each(zo.disable),vt.getOpt($t).each(zo.disable)},onEnabled:$t=>{js.getField($t).each(zo.enable),vt.getOpt($t).each(zo.enable)}}),Fa(()=>g.checkUiComponentContext(t.context)),Cs("url-input-events",[xn(Qe,_t)])])})},fZ=(t,r)=>{const l=AN(t.icon,r.icons);return Jf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:l},components:t.url?[pl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:l,attributes:{title:r.translate(t.iconTooltip)}},action:d=>Jo(d,pf,{name:"alert-banner",value:t.url}),buttonBehaviours:Xn([Gx()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},pZ=(t,r,l)=>{const d=U=>(U.element.dom.click(),f.some(!0)),g=js.parts.field({factory:{sketch:eo},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Xn([gf.self(),zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable,onDisabled:U=>{Jl(U.element).each(X=>na(X,"tox-checkbox--disabled"))},onEnabled:U=>{Jl(U.element).each(X=>Vr(X,"tox-checkbox--disabled"))}}),Hr.config({}),Es.config({}),O9(l,Ah,mc),Ho.config({mode:"special",onEnter:d,onSpace:d,stopSpaceKeyup:!0}),Cs("checkbox-events",[xn(Zu(),(U,X)=>{Jo(U,Bc,{name:t.name})})])])}),v=js.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Zr(r.translate(t.label))],behaviours:Xn([Av.config({})])}),y=U=>Wd(U==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+U]},r.icons),D=mr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[y("checked"),y("unchecked")]});return js.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[g,D.asSpec(),v],fieldBehaviours:Xn([zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.checkUiComponentContext(t.context))])})},gZ=(t,r)=>{const l=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],d=Cs("htmlpanel",[Wr(g=>{t.onInit(g.element.dom)})]);return t.presets==="presentation"?Jf.sketch({dom:{tag:"div",classes:l,innerHtml:t.html},containerBehaviours:Xn([wr.config({...r.tooltips.getConfig({tooltipText:"",onShow:g=>{pr(g.element,"[data-mce-tooltip]:hover").orThunk(()=>za(g.element)).each(v=>{ai(v,"data-mce-tooltip").each(y=>{wr.setComponents(g,r.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:g=>({type:"node",node:pr(g.element,"[data-mce-tooltip]:hover").orThunk(()=>za(g.element).filter(v=>ai(v,"data-mce-tooltip").isSome())),root:g.element,layouts:{onLtr:ht([Ba,pi,jr,fi,Ya,wi]),onRtl:ht([Ba,pi,jr,fi,Ya,wi])},bubble:Xc(0,-2,{})})}),d])}):Jf.sketch({dom:{tag:"div",classes:l,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Xn([Hr.config({}),Es.config({}),d])})},bi=t=>(r,l,d,g,v)=>Rt(l,"name").fold(()=>t(l,g,f.none(),v),y=>r.field(y,t(l,g,Rt(d,y),v))),mZ=t=>(r,l,d,g,v)=>{const y=kt(l,{source:"dynamic"});return bi(t)(r,y,d,g,v)},hZ={bar:bi((t,r)=>_j(t,r.shared)),collection:bi((t,r,l)=>AM(t,r.shared.providers,l)),alertbanner:bi((t,r)=>fZ(t,r.shared.providers)),input:bi((t,r,l)=>eZ(t,r.shared.providers,l)),textarea:bi((t,r,l)=>oI(t,r.shared.providers,l)),label:bi((t,r,l,d)=>Wj(t,r.shared,d)),iframe:mZ((t,r,l)=>Uj(t,r.shared.providers,l)),button:bi((t,r)=>pI(t,r.shared.providers)),checkbox:bi((t,r,l)=>pZ(t,r.shared.providers,l)),colorinput:bi((t,r,l)=>A9(t,r.shared,r.colorinput,l)),colorpicker:bi((t,r,l)=>Rj(t,r.shared.providers,l)),dropzone:bi((t,r,l)=>Bj(t,r.shared.providers,l)),grid:bi((t,r)=>Fj(t,r.shared)),listbox:bi((t,r,l)=>Yj(t,r,l)),selectbox:bi((t,r,l)=>Jj(t,r.shared.providers,l)),sizeinput:bi((t,r)=>eI(t,r.shared.providers)),slider:bi((t,r,l)=>Qj(t,r.shared.providers,l)),urlinput:bi((t,r,l)=>uZ(t,r,r.urlinput,l)),customeditor:bi(RM),htmlpanel:bi((t,r)=>gZ(t,r.shared.providers)),imagepreview:bi((t,r,l)=>ZM(t,l)),table:bi((t,r)=>tI(t,r.shared.providers)),tree:bi((t,r)=>oQ(t,r)),panel:bi((t,r)=>Xj(t,r))},bZ={field:(t,r)=>r,record:ht([])},vZ=(t,r,l,d,g)=>{const v=kt(d,{shared:{interpreter:y=>sT(t,y,l,v,g)}});return sT(t,r,l,v,g)},sT=(t,r,l,d,g)=>Rt(hZ,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),v=>v(t,r,l,d,g)),rT=(t,r,l,d)=>sT(bZ,t,r,l,d),L4={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},j9=(t,r,l)=>{const g={maxHeightFunction:bm()},v=()=>({type:"node",root:xl(Ra(t())),node:f.from(t()),bubble:Xc(12,12,L4),layouts:{onRtl:()=>[Jc],onLtr:()=>[hn]},overrides:g}),y=()=>({type:"hotspot",hotspot:r(),bubble:Xc(-12,12,L4),layouts:{onRtl:()=>[jr,Ya,Ba],onLtr:()=>[Ya,jr,Ba]},overrides:g});return()=>l()?v():y()},_I=(t,r,l,d)=>{const v={maxHeightFunction:bm()},y=()=>({type:"node",root:xl(Ra(r())),node:f.from(r()),bubble:Xc(12,12,L4),layouts:{onRtl:()=>[Qc],onLtr:()=>[Qc]},overrides:v}),D=()=>t?{type:"node",root:xl(Ra(r())),node:f.from(r()),bubble:Xc(0,-Di(r()),L4),layouts:{onRtl:()=>[pi],onLtr:()=>[pi]},overrides:v}:{type:"hotspot",hotspot:l(),bubble:Xc(0,0,L4),layouts:{onRtl:()=>[pi],onLtr:()=>[pi]},overrides:v};return()=>d()?y():D()},xZ=(t,r,l)=>{const d=()=>({type:"node",root:xl(Ra(t())),node:f.from(t()),layouts:{onRtl:()=>[Qc],onLtr:()=>[Qc]}}),g=()=>({type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Ba],onLtr:()=>[Ba]}});return()=>l()?d():g()},yZ=(t,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const l=t.selection.getRng(),d=t.model.table.getSelectedCells();if(d.length>1){const g=d[0],v=d[d.length-1],y={firstCell:cn.fromDom(g),lastCell:cn.fromDom(v)};return f.some(y)}return f.some(hc.range(cn.fromDom(l.startContainer),l.startOffset,cn.fromDom(l.endContainer),l.endOffset))}}),CZ=t=>r=>({type:"node",root:t(),node:r}),_Z=(t,r,l,d)=>{const g=e4(t),v=()=>cn.fromDom(t.getBody()),y=()=>cn.fromDom(t.getContentAreaContainer()),D=()=>g||!d();return{inlineDialog:j9(y,r,D),inlineBottomDialog:_I(t.inline,y,l,D),banner:xZ(y,r,D),cursor:yZ(t,v),node:CZ(v)}},EZ=t=>(r,l)=>{cM(t)(r,l)},wZ=t=>()=>YR(t),SZ=t=>r=>x9(t,r),EI=t=>r=>LS(t,r),wI=t=>({colorPicker:EZ(t),hasCustomColors:wZ(t),getColors:SZ(t),getColorCols:EI(t)}),TZ=t=>()=>JD(t),SI=t=>({isDraggableModal:TZ(t)}),kZ=t=>{const r=et(cw(t)?"bottom":"top");return{isPositionedAtTop:()=>r.get()==="top",getDockingMode:r.get,setDockingMode:r.set}},TI=t=>Zt(t,"items"),kI=t=>Zt(t,"format"),ah=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],AI=t=>zt(t,"items"),C6=t=>zt(t,"block"),Z9=t=>zt(t,"inline"),OI=t=>zt(t,"selector"),aT=t=>re(t,(r,l)=>{if(AI(l)){const d=aT(l.items);return{customFormats:r.customFormats.concat(d.customFormats),formats:r.formats.concat([{title:l.title,items:d.formats}])}}else if(Z9(l)||C6(l)||OI(l)){const g=`custom-${ot(l.name)?l.name:l.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:g,format:l}]),formats:r.formats.concat([{title:l.title,format:g,icon:l.icon}])}}else return{...r,formats:r.formats.concat(l)}},{customFormats:[],formats:[]}),LI=(t,r)=>{const l=aT(r),d=g=>{ee(g,v=>{t.formatter.has(v.name)||t.formatter.register(v.name,v.format)})};return t.formatter?d(l.customFormats):t.on("init",()=>{d(l.customFormats)}),l.formats},AZ=t=>HD(t).map(r=>{const l=LI(t,r);return zD(t)?ah.concat(l):l}).getOr(ah),OZ=t=>{const r=nt(t);return r.length===1&&G(r,"title")},DI=(t,r,l)=>({...t,type:"formatter",isSelected:r(t.format),getStylePreview:l(t.format)}),NI=(t,r,l,d)=>{const g=U=>DI(U,l,d),v=U=>{const X=D(U.items);return{...U,type:"submenu",getStyleItems:ht(X)}},y=U=>{const X=ot(U.name)?U.name:_e(U.title),ce=`custom-${X}`,Se={...U,type:"formatter",format:ce,isSelected:l(ce),getStylePreview:d(ce)};return t.formatter.register(X,Se),Se},D=U=>H(U,X=>TI(X)?v(X):kI(X)?g(X):OZ(X)?{...X,type:"separator"}:y(X));return D(r)},LZ=t=>{const r=D=>()=>t.formatter.match(D),l=D=>()=>{const U=t.formatter.get(D);return U!==void 0?f.some({tag:U.length>0&&(U[0].inline||U[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(D))}):f.none()},d=et([]),g=et([]),v=et(!1);return t.on("PreInit",D=>{const U=AZ(t),X=NI(t,U,r,l);d.set(X)}),t.on("addStyleModifications",D=>{const U=NI(t,D.items,r,l);g.set(U),v.set(D.replace)}),{getData:()=>{const D=v.get()?[]:d.get(),U=g.get();return D.concat(U)}}},DZ=t=>{let d=0;const g=()=>d>0,v=D=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Zr(D.tooltipText)]}];return{getConfig:D=>({delayForShow:()=>g()?60:300,delayForHide:ht(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:v(D),onShow:(U,X)=>{d++,D.onShow&&D.onShow(U,X)},onHide:(U,X)=>{d--,D.onHide&&D.onHide(U,X)},onSetup:D.onSetup}),getComponents:v}},NZ=t=>Eo(t)&&t.nodeType===1,D4=kg.trim,N4=t=>r=>!!(NZ(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),iT=N4("true"),RZ=N4("false"),RI=(t,r,l,d,g)=>({type:t,title:r,url:l,level:d,attach:g}),lT=t=>{let r=t;for(;r=r.parentNode;){const l=r.contentEditable;if(l&&l!=="inherit")return iT(r)}return!1},MZ=(t,r)=>H(Ia(cn.fromDom(r),t),l=>l.dom),R4=t=>t.innerText||t.textContent,MI=t=>t.id?t.id:_e("h"),IZ=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,BZ=t=>IZ(t)&&BI(t),II=t=>t&&/^(H[1-6])$/.test(t.nodeName),BI=t=>lT(t)&&!RZ(t),FZ=t=>II(t)&&BI(t),PZ=t=>II(t)?parseInt(t.nodeName.substr(1),10):0,FI=t=>{var r;const l=MI(t),d=()=>{t.id=l};return RI("header",(r=R4(t))!==null&&r!==void 0?r:"","#"+l,PZ(t),d)},PI=t=>{const r=t.id||t.name,l=R4(t);return RI("anchor",l||"#"+r,"#"+r,0,lt)},cT=t=>H(be(t,FZ),FI),$Z=t=>H(be(t,BZ),PI),G9=t=>MZ("h1,h2,h3,h4,h5,h6,a:not([href])",t),q9=t=>D4(t.title).length>0,zZ={find:t=>{const r=G9(t);return be(cT(r).concat($Z(r)),q9)}},Y9="tinymce-url-history",$I=5,HI=t=>ot(t)&&/^https?/.test(t),dT=t=>un(t)&&t.length<=$I&&A(t,HI),zI=t=>Mt(t)&&ft(t,r=>!dT(r)).isNone(),X9=()=>{const t=l2.getItem(Y9);if(t===null)return{};let r;try{r=JSON.parse(t)}catch(l){if(l instanceof SyntaxError)return console.log("Local storage "+Y9+" was not valid JSON",l),{};throw l}return zI(r)?r:(console.log("Local storage "+Y9+" was not valid format",r),{})},UZ=t=>{if(!zI(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));l2.setItem(Y9,JSON.stringify(t))},uT=t=>{const r=X9();return Rt(r,t).getOr([])},VZ=(t,r)=>{if(!HI(t))return;const l=X9(),d=Rt(l,r).getOr([]),g=be(d,v=>v!==t);l[r]=[t].concat(g).slice(0,$I),UZ(l)},UI=t=>!!t,WZ=t=>tt(kg.makeMap(t,/[, ]/),UI),fT=t=>f.from(rw(t)),KZ=t=>{const r=f.from(qD(t)).filter(UI).map(WZ);return fT(t).fold(ge,l=>r.fold(a,d=>nt(d).length>0?d:!1))},sQ=(t,r)=>{const l=KZ(t);return xe(l)?l?fT(t):f.none():l[r]?fT(t):f.none()},rQ=(t,r)=>sQ(t,r).map(l=>d=>Hn.nu(g=>{const v=(D,U)=>{if(!ot(D))throw new Error("Expected value to be string");if(U!==void 0&&!Mt(U))throw new Error("Expected meta to be a object");g({value:D,meta:U})},y={filetype:r,fieldname:d.fieldname,...f.from(d.meta).getOr({})};l.call(t,v,d.value,y)})),pT=t=>f.from(t).filter(ot).getOrUndefined(),jZ=t=>iw(t)?f.some({targets:zZ.find(t.getBody()),anchorTop:pT(YD(t)),anchorBottom:pT(XD(t))}):f.none(),VI=t=>f.from(GD(t)),ZZ=t=>({getHistory:uT,addToHistory:VZ,getLinkInformation:()=>jZ(t),getValidationHandler:()=>VI(t),getUrlPicker:r=>rQ(t,r)}),GZ=(t,r,l,d)=>{const g=et(!1),v=kZ(r),y={icons:()=>r.ui.registry.getAll().icons,menuItems:()=>r.ui.registry.getAll().menuItems,translate:gl.translate,isDisabled:()=>!r.ui.isEnabled(),getOption:r.options.get,tooltips:DZ(t.dialog),checkUiComponentContext:_t=>{if(Hx(r))return{contextType:"disabled",shouldDisable:!0};const[$t,Vt=""]=_t.split(":"),an=r.ui.registry.getAll().contexts,fn=Rt(an,$t).fold(()=>Rt(an,"mode").map(uo=>uo("design")).getOr(!1),uo=>Vt.charAt(0)==="!"?!uo(Vt.slice(1)):uo(Vt));return{contextType:$t,shouldDisable:!fn}}},D=ZZ(r),U=LZ(r),X=wI(r),ce=SI(r),Se=()=>g.get(),He=_t=>g.set(_t),Qe={shared:{providers:y,anchors:_Z(r,l,d,v.isPositionedAtTop),header:v},urlinput:D,styles:U,colorinput:X,dialog:ce,isContextMenuOpen:Se,setContextMenuState:He},Je=_t=>f.none(),vt={...Qe,shared:{...Qe.shared,interpreter:_t=>rT(_t,{},vt,Je),getSink:t.popup}},Lt={...Qe,shared:{...Qe.shared,interpreter:_t=>rT(_t,{},Lt,Je),getSink:t.dialog}};return{popup:vt,dialog:Lt}},qZ={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},YZ=t=>{console.warn(qZ[t],new Error().stack)},WI=(t,r,l)=>{const d=(Nn,Zo)=>{ee([r,...l],Po=>{Po.broadcastEvent(Nn,Zo)})},g=(Nn,Zo)=>{ee([r,...l],Po=>{Po.broadcastOn([Nn],Zo)})},v=Nn=>g(Kf(),{target:Nn.target}),y=Nn=>{g(p0(),{closedTooltip:()=>{Nn.preventDefault()}})},D=ri(),U=Js(D,"touchstart",v),X=Js(D,"touchmove",Nn=>d(p8(),Nn)),ce=Js(D,"touchend",Nn=>d(rm(),Nn)),Se=Js(D,"mousedown",v),He=Js(D,"mouseup",Nn=>{Nn.raw.button===0&&g(Oc(),{target:Nn.target})}),Qe=Nn=>g(Kf(),{target:cn.fromDom(Nn.target)}),Je=Nn=>{Nn.button===0&&g(Oc(),{target:cn.fromDom(Nn.target)})},vt=()=>{ee(t.editorManager.get(),Nn=>{t!==Nn&&Nn.dispatch("DismissPopups",{relatedTarget:t})})},Lt=Nn=>d(Zh(),Uc(Nn)),_t=Nn=>{g(Mr(),{}),d(Gh(),Uc(Nn))},$t=Ra(cn.fromDom(t.getElement())),Vt=xd($t,"scroll",Nn=>{requestAnimationFrame(()=>{const Zo=t.getContainer();if(Zo!=null){const Zs=qm(t,r.element).map(rs=>[rs.element,...rs.others]).getOr([]);P(Zs,rs=>Rs(rs,Nn.target))&&(t.dispatch("ElementScroll",{target:Nn.target.dom}),d(g8(),Nn))}})}),an=()=>g(Mr(),{}),fn=Nn=>{Nn.state&&g(Kf(),{target:cn.fromDom(t.getContainer())})},uo=Nn=>{g(Kf(),{target:cn.fromDom(Nn.relatedTarget.getContainer())})},Fn=Nn=>t.dispatch("focusin",Nn),$n=Nn=>t.dispatch("focusout",Nn);t.on("PostRender",()=>{t.on("click",Qe),t.on("tap",Qe),t.on("mouseup",Je),t.on("mousedown",vt),t.on("ScrollWindow",Lt),t.on("ResizeWindow",_t),t.on("ResizeEditor",an),t.on("AfterProgressState",fn),t.on("DismissPopups",uo),t.on("CloseActiveTooltips",y),ee([r,...l],Nn=>{Nn.element.dom.addEventListener("focusin",Fn),Nn.element.dom.addEventListener("focusout",$n)})}),t.on("remove",()=>{t.off("click",Qe),t.off("tap",Qe),t.off("mouseup",Je),t.off("mousedown",vt),t.off("ScrollWindow",Lt),t.off("ResizeWindow",_t),t.off("ResizeEditor",an),t.off("AfterProgressState",fn),t.off("DismissPopups",uo),t.off("CloseActiveTooltips",y),ee([r,...l],Nn=>{Nn.element.dom.removeEventListener("focusin",Fn),Nn.element.dom.removeEventListener("focusout",$n)}),Se.unbind(),U.unbind(),X.unbind(),ce.unbind(),He.unbind(),Vt.unbind()}),t.on("detach",()=>{ee([r,...l],T7),ee([r,...l],Nn=>Nn.destroy())})},XZ=lt,JZ=ge,KI=ht([]);var iQ=Object.freeze({__proto__:null,setup:XZ,isDocked:JZ,getBehaviours:KI});const jI=ht(_e("toolbar-height-change")),s1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},gT="tox-tinymce--toolbar-sticky-on",ZI="tox-tinymce--toolbar-sticky-off",QZ=(t,r)=>{const l=Rl(r),g=Pu(r).dom.innerHeight,v=Ri(l),y=cn.fromDom(t.elm),D=x1(y),U=qr(y),X=D.y,ce=X+U,Se=Ni(r),He=qr(r),Qe=Se.top,Je=Qe+He,vt=Math.abs(Qe-v.top)<2,Lt=Math.abs(Je-(v.top+g))<2;if(vt&&X<Je)tc(v.left,X-He,l);else if(Lt&&ce>Qe){const _t=X-g+U+He;tc(v.left,_t,l)}},cc=(t,r)=>G(ea.getModes(t),r),mT=t=>{const r=d=>Di(d)+(parseInt(pa(d,"margin-top"),10)||0)+(parseInt(pa(d,"margin-bottom"),10)||0),l=t.element;Jl(l).each(d=>{const g="padding-"+ea.getModes(t)[0];if(ea.isDocked(t)){const v=ei(d);Mo(l,"width",v+"px"),Mo(d,g,r(l)+"px")}else Ps(l,"width"),Ps(d,g)})},hT=(t,r)=>{r?(Vr(t,s1.fadeOutClass),$l(t,[s1.transitionClass,s1.fadeInClass])):(Vr(t,s1.fadeInClass),$l(t,[s1.fadeOutClass,s1.transitionClass]))},bT=(t,r)=>{const l=cn.fromDom(t.getContainer());r?(na(l,gT),Vr(l,ZI)):(na(l,ZI),Vr(l,gT))},eG=(t,r)=>{const l=Rl(r);Xa(l).filter(d=>!Rs(r,d)).filter(d=>Rs(d,cn.fromDom(l.dom.body))||Sa(t,d)).each(()=>hr(r))},_6=(t,r)=>za(t).orThunk(()=>r().toOptional().bind(l=>za(l.element))),tG=(t,r,l)=>{t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{l().each(ea.reset)}),t.on("ResizeWindow ResizeEditor",()=>{l().each(mT)}),t.on("SkinLoaded",()=>{l().each(d=>{ea.isDocked(d)?ea.reset(d):ea.refresh(d)})}),t.on("FullscreenStateChanged",()=>{l().each(ea.reset)})),t.on("AfterScrollIntoView",d=>{l().each(g=>{ea.refresh(g);const v=g.element;u1(v)&&QZ(d,v)})}),t.on("PostRender",()=>{bT(t,!1)})},J9=t=>t().map(ea.isDocked).getOr(!1),nG=()=>[sd.config({channels:{[jI()]:{onReceive:mT}}})],E6=(t,r)=>{const l=Do(),d=r.getSink,g=D=>{d().each(U=>D(U.element))},v=D=>{t.inline||mT(D),bT(t,ea.isDocked(D)),D.getSystem().broadcastOn([Mr()],{}),d().each(U=>U.getSystem().broadcastOn([Mr()],{}))},y=t.inline?[]:nG();return[Es.config({}),ea.config({contextual:{lazyContext:D=>{const U=Di(D.element),X=t.inline?t.getContentAreaContainer():t.getContainer();return f.from(X).map(ce=>{const Se=ha(cn.fromDom(ce));return qm(t,D.element).fold(()=>{const Qe=Se.height-U,Je=Se.y+(cc(D,"top")?0:U);return Ka(Se.x,Je,Se.width,Qe)},Qe=>{const Je=Sp(Se,$0(Qe)),vt=cc(D,"top")?Je.y:Je.y+U;return Ka(Je.x,vt,Je.width,Je.height-U)})})},onShow:()=>{g(D=>hT(D,!0))},onShown:D=>{g(U=>Cl(U,[s1.transitionClass,s1.fadeInClass])),l.get().each(U=>{eG(D.element,U),l.clear()})},onHide:D=>{_6(D.element,d).fold(l.clear,l.set),g(U=>hT(U,!1))},onHidden:()=>{g(D=>Cl(D,[s1.transitionClass]))},...s1},lazyViewport:D=>qm(t,D.element).fold(()=>{const X=ol(),ce=ZD(t),Se=X.y+(cc(D,"top")&&!fN(t)?ce:0),He=X.height-(cc(D,"bottom")?ce:0);return{bounds:Ka(X.x,Se,X.width,He),optScrollEnv:f.none()}},X=>({bounds:$0(X),optScrollEnv:f.some({currentScrollTop:X.element.dom.scrollTop,scrollElmTop:Ni(X.element).top})})),modes:[r.header.getDockingMode()],onDocked:v,onUndocked:v}),...y]};var oG=Object.freeze({__proto__:null,setup:tG,isDocked:J9,getBehaviours:E6});const sG=t=>{const r=t.editor,l=t.sticky?E6:KI;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Xn(l(r,t.sharedBackstage))}};var vT=od({factory:(t,r)=>{const l=(g,v)=>{const y=H(v,D=>{const U={type:"menubutton",text:D.text,fetch:ce=>{ce(D.getItems())},context:"any"},X=a9(U).mapError(ce=>Qg(ce)).getOrDie();return p2(X,"tox-mbtn",r.backstage,f.some("menuitem"))});ws.set(g,y)},d={focus:Ho.focusIn,setMenus:l};return{uid:t.uid,dom:t.dom,components:[],behaviours:Xn([ws.config({}),Cs("menubar-events",[Wr(g=>{t.onSetup(g)}),xn(kd(),(g,v)=>{pr(g.element,".tox-mbtn--active").each(y=>{nc(v.event.target,".tox-mbtn").each(D=>{Rs(y,D)||g.getSystem().getByDom(y).each(U=>{g.getSystem().getByDom(D).each(X=>{ad.expand(X),ad.close(U),Es.focus(X)})})})})}),xn(am(),(g,v)=>{v.event.prevFocus.bind(y=>g.getSystem().getByDom(y).toOptional()).each(y=>{v.event.newFocus.bind(D=>g.getSystem().getByDom(D).toOptional()).each(D=>{ad.isOpen(y)&&(ad.expand(D),ad.close(y))})})})]),Ho.config({mode:"flow",selector:".tox-mbtn",onEscape:g=>(t.onEscape(g),f.some(!0))}),Hr.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Bn("dom"),Bn("uid"),Bn("onEscape"),Bn("backstage"),tn("onSetup",lt)],apis:{focus:(t,r)=>{t.focus(r)},setMenus:(t,r,l)=>{t.setMenus(r,l)}}});const Q9=" Get all features",GI="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",qI=t=>{const r=t.promotionLink?[{dom:{tag:"a",attributes:{href:GI,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:Q9}}]:[];return{uid:t.uid,dom:t.dom,components:r}},rG=t=>{const{sidebars:r}=t.ui.registry.getAll();ee(nt(r),l=>{const d=r[l],g=()=>At(f.from(t.queryCommandValue("ToggleSidebar")),l);t.ui.registry.addToggleButton(l,{icon:d.icon,tooltip:d.tooltip,onAction:v=>{t.execCommand("ToggleSidebar",!1,l),v.setActive(g())},onSetup:v=>{v.setActive(g());const y=()=>v.setActive(g());return t.on("ToggleSidebar",y),()=>{t.off("ToggleSidebar",y)}},context:"any"})})},YI=t=>({element:()=>t.element.dom}),aG=(t,r)=>{const l=H(nt(r),d=>{const g=r[d],v=Sd(xR(g));return{name:d,getApi:YI,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return H(l,d=>{const g=et(lt);return t.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:m4.unnamedEvents([ff(d,g),rp(d,g),xn(P5(),(v,y)=>{const D=y.event;M(l,X=>X.name===D.name).each(X=>{(D.visible?X.onShow:X.onHide)(X.getApi(v))})})])})})},iG=t=>Ol.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:aG(r,t),slotBehaviours:m4.unnamedEvents([Wr(l=>Ol.hideAllSlots(l))])})),lG=(t,r,l)=>{yn.getCurrent(t).each(g=>{ws.set(g,[iG(r)]);const v=l==null?void 0:l.toLowerCase();ot(v)&&zt(r,v)&&yn.getCurrent(g).each(y=>{Ol.showSlot(y,v),jl.immediateGrow(g),Ps(g.element,"width"),ey(t.element,"region")})})},ey=(t,r)=>{ss(t,"role",r)},cG=(t,r)=>{yn.getCurrent(t).each(d=>{yn.getCurrent(d).each(v=>{jl.hasGrown(d)?Ol.isShowing(v,r)?(jl.shrink(d),ey(t.element,"presentation")):(Ol.hideAllSlots(v),Ol.showSlot(v,r),ey(t.element,"region")):(Ol.hideAllSlots(v),Ol.showSlot(v,r),jl.grow(d),ey(t.element,"region"))})})},dG=t=>yn.getCurrent(t).bind(l=>jl.isGrowing(l)||jl.hasGrown(l)?yn.getCurrent(l).bind(v=>M(Ol.getSlotNames(v),y=>Ol.isShowing(v,y))):f.none()),xT=_e("FixSizeEvent"),ty=_e("AutoSizeEvent"),XI=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Xn([Hr.config({}),Es.config({}),jl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{yn.getCurrent(r).each(Ol.hideAllSlots),Hs(r,ty)},onGrown:r=>{Hs(r,ty)},onStartGrow:r=>{Jo(r,xT,{width:er(r.element,"width").getOr("")})},onStartShrink:r=>{Jo(r,xT,{width:ei(r.element)+"px"})}}),ws.config({}),yn.config({find:r=>{const l=ws.contents(r);return we(l)}})])}],behaviours:Xn([gf.childAt(0),Cs("sidebar-sliding-events",[xn(xT,(r,l)=>{Mo(r.element,"width",l.event.width)}),xn(ty,(r,l)=>{Ps(r.element,"width")})])])}),JI=t=>(r,l)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Y1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),QI=t=>yn.getCurrent(t).each(r=>hr(r.element,!0)),eB=(t,r)=>{const l="tabindex",d=`data-mce-${l}`;f.from(t.iframeElement).map(cn.fromDom).each(g=>{r?(ai(g,l).each(v=>ss(g,d,v)),ss(g,l,-1)):(Kr(g,l),ai(g,d).each(v=>{ss(g,l,v),Kr(g,d)}))})},uG=(t,r,l,d)=>{const g=r.element;if(eB(t,l),l)Sn.block(r,JI(d)),Ps(g,"display"),Kr(g,"aria-hidden"),t.hasFocus()&&QI(r);else{const v=yn.getCurrent(r).exists(y=>pc(y.element));Sn.unblock(r),Mo(g,"display","none"),ss(g,"aria-hidden","true"),v&&t.focus()}},fG=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Xn([ws.config({}),Sn.config({focus:!1}),yn.config({find:r=>we(r.components())})]),components:[]}),tB=t=>t.type==="focusin",nB=t=>tB(t)?(t.composed?we(t.composedPath()):f.from(t.target)).map(cn.fromDom).filter(hl).exists(l=>Ma(l,"mce-pastebin")):!1,oB=(t,r,l)=>{const d=et(!1),g=Do(),v=D=>{d.get()&&!nB(D)&&(D.preventDefault(),QI(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",v),t.on("BeforeExecCommand",D=>{D.command.toLowerCase()==="mcefocus"&&D.value!==!0&&v(D)})});const y=D=>{D!==d.get()&&(d.set(D),uG(t,r(),D,l.providers),IK(t,D))};t.on("ProgressState",D=>{if(g.on(clearTimeout),Wo(D.time)){const U=$x.setEditorTimeout(t,()=>y(D.state),D.time);g.set(U)}else y(D.state),g.clear()})},sB=t=>{const r=t.label.isNone()?t.title.fold(()=>({}),l=>({attributes:{"aria-label":l}})):t.label.fold(()=>({}),l=>({attributes:{"aria-label":l}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(t.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...t.label.map(l=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Zr(l)]})).toArray(),Uv.parts.items({})],items:t.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Xn([Hr.config({}),Es.config({ignore:!0})])}},ny=t=>Uv.sketch(sB(t)),rB=(t,r)=>{const l=Wr(d=>{const g=H(t.initGroups,ny);Lu.setGroups(d,g)});return Xn([qi.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),Fa(()=>t.providers.checkUiComponentContext("any")),Ho.config({mode:r,onEscape:t.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Cs("toolbar-events",[l])])},yT=t=>{const r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":sB({title:f.none(),label:f.none(),items:[]}),"overflow-button":oZ({context:"any",icon:f.some("more-drawer"),enabled:!0,tooltip:f.some("Reveal or hide additional toolbar items")},f.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:rB(t,r)}},pG=t=>{const r=yT(t),l=4,d=ND.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return ND.sketch({...r,lazySink:t.getSink,getOverflowBounds:()=>{const g=t.moreDrawerData.lazyHeader().element,v=x1(g),y=Ch(g),D=x1(y),U=Math.max(y.dom.scrollHeight,D.height);return Ka(v.x+l,D.y,v.width-l*2,U)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>t.onToggled(g,!0),onClosed:g=>t.onToggled(g,!1)})},gG=t=>{const r=J3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),l=J3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=yT(t);return J3.sketch({...d,components:[r,l],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>{g.getSystem().broadcastOn([jI()],{type:"opened"}),t.onToggled(g,!0)},onClosed:g=>{g.getSystem().broadcastOn([jI()],{type:"closed"}),t.onToggled(g,!1)}})},oy=t=>{const r=t.cyclicKeying?"cyclic":"acyclic";return Lu.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Vd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Lu.parts.groups({})],toolbarBehaviours:rB(t,r)})},mG=(t,r)=>{var l,d;const g=t.type==="togglebutton",v=t.icon.map(Vt=>ip(Vt,r.icons)).map(mr),D=Vt=>{const an=$n=>{v.map(Nn=>Nn.getOpt(Vt).each(Zo=>{ws.set(Zo,[ip($n,r.icons)])}))},fn=$n=>{const Nn=Vt.element;$n?(na(Nn,"tox-button--enabled"),ss(Nn,"aria-pressed",!0)):(Vr(Nn,"tox-button--enabled"),Kr(Nn,"aria-pressed"))},uo=()=>Ma(Vt.element,"tox-button--enabled"),Fn=()=>hr(Vt.element);if(g)return t.onAction({setIcon:an,setActive:fn,isActive:uo,focus:Fn});if(t.type==="button")return t.onAction({setIcon:an})},U={...t,name:g?t.text.getOr(t.icon.getOr("")):(l=t.text)!==null&&l!==void 0?l:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:f.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},X=W9((d=t.buttonType)!==null&&d!==void 0?d:"secondary"),ce=g?t.text.map(r.translate):f.some(r.translate(t.text)),Se=ce.map(Zr),He=U.tooltip.or(ce).map(Vt=>({"aria-label":r.translate(Vt)})).getOr({}),Qe=v.map(Vt=>Vt.asSpec()),Je=h4([Qe,Se]),vt=t.icon.isSome()&&Se.isSome(),Lt={tag:"button",classes:X.concat(...t.icon.isSome()&&!vt?["tox-button--icon"]:[]).concat(...vt?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:He},_t=[],$t=V9(U,f.some(D),_t,Lt,Je,t.tooltip,r);return pl.sketch($t)},aB=(t,r)=>mG(t,r),hG=(t,r)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:H(t.buttons,l=>aB(l,r))}),iB=ca().deviceType,bG=iB.isPhone(),vG=iB.isTablet(),xG=t=>{let r=!1;const l=H(t.buttons,d=>d.type==="group"?(r=!0,hG(d,t.providers)):aB(d,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...bG||vG?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Xn([Es.config({}),Ho.config({mode:"flow",selector:"button, .tox-button",focusInside:Sc.OnEnterOrSpaceMode})]),components:r?l:[Jf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Jf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:l})]}},CT=t=>({uid:t.uid,behaviours:Xn([Es.config({}),Hr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),yG=(t,r,l,d)=>{const g={getPane:v=>hi.getPart(v,t,"pane"),getOnShow:v=>t.viewConfig.onShow,getOnHide:v=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:r,behaviours:Xn([Es.config({}),Ho.config({mode:"cyclic",focusInside:Sc.OnEnterOrSpaceMode})]),apis:g}};var M4=ic({name:"silver.View",configFields:[Bn("viewConfig")],partFields:[Ad({factory:{sketch:xG},schema:[Bn("buttons"),Bn("providers")],name:"header"}),Ad({factory:{sketch:CT},schema:[],name:"pane"})],factory:yG,apis:{getPane:(t,r)=>t.getPane(r),getOnShow:(t,r)=>t.getOnShow(r),getOnHide:(t,r)=>t.getOnHide(r)}});const lB=(t,r,l)=>xt(r,(d,g)=>{const v=Sd(lc(d));return t.slot(g,M4.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[M4.parts.header({buttons:v.buttons,providers:l})]:[],M4.parts.pane({})]}))}),cB=(t,r)=>Ol.sketch(l=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:lB(l,t,r),slotBehaviours:m4.unnamedEvents([Wr(d=>Ol.hideAllSlots(d))])})),dB=t=>M(Ol.getSlotNames(t),r=>Ol.isShowing(t,r)),CG=t=>{const r=t.element;Mo(r,"display","none"),ss(r,"aria-hidden","true")},_G=t=>{const r=t.element;Ps(r,"display"),Kr(r,"aria-hidden")},EG=t=>({getContainer:ht(t)}),uB=(t,r,l)=>{Ol.getSlot(t,r).each(d=>{M4.getPane(d).each(g=>{l(d)(EG(g.element.dom))})})},wG=(t,r)=>uB(t,r,M4.getOnShow),fB=(t,r)=>uB(t,r,M4.getOnHide);var I4=od({factory:(t,r)=>{const v={setViews:(y,D)=>{ws.set(y,[cB(D,r.backstage.shared.providers)])},whichView:y=>yn.getCurrent(y).bind(dB),toggleView:(y,D,U,X)=>yn.getCurrent(y).exists(ce=>{const Se=dB(ce),He=Se.exists(Je=>X===Je),Qe=Ol.getSlot(ce,X).isSome();return Qe&&(Ol.hideAllSlots(ce),He?(CG(y),D()):(U(),_G(y),Ol.showSlot(ce,X),wG(ce,X)),Se.each(Je=>fB(ce,Je))),Qe})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Xn([ws.config({}),yn.config({find:y=>{const D=ws.contents(y);return we(D)}})]),apis:v}},name:"silver.ViewWrapper",configFields:[Bn("backstage")],apis:{setViews:(t,r,l)=>t.setViews(r,l),toggleView:(t,r,l,d,g)=>t.toggleView(r,l,d,g),whichView:(t,r)=>t.whichView(r)}});const SG=(t,r,l)=>{let d=!1;const g=y=>{Cp(y,".tox-statusbar").each(D=>{pa(D,"display")==="none"&&Ua(D,"aria-hidden")==="true"?(Ps(D,"display"),Kr(D,"aria-hidden")):(Mo(D,"display","none"),ss(D,"aria-hidden","true"))})},v={getSocket:y=>hi.getPart(y,t,"socket"),setSidebar:(y,D,U)=>{hi.getPart(y,t,"sidebar").each(X=>lG(X,D,U))},toggleSidebar:(y,D)=>{hi.getPart(y,t,"sidebar").each(U=>cG(U,D))},whichSidebar:y=>hi.getPart(y,t,"sidebar").bind(dG).getOrNull(),getHeader:y=>hi.getPart(y,t,"header"),getToolbar:y=>hi.getPart(y,t,"toolbar"),setToolbar:(y,D)=>{hi.getPart(y,t,"toolbar").each(U=>{const X=H(D,ny);U.getApis().setGroups(U,X)})},setToolbars:(y,D)=>{hi.getPart(y,t,"multiple-toolbar").each(U=>{const X=H(D,ce=>H(ce,ny));nL.setItems(U,X)})},refreshToolbar:y=>{hi.getPart(y,t,"toolbar").each(U=>U.getApis().refresh(U))},toggleToolbarDrawer:y=>{hi.getPart(y,t,"toolbar").each(D=>{_n(D.getApis().toggle,U=>U(D))})},toggleToolbarDrawerWithoutFocusing:y=>{hi.getPart(y,t,"toolbar").each(D=>{_n(D.getApis().toggleWithoutFocusing,U=>U(D))})},isToolbarDrawerToggled:y=>hi.getPart(y,t,"toolbar").bind(D=>f.from(D.getApis().isOpen).map(U=>U(D))).getOr(!1),getThrobber:y=>hi.getPart(y,t,"throbber"),focusToolbar:y=>{hi.getPart(y,t,"toolbar").orThunk(()=>hi.getPart(y,t,"multiple-toolbar")).each(U=>{Ho.focusIn(U)})},setMenubar:(y,D)=>{hi.getPart(y,t,"menubar").each(U=>{vT.setMenus(U,D)})},focusMenubar:y=>{hi.getPart(y,t,"menubar").each(D=>{vT.focus(D)})},setViews:(y,D)=>{hi.getPart(y,t,"viewWrapper").each(U=>{I4.setViews(U,D)})},toggleView:(y,D)=>hi.getPart(y,t,"viewWrapper").exists(U=>I4.toggleView(U,()=>v.showMainView(y),()=>v.hideMainView(y),D)),whichView:y=>hi.getPart(y,t,"viewWrapper").bind(I4.whichView).getOrNull(),hideMainView:y=>{d=v.isToolbarDrawerToggled(y),d&&v.toggleToolbarDrawer(y),hi.getPart(y,t,"editorContainer").each(D=>{const U=D.element;g(U),Mo(U,"display","none"),ss(U,"aria-hidden","true")})},showMainView:y=>{d&&v.toggleToolbarDrawer(y),hi.getPart(y,t,"editorContainer").each(D=>{const U=D.element;g(U),Ps(U,"display"),Kr(U,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:r,apis:v,behaviours:t.behaviours}},TG=X1.optional({factory:vT,name:"menubar",schema:[Bn("backstage")]}),pB=t=>t.type===Vd.sliding?gG:t.type===Vd.floating?pG:oy,kG=X1.optional({factory:{sketch:t=>nL.sketch({uid:t.uid,dom:t.dom,listBehaviours:Xn([Ho.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>oy({type:t.type,uid:_e("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),f.some(!0))}),setupItem:(r,l,d,g)=>{Lu.setGroups(l,d)},shell:!0})},name:"multiple-toolbar",schema:[Bn("dom"),Bn("onEscape")]}),AG=X1.optional({factory:{sketch:t=>{const r=pB(t),l={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),f.some(!0)),onToggled:(d,g)=>t.onToolbarToggled(g),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(l)}},name:"toolbar",schema:[Bn("dom"),Bn("onEscape"),Bn("getSink")]}),OG=X1.optional({factory:{sketch:sG},name:"header",schema:[Bn("dom")]}),gB=X1.optional({factory:{sketch:qI},name:"promotion",schema:[Bn("dom"),Bn("promotionLink")]}),LG=X1.optional({name:"socket",schema:[Bn("dom")]}),DG=X1.optional({factory:{sketch:XI},name:"sidebar",schema:[Bn("dom")]}),ET=X1.optional({factory:{sketch:fG},name:"throbber",schema:[Bn("dom")]}),NG=X1.optional({factory:I4,name:"viewWrapper",schema:[Bn("backstage")]}),RG=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),mB=X1.optional({factory:{sketch:RG},name:"editorContainer",schema:[]});var Br=ic({name:"OuterContainer",factory:SG,configFields:[Bn("dom"),Bn("behaviours")],partFields:[OG,TG,AG,kG,LG,DG,gB,ET,NG,mB],apis:{getSocket:(t,r)=>t.getSocket(r),setSidebar:(t,r,l,d)=>{t.setSidebar(r,l,d)},toggleSidebar:(t,r,l)=>{t.toggleSidebar(r,l)},whichSidebar:(t,r)=>t.whichSidebar(r),getHeader:(t,r)=>t.getHeader(r),getToolbar:(t,r)=>t.getToolbar(r),setToolbar:(t,r,l)=>{t.setToolbar(r,l)},setToolbars:(t,r,l)=>{t.setToolbars(r,l)},refreshToolbar:(t,r)=>t.refreshToolbar(r),toggleToolbarDrawer:(t,r)=>{t.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(t,r)=>{t.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(t,r)=>t.isToolbarDrawerToggled(r),getThrobber:(t,r)=>t.getThrobber(r),setMenubar:(t,r,l)=>{t.setMenubar(r,l)},focusMenubar:(t,r)=>{t.focusMenubar(r)},focusToolbar:(t,r)=>{t.focusToolbar(r)},setViews:(t,r,l)=>{t.setViews(r,l)},toggleView:(t,r,l)=>t.toggleView(r,l),whichView:(t,r)=>t.whichView(r)}});const hB="file edit view insert format tools table help",bB={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},vB=(t,r,l)=>{const d=WD(l).split(/[ ,]/);return{text:t.title,getItems:()=>R(t.items,g=>{const v=g.toLowerCase();return v.trim().length===0?[]:P(d,y=>y===v)?[]:v==="separator"||v==="|"?[{type:"separator"}]:r.menuItems[v]?[r.menuItems[v]]:[]})}},wT=t=>t.split(" "),xB=(t,r)=>{const l={...bB,...r.menus},d=nt(r.menus).length>0,g=r.menubar===void 0||r.menubar===!0?wT(hB):wT(r.menubar===!1?"":r.menubar),v=be(g,D=>{const U=zt(bB,D);return d?U||Rt(r.menus,D).exists(X=>zt(X,"items")):U}),y=H(v,D=>{const U=l[D];return vB({title:U.title,items:wT(U.items)},r,t)});return be(y,D=>{const U=X=>ot(X)||X.type!=="separator";return D.getItems().length>0&&P(D.getItems(),U)})},MG=t=>{const r=()=>{t._skinLoaded=!0,UR(t)};return()=>{t.initialized?r():t.on("init",r)}},yB=(t,r)=>()=>NK(t,{message:r}),IG=t=>{const r=iN(t);return r?f.from(r):f.none()},CB=(t,r,l)=>(t.on("remove",()=>l.unload(r)),l.load(r)),sy=(t,r,l,d)=>(t.on("remove",()=>d.unloadRawCss(r)),d.loadRawCss(r,l)),ST=(t,r)=>"ui/"+t+"/"+r,TT=t=>f.from(tinymce.Resource.get(t)).filter(ot),kT=(t,r,l="")=>{const d=IG(t).map(v=>ST(v,`${r}.css`)),g=d.bind(TT);return Jt(d,g,(v,y)=>({_kind:"load-raw",key:v,css:y})).getOrThunk(()=>{const v=t.editorManager.suffix;return{_kind:"load-stylesheet",url:l+`/${r}${v}.css`}})},BG=(t,r)=>{const l=t.ui.styleSheetLoader,d=kT(t,"skin",r);switch(d._kind){case"load-raw":const{key:g,css:v}=d;return sy(t,g,v,l),Promise.resolve();case"load-stylesheet":const{url:y}=d;return CB(t,y,l);default:return Promise.resolve()}},FG=(t,r)=>{if(da(cn.fromDom(t.getElement()))){const d=Vv.DOM.styleSheetLoader,g=kT(t,"skin.shadowdom",r);switch(g._kind){case"load-raw":const{key:v,css:y}=g;return sy(t,v,y,d),Promise.resolve();case"load-stylesheet":const{url:D}=g;return CB(t,D,d);default:return Promise.resolve()}}else return Promise.resolve()},PG=(t,r,l)=>{const g=kT(t,r?"content.inline":"content",l);switch(g._kind){case"load-raw":const{key:v,css:y}=g;return r?sy(t,v,y,t.ui.styleSheetLoader):t.on("PostRender",()=>{sy(t,v,y,t.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:D}=g;return l&&t.contentCSS.push(D),Promise.resolve();default:return Promise.resolve()}},$G=async(t,r)=>{const l=lN(r);if(await PG(r,t,l),!Vx(r)&&ot(l))return Promise.all([BG(r,l),FG(r,l)]).then()},_B=(t,r)=>$G(t,r).then(MG(r),yB(r,"Skin could not be loaded")),HG=Qo(_B,!1),zG=Qo(_B,!0),EB=t=>({isEnabled:()=>!zo.isDisabled(t),setEnabled:r=>zo.set(t,!r),setText:r=>Jo(t,ud,{text:r}),setIcon:r=>Jo(t,f2,{icon:r})}),wB=t=>({setActive:r=>{Ys.set(t,r)},isActive:()=>Ys.isOn(t),isEnabled:()=>!zo.isDisabled(t),setEnabled:r=>zo.set(t,!r),setText:r=>Jo(t,ud,{text:r}),setIcon:r=>Jo(t,f2,{icon:r})}),ry=(t,r)=>t.map(l=>({"aria-label":r.translate(l)})).getOr({}),AT=_e("focus-button"),w6=(t,r,l,d,g,v,y)=>{const D=r.map(X=>mr(qS(X,"tox-tbtn",g))),U=t.map(X=>mr(ip(X,g.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...ry(l,g),...Eo(y)?{"data-mce-name":y}:{}}},components:h4([U.map(X=>X.asSpec()),D.map(X=>X.asSpec())]),eventOrder:{[rl()]:["focusing","alloy.base.behaviour",o1],[xu()]:[o1,"toolbar-group-button-events"],[Pf()]:[o1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Xn([qi.toolbarButton(()=>g.checkUiComponentContext(v).shouldDisable),Fa(()=>g.checkUiComponentContext(v)),Cs(o1,[Wr((X,ce)=>ZS(X)),xn(ud,(X,ce)=>{D.bind(Se=>Se.getOpt(X)).each(Se=>{ws.set(Se,[Zr(g.translate(ce.event.text))])})}),xn(f2,(X,ce)=>{U.bind(Se=>Se.getOpt(X)).each(Se=>{ws.set(Se,[ip(ce.event.icon,g.icons)])})}),xn(rl(),(X,ce)=>{ce.event.prevent(),Hs(X,AT)})])].concat(d.getOr([])))}},ih=(t,r,l,d,g)=>{const v=r.shared,y=et(lt),D={toolbarButtonBehaviours:[],getApi:EB,onSetup:t.onSetup},U=[Cs("toolbar-group-button-events",[ff(D,y),rp(D,y)]),...t.tooltip.map(X=>wr.config(r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(X)}))).toArray()];return Vm.sketch({lazySink:v.getSink,fetch:()=>Hn.nu(X=>{X(H(l(t.items),ny))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:w6(t.icon,t.text,t.tooltip,f.some(U),v.providers,t.context,g),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:d}}}})},OT=(t,r,l,d)=>{var g;const v=et(lt),y=w6(t.icon,t.text,t.tooltip,f.none(),l,t.context,d);return pl.sketch({dom:y.dom,components:y.components,eventOrder:b6,buttonBehaviours:{...Xn([Cs("toolbar-button-events",[n1({onAction:t.onAction,getApi:r.getApi}),ff(r,v),rp(r,v)]),...t.tooltip.map(D=>wr.config(l.tooltips.getConfig({tooltipText:l.translate(D)+t.shortcut.map(U=>` (${b4(U)})`).getOr("")}))).toArray(),qi.toolbarButton(()=>!t.enabled||l.checkUiComponentContext(t.context).shouldDisable),Fa(()=>l.checkUiComponentContext(t.context))].concat(r.toolbarButtonBehaviours)),[o1]:(g=y.buttonBehaviours)===null||g===void 0?void 0:g[o1]}})},UG=(t,r,l)=>LT(t,r,[],l),LT=(t,r,l,d)=>OT(t,{toolbarButtonBehaviours:l.length>0?[Cs("toolbarButtonWith",l)]:[],getApi:EB,onSetup:t.onSetup},r,d),VG=(t,r,l)=>SB(t,r,[],l),SB=(t,r,l,d)=>OT(t,{toolbarButtonBehaviours:[ws.config({}),Ys.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(l.length>0?[Cs("toolbarToggleButtonWith",l)]:[]),getApi:wB,onSetup:t.onSetup},r,d),WG=(t,r,l)=>d=>Hn.nu(g=>r.fetch(g)).map(g=>f.from(w9(kt(f6(_e("menu-value"),g,v=>{r.onItemAction(t(d),v)},r.columns,r.presets,df.CLOSE_ON_EXECUTE,r.select.getOr(ge),l),{movement:w4(r.columns,r.presets),menuBehaviours:m4.unnamedEvents(r.columns!=="auto"?[]:[Wr((v,y)=>{l9(v,4,Ow(r.presets)).each(({numRows:D,numColumns:U})=>{Ho.setGridSize(v,D,U)})})])})))),KG=(t,r,l)=>d=>{const g=d.getSystem(),v=d.element,y=()=>{const U=Ma(v,"tox-split-button__chevron"),X=U?Eh(v).bind(Se=>g.getByDom(Se).toOptional()):f.some(d),ce=U?f.some(d):k2(v).bind(Se=>g.getByDom(Se).toOptional().filter(He=>Ma(He.element,"tox-split-button__chevron")));return{mainOpt:X,chevronOpt:ce}},D=U=>{const{mainOpt:X,chevronOpt:ce}=y();X.each(U),ce.each(U)};return{isEnabled:()=>{const{mainOpt:U}=y();return U.exists(X=>!zo.isDisabled(X))},setEnabled:U=>D(X=>zo.set(X,!U)),setText:U=>{const{mainOpt:X}=y();X.each(ce=>Jo(ce,ud,{text:U}))},setIcon:U=>{const{mainOpt:X}=y();X.each(ce=>Jo(ce,f2,{icon:U}))},setIconFill:(U,X)=>D(ce=>{pr(ce.element,`svg path[class="${U}"], rect[class="${U}"]`).each(Se=>{ss(Se,"fill",X)})}),isActive:()=>{const{mainOpt:U}=y();return U.exists(X=>Ys.isOn(X))},setActive:U=>{const{mainOpt:X}=y();X.each(ce=>Ys.set(ce,U))},setTooltip:U=>{t.set(U);const{mainOpt:X,chevronOpt:ce}=y();X.each(He=>ss(He.element,"aria-label",r.providers.translate(U)));const Se=l.chevronTooltip.map(He=>r.providers.translate(He)).getOr(r.providers.translate(`${U} menu`));ce.each(He=>ss(He.element,"aria-label",Se))}}},jG=(t,r,l)=>{const d=et(lt),g=et(t.tooltip.getOr("")),v=KG(g,r,t),y=_e("tox-split-menu"),D=et(!1),U=()=>({"aria-haspopup":"menu","aria-expanded":String(D.get()),"aria-controls":y}),X=()=>t.tooltip.map(Je=>r.providers.translate(Je)).getOr(r.providers.translate("Text color")),ce=()=>t.chevronTooltip.map(Je=>r.providers.translate(Je)).getOrThunk(()=>{const Je=X();return r.providers.translate(["{0} menu",Je])}),Se=(Je,vt)=>{D.set(Je),ss(vt.element,"aria-expanded",String(Je))},He=ad.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:AN("chevron-down",r.providers.icons),attributes:{"aria-label":ce(),...Eo(l)?{"data-mce-name":l+"-chevron"}:{},...U()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:Xn([Cs("split-dropdown-events",[Wr((Je,vt)=>ZS(Je)),ff({getApi:v,onSetup:t.onSetup},d),xn("alloy-dropdown-open",Je=>Se(!0,Je)),xn("alloy-dropdown-close",Je=>Se(!1,Je))]),qi.toolbarButton(()=>r.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.providers.checkUiComponentContext(t.context)),Av.config({}),wr.config(r.providers.tooltips.getConfig({tooltipText:ce(),onShow:Je=>{if(g.get()!==t.tooltip.getOr("")){const vt=t.chevronTooltip.map(Lt=>r.providers.translate(Lt)).getOr(`${r.providers.translate(g.get())} menu`);wr.setComponents(Je,r.providers.tooltips.getComponents({tooltipText:vt}))}}}))]),lazySink:r.getSink,fetch:WG(v,t,r.providers),getHotspot:Je=>Eh(Je.element).bind(vt=>Je.getSystem().getByDom(vt).toOptional()),onOpen:(Je,vt,Lt)=>{gr.highlightBy(Lt,_t=>Ma(_t.element,"tox-collection__item--active")),gr.getHighlighted(Lt).each(Ho.focusIn)},parts:{menu:{...a4(!1,t.columns,t.presets),dom:{...a4(!1,t.columns,t.presets).dom,tag:"div",attributes:{id:y}}}}});return[pl.sketch({...w6(t.icon,t.text,f.none(),f.some([Ys.config({toggleClass:"tox-tbtn--enabled",aria:t.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),qi.toolbarButton(()=>r.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.providers.checkUiComponentContext(t.context)),Cs("split-main-aria-events",[]),...t.tooltip.isSome()?[wr.config(r.providers.tooltips.getConfig({tooltipText:r.providers.translate(t.tooltip.getOr("")),onShow:Je=>{if(g.get()!==t.tooltip.getOr("")){const vt=r.providers.translate(g.get());wr.setComponents(Je,r.providers.tooltips.getComponents({tooltipText:vt}))}}}))]:[]]),r.providers,t.context,l),dom:{...w6(t.icon,t.text,f.none(),f.none(),r.providers,t.context,l).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":X(),...Eo(l)?{"data-mce-name":l}:{}}},action:Je=>{if(t.onAction){const vt=v(Je);vt.isEnabled()&&t.onAction(vt)}}}),He]},TB=".tox-toolbar-slider__input,.tox-toolbar-textfield",kB=t=>{oa.getContent(t).each(r=>{pr(r.element,TB).fold(()=>Ho.focusIn(r),hr)})},ZG=t=>za(t.element).each(r=>{Kc(r,'[tabindex="-1"]').each(l=>{hr(l)})}),ay=_e("forward-slide"),iy=_e("backward-slide"),DT=_e("change-slide-event"),NT="tox-pop--resizing",GG=t=>{const r=et([]);return{sketch:oa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:d=>{r.set([]),oa.getContent(d).each(g=>{Ps(g.element,"visibility")}),Vr(d.element,NT),Ps(d.element,"width")},onHide:()=>{r.set([]),t.onHide()},inlineBehaviours:Xn([Cs("context-toolbar-events",[ym(Vh(),(d,g)=>{g.event.raw.propertyName==="width"&&(Vr(d.element,NT),Ps(d.element,"width"))}),xn(DT,(d,g)=>{const v=d.element;Ps(v,"width");const y=ei(v),D=za(d.element).isSome();Ps(v,"left"),Ps(v,"right"),Ps(v,"max-width"),oa.setContent(d,g.event.contents),na(v,NT);const U=ei(v);Mo(v,"transition","none"),oa.reposition(d),Ps(v,"transition"),Mo(v,"width",y+"px"),g.event.focus.fold(()=>{D&&kB(d)},X=>{Xa(Ra(d.element)).fold(()=>hr(X),ce=>{Rs(ce,X)||t.focusElement(X)})}),setTimeout(()=>{Mo(d.element,"width",U+"px")},0)}),xn(ay,(d,g)=>{oa.getContent(d).each(v=>{r.set(r.get().concat([{bar:v,focus:Xa(Ra(d.element))}]))}),Jo(d,DT,{contents:g.event.forwardContents,focus:f.none()})}),xn(iy,(d,g)=>{t.onBack(),Ne(r.get()).each(v=>{r.set(r.get().slice(0,r.get().length-1)),Jo(d,DT,{contents:k(v.bar),focus:v.focus})})})]),Ho.config({mode:"special",onEscape:d=>Ne(r.get()).fold(()=>t.onEscape(),g=>(Hs(d,iy),f.some(!0)))})]),lazySink:()=>zn.value(t.sink)}),inSubtoolbar:()=>r.get().length>0}},qG=(t,r)=>{const l=Sd(o6({type:"button",icon:"chevron-left",tooltip:"Back",onAction:lt}));return LT(l,r.shared.providers,[xn(jS,d=>{Hs(d,iy)})])},B4=(t,r,l)=>wa(l)?t.translate(r):t.translate([r,t.translate(l)]),AB=(t,r)=>{const l=(y,D,U,X)=>{const ce=t.shared.providers.translate(y.title);if(y.type==="separator")return f.some({type:"separator",text:ce});if(y.type==="submenu"){const Se=R(y.getStyleItems(),He=>d(He,D,X));return D===0&&Se.length<=0?f.none():f.some({type:"nestedmenuitem",text:ce,enabled:Se.length>0,getSubmenuItems:()=>R(y.getStyleItems(),He=>d(He,D,X))})}else return f.some({type:"togglemenuitem",text:ce,icon:y.icon,active:y.isSelected(X),enabled:!U,onAction:r.onAction(y),...y.getStylePreview().fold(()=>({}),Se=>({meta:{style:Se}}))})},d=(y,D,U)=>{const X=y.type==="formatter"&&r.isInvalid(y);return D===0?X?[]:l(y,D,!1,U).toArray():l(y,D,X,U).toArray()},g=y=>{const D=r.getCurrentValue(),U=r.shouldHide?0:1;return R(y,X=>d(X,U,D))};return{validateItems:g,getFetch:(y,D)=>(U,X)=>{const ce=D(),Se=g(ce),He=A4(Se,df.CLOSE_ON_EXECUTE,y,{isHorizontalMenu:!1,search:f.none()});X(He)}}},g2=(t,r)=>{const l=r.dataset,d=l.type==="basic"?()=>H(l.data,g=>DI(g,r.isSelectedFor,r.getPreviewFor)):l.getData;return{items:AB(t,r),getStyleItems:d}},F4=(t,r,l,d,g,v)=>{const{items:y,getStyleItems:D}=g2(r,l),U=et(l.tooltip),X=Se=>({getComponent:ht(Se),setTooltip:He=>{const Qe=r.shared.providers.translate(He);ss(Se.element,"aria-label",Qe),U.set(He)}}),ce=Se=>{const He=Qe=>Se.setTooltip(B4(t,d(Qe.value),Qe.value));return t.on(g,He),m9(i2(t,"NodeChange",Qe=>{const Je=Qe.getComponent();l.updateText(Je),zo.set(Qe.getComponent(),!t.selection.isEditable()||D().length===0)})(Se),()=>t.off(g,He))};return P9({context:"mode:design",text:l.icon.isSome()?f.none():l.text,icon:l.icon,ariaLabel:f.some(l.tooltip),tooltip:f.none(),role:f.none(),fetch:y.getFetch(r,D),onSetup:ce,getApi:X,columns:1,presets:"normal",classes:l.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[wr.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(l.tooltip),onShow:Se=>{if(l.tooltip!==U.get()){const He=r.shared.providers.translate(U.get());wr.setComponents(Se,r.shared.providers.tooltips.getComponents({tooltipText:He}))}}})})]},"tox-tbtn",r.shared,v)},YG=t=>H(t,r=>{let l=r,d=r;const g=r.split("=");return g.length>1&&(l=g[0],d=g[1]),{title:l,format:d}}),OB=t=>({type:"basic",data:t});var P4;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(P4||(P4={}));const XG=(t,r)=>r===P4.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),RT=(t,r,l)=>{const d=t.options.get(r);return{type:"basic",data:YG(XG(d,l))}},LB="Align",DB=ht("Alignment {0}"),MT="left",IT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],NB=t=>{const r=()=>M(IT,D=>t.formatter.match(D.format)),l=D=>()=>t.formatter.match(D),d=D=>f.none,g=D=>{const X=r().fold(ht(MT),ce=>ce.title.toLowerCase());Jo(D,f2,{icon:`align-${X}`}),WR(t,{value:X})},v=OB(IT),y=D=>()=>M(IT,U=>U.format===D.format).each(U=>t.execCommand(U.command));return{tooltip:B4(t,DB(),MT),text:f.none(),icon:f.some("align-left"),isSelectedFor:l,getCurrentValue:f.none,getPreviewFor:d,onAction:y,updateText:g,dataset:v,shouldHide:!1,isInvalid:D=>!t.formatter.canApply(D.format)}},JG=(t,r)=>F4(t,r,NB(t),DB,"AlignTextUpdate","align"),QG=(t,r)=>{const l=g2(r,NB(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate(LB),onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},RB=(t,r)=>{const l=r(),d=H(l,g=>g.format);return f.from(t.formatter.closest(d)).bind(g=>M(l,v=>v.format===g))},eq="Blocks",MB=ht("Block {0}"),ly="Paragraph",IB=t=>{const r=v=>()=>t.formatter.match(v),l=v=>()=>{const y=t.formatter.get(v);return y?f.some({tag:y.length>0&&(y[0].inline||y[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(v))}):f.none()},d=v=>{const D=RB(t,()=>g.data).fold(ht(ly),U=>U.title);Jo(v,ud,{text:D}),HK(t,{value:D})},g=RT(t,"block_formats",P4.SemiColon);return{tooltip:B4(t,MB(),ly),text:f.some(ly),icon:f.none(),isSelectedFor:r,getCurrentValue:f.none,getPreviewFor:l,onAction:jR(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:v=>!t.formatter.canApply(v.format)}},tq=(t,r)=>F4(t,r,IB(t),MB,"BlocksTextUpdate","blocks"),nq=(t,r)=>{const l=g2(r,IB(t));t.ui.registry.addNestedMenuItem("blocks",{text:eq,onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},oq="Fonts",BB=ht("Font {0}"),BT="System Font",sq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FT=t=>{const r=t.split(/\s*,\s*/);return H(r,l=>l.replace(/^['"]+|['"]+$/g,""))},FB=(t,r)=>r.length>0&&A(r,l=>t.indexOf(l.toLowerCase())>-1),rq=(t,r)=>{if(t.indexOf("-apple-system")===0||r.length>0){const l=FT(t.toLowerCase());return FB(l,sq)||FB(l,r)}else return!1},PT=t=>{const r=()=>{const U=Je=>Je?FT(Je)[0]:"",X=t.queryCommandValue("FontName"),ce=D.data,Se=X?X.toLowerCase():"",He=aN(t);return{matchOpt:M(ce,Je=>{const vt=Je.format;return vt.toLowerCase()===Se||U(vt).toLowerCase()===U(Se).toLowerCase()}).orThunk(()=>Dn(rq(Se,He),{title:BT,format:Se})),font:X}},l=U=>X=>X.exists(ce=>ce.format===U),d=()=>{const{matchOpt:U}=r();return U},g=U=>()=>f.some({tag:"div",styles:U.indexOf("dings")===-1?{"font-family":U}:{}}),v=U=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,U.format)})},y=U=>{const{matchOpt:X,font:ce}=r(),Se=X.fold(ht(ce),He=>He.title);Jo(U,ud,{text:Se}),zK(t,{value:Se})},D=RT(t,"font_family_formats",P4.SemiColon);return{tooltip:B4(t,BB(),BT),text:f.some(BT),icon:f.none(),isSelectedFor:l,getCurrentValue:d,getPreviewFor:g,onAction:v,updateText:y,dataset:D,shouldHide:!1,isInvalid:ge}},aq=(t,r)=>F4(t,r,PT(t),BB,"FontFamilyTextUpdate","fontfamily"),PB=(t,r)=>{const l=g2(r,PT(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:r.shared.providers.translate(oq),onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})};var S6=tinymce.util.Tools.resolve("tinymce.util.VK");const iq=(t,r,l,d)=>{let g=f.none();const v=Vt=>Vt.map(an=>yo.getValue(an)).getOr(""),y=i2(t,"NodeChange SwitchMode DisabledStateChange",Vt=>{const an=Vt.getComponent();g=f.some(an),l.updateInputValue(an),zo.set(an,!t.selection.isEditable()||Hx(t))}),D=Vt=>({getComponent:ht(Vt)}),U=et(lt),X=_e("custom-number-input-events"),ce=(Vt,an,fn)=>{const uo=v(g),Fn=l.getNewValue(uo,Vt),$n=uo.length-`${Fn}`.length,Nn=g.map(Po=>Po.element.dom.selectionStart-$n),Zo=g.map(Po=>Po.element.dom.selectionEnd-$n);l.onAction(Fn,fn),g.each(Po=>{yo.setValue(Po,Fn),an&&(Nn.each(Zs=>Po.element.dom.selectionStart=Zs),Zo.each(Zs=>Po.element.dom.selectionEnd=Zs))})},Se=(Vt,an)=>ce((fn,uo)=>fn-uo,Vt,an),He=(Vt,an)=>ce((fn,uo)=>fn+uo,Vt,an),Qe=Vt=>Jl(Vt.element).fold(f.none,an=>(hr(an),f.some(!0))),Je=Vt=>pc(Vt.element)?(vl(Vt.element).each(an=>hr(an)),f.some(!0)):f.none(),vt=(Vt,an,fn,uo)=>{const Fn=et(lt),$n=r.shared.providers.translate(fn),Nn=_e("altExecuting"),Zo=i2(t,"NodeChange SwitchMode DisabledStateChange",Zs=>{zo.set(Zs.getComponent(),!t.selection.isEditable()||Hx(t))}),Po=Zs=>{zo.isDisabled(Zs)||Vt(!0)};return pl.sketch({dom:{tag:"button",attributes:{"aria-label":$n,"data-mce-name":an},classes:uo.concat(an)},components:[GS(an,r.shared.providers.icons)],buttonBehaviours:Xn([zo.config({}),wr.config(r.shared.providers.tooltips.getConfig({tooltipText:$n})),Cs(Nn,[ff({onSetup:Zo,getApi:D},Fn),rp({getApi:D},Fn),xn(di(),(Zs,rs)=>{(rs.event.raw.keyCode===S6.SPACEBAR||rs.event.raw.keyCode===S6.ENTER)&&(zo.isDisabled(Zs)||Vt(!1))}),xn(bu(),Po),xn(E1(),Po)])]),eventOrder:{[di()]:[Nn,"keying"],[bu()]:[Nn,"alloy.base.behaviour"],[E1()]:[Nn,"alloy.base.behaviour"],[xu()]:["alloy.base.behaviour",Nn,"tooltipping"],[Pf()]:[Nn,"tooltipping"]}})},Lt=mr(vt(Vt=>Se(!1,Vt),"minus","Decrease font size",[])),_t=mr(vt(Vt=>He(!1,Vt),"plus","Increase font size",[])),$t=mr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[mg.sketch({inputBehaviours:Xn([zo.config({}),Cs(X,[ff({onSetup:y,getApi:D},U),rp({getApi:D},U)]),Cs("input-update-display-text",[xn(ud,(Vt,an)=>{yo.setValue(Vt,an.event.text)}),xn(d8(),Vt=>{l.onAction(yo.getValue(Vt))}),xn(Zu(),Vt=>{l.onAction(yo.getValue(Vt))})]),Ho.config({mode:"special",onEnter:Vt=>(ce(eo,!0,!0),f.some(!0)),onEscape:Qe,onUp:Vt=>(He(!0,!1),f.some(!0)),onDown:Vt=>(Se(!0,!1),f.some(!0)),onLeft:(Vt,an)=>(an.cut(),f.none()),onRight:(Vt,an)=>(an.cut(),f.none())})])})],behaviours:Xn([Es.config({}),Ho.config({mode:"special",onEnter:Je,onSpace:Je,onEscape:Qe}),Cs("input-wrapper-events",[xn(kd(),Vt=>{ee([Lt,_t],an=>{const fn=cn.fromDom(an.get(Vt).element.dom);pc(fn)&&fc(fn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Eo(d)?{"data-mce-name":d}:{}}},components:[Lt.asSpec(),$t.asSpec(),_t.asSpec()],behaviours:Xn([Es.config({}),Ho.config({mode:"flow",focusInside:Sc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Vt=>pc(Vt.element)?f.none():(hr(Vt.element),f.some(!0))})])}},lq="Font sizes",$B=ht("Font size {0}"),m2="12pt",cq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},dq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},uq=(t,r)=>{const l=Math.pow(10,r);return Math.round(t*l)/l},fq=(t,r)=>/[0-9.]+px$/.test(t)?uq(parseInt(t,10)*72/96,r||0)+"pt":Rt(dq,t).getOr(t),pq=t=>Rt(cq,t).getOr(""),HB=t=>{const r=()=>{let U=f.none();const X=D.data,ce=t.queryCommandValue("FontSize");if(ce)for(let Se=3;U.isNone()&&Se>=0;Se--){const He=fq(ce,Se),Qe=pq(He);U=M(X,Je=>Je.format===ce||Je.format===He||Je.format===Qe)}return{matchOpt:U,size:ce}},l=U=>X=>X.exists(ce=>ce.format===U),d=()=>{const{matchOpt:U}=r();return U},g=ht(f.none),v=U=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,U.format)})},y=U=>{const{matchOpt:X,size:ce}=r(),Se=X.fold(ht(ce),He=>He.title);Jo(U,ud,{text:Se}),PK(t,{value:Se})},D=RT(t,"font_size_formats",P4.Space);return{tooltip:B4(t,$B(),m2),text:f.some(m2),icon:f.none(),isSelectedFor:l,getPreviewFor:g,getCurrentValue:d,onAction:v,updateText:y,dataset:D,shouldHide:!1,isInvalid:ge}},gq=(t,r)=>F4(t,r,HB(t),$B,"FontSizeTextUpdate","fontsize"),mq=t=>{var r;const l={step:1};return(r={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&r!==void 0?r:l},$T=16,hq=t=>t>=0,bq=t=>{const r=()=>t.queryCommandValue("FontSize");return{updateInputValue:d=>Jo(d,ud,{text:r()}),onAction:(d,g)=>t.execCommand("FontSize",!1,d,{skip_focus:!g}),getNewValue:(d,g)=>{Ks(d,["unsupportedLength","empty"]);const v=r(),y=Ks(d,["unsupportedLength","empty"]).or(Ks(v,["unsupportedLength","empty"])),D=y.map(He=>He.value).getOr($T),U=aw(t),X=y.map(He=>He.unit).filter(He=>He!=="").getOr(U),ce=g(D,mq(X).step),Se=`${hq(ce)?ce:D}${X}`;return Se!==v&&$K(t,{value:Se}),Se}}},zB=(t,r)=>iq(t,r,bq(t),"fontsizeinput"),UB=(t,r)=>{const l=g2(r,HB(t));t.ui.registry.addNestedMenuItem("fontsize",{text:lq,onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},vq="Formats",VB=t=>wa(t)?"Formats":"Format {0}",WB=(t,r)=>{const l="Formats",d=y=>()=>t.formatter.match(y),g=y=>()=>{const D=t.formatter.get(y);return D!==void 0?f.some({tag:D.length>0&&(D[0].inline||D[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(y))}):f.none()},v=y=>{const D=Se=>TI(Se)?R(Se.items,D):kI(Se)?[{title:Se.title,format:Se.format}]:[],U=R(AZ(t),D),ce=RB(t,ht(U)).fold(ht({title:l,tooltipLabel:""}),Se=>({title:Se.title,tooltipLabel:Se.title}));Jo(y,ud,{text:ce.title}),VR(t,{value:ce.tooltipLabel})};return{tooltip:B4(t,VB(""),""),text:f.some(l),icon:f.none(),isSelectedFor:d,getCurrentValue:f.none,getPreviewFor:g,onAction:jR(t),updateText:v,shouldHide:UD(t),isInvalid:y=>!t.formatter.canApply(y.format),dataset:r}},xq=(t,r)=>{const l={type:"advanced",...r.styles};return F4(t,r,WB(t,l),VB,"StylesTextUpdate","styles")},yq=(t,r)=>{const l={type:"advanced",...r.styles},d=g2(r,WB(t,l));t.ui.registry.addNestedMenuItem("styles",{text:vq,onSetup:Zl(t,()=>d.getStyleItems().length>0),getSubmenuItems:()=>d.items.validateItems(d.getStyleItems())})},Cq=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],$4=(t,r)=>(l,d,g,v)=>{const y=t(l).mapError(D=>Qg(D)).getOrDie();return r(y,d,g,v)},_q={button:$4(o6,(t,r,l,d)=>UG(t,r.shared.providers,d)),togglebutton:$4(dR,(t,r,l,d)=>VG(t,r.shared.providers,d)),menubutton:$4(a9,(t,r,l,d)=>p2(t,"tox-tbtn",r,f.none(),!1,d)),splitbutton:$4(hK,(t,r,l,d)=>jG(t,r.shared,d)),grouptoolbarbutton:$4(CR,(t,r,l,d)=>{const g=l.ui.registry.getAll().buttons,v=D=>T6(l,{buttons:g,toolbar:D,allowToolbarGroups:!1},r,f.none()),y={[f3]:r.shared.header.isPositionedAtTop()?Vf.TopToBottom:Vf.BottomToTop};switch(F0(l)){case Vd.floating:return ih(t,r,v,y,d);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},Eq=(t,r,l,d)=>Rt(_q,t.type).fold(()=>(console.error("skipping button defined by",t),f.none()),g=>f.some(g(t,r,l,d))),KB={styles:xq,fontsize:gq,fontsizeinput:zB,fontfamily:aq,blocks:tq,align:JG,navigateback:qG},wq=t=>{const r=H(Cq,l=>{const d=be(l.items,g=>zt(t,g)||zt(KB,g));return{name:l.name,items:d}});return be(r,l=>l.items.length>0)},cy=t=>{const r=t.split("|");return H(r,l=>({items:l.trim().split(" ")}))},Sq=t=>Yt(t,r=>(zt(r,"name")||zt(r,"label"))&&zt(r,"items")),dy=t=>{const r=t.toolbar,l=t.buttons;return r===!1?[]:r===void 0||r===!0?wq(l):ot(r)?cy(r):Sq(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},uy=(t,r,l,d,g,v)=>Rt(r,l.toLowerCase()).orThunk(()=>v.bind(y=>ct(y,D=>Rt(r,D+l.toLowerCase())))).fold(()=>Rt(KB,l.toLowerCase()).map(y=>y(t,g)),y=>y.type==="grouptoolbarbutton"&&!d?(console.warn(`Ignoring the '${l}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),f.none()):Eq(y,g,t,l.toLowerCase())),T6=(t,r,l,d)=>{const g=dy(r),v=H(g,y=>{const D=R(y.items,U=>U.trim().length===0?[]:uy(t,r.buttons,U,r.allowToolbarGroups,l,d).map(X=>Array.isArray(X)?X:[X]).getOr([]));return{title:f.from(t.translate(y.name)),label:Dn(y.label!==void 0,t.translate(y.label)),items:D}});return be(v,y=>y.items.length>0)},jB=(t,r,l,d)=>{const g=r.mainUi.outerContainer,v=l.toolbar,y=l.buttons;if(Yt(v,ot)){const D=v.map(U=>{const X={toolbar:U,buttons:y,allowToolbarGroups:l.allowToolbarGroups};return T6(t,X,d,f.none())});Br.setToolbars(g,D)}else Br.setToolbar(g,T6(t,l,d,f.none()))},ZB=ca(),Tq=ZB.os.isiOS()&&ZB.os.version.major<=12,kq=(t,r)=>{const{uiMotherships:l}=r,d=t.dom;let g=t.getWin();const v=t.getDoc().documentElement,y=et(Dr(g.innerWidth,g.innerHeight)),D=et(Dr(v.offsetWidth,v.offsetHeight)),U=()=>{const He=y.get();(He.left!==g.innerWidth||He.top!==g.innerHeight)&&(y.set(Dr(g.innerWidth,g.innerHeight)),c6(t))},X=()=>{const He=t.getDoc().documentElement,Qe=D.get();(Qe.left!==He.offsetWidth||Qe.top!==He.offsetHeight)&&(D.set(Dr(He.offsetWidth,He.offsetHeight)),c6(t))},ce=He=>{MK(t,He)};d.bind(g,"resize",U),d.bind(g,"scroll",ce);const Se=xd(cn.fromDom(t.getBody()),"load",X);t.on("hide",()=>{ee(l,He=>{Mo(He.element,"display","none")})}),t.on("show",()=>{ee(l,He=>{Ps(He.element,"display")})}),t.on("NodeChange",X),t.on("remove",()=>{Se.unbind(),d.unbind(g,"resize",U),d.unbind(g,"scroll",ce),g=null})},Aq=(t,r,l)=>{P0(t)&&ll(l.mainUi.mothership.element,l.popupUi.mothership),og(r,l.dialogUi.mothership)};var GB=Object.freeze({__proto__:null,render:(t,r,l,d,g)=>{const{mainUi:v,uiMotherships:y}=r,D=et(0),U=v.outerContainer;HG(t);const X=cn.fromDom(g.targetNode),ce=xl(Ra(X));ll(X,v.mothership),Aq(t,ce,r),t.on("PostRender",()=>{Br.setSidebar(U,l.sidebar,oN(t))}),t.on("SkinLoaded",()=>{jB(t,r,l,d),D.set(t.getWin().innerWidth),Br.setMenubar(U,xB(t,l)),Br.setViews(U,l.views),kq(t,r)});const Se=Br.getSocket(U).getOrDie("Could not find expected socket element");if(Tq){ka(Se.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const vt=Re(()=>{t.dispatch("ScrollContent")},20),Lt=Js(Se.element,"scroll",vt.throttle);t.on("remove",Lt.unbind)}pS(t,r),t.addCommand("ToggleSidebar",(vt,Lt)=>{Br.toggleSidebar(U,Lt),KR(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var vt;return(vt=Br.whichSidebar(U))!==null&&vt!==void 0?vt:""}),t.addCommand("ToggleView",(vt,Lt)=>{if(Br.toggleView(U,Lt)){const _t=U.element;v.mothership.broadcastOn([Kf()],{target:_t}),ee(y,$t=>{$t.broadcastOn([Kf()],{target:_t})}),On(Br.whichView(U))&&(t.focus(),t.nodeChanged(),Br.refreshToolbar(U)),UK(t)}}),t.addQueryValueHandler("ToggleView",()=>{var vt;return(vt=Br.whichView(U))!==null&&vt!==void 0?vt:""});const He=F0(t),Qe=()=>{Br.refreshToolbar(r.mainUi.outerContainer)};(He===Vd.sliding||He===Vd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const vt=t.getWin().innerWidth;vt!==D.get()&&(Qe(),D.set(vt))});const Je={setEnabled:vt=>{i6(r,vt?"setEnabled":"setDisabled")},isEnabled:()=>!zo.isDisabled(U)};return{iframeContainer:Se.element.dom,editorContainer:U.element.dom,api:Je}}});const qB=t=>/^[0-9\.]+(|px)$/i.test(""+t)?f.some(parseInt(""+t,10)):f.none(),fy=t=>Wo(t)?t+"px":t,k6=(t,r,l)=>{const d=r.filter(v=>t<v),g=l.filter(v=>t>v);return d.or(g).getOr(t)},Oq=(t,r)=>{if(typeof r=="number")return f.from(r);const l=/^([0-9.]+)(pt|em|px)$/.exec(r.trim());if(l){const d=l[2],g=Number.parseFloat(l[1]);if(Number.isNaN(g)||g<0)return f.none();if(d==="em")return f.from(g*Number.parseFloat(window.getComputedStyle(t.dom).fontSize));if(d==="pt")return f.from(g*(72/96));if(d==="px")return f.from(g)}return f.none()},YB=t=>{const r=Oq(cn.fromDom(t.targetElm),JE(t)),l=tw(t),d=nw(t);return r.map(g=>k6(g,l,d))},Lq=t=>YB(t).getOr(JE(t)),XB=t=>{const r=QE(t),l=ew(t),d=zx(t);return qB(r).map(g=>k6(g,l,d))},Dq=t=>XB(t).getOr(QE(t)),{ToolbarLocation:zT,ToolbarMode:JB}=n4,A6=40,Nq=(t,r,l,d,g)=>{const{mainUi:v,uiMotherships:y}=l,D=Vv.DOM,U=e4(t),X=t4(t),ce=zx(t).or(XB(t)),Se=d.shared.header,He=Se.isPositionedAtTop,Qe=150,Je=F0(t),vt=Je===JB.sliding||Je===JB.floating,Lt=et(!1),_t=()=>Lt.get()&&!t.removed,$t=Io=>vt?Io.fold(ht(0),Ln=>Ln.components().length>1?qr(Ln.components()[1].element):0):0,Vt=Io=>{switch(ow(t)){case zT.auto:const Ln=Br.getToolbar(v.outerContainer),oo=$t(Ln),ls=qr(Io.element)-oo,Ls=ha(r);if(Ls.y>ls)return"top";{const _s=Ch(r),Cr=Math.max(_s.dom.scrollHeight,qr(_s));return Ls.bottom<Cr-ls||ol().bottom<Ls.bottom-ls?"bottom":"top"}case zT.bottom:return"bottom";case zT.top:default:return"top"}},an=Io=>{g.on(Ln=>{ea.setModes(Ln,[Io]),Se.setDockingMode(Io);const oo=He()?Vf.TopToBottom:Vf.BottomToTop;ss(Ln.element,f3,oo)})},fn=()=>{g.on(Io=>{const Ln=ce.getOrThunk(()=>Gg().width-Va(r).left-10);Mo(Io.element,"max-width",Ln+"px")})},uo=(Io,Ln)=>{g.on(oo=>{const ls=Br.getToolbar(v.outerContainer),Ls=$t(ls),$o=ha(r),_s=Fn(t,v.outerContainer.element),Cr=()=>_s.fold(()=>$o.x,Ai=>{const dc=ha(Ai);return Rs(Ai,gc())?$o.x:$o.x-dc.x}),lr=()=>_s.fold(()=>He()?Math.max($o.y-qr(oo.element)+Ls,0):$o.bottom,Ai=>{var dc;const Fc=ha(Ai),qd=(dc=Ai.dom.scrollTop)!==null&&dc!==void 0?dc:0,r1=Rs(Ai,gc())?Math.max($o.y-qr(oo.element)+Ls,0):$o.y-Fc.y+qd-qr(oo.element)+Ls;return He()?r1:$o.bottom}),Yi=Cr(),cr=Dn(Io,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Ai=>Ai>Qe).map(Ai=>{const dc=Ln.getOr(Ri()),Fc=window.innerWidth-(Yi-dc.left),qd=Math.max(Math.min(Ai,Fc),Qe);return Fc<Ai&&Mo(v.outerContainer.element,"width",qd+"px"),{width:qd+"px"}}).getOr({width:"max-content"}),Ll={position:"absolute",left:Math.round(Yi)+"px",top:lr()+"px"};ka(v.outerContainer.element,{...Ll,...cr})})},Fn=(Io,Ln)=>P0(Io)?y1(Ln):f.none(),$n=()=>{ee(y,Io=>{Io.broadcastOn([Mr()],{})})},Nn=()=>!U&&(Ni(v.outerContainer.element).left+f1(v.outerContainer.element)>=window.innerWidth-A6||er(v.outerContainer.element,"width").isSome())?(Mo(v.outerContainer.element,"position","absolute"),Mo(v.outerContainer.element,"left","0px"),Ps(v.outerContainer.element,"width"),!0):!1,Zo=Io=>{if(!_t())return;U||fn();const Ln=Ri(),oo=U?!1:Nn();if(vt&&Br.refreshToolbar(v.outerContainer),!U){const ls=Ri(),Ls=Dn(Ln.left!==ls.left,Ln);uo(oo,Ls),Ls.each($o=>{tc($o.left,ls.top)})}X&&g.on(Io),$n()},Po=()=>U||!X||!_t()?!1:g.get().exists(Io=>{const Ln=Se.getDockingMode(),oo=Vt(Io);return oo!==Ln?(an(oo),!0):!1});return{isVisible:_t,isPositionedAtTop:He,show:()=>{Lt.set(!0),Mo(v.outerContainer.element,"display","flex"),D.addClass(t.getBody(),"mce-edit-focus"),ee(y,Io=>{Ps(Io.element,"display")}),Po(),P0(t)?Zo(Io=>ea.isDocked(Io)?ea.reset(Io):ea.refresh(Io)):Zo(ea.refresh)},hide:()=>{Lt.set(!1),Mo(v.outerContainer.element,"display","none"),D.removeClass(t.getBody(),"mce-edit-focus"),ee(y,Io=>{Mo(Io.element,"display","none")})},update:Zo,updateMode:()=>{Po()&&Zo(ea.reset)},repositionPopups:$n}},QB=(t,r)=>{const l=ha(t);return{pos:r?l.y:l.bottom,bounds:l}},Rq=(t,r,l,d)=>{const g=et(QB(r,l.isPositionedAtTop())),v=X=>{const{pos:ce,bounds:Se}=QB(r,l.isPositionedAtTop()),{pos:He,bounds:Qe}=g.get(),Je=Se.height!==Qe.height||Se.width!==Qe.width;g.set({pos:ce,bounds:Se}),Je&&c6(t,X),l.isVisible()&&(He!==ce?l.update(ea.reset):Je&&(l.updateMode(),l.repositionPopups()))};d||(t.on("activate",l.show),t.on("deactivate",l.hide)),t.on("SkinLoaded ResizeWindow",()=>l.update(ea.reset)),t.on("NodeChange keydown",X=>{requestAnimationFrame(()=>v(X))});let y=0;const D=gt(()=>l.update(ea.refresh),33);t.on("ScrollWindow",()=>{const X=Ri().left;X!==y&&(y=X,D.throttle()),l.updateMode()}),P0(t)&&t.on("ElementScroll",X=>{l.update(ea.refresh)});const U=qo();U.set(xd(cn.fromDom(t.getBody()),"load",X=>v(X.raw))),t.on("remove",()=>{U.clear()})};var Iq=Object.freeze({__proto__:null,render:(t,r,l,d,g)=>{const{mainUi:v}=r,y=Do(),D=cn.fromDom(g.targetNode),U=Nq(t,D,r,d,y),X=jD(t);zG(t);const ce=()=>{if(y.isSet()){U.show();return}y.set(Br.getHeader(v.outerContainer).getOrDie());const He=dw(t);P0(t)?(ll(D,v.mothership),ll(D,r.popupUi.mothership)):og(He,v.mothership),og(He,r.dialogUi.mothership);const Qe=()=>{jB(t,r,l,d),Br.setMenubar(v.outerContainer,xB(t,l)),U.show(),Rq(t,D,U,X),t.nodeChanged()};X?t.once("SkinLoaded",Qe):Qe()};t.on("show",ce),t.on("hide",U.hide),X||(t.on("focus",ce),t.on("blur",U.hide)),t.on("init",()=>{(t.hasFocus()||X)&&ce()}),pS(t,r);const Se={show:ce,hide:U.hide,setEnabled:He=>{i6(r,He?"setEnabled":"setDisabled")},isEnabled:()=>!zo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:Se}}});const eF=()=>{const t=Do(),r=Do(),l=Do();return{dialogUi:t,popupUi:r,mainUi:l,getUiMotherships:()=>{const v=t.get().map(D=>D.mothership),y=r.get().map(D=>D.mothership);return v.fold(()=>y.toArray(),D=>y.fold(()=>[D],U=>Rs(D.element,U.element)?[D]:[D,U]))},lazyGetInOuterOrDie:(v,y)=>()=>l.get().bind(D=>y(D.outerContainer)).getOrDie(`Could not find ${v} element in OuterContainer`)}},Bq="contexttoolbar-show",tF="contexttoolbar-hide",UT=(t,r,l)=>({setInputEnabled:d=>{!d&&l&&hr(l),zo.set(t,!d)},isInputEnabled:()=>!zo.isDisabled(t),hide:()=>{Hs(t,Kh())},back:()=>{Hs(t,iy)},getValue:()=>r.get().getOrThunk(()=>yo.getValue(t)),setValue:d=>{t.getSystem().isConnected()?yo.setValue(t,d):r.set(d)}}),py=(t,r,l)=>{const g=Xl(t.element).bind(v=>t.getSystem().getByDom(v).toOptional());return UT(g.getOr(t),r,l)},nF=(t,r,l)=>xn(jS,(d,g)=>{const v=t.get(d),y=UT(v,l,d.element);r.onAction(y,g.event.buttonApi)}),O6=(t,r,l,d)=>{const{primary:g,...v}=r.original,y=Sd(o6({...v,type:"button",onAction:lt}));return LT(y,l,[nF(t,r,d)])},oF=(t,r,l,d)=>{const{primary:g,...v}=r.original,y=Sd(dR({...v,type:"togglebutton",onAction:lt}));return SB(y,l,[nF(t,r,d)])},Fq=t=>t.type==="contextformtogglebutton",Pq=(t,r,l,d)=>Fq(r)?oF(t,r,l,d):O6(t,r,l,d),VT=(t,r,l,d)=>{const g=H(r,D=>mr(Pq(t,D,l,d)));return{asSpecs:()=>H(g,D=>D.asSpec()),findPrimary:D=>ct(r,(U,X)=>U.primary?f.from(g[X]).bind(ce=>ce.getOpt(D)).filter(s(zo.isDisabled)):f.none())}},WT=(t,r,l,d)=>{const{width:g,height:v}=t.initValue();let y=QS;const D=_e("ratio-event"),U=Fn=>UT(Fn,d),X=Fn=>Wd(Fn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Fn]},r.icons),ce=()=>!1,Se=t.label.getOr("Constrain proportions"),He=r.translate(Se),Qe=Ca.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":He,"data-mce-name":Se}},components:[X("lock"),X("unlock")],buttonBehaviours:Xn([zo.config({disabled:ce}),Hr.config({}),wr.config(r.tooltips.getConfig({tooltipText:He}))])}),Je=Fn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Fn}),vt=Fn=>Kc(Fn.element,"div.tox-focusable-wrapper").fold(f.none,Nn=>(hr(Nn),f.some(!0))),Lt=Fn=>js.parts.field({factory:mg,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Fn?g:v,inputBehaviours:Xn([zo.config({disabled:ce}),Hr.config({}),Cs("size-input-toolbar-events",[xn(wc(),($n,Nn)=>{Jo($n,D,{isField1:Fn})})]),Ho.config({mode:"special",onEnter:l,onEscape:vt})]),selectOnFocus:!1}),_t=Fn=>({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(Fn))]}),$t=Fn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Fn],behaviours:Xn([Hr.config({}),Es.config({}),Ho.config({mode:"special",onEnter:$n=>pr($n.element,"input").fold(f.none,Zo=>(hr(Zo),f.some(!0)))})])}),Vt=$t(Ca.parts.field1(Je([js.parts.label(_t("Width:")),Lt(!0)]))),an=$t(Ca.parts.field2(Je([js.parts.label(_t("Height:")),Lt(!1)]))),fn=et(lt),uo=[ff({onBeforeSetup:Fn=>pr(Fn.element,"input").each(hr),onSetup:t.onSetup,getApi:U},fn),r6({getApi:U},fn,d)];return Ca.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[Vt,Je([Qe]),an],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Fn,$n,Nn)=>{x6(yo.getValue(Fn)).each(Zo=>{y(Zo).each(Po=>{yo.setValue($n,QM(Po))})})},onInput:Fn=>Hs(Fn,SM),coupledFieldBehaviours:Xn([Es.config({}),Ho.config({mode:"flow",focusInside:Sc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),zo.config({disabled:ce,onDisabled:Fn=>{Ca.getField1(Fn).bind(js.getField).each(zo.disable),Ca.getField2(Fn).bind(js.getField).each(zo.disable),Ca.getLock(Fn).each(zo.disable)},onEnabled:Fn=>{Ca.getField1(Fn).bind(js.getField).each(zo.enable),Ca.getField2(Fn).bind(js.getField).each(zo.enable),Ca.getLock(Fn).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext("mode:design")),Cs("size-input-toolbar-events2",[xn(D,(Fn,$n)=>{const Nn=$n.event.isField1,Zo=Nn?Ca.getField1(Fn):Ca.getField2(Fn),Po=Nn?Ca.getField2(Fn):Ca.getField1(Fn),Zs=Zo.map(yo.getValue).getOr(""),rs=Po.map(yo.getValue).getOr("");y=Gl(Zs,rs)}),xn(SM,Fn=>t.onInput(U(Fn))),...uo])])})},KT=(t,r,l)=>js.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...t.toArray(),r],fieldBehaviours:Xn([zo.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable,onDisabled:d=>{ZG(d),js.getField(d).each(zo.disable)},onEnabled:d=>{js.getField(d).each(zo.enable)}})])}),sF=(t,r,l,d)=>{const g=et(lt),v=U=>py(U,d),y=t.label.map(U=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(U))]})),D=js.parts.field({factory:mg,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(t.min()),max:String(t.max())},data:t.initValue().toString(),fromInputValue:U=>Qs(U).getOr(t.min()),toInputValue:U=>String(U),inputBehaviours:Xn([zo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),Fa(()=>r.checkUiComponentContext("mode:design")),Ho.config({mode:"special",onEnter:l,onLeft:(U,X)=>(X.cut(),f.none()),onRight:(U,X)=>(X.cut(),f.none())}),Cs("slider-events",[ff({onSetup:t.onSetup,getApi:v,onBeforeSetup:Ho.focusIn},g),r6({getApi:v},g,d),xn(Bf(),U=>{t.onInput(v(U))})])])});return KT(y,D,r)},$q=(t,r,l,d)=>{const g=et(lt),v=ce=>py(ce,d),y=t.label.map(ce=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(ce))]})),U={...t.placeholder.map(ce=>({placeholder:r.translate(ce)})).getOr({})},X=js.parts.field({factory:mg,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:U,data:t.initValue(),selectOnFocus:!0,inputBehaviours:Xn([zo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),Fa(()=>r.checkUiComponentContext("mode:design")),Ho.config({mode:"special",onEnter:l,onLeft:(ce,Se)=>(Se.cut(),f.none()),onRight:(ce,Se)=>(Se.cut(),f.none())}),Cs("input-events",[ff({onSetup:t.onSetup,getApi:ce=>Kc(ce.element,".tox-toolbar").bind(He=>pr(He,"button:enabled")).fold(()=>py(ce,d),He=>py(ce,d,He)),onBeforeSetup:Ho.focusIn},g),r6({getApi:v},g,d),xn(Bf(),ce=>{t.onInput(v(ce))})])])});return KT(y,X,r)},lh=(t,r,l)=>{const d=Do(),v=mr(t(l,X=>D.findPrimary(X).orThunk(()=>U.findPrimary(X)).map(ce=>(vm(ce),!0)),d)),y=he(r.commands,X=>X.align==="start"),D=VT(v,y.pass,l,d),U=VT(v,y.fail,l,d);return be([{title:f.none(),label:f.none(),items:D.asSpecs()},{title:f.none(),label:f.none(),items:[v.asSpec()]},{title:f.none(),label:f.none(),items:U.asSpecs()}],X=>X.items.length>0)},L6=(t,r)=>{switch(t.type){case"contextform":return lh(Qo($q,t),t,r);case"contextsliderform":return lh(Qo(sF,t),t,r);case"contextsizeinputform":return lh(Qo(WT,t),t,r)}},ZT={renderContextForm:(t,r,l)=>oy({type:t,uid:_e("context-toolbar"),initGroups:L6(r,l),onEscape:f.none,cyclicKeying:!0,providers:l}),buildInitGroups:L6},gy=(t,r,l)=>r.bottom-t.y>=l&&t.bottom-r.y>=l,rF=t=>{const r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){const l=hp(cn.fromDom(t.startContainer),t.startOffset).element;return(tu(l)?Xl(l):f.some(l)).filter(hl).map(g=>g.dom.getBoundingClientRect()).getOr(r)}else return r},H4=t=>{const r=t.selection.getRng(),l=rF(r);if(t.inline){const d=Ri();return Ka(d.left+l.left,d.top+l.top,l.width,l.height)}else{const d=x1(cn.fromDom(t.getBody()));return Ka(d.x+l.left,d.y+l.top,l.width,l.height)}},aF=(t,r)=>r.filter(l=>nl(l)&&Bu(l)).map(x1).getOrThunk(()=>H4(t)),iF=(t,r,l)=>{const d=Math.max(t.x+l,r.x),g=Math.min(t.right-l,r.right);return{x:d,width:g-d}},GT=(t,r,l,d,g,v)=>{const y=cn.fromDom(t.getContainer()),D=pr(y,".tox-editor-header").getOr(y),U=ha(D),X=U.y>=r.bottom,ce=d&&!X;if(t.inline&&ce)return{y:Math.max(U.bottom+v,l.y),bottom:l.bottom};if(t.inline&&!ce)return{y:l.y,bottom:Math.min(U.y-v,l.bottom)};const Se=g==="line"?ha(y):r;return ce?{y:Math.max(U.bottom+v,l.y),bottom:Math.min(Se.bottom-v,l.bottom)}:{y:Math.max(Se.y+v,l.y),bottom:Math.min(U.y-v,l.bottom)}},lF=(t,r,l,d=0)=>{const g=Gg(window),v=ha(cn.fromDom(t.getContentAreaContainer())),y=Wx(t)||Kx(t)||Gm(t),{x:D,width:U}=iF(v,g,d);if(t.inline&&!y)return Ka(D,g.y,U,g.height);{const X=r.header.isPositionedAtTop(),{y:ce,bottom:Se}=GT(t,v,g,X,l,d);return Ka(D,ce,U,Se-ce)}},D6=12,cF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},dF={maxHeightFunction:bm(),maxWidthFunction:u3()},my=(t,r)=>{const l=t.selection.getRng(),d=hp(cn.fromDom(l.startContainer),l.startOffset);return l.startContainer===l.endContainer&&l.startOffset===l.endOffset-1&&Rs(d.element,r)},uF=(t,r,l)=>{const d=er(t,"position");Mo(t,"position",r);const g=l(t);return d.each(v=>Mo(t,"position",v)),g},fF=t=>t==="node",Hq=(t,r,l,d,g)=>{const v=H4(t),y=d.lastElement().exists(D=>Rs(l,D));if(my(t,l))return y?al:Qc;if(y)return uF(r,d.getMode(),()=>gy(v,ha(r),-20)&&!d.isReposition()?ib:al);{const D=d.getMode()==="fixed"?g.y+Ri().top:g.y,U=qr(r)+D6;return D+U<=v.y?Qc:hm}},zq=(t,r,l,d)=>{const g=U=>(X,ce,Se,He,Qe)=>{const Je=Hq(t,He,U,l,Qe),vt={...X,y:Qe.y,height:Qe.height};return{...Je(vt,ce,Se,He,Qe),alwaysFit:!0}},v=U=>fF(d)?[g(U)]:[];return r?{onLtr:U=>[Ba,jr,Ya,fi,wi,pi].concat(v(U)),onRtl:U=>[Ba,Ya,jr,wi,fi,pi].concat(v(U))}:{onLtr:U=>[pi,Ba,fi,jr,wi,Ya].concat(v(U)),onRtl:U=>[pi,Ba,wi,Ya,fi,jr].concat(v(U))}},Uq=(t,r,l,d)=>r==="line"?{bubble:Xc(D6,0,cF),layouts:{onLtr:()=>[a0],onRtl:()=>[a3]},overrides:dF}:{bubble:Xc(0,D6,cF,1/D6),layouts:zq(t,l,d,r),overrides:dF},qT=(t,r)=>{const l=be(r,v=>v.predicate(t.dom)),{pass:d,fail:g}=he(l,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:g}},pF=t=>{if(t.length<=1)return t;{const r=v=>P(t,y=>y.position===v),l=v=>be(t,y=>y.position===v),d=r("selection"),g=r("node");if(d||g)if(g&&d){const v=l("node"),y=H(l("selection"),D=>({...D,position:"node"}));return v.concat(y)}else return l(d?"selection":"node");else return l("line")}},gF=t=>{if(t.length<=1)return t;{const r=d=>M(t,g=>g.position===d);return r("selection").orThunk(()=>r("node")).orThunk(()=>r("line")).map(d=>d.position).fold(()=>[],d=>be(t,g=>g.position===d))}},mF=(t,r,l)=>{const d=qT(t,r);if(d.contextForms.length>0)return f.some({elem:t,toolbars:[d.contextForms[0]]});{const g=qT(t,l);if(g.contextForms.length>0)return f.some({elem:t,toolbars:[g.contextForms[0]]});if(d.contextToolbars.length>0||g.contextToolbars.length>0){const v=pF(d.contextToolbars.concat(g.contextToolbars));return f.some({elem:t,toolbars:v})}else return f.none()}},hF=(t,r,l)=>t(r)?f.none():Ed(r,d=>{if(hl(d)){const{contextToolbars:g,contextForms:v}=qT(d,l.inNodeScope),y=v.length>0?v:gF(g);return y.length>0?f.some({elem:d,toolbars:y}):f.none()}else return f.none()},t),Vq=(t,r)=>{const l=cn.fromDom(r.getBody()),d=y=>Rs(y,l),g=y=>!d(y)&&!Sa(l,y),v=cn.fromDom(r.selection.getNode());return g(v)?f.none():mF(v,t.inNodeScope,t.inEditorScope).orThunk(()=>hF(d,v,t))},bF=(t,r)=>{const l={},d=[],g=[],v={},y={},D=(ce,Se)=>{const He=Sd(eK(Se));l[ce]=He,He.launch.map(Qe=>{v["form:"+ce]={...Se.launch,type:Qe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(He)}}}),He.scope==="editor"?g.push(He):d.push(He),y[ce]=He},U=(ce,Se)=>{rS(Se).each(He=>{He.launch.isSome()&&(v["toolbar:"+ce]={...Se.launch,type:"button",onAction:()=>{r(He)}}),Se.scope==="editor"?g.push(He):d.push(He),y[ce]=He})},X=nt(t);return ee(X,ce=>{const Se=t[ce];Se.type==="contextform"||Se.type==="contextsliderform"||Se.type==="contextsizeinputform"?D(ce,Se):Se.type==="contexttoolbar"&&U(ce,Se)}),{forms:l,inNodeScope:d,inEditorScope:g,lookupTable:y,formNavigators:v}},hy="tox-pop--transition",Wq=t=>t===S6.ENTER||t===S6.SPACEBAR,lQ=(t,r,l,d)=>{const g=d.backstage,v=g.shared,y=ca().deviceType.isTouch,D=Do(),U=Do(),X=Do(),ce=GG({sink:l,onEscape:()=>(t.focus(),kS(t),f.some(!0)),onHide:()=>{kS(t)},onBack:()=>{VK(t)},focusElement:rs=>{t.getBody().contains(rs.dom)?t.focus():hr(rs)}}),Se=C(ce.sketch),He=()=>{const rs=X.get().getOr("node"),Os=fF(rs)?1:0;return lF(t,v,rs,Os)},Qe=()=>!t.removed&&!(y()&&g.isContextMenuOpen()),Je=rs=>At(Jt(rs,D.get(),Rs),!0),vt=()=>{if(Qe()){const rs=He(),Os=At(X.get(),"node")?aF(t,D.get()):H4(t);return rs.height<=0||!gy(Os,rs,.01)}else return!0},Lt=()=>{D.clear(),U.clear(),X.clear(),oa.hide(Se)},_t=()=>{if(oa.isOpen(Se)){const rs=Se.element;Ps(rs,"display"),vt()?Mo(rs,"display","none"):(U.set(0),oa.reposition(Se))}},$t=rs=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[rs],behaviours:Xn([Ho.config({mode:"acyclic"}),Cs("pop-dialog-wrap-events",[Wr(Os=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Ho.focusIn(Os))}),wu(Os=>{t.shortcuts.remove("ctrl+F9")})])])}),Vt=rs=>{const Os=Fn([rs]);Jo(Se,ay,{forwardContents:$t(Os)})},an=St(()=>bF(r,Vt)),fn=(rs,Os)=>T6(t,{buttons:rs,toolbar:Os.items,allowToolbarGroups:!1},d.backstage,f.some(["form:","toolbar:"])),uo=(rs,Os)=>ZT.buildInitGroups(rs,Os),Fn=rs=>{const{buttons:Os}=t.ui.registry.getAll(),Io=an(),Ln={...Os,...Io.formNavigators},oo=F0(t)===Vd.scrolling?Vd.scrolling:Vd.default,ls=K(H(rs,Ls=>Ls.type==="contexttoolbar"?fn(Ln,sS(Ls)):uo(Ls,v.providers)));return oy({type:oo,uid:_e("context-toolbar"),initGroups:ls,onEscape:f.none,cyclicKeying:!0,providers:v.providers})},$n=(rs,Os)=>{const Io=rs==="node"?v.anchors.node(Os):v.anchors.cursor(),Ln=Uq(t,rs,y(),{lastElement:D.get,isReposition:()=>At(U.get(),0),getMode:()=>ki.getMode(l)});return kt(Io,Ln)},Nn=(rs,Os)=>{if(Zs.cancel(),!Qe())return;const Io=Fn(rs),Ln=rs[0].position,oo=$n(Ln,Os);X.set(Ln),U.set(1);const ls=Se.element;Ps(ls,"display"),Je(Os)||(Vr(ls,hy),ki.reset(l,Se)),oa.showWithinBounds(Se,$t(Io),{anchor:oo,transition:{classes:[hy],mode:"placement"}},()=>f.some(He())),Os.fold(D.clear,D.set),vt()&&Mo(ls,"display","none")},Zo=()=>{Mo(Se.element,"transition","none"),_t(),Ps(Se.element,"transition")};let Po=!1;const Zs=gt(()=>{if(!(!t.hasFocus()||t.removed||Po))if(Ma(Se.element,hy))Zs.throttle();else{const rs=an();Vq(rs,t).fold(Lt,Os=>{Nn(Os.toolbars,f.some(Os.elem))})}},17);t.on("init",()=>{t.on("remove",Lt),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",_t),t.on("click focus SetContent",Zs.throttle),t.on("keyup",rs=>{(!Wq(rs.keyCode)||!ce.inSubtoolbar())&&Zs.throttle()}),t.on(tF,Lt),t.on(Bq,rs=>{const Os=an();Rt(Os.lookupTable,rs.toolbarKey).each(Io=>{Nn([Io],Dn(rs.target!==t,rs.target)),kB(Se)})}),t.on("focusout",rs=>{$x.setEditorTimeout(t,()=>{za(l.element).isNone()&&za(Se.element).isNone()&&!t.hasFocus()&&Lt()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Lt()}),t.on("DisabledStateChange",rs=>{rs.state&&Lt()}),t.on("ExecCommand",({command:rs})=>{rs.toLowerCase()==="toggleview"&&Lt()}),t.on("AfterProgressState",rs=>{rs.state?Lt():t.hasFocus()&&Zs.throttle()}),t.on("dragstart",()=>{Po=!0}),t.on("dragend drop",()=>{Po=!1}),t.on("NodeChange",rs=>{ce.inSubtoolbar()?Zo():za(Se.element).fold(Zs.throttle,lt)})})},Kq=t=>{ee([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{t.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:dd(t,l.cmd),onSetup:h9(t,l.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Zl(t),onAction:dd(t,"JustifyNone")})},vF=(t,r)=>{const l=()=>{const d=r.getOptions(t),g=r.getCurrent(t).map(r.hash),v=Do();return H(d,y=>({type:"togglemenuitem",text:r.display(y),onSetup:D=>{const U=ce=>{ce&&(v.on(Se=>Se.setActive(!1)),v.set(D)),D.setActive(ce)};U(At(g,r.hash(y)));const X=r.watcher(t,y,U);return()=>{v.clear(),X()}},onAction:()=>r.setCurrent(t,y)}))};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:d=>d(l()),onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:l,onSetup:r.onMenuSetup})},jq=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:cN,hash:r=>Xr(r,["fixed","relative","empty"]).getOr(r),display:eo,watcher:(r,l,d)=>r.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:r=>f.from(r.queryCommandValue("LineHeight")),setCurrent:(r,l)=>r.execCommand("LineHeight",!1,l),onToolbarSetup:Zl(t),onMenuSetup:Zl(t)}),Zq=t=>f.from(VD(t)).map(l=>({name:"language",text:"Language",icon:"language",getOptions:ht(l),hash:d=>Go(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,g,v)=>{var y;return d.formatter.formatChanged("lang",v,!1,{value:g.code,customValue:(y=g.customCode)!==null&&y!==void 0?y:null}).unbind},getCurrent:d=>{const g=cn.fromDom(d.selection.getNode());return Wg(g,v=>f.some(v).filter(hl).bind(y=>ai(y,"lang").map(U=>{const X=ai(y,"data-mce-lang").getOrUndefined();return{code:U,customCode:X,title:""}})))},setCurrent:(d,g)=>d.execCommand("Lang",!1,g),onToolbarSetup:d=>{const g=qo();return d.setActive(t.formatter.match("lang",{},void 0,!0)),g.set(t.formatter.formatChanged("lang",d.setActive,!0)),m9(g.clear,Zl(t)(d))},onMenuSetup:Zl(t)})),Gq=t=>{vF(t,jq(t)),Zq(t).each(r=>vF(t,r))},qq=(t,r)=>{QG(t,r),PB(t,r),yq(t,r),nq(t,r),UB(t,r)},Yq=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",r=>t.mode.get()===r),t.ui.registry.addContext("any",a),t.ui.registry.addContext("formatting",r=>t.formatter.canApply(r)),t.ui.registry.addContext("insert",r=>t.schema.isValidChild(t.selection.getNode().tagName,r))},Xq=t=>i2(t,"NodeChange",r=>{r.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),Jq=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Xq(t),onAction:dd(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Zl(t,()=>t.queryCommandState("indent")),onAction:dd(t,"indent")})},Qq=t=>{Jq(t)},xF=(t,r)=>l=>{l.setActive(r.get());const d=g=>{r.set(g.state),l.setActive(g.state)};return t.on("PastePlainTextToggle",d),m9(()=>t.off("PastePlainTextToggle",d),Zl(t)(l))},eY=t=>{const r=et(nN(t)),l=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:l,onSetup:xF(t,r)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:l,onSetup:xF(t,r)})},YT=(t,r)=>()=>{t.execCommand("mceToggleFormat",!1,r)},yF=t=>{kg.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(r,l)=>{t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onSetup:h9(t,r.name),onAction:YT(t,r.name),shortcut:r.shortcut})});for(let r=1;r<=6;r++){const l="h"+r,d=`Access+${r}`;t.ui.registry.addToggleButton(l,{text:l.toUpperCase(),tooltip:"Heading "+r,onSetup:h9(t,l),onAction:YT(t,l),shortcut:d})}},tY=t=>{kg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],r=>{t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:dd(t,r.action),shortcut:r.shortcut,context:r.context})}),kg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],r=>{t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onSetup:Zl(t),onAction:dd(t,r.action)})})},nY=t=>{kg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],r=>{t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:dd(t,r.action),onSetup:h9(t,r.name)})})},oY=t=>{yF(t),tY(t),nY(t)},sY=t=>{kg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],r=>{t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:dd(t,r.action),context:r.context})}),kg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],r=>{t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onSetup:Zl(t),onAction:dd(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Zl(t),onAction:YT(t,"code")})},rY=t=>{oY(t),sY(t)},z4=(t,r)=>i2(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",l=>{l.setEnabled(!t.mode.isReadOnly()&&t.undoManager[r]())}),aY=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:z4(t,"hasUndo"),onAction:dd(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:z4(t,"hasRedo"),onAction:dd(t,"redo")})},iY=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:z4(t,"hasUndo"),onAction:dd(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:z4(t,"hasRedo"),onAction:dd(t,"redo"),shortcut:"Meta+Y"})},XT=t=>{aY(t),iY(t)},CF=t=>i2(t,"VisualAid",r=>{r.setActive(t.hasVisual)}),_F=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:CF(t),onAction:dd(t,"mceToggleVisualAid"),context:"any"})},lY=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:dd(t,"mceToggleVisualAid"),context:"any"})},cY=t=>{lY(t),_F(t)},dY=(t,r)=>{Kq(t),rY(t),qq(t,r),XT(t),MS(t),cY(t),Qq(t),Gq(t),eY(t),Yq(t)},uY=t=>ot(t)?t.split(/[ ,]/):t,EF=t=>r=>r.options.get(t),JT=t=>{const r=t.options.register;r("contextmenu_avoid_overlap",{processor:"string",default:""}),r("contextmenu_never_use_native",{processor:"boolean",default:!1}),r("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:ot(l)||Yt(l,ot)?{value:uY(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},wF=EF("contextmenu_never_use_native"),SF=EF("contextmenu_avoid_overlap"),fY=t=>TF(t).length===0,TF=t=>{const r=t.ui.registry.getAll().contextMenus,l=t.options.get("contextmenu");return t.options.isSet("contextmenu")?l:be(l,d=>zt(r,d))},h2=(t,r)=>({type:"makeshift",x:t,y:r}),pY=(t,r,l)=>h2(t.x+r,t.y+l),QT=t=>t.type==="longpress"||t.type.indexOf("touch")===0,ek=t=>{if(QT(t)){const r=t.touches[0];return h2(r.pageX,r.pageY)}else return h2(t.pageX,t.pageY)},gY=t=>{if(QT(t)){const r=t.touches[0];return h2(r.clientX,r.clientY)}else return h2(t.clientX,t.clientY)},mY=(t,r)=>{const l=Vv.DOM.getPos(t);return pY(r,l.x,l.y)},hY=(t,r)=>r.type==="contextmenu"||r.type==="longpress"?t.inline?ek(r):mY(t.getContentAreaContainer(),gY(r)):kF(t),kF=t=>({type:"selection",root:cn.fromDom(t.selection.getNode())}),bY=t=>({type:"node",node:f.some(cn.fromDom(t.selection.getNode())),root:cn.fromDom(t.getBody())}),tk=(t,r,l)=>{switch(l){case"node":return bY(t);case"point":return hY(t,r);case"selection":return kF(t)}},vY=(t,r,l,d,g,v)=>{const y=l(),D=tk(t,r,v);A4(y,df.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:f.none()}).map(U=>{r.preventDefault(),oa.showMenuAt(g,{anchor:D},{menu:{markers:Xm("normal")},data:U})})},xY={onLtr:()=>[Ba,jr,Ya,fi,wi,pi,Qc,hm,Jc,d3,hn,Eu],onRtl:()=>[Ba,Ya,jr,wi,fi,pi,Qc,hm,hn,Eu,Jc,d3]},yY=12,CY={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},_Y=(t,r)=>{const l=t.selection;if(l.isCollapsed()||r.touches.length<1)return!1;{const d=r.touches[0],g=l.getRng();return Kg(t.getWin(),hc.domRange(g)).exists(y=>y.left<=d.clientX&&y.right>=d.clientX&&y.top<=d.clientY&&y.bottom>=d.clientY)}},EY=t=>{const r=t.selection.getRng(),l=()=>{$x.setEditorTimeout(t,()=>{t.selection.setRng(r)},10),v()};t.once("touchend",l);const d=y=>{y.preventDefault(),y.stopImmediatePropagation()};t.on("mousedown",d,!0);const g=()=>v();t.once("longpresscancel",g);const v=()=>{t.off("touchend",l),t.off("longpresscancel",g),t.off("mousedown",d)}},wY=(t,r,l)=>{const d=tk(t,r,l);return{bubble:Xc(0,l==="point"?yY:0,CY),layouts:xY,overrides:{maxWidthFunction:u3(),maxHeightFunction:bm()},...d}},SY=(t,r,l,d,g,v,y)=>{const D=wY(t,r,v);A4(l,df.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!0,search:f.none()}).map(U=>{r.preventDefault();const X=y?il.HighlightMenuAndItem:il.HighlightNone;oa.showMenuWithinBounds(g,{anchor:D},{menu:{markers:Xm("normal"),highlightOnOpen:X},data:U,type:"horizontal"},()=>f.some(lF(t,d.shared,v==="node"?"node":"selection"))),t.dispatch(tF)})},TY=(t,r,l,d,g,v)=>{const y=ca(),D=y.os.isiOS(),U=y.os.isMacOS(),X=y.os.isAndroid(),ce=y.deviceType.isTouch(),Se=()=>!(X||D||U&&ce),He=()=>{const Qe=l();SY(t,r,Qe,d,g,v,Se())};if((U||D)&&v!=="node"){const Qe=()=>{EY(t),He()};_Y(t,r)?Qe():(t.once("selectionchange",Qe),t.once("touchend",()=>t.off("selectionchange",Qe)))}else He()},AF=t=>ot(t)?t==="|":t.type==="separator",by={type:"separator"},OF=t=>{const r=l=>({text:l.text,icon:l.icon,enabled:l.enabled,shortcut:l.shortcut});if(ot(t))return t;switch(t.type){case"separator":return by;case"submenu":return{type:"nestedmenuitem",...r(t),getSubmenuItems:()=>{const d=t.getSubmenuItems();return ot(d)?d:H(d,OF)}};default:const l=t;return{type:"menuitem",...r(l),onAction:qn(l.onAction)}}},nk=(t,r)=>{if(r.length===0)return t;const d=Ne(t).filter(g=>!AF(g)).fold(()=>[],g=>[by]);return t.concat(d).concat(r).concat([by])},kY=(t,r,l)=>{const d=re(r,(g,v)=>Rt(t,v.toLowerCase()).map(y=>{const D=y.update(l);if(ot(D)&&Ur(Qn(D)))return nk(g,D.split(" "));if(un(D)&&D.length>0){const U=H(D,OF);return nk(g,U)}else return g}).getOrThunk(()=>g.concat([v])),[]);return d.length>0&&AF(d[d.length-1])&&d.pop(),d},AY=(t,r)=>r.ctrlKey&&!wF(t),OY=t=>t.type==="longpress"||zt(t,"touches"),ch=(t,r)=>!OY(r)&&(r.button!==2||r.target===t.getBody()&&r.pointerType===""),ok=(t,r)=>ch(t,r)?t.selection.getStart(!0):r.target,LY=(t,r)=>{const l=SF(t),d=ch(t,r)?"selection":"point";if(Ur(l)){const g=ok(t,r);return _p(cn.fromDom(g),l)?"node":d}else return d},DY=(t,r,l)=>{const g=ca().deviceType.isTouch,v=C(oa.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>t.focus(),onShow:()=>l.setContextMenuState(!0),onHide:()=>l.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Xn([Cs("dismissContextMenu",[xn(Rp(),(U,X)=>{sr.close(U),t.focus()})])])})),y=()=>oa.hide(v),D=U=>{if(wF(t)&&U.preventDefault(),AY(t,U)||fY(t))return;const X=LY(t,U),ce=()=>{const He=ok(t,U),Qe=t.ui.registry.getAll(),Je=TF(t);return kY(Qe.contextMenus,Je,He)};(g()?TY:vY)(t,U,ce,l,v,X)};t.on("init",()=>{const U="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(g()?"":" ResizeWindow");t.on(U,y),t.on("longpress contextmenu",D)})},sk=40,vy=sk/2,LF=(t,r,l,d,g,v)=>t.fold(()=>Pm.snap({sensor:dg(l-vy,d-vy),range:Dr(g,v),output:dg(f.some(l),f.some(d)),extra:{td:r}}),y=>{const D=l-vy,U=d-vy,X=sk,ce=sk,Se=y.element.dom.getBoundingClientRect();return Pm.snap({sensor:dg(D,U),range:Dr(X,ce),output:dg(f.some(l-Se.width/2),f.some(d-Se.height/2)),extra:{td:r}})}),rk=(t,r,l)=>{const d=(g,v)=>g.exists(y=>Rs(y,v));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(g,v)=>{const y=v.td;d(r.get(),y)||(r.set(y),l(y))},mustSnap:!0}},DF=t=>mr(pl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Xn([Pm.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Av.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),NY=(t,r)=>{const l=et([]),d=et([]),g=et(!1),v=Do(),y=Do(),D=Fn=>{const $n=x1(Fn);return LF(Qe.getOpt(r),Fn,$n.x,$n.y,$n.width,$n.height)},U=()=>H(l.get(),Fn=>D(Fn)),X=Fn=>{const $n=x1(Fn);return LF(Je.getOpt(r),Fn,$n.right,$n.bottom,$n.width,$n.height)},ce=()=>H(d.get(),Fn=>X(Fn)),Se=rk(U,v,Fn=>{y.get().each($n=>{t.dispatch("TableSelectorChange",{start:Fn,finish:$n})})}),He=rk(ce,y,Fn=>{v.get().each($n=>{t.dispatch("TableSelectorChange",{start:$n,finish:Fn})})}),Qe=DF(Se),Je=DF(He),vt=C(Qe.asSpec()),Lt=C(Je.asSpec()),_t=(Fn,$n,Nn,Zo)=>{const Po=$n.dom.getBoundingClientRect();Ps(Fn.element,"display");const Zs=Pu(cn.fromDom(t.getBody())).dom.innerHeight,rs=Nn(Po),Os=Zo(Po,Zs);(rs||Os)&&Mo(Fn.element,"display","none")},$t=(Fn,$n,Nn,Zo)=>{const Po=Nn($n);Pm.snapTo(Fn,Po),_t(Fn,$n,Os=>Os[Zo]<0,(Os,Io)=>Os[Zo]>Io)},Vt=Fn=>$t(vt,Fn,D,"top"),an=()=>v.get().each(Vt),fn=Fn=>$t(Lt,Fn,X,"bottom"),uo=()=>y.get().each(fn);if(ca().deviceType.isTouch()){const Fn=$n=>H($n,cn.fromDom);t.on("TableSelectionChange",$n=>{g.get()||(Fd(r,vt),Fd(r,Lt),g.set(!0));const Nn=cn.fromDom($n.start),Zo=cn.fromDom($n.finish);v.set(Nn),y.set(Zo),f.from($n.otherCells).each(Po=>{l.set(Fn(Po.upOrLeftCells)),d.set(Fn(Po.downOrRightCells)),Vt(Nn),fn(Zo)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{an(),uo()}),t.on("TableSelectionClear",()=>{g.get()&&(nf(vt),nf(Lt),g.set(!1)),v.clear(),y.clear()})}};var RY=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const MY=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",IY=(t,r,l)=>{var d;const g=(d=r.delimiter)!==null&&d!==void 0?d:"",v=(X,ce,Se)=>pl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Se}},components:[Zr(X)],action:He=>{t.focus(),t.selection.select(ce),t.nodeChanged()},buttonBehaviours:Xn([wr.config({...l.tooltips.getConfig({tooltipText:l.translate(["Select the {0} element",ce.nodeName.toLowerCase()]),onShow:(He,Qe)=>{Ul(He.element,Qe.element)},onHide:He=>{ja(He.element)}})}),qi.button(l.isDisabled),Fa(()=>l.checkUiComponentContext("any"))])}),y=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Zr(` ${g} `)]}),D=X=>re(X,(ce,Se,He)=>{const Qe=v(Se.name,Se.element,He);return He===0?ce.concat([Qe]):ce.concat([y(),Qe])},[]),U=X=>{const ce=[];let Se=X.length;for(;Se-- >0;){const He=X[Se];if(He.nodeType===1&&!MY(He)){const Qe=BK(t,He);if(Qe.isDefaultPrevented()||ce.push({name:Qe.name,element:He}),Qe.isPropagationStopped())break}}return ce};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Xn([Ho.config({mode:"flow",selector:"div[role=button]"}),zo.config({disabled:l.isDisabled}),Fa(()=>l.checkUiComponentContext("any")),Hr.config({}),ws.config({}),Cs("elementPathEvents",[Wr((X,ce)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Ho.focusIn(X)),t.on("NodeChange",Se=>{const He=U(Se.parents),Qe=He.length>0?D(He):[];ws.set(X,Qe)})})])]),components:[]}};var lp;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(lp||(lp={}));const NF=t=>{const r=cn.fromDom(t.getContainer()),l=qr(r),d=ei(r);return{height:l,width:d}},RF=(t,r,l,d)=>({height:k6(d.height+r.top,tw(t),nw(t)),width:l===lp.Both?k6(d.width+r.left,ew(t),zx(t)):d.width}),MF=(t,r,l)=>{const d=cn.fromDom(t.getContainer()),g=NF(t),v=RF(t,r,l,g);return Me(v,(y,D)=>{Wo(y)&&Mo(d,D,fy(y))}),RK(t),v},BY=t=>{const r=tN(t);return r===!1?lp.None:r==="both"?lp.Both:lp.Vertical},FY=(t,r)=>r===lp.Both?gl.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",t.height,t.width]):gl.translate(["Editor's height: {0} pixels",t.height]),N6=(t,r,l)=>{ss(t.element,"aria-valuetext",FY(r,l))},xy=(t,r,l,d,g)=>{const y=Dr(d*20,g*20),D=MF(t,y,l);return N6(r,D,l),f.some(!0)},PY=(t,r)=>{const l=BY(t);if(l===lp.None)return f.none();const d=l===lp.Both?gl.translate("Press the arrow keys to resize the editor."):gl.translate("Press the Up and Down arrow keys to resize the editor."),g=l===lp.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return f.some(Wd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",g],attributes:{"aria-label":r.translate(d),"data-mce-name":"resize-handle",role:"separator"},behaviours:[Pm.config({mode:"mouse",repositionTarget:!1,onDrag:(v,y,D)=>{const U=MF(t,D,l);N6(v,U,l)},blockerClass:"tox-blocker"}),Ho.config({mode:"special",onLeft:v=>xy(t,v,l,-1,0),onRight:v=>xy(t,v,l,1,0),onUp:v=>xy(t,v,l,0,-1),onDown:v=>xy(t,v,l,0,1)}),Hr.config({}),Es.config({}),wr.config(r.tooltips.getConfig({tooltipText:r.translate("Resize")})),Cs("set-aria-valuetext",[Wr(v=>{const y=()=>{N6(v,NF(t),l)};t._skinLoaded?y():t.once("SkinLoaded",y)})])],eventOrder:{[xu()]:["add-focusable","set-aria-valuetext"]}},r.icons))},$Y=(t,r)=>{const l=(d,g,v)=>ws.set(d,[Zr(r.translate(["{0} "+v,g[v]]))]);return pl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Xn([qi.button(r.isDisabled),Fa(()=>r.checkUiComponentContext("any")),Hr.config({}),ws.config({}),yo.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Cs("wordcount-events",[Wf(d=>{const g=yo.getValue(d),v=g.mode==="words"?"characters":"words";yo.setValue(d,{mode:v,count:g.count}),l(d,g.count,v)}),Wr(d=>{t.on("wordCountUpdate",g=>{const{mode:v}=yo.getValue(d);yo.setValue(d,{mode:v,count:g.wordCount}),l(d,g.wordCount,v)})})])]),eventOrder:{[qc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},HY=(t,r)=>{const l=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",RY.trim()])},behaviours:Xn([Es.config({})])}]}),d=()=>{const D=b4("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Zr(gl.translate(["Press {0} for help",D]))]}},g=()=>{const D=[];return t.hasPlugin("wordcount")&&D.push($Y(t,r)),lw(t)&&D.push(l()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:D}},v=()=>{const D=[],U=rN(t),X=eN(t),ce=lw(t)||t.hasPlugin("wordcount"),Se=()=>{const He="tox-statusbar__text-container--flex-start",Qe="tox-statusbar__text-container--flex-end",Je="tox-statusbar__text-container--space-around";if(U){const vt="tox-statusbar__text-container-3-cols";return!ce&&!X?[vt,Je]:ce&&!X?[vt,Qe]:[vt,He]}return[ce&&!X?Qe:He]};return X&&D.push(IY(t,{},r)),U&&D.push(d()),ce&&D.push(g()),D.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Se()]},components:D}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const D=v(),U=PY(t,r);return D.concat(U.toArray())})()}},IF=(t,r)=>r.get().getOrDie(`UI for ${t} has not been rendered`),zY=(t,r)=>{const l=t.inline,d=l?Iq:GB,g=t4(t)?oG:iQ,v=eF(),y=Do(),D=Do(),U=Do(),He=ca().deviceType.isTouch()?["tox-platform-touch"]:[],Qe=cw(t),Je=F0(t),vt=mr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Lt=mr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),_t=()=>v.mainUi.get().map($o=>$o.outerContainer).bind(Br.getHeader),$t=()=>zn.fromOption(v.dialogUi.get().map($o=>$o.sink),"UI has not been rendered"),Vt=()=>zn.fromOption(v.popupUi.get().map($o=>$o.sink),"(popup) UI has not been rendered"),an=v.lazyGetInOuterOrDie("anchor bar",vt.getOpt),fn=v.lazyGetInOuterOrDie("bottom anchor bar",Lt.getOpt),uo=v.lazyGetInOuterOrDie("toolbar",Br.getToolbar),Fn=v.lazyGetInOuterOrDie("throbber",Br.getThrobber),$n=GZ({popup:Vt,dialog:$t},t,an,fn),Nn=()=>{const $o={attributes:{[f3]:Qe?Vf.BottomToTop:Vf.TopToBottom}},_s=Br.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:$n.popup,onEscape:()=>{t.focus()}}),Cr=Br.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:$n.popup.shared.getSink,providers:$n.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:r1=>{FK(t,r1)},type:Je,lazyToolbar:uo,lazyHeader:()=>_t().getOrDie("Could not find header element"),...$o}),lr=Br.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:$n.popup.shared.providers,onEscape:()=>{t.focus()},type:Je}),Yi=Gm(t),cr=Kx(t),Ll=Wx(t),Ai=sN(t),dc=Zo(Ai),Fc=Yi||cr||Ll,qd=()=>Yi?[lr]:cr?[Cr]:[],Yd=[dc,_s];return Br.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Fc?[]:["tox-editor-header--empty"]),...$o},components:K([Ll?Yd:[],qd(),e4(t)?[]:[vt.asSpec()]]),sticky:t4(t),editor:t,sharedBackstage:$n.popup.shared})},Zo=$o=>Br.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:$o}),Po=()=>{const $o=Br.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),_s=Br.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[$o,_s]}},Zs=()=>{const $o=dw(t),_s=Rs(gc(),$o)&&pa($o,"display")==="grid",Cr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(He),attributes:{...gl.isRtl()?{dir:"rtl"}:{}}},behaviours:Xn([ki.config({useFixed:()=>g.isDocked(_t)})])},lr={dom:{styles:{width:document.body.clientWidth+"px"}},events:Qr([xn(Gh(),Ll=>{Mo(Ll.element,"width",document.body.clientWidth+"px")})])},Yi=C(kt(Cr,_s?lr:{})),cr=Lv(Yi);return D.set(cr),{sink:Yi,mothership:cr}},rs=()=>{const $o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(He),attributes:{...gl.isRtl()?{dir:"rtl"}:{}}},behaviours:Xn([ki.config({useFixed:()=>g.isDocked(_t),getBounds:()=>r.getPopupSinkBounds()})])},_s=C($o),Cr=Lv(_s);return U.set(Cr),{sink:_s,mothership:Cr}},Os=()=>{const $o=Nn(),_s=Po(),Cr=Br.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:$n.popup}),lr=Br.parts.viewWrapper({backstage:$n.popup}),Yi=QD(t)&&!l?f.some(HY(t,$n.popup.shared.providers)):f.none(),cr=K([Qe?[]:[$o],l?[]:[_s],Qe?[$o]:[]]),Ll=Br.parts.editorContainer({components:K([cr,l?[]:[Lt.asSpec()]])}),Ai=uw(t),dc={role:"application",...gl.isRtl()?{dir:"rtl"}:{},...Ai?{"aria-hidden":"true"}:{}},Fc=C(Br.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(l?["tox-tinymce-inline"]:[]).concat(Qe?["tox-tinymce--toolbar-bottom"]:[]).concat(He),styles:{visibility:"hidden",...Ai?{opacity:"0",border:"0"}:{}},attributes:dc},components:[Ll,...l?[]:[lr,...Yi.toArray()],Cr],behaviours:Xn([Fa(()=>$n.popup.shared.providers.checkUiComponentContext("any")),zo.config({disableClass:"tox-tinymce--disabled"}),Ho.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),qd=Lv(Fc);return y.set(qd),{mothership:qd,outerContainer:Fc}},Io=$o=>{const _s=fy(Lq(t)),Cr=fy(Dq(t));return t.inline||(ru("div","width",Cr)&&Mo($o.element,"width",Cr),ru("div","height",_s)?Mo($o.element,"height",_s):Mo($o.element,"height","400px")),_s},Ln=$o=>{t.addShortcut("alt+F9","focus menubar",()=>{Br.focusMenubar($o)}),t.addShortcut("alt+F10","focus toolbar",()=>{Br.focusToolbar($o)}),t.addCommand("ToggleToolbarDrawer",(_s,Cr,lr)=>{Cr!=null&&Cr.skipFocus?(YZ("skipFocus"),Br.toggleToolbarDrawerWithoutFocusing($o)):lr!=null&&lr.skip_focus?Br.toggleToolbarDrawerWithoutFocusing($o):Br.toggleToolbarDrawer($o)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Br.isToolbarDrawerToggled($o)),t.on("blur",()=>{F0(t)===Vd.floating&&Br.isToolbarDrawerToggled($o)&&Br.toggleToolbarDrawerWithoutFocusing($o)})},oo=$o=>{const{mainUi:_s,popupUi:Cr,uiMotherships:lr}=$o;tt(KD(t),(cp,dp)=>{t.ui.registry.addGroupToolbarButton(dp,cp)});const{buttons:Yi,menuItems:cr,contextToolbars:Ll,sidebars:Ai,views:dc}=t.ui.registry.getAll(),Fc=jv(t),qd={menuItems:cr,menus:Gv(t),menubar:sw(t),toolbar:Fc.getOrThunk(()=>Ux(t)),allowToolbarGroups:Je===Vd.floating,buttons:Yi,sidebar:Ai,views:dc};Ln(_s.outerContainer),WI(t,_s.mothership,lr),g.setup(t,$n.popup.shared,_t),dY(t,$n.popup),DY(t,$n.popup.shared.getSink,$n.popup),rG(t),oB(t,Fn,$n.popup.shared),lQ(t,Ll,Cr.sink,{backstage:$n.popup}),NY(t,Cr.sink);const Yd=t.getElement(),r1=Io(_s.outerContainer),U4={targetNode:Yd,height:r1};return d.render(t,$o,qd,$n.popup,U4)},ls=$o=>(U.set($o.mothership),$o),Ls=()=>{const $o=Os(),_s=Zs(),Cr=P0(t)?rs():ls(_s);v.dialogUi.set(_s),v.popupUi.set(Cr),v.mainUi.set($o);const lr={popupUi:Cr,dialogUi:_s,mainUi:$o,uiMotherships:v.getUiMotherships()};return oo(lr)};return{popups:{backstage:$n.popup,getMothership:()=>IF("popups",U)},dialogs:{backstage:$n.dialog,getMothership:()=>IF("dialogs",D)},renderUI:Ls}},BF=t=>{const r=[],l={};return Me(t,(d,g)=>{d.fold(()=>{r.push(g)},v=>{l[g]=v})}),r.length>0?zn.error(r):zn.value(l)},UY=(t,r,l,d)=>{const g=mr(Sr.sketch(v=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:H(t.items,y=>vZ(v,y,r,l,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[g.asSpec()]}],behaviours:Xn([Ho.config({mode:"acyclic",useTabstopAt:s(k4)}),gf.memento(g),Tj(g,{postprocess:v=>BF(v).fold(y=>(console.error(y),{}),eo)}),Cs("dialog-body-panel",[xn(wc(),(v,y)=>{v.getSystem().broadcastOn([R9],{newFocus:f.some(y.event.target)})})])])}},FF=(t,r,l)=>H(t,(d,g)=>{ws.set(l,t[g].view());const v=r.dom.getBoundingClientRect();return ws.set(l,[]),v.height}),PF=t=>we(Le(t,(r,l)=>r>l?-1:r<l?1:0)),VY=(t,r,l)=>{const d=Ch(t).dom,g=Kc(t,".tox-dialog-wrap").getOr(t),v=pa(g,"position")==="fixed";let y;v?y=Math.max(d.clientHeight,window.innerHeight):y=Math.max(d.offsetHeight,d.scrollHeight);const D=qr(r),X=r.dom.offsetLeft>=l.dom.offsetLeft+ei(l)?Math.max(qr(l),D):D,ce=parseInt(pa(t,"margin-top"),10)||0,Se=parseInt(pa(t,"margin-bottom"),10)||0,Qe=qr(t)+ce+Se-X;return y-Qe},R6=(t,r)=>{we(t).each(l=>Q3.showTab(r,l.value))},$F=(t,r)=>{Mo(t,"height",r+"px"),Mo(t,"flex-basis",r+"px")},yy=(t,r,l)=>{Kc(t,'[role="dialog"]').each(d=>{pr(d,'[role="tablist"]').each(g=>{l.get().map(v=>(Mo(r,"height","0"),Mo(r,"flex-basis","0"),Math.min(v,VY(d,r,g)))).each(v=>{$F(r,v)})})})},M6=t=>pr(t,'[role="tabpanel"]'),WY=t=>{const r=Do();return{extraEvents:[Wr(g=>{const v=g.element;M6(v).each(y=>{Mo(y,"visibility","hidden"),g.getSystem().getByDom(y).toOptional().each(D=>{const U=FF(t,y,D);PF(U).fold(r.clear,r.set)}),yy(v,y,r),Ps(y,"visibility"),R6(t,g),requestAnimationFrame(()=>{yy(v,y,r)})})}),xn(Gh(),g=>{const v=g.element;M6(v).each(y=>{yy(v,y,r)})}),xn(kM,(g,v)=>{const y=g.element;M6(y).each(D=>{const U=Xa(Ra(D));Mo(D,"visibility","hidden");const X=er(D,"height").map(He=>parseInt(He,10));Ps(D,"height"),Ps(D,"flex-basis");const ce=D.dom.getBoundingClientRect().height;X.forall(He=>ce>He)?(r.set(ce),yy(y,D,r)):X.each(He=>{$F(D,He)}),Ps(D,"visibility"),U.each(hr)})})],selectFirst:!1}},HF="send-data-to-section",zF="send-data-to-view",KY=(t,r,l,d)=>{const g=et({}),v=ce=>{const Se=yo.getValue(ce),He=BF(Se).getOr({}),Qe=g.get(),Je=kt(Qe,He);g.set(Je)},y=ce=>{const Se=g.get();yo.setValue(ce,Se)},D=et(null),U=H(t.tabs,ce=>({value:ce.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Zr(l.shared.providers.translate(ce.title))],view:()=>[Sr.sketch(Se=>({dom:{tag:"div",classes:["tox-form"]},components:H(ce.items,He=>vZ(Se,He,r,l,d)),formBehaviours:Xn([Ho.config({mode:"acyclic",useTabstopAt:s(k4)}),Cs("TabView.form.events",[Wr(y),wu(v)]),sd.config({channels:Uh([{key:HF,value:{onReceive:v}},{key:zF,value:{onReceive:y}}])})])}))]})),X=WY(U);return Q3.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(ce,Se,He)=>{const Qe=yo.getValue(Se);Jo(ce,TM,{name:Qe,oldName:D.get()}),D.set(Qe)},tabs:U,components:[Q3.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Bx.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Xn([Hr.config({})])}),Q3.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:X.selectFirst,tabSectionBehaviours:Xn([Cs("tabpanel",X.extraEvents),Ho.config({mode:"acyclic"}),yn.config({find:ce=>we(Q3.getViewItems(ce))}),c2(f.none(),ce=>(ce.getSystem().broadcastOn([HF],{}),g.get()),(ce,Se)=>{g.set(Se),ce.getSystem().broadcastOn([zF],{})})])})},UF=(t,r,l,d,g,v)=>{const y=X=>{const ce=X.body;switch(ce.type){case"tabpanel":return[KY(ce,X.initialData,d,v)];default:return[UY(ce,X.initialData,d,v)]}},D=(X,ce)=>f.some({isTabPanel:()=>ce.body.type==="tabpanel"}),U={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...l.map(X=>({id:X})).getOr({}),...g?U:{}}},components:[],behaviours:Xn([gf.childAt(0),Nc.config({channel:`${PM}-${r}`,updateState:D,renderComponents:y,initialData:t})])}},jY=(t,r,l,d,g,v)=>UF(t,r,f.some(l),d,g,v),ZY=(t,r,l,d)=>{const g=UF(t,r,f.none(),l,!1,d);return oi.parts.body(g)},GY=t=>{const r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[IM(f.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Xn([Hr.config({}),Es.config({})])})]}],behaviours:Xn([Ho.config({mode:"acyclic",useTabstopAt:s(k4)})])};return oi.parts.body(r)},qY=Na.deviceType.isTouch(),VF=(t,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}),WF=(t,r)=>oi.parts.close(pl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Xn([Hr.config({})])})),KF=()=>oi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),jF=(t,r)=>oi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Y1(`<p>${SN(r.translate(t))}</p>`)}]}]}),ZF=t=>oi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),GF=(t,r)=>[Jf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Jf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],ak=t=>{const r="tox-dialog",l=r+"-wrap",d=l+"__backdrop",g=r+"__disable-scroll";return oi.sketch({lazySink:t.lazySink,onEscape:v=>(t.onEscape(v),f.some(!0)),useTabstopAt:v=>!k4(v),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[r].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Y1(`<div class="${l}"></div>`),components:[{dom:{tag:"div",classes:qY?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:l,modalBehaviours:Xn([Es.config({}),Cs("dialog-events",t.dialogEvents.concat([ym(wc(),(v,y)=>{Sn.isBlocked(v)?lt():Ho.focusIn(v)}),xn(am(),(v,y)=>{v.getSystem().broadcastOn([R9],{newFocus:y.event.newFocus})})])),Cs("scroll-lock",[Wr(()=>{na(gc(),g)}),wu(()=>{Vr(gc(),g)})]),...t.extraBehaviours]),eventOrder:{[qc()]:["dialog-events"],[xu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Pf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},qF=t=>pl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Xn([Hr.config({}),wr.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Wd("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:r=>{Hs(r,rh)}}),I6=(t,r,l,d)=>{const g=v=>[Zr(d.translate(v.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...l.map(v=>({id:v})).getOr({})}},components:[],behaviours:Xn([Nc.config({channel:`${FM}-${r}`,initialData:t,renderComponents:g})])}},YF=()=>({dom:Y1('<div class="tox-dialog__draghandle"></div>')}),YY=(t,r,l,d)=>Jf.sketch({dom:Y1('<div class="tox-dialog__header"></div>'),components:[I6(t,r,f.some(l),d),YF(),qF(d)],containerBehaviours:Xn([Pm.config({mode:"mouse",blockerClass:"blocker",getTarget:g=>nc(g,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(g,v)=>{g.getSystem().broadcastOn([Mr()],{target:v})}})])}),XY=(t,r,l)=>{const d=oi.parts.title(I6(t,r,f.none(),l)),g=oi.parts.draghandle(YF()),v=oi.parts.close(qF(l)),y=[d].concat(t.draggable?[g]:[]).concat([v]);return Jf.sketch({dom:Y1('<div class="tox-dialog__header"></div>'),components:y})},XF=(t,r,l)=>XY({title:l.shared.providers.translate(t),draggable:l.dialog.isDraggableModal()},r,l.shared.providers),JF=(t,r,l,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":l.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:Y1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),QF=(t,r,l)=>({onClose:()=>l.closeWindow(),onBlock:d=>{const g=pr(t().element,".tox-dialog__header").map(v=>qr(v));oi.setBusy(t(),(v,y)=>JF(d.message,y,r,g))},onUnblock:()=>{oi.setIdle(t())}}),ik="tox-dialog--fullscreen",lk="tox-dialog--width-lg",ck="tox-dialog--width-md",Cy=t=>{switch(t){case"large":return f.some(lk);case"medium":return f.some(ck);default:return f.none()}},eP=(t,r)=>{const l=cn.fromDom(r.element.dom);Ma(l,ik)||(Cl(l,[lk,ck]),Cy(t).each(d=>na(l,d)))},tP=(t,r)=>{const l=cn.fromDom(t.element.dom),d=B2(l),g=M(d,v=>v===lk||v===ck).or(Cy(r));h1(l,[ik,...g.toArray()])},_y=(t,r,l)=>C(ak({...t,firstTabstop:1,lazySink:l.shared.getSink,extraBehaviours:[d2({}),...t.extraBehaviours],onEscape:d=>{Hs(d,rh)},dialogEvents:r,eventOrder:{[Ff()]:[Nc.name(),sd.name()],[xu()]:["scroll-lock",Nc.name(),"messages","dialog-events","alloy.base.behaviour"],[Pf()]:["alloy.base.behaviour","dialog-events","messages",Nc.name(),"scroll-lock"]}})),Ey=(t,r={})=>{const l=d=>{const g=H(d.items,v=>{const y=Rt(r,v.name).getOr(et(!1));return{...v,storage:y}});return{...d,items:g}};return H(t,d=>d.type==="menu"?l(d):d)},nP=t=>re(t,(r,l)=>l.type==="menu"?re(l.items,(g,v)=>(g[v.name]=v.storage,g),r):r,{}),oP=(t,r)=>[zp(wc(),Pj),t(m6,(l,d,g,v)=>{pc(v.element)&&Xa(Ra(v.element)).each(fc),r.onClose(),d.onClose()}),t(rh,(l,d,g,v)=>{d.onCancel(l),Hs(v,m6)}),xn(FS,(l,d)=>r.onUnblock()),xn(T9,(l,d)=>r.onBlock(d.event))],JY=(t,r)=>{const l=(g,v)=>xn(g,(y,D)=>{d(y,(U,X)=>{v(t(),U,D.event,y)})}),d=(g,v)=>{Nc.getState(g).get().each(y=>{v(y,g)})};return[...oP(l,r),l(pf,(g,v,y)=>{v.onAction(g,{name:y.name})})]},sP=(t,r,l)=>{const d=(v,y)=>xn(v,(D,U)=>{g(D,(X,ce)=>{y(t(),X,U.event,D)})}),g=(v,y)=>{Nc.getState(v).get().each(D=>{y(D.internalDialog,v)})};return[...oP(d,r),d(T4,(v,y)=>y.onSubmit(v)),d(Bc,(v,y,D)=>{y.onChange(v,{name:D.name})}),d(pf,(v,y,D,U)=>{const X=()=>U.getSystem().isConnected()?Ho.focusIn(U):void 0,ce=Qe=>ii(Qe,"disabled")||ai(Qe,"aria-disabled").exists(Je=>Je==="true"),Se=Ra(U.element),He=Xa(Se);y.onAction(v,{name:D.name,value:D.value}),Xa(Se).fold(X,Qe=>{ce(Qe)||He.exists(Je=>Sa(Qe,Je)&&ce(Je))?X():l().toOptional().filter(Je=>!Sa(Je.element,Qe)).each(X)})}),d(TM,(v,y,D)=>{y.onTabChange(v,{newTabName:D.name,oldTabName:D.oldName})}),wu(v=>{const y=t();yo.setValue(v,y.getData())})]},QY=(t,r)=>y6(t,t.type,r),eX=(t,r,l)=>M(r,d=>d.name===l).bind(d=>d.memento.getOpt(t)),tX=(t,r)=>{const l=r.map(D=>D.footerButtons).getOr([]),d=he(l,D=>D.align==="start"),g=(D,U)=>Jf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${D}`]},components:H(U,X=>X.memento.asSpec())}),v=g("start",d.pass),y=g("end",d.fail);return[v,y]},rP=(t,r,l)=>{const d=(g,v)=>{const y=H(v.buttons,U=>{const X=mr(QY(U,l));return{name:U.name,align:U.align,memento:X}}),D=U=>eX(g,y,U);return f.some({lookupByName:D,footerButtons:y})};return{dom:Y1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Xn([Nc.config({channel:`${$M}-${r}`,initialData:t,updateState:d,renderComponents:tX})])}},nX=(t,r,l)=>rP(t,r,l),aP=(t,r,l)=>oi.parts.footer(rP(t,r,l)),wy=(t,r)=>{if(t.getRoot().getSystem().isConnected()){const d=yn.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Sr.getField(d,r).orThunk(()=>t.getFooter().bind(y=>Nc.getState(y).get()).bind(y=>y.lookupByName(r)))}else return f.none()},oX=(t,r)=>{const l=t.getRoot();return Nc.getState(l).get().map(d=>Sd(ra("data",d.dataValidator,r))).getOr(r)},iP=(t,r,l)=>{const d=Je=>{const vt=t.getRoot();vt.getSystem().isConnected()&&Je(vt)},Qe={getData:()=>{const Je=t.getRoot(),vt=Je.getSystem().isConnected()?t.getFormWrapper():Je,Lt=yo.getValue(vt),_t=tt(l,$t=>$t.get());return{...Lt,..._t}},setData:Je=>{d(vt=>{const Lt=Qe.getData(),_t=kt(Lt,Je),$t=oX(t,_t),Vt=t.getFormWrapper();yo.setValue(Vt,$t),Me(l,(an,fn)=>{zt(_t,fn)&&an.set(_t[fn])})})},setEnabled:(Je,vt)=>{wy(t,Je).each(vt?zo.enable:zo.disable)},focus:Je=>{wy(t,Je).each(Es.focus)},block:Je=>{if(!ot(Je))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(vt=>{Jo(vt,T9,{message:Je})})},unblock:()=>{d(Je=>{Hs(Je,FS)})},showTab:Je=>{d(vt=>{const Lt=t.getBody();Nc.getState(Lt).get().exists($t=>$t.isTabPanel())&&yn.getCurrent(Lt).each($t=>{Q3.showTab($t,Je)})})},redial:Je=>{d(vt=>{const Lt=t.getId(),_t=r(Je),$t=Ey(_t.internalDialog.buttons,l);vt.getSystem().broadcastOn([`${N9}-${Lt}`],_t),vt.getSystem().broadcastOn([`${FM}-${Lt}`],_t.internalDialog),vt.getSystem().broadcastOn([`${PM}-${Lt}`],_t.internalDialog),vt.getSystem().broadcastOn([`${$M}-${Lt}`],{..._t.internalDialog,buttons:$t}),Qe.setData(_t.initialData)})},close:()=>{d(Je=>{Hs(Je,m6)})},toggleFullscreen:t.toggleFullscreen};return Qe},sX=(t,r,l)=>{const d=_e("dialog"),g=t.internalDialog,v=XF(g.title,d,l),y=et(g.size),D=Vt=>wy(_t,Vt),U=Cy(y.get()).toArray(),X=(Vt,an)=>(y.set(an.internalDialog.size),eP(an.internalDialog.size,Vt),f.some(an)),ce=ZY({body:g.body,initialData:g.initialData},d,l,D),Se=Ey(g.buttons),He=nP(Se),Qe=Dn(Se.length!==0,aP({buttons:Se},d,l)),Je=sP(()=>$t,QF(()=>Lt,l.shared.providers,r),l.shared.getSink),vt={id:d,header:v,body:ce,footer:Qe,extraClasses:U,extraBehaviours:[Nc.config({channel:`${N9}-${d}`,updateState:X,initialData:t})],extraStyles:{}},Lt=_y(vt,Je,l),_t=(()=>{const Vt=()=>{const fn=oi.getBody(Lt);return yn.getCurrent(fn).getOr(fn)},an=()=>{tP(Lt,y.get())};return{getId:ht(d),getRoot:ht(Lt),getBody:()=>oi.getBody(Lt),getFooter:()=>oi.getFooter(Lt),getFormWrapper:Vt,toggleFullscreen:an}})(),$t=iP(_t,r.redial,He);return{dialog:Lt,instanceApi:$t}},dk=(t,r,l,d=!1,g)=>{const v=_e("dialog"),y=_e("dialog-label"),D=_e("dialog-content"),U=t.internalDialog,X=Nn=>wy(Fn,Nn),ce=et(U.size),Se=Cy(ce.get()).toArray(),He=(Nn,Zo)=>(ce.set(Zo.internalDialog.size),eP(Zo.internalDialog.size,Nn),g(),f.some(Zo)),Qe=mr(YY({title:U.title,draggable:!0},v,y,l.shared.providers)),Je=mr(jY({body:U.body,initialData:U.initialData},v,D,l,d,X)),vt=Ey(U.buttons),Lt=nP(vt),_t=Dn(vt.length!==0,mr(nX({buttons:vt},v,l))),$t=sP(()=>$n,{onBlock:Nn=>{Sn.block(fn,(Zo,Po)=>{const Zs=Qe.getOpt(fn).map(rs=>qr(rs.element));return JF(Nn.message,Po,l.shared.providers,Zs)})},onUnblock:()=>{Sn.unblock(fn)},onClose:()=>r.closeWindow()},l.shared.getSink),Vt="tox-dialog-inline",an=ca().os,fn=C({dom:{tag:"div",classes:["tox-dialog",Vt,...Se],attributes:{role:"dialog",...an.isMacOS()?{"aria-label":U.title}:{"aria-labelledby":y}}},eventOrder:{[Ff()]:[Nc.name(),sd.name()],[qc()]:["execute-on-form"],[xu()]:["reflecting","execute-on-form"]},behaviours:Xn([Ho.config({mode:"cyclic",onEscape:Nn=>(Hs(Nn,m6),f.some(!0)),useTabstopAt:Nn=>!k4(Nn)&&(el(Nn)!=="button"||Ua(Nn,"disabled")!=="disabled"),firstTabstop:1}),Nc.config({channel:`${N9}-${v}`,updateState:He,initialData:t}),Es.config({}),Cs("execute-on-form",$t.concat([ym(wc(),(Nn,Zo)=>{Ho.focusIn(Nn)}),xn(am(),(Nn,Zo)=>{Nn.getSystem().broadcastOn([R9],{newFocus:Zo.event.newFocus})})])),Sn.config({getRoot:()=>f.some(fn)}),ws.config({}),d2({})]),components:[Qe.asSpec(),Je.asSpec(),..._t.map(Nn=>Nn.asSpec()).toArray()]}),uo=()=>{tP(fn,ce.get())},Fn={getId:ht(v),getRoot:ht(fn),getFooter:()=>_t.map(Nn=>Nn.get(fn)),getBody:()=>Je.get(fn),getFormWrapper:()=>{const Nn=Je.get(fn);return yn.getCurrent(Nn).getOr(Nn)},toggleFullscreen:uo},$n=iP(Fn,r.redial,Lt);return{dialog:fn,instanceApi:$n}};var uk=tinymce.util.Tools.resolve("tinymce.util.URI");const rX=t=>{const r=y=>{t.getSystem().isConnected()&&y(t)};return{block:y=>{if(!ot(y))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(D=>{Jo(D,T9,{message:y})})},unblock:()=>{r(y=>{Hs(y,FS)})},close:()=>{r(y=>{Hs(y,m6)})},sendMessage:y=>{r(D=>{D.getSystem().broadcastOn([HM],y)})}}},aX=["insertContent","setContent","execCommand","close","block","unblock"],lP=t=>Mt(t)&&aX.indexOf(t.mceAction)!==-1,iX=t=>!lP(t)&&Mt(t)&&zt(t,"mceAction"),lX=(t,r,l)=>{switch(l.mceAction){case"insertContent":t.insertContent(l.content);break;case"setContent":t.setContent(l.content);break;case"execCommand":const d=xe(l.ui)?l.ui:!1;t.execCommand(l.cmd,d,l.value);break;case"close":r.close();break;case"block":r.block(l.message);break;case"unblock":r.unblock();break}},cX=(t,r,l,d)=>{const g=_e("dialog"),v=XF(t.title,g,d),y=GY(t),D=t.buttons.bind(Vt=>Vt.length===0?f.none():f.some(aP({buttons:Vt},g,d))),U=JY(()=>$t,QF(()=>_t,d.shared.providers,r)),X={...t.height.fold(()=>({}),Vt=>({height:Vt+"px","max-height":Vt+"px"})),...t.width.fold(()=>({}),Vt=>({width:Vt+"px","max-width":Vt+"px"}))},ce=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],Se=new uk(t.url,{base_uri:new uk(window.location.href)}),He=`${Se.protocol}://${Se.host}${Se.port?":"+Se.port:""}`,Qe=qo(),Je=(Vt,an)=>f.some(an),vt=[Nc.config({channel:`${N9}-${g}`,updateState:Je,initialData:t}),Cs("messages",[Wr(()=>{const Vt=Js(cn.fromDom(window),"message",an=>{if(Se.isSameOrigin(new uk(an.raw.origin))){const fn=an.raw.data;lP(fn)?lX(l,$t,fn):iX(fn)&&t.onMessage($t,fn)}});Qe.set(Vt)}),wu(Qe.clear)]),sd.config({channels:{[HM]:{onReceive:(Vt,an)=>{pr(Vt.element,"iframe").each(fn=>{const uo=fn.dom.contentWindow;Eo(uo)&&uo.postMessage(an,He)})}}}})],_t=_y({id:g,header:v,body:y,footer:D,extraClasses:ce,extraBehaviours:vt,extraStyles:X},U,d),$t=rX(_t);return{dialog:_t,instanceApi:$t}},dX=t=>{const r=t.shared;return{open:(d,g)=>{const v=()=>{oi.hide(X),g()},y=mr(y6({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:f.some("primary"),align:"end",enabled:!0,icon:f.none()},"cancel",t)),D=KF(),U=WF(v,r.providers),X=C(ak({lazySink:()=>r.getSink(),header:VF(D,U),body:jF(d,r.providers),footer:f.some(ZF(GF([],[y.asSpec()]))),onEscape:v,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xn(rh,v)],eventOrder:{}}));oi.show(X);const ce=y.get(X);Es.focus(ce)}}},cP=t=>{const r=t.shared;return{open:(d,g)=>{const v=He=>{oi.hide(ce),g(He)},y=mr(y6({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:f.some("primary"),align:"end",enabled:!0,icon:f.none()},"submit",t)),D=y6({context:"any",name:"no",text:"No",primary:!1,buttonType:f.some("secondary"),align:"end",enabled:!0,icon:f.none()},"cancel",t),U=KF(),X=WF(()=>v(!1),r.providers),ce=C(ak({lazySink:()=>r.getSink(),header:VF(U,X),body:jF(d,r.providers),footer:f.some(ZF(GF([],[D,y.asSpec()]))),onEscape:()=>v(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xn(rh,()=>v(!1)),xn(T4,()=>v(!0))],eventOrder:{}}));oi.show(ce);const Se=y.get(ce);Es.focus(Se)}}},fk=(t,r)=>Sd(ra("data",r,t)),dP=t=>_p(t,".tox-alert-dialog")||_p(t,".tox-confirm-dialog"),pk=(t,r,l,d)=>r&&l?[]:[ea.config({contextual:{lazyContext:()=>f.some(ha(cn.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:d},modes:["top"],lazyViewport:g=>qm(t,g.element).map(y=>({bounds:$0(y),optScrollEnv:f.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Ni(y.element).top})})).getOrThunk(()=>({bounds:ol(),optScrollEnv:f.none()}))})],B6=t=>{const r=t.editor,l=t4(r),d=dX(t.backstages.dialog),g=cP(t.backstages.dialog),v=(Je,vt,Lt)=>{if(!Go(vt)){if(vt.inline==="toolbar")return X(Je,t.backstages.popup.shared.anchors.inlineDialog(),Lt,vt);if(vt.inline==="bottom")return ce(Je,t.backstages.popup.shared.anchors.inlineBottomDialog(),Lt,vt);if(vt.inline==="cursor")return X(Je,t.backstages.popup.shared.anchors.cursor(),Lt,vt)}return U(Je,Lt)},y=(Je,vt)=>D(Je,vt),D=(Je,vt)=>{const Lt=_t=>{const $t=cX(_t,{closeWindow:()=>{oi.hide($t.dialog),vt($t.instanceApi)}},r,t.backstages.dialog);return oi.show($t.dialog),$t.instanceApi};return J0.openUrl(Lt,Je)},U=(Je,vt)=>{const Lt=(_t,$t,Vt)=>{const an=$t,uo=sX({dataValidator:Vt,initialData:an,internalDialog:_t},{redial:J0.redial,closeWindow:()=>{oi.hide(uo.dialog),vt(uo.instanceApi)}},t.backstages.dialog);return oi.show(uo.dialog),uo.instanceApi.setData(an),uo.instanceApi};return J0.open(Lt,Je)},X=(Je,vt,Lt,_t)=>{const $t=(Vt,an,fn)=>{const uo=fk(an,fn),Fn=Do(),$n=t.backstages.popup.shared.header.isPositionedAtTop(),Nn={dataValidator:fn,initialData:uo,internalDialog:Vt},Zo=()=>Fn.on(Ln=>{oa.reposition(Ln),(!l||!$n)&&ea.refresh(Ln)}),Po=dk(Nn,{redial:J0.redial,closeWindow:()=>{Fn.on(oa.hide),r.off("ResizeEditor",Zo),r.off("ScrollWindow",Zs),Fn.clear(),Lt(Po.instanceApi)}},t.backstages.popup,_t.ariaAttrs,Zo),Zs=()=>Po.dialog.getSystem().broadcastOn([Mr()],{target:Po.dialog.element}),rs=()=>Po.dialog.getSystem().broadcastOn([Kf()],{target:Po.dialog.element}),Os=C(oa.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:_t.persistent?{event:"doNotDismissYet"}:{},...$n?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Xn([Cs("window-manager-inline-events",[xn(Rp(),(Ln,oo)=>{Hs(Po.dialog,rh)})]),...pk(r,l,$n,rs)]),isExtraPart:(Ln,oo)=>dP(oo)}));Fn.set(Os);const Io=()=>{const Ln=r.inline?gc():cn.fromDom(r.getContainer()),oo=ha(Ln);return f.some(oo)};return oa.showWithinBounds(Os,k(Po.dialog),{anchor:vt},Io),(!l||!$n)&&(ea.refresh(Os),r.on("ResizeEditor",Zo)),r.on("ScrollWindow",Zs),Po.instanceApi.setData(uo),Ho.focusIn(Po.dialog),Po.instanceApi};return J0.open($t,Je)},ce=(Je,vt,Lt,_t)=>{const $t=(Vt,an,fn)=>{const uo=fk(an,fn),Fn=Do(),$n=t.backstages.popup.shared.header.isPositionedAtTop(),Nn={dataValidator:fn,initialData:uo,internalDialog:Vt},Zo=()=>Fn.on(Os=>{oa.reposition(Os),ea.refresh(Os)}),Po=dk(Nn,{redial:J0.redial,closeWindow:()=>{Fn.on(oa.hide),r.off("ResizeEditor ScrollWindow ElementScroll",Zo),Fn.clear(),Lt(Po.instanceApi)}},t.backstages.popup,_t.ariaAttrs,Zo),Zs=C(oa.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:_t.persistent?{event:"doNotDismissYet"}:{},...$n?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Xn([Cs("window-manager-inline-events",[xn(Rp(),(Os,Io)=>{Hs(Po.dialog,rh)})]),ea.config({contextual:{lazyContext:()=>f.some(ha(cn.fromDom(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Os=>qm(r,Os.element).map(Ln=>({bounds:$0(Ln),optScrollEnv:f.some({currentScrollTop:Ln.element.dom.scrollTop,scrollElmTop:Ni(Ln.element).top})})).getOrThunk(()=>({bounds:ol(),optScrollEnv:f.none()}))})]),isExtraPart:(Os,Io)=>dP(Io)}));Fn.set(Zs);const rs=()=>t.backstages.popup.shared.getSink().toOptional().bind(Os=>{const Io=qm(r,Os.element),Ln=15,oo=Io.map($o=>$0($o)).getOr(ol()),ls=ha(cn.fromDom(r.getContentAreaContainer())),Ls=Sp(ls,oo);return f.some(Ka(Ls.x,Ls.y,Ls.width,Ls.height-Ln))});return oa.showWithinBounds(Zs,k(Po.dialog),{anchor:vt},rs),ea.refresh(Zs),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Zo),Po.instanceApi.setData(uo),Ho.focusIn(Po.dialog),Po.instanceApi};return J0.open($t,Je)};return{open:v,openUrl:y,alert:(Je,vt)=>{d.open(Je,vt)},close:Je=>{Je.close()},confirm:(Je,vt)=>{g.open(Je,vt)}}},gk=t=>{PD(t),GK(t),JT(t)};var Sy=()=>{tp.add("silver",t=>{gk(t);let r=()=>ol();const{dialogs:l,popups:d,renderUI:g}=zY(t,{getPopupSinkBounds:()=>r()}),v=()=>{const ce=g();return qm(t,d.getMothership().element).each(He=>{r=()=>$0(He)}),ce};Cj.register(t,d.backstage.shared);const y=B6({editor:t,backstages:{popup:d.backstage,dialog:l.backstage}}),D=Do(),U=()=>mV(t,{backstage:d.backstage},d.getMothership(),D),X=()=>pr(cn.fromDom(t.getContainer()),".tox-promotion").map(ce=>ce.dom).getOrNull();return{renderUI:v,getWindowManagerImpl:ht(y),getNotificationManagerImpl:U,getPromotionElement:X}})};Sy()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.ModelManager");const I=(u,m,C)=>{var k;return C(u,m.prototype)?!0:((k=u.constructor)===null||k===void 0?void 0:k.name)===m.name},x=u=>{const m=typeof u;return u===null?"null":m==="object"&&Array.isArray(u)?"array":m==="object"&&I(u,String,(C,k)=>k.isPrototypeOf(C))?"string":m},de=u=>m=>x(m)===u,Ae=u=>m=>typeof m===u,Ie=u=>m=>u===m,Ke=de("string"),ot=de("object"),Mt=de("array"),Oe=Ie(null),un=Ae("boolean"),On=Ie(void 0),xe=u=>u==null,Go=u=>!xe(u),Co=Ae("function"),Eo=Ae("number"),jt=()=>{},Wo=(u,m)=>(...C)=>u(m.apply(null,C)),Yt=(u,m)=>C=>u(m(C)),lt=u=>()=>u,qn=u=>u,fs=(u,m)=>u===m;function _o(u,...m){return(...C)=>{const k=m.concat(C);return u.apply(null,k)}}const ht=u=>m=>!u(m),eo=u=>()=>{throw new Error(u)},ks=u=>u(),Qo=lt(!1),s=lt(!0);class b{constructor(m,C){this.tag=m,this.value=C}static some(m){return new b(!0,m)}static none(){return b.singletonNone}fold(m,C){return this.tag?C(this.value):m()}isSome(){return this.tag}isNone(){return!this.tag}map(m){return this.tag?b.some(m(this.value)):b.none()}bind(m){return this.tag?m(this.value):b.none()}exists(m){return this.tag&&m(this.value)}forall(m){return!this.tag||m(this.value)}filter(m){return!this.tag||m(this.value)?this:b.none()}getOr(m){return this.tag?this.value:m}or(m){return this.tag?this:m}getOrThunk(m){return this.tag?this.value:m()}orThunk(m){return this.tag?this:m()}getOrDie(m){if(this.tag)return this.value;throw new Error(m??"Called getOrDie on None")}static from(m){return Go(m)?b.some(m):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(m){this.tag&&m(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(!1);const $=Array.prototype.slice,ge=Array.prototype.indexOf,a=Array.prototype.push,f=(u,m)=>ge.call(u,m),N=(u,m)=>f(u,m)>-1,O=(u,m)=>{for(let C=0,k=u.length;C<k;C++){const Q=u[C];if(m(Q,C))return!0}return!1},T=(u,m)=>{const C=[];for(let k=0;k<u;k++)C.push(m(k));return C},L=(u,m)=>{const C=u.length,k=new Array(C);for(let Q=0;Q<C;Q++){const ue=u[Q];k[Q]=m(ue,Q)}return k},B=(u,m)=>{for(let C=0,k=u.length;C<k;C++){const Q=u[C];m(Q,C)}},G=(u,m)=>{for(let C=u.length-1;C>=0;C--){const k=u[C];m(k,C)}},P=(u,m)=>{const C=[],k=[];for(let Q=0,ue=u.length;Q<ue;Q++){const De=u[Q];(m(De,Q)?C:k).push(De)}return{pass:C,fail:k}},F=(u,m)=>{const C=[];for(let k=0,Q=u.length;k<Q;k++){const ue=u[k];m(ue,k)&&C.push(ue)}return C},j=(u,m,C)=>(G(u,(k,Q)=>{C=m(C,k,Q)}),C),H=(u,m,C)=>(B(u,(k,Q)=>{C=m(C,k,Q)}),C),ee=(u,m,C)=>{for(let k=0,Q=u.length;k<Q;k++){const ue=u[k];if(m(ue,k))return b.some(ue);if(C(ue,k))break}return b.none()},w=(u,m)=>ee(u,m,Qo),he=(u,m)=>{for(let C=0,k=u.length;C<k;C++){const Q=u[C];if(m(Q,C))return b.some(C)}return b.none()},be=u=>{const m=[];for(let C=0,k=u.length;C<k;++C){if(!Mt(u[C]))throw new Error("Arr.flatten item "+C+" was not an array, input: "+u);a.apply(m,u[C])}return m},se=(u,m)=>be(L(u,m)),re=(u,m)=>{for(let C=0,k=u.length;C<k;++C){const Q=u[C];if(m(Q,C)!==!0)return!1}return!0},ie=u=>{const m=$.call(u,0);return m.reverse(),m},M=(u,m)=>{const C={};for(let k=0,Q=u.length;k<Q;k++){const ue=u[k];C[String(ue)]=m(ue,k)}return C},W=(u,m)=>{const C=$.call(u,0);return C.sort(m),C},K=(u,m)=>m>=0&&m<u.length?b.some(u[m]):b.none(),R=u=>K(u,0),A=u=>K(u,u.length-1),J=(u,m)=>{for(let C=0;C<u.length;C++){const k=m(u[C],C);if(k.isSome())return k}return b.none()},V=Object.keys,q=Object.hasOwnProperty,ae=(u,m)=>{const C=V(u);for(let k=0,Q=C.length;k<Q;k++){const ue=C[k],De=u[ue];m(De,ue)}},Le=(u,m)=>Ee(u,(C,k)=>({k,v:m(C,k)})),Ee=(u,m)=>{const C={};return ae(u,(k,Q)=>{const ue=m(k,Q);C[ue.k]=ue.v}),C},we=u=>(m,C)=>{u[C]=m},Ne=(u,m,C,k)=>{ae(u,(Q,ue)=>{(m(Q,ue)?C:k)(Q,ue)})},We=(u,m)=>{const C={};return Ne(u,m,we(C),jt),C},ct=(u,m)=>{const C=[];return ae(u,(k,Q)=>{C.push(m(k,Q))}),C},nt=u=>ct(u,qn),st=(u,m)=>Me(u,m)?b.from(u[m]):b.none(),Me=(u,m)=>q.call(u,m),tt=(u,m)=>Me(u,m)&&u[m]!==void 0&&u[m]!==null,ze=u=>{for(const m in u)if(q.call(u,m))return!1;return!0},qe={generate:u=>{if(!Mt(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");const m=[],C={};return B(u,(k,Q)=>{const ue=V(k);if(ue.length!==1)throw new Error("one and only one name per case");const De=ue[0],Xe=k[De];if(C[De]!==void 0)throw new Error("duplicate key detected:"+De);if(De==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Mt(Xe))throw new Error("case arguments must be an array");m.push(De),C[De]=(...ut)=>{const Dt=ut.length;if(Dt!==Xe.length)throw new Error("Wrong number of arguments to case "+De+". Expected "+Xe.length+" ("+Xe+"), got "+Dt);return{fold:(...Sn)=>{if(Sn.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Sn.length);return Sn[Q].apply(null,ut)},match:Sn=>{const no=V(Sn);if(m.length!==no.length)throw new Error("Wrong number of arguments to match. Expected: "+m.join(",")+`
Actual: `+no.join(","));if(!re(m,Ko=>N(no,Ko)))throw new Error("Not all branches were specified when using match. Specified: "+no.join(", ")+`
Required: `+m.join(", "));return Sn[De].apply(null,ut)},log:Sn=>{console.log(Sn,{constructors:m,constructor:De,params:ut})}}}}),C}},Fe=u=>{let m=u;return{get:()=>m,set:Q=>{m=Q}}},Ye=u=>u.slice(0).sort(),xt=(u,m)=>{throw new Error("All required keys ("+Ye(u).join(", ")+") were not specified. Specified keys were: "+Ye(m).join(", ")+".")},ft=u=>{throw new Error("Unsupported keys for object: "+Ye(u).join(", "))},Ot=(u,m)=>{if(!Mt(m))throw new Error("The "+u+" fields must be an array. Was: "+m+".");B(m,C=>{if(!Ke(C))throw new Error("The value "+C+" in the "+u+" fields was not a string.")})},Rt=(u,m)=>{throw new Error("All values need to be of type: "+m+". Keys ("+Ye(u).join(", ")+") were not.")},zt=u=>{const m=Ye(u);w(m,(k,Q)=>Q<m.length-1&&k===m[Q+1]).each(k=>{throw new Error("The field: "+k+" occurs more than once in the combined fields: ["+m.join(", ")+"].")})},Zt=(u,m)=>wn(u,m,{validate:Co,label:"function"}),wn=(u,m,C)=>{if(m.length===0)throw new Error("You must specify at least one required field.");return Ot("required",m),zt(m),k=>{const Q=V(k);re(m,Xe=>N(Q,Xe))||xt(m,Q),u(m,Q);const De=F(m,Xe=>!C.validate(k[Xe],Xe));return De.length>0&&Rt(De,C.label),k}},Zn=(u,m)=>{const C=F(m,k=>!N(u,k));C.length>0&&ft(C)},et=u=>Zt(Zn,u),wt=u=>{const m=ue=>ue(u),C=lt(u),k=()=>Q,Q={tag:!0,inner:u,fold:(ue,De)=>De(u),isValue:s,isError:Qo,map:ue=>bn.value(ue(u)),mapError:k,bind:m,exists:m,forall:m,getOr:C,or:k,getOrThunk:C,orThunk:k,getOrDie:C,each:ue=>{ue(u)},toOptional:()=>b.some(u)};return Q},It=u=>{const m=()=>C,C={tag:!1,inner:u,fold:(k,Q)=>k(u),isValue:Qo,isError:s,map:m,mapError:k=>bn.error(k(u)),bind:m,exists:Qo,forall:s,getOr:qn,or:qn,getOrThunk:ks,orThunk:ks,getOrDie:eo(String(u)),each:jt,toOptional:b.none};return C},bn={value:wt,error:It,fromOption:(u,m)=>u.fold(()=>It(m),wt)},kn=typeof window<"u"?window:Function("return this;")(),Mn=u=>{const m=u.replace(/\./g,"-");return{resolve:k=>m+"-"+k}},vn=(u,m,C=fs)=>u.exists(k=>C(k,m)),Hn=u=>{const m=[],C=k=>{m.push(k)};for(let k=0;k<u.length;k++)u[k].each(C);return m},So=(u,m)=>u!=null?m(u):b.none(),ro=(u,m)=>u?b.some(m):b.none(),Xo=(u,m)=>{let C=m??kn;for(let k=0;k<u.length&&C!==void 0&&C!==null;++k)C=C[u[k]];return C},zn=(u,m)=>{const C=u.split(".");return Xo(C,m)},cs=u=>{const m=Fe(b.none()),C=()=>m.get().each(u);return{clear:()=>{C(),m.set(b.none())},isSet:()=>m.get().isSome(),get:()=>m.get(),set:Xe=>{C(),m.set(b.some(Xe))}}},ms=()=>{const u=cs(jt);return{...u,on:C=>u.get().each(C)}},Et=(u,m)=>u.substring(m),fe=(u,m,C)=>m===""||u.length>=m.length&&u.substr(C,C+m.length)===m,Y=(u,m)=>ye(u,m)?Et(u,m.length):u,le=(u,m,C=0,k)=>{const Q=u.indexOf(m,C);return Q!==-1?On(k)?!0:Q+m.length<=k:!1},ye=(u,m)=>fe(u,m,0),Ce=(u,m)=>fe(u,m,u.length-m.length),Be=(u=>m=>m.replace(u,""))(/^\s+|\s+$/g),te=u=>u.length>0,pe=u=>{const m=parseFloat(u);return isNaN(m)?b.none():b.some(m)},me=(u,m)=>{let C=null;const k=()=>{Oe(C)||(clearTimeout(C),C=null)};return{cancel:k,throttle:(...ue)=>{k(),C=setTimeout(()=>{C=null,u.apply(null,ue)},m)}}},_e=u=>{let m=!1,C;return(...k)=>(m||(m=!0,C=u.apply(null,k)),C)},je="",pt=["tfoot","thead","tbody","colgroup"],mt=u=>N(pt,u),kt=(u,m)=>({rows:u,columns:m}),Ut=(u,m)=>({row:u,column:m}),At=(u,m,C)=>({element:u,rowspan:m,colspan:C}),Tt=(u,m,C,k)=>({element:u,rowspan:m,colspan:C,isNew:k}),Bt=(u,m,C,k,Q,ue)=>({element:u,rowspan:m,colspan:C,row:k,column:Q,isLocked:ue}),Xt=(u,m,C)=>({element:u,cells:m,section:C}),Jt=(u,m,C,k)=>({element:u,cells:m,section:C,isNew:k}),on=(u,m,C)=>({element:u,isNew:m,isLocked:C}),_n=(u,m,C,k)=>({element:u,cells:m,section:C,isNew:k}),Dn=(u,m,C,k)=>({startRow:u,startCol:m,finishRow:C,finishCol:k}),to=(u,m,C)=>({element:u,colspan:m,column:C}),hs=(u,m)=>({element:u,columns:m}),Bs=(u,m,C)=>{const k=u.cells,Q=k.slice(0,m),ue=k.slice(m),De=Q.concat(C).concat(ue);return bs(u,De)},ps=(u,m,C)=>Bs(u,m,[C]),Is=(u,m,C)=>{const k=u.cells;k[m]=C},bs=(u,m)=>_n(u.element,m,u.section,u.isNew),qo=(u,m)=>{const C=u.cells,k=L(C,m);return _n(u.element,k,u.section,u.isNew)},Do=(u,m)=>u.cells[m],zs=(u,m)=>Do(u,m).element,As=u=>u.cells.length,Vs=u=>{const m=P(u,C=>C.section==="colgroup");return{rows:m.fail,cols:m.pass}},go=(u,m,C)=>{const k=L(u.cells,C);return _n(m(u.element),k,u.section,!0)},bo=(u,m)=>{const k=(m||document).createElement("div");if(k.innerHTML=u,!k.hasChildNodes()||k.childNodes.length>1){const Q="HTML does not have a single root node";throw console.error(Q,u),new Error(Q)}return Tr(k.childNodes[0])},io=(u,m)=>{const k=(m||document).createElement(u);return Tr(k)},po=(u,m)=>{const k=(m||document).createTextNode(u);return Tr(k)},Tr=u=>{if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Qn={fromHtml:bo,fromTag:io,fromText:po,fromDom:Tr,fromPoint:(u,m,C)=>b.from(u.dom.elementFromPoint(m,C)).map(Tr)},Ur=(u,m)=>{const C=u.document.createRange();return C.selectNode(m.dom),C},wa=(u,m)=>{const C=u.document.createRange();return Qs(C,m),C},Qs=(u,m)=>u.selectNodeContents(m.dom),ia=(u,m)=>{m.fold(C=>{u.setStartBefore(C.dom)},(C,k)=>{u.setStart(C.dom,k)},C=>{u.setStartAfter(C.dom)})},Re=(u,m)=>{m.fold(C=>{u.setEndBefore(C.dom)},(C,k)=>{u.setEnd(C.dom,k)},C=>{u.setEndAfter(C.dom)})},gt=(u,m,C)=>{const k=u.document.createRange();return ia(k,m),Re(k,C),k},St=(u,m,C,k,Q)=>{const ue=u.document.createRange();return ue.setStart(m.dom,C),ue.setEnd(k.dom,Q),ue},Pt=u=>({left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}),Qt=u=>{const m=u.getClientRects(),C=m.length>0?m[0]:u.getBoundingClientRect();return C.width>0||C.height>0?b.some(C).map(Pt):b.none()},Vn=qe.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),jn=(u,m,C)=>m(Qn.fromDom(C.startContainer),C.startOffset,Qn.fromDom(C.endContainer),C.endOffset),vo=(u,m)=>m.match({domRange:C=>({ltr:lt(C),rtl:b.none}),relative:(C,k)=>({ltr:_e(()=>gt(u,C,k)),rtl:_e(()=>b.some(gt(u,k,C)))}),exact:(C,k,Q,ue)=>({ltr:_e(()=>St(u,C,k,Q,ue)),rtl:_e(()=>b.some(St(u,Q,ue,C,k)))})}),mo=(u,m)=>{const C=m.ltr();return C.collapsed?m.rtl().filter(Q=>Q.collapsed===!1).map(Q=>Vn.rtl(Qn.fromDom(Q.endContainer),Q.endOffset,Qn.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>jn(u,Vn.ltr,C)):jn(u,Vn.ltr,C)},Uo=(u,m)=>{const C=vo(u,m);return mo(u,C)},cn=(u,m)=>Uo(u,m).match({ltr:(k,Q,ue,De)=>{const Xe=u.document.createRange();return Xe.setStart(k.dom,Q),Xe.setEnd(ue.dom,De),Xe},rtl:(k,Q,ue,De)=>{const Xe=u.document.createRange();return Xe.setStart(ue.dom,De),Xe.setEnd(k.dom,Q),Xe}});Vn.ltr,Vn.rtl;const ds=8,us=9,Ve=11,bt=1,Ht=3,ln=(u,m)=>{const C=u.dom;if(C.nodeType!==bt)return!1;{const k=C;if(k.matches!==void 0)return k.matches(m);if(k.msMatchesSelector!==void 0)return k.msMatchesSelector(m);if(k.webkitMatchesSelector!==void 0)return k.webkitMatchesSelector(m);if(k.mozMatchesSelector!==void 0)return k.mozMatchesSelector(m);throw new Error("Browser lacks native selectors")}},An=u=>u.nodeType!==bt&&u.nodeType!==us&&u.nodeType!==Ve||u.childElementCount===0,Wn=(u,m)=>{const C=m===void 0?document:m.dom;return An(C)?[]:L(C.querySelectorAll(u),Qn.fromDom)},Yo=(u,m)=>{const C=m===void 0?document:m.dom;return An(C)?b.none():b.from(C.querySelector(u)).map(Qn.fromDom)},Oo=(u,m)=>u.dom===m.dom,To=(u,m)=>{const C=u.dom,k=m.dom;return C===k?!1:C.contains(k)},ke=ln,Ge=(u,m,C,k)=>{const Q=u.isiOS()&&/ipad/i.test(C)===!0,ue=u.isiOS()&&!Q,De=u.isiOS()||u.isAndroid(),Xe=De||k("(pointer:coarse)"),ut=Q||!ue&&De&&k("(min-device-width:768px)"),Dt=ue||De&&!ut,en=m.isSafari()&&u.isiOS()&&/safari/i.test(C)===!1,Sn=!Dt&&!ut&&!en;return{isiPad:lt(Q),isiPhone:lt(ue),isTablet:lt(ut),isPhone:lt(Dt),isTouch:lt(Xe),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:lt(en),isDesktop:lt(Sn)}},yt=(u,m)=>{for(let C=0;C<u.length;C++){const k=u[C];if(k.test(m))return k}},Kt=(u,m)=>{const C=yt(u,m);if(!C)return{major:0,minor:0};const k=Q=>Number(m.replace(C,"$"+Q));return gs(k(1),k(2))},Cn=(u,m)=>{const C=String(m).toLowerCase();return u.length===0?jo():Kt(u,C)},jo=()=>gs(0,0),gs=(u,m)=>({major:u,minor:m}),ir={nu:gs,detect:Cn,unknown:jo},Or=(u,m)=>J(m.brands,C=>{const k=C.brand.toLowerCase();return w(u,Q=>{var ue;return k===((ue=Q.brand)===null||ue===void 0?void 0:ue.toLowerCase())}).map(Q=>({current:Q.name,version:ir.nu(parseInt(C.version,10),0)}))}),Gr=(u,m)=>{const C=String(m).toLowerCase();return w(u,k=>k.search(C))},Rs=(u,m)=>Gr(u,m).map(C=>{const k=ir.detect(C.versionRegexes,m);return{current:C.name,version:k}}),Sa=(u,m)=>Gr(u,m).map(C=>{const k=ir.detect(C.versionRegexes,m);return{current:C.name,version:k}}),Hi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ta=u=>m=>le(m,u),Ta=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:u=>le(u,"edge/")&&le(u,"chrome")&&le(u,"safari")&&le(u,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hi],search:u=>le(u,"chrome")&&!le(u,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:u=>le(u,"msie")||le(u,"trident")},{name:"Opera",versionRegexes:[Hi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ta("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ta("firefox")},{name:"Safari",versionRegexes:[Hi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:u=>(le(u,"safari")||le(u,"mobile/"))&&le(u,"applewebkit")}],xi=[{name:"Windows",search:ta("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:u=>le(u,"iphone")||le(u,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ta("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ta("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ta("linux"),versionRegexes:[]},{name:"Solaris",search:ta("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ta("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ta("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],la={browsers:lt(Ta),oses:lt(xi)},Qi="Edge",zi="Chromium",ml="IE",eu="Opera",l1="Firefox",Rg="Safari",md=()=>Ui({current:void 0,version:ir.unknown()}),Ui=u=>{const m=u.current,C=u.version,k=Q=>()=>m===Q;return{current:m,version:C,isEdge:k(Qi),isChromium:k(zi),isIE:k(ml),isOpera:k(eu),isFirefox:k(l1),isSafari:k(Rg)}},gh={unknown:md,nu:Ui},C2="Windows",e5="iOS",Yl="Android",_2="Linux",E2="macOS",$c="Solaris",t5="FreeBSD",n5="ChromeOS",o5=()=>mh({current:void 0,version:ir.unknown()}),mh=u=>{const m=u.current,C=u.version,k=Q=>()=>m===Q;return{current:m,version:C,isWindows:k(C2),isiOS:k(e5),isAndroid:k(Yl),isMacOS:k(E2),isLinux:k(_2),isSolaris:k($c),isFreeBSD:k(t5),isChromeOS:k(n5)}},hh={unknown:o5,nu:mh},bh={detect:(u,m,C)=>{const k=la.browsers(),Q=la.oses(),ue=m.bind(ut=>Or(k,ut)).orThunk(()=>Rs(k,u)).fold(gh.unknown,gh.nu),De=Sa(Q,u).fold(hh.unknown,hh.nu),Xe=Ge(De,ue,u,C);return{browser:ue,os:De,deviceType:Xe}}},hd=u=>window.matchMedia(u).matches;let bd=_e(()=>bh.detect(window.navigator.userAgent,b.from(window.navigator.userAgentData),hd));const vd=()=>bd(),s5=(u,m)=>zn(u,m),fr=(u,m)=>{const C=s5(u,m);if(C==null)throw new Error(u+" not available on this browser");return C},w2=Object.getPrototypeOf,S2=u=>fr("HTMLElement",u),vh=u=>{const m=zn("ownerDocument.defaultView",u);return ot(u)&&(S2(m).prototype.isPrototypeOf(u)||/^HTML\w*Element$/.test(w2(u).constructor.name))},ga=u=>u.dom.nodeName.toLowerCase(),Q6=u=>u.dom.nodeType,xh=u=>m=>Q6(m)===u,r5=u=>Q6(u)===ds||ga(u)==="#comment",e8=u=>ca(u)&&vh(u.dom),ca=xh(bt),Cf=xh(Ht),Kn=xh(us),a5=xh(Ve),Nl=u=>m=>ca(m)&&ga(m)===u,mp=u=>Qn.fromDom(u.dom.ownerDocument),el=u=>Kn(u)?u:mp(u),i5=u=>Qn.fromDom(el(u).dom.documentElement),Ct=u=>Qn.fromDom(el(u).dom.defaultView),Bu=u=>b.from(u.dom.parentNode).map(Qn.fromDom),hl=u=>b.from(u.dom.parentElement).map(Qn.fromDom),tu=(u,m)=>{const C=Co(m)?m:Qo;let k=u.dom;const Q=[];for(;k.parentNode!==null&&k.parentNode!==void 0;){const ue=k.parentNode,De=Qn.fromDom(ue);if(Q.push(De),C(De)===!0)break;k=ue}return Q},Mg=u=>b.from(u.dom.previousSibling).map(Qn.fromDom),Fu=u=>b.from(u.dom.nextSibling).map(Qn.fromDom),bl=u=>L(u.dom.childNodes,Qn.fromDom),Rl=(u,m)=>{const C=u.dom.childNodes;return b.from(C[m]).map(Qn.fromDom)},yh=u=>Rl(u,0),Ch=(u,m,C,k)=>{const ue=mp(u).dom.createRange();return ue.setStart(u.dom,m),ue.setEnd(C.dom,k),ue},Pu=(u,m,C,k)=>{const Q=Ch(u,m,C,k),ue=Oo(u,C)&&m===k;return Q.collapsed&&!ue},Xl=u=>a5(u)&&Go(u.dom.host),_h=u=>Qn.fromDom(u.dom.getRootNode()),Jl=u=>Xl(u)?u:Qn.fromDom(el(u).dom.body),T2=u=>{const m=_h(u);return Xl(m)?b.some(m):b.none()},Ml=u=>Qn.fromDom(u.dom.host),Eh=u=>{if(Go(u.target)){const m=Qn.fromDom(u.target);if(ca(m)&&k2(m)&&u.composed&&u.composedPath){const C=u.composedPath();if(C)return R(C)}}return b.from(u.target)},k2=u=>Go(u.dom.shadowRoot),Hc=(u,m,C,k,Q,ue,De)=>({target:u,x:m,y:C,stop:k,prevent:Q,kill:ue,raw:De}),Ws=u=>{const m=Qn.fromDom(Eh(u).getOr(u.target)),C=()=>u.stopPropagation(),k=()=>u.preventDefault(),Q=Wo(k,C);return Hc(m,u.clientX,u.clientY,C,k,Q,u)},vl=(u,m)=>C=>{u(C)&&m(Ws(C))},_f=(u,m,C,k,Q)=>{const ue=vl(C,k);return u.dom.addEventListener(m,ue,Q),{unbind:_o(Fs,u,m,ue,Q)}},hp=(u,m,C,k)=>_f(u,m,C,k,!1),Fs=(u,m,C,k)=>{u.dom.removeEventListener(m,C,k)},Ig=s,zc=(u,m,C)=>hp(u,m,Ig,C),Ra=Ws,xl=(u,m)=>{Bu(u).each(k=>{k.dom.insertBefore(m.dom,u.dom)})},da=(u,m)=>{Fu(u).fold(()=>{Bu(u).each(Q=>{ua(Q,m)})},k=>{xl(k,m)})},Ha=(u,m)=>{yh(u).fold(()=>{ua(u,m)},k=>{u.dom.insertBefore(m.dom,k.dom)})},ua=(u,m)=>{u.dom.appendChild(m.dom)},l5=(u,m,C)=>{Rl(u,C).fold(()=>{ua(u,m)},k=>{xl(k,m)})},nu=(u,m)=>{xl(u,m),ua(m,u)},Vi=(u,m)=>{B(m,(C,k)=>{const Q=k===0?u:m[k-1];da(Q,C)})},yi=(u,m)=>{B(m,C=>{ua(u,C)})},Bg=(u,m,C)=>{if(Ke(C)||un(C)||Eo(C))u.setAttribute(m,C+"");else throw console.error("Invalid call to Attribute.set. Key ",m,":: Value ",C,":: Element ",u),new Error("Attribute value was not simple")},fa=(u,m,C)=>{Bg(u.dom,m,C)},si=(u,m)=>{const C=u.dom;ae(m,(k,Q)=>{Bg(C,Q,k)})},$u=(u,m)=>{ae(m,(C,k)=>{C.fold(()=>{Js(u,k)},Q=>{Bg(u.dom,k,Q)})})},Ql=(u,m)=>{const C=u.dom.getAttribute(m);return C===null?void 0:C},yl=(u,m)=>b.from(Ql(u,m)),Js=(u,m)=>{u.dom.removeAttribute(m)},xd=u=>H(u.dom.attributes,(m,C)=>(m[C.name]=C.value,m),{}),Uc=u=>{u.dom.textContent="",B(bl(u),m=>{ri(m)})},ri=u=>{const m=u.dom;m.parentNode!==null&&m.parentNode.removeChild(m)},hr=u=>{const m=bl(u);m.length>0&&Vi(u,m),ri(u)},fc=(u,m)=>Qn.fromDom(u.dom.cloneNode(m)),pc=u=>fc(u,!1),Xa=u=>fc(u,!0),za=(u,m)=>{const C=Qn.fromTag(m),k=xd(u);return si(C,k),C},c1=(u,m)=>{const C=za(u,m),k=bl(Xa(u));return yi(C,k),C},Fg=(u,m)=>{const C=za(u,m);da(u,C);const k=bl(u);return yi(C,k),ri(u),C},ou=(u,m)=>{const k=document.createElement("div");return k.innerHTML=u,bl(Qn.fromDom(k))},tl=u=>L(u,Qn.fromDom),c5=u=>u.dom.innerHTML,A2=u=>{const m=Qn.fromTag("div"),C=Qn.fromDom(u.dom.cloneNode(!0));return ua(m,C),c5(m)},Ef=u=>u.style!==void 0&&Co(u.style.getPropertyValue),ss=u=>{const m=Cf(u)?u.dom.parentNode:u.dom;if(m==null||m.ownerDocument===null)return!1;const C=m.ownerDocument;return T2(Qn.fromDom(m)).fold(()=>C.body.contains(m),Yt(ss,Ml))},O2=u=>{const m=u.dom.body;if(m==null)throw new Error("Body is not available yet");return Qn.fromDom(m)},Ua=(u,m,C)=>{if(!Ke(C))throw console.error("Invalid call to CSS.set. Property ",m,":: Value ",C,":: Element ",u),new Error("CSS value must be a string: "+C);Ef(u)&&u.style.setProperty(m,C)},ai=(u,m)=>{Ef(u)&&u.style.removeProperty(m)},ii=(u,m,C)=>{const k=u.dom;Ua(k,m,C)},Kr=(u,m)=>{const C=u.dom;ae(m,(k,Q)=>{Ua(C,Q,k)})},Hu=(u,m)=>{const C=u.dom,Q=window.getComputedStyle(C).getPropertyValue(m);return Q===""&&!ss(u)?Pg(C,m):Q},Pg=(u,m)=>Ef(u)?u.style.getPropertyValue(m):"",ec=(u,m)=>{const C=u.dom,k=Pg(C,m);return b.from(k).filter(Q=>Q.length>0)},Vc=(u,m)=>{const C=u.dom;ai(C,m),vn(yl(u,"style").map(Be),"")&&Js(u,"style")},$g=(u,m)=>{const C=u.dom,k=m.dom;Ef(C)&&Ef(k)&&(k.style.cssText=C.style.cssText)},bp=(u,m)=>{const C=(Xe,ut)=>{if(!Eo(ut)&&!ut.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ut);const Dt=Xe.dom;Ef(Dt)&&(Dt.style[u]=ut+"px")},k=Xe=>{const ut=m(Xe);if(ut<=0||ut===null){const Dt=Hu(Xe,u);return parseFloat(Dt)||0}return ut},Q=k,ue=(Xe,ut)=>H(ut,(Dt,en)=>{const Sn=Hu(Xe,en),no=Sn===void 0?0:parseInt(Sn,10);return isNaN(no)?Dt:Dt+no},0);return{set:C,get:k,getOuter:Q,aggregate:ue,max:(Xe,ut,Dt)=>{const en=ue(Xe,Dt);return ut>en?ut-en:0}}},wh=(u,m)=>pe(u).getOr(m),Il=(u,m,C)=>wh(Hu(u,m),C),wf=(u,m,C,k)=>{const Q=Il(u,`padding-${C}`,0),ue=Il(u,`padding-${k}`,0),De=Il(u,`border-${C}-width`,0),Xe=Il(u,`border-${k}-width`,0);return m-Q-ue-De-Xe},Ja=(u,m)=>{const C=u.dom,k=C.getBoundingClientRect().width||C.offsetWidth;return wf(u,k,"left","right")},yd=u=>Il(u,"height",u.dom.offsetHeight),su=u=>Il(u,"width",u.dom.offsetWidth),Lr=u=>Ja(u),nl=bp("height",u=>{const m=u.dom;return ss(u)?m.getBoundingClientRect().height:m.offsetHeight}),gc=u=>nl.get(u),Sh=u=>nl.getOuter(u),Bl=yd,Hg=bp("width",u=>{const m=u.dom;return ss(u)?m.getBoundingClientRect().width:m.offsetWidth}),Mo=u=>Hg.get(u),ka=u=>Hg.getOuter(u),Qa=Lr,pa=su,zu=(u,m)=>({left:u,top:m,translate:(k,Q)=>zu(u+k,m+Q)}),er=zu,zg=u=>{const m=u.getBoundingClientRect();return er(m.left,m.top)},ru=(u,m)=>u!==void 0?u:m!==void 0?m:0,Ps=u=>{const m=u.dom.ownerDocument,C=m.body,k=m.defaultView,Q=m.documentElement;if(C===u.dom)return er(C.offsetLeft,C.offsetTop);const ue=ru(k==null?void 0:k.pageYOffset,Q.scrollTop),De=ru(k==null?void 0:k.pageXOffset,Q.scrollLeft),Xe=ru(Q.clientTop,C.clientTop),ut=ru(Q.clientLeft,C.clientLeft);return kr(u).translate(De-ut,ue-Xe)},kr=u=>{const m=u.dom,k=m.ownerDocument.body;return k===m?er(k.offsetLeft,k.offsetTop):ss(u)?zg(m):er(0,0)},Fl=u=>{const m=u!==void 0?u.dom:document,C=m.body.scrollLeft||m.documentElement.scrollLeft,k=m.body.scrollTop||m.documentElement.scrollTop;return er(C,k)},d1=(u,m,C)=>{const Q=(C!==void 0?C.dom:document).defaultView;Q&&Q.scrollBy(u,m)},Di=((u,m)=>{const C=ue=>{if(!u(ue))throw new Error("Can only get "+m+" value of a "+m+" node");return k(ue).getOr("")},k=ue=>u(ue)?b.from(ue.dom.nodeValue):b.none();return{get:C,getOption:k,set:(ue,De)=>{if(!u(ue))throw new Error("Can only set raw "+m+" value of a "+m+" node");ue.dom.nodeValue=De}}})(Cf,"text"),Uu=u=>Di.get(u),au=u=>Di.getOption(u),u1=(u,m)=>Di.set(u,m),Pl=(u,m)=>C=>Th(C)==="rtl"?m:u,Th=u=>Hu(u,"direction")==="rtl"?"rtl":"ltr",ei=(u,m)=>{const C=Ql(u,m);return C===void 0||C===""?[]:C.split(" ")},f1=(u,m,C)=>{const Q=ei(u,m).concat([C]);return fa(u,m,Q.join(" ")),!0},vp=(u,m,C)=>{const k=F(ei(u,m),Q=>Q!==C);return k.length>0?fa(u,m,k.join(" ")):Js(u,m),!1};var Cd=(u,m,C,k,Q)=>u(C,k)?b.some(C):Co(Q)&&Q(C)?b.none():m(C,k,Q);const Dr=(u,m,C)=>{let k=u.dom;const Q=Co(C)?C:Qo;for(;k.parentNode;){k=k.parentNode;const ue=Qn.fromDom(k);if(m(ue))return b.some(ue);if(Q(ue))break}return b.none()},L2=(u,m,C)=>Cd((Q,ue)=>ue(Q),Dr,u,m,C),iu=(u,m)=>{const C=Q=>m(Qn.fromDom(Q));return w(u.dom.childNodes,C).map(Qn.fromDom)},Ni=(u,m)=>{const C=k=>{for(let Q=0;Q<k.childNodes.length;Q++){const ue=Qn.fromDom(k.childNodes[Q]);if(m(ue))return b.some(ue);const De=C(k.childNodes[Q]);if(De.isSome())return De}return b.none()};return C(u.dom)},Va=(u,m,C)=>Dr(u,k=>ln(k,m),C),Ri=(u,m)=>iu(u,C=>ln(C,m)),tc=(u,m)=>Yo(m,u),Wa=(u,m,C)=>Cd((Q,ue)=>ln(Q,ue),Va,u,m,C),Sf=u=>u.dom.classList!==void 0,d5=u=>ei(u,"class"),D2=(u,m)=>f1(u,"class",m),u5=(u,m)=>vp(u,"class",m),Wc=(u,m)=>{Sf(u)?u.dom.classList.add(m):D2(u,m)},N2=u=>{(Sf(u)?u.dom.classList:d5(u)).length===0&&Js(u,"class")},Tf=(u,m)=>{Sf(u)?u.dom.classList.remove(m):u5(u,m),N2(u)},p1=(u,m)=>Sf(u)&&u.dom.classList.contains(m),xp=(u,m)=>{B(m,C=>{Tf(u,C)})},kh=u=>Wa(u,"[contenteditable]"),kf=(u,m=!1)=>ss(u)?u.dom.isContentEditable:kh(u).fold(lt(m),C=>yp(C)==="true"),yp=u=>u.dom.contentEditable,R2=u=>m=>{Wc(m,u)},M2=u=>m=>{xp(m,u)},Kc=(u,m,C)=>F(tu(u,C),m),Cp=(u,m)=>F(bl(u),m),g1=(u,m)=>{let C=[];return B(bl(u),k=>{m(k)&&(C=C.concat([k])),C=C.concat(g1(k,m))}),C},pr=(u,m,C)=>Kc(u,k=>ln(k,m),C),nc=(u,m)=>Cp(u,C=>ln(C,m)),mc=(u,m)=>Wn(m,u),Ah=(u,m,C,k)=>({parent:u,children:m,element:C,index:k}),m1=u=>Bu(u).bind(m=>{const C=bl(m);return Oh(C,u).map(k=>Ah(m,C,u,k))}),Oh=(u,m)=>he(u,_o(Oo,m)),Lh=(u,m,C)=>Dr(u,m,C).isSome(),Mi=u=>ga(u)==="img"?1:au(u).fold(()=>bl(u).length,m=>m.length),_d=u=>au(u).filter(m=>m.trim().length!==0||m.indexOf(je)>-1).isSome(),na=u=>e8(u)&&Ql(u,"contenteditable")==="false",I2=["img","br"],Vr=u=>_d(u)||N(I2,ga(u))||na(u),Vu=u=>Ni(u,Vr),Ma=u=>$l(u,Vr),$l=(u,m)=>{const C=k=>{const Q=bl(k);for(let ue=Q.length-1;ue>=0;ue--){const De=Q[ue];if(m(De))return b.some(De);const Xe=C(De);if(Xe.isSome())return Xe}return b.none()};return C(u)},h1={create:(u,m,C,k)=>({start:u,soffset:m,finish:C,foffset:k})},Ug=qe.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dh=(u,m,C,k)=>u.fold(m,C,k),B2=u=>u.fold(qn,qn,qn),b1=Ug.before,jc=Ug.on,Hl=Ug.after,ti={before:b1,on:jc,after:Hl,cata:Dh,getStart:B2},Ia=qe.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),F2=u=>Ia.exact(u.start,u.soffset,u.finish,u.foffset),_p=u=>u.match({domRange:m=>Qn.fromDom(m.startContainer),relative:(m,C)=>ti.getStart(m),exact:(m,C,k,Q)=>m}),Vg=Ia.domRange,Ed=Ia.relative,Wg=Ia.exact,Nh=u=>{const m=_p(u);return Ct(m)},Z=h1.create,ne={domRange:Vg,relative:Ed,exact:Wg,exactFromRange:F2,getWin:Nh,range:Z},Pe=(u,m,C)=>{var k;return b.from((k=u.caretPositionFromPoint)===null||k===void 0?void 0:k.call(u,m,C)).bind(Q=>{if(Q.offsetNode===null)return b.none();const ue=u.createRange();return ue.setStart(Q.offsetNode,Q.offset),ue.collapse(),b.some(ue)})},it=(u,m,C)=>{var k;return b.from((k=u.caretRangeFromPoint)===null||k===void 0?void 0:k.call(u,m,C))},Nt=(u,m,C)=>u.caretPositionFromPoint?Pe(u,m,C):u.caretRangeFromPoint?it(u,m,C):b.none(),En=(u,m,C)=>{const k=u.document;return Nt(k,m,C).map(Q=>h1.create(Qn.fromDom(Q.startContainer),Q.startOffset,Qn.fromDom(Q.endContainer),Q.endOffset))},co=(u,m)=>{const C=ga(u);return C==="input"?ti.after(u):N(["br","img"],C)?m===0?ti.before(u):ti.after(u):ti.on(u,m)},Fo=(u,m)=>{const C=u.fold(ti.before,co,ti.after),k=m.fold(ti.before,co,ti.after);return ne.relative(C,k)},Ds=(u,m,C,k)=>{const Q=co(u,m),ue=co(C,k);return ne.relative(Q,ue)},$s=u=>b.from(u.getSelection()),Nr=(u,m)=>{$s(u).each(C=>{C.removeAllRanges(),C.addRange(m)})},Yr=(u,m,C,k,Q)=>{const ue=St(u,m,C,k,Q);Nr(u,ue)},ma=(u,m,C,k,Q,ue)=>{m.collapse(C.dom,k),m.extend(Q.dom,ue)},zl=(u,m)=>Uo(u,m).match({ltr:(C,k,Q,ue)=>{Yr(u,C,k,Q,ue)},rtl:(C,k,Q,ue)=>{$s(u).each(De=>{if(De.setBaseAndExtent)De.setBaseAndExtent(C.dom,k,Q.dom,ue);else if(De.extend)try{ma(u,De,C,k,Q,ue)}catch{Yr(u,Q,ue,C,k)}else Yr(u,Q,ue,C,k)})}}),lu=(u,m,C,k,Q)=>{const ue=Ds(m,C,k,Q);zl(u,ue)},cu=(u,m,C)=>{const k=Fo(m,C);zl(u,k)},hc=u=>{if(u.rangeCount>0){const m=u.getRangeAt(0),C=u.getRangeAt(u.rangeCount-1);return b.some(h1.create(Qn.fromDom(m.startContainer),m.startOffset,Qn.fromDom(C.endContainer),C.endOffset))}else return b.none()},Rh=u=>{if(u.anchorNode===null||u.focusNode===null)return hc(u);{const m=Qn.fromDom(u.anchorNode),C=Qn.fromDom(u.focusNode);return Pu(m,u.anchorOffset,C,u.focusOffset)?b.some(h1.create(m,u.anchorOffset,C,u.focusOffset)):hc(u)}},Ep=(u,m,C=!0)=>{const Q=(C?wa:Ur)(u,m);Nr(u,Q)},v1=u=>$s(u).filter(m=>m.rangeCount>0).bind(Rh),Wu=u=>v1(u).map(m=>ne.exact(m.start,m.soffset,m.finish,m.foffset)),Kg=(u,m)=>{const C=cn(u,m);return Qt(C)},jg=(u,m,C)=>En(u,m,C),Zg=u=>{$s(u).each(m=>m.removeAllRanges())},f5={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},p5=(()=>{const u="[0-9]+",C="[eE]"+("[+-]?"+u),k="\\.",Q=Xe=>`(?:${Xe})?`,De=`[+-]?(?:${["Infinity",u+k+Q(u)+Q(C),k+u+Q(C),u+Q(C)].join("|")})`;return new RegExp(`^(${De})(.*)$`)})(),Ks=(u,m)=>O(m,C=>O(f5[C],k=>u===k)),Xr=(u,m)=>b.from(p5.exec(u)).bind(k=>{const Q=Number(k[1]),ue=k[2];return Ks(ue,m)?b.some({value:Q,unit:ue}):b.none()}),Ci=u=>L(u,lt(0)),_l=(u,m,C,k,Q)=>Q(u.slice(0,m)).concat(k).concat(Q(u.slice(C))),Gg=u=>(m,C,k,Q)=>{if(u(k)){const ue=Math.max(Q,m[C]-Math.abs(k)),De=Math.abs(ue-m[C]);return k>=0?De:-De}else return k},wp=Gg(u=>u<0),qg=Gg(s),Yg=()=>{const u=(Xe,ut,Dt,en,Sn)=>{const no=wp(Xe,ut,en,Sn);return _l(Xe,ut,Dt+1,[no,0],Ci)},m=(Xe,ut,Dt,en)=>{const Sn=(100+Dt)/100,no=Math.max(en,(Xe[ut]+Dt)/Sn);return L(Xe,(xo,Ko)=>(Ko===ut?no:xo/Sn)-xo)},C=(Xe,ut,Dt,en,Sn,no)=>no?m(Xe,ut,en,Sn):u(Xe,ut,Dt,en,Sn);return{resizeTable:(Xe,ut)=>Xe(ut),clampTableDelta:wp,calcLeftEdgeDeltas:C,calcMiddleDeltas:(Xe,ut,Dt,en,Sn,no,xo)=>C(Xe,Dt,en,Sn,no,xo),calcRightEdgeDeltas:(Xe,ut,Dt,en,Sn,no)=>{if(no)return m(Xe,Dt,en,Sn);{const xo=wp(Xe,Dt,en,Sn);return Ci(Xe.slice(0,Dt)).concat([xo])}},calcRedestributedWidths:(Xe,ut,Dt,en)=>{if(en){const no=(ut+Dt)/ut,xo=L(Xe,Ko=>Ko/no);return{delta:no*100-100,newSizes:xo}}else return{delta:Dt,newSizes:Xe}}}},t8=()=>{const u=(De,Xe,ut,Dt,en)=>{const Sn=Dt>=0?ut:Xe,no=qg(De,Sn,Dt,en);return _l(De,Xe,ut+1,[no,-no],Ci)};return{resizeTable:(De,Xe,ut)=>{ut&&De(Xe)},clampTableDelta:(De,Xe,ut,Dt,en)=>{if(en){if(ut>=0)return ut;{const Sn=H(De,(no,xo)=>no+xo-Dt,0);return Math.max(-Sn,ut)}}else return wp(De,Xe,ut,Dt)},calcLeftEdgeDeltas:u,calcMiddleDeltas:(De,Xe,ut,Dt,en,Sn)=>u(De,ut,Dt,en,Sn),calcRightEdgeDeltas:(De,Xe,ut,Dt,en,Sn)=>{if(Sn)return Ci(De);{const no=Dt/De.length;return L(De,lt(no))}},calcRedestributedWidths:(De,Xe,ut,Dt)=>({delta:0,newSizes:De})}},bc=(u,m,C=0)=>yl(u,m).map(k=>parseInt(k,10)).getOr(C),Mh=(u,m)=>bc(u,m,1),g5=u=>Nl("col")(u)?bc(u,"span",1)>1:Mh(u,"colspan")>1,Vy=u=>Mh(u,"rowspan")>1,Ka=(u,m)=>parseInt(Hu(u,m),10),ha=lt(10),x1=lt(10),Sp=(u,m)=>m5(u,m,s),m5=(u,m,C)=>se(bl(u),k=>ln(k,m)?C(k)?[k]:[]:m5(k,m,C)),ol=(u,m,C=Qo)=>{if(C(m))return b.none();if(N(u,ga(m)))return b.some(m);const k=Q=>ln(Q,"table")||C(Q);return Va(m,u.join(","),k)},h5=(u,m)=>ol(["td","th"],u,m),y1=u=>Sp(u,"th,td"),Ih=u=>ln(u,"colgroup")?nc(u,"col"):se(vc(u),m=>nc(m,"col")),Ul=(u,m)=>Wa(u,"table",m),ja=u=>Sp(u,"tr"),vc=u=>Ul(u).fold(lt([]),m=>nc(m,"colgroup")),du=Nl("th"),P2=u=>re(u,m=>du(m.element)),Wy=(u,m)=>u&&m?"sectionCells":u?"section":"cells",b5=u=>{const m=u.section==="thead",C=vn(v5(u.cells),"th");return u.section==="tfoot"?{type:"footer"}:m||C?{type:"header",subType:Wy(m,C)}:{type:"body"}},v5=u=>{const m=F(u,C=>du(C.element));return m.length===0?b.some("td"):m.length===u.length?b.some("th"):b.none()},n8=u=>{const m=L(u,Q=>b5(Q).type),C=N(m,"header"),k=N(m,"footer");if(!C&&!k)return b.some("body");{const Q=N(m,"body");return C&&!Q&&!k?b.some("header"):!C&&!Q&&k?b.some("footer"):b.none()}},C1=u=>J(u.all,m=>{const C=b5(m);return C.type==="header"?b.from(C.subType):b.none()}),Xg=(u,m)=>L(u,C=>{if(ga(C)==="colgroup"){const k=L(Ih(C),Q=>{const ue=bc(Q,"span",1);return At(Q,1,ue)});return Xt(C,k,"colgroup")}else{const k=L(y1(C),Q=>{const ue=bc(Q,"rowspan",1),De=bc(Q,"colspan",1);return At(Q,ue,De)});return Xt(C,k,m(C))}}),Vo=u=>Bu(u).map(m=>{const C=ga(m);return mt(C)?C:"tbody"}).getOr("tbody"),uu=u=>{const m=ja(u),k=[...vc(u),...m];return Xg(k,Vo)},Za=(u,m)=>Xg(u,()=>m),wd="data-snooker-locked-cols",fu=u=>yl(u,wd).bind(m=>b.from(m.match(/\d+/g))).map(m=>M(m,s)),xc=u=>{const m=H(Vs(u).rows,(k,Q)=>(B(Q.cells,(ue,De)=>{ue.isLocked&&(k[De]=!0)}),k),{}),C=ct(m,(k,Q)=>parseInt(Q,10));return W(C)},x5=(u,m)=>u+","+m,Tp=(u,m,C)=>b.from(u.access[x5(m,C)]),Ky=(u,m,C)=>{const k=pu(u,Q=>C(m,Q.element));return k.length>0?b.some(k[0]):b.none()},pu=(u,m)=>{const C=se(u.all,k=>k.cells);return F(C,m)},o8=u=>{const m={};let C=0;return B(u.cells,k=>{const Q=k.colspan;T(Q,ue=>{const De=C+ue;m[De]=to(k.element,Q,De)}),C+=Q}),m},Af=u=>{const m={},C=[],Q=R(u).map(xo=>xo.element).bind(Ul).bind(fu).getOr({});let ue=0,De=0,Xe=0;const{pass:ut,fail:Dt}=P(u,xo=>xo.section==="colgroup");B(Dt,xo=>{const Ko=[];B(xo.cells,yn=>{let In=0;for(;m[x5(Xe,In)]!==void 0;)In++;const os=tt(Q,In.toString()),Ss=Bt(yn.element,yn.rowspan,yn.colspan,Xe,In,os);for(let No=0;No<yn.colspan;No++)for(let yr=0;yr<yn.rowspan;yr++){const _r=Xe+yr,Ns=In+No,Da=x5(_r,Ns);m[Da]=Ss,De=Math.max(De,Ns+1)}Ko.push(Ss)}),ue++,C.push(Xt(xo.element,Ko,xo.section)),Xe++});const{columns:en,colgroups:Sn}=A(ut).map(xo=>{const Ko=o8(xo);return{colgroups:[hs(xo.element,nt(Ko))],columns:Ko}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:kt(ue,De),access:m,all:C,columns:en,colgroups:Sn}},qs={fromTable:u=>{const m=uu(u);return Af(m)},generate:Af,getAt:Tp,findItem:Ky,filterItems:pu,justCells:u=>se(u.all,m=>m.cells),justColumns:u=>nt(u.columns),hasColumns:u=>V(u.columns).length>0,getColumnAt:(u,m)=>b.from(u.columns[m])},Jr=(u,m,C)=>on(C(u.element,m),!0,u.isLocked),Bh=(u,m)=>u.section!==m?_n(u.element,u.cells,m,u.isNew):u,s8=()=>({transformRow:Bh,transformCell:(u,m,C)=>{const k=C(u.element,m),Q=ga(k)!=="td"?Fg(k,"td"):k;return on(Q,u.isNew,u.isLocked)}}),ni=()=>({transformRow:Bh,transformCell:Jr}),Pr=()=>({transformRow:(u,m)=>Bh(u,m==="thead"?"tbody":m),transformCell:Jr}),kp={getTableSectionType:(u,m)=>{const C=qs.fromTable(u);switch(C1(C).getOr(m)){case"section":return s8();case"sectionCells":return ni();case"cells":return Pr()}},section:s8,sectionCells:ni,cells:Pr,fallback:()=>({transformRow:qn,transformCell:Jr})},$2=(u,m=s)=>{const C=u.grid,k=T(C.columns,qn),Q=T(C.rows,qn);return L(k,ue=>Zc(()=>se(Q,Dt=>qs.getAt(u,Dt,ue).filter(en=>en.column===ue).toArray()),Dt=>Dt.colspan===1&&m(Dt.element),()=>qs.getAt(u,0,ue)))},Zc=(u,m,C)=>{const k=u();return w(k,m).orThunk(()=>b.from(k[0]).orThunk(C)).map(De=>De.element)},r8=u=>{const m=u.grid,C=T(m.rows,qn),k=T(m.columns,qn);return L(C,Q=>Zc(()=>se(k,ut=>qs.getAt(u,Q,ut).filter(Dt=>Dt.row===Q).fold(lt([]),Dt=>[Dt])),ut=>ut.rowspan===1,()=>qs.getAt(u,Q,0)))},$h=(u,m)=>{if(m<0||m>=u.length-1)return b.none();const C=u[m].fold(()=>{const Q=ie(u.slice(0,m));return J(Q,(ue,De)=>ue.map(Xe=>({value:Xe,delta:De+1})))},Q=>b.some({value:Q,delta:0})),k=u[m+1].fold(()=>{const Q=u.slice(m+1);return J(Q,(ue,De)=>ue.map(Xe=>({value:Xe,delta:De+1})))},Q=>b.some({value:Q,delta:1}));return C.bind(Q=>k.map(ue=>{const De=ue.delta+Q.delta;return Math.abs(ue.value-Q.value)/De}))},a8=(u,m)=>({row:u,y:m}),H2=(u,m)=>({col:u,x:m}),jy=u=>Ps(u).left+ka(u),Zy=u=>Ps(u).left,C5=(u,m)=>H2(u,Zy(m)),i8=(u,m)=>H2(u,jy(m)),z2=u=>Ps(u).top,Gy=(u,m)=>a8(u,z2(m)),qy=(u,m)=>a8(u,z2(m)+Sh(m)),Hh=(u,m,C)=>{if(C.length===0)return[];const k=L(C.slice(1),(ue,De)=>ue.map(Xe=>u(De,Xe))),Q=C[C.length-1].map(ue=>m(C.length-1,ue));return k.concat([Q])},Of=u=>-u,li={delta:qn,positions:u=>Hh(Gy,qy,u),edge:z2},ns=Pl({delta:qn,edge:Zy,positions:u=>Hh(C5,i8,u)},{delta:Of,edge:jy,positions:u=>Hh(i8,C5,u)}),Gc={delta:(u,m)=>ns(m).delta(u,m),positions:(u,m)=>ns(m).positions(u,m),edge:u=>ns(u).edge(u)},Jg=/(\d+(\.\d+)?)%/,Xy=/(\d+(\.\d+)?)px|em/,Jy=Nl("col"),Ap=Nl("tr"),l8=(u,m,C)=>{const k=hl(u).getOrThunk(()=>O2(mp(u)));return m(u)/C(k)*100},Lf=(u,m)=>{ii(u,"width",m+"px")},_5=(u,m)=>{ii(u,"width",m+"%")},_1=(u,m)=>{ii(u,"height",m+"px")},E5=u=>{Vc(u,"height")},Qy=u=>Bl(u)+"px",ra=(u,m,C,k)=>{const Q=Ul(u).map(ue=>{const De=C(ue);return Math.floor(m/100*De)}).getOr(m);return k(u,Q),Q},Sd=(u,m,C,k)=>{const Q=parseFloat(u);return Ce(u,"%")&&ga(m)!=="table"?ra(m,Q,C,k):Q},sl=u=>{const m=Qy(u);return m?Sd(m,u,gc,_1):gc(u)},Qg=(u,m,C)=>{const k=C(u),Q=Mh(u,m);return k/Q},El=(u,m)=>ec(u,m).orThunk(()=>yl(u,m).map(C=>C+"px")),Df=u=>El(u,"width"),ci=u=>El(u,"height"),Wi=u=>l8(u,Mo,Qa),ju=u=>Jy(u)?Math.round(Mo(u)):pa(u),Bn=u=>Ap(u)?gc(u):Qg(u,"rowspan",sl),Vl=u=>Df(u).bind(C=>Xr(C,["fixed","relative","empty"])),w5=(u,m,C)=>{ii(u,"width",m+C)},Ga=u=>Mo(u)+"px",Td=u=>gc(u)+"px",Cc=u=>l8(u,Mo,Qa)+"%",eC=u=>Df(u).exists(m=>Jg.test(m)),Nf=u=>Df(u).exists(m=>Xy.test(m)),S5=u=>Df(u).isNone(),_c=lt(Jg),xr=Nl("col"),mu=u=>Df(u).getOrThunk(()=>ju(u)+"px"),em=u=>ci(u).getOrThunk(()=>Bn(u)+"px"),xa=u=>L(qs.justColumns(u),m=>b.from(m.element)),T5=u=>{const m=vd().browser,C=m.isChromium()||m.isFirefox();return xr(u)?C:!0},k5=(u,m,C,k,Q,ue)=>u.filter(k).fold(()=>ue($h(C,m)),De=>Q(De)),hu=(u,m,C,k)=>{const Q=$2(u),ue=qs.hasColumns(u)?xa(u):Q,De=[b.some(Gc.edge(m))].concat(L(Gc.positions(Q,m),ut=>ut.map(Dt=>Dt.x))),Xe=ht(g5);return L(ue,(ut,Dt)=>k5(ut,Dt,De,Xe,en=>{if(T5(en))return C(en);{const Sn=So(Q[Dt],qn);return k5(Sn,Dt,De,Xe,no=>k(b.some(Math.round(Mo(no)))),k)}},k))},A5=u=>u.map(m=>m+"px").getOr(""),wl=(u,m)=>hu(u,m,mu,A5),tC=(u,m,C)=>hu(u,m,Wi,k=>k.fold(()=>C.minCellWidth(),Q=>Q/C.pixelWidth()*100)),tn=(u,m,C)=>hu(u,m,ju,k=>k.getOrThunk(C.minCellWidth)),Sl=(u,m,C,k)=>{const Q=r8(u),ue=L(u.all,Xe=>b.some(Xe.element)),De=[b.some(li.edge(m))].concat(L(li.positions(Q,m),Xe=>Xe.map(ut=>ut.y)));return L(ue,(Xe,ut)=>k5(Xe,ut,De,s,C,k))},O5=(u,m)=>Sl(u,m,Bn,C=>C.getOrThunk(x1)),aa=(u,m)=>Sl(u,m,em,A5),Ec=(u,m)=>()=>ss(u)?m(u):parseFloat(ec(u,"width").getOr("0")),Oa=u=>{const m=Ec(u,Mo),C=lt(0);return{width:m,pixelWidth:m,getWidths:(Q,ue)=>tn(Q,u,ue),getCellDelta:C,singleColumnWidth:lt([0]),minCellWidth:C,setElementWidth:jt,adjustTableWidth:jt,isRelative:!0,label:"none"}},$r=u=>{const m=Ec(u,ut=>parseFloat(Cc(ut))),C=Ec(u,Mo);return{width:m,pixelWidth:C,getWidths:(ut,Dt)=>tC(ut,u,Dt),getCellDelta:ut=>ut/C()*100,singleColumnWidth:(ut,Dt)=>[100-ut],minCellWidth:()=>ha()/C()*100,setElementWidth:_5,adjustTableWidth:ut=>{const Dt=m(),en=ut/100*Dt,Sn=Dt+en;_5(u,Sn)},isRelative:!0,label:"percent"}},c8=u=>{const m=Ec(u,Mo);return{width:m,pixelWidth:m,getWidths:(De,Xe)=>tn(De,u,Xe),getCellDelta:qn,singleColumnWidth:(De,Xe)=>[Math.max(ha(),De+Xe)-De],minCellWidth:ha,setElementWidth:Lf,adjustTableWidth:De=>{const Xe=m()+De;Lf(u,Xe)},isRelative:!1,label:"pixel"}},Rf=(u,m)=>_c().exec(m)!==null?$r(u):c8(u),Op={getTableSize:u=>Df(u).fold(()=>Oa(u),C=>Rf(u,C)),pixelSize:c8,percentageSize:$r,noneSize:Oa},zh=(u,m,C,k)=>{C===k?Js(u,m):fa(u,m,C)},L5=(u,m,C)=>{A(nc(u,m)).fold(()=>Ha(u,C),k=>da(k,C))},D5=(u,m)=>{const C=Ri(u,m).getOrThunk(()=>{const k=Qn.fromTag(m,mp(u).dom);return m==="thead"?L5(u,"caption,colgroup",k):m==="colgroup"?L5(u,"caption",k):ua(u,k),k});return Uc(C),C},tm=(u,m)=>{const C=[],k=[],Q=xo=>L(xo,Ko=>{Ko.isNew&&C.push(Ko.element);const yn=Ko.element;return Uc(yn),B(Ko.cells,In=>{In.isNew&&k.push(In.element),zh(In.element,"colspan",In.colspan,1),zh(In.element,"rowspan",In.rowspan,1),ua(yn,In.element)}),yn}),ue=xo=>se(xo,Ko=>L(Ko.cells,yn=>(zh(yn.element,"span",yn.colspan,1),yn.element))),De=(xo,Ko)=>{const yn=D5(u,Ko),os=(Ko==="colgroup"?ue:Q)(xo);yi(yn,os)},Xe=xo=>{Ri(u,xo).each(ri)},ut=(xo,Ko)=>{xo.length>0?De(xo,Ko):Xe(Ko)},Dt=[],en=[],Sn=[],no=[];return B(m,xo=>{switch(xo.section){case"thead":Dt.push(xo);break;case"tbody":en.push(xo);break;case"tfoot":Sn.push(xo);break;case"colgroup":no.push(xo);break}}),ut(no,"colgroup"),ut(Dt,"thead"),ut(en,"tbody"),ut(Sn,"tfoot"),{newRows:C,newCells:k}},Uh=u=>L(u,m=>{const C=pc(m.element);return B(m.cells,k=>{const Q=Xa(k.element);zh(Q,"colspan",k.colspan,1),zh(Q,"rowspan",k.rowspan,1),ua(C,Q)}),C}),Lp=(u,m)=>L(u,C=>Do(C,m)),Ki=(u,m)=>u[m],N5=(u,m)=>{if(u.length===0)return 0;const C=u[0];return he(u,Q=>!m(C.element,Q.element)).getOr(u.length)},Ii=(u,m,C,k)=>{const Q=Ki(u,m),ue=Q.section==="colgroup",De=N5(Q.cells.slice(C),k),Xe=ue?1:N5(Lp(u.slice(m),C),k);return{colspan:De,rowspan:Xe}},Mf=(u,m)=>{const C=L(u,Q=>L(Q.cells,Qo)),k=(Q,ue,De,Xe)=>{for(let ut=Q;ut<Q+De;ut++)for(let Dt=ue;Dt<ue+Xe;Dt++)C[ut][Dt]=!0};return L(u,(Q,ue)=>{const De=se(Q.cells,(Xe,ut)=>{if(C[ue][ut]===!1){const Dt=Ii(u,ue,ut,m);return k(ue,ut,Dt.rowspan,Dt.colspan),[Tt(Xe.element,Dt.rowspan,Dt.colspan,Xe.isNew)]}else return[]});return Jt(Q.element,De,Q.section,Q.isNew)})},If=(u,m,C)=>{const k=[];B(u.colgroups,Q=>{const ue=[];for(let De=0;De<u.grid.columns;De++){const Xe=qs.getColumnAt(u,De).map(ut=>on(ut.element,C,!1)).getOrThunk(()=>on(m.colGap(),!0,!1));ue.push(Xe)}k.push(_n(Q.element,ue,"colgroup",C))});for(let Q=0;Q<u.grid.rows;Q++){const ue=[];for(let ut=0;ut<u.grid.columns;ut++){const Dt=qs.getAt(u,Q,ut).map(en=>on(en.element,C,en.isLocked)).getOrThunk(()=>on(m.gap(),!0,!1));ue.push(Dt)}const De=u.all[Q],Xe=_n(De.element,ue,De.section,C);k.push(Xe)}return k},E1=(u,m)=>If(u,m,!1),nm=u=>Mf(u,Oo),rl=(u,m)=>J(u.all,C=>w(C.cells,k=>Oo(m,k.element))),om=(u,m,C)=>{const k=L(m.selection,ue=>h5(ue).bind(De=>rl(u,De)).filter(C)),Q=Hn(k);return ro(Q.length>0,Q)},qa=(u,m,C,k,Q,ue,De,Xe,ut)=>{const Dt=qs.fromTable(ue),en=b.from(ut==null?void 0:ut.section).getOrThunk(kp.fallback);return m(Dt,De).map(no=>{const xo=E1(Dt,Xe),Ko=u(xo,no,Oo,Q(Xe),en),yn=xc(Ko.grid),In=nm(Ko.grid);return{info:no,grid:In,cursor:Ko.cursor,lockedColumns:yn}}).bind(no=>{const xo=tm(ue,no.grid),Ko=b.from(ut==null?void 0:ut.sizing).getOrThunk(()=>Op.getTableSize(ue)),yn=b.from(ut==null?void 0:ut.resize).getOrThunk(t8);return C(ue,no.grid,no.info,{sizing:Ko,resize:yn,section:en}),k(ue),Js(ue,wd),no.lockedColumns.length>0&&fa(ue,wd,no.lockedColumns.join(",")),b.some({cursor:no.cursor,newRows:xo.newRows,newCells:xo.newCells})})},R5=(u,m)=>h5(m.element).bind(C=>rl(u,C).map(k=>({...k,generators:m.generators,clipboard:m.clipboard}))),kd=(u,m)=>om(u,m,s).map(C=>({cells:C,generators:m.generators,clipboard:m.clipboard})),wc=(u,m)=>m.mergable,d8=(u,m)=>m.unmergable,di=(u,m)=>om(u,m,s),sm=(u,m)=>om(u,m,C=>!C.isLocked),Bf=(u,m)=>rl(u,m).exists(C=>!C.isLocked),Zu=(u,m)=>re(m,C=>Bf(u,C)),bu=(u,m)=>wc(u,m).filter(C=>Zu(u,C.cells)),vu=(u,m)=>d8(u,m).filter(C=>Zu(u,C)),Dp={...qe.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},u8=(u,m)=>u.length===0?Dp.none():u.length===1?Dp.only(0):m===0?Dp.left(0,1):m===u.length-1?Dp.right(m-1,m):m>0&&m<u.length-1?Dp.middle(m-1,m,m+1):Dp.none(),ya=(u,m,C,k,Q)=>{const ue=u.slice(0),De=u8(u,m),Xe=lt(L(ue,lt(0))),ut=no=>k.singleColumnWidth(ue[no],C),Dt=(no,xo)=>Q.calcLeftEdgeDeltas(ue,no,xo,C,k.minCellWidth(),k.isRelative),en=(no,xo,Ko)=>Q.calcMiddleDeltas(ue,no,xo,Ko,C,k.minCellWidth(),k.isRelative),Sn=(no,xo)=>Q.calcRightEdgeDeltas(ue,no,xo,C,k.minCellWidth(),k.isRelative);return De.fold(Xe,ut,Dt,en,Sn)},M5=(u,m,C)=>{let k=0;for(let Q=u;Q<m;Q++)k+=C[Q]!==void 0?C[Q]:0;return k},oc=(u,m)=>{const C=qs.justCells(u);return L(C,k=>{const Q=M5(k.column,k.column+k.colspan,m);return{element:k.element,width:Q,colspan:k.colspan}})},Wh=(u,m)=>{const C=qs.justColumns(u);return L(C,(k,Q)=>({element:k.element,width:m[Q],colspan:k.colspan}))},I5=(u,m)=>L(u.all,(C,k)=>({element:C.element,height:m[k]})),Ff=u=>j(u,(m,C)=>m+C,0),qc=(u,m)=>qs.hasColumns(u)?Wh(u,m):oc(u,m),w1=(u,m,C)=>{const k=qc(u,m);B(k,Q=>{C.setElementWidth(Q.element,Q.width)})},Np=(u,m,C,k,Q)=>{const ue=qs.fromTable(u),De=Q.getCellDelta(m),Xe=Q.getWidths(ue,Q),ut=C===ue.grid.columns-1,Dt=k.clampTableDelta(Xe,C,De,Q.minCellWidth(),ut),en=ya(Xe,C,Dt,Q,k),Sn=L(en,(no,xo)=>no+Xe[xo]);w1(ue,Sn,Q),k.resizeTable(Q.adjustTableWidth,Dt,ut)},f8=(u,m,C)=>{const k=qs.fromTable(u),Q=O5(k,u),ue=L(Q,(ut,Dt)=>C===Dt?Math.max(m+ut,x1()):ut),De=I5(k,ue);B(De,ut=>{_1(ut.element,ut.height)}),B(qs.justCells(k),ut=>{E5(ut.element)});const Xe=Ff(ue);_1(u,Xe)},Kh=(u,m,C,k,Q)=>{const ue=qs.generate(m),De=k.getWidths(ue,k),Xe=k.pixelWidth(),{newSizes:ut,delta:Dt}=Q.calcRedestributedWidths(De,Xe,C.pixelDelta,k.isRelative);w1(ue,ut,k),k.adjustTableWidth(Dt)},B5=(u,m,C,k)=>{const Q=qs.generate(m),ue=k.getWidths(Q,k);w1(Q,ue,k)},jh=(u,m)=>{g5(u)||Vl(u).each(k=>{const Q=k.value/2;w5(u,Q,k.unit),w5(m,Q,k.unit)})},p8=(u,m,C)=>{const k=bc(u,m,1);C===1||k<=1?Js(u,m):fa(u,m,Math.min(C,k))},rm=(u,m)=>C=>{const k=C.column+C.colspan-1,Q=C.column;return k>=u&&Q<m},Zh=(u,m,C)=>{if(qs.hasColumns(u)){const k=F(qs.justColumns(u),rm(m,C)),Q=L(k,De=>{const Xe=Xa(De.element);return p8(Xe,"span",C-m),Xe}),ue=Qn.fromTag("colgroup");return yi(ue,Q),[ue]}else return[]},Gh=(u,m,C)=>L(u.all,k=>{const Q=F(k.cells,rm(m,C)),ue=L(Q,Xe=>{const ut=Xa(Xe.element);return p8(ut,"colspan",C-m),ut}),De=Qn.fromTag("tr");return yi(De,ue),De}),xu=(u,m)=>{const C=qs.fromTable(u);return sm(C,m).map(Q=>{const ue=Q[Q.length-1],De=Q[0].column,Xe=ue.column+ue.colspan,ut=Zh(C,De,Xe),Dt=Gh(C,De,Xe);return[...ut,...Dt]})},Pf=(u,m,C)=>{const k=qs.fromTable(u);return di(k,m).bind(ue=>{const De=If(k,C,!1),ut=Vs(De).rows.slice(ue[0].row,ue[ue.length-1].row+ue[ue.length-1].rowspan),Dt=se(ut,Sn=>{const no=F(Sn.cells,xo=>!xo.isLocked);return no.length>0?[{...Sn,cells:no}]:[]}),en=nm(Dt);return ro(en.length>0,en)}).map(ue=>Uh(ue))},Rp=(u,m,C,k,Q,ue)=>({minRow:u,minCol:m,maxRow:C,maxCol:k,allCells:Q,selectedCells:ue}),F5=(u,m)=>{const C=u.grid.columns;let Q=u.grid.rows,ue=C,De=0,Xe=0;const ut=[],Dt=[];return ae(u.access,en=>{if(ut.push(en),m(en)){Dt.push(en);const Sn=en.row,no=Sn+en.rowspan-1,xo=en.column,Ko=xo+en.colspan-1;Sn<Q?Q=Sn:no>De&&(De=no),xo<ue?ue=xo:Ko>Xe&&(Xe=Ko)}}),Rp(Q,ue,De,Xe,ut,Dt)},am=(u,m,C)=>{const k=u[C].element,Q=Qn.fromTag("td");ua(Q,Qn.fromTag("br")),(m?ua:Ha)(k,Q)},P5=(u,m,C,k)=>{const Q=F(u,Xe=>Xe.section!=="colgroup"),ue=m.grid.columns,De=m.grid.rows;for(let Xe=0;Xe<De;Xe++){let ut=!1;for(let Dt=0;Dt<ue;Dt++)Xe<C.minRow||Xe>C.maxRow||Dt<C.minCol||Dt>C.maxCol||(qs.getAt(m,Xe,Dt).filter(k).isNone()?am(Q,ut,Xe):ut=!0)}},g8=(u,m,C,k)=>{ae(C.columns,De=>{(De.column<m.minCol||De.column>m.maxCol)&&ri(De.element)});const Q=F(Sp(u,"tr"),De=>De.dom.childElementCount===0);B(Q,ri),(m.minCol===m.maxCol||m.minRow===m.maxRow)&&B(Sp(u,"th,td"),De=>{Js(De,"rowspan"),Js(De,"colspan")}),Js(u,wd),Js(u,"data-snooker-col-series"),Op.getTableSize(u).adjustTableWidth(k)},V2=(u,m,C,k)=>{if(k.minCol===0&&m.grid.columns===k.maxCol+1)return 0;const Q=tn(m,u,C),ue=H(Q,(Dt,en)=>Dt+en,0),ut=H(Q.slice(k.minCol,k.maxCol+1),(Dt,en)=>Dt+en,0)/ue*C.pixelWidth()-C.pixelWidth();return C.getCellDelta(ut)},qh=(u,m)=>{const C=no=>ln(no.element,m),k=Xa(u),Q=uu(k),ue=Op.getTableSize(u),De=qs.generate(Q),Xe=F5(De,C),ut="th:not("+m+"),td:not("+m+")",Dt=m5(k,"th,td",no=>ln(no,ut));B(Dt,ri),P5(Q,De,Xe,C);const en=qs.fromTable(u),Sn=V2(u,en,ue,Xe);return g8(k,Xe,De,Sn),k},W2=Nl("col"),S1=Nl("colgroup"),$f=u=>ga(u)==="tr"||S1(u),T1=u=>{const m=bc(u,"colspan",1),C=bc(u,"rowspan",1);return{element:u,colspan:m,rowspan:C}},k1=(u,m=T1)=>{const C=Xe=>W2(Xe.element)?u.col(Xe):u.cell(Xe),k=Xe=>S1(Xe.element)?u.colgroup(Xe):u.row(Xe),Q=Xe=>{if($f(Xe))return k({element:Xe});{const ut=Xe,Dt=C(m(ut));return ue=b.some({item:ut,replacement:Dt}),Dt}};let ue=b.none();return{getOrInit:(Xe,ut)=>ue.fold(()=>Q(Xe),Dt=>ut(Xe,Dt.item)?Dt.replacement:Q(Xe))}},$5=u=>m=>{const C=[],k=(De,Xe)=>w(C,ut=>Xe(ut.item,De)),Q=De=>{const Xe=u==="td"?{scope:null}:{},ut=m.replace(De,u,Xe);return C.push({item:De,sub:ut}),ut};return{replaceOrInit:(De,Xe)=>{if($f(De)||W2(De))return De;{const ut=De;return k(ut,Xe).fold(()=>Q(ut),Dt=>Xe(De,Dt.item)?Dt.sub:Q(ut))}}}},K2=u=>yl(u,"scope").map(m=>m.substr(0,3)),ji={modification:k1,transform:$5,merging:u=>({unmerge:k=>{const Q=K2(k);return Q.each(ue=>fa(k,"scope",ue)),()=>{const ue=u.cell({element:k,colspan:1,rowspan:1});return Vc(ue,"width"),Vc(k,"width"),Q.each(De=>fa(ue,"scope",De)),ue}},merge:k=>{const Q=()=>{const ue=Hn(L(k,K2));if(ue.length===0)return b.none();{const De=ue[0],Xe=["row","col"];return O(ue,Dt=>Dt!==De&&N(Xe,Dt))?b.none():b.from(De)}};return Vc(k[0],"width"),Q().fold(()=>Js(k[0],"scope"),ue=>fa(k[0],"scope",ue+"group")),lt(k[0])}})},m8=(u,m)=>{const C=u.slice(0,m[m.length-1].row+1),k=nm(C);return se(k,Q=>{const ue=Q.cells.slice(0,m[m.length-1].column+1);return L(ue,De=>De.element)})},im=(u,m)=>{const C=u.slice(m[0].row+m[0].rowspan-1,u.length),k=nm(C);return se(k,Q=>{const ue=Q.cells.slice(m[0].column+m[0].colspan-1,Q.cells.length);return L(ue,De=>De.element)})},j2=(u,m,C)=>{const k=qs.fromTable(u);return di(k,m).map(ue=>{const De=If(k,C,!1),{rows:Xe}=Vs(De),ut=m8(Xe,ue),Dt=im(Xe,ue);return{upOrLeftCells:ut,downOrRightCells:Dt}})},Ar={only:(u,m)=>{const C=Kn(u)?i5(u):u;return{parent:lt(C),view:lt(u),dragContainer:lt(C),origin:lt(er(0,0)),isResizable:m}},detached:(u,m,C)=>{const k=()=>Ps(m);return{parent:lt(m),view:lt(u),dragContainer:lt(m),origin:k,isResizable:C}},body:(u,m)=>({parent:lt(u),view:lt(u),dragContainer:lt(u),origin:()=>Ps(u),isResizable:m})},Yh=qe.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),v8=(u,m,C)=>{const k=C.substring(0,C.length-u.length),Q=parseFloat(k);return k===Q.toString()?m(Q):Yh.invalid(C)},Wl={...Yh,from:u=>Ce(u,"%")?v8("%",Yh.percent,u):Ce(u,"px")?v8("px",Yh.pixels,u):Yh.invalid(u)},Xh=(u,m)=>L(u,C=>Wl.from(C).fold(()=>C,Q=>Q/m*100+"%",Q=>Q+"%")),Us=(u,m,C)=>{const k=C/m;return L(u,Q=>Wl.from(Q).fold(()=>Q,De=>De*k+"px",De=>De/100*C+"px"))},sc=(u,m)=>{const C=u.fold(()=>lt(""),k=>{const Q=k/m;return lt(Q+"px")},()=>{const k=100/m;return lt(k+"%")});return T(m,C)},Jh=(u,m,C)=>u.fold(()=>m,k=>Us(m,C,k),k=>Xh(m,C)),Z2=(u,m,C)=>{const k=Wl.from(C),Q=re(u,ue=>ue==="0px")?sc(k,u.length):Jh(k,u,m);return $k(Q)},Rr=(u,m)=>u.length===0?m:j(u,(C,k)=>Wl.from(k).fold(lt(0),qn,qn)+C,0),G2=(u,m)=>{const C=Math.floor(u);return{value:C+m,remainder:u-C}},H5=(u,m)=>Wl.from(u).fold(lt(u),C=>C+m+"px",C=>C+m+"%"),$k=u=>{if(u.length===0)return u;const m=j(u,(k,Q)=>{const ue=Wl.from(Q).fold(()=>({value:Q,remainder:0}),De=>G2(De,"px"),De=>({value:De+"%",remainder:0}));return{output:[ue.value].concat(k.output),remainder:k.remainder+ue.remainder}},{output:[],remainder:0}),C=m.output;return C.slice(0,C.length-1).concat([H5(C[C.length-1],Math.round(m.remainder))])},y8=Wl.from,C8=(u,m,C)=>{B(m,k=>{const Q=u.slice(k.column,k.colspan+k.column),ue=Rr(Q,ha());ii(k.element,"width",ue+C)})},Hk=(u,m,C)=>{B(m,(k,Q)=>{const ue=Rr([u[Q]],ha());ii(k.element,"width",ue+C)})},nC=(u,m,C)=>{B(C,k=>{Vc(k.element,"height")}),B(m,(k,Q)=>{ii(k.element,"height",u[Q])})},oC=u=>y8(u).fold(lt("px"),lt("px"),lt("%")),_8=(u,m,C)=>{const k=qs.fromTable(u),Q=k.all,ue=qs.justCells(k),De=qs.justColumns(k);m.each(Xe=>{const ut=oC(Xe),Dt=Mo(u),en=wl(k,u),Sn=Z2(en,Dt,Xe);qs.hasColumns(k)?Hk(Sn,De,ut):C8(Sn,ue,ut),ii(u,"width",Xe)}),C.each(Xe=>{const ut=gc(u),Dt=aa(k,u),en=Z2(Dt,ut,Xe);nC(en,Q,ue),ii(u,"height",Xe)})},Yc=eC,Zi=Nf,lm=S5;var Sc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Gu=()=>{const u=Dt=>Qn.fromDom(Dt.dom.cloneNode(!1)),m=Dt=>el(Dt).dom,C=Dt=>ca(Dt)?ga(Dt)==="body"?!0:N(Sc,ga(Dt)):!1,k=Dt=>ca(Dt)?N(["br","img","hr","input"],ga(Dt)):!1,Q=Dt=>ca(Dt)&&Ql(Dt,"contenteditable")==="false",ue=(Dt,en)=>Dt.dom.compareDocumentPosition(en.dom),De=(Dt,en)=>{const Sn=xd(Dt);si(en,Sn)},Xe=Dt=>{const en=ga(Dt);return N(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],en)},ut=Dt=>ca(Dt)?yl(Dt,"lang"):b.none();return{up:lt({selector:Va,closest:Wa,predicate:Dr,all:tu}),down:lt({selector:mc,predicate:g1}),styles:lt({get:Hu,getRaw:ec,set:ii,remove:Vc}),attrs:lt({get:Ql,set:fa,remove:Js,copyTo:De}),insert:lt({before:xl,after:da,afterAll:Vi,append:ua,appendAll:yi,prepend:Ha,wrap:nu}),remove:lt({unwrap:hr,remove:ri}),create:lt({nu:Qn.fromTag,clone:u,text:Qn.fromText}),query:lt({comparePosition:ue,prevSibling:Mg,nextSibling:Fu}),property:lt({children:bl,name:ga,parent:Bu,document:m,isText:Cf,isComment:r5,isElement:ca,isSpecial:Xe,getLanguage:ut,getText:Uu,setText:u1,isBoundary:C,isEmptyTag:k,isNonEditable:Q}),eq:Oo,is:ke}};const qu=(u,m)=>({item:u,mode:m}),A1=(u,m,C,k=Yu)=>u.property().parent(m).map(Q=>qu(Q,k)),Yu=(u,m,C,k=cm)=>C.sibling(u,m).map(Q=>qu(Q,k)),cm=(u,m,C,k=cm)=>{const Q=u.property().children(m);return C.first(Q).map(De=>qu(De,k))},z5=[{current:A1,next:Yu,fallback:b.none()},{current:Yu,next:cm,fallback:b.some(A1)},{current:cm,next:cm,fallback:b.some(Yu)}],E8=(u,m,C,k,Q=z5)=>w(Q,De=>De.current===C).bind(De=>De.current(u,m,k,De.next).orThunk(()=>De.fallback.bind(Xe=>E8(u,m,Xe,k)))),q2={left:()=>({sibling:(C,k)=>C.query().prevSibling(k),first:C=>C.length>0?b.some(C[C.length-1]):b.none()}),right:()=>({sibling:(C,k)=>C.query().nextSibling(k),first:C=>C.length>0?b.some(C[0]):b.none()})},U5=(u,m,C,k,Q,ue)=>E8(u,m,k,Q).bind(Xe=>ue(Xe.item)?b.none():C(Xe.item)?b.some(Xe.item):U5(u,Xe.item,C,Xe.mode,Q,ue)),w8=(u,m,C,k)=>U5(u,m,C,Yu,q2.left(),k),Y2=(u,m,C,k)=>U5(u,m,C,Yu,q2.right(),k),Hf=(u,m)=>({element:u,offset:m}),Xu=(u,m,C)=>u.property().isText(m)&&u.property().getText(m).trim().length===0||u.property().isComment(m)?C(m).bind(k=>Xu(u,k,C).orThunk(()=>b.some(k))):b.none(),Qh=(u,m)=>u.property().isText(m)?u.property().getText(m).length:u.property().children(m).length,X2=(u,m)=>{const C=Xu(u,m,u.query().prevSibling).getOr(m);if(u.property().isText(C))return Hf(C,Qh(u,C));const k=u.property().children(C);return k.length>0?X2(u,k[k.length-1]):Hf(C,Qh(u,C))},aC=X2,J2=Gu(),Q2=u=>aC(J2,u),S8=u=>m=>u.property().children(m).length===0,dm=(u,m,C)=>zf(u,m,S8(u),C),iC=(u,m,C)=>e3(u,m,S8(u),C),zf=w8,e3=Y2,Mp=Gu(),Ip=(u,m)=>dm(Mp,u,m),e0=(u,m)=>iC(Mp,u,m),_i=(u,m,C)=>zf(Mp,u,m,C),Tc=(u,m,C)=>e3(Mp,u,m,C),Ad=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],t3=(u,m)=>{const C=u.property().name(m);return N(["ol","ul"],C)},O1=(u,m)=>{const C=u.property().name(m);return N(Ad,C)},L1=(u,m)=>N(["br","img","hr","input"],u.property().name(m)),V5=(u,m,C,k)=>{const Q=C[0],ue=C.slice(1);return k(u,m,Q,ue)},ui=(u,m,C)=>C.length>0?V5(u,m,C,um):b.none(),um=(u,m,C,k)=>{const Q=m(u,C);return j(k,(ue,De)=>{const Xe=m(u,De);return kc(u,ue,Xe)},Q)},kc=(u,m,C)=>m.bind(k=>C.filter(_o(u.eq,k))),W5=(u,m)=>_o(u.eq,m),T8=(u,m,C,k=Qo)=>{const Q=[m].concat(u.up().all(m)),ue=[C].concat(u.up().all(C)),De=en=>he(en,k).fold(()=>en,no=>en.slice(0,no+1)),Xe=De(Q),ut=De(ue),Dt=w(Xe,en=>O(ut,W5(u,en)));return{firstpath:Xe,secondpath:ut,shared:Dt}},Bp=ui,D1=T8,yu=Gu(),nr=(u,m)=>Bp(yu,(C,k)=>u(k),m),Fp=(u,m,C)=>D1(yu,u,m,C),n3=Gu(),fm=u=>O1(n3,u),o3=u=>t3(n3,u),K5=u=>L1(n3,u),t0=u=>{const m=Nl("br"),C=ut=>re(ut,Dt=>m(Dt)||Cf(Dt)&&Uu(Dt).trim().length===0),k=ut=>ga(ut)==="li"||Dr(ut,o3).isSome(),Q=ut=>Fu(ut).map(Dt=>fm(Dt)?!0:K5(Dt)?ga(Dt)!=="img":!1).getOr(!1),ue=ut=>Ma(ut).bind(Dt=>{const en=Q(Dt);return Bu(Dt).map(Sn=>en===!0||k(Sn)||m(Dt)||fm(Sn)&&!Oo(ut,Sn)?[]:[Qn.fromTag("br")])}).getOr([]),Xe=(()=>{const ut=se(u,Dt=>{const en=bl(Dt);return C(en)?[]:en.concat(ue(Dt))});return ut.length===0?[Qn.fromTag("br")]:ut})();Uc(u[0]),yi(u[0],Xe)},Ju=u=>{Js(u,"width"),Js(u,"height")},n0=u=>{const m=Cc(u);_8(u,b.some(m),b.none()),Ju(u)},o0=u=>{const m=Ga(u);_8(u,b.some(m),b.none()),Ju(u)},Xc=u=>{const m=Td(u);_8(u,b.none(),b.some(m)),Ju(u)},Qu=u=>{Vc(u,"width");const m=Ih(u),C=m.length>0?m:y1(u);B(C,k=>{Vc(k,"width"),Ju(k)}),Ju(u)},La={scope:["row","col"]},Cu=u=>()=>{const m=Qn.fromTag("td",u.dom);return ua(m,Qn.fromTag("br",u.dom)),m},j5=u=>()=>Qn.fromTag("col",u.dom),Z5=u=>()=>Qn.fromTag("colgroup",u.dom),pm=u=>()=>Qn.fromTag("tr",u.dom),N1=(u,m,C)=>{const k=c1(u,m);return ae(C,(Q,ue)=>{Q===null?Js(k,ue):fa(k,ue,Q)}),k},G5=u=>u,q5=(u,m,C)=>Vu(u).map(Q=>{const ue=C.join(","),De=pr(Q,ue,Xe=>Oo(Xe,u));return j(De,(Xe,ut)=>{const Dt=pc(ut);return ua(Xe,Dt),Dt},m)}).getOr(m),s3=(u,m)=>{ae(La,(C,k)=>yl(u,k).filter(Q=>N(C,Q)).each(Q=>fa(m,k,Q)))},r3=(u,m,C)=>{const k=(De,Xe)=>{$g(De.element,Xe),Vc(Xe,"height"),De.colspan!==1&&Vc(Xe,"width")},Q=De=>{const Xe=Qn.fromTag(ga(De.element),m.dom),ut=C.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Dt=ut.length>0?q5(De.element,Xe,ut):Xe;return ua(Dt,Qn.fromTag("br")),k(De,Xe),s3(De.element,Xe),u(De.element,Xe),Xe};return{col:De=>{const Xe=Qn.fromTag(ga(De.element),m.dom);return k(De,Xe),u(De.element,Xe),Xe},colgroup:Z5(m),row:pm(m),cell:Q,replace:N1,colGap:j5(m),gap:Cu(m)}},gm=u=>({col:j5(u),colgroup:Z5(u),row:pm(u),cell:Cu(u),replace:G5,colGap:j5(u),gap:Cu(u)}),Od=u=>qs.fromTable(u).grid,k8=(u,m,C,k)=>{const Q=Vs(u).rows;if(Q.length===0)return u;for(let ue=m.startRow;ue<=m.finishRow;ue++)for(let De=m.startCol;De<=m.finishCol;De++){const Xe=Q[ue],ut=Do(Xe,De).isLocked;Is(Xe,De,on(k(),!1,ut))}return u},A8=(u,m,C,k)=>{const Q=Vs(u).rows;let ue=!0;for(let De=0;De<Q.length;De++)for(let Xe=0;Xe<As(Q[0]);Xe++){const ut=Q[De],Dt=Do(ut,Xe),en=Dt.element,Sn=C(en,m);Sn&&!ue?Is(ut,Xe,on(k(),!0,Dt.isLocked)):Sn&&(ue=!1)}return u},Ei=(u,m)=>H(u,(C,k)=>O(C,Q=>m(Q.element,k.element))?C:C.concat([k]),[]),lC=(u,m,C,k)=>(m>0&&m<u[0].cells.length&&B(u,Q=>{const ue=Q.cells[m-1];let De=0;const Xe=k();for(;Q.cells.length>m+De&&C(ue.element,Q.cells[m+De].element);)Is(Q,m+De,on(Xe,!0,Q.cells[m+De].isLocked)),De++}),u),R1=(u,m,C,k)=>{const Q=Vs(u).rows;if(m>0&&m<Q.length){const ue=Q[m-1].cells,De=Ei(ue,C);B(De,Xe=>{let ut=b.none();for(let Dt=m;Dt<Q.length;Dt++)for(let en=0;en<As(Q[0]);en++){const Sn=Q[Dt],no=Do(Sn,en);C(no.element,Xe.element)&&(ut.isNone()&&(ut=b.some(k())),ut.each(Ko=>{Is(Sn,en,on(Ko,!0,no.isLocked))}))}})}return u},Y5=(u,m,C)=>{if(u.row>=m.length||u.column>As(m[0]))return bn.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);const k=m.slice(u.row),Q=k[0].cells.slice(u.column),ue=As(C[0]),De=C.length;return bn.value({rowDelta:k.length-De,colDelta:Q.length-ue})},X5=(u,m)=>{const C=As(u[0]),k=As(m[0]);return{rowDelta:0,colDelta:C-k}},J5=(u,m)=>{const C=u.length,k=m.length;return{rowDelta:C-k,colDelta:0}},s0=(u,m,C,k)=>{const Q=m.section==="colgroup"?C.col:C.cell;return T(u,ue=>on(Q(),!0,k(ue)))},Q5=(u,m,C,k)=>{const Q=u[u.length-1];return u.concat(T(m,()=>{const ue=Q.section==="colgroup"?C.colgroup:C.row,De=go(Q,ue,qn),Xe=s0(De.cells.length,De,C,ut=>Me(k,ut.toString()));return bs(De,Xe)}))},eb=(u,m,C,k)=>L(u,Q=>{const ue=s0(m,Q,C,Qo);return Bs(Q,k,ue)}),cC=(u,m,C)=>L(u,k=>H(C,(Q,ue)=>{const De=s0(1,k,m,s)[0];return ps(Q,ue,De)},k)),r0=(u,m,C)=>{const k=m.colDelta<0?eb:qn,Q=m.rowDelta<0?Q5:qn,ue=xc(u),De=As(u[0]),Xe=O(ue,en=>en===De-1),ut=k(u,Math.abs(m.colDelta),C,Xe?De-1:De),Dt=xc(ut);return Q(ut,Math.abs(m.rowDelta),C,M(Dt,s))},jr=(u,m,C,k)=>{const Q=Do(u[m],C),ue=_o(k,Q.element),De=u[m];return u.length>1&&As(De)>1&&(C>0&&ue(zs(De,C-1))||C<De.cells.length-1&&ue(zs(De,C+1))||m>0&&ue(zs(u[m-1],C))||m<u.length-1&&ue(zs(u[m+1],C)))},Ya=(u,m,C,k,Q,ue)=>{const De=u.row,Xe=u.column,ut=C.length,Dt=As(C[0]),en=De+ut,Sn=Xe+Dt+ue.length,no=M(ue,s);for(let xo=De;xo<en;xo++){let Ko=0;for(let yn=Xe;yn<Sn;yn++){if(no[yn]){Ko++;continue}jr(m,xo,yn,Q)&&A8(m,zs(m[xo],yn),Q,k.cell);const In=yn-Xe-Ko,os=Do(C[xo-De],In),Ss=os.element,No=k.replace(Ss);Is(m[xo],yn,on(No,!0,os.isLocked))}}return m},fi=(u,m,C)=>{const k=As(m[0]),Q=Vs(m).cols.length+u.row,ue=T(k-u.column,Xe=>Xe+u.column),De=w(ue,Xe=>re(C,ut=>ut!==Xe)).getOr(k-1);return{row:Q,column:De}},wi=(u,m,C)=>F(C,k=>k>=u.column&&k<=As(m[0])+u.column),pi=(u,m,C,k,Q)=>{const ue=xc(m),De=fi(u,m,ue),Xe=Vs(C).rows,ut=wi(De,Xe,ue);return Y5(De,m,Xe).map(en=>{const Sn={...en,colDelta:en.colDelta-ut.length},no=r0(m,Sn,k),xo=xc(no),Ko=wi(De,Xe,xo);return Ya(De,no,Xe,k,Q,Ko)})},Ba=(u,m,C,k,Q)=>{lC(m,u,Q,k.cell);const ue=J5(C,m),De=r0(C,ue,k),Xe=J5(m,De),ut=r0(m,Xe,k);return L(ut,(Dt,en)=>Bs(Dt,u,De[en].cells))},a0=(u,m,C,k,Q)=>{R1(m,u,Q,k.cell);const ue=xc(m),De=X5(m,C),Xe={...De,colDelta:De.colDelta-ue.length},ut=r0(m,Xe,k),{cols:Dt,rows:en}=Vs(ut),Sn=xc(ut),no=X5(C,m),xo={...no,colDelta:no.colDelta+Sn.length},Ko=cC(C,k,Sn),yn=r0(Ko,xo,k);return[...Dt,...en.slice(0,u),...yn,...en.slice(u,en.length)]},a3=(u,m,C,k)=>go(u,Q=>k(Q,C),m),tb=(u,m,C,k,Q)=>{const{rows:ue,cols:De}=Vs(u),Xe=ue.slice(0,m),ut=ue.slice(m),Dt=a3(ue[C],(en,Sn)=>m>0&&m<ue.length&&k(zs(ue[m-1],Sn),zs(ue[m],Sn))?Do(ue[m],Sn):on(Q(en.element,k),!0,en.isLocked),k,Q);return[...De,...Xe,Dt,...ut]},nb=(u,m,C,k,Q,ue,De)=>{if(C==="colgroup"||!k){const Xe=Do(u,Q);return on(De(Xe.element,ue),!0,!1)}else return Do(u,m)},ob=(u,m,C,k,Q)=>L(u,ue=>{const De=m>0&&m<As(ue)&&k(zs(ue,m-1),zs(ue,m)),Xe=nb(ue,m,ue.section,De,C,k,Q);return ps(ue,m,Xe)}),mm=(u,m)=>se(u,C=>{const k=C.cells,Q=j(m,(ue,De)=>De>=0&&De<ue.length?ue.slice(0,De).concat(ue.slice(De+1)):ue,k);return Q.length>0?[_n(C.element,Q,C.section,C.isNew)]:[]}),sb=(u,m,C)=>{const{rows:k,cols:Q}=Vs(u);return[...Q,...k.slice(0,m),...k.slice(C+1)]},Pp=(u,m,C,k)=>zs(u[m],C)!==void 0&&m>0&&k(zs(u[m-1],C),zs(u[m],C)),i0=(u,m,C)=>m>0&&C(zs(u,m-1),zs(u,m)),rb=(u,m,C,k)=>Pp(u,m,C,k)||i0(u[m],C,k),l0=(u,m)=>re(m,qn)&&P2(u.cells)?s:(k,Q,ue)=>!(ga(k.element)==="th"&&m[ue]),ab=(u,m)=>re(m,qn)&&P2(u)?s:(k,Q,ue)=>!(ga(k.element)==="th"&&m[Q]),_u=(u,m,C,k)=>{const Q=De=>De==="row"?Vy(m):g5(m),ue=De=>Q(De)?`${De}group`:De;return u?du(m)?ue(C):null:k&&du(m)?ue(C==="row"?"col":"row"):null},i3=(u,m)=>(C,k,Q)=>b.some(_u(u,C.element,"col",m[Q])),l3=(u,m)=>(C,k)=>b.some(_u(u,C.element,"row",m[k])),c3=(u,m,C)=>on(C(u.element,m),!0,u.isLocked),c0=(u,m,C,k,Q,ue,De)=>{const Xe=ut=>O(m,Dt=>C(ut.element,Dt.element));return L(u,(ut,Dt)=>qo(ut,(en,Sn)=>{if(Xe(en)){const no=De(en,Dt,Sn)?Q(en,C,k):en;return ue(no,Dt,Sn).each(xo=>{$u(no.element,{scope:b.from(xo)})}),no}else return en}))},d0=(u,m,C)=>se(u,(k,Q)=>rb(u,Q,m,C)?[]:[Do(k,m)]),Uf=(u,m,C)=>{const k=u[m];return se(k.cells,(Q,ue)=>rb(u,m,ue,C)?[]:[Q])},Eu=(u,m,C,k,Q)=>{const ue=Vs(u).rows,De=se(m,en=>d0(ue,en,k)),Xe=L(ue,en=>P2(en.cells)),ut=ab(De,Xe),Dt=l3(C,Xe);return c0(u,De,k,Q,c3,Dt,ut)},d3=(u,m,C,k,Q,ue,De)=>{const{cols:Xe,rows:ut}=Vs(u),Dt=ut[m[0]],en=se(m,In=>Uf(ut,In,Q)),Sn=L(Dt.cells,(In,os)=>P2(d0(ut,os,Q))),no=[...ut];B(m,In=>{no[In]=De.transformRow(ut[In],C)});const xo=[...Xe,...no],Ko=l0(Dt,Sn),yn=i3(k,Sn);return c0(xo,en,Q,ue,De.transformCell,yn,Ko)},hn=(u,m,C,k)=>{const Q=Vs(u).rows,ue=L(m,De=>Do(Q[De.row],De.column));return c0(u,ue,C,k,c3,b.none,s)},Jc=u=>H(u,(C,k)=>O(C,ue=>ue.column===k.column)?C:C.concat([k]),[]).sort((C,k)=>C.column-k.column),Qc=u=>kf(u,!0),hm=u=>{y1(u).length===0&&ri(u)},$p=(u,m)=>({grid:u,cursor:m}),Ld=u=>J(u,m=>J(m.cells,C=>{const k=C.element;return ro(Qc(k),k)})),O8=(u,m,C)=>{var k,Q;const ue=Vs(u).rows;return b.from((Q=(k=ue[m])===null||k===void 0?void 0:k.cells[C])===null||Q===void 0?void 0:Q.element).filter(Qc).orThunk(()=>Ld(ue))},al=(u,m,C)=>{const k=O8(u,m,C);return $p(u,k)},u0=u=>H(u,(C,k)=>O(C,ue=>ue.row===k.row)?C:C.concat([k]),[]).sort((C,k)=>C.row-k.row),ib=(u,m,C,k)=>{const Q=m[0].row,ue=u0(m),De=j(ue,(Xe,ut)=>({grid:tb(Xe.grid,Q,ut.row+Xe.delta,C,k.getOrInit),delta:Xe.delta+1}),{grid:u,delta:0}).grid;return al(De,Q,m[0].column)},L8=(u,m,C,k)=>{const Q=u0(m),ue=Q[Q.length-1],De=ue.row+ue.rowspan,Xe=j(Q,(ut,Dt)=>tb(ut,De,Dt.row,C,k.getOrInit),u);return al(Xe,De,m[0].column)},lb=(u,m,C,k)=>{const Q=m.details,ue=Jc(Q),De=ue[0].column,Xe=j(ue,(ut,Dt)=>({grid:ob(ut.grid,De,Dt.column+ut.delta,C,k.getOrInit),delta:ut.delta+1}),{grid:u,delta:0}).grid;return al(Xe,Q[0].row,De)},bm=(u,m,C,k)=>{const Q=m.details,ue=Q[Q.length-1],De=ue.column+ue.colspan,Xe=Jc(Q),ut=j(Xe,(Dt,en)=>ob(Dt,De,en.column,C,k.getOrInit),u);return al(ut,Q[0].row,De)},u3=(u,m,C,k)=>{const Q=Jc(m),ue=L(Q,Xe=>Xe.column),De=Eu(u,ue,!0,C,k.replaceOrInit);return al(De,m[0].row,m[0].column)},Vf=(u,m,C,k)=>{const Q=hn(u,m,C,k.replaceOrInit);return al(Q,m[0].row,m[0].column)},f3=(u,m,C,k)=>{const Q=Jc(m),ue=L(Q,Xe=>Xe.column),De=Eu(u,ue,!1,C,k.replaceOrInit);return al(De,m[0].row,m[0].column)},dC=(u,m,C,k)=>{const Q=hn(u,m,C,k.replaceOrInit);return al(Q,m[0].row,m[0].column)},il=(u,m)=>(C,k,Q,ue,De)=>{const Xe=u0(k),ut=L(Xe,en=>en.row),Dt=d3(C,ut,u,m,Q,ue.replaceOrInit,De);return al(Dt,k[0].row,k[0].column)},Dd=il("thead",!0),Tl=il("tbody",!1),uC=il("tfoot",!1),Hp=(u,m,C,k)=>{const Q=Jc(m.details),ue=mm(u,L(Q,Xe=>Xe.column)),De=ue.length>0?ue[0].cells.length-1:0;return al(ue,Q[0].row,Math.min(Q[0].column,De))},fC=(u,m,C,k)=>{const Q=u0(m),ue=sb(u,Q[0].row,Q[Q.length-1].row),De=Math.max(Vs(ue).rows.length-1,0);return al(ue,Math.min(m[0].row,De),m[0].column)},cb=(u,m,C,k)=>{const Q=m.cells;t0(Q);const ue=k8(u,m.bounds,C,k.merge(Q));return $p(ue,b.from(Q[0]))},D8=(u,m,C,k)=>{const ue=j(m,(De,Xe)=>A8(De,Xe,C,k.unmerge(Xe)),u);return $p(ue,b.from(m[0]))},N8=(u,m,C,k)=>{const ue=((ut,Dt)=>{const en=qs.fromTable(ut);return If(en,Dt,!0)})(m.clipboard,m.generators),De=Ut(m.row,m.column);return pi(De,u,ue,m.generators,C).fold(()=>$p(u,b.some(m.element)),ut=>al(ut,m.row,m.column))},Hs=(u,m,C)=>{const k=Za(u,C.section),Q=qs.generate(k);return If(Q,m,!0)},Jo=(u,m,C,k)=>{const Q=Vs(u).rows,ue=m.cells[0].column,De=Q[m.cells[0].row],Xe=Hs(m.clipboard,m.generators,De),ut=Ba(ue,u,Xe,m.generators,C);return al(ut,m.cells[0].row,m.cells[0].column)},vm=(u,m,C,k)=>{const Q=Vs(u).rows,ue=m.cells[m.cells.length-1].column+m.cells[m.cells.length-1].colspan,De=Q[m.cells[0].row],Xe=Hs(m.clipboard,m.generators,De),ut=Ba(ue,u,Xe,m.generators,C);return al(ut,m.cells[0].row,ue)},db=(u,m,C,k)=>{const Q=Vs(u).rows,ue=m.cells[0].row,De=Q[ue],Xe=Hs(m.clipboard,m.generators,De),ut=a0(ue,u,Xe,m.generators,C);return al(ut,m.cells[0].row,m.cells[0].column)},ub=(u,m,C,k)=>{const Q=Vs(u).rows,ue=m.cells[m.cells.length-1].row+m.cells[m.cells.length-1].rowspan,De=Q[m.cells[0].row],Xe=Hs(m.clipboard,m.generators,De),ut=a0(ue,u,Xe,m.generators,C);return al(ut,ue,m.cells[0].column)},R8=(u,m)=>{const C=qs.fromTable(u);return di(C,m).bind(Q=>{const ue=Q[Q.length-1],De=Q[0].column,Xe=ue.column+ue.colspan,ut=be(L(C.all,Dt=>F(Dt.cells,en=>en.column>=De&&en.column<Xe)));return v5(ut)}).getOr("")},fb=(u,m)=>{const C=qs.fromTable(u);return di(C,m).bind(v5).getOr("")},Qr=(u,m)=>{const C=qs.fromTable(u);return di(C,m).bind(Q=>{const ue=Q[Q.length-1],De=Q[0].row,Xe=ue.row+ue.rowspan,ut=C.all.slice(De,Xe);return n8(ut)}).getOr("")},xm=(u,m,C,k)=>B5(u,m,C,k.sizing),pb=(u,m,C,k)=>Kh(u,m,C,k.sizing,k.resize),M8=(u,m)=>O(m,C=>C.column===0&&C.isLocked),xn=(u,m)=>O(m,C=>C.column+C.colspan>=u.grid.columns&&C.isLocked),p3=(u,m)=>{const C=$2(u),k=Jc(m);return H(k,(Q,ue)=>{const Xe=C[ue.column].map(ka).getOr(0);return Q+Xe},0)},gb=u=>(m,C)=>di(m,C).filter(k=>!(u?M8:xn)(m,k)).map(k=>({details:k,pixelDelta:p3(m,k)})),f0=(u,m)=>sm(u,m).map(C=>({details:C,pixelDelta:-p3(u,C)})),I8=u=>(m,C)=>kd(m,C).filter(k=>!(u?M8:xn)(m,k.cells)),ef=ji.transform("th"),zp=ji.transform("td"),Up=(u,m,C,k)=>qa(ib,di,jt,jt,ji.modification,u,m,C,k),pC=(u,m,C,k)=>qa(L8,di,jt,jt,ji.modification,u,m,C,k),ym=(u,m,C,k)=>qa(lb,gb(!0),pb,jt,ji.modification,u,m,C,k),Wr=(u,m,C,k)=>qa(bm,gb(!1),pb,jt,ji.modification,u,m,C,k),wu=(u,m,C,k)=>qa(Hp,f0,pb,hm,ji.modification,u,m,C,k),B8=(u,m,C,k)=>qa(fC,di,jt,hm,ji.modification,u,m,C,k),Wf=(u,m,C,k)=>qa(u3,sm,jt,jt,ef,u,m,C,k),Nd=(u,m,C,k)=>qa(f3,sm,jt,jt,zp,u,m,C,k),gC=(u,m,C,k)=>qa(Dd,di,jt,jt,ef,u,m,C,k),mC=(u,m,C,k)=>qa(Tl,di,jt,jt,zp,u,m,C,k),mb=(u,m,C,k)=>qa(uC,di,jt,jt,zp,u,m,C,k),hC=(u,m,C,k)=>qa(Vf,sm,jt,jt,ef,u,m,C,k),F8=(u,m,C,k)=>qa(dC,sm,jt,jt,zp,u,m,C,k),P8=(u,m,C,k)=>qa(cb,bu,xm,jt,ji.merging,u,m,C,k),$8=(u,m,C,k)=>qa(D8,vu,xm,jt,ji.merging,u,m,C,k),H8=(u,m,C,k)=>qa(N8,R5,xm,jt,ji.modification,u,m,C,k),Xn=(u,m,C,k)=>qa(Jo,I8(!0),jt,jt,ji.modification,u,m,C,k),bC=(u,m,C,k)=>qa(vm,I8(!1),jt,jt,ji.modification,u,m,C,k),gi=(u,m,C,k)=>qa(db,kd,jt,jt,ji.modification,u,m,C,k),vC=(u,m,C,k)=>qa(ub,kd,jt,jt,ji.modification,u,m,C,k),z8=R8,hb=fb,xC=Qr,Cs=(u,m)=>{const C=m.column,k=m.column+m.colspan-1,Q=m.row,ue=m.row+m.rowspan-1;return C<=u.finishCol&&k>=u.startCol&&Q<=u.finishRow&&ue>=u.startRow},yC=(u,m)=>m.column>=u.startCol&&m.column+m.colspan-1<=u.finishCol&&m.row>=u.startRow&&m.row+m.rowspan-1<=u.finishRow,bb=(u,m)=>{let C=!0;const k=_o(yC,m);for(let Q=m.startRow;Q<=m.finishRow;Q++)for(let ue=m.startCol;ue<=m.finishCol;ue++)C=C&&qs.getAt(u,Q,ue).exists(k);return C?b.some(m):b.none()},zk=(u,m)=>Dn(Math.min(u.row,m.row),Math.min(u.column,m.column),Math.max(u.row+u.rowspan-1,m.row+m.rowspan-1),Math.max(u.column+u.colspan-1,m.column+m.colspan-1)),CC=(u,m,C)=>{const k=qs.findItem(u,m,Oo),Q=qs.findItem(u,C,Oo);return k.bind(ue=>Q.map(De=>zk(ue,De)))},_C=(u,m,C)=>CC(u,m,C).bind(k=>bb(u,k)),U8=(u,m,C,k)=>qs.findItem(u,m,Oo).bind(Q=>{const ue=C>0?Q.row+Q.rowspan-1:Q.row,De=k>0?Q.column+Q.colspan-1:Q.column;return qs.getAt(u,ue+C,De+k).map(ut=>ut.element)}),EC=(u,m,C)=>CC(u,m,C).map(k=>{const Q=qs.filterItems(u,_o(Cs,k));return L(Q,ue=>ue.element)}),V8=(u,m)=>{const C=(k,Q)=>To(Q,k);return qs.findItem(u,m,C).map(k=>k.element)},wC=(u,m,C)=>Ul(u).bind(k=>{const Q=Ac(k);return U8(Q,u,m,C)}),Es=(u,m,C)=>{const k=Ac(u);return EC(k,m,C)},Ao=(u,m,C,k,Q)=>{const ue=Ac(u),De=Oo(u,C)?b.some(m):V8(ue,m),Xe=Oo(u,Q)?b.some(k):V8(ue,k);return De.bind(ut=>Xe.bind(Dt=>EC(ue,ut,Dt)))},Rd=(u,m,C)=>{const k=Ac(u);return _C(k,m,C)},Ac=qs.fromTable,g3={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},rc=()=>Qn.fromTag("th"),m3=()=>Qn.fromTag("td"),Cm=()=>Qn.fromTag("col"),h3=(u,m,C,k)=>{const Q=Qn.fromTag("tr");for(let ue=0;ue<u;ue++){const De=k<m||ue<C?rc():m3();ue<C&&fa(De,"scope","row"),k<m&&fa(De,"scope","col"),ua(De,Qn.fromTag("br")),ua(Q,De)}return Q},_m=u=>{const m=Qn.fromTag("colgroup");return T(u,()=>ua(m,Cm())),m},p0=(u,m,C,k)=>T(u,Q=>h3(m,C,k,Q)),Kf=(u,m,C,k,Q,ue=g3)=>{const De=Qn.fromTag("table"),Xe=Q!=="cells";Kr(De,ue.styles),si(De,ue.attributes),ue.colGroups&&ua(De,_m(m));const ut=Math.min(u,C);if(Xe&&C>0){const xo=Qn.fromTag("thead");ua(De,xo);const yn=p0(C,m,Q==="sectionCells"?ut:0,k);yi(xo,yn)}const Dt=Qn.fromTag("tbody");ua(De,Dt);const en=Xe?u-ut:u,no=p0(en,m,Xe?0:C,k);return yi(Dt,no),De},Mr=u=>{let m=[];return{bind:ue=>{if(ue===void 0)throw new Error("Event bind error: undefined handler");m.push(ue)},unbind:ue=>{m=F(m,De=>De!==ue)},trigger:(...ue)=>{const De={};B(u,(Xe,ut)=>{De[Xe]=ue[ut]}),B(m,Xe=>{Xe(De)})}}},Oc=u=>{const m=Le(u,k=>({bind:k.bind,unbind:k.unbind})),C=Le(u,k=>k.trigger);return{registry:m,trigger:C}},SC=et(["compare","extract","mutate","sink"]),TC=et(["element","start","stop","destroy"]),kC=et(["forceDrop","drop","move","delayDrop"]),AC=()=>{let u=b.none();const m=()=>{u=b.none()},C=(ue,De)=>{const Xe=u.map(ut=>ue.compare(ut,De));return u=b.some(De),Xe},k=(ue,De)=>{De.extract(ue).each(ut=>{C(De,ut).each(en=>{Q.trigger.move(en)})})},Q=Oc({move:Mr(["info"])});return{onEvent:k,reset:m,events:Q.registry}},or=()=>{const u=Oc({move:Mr(["info"])});return{onEvent:jt,reset:jt,events:u.registry}},Md=()=>{const u=or(),m=AC();let C=u;return{on:()=>{C.reset(),C=m},off:()=>{C.reset(),C=u},isOn:()=>C===m,onEvent:(Xe,ut)=>{C.onEvent(Xe,ut)},events:m.events}},M1=(u,m,C)=>{let k=!1;const Q=Oc({start:Mr([]),stop:Mr([])}),ue=Md(),De=()=>{Ko.stop(),ue.isOn()&&(ue.off(),Q.trigger.stop())},Xe=me(De,200),ut=In=>{Ko.start(In),ue.on(),Q.trigger.start()},Dt=In=>{Xe.cancel(),ue.onEvent(In,m)};ue.events.move.bind(In=>{m.mutate(u,In.info)});const en=()=>{k=!0},Sn=()=>{k=!1},no=()=>k,xo=In=>(...os)=>{k&&In.apply(null,os)},Ko=m.sink(kC({forceDrop:De,drop:xo(De),move:xo(Dt),delayDrop:xo(Xe.throttle)}),C),yn=()=>{Ko.destroy()};return{element:Ko.element,go:ut,on:en,off:Sn,isActive:no,destroy:yn,events:Q.registry}},Vp=Mn("ephox-dragster").resolve,ar=u=>{const m={layerClass:Vp("blocker"),...u},C=Qn.fromTag("div");return fa(C,"role","presentation"),Kr(C,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Wc(C,Vp("blocker")),Wc(C,m.layerClass),{element:lt(C),destroy:()=>{ri(C)}}};var g0=SC({compare:(u,m)=>er(m.left-u.left,m.top-u.top),extract:u=>b.some(er(u.x,u.y)),sink:(u,m)=>{const C=ar(m),k=zc(C.element(),"mousedown",u.forceDrop),Q=zc(C.element(),"mouseup",u.drop),ue=zc(C.element(),"mousemove",u.move),De=zc(C.element(),"mouseout",u.delayDrop),Xe=()=>{C.destroy(),Q.unbind(),ue.unbind(),De.unbind(),k.unbind()},ut=en=>{ua(en,C.element())},Dt=()=>{ri(C.element())};return TC({element:C.element,start:ut,stop:Dt,destroy:Xe})},mutate:(u,m)=>{u.mutate(m.left,m.top)}});const vb=(u,m={})=>{var C;const k=(C=m.mode)!==null&&C!==void 0?C:g0;return M1(u,k,m)},m0=Mn("ephox-snooker").resolve,LC=()=>{const u=Oc({drag:Mr(["xDelta","yDelta"])});return{mutate:(C,k)=>{u.trigger.drag(C,k)},events:u.registry}},b3=()=>{const u=Oc({drag:Mr(["xDelta","yDelta","target"])});let m=b.none();const C=LC();return C.events.drag.bind(ue=>{m.each(De=>{u.trigger.drag(ue.xDelta,ue.yDelta,De)})}),{assign:ue=>{m=b.some(ue)},get:()=>m,mutate:C.mutate,events:u.registry}},DC=(u,m,C,k,Q)=>{const ue=Qn.fromTag("div");return Kr(ue,{position:"absolute",left:m-k/2+"px",top:C+"px",height:Q+"px",width:k+"px"}),si(ue,{"data-mce-bogus":"all","data-column":u,role:"presentation"}),ue},NC=(u,m,C,k,Q)=>{const ue=Qn.fromTag("div");return Kr(ue,{position:"absolute",left:m+"px",top:C-Q/2+"px",height:Q+"px",width:k+"px"}),si(ue,{"data-mce-bogus":"all","data-row":u,role:"presentation"}),ue},v3=m0("resizer-bar"),x3=m0("resizer-rows"),xb=m0("resizer-cols"),K8=7,j8=(u,m)=>se(u.all,(C,k)=>m(C.element)?[k]:[]),Z8=(u,m)=>{const C=[];return T(u.grid.columns,k=>{qs.getColumnAt(u,k).map(ue=>ue.element).forall(m)&&C.push(k)}),F(C,k=>{const Q=qs.filterItems(u,ue=>ue.column===k);return re(Q,ue=>m(ue.element))})},yb=u=>{const m=mc(u.parent(),"."+v3);B(m,ri)},Cb=(u,m,C)=>{const k=u.origin();B(m,Q=>{Q.each(ue=>{const De=C(k,ue);Wc(De,v3),ua(u.parent(),De)})})},gr=(u,m,C,k)=>{Cb(u,m,(Q,ue)=>{const De=DC(ue.col,ue.x-Q.left,C.top-Q.top,K8,k);return Wc(De,xb),De})},Wp=(u,m,C,k)=>{Cb(u,m,(Q,ue)=>{const De=NC(ue.row,C.left-Q.left,ue.y-Q.top,k,K8);return Wc(De,x3),De})},_b=(u,m,C,k,Q)=>{const ue=Ps(C),De=m.isResizable,Xe=k.length>0?li.positions(k,C):[],ut=Xe.length>0?j8(u,De):[],Dt=F(Xe,(xo,Ko)=>O(ut,yn=>Ko===yn));Wp(m,Dt,ue,ka(C));const en=Q.length>0?Gc.positions(Q,C):[],Sn=en.length>0?Z8(u,De):[],no=F(en,(xo,Ko)=>O(Sn,yn=>Ko===yn));gr(m,no,ue,Sh(C))},h0=(u,m)=>{if(yb(u),u.isResizable(m)){const C=qs.fromTable(m),k=r8(C),Q=$2(C);_b(C,u,m,k,Q)}},I1=(u,m)=>{const C=mc(u.parent(),"."+v3);B(C,m)},Em=u=>{I1(u,m=>{ii(m,"display","none")})},RC=u=>{I1(u,m=>{ii(m,"display","block")})},MC=u=>p1(u,x3),wm=u=>p1(u,xb),IC=m0("resizer-bar-dragging"),b0=u=>{const m=b3(),C=vb(m,{});let k=b.none();const Q=(yn,In)=>b.from(Ql(yn,In));m.events.drag.bind(yn=>{Q(yn.target,"data-row").each(In=>{const os=Ka(yn.target,"top");ii(yn.target,"top",os+yn.yDelta+"px")}),Q(yn.target,"data-column").each(In=>{const os=Ka(yn.target,"left");ii(yn.target,"left",os+yn.xDelta+"px")})});const ue=(yn,In)=>{const os=Ka(yn,In),Ss=bc(yn,"data-initial-"+In,0);return os-Ss};C.events.stop.bind(()=>{m.get().each(yn=>{k.each(In=>{Q(yn,"data-row").each(os=>{const Ss=ue(yn,"top");Js(yn,"data-initial-top"),Ko.trigger.adjustHeight(In,Ss,parseInt(os,10))}),Q(yn,"data-column").each(os=>{const Ss=ue(yn,"left");Js(yn,"data-initial-left"),Ko.trigger.adjustWidth(In,Ss,parseInt(os,10))}),h0(u,In)})})});const De=(yn,In)=>{Ko.trigger.startAdjust(),m.assign(yn),fa(yn,"data-initial-"+In,Ka(yn,In)),Wc(yn,IC),ii(yn,"opacity","0.2"),C.go(u.dragContainer())},Xe=zc(u.parent(),"mousedown",yn=>{MC(yn.target)&&De(yn.target,"top"),wm(yn.target)&&De(yn.target,"left")}),ut=yn=>Oo(yn,u.view()),Dt=yn=>Wa(yn,"table",ut).filter(kf),en=yn=>p1(yn,"ephox-snooker-resizer-bar")||p1(yn,"ephox-dragster-blocker"),Sn=zc(u.view(),"mouseover",yn=>{Dt(yn.target).fold(()=>{ss(yn.target)&&!en(yn.target)&&yb(u)},In=>{C.isActive()&&(k=b.some(In),h0(u,In))})}),no=()=>{Xe.unbind(),Sn.unbind(),C.destroy(),yb(u)},xo=yn=>{h0(u,yn)},Ko=Oc({adjustHeight:Mr(["table","delta","row"]),adjustWidth:Mr(["table","delta","column"]),startAdjust:Mr([])});return{destroy:no,refresh:xo,on:C.on,off:C.off,hideBars:_o(Em,u),showBars:_o(RC,u),events:Ko.registry}},BC={create:(u,m,C)=>{const k=li,Q=Gc,ue=b0(u),De=Oc({beforeResize:Mr(["table","type"]),afterResize:Mr(["table","type"]),startDrag:Mr([])});return ue.events.adjustHeight.bind(Xe=>{const ut=Xe.table;De.trigger.beforeResize(ut,"row");const Dt=k.delta(Xe.delta,ut);f8(ut,Dt,Xe.row),De.trigger.afterResize(ut,"row")}),ue.events.startAdjust.bind(Xe=>{De.trigger.startDrag()}),ue.events.adjustWidth.bind(Xe=>{const ut=Xe.table;De.trigger.beforeResize(ut,"col");const Dt=Q.delta(Xe.delta,ut),en=C(ut);Np(ut,Dt,Xe.column,m,en),De.trigger.afterResize(ut,"col")}),{on:ue.on,off:ue.off,refreshBars:ue.refresh,hideBars:ue.hideBars,showBars:ue.showBars,destroy:ue.destroy,events:De.registry}}},B1=u=>m=>m.options.get(u),G8="100%",q8=u=>{var m;const C=u.dom,k=(m=C.getParent(u.selection.getStart(),C.isBlock))!==null&&m!==void 0?m:u.getBody();return Qa(Qn.fromDom(k))+"px"},FC=(u,m)=>x0(u)||!Sb(u)?m:tf(u)?{...m,width:q8(u)}:{...m,width:G8},Y8=(u,m)=>x0(u)||Sb(u)?m:tf(u)?{...m,width:q8(u)}:{...m,width:G8},PC=u=>{const m=u.options.register;m("table_clone_elements",{processor:"string[]"}),m("table_use_colgroups",{processor:"boolean",default:!0}),m("table_header_type",{processor:C=>{const k=N(["section","cells","sectionCells","auto"],C);return k?{value:C,valid:k}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),m("table_sizing_mode",{processor:"string",default:"auto"}),m("table_default_attributes",{processor:"object",default:{border:"1"}}),m("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),m("table_column_resizing",{processor:C=>{const k=N(["preservetable","resizetable"],C);return k?{value:C,valid:k}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),m("table_resize_bars",{processor:"boolean",default:!0}),m("table_style_by_css",{processor:"boolean",default:!0}),m("table_merge_content_on_paste",{processor:"boolean",default:!0})},X8=u=>b.from(u.options.get("table_clone_elements")),Eb=u=>{const m=u.options.get("object_resizing");return N(m.split(","),"table")},F1=B1("table_header_type"),v0=B1("table_column_resizing"),y3=u=>v0(u)==="preservetable",wb=u=>v0(u)==="resizetable",C3=B1("table_sizing_mode"),Sm=u=>C3(u)==="relative",tf=u=>C3(u)==="fixed",x0=u=>C3(u)==="responsive",J8=B1("table_resize_bars"),Sb=B1("table_style_by_css"),Q8=B1("table_merge_content_on_paste"),e7=u=>{const m=u.options,C=m.get("table_default_attributes");return m.isSet("table_default_attributes")?C:Y8(u,C)},t7=u=>{const m=u.options,C=m.get("table_default_styles");return m.isSet("table_default_styles")?C:FC(u,C)},$C=B1("table_use_colgroups"),jp=u=>Qn.fromDom(u.getBody()),Tm=u=>m=>Oo(m,jp(u)),Zp=u=>{Js(u,"data-mce-style");const m=C=>Js(C,"data-mce-style");B(y1(u),m),B(Ih(u),m),B(ja(u),m)},_3=u=>Qn.fromDom(u.selection.getStart()),n7=u=>u.getBoundingClientRect().width,o7=u=>u.getBoundingClientRect().height,s7=u=>(m,C)=>{const k=m.dom.getStyle(C,u)||m.dom.getAttrib(C,u);return b.from(k).filter(te)},E3=s7("width"),r7=s7("height"),HC=u=>/^(\d+(\.\d+)?)%$/.test(u),a7=u=>/^(\d+(\.\d+)?)px$/.test(u),w3=u=>L2(u,Nl("table")).exists(kf),Tb=u=>Va(u,"table"),y0=(u,m,C)=>{const k=Q=>ue=>C!==void 0&&C(ue)||Oo(ue,Q);return Oo(u,m)?b.some({boxes:b.some([u]),start:u,finish:m}):Tb(u).bind(Q=>Tb(m).bind(ue=>{if(Oo(Q,ue))return b.some({boxes:Es(Q,u,m),start:u,finish:m});if(To(Q,ue)){const De=pr(m,"td,th",k(Q)),Xe=De.length>0?De[De.length-1]:m;return b.some({boxes:Ao(Q,u,Q,m,ue),start:u,finish:Xe})}else if(To(ue,Q)){const De=pr(u,"td,th",k(ue)),Xe=De.length>0?De[De.length-1]:u;return b.some({boxes:Ao(ue,u,Q,m,ue),start:u,finish:Xe})}else return Fp(u,m).shared.bind(De=>Wa(De,"table",C).bind(Xe=>{const ut=pr(m,"td,th",k(Xe)),Dt=ut.length>0?ut[ut.length-1]:m,en=pr(u,"td,th",k(Xe)),Sn=en.length>0?en[en.length-1]:u;return b.some({boxes:Ao(Xe,u,Q,m,ue),start:Sn,finish:Dt})}))}))},kb=(u,m)=>{const C=mc(u,m);return C.length>0?b.some(C):b.none()},zC=(u,m)=>w(u,C=>ln(C,m)),i7=(u,m,C)=>tc(u,m).bind(k=>tc(u,C).bind(Q=>nr(Tb,[k,Q]).map(ue=>({first:k,last:Q,table:ue})))),l7=(u,m)=>Va(u,"table").bind(C=>tc(C,m).bind(k=>y0(k,u).bind(Q=>Q.boxes.map(ue=>({boxes:ue,start:Q.start,finish:Q.finish}))))),Ab=(u,m,C,k,Q)=>zC(u,Q).bind(ue=>wC(ue,m,C).bind(De=>l7(De,k))),C0=(u,m)=>kb(u,m),UC=(u,m,C)=>i7(u,m,C).bind(k=>{const Q=ut=>Oo(u,ut),ue="thead,tfoot,tbody,table",De=Va(k.first,ue,Q),Xe=Va(k.last,ue,Q);return De.bind(ut=>Xe.bind(Dt=>Oo(ut,Dt)?Rd(k.table,k.first,k.last):b.none()))}),c7=qn,Ob=u=>{const m=(k,Q)=>yl(k,Q).exists(ue=>parseInt(ue,10)>1),C=k=>m(k,"rowspan")||m(k,"colspan");return u.length>0&&re(u,C)?b.some(u):b.none()},VC=(u,m,C)=>m.length<=1?b.none():UC(u,C.firstSelectedSelector,C.lastSelectedSelector).map(k=>({bounds:k,cells:m})),Gp={create:(u,m)=>({selection:u,kill:m})},u7=(u,m,C,k)=>{switch(u.tag){case"none":return m();case"single":return k(u.element);case"multiple":return C(u.elements)}},WC=()=>({tag:"none"}),f7=u=>({tag:"multiple",elements:u}),Lb=u=>({tag:"single",element:u}),KC=(u,m,C)=>({get:()=>C0(u(),C).fold(()=>m().fold(WC,Lb),f7)}),Nb={create:(u,m,C,k)=>({start:ti.on(u,m),finish:ti.on(C,k)})},km=(u,m)=>{const C=cn(u,m);return h1.create(Qn.fromDom(C.startContainer),C.startOffset,Qn.fromDom(C.endContainer),C.endOffset)},_0=Nb.create,p7=(u,m,C,k,Q,ue,De)=>Oo(C,Q)&&k===ue?b.none():Wa(C,"td,th",m).bind(Xe=>Wa(Q,"td,th",m).bind(ut=>g7(u,m,Xe,ut,De))),g7=(u,m,C,k,Q)=>Oo(C,k)?b.none():y0(C,k,m).bind(ue=>{const De=ue.boxes.getOr([]);return De.length>1?(Q(u,De,ue.start,ue.finish),b.some(Gp.create(b.some(_0(C,0,C,Mi(C))),!0))):b.none()}),m7=(u,m,C,k,Q)=>{const ue=De=>(Q.clearBeforeUpdate(C),Q.selectRange(C,De.boxes,De.start,De.finish),De.boxes);return Ab(k,u,m,Q.firstSelectedSelector,Q.lastSelectedSelector).map(ue)},S3=qe.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),h7=(u,m,C)=>{const k=u.getRect(m),Q=u.getRect(C);return Q.right>k.left&&Q.left<k.right},b7=u=>Wa(u,"tr"),qp={...S3,verify:(u,m,C,k,Q,ue,De)=>Wa(k,"td,th",De).bind(Xe=>Wa(m,"td,th",De).map(ut=>Oo(Xe,ut)?Oo(k,Xe)&&Mi(Xe)===Q?ue(ut):S3.none("in same cell"):nr(b7,[Xe,ut]).fold(()=>h7(u,ut,Xe)?S3.success():ue(ut),Dt=>ue(ut)))).getOr(S3.none("default")),cata:(u,m,C,k,Q)=>u.fold(m,C,k,Q)},Rb=Nl("br"),Mb=(u,m,C)=>m(u,C).bind(k=>Cf(k)&&Uu(k).trim().length===0?Mb(k,m,C):b.some(k)),GC=(u,m,C)=>C.traverse(m).orThunk(()=>Mb(m,C.gather,u)).map(C.relative),qC=(u,m)=>Rl(u,m).filter(Rb).orThunk(()=>Rl(u,m-1).filter(Rb)),T3=(u,m,C,k)=>qC(m,C).bind(Q=>k.traverse(Q).fold(()=>Mb(Q,k.gather,u).map(k.relative),ue=>m1(ue).map(De=>ti.on(De.parent,De.index)))),P1=(u,m,C,k)=>(Rb(m)?GC(u,m,k):T3(u,m,C,k)).map(ue=>({start:ue,finish:ue})),v7=u=>qp.cata(u,m=>b.none(),()=>b.none(),m=>b.some(Hf(m,0)),m=>b.some(Hf(m,Mi(m)))),k3=(u,m)=>({left:u.left,top:u.top+m,right:u.right,bottom:u.bottom+m}),A3=(u,m)=>({left:u.left,top:u.top-m,right:u.right,bottom:u.bottom-m}),x7=(u,m,C)=>({left:u.left+m,top:u.top+C,right:u.right+m,bottom:u.bottom+C}),y7=u=>u.top,YC=u=>u.bottom,XC=(u,m,C)=>C>=0&&C<Mi(m)?u.getRangedRect(m,C,m,C+1):C>0?u.getRangedRect(m,C-1,m,C):b.none(),Am=u=>({left:u.left,top:u.top,right:u.right,bottom:u.bottom}),Om=(u,m)=>b.some(u.getRect(m)),Yp=(u,m,C)=>ca(m)?Om(u,m).map(Am):Cf(m)?XC(u,m,C).map(Am):b.none(),Ib=(u,m)=>ca(m)?Om(u,m).map(Am):Cf(m)?u.getRangedRect(m,0,m,Mi(m)).map(Am):b.none(),jf=5,JC=100,Su=qe.generate([{none:[]},{retry:["caret"]}]),C7=(u,m)=>u.left<m.left||Math.abs(m.right-u.left)<1||u.left>m.right,Bb=(u,m,C)=>L2(m,fm).fold(Qo,k=>Ib(u,k).exists(Q=>C7(C,Q))),QC=(u,m,C,k,Q)=>{const ue=k3(Q,jf);return Math.abs(C.bottom-k.bottom)<1||C.top>Q.bottom?Su.retry(ue):C.top===Q.bottom?Su.retry(k3(Q,1)):Bb(u,m,Q)?Su.retry(x7(ue,jf,0)):Su.none()},e_={point:y7,adjuster:(u,m,C,k,Q)=>{const ue=A3(Q,jf);return Math.abs(C.top-k.top)<1||C.bottom<Q.top?Su.retry(ue):C.bottom===Q.top?Su.retry(A3(Q,1)):Bb(u,m,Q)?Su.retry(x7(ue,jf,0)):Su.none()},move:A3,gather:Ip},Lm={point:YC,adjuster:QC,move:k3,gather:e0},Xp=(u,m,C)=>u.elementFromPoint(m,C).filter(k=>ga(k)==="table").isSome(),O3=(u,m,C,k,Q)=>Jp(u,m,C,m.move(k,jf),Q),Jp=(u,m,C,k,Q)=>Q===0?b.some(k):Xp(u,k.left,m.point(k))?O3(u,m,C,k,Q-1):u.situsFromPoint(k.left,m.point(k)).bind(ue=>ue.start.fold(b.none,De=>Ib(u,De).bind(Xe=>m.adjuster(u,De,Xe,C,k).fold(b.none,ut=>Jp(u,m,C,ut,Q-1))).orThunk(()=>b.some(k)),b.none)),t_=(u,m,C)=>u.point(m)>C.getInnerHeight()?b.some(u.point(m)-C.getInnerHeight()):u.point(m)<0?b.some(-u.point(m)):b.none(),Zf=(u,m,C)=>{const k=u.move(C,jf),Q=Jp(m,u,C,k,JC).getOr(k);return t_(u,Q,m).fold(()=>m.situsFromPoint(Q.left,u.point(Q)),ue=>(m.scrollBy(0,ue),m.situsFromPoint(Q.left,u.point(Q)-ue)))},Id={tryUp:_o(Zf,e_),tryDown:_o(Zf,Lm),getJumpSize:lt(jf)},Fb=20,_7=(u,m,C)=>u.getSelection().bind(k=>P1(m,k.finish,k.foffset,C).fold(()=>b.some(Hf(k.finish,k.foffset)),Q=>{const ue=u.fromSitus(Q),De=qp.verify(u,k.finish,k.foffset,ue.finish,ue.foffset,C.failure,m);return v7(De)})),Pb=(u,m,C,k,Q,ue)=>ue===0?b.none():$1(u,m,C,k,Q).bind(De=>{const Xe=u.fromSitus(De),ut=qp.verify(u,C,k,Xe.finish,Xe.foffset,Q.failure,m);return qp.cata(ut,()=>b.none(),()=>b.some(De),Dt=>Oo(C,Dt)&&k===0?$b(u,C,k,A3,Q):Pb(u,m,Dt,0,Q,ue-1),Dt=>Oo(C,Dt)&&k===Mi(Dt)?$b(u,C,k,k3,Q):Pb(u,m,Dt,Mi(Dt),Q,ue-1))}),$b=(u,m,C,k,Q)=>Yp(u,m,C).bind(ue=>Ho(u,Q,k(ue,Id.getJumpSize()))),Ho=(u,m,C)=>{const k=vd().browser;return k.isChromium()||k.isSafari()||k.isFirefox()?m.retry(u,C):b.none()},$1=(u,m,C,k,Q)=>Yp(u,C,k).bind(ue=>Ho(u,Q,ue)),L3=(u,m,C)=>_7(u,m,C).bind(k=>Pb(u,m,k.element,k.offset,C,Fb).map(u.fromSitus)),E7=(u,m)=>Lh(u,C=>Bu(C).exists(k=>Oo(k,m))),Qp=(u,m,C,k,Q)=>Wa(k,"td,th",m).bind(ue=>Wa(ue,"table",m).bind(De=>E7(Q,De)?L3(u,m,C).bind(Xe=>Wa(Xe.finish,"td,th",m).map(ut=>({start:ue,finish:ut,range:Xe}))):b.none())),H1=(u,m,C,k,Q,ue)=>ue(k,m).orThunk(()=>Qp(u,m,C,k,Q).map(De=>{const Xe=De.range;return Gp.create(b.some(_0(Xe.start,Xe.soffset,Xe.finish,Xe.foffset)),!0)})),Hb=(u,m)=>Wa(u,"tr",m).bind(C=>Wa(C,"table",m).bind(k=>{const Q=mc(k,"tr");return Oo(C,Q[0])?_i(k,ue=>Ma(ue).isSome(),m).map(ue=>{const De=Mi(ue);return Gp.create(b.some(_0(ue,De,ue,De)),!0)}):b.none()})),eg=(u,m)=>Wa(u,"tr",m).bind(C=>Wa(C,"table",m).bind(k=>{const Q=mc(k,"tr");return Oo(C,Q[Q.length-1])?Tc(k,ue=>Vu(ue).isSome(),m).map(ue=>Gp.create(b.some(_0(ue,0,ue,0)),!0)):b.none()})),Gf=(u,m,C,k,Q,ue,De)=>Qp(u,C,k,Q,ue).bind(Xe=>g7(m,C,Xe.start,Xe.finish,De)),zb=(u,m)=>Wa(u,"td,th",m),Bd=u=>hl(u).exists(kf),Ub=(u,m,C,k)=>{const Q=ms(),ue=Q.clear,De=en=>{Q.on(Sn=>{k.clearBeforeUpdate(m),zb(en.target,C).each(no=>{y0(Sn,no,C).each(xo=>{const Ko=xo.boxes.getOr([]);if(Ko.length===1){const yn=Ko[0],In=yp(yn)==="false",os=vn(kh(en.target),yn,Oo);In&&os&&k.selectRange(m,Ko,yn,yn)}else Ko.length>1&&(k.selectRange(m,Ko,xo.start,xo.finish),u.selectContents(no))})})})};return{clearstate:ue,mousedown:en=>{k.clear(m),zb(en.target,C).filter(Bd).each(Q.set)},mouseover:en=>{De(en)},mouseup:en=>{De(en),ue()}}},D3={traverse:Fu,gather:e0,relative:ti.before,retry:Id.tryDown,failure:qp.failedDown},tg={traverse:Mg,gather:Ip,relative:ti.before,retry:Id.tryUp,failure:qp.failedUp},ng=u=>m=>m===u,Fd=ng(38),E0=ng(40),z1=u=>u>=37&&u<=40,nf={isBackward:ng(37),isForward:ng(39)},w7={isBackward:ng(39),isForward:ng(37)},og=u=>({elementFromPoint:(In,os)=>Qn.fromPoint(Qn.fromDom(u.document),In,os),getRect:In=>In.dom.getBoundingClientRect(),getRangedRect:(In,os,Ss,No)=>{const yr=ne.exact(In,os,Ss,No);return Kg(u,yr)},getSelection:()=>Wu(u).map(In=>km(u,In)),fromSitus:In=>{const os=ne.relative(In.start,In.finish);return km(u,os)},situsFromPoint:(In,os)=>jg(u,In,os).map(Ss=>Nb.create(Ss.start,Ss.soffset,Ss.finish,Ss.foffset)),clearSelection:()=>{Zg(u)},collapseSelection:(In=!1)=>{Wu(u).each(os=>os.fold(Ss=>Ss.collapse(In),(Ss,No)=>{const yr=In?Ss:No;cu(u,yr,yr)},(Ss,No,yr,_r)=>{const Ns=In?Ss:yr,Da=In?No:_r;lu(u,Ns,Da,Ns,Da)}))},setSelection:In=>{lu(u,In.start,In.soffset,In.finish,In.foffset)},setRelativeSelection:(In,os)=>{cu(u,In,os)},selectNode:In=>{Ep(u,In,!1)},selectContents:In=>{Ep(u,In)},getInnerHeight:()=>u.innerHeight,getScrollY:()=>Fl(Qn.fromDom(u.document)).top,scrollBy:(In,os)=>{d1(In,os,Qn.fromDom(u.document))}}),ll=(u,m)=>({rows:u,cols:m}),S7=(u,m,C,k)=>{const Q=og(u),ue=Ub(Q,m,C,k);return{clearstate:ue.clearstate,mousedown:ue.mousedown,mouseover:ue.mouseover,mouseup:ue.mouseup}},T7=u=>L2(u,e8).exists(kf),N3=(u,m)=>T7(u)||T7(m),Vb=(u,m,C,k)=>{const Q=og(u),ue=()=>(k.clear(m),b.none());return{keydown:(ut,Dt,en,Sn,no,xo)=>{const Ko=ut.raw,yn=Ko.which,In=Ko.shiftKey===!0;return kb(m,k.selectedSelector).fold(()=>(z1(yn)&&!In&&k.clearBeforeUpdate(m),z1(yn)&&In&&!N3(Dt,Sn)?b.none:E0(yn)&&In?_o(Gf,Q,m,C,D3,Sn,Dt,k.selectRange):Fd(yn)&&In?_o(Gf,Q,m,C,tg,Sn,Dt,k.selectRange):E0(yn)?_o(H1,Q,C,D3,Sn,Dt,eg):Fd(yn)?_o(H1,Q,C,tg,Sn,Dt,Hb):b.none),Ss=>{const No=yr=>()=>J(yr,Ns=>m7(Ns.rows,Ns.cols,m,Ss,k)).fold(()=>i7(m,k.firstSelectedSelector,k.lastSelectedSelector).map(Ns=>{const Da=E0(yn)||xo.isForward(yn)?ti.after:ti.before;return Q.setRelativeSelection(ti.on(Ns.first,0),Da(Ns.table)),k.clear(m),Gp.create(b.none(),!0)}),Ns=>b.some(Gp.create(b.none(),!0)));return z1(yn)&&In&&!N3(Dt,Sn)?b.none:E0(yn)&&In?No([ll(1,0)]):Fd(yn)&&In?No([ll(-1,0)]):xo.isBackward(yn)&&In?No([ll(0,-1),ll(-1,0)]):xo.isForward(yn)&&In?No([ll(0,1),ll(1,0)]):z1(yn)&&!In?ue:b.none})()},keyup:(ut,Dt,en,Sn,no)=>kb(m,k.selectedSelector).fold(()=>{const xo=ut.raw,Ko=xo.which;return xo.shiftKey===!0&&z1(Ko)&&N3(Dt,Sn)?p7(m,C,Dt,en,Sn,no,k.selectRange):b.none()},b.none)}},Wb=(u,m,C,k)=>{const Q=og(u);return(ue,De)=>{k.clearBeforeUpdate(m),y0(ue,De,C).each(Xe=>{const ut=Xe.boxes.getOr([]);k.selectRange(m,ut,Xe.start,Xe.finish),Q.selectContents(De),Q.collapseSelection()})}},ed={byClass:u=>{const m=R2(u.selected),C=M2([u.selected,u.lastSelected,u.firstSelected]),k=ue=>{const De=mc(ue,u.selectedSelector);B(De,C)};return{clearBeforeUpdate:k,clear:k,selectRange:(ue,De,Xe,ut)=>{k(ue),B(De,m),Wc(Xe,u.firstSelected),Wc(ut,u.lastSelected)},selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},byAttr:(u,m,C)=>{const k=ut=>{Js(ut,u.selected),Js(ut,u.firstSelected),Js(ut,u.lastSelected)},Q=ut=>{fa(ut,u.selected,"1")},ue=ut=>{De(ut),C()},De=ut=>{const Dt=mc(ut,`${u.selectedSelector},${u.firstSelectedSelector},${u.lastSelectedSelector}`);B(Dt,k)};return{clearBeforeUpdate:De,clear:ue,selectRange:(ut,Dt,en,Sn)=>{ue(ut),B(Dt,Q),fa(en,u.firstSelected,"1"),fa(Sn,u.lastSelected,"1"),m(Dt,en,Sn)},selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}}},Tu="data-mce-selected",Kb="td["+Tu+"],th["+Tu+"]",sg="["+Tu+"]",cl="data-mce-first-selected",kl="td["+cl+"],th["+cl+"]",Bi="data-mce-last-selected",Pd="td["+Bi+"],th["+Bi+"]",jb=sg,Gi={selected:Tu,selectedSelector:Kb,firstSelected:cl,firstSelectedSelector:kl,lastSelected:Bi,lastSelectedSelector:Pd},of=(u,m,C)=>({element:C,mergable:VC(m,u,Gi),unmergable:Ob(u),selection:c7(u)}),R3=(u,m,C)=>({element:u,clipboard:m,generators:C}),k7=(u,m,C,k)=>({selection:c7(u),clipboard:C,generators:k}),Gk=u=>Ul(u).bind(m=>C0(m,Gi.firstSelectedSelector)).fold(lt(u),m=>m[0]),Zb=u=>(m,C)=>{const k=ga(m),Q=k==="col"||k==="colgroup"?Gk(m):m;return Wa(Q,u,C)},ws=Zb("th,td,caption"),Dm=Zb("th,td"),ku=u=>tl(u.model.table.getSelectedCells()),o_=u=>F(ku(u),m=>ln(m,Gi.selectedSelector)),s_=u=>Ul(u[0]).map(m=>{const C=qh(m,jb);return Zp(C),[C]}),r_=(u,m)=>L(m,C=>u.selection.serializer.serialize(C.dom,{})).join(""),a_=(u,m)=>{const C=u.getDoc(),k=_h(Qn.fromDom(u.getBody())),Q=Qn.fromTag("div",C);fa(Q,"data-mce-bogus","all"),Kr(Q,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const ue=Jl(k);yi(Q,m),ua(ue,Q);const De=Q.dom.innerText;return ri(Q),De},Gb=(u,m)=>{u.on("BeforeGetContent",C=>{const k=Q=>{C.preventDefault(),s_(Q).each(ue=>{const De=C.format==="text"?a_(u,ue):r_(u,ue);C.content=De})};if(C.selection===!0){const Q=o_(u);Q.length>=1&&k(Q)}}),u.on("BeforeSetContent",C=>{if(C.selection===!0&&C.paste===!0){const k=ku(u);R(k).each(Q=>{Ul(Q).each(ue=>{const De=F(ou(C.content),ut=>ga(ut)!=="meta"),Xe=Nl("table");if(Q8(u)&&De.length===1&&Xe(De[0])){C.preventDefault();const ut=Qn.fromDom(u.getDoc()),Dt=gm(ut),en=R3(Q,De[0],Dt);m.pasteCells(ue,en).each(()=>{u.focus()})}})})}})},qb=(u,m)=>u.dispatch("NewRow",{node:m}),Nm=(u,m)=>u.dispatch("NewCell",{node:m}),$d=(u,m,C)=>{u.dispatch("TableModified",{...C,table:m})},Rm=(u,m,C,k,Q)=>{u.dispatch("TableSelectionChange",{cells:m,start:C,finish:k,otherCells:Q})},i_=u=>{u.dispatch("TableSelectionClear")},M3=(u,m,C,k,Q)=>{u.dispatch("ObjectResizeStart",{target:m,width:C,height:k,origin:Q})},l_=(u,m,C,k,Q)=>{u.dispatch("ObjectResized",{target:m,width:C,height:k,origin:Q})},I3={structure:!1,style:!0},Si={structure:!0,style:!1},td={structure:!0,style:!0},A7=(u,m)=>Sm(u)?Op.percentageSize(m):tf(u)?Op.pixelSize(m):Op.getTableSize(m),B3=(u,m,C)=>{const k=mi=>ga(jp(mi))==="table",Q=mi=>!k(u)||Od(mi).rows>1,ue=mi=>!k(u)||Od(mi).columns>1,De=X8(u),Xe=wb(u)?jt:jh,ut=mi=>{switch(F1(u)){case"section":return kp.section();case"sectionCells":return kp.sectionCells();case"cells":return kp.cells();default:return kp.getTableSectionType(mi,"section")}},Dt=(mi,N7)=>N7.cursor.fold(()=>{const S0=y1(mi);return R(S0).filter(ss).map(Yf=>{C.clearSelectedCells(mi.dom);const fl=u.dom.createRng();return fl.selectNode(Yf.dom),u.selection.setRng(fl),fa(Yf,"data-mce-selected","1"),fl})},S0=>{const Yf=Q2(S0),fl=u.dom.createRng();return fl.setStart(Yf.element.dom,Yf.offset),fl.setEnd(Yf.element.dom,Yf.offset),u.selection.setRng(fl),C.clearSelectedCells(mi.dom),b.some(fl)}),en=(mi,N7,S0,Yf)=>(fl,R7,h_=!1)=>{Zp(fl);const zo=Qn.fromDom(u.getDoc()),Hd=r3(S0,zo,De),b_={sizing:A7(u,fl),resize:wb(u)?Yg():t8(),section:ut(fl)};return N7(fl)?mi(fl,R7,Hd,b_).bind(T0=>{m.refresh(fl.dom),B(T0.newRows,Fm=>{qb(u,Fm.dom)}),B(T0.newCells,Fm=>{Nm(u,Fm.dom)});const Bm=Dt(fl,T0);return ss(fl)&&(Zp(fl),h_||$d(u,fl.dom,Yf)),Bm.map(Fm=>({rng:Fm,effect:Yf}))}):b.none()},Sn=en(B8,Q,jt,Si),no=en(wu,ue,jt,Si),xo=en(Up,s,jt,Si),Ko=en(pC,s,jt,Si),yn=en(ym,s,Xe,Si),In=en(Wr,s,Xe,Si),os=en(P8,s,jt,Si),Ss=en($8,s,jt,Si),No=en(Xn,s,jt,Si),yr=en(bC,s,jt,Si),_r=en(gi,s,jt,Si),Ns=en(vC,s,jt,Si),Da=en(H8,s,jt,td),Lc=en(hC,s,jt,Si),qf=en(F8,s,jt,Si),W1=en(Wf,s,jt,Si),K1=en(Nd,s,jt,Si),Er=en(gC,s,jt,Si),dl=en(mC,s,jt,Si),ul=en(mb,s,jt,Si);return{deleteRow:Sn,deleteColumn:no,insertRowsBefore:xo,insertRowsAfter:Ko,insertColumnsBefore:yn,insertColumnsAfter:In,mergeCells:os,unmergeCells:Ss,pasteColsBefore:No,pasteColsAfter:yr,pasteRowsBefore:_r,pasteRowsAfter:Ns,pasteCells:Da,makeCellsHeader:Lc,unmakeCellsHeader:qf,makeColumnsHeader:W1,unmakeColumnsHeader:K1,makeRowsHeader:Er,makeRowsBody:dl,makeRowsFooter:ul,getTableRowType:xC,getTableCellType:hb,getTableColType:z8}},rg=(u,m)=>{u.selection.select(m.dom,!0),u.selection.collapse(!0)},Yb=(u,m)=>{tc(m,"td,th").each(_o(rg,u))},Xb=(u,m)=>{B(mc(m,"tr"),C=>{qb(u,C.dom),B(mc(C,"th,td"),k=>{Nm(u,k.dom)})})},c_=u=>Ke(u)&&u.indexOf("%")!==-1,Jb=(u,m,C,k,Q)=>{const ue=t7(u),De={styles:ue,attributes:e7(u),colGroups:$C(u)};return u.undoManager.ignore(()=>{const Xe=Kf(C,m,Q,k,F1(u),De);fa(Xe,"data-mce-id","__mce");const ut=A2(Xe);u.insertContent(ut),u.addVisual()}),tc(jp(u),'table[data-mce-id="__mce"]').map(Xe=>(tf(u)?o0(Xe):x0(u)?Qu(Xe):(Sm(u)||c_(ue.width))&&n0(Xe),Zp(Xe),Js(Xe,"data-mce-id"),Xb(u,Xe),Yb(u,Xe),Xe.dom)).getOrNull()},d_=(u,m,C,k={})=>{const Q=ue=>Eo(ue)&&ue>0;if(Q(m)&&Q(C)){const ue=k.headerRows||0,De=k.headerColumns||0;return Jb(u,C,m,De,ue)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var F3=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Qb="x-tinymce/dom-table-",U1=Qb+"rows",ag=Qb+"columns",O7=u=>{const m=F3.FakeClipboardItem(u);F3.write([m])},ev=u=>{var m;const C=(m=F3.read())!==null&&m!==void 0?m:[];return J(C,k=>b.from(k.getType(u)))},tv=u=>{ev(u).isSome()&&F3.clear()},sf=u=>{u.fold(nv,m=>O7({[U1]:m}))},P3=()=>ev(U1),nv=()=>tv(U1),w0=u=>{u.fold(L7,m=>O7({[ag]:m}))},$3=()=>ev(ag),L7=()=>tv(ag),Mm=u=>ws(_3(u),Tm(u)).filter(w3),u_=u=>Dm(_3(u),Tm(u)).filter(w3),f_=(u,m)=>{const C=Tm(u),k=()=>Mm(u).each(In=>{Ul(In,C).filter(ht(C)).each(os=>{const Ss=Qn.fromText("");if(da(os,Ss),ri(os),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{const No=u.dom.createRng();No.setStart(Ss.dom,0),No.setEnd(Ss.dom,0),u.selection.setRng(No),u.nodeChanged()}})}),Q=In=>Mm(u).each(os=>{x0(u)||tf(u)||Sm(u)||Ul(os,C).each(No=>{In==="relative"&&!Yc(No)?n0(No):In==="fixed"&&!Zi(No)?o0(No):In==="responsive"&&!lm(No)&&Qu(No),Zp(No),$d(u,No.dom,Si)})}),ue=In=>Ul(In,C),De=In=>u_(u).bind(os=>ue(os).map(Ss=>In(Ss,os))),Xe=(In,os)=>{De(Ss=>{u.formatter.toggle("tableclass",{value:os},Ss.dom),$d(u,Ss.dom,I3)})},ut=(In,os)=>{De(Ss=>{const No=ku(u),_r=re(No,Ns=>u.formatter.match("tablecellclass",{value:os},Ns.dom))?u.formatter.remove:u.formatter.apply;B(No,Ns=>_r("tablecellclass",{value:os},Ns.dom)),$d(u,Ss.dom,I3)})},Dt=()=>{Mm(u).each(In=>{Ul(In,C).each(os=>{Ri(os,"caption").fold(()=>{const Ss=Qn.fromTag("caption");ua(Ss,Qn.fromText("Caption")),l5(os,Ss,0),u.selection.setCursorLocation(Ss.dom,0)},Ss=>{Nl("caption")(In)&&Yo("td",os).each(No=>u.selection.setCursorLocation(No.dom,0)),ri(Ss)}),$d(u,os.dom,Si)})})},en=In=>{u.focus()},Sn=(In,os=!1)=>De((Ss,No)=>{const yr=of(ku(u),Ss,No);In(Ss,yr,os).each(en)}),no=()=>De((In,os)=>{const Ss=of(ku(u),In,os),No=r3(jt,Qn.fromDom(u.getDoc()),b.none());return Pf(In,Ss,No)}),xo=()=>De((In,os)=>{const Ss=of(ku(u),In,os);return xu(In,Ss)}),Ko=(In,os)=>os().each(Ss=>{const No=L(Ss,yr=>Xa(yr));De((yr,_r)=>{const Ns=gm(Qn.fromDom(u.getDoc())),Da=k7(ku(u),_r,No,Ns);In(yr,Da).each(en)})}),yn=In=>(os,Ss)=>st(Ss,"type").each(No=>{Sn(In(No),Ss.no_events)});ae({mceTableSplitCells:()=>Sn(m.unmergeCells),mceTableMergeCells:()=>Sn(m.mergeCells),mceTableInsertRowBefore:()=>Sn(m.insertRowsBefore),mceTableInsertRowAfter:()=>Sn(m.insertRowsAfter),mceTableInsertColBefore:()=>Sn(m.insertColumnsBefore),mceTableInsertColAfter:()=>Sn(m.insertColumnsAfter),mceTableDeleteCol:()=>Sn(m.deleteColumn),mceTableDeleteRow:()=>Sn(m.deleteRow),mceTableCutCol:()=>xo().each(In=>{w0(In),Sn(m.deleteColumn)}),mceTableCutRow:()=>no().each(In=>{sf(In),Sn(m.deleteRow)}),mceTableCopyCol:()=>xo().each(In=>w0(In)),mceTableCopyRow:()=>no().each(In=>sf(In)),mceTablePasteColBefore:()=>Ko(m.pasteColsBefore,$3),mceTablePasteColAfter:()=>Ko(m.pasteColsAfter,$3),mceTablePasteRowBefore:()=>Ko(m.pasteRowsBefore,P3),mceTablePasteRowAfter:()=>Ko(m.pasteRowsAfter,P3),mceTableDelete:k,mceTableCellToggleClass:ut,mceTableToggleClass:Xe,mceTableToggleCaption:Dt,mceTableSizingMode:(In,os)=>Q(os),mceTableCellType:yn(In=>In==="th"?m.makeCellsHeader:m.unmakeCellsHeader),mceTableColType:yn(In=>In==="th"?m.makeColumnsHeader:m.unmakeColumnsHeader),mceTableRowType:yn(In=>{switch(In){case"header":return m.makeRowsHeader;case"footer":return m.makeRowsFooter;default:return m.makeRowsBody}})},(In,os)=>u.addCommand(os,In)),u.addCommand("mceInsertTable",(In,os)=>{d_(u,os.rows,os.columns,os.options)}),u.addCommand("mceTableApplyCellStyle",(In,os)=>{const Ss=_r=>"tablecell"+_r.toLowerCase().replace("-","");if(!ot(os))return;const No=F(ku(u),w3);if(No.length===0)return;const yr=We(os,(_r,Ns)=>u.formatter.has(Ss(Ns))&&Ke(_r));ze(yr)||(ae(yr,(_r,Ns)=>{const Da=Ss(Ns);B(No,Lc=>{_r===""?u.formatter.remove(Da,{value:null},Lc.dom,!0):u.formatter.apply(Da,{value:_r},Lc.dom)})}),ue(No[0]).each(_r=>$d(u,_r.dom,I3)))})},p_=(u,m)=>{const C=Tm(u),k=Q=>Dm(_3(u)).bind(ue=>Ul(ue,C).map(De=>{const Xe=of(ku(u),De,ue);return Q(De,Xe)})).getOr("");ae({mceTableRowType:()=>k(m.getTableRowType),mceTableCellType:()=>k(m.getTableCellType),mceTableColType:()=>k(m.getTableColType)},(Q,ue)=>u.addQueryValueHandler(ue,Q))},ig=u=>!p1(Qn.fromDom(u.target),"ephox-snooker-resizer-bar"),ov=(u,m)=>{const C=KC(()=>Qn.fromDom(u.getBody()),()=>Dm(_3(u),Tm(u)),Gi.selectedSelector),k=(ut,Dt,en)=>{Ul(Dt).each(no=>{const xo=L(ut,Ss=>Ss.dom),Ko=X8(u),yn=r3(jt,Qn.fromDom(u.getDoc()),Ko),In=ku(u),os=j2(no,{selection:In},yn).map(Ss=>Le(Ss,No=>L(No,yr=>yr.dom))).getOrUndefined();Rm(u,xo,Dt.dom,en.dom,os)})},Q=()=>i_(u),ue=ed.byAttr(Gi,k,Q);return u.on("init",ut=>{const Dt=u.getWin(),en=jp(u),Sn=Tm(u),no=()=>{const Er=u.selection,dl=Qn.fromDom(Er.getStart()),ul=Qn.fromDom(Er.getEnd());nr(Ul,[dl,ul]).fold(()=>ue.clear(en),jt)},xo=S7(Dt,en,Sn,ue),Ko=Vb(Dt,en,Sn,ue),yn=Wb(Dt,en,Sn,ue),In=Er=>Er.raw.shiftKey===!0;u.on("TableSelectorChange",Er=>yn(Er.start,Er.finish));const os=(Er,dl)=>{In(Er)&&(dl.kill&&Er.kill(),dl.selection.each(ul=>{const ac=ne.relative(ul.start,ul.finish),Kl=cn(Dt,ac);u.selection.setRng(Kl)}))},Ss=Er=>{const dl=Ra(Er);if(dl.raw.shiftKey&&z1(dl.raw.which)){const ul=u.selection.getRng(),ac=Qn.fromDom(ul.startContainer),Kl=Qn.fromDom(ul.endContainer);Ko.keyup(dl,ac,ul.startOffset,Kl,ul.endOffset).each(Dc=>{os(dl,Dc)})}},No=Er=>{const dl=Ra(Er);m.hide();const ul=u.selection.getRng(),ac=Qn.fromDom(ul.startContainer),Kl=Qn.fromDom(ul.endContainer),Dc=Pl(nf,w7)(Qn.fromDom(u.selection.getStart()));Ko.keydown(dl,ac,ul.startOffset,Kl,ul.endOffset,Dc).each(mi=>{os(dl,mi)}),m.show()},yr=Er=>Er.button===0,_r=Er=>Er.buttons===void 0?!0:(Er.buttons&1)!==0,Ns=Er=>{xo.clearstate()},Da=Er=>{yr(Er)&&ig(Er)&&xo.mousedown(Ra(Er))},Lc=Er=>{_r(Er)&&ig(Er)&&xo.mouseover(Ra(Er))},qf=Er=>{yr(Er)&&ig(Er)&&xo.mouseup(Ra(Er))},K1=(()=>{const Er=Fe(Qn.fromDom(en)),dl=Fe(0);return{touchEnd:ac=>{const Kl=Qn.fromDom(ac.target);if(Nl("td")(Kl)||Nl("th")(Kl)){const Dc=Er.get(),mi=dl.get();Oo(Dc,Kl)&&ac.timeStamp-mi<300&&(ac.preventDefault(),yn(Kl,Kl))}Er.set(Kl),dl.set(ac.timeStamp)}}})();u.on("dragstart",Ns),u.on("mousedown",Da),u.on("mouseover",Lc),u.on("mouseup",qf),u.on("touchend",K1.touchEnd),u.on("keyup",Ss),u.on("keydown",No),u.on("NodeChange",no)}),u.on("PreInit",()=>{u.serializer.addTempAttr(Gi.firstSelected),u.serializer.addTempAttr(Gi.lastSelected)}),{getSelectedCells:()=>u7(C.get(),lt([]),ut=>L(ut,Dt=>Dt.dom),ut=>[ut.dom]),clearSelectedCells:ut=>ue.clear(Qn.fromDom(ut))}},g_=(u,m)=>{const C=Qn.fromDom(u.getBody());return Ar.body(C,m)},sv=u=>Go(u)&&u.nodeName==="TABLE",rv="bar-",D7=u=>Ql(u,"data-mce-resize")!=="false",av=u=>{const m=qs.fromTable(u);qs.hasColumns(m)||B(y1(u),C=>{const k=Hu(C,"width");ii(C,"width",k),Js(C,"width")})},Im=u=>ye(u,"corner-"),iv=u=>Y(u,"corner-"),m_=u=>{const m=ms(),C=ms(),k=ms();let Q,ue,De,Xe;const ut=No=>A7(u,No),Dt=()=>y3(u)?t8():Yg(),en=No=>Od(No).columns,Sn=No=>Od(No).rows,no=(No,yr,_r,Ns)=>{const Da=iv(yr),Lc=Ce(Da,"e"),qf=ye(Da,"n");if(ue===""&&n0(No),Xe===""&&Xc(No),_r!==Q&&ue!==""){ii(No,"width",ue);const W1=Dt(),K1=ut(No),Er=y3(u)||Lc?en(No)-1:0;Np(No,_r-Q,Er,W1,K1)}else if(HC(ue)){const W1=parseFloat(ue.replace("%","")),K1=_r*W1/Q;ii(No,"width",K1+"%")}if(a7(ue)&&av(No),Ns!==De&&Xe!==""){ii(No,"height",Xe);const W1=qf?0:Sn(No)-1;f8(No,Ns-De,W1)}},xo=()=>{C.on(No=>{No.destroy()})};u.on("init",()=>{const No=g_(u,D7);if(k.set(No),Eb(u)&&J8(u)){const yr=Dt(),_r=BC.create(No,yr,ut);u.mode.isReadOnly()||_r.on(),_r.events.startDrag.bind(Ns=>{m.set(u.selection.getRng())}),_r.events.beforeResize.bind(Ns=>{const Da=Ns.table.dom;M3(u,Da,n7(Da),o7(Da),rv+Ns.type)}),_r.events.afterResize.bind(Ns=>{const Da=Ns.table,Lc=Da.dom;Zp(Da),m.on(qf=>{u.selection.setRng(qf),u.focus()}),l_(u,Lc,n7(Lc),o7(Lc),rv+Ns.type),u.undoManager.add()}),C.set(_r)}}),u.on("ObjectResizeStart",No=>{const yr=No.target;if(sv(yr)&&!u.mode.isReadOnly()){const _r=Qn.fromDom(yr);B(u.dom.select(".mce-clonedresizable"),Ns=>{u.dom.addClass(Ns,"mce-"+v0(u)+"-columns")}),!Zi(_r)&&tf(u)?o0(_r):!Yc(_r)&&Sm(u)&&n0(_r),lm(_r)&&ye(No.origin,rv)&&n0(_r),Q=No.width,ue=x0(u)?"":E3(u,yr).getOr(""),De=No.height,Xe=r7(u,yr).getOr("")}}),u.on("ObjectResized",No=>{const yr=No.target;if(sv(yr)){const _r=Qn.fromDom(yr),Ns=No.origin;Im(Ns)&&no(_r,Ns,No.width,No.height),Zp(_r),$d(u,_r.dom,I3)}});const Ko=()=>{C.on(No=>{No.on(),No.showBars()})},yn=()=>{C.on(No=>{No.off(),No.hideBars()})};return u.on("DisabledStateChange",No=>{No.state?yn():Ko()}),u.on("SwitchMode",()=>{u.mode.isReadOnly()?yn():Ko()}),u.on("dragstart dragend",No=>{No.type==="dragstart"?yn():Ko()}),u.on("remove",()=>{xo()}),{refresh:No=>{C.on(yr=>yr.refreshBars(Qn.fromDom(No)))},hide:()=>{C.on(No=>No.hideBars())},show:()=>{C.on(No=>No.showBars())}}},Zr=u=>{PC(u);const m=m_(u),C=ov(u,m),k=B3(u,m,C);return f_(u,k),p_(u,k),Gb(u,k),{getSelectedCells:C.getSelectedCells,clearSelectedCells:C.clearSelectedCells}},lv=u=>({table:Zr(u)});var V1=()=>{E.add("dom",lv)};V1()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=(fe,Y,le)=>{var ye;return le(fe,Y.prototype)?!0:((ye=fe.constructor)===null||ye===void 0?void 0:ye.name)===Y.name},x=fe=>{const Y=typeof fe;return fe===null?"null":Y==="object"&&Array.isArray(fe)?"array":Y==="object"&&I(fe,String,(le,ye)=>ye.isPrototypeOf(le))?"string":Y},de=fe=>Y=>x(Y)===fe,Ae=de("string"),Ie=de("object"),Ke=de("array"),ot=fe=>fe==null,Mt=fe=>!ot(fe);class Oe{constructor(Y,le){this.tag=Y,this.value=le}static some(Y){return new Oe(!0,Y)}static none(){return Oe.singletonNone}fold(Y,le){return this.tag?le(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?Oe.some(Y(this.value)):Oe.none()}bind(Y){return this.tag?Y(this.value):Oe.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:Oe.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y??"Called getOrDie on None")}static from(Y){return Mt(Y)?Oe.some(Y):Oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Oe.singletonNone=new Oe(!1);const un=Array.prototype.push,On=(fe,Y)=>{for(let le=0,ye=fe.length;le<ye;le++){const Ce=fe[le];Y(Ce,le)}},xe=fe=>{const Y=[];for(let le=0,ye=fe.length;le<ye;++le){if(!Ke(fe[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+fe);un.apply(Y,fe[le])}return Y},Go=Object.keys,Co=Object.hasOwnProperty,Eo=(fe,Y)=>{const le=Go(fe);for(let ye=0,Ce=le.length;ye<Ce;ye++){const Ue=le[ye],Be=fe[Ue];Y(Be,Ue)}},jt=(fe,Y)=>Wo(fe,Y)?Oe.from(fe[Y]):Oe.none(),Wo=(fe,Y)=>Co.call(fe,Y),Yt=fe=>{let Y=fe;return{get:()=>Y,set:Ce=>{Y=Ce}}},lt=(fe,Y,le)=>fe.length>=Y.length&&fe.substr(le,le+Y.length)===Y,qn=(fe,Y)=>lt(fe,Y,0),fs=fe=>Y=>Y.options.get(fe),_o=fe=>{const Y=fe.options.register;Y("audio_template_callback",{processor:"function"}),Y("video_template_callback",{processor:"function"}),Y("iframe_template_callback",{processor:"function"}),Y("media_live_embeds",{processor:"boolean",default:!0}),Y("media_filter_html",{processor:"boolean",default:!0}),Y("media_url_resolver",{processor:"function"}),Y("media_alt_source",{processor:"boolean",default:!0}),Y("media_poster",{processor:"boolean",default:!0}),Y("media_dimensions",{processor:"boolean",default:!0})},ht=fs("audio_template_callback"),eo=fs("video_template_callback"),ks=fs("iframe_template_callback"),Qo=fs("media_live_embeds"),s=fs("media_filter_html"),b=fs("media_url_resolver"),$=fs("media_alt_source"),ge=fs("media_poster"),a=fs("media_dimensions");var f=tinymce.util.Tools.resolve("tinymce.util.Tools"),N=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),O=tinymce.util.Tools.resolve("tinymce.html.DomParser");const T=N.DOM,L=fe=>fe.replace(/px$/,""),B=fe=>{const Y=fe.attr("style"),le=Y?T.parseStyle(Y):{};return{type:"ephox-embed-iri",source:fe.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:jt(le,"max-width").map(L).getOr(""),height:jt(le,"max-height").map(L).getOr("")}},G=(fe,Y)=>{let le={};const Ce=O({validate:!1,forced_root_block:!1},Y).parse(fe);for(let Ue=Ce;Ue;Ue=Ue.walk())if(Ue.type===1){const Be=Ue.name;if(Ue.attr("data-ephox-embed-iri")){le=B(Ue);break}else!le.source&&Be==="param"&&(le.source=Ue.attr("movie")),(Be==="iframe"||Be==="object"||Be==="embed"||Be==="video"||Be==="audio")&&(le.type||(le.type=Be),le=f.extend(Ue.attributes.map,le)),Be==="source"&&(le.source?le.altsource||(le.altsource=Ue.attr("src")):le.source=Ue.attr("src")),Be==="img"&&!le.poster&&(le.poster=Ue.attr("src"))}return le.source=le.source||le.src||"",le.altsource=le.altsource||"",le.poster=le.poster||"",le},P=fe=>{var Y;const le={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ye=(Y=fe.toLowerCase().split(".").pop())!==null&&Y!==void 0?Y:"";return jt(le,ye).getOr("")};var F=tinymce.util.Tools.resolve("tinymce.html.Node"),j=tinymce.util.Tools.resolve("tinymce.html.Serializer");const H=(fe,Y={})=>O({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Y},fe),ee=N.DOM,w=fe=>/^[0-9.]+$/.test(fe)?fe+"px":fe,he=(fe,Y)=>{const le=Y.attr("style"),ye=le?ee.parseStyle(le):{};Mt(fe.width)&&(ye["max-width"]=w(fe.width)),Mt(fe.height)&&(ye["max-height"]=w(fe.height)),Y.attr("style",ee.serializeStyle(ye))},be=["source","altsource"],se=(fe,Y,le,ye)=>{let Ce=0,Ue=0;const Be=H(ye);Be.addNodeFilter("source",pe=>Ce=pe.length);const te=Be.parse(fe);for(let pe=te;pe;pe=pe.walk())if(pe.type===1){const me=pe.name;if(pe.attr("data-ephox-embed-iri")){he(Y,pe);break}else{switch(me){case"video":case"object":case"embed":case"img":case"iframe":Y.height!==void 0&&Y.width!==void 0&&(pe.attr("width",Y.width),pe.attr("height",Y.height));break}if(le)switch(me){case"video":pe.attr("poster",Y.poster),pe.attr("src",null);for(let je=Ce;je<2;je++)if(Y[be[je]]){const pt=new F("source",1);pt.attr("src",Y[be[je]]),pt.attr("type",Y[be[je]+"mime"]||null),pe.append(pt)}break;case"iframe":pe.attr("src",Y.source);break;case"object":const _e=pe.getAll("img").length>0;if(Y.poster&&!_e){pe.attr("src",Y.poster);const je=new F("img",1);je.attr("src",Y.poster),je.attr("width",Y.width),je.attr("height",Y.height),pe.append(je)}break;case"source":if(Ue<2&&(pe.attr("src",Y[be[Ue]]),pe.attr("type",Y[be[Ue]+"mime"]||null),!Y[be[Ue]])){pe.remove();continue}Ue++;break;case"img":Y.poster||pe.remove();break}}}return j({},ye).serialize(te)},re=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],ie=fe=>{const Y=fe.match(/^(https?:\/\/|www\.)(.+)$/i);return Y&&Y.length>1?Y[1]==="www."?"https://":Y[1]:"https://"},M=(fe,Y)=>{const le=ie(Y),ye=fe.regex.exec(Y);let Ce=le+fe.url;if(Mt(ye))for(let Ue=0;Ue<ye.length;Ue++)Ce=Ce.replace("$"+Ue,()=>ye[Ue]?ye[Ue]:"");return Ce.replace(/\?$/,"")},W=fe=>{const Y=re.filter(le=>le.regex.test(fe));return Y.length>0?f.extend({},Y[0],{url:M(Y[0],fe)}):null},K=(fe,Y)=>{if(Y)return Y(fe);{const le=fe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+fe.source+'" width="'+fe.width+'" height="'+fe.height+'"'+le+"></iframe>"}},R=fe=>{let Y='<object data="'+fe.source+'" width="'+fe.width+'" height="'+fe.height+'" type="application/x-shockwave-flash">';return fe.poster&&(Y+='<img src="'+fe.poster+'" width="'+fe.width+'" height="'+fe.height+'" />'),Y+="</object>",Y},A=(fe,Y)=>Y?Y(fe):'<audio controls="controls" src="'+fe.source+'">'+(fe.altsource?`
<source src="`+fe.altsource+'"'+(fe.altsourcemime?' type="'+fe.altsourcemime+'"':"")+` />
`:"")+"</audio>",J=(fe,Y)=>Y?Y(fe):'<video width="'+fe.width+'" height="'+fe.height+'"'+(fe.poster?' poster="'+fe.poster+'"':"")+` controls="controls">
<source src="`+fe.source+'"'+(fe.sourcemime?' type="'+fe.sourcemime+'"':"")+` />
`+(fe.altsource?'<source src="'+fe.altsource+'"'+(fe.altsourcemime?' type="'+fe.altsourcemime+'"':"")+` />
`:"")+"</video>",V=(fe,Y)=>{var le;const ye=f.extend({},Y);if(!ye.source&&(f.extend(ye,G((le=ye.embed)!==null&&le!==void 0?le:"",fe.schema)),!ye.source))return"";ye.altsource||(ye.altsource=""),ye.poster||(ye.poster=""),ye.source=fe.convertURL(ye.source,"source"),ye.altsource=fe.convertURL(ye.altsource,"source"),ye.sourcemime=P(ye.source),ye.altsourcemime=P(ye.altsource),ye.poster=fe.convertURL(ye.poster,"poster");const Ce=W(ye.source);if(Ce&&(ye.source=Ce.url,ye.type=Ce.type,ye.allowfullscreen=Ce.allowFullscreen,ye.width=ye.width||String(Ce.w),ye.height=ye.height||String(Ce.h)),ye.embed)return se(ye.embed,ye,!0,fe.schema);{const Ue=ht(fe),Be=eo(fe),te=ks(fe);return ye.width=ye.width||"300",ye.height=ye.height||"150",f.each(ye,(pe,me)=>{ye[me]=fe.dom.encode(""+pe)}),ye.type==="iframe"?K(ye,te):ye.sourcemime==="application/x-shockwave-flash"?R(ye):ye.sourcemime.indexOf("audio")!==-1?A(ye,Ue):J(ye,Be)}},q=fe=>fe.hasAttribute("data-mce-object")||fe.hasAttribute("data-ephox-embed-iri"),ae=fe=>{fe.on("mousedown",Y=>{const le=fe.dom.getParent(Y.target,".mce-preview-object");le&&fe.dom.getAttrib(le,"data-mce-selected")==="2"&&Y.stopImmediatePropagation()}),fe.on("click keyup touchend",()=>{const Y=fe.selection.getNode();Y&&fe.dom.hasClass(Y,"mce-preview-object")&&fe.dom.getAttrib(Y,"data-mce-selected")&&Y.setAttribute("data-mce-selected","2")}),fe.on("ObjectResized",Y=>{const le=Y.target;if(le.getAttribute("data-mce-object")){let ye=le.getAttribute("data-mce-html");ye&&(ye=unescape(ye),le.setAttribute("data-mce-html",escape(se(ye,{width:String(Y.width),height:String(Y.height)},!1,fe.schema))))}})},Le={},Ee=(fe,Y,le)=>new Promise((ye,Ce)=>{const Ue=Be=>(Be.html&&(Le[fe.source]=Be),ye({url:fe.source,html:Be.html?Be.html:Y(fe)}));Le[fe.source]?Ue(Le[fe.source]):le({url:fe.source}).then(Ue).catch(Ce)}),we=(fe,Y)=>Promise.resolve({html:Y(fe),url:fe.source}),Ne=fe=>Y=>V(fe,Y),We=(fe,Y)=>{const le=b(fe);return le?Ee(Y,Ne(fe),le):we(Y,Ne(fe))},ct=fe=>Wo(Le,fe),nt=(fe,Y)=>jt(Y,fe).bind(le=>jt(le,"meta")),st=(fe,Y,le)=>ye=>{const Ce=()=>jt(fe,ye),Ue=()=>jt(Y,ye),Be=me=>jt(me,"value").bind(_e=>_e.length>0?Oe.some(_e):Oe.none()),te=()=>Ce().bind(me=>Ie(me)?Be(me).orThunk(Ue):Ue().orThunk(()=>Oe.from(me))),pe=()=>Ue().orThunk(()=>Ce().bind(me=>Ie(me)?Be(me):Oe.from(me)));return{[ye]:(ye===le?te():pe()).getOr("")}},Me=(fe,Y)=>{const le={};return jt(fe,"dimensions").each(ye=>{On(["width","height"],Ce=>{jt(Y,Ce).orThunk(()=>jt(ye,Ce)).each(Ue=>le[Ce]=Ue)})}),le},tt=(fe,Y)=>{const le=Y&&Y!=="dimensions"?nt(Y,fe).getOr({}):{},ye=st(fe,le,Y);return{...ye("source"),...ye("altsource"),...ye("poster"),...ye("embed"),...Me(fe,le)}},ze=fe=>{const Y={...fe,source:{value:jt(fe,"source").getOr("")},altsource:{value:jt(fe,"altsource").getOr("")},poster:{value:jt(fe,"poster").getOr("")}};return On(["width","height"],le=>{jt(fe,le).each(ye=>{const Ce=Y.dimensions||{};Ce[le]=ye,Y.dimensions=Ce})}),Y},Ze=fe=>Y=>{const le=Y&&Y.msg?"Media embed handler error: "+Y.msg:"Media embed handler threw unknown error.";fe.notificationManager.open({type:"error",text:le})},qe=fe=>{const Y=fe.selection.getNode(),le=q(Y)?fe.serializer.serialize(Y,{selection:!0}):"",ye=G(le,fe.schema),Ue=(()=>{if(ft(ye.source,ye.type)){const Be=fe.dom.getRect(Y);return{width:Be.w.toString().replace(/px$/,""),height:Be.h.toString().replace(/px$/,"")}}else return{}})();return{embed:le,...ye,...Ue}},Fe=(fe,Y)=>le=>{if(Ae(le.url)&&le.url.trim().length>0){const ye=le.html,Ue={...G(ye,Y.schema),source:le.url,embed:ye};fe.setData(ze(Ue))}},Ye=(fe,Y)=>{const le=fe.dom.select("*[data-mce-object]");for(let ye=0;ye<Y.length;ye++)for(let Ce=le.length-1;Ce>=0;Ce--)Y[ye]===le[Ce]&&le.splice(Ce,1);fe.selection.select(le[0])},xt=(fe,Y)=>{const le=fe.dom.select("*[data-mce-object]");fe.insertContent(Y),Ye(fe,le),fe.nodeChanged()},ft=(fe,Y)=>Mt(Y)&&Y==="ephox-embed-iri"&&Mt(W(fe)),Ot=(fe,Y)=>((ye,Ce)=>ye.width!==Ce.width||ye.height!==Ce.height)(fe,Y)&&ft(Y.source,fe.type),Rt=(fe,Y,le)=>{var ye;Y.embed=Ot(fe,Y)&&a(le)?V(le,{...Y,embed:""}):se((ye=Y.embed)!==null&&ye!==void 0?ye:"",Y,!1,le.schema),Y.embed&&(fe.source===Y.source||ct(Y.source))?xt(le,Y.embed):We(le,Y).then(Ce=>{xt(le,Ce.html)}).catch(Ze(le))},zt=fe=>{const Y=qe(fe),le=Yt(Y),ye=ze(Y),Ce=(Tt,Bt)=>{const Xt=tt(Bt.getData(),"source");Tt.source!==Xt.source&&(Fe(At,fe)({url:Xt.source,html:""}),We(fe,Xt).then(Fe(At,fe)).catch(Ze(fe)))},Ue=Tt=>{var Bt;const Xt=tt(Tt.getData()),Jt=G((Bt=Xt.embed)!==null&&Bt!==void 0?Bt:"",fe.schema);Tt.setData(ze(Jt))},Be=(Tt,Bt,Xt)=>{const Jt=tt(Tt.getData(),Bt),on=Ot(Xt,Jt)&&a(fe)?{...Jt,embed:""}:Jt,_n=V(fe,on);Tt.setData(ze({...on,embed:_n}))},te=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],pe=a(fe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],me={title:"General",name:"general",items:xe([te,pe])},je={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},pt=[];$(fe)&&pt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ge(fe)&&pt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const mt={title:"Advanced",name:"advanced",items:pt},kt=[me,je];pt.length>0&&kt.push(mt);const Ut={type:"tabpanel",tabs:kt},At=fe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Ut,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Tt=>{const Bt=tt(Tt.getData());Rt(le.get(),Bt,fe),Tt.close()},onChange:(Tt,Bt)=>{switch(Bt.name){case"source":Ce(le.get(),Tt);break;case"embed":Ue(Tt);break;case"dimensions":case"altsource":case"poster":Be(Tt,Bt.name,le.get());break}le.set(tt(Tt.getData()))},initialData:ye})},Zt=fe=>({showDialog:()=>{zt(fe)}}),wn=fe=>{const Y=()=>{zt(fe)};fe.addCommand("mceMedia",Y)};var Zn=tinymce.util.Tools.resolve("tinymce.Env");const et=fe=>{const Y=fe.name;return Y==="iframe"||Y==="video"||Y==="audio"},wt=(fe,Y,le,ye=null)=>{const Ce=fe.attr(le);return Mt(Ce)?Ce:Wo(Y,le)?null:ye},It=(fe,Y,le)=>{const ye=Y.name==="img"||fe.name==="video",Ce=ye?"300":null,Ue=fe.name==="audio"?"30":"150",Be=ye?Ue:null;Y.attr({width:wt(fe,le,"width",Ce),height:wt(fe,le,"height",Be)})},nn=(fe,Y,le,ye)=>{const Ce=H(fe.schema).parse(ye,{context:Y});for(;Ce.firstChild;)le.append(Ce.firstChild)},bn=(fe,Y)=>{const le=Y.name,ye=new F("img",1);return Mn(fe,Y,ye),It(Y,ye,{}),ye.attr({style:Y.attr("style"),src:Zn.transparentSrc,"data-mce-object":le,class:"mce-object mce-object-"+le}),ye},kn=(fe,Y)=>{var le;const ye=Y.name,Ce=new F("span",1);Ce.attr({contentEditable:"false",style:Y.attr("style"),"data-mce-object":ye,class:"mce-preview-object mce-object-"+ye}),Mn(fe,Y,Ce);const Ue=fe.dom.parseStyle((le=Y.attr("style"))!==null&&le!==void 0?le:""),Be=new F(ye,1);if(It(Y,Be,Ue),Be.attr({src:Y.attr("src"),style:Y.attr("style"),class:Y.attr("class")}),ye==="iframe")Be.attr({allowfullscreen:Y.attr("allowfullscreen"),frameborder:"0",sandbox:Y.attr("sandbox"),referrerpolicy:Y.attr("referrerpolicy")});else{On(["controls","crossorigin","currentTime","loop","muted","poster","preload"],_e=>{Be.attr(_e,Y.attr(_e))});const me=Ce.attr("data-mce-html");Mt(me)&&nn(fe,ye,Be,unescape(me))}const te=new F("span",1);return te.attr("class","mce-shim"),Ce.append(Be),Ce.append(te),Ce},Mn=(fe,Y,le)=>{var ye;const Ce=(ye=Y.attributes)!==null&&ye!==void 0?ye:[];let Ue=Ce.length;for(;Ue--;){const me=Ce[Ue].name;let _e=Ce[Ue].value;me!=="width"&&me!=="height"&&me!=="style"&&!qn(me,"data-mce-")&&((me==="data"||me==="src")&&(_e=fe.convertURL(_e,me)),le.attr("data-mce-p-"+me,_e))}const Be=j({inner:!0},fe.schema),te=new F("div",1);On(Y.children(),me=>te.append(me));const pe=Be.serialize(te);pe&&(le.attr("data-mce-html",escape(pe)),le.empty())},vn=fe=>{const Y=fe.attr("class");return Ae(Y)&&/\btiny-pageembed\b/.test(Y)},Hn=fe=>{let Y=fe;for(;Y=Y.parent;)if(Y.attr("data-ephox-embed-iri")||vn(Y))return!0;return!1},So=fe=>Y=>{let le=Y.length,ye;for(;le--;)ye=Y[le],ye.parent&&(ye.parent.attr("data-mce-object")||(et(ye)&&Qo(fe)?Hn(ye)||ye.replace(kn(fe,ye)):Hn(ye)||ye.replace(bn(fe,ye))))},ro=(fe,Y,le)=>{const ye=fe.options.get,Ce=ye("xss_sanitization"),Ue=s(fe);return H(fe.schema,{sanitize:Ce,validate:Ue}).parse(le,{context:Y})},Xo=fe=>{fe.on("PreInit",()=>{const{schema:Y,serializer:le,parser:ye}=fe,Ce=Y.getBoolAttrs();On("webkitallowfullscreen mozallowfullscreen".split(" "),Ue=>{Ce[Ue]={}}),Eo({embed:["wmode"]},(Ue,Be)=>{const te=Y.getElementRule(Be);te&&On(Ue,pe=>{te.attributes[pe]={},te.attributesOrder.push(pe)})}),ye.addNodeFilter("iframe,video,audio,object,embed",So(fe)),le.addAttributeFilter("data-mce-object",(Ue,Be)=>{var te;let pe=Ue.length;for(;pe--;){const me=Ue[pe];if(!me.parent)continue;const _e=me.attr(Be),je=new F(_e,1);if(_e!=="audio"){const Ut=me.attr("class");Ut&&Ut.indexOf("mce-preview-object")!==-1&&me.firstChild?je.attr({width:me.firstChild.attr("width"),height:me.firstChild.attr("height")}):je.attr({width:me.attr("width"),height:me.attr("height")})}je.attr({style:me.attr("style")});const pt=(te=me.attributes)!==null&&te!==void 0?te:[];let mt=pt.length;for(;mt--;){const Ut=pt[mt].name;Ut.indexOf("data-mce-p-")===0&&je.attr(Ut.substr(11),pt[mt].value)}const kt=me.attr("data-mce-html");if(kt){const Ut=ro(fe,_e,unescape(kt));On(Ut.children(),At=>je.append(At))}me.replace(je)}})}),fe.on("SetContent",()=>{const Y=fe.dom;On(Y.select("span.mce-preview-object"),le=>{Y.select("span.mce-shim",le).length===0&&Y.add(le,"span",{class:"mce-shim"})})})},zn=fe=>{fe.on("ResolveName",Y=>{let le;Y.target.nodeType===1&&(le=Y.target.getAttribute("data-mce-object"))&&(Y.name=le)})},cs=fe=>Y=>{const le=()=>{Y.setEnabled(fe.selection.isEditable())};return fe.on("NodeChange",le),le(),()=>{fe.off("NodeChange",le)}},ms=fe=>{const Y=()=>fe.execCommand("mceMedia");fe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Y,onSetup:le=>{const ye=fe.selection;le.setActive(q(ye.getNode()));const Ce=ye.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",le.setActive).unbind,Ue=cs(fe)(le);return()=>{Ce(),Ue()}}}),fe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Y,onSetup:cs(fe)})};var Et=()=>{E.add("media",fe=>(_o(fe),wn(fe),ms(fe),zn(fe),Xo(fe),ae(fe),Zt(fe)))};Et()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=Object.getPrototypeOf,x=(ke,Ge,yt)=>{var Kt;return yt(ke,Ge.prototype)?!0:((Kt=ke.constructor)===null||Kt===void 0?void 0:Kt.name)===Ge.name},de=ke=>{const Ge=typeof ke;return ke===null?"null":Ge==="object"&&Array.isArray(ke)?"array":Ge==="object"&&x(ke,String,(yt,Kt)=>Kt.isPrototypeOf(yt))?"string":Ge},Ae=ke=>Ge=>de(Ge)===ke,Ie=ke=>Ge=>typeof Ge===ke,Ke=ke=>Ge=>ke===Ge,ot=(ke,Ge)=>Oe(ke)&&x(ke,Ge,(yt,Kt)=>I(yt)===Kt),Mt=Ae("string"),Oe=Ae("object"),un=ke=>ot(ke,Object),On=Ae("array"),xe=Ke(null),Go=Ie("boolean"),Co=ke=>ke==null,Eo=ke=>!Co(ke),jt=Ie("function"),Wo=Ie("number"),Yt=(ke,Ge)=>{if(On(ke)){for(let yt=0,Kt=ke.length;yt<Kt;++yt)if(!Ge(ke[yt]))return!1;return!0}return!1},lt=()=>{};class qn{constructor(Ge,yt){this.tag=Ge,this.value=yt}static some(Ge){return new qn(!0,Ge)}static none(){return qn.singletonNone}fold(Ge,yt){return this.tag?yt(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?qn.some(Ge(this.value)):qn.none()}bind(Ge){return this.tag?Ge(this.value):qn.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:qn.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return Eo(Ge)?qn.some(Ge):qn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qn.singletonNone=new qn(!1);const fs=Array.prototype.push,_o=ke=>{const Ge=[];for(let yt=0,Kt=ke.length;yt<Kt;++yt){if(!On(ke[yt]))throw new Error("Arr.flatten item "+yt+" was not an array, input: "+ke);fs.apply(Ge,ke[yt])}return Ge},ht=(ke,Ge)=>Ge>=0&&Ge<ke.length?qn.some(ke[Ge]):qn.none(),eo=ke=>ht(ke,0),ks=(ke,Ge)=>{for(let yt=0;yt<ke.length;yt++){const Kt=Ge(ke[yt],yt);if(Kt.isSome())return Kt}return qn.none()},Qo=Object.keys,s=Object.hasOwnProperty,b=(ke,Ge)=>{const yt=Qo(ke);for(let Kt=0,Cn=yt.length;Kt<Cn;Kt++){const jo=yt[Kt],gs=ke[jo];Ge(gs,jo)}},$=ke=>(Ge,yt)=>{ke[yt]=Ge},ge=(ke,Ge,yt,Kt)=>{b(ke,(Cn,jo)=>{(Ge(Cn,jo)?yt:Kt)(Cn,jo)})},a=(ke,Ge)=>{const yt={};return ge(ke,Ge,$(yt),lt),yt},f=(ke,Ge)=>s.call(ke,Ge),N=(ke,Ge)=>f(ke,Ge)&&ke[Ge]!==void 0&&ke[Ge]!==null,L=(ke=>(...Ge)=>{if(Ge.length===0)throw new Error("Can't merge zero objects");const yt={};for(let Kt=0;Kt<Ge.length;Kt++){const Cn=Ge[Kt];for(const jo in Cn)f(Cn,jo)&&(yt[jo]=ke(yt[jo],Cn[jo]))}return yt})((ke,Ge)=>un(ke)&&un(Ge)?L(ke,Ge):Ge),B=ke=>ke.length>0,G=(ke,Ge)=>{const Kt=(Ge||document).createElement("div");if(Kt.innerHTML=ke,!Kt.hasChildNodes()||Kt.childNodes.length>1){const Cn="HTML does not have a single root node";throw console.error(Cn,ke),new Error(Cn)}return j(Kt.childNodes[0])},P=(ke,Ge)=>{const Kt=(Ge||document).createElement(ke);return j(Kt)},F=(ke,Ge)=>{const Kt=(Ge||document).createTextNode(ke);return j(Kt)},j=ke=>{if(ke==null)throw new Error("Node cannot be null or undefined");return{dom:ke}},ee={fromHtml:G,fromTag:P,fromText:F,fromDom:j,fromPoint:(ke,Ge,yt)=>qn.from(ke.dom.elementFromPoint(Ge,yt)).map(j)},w=(ke,Ge,yt)=>{if(Mt(yt)||Go(yt)||Wo(yt))ke.setAttribute(Ge,yt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ge,":: Value ",yt,":: Element ",ke),new Error("Attribute value was not simple")},he=(ke,Ge,yt)=>{w(ke.dom,Ge,yt)},be=(ke,Ge)=>{ke.dom.removeAttribute(Ge)};var se=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),re=tinymce.util.Tools.resolve("tinymce.util.URI");const ie=ke=>Ge=>Ge.options.get(ke),M=ke=>{const Ge=ke.options.register;Ge("image_dimensions",{processor:"boolean",default:!0}),Ge("image_advtab",{processor:"boolean",default:!1}),Ge("image_uploadtab",{processor:"boolean",default:!0}),Ge("image_prepend_url",{processor:"string",default:""}),Ge("image_class_list",{processor:"object[]"}),Ge("image_description",{processor:"boolean",default:!0}),Ge("image_title",{processor:"boolean",default:!1}),Ge("image_caption",{processor:"boolean",default:!1}),Ge("image_list",{processor:yt=>{const Kt=yt===!1||Mt(yt)||Yt(yt,Oe)||jt(yt);return Kt?{value:yt,valid:Kt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},W=ie("image_dimensions"),K=ie("image_advtab"),R=ie("image_uploadtab"),A=ie("image_prepend_url"),J=ie("image_class_list"),V=ie("image_description"),q=ie("image_title"),ae=ie("image_caption"),Le=ie("image_list"),Ee=ie("a11y_advanced_options"),we=ie("automatic_uploads"),Ne=ke=>B(ke.options.get("images_upload_url")),We=ke=>Eo(ke.options.get("images_upload_handler")),ct=(ke,Ge)=>Math.max(parseInt(ke,10),parseInt(Ge,10)),nt=ke=>new Promise(Ge=>{const yt=document.createElement("img"),Kt=jo=>{yt.parentNode&&yt.parentNode.removeChild(yt),Ge(jo)};yt.addEventListener("load",()=>{const jo=ct(yt.width,yt.clientWidth),gs=ct(yt.height,yt.clientHeight),ir={width:jo,height:gs};Kt(Promise.resolve(ir))}),yt.addEventListener("error",()=>{Kt(Promise.reject(`Failed to get image dimensions for: ${ke}`))});const Cn=yt.style;Cn.visibility="hidden",Cn.position="fixed",Cn.bottom=Cn.left="0px",Cn.width=Cn.height="auto",document.body.appendChild(yt),yt.src=ke}),st=ke=>(ke&&(ke=ke.replace(/px$/,"")),ke),Me=ke=>(ke.length>0&&/^[0-9]+$/.test(ke)&&(ke+="px"),ke),tt=ke=>{if(ke.margin){const Ge=String(ke.margin).split(" ");switch(Ge.length){case 1:ke["margin-top"]=ke["margin-top"]||Ge[0],ke["margin-right"]=ke["margin-right"]||Ge[0],ke["margin-bottom"]=ke["margin-bottom"]||Ge[0],ke["margin-left"]=ke["margin-left"]||Ge[0];break;case 2:ke["margin-top"]=ke["margin-top"]||Ge[0],ke["margin-right"]=ke["margin-right"]||Ge[1],ke["margin-bottom"]=ke["margin-bottom"]||Ge[0],ke["margin-left"]=ke["margin-left"]||Ge[1];break;case 3:ke["margin-top"]=ke["margin-top"]||Ge[0],ke["margin-right"]=ke["margin-right"]||Ge[1],ke["margin-bottom"]=ke["margin-bottom"]||Ge[2],ke["margin-left"]=ke["margin-left"]||Ge[1];break;case 4:ke["margin-top"]=ke["margin-top"]||Ge[0],ke["margin-right"]=ke["margin-right"]||Ge[1],ke["margin-bottom"]=ke["margin-bottom"]||Ge[2],ke["margin-left"]=ke["margin-left"]||Ge[3]}delete ke.margin}return ke},ze=(ke,Ge)=>{const yt=Le(ke);Mt(yt)?fetch(yt).then(Kt=>{Kt.ok&&Kt.json().then(Ge)}):jt(yt)?yt(Ge):Ge(yt)},Ze=(ke,Ge,yt)=>{const Kt=()=>{yt.onload=yt.onerror=null,ke.selection&&(ke.selection.select(yt),ke.nodeChanged())};yt.onload=()=>{!Ge.width&&!Ge.height&&W(ke)&&ke.dom.setAttribs(yt,{width:String(yt.clientWidth),height:String(yt.clientHeight)}),Kt()},yt.onerror=Kt},qe=ke=>new Promise((Ge,yt)=>{const Kt=new FileReader;Kt.onload=()=>{Ge(Kt.result)},Kt.onerror=()=>{var Cn;yt((Cn=Kt.error)===null||Cn===void 0?void 0:Cn.message)},Kt.readAsDataURL(ke)}),Fe=ke=>ke.nodeName==="IMG"&&(ke.hasAttribute("data-mce-object")||ke.hasAttribute("data-mce-placeholder")),Ye=(ke,Ge)=>{const yt=ke.options.get;return re.isDomSafe(Ge,"img",{allow_html_data_urls:yt("allow_html_data_urls"),allow_script_urls:yt("allow_script_urls"),allow_svg_data_urls:yt("allow_svg_data_urls")})},xt=se.DOM,ft=ke=>ke.style.marginLeft&&ke.style.marginRight&&ke.style.marginLeft===ke.style.marginRight?st(ke.style.marginLeft):"",Ot=ke=>ke.style.marginTop&&ke.style.marginBottom&&ke.style.marginTop===ke.style.marginBottom?st(ke.style.marginTop):"",Rt=ke=>ke.style.borderWidth?st(ke.style.borderWidth):"",zt=(ke,Ge)=>{var yt;return ke.hasAttribute(Ge)&&(yt=ke.getAttribute(Ge))!==null&&yt!==void 0?yt:""},Zt=ke=>ke.parentNode!==null&&ke.parentNode.nodeName==="FIGURE",wn=(ke,Ge,yt)=>{yt===""||yt===null?ke.removeAttribute(Ge):ke.setAttribute(Ge,yt)},Zn=ke=>{const Ge=xt.create("figure",{class:"image"});xt.insertAfter(Ge,ke),Ge.appendChild(ke),Ge.appendChild(xt.create("figcaption",{contentEditable:"true"},"Caption")),Ge.contentEditable="false"},et=ke=>{const Ge=ke.parentNode;Eo(Ge)&&(xt.insertAfter(ke,Ge),xt.remove(Ge))},wt=ke=>{Zt(ke)?et(ke):Zn(ke)},It=(ke,Ge)=>{const yt=ke.getAttribute("style"),Kt=Ge(yt!==null?yt:"");Kt.length>0?(ke.setAttribute("style",Kt),ke.setAttribute("data-mce-style",Kt)):ke.removeAttribute("style")},nn=(ke,Ge)=>(yt,Kt,Cn)=>{const jo=yt.style;jo[Kt]?(jo[Kt]=Me(Cn),It(yt,Ge)):wn(yt,Kt,Cn)},bn=(ke,Ge)=>ke.style[Ge]?st(ke.style[Ge]):zt(ke,Ge),kn=(ke,Ge)=>{const yt=Me(Ge);ke.style.marginLeft=yt,ke.style.marginRight=yt},Mn=(ke,Ge)=>{const yt=Me(Ge);ke.style.marginTop=yt,ke.style.marginBottom=yt},vn=(ke,Ge)=>{const yt=Me(Ge);ke.style.borderWidth=yt},Hn=(ke,Ge)=>{ke.style.borderStyle=Ge},So=ke=>{var Ge;return(Ge=ke.style.borderStyle)!==null&&Ge!==void 0?Ge:""},ro=ke=>Eo(ke)&&ke.nodeName==="FIGURE",Xo=ke=>ke.nodeName==="IMG",zn=ke=>{const Ge=xt.getAttrib(ke,"alt"),yt=xt.getAttrib(ke,"role");return ke.hasAttribute("alt")&&Ge.length===0||yt==="presentation"||yt==="none"},cs=ke=>zn(ke)?"":zt(ke,"alt"),ms=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Et=(ke,Ge)=>{var yt;const Kt=document.createElement("img");return wn(Kt,"style",Ge.style),(ft(Kt)||Ge.hspace!=="")&&kn(Kt,Ge.hspace),(Ot(Kt)||Ge.vspace!=="")&&Mn(Kt,Ge.vspace),(Rt(Kt)||Ge.border!=="")&&vn(Kt,Ge.border),(So(Kt)||Ge.borderStyle!=="")&&Hn(Kt,Ge.borderStyle),ke((yt=Kt.getAttribute("style"))!==null&&yt!==void 0?yt:"")},fe=(ke,Ge)=>{const yt=document.createElement("img");if(Be(ke,{...Ge,caption:!1},yt),ye(yt,Ge.alt,Ge.isDecorative),Ge.caption){const Kt=xt.create("figure",{class:"image"});return Kt.appendChild(yt),Kt.appendChild(xt.create("figcaption",{contentEditable:"true"},"Caption")),Kt.contentEditable="false",Kt}else return yt},Y=(ke,Ge)=>({src:zt(Ge,"src"),alt:cs(Ge),title:zt(Ge,"title"),width:bn(Ge,"width"),height:bn(Ge,"height"),class:zt(Ge,"class"),style:ke(zt(Ge,"style")),caption:Zt(Ge),hspace:ft(Ge),vspace:Ot(Ge),border:Rt(Ge),borderStyle:So(Ge),isDecorative:zn(Ge)}),le=(ke,Ge,yt,Kt,Cn)=>{yt[Kt]!==Ge[Kt]&&Cn(ke,Kt,String(yt[Kt]))},ye=(ke,Ge,yt)=>{if(yt){xt.setAttrib(ke,"role","presentation");const Kt=ee.fromDom(ke);he(Kt,"alt","")}else{if(xe(Ge)){const Kt=ee.fromDom(ke);be(Kt,"alt")}else{const Kt=ee.fromDom(ke);he(Kt,"alt",Ge)}xt.getAttrib(ke,"role")==="presentation"&&xt.setAttrib(ke,"role","")}},Ce=(ke,Ge,yt)=>{(yt.alt!==Ge.alt||yt.isDecorative!==Ge.isDecorative)&&ye(ke,yt.alt,yt.isDecorative)},Ue=(ke,Ge)=>(yt,Kt,Cn)=>{ke(yt,Cn),It(yt,Ge)},Be=(ke,Ge,yt)=>{const Kt=Y(ke,yt);le(yt,Kt,Ge,"caption",(Cn,jo,gs)=>wt(Cn)),le(yt,Kt,Ge,"src",wn),le(yt,Kt,Ge,"title",wn),le(yt,Kt,Ge,"width",nn("width",ke)),le(yt,Kt,Ge,"height",nn("height",ke)),le(yt,Kt,Ge,"class",wn),le(yt,Kt,Ge,"style",Ue((Cn,jo)=>wn(Cn,"style",jo),ke)),le(yt,Kt,Ge,"hspace",Ue(kn,ke)),le(yt,Kt,Ge,"vspace",Ue(Mn,ke)),le(yt,Kt,Ge,"border",Ue(vn,ke)),le(yt,Kt,Ge,"borderStyle",Ue(Hn,ke)),Ce(yt,Kt,Ge)},te=(ke,Ge)=>{const yt=ke.dom.styles.parse(Ge),Kt=tt(yt),Cn=ke.dom.styles.parse(ke.dom.styles.serialize(Kt));return ke.dom.styles.serialize(Cn)},pe=ke=>{const Ge=ke.selection.getNode(),yt=ke.dom.getParent(Ge,"figure.image");return yt?ke.dom.select("img",yt)[0]:Ge&&(Ge.nodeName!=="IMG"||Fe(Ge))?null:Ge},me=(ke,Ge)=>{var yt;const Kt=ke.dom,Cn=a(ke.schema.getTextBlockElements(),(gs,ir)=>!ke.schema.isValidChild(ir,"figure")),jo=Kt.getParent(Ge.parentNode,gs=>N(Cn,gs.nodeName),ke.getBody());return jo&&(yt=Kt.split(jo,Ge))!==null&&yt!==void 0?yt:Ge},_e=ke=>{const Ge=pe(ke);return Ge?Y(yt=>te(ke,yt),Ge):ms()},je=(ke,Ge)=>{const yt=fe(Cn=>te(ke,Cn),Ge);ke.dom.setAttrib(yt,"data-mce-id","__mcenew"),ke.focus(),ke.insertContent(yt.outerHTML);const Kt=ke.dom.select('*[data-mce-id="__mcenew"]')[0];if(ke.dom.setAttrib(Kt,"data-mce-id",null),ro(Kt)){const Cn=me(ke,Kt);ke.selection.select(Cn)}else ke.selection.select(Kt)},pt=(ke,Ge)=>{ke.dom.setAttrib(Ge,"src",Ge.getAttribute("src"))},mt=(ke,Ge)=>{if(Ge){const yt=ke.dom.is(Ge.parentNode,"figure.image")?Ge.parentNode:Ge;ke.dom.remove(yt),ke.focus(),ke.nodeChanged(),ke.dom.isEmpty(ke.getBody())&&(ke.setContent(""),ke.selection.setCursorLocation())}},kt=(ke,Ge)=>{const yt=pe(ke);if(yt)if(Be(Kt=>te(ke,Kt),Ge,yt),pt(ke,yt),ro(yt.parentNode)){ke.dom.setStyle(yt,"float","");const Kt=yt.parentNode;me(ke,Kt),ke.selection.select(yt.parentNode)}else ke.selection.select(yt),Ze(ke,Ge,yt)},Ut=(ke,Ge)=>{const yt=Ge.src;return{...Ge,src:Ye(ke,yt)?yt:""}},At=(ke,Ge)=>{const yt=pe(ke);if(yt){const Cn={...Y(gs=>te(ke,gs),yt),...Ge},jo=Ut(ke,Cn);Cn.src?kt(ke,jo):mt(ke,yt)}else Ge.src&&je(ke,{...ms(),...Ge})};var Tt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Bt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xt=ke=>Mt(ke.value)?ke.value:"",Jt=ke=>Mt(ke.text)?ke.text:Mt(ke.title)?ke.title:"",on=(ke,Ge)=>{const yt=[];return Bt.each(ke,Kt=>{const Cn=Jt(Kt);if(Kt.menu!==void 0){const jo=on(Kt.menu,Ge);yt.push({text:Cn,items:jo})}else{const jo=Ge(Kt);yt.push({text:Cn,value:jo})}}),yt},_n=(ke=Xt)=>Ge=>Ge?qn.from(Ge).map(yt=>on(yt,ke)):qn.none(),Dn=ke=>_n(Xt)(ke),to=ke=>f(ke,"items"),hs=(ke,Ge)=>ks(ke,yt=>to(yt)?hs(yt.items,Ge):yt.value===Ge?qn.some(yt):qn.none()),ps={sanitizer:_n,sanitize:Dn,findEntry:(ke,Ge)=>ke.bind(yt=>hs(yt,Ge))},bs={makeTab:ke=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},qo=ke=>{const Ge=ps.sanitizer(la=>ke.convertURL(la.value||la.url||"","src")),yt=new Promise(la=>{ze(ke,Qi=>{la(Ge(Qi).map(zi=>_o([[{text:"None",value:""}],zi])))})}),Kt=ps.sanitize(J(ke)),Cn=K(ke),jo=R(ke),gs=Ne(ke),ir=We(ke),Or=_e(ke),Gr=V(ke),Rs=q(ke),Sa=W(ke),Hi=ae(ke),ta=Ee(ke),Ta=we(ke),xi=qn.some(A(ke)).filter(la=>Mt(la)&&la.length>0);return yt.then(la=>({image:Or,imageList:la,classList:Kt,hasAdvTab:Cn,hasUploadTab:jo,hasUploadUrl:gs,hasUploadHandler:ir,hasDescription:Gr,hasImageTitle:Rs,hasDimensions:Sa,hasImageCaption:Hi,prependURL:xi,hasAccessibilityOptions:ta,automaticUploads:Ta}))},Do=ke=>{const Ge={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},yt=ke.imageList.map(Rs=>({name:"images",type:"listbox",label:"Image list",items:Rs})),Kt={name:"alt",type:"input",label:"Alternative description",enabled:!(ke.hasAccessibilityOptions&&ke.image.isDecorative)},Cn={name:"title",type:"input",label:"Image title"},jo={name:"dimensions",type:"sizeinput"},gs={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ir=ke.classList.map(Rs=>({name:"classes",type:"listbox",label:"Class",items:Rs})),Or={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Gr=Rs=>Rs?{type:"grid",columns:2}:{type:"panel"};return _o([[Ge],yt.toArray(),ke.hasAccessibilityOptions&&ke.hasDescription?[gs]:[],ke.hasDescription?[Kt]:[],ke.hasImageTitle?[Cn]:[],ke.hasDimensions?[jo]:[],[{...Gr(ke.classList.isSome()&&ke.hasImageCaption),items:_o([ir.toArray(),ke.hasImageCaption?[Or]:[]])}]])},As={makeTab:ke=>({title:"General",name:"general",items:Do(ke)}),makeItems:Do},go={makeTab:ke=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},bo=ke=>({prevImage:ps.findEntry(ke.imageList,ke.image.src),prevAlt:ke.image.alt,open:!0}),io=ke=>({src:{value:ke.src,meta:{}},images:ke.src,alt:ke.alt,title:ke.title,dimensions:{width:ke.width,height:ke.height},classes:ke.class,caption:ke.caption,style:ke.style,vspace:ke.vspace,border:ke.border,hspace:ke.hspace,borderstyle:ke.borderStyle,fileinput:[],isDecorative:ke.isDecorative}),po=(ke,Ge)=>({src:ke.src.value,alt:(ke.alt===null||ke.alt.length===0)&&Ge?null:ke.alt,title:ke.title,width:ke.dimensions.width,height:ke.dimensions.height,class:ke.classes,style:ke.style,caption:ke.caption,hspace:ke.hspace,vspace:ke.vspace,border:ke.border,borderStyle:ke.borderstyle,isDecorative:ke.isDecorative}),Tr=(ke,Ge)=>/^(?:[a-zA-Z]+:)?\/\//.test(Ge)?qn.none():ke.prependURL.bind(yt=>Ge.substring(0,yt.length)!==yt?qn.some(yt+Ge):qn.none()),vi=(ke,Ge)=>{const yt=Ge.getData();Tr(ke,yt.src.value).each(Kt=>{Ge.setData({src:{value:Kt,meta:yt.src.meta}})})},Qn=(ke,Ge,yt)=>{ke.hasDescription&&Mt(yt.alt)&&(Ge.alt=yt.alt),ke.hasAccessibilityOptions&&(Ge.isDecorative=yt.isDecorative||Ge.isDecorative||!1),ke.hasImageTitle&&Mt(yt.title)&&(Ge.title=yt.title),ke.hasDimensions&&(Mt(yt.width)&&(Ge.dimensions.width=yt.width),Mt(yt.height)&&(Ge.dimensions.height=yt.height)),Mt(yt.class)&&ps.findEntry(ke.classList,yt.class).each(Kt=>{Ge.classes=Kt.value}),ke.hasImageCaption&&Go(yt.caption)&&(Ge.caption=yt.caption),ke.hasAdvTab&&(Mt(yt.style)&&(Ge.style=yt.style),Mt(yt.vspace)&&(Ge.vspace=yt.vspace),Mt(yt.border)&&(Ge.border=yt.border),Mt(yt.hspace)&&(Ge.hspace=yt.hspace),Mt(yt.borderstyle)&&(Ge.borderstyle=yt.borderstyle))},Ur=(ke,Ge)=>{const yt=Ge.getData(),Kt=yt.src.meta;if(Kt!==void 0){const Cn=L({},yt);Qn(ke,Cn,Kt),Ge.setData(Cn)}},wa=(ke,Ge,yt,Kt)=>{const Cn=Kt.getData(),jo=Cn.src.value,gs=Cn.src.meta||{};!gs.width&&!gs.height&&Ge.hasDimensions&&(B(jo)?ke.imageSize(jo).then(ir=>{yt.open&&Kt.setData({dimensions:ir})}).catch(ir=>console.error(ir)):Kt.setData({dimensions:{width:"",height:""}}))},Qs=(ke,Ge,yt)=>{const Kt=yt.getData(),Cn=ps.findEntry(ke.imageList,Kt.src.value);Ge.prevImage=Cn,yt.setData({images:Cn.map(jo=>jo.value).getOr("")})},ia=(ke,Ge,yt,Kt)=>{vi(Ge,Kt),Ur(Ge,Kt),wa(ke,Ge,yt,Kt),Qs(Ge,yt,Kt)},Re=(ke,Ge,yt,Kt)=>{const Cn=Kt.getData(),jo=ps.findEntry(Ge.imageList,Cn.images);jo.each(gs=>{Cn.alt===""||yt.prevImage.map(Or=>Or.text===Cn.alt).getOr(!1)?gs.value===""?Kt.setData({src:gs,alt:yt.prevAlt}):Kt.setData({src:gs,alt:gs.text}):Kt.setData({src:gs})}),yt.prevImage=jo,ia(ke,Ge,yt,Kt)},gt=(ke,Ge,yt,Kt)=>{const Cn=Kt.getData();Kt.block("Uploading image"),eo(Cn.fileinput).fold(()=>{Kt.unblock()},jo=>{const gs=URL.createObjectURL(jo),ir=()=>{Kt.unblock(),URL.revokeObjectURL(gs)},Or=Gr=>{Kt.setData({src:{value:Gr,meta:{}}}),Kt.showTab("general"),ia(ke,Ge,yt,Kt),Kt.focus("src")};qe(jo).then(Gr=>{const Rs=ke.createBlobCache(jo,gs,Gr);Ge.automaticUploads?ke.uploadImage(Rs).then(Sa=>{Or(Sa.url),ir()}).catch(Sa=>{ir(),ke.alertErr(Sa,()=>{Kt.focus("fileinput")})}):(ke.addToBlobCache(Rs),Or(Rs.blobUri()),Kt.unblock())})})},St=(ke,Ge,yt)=>(Kt,Cn)=>{Cn.name==="src"?ia(ke,Ge,yt,Kt):Cn.name==="images"?Re(ke,Ge,yt,Kt):Cn.name==="alt"?yt.prevAlt=Kt.getData().alt:Cn.name==="fileinput"?gt(ke,Ge,yt,Kt):Cn.name==="isDecorative"&&Kt.setEnabled("alt",!Kt.getData().isDecorative)},Pt=ke=>()=>{ke.open=!1},Qt=ke=>ke.hasAdvTab||ke.hasUploadUrl||ke.hasUploadHandler?{type:"tabpanel",tabs:_o([[As.makeTab(ke)],ke.hasAdvTab?[bs.makeTab(ke)]:[],ke.hasUploadTab&&(ke.hasUploadUrl||ke.hasUploadHandler)?[go.makeTab(ke)]:[]])}:{type:"panel",items:As.makeItems(ke)},Vn=(ke,Ge,yt)=>Kt=>{const Cn=L(io(Ge.image),Kt.getData()),jo={...Cn,style:Et(yt.normalizeCss,po(Cn,!1))};ke.execCommand("mceUpdateImage",!1,po(jo,Ge.hasAccessibilityOptions)),ke.editorUpload.uploadImagesAuto(),Kt.close()},jn=ke=>Ge=>Ye(ke,Ge)?nt(ke.documentBaseURI.toAbsolute(Ge)).then(yt=>({width:String(yt.width),height:String(yt.height)})):Promise.resolve({width:"",height:""}),vo=ke=>(Ge,yt,Kt)=>{var Cn;return ke.editorUpload.blobCache.create({blob:Ge,blobUri:yt,name:(Cn=Ge.name)===null||Cn===void 0?void 0:Cn.replace(/\.[^\.]+$/,""),filename:Ge.name,base64:Kt.split(",")[1]})},mo=ke=>Ge=>{ke.editorUpload.blobCache.add(Ge)},Uo=ke=>(Ge,yt)=>{ke.windowManager.alert(Ge,yt)},cn=ke=>Ge=>te(ke,Ge),ds=ke=>Ge=>ke.dom.parseStyle(Ge),us=ke=>(Ge,yt)=>ke.dom.serializeStyle(Ge,yt),Ve=ke=>Ge=>Tt(ke).upload([Ge],!1).then(yt=>{var Kt;return yt.length===0?Promise.reject("Failed to upload image"):yt[0].status===!1?Promise.reject((Kt=yt[0].error)===null||Kt===void 0?void 0:Kt.message):yt[0]}),bt=ke=>{const Ge={imageSize:jn(ke),addToBlobCache:mo(ke),createBlobCache:vo(ke),alertErr:Uo(ke),normalizeCss:cn(ke),parseStyle:ds(ke),serializeStyle:us(ke),uploadImage:Ve(ke)};return{open:()=>{qo(ke).then(Kt=>{const Cn=bo(Kt);return{title:"Insert/Edit Image",size:"normal",body:Qt(Kt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:io(Kt.image),onSubmit:Vn(ke,Kt,Ge),onChange:St(Ge,Kt,Cn),onClose:Pt(Cn)}}).then(ke.windowManager.open)}}},Ht=ke=>{ke.addCommand("mceImage",bt(ke).open),ke.addCommand("mceUpdateImage",(Ge,yt)=>{ke.undoManager.transact(()=>At(ke,yt))})},ln=ke=>{const Ge=ke.attr("class");return Eo(Ge)&&/\bimage\b/.test(Ge)},An=ke=>Ge=>{let yt=Ge.length;const Kt=Cn=>{Cn.attr("contenteditable",ke?"true":null)};for(;yt--;){const Cn=Ge[yt];ln(Cn)&&(Cn.attr("contenteditable",ke?"false":null),Bt.each(Cn.getAll("figcaption"),Kt))}},Wn=ke=>{ke.on("PreInit",()=>{ke.parser.addNodeFilter("figure",An(!0)),ke.serializer.addNodeFilter("figure",An(!1))})},Yo=ke=>Ge=>{const yt=()=>{Ge.setEnabled(ke.selection.isEditable())};return ke.on("NodeChange",yt),yt(),()=>{ke.off("NodeChange",yt)}},Oo=ke=>{ke.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:bt(ke).open,onSetup:Ge=>{Ge.setActive(Eo(pe(ke)));const yt=ke.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Ge.setActive).unbind,Kt=Yo(ke)(Ge);return()=>{yt(),Kt()}}}),ke.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:bt(ke).open,onSetup:Yo(ke)}),ke.ui.registry.addContextMenu("image",{update:Ge=>ke.selection.isEditable()&&(ro(Ge)||Xo(Ge)&&!Fe(Ge))?["image"]:[]})};var To=()=>{E.add("image",ke=>{M(ke),Wn(ke),Oo(ke),Ht(ke)})};To()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=(O,T,L)=>{var B;return L(O,T.prototype)?!0:((B=O.constructor)===null||B===void 0?void 0:B.name)===T.name},x=O=>{const T=typeof O;return O===null?"null":T==="object"&&Array.isArray(O)?"array":T==="object"&&I(O,String,(L,B)=>B.isPrototypeOf(L))?"string":T},de=O=>T=>x(T)===O,Ae=O=>T=>O===T,Ie=de("string"),Ke=Ae(void 0);var ot=tinymce.util.Tools.resolve("tinymce.util.Delay"),Mt=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const un=O=>O.dispatch("RestoreDraft"),On=O=>O.dispatch("StoreDraft"),xe=O=>O.dispatch("RemoveDraft"),Go=O=>{const T={s:1e3,m:6e4},L=/^(\d+)([ms]?)$/.exec(O);return(L&&L[2]?T[L[2]]:1)*parseInt(O,10)},Co=O=>T=>T.options.get(O),Eo=O=>{const T=O.options.register,L=B=>{const G=Ie(B);return G?{value:Go(B),valid:G}:{valid:!1,message:"Must be a string."}};T("autosave_ask_before_unload",{processor:"boolean",default:!0}),T("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),T("autosave_restore_when_empty",{processor:"boolean",default:!1}),T("autosave_interval",{processor:L,default:"30s"}),T("autosave_retention",{processor:L,default:"20m"})},jt=Co("autosave_ask_before_unload"),Wo=Co("autosave_restore_when_empty"),Yt=Co("autosave_interval"),lt=Co("autosave_retention"),qn=O=>{const T=document.location;return O.options.get("autosave_prefix").replace(/{path}/g,T.pathname).replace(/{query}/g,T.search).replace(/{hash}/g,T.hash).replace(/{id}/g,O.id)},fs=(O,T)=>{if(Ke(T))return O.dom.isEmpty(O.getBody());{const L=Oe.trim(T);if(L==="")return!0;{const B=new DOMParser().parseFromString(L,"text/html");return O.dom.isEmpty(B)}}},_o=O=>{var T;const L=parseInt((T=Mt.getItem(qn(O)+"time"))!==null&&T!==void 0?T:"0",10)||0;return new Date().getTime()-L>lt(O)?(ht(O,!1),!1):!0},ht=(O,T)=>{const L=qn(O);Mt.removeItem(L+"draft"),Mt.removeItem(L+"time"),T!==!1&&xe(O)},eo=O=>{const T=qn(O);!fs(O)&&O.isDirty()&&(Mt.setItem(T+"draft",O.getContent({format:"raw",no_events:!0})),Mt.setItem(T+"time",new Date().getTime().toString()),On(O))},ks=O=>{var T;const L=qn(O);_o(O)&&(O.setContent((T=Mt.getItem(L+"draft"))!==null&&T!==void 0?T:"",{format:"raw"}),un(O))},Qo=O=>{const T=Yt(O);ot.setEditorInterval(O,()=>{eo(O)},T)},s=O=>{O.undoManager.transact(()=>{ks(O),ht(O)}),O.focus()},b=O=>({hasDraft:()=>_o(O),storeDraft:()=>eo(O),restoreDraft:()=>ks(O),removeDraft:T=>ht(O,T),isEmpty:T=>fs(O,T)});var $=tinymce.util.Tools.resolve("tinymce.EditorManager");const ge=O=>{O.editorManager.on("BeforeUnload",T=>{let L;Oe.each($.get(),B=>{B.plugins.autosave&&B.plugins.autosave.storeDraft(),!L&&B.isDirty()&&jt(B)&&(L=B.translate("You have unsaved changes are you sure you want to navigate away?"))}),L&&(T.preventDefault(),T.returnValue=L)})},a=O=>T=>{const L=()=>_o(O)&&!O.mode.isReadOnly();T.setEnabled(L());const B=()=>T.setEnabled(L());return O.on("StoreDraft RestoreDraft RemoveDraft",B),()=>O.off("StoreDraft RestoreDraft RemoveDraft",B)},f=O=>{Qo(O);const T=()=>{s(O)};O.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:T,onSetup:a(O)}),O.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:T,onSetup:a(O)})};var N=()=>{E.add("autosave",O=>(Eo(O),ge(O),f(O),O.on("init",()=>{Wo(O)&&O.dom.isEmpty(O.getBody())&&ks(O)}),b(O)))};N()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=(F,j,H)=>{var ee;return H(F,j.prototype)?!0:((ee=F.constructor)===null||ee===void 0?void 0:ee.name)===j.name},x=F=>{const j=typeof F;return F===null?"null":j==="object"&&Array.isArray(F)?"array":j==="object"&&I(F,String,(H,ee)=>ee.isPrototypeOf(H))?"string":j},de=F=>j=>x(j)===F,Ae=F=>j=>F===j,Ie=de("string"),Ke=Ae(void 0),ot=F=>F==null,Mt=F=>!ot(F),Oe=F=>j=>!F(j),un=Object.hasOwnProperty,On=(F,j)=>un.call(F,j),xe=(F,j,H)=>F.length>=j.length&&F.substr(H,H+j.length)===j,Go=(F,j,H=0,ee)=>{const w=F.indexOf(j,H);return w!==-1?Ke(ee)?!0:w+j.length<=ee:!1},Co=(F,j)=>xe(F,j,0),Eo="\uFEFF",jt=F=>F===Eo,Wo=F=>F.replace(/\uFEFF/g,""),Yt=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,lt=F=>j=>j.options.get(F),qn=F=>{const j=F.options.register;j("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Yt().source+"$","i")}),j("link_default_target",{processor:"string"}),j("link_default_protocol",{processor:"string",default:"https"})},fs=lt("autolink_pattern"),_o=lt("link_default_target"),ht=lt("link_default_protocol"),eo=lt("allow_unsafe_link_target");var ks=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Qo=F=>F.nodeType===3,s=F=>F.nodeType===1,b=F=>/^[(\[{ \u00a0]$/.test(F),$=F=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(F),ge=F=>/[?!,.;:]/.test(F),a=(F,j,H)=>{for(let ee=j-1;ee>=0;ee--){const w=F.charAt(ee);if(!jt(w)&&H(w))return ee}return-1},f=(F,j)=>{let H=F,ee=j;for(;s(H)&&H.childNodes[ee];)H=H.childNodes[ee],ee=Qo(H)?H.data.length:H.childNodes.length;return{container:H,offset:ee}},N=(F,j)=>{var H;const ee=F.schema.getVoidElements(),w=fs(F),{dom:he,selection:be}=F;if(he.getParent(be.getNode(),"a[href]")!==null||F.mode.isReadOnly())return null;const se=be.getRng(),re=ks(he,ae=>he.isBlock(ae)||On(ee,ae.nodeName.toLowerCase())||he.getContentEditable(ae)==="false"||he.getParent(ae,"a[href]")!==null),{container:ie,offset:M}=f(se.endContainer,se.endOffset),W=(H=he.getParent(ie,he.isBlock))!==null&&H!==void 0?H:he.getRoot(),K=re.backwards(ie,M+j,(ae,Le)=>{const Ee=ae.data,we=a(Ee,Le,Oe(b));return we===-1||ge(Ee[we])?we:we+1},W);if(!K)return null;let R=K.container;const A=re.backwards(K.container,K.offset,(ae,Le)=>{R=ae;const Ee=a(ae.data,Le,b);return Ee===-1?Ee:Ee+1},W),J=he.createRng();A?J.setStart(A.container,A.offset):J.setStart(R,0),J.setEnd(K.container,K.offset);const q=Wo(J.toString()).match(w);if(q){let ae=q[0];return Co(ae,"www.")?ae=ht(F)+"://"+ae:Go(ae,"@")&&!$(ae)&&(ae="mailto:"+ae),{rng:J,url:ae}}else return null},O=(F,j)=>{const{dom:H,selection:ee}=F,{rng:w,url:he}=j,be=ee.getBookmark();ee.setRng(w);const se="createlink",re={command:se,ui:!1,value:he};if(!F.dispatch("BeforeExecCommand",re).isDefaultPrevented()){F.getDoc().execCommand(se,!1,he),F.dispatch("ExecCommand",re);const M=_o(F);if(Ie(M)){const W=ee.getNode();H.setAttrib(W,"target",M),M==="_blank"&&!eo(F)&&H.setAttrib(W,"rel","noopener")}}ee.moveToBookmark(be),F.nodeChanged()},T=F=>{const j=N(F,-1);Mt(j)&&O(F,j)},L=T,B=F=>{const j=N(F,0);Mt(j)&&O(F,j)},G=F=>{F.on("keydown",j=>{j.keyCode===13&&!j.isDefaultPrevented()&&B(F)}),F.on("keyup",j=>{j.keyCode===32?T(F):(j.keyCode===48&&j.shiftKey||j.keyCode===221)&&L(F)})};var P=()=>{E.add("autolink",F=>{qn(F),G(F)})};P()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=(Ve,bt,Ht)=>{var ln;return Ht(Ve,bt.prototype)?!0:((ln=Ve.constructor)===null||ln===void 0?void 0:ln.name)===bt.name},x=Ve=>{const bt=typeof Ve;return Ve===null?"null":bt==="object"&&Array.isArray(Ve)?"array":bt==="object"&&I(Ve,String,(Ht,ln)=>ln.isPrototypeOf(Ht))?"string":bt},de=Ve=>bt=>x(bt)===Ve,Ae=Ve=>bt=>typeof bt===Ve,Ie=Ve=>bt=>Ve===bt,Ke=de("string"),ot=de("object"),Mt=de("array"),Oe=Ie(null),un=Ae("boolean"),On=Ve=>Ve==null,xe=Ve=>!On(Ve),Go=Ae("function"),Co=(Ve,bt)=>{if(Mt(Ve)){for(let Ht=0,ln=Ve.length;Ht<ln;++Ht)if(!bt(Ve[Ht]))return!1;return!0}return!1},Eo=()=>{},jt=Ve=>()=>Ve,Wo=(Ve,bt)=>Ve===bt;class Yt{constructor(bt,Ht){this.tag=bt,this.value=Ht}static some(bt){return new Yt(!0,bt)}static none(){return Yt.singletonNone}fold(bt,Ht){return this.tag?Ht(this.value):bt()}isSome(){return this.tag}isNone(){return!this.tag}map(bt){return this.tag?Yt.some(bt(this.value)):Yt.none()}bind(bt){return this.tag?bt(this.value):Yt.none()}exists(bt){return this.tag&&bt(this.value)}forall(bt){return!this.tag||bt(this.value)}filter(bt){return!this.tag||bt(this.value)?this:Yt.none()}getOr(bt){return this.tag?this.value:bt}or(bt){return this.tag?this:bt}getOrThunk(bt){return this.tag?this.value:bt()}orThunk(bt){return this.tag?this:bt()}getOrDie(bt){if(this.tag)return this.value;throw new Error(bt??"Called getOrDie on None")}static from(bt){return xe(bt)?Yt.some(bt):Yt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(bt){this.tag&&bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Yt.singletonNone=new Yt(!1);const lt=Array.prototype.indexOf,qn=Array.prototype.push,fs=(Ve,bt)=>lt.call(Ve,bt),_o=(Ve,bt)=>fs(Ve,bt)>-1,ht=(Ve,bt)=>{const Ht=Ve.length,ln=new Array(Ht);for(let An=0;An<Ht;An++){const Wn=Ve[An];ln[An]=bt(Wn,An)}return ln},eo=(Ve,bt)=>{for(let Ht=0,ln=Ve.length;Ht<ln;Ht++){const An=Ve[Ht];bt(An,Ht)}},ks=(Ve,bt,Ht)=>(eo(Ve,(ln,An)=>{Ht=bt(Ht,ln,An)}),Ht),Qo=Ve=>{const bt=[];for(let Ht=0,ln=Ve.length;Ht<ln;++Ht){if(!Mt(Ve[Ht]))throw new Error("Arr.flatten item "+Ht+" was not an array, input: "+Ve);qn.apply(bt,Ve[Ht])}return bt},s=(Ve,bt)=>Qo(ht(Ve,bt)),b=(Ve,bt)=>{for(let Ht=0;Ht<Ve.length;Ht++){const ln=bt(Ve[Ht],Ht);if(ln.isSome())return ln}return Yt.none()},$=Object.keys,ge=Object.hasOwnProperty,a=(Ve,bt)=>{const Ht=$(Ve);for(let ln=0,An=Ht.length;ln<An;ln++){const Wn=Ht[ln],Yo=Ve[Wn];bt(Yo,Wn)}},f=Ve=>(bt,Ht)=>{Ve[Ht]=bt},N=(Ve,bt,Ht,ln)=>{a(Ve,(An,Wn)=>{(bt(An,Wn)?Ht:ln)(An,Wn)})},O=(Ve,bt)=>{const Ht={};return N(Ve,bt,f(Ht),Eo),Ht},T=(Ve,bt)=>ge.call(Ve,bt),L=(Ve,bt)=>T(Ve,bt)&&Ve[bt]!==void 0&&Ve[bt]!==null,B=Ve=>{let bt=Ve;return{get:()=>bt,set:An=>{bt=An}}},G=(Ve,bt,Ht=Wo)=>Ve.exists(ln=>Ht(ln,bt)),P=Ve=>{const bt=[],Ht=ln=>{bt.push(ln)};for(let ln=0;ln<Ve.length;ln++)Ve[ln].each(Ht);return bt},F=(Ve,bt)=>Ve?Yt.some(bt):Yt.none(),j=Ve=>{const bt=B(Yt.none()),Ht=()=>bt.get().each(Ve);return{clear:()=>{Ht(),bt.set(Yt.none())},isSet:()=>bt.get().isSome(),get:()=>bt.get(),set:Oo=>{Ht(),bt.set(Yt.some(Oo))}}},H=()=>{const Ve=j(Eo);return{...Ve,on:Ht=>Ve.get().each(Ht)}},ee=(Ve,bt)=>Ve.substring(bt),w=(Ve,bt,Ht)=>bt===""||Ve.length>=bt.length&&Ve.substr(Ht,Ht+bt.length)===bt,he=(Ve,bt)=>be(Ve,bt)?ee(Ve,bt.length):Ve,be=(Ve,bt)=>w(Ve,bt,0),se=Ve=>bt=>bt.options.get(Ve),re=Ve=>{const bt=Ve.options.register;bt("link_assume_external_targets",{processor:Ht=>{const ln=Ke(Ht)||un(Ht);return ln?Ht===!0?{value:1,valid:ln}:Ht==="http"||Ht==="https"?{value:Ht,valid:ln}:{value:0,valid:ln}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),bt("link_context_toolbar",{processor:"boolean",default:!1}),bt("link_list",{processor:Ht=>Ke(Ht)||Go(Ht)||Co(Ht,ot)}),bt("link_default_target",{processor:"string"}),bt("link_default_protocol",{processor:"string",default:"https"}),bt("link_target_list",{processor:Ht=>un(Ht)||Co(Ht,ot),default:!0}),bt("link_rel_list",{processor:"object[]",default:[]}),bt("link_class_list",{processor:"object[]",default:[]}),bt("link_title",{processor:"boolean",default:!0}),bt("allow_unsafe_link_target",{processor:"boolean",default:!1}),bt("link_quicklink",{processor:"boolean",default:!1}),bt("link_attributes_postprocess",{processor:"function"})},ie=se("link_assume_external_targets"),M=se("link_context_toolbar"),W=se("link_list"),K=se("link_default_target"),R=se("link_default_protocol"),A=se("link_target_list"),J=se("link_rel_list"),V=se("link_class_list"),q=se("link_title"),ae=se("allow_unsafe_link_target"),Le=se("link_quicklink"),Ee=se("link_attributes_postprocess");var we=tinymce.util.Tools.resolve("tinymce.util.URI"),Ne=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),We=tinymce.util.Tools.resolve("tinymce.util.Tools");const ct=Ve=>xe(Ve)&&Ve.nodeName.toLowerCase()==="a",nt=Ve=>ct(Ve)&&!!tt(Ve),st=(Ve,bt)=>{if(Ve.collapsed)return[];{const Ht=Ve.cloneContents(),ln=Ht.firstChild,An=new Ne(ln,Ht),Wn=[];let Yo=ln;do bt(Yo)&&Wn.push(Yo);while(Yo=An.next());return Wn}},Me=Ve=>/^\w+:/i.test(Ve),tt=Ve=>{var bt,Ht;return(Ht=(bt=Ve.getAttribute("data-mce-href"))!==null&&bt!==void 0?bt:Ve.getAttribute("href"))!==null&&Ht!==void 0?Ht:""},ze=(Ve,bt)=>{const Ht=["noopener"],ln=Ve?Ve.split(/\s+/):[],An=To=>We.trim(To.sort().join(" ")),Wn=To=>(To=Yo(To),To.length>0?To.concat(Ht):Ht),Yo=To=>To.filter(ke=>We.inArray(Ht,ke)===-1),Oo=bt?Wn(ln):Yo(ln);return Oo.length>0?An(Oo):""},Ze=Ve=>Ve.replace(/\uFEFF/g,""),qe=(Ve,bt)=>(bt=bt||xt(Ve.selection.getRng())[0]||Ve.selection.getNode(),Zt(bt)?Yt.from(Ve.dom.select("a[href]",bt)[0]):Yt.from(Ve.dom.getParent(bt,"a[href]"))),Fe=(Ve,bt)=>qe(Ve,bt).isSome(),Ye=(Ve,bt)=>{const Ht=bt.fold(()=>Ve.getContent({format:"text"}),ln=>ln.innerText||ln.textContent||"");return Ze(Ht)},xt=Ve=>st(Ve,nt),ft=Ve=>We.grep(Ve,nt),Ot=Ve=>ft(Ve).length>0,Rt=Ve=>xt(Ve).length>0,zt=Ve=>{const bt=Ve.schema.getTextInlineElements(),Ht=Wn=>Wn.nodeType===1&&!ct(Wn)&&!T(bt,Wn.nodeName.toLowerCase());if(qe(Ve).exists(Wn=>Wn.hasAttribute("data-mce-block")))return!1;const An=Ve.selection.getRng();return An.collapsed?!0:st(An,Ht).length===0},Zt=Ve=>xe(Ve)&&Ve.nodeName==="FIGURE"&&/\bimage\b/i.test(Ve.className),wn=Ve=>ks(["title","rel","class","target"],(Ht,ln)=>(Ve[ln].each(An=>{Ht[ln]=An.length>0?An:null}),Ht),{href:Ve.href}),Zn=(Ve,bt)=>(bt==="http"||bt==="https")&&!Me(Ve)?bt+"://"+Ve:Ve,et=(Ve,bt)=>{const Ht={...bt};if(J(Ve).length===0&&!ae(Ve)){const ln=ze(Ht.rel,Ht.target==="_blank");Ht.rel=ln||null}return Yt.from(Ht.target).isNone()&&A(Ve)===!1&&(Ht.target=K(Ve)),Ht.href=Zn(Ht.href,ie(Ve)),Ht},wt=(Ve,bt,Ht,ln)=>{Ht.each(Wn=>{T(bt,"innerText")?bt.innerText=Wn:bt.textContent=Wn}),Ve.dom.setAttribs(bt,ln);const An=Ve.dom.createRng();An.setStartAfter(bt),An.setEndAfter(bt),Ve.selection.setRng(An)},It=(Ve,bt,Ht,ln)=>{const An=Ve.dom;Zt(bt)?Xo(An,bt,ln):Ht.fold(()=>{Ve.execCommand("mceInsertLink",!1,ln);const Wn=Ve.selection.getEnd(),Yo=An.createRng();Yo.setStartAfter(Wn),Yo.setEndAfter(Wn),Ve.selection.setRng(Yo)},Wn=>{Ve.insertContent(An.createHTML("a",ln,An.encode(Wn)))})},nn=(Ve,bt,Ht)=>{const ln=Ve.selection.getNode(),An=qe(Ve,ln),Wn=et(Ve,wn(Ht)),Yo=Ee(Ve);xe(Yo)&&Yo(Wn),Ve.undoManager.transact(()=>{Ht.href===bt.href&&bt.attach(),An.fold(()=>{It(Ve,ln,Ht.text,Wn)},Oo=>{Ve.focus(),wt(Ve,Oo,Ht.text,Wn)})})},bn=Ve=>{const bt=Ve.dom,Ht=Ve.selection,ln=Ht.getBookmark(),An=Ht.getRng().cloneRange(),Wn=bt.getParent(An.startContainer,"a[href]",Ve.getBody()),Yo=bt.getParent(An.endContainer,"a[href]",Ve.getBody());Wn&&An.setStartBefore(Wn),Yo&&An.setEndAfter(Yo),Ht.setRng(An),Ve.execCommand("unlink"),Ht.moveToBookmark(ln)},kn=Ve=>{Ve.undoManager.transact(()=>{const bt=Ve.selection.getNode();Zt(bt)?ro(Ve,bt):bn(Ve),Ve.focus()})},Mn=Ve=>{const{class:bt,href:Ht,rel:ln,target:An,text:Wn,title:Yo}=Ve;return O({class:bt.getOrNull(),href:Ht,rel:ln.getOrNull(),target:An.getOrNull(),text:Wn.getOrNull(),title:Yo.getOrNull()},(Oo,To)=>Oe(Oo)===!1)},vn=(Ve,bt)=>{const Ht=Ve.options.get,ln={allow_html_data_urls:Ht("allow_html_data_urls"),allow_script_urls:Ht("allow_script_urls"),allow_svg_data_urls:Ht("allow_svg_data_urls")},An=bt.href;return{...bt,href:we.isDomSafe(An,"a",ln)?An:""}},Hn=(Ve,bt,Ht)=>{const ln=vn(Ve,Ht);Ve.hasPlugin("rtc",!0)?Ve.execCommand("createlink",!1,Mn(ln)):nn(Ve,bt,ln)},So=Ve=>{Ve.hasPlugin("rtc",!0)?Ve.execCommand("unlink"):kn(Ve)},ro=(Ve,bt)=>{var Ht;const ln=Ve.dom.select("img",bt)[0];if(ln){const An=Ve.dom.getParents(ln,"a[href]",bt)[0];An&&((Ht=An.parentNode)===null||Ht===void 0||Ht.insertBefore(ln,An),Ve.dom.remove(An))}},Xo=(Ve,bt,Ht)=>{var ln;const An=Ve.select("img",bt)[0];if(An){const Wn=Ve.create("a",Ht);(ln=An.parentNode)===null||ln===void 0||ln.insertBefore(Wn,An),Wn.appendChild(An)}},zn=Ve=>Ke(Ve.value)?Ve.value:"",cs=Ve=>Ke(Ve.text)?Ve.text:Ke(Ve.title)?Ve.title:"",ms=(Ve,bt)=>{const Ht=[];return We.each(Ve,ln=>{const An=cs(ln);if(ln.menu!==void 0){const Wn=ms(ln.menu,bt);Ht.push({text:An,items:Wn})}else{const Wn=bt(ln);Ht.push({text:An,value:Wn})}}),Ht},Et=(Ve=zn)=>bt=>Yt.from(bt).map(Ht=>ms(Ht,Ve)),le={sanitize:Ve=>Et(zn)(Ve),sanitizeWith:Et,createUi:(Ve,bt)=>Ht=>({name:Ve,type:"listbox",label:bt,items:Ht}),getValue:zn},ye=Ve=>L(Ve,"items"),Ce=(Ve,bt)=>b(bt,Ht=>ye(Ht)?Ce(Ve,Ht.items):F(Ht.value===Ve,Ht)),Ue=(Ve,bt,Ht,ln)=>{const An=ln[bt],Wn=Ve.length>0;return An!==void 0?Ce(An,Ht).map(Yo=>({url:{value:Yo.value,meta:{text:Wn?Ve:Yo.text,attach:Eo}},text:Wn?Ve:Yo.text})):Yt.none()},Be=(Ve,bt)=>bt==="link"?Ve.link:bt==="anchor"?Ve.anchor:Yt.none(),pe={init:(Ve,bt)=>{const Ht={text:Ve.text,title:Ve.title},ln=To=>{var ke;return F(Ht.title.length<=0,Yt.from((ke=To.meta)===null||ke===void 0?void 0:ke.title).getOr(""))},An=To=>{var ke;return F(Ht.text.length<=0,Yt.from((ke=To.meta)===null||ke===void 0?void 0:ke.text).getOr(To.value))},Wn=To=>{const ke=An(To.url),Ge=ln(To.url);return ke.isSome()||Ge.isSome()?Yt.some({...ke.map(yt=>({text:yt})).getOr({}),...Ge.map(yt=>({title:yt})).getOr({})}):Yt.none()},Yo=(To,ke)=>{const Ge=Be(bt,ke).getOr([]);return Ue(Ht.text,ke,Ge,To)};return{onChange:(To,ke)=>{const Ge=ke.name;return Ge==="url"?Wn(To()):_o(["anchor","link"],Ge)?Yo(To(),Ge):((Ge==="text"||Ge==="title")&&(Ht[Ge]=To()[Ge]),Yt.none())}}},getDelta:Ue};var me=tinymce.util.Tools.resolve("tinymce.util.Delay");const _e=(Ve,bt,Ht)=>{const ln=Ve.selection.getRng();me.setEditorTimeout(Ve,()=>{Ve.windowManager.confirm(bt,An=>{Ve.selection.setRng(ln),Ht(An)})})},je=Ve=>{const bt=Ve.href;return bt.indexOf("@")>0&&bt.indexOf("/")===-1&&bt.indexOf("mailto:")===-1?Yt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:ln=>({...ln,href:"mailto:"+bt})}):Yt.none()},pt=(Ve,bt)=>Ht=>{const ln=Ht.href;return Ve===1&&!Me(ln)||Ve===0&&/^\s*www(\.|\d\.)/i.test(ln)?Yt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${bt}:// prefix?`,preprocess:Wn=>({...Wn,href:bt+"://"+ln})}):Yt.none()},kt={preprocess:(Ve,bt)=>b([je,pt(ie(Ve),R(Ve))],Ht=>Ht(bt)).fold(()=>Promise.resolve(bt),Ht=>new Promise(ln=>{_e(Ve,Ht.message,An=>{ln(An?Ht.preprocess(bt):bt)})}))},At={getAnchors:Ve=>{const bt=Ve.dom.select("a:not([href])"),Ht=s(bt,ln=>{const An=ln.name||ln.id;return An?[{text:An,value:"#"+An}]:[]});return Ht.length>0?Yt.some([{text:"None",value:""}].concat(Ht)):Yt.none()}},Bt={getClasses:Ve=>{const bt=V(Ve);return bt.length>0?le.sanitize(bt):Yt.none()}},Xt=Ve=>{try{return Yt.some(JSON.parse(Ve))}catch{return Yt.none()}},on={getLinks:Ve=>{const bt=ln=>Ve.convertURL(ln.value||ln.url||"","href"),Ht=W(Ve);return new Promise(ln=>{Ke(Ht)?fetch(Ht).then(An=>An.ok?An.text().then(Xt):Promise.reject()).then(ln,()=>ln(Yt.none())):Go(Ht)?Ht(An=>ln(Yt.some(An))):ln(Yt.from(Ht))}).then(ln=>ln.bind(le.sanitizeWith(bt)).map(An=>An.length>0?[{text:"None",value:""}].concat(An):An))}},Dn={getRels:(Ve,bt)=>{const Ht=J(Ve);if(Ht.length>0){const ln=G(bt,"_blank"),An=ae(Ve)===!1,Wn=Oo=>ze(le.getValue(Oo),ln);return(An?le.sanitizeWith(Wn):le.sanitize)(Ht)}return Yt.none()}},to=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Bs={getTargets:Ve=>{const bt=A(Ve);return Mt(bt)?le.sanitize(bt).orThunk(()=>Yt.some(to)):bt===!1?Yt.none():Yt.some(to)}},ps=(Ve,bt,Ht)=>{const ln=Ve.getAttrib(bt,Ht);return ln!==null&&ln.length>0?Yt.some(ln):Yt.none()},Is=(Ve,bt)=>{const Ht=Ve.dom,An=zt(Ve)?Yt.some(Ye(Ve.selection,bt)):Yt.none(),Wn=bt.bind(Ge=>Yt.from(Ht.getAttrib(Ge,"href"))),Yo=bt.bind(Ge=>Yt.from(Ht.getAttrib(Ge,"target"))),Oo=bt.bind(Ge=>ps(Ht,Ge,"rel")),To=bt.bind(Ge=>ps(Ht,Ge,"class")),ke=bt.bind(Ge=>ps(Ht,Ge,"title"));return{url:Wn,text:An,title:ke,target:Yo,rel:Oo,linkClass:To}},qo={collect:(Ve,bt)=>on.getLinks(Ve).then(Ht=>{const ln=Is(Ve,bt);return{anchor:ln,catalogs:{targets:Bs.getTargets(Ve),rels:Dn.getRels(Ve,ln.target),classes:Bt.getClasses(Ve),anchor:At.getAnchors(Ve),link:Ht},optNode:bt,flags:{titleEnabled:q(Ve)}}})},Do=(Ve,bt)=>Ht=>{const ln=Ht.getData();if(!ln.url.value){So(Ve),Ht.close();return}const An=Oo=>Yt.from(ln[Oo]).filter(To=>!G(bt.anchor[Oo],To)),Wn={href:ln.url.value,text:An("text"),target:An("target"),rel:An("rel"),class:An("linkClass"),title:An("title")},Yo={href:ln.url.value,attach:ln.url.meta!==void 0&&ln.url.meta.attach?ln.url.meta.attach:Eo};kt.preprocess(Ve,Wn).then(Oo=>{Hn(Ve,Yo,Oo)}),Ht.close()},zs=Ve=>{const bt=qe(Ve);return qo.collect(Ve,bt)},As=(Ve,bt)=>{const Ht=Ve.anchor,ln=Ht.url.getOr("");return{url:{value:ln,meta:{original:{value:ln}}},text:Ht.text.getOr(""),title:Ht.title.getOr(""),anchor:ln,link:ln,rel:Ht.rel.getOr(""),target:Ht.target.or(bt).getOr(""),linkClass:Ht.linkClass.getOr("")}},Vs=(Ve,bt,Ht)=>{const ln=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],An=Ve.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Wn=Ve.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Yo=Yt.from(K(Ht)),Oo=As(Ve,Yo),To=Ve.catalogs,ke=pe.init(Oo,To);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Qo([ln,An,Wn,P([To.anchor.map(le.createUi("anchor","Anchors")),To.rels.map(le.createUi("rel","Rel")),To.targets.map(le.createUi("target","Open link in...")),To.link.map(le.createUi("link","Link list")),To.classes.map(le.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Oo,onChange:(yt,{name:Kt})=>{ke.onChange(yt.getData,{name:Kt}).each(Cn=>{yt.setData(Cn)})},onSubmit:bt}},go=Ve=>{zs(Ve).then(Ht=>{const ln=Do(Ve,Ht);return Vs(Ht,ln,Ve)}).then(Ht=>{Ve.windowManager.open(Ht)})},bo=Ve=>{Ve.addCommand("mceLink",(bt,Ht)=>{(Ht==null?void 0:Ht.dialog)===!0||!Le(Ve)?go(Ve):Ve.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},io=Ve=>{Ve.addShortcut("Meta+K","",()=>{Ve.execCommand("mceLink")})};var po=tinymce.util.Tools.resolve("tinymce.util.VK");const Tr=(Ve,bt)=>{document.body.appendChild(Ve),Ve.dispatchEvent(bt),document.body.removeChild(Ve)},vi=Ve=>{const bt=document.createElement("a");bt.target="_blank",bt.href=Ve,bt.rel="noreferrer noopener";const Ht=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ht),Tr(bt,Ht)},Qn=Ve=>Ve.altKey===!0&&Ve.shiftKey===!1&&Ve.ctrlKey===!1&&Ve.metaKey===!1,Ur=(Ve,bt)=>{if(bt){const Ht=tt(bt);if(/^#/.test(Ht)){const ln=Ve.dom.select(`${Ht},[name="${he(Ht,"#")}"]`);ln.length&&Ve.selection.scrollIntoView(ln[0],!0)}else vi(bt.href)}},wa=Ve=>{const bt=Ve.selection.getRng(),Ht=bt.startContainer;return nt(Ht)&&bt.startContainer===bt.endContainer&&Ve.dom.select("img",Ht).length===1},Qs=(Ve,bt)=>{const Ht=ft(Ve.dom.getParents(bt));return F(Ht.length===1,Ht[0])},ia=Ve=>{const bt=xt(Ve.selection.getRng());return F(bt.length>0,bt[0]).or(Qs(Ve,Ve.selection.getNode()))},Re=Ve=>Ve.selection.isCollapsed()||wa(Ve)?Qs(Ve,Ve.selection.getStart()):ia(Ve),gt=Ve=>{const bt=H(),Ht=()=>bt.get().or(Re(Ve)),ln=()=>Ht().each(An=>Ur(Ve,An));return Ve.on("contextmenu",An=>{Qs(Ve,An.target).each(bt.set)}),Ve.on("SelectionChange",()=>{bt.isSet()||Re(Ve).each(bt.set)}),Ve.on("click",An=>{bt.clear();const Wn=ft(Ve.dom.getParents(An.target));Wn.length===1&&po.metaKeyPressed(An)&&(An.preventDefault(),Ur(Ve,Wn[0]))}),Ve.on("keydown",An=>{bt.clear(),!An.isDefaultPrevented()&&An.keyCode===13&&Qn(An)&&Ht().each(Wn=>{An.preventDefault(),Ur(Ve,Wn)})}),{gotoSelectedLink:ln}},St=Ve=>()=>{Ve.execCommand("mceLink",!1,{dialog:!0})},Pt=(Ve,bt)=>(Ve.on("NodeChange",bt),()=>Ve.off("NodeChange",bt)),Qt=Ve=>bt=>{const Ht=()=>{bt.setActive(!Ve.mode.isReadOnly()&&Fe(Ve,Ve.selection.getNode())),bt.setEnabled(Ve.selection.isEditable())};return Ht(),Pt(Ve,Ht)},Vn=Ve=>bt=>{const Ht=()=>{bt.setEnabled(Ve.selection.isEditable())};return Ht(),Pt(Ve,Ht)},jn=Ve=>bt=>{const Ht=Wn=>Ot(Wn)||Rt(Ve.selection.getRng()),ln=Ve.dom.getParents(Ve.selection.getStart()),An=Wn=>{bt.setEnabled(Ht(Wn)&&Ve.selection.isEditable())};return An(ln),Pt(Ve,Wn=>An(Wn.parents))},vo=(Ve,bt)=>{Ve.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:St(Ve),onSetup:Qt(Ve)}),Ve.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:bt.gotoSelectedLink,onSetup:jn(Ve)}),Ve.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>So(Ve),onSetup:jn(Ve)})},mo=(Ve,bt)=>{Ve.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:bt.gotoSelectedLink,onSetup:jn(Ve)}),Ve.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:St(Ve),onSetup:Vn(Ve)}),Ve.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>So(Ve),onSetup:jn(Ve)})},Uo=Ve=>{const bt="link unlink openlink",Ht="link";Ve.ui.registry.addContextMenu("link",{update:ln=>Ve.dom.isEditable(ln)?Ot(Ve.dom.getParents(ln,"a"))?bt:Ht:""})},cn=(Ve,bt)=>{const Ht=Wn=>{Wn.selection.collapse(!1)},ln=Wn=>{const Yo=Ve.selection.getNode();return Wn.setEnabled(Fe(Ve,Yo)&&Ve.selection.isEditable()),Eo},An=Wn=>{const Yo=qe(Ve),Oo=zt(Ve);if(Yo.isNone()&&Oo){const To=Ye(Ve.selection,Yo);return F(To.length===0,Wn)}else return Yt.none()};Ve.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Qt(Ve)},label:"Link",predicate:Wn=>M(Ve)&&Fe(Ve,Wn),initValue:()=>qe(Ve).fold(jt(""),tt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Wn=>{const Yo=Ve.selection.getNode();return Wn.setActive(Fe(Ve,Yo)),Qt(Ve)(Wn)},onAction:Wn=>{const Yo=Wn.getValue(),Oo=An(Yo);Hn(Ve,{href:Yo,attach:Eo},{href:Yo,text:Oo,title:Yt.none(),rel:Yt.none(),target:Yt.from(K(Ve)),class:Yt.none()}),Ht(Ve),Wn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ln,onAction:Wn=>{So(Ve),Wn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ln,onAction:Wn=>{bt.gotoSelectedLink(),Wn.hide()}}]})},ds=Ve=>{const bt=gt(Ve);vo(Ve,bt),mo(Ve,bt),Uo(Ve),cn(Ve,bt)};var us=()=>{E.add("link",Ve=>{re(Ve),bo(Ve),ds(Ve),io(Ve)})};us()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=A=>({backspaceDelete:J=>{A.execCommand("mceListBackspaceDelete",!1,J)}}),x=A=>A==null,de=A=>!x(A),Ae=A=>()=>A,Ie=(A,J)=>A===J,Ke=Ae(!1);class ot{constructor(J,V){this.tag=J,this.value=V}static some(J){return new ot(!0,J)}static none(){return ot.singletonNone}fold(J,V){return this.tag?V(this.value):J()}isSome(){return this.tag}isNone(){return!this.tag}map(J){return this.tag?ot.some(J(this.value)):ot.none()}bind(J){return this.tag?J(this.value):ot.none()}exists(J){return this.tag&&J(this.value)}forall(J){return!this.tag||J(this.value)}filter(J){return!this.tag||J(this.value)?this:ot.none()}getOr(J){return this.tag?this.value:J}or(J){return this.tag?this:J}getOrThunk(J){return this.tag?this.value:J()}orThunk(J){return this.tag?this:J()}getOrDie(J){if(this.tag)return this.value;throw new Error(J??"Called getOrDie on None")}static from(J){return de(J)?ot.some(J):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(J){this.tag&&J(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Mt=Array.prototype.slice,Oe=(A,J)=>{for(let V=0,q=A.length;V<q;V++){const ae=A[V];if(J(ae,V))return!0}return!1},un=(A,J)=>{const V=A.length,q=new Array(V);for(let ae=0;ae<V;ae++){const Le=A[ae];q[ae]=J(Le,ae)}return q},On=(A,J)=>{for(let V=0,q=A.length;V<q;V++){const ae=A[V];J(ae,V)}},xe=(A,J,V)=>(On(A,(q,ae)=>{V=J(V,q,ae)}),V),Go=(A,J,V)=>{for(let q=0,ae=A.length;q<ae;q++){const Le=A[q];if(J(Le,q))return ot.some(Le);if(V(Le,q))break}return ot.none()},Co=(A,J)=>Go(A,J,Ke),Eo=A=>{const J=Mt.call(A,0);return J.reverse(),J},jt=(A,J,V=Ie)=>A.exists(q=>V(q,J)),Yt=(A=>J=>J.replace(A,""))(/^\s+|\s+$/g),lt=A=>A.length>0,qn=A=>!lt(A),fs=A=>{const J=Eo(Yt(A).split("")),V=un(J,(q,ae)=>{const Le=q.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ae)*Le});return xe(V,(q,ae)=>q+ae,0)},_o=A=>{if(A--,A<0)return"";{const J=A%26,V=Math.floor(A/26),q=_o(V),ae=String.fromCharCode(65+J);return q+ae}},ht=A=>/^[A-Z]+$/.test(A),eo=A=>/^[a-z]+$/.test(A),ks=A=>/^[0-9]+$/.test(A),Qo=A=>ks(A)?2:ht(A)?0:eo(A)?1:qn(A)?3:4,s=A=>{switch(Qo(A)){case 2:return ot.some({listStyleType:ot.none(),start:A});case 0:return ot.some({listStyleType:ot.some("upper-alpha"),start:fs(A).toString()});case 1:return ot.some({listStyleType:ot.some("lower-alpha"),start:fs(A).toString()});case 3:return ot.some({listStyleType:ot.none(),start:""});case 4:return ot.none()}},b=A=>{const J=parseInt(A.start,10);return jt(A.listStyleType,"upper-alpha")?_o(J):jt(A.listStyleType,"lower-alpha")?_o(J).toLowerCase():A.start},ge=(A=>J=>J.options.get(A))("forced_root_block"),a=A=>/\btox\-/.test(A.className),f=A=>J=>de(J)&&A.test(J.nodeName),N=A=>J=>de(J)&&J.nodeName.toLowerCase()===A,O=f(/^(OL|UL|DL)$/),T=f(/^(TH|TD)$/),L=f(/^(LI|DT|DD)$/),B=(A,J)=>Go(A,O,T).exists(V=>V.nodeName===J&&!a(V)),G=(A,J)=>{const V=A.selection.getNode();return J({parents:A.dom.getParents(V),element:V}),A.on("NodeChange",J),()=>A.off("NodeChange",J)},P=(A,J)=>J!==null&&!A.dom.isEditable(J),F=(A,J)=>{const V=A.dom.getParent(J,"ol,ul,dl");return P(A,V)||!A.selection.isEditable()},j=N("ol"),H=["OL","UL","DL"],ee=H.join(","),w=(A,J)=>{const V=J||A.selection.getStart(!0);return A.dom.getParent(V,ee,he(A,V))},he=(A,J)=>{const V=A.dom.getParents(J,A.dom.isBlock),q=Le=>Le.nodeName.toLowerCase()!==ge(A);return Co(V,Le=>q(Le)&&be(A.schema,Le)).getOr(A.getBody())},be=(A,J)=>!O(J)&&!L(J)&&Oe(H,V=>A.isValidChild(J.nodeName,V)),se=A=>{const J=w(A);!j(J)||F(A,J)||A.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:b({start:A.dom.getAttrib(J,"start","1"),listStyleType:ot.from(A.dom.getStyle(J,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:V=>{const q=V.getData();s(q.start).each(ae=>{A.execCommand("mceListUpdate",!1,{attrs:{start:ae.start==="1"?"":ae.start},styles:{"list-style-type":ae.listStyleType.getOr("")}})}),V.close()}})},re=A=>{A.addCommand("mceListProps",()=>{se(A)})},ie=(A,J)=>V=>{const q=ae=>{V.setActive(B(ae.parents,J)),V.setEnabled(!F(A,ae.element)&&A.selection.isEditable())};return V.setEnabled(A.selection.isEditable()),G(A,q)},M=A=>{const J=V=>()=>A.execCommand(V);A.hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:J("InsertOrderedList"),onSetup:ie(A,"OL")}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:J("InsertUnorderedList"),onSetup:ie(A,"UL")}))},W=(A,J)=>V=>G(A,ae=>V.setEnabled(B(ae.parents,J)&&!F(A,ae.element))),K=A=>{const J={text:"List properties...",icon:"ordered-list",onAction:()=>A.execCommand("mceListProps"),onSetup:W(A,"OL")};A.ui.registry.addMenuItem("listprops",J),A.ui.registry.addContextMenu("lists",{update:V=>{const q=w(A,V);return j(q)?["listprops"]:[]}})};var R=()=>{E.add("lists",A=>(re(A),M(A),K(A),I(A)))};R()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=(Z,ne,Pe)=>{var it;return Pe(Z,ne.prototype)?!0:((it=Z.constructor)===null||it===void 0?void 0:it.name)===ne.name},x=Z=>{const ne=typeof Z;return Z===null?"null":ne==="object"&&Array.isArray(Z)?"array":ne==="object"&&I(Z,String,(Pe,it)=>it.isPrototypeOf(Pe))?"string":ne},de=Z=>ne=>x(ne)===Z,Ae=Z=>ne=>typeof ne===Z,Ie=Z=>ne=>Z===ne,Ke=de("string"),ot=de("array"),Mt=Ae("boolean"),Oe=Ie(void 0),un=Z=>Z==null,On=Z=>!un(Z),xe=Ae("function"),Go=Ae("number"),Co=()=>{},Eo=(Z,ne)=>Pe=>Z(ne(Pe)),jt=Z=>()=>Z,Wo=Z=>Z,Yt=(Z,ne)=>Z===ne;function lt(Z,...ne){return(...Pe)=>{const it=ne.concat(Pe);return Z.apply(null,it)}}const qn=Z=>{Z()},fs=jt(!1),_o=jt(!0);class ht{constructor(ne,Pe){this.tag=ne,this.value=Pe}static some(ne){return new ht(!0,ne)}static none(){return ht.singletonNone}fold(ne,Pe){return this.tag?Pe(this.value):ne()}isSome(){return this.tag}isNone(){return!this.tag}map(ne){return this.tag?ht.some(ne(this.value)):ht.none()}bind(ne){return this.tag?ne(this.value):ht.none()}exists(ne){return this.tag&&ne(this.value)}forall(ne){return!this.tag||ne(this.value)}filter(ne){return!this.tag||ne(this.value)?this:ht.none()}getOr(ne){return this.tag?this.value:ne}or(ne){return this.tag?this:ne}getOrThunk(ne){return this.tag?this.value:ne()}orThunk(ne){return this.tag?this:ne()}getOrDie(ne){if(this.tag)return this.value;throw new Error(ne??"Called getOrDie on None")}static from(ne){return On(ne)?ht.some(ne):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ne){this.tag&&ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const eo=Array.prototype.indexOf,ks=Array.prototype.push,Qo=(Z,ne)=>eo.call(Z,ne),s=(Z,ne)=>Qo(Z,ne)>-1,b=(Z,ne)=>{for(let Pe=0,it=Z.length;Pe<it;Pe++){const Nt=Z[Pe];if(ne(Nt,Pe))return!0}return!1},$=(Z,ne)=>{const Pe=[];for(let it=0;it<Z;it++)Pe.push(ne(it));return Pe},ge=(Z,ne)=>{const Pe=Z.length,it=new Array(Pe);for(let Nt=0;Nt<Pe;Nt++){const En=Z[Nt];it[Nt]=ne(En,Nt)}return it},a=(Z,ne)=>{for(let Pe=0,it=Z.length;Pe<it;Pe++){const Nt=Z[Pe];ne(Nt,Pe)}},f=(Z,ne)=>{for(let Pe=Z.length-1;Pe>=0;Pe--){const it=Z[Pe];ne(it,Pe)}},N=(Z,ne)=>{const Pe=[],it=[];for(let Nt=0,En=Z.length;Nt<En;Nt++){const co=Z[Nt];(ne(co,Nt)?Pe:it).push(co)}return{pass:Pe,fail:it}},O=(Z,ne)=>{const Pe=[];for(let it=0,Nt=Z.length;it<Nt;it++){const En=Z[it];ne(En,it)&&Pe.push(En)}return Pe},T=(Z,ne,Pe)=>(f(Z,(it,Nt)=>{Pe=ne(Pe,it,Nt)}),Pe),L=(Z,ne,Pe)=>(a(Z,(it,Nt)=>{Pe=ne(Pe,it,Nt)}),Pe),B=(Z,ne,Pe)=>{for(let it=0,Nt=Z.length;it<Nt;it++){const En=Z[it];if(ne(En,it))return ht.some(En);if(Pe(En,it))break}return ht.none()},G=(Z,ne)=>B(Z,ne,fs),P=Z=>{const ne=[];for(let Pe=0,it=Z.length;Pe<it;++Pe){if(!ot(Z[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+Z);ks.apply(ne,Z[Pe])}return ne},F=(Z,ne)=>P(ge(Z,ne)),j=(Z,ne)=>{for(let Pe=0,it=Z.length;Pe<it;++Pe){const Nt=Z[Pe];if(ne(Nt,Pe)!==!0)return!1}return!0},H=(Z,ne)=>{const Pe={};for(let it=0,Nt=Z.length;it<Nt;it++){const En=Z[it];Pe[String(En)]=ne(En,it)}return Pe},ee=(Z,ne)=>ne>=0&&ne<Z.length?ht.some(Z[ne]):ht.none(),w=Z=>ee(Z,0),he=Z=>ee(Z,Z.length-1),be=(Z,ne)=>{for(let Pe=0;Pe<Z.length;Pe++){const it=ne(Z[Pe],Pe);if(it.isSome())return it}return ht.none()},se=Object.keys,re=Object.hasOwnProperty,ie=(Z,ne)=>{const Pe=se(Z);for(let it=0,Nt=Pe.length;it<Nt;it++){const En=Pe[it],co=Z[En];ne(co,En)}},M=Z=>(ne,Pe)=>{Z[Pe]=ne},W=(Z,ne,Pe,it)=>{ie(Z,(Nt,En)=>{(ne(Nt,En)?Pe:it)(Nt,En)})},K=(Z,ne)=>{const Pe={};return W(Z,ne,M(Pe),Co),Pe},R=(Z,ne)=>{const Pe=[];return ie(Z,(it,Nt)=>{Pe.push(ne(it,Nt))}),Pe},A=Z=>R(Z,Wo),J=Z=>se(Z).length,V=(Z,ne)=>q(Z,ne)?ht.from(Z[ne]):ht.none(),q=(Z,ne)=>re.call(Z,ne),ae=(Z,ne)=>q(Z,ne)&&Z[ne]!==void 0&&Z[ne]!==null,Le=Z=>{for(const ne in Z)if(re.call(Z,ne))return!1;return!0},Ee=Z=>{let ne=Z;return{get:()=>ne,set:Nt=>{ne=Nt}}},we=(Z,ne,Pe=Yt)=>Z.exists(it=>Pe(it,ne)),Ne=Z=>{const ne=[],Pe=it=>{ne.push(it)};for(let it=0;it<Z.length;it++)Z[it].each(Pe);return ne},We=(Z,ne,Pe)=>Z.isSome()&&ne.isSome()?ht.some(Pe(Z.getOrDie(),ne.getOrDie())):ht.none(),ct=Z=>Z.bind(Wo),nt=(Z,ne)=>Z?ht.some(ne):ht.none(),st=Z=>{const ne=Ee(ht.none()),Pe=()=>ne.get().each(Z);return{clear:()=>{Pe(),ne.set(ht.none())},isSet:()=>ne.get().isSome(),get:()=>ne.get(),set:Fo=>{Pe(),ne.set(ht.some(Fo))}}},Me=()=>st(Z=>Z.unbind()),tt=(Z,ne)=>Z.substring(ne),ze=(Z,ne,Pe)=>ne===""||Z.length>=ne.length&&Z.substr(Pe,Pe+ne.length)===ne,Ze=(Z,ne)=>qe(Z,ne)?tt(Z,ne.length):Z,qe=(Z,ne)=>ze(Z,ne,0),Ye=(Z=>ne=>ne.replace(Z,""))(/^\s+|\s+$/g),xt=Z=>Z.length>0,ft=Z=>!xt(Z),Ot=(Z,ne=10)=>{const Pe=parseInt(Z,ne);return isNaN(Pe)?ht.none():ht.some(Pe)},Rt=Z=>{const ne=parseFloat(Z);return isNaN(ne)?ht.none():ht.some(ne)},zt=Z=>{let ne=!1,Pe;return(...it)=>(ne||(ne=!0,Pe=Z.apply(null,it)),Pe)},Zt=(Z,ne)=>{const it=(ne||document).createElement("div");if(it.innerHTML=Z,!it.hasChildNodes()||it.childNodes.length>1){const Nt="HTML does not have a single root node";throw console.error(Nt,Z),new Error(Nt)}return et(it.childNodes[0])},wn=(Z,ne)=>{const it=(ne||document).createElement(Z);return et(it)},Zn=(Z,ne)=>{const it=(ne||document).createTextNode(Z);return et(it)},et=Z=>{if(Z==null)throw new Error("Node cannot be null or undefined");return{dom:Z}},It={fromHtml:Zt,fromTag:wn,fromText:Zn,fromDom:et,fromPoint:(Z,ne,Pe)=>ht.from(Z.dom.elementFromPoint(ne,Pe)).map(et)},nn=8,bn=9,kn=11,Mn=1,vn=3,Hn=(Z,ne)=>{const Pe=Z.dom;if(Pe.nodeType!==Mn)return!1;{const it=Pe;if(it.matches!==void 0)return it.matches(ne);if(it.msMatchesSelector!==void 0)return it.msMatchesSelector(ne);if(it.webkitMatchesSelector!==void 0)return it.webkitMatchesSelector(ne);if(it.mozMatchesSelector!==void 0)return it.mozMatchesSelector(ne);throw new Error("Browser lacks native selectors")}},So=Z=>Z.nodeType!==Mn&&Z.nodeType!==bn&&Z.nodeType!==kn||Z.childElementCount===0,ro=(Z,ne)=>{const Pe=ne===void 0?document:ne.dom;return So(Pe)?[]:ge(Pe.querySelectorAll(Z),It.fromDom)},Xo=(Z,ne)=>{const Pe=ne===void 0?document:ne.dom;return So(Pe)?ht.none():ht.from(Pe.querySelector(Z)).map(It.fromDom)},zn=(Z,ne)=>Z.dom===ne.dom,cs=Hn,ms=Z=>Z.dom.nodeName.toLowerCase(),Et=Z=>Z.dom.nodeType,fe=Z=>ne=>Et(ne)===Z,Y=Z=>Et(Z)===nn||ms(Z)==="#comment",le=fe(Mn),ye=fe(vn),Ce=fe(bn),Ue=fe(kn),Be=Z=>ne=>le(ne)&&ms(ne)===Z,te=Z=>It.fromDom(Z.dom.ownerDocument),pe=Z=>Ce(Z)?Z:te(Z),me=Z=>ht.from(Z.dom.parentNode).map(It.fromDom),_e=(Z,ne)=>{const Pe=xe(ne)?ne:fs;let it=Z.dom;const Nt=[];for(;it.parentNode!==null&&it.parentNode!==void 0;){const En=it.parentNode,co=It.fromDom(En);if(Nt.push(co),Pe(co)===!0)break;it=En}return Nt},je=Z=>ht.from(Z.dom.previousSibling).map(It.fromDom),pt=Z=>ht.from(Z.dom.nextSibling).map(It.fromDom),mt=Z=>ge(Z.dom.childNodes,It.fromDom),kt=(Z,ne)=>{const Pe=Z.dom.childNodes;return ht.from(Pe[ne]).map(It.fromDom)},Ut=Z=>kt(Z,0),At=Z=>Ue(Z)&&On(Z.dom.host),Tt=Z=>It.fromDom(Z.dom.getRootNode()),Bt=Z=>{const ne=Tt(Z);return At(ne)?ht.some(ne):ht.none()},Xt=Z=>It.fromDom(Z.dom.host),Jt=(Z,ne)=>{me(Z).each(it=>{it.dom.insertBefore(ne.dom,Z.dom)})},on=(Z,ne)=>{pt(Z).fold(()=>{me(Z).each(Nt=>{Dn(Nt,ne)})},it=>{Jt(it,ne)})},_n=(Z,ne)=>{Ut(Z).fold(()=>{Dn(Z,ne)},it=>{Z.dom.insertBefore(ne.dom,it.dom)})},Dn=(Z,ne)=>{Z.dom.appendChild(ne.dom)},to=(Z,ne)=>{Jt(Z,ne),Dn(ne,Z)},hs=(Z,ne)=>{a(ne,(Pe,it)=>{const Nt=it===0?Z:ne[it-1];on(Nt,Pe)})},Bs=(Z,ne)=>{a(ne,Pe=>{Dn(Z,Pe)})},ps=(Z,ne,Pe)=>{if(Ke(Pe)||Mt(Pe)||Go(Pe))Z.setAttribute(ne,Pe+"");else throw console.error("Invalid call to Attribute.set. Key ",ne,":: Value ",Pe,":: Element ",Z),new Error("Attribute value was not simple")},Is=(Z,ne,Pe)=>{ps(Z.dom,ne,Pe)},bs=(Z,ne)=>{const Pe=Z.dom;ie(ne,(it,Nt)=>{ps(Pe,Nt,it)})},qo=(Z,ne)=>{const Pe=Z.dom.getAttribute(ne);return Pe===null?void 0:Pe},Do=(Z,ne)=>ht.from(qo(Z,ne)),zs=(Z,ne)=>{Z.dom.removeAttribute(ne)},As=Z=>L(Z.dom.attributes,(ne,Pe)=>(ne[Pe.name]=Pe.value,ne),{}),Vs=Z=>{const ne=Z.dom;ne.parentNode!==null&&ne.parentNode.removeChild(ne)},go=Z=>{const ne=mt(Z);ne.length>0&&hs(Z,ne),Vs(Z)},bo=Z=>ge(Z,It.fromDom),io=Z=>Z.style!==void 0&&xe(Z.style.getPropertyValue),po=Z=>{const ne=ye(Z)?Z.dom.parentNode:Z.dom;if(ne==null||ne.ownerDocument===null)return!1;const Pe=ne.ownerDocument;return Bt(It.fromDom(ne)).fold(()=>Pe.body.contains(ne),Eo(po,Xt))},Tr=(Z,ne,Pe)=>{if(!Ke(Pe))throw console.error("Invalid call to CSS.set. Property ",ne,":: Value ",Pe,":: Element ",Z),new Error("CSS value must be a string: "+Pe);io(Z)&&Z.style.setProperty(ne,Pe)},vi=(Z,ne)=>{io(Z)&&Z.style.removeProperty(ne)},Qn=(Z,ne,Pe)=>{const it=Z.dom;Tr(it,ne,Pe)},Ur=(Z,ne)=>{const Pe=Z.dom,Nt=window.getComputedStyle(Pe).getPropertyValue(ne);return Nt===""&&!po(Z)?wa(Pe,ne):Nt},wa=(Z,ne)=>io(Z)?Z.style.getPropertyValue(ne):"",Qs=(Z,ne)=>{const Pe=Z.dom,it=wa(Pe,ne);return ht.from(it).filter(Nt=>Nt.length>0)},ia=(Z,ne)=>{const Pe=Z.dom;vi(Pe,ne),we(Do(Z,"style").map(Ye),"")&&zs(Z,"style")},Re=(Z,ne)=>Rt(Z).getOr(ne),gt=(Z,ne,Pe)=>Re(Ur(Z,ne),Pe),St=(Z,ne,Pe,it)=>{const Nt=gt(Z,`padding-${Pe}`,0),En=gt(Z,`padding-${it}`,0),co=gt(Z,`border-${Pe}-width`,0),Fo=gt(Z,`border-${it}-width`,0);return ne-Nt-En-co-Fo},Pt=(Z,ne)=>{const Pe=Z.dom,it=Pe.getBoundingClientRect().width||Pe.offsetWidth;return St(Z,it,"left","right")},Vn=Z=>Pt(Z),vo=((Z,ne)=>{const Pe=En=>{if(!Z(En))throw new Error("Can only get "+ne+" value of a "+ne+" node");return it(En).getOr("")},it=En=>Z(En)?ht.from(En.dom.nodeValue):ht.none();return{get:Pe,getOption:it,set:(En,co)=>{if(!Z(En))throw new Error("Can only set raw "+ne+" value of a "+ne+" node");En.dom.nodeValue=co}}})(ye,"text"),mo=Z=>vo.get(Z),Uo=(Z,ne)=>vo.set(Z,ne);var cn=(Z,ne,Pe,it,Nt)=>Z(Pe,it)?ht.some(Pe):xe(Nt)&&Nt(Pe)?ht.none():ne(Pe,it,Nt);const ds=(Z,ne,Pe)=>{let it=Z.dom;const Nt=xe(Pe)?Pe:fs;for(;it.parentNode;){it=it.parentNode;const En=It.fromDom(it);if(ne(En))return ht.some(En);if(Nt(En))break}return ht.none()},us=(Z,ne,Pe)=>cn((Nt,En)=>En(Nt),ds,Z,ne,Pe),Ve=(Z,ne)=>{const Pe=Nt=>ne(It.fromDom(Nt));return G(Z.dom.childNodes,Pe).map(It.fromDom)},bt=(Z,ne,Pe)=>ds(Z,it=>Hn(it,ne),Pe),Ht=(Z,ne)=>Ve(Z,Pe=>Hn(Pe,ne)),ln=(Z,ne)=>Xo(ne,Z),An=(Z,ne,Pe)=>cn((Nt,En)=>Hn(Nt,En),bt,Z,ne,Pe),Wn=Z=>An(Z,"[contenteditable]"),Yo=(Z,ne=!1)=>po(Z)?Z.dom.isContentEditable:Wn(Z).fold(jt(ne),Pe=>Oo(Pe)==="true"),Oo=Z=>Z.dom.contentEditable,To=(Z,ne)=>O(mt(Z),ne),ke=(Z,ne)=>{let Pe=[];return a(mt(Z),it=>{ne(it)&&(Pe=Pe.concat([it])),Pe=Pe.concat(ke(it,ne))}),Pe},Ge=(Z,ne)=>To(Z,Pe=>Hn(Pe,ne)),yt=(Z,ne)=>ro(ne,Z),Kt=(Z,ne)=>Ht(Z,ne).isSome(),Cn=Z=>Z.nodeName.toLowerCase(),jo=Z=>It.fromDom(Z.getBody()),gs=Z=>ne=>zn(ne,jo(Z)),ir=Z=>Z?Z.replace(/px$/,""):"",Or=Z=>/^\d+(\.\d+)?$/.test(Z)?Z+"px":Z,Gr=Z=>It.fromDom(Z.selection.getStart()),Rs=Z=>It.fromDom(Z.selection.getEnd()),Sa=Z=>us(Z,Be("table")).forall(Yo),Hi=["tfoot","thead","tbody","colgroup"],ta=Z=>s(Hi,Z),Ta=(Z,ne)=>({rows:Z,columns:ne}),xi=(Z,ne,Pe)=>({element:Z,rowspan:ne,colspan:Pe}),la=(Z,ne,Pe,it,Nt,En)=>({element:Z,rowspan:ne,colspan:Pe,row:it,column:Nt,isLocked:En}),Qi=(Z,ne,Pe)=>({element:Z,cells:ne,section:Pe}),zi=(Z,ne,Pe,it)=>({startRow:Z,startCol:ne,finishRow:Pe,finishCol:it}),ml=(Z,ne,Pe)=>({element:Z,colspan:ne,column:Pe}),eu=(Z,ne)=>({element:Z,columns:ne}),l1=(Z,ne,Pe=0)=>Do(Z,ne).map(it=>parseInt(it,10)).getOr(Pe),Rg=(Z,ne)=>md(Z,ne,_o),md=(Z,ne,Pe)=>F(mt(Z),it=>Hn(it,ne)?Pe(it)?[it]:[]:md(it,ne,Pe)),Ui=(Z,ne,Pe=fs)=>{if(Pe(ne))return ht.none();if(s(Z,ms(ne)))return ht.some(ne);const it=Nt=>Hn(Nt,"table")||Pe(Nt);return bt(ne,Z.join(","),it)},gh=(Z,ne)=>Ui(["td","th"],Z,ne),C2=Z=>Rg(Z,"th,td"),e5=Z=>Hn(Z,"colgroup")?Ge(Z,"col"):F(E2(Z),ne=>Ge(ne,"col")),Yl=(Z,ne)=>An(Z,"table",ne),_2=Z=>Rg(Z,"tr"),E2=Z=>Yl(Z).fold(jt([]),ne=>Ge(ne,"colgroup")),$c=Be("th"),t5=(Z,ne)=>Z&&ne?"sectionCells":Z?"section":"cells",n5=Z=>{const ne=Z.section==="thead",Pe=we(o5(Z.cells),"th");return Z.section==="tfoot"?{type:"footer"}:ne||Pe?{type:"header",subType:t5(ne,Pe)}:{type:"body"}},o5=Z=>{const ne=O(Z,Pe=>$c(Pe.element));return ne.length===0?ht.some("td"):ne.length===Z.length?ht.some("th"):ht.none()},mh=Z=>{const ne=ge(Z,Nt=>n5(Nt).type),Pe=s(ne,"header"),it=s(ne,"footer");if(!Pe&&!it)return ht.some("body");{const Nt=s(ne,"body");return Pe&&!Nt&&!it?ht.some("header"):!Pe&&!Nt&&it?ht.some("footer"):ht.none()}},hh=(Z,ne)=>ge(Z,Pe=>{if(ms(Pe)==="colgroup"){const it=ge(e5(Pe),Nt=>{const En=l1(Nt,"span",1);return xi(Nt,1,En)});return Qi(Pe,it,"colgroup")}else{const it=ge(C2(Pe),Nt=>{const En=l1(Nt,"rowspan",1),co=l1(Nt,"colspan",1);return xi(Nt,En,co)});return Qi(Pe,it,ne(Pe))}}),J6=Z=>me(Z).map(ne=>{const Pe=ms(ne);return ta(Pe)?Pe:"tbody"}).getOr("tbody"),bh=Z=>{const ne=_2(Z),it=[...E2(Z),...ne];return hh(it,J6)},hd="data-snooker-locked-cols",bd=Z=>Do(Z,hd).bind(ne=>ht.from(ne.match(/\d+/g))).map(ne=>H(ne,_o)),vd=(Z,ne)=>Z+","+ne,s5=(Z,ne,Pe)=>ht.from(Z.access[vd(ne,Pe)]),fr=(Z,ne,Pe)=>{const it=w2(Z,Nt=>Pe(ne,Nt.element));return it.length>0?ht.some(it[0]):ht.none()},w2=(Z,ne)=>{const Pe=F(Z.all,it=>it.cells);return O(Pe,ne)},S2=Z=>{const ne={};let Pe=0;return a(Z.cells,it=>{const Nt=it.colspan;$(Nt,En=>{const co=Pe+En;ne[co]=ml(it.element,Nt,co)}),Pe+=Nt}),ne},vh=Z=>{const ne={},Pe=[],Nt=w(Z).map(zl=>zl.element).bind(Yl).bind(bd).getOr({});let En=0,co=0,Fo=0;const{pass:Ds,fail:$s}=N(Z,zl=>zl.section==="colgroup");a($s,zl=>{const lu=[];a(zl.cells,cu=>{let hc=0;for(;ne[vd(Fo,hc)]!==void 0;)hc++;const Rh=ae(Nt,hc.toString()),Ep=la(cu.element,cu.rowspan,cu.colspan,Fo,hc,Rh);for(let v1=0;v1<cu.colspan;v1++)for(let Wu=0;Wu<cu.rowspan;Wu++){const Kg=Fo+Wu,jg=hc+v1,Zg=vd(Kg,jg);ne[Zg]=Ep,co=Math.max(co,jg+1)}lu.push(Ep)}),En++,Pe.push(Qi(zl.element,lu,zl.section)),Fo++});const{columns:Nr,colgroups:Yr}=he(Ds).map(zl=>{const lu=S2(zl);return{colgroups:[eu(zl.element,A(lu))],columns:lu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ta(En,co),access:ne,all:Pe,columns:Nr,colgroups:Yr}},ca={fromTable:Z=>{const ne=bh(Z);return vh(ne)},generate:vh,getAt:s5,findItem:fr,filterItems:w2,justCells:Z=>F(Z.all,ne=>ne.cells),justColumns:Z=>A(Z.columns),hasColumns:Z=>se(Z.columns).length>0,getColumnAt:(Z,ne)=>ht.from(Z.columns[ne])},Cf=(Z,ne)=>be(Z.all,Pe=>G(Pe.cells,it=>zn(ne,it.element))),Kn=(Z,ne,Pe)=>{const it=ge(ne.selection,En=>gh(En).bind(co=>Cf(Z,co)).filter(Pe)),Nt=Ne(it);return nt(Nt.length>0,Nt)},a5=(Z,ne)=>ne.mergable,Nl=(Z,ne)=>ne.unmergable,mp=(Z,ne)=>Kn(Z,ne,_o),el=(Z,ne)=>Cf(Z,ne).exists(Pe=>!Pe.isLocked),i5=(Z,ne)=>j(ne,Pe=>el(Z,Pe)),Ct=(Z,ne)=>a5(Z,ne).filter(Pe=>i5(Z,Pe.cells)),Bu=(Z,ne)=>Nl(Z,ne).filter(Pe=>i5(Z,Pe));var hl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],tu=()=>{const Z=$s=>It.fromDom($s.dom.cloneNode(!1)),ne=$s=>pe($s).dom,Pe=$s=>le($s)?ms($s)==="body"?!0:s(hl,ms($s)):!1,it=$s=>le($s)?s(["br","img","hr","input"],ms($s)):!1,Nt=$s=>le($s)&&qo($s,"contenteditable")==="false",En=($s,Nr)=>$s.dom.compareDocumentPosition(Nr.dom),co=($s,Nr)=>{const Yr=As($s);bs(Nr,Yr)},Fo=$s=>{const Nr=ms($s);return s(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Nr)},Ds=$s=>le($s)?Do($s,"lang"):ht.none();return{up:jt({selector:bt,closest:An,predicate:ds,all:_e}),down:jt({selector:yt,predicate:ke}),styles:jt({get:Ur,getRaw:Qs,set:Qn,remove:ia}),attrs:jt({get:qo,set:Is,remove:zs,copyTo:co}),insert:jt({before:Jt,after:on,afterAll:hs,append:Dn,appendAll:Bs,prepend:_n,wrap:to}),remove:jt({unwrap:go,remove:Vs}),create:jt({nu:It.fromTag,clone:Z,text:It.fromText}),query:jt({comparePosition:En,prevSibling:je,nextSibling:pt}),property:jt({children:mt,name:ms,parent:me,document:ne,isText:ye,isComment:Y,isElement:le,isSpecial:Fo,getLanguage:Ds,getText:mo,setText:Uo,isBoundary:Pe,isEmptyTag:it,isNonEditable:Nt}),eq:zn,is:cs}};const Mg=(Z,ne,Pe,it)=>{const Nt=Pe[0],En=Pe.slice(1);return it(Z,ne,Nt,En)},Fu=(Z,ne,Pe)=>Pe.length>0?Mg(Z,ne,Pe,bl):ht.none(),bl=(Z,ne,Pe,it)=>{const Nt=ne(Z,Pe);return T(it,(En,co)=>{const Fo=ne(Z,co);return Rl(Z,En,Fo)},Nt)},Rl=(Z,ne,Pe)=>ne.bind(it=>Pe.filter(lt(Z.eq,it))),yh=Fu,Ch=tu(),Pu=(Z,ne)=>yh(Ch,(Pe,it)=>Z(it),ne),_h=(Z,ne)=>{const Pe=ca.fromTable(Z);return mp(Pe,ne).bind(Nt=>{const En=Nt[Nt.length-1],co=Nt[0].row,Fo=En.row+En.rowspan,Ds=Pe.all.slice(co,Fo);return mh(Ds)}).getOr("")},Jl=(Z,ne)=>ne.column>=Z.startCol&&ne.column+ne.colspan-1<=Z.finishCol&&ne.row>=Z.startRow&&ne.row+ne.rowspan-1<=Z.finishRow,T2=(Z,ne)=>{let Pe=!0;const it=lt(Jl,ne);for(let Nt=ne.startRow;Nt<=ne.finishRow;Nt++)for(let En=ne.startCol;En<=ne.finishCol;En++)Pe=Pe&&ca.getAt(Z,Nt,En).exists(it);return Pe?ht.some(ne):ht.none()},Ml=(Z,ne)=>zi(Math.min(Z.row,ne.row),Math.min(Z.column,ne.column),Math.max(Z.row+Z.rowspan-1,ne.row+ne.rowspan-1),Math.max(Z.column+Z.colspan-1,ne.column+ne.colspan-1)),Eh=(Z,ne,Pe)=>{const it=ca.findItem(Z,ne,zn),Nt=ca.findItem(Z,Pe,zn);return it.bind(En=>Nt.map(co=>Ml(En,co)))},k2=(Z,ne,Pe)=>Eh(Z,ne,Pe).bind(it=>T2(Z,it)),Hc=(Z,ne,Pe)=>{const it=Ws(Z);return k2(it,ne,Pe)},Ws=ca.fromTable;var vl=tinymce.util.Tools.resolve("tinymce.util.Tools");const _f=(Z,ne,Pe)=>{const it=Z.select("td,th",ne);let Nt;for(let En=0;En<it.length;En++){const co=Z.getStyle(it[En],Pe);if(Oe(Nt)&&(Nt=co),Nt!==co)return""}return Nt},hp=(Z,ne,Pe)=>{vl.each("left center right".split(" "),it=>{it!==Pe&&Z.formatter.remove("align"+it,{},ne)}),Pe&&Z.formatter.apply("align"+Pe,{},ne)},Fs=(Z,ne,Pe)=>{vl.each("top middle bottom".split(" "),it=>{it!==Pe&&Z.formatter.remove("valign"+it,{},ne)}),Pe&&Z.formatter.apply("valign"+Pe,{},ne)},Ig=(Z,ne,Pe)=>{Z.dispatch("TableModified",{...Pe,table:ne})};var zc=tinymce.util.Tools.resolve("tinymce.Env");const Ra="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",xl=$(5,Z=>{const ne=`${Z+1}px`;return{title:ne,value:ne}}),da=ge(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],Z=>({title:Z,value:Z.toLowerCase()})),Ha="100%",ua=Z=>{var ne;const Pe=Z.dom,it=(ne=Pe.getParent(Z.selection.getStart(),Pe.isBlock))!==null&&ne!==void 0?ne:Z.getBody();return Vn(It.fromDom(it))+"px"},l5=(Z,ne)=>Fg(Z)||!Uc(Z)?ne:c1(Z)?{...ne,width:ua(Z)}:{...ne,width:Ha},nu=(Z,ne)=>Fg(Z)||Uc(Z)?ne:c1(Z)?{...ne,width:ua(Z)}:{...ne,width:Ha},Vi=Z=>ne=>ne.options.get(Z),yi=Z=>{const ne=Z.options.register;ne("table_border_widths",{processor:"object[]",default:xl}),ne("table_border_styles",{processor:"object[]",default:da}),ne("table_cell_advtab",{processor:"boolean",default:!0}),ne("table_row_advtab",{processor:"boolean",default:!0}),ne("table_advtab",{processor:"boolean",default:!0}),ne("table_appearance_options",{processor:"boolean",default:!0}),ne("table_grid",{processor:"boolean",default:!zc.deviceType.isTouch()}),ne("table_cell_class_list",{processor:"object[]",default:[]}),ne("table_row_class_list",{processor:"object[]",default:[]}),ne("table_class_list",{processor:"object[]",default:[]}),ne("table_toolbar",{processor:"string",default:Ra}),ne("table_background_color_map",{processor:"object[]",default:[]}),ne("table_border_color_map",{processor:"object[]",default:[]})},Bg=Vi("table_sizing_mode"),fa=Vi("table_border_widths"),si=Vi("table_border_styles"),$u=Vi("table_cell_advtab"),Ql=Vi("table_row_advtab"),yl=Vi("table_advtab"),Js=Vi("table_appearance_options"),xd=Vi("table_grid"),Uc=Vi("table_style_by_css"),ri=Vi("table_cell_class_list"),hr=Vi("table_row_class_list"),fc=Vi("table_class_list"),pc=Vi("table_toolbar"),Xa=Vi("table_background_color_map"),za=Vi("table_border_color_map"),c1=Z=>Bg(Z)==="fixed",Fg=Z=>Bg(Z)==="responsive",ou=Z=>{const ne=Z.options,Pe=ne.get("table_default_styles");return ne.isSet("table_default_styles")?Pe:l5(Z,Pe)},tl=Z=>{const ne=Z.options,Pe=ne.get("table_default_attributes");return ne.isSet("table_default_attributes")?Pe:nu(Z,Pe)},c5=Z=>bt(Z,"table"),A2=(Z,ne)=>{const Pe=yt(Z,ne);return Pe.length>0?ht.some(Pe):ht.none()},Ef=(Z,ne,Pe)=>ln(Z,ne).bind(it=>ln(Z,Pe).bind(Nt=>Pu(c5,[it,Nt]).map(En=>({first:it,last:Nt,table:En})))),ss=(Z,ne)=>A2(Z,ne),O2=(Z,ne,Pe)=>Ef(Z,ne,Pe).bind(it=>{const Nt=Ds=>zn(Z,Ds),En="thead,tfoot,tbody,table",co=bt(it.first,En,Nt),Fo=bt(it.last,En,Nt);return co.bind(Ds=>Fo.bind($s=>zn(Ds,$s)?Hc(it.table,it.first,it.last):ht.none()))}),Ua=Wo,ai=Z=>{const ne=(it,Nt)=>Do(it,Nt).exists(En=>parseInt(En,10)>1),Pe=it=>ne(it,"rowspan")||ne(it,"colspan");return Z.length>0&&j(Z,Pe)?ht.some(Z):ht.none()},ii=(Z,ne,Pe)=>ne.length<=1?ht.none():O2(Z,Pe.firstSelectedSelector,Pe.lastSelectedSelector).map(it=>({bounds:it,cells:ne})),Kr="data-mce-selected",Hu="data-mce-first-selected",Pg="td["+Hu+"],th["+Hu+"]",ec="data-mce-last-selected",Vc="td["+ec+"],th["+ec+"]",$g={selected:Kr,firstSelectedSelector:Pg,lastSelectedSelector:Vc},bp=Z=>Yl(Z).bind(ne=>ss(ne,$g.firstSelectedSelector)).fold(jt(Z),ne=>ne[0]),wh=Z=>(ne,Pe)=>{const it=ms(ne),Nt=it==="col"||it==="colgroup"?bp(ne):ne;return An(Nt,Z,Pe)},Il=wh("th,td,caption"),wf=wh("th,td"),Ja=Z=>bo(Z.model.table.getSelectedCells()),yd=(Z,ne)=>{const Pe=wf(Z),it=Pe.bind(Nt=>Yl(Nt)).map(Nt=>_2(Nt));return We(Pe,it,(Nt,En)=>O(En,co=>b(bo(co.dom.cells),Fo=>qo(Fo,ne)==="1"||zn(Fo,Nt)))).getOr([])},su=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Lr=Z=>({value:Bl(Z)}),nl=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gc=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Sh=Z=>nl.test(Z)||gc.test(Z),Bl=Z=>Ze(Z,"#").toUpperCase(),Hg=Z=>Sh(Z)?ht.some({value:Bl(Z)}):ht.none(),Mo=Z=>{const ne=Z.toString(16);return(ne.length===1?"0"+ne:ne).toUpperCase()},ka=Z=>{const ne=Mo(Z.red)+Mo(Z.green)+Mo(Z.blue);return Lr(ne)},Qa=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,pa=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,zu=(Z,ne,Pe,it)=>({red:Z,green:ne,blue:Pe,alpha:it}),er=(Z,ne,Pe,it)=>{const Nt=parseInt(Z,10),En=parseInt(ne,10),co=parseInt(Pe,10),Fo=parseFloat(it);return zu(Nt,En,co,Fo)},zg=Z=>{const ne=Qa.exec(Z);if(ne!==null)return ht.some(er(ne[1],ne[2],ne[3],"1"));const Pe=pa.exec(Z);return Pe!==null?ht.some(er(Pe[1],Pe[2],Pe[3],Pe[4])):ht.none()},ru=Z=>Hg(Z).orThunk(()=>zg(Z).map(ka)).getOrThunk(()=>{const ne=document.createElement("canvas");ne.height=1,ne.width=1;const Pe=ne.getContext("2d");Pe.clearRect(0,0,ne.width,ne.height),Pe.fillStyle="#FFFFFF",Pe.fillStyle=Z,Pe.fillRect(0,0,1,1);const it=Pe.getImageData(0,0,1,1).data,Nt=it[0],En=it[1],co=it[2],Fo=it[3];return ka(zu(Nt,En,co,Fo))}),Ps=Z=>zg(Z).map(ka).map(ne=>"#"+ne.value).getOr(Z),kr=(Z,ne,Pe)=>it=>{const Nt=Me(),En=ft(Pe),co=()=>{const Fo=Ja(Z),Ds=$s=>Z.formatter.match(ne,{value:Pe},$s.dom,En);En?(it.setActive(!b(Fo,Ds)),Nt.set(Z.formatter.formatChanged(ne,$s=>it.setActive(!$s),!0))):(it.setActive(j(Fo,Ds)),Nt.set(Z.formatter.formatChanged(ne,it.setActive,!1,{value:Pe})))};return Z.initialized?co():Z.on("init",co),Nt.clear},Fl=Z=>ae(Z,"menu"),d1=Z=>ge(Z,ne=>{const Pe=ne.text||ne.title||"";return Fl(ne)?{text:Pe,items:d1(ne.menu)}:{text:Pe,value:ne.value}}),qr=Z=>Z.length?ht.some(d1([{text:"Select...",value:"mce-no-match"},...Z])):ht.none(),Di=(Z,ne,Pe,it)=>ge(ne,Nt=>{const En=Nt.text||Nt.title;return Fl(Nt)?{type:"nestedmenuitem",text:En,getSubmenuItems:()=>Di(Z,Nt.menu,Pe,it)}:{text:En,type:"togglemenuitem",onAction:()=>it(Nt.value),onSetup:kr(Z,Pe,Nt.value)}}),Uu=(Z,ne)=>Pe=>{Z.execCommand("mceTableApplyCellStyle",!1,{[ne]:Pe})},au=Z=>F(Z,ne=>Fl(ne)?[{...ne,menu:au(ne.menu)}]:xt(ne.value)?[ne]:[]),u1=(Z,ne,Pe,it)=>Nt=>Nt(Di(Z,ne,Pe,it)),Pl=(Z,ne,Pe)=>{const it=ge(ne,Nt=>({text:Nt.title,value:"#"+ru(Nt.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:it.length>0?it:void 0,allowCustomColors:!1},onAction:Nt=>{const En=Nt.value==="remove"?"":Nt.value;Z.execCommand("mceTableApplyCellStyle",!1,{[Pe]:En})}}]},Th=Z=>()=>{const Pe=Z.queryCommandValue("mceTableRowType")==="header"?"body":"header";Z.execCommand("mceTableRowType",!1,{type:Pe})},ei=Z=>()=>{const Pe=Z.queryCommandValue("mceTableColType")==="th"?"td":"th";Z.execCommand("mceTableColType",!1,{type:Pe})},f1=Z=>qr(ri(Z)).map(ne=>({name:"class",type:"listbox",label:"Class",items:ne})),vp=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:su}],Cd=Z=>vp.concat(f1(Z).toArray()),Dr=(Z,ne)=>{const it=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(d1(si(Z)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:ne==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(it):it}},iu={normal:(Z,ne)=>{const Pe=Z.dom;return{setAttrib:(co,Fo)=>{Pe.setAttrib(ne,co,Fo)},setStyle:(co,Fo)=>{Pe.setStyle(ne,co,Fo)},setFormat:(co,Fo)=>{Fo===""?Z.formatter.remove(co,{value:null},ne,!0):Z.formatter.apply(co,{value:Fo},ne)}}}},Ni=Z=>qe(Z,"rgb")?Ps(Z):Z,Va=Z=>{const ne=It.fromDom(Z);return{borderwidth:Qs(ne,"border-width").getOr(""),borderstyle:Qs(ne,"border-style").getOr(""),bordercolor:Qs(ne,"border-color").map(Ni).getOr(""),backgroundcolor:Qs(ne,"background-color").map(Ni).getOr("")}},Ri=Z=>{const ne=Z[0],Pe=Z.slice(1);return a(Pe,it=>{a(se(ne),Nt=>{ie(it,(En,co)=>{const Fo=ne[Nt];Fo!==""&&Nt===co&&Fo!==En&&(ne[Nt]=Nt==="class"?"mce-no-match":"")})})}),ne},tc=(Z,ne,Pe,it)=>G(Z,Nt=>!Oe(Pe.formatter.matchNode(it,ne+Nt))).getOr(""),Wa=lt(tc,["left","center","right"],"align"),Sf=lt(tc,["top","middle","bottom"],"valign"),d5=(Z,ne)=>{const Pe=ou(Z),it=tl(Z),Nt=()=>({borderstyle:V(Pe,"border-style").getOr(""),bordercolor:Ni(V(Pe,"border-color").getOr("")),backgroundcolor:Ni(V(Pe,"background-color").getOr(""))}),En={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},co=()=>{const Nr=Pe["border-width"];return Uc(Z)&&Nr?{border:Nr}:V(it,"border").fold(()=>({}),Yr=>({border:Yr}))},Fo=ne?Nt():{},Ds=()=>{const Nr=V(Pe,"border-spacing").or(V(it,"cellspacing")).fold(()=>({}),ma=>({cellspacing:ma})),Yr=V(Pe,"border-padding").or(V(it,"cellpadding")).fold(()=>({}),ma=>({cellpadding:ma}));return{...Nr,...Yr}};return{...En,...Pe,...it,...Fo,...co(),...Ds()}},D2=Z=>Yl(It.fromDom(Z)).map(ne=>{const Pe={selection:bo(Z.cells)};return _h(ne,Pe)}).getOr(""),u5=(Z,ne,Pe)=>{const it=(Fo,Ds)=>{const $s=Qs(It.fromDom(Ds),"border-width");return Uc(Z)&&$s.isSome()?$s.getOr(""):Fo.getAttrib(Ds,"border")||_f(Z.dom,Ds,"border-width")||_f(Z.dom,Ds,"border")||""},Nt=Z.dom,En=Uc(Z)?Nt.getStyle(ne,"border-spacing")||Nt.getAttrib(ne,"cellspacing"):Nt.getAttrib(ne,"cellspacing")||Nt.getStyle(ne,"border-spacing"),co=Uc(Z)?_f(Nt,ne,"padding")||Nt.getAttrib(ne,"cellpadding"):Nt.getAttrib(ne,"cellpadding")||_f(Nt,ne,"padding");return{width:Nt.getStyle(ne,"width")||Nt.getAttrib(ne,"width"),height:Nt.getStyle(ne,"height")||Nt.getAttrib(ne,"height"),cellspacing:En??"",cellpadding:co??"",border:it(Nt,ne),caption:!!Nt.select("caption",ne)[0],class:Nt.getAttrib(ne,"class",""),align:Wa(Z,ne),...Pe?Va(ne):{}}},Wc=(Z,ne,Pe)=>{const it=Z.dom;return{height:it.getStyle(ne,"height")||it.getAttrib(ne,"height"),class:it.getAttrib(ne,"class",""),type:D2(ne),align:Wa(Z,ne),...Pe?Va(ne):{}}},N2=(Z,ne,Pe,it)=>{const Nt=Z.dom,En=it.getOr(ne);return{width:((Fo,Ds)=>Nt.getStyle(Fo,Ds)||Nt.getAttrib(Fo,Ds))(En,"width"),scope:Nt.getAttrib(ne,"scope"),celltype:Cn(ne),class:Nt.getAttrib(ne,"class",""),halign:Wa(Z,ne),valign:Sf(Z,ne),...Pe?Va(ne):{}}},Tf=(Z,ne)=>{const Pe=ca.fromTable(Z),it=ca.justCells(Pe),Nt=O(it,En=>b(ne,co=>zn(En.element,co)));return ge(Nt,En=>({element:En.element.dom,column:ca.getColumnAt(Pe,En.column).map(co=>co.element.dom)}))},p1=(Z,ne,Pe,it)=>{it("scope")&&Z.setAttrib("scope",Pe.scope),it("class")&&Pe.class!=="mce-no-match"&&Z.setAttrib("class",Pe.class),it("width")&&ne.setStyle("width",Or(Pe.width))},xp=(Z,ne,Pe)=>{Pe("backgroundcolor")&&Z.setFormat("tablecellbackgroundcolor",ne.backgroundcolor),Pe("bordercolor")&&Z.setFormat("tablecellbordercolor",ne.bordercolor),Pe("borderstyle")&&Z.setFormat("tablecellborderstyle",ne.borderstyle),Pe("borderwidth")&&Z.setFormat("tablecellborderwidth",Or(ne.borderwidth))},kh=(Z,ne,Pe,it)=>{const Nt=ne.length===1;a(ne,En=>{const co=En.element,Fo=Nt?_o:it,Ds=iu.normal(Z,co),$s=En.column.map(Nr=>iu.normal(Z,Nr)).getOr(Ds);p1(Ds,$s,Pe,Fo),$u(Z)&&xp(Ds,Pe,Fo),it("halign")&&hp(Z,co,Pe.halign),it("valign")&&Fs(Z,co,Pe.valign)})},kf=(Z,ne)=>{Z.execCommand("mceTableCellType",!1,{type:ne.celltype,no_events:!0})},yp=(Z,ne,Pe,it)=>{const Nt=K(it,(En,co)=>Pe[co]!==En);J(Nt)>0&&ne.length>=1&&Yl(ne[0]).each(En=>{const co=Tf(En,ne),Fo=J(K(Nt,($s,Nr)=>Nr!=="scope"&&Nr!=="celltype"))>0,Ds=q(Nt,"celltype");(Fo||q(Nt,"scope"))&&kh(Z,co,it,lt(q,Nt)),Ds&&kf(Z,it),Ig(Z,En.dom,{structure:Ds,style:Fo})})},R2=(Z,ne,Pe,it)=>{const Nt=it.getData();it.close(),Z.undoManager.transact(()=>{yp(Z,ne,Pe,Nt),Z.focus()})},M2=(Z,ne)=>{const Pe=Yl(ne[0]).map(it=>ge(Tf(it,ne),Nt=>N2(Z,Nt.element,$u(Z),Nt.column)));return Ri(Pe.getOrDie())},Kc=Z=>{const ne=Ja(Z);if(ne.length===0)return;const Pe=M2(Z,ne),it={type:"tabpanel",tabs:[{title:"General",name:"general",items:Cd(Z)},Dr(Z,"cell")]},Nt={type:"panel",items:[{type:"grid",columns:2,items:Cd(Z)}]};Z.windowManager.open({title:"Cell Properties",size:"normal",body:$u(Z)?it:Nt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Pe,onSubmit:lt(R2,Z,ne,Pe)})},Cp=Z=>qr(hr(Z)).map(ne=>({name:"class",type:"listbox",label:"Class",items:ne})),g1=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],pr=Z=>g1.concat(Cp(Z).toArray()),nc=(Z,ne,Pe)=>{Pe("class")&&ne.class!=="mce-no-match"&&Z.setAttrib("class",ne.class),Pe("height")&&Z.setStyle("height",Or(ne.height))},mc=(Z,ne,Pe)=>{Pe("backgroundcolor")&&Z.setStyle("background-color",ne.backgroundcolor),Pe("bordercolor")&&Z.setStyle("border-color",ne.bordercolor),Pe("borderstyle")&&Z.setStyle("border-style",ne.borderstyle)},Ah=(Z,ne,Pe,it)=>{const En=ne.length===1?_o:it;a(ne,co=>{const Fo=Ge(It.fromDom(co),"td,th"),Ds=iu.normal(Z,co);nc(Ds,Pe,En),Ql(Z)&&mc(Ds,Pe,En),it("height")&&a(Fo,$s=>{Z.dom.setStyle($s.dom,"height",null)}),it("align")&&hp(Z,co,Pe.align)})},m1=(Z,ne)=>{Z.execCommand("mceTableRowType",!1,{type:ne.type,no_events:!0})},Oh=(Z,ne,Pe,it)=>{const Nt=K(it,(En,co)=>Pe[co]!==En);if(J(Nt)>0){const En=q(Nt,"type"),co=En?J(Nt)>1:!0;co&&Ah(Z,ne,it,lt(q,Nt)),En&&m1(Z,it),Yl(It.fromDom(ne[0])).each(Fo=>Ig(Z,Fo.dom,{structure:En,style:co}))}},Lh=(Z,ne,Pe,it)=>{const Nt=it.getData();it.close(),Z.undoManager.transact(()=>{Oh(Z,ne,Pe,Nt),Z.focus()})},Mi=Z=>{const ne=yd(Gr(Z),$g.selected);if(ne.length===0)return;const Pe=ge(ne,co=>Wc(Z,co.dom,Ql(Z))),it=Ri(Pe),Nt={type:"tabpanel",tabs:[{title:"General",name:"general",items:pr(Z)},Dr(Z,"row")]},En={type:"panel",items:[{type:"grid",columns:2,items:pr(Z)}]};Z.windowManager.open({title:"Row Properties",size:"normal",body:Ql(Z)?Nt:En,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:it,onSubmit:lt(Lh,Z,ge(ne,co=>co.dom),it)})},_d=(Z,ne,Pe)=>{const it=Pe?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Nt=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],En=Js(Z)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],co=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Fo=ne.length>0?[{name:"class",type:"listbox",label:"Class",items:ne}]:[];return it.concat(Nt).concat(En).concat(co).concat(Fo)},na=(Z,ne,Pe,it)=>{if(ne.tagName==="TD"||ne.tagName==="TH")Ke(Pe)&&On(it)?Z.setStyle(ne,Pe,it):Z.setStyles(ne,Pe);else if(ne.children)for(let Nt=0;Nt<ne.children.length;Nt++)na(Z,ne.children[Nt],Pe,it)},I2=(Z,ne,Pe,it)=>{const Nt=Z.dom,En={},co={},Fo=Uc(Z),Ds=yl(Z),$s=parseFloat(Pe.border)===0;if(!Oe(Pe.class)&&Pe.class!=="mce-no-match"&&(En.class=Pe.class),co.height=Or(Pe.height),Fo?co.width=Or(Pe.width):Nt.getAttrib(ne,"width")&&(En.width=ir(Pe.width)),Fo?($s?(En.border=0,co["border-width"]=""):(co["border-width"]=Or(Pe.border),En.border=1),co["border-spacing"]=Or(Pe.cellspacing)):(En.border=$s?0:Pe.border,En.cellpadding=Pe.cellpadding,En.cellspacing=Pe.cellspacing),Fo&&ne.children){const Nr={};if($s?Nr["border-width"]="":it.border&&(Nr["border-width"]=Or(Pe.border)),it.cellpadding&&(Nr.padding=Or(Pe.cellpadding)),Ds&&it.bordercolor&&(Nr["border-color"]=Pe.bordercolor),!Le(Nr))for(let Yr=0;Yr<ne.children.length;Yr++)na(Nt,ne.children[Yr],Nr)}if(Ds){const Nr=Pe;co["background-color"]=Nr.backgroundcolor,co["border-color"]=Nr.bordercolor,co["border-style"]=Nr.borderstyle}Nt.setStyles(ne,{...ou(Z),...co}),Nt.setAttribs(ne,{...tl(Z),...En})},Vr=(Z,ne,Pe,it)=>{const Nt=Z.dom,En=it.getData(),co=K(En,(Fo,Ds)=>Pe[Ds]!==Fo);it.close(),Z.undoManager.transact(()=>{if(!ne){const Fo=Ot(En.cols).getOr(1),Ds=Ot(En.rows).getOr(1);Z.execCommand("mceInsertTable",!1,{rows:Ds,columns:Fo}),ne=wf(Gr(Z),gs(Z)).bind($s=>Yl($s,gs(Z))).map($s=>$s.dom).getOrDie()}if(J(co)>0){const Fo={border:q(co,"border"),bordercolor:q(co,"bordercolor"),cellpadding:q(co,"cellpadding")};I2(Z,ne,En,Fo);const Ds=Nt.select("caption",ne)[0];(Ds&&!En.caption||!Ds&&En.caption)&&Z.execCommand("mceTableToggleCaption"),hp(Z,ne,En.align)}if(Z.focus(),Z.addVisual(),J(co)>0){const Fo=q(co,"caption"),Ds=Fo?J(co)>1:!0;Ig(Z,ne,{structure:Fo,style:Ds})}})},Vu=(Z,ne)=>{const Pe=Z.dom;let it,Nt=d5(Z,yl(Z));ne?(Nt.cols="1",Nt.rows="1",yl(Z)&&(Nt.borderstyle="",Nt.bordercolor="",Nt.backgroundcolor="")):(it=Pe.getParent(Z.selection.getStart(),"table",Z.getBody()),it?Nt=u5(Z,it,yl(Z)):yl(Z)&&(Nt.borderstyle="",Nt.bordercolor="",Nt.backgroundcolor=""));const En=qr(fc(Z));En.isSome()&&Nt.class&&(Nt.class=Nt.class.replace(/\s*mce\-item\-table\s*/g,""));const co={type:"grid",columns:2,items:_d(Z,En.getOr([]),ne)},Fo=()=>({type:"panel",items:[co]}),Ds=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[co]},Dr(Z,"table")]}),$s=yl(Z)?Ds():Fo();Z.windowManager.open({title:"Table Properties",size:"normal",body:$s,onSubmit:lt(Vr,Z,it,Nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Nt})},Ma=Z=>{const ne=Pe=>{Sa(Gr(Z))&&Pe()};ie({mceTableProps:lt(Vu,Z,!1),mceTableRowProps:lt(Mi,Z),mceTableCellProps:lt(Kc,Z),mceInsertTableDialog:lt(Vu,Z,!0)},(Pe,it)=>Z.addCommand(it,()=>ne(Pe)))},$l=Z=>({element:Z,mergable:ht.none(),unmergable:ht.none(),selection:[Z]}),Cl=(Z,ne,Pe)=>({element:Pe,mergable:ii(ne,Z,$g),unmergable:ai(Z),selection:Ua(Z)}),h1=Z=>{const ne=Ee(ht.none()),Pe=Ee([]);let it=ht.none();const Nt=Be("caption"),En=Ks=>it.forall(Xr=>!Xr[Ks]),co=()=>Il(Gr(Z),gs(Z)),Fo=()=>Il(Rs(Z),gs(Z)),Ds=()=>co().bind(Ks=>ct(We(Yl(Ks),Fo().bind(Yl),(Xr,Ci)=>zn(Xr,Ci)?Nt(Ks)?ht.some($l(Ks)):ht.some(Cl(Ja(Z),Xr,Ks)):ht.none()))),$s=Ks=>Yl(Ks.element).map(Ci=>{const _l=ca.fromTable(Ci),Gg=mp(_l,Ks).getOr([]),wp=L(Gg,(qg,Yg)=>(Yg.isLocked&&(qg.onAny=!0,Yg.column===0?qg.onFirst=!0:Yg.column+Yg.colspan>=_l.grid.columns&&(qg.onLast=!0)),qg),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Ct(_l,Ks).isSome(),unmergeable:Bu(_l,Ks).isSome(),locked:wp}}),Nr=()=>{ne.set(zt(Ds)()),it=ne.get().bind($s),a(Pe.get(),qn)},Yr=Ks=>(Ks(),Pe.set(Pe.get().concat([Ks])),()=>{Pe.set(O(Pe.get(),Xr=>Xr!==Ks))}),ma=(Ks,Xr)=>Yr(()=>ne.get().fold(()=>{Ks.setEnabled(!1)},Ci=>{Ks.setEnabled(!Xr(Ci)&&Z.selection.isEditable())})),zl=(Ks,Xr,Ci)=>Yr(()=>ne.get().fold(()=>{Ks.setEnabled(!1),Ks.setActive(!1)},_l=>{Ks.setEnabled(!Xr(_l)&&Z.selection.isEditable()),Ks.setActive(Ci(_l))})),lu=Ks=>it.exists(Xr=>Xr.locked[Ks]),cu=Ks=>ma(Ks,Xr=>!1),hc=Ks=>ma(Ks,Xr=>Nt(Xr.element)),Rh=Ks=>Xr=>ma(Xr,Ci=>Nt(Ci.element)||lu(Ks)),Ep=Ks=>Xr=>ma(Xr,Ci=>Nt(Ci.element)||Ks().isNone()),v1=(Ks,Xr)=>Ci=>ma(Ci,_l=>Nt(_l.element)||Ks().isNone()||lu(Xr)),Wu=Ks=>ma(Ks,Xr=>En("mergeable")),Kg=Ks=>ma(Ks,Xr=>En("unmergeable")),jg=Ks=>zl(Ks,fs,Xr=>Yl(Xr.element,gs(Z)).exists(_l=>Kt(_l,"caption"))),Zg=(Ks,Xr)=>Ci=>zl(Ci,_l=>Nt(_l.element),()=>Z.queryCommandValue(Ks)===Xr),f5=Zg("mceTableRowType","header"),p5=Zg("mceTableColType","th");return Z.on("NodeChange ExecCommand TableSelectorChange",Nr),{onSetupTable:cu,onSetupCellOrRow:hc,onSetupColumn:Rh,onSetupPasteable:Ep,onSetupPasteableColumn:v1,onSetupMergeable:Wu,onSetupUnmergeable:Kg,resetTargets:Nr,onSetupTableWithCaption:jg,onSetupTableRowHeaders:f5,onSetupTableColumnHeaders:p5,targets:ne.get}};var Ug=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Dh="x-tinymce/dom-table-",B2=Dh+"rows",b1=Dh+"columns",jc=Z=>{var ne;const Pe=(ne=Ug.read())!==null&&ne!==void 0?ne:[];return be(Pe,it=>ht.from(it.getType(Z)))},Hl=()=>jc(B2),ti=()=>jc(b1),Ia=Z=>ne=>{const Pe=()=>{ne.setEnabled(Z.selection.isEditable())};return Z.on("NodeChange",Pe),Pe(),()=>{Z.off("NodeChange",Pe)}},F2=(Z,ne)=>{Z.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ia(Z),fetch:Fo=>Fo("inserttable | cell row column | advtablesort | tableprops deletetable")});const Pe=Fo=>()=>Z.execCommand(Fo),it=(Fo,Ds)=>{Z.queryCommandSupported(Ds.command)&&Z.ui.registry.addButton(Fo,{...Ds,onAction:xe(Ds.onAction)?Ds.onAction:Pe(Ds.command)})},Nt=(Fo,Ds)=>{Z.queryCommandSupported(Ds.command)&&Z.ui.registry.addToggleButton(Fo,{...Ds,onAction:xe(Ds.onAction)?Ds.onAction:Pe(Ds.command)})};it("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:ne.onSetupTable}),it("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:ne.onSetupTable}),it("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:ne.onSetupCellOrRow}),it("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:ne.onSetupMergeable}),it("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:ne.onSetupUnmergeable}),it("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:ne.onSetupCellOrRow}),it("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:ne.onSetupCellOrRow}),it("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:ne.onSetupCellOrRow}),it("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:ne.onSetupCellOrRow}),it("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:ne.onSetupColumn("onFirst")}),it("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:ne.onSetupColumn("onLast")}),it("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:ne.onSetupColumn("onAny")}),it("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:ne.onSetupCellOrRow}),it("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:ne.onSetupCellOrRow}),it("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:ne.onSetupPasteable(Hl)}),it("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:ne.onSetupPasteable(Hl)}),it("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:ne.onSetupColumn("onAny")}),it("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:ne.onSetupColumn("onAny")}),it("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:ne.onSetupPasteableColumn(ti,"onFirst")}),it("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:ne.onSetupPasteableColumn(ti,"onLast")}),it("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ia(Z)});const En=au(fc(Z));En.length!==0&&Z.queryCommandSupported("mceTableToggleClass")&&Z.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:u1(Z,En,"tableclass",Fo=>Z.execCommand("mceTableToggleClass",!1,Fo)),onSetup:ne.onSetupTable});const co=au(ri(Z));co.length!==0&&Z.queryCommandSupported("mceTableCellToggleClass")&&Z.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:u1(Z,co,"tablecellclass",Fo=>Z.execCommand("mceTableCellToggleClass",!1,Fo)),onSetup:ne.onSetupCellOrRow}),Z.queryCommandSupported("mceTableApplyCellStyle")&&(Z.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:u1(Z,su,"tablecellverticalalign",Uu(Z,"vertical-align")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:u1(Z,fa(Z),"tablecellborderwidth",Uu(Z,"border-width")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:u1(Z,si(Z),"tablecellborderstyle",Uu(Z,"border-style")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Fo=>Fo(Pl(Z,Xa(Z),"background-color")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Fo=>Fo(Pl(Z,za(Z),"border-color")),onSetup:ne.onSetupCellOrRow})),Nt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:ne.onSetupTableWithCaption}),Nt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Th(Z),onSetup:ne.onSetupTableRowHeaders}),Nt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ei(Z),onSetup:ne.onSetupTableColumnHeaders})},_p=Z=>{const ne=it=>Z.dom.is(it,"table")&&Z.getBody().contains(it)&&Z.dom.isEditable(it.parentNode),Pe=pc(Z);Pe.length>0&&Z.ui.registry.addContextToolbar("table",{predicate:ne,items:Pe,scope:"node",position:"node"})},Vg=Z=>ne=>{const Pe=()=>{ne.setEnabled(Z.selection.isEditable())};return Z.on("NodeChange",Pe),Pe(),()=>{Z.off("NodeChange",Pe)}},Ed=(Z,ne)=>{const Pe=Yr=>()=>Z.execCommand(Yr),it=(Yr,ma)=>Z.queryCommandSupported(ma.command)?(Z.ui.registry.addMenuItem(Yr,{...ma,onAction:xe(ma.onAction)?ma.onAction:Pe(ma.command)}),!0):!1,Nt=(Yr,ma)=>{Z.queryCommandSupported(ma.command)&&Z.ui.registry.addToggleMenuItem(Yr,{...ma,onAction:xe(ma.onAction)?ma.onAction:Pe(ma.command)})},En=Yr=>{Z.execCommand("mceInsertTable",!1,{rows:Yr.numRows,columns:Yr.numColumns})},co=[it("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:ne.onSetupCellOrRow}),it("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:ne.onSetupCellOrRow}),it("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:ne.onSetupCellOrRow}),it("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:ne.onSetupCellOrRow}),it("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:ne.onSetupCellOrRow}),it("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:ne.onSetupCellOrRow}),it("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:ne.onSetupPasteable(Hl)}),it("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:ne.onSetupPasteable(Hl)})],Fo=[it("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:ne.onSetupColumn("onFirst")}),it("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:ne.onSetupColumn("onLast")}),it("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:ne.onSetupColumn("onAny")}),it("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:ne.onSetupColumn("onAny")}),it("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:ne.onSetupColumn("onAny")}),it("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:ne.onSetupPasteableColumn(ti,"onFirst")}),it("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:ne.onSetupPasteableColumn(ti,"onLast")})],Ds=[it("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:ne.onSetupCellOrRow}),it("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:ne.onSetupMergeable}),it("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:ne.onSetupUnmergeable})];xd(Z)?Z.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:En}],onSetup:Vg(Z)}):Z.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Pe("mceInsertTableDialog"),onSetup:Vg(Z)}),Z.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Pe("mceInsertTableDialog"),onSetup:Vg(Z)}),it("tableprops",{text:"Table properties",onSetup:ne.onSetupTable,command:"mceTableProps"}),it("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:ne.onSetupTable,command:"mceTableDelete"}),s(co,!0)&&Z.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:jt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),s(Fo,!0)&&Z.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:jt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),s(Ds,!0)&&Z.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:jt("tablecellprops tablemergecells tablesplitcells")}),Z.ui.registry.addContextMenu("table",{update:()=>(ne.resetTargets(),ne.targets().fold(jt(""),Yr=>ms(Yr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const $s=au(fc(Z));$s.length!==0&&Z.queryCommandSupported("mceTableToggleClass")&&Z.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Di(Z,$s,"tableclass",Yr=>Z.execCommand("mceTableToggleClass",!1,Yr)),onSetup:ne.onSetupTable});const Nr=au(ri(Z));Nr.length!==0&&Z.queryCommandSupported("mceTableCellToggleClass")&&Z.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Di(Z,Nr,"tablecellclass",Yr=>Z.execCommand("mceTableCellToggleClass",!1,Yr)),onSetup:ne.onSetupCellOrRow}),Z.queryCommandSupported("mceTableApplyCellStyle")&&(Z.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Di(Z,su,"tablecellverticalalign",Uu(Z,"vertical-align")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Di(Z,fa(Z),"tablecellborderwidth",Uu(Z,"border-width")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Di(Z,si(Z),"tablecellborderstyle",Uu(Z,"border-style")),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Pl(Z,Xa(Z),"background-color"),onSetup:ne.onSetupCellOrRow}),Z.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Pl(Z,za(Z),"border-color"),onSetup:ne.onSetupCellOrRow})),Nt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:ne.onSetupTableWithCaption}),Nt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Th(Z),onSetup:ne.onSetupTableRowHeaders}),Nt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ei(Z),onSetup:ne.onSetupTableRowHeaders})},Wg=Z=>{const ne=h1(Z);yi(Z),Ma(Z),Ed(Z,ne),F2(Z,ne),_p(Z)};var Nh=()=>{E.add("table",Wg)};Nh()})();(function(){const E=Yt=>{let lt=Yt;return{get:()=>lt,set:_o=>{lt=_o}}};var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),x=tinymce.util.Tools.resolve("tinymce.Env");const de=Yt=>Yt.dispatch("ResizeEditor"),Ae=Yt=>lt=>lt.options.get(Yt),Ie=Yt=>{const lt=Yt.options.register;lt("autoresize_overflow_padding",{processor:"number",default:1}),lt("autoresize_bottom_margin",{processor:"number",default:50})},Ke=Ae("min_height"),ot=Ae("max_height"),Mt=Ae("autoresize_overflow_padding"),Oe=Ae("autoresize_bottom_margin"),un=Yt=>Yt.plugins.fullscreen&&Yt.plugins.fullscreen.isFullscreen(),On=(Yt,lt)=>{const qn=Yt.getBody();qn&&(qn.style.overflowY=lt?"":"hidden",lt||(qn.scrollTop=0))},xe=(Yt,lt,qn,fs)=>{var _o;const ht=parseInt((_o=Yt.getStyle(lt,qn,fs))!==null&&_o!==void 0?_o:"",10);return isNaN(ht)?0:ht},Go=Yt=>{if((Yt==null?void 0:Yt.type.toLowerCase())==="setcontent"){const lt=Yt;return lt.selection===!0||lt.paste===!0}else return!1},Co=(Yt,lt,qn,fs)=>{var _o;const ht=Yt.dom,eo=Yt.getDoc();if(!eo)return;if(un(Yt)){On(Yt,!0);return}const ks=eo.documentElement,Qo=fs?fs():Mt(Yt),s=(_o=Ke(Yt))!==null&&_o!==void 0?_o:Yt.getElement().offsetHeight;let b=s;const $=xe(ht,ks,"margin-top",!0),ge=xe(ht,ks,"margin-bottom",!0);let a=ks.offsetHeight+$+ge+Qo;a<0&&(a=0);const f=Yt.getContainer().offsetHeight,N=Yt.getContentAreaContainer().offsetHeight,O=f-N;a+O>s&&(b=a+O);const T=ot(Yt);T&&b>T?(b=T,On(Yt,!0)):On(Yt,!1);const L=lt.get();if(L.set&&(Yt.dom.setStyles(Yt.getDoc().documentElement,{"min-height":0}),Yt.dom.setStyles(Yt.getBody(),{"min-height":"inherit"})),b!==L.totalHeight&&(a-Qo!==L.contentHeight||!L.set)){const B=b-L.totalHeight;if(ht.setStyle(Yt.getContainer(),"height",b+"px"),lt.set({totalHeight:b,contentHeight:a,set:!0}),de(Yt),x.browser.isSafari()&&(x.os.isMacOS()||x.os.isiOS())){const G=Yt.getWin();G.scrollTo(G.pageXOffset,G.pageYOffset)}Yt.hasFocus()&&Go(qn)&&Yt.selection.scrollIntoView(),(x.browser.isSafari()||x.browser.isChromium())&&B<0&&Co(Yt,lt,qn,fs)}},Eo=(Yt,lt)=>{const qn=()=>Oe(Yt);Yt.on("init",fs=>{const _o=Mt(Yt),ht=Yt.dom;ht.setStyles(Yt.getDoc().documentElement,{height:"auto"}),x.browser.isEdge()||x.browser.isIE()?ht.setStyles(Yt.getBody(),{paddingLeft:_o,paddingRight:_o,"min-height":0}):ht.setStyles(Yt.getBody(),{paddingLeft:_o,paddingRight:_o}),Co(Yt,lt,fs,qn)}),Yt.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",fs=>{Co(Yt,lt,fs,qn)})},jt=(Yt,lt)=>{Yt.addCommand("mceAutoResize",()=>{Co(Yt,lt)})};var Wo=()=>{I.add("autoresize",Yt=>{if(Ie(Yt),Yt.options.isSet("resize")||Yt.options.set("resize",!1),!Yt.inline){const lt=E({totalHeight:0,contentHeight:0,set:!1});jt(Yt,lt),Eo(Yt,lt)}})};Wo()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const x=(tt=>ze=>tt===ze)(void 0),de=tt=>tt==null,Ae=tt=>!de(tt),Ie=tt=>()=>tt,Ke=Ie(!1);class ot{constructor(ze,Ze){this.tag=ze,this.value=Ze}static some(ze){return new ot(!0,ze)}static none(){return ot.singletonNone}fold(ze,Ze){return this.tag?Ze(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?ot.some(ze(this.value)):ot.none()}bind(ze){return this.tag?ze(this.value):ot.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:ot.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze??"Called getOrDie on None")}static from(ze){return Ae(ze)?ot.some(ze):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Mt=(tt,ze,Ze)=>{for(let qe=0,Fe=tt.length;qe<Fe;qe++){const Ye=tt[qe];if(ze(Ye,qe))return ot.some(Ye);if(Ze(Ye,qe))break}return ot.none()},Oe=(tt,ze)=>Mt(tt,ze,Ke),un=(tt,ze)=>{for(let Ze=0;Ze<tt.length;Ze++){const qe=ze(tt[Ze],Ze);if(qe.isSome())return qe}return ot.none()},On=(tt,ze,Ze=0,qe)=>{const Fe=tt.indexOf(ze,Ze);return Fe!==-1?x(qe)?!0:Fe+ze.length<=qe:!1},xe=tt=>{let ze=!1,Ze;return(...qe)=>(ze||(ze=!0,Ze=tt.apply(null,qe)),Ze)},Go=(tt,ze,Ze,qe)=>{const Fe=tt.isiOS()&&/ipad/i.test(Ze)===!0,Ye=tt.isiOS()&&!Fe,xt=tt.isiOS()||tt.isAndroid(),ft=xt||qe("(pointer:coarse)"),Ot=Fe||!Ye&&xt&&qe("(min-device-width:768px)"),Rt=Ye||xt&&!Ot,zt=ze.isSafari()&&tt.isiOS()&&/safari/i.test(Ze)===!1,Zt=!Rt&&!Ot&&!zt;return{isiPad:Ie(Fe),isiPhone:Ie(Ye),isTablet:Ie(Ot),isPhone:Ie(Rt),isTouch:Ie(ft),isAndroid:tt.isAndroid,isiOS:tt.isiOS,isWebView:Ie(zt),isDesktop:Ie(Zt)}},Co=(tt,ze)=>{for(let Ze=0;Ze<tt.length;Ze++){const qe=tt[Ze];if(qe.test(ze))return qe}},Eo=(tt,ze)=>{const Ze=Co(tt,ze);if(!Ze)return{major:0,minor:0};const qe=Fe=>Number(ze.replace(Ze,"$"+Fe));return Yt(qe(1),qe(2))},jt=(tt,ze)=>{const Ze=String(ze).toLowerCase();return tt.length===0?Wo():Eo(tt,Ze)},Wo=()=>Yt(0,0),Yt=(tt,ze)=>({major:tt,minor:ze}),lt={nu:Yt,detect:jt,unknown:Wo},qn=(tt,ze)=>un(ze.brands,Ze=>{const qe=Ze.brand.toLowerCase();return Oe(tt,Fe=>{var Ye;return qe===((Ye=Fe.brand)===null||Ye===void 0?void 0:Ye.toLowerCase())}).map(Fe=>({current:Fe.name,version:lt.nu(parseInt(Ze.version,10),0)}))}),fs=(tt,ze)=>{const Ze=String(ze).toLowerCase();return Oe(tt,qe=>qe.search(Ze))},_o=(tt,ze)=>fs(tt,ze).map(Ze=>{const qe=lt.detect(Ze.versionRegexes,ze);return{current:Ze.name,version:qe}}),ht=(tt,ze)=>fs(tt,ze).map(Ze=>{const qe=lt.detect(Ze.versionRegexes,ze);return{current:Ze.name,version:qe}}),eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ks=tt=>ze=>On(ze,tt),Qo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:tt=>On(tt,"edge/")&&On(tt,"chrome")&&On(tt,"safari")&&On(tt,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,eo],search:tt=>On(tt,"chrome")&&!On(tt,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:tt=>On(tt,"msie")||On(tt,"trident")},{name:"Opera",versionRegexes:[eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ks("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ks("firefox")},{name:"Safari",versionRegexes:[eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:tt=>(On(tt,"safari")||On(tt,"mobile/"))&&On(tt,"applewebkit")}],s=[{name:"Windows",search:ks("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:tt=>On(tt,"iphone")||On(tt,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ks("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ks("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ks("linux"),versionRegexes:[]},{name:"Solaris",search:ks("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ks("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ks("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],b={browsers:Ie(Qo),oses:Ie(s)},$="Edge",ge="Chromium",a="IE",f="Opera",N="Firefox",O="Safari",T=()=>L({current:void 0,version:lt.unknown()}),L=tt=>{const ze=tt.current,Ze=tt.version,qe=Fe=>()=>ze===Fe;return{current:ze,version:Ze,isEdge:qe($),isChromium:qe(ge),isIE:qe(a),isOpera:qe(f),isFirefox:qe(N),isSafari:qe(O)}},B={unknown:T,nu:L},G="Windows",P="iOS",F="Android",j="Linux",H="macOS",ee="Solaris",w="FreeBSD",he="ChromeOS",be=()=>se({current:void 0,version:lt.unknown()}),se=tt=>{const ze=tt.current,Ze=tt.version,qe=Fe=>()=>ze===Fe;return{current:ze,version:Ze,isWindows:qe(G),isiOS:qe(P),isAndroid:qe(F),isMacOS:qe(H),isLinux:qe(j),isSolaris:qe(ee),isFreeBSD:qe(w),isChromeOS:qe(he)}},re={unknown:be,nu:se},M={detect:(tt,ze,Ze)=>{const qe=b.browsers(),Fe=b.oses(),Ye=ze.bind(Ot=>qn(qe,Ot)).orThunk(()=>_o(qe,tt)).fold(B.unknown,B.nu),xt=ht(Fe,tt).fold(re.unknown,re.nu),ft=Go(xt,Ye,tt,Ze);return{browser:Ye,os:xt,deviceType:ft}}},W=tt=>window.matchMedia(tt).matches;let K=xe(()=>M.detect(window.navigator.userAgent,ot.from(window.navigator.userAgentData),W));const R=()=>K(),A=()=>R().os.isMacOS(),J=()=>R().os.isiOS(),V=()=>{const tt=A()||J();return`<script>(${(Ze=>{document.addEventListener("click",qe=>{for(let Fe=qe.target;Fe;Fe=Fe.parentNode)if(Fe.nodeName==="A"){const xt=Fe.getAttribute("href");if(xt&&xt.startsWith("#")){qe.preventDefault();const Ot=document.getElementById(xt.substring(1));Ot&&Ot.scrollIntoView({behavior:"smooth"});return}(Ze?qe.metaKey:qe.ctrlKey&&!qe.altKey)||qe.preventDefault()}},!1)}).toString()})(${tt})<\/script>`};var q=tinymce.util.Tools.resolve("tinymce.util.Tools");const ae=tt=>ze=>ze.options.get(tt),Le=ae("content_style"),Ee=ae("content_css_cors"),we=ae("body_class"),Ne=ae("body_id"),We=tt=>{var ze;let Ze="";const qe=tt.dom.encode,Fe=(ze=Le(tt))!==null&&ze!==void 0?ze:"";Ze+=`<base href="${qe(tt.documentBaseURI.getURI())}">`;const Ye=Ee(tt)?' crossorigin="anonymous"':"";q.each(tt.contentCSS,Zt=>{Ze+='<link type="text/css" rel="stylesheet" href="'+qe(tt.documentBaseURI.toAbsolute(Zt))+'"'+Ye+">"}),Fe&&(Ze+='<style type="text/css">'+Fe+"</style>");const xt=Ne(tt),ft=we(tt),Ot=tt.getBody().dir,Rt=Ot?' dir="'+qe(Ot)+'"':"";return"<!DOCTYPE html><html><head>"+Ze+'</head><body id="'+qe(xt)+'" class="mce-content-body '+qe(ft)+'"'+Rt+">"+tt.getContent()+V()+"</body></html>"},ct=tt=>{const ze=We(tt);tt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ze}}).focus("close")},nt=tt=>{tt.addCommand("mcePreview",()=>{ct(tt)})},st=tt=>{const ze=()=>tt.execCommand("mcePreview");tt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ze,context:"any"}),tt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ze,context:"any"})};var Me=()=>{E.add("preview",tt=>{nt(tt),st(tt)})};Me()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const x=(M=>W=>M===W)(null),de=M=>M,Ae=(M,W)=>{const K=M.length,R=new Array(K);for(let A=0;A<K;A++){const J=M[A];R[A]=W(J,A)}return R},Ie=(M,W)=>{let K=null;return{cancel:()=>{x(K)||(clearTimeout(K),K=null)},throttle:(...J)=>{x(K)&&(K=setTimeout(()=>{K=null,M.apply(null,J)},W))}}},Ke=M=>M.replace(/\uFEFF/g,""),Mt={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},Oe={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},un=[new RegExp(Mt.aletter),new RegExp(Mt.midnumlet),new RegExp(Mt.midletter),new RegExp(Mt.midnum),new RegExp(Mt.numeric),new RegExp(Mt.cr),new RegExp(Mt.lf),new RegExp(Mt.newline),new RegExp(Mt.extend),new RegExp(Mt.format),new RegExp(Mt.katakana),new RegExp(Mt.extendnumlet),new RegExp("@")],On="",xe=new RegExp("^"+Mt.punctuation+"$"),Go=/^\s+$/,Co=un,Eo=Oe.OTHER,jt=M=>{let W=Eo;const K=Co.length;for(let R=0;R<K;++R){const A=Co[R];if(A&&A.test(M)){W=R;break}}return W},Wo=M=>{const W={};return K=>{if(W[K])return W[K];{const R=M(K);return W[K]=R,R}}},Yt=M=>{const W=Wo(jt);return Ae(M,W)},lt=(M,W)=>{const K=M[W],R=M[W+1];if(W<0||W>M.length-1&&W!==0||K===Oe.ALETTER&&R===Oe.ALETTER)return!1;const A=M[W+2];if(K===Oe.ALETTER&&(R===Oe.MIDLETTER||R===Oe.MIDNUMLET||R===Oe.AT)&&A===Oe.ALETTER)return!1;const J=M[W-1];return(K===Oe.MIDLETTER||K===Oe.MIDNUMLET||R===Oe.AT)&&R===Oe.ALETTER&&J===Oe.ALETTER||(K===Oe.NUMERIC||K===Oe.ALETTER)&&(R===Oe.NUMERIC||R===Oe.ALETTER)||(K===Oe.MIDNUM||K===Oe.MIDNUMLET)&&R===Oe.NUMERIC&&J===Oe.NUMERIC||K===Oe.NUMERIC&&(R===Oe.MIDNUM||R===Oe.MIDNUMLET)&&A===Oe.NUMERIC||(K===Oe.EXTEND||K===Oe.FORMAT)&&(R===Oe.ALETTER||R===Oe.NUMERIC||R===Oe.KATAKANA||R===Oe.EXTEND||R===Oe.FORMAT)||(R===Oe.EXTEND||R===Oe.FORMAT&&(A===Oe.ALETTER||A===Oe.NUMERIC||A===Oe.KATAKANA||A===Oe.EXTEND||A===Oe.FORMAT))&&(K===Oe.ALETTER||K===Oe.NUMERIC||K===Oe.KATAKANA||K===Oe.EXTEND||K===Oe.FORMAT)||K===Oe.CR&&R===Oe.LF?!1:K===Oe.NEWLINE||K===Oe.CR||K===Oe.LF||R===Oe.NEWLINE||R===Oe.CR||R===Oe.LF?!0:!(K===Oe.KATAKANA&&R===Oe.KATAKANA||R===Oe.EXTENDNUMLET&&(K===Oe.ALETTER||K===Oe.NUMERIC||K===Oe.KATAKANA||K===Oe.EXTENDNUMLET)||K===Oe.EXTENDNUMLET&&(R===Oe.ALETTER||R===Oe.NUMERIC||R===Oe.KATAKANA)||K===Oe.AT)},qn=On,fs=Go,_o=xe,ht=M=>M==="http"||M==="https",eo=(M,W)=>{let K;for(K=W;K<M.length&&!fs.test(M[K]);K++);return K},ks=(M,W)=>{const K=eo(M,W+1);return M.slice(W+1,K).join(qn).substr(0,3)==="://"?K:W},Qo=(M,W,K,R)=>{const A=[],J=[];let V=[];for(let q=0;q<K.length;++q)if(V.push(M[q]),lt(K,q)){const ae=W[q];if((R.includeWhitespace||!fs.test(ae))&&(R.includePunctuation||!_o.test(ae))){const Le=q-V.length+1,Ee=q+1,we=W.slice(Le,Ee).join(qn);if(ht(we)){const Ne=ks(W,q),We=M.slice(Ee,Ne);Array.prototype.push.apply(V,We),q=Ne}W[q+1]==="."&&/^([a-zA-Z]\.)+$/.test(we+".")?(V.push(M[q+1]),J.push({start:Le,end:Ee+1})):J.push({start:Le,end:Ee}),A.push(V)}V=[]}return{words:A,indices:J}},s=()=>({includeWhitespace:!1,includePunctuation:!1}),b=(M,W,K)=>{K={...s(),...K};const R=Ae(M,W),A=Yt(R);return Qo(M,R,A,K)},ge=(M,W,K)=>b(M,W,K).words;var a=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const f=(M,W)=>{const K=W.getBlockElements(),R=W.getVoidElements(),A=Le=>K[Le.nodeName]||R[Le.nodeName],J=[];let V="";const q=new a(M,M);let ae;for(;ae=q.next();)ae.nodeType===3?V+=Ke(ae.data):A(ae)&&V.length&&(J.push(V),V="");return V.length&&J.push(V),J},N=M=>M.replace(/\u200B/g,""),O=M=>M.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,T=(M,W)=>{const K=N(f(M,W).join(`
`));return ge(K.split(""),de).length},L=(M,W)=>{const K=f(M,W).join("");return O(K)},B=(M,W)=>{const K=f(M,W).join("").replace(/\s/g,"");return O(K)},G=(M,W)=>()=>W(M.getBody(),M.schema),P=(M,W)=>()=>W(M.selection.getRng().cloneContents(),M.schema),F=M=>G(M,T),j=M=>({body:{getWordCount:F(M),getCharacterCount:G(M,L),getCharacterCountWithoutSpaces:G(M,B)},selection:{getWordCount:P(M,T),getCharacterCount:P(M,L),getCharacterCountWithoutSpaces:P(M,B)},getCount:F(M)}),H=(M,W)=>{M.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(W.body.getWordCount()),String(W.selection.getWordCount())],["Characters (no spaces)",String(W.body.getCharacterCountWithoutSpaces()),String(W.selection.getCharacterCountWithoutSpaces())],["Characters",String(W.body.getCharacterCount()),String(W.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},ee=(M,W)=>{M.addCommand("mceWordCount",()=>H(M,W))};var w=tinymce.util.Tools.resolve("tinymce.util.Delay");const he=(M,W)=>{M.dispatch("wordCountUpdate",{wordCount:{words:W.body.getWordCount(),characters:W.body.getCharacterCount(),charactersWithoutSpaces:W.body.getCharacterCountWithoutSpaces()}})},be=(M,W)=>{he(M,W)},se=(M,W,K)=>{const R=Ie(()=>be(M,W),K);M.on("init",()=>{be(M,W),w.setEditorTimeout(M,()=>{M.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",R.throttle)},0),M.on("remove",R.cancel)})},re=M=>{const W=()=>M.execCommand("mceWordCount");M.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:W,context:"any"}),M.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:W,context:"any"})};var ie=(M=300)=>{E.add("wordcount",W=>{const K=j(W);return ee(W,K),re(W),se(W,K,M),K})};ie()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=f=>f==null,x=f=>!I(f),de=()=>{},Ae=f=>()=>f;class Ie{constructor(N,O){this.tag=N,this.value=O}static some(N){return new Ie(!0,N)}static none(){return Ie.singletonNone}fold(N,O){return this.tag?O(this.value):N()}isSome(){return this.tag}isNone(){return!this.tag}map(N){return this.tag?Ie.some(N(this.value)):Ie.none()}bind(N){return this.tag?N(this.value):Ie.none()}exists(N){return this.tag&&N(this.value)}forall(N){return!this.tag||N(this.value)}filter(N){return!this.tag||N(this.value)?this:Ie.none()}getOr(N){return this.tag?this.value:N}or(N){return this.tag?this:N}getOrThunk(N){return this.tag?this.value:N()}orThunk(N){return this.tag?this:N()}getOrDie(N){if(this.tag)return this.value;throw new Error(N??"Called getOrDie on None")}static from(N){return x(N)?Ie.some(N):Ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(N){this.tag&&N(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ie.singletonNone=new Ie(!1);const Ke=(f,N)=>N>=0&&N<f.length?Ie.some(f[N]):Ie.none(),ot=f=>Ke(f,0),Mt=typeof window<"u"?window:Function("return this;")(),un=(f=>N=>N.replace(f,""))(/^\s+|\s+$/g);var On=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const xe=function(f,N,O){const T=window.Prism;window.Prism={manual:!0};var L=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var B=function(G){var P=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,F=0,j={},H={manual:G.Prism&&G.Prism.manual,disableWorkerMessageHandler:G.Prism&&G.Prism.disableWorkerMessageHandler,util:{encode:function R(A){return A instanceof ee?new ee(A.type,R(A.content),A.alias):Array.isArray(A)?A.map(R):A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(R){return Object.prototype.toString.call(R).slice(8,-1)},objId:function(R){return R.__id||Object.defineProperty(R,"__id",{value:++F}),R.__id},clone:function R(A,J){J=J||{};var V,q;switch(H.util.type(A)){case"Object":if(q=H.util.objId(A),J[q])return J[q];V={},J[q]=V;for(var ae in A)A.hasOwnProperty(ae)&&(V[ae]=R(A[ae],J));return V;case"Array":return q=H.util.objId(A),J[q]?J[q]:(V=[],J[q]=V,A.forEach(function(Le,Ee){V[Ee]=R(Le,J)}),V);default:return A}},getLanguage:function(R){for(;R;){var A=P.exec(R.className);if(A)return A[1].toLowerCase();R=R.parentElement}return"none"},setLanguage:function(R,A){R.className=R.className.replace(RegExp(P,"gi"),""),R.classList.add("language-"+A)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(V){var R=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(V.stack)||[])[1];if(R){var A=document.getElementsByTagName("script");for(var J in A)if(A[J].src==R)return A[J]}return null}},isActive:function(R,A,J){for(var V="no-"+A;R;){var q=R.classList;if(q.contains(A))return!0;if(q.contains(V))return!1;R=R.parentElement}return!!J}},languages:{plain:j,plaintext:j,text:j,txt:j,extend:function(R,A){var J=H.util.clone(H.languages[R]);for(var V in A)J[V]=A[V];return J},insertBefore:function(R,A,J,V){V=V||H.languages;var q=V[R],ae={};for(var Le in q)if(q.hasOwnProperty(Le)){if(Le==A)for(var Ee in J)J.hasOwnProperty(Ee)&&(ae[Ee]=J[Ee]);J.hasOwnProperty(Le)||(ae[Le]=q[Le])}var we=V[R];return V[R]=ae,H.languages.DFS(H.languages,function(Ne,We){We===we&&Ne!=R&&(this[Ne]=ae)}),ae},DFS:function R(A,J,V,q){q=q||{};var ae=H.util.objId;for(var Le in A)if(A.hasOwnProperty(Le)){J.call(A,Le,A[Le],V||Le);var Ee=A[Le],we=H.util.type(Ee);we==="Object"&&!q[ae(Ee)]?(q[ae(Ee)]=!0,R(Ee,J,null,q)):we==="Array"&&!q[ae(Ee)]&&(q[ae(Ee)]=!0,R(Ee,J,Le,q))}}},plugins:{},highlightAll:function(R,A){H.highlightAllUnder(document,R,A)},highlightAllUnder:function(R,A,J){var V={callback:J,container:R,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};H.hooks.run("before-highlightall",V),V.elements=Array.prototype.slice.apply(V.container.querySelectorAll(V.selector)),H.hooks.run("before-all-elements-highlight",V);for(var q=0,ae;ae=V.elements[q++];)H.highlightElement(ae,A===!0,V.callback)},highlightElement:function(R,A,J){var V=H.util.getLanguage(R),q=H.languages[V];H.util.setLanguage(R,V);var ae=R.parentElement;ae&&ae.nodeName.toLowerCase()==="pre"&&H.util.setLanguage(ae,V);var Le=R.textContent,Ee={element:R,language:V,grammar:q,code:Le};function we(We){Ee.highlightedCode=We,H.hooks.run("before-insert",Ee),Ee.element.innerHTML=Ee.highlightedCode,H.hooks.run("after-highlight",Ee),H.hooks.run("complete",Ee),J&&J.call(Ee.element)}if(H.hooks.run("before-sanity-check",Ee),ae=Ee.element.parentElement,ae&&ae.nodeName.toLowerCase()==="pre"&&!ae.hasAttribute("tabindex")&&ae.setAttribute("tabindex","0"),!Ee.code){H.hooks.run("complete",Ee),J&&J.call(Ee.element);return}if(H.hooks.run("before-highlight",Ee),!Ee.grammar){we(H.util.encode(Ee.code));return}if(A&&G.Worker){var Ne=new Worker(H.filename);Ne.onmessage=function(We){we(We.data)},Ne.postMessage(JSON.stringify({language:Ee.language,code:Ee.code,immediateClose:!0}))}else we(H.highlight(Ee.code,Ee.grammar,Ee.language))},highlight:function(R,A,J){var V={code:R,grammar:A,language:J};if(H.hooks.run("before-tokenize",V),!V.grammar)throw new Error('The language "'+V.language+'" has no grammar.');return V.tokens=H.tokenize(V.code,V.grammar),H.hooks.run("after-tokenize",V),ee.stringify(H.util.encode(V.tokens),V.language)},tokenize:function(R,A){var J=A.rest;if(J){for(var V in J)A[V]=J[V];delete A.rest}var q=new be;return se(q,q.head,R),he(R,q,A,q.head,0),ie(q)},hooks:{all:{},add:function(R,A){var J=H.hooks.all;J[R]=J[R]||[],J[R].push(A)},run:function(R,A){var J=H.hooks.all[R];if(!(!J||!J.length))for(var V=0,q;q=J[V++];)q(A)}},Token:ee};G.Prism=H;function ee(R,A,J,V){this.type=R,this.content=A,this.alias=J,this.length=(V||"").length|0}ee.stringify=function R(A,J){if(typeof A=="string")return A;if(Array.isArray(A)){var V="";return A.forEach(function(we){V+=R(we,J)}),V}var q={type:A.type,content:R(A.content,J),tag:"span",classes:["token",A.type],attributes:{},language:J},ae=A.alias;ae&&(Array.isArray(ae)?Array.prototype.push.apply(q.classes,ae):q.classes.push(ae)),H.hooks.run("wrap",q);var Le="";for(var Ee in q.attributes)Le+=" "+Ee+'="'+(q.attributes[Ee]||"").replace(/"/g,"&quot;")+'"';return"<"+q.tag+' class="'+q.classes.join(" ")+'"'+Le+">"+q.content+"</"+q.tag+">"};function w(R,A,J,V){R.lastIndex=A;var q=R.exec(J);if(q&&V&&q[1]){var ae=q[1].length;q.index+=ae,q[0]=q[0].slice(ae)}return q}function he(R,A,J,V,q,ae){for(var Le in J)if(!(!J.hasOwnProperty(Le)||!J[Le])){var Ee=J[Le];Ee=Array.isArray(Ee)?Ee:[Ee];for(var we=0;we<Ee.length;++we){if(ae&&ae.cause==Le+","+we)return;var Ne=Ee[we],We=Ne.inside,ct=!!Ne.lookbehind,nt=!!Ne.greedy,st=Ne.alias;if(nt&&!Ne.pattern.global){var Me=Ne.pattern.toString().match(/[imsuy]*$/)[0];Ne.pattern=RegExp(Ne.pattern.source,Me+"g")}for(var tt=Ne.pattern||Ne,ze=V.next,Ze=q;ze!==A.tail&&!(ae&&Ze>=ae.reach);Ze+=ze.value.length,ze=ze.next){var qe=ze.value;if(A.length>R.length)return;if(!(qe instanceof ee)){var Fe=1,Ye;if(nt){if(Ye=w(tt,Ze,R,ct),!Ye||Ye.index>=R.length)break;var Rt=Ye.index,xt=Ye.index+Ye[0].length,ft=Ze;for(ft+=ze.value.length;Rt>=ft;)ze=ze.next,ft+=ze.value.length;if(ft-=ze.value.length,Ze=ft,ze.value instanceof ee)continue;for(var Ot=ze;Ot!==A.tail&&(ft<xt||typeof Ot.value=="string");Ot=Ot.next)Fe++,ft+=Ot.value.length;Fe--,qe=R.slice(Ze,ft),Ye.index-=Ze}else if(Ye=w(tt,0,qe,ct),!Ye)continue;var Rt=Ye.index,zt=Ye[0],Zt=qe.slice(0,Rt),wn=qe.slice(Rt+zt.length),Zn=Ze+qe.length;ae&&Zn>ae.reach&&(ae.reach=Zn);var et=ze.prev;Zt&&(et=se(A,et,Zt),Ze+=Zt.length),re(A,et,Fe);var wt=new ee(Le,We?H.tokenize(zt,We):zt,st,zt);if(ze=se(A,et,wt),wn&&se(A,ze,wn),Fe>1){var It={cause:Le+","+we,reach:Zn};he(R,A,J,ze.prev,Ze,It),ae&&It.reach>ae.reach&&(ae.reach=It.reach)}}}}}}function be(){var R={value:null,prev:null,next:null},A={value:null,prev:R,next:null};R.next=A,this.head=R,this.tail=A,this.length=0}function se(R,A,J){var V=A.next,q={value:J,prev:A,next:V};return A.next=q,V.prev=q,R.length++,q}function re(R,A,J){for(var V=A.next,q=0;q<J&&V!==R.tail;q++)V=V.next;A.next=V,V.prev=A,R.length-=q}function ie(R){for(var A=[],J=R.head.next;J!==R.tail;)A.push(J.value),J=J.next;return A}if(!G.document)return G.addEventListener&&(H.disableWorkerMessageHandler||G.addEventListener("message",function(R){var A=JSON.parse(R.data),J=A.language,V=A.code,q=A.immediateClose;G.postMessage(H.highlight(V,H.languages[J],J)),q&&G.close()},!1)),H;var M=H.util.currentScript();M&&(H.filename=M.src,M.hasAttribute("data-manual")&&(H.manual=!0));function W(){H.manual||H.highlightAll()}if(!H.manual){var K=document.readyState;K==="loading"||K==="interactive"&&M&&M.defer?document.addEventListener("DOMContentLoaded",W):window.requestAnimationFrame?window.requestAnimationFrame(W):window.setTimeout(W,16)}return H}(L);return B.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(G){function P(F,j){return"___"+F.toUpperCase()+j+"___"}Object.defineProperties(G.languages["markup-templating"]={},{buildPlaceholders:{value:function(F,j,H,ee){if(F.language===j){var w=F.tokenStack=[];F.code=F.code.replace(H,function(he){if(typeof ee=="function"&&!ee(he))return he;for(var be=w.length,se;F.code.indexOf(se=P(j,be))!==-1;)++be;return w[be]=he,se}),F.grammar=G.languages.markup}}},tokenizePlaceholders:{value:function(F,j){if(F.language!==j||!F.tokenStack)return;F.grammar=G.languages[j];var H=0,ee=Object.keys(F.tokenStack);function w(he){for(var be=0;be<he.length&&!(H>=ee.length);be++){var se=he[be];if(typeof se=="string"||se.content&&typeof se.content=="string"){var re=ee[H],ie=F.tokenStack[re],M=typeof se=="string"?se:se.content,W=P(j,re),K=M.indexOf(W);if(K>-1){++H;var R=M.substring(0,K),A=new G.Token(j,G.tokenize(ie,F.grammar),"language-"+j,ie),J=M.substring(K+W.length),V=[];R&&V.push.apply(V,w([R])),V.push(A),J&&V.push.apply(V,w([J])),typeof se=="string"?he.splice.apply(he,[be,1].concat(V)):se.content=V}}else se.content&&w(se.content)}return he}w(F.tokens)}}})}(B),B.languages.c=B.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),B.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),B.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},B.languages.c.string],char:B.languages.c.char,comment:B.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:B.languages.c}}}}),B.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete B.languages.c.boolean,function(G){var P=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,F=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return P.source});G.languages.cpp=G.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return P.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:P,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),G.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return F})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),G.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:G.languages.cpp}}}}),G.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),G.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:G.languages.extend("cpp",{})}}),G.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},G.languages.cpp["base-clause"])}(B),function(G){function P(Ye,xt){return Ye.replace(/<<(\d+)>>/g,function(ft,Ot){return"(?:"+xt[+Ot]+")"})}function F(Ye,xt,ft){return RegExp(P(Ye,xt),"")}function j(Ye,xt){for(var ft=0;ft<xt;ft++)Ye=Ye.replace(/<<self>>/g,function(){return"(?:"+Ye+")"});return Ye.replace(/<<self>>/g,"[^\\s\\S]")}var H={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function ee(Ye){return"\\b(?:"+Ye.trim().replace(/ /g,"|")+")\\b"}var w=ee(H.typeDeclaration),he=RegExp(ee(H.type+" "+H.typeDeclaration+" "+H.contextual+" "+H.other)),be=ee(H.typeDeclaration+" "+H.contextual+" "+H.other),se=ee(H.type+" "+H.typeDeclaration+" "+H.other),re=j(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),ie=j(/\((?:[^()]|<<self>>)*\)/.source,2),M=/@?\b[A-Za-z_]\w*\b/.source,W=P(/<<0>>(?:\s*<<1>>)?/.source,[M,re]),K=P(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[be,W]),R=/\[\s*(?:,\s*)*\]/.source,A=P(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[K,R]),J=P(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[re,ie,R]),V=P(/\(<<0>>+(?:,<<0>>+)+\)/.source,[J]),q=P(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[V,K,R]),ae={keyword:he,punctuation:/[<>()?,.:[\]]/},Le=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Ee=/"(?:\\.|[^\\"\r\n])*"/.source,we=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;G.languages.csharp=G.languages.extend("clike",{string:[{pattern:F(/(^|[^$\\])<<0>>/.source,[we]),lookbehind:!0,greedy:!0},{pattern:F(/(^|[^@$\\])<<0>>/.source,[Ee]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:F(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[K]),lookbehind:!0,inside:ae},{pattern:F(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[M,q]),lookbehind:!0,inside:ae},{pattern:F(/(\busing\s+)<<0>>(?=\s*=)/.source,[M]),lookbehind:!0},{pattern:F(/(\b<<0>>\s+)<<1>>/.source,[w,W]),lookbehind:!0,inside:ae},{pattern:F(/(\bcatch\s*\(\s*)<<0>>/.source,[K]),lookbehind:!0,inside:ae},{pattern:F(/(\bwhere\s+)<<0>>/.source,[M]),lookbehind:!0},{pattern:F(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[A]),lookbehind:!0,inside:ae},{pattern:F(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[q,se,M]),inside:ae}],keyword:he,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),G.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),G.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:F(/([(,]\s*)<<0>>(?=\s*:)/.source,[M]),lookbehind:!0,alias:"punctuation"}}),G.languages.insertBefore("csharp","class-name",{namespace:{pattern:F(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[M]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:F(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[ie]),lookbehind:!0,alias:"class-name",inside:ae},"return-type":{pattern:F(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[q,K]),inside:ae,alias:"class-name"},"constructor-invocation":{pattern:F(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[q]),lookbehind:!0,inside:ae,alias:"class-name"},"generic-method":{pattern:F(/<<0>>\s*<<1>>(?=\s*\()/.source,[M,re]),inside:{function:F(/^<<0>>/.source,[M]),generic:{pattern:RegExp(re),alias:"class-name",inside:ae}}},"type-list":{pattern:F(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[w,W,M,q,he.source,ie,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:F(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[W,ie]),lookbehind:!0,greedy:!0,inside:G.languages.csharp},keyword:he,"class-name":{pattern:RegExp(q),greedy:!0,inside:ae},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Ne=Ee+"|"+Le,We=P(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Ne]),ct=j(P(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[We]),2),nt=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,st=P(/<<0>>(?:\s*\(<<1>>*\))?/.source,[K,ct]);G.languages.insertBefore("csharp","class-name",{attribute:{pattern:F(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[nt,st]),lookbehind:!0,greedy:!0,inside:{target:{pattern:F(/^<<0>>(?=\s*:)/.source,[nt]),alias:"keyword"},"attribute-arguments":{pattern:F(/\(<<0>>*\)/.source,[ct]),inside:G.languages.csharp},"class-name":{pattern:RegExp(K),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Me=/:[^}\r\n]+/.source,tt=j(P(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[We]),2),ze=P(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[tt,Me]),Ze=j(P(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Ne]),2),qe=P(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ze,Me]);function Fe(Ye,xt){return{interpolation:{pattern:F(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ye]),lookbehind:!0,inside:{"format-string":{pattern:F(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[xt,Me]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:G.languages.csharp}}},string:/[\s\S]+/}}G.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:F(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[ze]),lookbehind:!0,greedy:!0,inside:Fe(ze,tt)},{pattern:F(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[qe]),lookbehind:!0,greedy:!0,inside:Fe(qe,Ze)}],char:{pattern:RegExp(Le),greedy:!0}}),G.languages.dotnet=G.languages.cs=G.languages.csharp}(B),function(G){var P=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;G.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+P.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+P.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+P.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+P.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:P,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},G.languages.css.atrule.inside.rest=G.languages.css;var F=G.languages.markup;F&&(F.tag.addInlined("style","css"),F.tag.addAttribute("style","css"))}(B),function(G){var P=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,F=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,j={pattern:RegExp(/(^|[^\w.])/.source+F+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};G.languages.java=G.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[j,{pattern:RegExp(/(^|[^\w.])/.source+F+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:j.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+F+/[A-Z]\w*\b/.source),lookbehind:!0,inside:j.inside}],keyword:P,function:[G.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),G.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),G.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":j,keyword:P,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+F+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:j.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+F+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:j.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return P.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(B),B.languages.javascript=B.languages.extend("clike",{"class-name":[B.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),B.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,B.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:B.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:B.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:B.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:B.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:B.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),B.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:B.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),B.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),B.languages.markup&&(B.languages.markup.tag.addInlined("script","javascript"),B.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),B.languages.js=B.languages.javascript,B.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},B.languages.markup.tag.inside["attr-value"].inside.entity=B.languages.markup.entity,B.languages.markup.doctype.inside["internal-subset"].inside=B.languages.markup,B.hooks.add("wrap",function(G){G.type==="entity"&&(G.attributes.title=G.content.replace(/&amp;/,"&"))}),Object.defineProperty(B.languages.markup.tag,"addInlined",{value:function(P,F){var j={};j["language-"+F]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:B.languages[F]},j.cdata=/^<!\[CDATA\[|\]\]>$/i;var H={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:j}};H["language-"+F]={pattern:/[\s\S]+/,inside:B.languages[F]};var ee={};ee[P]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return P}),"i"),lookbehind:!0,greedy:!0,inside:H},B.languages.insertBefore("markup","cdata",ee)}}),Object.defineProperty(B.languages.markup.tag,"addAttribute",{value:function(G,P){B.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+G+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[P,"language-"+P],inside:B.languages[P]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),B.languages.html=B.languages.markup,B.languages.mathml=B.languages.markup,B.languages.svg=B.languages.markup,B.languages.xml=B.languages.extend("markup",{}),B.languages.ssml=B.languages.xml,B.languages.atom=B.languages.xml,B.languages.rss=B.languages.xml,function(G){var P=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,F=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],j=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,H=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,ee=/[{}\[\](),:;]/;G.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:P,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:F,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:j,operator:H,punctuation:ee};var w={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:G.languages.php},he=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:w}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:w}}];G.languages.insertBefore("php","variable",{string:he,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:P,string:he,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:F,number:j,operator:H,punctuation:ee}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),G.hooks.add("before-tokenize",function(be){if(/<\?/.test(be.code)){var se=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;G.languages["markup-templating"].buildPlaceholders(be,"php",se)}}),G.hooks.add("after-tokenize",function(be){G.languages["markup-templating"].tokenizePlaceholders(be,"php")})}(B),B.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},B.languages.python["string-interpolation"].inside.interpolation.inside.rest=B.languages.python,B.languages.py=B.languages.python,function(G){G.languages.ruby=G.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),G.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var P={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:G.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete G.languages.ruby.function;var F="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",j=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;G.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+F+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:P,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:P,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+j),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+j+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),G.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+F),greedy:!0,inside:{interpolation:P,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:P,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:P,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+F),greedy:!0,inside:{interpolation:P,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:P,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete G.languages.ruby.string,G.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),G.languages.rb=G.languages.ruby}(B),window.Prism=T,B}(),Go=f=>N=>N.options.get(f),Co=f=>{const N=f.options.register;N("codesample_languages",{processor:"object[]"}),N("codesample_global_prismjs",{processor:"boolean",default:!1})},Eo=Go("codesample_languages"),jt=Go("codesample_global_prismjs"),Wo=f=>Mt.Prism&&jt(f)?Mt.Prism:xe,Yt=f=>x(f)&&f.nodeName==="PRE"&&f.className.indexOf("language-")!==-1,lt=f=>{const N=f.selection?f.selection.getNode():null;return Yt(N)?Ie.some(N):Ie.none()},qn=(f,N,O)=>{const T=f.dom;f.undoManager.transact(()=>{const L=lt(f);return O=On.DOM.encode(O),L.fold(()=>{f.insertContent('<pre id="__new" class="language-'+N+'">'+O+"</pre>");const B=T.select("#__new")[0];T.setAttrib(B,"id",null),f.selection.select(B)},B=>{T.setAttrib(B,"class","language-"+N),B.innerHTML=O,Wo(f).highlightElement(B),f.selection.select(B)})})},fs=f=>lt(f).bind(O=>Ie.from(O.textContent)).getOr(""),_o=f=>{const N=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],O=Eo(f);return O||N},ht=(f,N)=>lt(f).fold(()=>N,T=>{const L=T.className.match(/language-(\w+)/);return L?L[1]:N}),eo=f=>{const N=_o(f),O=ot(N).fold(Ae(""),B=>B.value),T=ht(f,O),L=fs(f);f.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:N},{type:"textarea",name:"code",label:"Code view",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:T,code:L},onSubmit:B=>{const G=B.getData();qn(f,G.language,G.code),B.close()}})},ks=f=>{f.addCommand("codesample",()=>{const N=f.selection.getNode();f.selection.isCollapsed()||Yt(N)?eo(f):f.formatter.toggle("code")})};var Qo=tinymce.util.Tools.resolve("tinymce.util.Tools");const s=f=>{f.on("PreProcess",N=>{const O=f.dom,T=O.select("pre[contenteditable=false]",N.node);Qo.each(Qo.grep(T,Yt),L=>{const B=L.textContent;O.setAttrib(L,"class",un(O.getAttrib(L,"class"))),O.setAttrib(L,"contentEditable",null),O.setAttrib(L,"data-mce-highlighted",null);let G;for(;G=L.firstChild;)L.removeChild(G);const P=O.add(L,"code");P.textContent=B})}),f.on("SetContent",()=>{const N=f.dom,O=Qo.grep(N.select("pre"),T=>Yt(T)&&N.getAttrib(T,"data-mce-highlighted")!=="true");O.length&&f.undoManager.transact(()=>{Qo.each(O,T=>{var L;Qo.each(N.select("br",T),B=>{N.replace(f.getDoc().createTextNode(`
`),B)}),T.innerHTML=N.encode((L=T.textContent)!==null&&L!==void 0?L:""),Wo(f).highlightElement(T),N.setAttrib(T,"data-mce-highlighted",!0),T.className=un(T.className)})})}),f.on("PreInit",()=>{f.parser.addNodeFilter("pre",N=>{var O;for(let T=0,L=N.length;T<L;T++){const B=N[T];((O=B.attr("class"))!==null&&O!==void 0?O:"").indexOf("language-")!==-1&&(B.attr("contenteditable","false"),B.attr("data-mce-highlighted","false"))}})})},b=(f,N=de)=>O=>{const T=()=>{O.setEnabled(f.selection.isEditable()),N(O)};return f.on("NodeChange",T),T(),()=>{f.off("NodeChange",T)}},$=f=>{const N=f.selection.getStart();return f.dom.is(N,'pre[class*="language-"]')},ge=f=>{const N=()=>f.execCommand("codesample");f.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:N,onSetup:b(f,O=>{O.setActive($(f))})}),f.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:N,onSetup:b(f)})};var a=()=>{E.add("codesample",f=>{Co(f),s(f),ge(f),ks(f),f.on("dblclick",N=>{Yt(N.target)&&eo(f)})})};a()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const I=(ot,Mt)=>{ot.focus(),ot.undoManager.transact(()=>{ot.setContent(Mt)}),ot.selection.setCursorLocation(),ot.nodeChanged()},x=ot=>ot.getContent({source_view:!0}),de=ot=>{const Mt=x(ot);ot.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Mt},onSubmit:Oe=>{I(ot,Oe.getData().code),Oe.close()}})},Ae=ot=>{ot.addCommand("mceCodeEditor",()=>{de(ot)})},Ie=ot=>{const Mt=()=>ot.execCommand("mceCodeEditor");ot.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Mt}),ot.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Mt})};var Ke=()=>{E.add("code",ot=>(Ae(ot),Ie(ot),{}))};Ke()})();window.Alpine=Ote;Ote.start();window.FroalaEditor=Cre;window.tinymce=kre;
