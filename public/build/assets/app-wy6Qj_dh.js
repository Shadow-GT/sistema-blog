function ZJ(E,R){return function(){return E.apply(R,arguments)}}const{toString:Ite}=Object.prototype,{getPrototypeOf:WX}=Object,{iterator:MP,toStringTag:GJ}=Symbol,IP=(E=>R=>{const x=Ite.call(R);return E[x]||(E[x]=x.slice(8,-1).toLowerCase())})(Object.create(null)),Dg=E=>(E=E.toLowerCase(),R=>IP(R)===E),BP=E=>R=>typeof R===E,{isArray:By}=Array,kA=BP("undefined");function LA(E){return E!==null&&!kA(E)&&E.constructor!==null&&!kA(E.constructor)&&xf(E.constructor.isBuffer)&&E.constructor.isBuffer(E)}const YJ=Dg("ArrayBuffer");function Bte(E){let R;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?R=ArrayBuffer.isView(E):R=E&&E.buffer&&YJ(E.buffer),R}const Fte=BP("string"),xf=BP("function"),qJ=BP("number"),DA=E=>E!==null&&typeof E=="object",Pte=E=>E===!0||E===!1,EP=E=>{if(IP(E)!=="object")return!1;const R=WX(E);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(GJ in E)&&!(MP in E)},$te=E=>{if(!DA(E)||LA(E))return!1;try{return Object.keys(E).length===0&&Object.getPrototypeOf(E)===Object.prototype}catch{return!1}},Hte=Dg("Date"),zte=Dg("File"),Ute=Dg("Blob"),Vte=Dg("FileList"),Wte=E=>DA(E)&&xf(E.pipe),Kte=E=>{let R;return E&&(typeof FormData=="function"&&E instanceof FormData||xf(E.append)&&((R=IP(E))==="formdata"||R==="object"&&xf(E.toString)&&E.toString()==="[object FormData]"))},jte=Dg("URLSearchParams"),[Zte,Gte,Yte,qte]=["ReadableStream","Request","Response","Headers"].map(Dg),Xte=E=>E.trim?E.trim():E.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function NA(E,R,{allOwnKeys:x=!1}={}){if(E===null||typeof E>"u")return;let ce,ke;if(typeof E!="object"&&(E=[E]),By(E))for(ce=0,ke=E.length;ce<ke;ce++)R.call(null,E[ce],ce,E);else{if(LA(E))return;const He=x?Object.getOwnPropertyNames(E):Object.keys(E),je=He.length;let dt;for(ce=0;ce<je;ce++)dt=He[ce],R.call(null,E[dt],dt,E)}}function XJ(E,R){if(LA(E))return null;R=R.toLowerCase();const x=Object.keys(E);let ce=x.length,ke;for(;ce-- >0;)if(ke=x[ce],R===ke.toLowerCase())return ke;return null}const U6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QJ=E=>!kA(E)&&E!==U6;function CX(){const{caseless:E}=QJ(this)&&this||{},R={},x=(ce,ke)=>{const He=E&&XJ(R,ke)||ke;EP(R[He])&&EP(ce)?R[He]=CX(R[He],ce):EP(ce)?R[He]=CX({},ce):By(ce)?R[He]=ce.slice():R[He]=ce};for(let ce=0,ke=arguments.length;ce<ke;ce++)arguments[ce]&&NA(arguments[ce],x);return R}const Qte=(E,R,x,{allOwnKeys:ce}={})=>(NA(R,(ke,He)=>{x&&xf(ke)?E[He]=ZJ(ke,x):E[He]=ke},{allOwnKeys:ce}),E),Jte=E=>(E.charCodeAt(0)===65279&&(E=E.slice(1)),E),ene=(E,R,x,ce)=>{E.prototype=Object.create(R.prototype,ce),E.prototype.constructor=E,Object.defineProperty(E,"super",{value:R.prototype}),x&&Object.assign(E.prototype,x)},tne=(E,R,x,ce)=>{let ke,He,je;const dt={};if(R=R||{},E==null)return R;do{for(ke=Object.getOwnPropertyNames(E),He=ke.length;He-- >0;)je=ke[He],(!ce||ce(je,E,R))&&!dt[je]&&(R[je]=E[je],dt[je]=!0);E=x!==!1&&WX(E)}while(E&&(!x||x(E,R))&&E!==Object.prototype);return R},nne=(E,R,x)=>{E=String(E),(x===void 0||x>E.length)&&(x=E.length),x-=R.length;const ce=E.indexOf(R,x);return ce!==-1&&ce===x},one=E=>{if(!E)return null;if(By(E))return E;let R=E.length;if(!qJ(R))return null;const x=new Array(R);for(;R-- >0;)x[R]=E[R];return x},sne=(E=>R=>E&&R instanceof E)(typeof Uint8Array<"u"&&WX(Uint8Array)),rne=(E,R)=>{const ce=(E&&E[MP]).call(E);let ke;for(;(ke=ce.next())&&!ke.done;){const He=ke.value;R.call(E,He[0],He[1])}},ane=(E,R)=>{let x;const ce=[];for(;(x=E.exec(R))!==null;)ce.push(x);return ce},ine=Dg("HTMLFormElement"),lne=E=>E.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(x,ce,ke){return ce.toUpperCase()+ke}),yJ=(({hasOwnProperty:E})=>(R,x)=>E.call(R,x))(Object.prototype),cne=Dg("RegExp"),JJ=(E,R)=>{const x=Object.getOwnPropertyDescriptors(E),ce={};NA(x,(ke,He)=>{let je;(je=R(ke,He,E))!==!1&&(ce[He]=je||ke)}),Object.defineProperties(E,ce)},dne=E=>{JJ(E,(R,x)=>{if(xf(E)&&["arguments","caller","callee"].indexOf(x)!==-1)return!1;const ce=E[x];if(xf(ce)){if(R.enumerable=!1,"writable"in R){R.writable=!1;return}R.set||(R.set=()=>{throw Error("Can not rewrite read-only method '"+x+"'")})}})},une=(E,R)=>{const x={},ce=ke=>{ke.forEach(He=>{x[He]=!0})};return By(E)?ce(E):ce(String(E).split(R)),x},fne=()=>{},pne=(E,R)=>E!=null&&Number.isFinite(E=+E)?E:R;function gne(E){return!!(E&&xf(E.append)&&E[GJ]==="FormData"&&E[MP])}const mne=E=>{const R=new Array(10),x=(ce,ke)=>{if(DA(ce)){if(R.indexOf(ce)>=0)return;if(LA(ce))return ce;if(!("toJSON"in ce)){R[ke]=ce;const He=By(ce)?[]:{};return NA(ce,(je,dt)=>{const Ft=x(je,ke+1);!kA(Ft)&&(He[dt]=Ft)}),R[ke]=void 0,He}}return ce};return x(E,0)},hne=Dg("AsyncFunction"),bne=E=>E&&(DA(E)||xf(E))&&xf(E.then)&&xf(E.catch),eee=((E,R)=>E?setImmediate:R?((x,ce)=>(U6.addEventListener("message",({source:ke,data:He})=>{ke===U6&&He===x&&ce.length&&ce.shift()()},!1),ke=>{ce.push(ke),U6.postMessage(x,"*")}))(`axios@${Math.random()}`,[]):x=>setTimeout(x))(typeof setImmediate=="function",xf(U6.postMessage)),vne=typeof queueMicrotask<"u"?queueMicrotask.bind(U6):typeof process<"u"&&process.nextTick||eee,xne=E=>E!=null&&xf(E[MP]),qn={isArray:By,isArrayBuffer:YJ,isBuffer:LA,isFormData:Kte,isArrayBufferView:Bte,isString:Fte,isNumber:qJ,isBoolean:Pte,isObject:DA,isPlainObject:EP,isEmptyObject:$te,isReadableStream:Zte,isRequest:Gte,isResponse:Yte,isHeaders:qte,isUndefined:kA,isDate:Hte,isFile:zte,isBlob:Ute,isRegExp:cne,isFunction:xf,isStream:Wte,isURLSearchParams:jte,isTypedArray:sne,isFileList:Vte,forEach:NA,merge:CX,extend:Qte,trim:Xte,stripBOM:Jte,inherits:ene,toFlatObject:tne,kindOf:IP,kindOfTest:Dg,endsWith:nne,toArray:one,forEachEntry:rne,matchAll:ane,isHTMLForm:ine,hasOwnProperty:yJ,hasOwnProp:yJ,reduceDescriptors:JJ,freezeMethods:dne,toObjectSet:une,toCamelCase:lne,noop:fne,toFiniteNumber:pne,findKey:XJ,global:U6,isContextDefined:QJ,isSpecCompliantForm:gne,toJSONObject:mne,isAsyncFn:hne,isThenable:bne,setImmediate:eee,asap:vne,isIterable:xne};function Fr(E,R,x,ce,ke){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=E,this.name="AxiosError",R&&(this.code=R),x&&(this.config=x),ce&&(this.request=ce),ke&&(this.response=ke,this.status=ke.status?ke.status:null)}qn.inherits(Fr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qn.toJSONObject(this.config),code:this.code,status:this.status}}});const tee=Fr.prototype,nee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(E=>{nee[E]={value:E}});Object.defineProperties(Fr,nee);Object.defineProperty(tee,"isAxiosError",{value:!0});Fr.from=(E,R,x,ce,ke,He)=>{const je=Object.create(tee);return qn.toFlatObject(E,je,function(Ft){return Ft!==Error.prototype},dt=>dt!=="isAxiosError"),Fr.call(je,E.message,R,x,ce,ke),je.cause=E,je.name=E.name,He&&Object.assign(je,He),je};const yne=null;function _X(E){return qn.isPlainObject(E)||qn.isArray(E)}function oee(E){return qn.endsWith(E,"[]")?E.slice(0,-2):E}function CJ(E,R,x){return E?E.concat(R).map(function(ke,He){return ke=oee(ke),!x&&He?"["+ke+"]":ke}).join(x?".":""):R}function Cne(E){return qn.isArray(E)&&!E.some(_X)}const _ne=qn.toFlatObject(qn,{},null,function(R){return/^is[A-Z]/.test(R)});function FP(E,R,x){if(!qn.isObject(E))throw new TypeError("target must be an object");R=R||new FormData,x=qn.toFlatObject(x,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ao,jt){return!qn.isUndefined(jt[Ao])});const ce=x.metaTokens,ke=x.visitor||pn,He=x.dots,je=x.indexes,Ft=(x.Blob||typeof Blob<"u"&&Blob)&&qn.isSpecCompliantForm(R);if(!qn.isFunction(ke))throw new TypeError("visitor must be a function");function Oe(_o){if(_o===null)return"";if(qn.isDate(_o))return _o.toISOString();if(qn.isBoolean(_o))return _o.toString();if(!Ft&&qn.isBlob(_o))throw new Fr("Blob is not supported. Use a Buffer instead.");return qn.isArrayBuffer(_o)||qn.isTypedArray(_o)?Ft&&typeof Blob=="function"?new Blob([_o]):Buffer.from(_o):_o}function pn(_o,Ao,jt){let Zo=_o;if(_o&&!jt&&typeof _o=="object"){if(qn.endsWith(Ao,"{}"))Ao=ce?Ao:Ao.slice(0,-2),_o=JSON.stringify(_o);else if(qn.isArray(_o)&&Cne(_o)||(qn.isFileList(_o)||qn.endsWith(Ao,"[]"))&&(Zo=qn.toArray(_o)))return Ao=oee(Ao),Zo.forEach(function(lt,Xn){!(qn.isUndefined(lt)||lt===null)&&R.append(je===!0?CJ([Ao],Xn,He):je===null?Ao:Ao+"[]",Oe(lt))}),!1}return _X(_o)?!0:(R.append(CJ(jt,Ao,He),Oe(_o)),!1)}const On=[],ve=Object.assign(_ne,{defaultVisitor:pn,convertValue:Oe,isVisitable:_X});function es(_o,Ao){if(!qn.isUndefined(_o)){if(On.indexOf(_o)!==-1)throw Error("Circular reference detected in "+Ao.join("."));On.push(_o),qn.forEach(_o,function(Zo,Xt){(!(qn.isUndefined(Zo)||Zo===null)&&ke.call(R,Zo,qn.isString(Xt)?Xt.trim():Xt,Ao,ve))===!0&&es(Zo,Ao?Ao.concat(Xt):[Xt])}),On.pop()}}if(!qn.isObject(E))throw new TypeError("data must be an object");return es(E),R}function _J(E){const R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(E).replace(/[!'()~]|%20|%00/g,function(ce){return R[ce]})}function KX(E,R){this._pairs=[],E&&FP(E,this,R)}const see=KX.prototype;see.append=function(R,x){this._pairs.push([R,x])};see.toString=function(R){const x=R?function(ce){return R.call(this,ce,_J)}:_J;return this._pairs.map(function(ke){return x(ke[0])+"="+x(ke[1])},"").join("&")};function Ene(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ree(E,R,x){if(!R)return E;const ce=x&&x.encode||Ene;qn.isFunction(x)&&(x={serialize:x});const ke=x&&x.serialize;let He;if(ke?He=ke(R,x):He=qn.isURLSearchParams(R)?R.toString():new KX(R,x).toString(ce),He){const je=E.indexOf("#");je!==-1&&(E=E.slice(0,je)),E+=(E.indexOf("?")===-1?"?":"&")+He}return E}class EJ{constructor(){this.handlers=[]}use(R,x,ce){return this.handlers.push({fulfilled:R,rejected:x,synchronous:ce?ce.synchronous:!1,runWhen:ce?ce.runWhen:null}),this.handlers.length-1}eject(R){this.handlers[R]&&(this.handlers[R]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(R){qn.forEach(this.handlers,function(ce){ce!==null&&R(ce)})}}const aee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wne=typeof URLSearchParams<"u"?URLSearchParams:KX,Sne=typeof FormData<"u"?FormData:null,Tne=typeof Blob<"u"?Blob:null,Ane={isBrowser:!0,classes:{URLSearchParams:wne,FormData:Sne,Blob:Tne},protocols:["http","https","file","blob","url","data"]},jX=typeof window<"u"&&typeof document<"u",EX=typeof navigator=="object"&&navigator||void 0,kne=jX&&(!EX||["ReactNative","NativeScript","NS"].indexOf(EX.product)<0),One=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lne=jX&&window.location.href||"http://localhost",Dne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jX,hasStandardBrowserEnv:kne,hasStandardBrowserWebWorkerEnv:One,navigator:EX,origin:Lne},Symbol.toStringTag,{value:"Module"})),Jd={...Dne,...Ane};function Nne(E,R){return FP(E,new Jd.classes.URLSearchParams,{visitor:function(x,ce,ke,He){return Jd.isNode&&qn.isBuffer(x)?(this.append(ce,x.toString("base64")),!1):He.defaultVisitor.apply(this,arguments)},...R})}function Rne(E){return qn.matchAll(/\w+|\[(\w*)]/g,E).map(R=>R[0]==="[]"?"":R[1]||R[0])}function Mne(E){const R={},x=Object.keys(E);let ce;const ke=x.length;let He;for(ce=0;ce<ke;ce++)He=x[ce],R[He]=E[He];return R}function iee(E){function R(x,ce,ke,He){let je=x[He++];if(je==="__proto__")return!0;const dt=Number.isFinite(+je),Ft=He>=x.length;return je=!je&&qn.isArray(ke)?ke.length:je,Ft?(qn.hasOwnProp(ke,je)?ke[je]=[ke[je],ce]:ke[je]=ce,!dt):((!ke[je]||!qn.isObject(ke[je]))&&(ke[je]=[]),R(x,ce,ke[je],He)&&qn.isArray(ke[je])&&(ke[je]=Mne(ke[je])),!dt)}if(qn.isFormData(E)&&qn.isFunction(E.entries)){const x={};return qn.forEachEntry(E,(ce,ke)=>{R(Rne(ce),ke,x,0)}),x}return null}function Ine(E,R,x){if(qn.isString(E))try{return(R||JSON.parse)(E),qn.trim(E)}catch(ce){if(ce.name!=="SyntaxError")throw ce}return(x||JSON.stringify)(E)}const RA={transitional:aee,adapter:["xhr","http","fetch"],transformRequest:[function(R,x){const ce=x.getContentType()||"",ke=ce.indexOf("application/json")>-1,He=qn.isObject(R);if(He&&qn.isHTMLForm(R)&&(R=new FormData(R)),qn.isFormData(R))return ke?JSON.stringify(iee(R)):R;if(qn.isArrayBuffer(R)||qn.isBuffer(R)||qn.isStream(R)||qn.isFile(R)||qn.isBlob(R)||qn.isReadableStream(R))return R;if(qn.isArrayBufferView(R))return R.buffer;if(qn.isURLSearchParams(R))return x.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),R.toString();let dt;if(He){if(ce.indexOf("application/x-www-form-urlencoded")>-1)return Nne(R,this.formSerializer).toString();if((dt=qn.isFileList(R))||ce.indexOf("multipart/form-data")>-1){const Ft=this.env&&this.env.FormData;return FP(dt?{"files[]":R}:R,Ft&&new Ft,this.formSerializer)}}return He||ke?(x.setContentType("application/json",!1),Ine(R)):R}],transformResponse:[function(R){const x=this.transitional||RA.transitional,ce=x&&x.forcedJSONParsing,ke=this.responseType==="json";if(qn.isResponse(R)||qn.isReadableStream(R))return R;if(R&&qn.isString(R)&&(ce&&!this.responseType||ke)){const je=!(x&&x.silentJSONParsing)&&ke;try{return JSON.parse(R)}catch(dt){if(je)throw dt.name==="SyntaxError"?Fr.from(dt,Fr.ERR_BAD_RESPONSE,this,null,this.response):dt}}return R}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jd.classes.FormData,Blob:Jd.classes.Blob},validateStatus:function(R){return R>=200&&R<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qn.forEach(["delete","get","head","post","put","patch"],E=>{RA.headers[E]={}});const Bne=qn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fne=E=>{const R={};let x,ce,ke;return E&&E.split(`
`).forEach(function(je){ke=je.indexOf(":"),x=je.substring(0,ke).trim().toLowerCase(),ce=je.substring(ke+1).trim(),!(!x||R[x]&&Bne[x])&&(x==="set-cookie"?R[x]?R[x].push(ce):R[x]=[ce]:R[x]=R[x]?R[x]+", "+ce:ce)}),R},wJ=Symbol("internals");function yA(E){return E&&String(E).trim().toLowerCase()}function wP(E){return E===!1||E==null?E:qn.isArray(E)?E.map(wP):String(E)}function Pne(E){const R=Object.create(null),x=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let ce;for(;ce=x.exec(E);)R[ce[1]]=ce[2];return R}const $ne=E=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(E.trim());function pX(E,R,x,ce,ke){if(qn.isFunction(ce))return ce.call(this,R,x);if(ke&&(R=x),!!qn.isString(R)){if(qn.isString(ce))return R.indexOf(ce)!==-1;if(qn.isRegExp(ce))return ce.test(R)}}function Hne(E){return E.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(R,x,ce)=>x.toUpperCase()+ce)}function zne(E,R){const x=qn.toCamelCase(" "+R);["get","set","has"].forEach(ce=>{Object.defineProperty(E,ce+x,{value:function(ke,He,je){return this[ce].call(this,R,ke,He,je)},configurable:!0})})}let yf=class{constructor(R){R&&this.set(R)}set(R,x,ce){const ke=this;function He(dt,Ft,Oe){const pn=yA(Ft);if(!pn)throw new Error("header name must be a non-empty string");const On=qn.findKey(ke,pn);(!On||ke[On]===void 0||Oe===!0||Oe===void 0&&ke[On]!==!1)&&(ke[On||Ft]=wP(dt))}const je=(dt,Ft)=>qn.forEach(dt,(Oe,pn)=>He(Oe,pn,Ft));if(qn.isPlainObject(R)||R instanceof this.constructor)je(R,x);else if(qn.isString(R)&&(R=R.trim())&&!$ne(R))je(Fne(R),x);else if(qn.isObject(R)&&qn.isIterable(R)){let dt={},Ft,Oe;for(const pn of R){if(!qn.isArray(pn))throw TypeError("Object iterator must return a key-value pair");dt[Oe=pn[0]]=(Ft=dt[Oe])?qn.isArray(Ft)?[...Ft,pn[1]]:[Ft,pn[1]]:pn[1]}je(dt,x)}else R!=null&&He(x,R,ce);return this}get(R,x){if(R=yA(R),R){const ce=qn.findKey(this,R);if(ce){const ke=this[ce];if(!x)return ke;if(x===!0)return Pne(ke);if(qn.isFunction(x))return x.call(this,ke,ce);if(qn.isRegExp(x))return x.exec(ke);throw new TypeError("parser must be boolean|regexp|function")}}}has(R,x){if(R=yA(R),R){const ce=qn.findKey(this,R);return!!(ce&&this[ce]!==void 0&&(!x||pX(this,this[ce],ce,x)))}return!1}delete(R,x){const ce=this;let ke=!1;function He(je){if(je=yA(je),je){const dt=qn.findKey(ce,je);dt&&(!x||pX(ce,ce[dt],dt,x))&&(delete ce[dt],ke=!0)}}return qn.isArray(R)?R.forEach(He):He(R),ke}clear(R){const x=Object.keys(this);let ce=x.length,ke=!1;for(;ce--;){const He=x[ce];(!R||pX(this,this[He],He,R,!0))&&(delete this[He],ke=!0)}return ke}normalize(R){const x=this,ce={};return qn.forEach(this,(ke,He)=>{const je=qn.findKey(ce,He);if(je){x[je]=wP(ke),delete x[He];return}const dt=R?Hne(He):String(He).trim();dt!==He&&delete x[He],x[dt]=wP(ke),ce[dt]=!0}),this}concat(...R){return this.constructor.concat(this,...R)}toJSON(R){const x=Object.create(null);return qn.forEach(this,(ce,ke)=>{ce!=null&&ce!==!1&&(x[ke]=R&&qn.isArray(ce)?ce.join(", "):ce)}),x}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([R,x])=>R+": "+x).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(R){return R instanceof this?R:new this(R)}static concat(R,...x){const ce=new this(R);return x.forEach(ke=>ce.set(ke)),ce}static accessor(R){const ce=(this[wJ]=this[wJ]={accessors:{}}).accessors,ke=this.prototype;function He(je){const dt=yA(je);ce[dt]||(zne(ke,je),ce[dt]=!0)}return qn.isArray(R)?R.forEach(He):He(R),this}};yf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qn.reduceDescriptors(yf.prototype,({value:E},R)=>{let x=R[0].toUpperCase()+R.slice(1);return{get:()=>E,set(ce){this[x]=ce}}});qn.freezeMethods(yf);function gX(E,R){const x=this||RA,ce=R||x,ke=yf.from(ce.headers);let He=ce.data;return qn.forEach(E,function(dt){He=dt.call(x,He,ke.normalize(),R?R.status:void 0)}),ke.normalize(),He}function lee(E){return!!(E&&E.__CANCEL__)}function Fy(E,R,x){Fr.call(this,E??"canceled",Fr.ERR_CANCELED,R,x),this.name="CanceledError"}qn.inherits(Fy,Fr,{__CANCEL__:!0});function cee(E,R,x){const ce=x.config.validateStatus;!x.status||!ce||ce(x.status)?E(x):R(new Fr("Request failed with status code "+x.status,[Fr.ERR_BAD_REQUEST,Fr.ERR_BAD_RESPONSE][Math.floor(x.status/100)-4],x.config,x.request,x))}function Une(E){const R=/^([-+\w]{1,25})(:?\/\/|:)/.exec(E);return R&&R[1]||""}function Vne(E,R){E=E||10;const x=new Array(E),ce=new Array(E);let ke=0,He=0,je;return R=R!==void 0?R:1e3,function(Ft){const Oe=Date.now(),pn=ce[He];je||(je=Oe),x[ke]=Ft,ce[ke]=Oe;let On=He,ve=0;for(;On!==ke;)ve+=x[On++],On=On%E;if(ke=(ke+1)%E,ke===He&&(He=(He+1)%E),Oe-je<R)return;const es=pn&&Oe-pn;return es?Math.round(ve*1e3/es):void 0}}function Wne(E,R){let x=0,ce=1e3/R,ke,He;const je=(Oe,pn=Date.now())=>{x=pn,ke=null,He&&(clearTimeout(He),He=null),E(...Oe)};return[(...Oe)=>{const pn=Date.now(),On=pn-x;On>=ce?je(Oe,pn):(ke=Oe,He||(He=setTimeout(()=>{He=null,je(ke)},ce-On)))},()=>ke&&je(ke)]}const kP=(E,R,x=3)=>{let ce=0;const ke=Vne(50,250);return Wne(He=>{const je=He.loaded,dt=He.lengthComputable?He.total:void 0,Ft=je-ce,Oe=ke(Ft),pn=je<=dt;ce=je;const On={loaded:je,total:dt,progress:dt?je/dt:void 0,bytes:Ft,rate:Oe||void 0,estimated:Oe&&dt&&pn?(dt-je)/Oe:void 0,event:He,lengthComputable:dt!=null,[R?"download":"upload"]:!0};E(On)},x)},SJ=(E,R)=>{const x=E!=null;return[ce=>R[0]({lengthComputable:x,total:E,loaded:ce}),R[1]]},TJ=E=>(...R)=>qn.asap(()=>E(...R)),Kne=Jd.hasStandardBrowserEnv?((E,R)=>x=>(x=new URL(x,Jd.origin),E.protocol===x.protocol&&E.host===x.host&&(R||E.port===x.port)))(new URL(Jd.origin),Jd.navigator&&/(msie|trident)/i.test(Jd.navigator.userAgent)):()=>!0,jne=Jd.hasStandardBrowserEnv?{write(E,R,x,ce,ke,He){const je=[E+"="+encodeURIComponent(R)];qn.isNumber(x)&&je.push("expires="+new Date(x).toGMTString()),qn.isString(ce)&&je.push("path="+ce),qn.isString(ke)&&je.push("domain="+ke),He===!0&&je.push("secure"),document.cookie=je.join("; ")},read(E){const R=document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove(E){this.write(E,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zne(E){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(E)}function Gne(E,R){return R?E.replace(/\/?\/$/,"")+"/"+R.replace(/^\/+/,""):E}function dee(E,R,x){let ce=!Zne(R);return E&&(ce||x==!1)?Gne(E,R):R}const AJ=E=>E instanceof yf?{...E}:E;function Y6(E,R){R=R||{};const x={};function ce(Oe,pn,On,ve){return qn.isPlainObject(Oe)&&qn.isPlainObject(pn)?qn.merge.call({caseless:ve},Oe,pn):qn.isPlainObject(pn)?qn.merge({},pn):qn.isArray(pn)?pn.slice():pn}function ke(Oe,pn,On,ve){if(qn.isUndefined(pn)){if(!qn.isUndefined(Oe))return ce(void 0,Oe,On,ve)}else return ce(Oe,pn,On,ve)}function He(Oe,pn){if(!qn.isUndefined(pn))return ce(void 0,pn)}function je(Oe,pn){if(qn.isUndefined(pn)){if(!qn.isUndefined(Oe))return ce(void 0,Oe)}else return ce(void 0,pn)}function dt(Oe,pn,On){if(On in R)return ce(Oe,pn);if(On in E)return ce(void 0,Oe)}const Ft={url:He,method:He,data:He,baseURL:je,transformRequest:je,transformResponse:je,paramsSerializer:je,timeout:je,timeoutMessage:je,withCredentials:je,withXSRFToken:je,adapter:je,responseType:je,xsrfCookieName:je,xsrfHeaderName:je,onUploadProgress:je,onDownloadProgress:je,decompress:je,maxContentLength:je,maxBodyLength:je,beforeRedirect:je,transport:je,httpAgent:je,httpsAgent:je,cancelToken:je,socketPath:je,responseEncoding:je,validateStatus:dt,headers:(Oe,pn,On)=>ke(AJ(Oe),AJ(pn),On,!0)};return qn.forEach(Object.keys({...E,...R}),function(pn){const On=Ft[pn]||ke,ve=On(E[pn],R[pn],pn);qn.isUndefined(ve)&&On!==dt||(x[pn]=ve)}),x}const uee=E=>{const R=Y6({},E);let{data:x,withXSRFToken:ce,xsrfHeaderName:ke,xsrfCookieName:He,headers:je,auth:dt}=R;R.headers=je=yf.from(je),R.url=ree(dee(R.baseURL,R.url,R.allowAbsoluteUrls),E.params,E.paramsSerializer),dt&&je.set("Authorization","Basic "+btoa((dt.username||"")+":"+(dt.password?unescape(encodeURIComponent(dt.password)):"")));let Ft;if(qn.isFormData(x)){if(Jd.hasStandardBrowserEnv||Jd.hasStandardBrowserWebWorkerEnv)je.setContentType(void 0);else if((Ft=je.getContentType())!==!1){const[Oe,...pn]=Ft?Ft.split(";").map(On=>On.trim()).filter(Boolean):[];je.setContentType([Oe||"multipart/form-data",...pn].join("; "))}}if(Jd.hasStandardBrowserEnv&&(ce&&qn.isFunction(ce)&&(ce=ce(R)),ce||ce!==!1&&Kne(R.url))){const Oe=ke&&He&&jne.read(He);Oe&&je.set(ke,Oe)}return R},Yne=typeof XMLHttpRequest<"u",qne=Yne&&function(E){return new Promise(function(x,ce){const ke=uee(E);let He=ke.data;const je=yf.from(ke.headers).normalize();let{responseType:dt,onUploadProgress:Ft,onDownloadProgress:Oe}=ke,pn,On,ve,es,_o;function Ao(){es&&es(),_o&&_o(),ke.cancelToken&&ke.cancelToken.unsubscribe(pn),ke.signal&&ke.signal.removeEventListener("abort",pn)}let jt=new XMLHttpRequest;jt.open(ke.method.toUpperCase(),ke.url,!0),jt.timeout=ke.timeout;function Zo(){if(!jt)return;const lt=yf.from("getAllResponseHeaders"in jt&&jt.getAllResponseHeaders()),gs={data:!dt||dt==="text"||dt==="json"?jt.responseText:jt.response,status:jt.status,statusText:jt.statusText,headers:lt,config:E,request:jt};cee(function(ht){x(ht),Ao()},function(ht){ce(ht),Ao()},gs),jt=null}"onloadend"in jt?jt.onloadend=Zo:jt.onreadystatechange=function(){!jt||jt.readyState!==4||jt.status===0&&!(jt.responseURL&&jt.responseURL.indexOf("file:")===0)||setTimeout(Zo)},jt.onabort=function(){jt&&(ce(new Fr("Request aborted",Fr.ECONNABORTED,E,jt)),jt=null)},jt.onerror=function(){ce(new Fr("Network Error",Fr.ERR_NETWORK,E,jt)),jt=null},jt.ontimeout=function(){let Xn=ke.timeout?"timeout of "+ke.timeout+"ms exceeded":"timeout exceeded";const gs=ke.transitional||aee;ke.timeoutErrorMessage&&(Xn=ke.timeoutErrorMessage),ce(new Fr(Xn,gs.clarifyTimeoutError?Fr.ETIMEDOUT:Fr.ECONNABORTED,E,jt)),jt=null},He===void 0&&je.setContentType(null),"setRequestHeader"in jt&&qn.forEach(je.toJSON(),function(Xn,gs){jt.setRequestHeader(gs,Xn)}),qn.isUndefined(ke.withCredentials)||(jt.withCredentials=!!ke.withCredentials),dt&&dt!=="json"&&(jt.responseType=ke.responseType),Oe&&([ve,_o]=kP(Oe,!0),jt.addEventListener("progress",ve)),Ft&&jt.upload&&([On,es]=kP(Ft),jt.upload.addEventListener("progress",On),jt.upload.addEventListener("loadend",es)),(ke.cancelToken||ke.signal)&&(pn=lt=>{jt&&(ce(!lt||lt.type?new Fy(null,E,jt):lt),jt.abort(),jt=null)},ke.cancelToken&&ke.cancelToken.subscribe(pn),ke.signal&&(ke.signal.aborted?pn():ke.signal.addEventListener("abort",pn)));const Xt=Une(ke.url);if(Xt&&Jd.protocols.indexOf(Xt)===-1){ce(new Fr("Unsupported protocol "+Xt+":",Fr.ERR_BAD_REQUEST,E));return}jt.send(He||null)})},Xne=(E,R)=>{const{length:x}=E=E?E.filter(Boolean):[];if(R||x){let ce=new AbortController,ke;const He=function(Oe){if(!ke){ke=!0,dt();const pn=Oe instanceof Error?Oe:this.reason;ce.abort(pn instanceof Fr?pn:new Fy(pn instanceof Error?pn.message:pn))}};let je=R&&setTimeout(()=>{je=null,He(new Fr(`timeout ${R} of ms exceeded`,Fr.ETIMEDOUT))},R);const dt=()=>{E&&(je&&clearTimeout(je),je=null,E.forEach(Oe=>{Oe.unsubscribe?Oe.unsubscribe(He):Oe.removeEventListener("abort",He)}),E=null)};E.forEach(Oe=>Oe.addEventListener("abort",He));const{signal:Ft}=ce;return Ft.unsubscribe=()=>qn.asap(dt),Ft}},Qne=function*(E,R){let x=E.byteLength;if(x<R){yield E;return}let ce=0,ke;for(;ce<x;)ke=ce+R,yield E.slice(ce,ke),ce=ke},Jne=async function*(E,R){for await(const x of eoe(E))yield*Qne(x,R)},eoe=async function*(E){if(E[Symbol.asyncIterator]){yield*E;return}const R=E.getReader();try{for(;;){const{done:x,value:ce}=await R.read();if(x)break;yield ce}}finally{await R.cancel()}},kJ=(E,R,x,ce)=>{const ke=Jne(E,R);let He=0,je,dt=Ft=>{je||(je=!0,ce&&ce(Ft))};return new ReadableStream({async pull(Ft){try{const{done:Oe,value:pn}=await ke.next();if(Oe){dt(),Ft.close();return}let On=pn.byteLength;if(x){let ve=He+=On;x(ve)}Ft.enqueue(new Uint8Array(pn))}catch(Oe){throw dt(Oe),Oe}},cancel(Ft){return dt(Ft),ke.return()}},{highWaterMark:2})},PP=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fee=PP&&typeof ReadableStream=="function",toe=PP&&(typeof TextEncoder=="function"?(E=>R=>E.encode(R))(new TextEncoder):async E=>new Uint8Array(await new Response(E).arrayBuffer())),pee=(E,...R)=>{try{return!!E(...R)}catch{return!1}},noe=fee&&pee(()=>{let E=!1;const R=new Request(Jd.origin,{body:new ReadableStream,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!R}),OJ=64*1024,wX=fee&&pee(()=>qn.isReadableStream(new Response("").body)),OP={stream:wX&&(E=>E.body)};PP&&(E=>{["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!OP[R]&&(OP[R]=qn.isFunction(E[R])?x=>x[R]():(x,ce)=>{throw new Fr(`Response type '${R}' is not supported`,Fr.ERR_NOT_SUPPORT,ce)})})})(new Response);const ooe=async E=>{if(E==null)return 0;if(qn.isBlob(E))return E.size;if(qn.isSpecCompliantForm(E))return(await new Request(Jd.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(qn.isArrayBufferView(E)||qn.isArrayBuffer(E))return E.byteLength;if(qn.isURLSearchParams(E)&&(E=E+""),qn.isString(E))return(await toe(E)).byteLength},soe=async(E,R)=>{const x=qn.toFiniteNumber(E.getContentLength());return x??ooe(R)},roe=PP&&(async E=>{let{url:R,method:x,data:ce,signal:ke,cancelToken:He,timeout:je,onDownloadProgress:dt,onUploadProgress:Ft,responseType:Oe,headers:pn,withCredentials:On="same-origin",fetchOptions:ve}=uee(E);Oe=Oe?(Oe+"").toLowerCase():"text";let es=Xne([ke,He&&He.toAbortSignal()],je),_o;const Ao=es&&es.unsubscribe&&(()=>{es.unsubscribe()});let jt;try{if(Ft&&noe&&x!=="get"&&x!=="head"&&(jt=await soe(pn,ce))!==0){let gs=new Request(R,{method:"POST",body:ce,duplex:"half"}),Eo;if(qn.isFormData(ce)&&(Eo=gs.headers.get("content-type"))&&pn.setContentType(Eo),gs.body){const[ht,oo]=SJ(jt,kP(TJ(Ft)));ce=kJ(gs.body,OJ,ht,oo)}}qn.isString(On)||(On=On?"include":"omit");const Zo="credentials"in Request.prototype;_o=new Request(R,{...ve,signal:es,method:x.toUpperCase(),headers:pn.normalize().toJSON(),body:ce,duplex:"half",credentials:Zo?On:void 0});let Xt=await fetch(_o,ve);const lt=wX&&(Oe==="stream"||Oe==="response");if(wX&&(dt||lt&&Ao)){const gs={};["status","statusText","headers"].forEach(Ls=>{gs[Ls]=Xt[Ls]});const Eo=qn.toFiniteNumber(Xt.headers.get("content-length")),[ht,oo]=dt&&SJ(Eo,kP(TJ(dt),!0))||[];Xt=new Response(kJ(Xt.body,OJ,ht,()=>{oo&&oo(),Ao&&Ao()}),gs)}Oe=Oe||"text";let Xn=await OP[qn.findKey(OP,Oe)||"text"](Xt,E);return!lt&&Ao&&Ao(),await new Promise((gs,Eo)=>{cee(gs,Eo,{data:Xn,headers:yf.from(Xt.headers),status:Xt.status,statusText:Xt.statusText,config:E,request:_o})})}catch(Zo){throw Ao&&Ao(),Zo&&Zo.name==="TypeError"&&/Load failed|fetch/i.test(Zo.message)?Object.assign(new Fr("Network Error",Fr.ERR_NETWORK,E,_o),{cause:Zo.cause||Zo}):Fr.from(Zo,Zo&&Zo.code,E,_o)}}),SX={http:yne,xhr:qne,fetch:roe};qn.forEach(SX,(E,R)=>{if(E){try{Object.defineProperty(E,"name",{value:R})}catch{}Object.defineProperty(E,"adapterName",{value:R})}});const LJ=E=>`- ${E}`,aoe=E=>qn.isFunction(E)||E===null||E===!1,gee={getAdapter:E=>{E=qn.isArray(E)?E:[E];const{length:R}=E;let x,ce;const ke={};for(let He=0;He<R;He++){x=E[He];let je;if(ce=x,!aoe(x)&&(ce=SX[(je=String(x)).toLowerCase()],ce===void 0))throw new Fr(`Unknown adapter '${je}'`);if(ce)break;ke[je||"#"+He]=ce}if(!ce){const He=Object.entries(ke).map(([dt,Ft])=>`adapter ${dt} `+(Ft===!1?"is not supported by the environment":"is not available in the build"));let je=R?He.length>1?`since :
`+He.map(LJ).join(`
`):" "+LJ(He[0]):"as no adapter specified";throw new Fr("There is no suitable adapter to dispatch the request "+je,"ERR_NOT_SUPPORT")}return ce},adapters:SX};function mX(E){if(E.cancelToken&&E.cancelToken.throwIfRequested(),E.signal&&E.signal.aborted)throw new Fy(null,E)}function DJ(E){return mX(E),E.headers=yf.from(E.headers),E.data=gX.call(E,E.transformRequest),["post","put","patch"].indexOf(E.method)!==-1&&E.headers.setContentType("application/x-www-form-urlencoded",!1),gee.getAdapter(E.adapter||RA.adapter)(E).then(function(ce){return mX(E),ce.data=gX.call(E,E.transformResponse,ce),ce.headers=yf.from(ce.headers),ce},function(ce){return lee(ce)||(mX(E),ce&&ce.response&&(ce.response.data=gX.call(E,E.transformResponse,ce.response),ce.response.headers=yf.from(ce.response.headers))),Promise.reject(ce)})}const mee="1.11.0",$P={};["object","boolean","number","function","string","symbol"].forEach((E,R)=>{$P[E]=function(ce){return typeof ce===E||"a"+(R<1?"n ":" ")+E}});const NJ={};$P.transitional=function(R,x,ce){function ke(He,je){return"[Axios v"+mee+"] Transitional option '"+He+"'"+je+(ce?". "+ce:"")}return(He,je,dt)=>{if(R===!1)throw new Fr(ke(je," has been removed"+(x?" in "+x:"")),Fr.ERR_DEPRECATED);return x&&!NJ[je]&&(NJ[je]=!0,console.warn(ke(je," has been deprecated since v"+x+" and will be removed in the near future"))),R?R(He,je,dt):!0}};$P.spelling=function(R){return(x,ce)=>(console.warn(`${ce} is likely a misspelling of ${R}`),!0)};function ioe(E,R,x){if(typeof E!="object")throw new Fr("options must be an object",Fr.ERR_BAD_OPTION_VALUE);const ce=Object.keys(E);let ke=ce.length;for(;ke-- >0;){const He=ce[ke],je=R[He];if(je){const dt=E[He],Ft=dt===void 0||je(dt,He,E);if(Ft!==!0)throw new Fr("option "+He+" must be "+Ft,Fr.ERR_BAD_OPTION_VALUE);continue}if(x!==!0)throw new Fr("Unknown option "+He,Fr.ERR_BAD_OPTION)}}const SP={assertOptions:ioe,validators:$P},fh=SP.validators;let W6=class{constructor(R){this.defaults=R||{},this.interceptors={request:new EJ,response:new EJ}}async request(R,x){try{return await this._request(R,x)}catch(ce){if(ce instanceof Error){let ke={};Error.captureStackTrace?Error.captureStackTrace(ke):ke=new Error;const He=ke.stack?ke.stack.replace(/^.+\n/,""):"";try{ce.stack?He&&!String(ce.stack).endsWith(He.replace(/^.+\n.+\n/,""))&&(ce.stack+=`
`+He):ce.stack=He}catch{}}throw ce}}_request(R,x){typeof R=="string"?(x=x||{},x.url=R):x=R||{},x=Y6(this.defaults,x);const{transitional:ce,paramsSerializer:ke,headers:He}=x;ce!==void 0&&SP.assertOptions(ce,{silentJSONParsing:fh.transitional(fh.boolean),forcedJSONParsing:fh.transitional(fh.boolean),clarifyTimeoutError:fh.transitional(fh.boolean)},!1),ke!=null&&(qn.isFunction(ke)?x.paramsSerializer={serialize:ke}:SP.assertOptions(ke,{encode:fh.function,serialize:fh.function},!0)),x.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?x.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:x.allowAbsoluteUrls=!0),SP.assertOptions(x,{baseUrl:fh.spelling("baseURL"),withXsrfToken:fh.spelling("withXSRFToken")},!0),x.method=(x.method||this.defaults.method||"get").toLowerCase();let je=He&&qn.merge(He.common,He[x.method]);He&&qn.forEach(["delete","get","head","post","put","patch","common"],_o=>{delete He[_o]}),x.headers=yf.concat(je,He);const dt=[];let Ft=!0;this.interceptors.request.forEach(function(Ao){typeof Ao.runWhen=="function"&&Ao.runWhen(x)===!1||(Ft=Ft&&Ao.synchronous,dt.unshift(Ao.fulfilled,Ao.rejected))});const Oe=[];this.interceptors.response.forEach(function(Ao){Oe.push(Ao.fulfilled,Ao.rejected)});let pn,On=0,ve;if(!Ft){const _o=[DJ.bind(this),void 0];for(_o.unshift(...dt),_o.push(...Oe),ve=_o.length,pn=Promise.resolve(x);On<ve;)pn=pn.then(_o[On++],_o[On++]);return pn}ve=dt.length;let es=x;for(On=0;On<ve;){const _o=dt[On++],Ao=dt[On++];try{es=_o(es)}catch(jt){Ao.call(this,jt);break}}try{pn=DJ.call(this,es)}catch(_o){return Promise.reject(_o)}for(On=0,ve=Oe.length;On<ve;)pn=pn.then(Oe[On++],Oe[On++]);return pn}getUri(R){R=Y6(this.defaults,R);const x=dee(R.baseURL,R.url,R.allowAbsoluteUrls);return ree(x,R.params,R.paramsSerializer)}};qn.forEach(["delete","get","head","options"],function(R){W6.prototype[R]=function(x,ce){return this.request(Y6(ce||{},{method:R,url:x,data:(ce||{}).data}))}});qn.forEach(["post","put","patch"],function(R){function x(ce){return function(He,je,dt){return this.request(Y6(dt||{},{method:R,headers:ce?{"Content-Type":"multipart/form-data"}:{},url:He,data:je}))}}W6.prototype[R]=x(),W6.prototype[R+"Form"]=x(!0)});let loe=class hee{constructor(R){if(typeof R!="function")throw new TypeError("executor must be a function.");let x;this.promise=new Promise(function(He){x=He});const ce=this;this.promise.then(ke=>{if(!ce._listeners)return;let He=ce._listeners.length;for(;He-- >0;)ce._listeners[He](ke);ce._listeners=null}),this.promise.then=ke=>{let He;const je=new Promise(dt=>{ce.subscribe(dt),He=dt}).then(ke);return je.cancel=function(){ce.unsubscribe(He)},je},R(function(He,je,dt){ce.reason||(ce.reason=new Fy(He,je,dt),x(ce.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(R){if(this.reason){R(this.reason);return}this._listeners?this._listeners.push(R):this._listeners=[R]}unsubscribe(R){if(!this._listeners)return;const x=this._listeners.indexOf(R);x!==-1&&this._listeners.splice(x,1)}toAbortSignal(){const R=new AbortController,x=ce=>{R.abort(ce)};return this.subscribe(x),R.signal.unsubscribe=()=>this.unsubscribe(x),R.signal}static source(){let R;return{token:new hee(function(ke){R=ke}),cancel:R}}};function coe(E){return function(x){return E.apply(null,x)}}function doe(E){return qn.isObject(E)&&E.isAxiosError===!0}const TX={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TX).forEach(([E,R])=>{TX[R]=E});function bee(E){const R=new W6(E),x=ZJ(W6.prototype.request,R);return qn.extend(x,W6.prototype,R,{allOwnKeys:!0}),qn.extend(x,R,null,{allOwnKeys:!0}),x.create=function(ke){return bee(Y6(E,ke))},x}const Dl=bee(RA);Dl.Axios=W6;Dl.CanceledError=Fy;Dl.CancelToken=loe;Dl.isCancel=lee;Dl.VERSION=mee;Dl.toFormData=FP;Dl.AxiosError=Fr;Dl.Cancel=Dl.CanceledError;Dl.all=function(R){return Promise.all(R)};Dl.spread=coe;Dl.isAxiosError=doe;Dl.mergeConfig=Y6;Dl.AxiosHeaders=yf;Dl.formToJSON=E=>iee(qn.isHTMLForm(E)?new FormData(E):E);Dl.getAdapter=gee.getAdapter;Dl.HttpStatusCode=TX;Dl.default=Dl;const{Axios:Lre,AxiosError:Dre,CanceledError:Nre,isCancel:Rre,CancelToken:Mre,VERSION:Ire,all:Bre,Cancel:Fre,isAxiosError:Pre,spread:$re,toFormData:Hre,AxiosHeaders:zre,HttpStatusCode:Ure,formToJSON:Vre,getAdapter:Wre,mergeConfig:Kre}=Dl;window.axios=Dl;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var AX=!1,kX=!1,K6=[],OX=-1;function uoe(E){foe(E)}function foe(E){K6.includes(E)||K6.push(E),goe()}function poe(E){let R=K6.indexOf(E);R!==-1&&R>OX&&K6.splice(R,1)}function goe(){!kX&&!AX&&(AX=!0,queueMicrotask(moe))}function moe(){AX=!1,kX=!0;for(let E=0;E<K6.length;E++)K6[E](),OX=E;K6.length=0,OX=-1,kX=!1}var Py,X6,$y,vee,LX=!0;function hoe(E){LX=!1,E(),LX=!0}function boe(E){Py=E.reactive,$y=E.release,X6=R=>E.effect(R,{scheduler:x=>{LX?uoe(x):x()}}),vee=E.raw}function RJ(E){X6=E}function voe(E){let R=()=>{};return[ce=>{let ke=X6(ce);return E._x_effects||(E._x_effects=new Set,E._x_runEffects=()=>{E._x_effects.forEach(He=>He())}),E._x_effects.add(ke),R=()=>{ke!==void 0&&(E._x_effects.delete(ke),$y(ke))},ke},()=>{R()}]}function xee(E,R){let x=!0,ce,ke=X6(()=>{let He=E();JSON.stringify(He),x?ce=He:queueMicrotask(()=>{R(He,ce),ce=He}),x=!1});return()=>$y(ke)}var yee=[],Cee=[],_ee=[];function xoe(E){_ee.push(E)}function ZX(E,R){typeof R=="function"?(E._x_cleanups||(E._x_cleanups=[]),E._x_cleanups.push(R)):(R=E,Cee.push(R))}function Eee(E){yee.push(E)}function wee(E,R,x){E._x_attributeCleanups||(E._x_attributeCleanups={}),E._x_attributeCleanups[R]||(E._x_attributeCleanups[R]=[]),E._x_attributeCleanups[R].push(x)}function See(E,R){E._x_attributeCleanups&&Object.entries(E._x_attributeCleanups).forEach(([x,ce])=>{(R===void 0||R.includes(x))&&(ce.forEach(ke=>ke()),delete E._x_attributeCleanups[x])})}function yoe(E){var R,x;for((R=E._x_effects)==null||R.forEach(poe);(x=E._x_cleanups)!=null&&x.length;)E._x_cleanups.pop()()}var GX=new MutationObserver(QX),YX=!1;function qX(){GX.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),YX=!0}function Tee(){Coe(),GX.disconnect(),YX=!1}var CA=[];function Coe(){let E=GX.takeRecords();CA.push(()=>E.length>0&&QX(E));let R=CA.length;queueMicrotask(()=>{if(CA.length===R)for(;CA.length>0;)CA.shift()()})}function Qi(E){if(!YX)return E();Tee();let R=E();return qX(),R}var XX=!1,LP=[];function _oe(){XX=!0}function Eoe(){XX=!1,QX(LP),LP=[]}function QX(E){if(XX){LP=LP.concat(E);return}let R=[],x=new Set,ce=new Map,ke=new Map;for(let He=0;He<E.length;He++)if(!E[He].target._x_ignoreMutationObserver&&(E[He].type==="childList"&&(E[He].removedNodes.forEach(je=>{je.nodeType===1&&je._x_marker&&x.add(je)}),E[He].addedNodes.forEach(je=>{if(je.nodeType===1){if(x.has(je)){x.delete(je);return}je._x_marker||R.push(je)}})),E[He].type==="attributes")){let je=E[He].target,dt=E[He].attributeName,Ft=E[He].oldValue,Oe=()=>{ce.has(je)||ce.set(je,[]),ce.get(je).push({name:dt,value:je.getAttribute(dt)})},pn=()=>{ke.has(je)||ke.set(je,[]),ke.get(je).push(dt)};je.hasAttribute(dt)&&Ft===null?Oe():je.hasAttribute(dt)?(pn(),Oe()):pn()}ke.forEach((He,je)=>{See(je,He)}),ce.forEach((He,je)=>{yee.forEach(dt=>dt(je,He))});for(let He of x)R.some(je=>je.contains(He))||Cee.forEach(je=>je(He));for(let He of R)He.isConnected&&_ee.forEach(je=>je(He));R=null,x=null,ce=null,ke=null}function Aee(E){return IA(My(E))}function MA(E,R,x){return E._x_dataStack=[R,...My(x||E)],()=>{E._x_dataStack=E._x_dataStack.filter(ce=>ce!==R)}}function My(E){return E._x_dataStack?E._x_dataStack:typeof ShadowRoot=="function"&&E instanceof ShadowRoot?My(E.host):E.parentNode?My(E.parentNode):[]}function IA(E){return new Proxy({objects:E},woe)}var woe={ownKeys({objects:E}){return Array.from(new Set(E.flatMap(R=>Object.keys(R))))},has({objects:E},R){return R==Symbol.unscopables?!1:E.some(x=>Object.prototype.hasOwnProperty.call(x,R)||Reflect.has(x,R))},get({objects:E},R,x){return R=="toJSON"?Soe:Reflect.get(E.find(ce=>Reflect.has(ce,R))||{},R,x)},set({objects:E},R,x,ce){const ke=E.find(je=>Object.prototype.hasOwnProperty.call(je,R))||E[E.length-1],He=Object.getOwnPropertyDescriptor(ke,R);return He!=null&&He.set&&(He!=null&&He.get)?He.set.call(ce,x)||!0:Reflect.set(ke,R,x)}};function Soe(){return Reflect.ownKeys(this).reduce((R,x)=>(R[x]=Reflect.get(this,x),R),{})}function kee(E){let R=ce=>typeof ce=="object"&&!Array.isArray(ce)&&ce!==null,x=(ce,ke="")=>{Object.entries(Object.getOwnPropertyDescriptors(ce)).forEach(([He,{value:je,enumerable:dt}])=>{if(dt===!1||je===void 0||typeof je=="object"&&je!==null&&je.__v_skip)return;let Ft=ke===""?He:`${ke}.${He}`;typeof je=="object"&&je!==null&&je._x_interceptor?ce[He]=je.initialize(E,Ft,He):R(je)&&je!==ce&&!(je instanceof Element)&&x(je,Ft)})};return x(E)}function Oee(E,R=()=>{}){let x={initialValue:void 0,_x_interceptor:!0,initialize(ce,ke,He){return E(this.initialValue,()=>Toe(ce,ke),je=>DX(ce,ke,je),ke,He)}};return R(x),ce=>{if(typeof ce=="object"&&ce!==null&&ce._x_interceptor){let ke=x.initialize.bind(x);x.initialize=(He,je,dt)=>{let Ft=ce.initialize(He,je,dt);return x.initialValue=Ft,ke(He,je,dt)}}else x.initialValue=ce;return x}}function Toe(E,R){return R.split(".").reduce((x,ce)=>x[ce],E)}function DX(E,R,x){if(typeof R=="string"&&(R=R.split(".")),R.length===1)E[R[0]]=x;else{if(R.length===0)throw error;return E[R[0]]||(E[R[0]]={}),DX(E[R[0]],R.slice(1),x)}}var Lee={};function Ng(E,R){Lee[E]=R}function NX(E,R){let x=Aoe(R);return Object.entries(Lee).forEach(([ce,ke])=>{Object.defineProperty(E,`$${ce}`,{get(){return ke(R,x)},enumerable:!1})}),E}function Aoe(E){let[R,x]=Bee(E),ce={interceptor:Oee,...R};return ZX(E,x),ce}function koe(E,R,x,...ce){try{return x(...ce)}catch(ke){OA(ke,E,R)}}function OA(E,R,x=void 0){E=Object.assign(E??{message:"No error message given."},{el:R,expression:x}),console.warn(`Alpine Expression Error: ${E.message}

${x?'Expression: "'+x+`"

`:""}`,R),setTimeout(()=>{throw E},0)}var TP=!0;function Dee(E){let R=TP;TP=!1;let x=E();return TP=R,x}function j6(E,R,x={}){let ce;return Iu(E,R)(ke=>ce=ke,x),ce}function Iu(...E){return Nee(...E)}var Nee=Ree;function Ooe(E){Nee=E}function Ree(E,R){let x={};NX(x,E);let ce=[x,...My(E)],ke=typeof R=="function"?Loe(ce,R):Noe(ce,R,E);return koe.bind(null,E,R,ke)}function Loe(E,R){return(x=()=>{},{scope:ce={},params:ke=[]}={})=>{let He=R.apply(IA([ce,...E]),ke);DP(x,He)}}var hX={};function Doe(E,R){if(hX[E])return hX[E];let x=Object.getPrototypeOf(async function(){}).constructor,ce=/^[\n\s]*if.*\(.*\)/.test(E.trim())||/^(let|const)\s/.test(E.trim())?`(async()=>{ ${E} })()`:E,He=(()=>{try{let je=new x(["__self","scope"],`with (scope) { __self.result = ${ce} }; __self.finished = true; return __self.result;`);return Object.defineProperty(je,"name",{value:`[Alpine] ${E}`}),je}catch(je){return OA(je,R,E),Promise.resolve()}})();return hX[E]=He,He}function Noe(E,R,x){let ce=Doe(R,x);return(ke=()=>{},{scope:He={},params:je=[]}={})=>{ce.result=void 0,ce.finished=!1;let dt=IA([He,...E]);if(typeof ce=="function"){let Ft=ce(ce,dt).catch(Oe=>OA(Oe,x,R));ce.finished?(DP(ke,ce.result,dt,je,x),ce.result=void 0):Ft.then(Oe=>{DP(ke,Oe,dt,je,x)}).catch(Oe=>OA(Oe,x,R)).finally(()=>ce.result=void 0)}}}function DP(E,R,x,ce,ke){if(TP&&typeof R=="function"){let He=R.apply(x,ce);He instanceof Promise?He.then(je=>DP(E,je,x,ce)).catch(je=>OA(je,ke,R)):E(He)}else typeof R=="object"&&R instanceof Promise?R.then(He=>E(He)):E(R)}var JX="x-";function Hy(E=""){return JX+E}function Roe(E){JX=E}var NP={};function Yl(E,R){return NP[E]=R,{before(x){if(!NP[x]){console.warn(String.raw`Cannot find directive \`${x}\`. \`${E}\` will use the default order of execution`);return}const ce=V6.indexOf(x);V6.splice(ce>=0?ce:V6.indexOf("DEFAULT"),0,E)}}}function Moe(E){return Object.keys(NP).includes(E)}function eQ(E,R,x){if(R=Array.from(R),E._x_virtualDirectives){let He=Object.entries(E._x_virtualDirectives).map(([dt,Ft])=>({name:dt,value:Ft})),je=Mee(He);He=He.map(dt=>je.find(Ft=>Ft.name===dt.name)?{name:`x-bind:${dt.name}`,value:`"${dt.value}"`}:dt),R=R.concat(He)}let ce={};return R.map($ee((He,je)=>ce[He]=je)).filter(zee).map(Foe(ce,x)).sort(Poe).map(He=>Boe(E,He))}function Mee(E){return Array.from(E).map($ee()).filter(R=>!zee(R))}var RX=!1,wA=new Map,Iee=Symbol();function Ioe(E){RX=!0;let R=Symbol();Iee=R,wA.set(R,[]);let x=()=>{for(;wA.get(R).length;)wA.get(R).shift()();wA.delete(R)},ce=()=>{RX=!1,x()};E(x),ce()}function Bee(E){let R=[],x=dt=>R.push(dt),[ce,ke]=voe(E);return R.push(ke),[{Alpine:BA,effect:ce,cleanup:x,evaluateLater:Iu.bind(Iu,E),evaluate:j6.bind(j6,E)},()=>R.forEach(dt=>dt())]}function Boe(E,R){let x=()=>{},ce=NP[R.type]||x,[ke,He]=Bee(E);wee(E,R.original,He);let je=()=>{E._x_ignore||E._x_ignoreSelf||(ce.inline&&ce.inline(E,R,ke),ce=ce.bind(ce,E,R,ke),RX?wA.get(Iee).push(ce):ce())};return je.runCleanups=He,je}var Fee=(E,R)=>({name:x,value:ce})=>(x.startsWith(E)&&(x=x.replace(E,R)),{name:x,value:ce}),Pee=E=>E;function $ee(E=()=>{}){return({name:R,value:x})=>{let{name:ce,value:ke}=Hee.reduce((He,je)=>je(He),{name:R,value:x});return ce!==R&&E(ce,R),{name:ce,value:ke}}}var Hee=[];function tQ(E){Hee.push(E)}function zee({name:E}){return Uee().test(E)}var Uee=()=>new RegExp(`^${JX}([^:^.]+)\\b`);function Foe(E,R){return({name:x,value:ce})=>{let ke=x.match(Uee()),He=x.match(/:([a-zA-Z0-9\-_:]+)/),je=x.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],dt=R||E[x]||x;return{type:ke?ke[1]:null,value:He?He[1]:null,modifiers:je.map(Ft=>Ft.replace(".","")),expression:ce,original:dt}}}var MX="DEFAULT",V6=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",MX,"teleport"];function Poe(E,R){let x=V6.indexOf(E.type)===-1?MX:E.type,ce=V6.indexOf(R.type)===-1?MX:R.type;return V6.indexOf(x)-V6.indexOf(ce)}function TA(E,R,x={}){E.dispatchEvent(new CustomEvent(R,{detail:x,bubbles:!0,composed:!0,cancelable:!0}))}function q6(E,R){if(typeof ShadowRoot=="function"&&E instanceof ShadowRoot){Array.from(E.children).forEach(ke=>q6(ke,R));return}let x=!1;if(R(E,()=>x=!0),x)return;let ce=E.firstElementChild;for(;ce;)q6(ce,R),ce=ce.nextElementSibling}function gp(E,...R){console.warn(`Alpine Warning: ${E}`,...R)}var MJ=!1;function $oe(){MJ&&gp("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),MJ=!0,document.body||gp("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),TA(document,"alpine:init"),TA(document,"alpine:initializing"),qX(),xoe(R=>y2(R,q6)),ZX(R=>Uy(R)),Eee((R,x)=>{eQ(R,x).forEach(ce=>ce())});let E=R=>!HP(R.parentElement,!0);Array.from(document.querySelectorAll(Kee().join(","))).filter(E).forEach(R=>{y2(R)}),TA(document,"alpine:initialized"),setTimeout(()=>{Voe()})}var nQ=[],Vee=[];function Wee(){return nQ.map(E=>E())}function Kee(){return nQ.concat(Vee).map(E=>E())}function jee(E){nQ.push(E)}function Zee(E){Vee.push(E)}function HP(E,R=!1){return zy(E,x=>{if((R?Kee():Wee()).some(ke=>x.matches(ke)))return!0})}function zy(E,R){if(E){if(R(E))return E;if(E._x_teleportBack&&(E=E._x_teleportBack),!!E.parentElement)return zy(E.parentElement,R)}}function Hoe(E){return Wee().some(R=>E.matches(R))}var Gee=[];function zoe(E){Gee.push(E)}var Uoe=1;function y2(E,R=q6,x=()=>{}){zy(E,ce=>ce._x_ignore)||Ioe(()=>{R(E,(ce,ke)=>{ce._x_marker||(x(ce,ke),Gee.forEach(He=>He(ce,ke)),eQ(ce,ce.attributes).forEach(He=>He()),ce._x_ignore||(ce._x_marker=Uoe++),ce._x_ignore&&ke())})})}function Uy(E,R=q6){R(E,x=>{yoe(x),See(x),delete x._x_marker})}function Voe(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([R,x,ce])=>{Moe(x)||ce.some(ke=>{if(document.querySelector(ke))return gp(`found "${ke}", but missing ${R} plugin`),!0})})}var IX=[],oQ=!1;function sQ(E=()=>{}){return queueMicrotask(()=>{oQ||setTimeout(()=>{BX()})}),new Promise(R=>{IX.push(()=>{E(),R()})})}function BX(){for(oQ=!1;IX.length;)IX.shift()()}function Woe(){oQ=!0}function rQ(E,R){return Array.isArray(R)?IJ(E,R.join(" ")):typeof R=="object"&&R!==null?Koe(E,R):typeof R=="function"?rQ(E,R()):IJ(E,R)}function IJ(E,R){let x=ke=>ke.split(" ").filter(He=>!E.classList.contains(He)).filter(Boolean),ce=ke=>(E.classList.add(...ke),()=>{E.classList.remove(...ke)});return R=R===!0?R="":R||"",ce(x(R))}function Koe(E,R){let x=dt=>dt.split(" ").filter(Boolean),ce=Object.entries(R).flatMap(([dt,Ft])=>Ft?x(dt):!1).filter(Boolean),ke=Object.entries(R).flatMap(([dt,Ft])=>Ft?!1:x(dt)).filter(Boolean),He=[],je=[];return ke.forEach(dt=>{E.classList.contains(dt)&&(E.classList.remove(dt),je.push(dt))}),ce.forEach(dt=>{E.classList.contains(dt)||(E.classList.add(dt),He.push(dt))}),()=>{je.forEach(dt=>E.classList.add(dt)),He.forEach(dt=>E.classList.remove(dt))}}function zP(E,R){return typeof R=="object"&&R!==null?joe(E,R):Zoe(E,R)}function joe(E,R){let x={};return Object.entries(R).forEach(([ce,ke])=>{x[ce]=E.style[ce],ce.startsWith("--")||(ce=Goe(ce)),E.style.setProperty(ce,ke)}),setTimeout(()=>{E.style.length===0&&E.removeAttribute("style")}),()=>{zP(E,x)}}function Zoe(E,R){let x=E.getAttribute("style",R);return E.setAttribute("style",R),()=>{E.setAttribute("style",x||"")}}function Goe(E){return E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function FX(E,R=()=>{}){let x=!1;return function(){x?R.apply(this,arguments):(x=!0,E.apply(this,arguments))}}Yl("transition",(E,{value:R,modifiers:x,expression:ce},{evaluate:ke})=>{typeof ce=="function"&&(ce=ke(ce)),ce!==!1&&(!ce||typeof ce=="boolean"?qoe(E,x,R):Yoe(E,ce,R))});function Yoe(E,R,x){Yee(E,rQ,""),{enter:ke=>{E._x_transition.enter.during=ke},"enter-start":ke=>{E._x_transition.enter.start=ke},"enter-end":ke=>{E._x_transition.enter.end=ke},leave:ke=>{E._x_transition.leave.during=ke},"leave-start":ke=>{E._x_transition.leave.start=ke},"leave-end":ke=>{E._x_transition.leave.end=ke}}[x](R)}function qoe(E,R,x){Yee(E,zP);let ce=!R.includes("in")&&!R.includes("out")&&!x,ke=ce||R.includes("in")||["enter"].includes(x),He=ce||R.includes("out")||["leave"].includes(x);R.includes("in")&&!ce&&(R=R.filter((Zo,Xt)=>Xt<R.indexOf("out"))),R.includes("out")&&!ce&&(R=R.filter((Zo,Xt)=>Xt>R.indexOf("out")));let je=!R.includes("opacity")&&!R.includes("scale"),dt=je||R.includes("opacity"),Ft=je||R.includes("scale"),Oe=dt?0:1,pn=Ft?_A(R,"scale",95)/100:1,On=_A(R,"delay",0)/1e3,ve=_A(R,"origin","center"),es="opacity, transform",_o=_A(R,"duration",150)/1e3,Ao=_A(R,"duration",75)/1e3,jt="cubic-bezier(0.4, 0.0, 0.2, 1)";ke&&(E._x_transition.enter.during={transformOrigin:ve,transitionDelay:`${On}s`,transitionProperty:es,transitionDuration:`${_o}s`,transitionTimingFunction:jt},E._x_transition.enter.start={opacity:Oe,transform:`scale(${pn})`},E._x_transition.enter.end={opacity:1,transform:"scale(1)"}),He&&(E._x_transition.leave.during={transformOrigin:ve,transitionDelay:`${On}s`,transitionProperty:es,transitionDuration:`${Ao}s`,transitionTimingFunction:jt},E._x_transition.leave.start={opacity:1,transform:"scale(1)"},E._x_transition.leave.end={opacity:Oe,transform:`scale(${pn})`})}function Yee(E,R,x={}){E._x_transition||(E._x_transition={enter:{during:x,start:x,end:x},leave:{during:x,start:x,end:x},in(ce=()=>{},ke=()=>{}){PX(E,R,{during:this.enter.during,start:this.enter.start,end:this.enter.end},ce,ke)},out(ce=()=>{},ke=()=>{}){PX(E,R,{during:this.leave.during,start:this.leave.start,end:this.leave.end},ce,ke)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(E,R,x,ce){const ke=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let He=()=>ke(x);if(R){E._x_transition&&(E._x_transition.enter||E._x_transition.leave)?E._x_transition.enter&&(Object.entries(E._x_transition.enter.during).length||Object.entries(E._x_transition.enter.start).length||Object.entries(E._x_transition.enter.end).length)?E._x_transition.in(x):He():E._x_transition?E._x_transition.in(x):He();return}E._x_hidePromise=E._x_transition?new Promise((je,dt)=>{E._x_transition.out(()=>{},()=>je(ce)),E._x_transitioning&&E._x_transitioning.beforeCancel(()=>dt({isFromCancelledTransition:!0}))}):Promise.resolve(ce),queueMicrotask(()=>{let je=qee(E);je?(je._x_hideChildren||(je._x_hideChildren=[]),je._x_hideChildren.push(E)):ke(()=>{let dt=Ft=>{let Oe=Promise.all([Ft._x_hidePromise,...(Ft._x_hideChildren||[]).map(dt)]).then(([pn])=>pn==null?void 0:pn());return delete Ft._x_hidePromise,delete Ft._x_hideChildren,Oe};dt(E).catch(Ft=>{if(!Ft.isFromCancelledTransition)throw Ft})})})};function qee(E){let R=E.parentNode;if(R)return R._x_hidePromise?R:qee(R)}function PX(E,R,{during:x,start:ce,end:ke}={},He=()=>{},je=()=>{}){if(E._x_transitioning&&E._x_transitioning.cancel(),Object.keys(x).length===0&&Object.keys(ce).length===0&&Object.keys(ke).length===0){He(),je();return}let dt,Ft,Oe;Xoe(E,{start(){dt=R(E,ce)},during(){Ft=R(E,x)},before:He,end(){dt(),Oe=R(E,ke)},after:je,cleanup(){Ft(),Oe()}})}function Xoe(E,R){let x,ce,ke,He=FX(()=>{Qi(()=>{x=!0,ce||R.before(),ke||(R.end(),BX()),R.after(),E.isConnected&&R.cleanup(),delete E._x_transitioning})});E._x_transitioning={beforeCancels:[],beforeCancel(je){this.beforeCancels.push(je)},cancel:FX(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();He()}),finish:He},Qi(()=>{R.start(),R.during()}),Woe(),requestAnimationFrame(()=>{if(x)return;let je=Number(getComputedStyle(E).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,dt=Number(getComputedStyle(E).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;je===0&&(je=Number(getComputedStyle(E).animationDuration.replace("s",""))*1e3),Qi(()=>{R.before()}),ce=!0,requestAnimationFrame(()=>{x||(Qi(()=>{R.end()}),BX(),setTimeout(E._x_transitioning.finish,je+dt),ke=!0)})})}function _A(E,R,x){if(E.indexOf(R)===-1)return x;const ce=E[E.indexOf(R)+1];if(!ce||R==="scale"&&isNaN(ce))return x;if(R==="duration"||R==="delay"){let ke=ce.match(/([0-9]+)ms/);if(ke)return ke[1]}return R==="origin"&&["top","right","left","center","bottom"].includes(E[E.indexOf(R)+2])?[ce,E[E.indexOf(R)+2]].join(" "):ce}var X4=!1;function J4(E,R=()=>{}){return(...x)=>X4?R(...x):E(...x)}function Qoe(E){return(...R)=>X4&&E(...R)}var Xee=[];function UP(E){Xee.push(E)}function Joe(E,R){Xee.forEach(x=>x(E,R)),X4=!0,Qee(()=>{y2(R,(x,ce)=>{ce(x,()=>{})})}),X4=!1}var $X=!1;function ese(E,R){R._x_dataStack||(R._x_dataStack=E._x_dataStack),X4=!0,$X=!0,Qee(()=>{tse(R)}),X4=!1,$X=!1}function tse(E){let R=!1;y2(E,(ce,ke)=>{q6(ce,(He,je)=>{if(R&&Hoe(He))return je();R=!0,ke(He,je)})})}function Qee(E){let R=X6;RJ((x,ce)=>{let ke=R(x);return $y(ke),()=>{}}),E(),RJ(R)}function Jee(E,R,x,ce=[]){switch(E._x_bindings||(E._x_bindings=Py({})),E._x_bindings[R]=x,R=ce.includes("camel")?cse(R):R,R){case"value":nse(E,x);break;case"style":sse(E,x);break;case"class":ose(E,x);break;case"selected":case"checked":rse(E,R,x);break;default:ete(E,R,x);break}}function nse(E,R){if(ote(E))E.attributes.value===void 0&&(E.value=R),window.fromModel&&(typeof R=="boolean"?E.checked=AP(E.value)===R:E.checked=BJ(E.value,R));else if(aQ(E))Number.isInteger(R)?E.value=R:!Array.isArray(R)&&typeof R!="boolean"&&![null,void 0].includes(R)?E.value=String(R):Array.isArray(R)?E.checked=R.some(x=>BJ(x,E.value)):E.checked=!!R;else if(E.tagName==="SELECT")lse(E,R);else{if(E.value===R)return;E.value=R===void 0?"":R}}function ose(E,R){E._x_undoAddedClasses&&E._x_undoAddedClasses(),E._x_undoAddedClasses=rQ(E,R)}function sse(E,R){E._x_undoAddedStyles&&E._x_undoAddedStyles(),E._x_undoAddedStyles=zP(E,R)}function rse(E,R,x){ete(E,R,x),ise(E,R,x)}function ete(E,R,x){[null,void 0,!1].includes(x)&&use(R)?E.removeAttribute(R):(tte(R)&&(x=R),ase(E,R,x))}function ase(E,R,x){E.getAttribute(R)!=x&&E.setAttribute(R,x)}function ise(E,R,x){E[R]!==x&&(E[R]=x)}function lse(E,R){const x=[].concat(R).map(ce=>ce+"");Array.from(E.options).forEach(ce=>{ce.selected=x.includes(ce.value)})}function cse(E){return E.toLowerCase().replace(/-(\w)/g,(R,x)=>x.toUpperCase())}function BJ(E,R){return E==R}function AP(E){return[1,"1","true","on","yes",!0].includes(E)?!0:[0,"0","false","off","no",!1].includes(E)?!1:E?!!E:null}var dse=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function tte(E){return dse.has(E)}function use(E){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(E)}function fse(E,R,x){return E._x_bindings&&E._x_bindings[R]!==void 0?E._x_bindings[R]:nte(E,R,x)}function pse(E,R,x,ce=!0){if(E._x_bindings&&E._x_bindings[R]!==void 0)return E._x_bindings[R];if(E._x_inlineBindings&&E._x_inlineBindings[R]!==void 0){let ke=E._x_inlineBindings[R];return ke.extract=ce,Dee(()=>j6(E,ke.expression))}return nte(E,R,x)}function nte(E,R,x){let ce=E.getAttribute(R);return ce===null?typeof x=="function"?x():x:ce===""?!0:tte(R)?!![R,"true"].includes(ce):ce}function aQ(E){return E.type==="checkbox"||E.localName==="ui-checkbox"||E.localName==="ui-switch"}function ote(E){return E.type==="radio"||E.localName==="ui-radio"}function ste(E,R){var x;return function(){var ce=this,ke=arguments,He=function(){x=null,E.apply(ce,ke)};clearTimeout(x),x=setTimeout(He,R)}}function rte(E,R){let x;return function(){let ce=this,ke=arguments;x||(E.apply(ce,ke),x=!0,setTimeout(()=>x=!1,R))}}function ate({get:E,set:R},{get:x,set:ce}){let ke=!0,He,je=X6(()=>{let dt=E(),Ft=x();if(ke)ce(bX(dt)),ke=!1;else{let Oe=JSON.stringify(dt),pn=JSON.stringify(Ft);Oe!==He?ce(bX(dt)):Oe!==pn&&R(bX(Ft))}He=JSON.stringify(E()),JSON.stringify(x())});return()=>{$y(je)}}function bX(E){return typeof E=="object"?JSON.parse(JSON.stringify(E)):E}function gse(E){(Array.isArray(E)?E:[E]).forEach(x=>x(BA))}var z6={},FJ=!1;function mse(E,R){if(FJ||(z6=Py(z6),FJ=!0),R===void 0)return z6[E];z6[E]=R,kee(z6[E]),typeof R=="object"&&R!==null&&R.hasOwnProperty("init")&&typeof R.init=="function"&&z6[E].init()}function hse(){return z6}var ite={};function bse(E,R){let x=typeof R!="function"?()=>R:R;return E instanceof Element?lte(E,x()):(ite[E]=x,()=>{})}function vse(E){return Object.entries(ite).forEach(([R,x])=>{Object.defineProperty(E,R,{get(){return(...ce)=>x(...ce)}})}),E}function lte(E,R,x){let ce=[];for(;ce.length;)ce.pop()();let ke=Object.entries(R).map(([je,dt])=>({name:je,value:dt})),He=Mee(ke);return ke=ke.map(je=>He.find(dt=>dt.name===je.name)?{name:`x-bind:${je.name}`,value:`"${je.value}"`}:je),eQ(E,ke,x).map(je=>{ce.push(je.runCleanups),je()}),()=>{for(;ce.length;)ce.pop()()}}var cte={};function xse(E,R){cte[E]=R}function yse(E,R){return Object.entries(cte).forEach(([x,ce])=>{Object.defineProperty(E,x,{get(){return(...ke)=>ce.bind(R)(...ke)},enumerable:!1})}),E}var Cse={get reactive(){return Py},get release(){return $y},get effect(){return X6},get raw(){return vee},version:"3.14.9",flushAndStopDeferringMutations:Eoe,dontAutoEvaluateFunctions:Dee,disableEffectScheduling:hoe,startObservingMutations:qX,stopObservingMutations:Tee,setReactivityEngine:boe,onAttributeRemoved:wee,onAttributesAdded:Eee,closestDataStack:My,skipDuringClone:J4,onlyDuringClone:Qoe,addRootSelector:jee,addInitSelector:Zee,interceptClone:UP,addScopeToNode:MA,deferMutations:_oe,mapAttributes:tQ,evaluateLater:Iu,interceptInit:zoe,setEvaluator:Ooe,mergeProxies:IA,extractProp:pse,findClosest:zy,onElRemoved:ZX,closestRoot:HP,destroyTree:Uy,interceptor:Oee,transition:PX,setStyles:zP,mutateDom:Qi,directive:Yl,entangle:ate,throttle:rte,debounce:ste,evaluate:j6,initTree:y2,nextTick:sQ,prefixed:Hy,prefix:Roe,plugin:gse,magic:Ng,store:mse,start:$oe,clone:ese,cloneNode:Joe,bound:fse,$data:Aee,watch:xee,walk:q6,data:xse,bind:bse},BA=Cse;function _se(E,R){const x=Object.create(null),ce=E.split(",");for(let ke=0;ke<ce.length;ke++)x[ce[ke]]=!0;return ke=>!!x[ke]}var Ese=Object.freeze({}),wse=Object.prototype.hasOwnProperty,VP=(E,R)=>wse.call(E,R),Z6=Array.isArray,AA=E=>dte(E)==="[object Map]",Sse=E=>typeof E=="string",iQ=E=>typeof E=="symbol",WP=E=>E!==null&&typeof E=="object",Tse=Object.prototype.toString,dte=E=>Tse.call(E),ute=E=>dte(E).slice(8,-1),lQ=E=>Sse(E)&&E!=="NaN"&&E[0]!=="-"&&""+parseInt(E,10)===E,Ase=E=>{const R=Object.create(null);return x=>R[x]||(R[x]=E(x))},kse=Ase(E=>E.charAt(0).toUpperCase()+E.slice(1)),fte=(E,R)=>E!==R&&(E===E||R===R),HX=new WeakMap,EA=[],ph,G6=Symbol("iterate"),zX=Symbol("Map key iterate");function Ose(E){return E&&E._isEffect===!0}function Lse(E,R=Ese){Ose(E)&&(E=E.raw);const x=Rse(E,R);return R.lazy||x(),x}function Dse(E){E.active&&(pte(E),E.options.onStop&&E.options.onStop(),E.active=!1)}var Nse=0;function Rse(E,R){const x=function(){if(!x.active)return E();if(!EA.includes(x)){pte(x);try{return Ise(),EA.push(x),ph=x,E()}finally{EA.pop(),gte(),ph=EA[EA.length-1]}}};return x.id=Nse++,x.allowRecurse=!!R.allowRecurse,x._isEffect=!0,x.active=!0,x.raw=E,x.deps=[],x.options=R,x}function pte(E){const{deps:R}=E;if(R.length){for(let x=0;x<R.length;x++)R[x].delete(E);R.length=0}}var Iy=!0,cQ=[];function Mse(){cQ.push(Iy),Iy=!1}function Ise(){cQ.push(Iy),Iy=!0}function gte(){const E=cQ.pop();Iy=E===void 0?!0:E}function Lg(E,R,x){if(!Iy||ph===void 0)return;let ce=HX.get(E);ce||HX.set(E,ce=new Map);let ke=ce.get(x);ke||ce.set(x,ke=new Set),ke.has(ph)||(ke.add(ph),ph.deps.push(ke),ph.options.onTrack&&ph.options.onTrack({effect:ph,target:E,type:R,key:x}))}function Q4(E,R,x,ce,ke,He){const je=HX.get(E);if(!je)return;const dt=new Set,Ft=pn=>{pn&&pn.forEach(On=>{(On!==ph||On.allowRecurse)&&dt.add(On)})};if(R==="clear")je.forEach(Ft);else if(x==="length"&&Z6(E))je.forEach((pn,On)=>{(On==="length"||On>=ce)&&Ft(pn)});else switch(x!==void 0&&Ft(je.get(x)),R){case"add":Z6(E)?lQ(x)&&Ft(je.get("length")):(Ft(je.get(G6)),AA(E)&&Ft(je.get(zX)));break;case"delete":Z6(E)||(Ft(je.get(G6)),AA(E)&&Ft(je.get(zX)));break;case"set":AA(E)&&Ft(je.get(G6));break}const Oe=pn=>{pn.options.onTrigger&&pn.options.onTrigger({effect:pn,target:E,key:x,type:R,newValue:ce,oldValue:ke,oldTarget:He}),pn.options.scheduler?pn.options.scheduler(pn):pn()};dt.forEach(Oe)}var Bse=_se("__proto__,__v_isRef,__isVue"),mte=new Set(Object.getOwnPropertyNames(Symbol).map(E=>Symbol[E]).filter(iQ)),Fse=hte(),Pse=hte(!0),PJ=$se();function $se(){const E={};return["includes","indexOf","lastIndexOf"].forEach(R=>{E[R]=function(...x){const ce=Li(this);for(let He=0,je=this.length;He<je;He++)Lg(ce,"get",He+"");const ke=ce[R](...x);return ke===-1||ke===!1?ce[R](...x.map(Li)):ke}}),["push","pop","shift","unshift","splice"].forEach(R=>{E[R]=function(...x){Mse();const ce=Li(this)[R].apply(this,x);return gte(),ce}}),E}function hte(E=!1,R=!1){return function(ce,ke,He){if(ke==="__v_isReactive")return!E;if(ke==="__v_isReadonly")return E;if(ke==="__v_raw"&&He===(E?R?Jse:yte:R?Qse:xte).get(ce))return ce;const je=Z6(ce);if(!E&&je&&VP(PJ,ke))return Reflect.get(PJ,ke,He);const dt=Reflect.get(ce,ke,He);return(iQ(ke)?mte.has(ke):Bse(ke))||(E||Lg(ce,"get",ke),R)?dt:UX(dt)?!je||!lQ(ke)?dt.value:dt:WP(dt)?E?Cte(dt):pQ(dt):dt}}var Hse=zse();function zse(E=!1){return function(x,ce,ke,He){let je=x[ce];if(!E&&(ke=Li(ke),je=Li(je),!Z6(x)&&UX(je)&&!UX(ke)))return je.value=ke,!0;const dt=Z6(x)&&lQ(ce)?Number(ce)<x.length:VP(x,ce),Ft=Reflect.set(x,ce,ke,He);return x===Li(He)&&(dt?fte(ke,je)&&Q4(x,"set",ce,ke,je):Q4(x,"add",ce,ke)),Ft}}function Use(E,R){const x=VP(E,R),ce=E[R],ke=Reflect.deleteProperty(E,R);return ke&&x&&Q4(E,"delete",R,void 0,ce),ke}function Vse(E,R){const x=Reflect.has(E,R);return(!iQ(R)||!mte.has(R))&&Lg(E,"has",R),x}function Wse(E){return Lg(E,"iterate",Z6(E)?"length":G6),Reflect.ownKeys(E)}var Kse={get:Fse,set:Hse,deleteProperty:Use,has:Vse,ownKeys:Wse},jse={get:Pse,set(E,R){return console.warn(`Set operation on key "${String(R)}" failed: target is readonly.`,E),!0},deleteProperty(E,R){return console.warn(`Delete operation on key "${String(R)}" failed: target is readonly.`,E),!0}},dQ=E=>WP(E)?pQ(E):E,uQ=E=>WP(E)?Cte(E):E,fQ=E=>E,KP=E=>Reflect.getPrototypeOf(E);function vP(E,R,x=!1,ce=!1){E=E.__v_raw;const ke=Li(E),He=Li(R);R!==He&&!x&&Lg(ke,"get",R),!x&&Lg(ke,"get",He);const{has:je}=KP(ke),dt=ce?fQ:x?uQ:dQ;if(je.call(ke,R))return dt(E.get(R));if(je.call(ke,He))return dt(E.get(He));E!==ke&&E.get(R)}function xP(E,R=!1){const x=this.__v_raw,ce=Li(x),ke=Li(E);return E!==ke&&!R&&Lg(ce,"has",E),!R&&Lg(ce,"has",ke),E===ke?x.has(E):x.has(E)||x.has(ke)}function yP(E,R=!1){return E=E.__v_raw,!R&&Lg(Li(E),"iterate",G6),Reflect.get(E,"size",E)}function $J(E){E=Li(E);const R=Li(this);return KP(R).has.call(R,E)||(R.add(E),Q4(R,"add",E,E)),this}function HJ(E,R){R=Li(R);const x=Li(this),{has:ce,get:ke}=KP(x);let He=ce.call(x,E);He?vte(x,ce,E):(E=Li(E),He=ce.call(x,E));const je=ke.call(x,E);return x.set(E,R),He?fte(R,je)&&Q4(x,"set",E,R,je):Q4(x,"add",E,R),this}function zJ(E){const R=Li(this),{has:x,get:ce}=KP(R);let ke=x.call(R,E);ke?vte(R,x,E):(E=Li(E),ke=x.call(R,E));const He=ce?ce.call(R,E):void 0,je=R.delete(E);return ke&&Q4(R,"delete",E,void 0,He),je}function UJ(){const E=Li(this),R=E.size!==0,x=AA(E)?new Map(E):new Set(E),ce=E.clear();return R&&Q4(E,"clear",void 0,void 0,x),ce}function CP(E,R){return function(ce,ke){const He=this,je=He.__v_raw,dt=Li(je),Ft=R?fQ:E?uQ:dQ;return!E&&Lg(dt,"iterate",G6),je.forEach((Oe,pn)=>ce.call(ke,Ft(Oe),Ft(pn),He))}}function _P(E,R,x){return function(...ce){const ke=this.__v_raw,He=Li(ke),je=AA(He),dt=E==="entries"||E===Symbol.iterator&&je,Ft=E==="keys"&&je,Oe=ke[E](...ce),pn=x?fQ:R?uQ:dQ;return!R&&Lg(He,"iterate",Ft?zX:G6),{next(){const{value:On,done:ve}=Oe.next();return ve?{value:On,done:ve}:{value:dt?[pn(On[0]),pn(On[1])]:pn(On),done:ve}},[Symbol.iterator](){return this}}}}function q4(E){return function(...R){{const x=R[0]?`on key "${R[0]}" `:"";console.warn(`${kse(E)} operation ${x}failed: target is readonly.`,Li(this))}return E==="delete"?!1:this}}function Zse(){const E={get(He){return vP(this,He)},get size(){return yP(this)},has:xP,add:$J,set:HJ,delete:zJ,clear:UJ,forEach:CP(!1,!1)},R={get(He){return vP(this,He,!1,!0)},get size(){return yP(this)},has:xP,add:$J,set:HJ,delete:zJ,clear:UJ,forEach:CP(!1,!0)},x={get(He){return vP(this,He,!0)},get size(){return yP(this,!0)},has(He){return xP.call(this,He,!0)},add:q4("add"),set:q4("set"),delete:q4("delete"),clear:q4("clear"),forEach:CP(!0,!1)},ce={get(He){return vP(this,He,!0,!0)},get size(){return yP(this,!0)},has(He){return xP.call(this,He,!0)},add:q4("add"),set:q4("set"),delete:q4("delete"),clear:q4("clear"),forEach:CP(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(He=>{E[He]=_P(He,!1,!1),x[He]=_P(He,!0,!1),R[He]=_P(He,!1,!0),ce[He]=_P(He,!0,!0)}),[E,x,R,ce]}var[Gse,Yse,jre,Zre]=Zse();function bte(E,R){const x=E?Yse:Gse;return(ce,ke,He)=>ke==="__v_isReactive"?!E:ke==="__v_isReadonly"?E:ke==="__v_raw"?ce:Reflect.get(VP(x,ke)&&ke in ce?x:ce,ke,He)}var qse={get:bte(!1)},Xse={get:bte(!0)};function vte(E,R,x){const ce=Li(x);if(ce!==x&&R.call(E,ce)){const ke=ute(E);console.warn(`Reactive ${ke} contains both the raw and reactive versions of the same object${ke==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var xte=new WeakMap,Qse=new WeakMap,yte=new WeakMap,Jse=new WeakMap;function ere(E){switch(E){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tre(E){return E.__v_skip||!Object.isExtensible(E)?0:ere(ute(E))}function pQ(E){return E&&E.__v_isReadonly?E:_te(E,!1,Kse,qse,xte)}function Cte(E){return _te(E,!0,jse,Xse,yte)}function _te(E,R,x,ce,ke){if(!WP(E))return console.warn(`value cannot be made reactive: ${String(E)}`),E;if(E.__v_raw&&!(R&&E.__v_isReactive))return E;const He=ke.get(E);if(He)return He;const je=tre(E);if(je===0)return E;const dt=new Proxy(E,je===2?ce:x);return ke.set(E,dt),dt}function Li(E){return E&&Li(E.__v_raw)||E}function UX(E){return!!(E&&E.__v_isRef===!0)}Ng("nextTick",()=>sQ);Ng("dispatch",E=>TA.bind(TA,E));Ng("watch",(E,{evaluateLater:R,cleanup:x})=>(ce,ke)=>{let He=R(ce),dt=xee(()=>{let Ft;return He(Oe=>Ft=Oe),Ft},ke);x(dt)});Ng("store",hse);Ng("data",E=>Aee(E));Ng("root",E=>HP(E));Ng("refs",E=>(E._x_refs_proxy||(E._x_refs_proxy=IA(nre(E))),E._x_refs_proxy));function nre(E){let R=[];return zy(E,x=>{x._x_refs&&R.push(x._x_refs)}),R}var vX={};function Ete(E){return vX[E]||(vX[E]=0),++vX[E]}function ore(E,R){return zy(E,x=>{if(x._x_ids&&x._x_ids[R])return!0})}function sre(E,R){E._x_ids||(E._x_ids={}),E._x_ids[R]||(E._x_ids[R]=Ete(R))}Ng("id",(E,{cleanup:R})=>(x,ce=null)=>{let ke=`${x}${ce?`-${ce}`:""}`;return rre(E,ke,R,()=>{let He=ore(E,x),je=He?He._x_ids[x]:Ete(x);return ce?`${x}-${je}-${ce}`:`${x}-${je}`})});UP((E,R)=>{E._x_id&&(R._x_id=E._x_id)});function rre(E,R,x,ce){if(E._x_id||(E._x_id={}),E._x_id[R])return E._x_id[R];let ke=ce();return E._x_id[R]=ke,x(()=>{delete E._x_id[R]}),ke}Ng("el",E=>E);wte("Focus","focus","focus");wte("Persist","persist","persist");function wte(E,R,x){Ng(R,ce=>gp(`You can't use [$${R}] without first installing the "${E}" plugin here: https://alpinejs.dev/plugins/${x}`,ce))}Yl("modelable",(E,{expression:R},{effect:x,evaluateLater:ce,cleanup:ke})=>{let He=ce(R),je=()=>{let pn;return He(On=>pn=On),pn},dt=ce(`${R} = __placeholder`),Ft=pn=>dt(()=>{},{scope:{__placeholder:pn}}),Oe=je();Ft(Oe),queueMicrotask(()=>{if(!E._x_model)return;E._x_removeModelListeners.default();let pn=E._x_model.get,On=E._x_model.set,ve=ate({get(){return pn()},set(es){On(es)}},{get(){return je()},set(es){Ft(es)}});ke(ve)})});Yl("teleport",(E,{modifiers:R,expression:x},{cleanup:ce})=>{E.tagName.toLowerCase()!=="template"&&gp("x-teleport can only be used on a <template> tag",E);let ke=VJ(x),He=E.content.cloneNode(!0).firstElementChild;E._x_teleport=He,He._x_teleportBack=E,E.setAttribute("data-teleport-template",!0),He.setAttribute("data-teleport-target",!0),E._x_forwardEvents&&E._x_forwardEvents.forEach(dt=>{He.addEventListener(dt,Ft=>{Ft.stopPropagation(),E.dispatchEvent(new Ft.constructor(Ft.type,Ft))})}),MA(He,{},E);let je=(dt,Ft,Oe)=>{Oe.includes("prepend")?Ft.parentNode.insertBefore(dt,Ft):Oe.includes("append")?Ft.parentNode.insertBefore(dt,Ft.nextSibling):Ft.appendChild(dt)};Qi(()=>{je(He,ke,R),J4(()=>{y2(He)})()}),E._x_teleportPutBack=()=>{let dt=VJ(x);Qi(()=>{je(E._x_teleport,dt,R)})},ce(()=>Qi(()=>{He.remove(),Uy(He)}))});var are=document.createElement("div");function VJ(E){let R=J4(()=>document.querySelector(E),()=>are)();return R||gp(`Cannot find x-teleport element for selector: "${E}"`),R}var Ste=()=>{};Ste.inline=(E,{modifiers:R},{cleanup:x})=>{R.includes("self")?E._x_ignoreSelf=!0:E._x_ignore=!0,x(()=>{R.includes("self")?delete E._x_ignoreSelf:delete E._x_ignore})};Yl("ignore",Ste);Yl("effect",J4((E,{expression:R},{effect:x})=>{x(Iu(E,R))}));function VX(E,R,x,ce){let ke=E,He=Ft=>ce(Ft),je={},dt=(Ft,Oe)=>pn=>Oe(Ft,pn);if(x.includes("dot")&&(R=ire(R)),x.includes("camel")&&(R=lre(R)),x.includes("passive")&&(je.passive=!0),x.includes("capture")&&(je.capture=!0),x.includes("window")&&(ke=window),x.includes("document")&&(ke=document),x.includes("debounce")){let Ft=x[x.indexOf("debounce")+1]||"invalid-wait",Oe=RP(Ft.split("ms")[0])?Number(Ft.split("ms")[0]):250;He=ste(He,Oe)}if(x.includes("throttle")){let Ft=x[x.indexOf("throttle")+1]||"invalid-wait",Oe=RP(Ft.split("ms")[0])?Number(Ft.split("ms")[0]):250;He=rte(He,Oe)}return x.includes("prevent")&&(He=dt(He,(Ft,Oe)=>{Oe.preventDefault(),Ft(Oe)})),x.includes("stop")&&(He=dt(He,(Ft,Oe)=>{Oe.stopPropagation(),Ft(Oe)})),x.includes("once")&&(He=dt(He,(Ft,Oe)=>{Ft(Oe),ke.removeEventListener(R,He,je)})),(x.includes("away")||x.includes("outside"))&&(ke=document,He=dt(He,(Ft,Oe)=>{E.contains(Oe.target)||Oe.target.isConnected!==!1&&(E.offsetWidth<1&&E.offsetHeight<1||E._x_isShown!==!1&&Ft(Oe))})),x.includes("self")&&(He=dt(He,(Ft,Oe)=>{Oe.target===E&&Ft(Oe)})),(dre(R)||Tte(R))&&(He=dt(He,(Ft,Oe)=>{ure(Oe,x)||Ft(Oe)})),ke.addEventListener(R,He,je),()=>{ke.removeEventListener(R,He,je)}}function ire(E){return E.replace(/-/g,".")}function lre(E){return E.toLowerCase().replace(/-(\w)/g,(R,x)=>x.toUpperCase())}function RP(E){return!Array.isArray(E)&&!isNaN(E)}function cre(E){return[" ","_"].includes(E)?E:E.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function dre(E){return["keydown","keyup"].includes(E)}function Tte(E){return["contextmenu","click","mouse"].some(R=>E.includes(R))}function ure(E,R){let x=R.filter(He=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(He));if(x.includes("debounce")){let He=x.indexOf("debounce");x.splice(He,RP((x[He+1]||"invalid-wait").split("ms")[0])?2:1)}if(x.includes("throttle")){let He=x.indexOf("throttle");x.splice(He,RP((x[He+1]||"invalid-wait").split("ms")[0])?2:1)}if(x.length===0||x.length===1&&WJ(E.key).includes(x[0]))return!1;const ke=["ctrl","shift","alt","meta","cmd","super"].filter(He=>x.includes(He));return x=x.filter(He=>!ke.includes(He)),!(ke.length>0&&ke.filter(je=>((je==="cmd"||je==="super")&&(je="meta"),E[`${je}Key`])).length===ke.length&&(Tte(E.type)||WJ(E.key).includes(x[0])))}function WJ(E){if(!E)return[];E=cre(E);let R={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return R[E]=E,Object.keys(R).map(x=>{if(R[x]===E)return x}).filter(x=>x)}Yl("model",(E,{modifiers:R,expression:x},{effect:ce,cleanup:ke})=>{let He=E;R.includes("parent")&&(He=E.parentNode);let je=Iu(He,x),dt;typeof x=="string"?dt=Iu(He,`${x} = __placeholder`):typeof x=="function"&&typeof x()=="string"?dt=Iu(He,`${x()} = __placeholder`):dt=()=>{};let Ft=()=>{let ve;return je(es=>ve=es),KJ(ve)?ve.get():ve},Oe=ve=>{let es;je(_o=>es=_o),KJ(es)?es.set(ve):dt(()=>{},{scope:{__placeholder:ve}})};typeof x=="string"&&E.type==="radio"&&Qi(()=>{E.hasAttribute("name")||E.setAttribute("name",x)});var pn=E.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(E.type)||R.includes("lazy")?"change":"input";let On=X4?()=>{}:VX(E,pn,R,ve=>{Oe(xX(E,R,ve,Ft()))});if(R.includes("fill")&&([void 0,null,""].includes(Ft())||aQ(E)&&Array.isArray(Ft())||E.tagName.toLowerCase()==="select"&&E.multiple)&&Oe(xX(E,R,{target:E},Ft())),E._x_removeModelListeners||(E._x_removeModelListeners={}),E._x_removeModelListeners.default=On,ke(()=>E._x_removeModelListeners.default()),E.form){let ve=VX(E.form,"reset",[],es=>{sQ(()=>E._x_model&&E._x_model.set(xX(E,R,{target:E},Ft())))});ke(()=>ve())}E._x_model={get(){return Ft()},set(ve){Oe(ve)}},E._x_forceModelUpdate=ve=>{ve===void 0&&typeof x=="string"&&x.match(/\./)&&(ve=""),window.fromModel=!0,Qi(()=>Jee(E,"value",ve)),delete window.fromModel},ce(()=>{let ve=Ft();R.includes("unintrusive")&&document.activeElement.isSameNode(E)||E._x_forceModelUpdate(ve)})});function xX(E,R,x,ce){return Qi(()=>{if(x instanceof CustomEvent&&x.detail!==void 0)return x.detail!==null&&x.detail!==void 0?x.detail:x.target.value;if(aQ(E))if(Array.isArray(ce)){let ke=null;return R.includes("number")?ke=yX(x.target.value):R.includes("boolean")?ke=AP(x.target.value):ke=x.target.value,x.target.checked?ce.includes(ke)?ce:ce.concat([ke]):ce.filter(He=>!fre(He,ke))}else return x.target.checked;else{if(E.tagName.toLowerCase()==="select"&&E.multiple)return R.includes("number")?Array.from(x.target.selectedOptions).map(ke=>{let He=ke.value||ke.text;return yX(He)}):R.includes("boolean")?Array.from(x.target.selectedOptions).map(ke=>{let He=ke.value||ke.text;return AP(He)}):Array.from(x.target.selectedOptions).map(ke=>ke.value||ke.text);{let ke;return ote(E)?x.target.checked?ke=x.target.value:ke=ce:ke=x.target.value,R.includes("number")?yX(ke):R.includes("boolean")?AP(ke):R.includes("trim")?ke.trim():ke}}})}function yX(E){let R=E?parseFloat(E):null;return pre(R)?R:E}function fre(E,R){return E==R}function pre(E){return!Array.isArray(E)&&!isNaN(E)}function KJ(E){return E!==null&&typeof E=="object"&&typeof E.get=="function"&&typeof E.set=="function"}Yl("cloak",E=>queueMicrotask(()=>Qi(()=>E.removeAttribute(Hy("cloak")))));Zee(()=>`[${Hy("init")}]`);Yl("init",J4((E,{expression:R},{evaluate:x})=>typeof R=="string"?!!R.trim()&&x(R,{},!1):x(R,{},!1)));Yl("text",(E,{expression:R},{effect:x,evaluateLater:ce})=>{let ke=ce(R);x(()=>{ke(He=>{Qi(()=>{E.textContent=He})})})});Yl("html",(E,{expression:R},{effect:x,evaluateLater:ce})=>{let ke=ce(R);x(()=>{ke(He=>{Qi(()=>{E.innerHTML=He,E._x_ignoreSelf=!0,y2(E),delete E._x_ignoreSelf})})})});tQ(Fee(":",Pee(Hy("bind:"))));var Ate=(E,{value:R,modifiers:x,expression:ce,original:ke},{effect:He,cleanup:je})=>{if(!R){let Ft={};vse(Ft),Iu(E,ce)(pn=>{lte(E,pn,ke)},{scope:Ft});return}if(R==="key")return gre(E,ce);if(E._x_inlineBindings&&E._x_inlineBindings[R]&&E._x_inlineBindings[R].extract)return;let dt=Iu(E,ce);He(()=>dt(Ft=>{Ft===void 0&&typeof ce=="string"&&ce.match(/\./)&&(Ft=""),Qi(()=>Jee(E,R,Ft,x))})),je(()=>{E._x_undoAddedClasses&&E._x_undoAddedClasses(),E._x_undoAddedStyles&&E._x_undoAddedStyles()})};Ate.inline=(E,{value:R,modifiers:x,expression:ce})=>{R&&(E._x_inlineBindings||(E._x_inlineBindings={}),E._x_inlineBindings[R]={expression:ce,extract:!1})};Yl("bind",Ate);function gre(E,R){E._x_keyExpression=R}jee(()=>`[${Hy("data")}]`);Yl("data",(E,{expression:R},{cleanup:x})=>{if(mre(E))return;R=R===""?"{}":R;let ce={};NX(ce,E);let ke={};yse(ke,ce);let He=j6(E,R,{scope:ke});(He===void 0||He===!0)&&(He={}),NX(He,E);let je=Py(He);kee(je);let dt=MA(E,je);je.init&&j6(E,je.init),x(()=>{je.destroy&&j6(E,je.destroy),dt()})});UP((E,R)=>{E._x_dataStack&&(R._x_dataStack=E._x_dataStack,R.setAttribute("data-has-alpine-state",!0))});function mre(E){return X4?$X?!0:E.hasAttribute("data-has-alpine-state"):!1}Yl("show",(E,{modifiers:R,expression:x},{effect:ce})=>{let ke=Iu(E,x);E._x_doHide||(E._x_doHide=()=>{Qi(()=>{E.style.setProperty("display","none",R.includes("important")?"important":void 0)})}),E._x_doShow||(E._x_doShow=()=>{Qi(()=>{E.style.length===1&&E.style.display==="none"?E.removeAttribute("style"):E.style.removeProperty("display")})});let He=()=>{E._x_doHide(),E._x_isShown=!1},je=()=>{E._x_doShow(),E._x_isShown=!0},dt=()=>setTimeout(je),Ft=FX(On=>On?je():He(),On=>{typeof E._x_toggleAndCascadeWithTransitions=="function"?E._x_toggleAndCascadeWithTransitions(E,On,je,He):On?dt():He()}),Oe,pn=!0;ce(()=>ke(On=>{!pn&&On===Oe||(R.includes("immediate")&&(On?dt():He()),Ft(On),Oe=On,pn=!1)}))});Yl("for",(E,{expression:R},{effect:x,cleanup:ce})=>{let ke=bre(R),He=Iu(E,ke.items),je=Iu(E,E._x_keyExpression||"index");E._x_prevKeys=[],E._x_lookup={},x(()=>hre(E,ke,He,je)),ce(()=>{Object.values(E._x_lookup).forEach(dt=>Qi(()=>{Uy(dt),dt.remove()})),delete E._x_prevKeys,delete E._x_lookup})});function hre(E,R,x,ce){let ke=je=>typeof je=="object"&&!Array.isArray(je),He=E;x(je=>{vre(je)&&je>=0&&(je=Array.from(Array(je).keys(),jt=>jt+1)),je===void 0&&(je=[]);let dt=E._x_lookup,Ft=E._x_prevKeys,Oe=[],pn=[];if(ke(je))je=Object.entries(je).map(([jt,Zo])=>{let Xt=jJ(R,Zo,jt,je);ce(lt=>{pn.includes(lt)&&gp("Duplicate key on x-for",E),pn.push(lt)},{scope:{index:jt,...Xt}}),Oe.push(Xt)});else for(let jt=0;jt<je.length;jt++){let Zo=jJ(R,je[jt],jt,je);ce(Xt=>{pn.includes(Xt)&&gp("Duplicate key on x-for",E),pn.push(Xt)},{scope:{index:jt,...Zo}}),Oe.push(Zo)}let On=[],ve=[],es=[],_o=[];for(let jt=0;jt<Ft.length;jt++){let Zo=Ft[jt];pn.indexOf(Zo)===-1&&es.push(Zo)}Ft=Ft.filter(jt=>!es.includes(jt));let Ao="template";for(let jt=0;jt<pn.length;jt++){let Zo=pn[jt],Xt=Ft.indexOf(Zo);if(Xt===-1)Ft.splice(jt,0,Zo),On.push([Ao,jt]);else if(Xt!==jt){let lt=Ft.splice(jt,1)[0],Xn=Ft.splice(Xt-1,1)[0];Ft.splice(jt,0,Xn),Ft.splice(Xt,0,lt),ve.push([lt,Xn])}else _o.push(Zo);Ao=Zo}for(let jt=0;jt<es.length;jt++){let Zo=es[jt];Zo in dt&&(Qi(()=>{Uy(dt[Zo]),dt[Zo].remove()}),delete dt[Zo])}for(let jt=0;jt<ve.length;jt++){let[Zo,Xt]=ve[jt],lt=dt[Zo],Xn=dt[Xt],gs=document.createElement("div");Qi(()=>{Xn||gp('x-for ":key" is undefined or invalid',He,Xt,dt),Xn.after(gs),lt.after(Xn),Xn._x_currentIfEl&&Xn.after(Xn._x_currentIfEl),gs.before(lt),lt._x_currentIfEl&&lt.after(lt._x_currentIfEl),gs.remove()}),Xn._x_refreshXForScope(Oe[pn.indexOf(Xt)])}for(let jt=0;jt<On.length;jt++){let[Zo,Xt]=On[jt],lt=Zo==="template"?He:dt[Zo];lt._x_currentIfEl&&(lt=lt._x_currentIfEl);let Xn=Oe[Xt],gs=pn[Xt],Eo=document.importNode(He.content,!0).firstElementChild,ht=Py(Xn);MA(Eo,ht,He),Eo._x_refreshXForScope=oo=>{Object.entries(oo).forEach(([Ls,us])=>{ht[Ls]=us})},Qi(()=>{lt.after(Eo),J4(()=>y2(Eo))()}),typeof gs=="object"&&gp("x-for key cannot be an object, it must be a string or an integer",He),dt[gs]=Eo}for(let jt=0;jt<_o.length;jt++)dt[_o[jt]]._x_refreshXForScope(Oe[pn.indexOf(_o[jt])]);He._x_prevKeys=pn})}function bre(E){let R=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,x=/^\s*\(|\)\s*$/g,ce=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ke=E.match(ce);if(!ke)return;let He={};He.items=ke[2].trim();let je=ke[1].replace(x,"").trim(),dt=je.match(R);return dt?(He.item=je.replace(R,"").trim(),He.index=dt[1].trim(),dt[2]&&(He.collection=dt[2].trim())):He.item=je,He}function jJ(E,R,x,ce){let ke={};return/^\[.*\]$/.test(E.item)&&Array.isArray(R)?E.item.replace("[","").replace("]","").split(",").map(je=>je.trim()).forEach((je,dt)=>{ke[je]=R[dt]}):/^\{.*\}$/.test(E.item)&&!Array.isArray(R)&&typeof R=="object"?E.item.replace("{","").replace("}","").split(",").map(je=>je.trim()).forEach(je=>{ke[je]=R[je]}):ke[E.item]=R,E.index&&(ke[E.index]=x),E.collection&&(ke[E.collection]=ce),ke}function vre(E){return!Array.isArray(E)&&!isNaN(E)}function kte(){}kte.inline=(E,{expression:R},{cleanup:x})=>{let ce=HP(E);ce._x_refs||(ce._x_refs={}),ce._x_refs[R]=E,x(()=>delete ce._x_refs[R])};Yl("ref",kte);Yl("if",(E,{expression:R},{effect:x,cleanup:ce})=>{E.tagName.toLowerCase()!=="template"&&gp("x-if can only be used on a <template> tag",E);let ke=Iu(E,R),He=()=>{if(E._x_currentIfEl)return E._x_currentIfEl;let dt=E.content.cloneNode(!0).firstElementChild;return MA(dt,{},E),Qi(()=>{E.after(dt),J4(()=>y2(dt))()}),E._x_currentIfEl=dt,E._x_undoIf=()=>{Qi(()=>{Uy(dt),dt.remove()}),delete E._x_currentIfEl},dt},je=()=>{E._x_undoIf&&(E._x_undoIf(),delete E._x_undoIf)};x(()=>ke(dt=>{dt?He():je()})),ce(()=>E._x_undoIf&&E._x_undoIf())});Yl("id",(E,{expression:R},{evaluate:x})=>{x(R).forEach(ke=>sre(E,ke))});UP((E,R)=>{E._x_ids&&(R._x_ids=E._x_ids)});tQ(Fee("@",Pee(Hy("on:"))));Yl("on",J4((E,{value:R,modifiers:x,expression:ce},{cleanup:ke})=>{let He=ce?Iu(E,ce):()=>{};E.tagName.toLowerCase()==="template"&&(E._x_forwardEvents||(E._x_forwardEvents=[]),E._x_forwardEvents.includes(R)||E._x_forwardEvents.push(R));let je=VX(E,R,x,dt=>{He(()=>{},{scope:{$event:dt},params:[dt]})});ke(()=>je())}));jP("Collapse","collapse","collapse");jP("Intersect","intersect","intersect");jP("Focus","trap","focus");jP("Mask","mask","mask");function jP(E,R,x){Yl(R,ce=>gp(`You can't use [x-${R}] without first installing the "${E}" plugin here: https://alpinejs.dev/plugins/${x}`,ce))}BA.setEvaluator(Ree);BA.setReactivityEngine({reactive:pQ,effect:Lse,release:Dse,raw:Li});var xre=BA,Ote=xre,SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lte(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}function yre(E){if(E.__esModule)return E;var R=E.default;if(typeof R=="function"){var x=function ce(){return this instanceof ce?Reflect.construct(R,arguments,this.constructor):R.apply(this,arguments)};x.prototype=R.prototype}else x={};return Object.defineProperty(x,"__esModule",{value:!0}),Object.keys(E).forEach(function(ce){var ke=Object.getOwnPropertyDescriptor(E,ce);Object.defineProperty(x,ce,ke.get?ke:{enumerable:!0,get:function(){return E[ce]}})}),x}var Dte={exports:{}};/*!
 * froala_editor v4.6.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2025 Froala Labs
 */(function(E,R){(function(x,ce){E.exports=ce()})(SA,function(){function x(a,p){(p==null||p>a.length)&&(p=a.length);for(var M=0,L=Array(p);M<p;M++)L[M]=a[M];return L}function ce(a,p,M,L,A,O,z){try{var Q=a[O](z),H=Q.value}catch(P){return void M(P)}Q.done?p(H):Promise.resolve(H).then(L,A)}function ke(a,p){var M=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!M){if(Array.isArray(a)||(M=On(a))||p){M&&(a=M);var L=0,A=function(){};return{s:A,n:function(){return L>=a.length?{done:!0}:{done:!1,value:a[L++]}},e:function(H){throw H},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,z=!0,Q=!1;return{s:function(){M=M.call(a)},n:function(){var H=M.next();return z=H.done,H},e:function(H){Q=!0,O=H},f:function(){try{z||M.return==null||M.return()}finally{if(Q)throw O}}}}function He(a,p,M){return(p=function(A){var O=function(Q,H){if(typeof Q!="object"||!Q)return Q;var P=Q[Symbol.toPrimitive];if(P===void 0)return(H==="string"?String:Number)(Q);var j=P.call(Q,H);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}(A,"string");return typeof O=="symbol"?O:O+""}(p))in a?Object.defineProperty(a,p,{value:M,enumerable:!0,configurable:!0,writable:!0}):a[p]=M,a}function je(a,p){var M=Object.keys(a);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(a);p&&(L=L.filter(function(A){return Object.getOwnPropertyDescriptor(a,A).enumerable})),M.push.apply(M,L)}return M}function dt(){dt=function(){return p};var a,p={},M=Object.prototype,L=M.hasOwnProperty,A=Object.defineProperty||function(Pe,We,ut){Pe[We]=ut.value},O=typeof Symbol=="function"?Symbol:{},z=O.iterator||"@@iterator",Q=O.asyncIterator||"@@asyncIterator",H=O.toStringTag||"@@toStringTag";function P(Pe,We,ut){return Object.defineProperty(Pe,We,{value:ut,enumerable:!0,configurable:!0,writable:!0}),Pe[We]}try{P({},"")}catch{P=function(We,ut,nt){return We[ut]=nt}}function j(Pe,We,ut,nt){var ot=We&&We.prototype instanceof se?We:se,Me=Object.create(ot.prototype),et=new Ae(nt||[]);return A(Me,"_invoke",{value:function(Ze,Xe,$e){var tt=ee;return function(_t,mt){if(tt===xe)throw Error("Generator is already running");if(tt===be){if(_t==="throw")throw mt;return{value:a,done:!0}}for($e.method=_t,$e.arg=mt;;){var Lt=$e.delegate;if(Lt){var Rt=q(Lt,$e);if(Rt){if(Rt===re)continue;return Rt}}if($e.method==="next")$e.sent=$e._sent=$e.arg;else if($e.method==="throw"){if(tt===ee)throw tt=be,$e.arg;$e.dispatchException($e.arg)}else $e.method==="return"&&$e.abrupt("return",$e.arg);tt=xe;var Wt=K(Ze,Xe,$e);if(Wt.type==="normal"){if(tt=$e.done?be:w,Wt.arg===re)continue;return{value:Wt.arg,done:$e.done}}Wt.type==="throw"&&(tt=be,$e.method="throw",$e.arg=Wt.arg)}}}(Pe,ut,et)}),Me}function K(Pe,We,ut){try{return{type:"normal",arg:Pe.call(We,ut)}}catch(nt){return{type:"throw",arg:nt}}}p.wrap=j;var ee="suspendedStart",w="suspendedYield",xe="executing",be="completed",re={};function se(){}function ie(){}function D(){}var U={};P(U,z,function(){return this});var V=Object.getPrototypeOf,I=V&&V(V(we([])));I&&I!==M&&L.call(I,z)&&(U=I);var N=D.prototype=se.prototype=Object.create(U);function ne(Pe){["next","throw","return"].forEach(function(We){P(Pe,We,function(ut){return this._invoke(We,ut)})})}function G(Pe,We){var ut;A(this,"_invoke",{value:function(nt,ot){function Me(){return new We(function(et,Ve){(function Ze(Xe,$e,tt,_t){var mt=K(Pe[Xe],Pe,$e);if(mt.type!=="throw"){var Lt=mt.arg,Rt=Lt.value;return Rt&&typeof Rt=="object"&&L.call(Rt,"__await")?We.resolve(Rt.__await).then(function(Wt){Ze("next",Wt,tt,_t)},function(Wt){Ze("throw",Wt,tt,_t)}):We.resolve(Rt).then(function(Wt){Lt.value=Wt,tt(Lt)},function(Wt){return Ze("throw",Wt,tt,_t)})}_t(mt.arg)})(nt,ot,et,Ve)})}return ut=ut?ut.then(Me,Me):Me()}})}function q(Pe,We){var ut=We.method,nt=Pe.iterator[ut];if(nt===a)return We.delegate=null,ut==="throw"&&Pe.iterator.return&&(We.method="return",We.arg=a,q(Pe,We),We.method==="throw")||ut!=="return"&&(We.method="throw",We.arg=new TypeError("The iterator does not provide a '"+ut+"' method")),re;var ot=K(nt,Pe.iterator,We.arg);if(ot.type==="throw")return We.method="throw",We.arg=ot.arg,We.delegate=null,re;var Me=ot.arg;return Me?Me.done?(We[Pe.resultName]=Me.value,We.next=Pe.nextLoc,We.method!=="return"&&(We.method="next",We.arg=a),We.delegate=null,re):Me:(We.method="throw",We.arg=new TypeError("iterator result is not an object"),We.delegate=null,re)}function de(Pe){var We={tryLoc:Pe[0]};1 in Pe&&(We.catchLoc=Pe[1]),2 in Pe&&(We.finallyLoc=Pe[2],We.afterLoc=Pe[3]),this.tryEntries.push(We)}function Le(Pe){var We=Pe.completion||{};We.type="normal",delete We.arg,Pe.completion=We}function Ae(Pe){this.tryEntries=[{tryLoc:"root"}],Pe.forEach(de,this),this.reset(!0)}function we(Pe){if(Pe||Pe===""){var We=Pe[z];if(We)return We.call(Pe);if(typeof Pe.next=="function")return Pe;if(!isNaN(Pe.length)){var ut=-1,nt=function ot(){for(;++ut<Pe.length;)if(L.call(Pe,ut))return ot.value=Pe[ut],ot.done=!1,ot;return ot.value=a,ot.done=!0,ot};return nt.next=nt}}throw new TypeError(typeof Pe+" is not iterable")}return A(N,"constructor",{value:ie.prototype=D,configurable:!0}),A(D,"constructor",{value:ie,configurable:!0}),ie.displayName=P(D,H,"GeneratorFunction"),p.isGeneratorFunction=function(Pe){var We=typeof Pe=="function"&&Pe.constructor;return!!We&&(We===ie||(We.displayName||We.name)==="GeneratorFunction")},p.mark=function(Pe){return Object.setPrototypeOf?Object.setPrototypeOf(Pe,D):(Pe.__proto__=D,P(Pe,H,"GeneratorFunction")),Pe.prototype=Object.create(N),Pe},p.awrap=function(Pe){return{__await:Pe}},ne(G.prototype),P(G.prototype,Q,function(){return this}),p.AsyncIterator=G,p.async=function(Pe,We,ut,nt,ot){ot===void 0&&(ot=Promise);var Me=new G(j(Pe,We,ut,nt),ot);return p.isGeneratorFunction(We)?Me:Me.next().then(function(et){return et.done?et.value:Me.next()})},ne(N),P(N,H,"Generator"),P(N,z,function(){return this}),P(N,"toString",function(){return"[object Generator]"}),p.keys=function(Pe){var We=Object(Pe),ut=[];for(var nt in We)ut.push(nt);return ut.reverse(),function ot(){for(;ut.length;){var Me=ut.pop();if(Me in We)return ot.value=Me,ot.done=!1,ot}return ot.done=!0,ot}},p.values=we,Ae.prototype={constructor:Ae,reset:function(Pe){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Le),!Pe)for(var We in this)We.charAt(0)==="t"&&L.call(this,We)&&!isNaN(+We.slice(1))&&(this[We]=a)},stop:function(){this.done=!0;var Pe=this.tryEntries[0].completion;if(Pe.type==="throw")throw Pe.arg;return this.rval},dispatchException:function(Pe){if(this.done)throw Pe;var We=this;function ut(Ze,Xe){return Me.type="throw",Me.arg=Pe,We.next=Ze,Xe&&(We.method="next",We.arg=a),!!Xe}for(var nt=this.tryEntries.length-1;0<=nt;--nt){var ot=this.tryEntries[nt],Me=ot.completion;if(ot.tryLoc==="root")return ut("end");if(ot.tryLoc<=this.prev){var et=L.call(ot,"catchLoc"),Ve=L.call(ot,"finallyLoc");if(et&&Ve){if(this.prev<ot.catchLoc)return ut(ot.catchLoc,!0);if(this.prev<ot.finallyLoc)return ut(ot.finallyLoc)}else if(et){if(this.prev<ot.catchLoc)return ut(ot.catchLoc,!0)}else{if(!Ve)throw Error("try statement without catch or finally");if(this.prev<ot.finallyLoc)return ut(ot.finallyLoc)}}}},abrupt:function(Pe,We){for(var ut=this.tryEntries.length-1;0<=ut;--ut){var nt=this.tryEntries[ut];if(nt.tryLoc<=this.prev&&L.call(nt,"finallyLoc")&&this.prev<nt.finallyLoc){var ot=nt;break}}ot&&(Pe==="break"||Pe==="continue")&&ot.tryLoc<=We&&We<=ot.finallyLoc&&(ot=null);var Me=ot?ot.completion:{};return Me.type=Pe,Me.arg=We,ot?(this.method="next",this.next=ot.finallyLoc,re):this.complete(Me)},complete:function(Pe,We){if(Pe.type==="throw")throw Pe.arg;return Pe.type==="break"||Pe.type==="continue"?this.next=Pe.arg:Pe.type==="return"?(this.rval=this.arg=Pe.arg,this.method="return",this.next="end"):Pe.type==="normal"&&We&&(this.next=We),re},finish:function(Pe){for(var We=this.tryEntries.length-1;0<=We;--We){var ut=this.tryEntries[We];if(ut.finallyLoc===Pe)return this.complete(ut.completion,ut.afterLoc),Le(ut),re}},catch:function(Pe){for(var We=this.tryEntries.length-1;0<=We;--We){var ut=this.tryEntries[We];if(ut.tryLoc===Pe){var nt=ut.completion;if(nt.type==="throw"){var ot=nt.arg;Le(ut)}return ot}}throw Error("illegal catch attempt")},delegateYield:function(Pe,We,ut){return this.delegate={iterator:we(Pe),resultName:We,nextLoc:ut},this.method==="next"&&(this.arg=a),re}},p}function Ft(a,p){return function(L){if(Array.isArray(L))return L}(a)||function(L,A){var O=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(O!=null){var z,Q,H,P,j=[],K=!0,ee=!1;try{if(H=(O=O.call(L)).next,A!==0)for(;!(K=(z=H.call(O)).done)&&(j.push(z.value),j.length!==A);K=!0);}catch(w){ee=!0,Q=w}finally{try{if(!K&&O.return!=null&&(P=O.return(),Object(P)!==P))return}finally{if(ee)throw Q}}return j}}(a,p)||On(a,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oe(a){return function(M){if(Array.isArray(M))return x(M)}(a)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(a)||On(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pn(a){return(pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(a)}function On(a,p){if(a){if(typeof a=="string")return x(a,p);var M={}.toString.call(a).slice(8,-1);return M==="Object"&&a.constructor&&(M=a.constructor.name),M==="Map"||M==="Set"?Array.from(a):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?x(a,p):void 0}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(a){var p=this;if(!document.documentElement.contains(p))return null;do{if(p.matches(a))return p;p=p.parentElement||p.parentNode}while(p!==null&&p.nodeType===1);return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var p=(this.document||this.ownerDocument).querySelectorAll(a),M=p.length;0<=--M&&p.item(M)!==this;);return-1<M}),Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(a,p){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(a),L=1;L<arguments.length;L++){var A=arguments[L];if(A!=null)for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(M[O]=A[O])}return M},writable:!0,configurable:!0}),function(){var a=/^\s*:scope/gi,p=/,\s*:scope/gi,M=document.createElement("div");function L(O,z){var Q=O[z];O[z]=function(H){var P,j=!1,K=!1;if(!H||Array.isArray(H)||!H.match(a)&&!H.match(p))return Q.call(this,H);this.parentNode||(M.appendChild(this),K=!0);var ee=this.parentNode;return this.id||(this.id="rootedQuerySelector_id_".concat(new Date().getTime()),j=!0),P=Q.call(ee,H.replace(a,"#".concat(this.id)).replace(p,",#".concat(this.id))),j&&(this.id=""),K&&M.removeChild(this),P}}try{var A=M.querySelectorAll(":scope *");if(!A||Array.isArray(A))throw"error"}catch{L(Element.prototype,"querySelector"),L(Element.prototype,"querySelectorAll"),L(HTMLElement.prototype,"querySelector"),L(HTMLElement.prototype,"querySelectorAll")}}(),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(a){if("Element"in a){var p="classList",M="prototype",L=a.Element[M],A=Object,O=String[M].trim||function(){return this.replace(/^\s+|\s+$/g,"")},z=Array[M].indexOf||function(w){for(var xe=0,be=this.length;xe<be;xe++)if(xe in this&&this[xe]===w)return xe;return-1},Q=function(xe,be){this.name=xe,this.code=DOMException[xe],this.message=be},H=function(xe,be){if(be==="")throw new Q("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(be))throw new Q("INVALID_CHARACTER_ERR","The token must not contain space characters.");return z.call(xe,be)},P=function(xe){for(var be=O.call(xe.getAttribute("class")||""),re=be?be.split(/\s+/):[],se=0,ie=re.length;se<ie;se++)this.push(re[se]);this._updateClassName=function(){xe.setAttribute("class",this.toString())}},j=P[M]=[],K=function(){return new P(this)};if(Q[M]=Error[M],j.item=function(w){return this[w]||null},j.contains=function(w){return~H(this,w+"")},j.add=function(){for(var w,xe=arguments,be=0,re=xe.length,se=!1;w=xe[be]+"",~H(this,w)||(this.push(w),se=!0),++be<re;);se&&this._updateClassName()},j.remove=function(){var w,xe,be=arguments,re=0,se=be.length,ie=!1;do for(w=be[re]+"",xe=H(this,w);~xe;)this.splice(xe,1),ie=!0,xe=H(this,w);while(++re<se);ie&&this._updateClassName()},j.toggle=function(w,xe){var be=this.contains(w),re=be?xe!==!0&&"remove":xe!==!1&&"add";return re&&this[re](w),xe===!0||xe===!1?xe:!be},j.replace=function(w,xe){var be=H(w+"");~be&&(this.splice(be,1,xe),this._updateClassName())},j.toString=function(){return this.join(" ")},A.defineProperty){var ee={get:K,enumerable:!0,configurable:!0};try{A.defineProperty(L,p,ee)}catch(w){w.number!==void 0&&w.number!==-2146823252||(ee.enumerable=!1,A.defineProperty(L,p,ee))}}else A[M].__defineGetter__&&L.__defineGetter__(p,K)}}(self),function(){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var p=function(A){var O=DOMTokenList.prototype[A];DOMTokenList.prototype[A]=function(z){var Q,H=arguments.length;for(Q=0;Q<H;Q++)z=arguments[Q],O.call(this,z)}};p("add"),p("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var M=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(L,A){return 1 in arguments&&!this.contains(L)==!A?A:M.call(this,L)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(L,A){var O=this.toString().split(" "),z=O.indexOf(L+"");~z&&(O=O.slice(z),this.remove.apply(this,O),this.add(A),this.add.apply(this,O.slice(1)))}),a=null}()),function(){var a,p=-1;if(navigator.appName==="Microsoft Internet Explorer"?(a=navigator.userAgent,new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(a)!==null&&(p=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(a=navigator.userAgent,new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(a)!==null&&(p=parseFloat(RegExp.$1))),!(typeof window>"u"||typeof document>"u"||typeof HTMLElement>"u"||p<0)){var M=!1;try{var L=document.createElement("div");L.addEventListener("focus",function(Q){Q.preventDefault(),Q.stopPropagation()},!0),L.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&typeof navigator.userAgent<"u"&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return M=!1;M=!0}}))}catch{}if(HTMLElement.prototype.nativeFocus===void 0&&!M){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var A=function(H){for(var P=H.parentNode,j=[],K=document.scrollingElement||document.documentElement;P&&P!==K;)(P.offsetHeight<P.scrollHeight||P.offsetWidth<P.scrollWidth)&&j.push([P,P.scrollTop,P.scrollLeft]),P=P.parentNode;return P=K,j.push([P,P.scrollTop,P.scrollLeft]),j},O=function(H){for(var P=0;P<H.length;P++)H[P][0].scrollTop=H[P][1],H[P][0].scrollLeft=H[P][2];H=[]},z=function(H){if(H&&H.preventScroll){var P=A(this);if(typeof setTimeout=="function"){var j=this;setTimeout(function(){j.nativeFocus(),O(P)},0)}else this.nativeFocus(),O(P)}else this.nativeFocus()};HTMLElement.prototype.focus=z}}}();function ve(a,p,M){if(typeof a!="string")return new ve.Bootstrap(a,p,M);var L=document.querySelectorAll(a);p&&p.iframe_document&&(L=p.iframe_document.querySelectorAll(a));for(var A=[],O=0;O<L.length;O++){var z=L[O]["data-froala.editor"];z?A.push(z):A.push(new ve.Bootstrap(L[O],p,M))}return A.length==1?A[0]:A}ve.RegisterPlugins=function(a){for(var p=0;p<a.length;p++)a[p].call(ve)},Object.assign(ve,{DEFAULTS:{allowStylingOnNonEditable:!1,initOnClick:!1,pluginsEnabled:null,pluginsDisabled:null},MODULES:{},PLUGINS:{},VERSION:"4.6.0",INSTANCES:[],OPTS_MAPPING:{},SHARED:{},ID:0}),ve.MODULES.node=function(a){var p=a.$;function M(Q){return Q&&Q.tagName!=="IFRAME"?Array.prototype.slice.call(Q.childNodes||[]):[]}function L(Q){return!!Q&&Q.nodeType===Node.ELEMENT_NODE&&0<=ve.BLOCK_TAGS.indexOf(Q.tagName.toLowerCase())}function A(Q){var H={},P=Q.attributes;if(P)for(var j=0;j<P.length;j++){var K=P[j];H[K.nodeName]=K.value}return H}function O(Q){for(var H="",P=A(Q),j=Object.keys(P),K=0;K<j.length;K++){var ee=j[K],w=P[ee];w.indexOf("'")<0&&0<=w.indexOf('"')?H+=" ".concat(ee,"='").concat(w,"'"):(0<=w.indexOf('"')&&0<=w.indexOf("'")&&(w=w.replace(/"/g,"&quot;")),H+=" ".concat(ee,'="').concat(w,'"'))}return H}function z(Q){return Q===a.el}return{isBlock:L,isEmpty:function(H,P){if(!H)return!0;if(H.querySelector("table"))return!1;var j=M(H);j.length===1&&L(j[0])&&(j=M(j[0]));for(var K=!1,ee=0;ee<j.length;ee++){var w=j[ee];if(!(P&&a.node.hasClass(w,"fr-marker")||w.nodeType===Node.TEXT_NODE&&w.textContent.length===0)){if(w.tagName!=="BR"&&0<(w.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length||K)return!1;w.tagName==="BR"&&(K=!0)}}return!(H.querySelectorAll(ve.VOID_ELEMENTS.join(",")).length-H.querySelectorAll("br").length||H.querySelector("".concat(a.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),"),":not(.fr-marker)"))||1<H.querySelectorAll(ve.BLOCK_TAGS.join(",")).length||H.querySelector("".concat(a.opts.htmlDoNotWrapTags.join(":not(.fr-marker),"),":not(.fr-marker)")))},blockParent:function(H){for(;H&&H.parentNode!==a.el&&(!H.parentNode||!a.node.hasClass(H.parentNode,"fr-inner"));)if(L(H=H.parentNode))return H;return null},deepestParent:function(H,P,j){if(P===void 0&&(P=[]),j===void 0&&(j=!0),P.push(a.el),0<=P.indexOf(H.parentNode)||H.parentNode&&a.node.hasClass(H.parentNode,"fr-inner")||H.parentNode&&0<=ve.SIMPLE_ENTER_TAGS.indexOf(H.parentNode.tagName)&&j)return null;for(;P.indexOf(H.parentNode)<0&&H.parentNode&&!a.node.hasClass(H.parentNode,"fr-inner")&&(ve.SIMPLE_ENTER_TAGS.indexOf(H.parentNode.tagName)<0||!j)&&(!L(H)||L(H.parentNode))&&(!L(H)||!L(H.parentNode)||!j);)H=H.parentNode;return H},rawAttributes:A,attributes:O,clearAttributes:function(H){for(var P=H.attributes,j=P.length-1;0<=j;j--){var K=P[j];H.removeAttribute(K.nodeName)}},openTagString:function(H){return"<".concat(H.tagName.toLowerCase()).concat(O(H),">")},closeTagString:function(H){return"</".concat(H.tagName.toLowerCase(),">")},isFirstSibling:function Q(H,P){P===void 0&&(P=!0);for(var j=H.previousSibling;j&&P&&a.node.hasClass(j,"fr-marker");)j=j.previousSibling;return!j||j.nodeType===Node.TEXT_NODE&&j.textContent===""&&Q(j)},isLastSibling:function Q(H,P){P===void 0&&(P=!0);for(var j=H.nextSibling;j&&P&&a.node.hasClass(j,"fr-marker");)j=j.nextSibling;return!j||j.nodeType===Node.TEXT_NODE&&j.textContent===""&&Q(j)},isList:function(H){return!!H&&0<=["UL","OL"].indexOf(H.tagName)},isLink:function(H){return!!H&&H.nodeType===Node.ELEMENT_NODE&&H.tagName.toLowerCase()==="a"},isElement:z,contents:M,isVoid:function(H){return H&&H.nodeType===Node.ELEMENT_NODE&&0<=ve.VOID_ELEMENTS.indexOf((H.tagName||"").toLowerCase())},hasFocus:function(H){return H===a.doc.activeElement&&(!a.doc.hasFocus||a.doc.hasFocus())&&!!(z(H)||H.type||H.href||~H.tabIndex)},isEditable:function(H){return(!H.getAttribute||H.getAttribute("contenteditable")!=="false")&&["STYLE","SCRIPT"].indexOf(H.tagName)<0&&!(H.viewportElement&&H.viewportElement.tagName==="svg")},isDeletable:function(H){return H&&H.nodeType===Node.ELEMENT_NODE&&H.getAttribute("class")&&0<=(H.getAttribute("class")||"").indexOf("fr-deletable")},hasClass:function(H,P){return H instanceof p&&(H=H.get(0)),H&&H.classList&&H.classList.contains(P)},filter:function(H){return a.browser.msie?H:{acceptNode:H}}}},Object.assign(ve.DEFAULTS,{DOMPurify:window.DOMPurify,htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowedStyleProps:[".*"],htmlAllowComments:!0,htmlUntouched:!1,preserveTabSpaces:!1,fullPage:!1}),ve.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},ve.MODULES.clean=function(a){var p,M,L,A,O=a.$;function z(be){if(be.nodeType===Node.ELEMENT_NODE&&be.getAttribute("class")&&0<=be.getAttribute("class").indexOf("fr-marker")||["TABLE","TBODY","THEAD","TFOOT","TR","TD","TH"].includes(be.nodeName))return!1;var re,se=a.node.contents(be),ie=[];for(re=0;re<se.length;re++)se[re].nodeType!==Node.ELEMENT_NODE||a.node.isVoid(se[re])?se[re].nodeType===Node.TEXT_NODE&&(se[re].textContent=se[re].textContent.replace(/\u200b/g,"")):se[re].textContent.replace(/\u200b/g,"").length!==se[re].textContent.length&&z(se[re]);if(be.nodeType===Node.ELEMENT_NODE&&!a.node.isVoid(be)&&(be.normalize(),se=a.node.contents(be),ie=be.querySelectorAll(".fr-marker"),se.length-ie.length==0)){for(re=0;re<se.length;re++)if(se[re].nodeType===Node.ELEMENT_NODE&&(se[re].getAttribute("class")||"").indexOf("fr-marker")<0)return!1;for(re=0;re<ie.length;re++)be.parentNode.insertBefore(ie[re].cloneNode(!0),be);return be.parentNode.removeChild(be),!1}}function Q(be,re){if(be.nodeType===Node.COMMENT_NODE)return"<!--".concat(be.nodeValue,"-->");if(be.nodeType===Node.TEXT_NODE)return re?be.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.opts.preserveTabSpaces?be.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\t/g," ".repeat(a.opts.tabSpaces)||" ".repeat(4)):be.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\t/g,"");if(be.nodeType!==Node.ELEMENT_NODE||be.nodeType===Node.ELEMENT_NODE&&0<=["STYLE","SCRIPT","NOSCRIPT"].indexOf(be.tagName))return be.outerHTML;if(be.nodeType===Node.ELEMENT_NODE&&be.tagName==="svg"){var se=document.createElement("div"),ie=be.cloneNode(!0);return se.appendChild(ie),se.innerHTML}if(be.tagName==="IFRAME")return be.outerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">");var D=be.childNodes;if(D.length===0)return be.outerHTML;for(var U="",V=0;V<D.length;V++)be.tagName==="PRE"&&(re=!0),U+=Q(D[V],re);return a.node.openTagString(be)+U+a.node.closeTagString(be)}var H=[];function P(be){var re=be.replace(/;;/gi,";");return(re=re.replace(/^;/gi,"")).charAt(re.length)!==";"&&(re+=";"),re}function j(be){var re;for(re in be)if(Object.prototype.hasOwnProperty.call(be,re)){var se=re.match(L),ie=null;re==="style"&&a.opts.htmlAllowedStyleProps.length&&(ie=be[re].match(A)),se&&ie?be[re]=P(ie.join(";")):se&&(re!=="style"||ie)||delete be[re]}for(var D="",U=Object.keys(be).sort(),V=0;V<U.length;V++)be[re=U[V]].indexOf('"')<0?D+=" ".concat(re,'="').concat(be[re],'"'):D+=" ".concat(re,"='").concat(be[re],"'");return D}function K(be,re){var se,ie=document.implementation.createHTMLDocument("Froala DOC").createElement("DIV");O(ie).append(be);var D="";if(ie){var U=a.node.contents(ie);for(se=0;se<U.length;se++)re(U[se]);for(U=a.node.contents(ie),se=0;se<U.length;se++)D+=Q(U[se])}return D}function ee(be,re,se){var ie=be=function(V){return H=[],V=(V=(V=(V=V.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(I){return H.push(I),"[FROALA.EDITOR.SCRIPT ".concat(H.length-1,"]")})).replace(/<noscript\b[^<]*(?:(?!<\/noscript>)<[^<]*)*<\/noscript>/gi,function(I){return H.push(I),"[FROALA.EDITOR.NOSCRIPT ".concat(H.length-1,"]")})).replace(/<meta((?:[\w\W]*?)) http-equiv="/g,'<meta$1 data-fr-http-equiv="')).replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}(be),D=null;return a.opts.fullPage&&(ie=a.html.extractNode(be,"body")||(0<=be.indexOf("<body")?"":be),se&&(D=a.html.extractNode(be,"head")||"")),ie=K(ie,re),D&&(D=K(D,re)),function(V){return V=(V=(V=V.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(I,N){return 0<=a.opts.htmlRemoveTags.indexOf("script")?"":H[parseInt(N,10)]})).replace(/\[FROALA\.EDITOR\.NOSCRIPT ([\d]*)\]/gi,function(I,N){if(0<=a.opts.htmlRemoveTags.indexOf("noscript"))return"";var ne=H[parseInt(N,10)].replace(/&lt;/g,"<").replace(/&gt;/g,">"),G=O(ne);if(G&&G.length){var q=K(G.html(),xe);G.html(q),ne=G.get(0).outerHTML}return ne})).replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}(function(V,I,N){if(a.opts.fullPage){var ne=a.html.extractDoctype(N),G=j(a.html.extractNodeAttrs(N,"html"));I=I===null?a.html.extractNode(N,"head")||"<title></title>":I;var q=j(a.html.extractNodeAttrs(N,"head")),de=j(a.html.extractNodeAttrs(N,"body"));return"".concat(ne,"<html").concat(G,"><head").concat(q,">").concat(I,"</head><body").concat(de,">").concat(V,"</body></html>")}return V}(ie,D,be))}function w(be){var re=a.doc.createElement("DIV");return re.innerText=be,re.textContent}function xe(be){for(var re=a.node.contents(be),se=0;se<re.length;se++)re[se].nodeType!==Node.TEXT_NODE&&xe(re[se]);(function(D){if(D.tagName==="SPAN"&&0<=(D.getAttribute("class")||"").indexOf("fr-marker"))return!1;if(D.tagName==="PRE"&&function(nt){var ot=nt.innerHTML;0<=ot.indexOf(`
`)&&(nt.innerHTML=ot.replace(/\n/g,"<br>"))}(D),D.nodeType===Node.ELEMENT_NODE&&(D.getAttribute("data-fr-src")&&D.getAttribute("data-fr-src").indexOf("blob:")!==0&&D.setAttribute("data-fr-src",a.helpers.sanitizeURL(w(D.getAttribute("data-fr-src")))),D.getAttribute("href")&&D.setAttribute("href",a.helpers.sanitizeURL(w(D.getAttribute("href")))),D.getAttribute("src")&&D.setAttribute("src",a.helpers.sanitizeURL(w(D.getAttribute("src")))),D.getAttribute("srcdoc")&&D.setAttribute("srcdoc",a.clean.html(D.getAttribute("srcdoc"))),0<=["TABLE","TBODY","TFOOT","TR"].indexOf(D.tagName)&&(D.innerHTML=D.innerHTML.trim())),!a.opts.pasteAllowLocalImages&&D.nodeType===Node.ELEMENT_NODE&&D.tagName==="IMG"&&D.getAttribute("data-fr-src")&&D.getAttribute("data-fr-src").indexOf("file://")===0)return D.parentNode.removeChild(D),!1;if(D.nodeType===Node.ELEMENT_NODE&&ve.HTML5Map[D.tagName]&&a.node.attributes(D)===""){var U=ve.HTML5Map[D.tagName],V="<".concat(U,">").concat(D.innerHTML,"</").concat(U,">");D.insertAdjacentHTML("beforebegin",V),(D=D.previousSibling).parentNode.removeChild(D.nextSibling)}if(a.opts.htmlAllowComments||D.nodeType!==Node.COMMENT_NODE)if(D.tagName&&D.tagName.match(M)){if(D.tagName=="STYLE"&&a.helpers.isMac()){var I,N=D.innerHTML.trim(),ne=[],G=/{([^}]+)}/g;for(N=N.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*|<!--[\s\S]*?-->$/,"");I=G.exec(N);)ne.push(I[1]);for(var q=function(nt){var ot=N.substring(0,N.indexOf("{")).trim();!/^[a-z_-][a-z\d_-]*$/i.test(ot)==0&&D.parentNode.querySelectorAll(ot).forEach(function(Me){Me.removeAttribute("class"),Me.setAttribute("style",ne[nt])}),N=N.substring(N.indexOf("}")+1)},de=0;N.indexOf("{")!=-1;de++)q(de)}D.parentNode.removeChild(D)}else if(D.tagName&&!D.tagName.match(p))D.tagName==="svg"?D.parentNode.removeChild(D):a.browser.safari&&D.tagName==="path"&&D.parentNode&&D.parentNode.tagName==="svg"||(D.outerHTML=D.innerHTML);else{var Le=D.attributes;if(Le)for(var Ae=Le.length-1;0<=Ae;Ae--){var we=Le[Ae],Pe=we.nodeName.match(L),We=null;we.nodeName==="style"&&a.opts.htmlAllowedStyleProps.length&&(We=we.value.match(A)),Pe&&We?we.value=P(We.join(";")):Pe&&(we.nodeName!=="style"||We)||D.removeAttribute(we.nodeName)}}else D.data.indexOf("[FROALA.EDITOR")!==0&&D.parentNode.removeChild(D)})(be)}return{_init:function(){a.opts.fullPage&&O.merge(a.opts.htmlAllowedTags,["head","title","style","link","base","body","html","meta"])},html:function(re,se,ie,D){if(se===void 0&&(se=[]),ie===void 0&&(ie=[]),0<=re.indexOf("<plaintext>")){re=re.replace(/<plaintext>/g,"").replace(/<\/plaintext>/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&nbsp;").replace(/\t/g,a.opts.preserveTabSpaces?" ".repeat(a.opts.tabSpaces||4):"");var U=a.html.defaultTag();a.opts.enter!=ve.ENTER_BR&&(re="<".concat(U,">").concat(re,"</").concat(U,">"))}var V,I=O.merge([],a.opts.htmlAllowedTags);for(V=0;V<se.length;V++)0<=I.indexOf(se[V])&&I.splice(I.indexOf(se[V]),1);var N=O.merge([],a.opts.htmlAllowedAttrs);for(V=0;V<ie.length;V++)0<=N.indexOf(ie[V])&&N.splice(N.indexOf(ie[V]),1);if(N.push("data-fr-.*"),N.push("fr-.*"),p=new RegExp("^".concat(I.join("$|^"),"$"),"gi"),L=new RegExp("^".concat(N.join("$|^"),"$"),"gi"),M=new RegExp("^".concat(a.opts.htmlRemoveTags.join("$|^"),"$"),"gi"),A=a.opts.htmlAllowedStyleProps.length?new RegExp("((^|;|\\s)".concat(a.opts.htmlAllowedStyleProps.join(":.+?(?=;|$))|((^|;|\\s)"),":.+?(?=(;)|$))"),"gi"):null,re=ee(re,xe,!0),typeof a.opts.DOMPurify<"u"){var ne={ALLOW_UNKNOWN_PROTOCOLS:!0};a.opts.htmlAllowedTags.length===1&&a.opts.htmlAllowedTags[0]===".*"||(ne.ALLOWED_TAGS=a.opts.htmlAllowedTags),a.opts.htmlAllowedAttrs.length===1&&a.opts.htmlAllowedAttrs[0]===".*"||(ne.ALLOWED_ATTR=a.opts.htmlAllowedAttrs),re=a.opts.DOMPurify.sanitize(re,ne)}return re},toHTML5:function(){var re=a.el.querySelectorAll(Object.keys(ve.HTML5Map).join(","));if(re.length){var se=!1;a.el.querySelector(".fr-marker")||(a.selection.save(),se=!0);for(var ie=0;ie<re.length;ie++)a.node.attributes(re[ie])===""&&O(re[ie]).replaceWith("<".concat(ve.HTML5Map[re[ie].tagName],">").concat(re[ie].innerHTML,"</").concat(ve.HTML5Map[re[ie].tagName],">"));se&&a.selection.restore()}},tables:function(){(function(){for(var se=a.el.querySelectorAll("tr"),ie=0,D=0;D<se.length;D++){var U=se[D].outerHTML.match(/rowspan="([0-9]+)"/);U&&(ie+=Number(U[1])-1);for(var V=se[D].children,I=!0,N=0;N<V.length;N++)if(V[N].tagName!=="TH"){I=!1;break}if(I!==!1&&V.length!==0)if(V.length===1&&V[0].tagName==="TH"&&ie)ie--;else{var ne=se[D],G=ne.closest("table");if(G){var q=G.querySelector("thead");q||(q=a.doc.createElement("THEAD"),G.insertBefore(q,G.firstChild)),q.contains(ne)||q.appendChild(ne)}}}})(),function(){for(var se=a.$el.find("table[style]"),ie=0;ie<se.length;ie++){var D=O(se[ie]);D.attr("style").indexOf("width")<0&&D.css("width","100%")}for(var U=a.$el.find("td[width]"),V=0;V<U.length;V++){var I=O(U[V]),N=I.attr("width");N&&(I.css("width",N),I.removeAttr("width"))}}()},lists:function(){(function(){var se,ie=[];do{if(ie.length){var D=ie[0],U=a.doc.createElement("ul");D.parentNode.insertBefore(U,D);do{var V=D;D=D.nextSibling,U.appendChild(V)}while(D&&D.tagName==="LI")}ie=[];for(var I=a.el.querySelectorAll("li"),N=0;N<I.length;N++)se=I[N],a.node.isList(se.parentNode)||ie.push(I[N])}while(0<ie.length)})(),function(){for(var se=a.el.querySelectorAll("ol + ol, ul + ul"),ie=0;ie<se.length;ie++){var D=se[ie];if(a.node.isList(D.previousSibling)&&a.node.openTagString(D)===a.node.openTagString(D.previousSibling)){for(var U=a.node.contents(D),V=0;V<U.length;V++)D.previousSibling.appendChild(U[V]);D.parentNode.removeChild(D)}}}(),function(){for(var se=a.el.querySelectorAll("ul, ol"),ie=0;ie<se.length;ie++)for(var D=a.node.contents(se[ie]),U=null,V=D.length-1;0<=V;V--)!D[V].tagName&&a.opts.htmlUntouched||D[V].tagName==="LI"||D[V].tagName=="UL"||D[V].tagName=="OL"?U=null:D[V].tagName=="BR"?O(D[V]).remove():(U||(U=O(a.doc.createElement("LI"))).insertBefore(D[V]),U.prepend(D[V]))}(),function(){var se,ie,D;do{ie=!1;var U=a.el.querySelectorAll("li:empty");for(se=0;se<U.length;se++)U[se].parentNode.removeChild(U[se]);var V=a.el.querySelectorAll("ul, ol");for(se=0;se<V.length;se++)(D=V[se]).querySelector("LI")||(ie=!0,D.parentNode.removeChild(D))}while(ie===!0)}(),function(){for(var se=a.el.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),ie=0;ie<se.length;ie++){var D=se[ie],U=D.previousSibling;U&&(U.tagName==="LI"?U.appendChild(D):O(D).wrap("<li></li>"))}}(),function(){for(var se=a.el.querySelectorAll("li > ul, li > ol"),ie=0;ie<se.length;ie++){var D=se[ie];if(D.nextSibling)for(var U=D.nextSibling;0<U.childNodes.length;)D.append(U.childNodes[0])}}(),function(){for(var se=a.el.querySelectorAll("li > ul, li > ol"),ie=0;ie<se.length;ie++){var D=se[ie];if(a.node.isFirstSibling(D)&&D.parentNode.style.listStyleType!="none")O(D).before("<br/>");else if(D.previousSibling&&D.previousSibling.tagName==="BR"){for(var U=D.previousSibling.previousSibling;U&&a.node.hasClass(U,"fr-marker");)U=U.previousSibling;U&&U.tagName!=="BR"&&O(D.previousSibling).remove()}}}(),function(){for(var se=a.el.querySelectorAll("li:empty"),ie=0;ie<se.length;ie++)O(se[ie]).remove()}(),function(){for(var se=a.el.querySelectorAll("ul, ol"),ie=0;ie<se.length;ie++)for(var D=se[ie],U=a.node.contents(D),V=function(){var ne=U[I],G=a.node.contents(ne);if(ne.nodeType!==Node.ELEMENT_NODE)return 0;var q=ne.querySelectorAll("ul, ol");if(0<q.length&&G.length==1&&G[0].nodeType===Node.ELEMENT_NODE){var de=q[0],Le=U[I-1];if(!Le)return 0;var Ae=O(Le).data("tracking")&&a.opts.trackChangesEnabled;Oe(de.querySelectorAll("li")).reverse().forEach(function(we){if(Ae){var Pe="pending-".concat(a.id,"-").concat(a.track_changes.getPendingChanges().length),We=a.opts.showChangesEnabled?'class="fr-highlight-change"':"",ut=we.innerHTML;we.innerHTML='<span data-tracking="true" data-track-id="'.concat(Pe,'" ').concat(We,">").concat(ut,"</span>"),a.track_changes.pushChange(Pe)}}),Le.append(de),ne.remove()}},I=0;I<U.length;I++)V()}()},invisibleSpaces:function(re){return re.replace(/\u200b/g,"").length===re.length?re:a.clean.exec(re,z)},exec:ee}},ve.XS=0,ve.SM=1,ve.MD=2,ve.LG=3,ve.LinkRegExCommon="[".concat("a-z\\u0080-\\u009f\\u00a1-\\uffff0-9-_\\.","]{1,}"),ve.LinkRegExEnd="((:[0-9]{1,5})|)(((\\/|\\?|#)[a-zA-Z0-9\\u00a1-\\uffff@\\[\\]\\(\\)\\{\\}.,:;!?%&$^=*+~#_\\-`'\"\\\\\\/|]*)|())",ve.LinkRegExTLD="((".concat(ve.LinkRegExCommon,")(\\.(com|net|org|edu|mil|gov|co|biz|info|me|dev|in|fr|it)))"),ve.LinkRegExHTTP="((ftp|http|https):\\/\\/".concat(ve.LinkRegExCommon,")"),ve.LinkRegExAuth="((ftp|http|https):\\/\\/[\\u0021-\\uffff]{1,}@".concat(ve.LinkRegExCommon,")"),ve.LinkRegExWWW="(www\\.".concat(ve.LinkRegExCommon,"\\.[a-z0-9-]{2,24})"),ve.LinkRegEx="(".concat(ve.LinkRegExTLD,"|").concat(ve.LinkRegExHTTP,"|").concat(ve.LinkRegExWWW,"|").concat(ve.LinkRegExAuth,")").concat(ve.LinkRegExEnd),ve.LinkProtocols=["mailto","tel","sms","notes","data"],ve.MAIL_REGEX=/.+@.+\..+/i,ve.MODULES.helpers=function(a){var p,M=a.$;function L(){var P={},j=function(){var be,re=-1;return navigator.appName==="Microsoft Internet Explorer"?(be=navigator.userAgent,new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(be)!==null&&(re=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(be=navigator.userAgent,new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(be)!==null&&(re=parseFloat(RegExp.$1))),re}();if(0<j)P.msie=!0;else{var K=navigator.userAgent.toLowerCase(),ee=/(edge)[ /]([\w.]+)/.exec(K)||/(chrome)[ /]([\w.]+)/.exec(K)||/(webkit)[ /]([\w.]+)/.exec(K)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(K)||/(msie) ([\w.]+)/.exec(K)||K.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(K)||[],w=ee[1]||"";ee[2],ee[1]&&(P[w]=!0),P.chrome?P.webkit=!0:P.webkit&&(P.safari=!0)}return P.msie&&(P.version=j),P}function A(){return(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||function(){return navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&/Macintosh/.test(navigator.userAgent)}())&&!Q()}function O(){return/(Android)/g.test(navigator.userAgent)&&!Q()}function z(){return/(Blackberry)/g.test(navigator.userAgent)}function Q(){return/(Windows Phone)/gi.test(navigator.userAgent)}var H=null;return{_init:function(){a.browser=L()},isIOS:A,isMac:function(){return H===null&&(H=0<=navigator.platform.toUpperCase().indexOf("MAC")),H},getIOSVersion:function(){if(A()){var j=navigator.userAgent.match(/OS (\d)?\d_\d(_\d)?/i)||navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/);return j&&j.length&&Math.abs(j[0].split("_")[0].replace("OS ",""))||NaN}return NaN},getSafariVersion:function(){var j=navigator.userAgent;if(j.indexOf("Safari")!==-1){var K=j.match(/Version\/(\d+\.\d+)/);if(K)return parseInt(K[1])}return null},isAndroid:O,isBlackberry:z,isWindowsPhone:Q,isMobile:function(){return O()||A()||z()},isEmail:function(j){return!/^(https?:|ftps?:|)\/\//i.test(j)&&ve.MAIL_REGEX.test(j)},requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(j){window.setTimeout(j,1e3/60)}},getPX:function(j){return parseInt(j,10)||0},screenSize:function(j){try{var K=0;if((K=j?a.$box.width():a.$sc.width())<768)return ve.XS;if(768<=K&&K<992)return ve.SM;if(992<=K&&K<1200)return ve.MD;if(1200<=K)return ve.LG}catch{return ve.LG}},isTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch},sanitizeURL:function(j){if(a.opts.DOMPurify){var K={ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|xxx):|[^a-z]|[a-z+.]+(?:[^a-z+.\-:]|$))/i};a.opts.htmlAllowedTags.length===1&&a.opts.htmlAllowedTags[0]===".*"||(K.ALLOWED_TAGS=a.opts.htmlAllowedTags),a.opts.htmlAllowedAttrs.length===1&&a.opts.htmlAllowedAttrs[0]===".*"||(K.ALLOWED_ATTR=a.opts.htmlAllowedAttrs),j=a.opts.DOMPurify.sanitize(j,K)}return j=j.replace(/(["'/]|\s+)on\w+=(?:"[^"]*"|'[^']*'|[^>\s]+)/gi,""),/^(https?:|ftps?:|)\/\//i.test(j)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(j)||new RegExp("^(".concat(ve.LinkProtocols.join("|"),"):"),"i").test(j)?j:j=encodeURIComponent(j).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/gi,"mailto:").replace(/file%3A/gi,"file:").replace(/sms%3A/gi,"sms:").replace(/tel%3A/gi,"tel:").replace(/notes%3A/gi,"notes:").replace(/data%3Aimage/gi,"data:image").replace(/blob%3A/gi,"blob:").replace(/%3A(\d)/gi,":$1").replace(/webkit-fake-url%3A/gi,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%7B/g,"{").replace(/%7D/g,"}").replace(/%[0-1]+[0-9]+|%[0-1]+[A-F]+/g,"")},isArray:function(j){return j&&!Object.prototype.propertyIsEnumerable.call(j,"length")&&pn(j)==="object"&&typeof j.length=="number"},RGBToHex:function(j){function K(w){return"0".concat(parseInt(w,10).toString(16)).slice(-2)}try{if(!j||j==="transparent")return"";if(/^#[0-9A-F]{6}$/i.test(j)||/^#[0-9A-F]{8}$/i.test(j))return j.toUpperCase();var ee=j.match(/^rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)$/i);if(ee)return"#".concat(K(ee[1])).concat(K(ee[2])).concat(K(ee[3])).toUpperCase();if(ee=j.match(/^rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d*\.?\d+)\s*\)$/i))return"#".concat(K(ee[1])).concat(K(ee[2])).concat(K(ee[3])).concat(K(Math.round(255*parseFloat(ee[4])))).toUpperCase()}catch{return null}},HEXtoRGB:function(j){if(j=j.replace(/^#/,""),/^rgba?\(\d+,\s*\d+,\s*\d+(,\s*(0|1|0?\.\d+))?\)$/i.test(j))return j;if(j.length!==3&&j.length!==4||(j=j.split("").map(function(se){return se+se}).join("")),j.length===6){var K=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);return K?"rgb(".concat(parseInt(K[1],16),", ").concat(parseInt(K[2],16),", ").concat(parseInt(K[3],16),")"):""}if(j.length===8){var ee=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);if(ee){var w=parseInt(ee[1],16),xe=parseInt(ee[2],16),be=parseInt(ee[3],16),re=parseInt(ee[4],16)/255;return"rgba(".concat(w,", ").concat(xe,", ").concat(be,", ").concat(re.toFixed(2),")")}}return""},isURL:function(j){return!!/^(https?:|ftps?:|)\/\//i.test(j)&&(j=String(j).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20"),new RegExp("^".concat(ve.LinkRegExHTTP).concat(ve.LinkRegExEnd,"$"),"gi").test(j))},getAlignment:function(j){j.css||(j=M(j));var K=(j.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(K)<0){if(!p){var ee=M('<div dir="'.concat(a.opts.direction==="rtl"?"rtl":"auto",'" style="text-align: ').concat(a.$el.css("text-align"),'; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>'));M("body").first().append(ee);var w=ee.find("#s1").get(0).getBoundingClientRect().left,xe=ee.find("#s2").get(0).getBoundingClientRect().left;ee.remove(),p=w<xe?"left":"right"}K=p}return K},scrollTop:function(){return a.o_win.pageYOffset?a.o_win.pageYOffset:a.o_doc.documentElement&&a.o_doc.documentElement.scrollTop?a.o_doc.documentElement.scrollTop:a.o_doc.body.scrollTop?a.o_doc.body.scrollTop:0},scrollLeft:function(){return a.o_win.pageXOffset?a.o_win.pageXOffset:a.o_doc.documentElement&&a.o_doc.documentElement.scrollLeft?a.o_doc.documentElement.scrollLeft:a.o_doc.body.scrollLeft?a.o_doc.body.scrollLeft:0},isInViewPort:function(j){var K=j.getBoundingClientRect();return 0<=(K={top:Math.round(K.top),bottom:Math.round(K.bottom)}).top&&K.bottom<=(window.innerHeight||document.documentElement.clientHeight)||K.top<=0&&K.bottom>=(window.innerHeight||document.documentElement.clientHeight)},isValidHexColor:function(j){return/^#([0-9A-F]{3}|[0-9A-F]{6})$/i.test(j)},isRGBColor:function(j){return/^rgba?\(\d+,\s*\d+,\s*\d+(,\s*\d+\.?\d*)?\)$/i.test(j)}}},ve.MODULES.events=function(a){var p,M=a.$,L={};function A(V,I,N){re(V,I,N)}function O(V){if(V.originalEvent&&V.originalEvent.inputType==="insertReplacementText"){var I=a.selection.get();if(!I||I.rangeCount===0)return;for(var N=I.getRangeAt(0),ne=N.startContainer,G=N.startOffset,q=N.endContainer,de=N.endOffset;ne;){for(var Le=ne.textContent,Ae=G-1;0<=Ae&&H(Le[Ae]);)Ae--;if(Ae<=G-1){G=Ae+1;break}G=(ne=z(ne))?ne.textContent.length:0}for(;q;){for(var we=q.textContent,Pe=de;Pe<we.length&&H(we[Pe]);)Pe++;if(de<=Pe&&(Pe<we.length||!ne.isSameNode(q))){de=Pe;break}q=Q(q),de=0}if(ne&&q){var We=document.createRange();We.setStart(ne,G),We.setEnd(q,de),I.removeAllRanges(),I.addRange(We)}}}function z(V){for(;V;)if((!(V=V.previousSibling)||!M(V).hasClass("fr-marker"))&&V&&V.nodeType===Node.TEXT_NODE&&V.textContent.trim())return V;return null}function Q(V){for(;V;)if((!(V=V.nextSibling)||!M(V).hasClass("fr-marker"))&&V&&V.nodeType===Node.TEXT_NODE&&V.textContent.trim())return V;return null}function H(V){return/\w/.test(V)}function P(V){if(V===void 0&&(V=!0),!a.$wp||(a.helpers.isIOS()&&a.$win.get(0).focus(),a.core.hasFocus()))return!1;if(!a.core.hasFocus()&&V){var I=a.$win.scrollTop();if(a.browser.msie&&a.$box&&a.$box.css("position","fixed"),a.browser.msie&&a.$wp&&a.$wp.css("overflow","visible"),a.browser.msie&&a.$sc&&a.$sc.css("position","fixed"),a.browser.msie||(ee(),a.el.focus(),a.events.trigger("focus"),K()),a.browser.msie&&a.$sc&&a.$sc.css("position",""),a.browser.msie&&a.$box&&a.$box.css("position",""),a.browser.msie&&a.$wp&&a.$wp.css("overflow","auto"),I!==a.$win.scrollTop()&&a.$win.scrollTop(I),!a.selection.info(a.el).atStart)return!1}if(!a.core.hasFocus()||0<a.$el.find(".fr-marker").length)return!1;if(a.selection.info(a.el).atStart&&a.selection.isCollapsed()&&a.html.defaultTag()!==null){var N=a.markers.insert();if(N&&!a.node.blockParent(N)){M(N).remove();var ne=a.$el.find(a.html.blockTagsQuery()).get(0);ne&&(M(ne).prepend(ve.MARKERS),a.selection.restore())}else N&&M(N).remove()}}var j=!1;function K(){p=!0}function ee(){p=!1}function w(){return p}function xe(V,I,N){var ne,G=V.split(" ");if(1<G.length){for(var q=0;q<G.length;q++)xe(G[q],I,N);return!0}N===void 0&&(N=!1),ne=V.indexOf("shared.")!==0?(L[V]=L[V]||[],L[V]):(a.shared._events[V]=a.shared._events[V]||[],a.shared._events[V]),N?ne.unshift(I):ne.push(I)}var be=[];function re(V,I,N,ne,G){typeof N=="function"&&(G=ne,ne=N,N=!1);var q=G?a.shared.$_events:be,de=G?a.sid:a.id,Le="".concat(I.trim().split(" ").join(".ed".concat(de," ")),".ed").concat(de);N?V.on(Le,N,ne):V.on(Le,ne),q.push([V,Le])}function se(V){for(var I=0;I<V.length;I++)V[I][0].off(V[I][1])}function ie(V,I,N){if(!a.edit.isDisabled()||N){var ne,G;if(V.indexOf("shared.")!==0)ne=L[V];else{if(0<a.shared.count)return!1;ne=a.shared._events[V]}if(ne){for(var q=0;q<ne.length;q++)if((G=ne[q].apply(a,I))===!1)return!1}return(!a.opts.events||!a.opts.events[V]||(G=a.opts.events[V].apply(a,I))!==!1)&&G}}function D(){for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&delete L[V]}function U(){for(var V in a.shared._events)Object.prototype.hasOwnProperty.call(a.shared._events,V)&&delete a.shared._events[V]}return{_init:function(){a.shared.$_events=a.shared.$_events||[],a.shared._events={},function(){a.helpers.isMobile()?(a._mousedown="touchstart",a._mouseup="touchend",a._move="touchmove",a._mousemove="touchmove"):(a._mousedown="mousedown",a._mouseup="mouseup",a._move="",a._mousemove="mousemove")}(),function(){A(a.$el,"click mouseup mousemove mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(N){ie(N.type,[N])}),xe("mousedown",function(){for(var N=0;N<ve.INSTANCES.length;N++)ve.INSTANCES[N]!==a&&ve.INSTANCES[N].popups&&ve.INSTANCES[N].popups.areVisible()&&ve.INSTANCES[N].$el.find(".fr-marker").remove()})}(),function(){A(a.$win,a._mousedown,function(N){ie("window.mousedown",[N]),K()}),A(a.$win,a._mouseup,function(N){ie("window.mouseup",[N])}),A(a.$win,"beforeinput cut copy keydown keyup touchmove touchend",function(N){ie("window.".concat(N.type),[N])})}(),function(){A(a.$doc,"dragend drop",function(N){ie("document.".concat(N.type),[N])})}(),function(){A(a.$el,"beforeinput keydown keypress keyup input",function(N){ie(N.type,[N])})}(),function(){A(a.$el,"focus",function(N){w()&&(P(!1),j===!1&&(ie(N.type,[N]),a.helpers.isMobile()&&ee()))}),A(a.$el,"blur",function(N){w()&&j===!0&&(ie(N.type,[N]),a.helpers.isMobile()&&a.opts.toolbarContainer&&(a.shared.selected_editor=a.id),K())}),re(a.$el,"mousedown",'[contenteditable="true"]',function(){ee(),a.$el.blur()}),xe("focus",function(){j=!0}),xe("blur",function(){j=!1})}(),K(),function(){A(a.$el,"cut copy paste beforepaste",function(N){ie(N.type,[N])})}(),xe("destroy",D),xe("shared.destroy",U),xe("beforeinput",O)},on:xe,trigger:ie,bindClick:function(I,N,ne){re(I,a._mousedown,N,function(G){a.edit.isDisabled()||function(de){var Le=M(de.currentTarget);return a.edit.isDisabled()||a.node.hasClass(Le.get(0),"fr-disabled")?(de.preventDefault(),!1):de.type==="mousedown"&&de.which!==1||(a.helpers.isMobile()||de.preventDefault(),(a.helpers.isAndroid()||a.helpers.isWindowsPhone())&&Le.parents(".fr-dropdown-menu").length===0&&(de.preventDefault(),de.stopPropagation()),Le.addClass("fr-selected"),void a.events.trigger("commands.mousedown",[Le]))}(G)},!0),re(I,"".concat(a._mouseup," ").concat(a._move),N,function(G){a.edit.isDisabled()||(a.helpers.isIOS()&&a.selection.get().focusNode!==null&&a.selection.save(),function(de,Le){var Ae=M(de.currentTarget);if(a.edit.isDisabled()||a.node.hasClass(Ae.get(0),"fr-disabled"))return de.preventDefault(),!1;if(de.type==="mouseup"&&de.which!==1||a.button.getButtons(".fr-selected",!0).get(0)==Ae.get(0)&&!a.node.hasClass(Ae.get(0),"fr-selected"))return!0;if(de.type!=="touchmove"){if(de.stopPropagation(),de.stopImmediatePropagation(),de.preventDefault(),!a.node.hasClass(Ae.get(0),"fr-selected"))return a.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),!1;if(a.button.getButtons(".fr-selected",!0).removeClass("fr-selected"),Ae.data("dragging")||Ae.attr("disabled"))return Ae.removeData("dragging"),!1;var we=Ae.data("timeout");we&&(clearTimeout(we),Ae.removeData("timeout")),Le.apply(a,[de])}else Ae.data("timeout")||Ae.data("timeout",setTimeout(function(){Ae.data("dragging",!0)},100))}(G,ne))},!0),re(I,"mousedown click mouseup",N,function(G){a.edit.isDisabled()||G.stopPropagation()},!0),xe("window.mouseup",function(){a.edit.isDisabled()||(I.find(N).removeClass("fr-selected"),K())}),re(I,"mouseover",N,function(){M(this).hasClass("fr-options")&&M(this).prev(".fr-btn").addClass("fr-btn-hover"),M(this).next(".fr-btn").hasClass("fr-options")&&M(this).next(".fr-btn").addClass("fr-btn-hover")}),re(I,"mouseout",N,function(){M(this).hasClass("fr-options")&&M(this).prev(".fr-btn").removeClass("fr-btn-hover"),M(this).next(".fr-btn").hasClass("fr-options")&&M(this).next(".fr-btn").removeClass("fr-btn-hover")})},disableBlur:ee,enableBlur:K,blurActive:w,focus:P,chainTrigger:function(I,N,ne){if(!a.edit.isDisabled()||ne){var G,q;if(I.indexOf("shared.")!==0)G=L[I];else{if(0<a.shared.count)return!1;G=a.shared._events[I]}if(G)for(var de=0;de<G.length;de++)(q=G[de].apply(a,[N]))!==void 0&&(N=q);return a.opts.events&&a.opts.events[I]&&(q=a.opts.events[I].apply(a,[N]))!==void 0&&(N=q),N}},$on:re,$off:function(){se(be),be=[],a.shared.count===0&&(se(a.shared.$_events),a.shared.$_events=[])}}},Object.assign(ve.DEFAULTS,{indentMargin:20}),ve.COMMANDS={bold:{title:"Bold",toggle:!0,refresh:function(a){var p=this.format.is("strong");a.toggleClass("fr-active",p).attr("aria-pressed",p)}},italic:{title:"Italic",toggle:!0,refresh:function(a){var p=this.format.is("em");a.toggleClass("fr-active",p).attr("aria-pressed",p)}},underline:{title:"Underline",toggle:!0,refresh:function(a){var p=this.format.is("u");a.toggleClass("fr-active",p).attr("aria-pressed",p)}},strikeThrough:{title:"Strikethrough",toggle:!0,refresh:function(a){var p=this.format.is("s");a.toggleClass("fr-active",p).attr("aria-pressed",p)}},subscript:{title:"Subscript",toggle:!0,refresh:function(a){var p=this.format.is("sub");a.toggleClass("fr-active",p).attr("aria-pressed",p)}},superscript:{title:"Superscript",toggle:!0,refresh:function(a){var p=this.format.is("sup");a.toggleClass("fr-active",p).attr("aria-pressed",p)}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1},moreText:{title:"More Text",undo:!1},moreParagraph:{title:"More Paragraph",undo:!1},moreRich:{title:"More Rich",undo:!1},moreMisc:{title:"More Misc",undo:!1}},ve.RegisterCommand=function(a,p){ve.COMMANDS[a]=p},ve.MODULES.commands=function(a){var p=a.$;function M(K){return a.html.defaultTag()&&(K="<".concat(a.html.defaultTag(),">").concat(K,"</").concat(a.html.defaultTag(),">")),K}var L={bold:function(){z("bold","strong")},subscript:function(){a.format.is("sup")&&a.format.remove("sup"),z("subscript","sub")},superscript:function(){a.format.is("sub")&&a.format.remove("sub"),z("superscript","sup")},italic:function(){z("italic","em")},strikeThrough:function(){z("strikeThrough","s")},underline:function(){z("underline","u")},undo:function(){a.undo.run()},redo:function(){a.undo.redo()},indent:function(){Q(1)},outdent:function(){Q(-1)},show:function(){a.opts.toolbarInline&&a.toolbar.showInline(null,!0)},insertHR:function(){a.selection.remove();var K="";a.core.isEmpty()&&(K=M(K="<br>"));var ee='<hr id="fr-just" class="fr-just">'.concat(K);a.opts.trackChangesEnabled&&(ee=a.track_changes.wrapInTracking(p(ee),"hrWrapper").get(0).outerHTML),a.html.insert(ee);var w,xe=a.$el.find("hr#fr-just").length?a.$el.find("hr#fr-just"):a.$el.find(".fr-just");xe.removeAttr("id"),xe.removeAttr("class");var be=a.opts.trackChangesEnabled&&xe[0].parentNode.tagName==="SPAN"&&xe[0].parentNode.parentNode.tagName==="P";if(xe.next().length===0){var re=a.html.defaultTag();re&&!be?xe.after(p(a.doc.createElement(re)).append("<br>").get(0)):be?xe[0].parentNode.after(p(a.doc.createElement(re)).append("<br>").get(0)):xe.after("<br>")}xe.prev().is("hr")?w=a.selection.setAfter(xe.get(0),!1):xe.next().is("hr")?w=a.selection.setBefore(xe.get(0),!1):be||a.selection.setAfter(xe.get(0),!1)?a.selection.setAfter(xe[0].parentNode,!1):a.selection.setBefore(xe.get(0),!1),w||w===void 0||(K=M(K="".concat(ve.MARKERS,"<br>")),xe.after(K)),a.selection.restore()},clearFormatting:function(){a.format.remove()},selectAll:function(){a.doc.execCommand("selectAll",!1,!1),function(){var ee=null,w=null,xe=null,be=null,re=a.opts.iframe===!0,se=p(".fr-iframe")[0],ie=re?p(se.contentWindow.document.body):a.$el;if(re&&se){var D=se.contentWindow;xe=D.document.createRange.bind(D.document),be=D.getSelection()}else xe=document.createRange.bind(document),be=window.getSelection();if(a.selection.isCollapsed()){be.removeAllRanges();var U=ie.contents();if(ee=U.first()[0],w=U.last()[0],ee&&w){var V=xe();V.setStart(ee,0),V.setEnd(w,w.nodeType===Node.TEXT_NODE?w.textContent.length:w.childNodes.length),be.addRange(V),a.selection.save()}}}()},moreText:function(K){A(K)},moreParagraph:function(K){A(K)},moreRich:function(K){A(K)},moreMisc:function(K){A(K)},moreTrackChanges:function(){A("trackChanges")}};function A(K){var ee=a.$tb.find("[data-cmd=".concat(K,"]")),w=a.$tb.find("[data-cmd=html]");a.opts.trackChangesEnabled||a.markdown&&a.markdown.isEnabled()?w&&w.addClass("fr-disabled"):w&&w.removeClass("fr-disabled"),function(be){a.helpers.isMobile()&&a.opts.toolbarInline&&a.events.disableBlur();var re=a.$tb.find('.fr-more-toolbar[data-name="'.concat(be.attr("data-group-name"),'"]'));if(be.data("cmd")==="trackChanges"&&(re=a.$tb.find('.fr-more-toolbar[data-name="'.concat(be.attr("id"),'"]'))),a.$tb.find(".fr-open").not(be).not('[data-cmd="trackChanges"]').removeClass("fr-open").attr("aria-expanded",!1),be.toggleClass("fr-open"),be.attr("aria-expanded",be.hasClass("fr-open")),a.$tb.find(".fr-more-toolbar").removeClass("fr-overflow-visible"),a.$tb.find(".fr-expanded").not(re).length){var se=a.$tb.find(".fr-expanded").not(re);se.each(function(ie,D){p(D).data("name").indexOf("trackChanges-")!=0&&p(D).data("name").indexOf("moreRich-")!=0?p(D).toggleClass("fr-expanded"):be.parents('[data-name^="moreRich-"]').length||p(D).data("name").indexOf("trackChanges-")==0||p(D).find('[id^="trackChanges-"]').length&&a.opts.trackChangesEnabled||p(D).toggleClass("fr-expanded")}),re.toggleClass("fr-expanded")}else re.toggleClass("fr-expanded"),a.$box.toggleClass("fr-toolbar-open"),a.$tb.toggleClass("fr-toolbar-open")}(ee),a.toolbar.setMoreToolbarsHeight()}function O(K,ee){if(!(a.markdown&&a.markdown.isEnabled()&&(K==="bold"||K==="italic"||K==="underline")||a.opts.trackChangesEnabled&&K==="markdown")&&a.events.trigger("commands.before",p.merge([K],ee||[]))!==!1){var w=ve.COMMANDS[K]&&ve.COMMANDS[K].callback||L[K],xe=!0,be=!1;if(ve.COMMANDS[K]&&(typeof ve.COMMANDS[K].focus<"u"&&(xe=ve.COMMANDS[K].focus),typeof ve.COMMANDS[K].accessibilityFocus<"u"&&(be=ve.COMMANDS[K].accessibilityFocus)),!a.core.hasFocus()&&xe||!a.core.hasFocus()&&be&&a.accessibility.hasFocus()){var re=a.selection.ranges()[0];a.opts.allowStylingOnNonEditable&&re&&p(re.startContainer).parentsUntil(a.$el,'[contenteditable="false"]').length&&a.selection.save(),a.el.focus({preventScroll:!0}),a.events.trigger("focus")}ve.COMMANDS[K]&&ve.COMMANDS[K].undo!==!1&&(a.$el.find(".fr-marker").length&&(a.events.disableBlur(),a.selection.restore()),a.undo.saveStep()),w&&w.apply(a,p.merge([K],ee||[])),a.events.trigger("commands.after",p.merge([K],ee||[])),ve.COMMANDS[K]&&ve.COMMANDS[K].undo!==!1&&a.undo.saveStep()}}function z(K,ee){a.format.toggle(ee)}function Q(K){a.selection.save(),a.html.wrap(!0,!0,!0,!0),a.selection.restore();for(var ee=a.selection.blocks(),w=0;w<ee.length;w++)if(ee[w].tagName!=="LI"&&ee[w].parentNode.tagName!="LI"&&(ee[w].tagName!=="LI"||ee[w].parentNode.tagName!=="LI")){var xe=p(ee[w]);ee[w].tagName!="LI"&&ee[w].parentNode.tagName=="LI"&&(xe=p(ee[w].parentNode));var be=a.opts.direction==="rtl"||xe.css("direction")==="rtl"?"margin-right":"margin-left",re=a.helpers.getPX(xe.css(be)),se=a.helpers.getPX(xe.css("text-indent"));if(xe.width()<2*a.opts.indentMargin&&0<K||re+se<=0&&K<0)continue;ee[w].parentNode.tagName!="UL"&&ee[w].parentNode.tagName!="OL"&&ee[w].parentNode.tagName!="LI"&&xe.css(be,Math.max(re+K*a.opts.indentMargin,0)||""),xe.removeClass("fr-temp-div")}a.selection.save(),a.html.unwrap(),a.selection.restore()}function H(K){return function(){O(K)}}var P={};for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&(P[j]=H(j));return Object.assign(P,{exec:O,_init:function(){a.events.on("keydown",function(ee){var w=a.selection.element();if((ee.ctrlKey||ee.metaKey)&&ee.key==="a"&&(ee.preventDefault(),O("selectAll")),w&&w.tagName==="HR"&&!a.keys.isArrow(ee.which))return ee.preventDefault(),!1}),a.events.on("keyup",function(ee){var w=a.selection.element();if(w&&w.tagName==="HR"){if(ee.which===ve.KEYCODE.ARROW_LEFT||ee.which===ve.KEYCODE.ARROW_UP){if(w.previousSibling)return a.node.isBlock(w.previousSibling)?a.selection.setAtEnd(w.previousSibling):p(w).before(ve.MARKERS),a.selection.restore(),!1}else if((ee.which===ve.KEYCODE.ARROW_RIGHT||ee.which===ve.KEYCODE.ARROW_DOWN)&&w.nextSibling)return a.node.isBlock(w.nextSibling)?a.selection.setAtStart(w.nextSibling):p(w).after(ve.MARKERS),a.selection.restore(),!1}}),a.events.on("mousedown",function(ee){if(ee.target&&ee.target.tagName==="HR")return ee.preventDefault(),ee.stopPropagation(),!1}),a.events.on("mouseup",function(){var ee=a.selection.element();ee===a.selection.endElement()&&ee&&ee.tagName==="HR"&&(ee.nextSibling&&(a.node.isBlock(ee.nextSibling)?a.selection.setAtStart(ee.nextSibling):p(ee).after(ve.MARKERS)),a.selection.restore())})}})},ve.MODULES.cursorLists=function(a){var p=a.$;function M(O){for(var z=O;z.tagName!=="LI";)z=z.parentNode;return z}function L(O){for(var z=O;!a.node.isList(z);)z=z.parentNode;return z}function A(O){for(var z="",Q=0;Q<O.length;Q++){var H=O[Q];z+="".concat(H.name,"='").concat(H.value,"' ")}return z}return{_startEnter:function(z){var Q,H=M(z),P=H.nextSibling,j=H.previousSibling,K=a.html.defaultTag();if(a.node.isEmpty(H,!0)&&P){for(var ee="",w="",xe=z.parentNode;!a.node.isList(xe)&&xe.parentNode&&(xe.parentNode.tagName!=="LI"||xe.parentNode===H);)-1<["OL","LI","UL"].indexOf(xe.tagName)&&(ee=a.node.openTagString(xe)+ee,w+=a.node.closeTagString(xe)),xe=xe.parentNode;ee=a.node.openTagString(xe)+ee,w+=a.node.closeTagString(xe);var be="";if(xe.parentNode&&xe.parentNode.tagName==="LI")if(xe.parentNode.attributes.length){var re=A(xe.parentNode.attributes);be="".concat(w,"<li ").concat(re,">").concat(ve.MARKERS,"<br>").concat(ee)}else be="".concat(w,"<li>").concat(ve.MARKERS,"<br>").concat(ee);else be=K?"".concat(w,"<").concat(K,">").concat(ve.MARKERS,"<br></").concat(K,">").concat(ee):"".concat(w+ve.MARKERS,"<br>").concat(ee);for(;["UL","OL"].indexOf(xe.tagName)<0||xe.parentNode&&xe.parentNode.tagName==="LI";)xe=xe.parentNode;p(H).replaceWith('<span id="fr-break"></span>');var se=a.node.openTagString(xe)+p(xe).html()+a.node.closeTagString(xe);se=se.replace(/<span id="fr-break"><\/span>/g,be),p(xe).replaceWith(se),a.$el.find("li:empty").remove(),a.$el.find("li > p > span:empty").length&&a.$el.find("li > p > span:empty")[0].parentNode.parentNode.remove()}else if(j&&P||!a.node.isEmpty(H,!0)){var ie="<br>",D=z.parentNode;for(D&&D.tagName==="A"&&(D=null);D&&D.tagName!=="LI";)ie=a.node.openTagString(D)+ie+a.node.closeTagString(D),D=D.parentNode;if(D&&D.attributes.length){var U=A(D.attributes);p(H).before("<li ".concat(U,">").concat(ie,"</li>"))}else p(H).before("<li>".concat(ie,"</li>"));p(z).remove()}else if(j){Q=L(H);for(var V="".concat(ve.MARKERS,"<br>"),I=z.parentNode;I&&I.tagName!=="LI";)V=a.node.openTagString(I)+V+a.node.closeTagString(I),I=I.parentNode;if(Q.parentNode&&Q.parentNode.tagName==="LI")if(Q.parentNode.attributes.length){var N=A(Q.parentNode.attributes);p(Q.parentNode).after("<li ".concat(N,">").concat(V,"</li>"))}else p(Q.parentNode).after("<li>".concat(V,"</li>"));else K?p(Q).after("<".concat(K,">").concat(V,"</").concat(K,">")):p(Q).after(V);p(H).remove()}else(Q=L(H)).parentNode&&Q.parentNode.tagName==="LI"?P?p(Q.parentNode).before("".concat(a.node.openTagString(H)+ve.MARKERS,"<br></li>")):p(Q.parentNode).after("".concat(a.node.openTagString(H)+ve.MARKERS,"<br></li>")):K?p(Q).before("<".concat(K,">").concat(ve.MARKERS,"<br></").concat(K,">")):p(Q).before("".concat(ve.MARKERS,"<br>")),p(H).remove()},_middleEnter:function(z){for(var Q=M(z),H="",P=z,j="",K="",ee=!1;P!==Q;){var w=(P=P.parentNode).tagName==="A"&&a.cursor.isAtEnd(z,P)?"fr-to-remove":"";ee||P==Q||a.node.isBlock(P)||(ee=!0,j+=ve.INVISIBLE_SPACE),j=a.node.openTagString(p(P).clone().addClass(w).get(0))+j,K+=a.node.closeTagString(P)}H=K+H+j+ve.MARKERS+(a.opts.keepFormatOnDelete?ve.INVISIBLE_SPACE:""),p(z).replaceWith('<span id="fr-break"></span>');var xe=a.node.openTagString(Q)+p(Q).html()+a.node.closeTagString(Q);xe=xe.replace(/<span id="fr-break"><\/span>/g,H),p(Q).replaceWith(xe)},_endEnter:function(z){for(var Q=M(z),H=ve.MARKERS,P="",j=z,K=!1;j!==Q;)if(!(j=j.parentNode).classList.contains("fr-img-space-wrap")&&!j.classList.contains("fr-img-space-wrap2")){var ee=j.tagName==="A"&&a.cursor.isAtEnd(z,j)?"fr-to-remove":"";K||j===Q||a.node.isBlock(j)||(K=!0,P+=ve.INVISIBLE_SPACE),P=a.node.openTagString(p(j).clone().addClass(ee).get(0))+P,H+=a.node.closeTagString(j)}var w=P+H;p(z).remove(),p(Q).after(w)},_backspace:function(z){var Q=M(z),H=Q.previousSibling;if(H){var P=p(H).children().last(),j=P[0]&&P[0].tagName?P[0].tagName:"",K=j==="P",ee=0<p(H).find("table").length;["TABLE","TBODY","TR","TD","TH"].includes(j)||ee&&K||(H=p(H).find(a.html.blockTagsQuery()).get(-1)||H),p(z).replaceWith(ve.MARKERS);var w=a.node.contents(H);w.length&&w[w.length-1].tagName==="BR"&&p(w[w.length-1]).remove(),p(Q).find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===Q&&p(this).replaceWith(p(this).html()+(a.node.isEmpty(this)?"":"<br>"))});for(var xe,be=a.node.contents(Q)[0];be&&!a.node.isList(be);)xe=be.nextSibling,p(H).append(be),be=xe;for(H=Q.previousSibling;be;)xe=be.nextSibling,p(H).append(be),be=xe;1<(w=a.node.contents(H)).length&&w[w.length-1].tagName==="BR"&&p(w[w.length-1]).remove(),p(Q).remove()}else{var re=L(Q);if(p(z).replaceWith(ve.MARKERS),re.parentNode&&re.parentNode.tagName==="LI"){var se=re.previousSibling;a.node.isBlock(se)?(p(Q).find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===Q&&p(this).replaceWith(p(this).html()+(a.node.isEmpty(this)?"":"<br>"))}),p(se).append(p(Q).html())):p(re).before(p(Q).html())}else{var ie=a.html.defaultTag();ie&&p(Q).find(a.html.blockTagsQuery()).length===0?p(re).before("<".concat(ie,">").concat(p(Q).html(),"</").concat(ie,">")):p(re).before(p(Q).html())}p(Q).remove(),a.html.wrap(),p(re).find("li").length===0&&p(re).remove()}},_del:function(z){var Q,H=M(z),P=H.nextSibling;if(P){(Q=a.node.contents(P)).length&&Q[0].tagName==="BR"&&p(Q[0]).remove(),p(P).find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===P&&p(this).replaceWith(p(this).html()+(a.node.isEmpty(this)?"":"<br>"))});for(var j,K=z,ee=a.node.contents(P)[0];ee&&!a.node.isList(ee);)j=ee.nextSibling,p(K).after(ee),K=ee,ee=j;for(;ee;)j=ee.nextSibling,p(H).append(ee),ee=j;p(z).replaceWith(ve.MARKERS),p(P).remove()}else{for(var w=H;!w.nextSibling&&w!==a.el;)w=w.parentNode;if(w===a.el)return!1;if(w=w.nextSibling,a.node.isBlock(w)){if(ve.NO_DELETE_TAGS.indexOf(w.tagName)<0){if(p(z).replaceWith(ve.MARKERS),(Q=a.node.contents(H)).length&&Q[Q.length-1].tagName==="BR"&&p(Q[Q.length-1]).remove(),w.isContentEditable&&w.tagName==="DIV"&&(!a.node.isBlock(w.previousSibling)||w.previousSibling.tagName==="DIV"))return;p(H).append(p(w).html()),p(w).remove()}}else{for((Q=a.node.contents(H)).length&&Q[Q.length-1].tagName==="BR"&&p(Q[Q.length-1]).remove(),p(z).replaceWith(ve.MARKERS);w&&!a.node.isBlock(w)&&w.tagName!=="BR";)p(H).append(p(w)),w=w.nextSibling;p(w).remove()}}}}},ve.NO_DELETE_TAGS=["TH","TD","TR","TABLE","FORM"],ve.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],ve.MODULES.cursor=function(a){var p=a.$,M=function(ie){var D=null;ie&&ie.nodeType===Node.TEXT_NODE&&ie.nodeValue.trim()&&(D=ie);var U=function(V){p(V).contents().each(function(){this.nodeType===Node.TEXT_NODE&&this.nodeValue.trim()?D=this:this.nodeType===Node.ELEMENT_NODE&&U(this)})};return U(ie),D};function L(se){return!!se&&(a.node.isBlock(se)?se.tagName!=="P"||!se.nextElementSibling||!se.parentElement||se.nextElementSibling.tagName!=="OL"||se.parentElement.tagName!=="LI":se.nextSibling&&se.nextSibling.nodeType===Node.TEXT_NODE&&se.nextSibling.textContent.replace(/\u200b/g,"").length===0?L(se.nextSibling):!(se.nextSibling&&(!se.previousSibling||se.nextSibling.tagName!=="BR"||se.nextSibling.nextSibling))&&L(se.parentNode))}function A(se){return!!se&&(!!a.node.isBlock(se)||(se.previousSibling&&se.previousSibling.nodeType===Node.TEXT_NODE&&se.previousSibling.textContent.replace(/\u200b/g,"").length===0?A(se.previousSibling):!se.previousSibling&&(!(se.previousSibling||!a.node.hasClass(se.parentNode,"fr-inner"))||A(se.parentNode))))}function O(se,ie){return!!se&&se!==a.$wp.get(0)&&(se.previousSibling&&se.previousSibling.nodeType===Node.TEXT_NODE&&se.previousSibling.textContent.replace(/\u200b/g,"").length===0?O(se.previousSibling,ie):!se.previousSibling&&(se.parentNode===ie||O(se.parentNode,ie)))}function z(se,ie){return!!se&&se!==a.$wp.get(0)&&(se.nextSibling&&se.nextSibling.nodeType===Node.TEXT_NODE&&se.nextSibling.textContent.replace(/\u200b/g,"").length===0?z(se.nextSibling,ie):!(se.nextSibling&&(!se.previousSibling||se.nextSibling.tagName!=="BR"||se.nextSibling.nextSibling))&&(se.parentNode===ie||z(se.parentNode,ie)))}function Q(se){return 0<p(se).parentsUntil(a.$el,"LI").length&&p(se).parentsUntil("LI","TABLE").length===0}function H(se,ie){var D=new RegExp("".concat(ie?"^":"","(([\\uD83C-\\uDBFF\\uDC00-\\uDFFF]+\\u200D)*[\\uD83C-\\uDBFF\\uDC00-\\uDFFF]{2})").concat(ie?"":"$"),"i"),U=se.match(D);return U?U[0].length:1}function P(se){for(var ie,D=se;!D.previousSibling;)if(D=D.parentNode,a.node.isElement(D))return!1;D=D.previousSibling;var U=a.opts.htmlAllowedEmptyTags,V=D.tagName&&D.tagName.toLowerCase();if((!a.node.isBlock(D)||D.lastChild&&V&&0<=U.indexOf(V))&&a.node.isEditable(D)){for(ie=a.node.contents(D);D.nodeType!==Node.TEXT_NODE&&!a.node.isDeletable(D)&&ie.length&&a.node.isEditable(D);)D=ie[ie.length-1],ie=a.node.contents(D);if(D.nodeType===Node.TEXT_NODE){var I=D.textContent,N=I.length;if(I.length&&I[I.length-1]===`
`)return D.textContent=I.substring(0,N-2),D.textContent.length===0&&D.parentNode.removeChild(D),P(se);if(a.opts.tabSpaces&&I.length>=a.opts.tabSpaces||a.opts.preserveTabSpaces&&4<=I.length){var ne=a.opts.tabSpaces?a.opts.tabSpaces:4;I.substr(I.length-ne,I.length-1).replace(/ /g,"").replace(new RegExp(ve.UNICODE_NBSP,"g"),"").length===0&&(N=I.length-ne+1)}D.textContent=I.substring(0,N-H(I));var G=D.textContent;(a.opts.enter===ve.ENTER_BR&&0<G.length&&G.charAt(G.length-1)===" "||G.length===0&&se.previousSibling&&se.previousSibling.nodeType===Node.TEXT_NODE&&se.parentNode.tagName!=="TD"&&se.parentNode.tagName!=="LI"&&I!=="​")&&(a.node.isBlock(p(se).parentsUntil(a.el).last().get(0))&&se.insertAdjacentHTML("beforebegin",ve.MARKERS),se.insertAdjacentHTML("beforebegin",ve.INVISIBLE_SPACE),D=D.nextSibling),a.opts.trackChangesEnabled&&D.textContent.length===0&&p(D.parentElement).data("tracking")&&p(D.parentElement).find("[data-tracking-deleted=true]").length===0&&(p(se).insertBefore(D.parentElement),p(D.parentElement).remove(),D=p(se)[0].previousSibling),a.opts.htmlUntouched&&!se.nextSibling&&D.textContent.length&&D.textContent[D.textContent.length-1]===" "&&(D.textContent=D.textContent.substring(0,D.textContent.length-1)+ve.UNICODE_NBSP);var q=I.length!==D.textContent.length;if(a.opts.enter!==ve.ENTER_BR&&D&&D.previousSibling&&D.previousSibling.previousSibling&&D.previousSibling.previousSibling.tagName==="BR"&&D.textContent.length===0&&D.previousSibling.previousSibling.remove(),D.textContent.length===0&&D.parentNode.tagName==="LI"&&D.previousSibling&&D.previousSibling.tagName==="BR"&&D.previousSibling.remove(),D.textContent.length===0&&D.parentNode.tagName&&D.parentNode.tagName.toLowerCase()==="svg"&&D.parentElement.remove(),D.textContent.length===0)if(q&&a.opts.keepFormatOnDelete)p(D).after(ve.INVISIBLE_SPACE+ve.MARKERS);else if(I.length!==0&&a.node.isBlock(D.parentNode))p(D).after(ve.MARKERS);else if((D.parentNode.childNodes.length!=2||D.parentNode!=se.parentNode)&&D.parentNode.childNodes.length!=1||a.node.isBlock(D.parentNode)||a.node.isElement(D.parentNode)||!a.node.isDeletable(D.parentNode)){for(var de,Le=D;!a.node.isElement(D.parentNode)&&a.node.isEmpty(D.parentNode)&&ve.NO_DELETE_TAGS.indexOf(D.parentNode.tagName)<0;)if((D=D.parentNode).tagName==="A"){var Ae=D.childNodes[0];for(p(D).before(Ae),de=!0;0<Ae.childNodes.length;)Ae=Ae.childNodes[0];D.parentNode.removeChild(D),D=Ae;break}de||(D=Le),p(D).after(ve.MARKERS),a.node.isElement(D.parentNode)&&!se.nextSibling&&D.previousSibling&&D.previousSibling.tagName==="BR"&&p(se).after("<br>");var we=D.parentNode;D.parentNode.removeChild(D),a.node.isEmpty(we)&&p(we).html(ve.INVISIBLE_SPACE+ve.MARKERS)}else p(D.parentNode).after(ve.MARKERS),p(D.parentNode).remove();else p(D).after(ve.MARKERS)}else a.node.isDeletable(D)?(p(D).after(ve.MARKERS),p(D).remove()):se.nextSibling&&se.nextSibling.tagName==="BR"&&a.node.isVoid(D)&&D.tagName!=="BR"?(p(se.nextSibling).remove(),p(se).replaceWith(ve.MARKERS)):a.events.trigger("node.remove",[p(D)])!==!1&&(a.opts.enter===ve.ENTER_BR&&D.tagName==="BR"?p(M(D.previousSibling)).after(ve.MARKERS):p(D).after(ve.MARKERS),p(D).remove())}else if(ve.NO_DELETE_TAGS.indexOf(D.tagName)<0&&(a.node.isEditable(D)||a.node.isDeletable(D)))if(a.node.isDeletable(D))p(se).replaceWith(ve.MARKERS),p(D).remove();else if(a.node.isEmpty(D)&&!a.node.isList(D))p(D).remove(),p(se).replaceWith(ve.MARKERS);else{for(a.node.isList(D)&&(D=p(D).find("li").last().get(0)),(ie=a.node.contents(D))&&0<ie.length&&ie[ie.length-1].tagName==="BR"&&p(ie[ie.length-1]).remove(),ie=a.node.contents(D);ie&&0<ie.length&&a.node.isBlock(ie[ie.length-1]);)D=ie[ie.length-1],ie=a.node.contents(D);var Pe=M(D),We=Pe&&0<p(Pe).parents("span").length;if(a.opts.enter===ve.ENTER_BR&&We){var ut=p(D).find("span").last().get(0);ut?p(M(ut)).after(ve.MARKERS):p(D).append(ve.MARKERS)}else p(D).append(ve.MARKERS);for(var nt=se;!nt.previousSibling;)nt=nt.parentNode;for(;nt&&nt.tagName!=="BR"&&!a.node.isBlock(nt);){var ot=nt;nt=nt.nextSibling,p(D).append(ot)}nt&&nt.tagName==="BR"&&p(nt).remove(),p(se).remove()}else se.nextSibling&&se.nextSibling.tagName==="BR"&&p(se.nextSibling).remove();return!0}function j(se){var ie=0<p(se).parentsUntil(a.$el,"BLOCKQUOTE").length,D=a.node.deepestParent(se,[],!ie);if(D&&D.tagName==="BLOCKQUOTE"){var U=a.node.deepestParent(se,[p(se).parentsUntil(a.$el,"BLOCKQUOTE").get(0)]);U&&U.nextSibling&&(D=U)}if(D!==null){var V,I=D.nextSibling;if(a.node.isBlock(D)&&(a.node.isEditable(D)||a.node.isDeletable(D))&&I&&ve.NO_DELETE_TAGS.indexOf(I.tagName)<0)if(a.node.isDeletable(I))p(I).remove(),p(se).replaceWith(ve.MARKERS);else if(a.node.isBlock(I)&&a.node.isEditable(I))if(a.node.isList(I))if(a.node.isEmpty(D,!0))p(D).remove(),p(I).find("li").first().prepend(ve.MARKERS);else{var N=p(I).find("li").first();D.tagName==="BLOCKQUOTE"&&(V=a.node.contents(D)).length&&a.node.isBlock(V[V.length-1])&&(D=V[V.length-1]),N.find("ul, ol").length===0&&(p(se).replaceWith(ve.MARKERS),N.find(a.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode===N.get(0)&&p(this).replaceWith(p(this).html()+(a.node.isEmpty(this)?"":"<br>"))}),p(D).append(a.node.contents(N.get(0))),N.remove(),p(I).find("li").length===0&&p(I).remove())}else{if((V=a.node.contents(I)).length&&V[0].tagName==="BR"&&p(V[0]).remove(),I.tagName!=="BLOCKQUOTE"&&D.tagName==="BLOCKQUOTE")for(V=a.node.contents(D);V.length&&a.node.isBlock(V[V.length-1]);)D=V[V.length-1],V=a.node.contents(D);else if(I.tagName==="BLOCKQUOTE"&&D.tagName!=="BLOCKQUOTE")for(V=a.node.contents(I);V.length&&a.node.isBlock(V[0]);)I=V[0],V=a.node.contents(I);p(se).replaceWith(ve.MARKERS),p(D).append(I.innerHTML),p(I).remove()}else{for(p(se).replaceWith(ve.MARKERS);I&&I.tagName!=="BR"&&!a.node.isBlock(I)&&a.node.isEditable(I);){var ne=I;I=I.nextSibling,p(D).append(ne)}I&&I.tagName==="BR"&&a.node.isEditable(I)&&p(I).remove()}}}function K(se){for(var ie,D=se;!D.nextSibling;)if(D=D.parentNode,a.node.isElement(D))return!1;if((D=D.nextSibling).tagName==="BR"&&a.node.isEditable(D)){if(D.nextSibling){if(a.node.isBlock(D.nextSibling)&&a.node.isEditable(D.nextSibling)){if(!(ve.NO_DELETE_TAGS.indexOf(D.nextSibling.tagName)<0))return void p(D).remove();D=D.nextSibling,p(D.previousSibling).remove()}}else if(L(D)){Q(se)?a.cursorLists._del(se):a.node.deepestParent(D)&&((!a.node.isEmpty(a.node.blockParent(D))||(a.node.blockParent(D).nextSibling&&ve.NO_DELETE_TAGS.indexOf(a.node.blockParent(D).nextSibling.tagName))<0)&&p(D).remove(),D&&D.parentNode&&D.parentNode.textContent.charCodeAt()===8203&&D.parentNode.childNodes[1]&&D.parentNode.childNodes[1].tagName==="BR"&&D.parentNode.tagName.toLowerCase()===a.html.defaultTag()&&D.parentNode.nextSibling&&D.parentNode.nextSibling.tagName==="TABLE"&&p(D.parentNode).remove(),j(se));return}}if(!a.node.isBlock(D)&&a.node.isEditable(D)){for(ie=a.node.contents(D);D.nodeType!==Node.TEXT_NODE&&ie.length&&!a.node.isDeletable(D)&&a.node.isEditable(D);)D=ie[0],ie=a.node.contents(D);D.nodeType===Node.TEXT_NODE?(p(D).before(ve.MARKERS),D.textContent.length&&(D.textContent=D.textContent.substring(H(D.textContent,!0),D.textContent.length))):(a.node.isDeletable(D)||a.events.trigger("node.remove",[p(D)])!==!1)&&(p(D).before(ve.MARKERS),p(D).remove()),p(se).remove()}else if(ve.NO_DELETE_TAGS.indexOf(D.tagName)<0&&(a.node.isEditable(D)||a.node.isDeletable(D)))if(a.node.isDeletable(D))p(se).replaceWith(ve.MARKERS),p(D).remove();else if(a.node.isList(D))se.previousSibling?(p(D).find("li").first().prepend(se),a.cursorLists._backspace(se)):(p(D).find("li").first().prepend(ve.MARKERS),p(se).remove());else if((ie=a.node.contents(D))&&0<ie.length&&ie[0].tagName==="BR"&&p(ie[0]).remove(),ie&&0<ie.length&&D.tagName==="BLOCKQUOTE"){var U=ie[0];for(p(se).before(ve.MARKERS);U&&U.tagName!=="BR";){var V=U;U=U.nextSibling,p(se).before(V)}U&&U.tagName==="BR"&&p(U).remove()}else p(se).after(p(D).html()).after(ve.MARKERS),p(D).remove()}function ee(){for(var se=a.el.querySelectorAll("blockquote:empty"),ie=0;ie<se.length;ie++)se[ie].parentNode.removeChild(se[ie])}function w(se,ie,D){var U,V=a.node.deepestParent(se,[],!D);if(V&&V.tagName==="BLOCKQUOTE")return z(se,V)?(U=a.html.defaultTag(),ie?p(se).replaceWith("<br>"+ve.MARKERS):U?p(V).after("<".concat(U,">").concat(ve.MARKERS,"<br></").concat(U,">")):p(V).after("".concat(ve.MARKERS,"<br>")),p(se).remove()):xe(se,ie,D),!1;if(V===null)(U=a.html.defaultTag())&&a.node.isElement(se.parentNode)?p(se).replaceWith("<".concat(U,">").concat(ve.MARKERS,"<br></").concat(U,">")):!se.previousSibling||p(se.previousSibling).is("br")||se.nextSibling?p(se).replaceWith("<br>".concat(ve.MARKERS)):p(se).replaceWith("<br>".concat(ve.MARKERS,"<br>"));else{var I=se,N="";V.tagName!="PRE"||se.nextSibling||(ie=!0),a.node.isBlock(V)&&!ie||(N="<br/>");var ne,G="",q="",de="",Le="";(U=a.html.defaultTag())&&a.node.isBlock(V)&&(de="<".concat(U,">"),Le="</".concat(U,">"),V.tagName===U.toUpperCase()&&(de=a.node.openTagString(p(V).clone().removeAttr("id").get(0))));do if(I=I.parentNode,!ie||I!==V||ie&&!a.node.isBlock(V))if(G+=a.node.closeTagString(I),I===V&&a.node.isBlock(V))q=de+q;else{var Ae=(I.tagName==="A"||a.node.hasClass(I,"fa"))&&z(se,I)?"fr-to-remove":"";q=I.getAttribute("id")==="isPasted"?a.node.openTagString(p(I).clone().attr("style","").addClass(Ae).get(0))+q:a.node.openTagString(p(I).clone().addClass(Ae).get(0))+q}while(I!==V);N=G+N+q+(se.parentNode===V&&a.node.isBlock(V)?"":ve.INVISIBLE_SPACE)+ve.MARKERS,a.node.isBlock(V)&&!p(V).find("*").last().is("br")&&p(V).append("<br/>"),p(se).after('<span id="fr-break"></span>'),p(se).remove(),V.nextSibling&&!a.node.isBlock(V.nextSibling)||a.node.isBlock(V)||p(V).after("<br>"),ne=(ne=!ie&&a.node.isBlock(V)?a.node.openTagString(V)+p(V).html()+Le:a.node.openTagString(V)+p(V).html()+a.node.closeTagString(V)).replace(/<span id="fr-break"><\/span>/g,N),p(V).replaceWith(ne)}}function xe(se,ie,D){var U=a.node.deepestParent(se,[],!D);if(U===null)a.html.defaultTag()&&se.parentNode===a.el?p(se).replaceWith("<".concat(a.html.defaultTag(),">").concat(ve.MARKERS,"<br></").concat(a.html.defaultTag(),">")):(se.nextSibling&&!a.node.isBlock(se.nextSibling)||p(se).after("<br>"),p(se).replaceWith("<br>".concat(ve.MARKERS)));else if(se.previousSibling&&se.previousSibling.tagName=="IMG"||se.nextSibling&&se.nextSibling.tagName=="IMG")p(se).replaceWith("<"+a.html.defaultTag()+">"+ve.MARKERS+"<br></"+a.html.defaultTag()+">");else{var V=se,I="";U.tagName==="PRE"&&(ie=!0),a.node.isBlock(U)&&!ie||(I="<br>");var N="",ne="";do{var G=V;if(V=V.parentNode,U.tagName==="BLOCKQUOTE"&&a.node.isEmpty(G)&&!a.node.hasClass(G,"fr-marker")&&p(G).contains(se)&&p(G).after(se),U.tagName!=="BLOCKQUOTE"||!z(se,V)&&!O(se,V))if(!ie||V!==U||ie&&!a.node.isBlock(U)){N+=a.node.closeTagString(V);var q=V.tagName=="A"&&z(se,V)||a.node.hasClass(V,"fa")?"fr-to-remove":"";ne=a.node.openTagString(p(V).clone().addClass(q).removeAttr("id").get(0))+ne,a.opts.enter!==ve.ENTER_DIV&&V===U&&U.tagName==="DIV"&&(N="<br>",ne="")}else U.tagName=="BLOCKQUOTE"&&ie&&(ne=N="")}while(V!==U);var de=U===se.parentNode&&a.node.isBlock(U)||se.nextSibling;if(U.tagName==="BLOCKQUOTE")if(se.previousSibling&&a.node.isBlock(se.previousSibling)&&se.nextSibling&&se.nextSibling.tagName==="BR"&&(p(se.nextSibling).after(se),se.nextSibling&&se.nextSibling.tagName==="BR"&&p(se.nextSibling).remove()),ie)I=N+I+ve.MARKERS+ne;else{var Le=a.html.defaultTag();I="".concat(N+I+(Le?"<".concat(Le,">"):"")+ve.MARKERS,"<br>").concat(Le?"</".concat(Le,">"):"").concat(ne)}else I=N+I+ne+(de?"":ve.INVISIBLE_SPACE)+ve.MARKERS;p(se).replaceWith('<span id="fr-break"></span>');var Ae=a.node.openTagString(U)+p(U).html()+a.node.closeTagString(U);Ae=Ae.replace(/<span id="fr-break"><\/span>/g,I),p(U).replaceWith(Ae)}}function be(se){var ie=se.getBoundingClientRect(),D=window.pageXOffset||document.documentElement.scrollLeft,U=window.pageYOffset||document.documentElement.scrollTop;return a.opts.iframe?{top:ie.top+a.$wp.offset().top,left:ie.left+D}:{top:ie.top+U,left:ie.left+D}}function re(){var se=a.selection.get(),ie=null;if(a.selection.inEditor()&&se.rangeCount)for(var D=a.selection.ranges(),U=0;U<D.length;U++){var V=D[U];ie=a.selection.rangeElement(V.startContainer,V.startOffset);break}return ie}return{enter:function(ie){var D=a.markers.insert();if(!D)return!0;for(var U=D.parentNode;U&&!a.node.isElement(U);){if(U.getAttribute("contenteditable")==="false")return p(D).replaceWith(ve.MARKERS),a.selection.restore(),!1;if(U.getAttribute("contenteditable")==="true")break;U=U.parentNode}a.el.normalize();var V=!1;0<p(D).parentsUntil(a.$el,"BLOCKQUOTE").length&&(V=!0),p(D).parentsUntil(a.$el,"TD, TH").length&&(V=!1),L(D)?!Q(D)||ie||V?w(D,ie,V):a.cursorLists._endEnter(D):A(D)?!Q(D)||ie||V?function Ae(we,Pe,We){var ut,nt=a.node.deepestParent(we,[],!We);if(nt&&nt.tagName==="TABLE")return p(nt).find("td, th").first().prepend(we),Ae(we,Pe,We);if(nt&&nt.tagName==="BLOCKQUOTE")if(O(we,nt)){if(!Pe)return(ut=a.html.defaultTag())?p(nt).before("<".concat(ut,">").concat(ve.MARKERS,"<br></").concat(ut,">")):p(nt).before("".concat(ve.MARKERS,"<br>")),p(we).remove(),!1}else z(we,nt)?w(we,Pe,!0):xe(we,Pe,!0);if(nt===null)(ut=a.html.defaultTag())&&a.node.isElement(we.parentNode)?p(we).replaceWith("<".concat(ut,">").concat(ve.MARKERS,"<br></").concat(ut,">")):p(we).replaceWith("<br>".concat(ve.MARKERS));else{if(ut=a.html.defaultTag(),a.node.isBlock(nt))if(nt.tagName==="PRE"&&(Pe=!0),Pe)p(we).remove(),p(nt).prepend("<br>".concat(ve.MARKERS));else if(we.nextSibling&&we.nextSibling.tagName=="IMG"||we.nextSibling&&we.nextSibling.nextElementSibling&&we.nextSibling.nextElementSibling=="IMG")p(we).replaceWith("<"+a.html.defaultTag()+">"+ve.MARKERS+"<br></"+a.html.defaultTag()+">");else{if(a.node.isEmpty(nt,!0))return w(we,Pe,We);if(a.opts.keepFormatOnDelete||nt.tagName==="DIV"||a.html.defaultTag()==="div")if(!a.opts.keepFormatOnDelete&&nt.tagName==="DIV"||a.html.defaultTag()==="div")p(nt).before("<"+a.html.defaultTag()+"><br></"+a.html.defaultTag()+">");else if(a.opts.keepFormatOnDelete&&!a.opts.htmlUntouched&&nt.tagName!=="DIV"&&a.html.defaultTag()!=="div"&&A(a.selection.get().focusNode))p(nt).before("".concat(a.node.openTagString(p(nt).clone().removeAttr("id").get(0)),"<br>").concat(a.node.closeTagString(nt)));else{for(var ot=we,Me=ve.INVISIBLE_SPACE;ot!==nt&&!a.node.isElement(ot);)ot=ot.parentNode,Me=a.node.openTagString(ot)+Me+a.node.closeTagString(ot);p(nt).before(Me)}else p(nt).before("".concat(a.node.openTagString(p(nt).clone().removeAttr("id").get(0)),"<br>").concat(a.node.closeTagString(nt)))}else p(nt).before("<br>");p(we).remove()}}(D,ie,V):a.cursorLists._startEnter(D):!Q(D)||ie||V?xe(D,ie,V):a.cursorLists._middleEnter(D),function(){a.$el.find(".fr-to-remove").each(function(){for(var we=a.node.contents(this),Pe=0;Pe<we.length;Pe++)we[Pe].nodeType===Node.TEXT_NODE&&(we[Pe].textContent=we[Pe].textContent.replace(/\u200B/g,""));p(this).replaceWith(this.innerHTML)})}(),a.html.fillEmptyBlocks(!0),a.opts.htmlUntouched||(a.html.cleanEmptyTags(),a.clean.lists(),a.spaces.normalizeAroundCursor()),a.selection.restore();var I=a.o_win.innerHeight;if(a.$oel[0].offsetHeight>I){var N=re();if(N){var ne=be(N);ne=ne.top;var G=N.getBoundingClientRect().top;a.opts.iframe&&(G=G+a.$wp.offset().top-a.helpers.scrollTop()),a.opts.scrollableContainer&&a.opts.enter!==ve.ENTER_BR&&N.tagName==="BR"&&G+20===I&&(G=ne=N.parentNode.offsetTop),N.parentNode&&N.parentNode.tagName==="TD"&&I<G?a.o_win.scroll(0,G-50):N.tagName==="BR"&&G<0?a.o_win.scroll(0,ne-80):a.opts.scrollableContainer&&I<G+20?a.o_win.scroll(0,ne-I+50):a.opts.scrollableContainer&&G+2*a.$tb.height()>a.$sc[0].scrollTop+p(a.$sc).height()&&a.$sc[0].scroll(0,ne-p(a.$sc).height()+2*a.$tb.height())}}else if(a.opts.scrollableContainer&&a.opts.toolbarSticky){var q=re();if(q){var de=be(q);de=de.top;var Le=q.getBoundingClientRect().top;a.opts.enter!==ve.ENTER_BR&&q.tagName==="BR"&&(Le=de=q.parentNode.offsetTop),(a.opts.iframe&&Le+2*a.$tb.height()>a.$sc[0].scrollTop+p(a.$sc).height()||Le+2*a.$tb.height()>p(a.$sc).height())&&a.$sc[0].scroll(0,de-p(a.$sc).height()+2*a.$tb.height())}}},backspace:function(){var ie=!1,D=a.markers.insert();if(!D)return!0;for(var U=D.parentNode;U&&!a.node.isElement(U);){if(U.getAttribute("contenteditable")==="false")return p(D).replaceWith(ve.MARKERS),a.selection.restore(),!1;if(U.innerText.length&&U.getAttribute("contenteditable")==="true")break;U=U.parentNode}a.el.normalize();var V=D.previousSibling;if(V){var I=V.textContent;I&&I.length&&I.charCodeAt(I.length-1)===8203&&(I.length===1?p(V).remove():V.textContent=V.textContent.substr(0,I.length-H(I)))}return L(D)?Q(D)&&O(D,p(D).parents("li").first().get(0))?a.cursorLists._backspace(D):ie=P(D):A(D)?Q(D)&&O(D,p(D).parents("li").first().get(0))?a.cursorLists._backspace(D):function(ne){for(var G=0<p(ne).parentsUntil(a.$el,"BLOCKQUOTE").length,q=a.node.deepestParent(ne,[],!G),de=q;q&&!q.previousSibling&&q.tagName!=="BLOCKQUOTE"&&q.parentElement!==a.el&&!a.node.hasClass(q.parentElement,"fr-inner")&&ve.SIMPLE_ENTER_TAGS.indexOf(q.parentElement.tagName)<0;)q=q.parentElement;if(q&&q.tagName==="BLOCKQUOTE"){var Le=a.node.deepestParent(ne,[p(ne).parentsUntil(a.$el,"BLOCKQUOTE").get(0)]);Le&&Le.previousSibling&&(de=q=Le)}if(q!==null){var Ae,we=q.previousSibling;if(a.node.isBlock(q)&&a.node.isEditable(q))if(we&&ve.NO_DELETE_TAGS.indexOf(we.tagName)<0){if(a.node.isDeletable(we))p(we).remove(),p(ne).replaceWith(ve.MARKERS);else if(a.node.isEditable(we))if(a.node.isBlock(we))if(a.node.isEmpty(we)&&!a.node.isList(we))p(we).remove(),p(ne).after(a.opts.keepFormatOnDelete?ve.INVISIBLE_SPACE:"");else{if(a.node.isList(we)&&(we=p(we).find("li").last().get(0)),(Ae=a.node.contents(we)).length&&Ae[Ae.length-1].tagName==="BR"&&p(Ae[Ae.length-1]).remove(),we.tagName==="BLOCKQUOTE"&&q.tagName!=="BLOCKQUOTE")for(Ae=a.node.contents(we);Ae.length&&a.node.isBlock(Ae[Ae.length-1]);)we=Ae[Ae.length-1],Ae=a.node.contents(we);else if(we.tagName!=="BLOCKQUOTE"&&de.tagName==="BLOCKQUOTE")for(Ae=a.node.contents(de);Ae.length&&a.node.isBlock(Ae[0]);)de=Ae[0],Ae=a.node.contents(de);if(a.node.isEmpty(q))p(ne).remove(),a.selection.setAtEnd(we,!0);else{p(ne).replaceWith(ve.MARKERS);var Pe=we.childNodes;a.node.isBlock(Pe[Pe.length-1])?p(Pe[Pe.length-1]).append(de.innerHTML):p(we).append(de.innerHTML)}p(de).remove(),a.node.isEmpty(q)&&p(q).remove()}else p(ne).replaceWith(ve.MARKERS),q.tagName==="BLOCKQUOTE"&&we.nodeType===Node.ELEMENT_NODE?p(we).remove():(p(we).after(a.node.isEmpty(q)?"":p(q).html()),p(q).remove(),we.tagName==="BR"&&p(we).remove())}else if(we)q.textContent.charCodeAt()===8203&&q.childNodes[1]&&q.childNodes[1].tagName==="BR"&&q.tagName.toLowerCase()===a.html.defaultTag()&&q.previousSibling&&q.previousSibling.tagName==="TABLE"&&p(q).remove();else if(q&&q.tagName==="BLOCKQUOTE"&&p(q).text().replace(/\u200B/g,"").length===0)p(q).remove();else{var We=q.nextSibling;a.node.isEmpty(q)&&q.parentNode&&a.node.isEditable(q.parentNode)&&!We&&(q.parentNode!=a.el&&q.parentNode.tagName!=="TD"?p(q.parentNode).remove():q.parentNode!=a.el&&q.parentNode.tagName==="TD"&&p(q).remove())}}}(D):ie=P(D),p(D).remove(),ee(),a.html.fillEmptyBlocks(!0),a.opts.htmlUntouched||(a.html.cleanEmptyTags(),a.clean.lists(),a.spaces.normalizeAroundCursor()),a.selection.restore(),ie},del:function(){var ie=a.markers.insert();if(!ie)return!1;if(a.el.normalize(),L(ie))if(Q(ie))if(p(ie).parents("li").first().find("ul, ol").length===0)a.cursorLists._del(ie);else{var D=p(ie).parents("li").first().find("ul, ol").first().find("li").first();(D=D.find(a.html.blockTagsQuery()).get(-1)||D).prepend(ie),a.cursorLists._backspace(ie)}else j(ie);else A(ie),K(ie);p(ie).remove(),ee(),a.html.fillEmptyBlocks(!0),a.opts.htmlUntouched||(a.html.cleanEmptyTags(),a.clean.lists()),a.spaces.normalizeAroundCursor(),a.selection.restore()},isAtEnd:z,isAtStart:O}},ve.MODULES.data=function(a){function p(U){return U}function M(U){for(var V=U.toString(),I=0,N=0;N<V.length;N++)I+=parseInt(V.charAt(N),10);return 10<I?I%9+1:I}function L(U,V,I){for(var N=Math.abs(I);0<N--;)U-=V;return I<0&&(U+=123),U}function A(U){return U&&U.css("display")!=="block"||U&&a.helpers.getPX(U.css("height"))===0?(U.remove(),!0):!(!U||U.css("position")!=="absolute"&&U.css("position")!=="fixed"||(U.remove(),0))}function O(U){return U&&a.$box.find(U).length===0}function z(){if(10<D&&(a[ie("0ppecjvc==")](),setTimeout(function(){K.FE=null},10)),!a.$box)return!1;a.$wp.prepend(ie(ie(re))),P=a.$wp.find("> div").first(),j=P.find("> a"),a.opts.direction==="rtl"&&P.css("left","auto").css("right",0).attr("direction","rtl"),D++}function Q(U){for(var V=[ie("9qqG-7amjlwq=="),ie("KA3B3C2A6D1D5H5H1A3=="),ie("3B9B3B5F3C4G3E3=="),ie("QzbzvxyB2yA-9m=="),ie("ji1kacwmgG5bc=="),ie("nmA-13aogi1A3c1jd=="),ie("BA9ggq=="),ie("emznbjbH3fij=="),ie("tkC-22d1qC-13sD1wzF-7=="),ie("tA3jjf=="),ie("1D1brkm==")],I=0;I<V.length;I++)if(String.prototype.endsWith||(String.prototype.endsWith=function(N,ne){return(ne===void 0||ne>this.length)&&(ne=this.length),this.substring(ne-N.length,ne)===N}),U.endsWith(V[I]))return!0;return!1}function H(){var U=ie(xe),V=ie("tzgatD-13eD1dtdrvmF3c1nrC-7saQcdav==").split(".");try{return window.parent.document.querySelector(U)&&window[V[1]][V[2]]}catch{return!1}}var P,j,K=a.$,ee="sC-7OB2fwhVC4vsG-7ohPA4ZD4D-8f1J3stzB-11bFE2FC1A3NB2IF1HE1TH4WB8eB-11zVG2F3I3yYB5ZG4CB2DA15CC5AD3F1A1KG1oLA10B1A6wQF1H3vgale2C4F4XA2qc2A5D5B3pepmriKB3OE1HD1fUC10pjD-11E-11TB4YJ3bC-16zE-11yc1B2CE2BC3jhjKC1pdA-21OA6C1D5B-8vF4QA11pD6sqf1C3lldA-16BD4A2H3qoEA7bB-16rmNH5H1F1vSB7RE2A3TH4YC5A5b1A4d1B3whepyAC3AA2zknC3mbgf1SC4WH4PD8TC5ZB2C3H3jb2A5ZA2EF2aoFC5qqHC4B1H1zeGA7UA5RF4TA29TA6ZC4d1C3hyWA10A3rBB2E3decorationRD3QC10UD3E6E6ZD2F3F3fme2E5uxxrEC9C3E4fB-11azhHB1LD7D6VF4VVTPC6b1C4TYG3qzDD6B3B3AH4I2H2kxbHE1JD1yihfd1QD6WB1D4mhrc1B5rvFG3A14A7cDA2OC1AA1JB5zC-16KA6WB4C-8wvlTB5A5lkZB2C2C7zynBD2D2bI-7C-21d1HE2cubyvPC8A6VB3aroxxZE4C4F4e1I2BE1WjdifH1H4A14NA1GB1YG-10tWA3A14A9sVA2C5XH2A29b2A6gsleGG2jaED2D-13fhE1OA8NjwytyTD4e1sc1D-16ZC3B5C-9e1C2FB6EFF5B2C2JH4E1C2tdLE5A3UG4G-7b2D3B4fA-9oh1G3kqvB4AG3ibnjcAC6D2B1cDA9KC2QA6bRC4VA30RB8hYB2A4A-8h1A21A2B2==",w="7D4YH4fkhHB3pqDC3H2E1fkMD1IB1NF1D3QD9wB5rxqlh1A8c2B4ZA3FD2AA6FB5EB3jJG4D2J-7aC-21GB6PC5RE4TC11QD6XC4XE3XH3mlvnqjbaOA2OC2BE6A1fmI-7ujwbc1G5f1F3e1C11mXF4owBG3E1yD1E4F1D2D-8B-8C-7yC-22HD1MF5UE4cWA3D8D6a1B2C3H3a3I3sZA4B3A2akfwEB3xHD5D1F1wIC11pA-16xdxtVI2C9A6YC4a1A2F3B2GA6B4C3lsjyJB1eMA1D-11MF5PE4ja1D3D7byrf1C3e1C7D-16lwqAF3H2A1B-21wNE1MA1OG1HB2A-16tSE5UD4RB3icRA4F-10wtwzBB3E1C3CC2DA8LA2LA1EB1kdH-8uVB7decorg1J2B7B6qjrqGI2J1C6ijehIB1hkemC-13hqkrH4H-7QD6XF5XF3HLNAC3CB2aD2CD2KB10B4ycg1A-8KA4H4B11jVB5TC4yqpB-21pd1E4pedzGB6MD5B3ncB-7MA4LD2JB6PD5uH-8TB9C7YD5XD2E3I3jmiDB3zeimhLD8E2F2JC1H-9ivkPC5lG-10SB1D3H3A-21rc1A3d1E3fsdqwfGA2KA1OrC-22LA6D1B4afUB16SC7AitC-8qYA11fsxcajGA15avjNE2A-9h1hDB16B9tPC1C5F5UC1G3B8d2A5d1D4RnHJ3C3JB5D3ucMG1yzD-17hafjC-8VD3yWC6e1YD2H3ZE2C8C5oBA3H3D2vFA4WzJC4C2i1A-65fNB8afWA1H4A26mvkC-13ZB3E3h1A21BC4eFB2GD2AA5ghqND2A2B2==",xe="MekC-11nB-8tIzpD7pewxvzC6mD-16xerg1==",be="HE2A1A6A1A9D2D2A5D1C4EJ4B12C7A7C6E4A3F3F2A2B8B8D==",re="sC-7OB2fwhVC4vsG-7ohPA4ZD4D-8f1J3stzB-11bFE2EE1MA2ND1KD1IE4cA-21pSD2D5ve1G3h1A8b1E5ZC3CD2FA16mC5OC5E1hpnG1NA10B1D7hkUD4I-7b2C3C5nXD2E3F3whidEC2EH3GI2mJE2E2bxci1WA10VC7pllSG2F3A7xd1A4ZC3DB2aaeGA2DE4H2E1j1ywD-13FD1A3VE4WA3D8C6wuc1A2hf1B5B7vnrrjA1B9ic1mpbD1oMB1iSB7rWC4RI4G-7upB6jd1A2F3H2EA4FD3kDF4A2moc1anJD1TD4VI4b2C7oeQF4c1E3XC7ZA3C3G3uDB2wGB6D1JC4D1JD4C1hTE6QC5pH4pD3C-22D7c1A3textAA4gdlB2mpozkmhNC1mrxA3yWA5edhg1I2H3B7ozgmvAI3I2B5GD1LD2RSNH1KA1XA5SB4PA3sA9tlmC-9tnf1G3nd1coBH4I2I2JC3C-16LE6A1tnUA3vbwQB1G3f1A20a3A8a1C6pxAB2eniuE1F3kH2lnjB2hB-16XA5PF1G4zwtYA5B-11mzTG2B9pHB3BE2hGH3B3B2cMD5C1F1wzPA8E7VG5H5vD3H-7C8tyvsVF2I1G2A5fE3bg1mgajoyxMA4fhuzSD8aQB2B4g1A20ukb1A4B3F3GG2CujjanIC1ObiB11SD1C5pWC1D4YB8YE5FE-11jXE2F-7jB4CC2G-10uLH4E1C2tA-13yjUH5d1H1A7sWD5E4hmjF-7pykafoGA16hDD4joyD-8OA33B3C2tC7cRE4SA31a1B8d1e2A4F4g1A2A22CC5zwlAC2C1A12==",se=function(){for(var U=0,V=document.domain,I=V.split("."),N="_gd".concat(new Date().getTime());U<I.length-1&&document.cookie.indexOf("".concat(N,"=").concat(N))===-1;)V=I.slice(-1-++U).join("."),document.cookie="".concat(N,"=").concat(N,";domain=").concat(V,";");return document.cookie="".concat(N,"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(V,";"),(V||"").replace(/(^\.*)|(\.*$)/g,"")}(),ie=function(V){if(!V)return V;for(var I="",N="charCodeAt",ne="fromCharCode",G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".indexOf(V[0]),q=1;q<V.length-2;q++){for(var de=M(++G),Le=V[N](q),Ae="";/[0-9-]/.test(V[q+1]);)Ae+=V[++q];Le=L(Le,de,Ae=parseInt(Ae,10)||0),Le^=G-1&31,I+=String[ne](Le)}return I},D=0;return{_init:function(){var V=a.opts.key||[""],I=ie("ziRA1E3B9pA5B-11D-11xg1A3ZB5D1D4B-11ED2EG2pdeoC1clIH4wB-22yQD5uF4YE3E3A9==");typeof V=="string"&&(V=[V]);for(var N,ne,G,q=!(a.ul=!0),de=0,Le=0;Le<V.length;Le++){var Ae=(ne=V[Le],(G=(ie(ne)||"").split("|")).length===4&&G[0]==="V3"?[G[1],G[3],G[2]]:[null,null,""]),we=Ae[2];if(we===ie(ie("LGnD1KNZf1CPBYCAZB-8F3UDSLLSG1VFf1A3C2=="))||0<=we.indexOf(se,we.length-se.length)||Q(se)||H()){if((N=Ae[1])!==null&&!(N.indexOf("TRIAL")==0?(N=new Date(N.replace(/TRIAL/,"")),new Date(N)<new Date&&(ee=w,1)):new Date(N)<new Date(ie(be)))||!(0<(se||"").length)||Q(se)||H()){a.ul=!1;break}q=!0,re=ee,de=Ae[0]||-1}}var Pe=new Image;a.ul===!0&&(z(),Pe.src=q?"".concat(ie(I),"e=").concat(de):"".concat(ie(I),"u")),a.ul===!0&&(a.events.on("contentChanged",function(){(function(){return A(P)||A(j)||O(P)||O(j)})()&&z()}),a.events.on("html.get",function(We){return We+ie("qD2H-9G3ioD-17qA1tE1B-8qI3A4hA-13C-11E2C1njfldD1E6pg1C-8sC3hfbkcD2G3stC-22gqgB3G2B-7vtoA4nweeD1A31A15B9uC-16A1F5dkykdc1B8dE-11bA3F2D3A9gd1E7F2tlI-8H-7vtxB2A5B2C3B2F2B5A6ldbyC4iqC-22D-17E-13mA3D2dywiB3oxlvfC1H4C2TjqbzlnI3ntB4E3qA2zaqsC6D3pmnkoE3C6D5wvuE3bwifdhB6hch1E4xibD-17dmrC1rG-7pntnF6nB-8F1D2A11C8plrkmF2F3MC-16bocqA2WwA-21ayeA1C4d1isC-22rD-13D6DfjpjtC2E6hB2G2G4A-7D2==")})),a.events.on("html.set",function(){var We=a.el.querySelector('[data-f-id="pbf"]');We&&K(We).remove()}),a.events.on("destroy",function(){P&&P.length&&P.remove()},!0)}}},ve.MODULES.edit=function(a){function p(){if(a.browser.mozilla)try{a.doc.execCommand("enableObjectResizing",!1,"false"),a.doc.execCommand("enableInlineTableEditing",!1,"false")}catch{}if(a.browser.msie)try{a.doc.body.addEventListener("mscontrolselect",function(A){return A.srcElement.focus(),!1})}catch{}}var M=!1;function L(){return M}return{_init:function(){a.events.on("focus",function(){L()?a.edit.off():a.edit.on()})},on:function(){a.$wp?(a.$el.attr("contenteditable",!0),a.$el.removeClass("fr-disabled").attr("aria-disabled",!1),p()):a.$el.is("a")&&a.$el.attr("contenteditable",!0),a.events.trigger("edit.on",[],!0),M=!1},off:function(){a.events.disableBlur(),a.$wp?(a.$el.attr("contenteditable",!1),a.$el.addClass("fr-disabled").attr("aria-disabled",!0)):a.$el.is("a")&&a.$el.attr("contenteditable",!1),a.events.trigger("edit.off"),a.events.enableBlur(),M=!0},disableDesign:p,isDisabled:L}},ve.MODULES.format=function(a){var p=a.$;function M(w,xe){var be=w;for(var re in xe)Object.prototype.hasOwnProperty.call(xe,re)&&(be+=re==="id"?"#".concat(xe[re]):re==="class"?".".concat(xe[re]):"[".concat(re,'="').concat(xe[re],'"]'));return be}function L(w,xe){return!(!w||w.nodeType!==Node.ELEMENT_NODE)&&(w.matches||w.matchesSelector||w.msMatchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.oMatchesSelector).call(w,xe)}function A(w,xe,be){var re,se,ie,D={strong:{prop:"font-weight",val:"bold"},em:{prop:"font-style",val:"italic"}},U=function(ot){for(var Me=1;Me<arguments.length;Me++){var et=arguments[Me]!=null?arguments[Me]:{};Me%2?je(Object(et),!0).forEach(function(Ve){He(ot,Ve,et[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(et)):je(Object(et)).forEach(function(Ve){Object.defineProperty(ot,Ve,Object.getOwnPropertyDescriptor(et,Ve))})}return ot}({},be||{});if(w){var V=w.tagName==="LI"?w:p(w).parentsUntil(a.$el,"li").get(0),I=p(V).find(".fr-marker[data-type=false]").get(0);if(w.parentNode.parentNode.tagName!=="LI"||!I||I.previousSibling!=null){if(a.node.isBlock(w)&&w.hasAttribute("contenteditable")&&w.getAttribute("contenteditable")==="false"&&!a.opts.allowStylingOnNonEditable||w.parentNode&&w.parentNode.hasAttribute("contenteditable")&&w.parentNode.getAttribute("contenteditable")==="false"&&!a.opts.allowStylingOnNonEditable){if(w.nextSibling&&p(w.nextSibling).hasClass("fr-marker"))return;if(w.nextSibling)return void A(w.nextSibling,xe,be);if(w.parentNode)return void A(w.parentNode,xe,be)}for(;w&&w.nodeType===Node.COMMENT_NODE;)w=w.nextSibling;if(w){if(a.node.isBlock(w)&&w.tagName!=="HR"&&w.tagName!=="LI")return a.node.hasClass(w.firstChild,"fr-marker")?A(w.firstChild.nextSibling,xe,be):A(w.firstChild,xe,be),!1;if(U.style){var N=U.style.split(";").map(function(nt){return nt.trim()}).filter(function(nt){var ot=Ft(nt.split(":").map(function(Ve){return Ve&&Ve.trim()}),2),Me=ot[0],et=ot[1];return Me&&et}).join("; ");N?U.style=N+";":delete U.style}var ne=p(a.doc.createElement(xe));if(ne.attr(U),!(xe==="span"&&w.parentNode&&w.parentNode.tagName.toLowerCase()==="span")&&w.parentNode&&w.parentNode.hasAttribute("contenteditable")&&w.parentNode.getAttribute("contenteditable")==="false"&&a.opts.allowStylingOnNonEditable){for(var G=w.parentNode,q=p(a.doc.createElement(xe)).attr(be);G.firstChild;)q.append(G.firstChild);return p(G).append(q),void(p(G.lastChild.lastChild).hasClass("fr-marker")||A(G.nextSibling,xe,be))}if(ne.insertBefore(w),(re=j(w))&&(0<=["strong","em"].indexOf(xe)||xe==="span"&&be.hasOwnProperty("style"))&&(ie=xe==="span"?(D=be.style.replace(/;$/,"").split(":"),se=D[0].trim(),D[1].trim()):(se=D[xe].prop,D[xe].val),se!=="background-color")){var de=p(re);de.css(se,ie),de.find("a").each(function(){var nt=p(this),ot=this.style;ie===""?ot.getPropertyValue(se)&&(ot.removeProperty(se),ot.length||this.removeAttribute("style")):nt.css(se,ie)}),function(ot,Me){var et,Ve=ot.childNodes;for(et=0;et<Ve.length;et++)0<=["UL","OL","LI"].indexOf(Ve[et].tagName)&&Ve[et].style[Me]===""&&p(Ve[et]).css(Me,"initial")}(re,se)}for(var Le,Ae=w,we=!1,Pe=function(){var ot=Ae;if(Ae.tagName==="SPAN"&&p(Ae).hasClass("fr-tracking-deleted"))return Ae=Ae.nextSibling,0;if(a.node.isBlock(Ae)&&w.tagName!=="HR")return A(Ae.firstChild,xe,be),{v:!1};if(Ae.tagName==="SPAN"&&a.node.isEditable(Ae))return ne.is(":empty")&&ne.remove(),A(Ae.firstChild,xe,be),{v:!1};if(Ae.tagName&&Ae.hasAttribute("contenteditable")&&Ae.getAttribute("contenteditable")==="false"&&!a.opts.allowStylingOnNonEditable){var Me=ne.get(0).parentNode,et=Ae.nextSibling;return Ae.parentNode.tagName==="P"&&Ae.nextSibling==null?et=Ae.parentNode.nextSibling:!et&&Me&&Me.nextSibling&&Me.nextSibling.tagName==="DIV"&&(et=Me.nextSibling),A(et,xe,be),{v:void 0}}if(!a.node.isEditable(Ae.parentNode)&&!a.opts.allowStylingOnNonEditable)return a.selection.restore(),a.toolbar.disable(),{v:void 0};if(Ae=Ae.nextSibling,xe!="span"||re)ne.append(ot);else{var Ve=ot;["u","s"].forEach(function($e){0<p(ot).parents($e).length&&(Ve=p(Ve).wrap("<".concat($e,"></").concat($e,">")).get(0).parentNode,we=!0)});var Ze=function(tt){return[].filter.call(tt.parentNode.childNodes,function(_t){return _t.nodeType===Node.TEXT_NODE&&_t!==tt})}(Ve);0<Ze.length&&0<p(Ve).parents("u, s").length&&(Ze.forEach(function($e){var tt=null,_t=null;0<p(Ve).parents("u").length&&(_t=tt=document.createElement("u")),0<p(Ve).parents("s").length&&(_t=_t?(tt.appendChild(document.createElement("s")),tt.firstChild):tt=document.createElement("s")),_t.appendChild($e.cloneNode()),$e.replaceWith(tt)}),a.selection.restore(),a.selection.save());var Xe=Ve.tagName==="A"?Ve:Ve.parentNode&&Ve.parentNode.tagName==="A"?Ve.parentNode:null;Xe&&(!U.style&&Xe.hasAttribute("style")?Xe.removeAttribute("style"):U.style&&p(Xe).attr("style",U.style)),ne.append(Ve)}a.browser.mozilla&&0<ne.length&&function(tt){if(p(tt).parentsUntil(a.$el,"TABLE").length){for(var _t=null,mt=tt.nextSibling;mt;)mt.nodeName==="BR"&&(_t=mt),mt=mt.nextSibling;_t&&!_t.nextSibling&&_t.parentNode.nodeName!="TD"&&_t.parentNode.textContent&&_t.remove()}}(ne[0])};Ae&&!p(Ae).hasClass("fr-marker")&&p(Ae).find(".fr-marker").length===0&&Ae.tagName!=="UL"&&Ae.tagName!=="OL";)if((Le=Pe())!==0&&Le)return Le.v;if(Ae)(p(Ae).find(".fr-marker").length||Ae.tagName==="UL"||Ae.tagName==="OL")&&A(Ae.firstChild,xe,be);else{for(var We=ne.get(0).parentNode;We&&!We.nextSibling&&!a.node.isElement(We);)We=We.parentNode;if(We){var ut=We.nextSibling;ut&&(a.node.isBlock(ut)?ut.tagName==="HR"?A(ut.nextSibling,xe,be):A(ut.firstChild,xe,be):A(ut,xe,be))}}ne.is(":empty")?ne.remove():we&&(ne.parents("u, s").get().forEach(function(nt){var ot=nt.parentNode;if(ot){var Me=document.createDocumentFragment();nt.childNodes.forEach(function(et){Me.appendChild(et.cloneNode(!0))}),ot.replaceChild(Me,nt)}}),a.selection.restore(),a.selection.save())}}}}function O(w,xe){var be;if(xe===void 0&&(xe={}),xe.style&&delete xe.style,a.selection.isCollapsed()){a.markers.insert();var re=a.$el.find(".fr-marker");re.get(0).nextSibling&&a.node.isBlock(re.get(0).nextSibling)&&!re.get(0).previousSibling&&re.get(0).parentNode.tagName==="LI"&&re.get(0).nextSibling.prepend(re.get(0)),re.replaceWith(function(I,N){var ne="<".concat(I);for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(ne+=" ".concat(G,'="').concat(N[G],'"'));return ne+=">"}(w,xe)+ve.INVISIBLE_SPACE+ve.MARKERS+function(I){return"</".concat(I,">")}(w)),a.selection.restore()}else{a.selection.save();var se,ie=a.$el.find('.fr-marker[data-type="true"]').length&&a.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;A(ie,w,xe),p(ie).parent().find("a:empty").remove();do for(se=a.$el.find("".concat(M(w,xe)," > ").concat(M(w,xe))),be=0;be<se.length;be++)se[be].outerHTML=se[be].innerHTML;while(se.length);a.el.normalize();var D=a.el.querySelectorAll(".fr-marker");for(be=0;be<D.length;be++){var U=p(D[be]);U.data("type")===!0?L(U.get(0).nextSibling,M(w,xe))&&U.next().prepend(U):L(U.get(0).previousSibling,M(w,xe))&&U.prev().append(U)}a.selection.restore()}}function z(w,xe,be,re){if(!re){var se=!1;if(w.data("type")===!0)for(;a.node.isFirstSibling(w.get(0))&&!w.parent().is(a.$el)&&!w.parent().is("ol")&&!w.parent().is("ul");)w.parent().before(w),se=!0;else if(w.data("type")===!1)for(;a.node.isLastSibling(w.get(0))&&!w.parent().is(a.$el)&&!w.parent().is("ol")&&!w.parent().is("ul");)w.parent().after(w),se=!0;if(se)return!0}if(w.parents(xe).length||xe===void 0){var ie,D="",U="",V=w.parent();if(V[0].tagName==="A"&&(V=V.parent()),V.is(a.$el)||a.node.isBlock(V.get(0)))return!1;for(;!(a.node.isBlock(V.parent().get(0))||xe!==void 0&&L(V.get(0),M(xe,be))||["#document","HTML","BODY"].includes(V.parent().get(0).nodeName.toUpperCase()));)D+=a.node.closeTagString(V.get(0)),U=a.node.openTagString(V.get(0))+U,V=V.parent();var I=w.get(0).outerHTML;return w.replaceWith('<span id="mark"></span>'),ie=V.html().replace(/<span id="mark"><\/span>/,D+a.node.closeTagString(V.get(0))+U+I+D+a.node.openTagString(V.get(0))+U),V.replaceWith(a.node.openTagString(V.get(0))+ie+a.node.closeTagString(V.get(0))),!0}return!1}function Q(w,xe){xe===void 0&&(xe={}),xe.style&&delete xe.style;var be=a.selection.isCollapsed();a.selection.save();var re=a.$el.find(".fr-marker");if(w&&re.length&&(re[0].parentNode&&re[0].parentNode.tagName===w.toUpperCase()||re[1].parentNode.tagName===w.toUpperCase())){var se=re[0];re[0].parentNode.tagName!==w.toUpperCase()&&(se=re[1]);for(var ie=se.parentNode.previousSibling;ie!=null;)ie.nodeType===Node.TEXT_NODE&&(ie.textContent=ie.textContent.replace(/\u200B/g,"")),ie=ie.previousSibling;for(var D=se.parentNode.nextSibling;D!=null;)D.nodeType===Node.TEXT_NODE&&(D.textContent=D.textContent.replace(/\u200B/g,"")),D=D.nextSibling}for(var U=!0;U;){U=!1;for(var V=a.$el.find(".fr-marker"),I=0;I<V.length;I++){var N=p(V[I]),ne=null;if(N.attr("data-cloned")||be||(ne=N.clone().removeClass("fr-marker").addClass("fr-clone"),N.data("type")&&N.data("type").toString()==="true"?N.attr("data-cloned",!0).after(ne):N.attr("data-cloned",!0).before(ne)),z(N,w,xe,be)){U=!0;break}}}(function Ze(Xe,$e,tt,_t){for(var mt,Lt={strong:{prop:"font-weight",val:"bold"},em:{prop:"font-style",val:"italic"}},Rt=a.node.contents(Xe.get(0)),Wt=0;Wt<Rt.length;Wt++){var Zt=Rt[Wt];if(Zt.innerHTML&&Zt.innerHTML.charCodeAt()==8203&&Zt.tagName.toLocaleLowerCase()==tt&&Zt.childNodes.length<2&&!a.helpers.isMobile()&&(Zt.outerHTML=Zt.innerHTML),a.node.hasClass(Zt,"fr-marker"))$e=($e+1)%2;else if($e)if(0<p(Zt).find(".fr-marker").length)$e=Ze(p(Zt),$e,tt,_t);else{(mt=Zt.tagName==="LI"?Zt:p(Zt).parentsUntil(a.$el,"li").get(0))&&(tt===void 0||0<=["strong","em"].indexOf(tt))&&(tt?p(mt).css(Lt[tt].prop,""):mt.style=""),(mt=Zt.parentNode!==a.el?Zt.parentNode:null)&&mt.nodeType===1&&["p","strong","u","em","s","sub","sup","a"].indexOf(tt)<0&&mt.hasAttribute("style")&&mt.tagName!=="SPAN"&&mt.tagName!=="LI"?mt.style="":Zt&&Zt.nodeType===1&&Zt.hasAttribute("style")&&["p","strong","u","em","s","sub","sup","a"].indexOf(tt)<0&&(a.browser.msie?p(Zt).attr("style",""):Zt.style="");for(var kn=p(Zt).find(tt||"*:not(br)"),Jn=kn.length-1;0<=Jn;Jn--){var Je=kn[Jn];if((mt=Je.tagName==="LI"?Je:p(Je).parentsUntil(a.$el,"li").get(0))&&(!tt||0<=["strong","em"].indexOf(tt))&&(tt?p(mt).css(Lt[tt].prop,""):mt.style=""),Je.tagName==="A"||a.node.isBlock(Je)||a.node.isVoid(Je)||tt!==void 0&&!L(Je,M(tt,_t)))a.node.isBlock(Je)&&tt===void 0&&Zt.tagName!=="TABLE"&&Je.tagName!=="VIDEO"&&a.node.clearAttributes(Je);else{var wt=Je.tagName==="IFRAME"&&Je.parentNode&&Je.parentNode.tagName==="SPAN"&&a.node.hasClass(Je.parentNode,"fr-video")||Je.tagName==="SPAN"&&a.node.hasClass(Je,"fr-video");a.node.hasClass(Je,"fr-clone")||wt||a.node.hasClass(Je,"fr-tracking-deleted")||p(Je).data("tracking")||(Je.outerHTML=Je.innerHTML)}}Zt.tagName!=="A"&&tt===void 0&&Zt.nodeType===Node.ELEMENT_NODE&&!a.node.isVoid(Zt)||L(Zt,M(tt,_t))?a.node.isBlock(Zt)?Zt.style="":a.node.hasClass(Zt,"fr-clone")||a.node.hasClass(Zt,"fr-video")||a.opts.trackChangesEnabled?!a.node.hasClass(Zt,"fr-clone")&&!a.node.hasClass(Zt,"fr-video")&&a.opts.trackChangesEnabled&&Zt.parentNode&&(Zt.outerHTML=Zt.innerHTML):Zt.outerHTML=Zt.innerHTML:tt===void 0&&Zt.nodeType===Node.ELEMENT_NODE&&a.node.isBlock(Zt)&&!["TABLE","VIDEO"].includes(Zt.tagName)&&a.node.clearAttributes(Zt)}else 0<p(Zt).find(".fr-marker").length&&($e=Ze(p(Zt),$e,tt,_t))}return $e})(a.$el,0,w,xe),be||(a.$el.find(".fr-marker").remove(),a.$el.find(".fr-clone").removeClass("fr-clone").addClass("fr-marker")),be&&a.$el.find(".fr-marker").before(ve.INVISIBLE_SPACE).after(ve.INVISIBLE_SPACE),a.html.cleanEmptyTags(),a.el.normalize(),a.selection.restore();var G=a.win.getSelection()&&a.win.getSelection().anchorNode;if(G){var q=a.node.blockParent(G),de=!!G.textContent.replace(/\u200B/g,"").length,Le=a.win.getSelection().getRangeAt(0),Ae=Le.startOffset,we=Le.endOffset;a.selection.text().replace(/\u200B/g,"").length||function Ze(Xe,$e){if(Xe&&$e){if(Xe.isSameNode($e)?Xe.textContent=Xe.textContent.replace(/\u200B(?=.*\u200B)/g,""):Xe.nodeType===Node.TEXT_NODE&&(Xe.textContent=Xe.textContent.replace(/\u200B/g,"")),!Xe.childNodes.length)return!1;Array.isArray(Xe.childNodes)&&Xe.childNodes.forEach(function(tt){Ze(tt,$e)})}}(q,G);var Pe=a.win.getSelection().getRangeAt(0);if(G.nodeType===Node.TEXT_NODE){if(!de||!a.selection.text().length&&Ae===we){var We=G.textContent.search(/\u200B/g)+1;if(a.browser.msie){var ut=a.doc.createRange();a.selection.get().removeAllRanges(),ut.setStart(G,We),ut.setEnd(G,We),a.selection.get().addRange(ut)}else w!=="a"&&(Pe.setStart(G,We),Pe.setEnd(G,We))}}else{var nt,ot,Me=0,et=p(G).contents();if(a.browser.msie){for(;ot=et[Me];)ot.nodeType===Node.TEXT_NODE&&0<=ot.textContent.search(/\u200B/g)&&(nt=ot),Me++;nt=p(nt)}else nt=et.filter(function(Ze){return Ze.nodeType===Node.TEXT_NODE&&0<=Ze.textContent.search(/\u200B/g)});if(nt.length&&!a.opts.trackChangesEnabled){var Ve=nt.text().search(/\u200B/g)+1;Pe.setStart(nt.get(0),Ve),Pe.setEnd(nt.get(0),Ve)}}}}function H(w,xe){var be=p(w);be.css(xe,"");var re=["fr-find-replace-highlight","fr-find-replace-current-highlight"].some(function(se){return be.hasClass(se)});be.attr("style")!==""||re||be.replaceWith(be.html())}function P(w,xe){var be,re,se,ie,D=null;if(a.selection.isCollapsed()){a.markers.insert();var U=(re=a.$el.find(".fr-marker")).parent();if(a.node.openTagString(U.get(0))==='<span style="'.concat(w,": ").concat(U.css(w),';">')){if(a.node.isEmpty(U.get(0)))D=p(a.doc.createElement("span")).attr("style","".concat(w,": ").concat(xe,";")).html("".concat(ve.INVISIBLE_SPACE).concat(ve.MARKERS)),U.replaceWith(D);else{var V={};V["style*"]="".concat(w,":"),z(re,"span",V,!0),re=a.$el.find(".fr-marker"),xe?(D=p(a.doc.createElement("span")).attr("style","".concat(w,": ").concat(xe,";")).html("".concat(ve.INVISIBLE_SPACE).concat(ve.MARKERS)),re.replaceWith(D)):re.replaceWith(ve.INVISIBLE_SPACE+ve.MARKERS)}a.html.cleanEmptyTags()}else a.node.isEmpty(U.get(0))&&U.is("span")?(re.replaceWith(ve.MARKERS),U.css(w,xe)):(re.get(0).nextSibling&&a.node.isBlock(re.get(0).nextSibling)&&!re.get(0).previousSibling&&re.get(0).parentNode.tagName==="LI"&&re.get(0).nextSibling.prepend(re.get(0)),D=p(xe?'<span style="'.concat(w,": ").concat(xe,';">').concat(ve.INVISIBLE_SPACE).concat(ve.MARKERS,"</span>"):"<span>".concat(ve.INVISIBLE_SPACE).concat(ve.MARKERS,"</span>")),re.replaceWith(D));D&&K(D,w,xe)}else{if(a.selection.save(),xe===null||w==="color"&&0<a.$el.find(".fr-marker").parents("u, a").length){var I=a.$el.find(".fr-marker");for(be=0;be<I.length;be++)if((re=p(I[be])).data("type")===!0||re.data("type")==="true")for(;a.node.isFirstSibling(re.get(0))&&!re.parent().is(a.$el)&&!a.node.isElement(re.parent().get(0))&&!a.node.isBlock(re.parent().get(0));)re.parent().before(re);else for(;a.node.isLastSibling(re.get(0))&&!re.parent().is(a.$el)&&!a.node.isElement(re.parent().get(0))&&!a.node.isBlock(re.parent().get(0));)re.parent().after(re)}for(var N=a.$el.find('.fr-marker[data-type="true"]').get(0).nextSibling;N.firstChild;)N=N.firstChild;var ne={class:"fr-unprocessed"};for((xe||w)&&(ne.style="".concat(w,": ").concat(xe||"",";")),A(N,"span",ne),a.$el.find(".fr-marker + .fr-unprocessed").each(function(){p(this).prepend(p(this).prev())}),a.$el.find(".fr-unprocessed + .fr-marker").each(function(){p(this).prev().append(p(this))}),(xe||"").match(/\dem$/)&&a.$el.find("span.fr-unprocessed").removeClass("fr-unprocessed");0<a.$el.find("span.fr-unprocessed").length;){if(se=j(D=a.$el.find("span.fr-unprocessed").first().removeClass("fr-unprocessed")),D.parent().get(0).normalize(),D.parent().is("span")&&D.parent().get(0).childNodes.length===1){var G=xe;a.browser.msie&&!xe&&(G=""),D.parent().css(w,G);var q=D;D=D.parent(),q.replaceWith(q.html()),D.parent().get(0).childNodes.length!==1||xe||w!=="background-color"||D.parents("span").css(w,xe)}for(ie=D.find("span"),se&&w!=="background-color"&&(se.normalize(),ie=p(se).find("span:not(.fr-unprocessed)")),be=ie.length-1;0<=be;be--)H(ie[be],w);K(D,w,xe)}}(function(){for(var Le;0<a.$el.find(".fr-split:empty").length;)a.$el.find(".fr-split:empty").remove();a.$el.find(".fr-split").removeClass("fr-split"),a.$el.find('[style=""]').removeAttr("style"),a.$el.find('[class=""]').removeAttr("class"),a.html.cleanEmptyTags();for(var Ae=a.$el.find("span"),we=Ae.length-1;0<=we;we--){var Pe=Ae[we];Pe.attributes&&Pe.attributes.length!==0||p(Pe).replaceWith(Pe.innerHTML)}a.el.normalize();var We=a.$el.find("span[style] + span[style]");for(Le=0;Le<We.length;Le++){var ut=p(We[Le]),nt=p(We[Le]).prev();ut.get(0).previousSibling===nt.get(0)&&a.node.openTagString(ut.get(0))===a.node.openTagString(nt.get(0))&&(ut.prepend(nt.html()),nt.remove())}a.$el.find("span[style] span[style]").each(function(){if(0<=p(this).attr("style").indexOf("font-size")){var ot=p(this).parents("span[style]");ot.attr("style")&&0<=ot.attr("style").indexOf("background-color")&&(p(this).attr("style",function(et,Ve){var Ze=function(tt){return tt.split(";").reduce(function(_t,mt){var Lt=mt.split(":"),Rt=Ft(Lt,2),Wt=Rt[0],Zt=Rt[1];return Wt&&Zt&&(_t[Wt.trim()]=Zt.trim()),_t},{})},Xe=Object.assign(Ze(Ve),Ze(et));return Object.entries(Xe).map(function($e){var tt=Ft($e,2),_t=tt[0],mt=tt[1];return"".concat(_t,": ").concat(mt)}).join("; ")}(p(this).attr("style"),ot.attr("style"))),z(p(this),"span[style]",{},!1))}}),a.el.normalize(),a.selection.restore()})()}function j(w){var xe,be,re,se,ie,D;if((xe=w.tagName==="LI"?w:p(w).parentsUntil(a.$el,"li").get(0))&&((D=a.selection.info(xe)).atStart&&D.atEnd||D.atStart&&!D.atEnd&&(be=p(xe).find(".fr-marker[data-type=false]").get(0),re=p(be).parentsUntil(a.$el,"li").get(0),se=p(be).parentsUntil(re).get(-1),(ie=be.nextSibling)&&0<=["UL","OL"].indexOf(ie.tagName)||!re.isSameNode(xe)||!ie&&se&&(se.tagName==="LI"||!se.nextSibling||0<=["UL","OL"].indexOf(se.nextSibling.tagName)||a.node.isVoid(se.nextSibling)))))return xe}function K(w,xe,be){var re,se,ie,D=w.parentsUntil(a.$el,"span[style]"),U=[];for(re=D.length-1;0<=re;re--)se=D[re],ie=xe,p(se).attr("style").indexOf("".concat(ie,":"))===0||0<=p(se).attr("style").indexOf(";".concat(ie,":"))||0<=p(se).attr("style").indexOf("; ".concat(ie,":"))||U.push(D[re]);if((D=D.not(U)).length){var V="",I="",N="",ne="",G=w.get(0);do{if(G=G.parentNode,["TABLE","TD","TR"].includes(G.tagName))break;p(G).addClass("fr-split"),V+=a.node.closeTagString(G),I=a.node.openTagString(p(G).clone().addClass("fr-split").get(0))+I,D.get(0)!==G&&(N+=a.node.closeTagString(G),ne=a.node.openTagString(p(G).clone().addClass("fr-split").get(0))+ne)}while(D.get(0)!==G);var q="".concat(V+a.node.openTagString(p(D.get(0)).clone().css(xe,be||"").get(0))+ne+w.css(xe,"").get(0).outerHTML+N,"</span>").concat(I);w.replaceWith('<span id="fr-break"></span>');var de=D.get(0).outerHTML;p(D.get(0)).replaceWith(de.replace(/<span id="fr-break"><\/span>/g,function(){return q}))}}function ee(w,xe){xe===void 0&&(xe={}),xe.style&&delete xe.style;var be=a.selection.ranges(0),re=be.startContainer;if(re.nodeType===Node.ELEMENT_NODE&&0<re.childNodes.length&&re.childNodes[be.startOffset]&&(re=re.childNodes[be.startOffset]),!be.collapsed&&re.nodeType===Node.TEXT_NODE&&be.startOffset===(re.textContent||"").length){for(;!a.node.isBlock(re.parentNode)&&!re.nextSibling;)re=re.parentNode;re.nextSibling&&(re=re.nextSibling)}for(var se=re;se&&se.nodeType===Node.ELEMENT_NODE&&!L(se,M(w,xe));)se=se.firstChild;if(se&&se.nodeType===Node.ELEMENT_NODE&&L(se,M(w,xe)))return!0;var ie=re;for(ie&&ie.nodeType!==Node.ELEMENT_NODE&&(ie=ie.parentNode);ie&&ie.nodeType===Node.ELEMENT_NODE&&ie!==a.el&&!L(ie,M(w,xe));)ie=ie.parentNode;return!(!ie||ie.nodeType!==Node.ELEMENT_NODE||ie===a.el||!L(ie,M(w,xe)))}return{is:ee,toggle:function(xe,be){if(a.browser.safari&&a.shared.safariSelection){var re=a.shared.safariSelection,se=re.startContainer,ie=re.endContainer,D=re.startOffset,U=re.endOffset,V=a.doc.createRange();V.setStart(se,D),V.setEnd(ie,U),a.selection.get().removeAllRanges(),a.selection.get().addRange(V),a.shared.safariSelection=null}ee(xe,be)?Q(xe,be):O(xe,be)},apply:O,remove:Q,applyStyle:P,removeStyle:function(xe){P(xe,null)}}},ve.MODULES.spaces=function(a){var p=a.$;function M(A,O){var z=A.previousSibling,Q=A.nextSibling,H=A.textContent,P=A.parentNode,j=[ve.ENTER_P,ve.ENTER_DIV,ve.ENTER_BR];if(!a.html.isPreformatted(P)){O&&(H=a.opts.preserveTabSpaces?H.replace(/[\f\n\r\v]{2,}/g," "):H.replace(/[\f\n\r\t\v ]{2,}/g," "),Q&&Q.tagName!=="BR"&&!a.node.isBlock(Q)||!(a.node.isBlock(P)||a.node.isLink(P)&&!P.nextSibling||a.node.isElement(P))||(H=H.replace(/[\f\n\r\t\v ]{1,}$/g,"")),z&&z.tagName!=="BR"&&!a.node.isBlock(z)||!(a.node.isBlock(P)||a.node.isLink(P)&&!P.previousSibling||a.node.isElement(P))||(H=H.replace(/^[\f\n\r\t\v ]{1,}/g,"")),(a.node.isBlock(Q)||a.node.isBlock(z))&&(!z||z&&z.tagName!=="A")&&(H=H.replace(/^[\f\n\r\t\v ]{1,}/g,"")),H===" "&&(z&&a.node.isVoid(z)||Q&&a.node.isVoid(Q))&&!(z&&Q&&a.node.isVoid(z)||Q&&z&&a.node.isVoid(Q))&&(H="")),(!z&&a.node.isBlock(Q)||!Q&&a.node.isBlock(z))&&a.node.isBlock(P)&&P!==a.el&&(H=H.replace(/^[\f\n\r\t\v ]{1,}/g,"")),O||(H=H.replace(new RegExp(ve.UNICODE_NBSP,"g")," "));var K=P.nextSibling&&P.nextSibling.tagName,ee=P.previousSibling&&P.previousSibling.tagName,w=["SPAN","STRONG","U","EM"];K||p(P).parent().each(function(){return w.indexOf(this.tagName)!==-1&&(this.nextSibling?(K=this.nextSibling&&this.nextSibling.tagName,!1):void 0)}),ee||p(P).parent().each(function(){return w.indexOf(this.tagName)!==-1&&(this.previousSibling?(ee=this.previousSibling&&this.previousSibling.tagName,!1):void 0)});for(var xe="",be=0;be<H.length;be++)H.charCodeAt(be)!=32||be!==0&&xe.charCodeAt(be-1)!=32||A.nodeType===Node.TEXT_NODE&&P.tagName==="SPAN"&&P.parentNode&&0<=w.indexOf(P.parentNode.tagName)&&(0<=w.indexOf(K)||0<=w.indexOf(ee))||!((a.opts.enter===ve.ENTER_BR||a.opts.enter===ve.ENTER_DIV)&&(z&&z.tagName==="BR"||Q&&Q.tagName==="BR")||z&&Q&&z.tagName===Q.tagName||!(z&&Q&&a.node.isVoid(z)||z&&Q&&a.node.isVoid(Q))||z&&Q&&0<=["STRONG","U","EM"].indexOf(z.tagName)&&Q.tagName==="BR")?xe+=H[be]:xe+=ve.UNICODE_NBSP;a.browser.chrome&&1<xe.length&&xe.charCodeAt(xe.length-1)===32&&(Q&&Q.nextSibling&&Q.nextSibling.nextSibling&&Q.nextSibling.nextSibling.tagName==="BR"||Q&&Q.tagName==="BR")&&(xe=xe.substring(0,xe.length-1)+ve.UNICODE_NBSP),!(!Q||Q&&a.node.isBlock(Q)||Q&&Q.nodeType===Node.ELEMENT_NODE&&a.win.getComputedStyle(Q)&&a.win.getComputedStyle(Q).display==="block")||A.nodeType===Node.TEXT_NODE&&P.tagName==="SPAN"&&P.parentNode&&0<=w.indexOf(P.parentNode.tagName)&&(0<=w.indexOf(K)||0<=w.indexOf(ee))||(!a.node.isVoid(z)||z&&["P","DIV","BR"].indexOf(z.tagName)!==-1&&j.indexOf(a.opts.enter)!==-1)&&(xe=xe.replace(/ $/,ve.UNICODE_NBSP)),!z||a.node.isVoid(z)||a.node.isBlock(z)||(xe=xe.replace(/^\u00A0([^ $])/," $1")).length!==1||xe.charCodeAt(0)!==160||!Q||a.node.isVoid(Q)||a.node.isBlock(Q)||a.node.hasClass(z,"fr-marker")&&a.node.hasClass(Q,"fr-marker")||(xe=" "),O||(xe=xe.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2")),A.textContent!==xe&&(A.textContent=xe)}}function L(A,O){if(A!==void 0&&A||(A=a.el),O===void 0&&(O=!1),!A.getAttribute||A.getAttribute("contenteditable")!=="false"){if(A.nodeType===Node.TEXT_NODE)M(A,O);else if(A.nodeType===Node.ELEMENT_NODE)for(var z=a.doc.createTreeWalker(A,NodeFilter.SHOW_TEXT,a.node.filter(function(Q){for(var H=Q.parentNode;H&&H!==a.el;){if(H.tagName==="STYLE"||H.tagName==="IFRAME"||H.tagName==="PRE")return!1;H=H.parentNode}return Q.textContent.match(/([ \u00A0\f\n\r\t\v]{2,})|(^[ \u00A0\f\n\r\t\v]{1,})|([ \u00A0\f\n\r\t\v]{1,}$)/g)!==null&&!a.node.hasClass(Q.parentNode,"fr-marker")}),!1);z.nextNode();)M(z.currentNode,O)}}return{normalize:L,normalizeAroundCursor:function(){for(var O=[],z=a.el.querySelectorAll(".fr-marker"),Q=0;Q<z.length;Q++){for(var H=null,P=a.node.blockParent(z[Q]),j=(H=P||z[Q]).nextSibling,K=H.previousSibling;j&&j.tagName==="BR";)j=j.nextSibling;for(;K&&K.tagName==="BR";)K=K.previousSibling;H&&O.indexOf(H)<0&&O.push(H),K&&O.indexOf(K)<0&&O.push(K),j&&O.indexOf(j)<0&&O.push(j)}for(var ee=0;ee<O.length;ee++)L(O[ee])}}},ve.INVISIBLE_SPACE="&#8203;",ve.HAIR_SPACE="&#8202;",ve.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'.concat(ve.INVISIBLE_SPACE,"</span>"),ve.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'.concat(ve.INVISIBLE_SPACE,"</span>"),ve.MARKERS=ve.START_MARKER+ve.END_MARKER,ve.MODULES.markers=function(a){var p=a.$;function M(){if(!a.$wp)return null;try{var A=a.selection.ranges(0),O=A.commonAncestorContainer;if(O!==a.el&&!a.$el.contains(O))return null;var z=A.cloneRange(),Q=A.cloneRange();z.collapse(!0);var H=p(a.doc.createElement("SPAN")).addClass("fr-marker").attr("style","display: none; line-height: 0;").html(ve.INVISIBLE_SPACE).get(0);if(z.insertNode(H),H=a.$el.find("span.fr-marker").get(0)){for(var P=H.nextSibling;P&&P.nodeType===Node.TEXT_NODE&&P.textContent.length===0;)p(P).remove(),P=a.$el.find("span.fr-marker").get(0).nextSibling;return a.selection.clear(),a.selection.get().addRange(Q),H}return null}catch{}}function L(){a.$el.find(".fr-marker").remove()}return{place:function(O,z,Q){var H,P,j;try{var K=O.cloneRange();if(K.collapse(z),K.insertNode(function(xe,be){var re=p(a.doc.createElement("SPAN"));return re.addClass("fr-marker").attr("data-id",be).attr("data-type",xe).attr("style","display: ".concat(a.browser.safari?"none":"inline-block","; line-height: 0;")).html(ve.INVISIBLE_SPACE),re.get(0)}(z,Q)),z===!0)for(j=(H=a.$el.find('span.fr-marker[data-type="true"][data-id="'.concat(Q,'"]')).get(0)).nextSibling;j&&j.nodeType===Node.TEXT_NODE&&j.textContent.length===0;)p(j).remove(),j=H.nextSibling;if(z===!0&&!O.collapsed){for(;!a.node.isElement(H.parentNode)&&!j;)-1</\bfa\b/g.test(H.parentNode.className)&&H.parentNode.tagName==="I"?p(H.parentNode).before(H):p(H.parentNode).after(H),j=H.nextSibling;if(j&&j.nodeType===Node.ELEMENT_NODE&&a.node.isBlock(j)&&j.tagName!=="HR"){for(P=[j];j=P[0],(P=a.node.contents(j))[0]&&a.node.isBlock(P[0]););p(j).prepend(p(H))}}if(z===!1&&!O.collapsed){if((j=(H=a.$el.find('span.fr-marker[data-type="false"][data-id="'.concat(Q,'"]')).get(0)).previousSibling)&&j.nodeType===Node.ELEMENT_NODE&&a.node.isBlock(j)&&!["TABLE","HR"].includes(j.tagName)){for(P=[j];j=P[P.length-1],(P=a.node.contents(j))[P.length-1]&&a.node.isBlock(P[P.length-1]););p(j).append(p(H))}(H.parentNode&&0<=["TD","TH"].indexOf(H.parentNode.tagName)||!H.previousSibling&&a.node.isBlock(H.parentElement))&&(H.parentNode.previousSibling&&!H.previousSibling?p(H.parentNode.previousSibling).append(H):0<=["TD","TH"].indexOf(H.parentNode.tagName)&&H.parentNode.firstChild===H&&(H.parentNode.previousSibling?p(H.parentNode.previousSibling).append(H):H.parentNode.parentNode&&H.parentNode.parentNode.previousSibling&&p(H.parentNode.parentNode.previousSibling).append(H)))}var ee=a.$el.find('span.fr-marker[data-type="'.concat(z,'"][data-id="').concat(Q,'"]')).get(0);return ee&&(ee.style.display="none"),ee}catch{return null}},insert:M,split:function(){a.selection.isCollapsed()||a.selection.remove();var O=a.$el.find(".fr-marker").get(0);if(O||(O=M()),!O)return null;var z=a.node.deepestParent(O);if(z||(z=a.node.blockParent(O))&&z.tagName!=="LI"&&(z=null),z){if(a.node.isBlock(z)&&a.node.isEmpty(z))z.tagName!=="LI"||z.parentNode.firstElementChild!==z||a.node.isEmpty(z.parentNode)?p(z).replaceWith('<span class="fr-marker"></span>'):p(z).append('<span class="fr-marker"></span>');else if(a.cursor.isAtStart(O,z))p(z).before('<span class="fr-marker"></span>'),p(O).remove();else if(a.cursor.isAtEnd(O,z))p(z).after('<span class="fr-marker"></span>'),p(O).remove();else if(z.contentEditable!=="true"){for(var Q=O,H="",P="";Q=Q.parentNode,H+=a.node.closeTagString(Q),P=a.node.openTagString(Q)+P,Q!==z;);p(O).replaceWith('<span id="fr-break"></span>');var j=a.node.openTagString(z)+p(z).html()+a.node.closeTagString(z);j=j.replace(/<span id="fr-break"><\/span>/g,"".concat(H,'<span class="fr-marker"></span>').concat(P)),p(z).replaceWith(j)}}return a.$el.find(".fr-marker").get(0)},insertAtPoint:function(O){var z,Q=O.clientX,H=O.clientY;L();var P=null;if(typeof a.doc.caretPositionFromPoint<"u"?(z=a.doc.caretPositionFromPoint(Q,H),(P=a.doc.createRange()).setStart(z.offsetNode,z.offset),P.setEnd(z.offsetNode,z.offset)):typeof a.doc.caretRangeFromPoint<"u"&&(z=a.doc.caretRangeFromPoint(Q,H),(P=a.doc.createRange()).setStart(z.startContainer,z.startOffset),P.setEnd(z.startContainer,z.startOffset)),P!==null&&typeof a.win.getSelection<"u"){var j=a.win.getSelection();j.removeAllRanges(),j.addRange(P)}else if(typeof a.doc.body.createTextRange<"u")try{(P=a.doc.body.createTextRange()).moveToPoint(Q,H);var K=P.duplicate();K.moveToPoint(Q,H),P.setEndPoint("EndToEnd",K),P.select()}catch{return!1}M()},remove:L}},ve.MODULES.selection=function(a){var p=a.$;function M(){var ie="";return a.win.getSelection?ie=a.win.getSelection():a.doc.getSelection?ie=a.doc.getSelection():a.doc.selection&&(ie=a.doc.selection.createRange().text),ie.toString()}function L(){return a.win.getSelection?a.win.getSelection():a.doc.getSelection?a.doc.getSelection():a.doc.selection.createRange()}function A(ie){var D=L(),U=[];if(D&&D.getRangeAt&&D.rangeCount){U=[];for(var V=0;V<D.rangeCount;V++)U.push(D.getRangeAt(V))}else U=a.doc.createRange?[a.doc.createRange()]:[];return ie!==void 0?U[ie]:U}function O(){var ie=L();try{ie.removeAllRanges?ie.removeAllRanges():ie.empty?ie.empty():ie.clear&&ie.clear()}catch{}}function z(ie,D){var U=ie;return U.nodeType===Node.ELEMENT_NODE&&0<U.childNodes.length&&U.childNodes[D]&&(U=U.childNodes[D]),U.nodeType===Node.TEXT_NODE&&(U=U.parentNode),U}function Q(){if(a.$wp){a.markers.remove();var ie,D,U=A(),V=[];for(D=0;D<U.length;D++)if(U[D].startContainer!==a.doc||a.browser.msie){var I=(ie=U[D]).collapsed,N=a.markers.place(ie,!0,D),ne=a.markers.place(ie,!1,D);if(N!==void 0&&N||!I||(p(".fr-marker").remove(),a.selection.setAtEnd(a.el)),a.el.normalize(),a.browser.safari&&!I)try{(ie=a.doc.createRange()).setStartAfter(N),ie.setEndBefore(ne),V.push(ie)}catch{}}if(a.browser.safari&&V.length)for(a.selection.clear(),D=0;D<V.length;D++)a.selection.get().addRange(V[D])}}function H(){var ie,D=a.el.querySelectorAll('.fr-marker[data-type="true"]');if(!a.$wp)return a.markers.remove(),!1;if(D.length===0)return!1;if(a.browser.msie||a.browser.edge)for(ie=0;ie<D.length;ie++)D[ie].style.display="inline-block";a.core.hasFocus()||a.browser.msie||a.browser.webkit||a.$el.focus(),O();var U=L();for(ie=0;ie<D.length;ie++){var V=p(D[ie]).data("id"),I=D[ie],N=a.doc.createRange(),ne=a.$el.find('.fr-marker[data-type="false"][data-id="'.concat(V,'"]'));(a.browser.msie||a.browser.edge)&&ne.css("display","inline-block");var G=null;if(0<ne.length){ne=ne[0];try{for(var q=!1,de=I.nextSibling,Le=null;de&&de.nodeType===Node.TEXT_NODE&&de.textContent.length===0;)de=(Le=de).nextSibling,p(Le).remove();for(var Ae=ne.nextSibling;Ae&&Ae.nodeType===Node.TEXT_NODE&&Ae.textContent.length===0;)Ae=(Le=Ae).nextSibling,p(Le).remove();if(I.nextSibling===ne||ne.nextSibling===I){for(var we=I.nextSibling===ne?I:ne,Pe=we===I?ne:I,We=we.previousSibling;We&&We.nodeType===Node.TEXT_NODE&&We.length===0;)We=(Le=We).previousSibling,p(Le).remove();if(We&&We.nodeType===Node.TEXT_NODE)for(;We&&We.previousSibling&&We.previousSibling.nodeType===Node.TEXT_NODE;)We.previousSibling.textContent+=We.textContent,We=We.previousSibling,p(We.nextSibling).remove();for(var ut=Pe.nextSibling;ut&&ut.nodeType===Node.TEXT_NODE&&ut.length===0;)ut=(Le=ut).nextSibling,p(Le).remove();if(ut&&ut.nodeType===Node.TEXT_NODE)for(;ut&&ut.nextSibling&&ut.nextSibling.nodeType===Node.TEXT_NODE;)ut.nextSibling.textContent=ut.textContent+ut.nextSibling.textContent,ut=ut.nextSibling,p(ut.previousSibling).remove();if(We&&(a.node.isVoid(We)||a.node.isBlock(We))&&(We=null),ut&&(a.node.isVoid(ut)||a.node.isBlock(ut))&&(ut=null),We&&ut&&We.nodeType===Node.TEXT_NODE&&ut.nodeType===Node.TEXT_NODE){p(I).remove(),p(ne).remove();var nt=We.textContent.length;We.textContent+=ut.textContent,p(ut).remove(),a.spaces.normalize(We),N.setStart(We,nt),N.setEnd(We,nt),q=!0}else!We&&ut&&ut.nodeType===Node.TEXT_NODE?(p(I).remove(),p(ne).remove(),a.opts.htmlUntouched||a.spaces.normalize(ut),G=p(a.doc.createTextNode("​")).get(0),p(ut).before(G),N.setStart(ut,0),N.setEnd(ut,0),q=!0):!ut&&We&&We.nodeType===Node.TEXT_NODE&&(p(I).remove(),p(ne).remove(),a.opts.htmlUntouched||a.spaces.normalize(We),G=p(a.doc.createTextNode("​")).get(0),p(We).after(G),N.setStart(We,We.textContent.length),N.setEnd(We,We.textContent.length),q=!0)}if(!q){var ot=void 0,Me=void 0;Me=(a.browser.chrome||a.browser.edge||a.helpers.isIOS())&&I.nextSibling===ne?(ot=P(ne,N,!0)||N.setStartAfter(ne),P(I,N,!1)||N.setEndBefore(I)):(I.previousSibling===ne&&(ne=(I=ne).nextSibling),ne.nextSibling&&ne.nextSibling.tagName==="BR"||!ne.nextSibling&&a.node.isBlock(I.previousSibling)||I.previousSibling&&I.previousSibling.tagName==="BR"||(I.style.display="inline",ne.style.display="inline",G=p(a.doc.createTextNode("​")).get(0)),ot=P(I,N,!0)||p(I).before(G)&&N.setStartBefore(I),P(ne,N,!1)||p(ne).after(G)&&N.setEndAfter(ne)),typeof ot=="function"&&ot(),typeof Me=="function"&&Me()}}catch{}}G&&p(G).remove();try{U.addRange(N)}catch{}}a.markers.remove()}function P(ie,D,U){var V,I=ie.previousSibling,N=ie.nextSibling;return I&&N&&I.nodeType===Node.TEXT_NODE&&N.nodeType===Node.TEXT_NODE?(V=I.textContent.length,U?(N.textContent=I.textContent+N.textContent,p(I).remove(),p(ie).remove(),a.opts.htmlUntouched||a.spaces.normalize(N),function(){D.setStart(N,V)}):(I.textContent+=N.textContent,p(N).remove(),p(ie).remove(),a.opts.htmlUntouched||a.spaces.normalize(I),function(){D.setEnd(I,V)})):I&&!N&&I.nodeType===Node.TEXT_NODE?(V=I.textContent.length,U?(a.opts.htmlUntouched||a.spaces.normalize(I),function(){D.setStart(I,V)}):(a.opts.htmlUntouched||a.spaces.normalize(I),function(){D.setEnd(I,V)})):!(!N||I||N.nodeType!==Node.TEXT_NODE)&&(U?(a.opts.htmlUntouched||a.spaces.normalize(N),function(){D.setStart(N,0)}):(a.opts.htmlUntouched||a.spaces.normalize(N),function(){D.setEnd(N,0)}))}function j(){for(var ie=A(),D=0;D<ie.length;D++)if(!ie[D].collapsed)return!1;return!0}function K(ie){var D,U,V=!1,I=!1;if(a.win.getSelection){var N=a.win.getSelection();N.rangeCount&&((U=(D=N.getRangeAt(0)).cloneRange()).selectNodeContents(ie),U.setEnd(D.startContainer,D.startOffset),V=ee(U),U.selectNodeContents(ie),U.setStart(D.endContainer,D.endOffset),I=ee(U))}else a.doc.selection&&a.doc.selection.type!=="Control"&&((U=(D=a.doc.selection.createRange()).duplicate()).moveToElementText(ie),U.setEndPoint("EndToStart",D),V=ee(U),U.moveToElementText(ie),U.setEndPoint("StartToEnd",D),I=ee(U));return{atStart:V,atEnd:I}}function ee(ie){return ie.toString().replace(/[\u200B-\u200D\uFEFF]/g,"")===""}function w(ie,D){D===void 0&&(D=!0);var U=p(ie).html();U&&U.replace(/\u200b/g,"").length!==U.length&&p(ie).html(U.replace(/\u200b/g,""));for(var V=a.node.contents(ie),I=0;I<V.length;I++)V[I].nodeType!==Node.ELEMENT_NODE?p(V[I]).remove():(w(V[I],I===0),I===0&&(D=!1));if(ie.nodeType===Node.TEXT_NODE){var N=p(document.createElement("span")).attr("data-first","true").attr("data-text","true");p(ie)[0].replaceWith(N[0])}else D&&p(ie).attr("data-first",!0)}function xe(){return p(this).find("fr-inner").length===0}function be(){try{if(!a.$wp)return!1;for(var ie=A(0).commonAncestorContainer;ie&&!a.node.isElement(ie);)ie=ie.parentNode;return!!a.node.isElement(ie)}catch{return!1}}function re(ie,D){if(!ie||0<ie.getElementsByClassName("fr-marker").length)return!1;for(var U=ie.firstChild;U&&(a.node.isBlock(U)||D&&!a.node.isVoid(U)&&U.nodeType===Node.ELEMENT_NODE);)U=(ie=U).firstChild;ie.innerHTML=ve.MARKERS+ie.innerHTML}function se(ie,D){if(!ie||0<ie.getElementsByClassName("fr-marker").length)return!1;for(var U=ie.lastChild;U&&(a.node.isBlock(U)||D&&!a.node.isVoid(U)&&U.nodeType===Node.ELEMENT_NODE);)U=(ie=U).lastChild;var V=a.doc.createElement("SPAN");for(V.setAttribute("id","fr-sel-markers"),V.innerHTML=ve.MARKERS;ie.parentNode&&a.opts.htmlAllowedEmptyTags&&0<=a.opts.htmlAllowedEmptyTags.indexOf(ie.tagName.toLowerCase());)ie=ie.parentNode;ie.appendChild(V);var I=ie.querySelector("#fr-sel-markers");I.outerHTML=I.innerHTML}return{text:M,get:L,ranges:A,clear:O,element:function(){var D=L();try{if(D.rangeCount){var U,V=A(0),I=V.startContainer;if(a.node.isElement(I)&&V.startOffset===0&&I.childNodes.length)for(;I.childNodes.length&&I.childNodes[0].nodeType===Node.ELEMENT_NODE;)I=I.childNodes[0];if(I.nodeType===Node.TEXT_NODE&&V.startOffset===(I.textContent||"").length&&I.nextSibling&&(I=I.nextSibling),I.nodeType===Node.ELEMENT_NODE){var N=!1;if(a.node.isElement(I)&&I.textContent==""&&I.childNodes[0].tagName=="IMG"&&I.childNodes.length)for(;I.childNodes.length&&I.childNodes[0].nodeType===Node.ELEMENT_NODE;)I=I.childNodes[0];if(0<I.childNodes.length&&I.childNodes[V.startOffset]){for(U=I.childNodes[V.startOffset];U&&U.nodeType===Node.TEXT_NODE&&U.textContent.length===0;)U=U.nextSibling;if(U&&U.textContent.replace(/\u200B/g,"")===M().replace(/\u200B/g,"")&&(I=U,N=!0),!N&&1<I.childNodes.length&&0<V.startOffset&&I.childNodes[V.startOffset-1]){for(U=I.childNodes[V.startOffset-1];U&&U.nodeType===Node.TEXT_NODE&&U.textContent.length===0;)U=U.nextSibling;U&&U.textContent.replace(/\u200B/g,"")===M().replace(/\u200B/g,"")&&(I=U,N=!0)}}else!V.collapsed&&I.nextSibling&&I.nextSibling.nodeType===Node.ELEMENT_NODE&&(U=I.nextSibling)&&U.textContent.replace(/\u200B/g,"")===M().replace(/\u200B/g,"")&&(I=U,N=!0);!N&&0<I.childNodes.length&&p(I.childNodes[0]).text().replace(/\u200B/g,"")===M().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(I.childNodes[0].tagName)<0&&(I=I.childNodes[0])}for(;I.nodeType!==Node.ELEMENT_NODE&&I.parentNode;)I=I.parentNode;for(var ne=I;ne&&ne.tagName!=="HTML";){if(ne===a.el)return I;ne=p(ne).parent()[0]}}}catch{}return a.el},endElement:function(){var D=L();try{if(D.rangeCount){var U,V=A(0),I=V.endContainer;if(I.nodeType===Node.ELEMENT_NODE){var N=!1;0<I.childNodes.length&&I.childNodes[V.endOffset]&&p(I.childNodes[V.endOffset]).text()===M()?(I=I.childNodes[V.endOffset],N=!0):!V.collapsed&&I.previousSibling&&I.previousSibling.nodeType===Node.ELEMENT_NODE?(U=I.previousSibling)&&U.textContent.replace(/\u200B/g,"")===M().replace(/\u200B/g,"")&&(I=U,N=!0):!V.collapsed&&0<I.childNodes.length&&I.childNodes[V.endOffset]&&(U=I.childNodes[V.endOffset].previousSibling).nodeType===Node.ELEMENT_NODE&&U&&U.textContent.replace(/\u200B/g,"")===M().replace(/\u200B/g,"")&&(I=U,N=!0),!N&&0<I.childNodes.length&&p(I.childNodes[I.childNodes.length-1]).text()===M()&&["BR","IMG","HR"].indexOf(I.childNodes[I.childNodes.length-1].tagName)<0&&(I=I.childNodes[I.childNodes.length-1])}for(I.nodeType===Node.TEXT_NODE&&V.endOffset===0&&I.previousSibling&&I.previousSibling.nodeType===Node.ELEMENT_NODE&&(I=I.previousSibling);I.nodeType!==Node.ELEMENT_NODE&&I.parentNode;)I=I.parentNode;for(var ne=I;ne&&ne.tagName!=="HTML";){if(ne===a.el)return I;ne=p(ne).parent()[0]}}}catch{}return a.el},save:Q,restore:H,isCollapsed:j,isFull:function(){if(j())return!1;a.selection.save();var D,U=a.el.querySelectorAll("td, th, img, br, iframe");for(D=0;D<U.length;D++)(U[D].nextSibling||U[D].tagName==="IMG"||U[D].tagName==="IFRAME")&&(U[D].innerHTML='<span class="fr-mk" style="display: none;">&nbsp;</span>'.concat(U[D].innerHTML));var V=!1,I=K(a.el);for(I.atStart&&I.atEnd&&(V=!0),U=a.el.querySelectorAll(".fr-mk"),D=0;D<U.length;D++)U[D].parentNode.removeChild(U[D]);return a.selection.restore(),V},inEditor:be,remove:function(){if(j())return!0;var D;function U(Ve){for(var Ze=Ve.previousSibling;Ze&&Ze.nodeType===Node.TEXT_NODE&&Ze.textContent.length===0;){var Xe=Ze;Ze=Ze.previousSibling,p(Xe).remove()}return Ze}function V(Ve){for(var Ze=Ve.nextSibling;Ze&&Ze.nodeType===Node.TEXT_NODE&&Ze.textContent.length===0;){var Xe=Ze;Ze=Ze.nextSibling,p(Xe).remove()}return Ze}Q();var I=a.$el.find('.fr-marker[data-type="true"]');for(D=0;D<I.length;D++)for(var N=I[D];!(U(N)||a.node.isBlock(N.parentNode)||a.$el.is(N.parentNode)||a.node.hasClass(N.parentNode,"fr-inner"));)p(N.parentNode).before(N);var ne=a.$el.find('.fr-marker[data-type="false"]');for(D=0;D<ne.length;D++){for(var G=ne[D];!(V(G)||a.node.isBlock(G.parentNode)||a.$el.is(G.parentNode)||a.node.hasClass(G.parentNode,"fr-inner"));)p(G.parentNode).after(G);G.parentNode&&a.node.isBlock(G.parentNode)&&a.node.isEmpty(G.parentNode)&&!a.$el.is(G.parentNode)&&!a.node.hasClass(G.parentNode,"fr-inner")&&a.opts.keepFormatOnDelete&&p(G.parentNode).after(G)}if(function(){for(var Ze=a.$el.find(".fr-marker"),Xe=0;Xe<Ze.length;Xe++)if(p(Ze[Xe]).parentsUntil('.fr-element, [contenteditable="true"]','[contenteditable="false"]').length)return!1;return!0}()){(function Ve(Ze,Xe){var $e=a.node.contents(Ze.get(0));0<=["TD","TH"].indexOf(Ze.get(0).tagName)&&Ze.find(".fr-marker").length===1&&(a.node.hasClass($e[0],"fr-marker")||$e[0].tagName=="BR"&&a.node.hasClass($e[0].nextElementSibling,"fr-marker"))&&Ze.attr("data-del-cell",!0);for(var tt=0;tt<$e.length;tt++){var _t=$e[tt];a.node.hasClass(_t,"fr-marker")?Xe=(Xe+1)%2:Xe?0<p(_t).find(".fr-marker").length?Xe=Ve(p(_t),Xe):["TD","TH"].indexOf(_t.tagName)<0&&!a.node.hasClass(_t,"fr-inner")?!a.opts.keepFormatOnDelete||0<a.$el.find("[data-first]").length||a.node.isVoid(_t)?p(_t).remove():w(_t):a.node.hasClass(_t,"fr-inner")?p(_t).find(".fr-inner").length===0?p(_t).html("<br>"):p(_t).find(".fr-inner").filter(xe).html("<br>"):(p(_t).empty(),p(_t).attr("data-del-cell",!0)):0<p(_t).find(".fr-marker").length&&(Xe=Ve(p(_t),Xe))}return Xe})(a.$el,0);var q=a.$el.find('[data-first="true"]');if(q.length)a.$el.find(".fr-marker").remove(),q.append(ve.INVISIBLE_SPACE+ve.MARKERS).removeAttr("data-first"),q.attr("data-text")&&q.replaceWith(q.html());else for(a.$el.find("table").filter(function(){return 0<p(this).find("[data-del-cell]").length&&p(this).find("[data-del-cell]").length===p(this).find("td, th").length}).remove(),a.$el.find("[data-del-cell]").removeAttr("data-del-cell"),I=a.$el.find('.fr-marker[data-type="true"]'),D=0;D<I.length;D++){var de=I[D],Le=de.nextSibling,Ae=a.$el.find('.fr-marker[data-type="false"][data-id="'.concat(p(de).data("id"),'"]')).get(0);if(Ae){if(de&&(!Le||Le!==Ae)){var we=a.node.blockParent(de),Pe=a.node.blockParent(Ae),We=!1,ut=!1;if(we&&0<=["UL","OL"].indexOf(we.tagName)&&(We=!(we=null)),Pe&&0<=["UL","OL"].indexOf(Pe.tagName)&&(ut=!(Pe=null)),p(de).after(Ae),we!==Pe)if(we!==null||We)if(Pe!==null||ut||p(we).parentsUntil(a.$el,"table").length!==0)we&&Pe&&p(we).parentsUntil(a.$el,"table").length===0&&p(Pe).parentsUntil(a.$el,"table").length===0&&!p(we).contains(Pe)&&!p(Pe).contains(we)&&(p(we).append(p(Pe).html()),p(Pe).remove());else{for(Le=we;!Le.nextSibling&&Le.parentNode!==a.el;)Le=Le.parentNode;for(Le=Le.nextSibling;Le&&Le.tagName!=="BR";){var nt=Le.nextSibling;p(we).append(Le),Le=nt}Le&&Le.tagName==="BR"&&p(Le).remove()}else{var ot=a.node.deepestParent(de);ot?(p(ot).after(p(Pe).html()),p(Pe).remove()):p(Pe).parentsUntil(a.$el,"table").length===0&&(p(de).next().after(p(Pe).html()),p(Pe).remove())}}}else Ae=p(de).clone().attr("data-type",!1),p(de).after(Ae)}}a.$el.find("li:empty").remove(),a.opts.keepFormatOnDelete||a.html.fillEmptyBlocks(),a.html.cleanEmptyTags(!0),a.opts.htmlUntouched||(a.clean.lists(),a.$el.find("li:empty").append("<br>"),a.spaces.normalize());var Me=a.$el.find(".fr-marker").last().get(0),et=a.$el.find(".fr-marker").first().get(0);Me!==void 0&&et!==void 0&&!Me.nextSibling&&et.previousSibling&&et.previousSibling.tagName==="BR"&&a.node.isElement(Me.parentNode)&&a.node.isElement(et.parentNode)&&a.$el.append("<br>"),H()},blocks:function(D,U){var V,I,N=[],ne=L();if(be()&&ne.rangeCount){var G=A();for(V=0;V<G.length;V++){var q=G[V],de=z(q.startContainer,q.startOffset),Le=z(q.endContainer,q.endOffset);(I=a.node.blockParent(de))&&N.indexOf(I)<0&&N.push(I),(a.node.isBlock(de)||a.node.hasClass(de,"fr-inner"))&&N.indexOf(de)<0&&N.push(de);for(var Ae=[],we=de;we!==Le&&we!==a.el;)Ae.indexOf(we)<0&&we.children&&we.children.length?(Ae.push(we),we=we.children[0]):we.nextSibling?we=we.nextSibling:we.parentNode&&(we=we.parentNode,Ae.push(we)),a.node.isBlock(we)&&Ae.indexOf(we)<0&&N.indexOf(we)<0&&(we!==Le||0<q.endOffset)&&N.push(we);a.node.isBlock(Le)&&N.indexOf(Le)<0&&0<q.endOffset&&N.push(Le),(I=a.node.blockParent(Le))&&N.indexOf(I)<0&&N.push(I)}}for(V=N.length-1;0<V;V--)if(p(N[V-1]).contains(N[V])){if(D&&p(N[V]).find("ul, ol").length||U&&N[V-1].tagName=="LI")continue;N.splice(V-1,1)}else if(p(N[V]).contains(N[V-1])){if(D&&p(N[V]).find("ul, ol").length)continue;N.splice(V,1)}return N},info:K,setAtEnd:se,setAtStart:re,setBefore:function(D,U){U===void 0&&(U=!0);for(var V=D.previousSibling;V&&V.nodeType===Node.TEXT_NODE&&V.textContent.length===0;)V=V.previousSibling;return V?(a.node.isBlock(V)?se(V):V.tagName==="BR"?p(V).before(ve.MARKERS):p(V).after(ve.MARKERS),!0):!!U&&(a.node.isBlock(D)?re(D):p(D).before(ve.MARKERS),!0)},setAfter:function(D,U){U===void 0&&(U=!0);for(var V=D.nextSibling;V&&V.nodeType===Node.TEXT_NODE&&V.textContent.length===0;)V=V.nextSibling;return V?(a.node.isBlock(V)?re(V):p(V).before(ve.MARKERS),!0):!!U&&(a.node.isBlock(D)?se(D):p(D).after(ve.MARKERS),!0)},rangeElement:z}},Object.assign(ve.DEFAULTS,{language:null}),ve.LANGUAGE={},ve.MODULES.language=function(a){var p;return{_init:function(){ve.LANGUAGE&&(p=ve.LANGUAGE[a.opts.language]),p&&p.direction&&(a.opts.direction=p.direction)},translate:function(L){return p&&p.translation[L]&&p.translation[L].length?p.translation[L]:L}}},Object.assign(ve.DEFAULTS,{placeholderText:"Type something"}),ve.MODULES.placeholder=function(a){var p=a.$;function M(){a.$placeholder||function(){a.$placeholder=p(a.doc.createElement("SPAN")).addClass("fr-placeholder"),a.$wp.append(a.$placeholder)}();var O=a.opts.iframe?a.$iframe.prev().outerHeight(!0):a.$el.prev().outerHeight(!0),z=0,Q=0,H=0,P=0,j=0,K=0,ee=a.node.contents(a.el),w=a.selection.element(),xe=p(w).css("text-align");if(ee.length&&ee[0].nodeType===Node.ELEMENT_NODE){var be=p(ee[0]);(0<a.$wp.prev().length||0<a.$el.prev().length)&&a.ready&&(z=a.helpers.getPX(be.css("margin-top")),P=a.helpers.getPX(be.css("padding-top")),Q=a.helpers.getPX(be.css("margin-left")),H=a.helpers.getPX(be.css("margin-right")),j=a.helpers.getPX(be.css("padding-left")),K=a.helpers.getPX(be.css("padding-right")));var re=be.children().first(),se=w===a.el?re.length?re:be:p(w);a.$placeholder.css("font-size",se.css("font-size")),a.$placeholder.css("line-height",se.css("line-height")),a.$placeholder.css("font-family",se.css("font-family"))}else a.$placeholder.css("font-size",a.$el.css("font-size")),a.$placeholder.css("line-height",a.$el.css("line-height")),a.$placeholder.css("font-family",a.$el.css("font-family"));a.$wp.addClass("show-placeholder"),a.$placeholder.css({marginTop:Math.max(a.helpers.getPX(a.$el.css("margin-top")),z)+(O||0),paddingTop:Math.max(a.helpers.getPX(a.$el.css("padding-top")),P),paddingLeft:Math.max(a.helpers.getPX(a.$el.css("padding-left")),j),marginLeft:Math.max(a.helpers.getPX(a.$el.css("margin-left")),Q),paddingRight:Math.max(a.helpers.getPX(a.$el.css("padding-right")),K),marginRight:Math.max(a.helpers.getPX(a.$el.css("margin-right")),H),textAlign:xe}).text(a.language.translate(a.opts.placeholderText||a.$oel.attr("placeholder")||"")),a.$placeholder.html(a.$placeholder.text().replace(/\n/g,"<br>"))}function L(){a.$wp.removeClass("show-placeholder")}function A(){if(!a.$wp)return!1;a.core.isEmpty()?M():L()}return{_init:function(){if(!a.$wp)return!1;a.events.on("init input keydown keyup contentChanged initialized",A)},show:M,hide:L,refresh:A,isVisible:function(){return!a.$wp||a.node.hasClass(a.$wp.get(0),"show-placeholder")}}},ve.UNICODE_NBSP=" ",ve.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],ve.BLOCK_TAGS=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video"],Object.assign(ve.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon",".fr-inner","path","line","hr"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1,htmlIgnoreCSSProperties:[],htmlExecuteScripts:!0}),ve.MODULES.html=function(a){var p=a.$;function M(){return a.opts.enter===ve.ENTER_P?"p":a.opts.enter===ve.ENTER_DIV?"div":a.opts.enter===ve.ENTER_BR?null:void 0}function L(Ve,Ze){return!(!Ve||Ve===a.el)&&(Ze?["PRE","SCRIPT","STYLE"].indexOf(Ve.tagName)!=-1||L(Ve.parentNode,Ze):["PRE","SCRIPT","STYLE"].indexOf(Ve.tagName)!==-1)}function A(Ve){var Ze,Xe=[],$e=[];if(Ve){var tt=a.el.querySelectorAll(".fr-marker");for(Ze=0;Ze<tt.length;Ze++){var _t=a.node.blockParent(tt[Ze])||tt[Ze];if(_t){var mt=_t.nextSibling,Lt=_t.previousSibling;_t&&$e.indexOf(_t)<0&&a.node.isBlock(_t)&&$e.push(_t),Lt&&a.node.isBlock(Lt)&&$e.indexOf(Lt)<0&&$e.push(Lt),mt&&a.node.isBlock(mt)&&$e.indexOf(mt)<0&&$e.push(mt)}}}else $e=a.el.querySelectorAll(O());var Rt=O();for(Rt+=",".concat(ve.VOID_ELEMENTS.join(",")),Rt+=", .fr-inner",Rt+=",".concat(a.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),"),":not(.fr-marker)"),Ze=$e.length-1;0<=Ze;Ze--)if(!($e[Ze].textContent&&0<$e[Ze].textContent.replace(/\u200B|\n/g,"").length||0<$e[Ze].querySelectorAll(Rt).length)){for(var Wt=a.node.contents($e[Ze]),Zt=!1,kn=0;kn<Wt.length;kn++)if(Wt[kn].nodeType!==Node.COMMENT_NODE&&Wt[kn].textContent&&0<Wt[kn].textContent.replace(/\u200B|\n/g,"").length){Zt=!0;break}Zt||Xe.push($e[Ze])}return Xe}function O(){return ve.BLOCK_TAGS.join(", ")}function z(Ve){var Ze,Xe,$e=p.merge([],ve.VOID_ELEMENTS);$e=p.merge($e,a.opts.htmlAllowedEmptyTags),$e=Ve===void 0?p.merge($e,ve.BLOCK_TAGS):p.merge($e,ve.NO_DELETE_TAGS),Ze=a.el.querySelectorAll("*:empty:not(".concat($e.join("):not("),"):not(.fr-marker):not(template)"));do{Xe=!1;for(var tt=0;tt<Ze.length;tt++)Ze[tt].attributes.length!==0&&Ze[tt].getAttribute("href")===void 0||(Ze[tt].parentNode.removeChild(Ze[tt]),Xe=!0);(Ze=a.el.querySelectorAll("*:empty:not(".concat($e.join("):not("),"):not(.fr-marker):not(template)"))).length||(Ze=a.el.querySelectorAll("a[href]:not([name]):empty"))}while(Ze.length&&Xe)}function Q(Ve,Ze){var Xe=M();if(Ze&&(Xe="div"),Xe){var $e=a.doc.createDocumentFragment(),tt=null,_t=!1,mt=Ve.firstChild,Lt=!1,Rt=null,Wt=a.selection.ranges(),Zt=null,kn=null,Jn=null;Wt.length&&(Zt=Wt[0].endContainer,kn=Wt[0].startOffset,Jn=Wt[0].endOffset);for(var Je=!1,wt=function(Mn,vn){Mn===Zt?(Je=!0,Rt=vn.lastChild):0<=Array.from(Mn.childNodes).indexOf(Zt)&&(Je=!0,Rt=vn.lastChild.childNodes[Array.from(Mn.childNodes).indexOf(Zt)])};mt;){var It=mt.nextSibling;if(mt.nodeType===Node.ELEMENT_NODE&&(a.node.isBlock(mt)||0<=a.opts.htmlDoNotWrapTags.indexOf(mt.tagName.toLowerCase())&&!a.node.hasClass(mt,"fr-marker")))tt=null,$e.appendChild(mt.cloneNode(!0));else if(mt.nodeType!==Node.ELEMENT_NODE&&mt.nodeType!==Node.TEXT_NODE)tt=null,$e.appendChild(mt.cloneNode(!0));else if(mt.tagName==="BR")tt===null?(tt=a.doc.createElement(Xe),Ze&&(tt.setAttribute("class","fr-temp-div"),tt.setAttribute("data-empty",!0)),tt.appendChild(mt.cloneNode(!0)),mt&&mt.parentNode&&["TD","TH"].indexOf(mt.parentNode.tagName)<0&&($e.appendChild(tt),Lt=!0)):_t===!1&&(tt.appendChild(a.doc.createElement("br")),Ze&&(tt.setAttribute("class","fr-temp-div"),tt.setAttribute("data-empty",!0))),tt=null;else{var nn=mt.textContent;if(mt.nodeType!==Node.TEXT_NODE||0<nn.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length||nn.replace(/(^ *)|( *$)/g,"").length&&nn.indexOf(`
`)<0){if(mt.tagName==="SPAN"&&p(mt).hasClass("fr-marker")&&!mt.previousSibling&&(mt.nextSibling&&mt.nextSibling.tagName=="TABLE"||mt.nextSibling&&mt.nextSibling.nextSibling&&mt.nextSibling.nextSibling.tagName=="TABLE")){$e.appendChild(mt),wt(mt,$e),mt=It;continue}if(mt.tagName==="SPAN"&&p(mt).hasClass("fr-marker")&&mt.previousSibling&&mt.previousSibling.nodeType===Node.ELEMENT_NODE&&(mt.nextSibling&&mt.nextSibling.tagName=="TABLE"||mt.nextSibling&&mt.nextSibling.nextSibling&&mt.nextSibling.nextSibling.tagName=="TABLE")){$e.appendChild(mt),Lt=!0,wt(mt,$e),mt=It;continue}tt===null&&(tt=a.doc.createElement(Xe),Lt=!0,Ze&&tt.setAttribute("class","fr-temp-div"),$e.appendChild(tt),_t=!1),tt.appendChild(mt.cloneNode(!0)),_t||a.node.hasClass(mt,"fr-marker")||mt.nodeType===Node.TEXT_NODE&&nn.replace(/ /g,"").length===0||(_t=!0),wt(mt,tt)}else Lt=!0}mt=It}if(Lt&&(Ve.innerHTML="",Ve.appendChild($e),Je)){var bn=a.doc.createRange();a.selection.get().removeAllRanges(),bn.setStart(Rt,kn),bn.setEnd(Rt,Jn),a.selection.get().addRange(bn)}}}function H(Ve,Ze){for(var Xe=Ve.length-1;0<=Xe;Xe--)Q(Ve[Xe],Ze)}function P(Ve,Ze,Xe,$e,tt){if(!a.$wp)return!1;Ve===void 0&&(Ve=!1),Ze===void 0&&(Ze=!1),Xe===void 0&&(Xe=!1),$e===void 0&&($e=!1),tt===void 0&&(tt=!1);var _t=a.$wp.scrollTop();Q(a.el,Ve),$e&&H(a.el.querySelectorAll(".fr-inner"),Ve),Ze&&H(a.el.querySelectorAll("td, th"),Ve),Xe&&H(a.el.querySelectorAll("blockquote"),Ve),tt&&H(a.el.querySelectorAll("li"),Ve),_t!==a.$wp.scrollTop()&&a.$wp.scrollTop(_t)}function j(Ve){if(Ve===void 0&&(Ve=a.el),Ve&&0<=["SCRIPT","STYLE","PRE"].indexOf(Ve.tagName))return!1;for(var Ze=a.doc.createTreeWalker(Ve,NodeFilter.SHOW_TEXT,a.node.filter(function(Lt){return Lt.textContent.match(/([ \n]{2,})|(^[ \n]{1,})|([ \n]{1,}$)/g)!==null}),!1);Ze.nextNode();){var Xe=Ze.currentNode;if(!L(Xe.parentNode,!0)){var $e=a.node.isBlock(Xe.parentNode)||a.node.isElement(Xe.parentNode),tt=void 0;if(tt=a.opts.preserveTabSpaces?Xe.textContent.replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," "):Xe.textContent.replace(/(?!^)( ){2,}(?!$)/g," ").replace(/\n/g," ").replace(/^[ ]{2,}/g," ").replace(/[ ]{2,}$/g," "),$e){var _t=Xe.previousSibling,mt=Xe.nextSibling;_t&&mt&&tt===" "?tt=a.node.isBlock(_t)&&a.node.isBlock(mt)?"":" ":(_t||(tt=tt.replace(/^ */,"")),mt||(tt=tt.replace(/ *$/,"")))}Xe.textContent=tt}}}function K(Ve,Ze,Xe){var $e=new RegExp(Ze,"gi").exec(Ve);return $e?$e[Xe]:null}function ee(Ve){var Ze=Ve.doctype,Xe="<!DOCTYPE html>";return Ze&&(Xe="<!DOCTYPE ".concat(Ze.name).concat(Ze.publicId?' PUBLIC "'.concat(Ze.publicId,'"'):"").concat(!Ze.publicId&&Ze.systemId?" SYSTEM":"").concat(Ze.systemId?' "'.concat(Ze.systemId,'"'):"",">")),Xe}function w(Ve){var Ze=Ve.parentNode;if(Ze&&(a.node.isBlock(Ze)||a.node.isElement(Ze))&&["TD","TH"].indexOf(Ze.tagName)<0){for(var Xe=Ve.previousSibling,$e=Ve.nextSibling;Xe&&(Xe.nodeType===Node.TEXT_NODE&&Xe.textContent.replace(/\n|\r/g,"").length===0||a.node.hasClass(Xe,"fr-tmp"));)Xe=Xe.previousSibling;if($e)return!1;Xe&&Ze&&Xe.tagName!=="BR"&&!a.node.isBlock(Xe)&&!$e&&0<Ze.textContent.replace(/\u200B/g,"").length&&0<Xe.textContent.length&&!a.node.hasClass(Xe,"fr-marker")&&(a.el===Ze&&!$e&&a.opts.enter===ve.ENTER_BR&&a.browser.msie||Ve.parentNode.removeChild(Ve))}else!Ze||a.node.isBlock(Ze)||a.node.isElement(Ze)||Ve.previousSibling||Ve.nextSibling||!a.node.isDeletable(Ve.parentNode)||w(Ve.parentNode)}function xe(){a.opts.htmlUntouched||(z(),P(),j(),a.spaces.normalize(null,!0),a.html.fillEmptyBlocks(),a.clean.lists(),a.clean.tables(),a.clean.toHTML5(),a.html.cleanBRs()),function(Ze){if(Ze&&Ze.isContentEditable&&!a.node.isEmpty(Ze)){var Xe=document.createTreeWalker(Ze,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(Rt){if(Rt.nodeType===Node.TEXT_NODE)return Rt.nodeValue.trim()?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;if(Rt.nodeType!==Node.ELEMENT_NODE)return NodeFilter.FILTER_SKIP;var Wt=window.getComputedStyle(Rt);return Wt.display!=="none"&&Wt.visibility!=="hidden"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),$e=null,tt=!0,_t=Xe.nextNode();if(_t&&_t.nodeType!==Node.TEXT_NODE){do{if(_t.nodeType===Node.ELEMENT_NODE&&_t.isContentEditable&&(_t.textContent.trim().length||["IMG","BR","HR"].includes(_t.tagName)||p(_t).find("img, br, hr").length)){if(tt)break;$e=_t;break}tt=!1}while(_t=Xe.nextNode());if(!tt){var mt=a.doc.createRange(),Lt=a.selection.get();$e?mt.selectNodeContents($e):($e=document.createTextNode("​"),Ze.appendChild($e),mt.setStart($e,0)),mt.collapse(!0),Lt.removeAllRanges(),Lt.addRange(mt)}}}}(a.el),a.selection.restore(),be(),a.placeholder.refresh()}function be(){a.node.isEmpty(a.el)&&(M()!==null?a.el.querySelector(O())||a.el.querySelector("".concat(a.opts.htmlDoNotWrapTags.join(":not(.fr-marker),"),":not(.fr-marker)"))||(a.core.hasFocus()?(a.$el.html("<".concat(M(),">").concat(ve.MARKERS,"<br/></").concat(M(),">")),a.selection.restore()):a.$el.html("<".concat(M(),"><br/></").concat(M(),">"))):a.el.querySelector("*:not(.fr-marker):not(br)")||(a.core.hasFocus()?(a.$el.html("".concat(ve.MARKERS,"<br/>")),a.selection.restore()):a.$el.html("<br/>")))}function re(Ve,Ze){return K(Ve,"<".concat(Ze,"[^>]*?>([\\w\\W]*)</").concat(Ze,">"),1)}function se(Ve,Ze){var Xe=p("<div ".concat(K(Ve,"<".concat(Ze,"([^>]*?)>"),1)||"",">"));return a.node.rawAttributes(Xe.get(0))}function ie(Ve){return(K(Ve,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>").replace(/\n/g," ").replace(/ {2,}/g," ")}function D(Ve,Ze){a.opts.htmlExecuteScripts?Ve.html(Ze):Ve.get(0).innerHTML=Ze}function U(Ve){var Ze;(Ze=/:not\(([^)]*)\)/g).test(Ve)&&(Ve=Ve.replace(Ze,"     $1 "));var Xe=100*(Ve.match(/(#[^\s+>~.[:]+)/g)||[]).length+10*(Ve.match(/(\[[^]]+\])/g)||[]).length+10*(Ve.match(/(\.[^\s+>~.[:]+)/g)||[]).length+10*(Ve.match(/(:[\w-]+\([^)]*\))/gi)||[]).length+10*(Ve.match(/(:[^\s+>~.[:]+)/g)||[]).length+(Ve.match(/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi)||[]).length;return Xe+=((Ve=(Ve=Ve.replace(/[*\s+>~]/g," ")).replace(/[#.]/g," ")).match(/([^\s+>~.[:]+)/g)||[]).length}function V(Ve){if(a.events.trigger("html.processGet",[Ve]),Ve&&Ve.getAttribute&&Ve.getAttribute("class")===""&&Ve.removeAttribute("class"),Ve&&Ve.getAttribute&&Ve.getAttribute("style")===""&&Ve.removeAttribute("style"),Ve&&Ve.nodeType===Node.ELEMENT_NODE){var Ze,Xe=Ve.querySelectorAll('[class=""],[style=""]');for(Ze=0;Ze<Xe.length;Ze++){var $e=Xe[Ze];$e.getAttribute("class")===""&&$e.removeAttribute("class"),$e.getAttribute("style")===""&&$e.removeAttribute("style")}if(Ve.tagName==="BR")w(Ve);else{var tt=Ve.querySelectorAll("br");for(Ze=0;Ze<tt.length;Ze++)w(tt[Ze])}}}function I(Ve,Ze){return Ve[3]-Ze[3]}function N(){for(var Ve=a.el.querySelectorAll("input, textarea"),Ze=0;Ze<Ve.length;Ze++)Ve[Ze].type!=="checkbox"&&Ve[Ze].type!=="radio"||(Ve[Ze].checked?Ve[Ze].setAttribute("checked",Ve[Ze].checked):a.$(Ve[Ze]).removeAttr("checked")),Ve[Ze].getAttribute("value")&&Ve[Ze].setAttribute("value",Ve[Ze].value)}function ne(Ve){var Ze=a.doc.createElement("div");return Ze.innerHTML=Ve,Ze.querySelector(O())!==null}function G(Ve){var Ze=null;if(Ve===void 0&&(Ze=a.selection.element()),a.opts.keepFormatOnDelete)return!1;var Xe,$e,tt=Ze?(Ze.textContent.match(/\u200B/g)||[]).length-Ze.querySelectorAll(".fr-marker").length:0;if((a.el.textContent.match(/\u200B/g)||[]).length-a.el.querySelectorAll(".fr-marker").length===tt)return!1;do{$e=!1,Xe=a.el.querySelectorAll("*:not(.fr-marker)");for(var _t=0;_t<Xe.length;_t++){var mt=Xe[_t];if(Ze!==mt){var Lt=mt.textContent;mt.children.length===0&&Lt.length===1&&Lt.charCodeAt(0)===8203&&["TD","STRONG","SPAN","EM","U","S","SUB","SUP"].indexOf(mt.tagName)<0&&(p(mt).remove(),$e=!0)}}}while($e)}function q(){G(),a.placeholder&&setTimeout(a.placeholder.refresh,0)}function de(){return a.opts.fontSizeDefaultSelection&&a.opts.fontSizeUnit&&a.opts.fontSizeDefaultSelection!="Font Size"}function Le(){return a.opts.fontFamilyDefaultSelection&&a.opts.fontFamilyDefaultSelection!="Font Family"}function Ae(Ve){var Ze=a.selection.element(),Xe=Ze.getAttribute("style")||"";!a.node.isEmpty(Ze)&&!Ve||a.markdown&&a.markdown.isEnabled()||Ze==a.el&&a.opts.enter!=ve.ENTER_BR||(de()&&!Xe.includes("font-size")&&a.fontSize&&a.fontSize.apply(a.opts.fontSizeDefaultSelection+a.opts.fontSizeUnit),Le()&&!Xe.includes("font-family")&&a.fontFamily&&a.fontFamily.apply(a.opts.fontFamilyDefaultSelection),a.placeholder.refresh())}function we(Ve){var Ze=Ve.which;if(a.keys.ctrlKey(Ve)||37<=Ze&&Ze<=40||!a.keys.isCharacter(Ze)&&Ze!==ve.KEYCODE.DELETE&&Ze!==ve.KEYCODE.BACKSPACE&&Ze!==ve.KEYCODE.ENTER&&Ze!==ve.KEYCODE.IME)return!0;var Xe=a.selection.element();if(!(0<=["UL","OL"].indexOf(Xe.tagName))){var $e=Xe.tagName==="LI"?p(Xe):p(Xe).parents("li").first();if($e.length){var tt=$e.get(0),_t=a.node.isEmpty(tt),mt=!$e.siblings().last().length,Lt=$e.parents("ul, ol"),Rt=Lt.first().get(0)===Lt.last().get(0);if(_t&&mt&&Rt){if(Ze===ve.KEYCODE.BACKSPACE)return void requestAnimationFrame(function(){a.cursor.backspace(),Ae()});de()&&$e.css("font-size",a.opts.fontSizeDefaultSelection+a.opts.fontSizeUnit),Le()&&$e.css("font-family",a.opts.fontFamilyDefaultSelection)}}else if(Ze!==ve.KEYCODE.BACKSPACE&&Ze!==ve.KEYCODE.DELETE){var Wt=a.selection.get();if(Wt.baseOffset!==Wt.focusOffset&&!a.keys.ctrlKey(Ve)&&a.keys.isCharacter(Ve.which)&&!a.selection.isCollapsed()&&!Ve.ctrlKey&&!Ve.altKey)return a.selection.remove(),void Ae();var Zt=["TD","TH"].includes(Xe.tagName)||Xe.parentElement&&["TD","TH"].includes(Xe.parentElement.tagName);(ne(Xe)||Zt||Xe.tagName=="BR")&&Ae()}else{var kn=a.selection.isFull();requestAnimationFrame(function(){var Jn=a.node.deepestParent(Xe);(Jn&&a.node.isEmpty(Jn)||kn)&&Ae()})}}}function Pe(){a.node.isEmpty(a.el)&&(a.selection.setAtStart(a.el),Ae(),a.markers.remove(),a.placeholder.refresh())}function We(){var Ve=p(a.selection.element());a.selection.text()&&!Ve.attr("style")&&(Ae(!0),nt(a.selection.ranges(0).endContainer))}function ut(){0<p(a.selection.element()).filter("td, tr").length&&Ae(!0),nt(a.selection.ranges(0).endContainer)}function nt(Ve){var Ze=a.doc.createRange();Ze.selectNodeContents(Ve),Ze.collapse(!1);var Xe=a.selection.get();Xe.removeAllRanges(),Xe.addRange(Ze)}function ot(Ve){var Ze=new DOMParser().parseFromString(Ve,"text/html");return Array.from(Ze.body.childNodes).some(function(Xe){return Xe.nodeType===1})}function Me(Ve){var Ze=/^<([a-z1-6]+)(\s[^>]*)?>[\s\S]*<\/\1>$|^<([a-z1-6]+)(\s[^>]*)?\/?>$/.test(Ve.trim()),Xe=!(!Ve||Ve.trim().length===0)&&ot(Ve)&&Ze&&ne(Ve),$e=a.selection.element();if(Ve&&!/<[^>]+style=["'][^"']*(font-(size|family))[^"']*["']/.test(Ve)&&(a.node.isEmpty($e)||a.selection.isFull())&&!p($e).parents("ol, ul").length)return Xe?Ve.replace(/^<([^>]+)>/,"<$1>".concat(ve.START_MARKER)).replace(/<\/([^>]+)>$/,"".concat(ve.END_MARKER,"</$1>")):ve.START_MARKER+Ve+ve.END_MARKER}function et(){setTimeout(Ae,0)}return{defaultTag:M,isPreformatted:L,emptyBlocks:A,emptyBlockTagsQuery:function(){return"".concat(ve.BLOCK_TAGS.join(":empty, "),":empty")},blockTagsQuery:O,fillEmptyBlocks:function(Ze){var Xe=A(Ze);a.node.isEmpty(a.el)&&a.opts.enter===ve.ENTER_BR&&Xe.push(a.el);for(var $e=0;$e<Xe.length;$e++){var tt=Xe[$e];tt.getAttribute("contenteditable")==="false"||tt.querySelector("".concat(a.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),"),":not(.fr-marker)"))||a.node.isVoid(tt)||tt.tagName==="TABLE"||tt.tagName==="TBODY"||tt.tagName==="TR"||tt.tagName==="UL"||tt.tagName==="OL"||tt.querySelector("br")||tt.appendChild(a.doc.createElement("br"))}if(a.browser.msie&&a.opts.enter===ve.ENTER_BR){var _t=a.node.contents(a.el);_t.length&&_t[_t.length-1].nodeType===Node.TEXT_NODE&&a.$el.append("<br>")}},cleanEmptyTags:z,cleanWhiteTags:G,cleanBlankSpaces:j,blocks:function(){return a.$el.get(0).querySelectorAll(O())},getDoctype:ee,set:function(Ze){var Xe=a.clean.html((Ze||"").trim(),[],[],a.opts.fullPage);!Le()&&!de()||ot(Xe)||(Xe=ve.START_MARKER+Xe+ve.END_MARKER);var $e=new RegExp("%3A//","g"),tt=Xe.replace($e,"://");if(a.opts.fullPage){var _t=re(tt,"body")||(0<=tt.indexOf("<body")?"":tt),mt=se(tt,"body"),Lt=re(tt,"head")||"<title></title>",Rt=se(tt,"head"),Wt=p("<div>");Wt.append(Lt).contents().each(function(){(this.nodeType===Node.COMMENT_NODE||0<=["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName))&&this.parentNode.removeChild(this)});var Zt=Wt.html().trim();Lt=p("<div>").append(Lt).contents().map(function(){return this.nodeType===Node.COMMENT_NODE?"<!--".concat(this.nodeValue,"-->"):0<=["BASE","LINK","META","NOSCRIPT","SCRIPT","STYLE","TEMPLATE","TITLE"].indexOf(this.tagName)?this.outerHTML:""}).toArray().join("");var kn=ie(tt),Jn=se(tt,"html");D(a.$el,"".concat(Zt,`
`).concat(_t)),a.node.clearAttributes(a.el),a.$el.attr(mt),a.$el.addClass("fr-view"),a.$el.attr("spellcheck",a.opts.spellcheck),a.$el.attr("dir",a.opts.direction),D(a.$head,Lt),a.node.clearAttributes(a.$head.get(0)),a.$head.attr(Rt),a.node.clearAttributes(a.$html.get(0)),a.$html.attr(Jn),a.iframe_document.doctype.parentNode.replaceChild(function(It,nn){var bn=It.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return bn?nn.implementation.createDocumentType(bn[1],bn[3],bn[4]):nn.implementation.createDocumentType("html")}(kn,a.iframe_document),a.iframe_document.doctype)}else D(a.$el,tt);var Je=a.edit.isDisabled();a.edit.on(),a.core.injectStyle(a.opts.iframeDefaultStyle+a.opts.iframeStyle),xe(),a.opts.useClasses||(a.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),a.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),Je&&a.edit.off(),a.events.trigger("html.set"),a.events.trigger("charCounter.update"),a.events.trigger("wordCounter.update")},syncInputs:N,get:function(Ze,Xe){if(!a.$wp)return a.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var $e="";a.events.trigger("html.beforeGet");var tt,_t,mt=[],Lt={},Rt=[];if(N(),!a.opts.useClasses&&!Xe){var Wt=new RegExp("^".concat(a.opts.htmlIgnoreCSSProperties.join("$|^"),"$"),"gi");for(tt=0;tt<a.doc.styleSheets.length;tt++){var Zt=void 0,kn=0;try{Zt=a.doc.styleSheets[tt].cssRules,a.doc.styleSheets[tt].ownerNode&&a.doc.styleSheets[tt].ownerNode.nodeType==="STYLE"&&(kn=1)}catch{}if(Zt){for(var Jn=0,Je=Zt.length;Jn<Je;Jn++)if(Zt[Jn].selectorText&&0<Zt[Jn].style.cssText.length){var wt=Zt[Jn].selectorText.replace(/body \s tbody \.fr-view /g,"").replace(/::/g,":"),It=void 0;try{It=a.el.querySelectorAll(wt)}catch{It=[]}for(_t=0;_t<It.length;_t++){!It[_t].getAttribute("fr-original-style")&&It[_t].getAttribute("style")?(It[_t].setAttribute("fr-original-style",It[_t].getAttribute("style")),mt.push(It[_t])):It[_t].getAttribute("fr-original-style")||(It[_t].setAttribute("fr-original-style",""),mt.push(It[_t])),Lt[It[_t]]||(Lt[It[_t]]={});for(var nn=1e3*kn+U(Zt[Jn].selectorText),bn=Zt[Jn].style.cssText.split(";"),Tn=0;Tn<bn.length;Tn++){var Mn=bn[Tn].trim().split(":")[0];if(Mn&&!Mn.match(Wt)&&((!Lt[It[_t]][Mn]||Lt[It[_t]][Mn]&&It[_t].getAttribute("fr-original-style")=="")&&(Lt[It[_t]][Mn]=0)<=(It[_t].getAttribute("fr-original-style")||"").indexOf("".concat(Mn,":"))&&(Lt[It[_t]][Mn]=1e4),nn>=Lt[It[_t]][Mn]&&(Lt[It[_t]][Mn]=nn,bn[Tn].trim().length))){var vn=bn[Tn].trim().split(":");vn.splice(0,1);var Hn=vn.join(":").trim();-1<Hn.indexOf("!important")&&(nn+=1),Rt.push([It[_t],Mn.trim(),Hn,nn])}}}}}}for(Rt.sort(I),tt=0;tt<Rt.length;tt++){var wo=Rt[tt];wo[0].style[wo[1]]=wo[2].replace(/!important/,"")}for(tt=0;tt<mt.length;tt++)if(mt[tt].getAttribute("class")&&(mt[tt].setAttribute("fr-original-class",mt[tt].getAttribute("class")),mt[tt].removeAttribute("class")),0<(mt[tt].getAttribute("fr-original-style")||"").trim().length){var ro=mt[tt].getAttribute("fr-original-style").split(";");for(_t=0;_t<ro.length;_t++)if(0<ro[_t].indexOf(":")){var qo=ro[_t].split(":"),zn=qo[0];qo.splice(0,1),mt[tt].style[zn.trim()]=qo.join(":").trim()}}}if(a.node.isEmpty(a.el))a.opts.fullPage&&($e=ee(a.iframe_document),$e+="<html".concat(a.node.attributes(a.$html.get(0)),">").concat(a.$html.find("head").get(0).outerHTML,"<body></body></html>"));else if(Ze===void 0&&(Ze=!1),a.opts.fullPage){$e=ee(a.iframe_document),a.$el.removeClass("fr-view");var ls=a.opts.heightMin,ms=a.opts.height,Et=a.opts.heightMax;a.opts.heightMin=null,a.opts.height=null,a.opts.heightMax=null,a.size.refresh(),$e+="<html".concat(a.node.attributes(a.$html.get(0)),">").concat(a.$html.html(),"</html>"),a.opts.iframe&&a.$html&&0<a.$html.find(".fr-element").length&&($e=a.$html.find(".fr-element").html()),a.opts.heightMin=ls,a.opts.height=ms,a.opts.heightMax=Et,a.size.refresh(),a.$el.addClass("fr-view")}else $e=a.$el.html(),a.opts.iframe&&a.$html&&0<a.$html.find(".fr-element").length&&($e=a.$html.find(".fr-element").html());if(!a.opts.useClasses&&!Xe)for(tt=0;tt<mt.length;tt++)mt[tt].getAttribute("fr-original-class")&&(mt[tt].setAttribute("class",mt[tt].getAttribute("fr-original-class")),mt[tt].removeAttribute("fr-original-class")),mt[tt].getAttribute("fr-original-style")!==null&&mt[tt].getAttribute("fr-original-style")!==void 0?(mt[tt].getAttribute("fr-original-style").length!==0?mt[tt].setAttribute("style",mt[tt].getAttribute("fr-original-style")):mt[tt].removeAttribute("style"),mt[tt].removeAttribute("fr-original-style")):mt[tt].removeAttribute("style");a.opts.fullPage&&($e=($e=($e=($e=($e=($e=($e=($e=$e.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,"")).replace(/<link([^>]*)data-fr-style="true"([^>]*)>/g,"")).replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,"")).replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")).replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>")).replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>')).replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),a.opts.htmlSimpleAmpersand&&($e=$e.replace(/&amp;/gi,"&")),a.events.trigger("html.afterGet"),Ze||($e=$e.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),$e=a.clean.invisibleSpaces($e),$e=a.clean.exec($e,V);var fe=a.events.chainTrigger("html.get",$e);return typeof fe=="string"&&($e=fe),$e=($e=$e.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(Z){return Z.replace(/<br>/g,`
`)})).replace(/<meta((?:[\w\W]*?)) data-fr-http-equiv="/g,'<meta$1 http-equiv="')},getSelected:function(){function Ze(Rt,Wt){for(;Wt&&(Wt.nodeType===Node.TEXT_NODE||!a.node.isBlock(Wt))&&!a.node.isElement(Wt)&&!a.node.hasClass(Wt,"fr-inner")&&(a.opts.enter!==ve.ENTER_BR||Wt!==a.$el[0]);)Wt&&Wt.nodeType!==Node.TEXT_NODE&&p(Rt).wrapContent(Wt),Wt=Wt.parentNode;Wt&&Rt.innerHTML===Wt.innerHTML?Rt.innerHTML=Wt.outerHTML:Wt&&Wt.tagName!=="DIV"&&Wt.tagName!=="LI"&&Wt.innerText&&Wt.innerText.indexOf(Rt.innerHTML)!=-1&&Wt!==a.$el.get(0)&&(Rt.innerHTML=a.node.openTagString(Wt)+Rt.innerHTML+a.node.closeTagString(Wt))}var Xe,$e,tt="";if(typeof a.win.getSelection<"u"){a.browser.mozilla&&(a.selection.save(),1<a.$el.find('.fr-marker[data-type="false"]').length&&(a.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),a.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),a.$el.find(".fr-marker").not('[data-id="0"]').remove()),a.selection.restore());for(var _t=a.selection.ranges(),mt=0;mt<_t.length;mt++){var Lt=document.createElement("div");Lt.appendChild(_t[mt].cloneContents()),Ze(Lt,($e=Xe=void 0,$e=null,a.win.getSelection?(Xe=a.win.getSelection())&&Xe.rangeCount&&(($e=Xe.getRangeAt(0).commonAncestorContainer).nodeType===Node.ELEMENT_NODE||a.opts.enter===ve.ENTER_BR&&$e.parentNode===a.$el[0]||($e=$e.parentNode)):(Xe=a.doc.selection)&&Xe.type!=="Control"&&($e=Xe.createRange().parentElement()),$e!==null&&(0<=p($e).parents().toArray().indexOf(a.el)||$e===a.el)?$e:null)),0<p(Lt).find(".fr-element").length&&(Lt=a.el),tt+=Lt.innerHTML}}else typeof a.doc.selection<"u"&&a.doc.selection.type==="Text"&&(tt=a.doc.selection.createRange().htmlText);return tt},insert:function(Ze,Xe,$e){if(a.events.trigger("html.beforeInsert",[Ze,Xe,$e])===!1)return!1;var tt,_t=a.selection.element();if(!Le()&&!de()||ot(Ze)||!a.node.isEmpty(_t)||p(_t).parents("ol, ul").length||(Ze=ve.START_MARKER+Ze+ve.END_MARKER),a.selection.isCollapsed()||a.selection.remove(),tt=Xe?Ze:a.clean.html(Ze),Ze.indexOf('<i class="fa ')===0&&(tt="<span>&nbsp;".concat(tt,"</span>")),Ze.indexOf('class="fr-marker"')<0&&(tt=function(Zt){var kn=a.doc.createElement("div");return kn.innerHTML=Zt,a.selection.setAtEnd(kn,!0),kn.innerHTML}(tt)),a.node.isEmpty(a.el)&&!a.opts.keepFormatOnDelete&&ne(tt))a.opts.trackChangesEnabled?a.track_changes.pasteInEmptyEdior(tt):a.el.innerHTML=tt;else{(function(){var Zt=a.selection.ranges(0).commonAncestorContainer;return Zt!==a.el&&!a.$el.contains(Zt)})()&&a.selection.restore();var mt=a.markers.insert();if(mt)if(a.opts.trackChangesEnabled)a.track_changes.pasteInEdior(tt);else{a.node.isLastSibling(mt)&&p(mt).parent().hasClass("fr-deletable")&&p(mt).insertAfter(p(mt).parent());var Lt=a.node.blockParent(mt);if((ne(tt)||$e)&&(a.node.deepestParent(mt)||Lt&&Lt.tagName==="LI")){Lt&&Lt.tagName==="LI"&&(tt=function(Zt){if(!a.html.defaultTag())return Zt;var kn=a.doc.createElement("div");kn.innerHTML=Zt;for(var Jn=kn.querySelectorAll(":scope > ".concat(a.html.defaultTag())),Je=Jn.length-1;0<=Je;Je--){var wt=Jn[Je];a.node.isBlock(wt.previousSibling)||(wt.previousSibling&&!a.node.isEmpty(wt)&&p("<br>").insertAfter(wt.previousSibling),wt.outerHTML=wt.innerHTML)}return kn.innerHTML}(tt));var Rt=a.selection.element();if(Rt&&p(Rt).parentsUntil(a.el,"ul, ol").length&&mt.parentNode.tagName!="LI"&&(p(tt).get(0).tagName=="DIV"&&p(tt).length==1&&p(tt).get(0).firstChild.tagName=="UL"?tt=p(tt).get(0).firstChild.innerHTML:p(tt).get(0).tagName=="UL"&&(tt=p(tt).get(0).innerHTML),mt=a.markers.split()),!(mt=a.markers.split()))return!1;mt.outerHTML=tt}else mt.outerHTML=tt}else a.el.innerHTML+=tt}xe(),a.keys.positionCaret(),a.events.trigger("html.inserted")},wrap:P,unwrap:function(){a.$el.find("div.fr-temp-div").each(function(){this.previousSibling&&this.previousSibling.nodeType===Node.TEXT_NODE&&p(this).before("<br>"),p(this).attr("data-empty")||!this.nextSibling||a.node.isBlock(this.nextSibling)&&!p(this.nextSibling).hasClass("fr-temp-div")?p(this).replaceWith(p(this).html()):p(this).replaceWith("".concat(p(this).html(),"<br>"))}),a.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return p(this).attr("class")===""}).removeAttr("class")},escapeEntities:function(Ze){return Ze.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&#39;")},checkIfEmpty:be,extractNode:re,extractNodeAttrs:se,extractDoctype:ie,cleanBRs:function(){for(var Ze=a.el.getElementsByTagName("br"),Xe=0;Xe<Ze.length;Xe++)w(Ze[Xe])},_init:function(){a.events.$on(a.$el,"mousemove","span.fr-word-select",function(Ze){var Xe=window.getSelection();Xe=window.getSelection();var $e=document.createRange();$e.selectNodeContents(Ze.target),Xe.removeAllRanges(),Xe.addRange($e)}),a.$wp&&(a.events.on("mouseup",q),a.events.on("keydown",q),a.events.on("contentChanged",be),(de()||Le())&&(a.events.on("keydown",we),a.events.on("initialized",Pe),a.events.on("html.inserted html.set",We),a.events.on("paste.afterCleanup",Me),a.events.on("paste.after",ut),a.events.on("window.cut",et),a.events.on("commands.after",function(Ze){Ze!="clearFormatting"&&Ze!=="markdown"||Ae(!0)})))},_setHtml:D}},ve.ENTER_P=0,ve.ENTER_DIV=1,ve.ENTER_BR=2,ve.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,FF_HYPHEN:173,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,HYPHEN:189,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,IME:229},Object.assign(ve.DEFAULTS,{enter:ve.ENTER_P,multiLine:!0,tabSpaces:0}),ve.MODULES.keys=function(a){var p,M,L,A=a.$,O=!1;function z(q){if(a.selection.isCollapsed())if(["INPUT","BUTTON","TEXTAREA"].indexOf(q.target&&q.target.tagName)<0&&a.cursor.backspace(),a.helpers.isIOS()){var de=a.selection.ranges(0);de.deleteContents(),de.insertNode(document.createTextNode("​")),a.selection.get().modify("move","forward","character")}else["INPUT","BUTTON","TEXTAREA"].indexOf(q.target&&q.target.tagName)<0&&q.preventDefault(),q.stopPropagation();else q.preventDefault(),q.stopPropagation(),a.selection.remove();a.placeholder.refresh()}function Q(q){["INPUT","BUTTON","TEXTAREA"].indexOf(q.target&&q.target.tagName)<0&&q.preventDefault(),q.stopPropagation(),a.selection.text()!==""||a.selection.element().hasAttribute("contenteditable")&&a.selection.element().getAttribute("contenteditable")==="false"||!a.selection.isCollapsed()&&a.selection.element().tagName=="IMG"?a.selection.remove():a.cursor.del(),a.placeholder.refresh()}function H(){if(a.browser.mozilla&&a.selection.isCollapsed()&&!O){var q=a.selection.ranges(0),de=q.startContainer,Le=q.startOffset;de&&de.nodeType===Node.TEXT_NODE&&Le<=de.textContent.length&&0<Le&&de.textContent.charCodeAt(Le-1)===32&&(a.selection.save(),a.spaces.normalize(),a.selection.restore())}}function P(){a.selection.isFull()&&setTimeout(function(){var q=a.html.defaultTag();q?a.$el.html("<".concat(q,">").concat(ve.MARKERS,"<br/></").concat(q,">")):a.$el.html("".concat(ve.MARKERS,"<br/>")),a.selection.restore(),a.placeholder.refresh(),a.button.bulkRefresh(),a.undo.saveStep()},0)}function j(){O=!1}function K(){O=!1}function ee(){var q=a.html.defaultTag();q?a.$el.html("<".concat(q,">").concat(ve.MARKERS,"<br/></").concat(q,">")):a.$el.html("".concat(ve.MARKERS,"<br/>")),a.selection.restore()}function w(q,de){if(!q||!q.parentElement)return!1;var Le=(q&&q.parentElement).parentElement;if(q.parentElement&&(-1<q.innerHTML.indexOf("<span")||-1<q.parentElement.innerHTML.indexOf("<span")||Le&&-1<q.parentElement.parentElement.innerHTML.indexOf("<span"))&&(q.classList.contains("fr-img-space-wrap")||q.parentElement.classList.contains("fr-img-space-wrap")||Le&&q.parentElement.parentElement.classList.contains("fr-img-space-wrap"))){if(A(q.parentElement).is("p")){var Ae=q.parentElement.innerHTML;return(Ae=Ae.replace(/<br>/g,"")).length<1?q.parentElement.insertAdjacentHTML("afterbegin","&nbsp;"):Ae!="&nbsp;"&&Ae!=" "&&de.key=="Backspace"?z(de):Ae!="&nbsp;"&&Ae!=" "&&de.key=="Delete"&&Q(de),!0}if(A(q).is("p")){var we=q.innerHTML.replace(/<br>/g,"");return we.length<1?q.insertAdjacentHTML("afterbegin","&nbsp;"):we!="&nbsp;"&&we!=" "&&de.key=="Backspace"?z(de):we!="&nbsp;"&&we!=" "&&de.key=="Delete"&&Q(de),!0}}return!1}function xe(q){var de=a.selection.element();if(de&&0<=["INPUT","TEXTAREA"].indexOf(de.tagName))return!0;if(q&&D(q.which)){var Le=a.selection.element(),Ae=a.selection.get(),we=Ae.anchorNode,Pe=Ae.anchorOffset;if(we.nodeType===Node.TEXT_NODE&&0<Pe&&1<we.textContent.length&&we.textContent.charCodeAt(Pe)===8203){be(Le);var We=a.doc.createRange();a.selection.get().removeAllRanges();var ut=Math.max(0,Math.min(Pe-1,we.textContent.length-1));We.setStart(we,ut),We.setEnd(we,ut),a.selection.get().addRange(We)}return!0}a.events.disableBlur();var nt=q.which;if(nt===16)return!0;if((p=nt)===ve.KEYCODE.IME)return O=!0;if(O=!1,ie(q))return!0;var ot=U(nt)&&!ie(q)&&!q.altKey,Me=nt===ve.KEYCODE.BACKSPACE||nt===ve.KEYCODE.DELETE;if((a.selection.isFull()&&!a.opts.keepFormatOnDelete&&!a.placeholder.isVisible()||Me&&a.placeholder.isVisible()&&a.opts.keepFormatOnDelete)&&(ot||Me)&&(ee(),!U(nt)))return q.preventDefault(),!0;if(nt===ve.KEYCODE.ENTER)!a.helpers.isIOS()&&q.shiftKey||de.classList.contains("fr-inner")||de.parentElement&&de.parentElement.classList.contains("fr-inner")?function(Ve){Ve.preventDefault(),Ve.stopPropagation(),a.opts.multiLine&&(a.selection.isCollapsed()||a.selection.remove(),a.cursor.enter(!0))}(q):function(Ve){a.opts.multiLine?(a.helpers.isIOS()||(Ve.preventDefault(),Ve.stopPropagation()),a.selection.isCollapsed()||a.selection.remove(),a.cursor.enter()):(Ve.preventDefault(),Ve.stopPropagation())}(q);else if(nt===ve.KEYCODE.BACKSPACE&&(q.metaKey||q.ctrlKey))(function(){setTimeout(function(){a.events.disableBlur(),a.events.focus()},0)})();else if(nt!==ve.KEYCODE.BACKSPACE||ie(q)||q.altKey)if(nt!==ve.KEYCODE.DELETE||ie(q)||q.altKey||q.shiftKey)nt===ve.KEYCODE.SPACE?function(Ve){var Ze=a.selection.element();if(!a.helpers.isMobile()&&Ze&&Ze.tagName==="A"){Ve.preventDefault(),Ve.stopPropagation(),a.selection.isCollapsed()||a.selection.remove();var Xe=a.markers.insert();if(Xe){var $e=Xe.previousSibling;!Xe.nextSibling&&Xe.parentNode&&Xe.parentNode.tagName==="A"?(Xe.parentNode.insertAdjacentHTML("afterend","&nbsp;".concat(ve.MARKERS)),Xe.parentNode.removeChild(Xe)):($e&&$e.nodeType===Node.TEXT_NODE&&$e.textContent.length===1&&$e.textContent.charCodeAt(0)===160?$e.textContent+=" ":Xe.insertAdjacentHTML("beforebegin","&nbsp;"),Xe.outerHTML=ve.MARKERS),a.selection.restore()}}}(q):nt===ve.KEYCODE.TAB?function(Ve){if(0<a.opts.tabSpaces)if(a.selection.isCollapsed()){a.undo.saveStep(),Ve.preventDefault(),Ve.stopPropagation();for(var Ze="",Xe=0;Xe<a.opts.tabSpaces;Xe++)Ze+="&nbsp;";a.html.insert(Ze),a.placeholder.refresh(),a.undo.saveStep()}else Ve.preventDefault(),Ve.stopPropagation(),Ve.shiftKey?a.commands.outdent():a.commands.indent()}(q):ie(q)||!U(q.which)||a.selection.isCollapsed()||q.ctrlKey||q.altKey||a.browser.mozilla||a.selection.remove();else{if(w(de,q))return q.preventDefault(),void q.stopPropagation();a.placeholder.isVisible()?(a.opts.keepFormatOnDelete||ee(),q.preventDefault(),q.stopPropagation()):Q(q)}else{if(w(de,q))return q.preventDefault(),void q.stopPropagation();a.placeholder.isVisible()?(a.opts.keepFormatOnDelete||ee(),q.preventDefault(),q.stopPropagation()):z(q)}a.events.enableBlur()}function be(q){var de=q;-1<["STRONG","U","EM"].indexOf(q.nodeName)&&q.parentNode&&(de=q.parentNode);for(var Le=a.doc.createTreeWalker(de,NodeFilter.SHOW_TEXT,a.node.filter(function(we){return/\u200B/gi.test(we.textContent)}),!1);Le.nextNode();){var Ae=Le.currentNode;Ae.textContent=Ae.textContent.replace(/\u200B/gi,"")}}function re(){if(!a.$wp)return!0;var q;if(a.opts.height||a.opts.heightMax){q=a.position.getBoundingRect().top,(a.helpers.isIOS()||a.helpers.isAndroid())&&(q-=a.helpers.scrollTop()),a.opts.iframe&&(q+=a.$iframe.offset().top);var de=a.selection.blocks(),Le=null;if(de&&0<de.length&&de[0].offsetTop&&(Le=de[0].getBoundingClientRect().top,a.selection.get().anchorNode.nodeType===3)){var Ae=a.doc.createRange(),we=a.selection.get().anchorNode,Pe=a.selection.get().anchorOffset;Ae.selectNode(we),Ae.setStart(we,Pe),Le=Ae.getBoundingClientRect().top}if(!a.opts.iframe&&q>a.$wp.offset().top-a.helpers.scrollTop()+a.$wp.height()-20)a.$wp.scrollTop(q+a.$wp.scrollTop()-(a.$wp.height()+a.$wp.offset().top)+a.helpers.scrollTop()+20);else if(a.opts.iframe&&Le){if(a.$wp.scrollTop()>Le)a.$wp.scrollTop(Le-20);else if(Le+20>a.$wp.scrollTop()+a.$wp.height()){var We=Le-a.$wp.height()+50;a.$wp.scrollTop(We)}}}else q=a.position.getBoundingRect().top,a.opts.toolbarBottom&&(q+=a.opts.toolbarStickyOffset),(a.helpers.isIOS()||a.helpers.isAndroid())&&(q-=a.helpers.scrollTop()),a.opts.iframe&&(q+=a.$iframe.offset().top,q-=a.helpers.scrollTop()),(q+=a.opts.toolbarStickyOffset)>a.o_win.innerHeight-20&&A(a.o_win).scrollTop(q+a.helpers.scrollTop()-a.o_win.innerHeight+20),q=a.position.getBoundingRect().top,a.opts.toolbarBottom||(q-=a.opts.toolbarStickyOffset),(a.helpers.isIOS()||a.helpers.isAndroid())&&(q-=a.helpers.scrollTop()),a.opts.iframe&&(q+=a.$iframe.offset().top,q-=a.helpers.scrollTop()),q<100&&A(a.o_win).scrollTop(q+a.helpers.scrollTop()-100)}function se(q){var de=a.selection.element();if(de&&0<=["INPUT","TEXTAREA"].indexOf(de.tagName)||(q&&q.which===0&&p&&(q.which=p),a.helpers.isAndroid()&&a.browser.mozilla))return!0;if(O)return!1;if(q&&a.helpers.isIOS()&&q.which===ve.KEYCODE.ENTER&&a.doc.execCommand("undo"),!a.selection.isCollapsed()||q&&(q.which===ve.KEYCODE.META||q.which===ve.KEYCODE.CTRL)||q&&D(q.which))return!0;if(q&&!a.helpers.isIOS()&&(q.which===ve.KEYCODE.ENTER||q.which===ve.KEYCODE.BACKSPACE||37<=q.which&&q.which<=40&&!a.browser.msie))try{re()}catch{}var Le=a.selection.element();if(function(We){if(!We)return!1;var ut=We.innerHTML;return!!((ut=ut.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""))&&/\u200B/.test(ut)&&0<ut.replace(/\u200B/gi,"").length)}(Le)&&!a.node.hasClass(Le,"fr-marker")&&Le.tagName!=="IFRAME"&&function(We){return!a.helpers.isIOS()||((We.textContent||"").match(/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi)||[]).length===0}(Le)){a.selection.save();var Ae=a.$el.find(".fr-marker")[1],we=(q||"").which;a.opts.enter===ve.ENTER_BR&&Le===a.$el.get(0)&&we===8&&Ae.nextSibling==null||be(Le),a.selection.restore()}}function ie(q){if(navigator.userAgent.indexOf("Mac OS X")!==-1){if(q.metaKey&&!q.altKey)return!0}else if(q.ctrlKey&&!q.altKey)return!0;return!1}function D(q){if(q>=ve.KEYCODE.ARROW_LEFT&&q<=ve.KEYCODE.ARROW_DOWN)return!0}function U(q){if(q>=ve.KEYCODE.ZERO&&q<=ve.KEYCODE.NINE||q>=ve.KEYCODE.NUM_ZERO&&q<=ve.KEYCODE.NUM_MULTIPLY||q>=ve.KEYCODE.A&&q<=ve.KEYCODE.Z||a.browser.webkit&&q===0)return!0;switch(q){case ve.KEYCODE.SPACE:case ve.KEYCODE.QUESTION_MARK:case ve.KEYCODE.NUM_PLUS:case ve.KEYCODE.NUM_MINUS:case ve.KEYCODE.NUM_PERIOD:case ve.KEYCODE.NUM_DIVISION:case ve.KEYCODE.SEMICOLON:case ve.KEYCODE.FF_SEMICOLON:case ve.KEYCODE.DASH:case ve.KEYCODE.EQUALS:case ve.KEYCODE.FF_EQUALS:case ve.KEYCODE.COMMA:case ve.KEYCODE.PERIOD:case ve.KEYCODE.SLASH:case ve.KEYCODE.APOSTROPHE:case ve.KEYCODE.SINGLE_QUOTE:case ve.KEYCODE.OPEN_SQUARE_BRACKET:case ve.KEYCODE.BACKSLASH:case ve.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function V(q){var de=q.which;if(ie(q)||37<=de&&de<=40||!U(de)&&de!==ve.KEYCODE.DELETE&&de!==ve.KEYCODE.BACKSPACE&&de!==ve.KEYCODE.ENTER&&de!==ve.KEYCODE.IME)return!0;M||(L=a.snapshot.get(),a.undo.canDo()||a.undo.saveStep()),clearTimeout(M),M=setTimeout(function(){M=null,a.undo.saveStep()},Math.max(250,a.opts.typingTimer))}function I(q){var de=q.which;if(ie(q)||37<=de&&de<=40)return!0;L&&M?(a.undo.saveStep(L),L=null):de!==void 0&&de!==0||L||M||a.undo.saveStep()}function N(q){if(q&&q.tagName==="BR")return!1;try{return(q.textContent||"").length===0&&q.querySelector&&!q.querySelector(":scope > br")||q.childNodes&&q.childNodes.length===1&&q.childNodes[0].getAttribute&&(q.childNodes[0].getAttribute("contenteditable")==="false"||a.node.hasClass(q.childNodes[0],"fr-img-caption"))}catch{return!1}}function ne(q){var de=a.el.childNodes,Le=a.html.defaultTag(),Ae=a.node.blockParent(a.selection.blocks()[0]);function we(ut){return!!A(ut).parentsUntil(a.$el,'[contenteditable="false"]').length}Ae&&Ae.tagName=="TR"&&Ae.getAttribute("contenteditable")==null&&(Ae=Ae.closest("table"));var Pe=window.getSelection(),We=0<Pe.rangeCount&&(we(Pe.getRangeAt(0).startContainer)||we(Pe.getRangeAt(0).endContainer));return!a.node.isEditable(q.target)||we(q.target)||We?a.toolbar.disable():a.toolbar.enable(),!(!q.target||q.target===a.el)||de.length===0||void(de[0].offsetHeight+de[0].offsetTop<=q.offsetY?N(de[de.length-1])&&(Le?a.$el.append("<".concat(Le,">").concat(ve.MARKERS,"<br></").concat(Le,">")):a.$el.append("".concat(ve.MARKERS,"<br>")),a.selection.restore(),re()):q.offsetY<=10&&N(de[0])&&(Le?a.$el.prepend("<".concat(Le,">").concat(ve.MARKERS,"<br></").concat(Le,">")):a.$el.prepend("".concat(ve.MARKERS,"<br>")),a.selection.restore(),re()))}function G(){M&&clearTimeout(M)}return{_init:function(){a.events.on("keydown",V),a.events.on("input",H),a.events.on("mousedown",K),a.events.on("keyup input",I),a.events.on("keypress",j),a.events.on("keydown",xe),a.events.on("keyup",se),a.events.on("destroy",G),a.events.on("html.inserted",se),a.events.on("cut",P),a.opts.multiLine&&a.events.on("click",ne),a.events.on("initialized",function(){a.el.addEventListener("compositionstart",function(){if(a.selection.isCollapsed()){var de=a.selection.ranges(0),Le=de.startContainer,Ae=de.startOffset;if(Le&&Le.nodeType===Node.TEXT_NODE&&Ae<=Le.textContent.length&&0<Ae&&Le.textContent.charCodeAt(Ae-1)===8203){a.selection.save();var we=a.$el.find(".fr-marker");A(we.get(0).previousSibling).before(ve.HAIR_SPACE),we.get(0).previousSibling.textContent=we.get(0).previousSibling.textContent.replace(/\u200B/gi,""),a.selection.restore()}}}),a.el.addEventListener("compositionend",function(){if(a.selection.isCollapsed()){var de=a.selection.ranges(0),Le=de.startContainer,Ae=de.startOffset;if(Le&&Le.nodeType===Node.TEXT_NODE&&Ae<=Le.textContent.length&&0<Ae&&Le.textContent.charCodeAt(0)===8202){a.selection.save();var we=a.$el.find(".fr-marker");we.get(0).previousSibling.textContent=we.get(0).previousSibling.textContent.replace(/\u200A/gi,""),a.selection.restore()}}})})},ctrlKey:ie,isCharacter:U,isArrow:D,forceUndo:function(){M&&(clearTimeout(M),a.undo.saveStep(),L=null)},isIME:function(){return O},isBrowserAction:function(de){var Le=de.which;return ie(de)||Le===ve.KEYCODE.F5},positionCaret:re}},Object.assign(ve.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col","meta"],pasteDeniedAttrs:["class","id"],pasteAllowedStyleProps:[".*"],pasteAllowLocalImages:!1}),ve.MODULES.paste=function(a){var p,M,L,A,O,z,Q,H=a.$;function P(q,de){var Le=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Q=Le;try{a.win.localStorage.setItem("fr-copied-html",q),a.win.localStorage.setItem("fr-copied-text",de)}catch{}}function j(q){var de=a.html.getSelected();q.type==="cut"&&a.opts.trackChangesEnabled||(Q=!1),Q&&(de=a.win.localStorage.getItem("fr-copied-html"));var Le=H(a.doc.createElement("div")).html(de).text();Q||P(de,Le),q.type==="cut"&&(a.$el.find("table.fr-table-selected").length&&!a.opts.trackChangesEnabled&&(a.table.remove(),q.preventDefault()),q.clipboardData.setData("text/plain",Le),q.clipboardData.setData("text/html",de),setTimeout(function(){a.selection.save(),a.html.wrap(),a.selection.restore(),a.events.focus(),a.undo.saveStep()},0))}var K,ee=!1;function w(q){if((K=q).target.nodeName==="INPUT"&&q.target.type==="text")return!0;if(a.edit.isDisabled()||be(q.target)||ee)return!1;q.originalEvent&&(q=q.originalEvent);var de=navigator.userAgent.match(/(chrome(?=\/))\/?\s*(\d+)/i)||[],Le=3<=de.length?de[2]:0;return a.helpers.isAndroid()&&a.browser.chrome&&99<Le&&navigator.clipboard?(navigator.clipboard.read({unsanitized:["text/html"]}).then(function(){var Ae=function(Pe){return function(){var We=this,ut=arguments;return new Promise(function(nt,ot){var Me=Pe.apply(We,ut);function et(Ze){ce(Me,nt,ot,et,Ve,"next",Ze)}function Ve(Ze){ce(Me,nt,ot,et,Ve,"throw",Ze)}et(void 0)})}}(dt().mark(function we(Pe){var We,ut,nt,ot,Me,et,Ve;return dt().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:We=Pe[0].types,ut=new DataTransfer,nt=ke(We),Ze.prev=3,nt.s();case 5:if((ot=nt.n()).done){Ze.next=21;break}return Me=ot.value,Ze.next=9,Pe[0].getType(Me);case 9:if(et=Ze.sent,Me.startsWith("text"))return Ze.next=13,et.text();Ze.next=16;break;case 13:Ze.t0=Ze.sent,Ze.next=17;break;case 16:Ze.t0=et;case 17:Ve=Ze.t0,Me.startsWith("text")?ut.setData(Me,Ve):ut.items.add(new File([Ve],"file"));case 19:Ze.next=5;break;case 21:Ze.next=26;break;case 23:Ze.prev=23,Ze.t1=Ze.catch(3),nt.e(Ze.t1);case 26:return Ze.prev=26,nt.f(),Ze.finish(26);case 29:return Ze.abrupt("return",xe(q,ut));case 30:case"end":return Ze.stop()}},we,null,[[3,23,26,29]])}));return function(we){return Ae.apply(this,arguments)}}()),q.preventDefault(),!1):xe(q)}function xe(q,de){var Le=de||q&&q.clipboardData;if(Le&&Le.getData){var Ae=(Le||window.clipboardData).getData("text/html")||"";if(Ae.match('content="Microsoft OneNote')){var we=/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(Ae)[1];return a.html.insert(a.clean.html(we)),q.preventDefault&&(q.stopPropagation(),q.preventDefault()),!1}}if(a.events.trigger("paste.before",[q,de])===!1)return q.preventDefault(),!1;if(Le&&Le.getData){var Pe="";if(A=Le.types,a.helpers.isArray(A))for(var We=0;We<A.length;We++)Pe+="".concat(A[We],";");else Pe=A;if(p="",/text\/rtf/.test(Pe)&&(M=Le.getData("text/rtf")),/text\/html/.test(Pe)?(p=Le.getData("text/html"),a.browser.mozilla&&(p==="<p></p>"||p===""||/<!--StartFragment-->([ ])<!--EndFragment-->/.test(p)||/<!--StartFragment-->([<p></p>]*)<!--EndFragment-->/.test(p))&&(p=a.win.localStorage.getItem("fr-copied-html"))):/text\/uri-list/.test(Pe)&&a.browser.safari?p=Le.getData("text/uri-list"):/text\/rtf/.test(Pe)&&a.browser.safari?p=M:/public.rtf/.test(Pe)&&a.browser.safari&&(p=Le.getData("text/rtf")),L=Le.getData("text"),p!=="")return D(),q.preventDefault&&(q.stopPropagation(),q.preventDefault()),!1;p=null}return function(){if(a.selection.save(),a.events.disableBlur(),p=null,O){O.html("");var nt=se(a.selection.get().anchorNode)+a.$wp.offset().top;O.css("top",nt),a.browser.edge&&a.opts.iframe&&a.$el.append(O)}else{var ot=document.getElementsByTagName("BODY")[0],Me=window.getComputedStyle(ot).transform;if(Me!=="none"){var et=se(a.selection.get().anchorNode)+a.$wp.offset().top;O=H('<div contenteditable="true" style="position: fixed; top: '+et+'px; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;" tabIndex="-1"></div>')}else O=H('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;" tabIndex="-1"></div>');a.browser.webkit||a.browser.mozilla?(Me==="none"&&O.css("top",a.$sc.scrollTop()),a.$el.after(O)):a.browser.edge&&a.opts.iframe?a.$el.append(O):a.$box.after(O),a.events.on("destroy",function(){O.remove()})}var Ve;a.helpers.isIOS()&&a.$sc&&(Ve=a.$sc.scrollTop()),a.opts.iframe&&a.$el.attr("contenteditable","false"),a.helpers.isIOS()&&a.$sc&&a.$sc.scrollTop(Ve);var Ze=K.clipboardData.getData("Text");if(4e5<Ze.length){K.preventDefault();var Xe=ie(Ze);O.get(0).innerText="",O.get(0).appendChild(Xe)}else O.focus();a.win.setTimeout(D,1)}(),!1}function be(q){return q&&q.contentEditable==="false"}function re(q){if(q.originalEvent&&(q=q.originalEvent),be(q.target))return!1;if(q&&q.dataTransfer&&q.dataTransfer.getData){var de="";if(A=q.dataTransfer.types,a.helpers.isArray(A))for(var Le=0;Le<A.length;Le++)de+="".concat(A[Le],";");else de=A;if(p="",/text\/rtf/.test(de)&&(M=q.dataTransfer.getData("text/rtf")),/text\/html/.test(de)?p=q.dataTransfer.getData("text/html"):/text\/rtf/.test(de)&&a.browser.safari?p=M:/text\/plain/.test(de)&&!this.browser.mozilla&&(p=a.html.escapeEntities(q.dataTransfer.getData("text/plain")).replace(/\n/g,"<br>")),p!==""){a.keys.forceUndo(),z=a.snapshot.get(),a.selection.save(),a.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-helper");var Ae=a.markers.insertAtPoint(q);if(a.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder"),a.$el.find(".fr-marker-helper").addClass("fr-marker").removeClass("fr-marker-helper"),a.selection.restore(),a.selection.remove(),a.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),Ae!==!1){var we=a.el.querySelector(".fr-marker");return H(we).replaceWith(ve.MARKERS),a.selection.restore(),D(),q.preventDefault&&(q.stopPropagation(),q.preventDefault()),!1}}else p=null}}function se(q){return q.nodeType===Node.TEXT_NODE?q.parentNode.offsetTop:q.offsetTop}function ie(q){var de=a.html.defaultTag()||"p",Le=q.split(/\n/g),Ae=document.createDocumentFragment();return Le.forEach(function(we){var Pe=document.createElement(de);Pe.appendChild(we===""?document.createElement("br"):document.createTextNode(we)),Ae.appendChild(Pe)}),Ae}function D(){a.opts.iframe&&a.$el.attr("contenteditable","true"),a.browser.edge&&a.opts.iframe&&a.$box.after(O),z||(a.keys.forceUndo(),z=a.snapshot.get()),p||(p=O.get(0).innerHTML,L=O.text(),a.$el[0].setAttribute("plainpaste",!0),a.selection.restore(),a.events.enableBlur());var q=p.match(/(MSFontService|class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument|LibreOffice)/gi),de=a.events.chainTrigger("paste.beforeCleanup",p);if(de&&typeof de=="string"){p=de;var Le=new DOMParser().parseFromString(de,"text/html");L=Le.body.innerText}(!q||q&&a.events.trigger("paste.wordPaste",[p])!==!1)&&I(p,q)}function U(){var q=null,de=null;try{q=a.win.localStorage.getItem("fr-copied-text"),de=a.win.localStorage.getItem("fr-copied-html")}catch{}var Le=new DOMParser().parseFromString(de,"text/html").querySelector("table"),Ae=a.node.hasClass(Le,"fr-table-selected"),we=new DOMParser().parseFromString(p,"text/html").querySelector("table"),Pe=a.node.hasClass(we,"fr-table-selected"),We=Le&&we&&Ae===Pe;return!(!q||!L||A&&A.indexOf("text/html")===-1||L.replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")!==q.replace(/\u00A0/gi," ").replace(/\r|\n/gi,"")&&L.replace(/\s/g,"")!==q.replace(/\s/g,""))||!(!(de&&p&&We)||A&&A.indexOf("text/html")===-1)}function V(q){for(var de="",Le=0;Le++<q;)de+="&nbsp;";return de}function I(q,de,Le){var Ae,we=null,Pe=null;if(0<=q.toLowerCase().indexOf("<body")){var We="";0<=q.indexOf("<style")&&(We=q.replace(/[.\s\S\w\W<>]*(<style[^>]*>[\s]*[.\s\S\w\W<>]*[\s]*<\/style>)[.\s\S\w\W<>]*/gi,"$1")),q=(q=(q=We+q.replace(/[.\s\S\w\W<>]*<body[^>]*>[\s]*([.\s\S\w\W<>]*)[\s]*<\/body>[.\s\S\w\W<>]*/gi,"$1")).replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(Zt){return Zt.replace(/\n/g,"<br />")})).replace(/ \n/g," ").replace(/\n /g," ").replace(/([^>])\n([^<])/g,"$1 $2")}var ut=!1;0<=q.indexOf('id="docs-internal-guid')&&(q=q.replace(/^[\w\W\s\S]* id="docs-internal-guid[^>]*>([\w\W\s\S]*)<\/b>[\w\W\s\S]*$/g,"$1"),ut=!0),(0<=q.indexOf('content="Sheets"')||0<=q.indexOf("google-sheets-html-origin"))&&(q=q.replace(/width:0px;/g,""));var nt=!1;if(!de)if((nt=U())&&(q=a.win.localStorage.getItem("fr-copied-html")),nt)q=a.clean.html(q,a.opts.pasteDeniedTags,a.opts.pasteDeniedAttrs);else{var ot=a.opts.htmlAllowedStyleProps;a.opts.htmlAllowedStyleProps=a.opts.pasteAllowedStyleProps,a.opts.htmlAllowComments=!1,q=(q=(q=q.replace(/<span class="Apple-tab-span">\s*<\/span>/g,V(a.opts.tabSpaces||4))).replace(/<span class="Apple-tab-span" style="white-space:pre">(\t*)<\/span>/g,function(Zt,kn){return V(kn.length*(a.opts.tabSpaces||4))})).replace(/\t/g,V(a.opts.tabSpaces||4)),q=a.clean.html(q,a.opts.pasteDeniedTags,a.opts.pasteDeniedAttrs),a.opts.htmlAllowedStyleProps=ot,a.opts.htmlAllowComments=!0,a.html.defaultTag()&&a.html.defaultTag()==="div"||(q=ne(q)),q=(q=q.replace(/\r/g,"")).replace(/^ */g,"").replace(/ *$/g,"")}!de||a.wordPaste&&Le||((q=q.replace(/^\n*/g,"").replace(/^ /g,"")).indexOf("<colgroup>")===0&&(q="<table>".concat(q,"</table>")),q=ne(q=function(kn){var Jn;kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=(kn=kn.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>")).replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>")).replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>")).replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>")).replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span")).replace(/<!--\[if !supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,"")).replace(/<!\[if !supportLists\]>([\s\S]*?)<!\[endif\]>/gi,"")).replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," ")).replace(/<!--[\s\S]*?-->/gi,"")).replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");var Je,wt=["style","script","applet","embed","noframes","noscript"];for(Jn=0;Jn<wt.length;Jn++){var It=new RegExp("<".concat(wt[Jn],".*?").concat(wt[Jn],"(.*?)>"),"gi");kn=kn.replace(It,"")}for(kn=(kn=(kn=kn.replace(/&nbsp;/gi," ")).replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>")).replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");(kn=(Je=kn).replace(/<[^/>][^>]*><\/[^>]+>/gi,""))!==Je;);kn=(kn=kn.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>')).replace(/<lilevel1([^>]*)>/gi,"<li$1>"),kn=(kn=(kn=a.clean.html(kn,a.opts.pasteDeniedTags,a.opts.pasteDeniedAttrs)).replace(/<a>(.[^<]+)<\/a>/gi,"$1")).replace(/<br> */g,"<br>");var nn=a.o_doc.createElement("div");nn.innerHTML=kn;var bn=nn.querySelectorAll("li[data-indent]");for(Jn=0;Jn<bn.length;Jn++){var Tn=bn[Jn],Mn=Tn.previousElementSibling;if(Mn&&Mn.tagName==="LI"){var vn=Mn.querySelector(":scope > ul, :scope > ol");vn||(vn=document.createElement("ul"),Mn.appendChild(vn)),vn.appendChild(Tn)}else Tn.removeAttribute("data-indent")}return a.html.cleanBlankSpaces(nn),kn=nn.innerHTML}(q))),a.opts.pastePlain&&(q=function(kn){var Jn,Je=null,wt=a.doc.createElement("div");wt.innerHTML=kn;var It=U(),nn=wt.querySelectorAll("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote");for(Jn=0;Jn<nn.length;Jn++)if((Je=nn[Jn]).textContent){var bn=It?Je.innerHTML:Je.innerText,Tn=a.clean.html("<".concat(a.html.defaultTag()||"DIV",">").concat(bn,"</").concat(a.html.defaultTag()||"DIV",">"));Je.outerHTML=Tn}for(Jn=(nn=wt.querySelectorAll("*:not(".concat("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img".split(",").join("):not("),")"))).length-1;0<=Jn;Jn--)(Je=nn[Jn]).outerHTML=Je.innerHTML;return function Mn(vn){for(var Hn=a.node.contents(vn),wo=0;wo<Hn.length;wo++)Hn[wo].nodeType!==Node.TEXT_NODE&&Hn[wo].nodeType!==Node.ELEMENT_NODE?Hn[wo].parentNode.removeChild(Hn[wo]):Mn(Hn[wo])}(wt),wt.innerHTML}(q));var Me=a.events.chainTrigger("paste.afterCleanup",q);if(a.$el[0].removeAttribute("plainpaste",!0),typeof Me=="string"&&(q=Me),q!==""){var et=a.o_doc.createElement("div");0<=(et.innerHTML=q).indexOf("<body>")?(a.html.cleanBlankSpaces(et),a.spaces.normalize(et,!0)):a.spaces.normalize(et);var Ve=et.getElementsByTagName("span");for(Ae=Ve.length-1;0<=Ae;Ae--){var Ze=Ve[Ae];Ze.attributes.length===0&&(Ze.outerHTML=Ze.innerHTML)}if(a.opts.linkAlwaysBlank===!0){var Xe=et.getElementsByTagName("a");for(Ae=Xe.length-1;0<=Ae;Ae--){var $e=Xe[Ae];$e.getAttribute("target")||$e.setAttribute("target","_blank")}}var tt=a.selection.element(),_t=!1;if(tt&&H(tt).parentsUntil(a.el,"ul, ol").length&&(_t=!0),_t){var mt=et.children;mt.length===1&&0<=["OL","UL"].indexOf(mt[0].tagName)&&(mt[0].outerHTML=mt[0].innerHTML)}if(!ut){var Lt=et.getElementsByTagName("br");for(Ae=Lt.length-1;0<=Ae;Ae--){var Rt=Lt[Ae];a.node.isBlock(Rt.previousSibling)&&Rt.parentNode.removeChild(Rt)}}if(a.opts.enter===ve.ENTER_BR)for(Ae=(we=et.querySelectorAll("p, div")).length-1;0<=Ae;Ae--)(Pe=we[Ae]).attributes.length===0&&(Pe.outerHTML=Pe.innerHTML+(Pe.nextSibling&&!a.node.isEmpty(Pe)?"<br>":""));else if(a.opts.enter===ve.ENTER_DIV)for(Ae=(we=et.getElementsByTagName("p")).length-1;0<=Ae;Ae--)(Pe=we[Ae]).attributes.length===0&&(Pe.outerHTML="<div>".concat(Pe.innerHTML,"</div>"));else a.opts.enter===ve.ENTER_P&&et.childNodes.length===1&&et.childNodes[0].tagName==="P"&&et.childNodes[0].attributes.length===0&&(et.childNodes[0].outerHTML=et.childNodes[0].innerHTML);if(et.childNodes[0]instanceof HTMLHeadingElement&&a.selection.element().tagName===et.childNodes[0].tagName&&(et.childNodes[0].outerHTML=et.childNodes[0].innerHTML),et.children&&0<et.children.length)if(a.opts.trackChangesEnabled)for(var Wt=0;Wt<et.children.length;Wt++)et.children[Wt].setAttribute("id","isPasted");else et.children[0].setAttribute("id","isPasted");q=(q=et.innerHTML).replace(/\n/g,""),nt&&(q=function(kn){var Jn,Je=a.o_doc.createElement("div");Je.innerHTML=kn;for(var wt=Je.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(".concat(ve.VOID_ELEMENTS.join("):not("),"):not(").concat(a.opts.htmlAllowedEmptyTags.join("):not("),")"));wt.length;){for(Jn=0;Jn<wt.length;Jn++)wt[Jn].parentNode.removeChild(wt[Jn]);wt=Je.querySelectorAll("*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(".concat(ve.VOID_ELEMENTS.join("):not("),"):not(").concat(a.opts.htmlAllowedEmptyTags.join("):not("),")"))}return Je.innerHTML}(q)),a.html.insert(q,!0)}(function(){a.events.trigger("paste.after")})(),a.undo.saveStep(z),z=null,a.undo.saveStep()}function N(q){for(var de=q.length-1;0<=de;de--)q[de].attributes&&q[de].attributes.length&&q.splice(de,1);return q}function ne(q){var de,Le=a.o_doc.createElement("div");Le.innerHTML=q;for(var Ae=N(Array.prototype.slice.call(Le.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")));Ae.length;){var we=Ae[Ae.length-1];if(a.html.defaultTag()&&a.html.defaultTag()!=="div")we.querySelector(a.html.blockTagsQuery())?we.outerHTML=we.innerHTML:we.outerHTML="<".concat(a.html.defaultTag(),">").concat(we.innerHTML,"</").concat(a.html.defaultTag(),">");else{var Pe=we.querySelectorAll("*");!Pe.length||Pe[Pe.length-1].tagName!=="BR"&&we.innerText.length===0||!Pe.length||Pe[Pe.length-1].tagName!=="BR"||Pe[Pe.length-1].nextSibling?we.outerHTML=we.innerHTML+(we.nextSibling?"<br>":""):we.outerHTML=we.innerHTML}Ae=N(Array.prototype.slice.call(Le.querySelectorAll(":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])")))}for(Ae=N(Array.prototype.slice.call(Le.querySelectorAll("div:not([style])")));Ae.length;){for(de=0;de<Ae.length;de++){var We=Ae[de],ut=We.innerHTML.replace(/\u0009/gi,"").trim();We.outerHTML=ut}Ae=N(Array.prototype.slice.call(Le.querySelectorAll("div:not([style])")))}return Le.innerHTML}function G(){a.el.removeEventListener("copy",j),a.el.removeEventListener("cut",j),a.el.removeEventListener("paste",w)}return{_init:function(){a.el.addEventListener("copy",j),a.el.addEventListener("cut",j),a.el.addEventListener("paste",w,{capture:!0}),a.events.on("drop",re),a.browser.msie&&a.browser.version<11&&(a.events.on("mouseup",function(de){de.button===2&&(setTimeout(function(){ee=!1},50),ee=!0)},!0),a.events.on("beforepaste",w)),a.events.on("destroy",G)},cleanEmptyTagsAndDivs:ne,getRtfClipboard:function(){return M},saveCopiedText:P,clean:I,replaceNewLines:ie}},Object.assign(ve.DEFAULTS,{shortcutsEnabled:[],shortcutsHint:!0}),ve.SHORTCUTS_MAP={},ve.RegisterShortcut=function(a,p,M,L,A,O){ve.SHORTCUTS_MAP[(A?"^":"")+(O?"@":"")+a]={cmd:p,val:M,letter:L,shift:A,option:O},ve.DEFAULTS.shortcutsEnabled.push(p)},ve.RegisterShortcut(ve.KEYCODE.E,"show",null,"E",!1,!1),ve.RegisterShortcut(ve.KEYCODE.B,"bold",null,"B",!1,!1),ve.RegisterShortcut(ve.KEYCODE.I,"italic",null,"I",!1,!1),ve.RegisterShortcut(ve.KEYCODE.U,"underline",null,"U",!1,!1),ve.RegisterShortcut(ve.KEYCODE.S,"strikeThrough",null,"S",!1,!1),ve.RegisterShortcut(ve.KEYCODE.CLOSE_SQUARE_BRACKET,"indent",null,"]",!1,!1),ve.RegisterShortcut(ve.KEYCODE.OPEN_SQUARE_BRACKET,"outdent",null,"[",!1,!1),ve.RegisterShortcut(ve.KEYCODE.Z,"undo",null,"Z",!1,!1),ve.RegisterShortcut(ve.KEYCODE.Z,"redo",null,"Z",!0,!1),ve.RegisterShortcut(ve.KEYCODE.Y,"redo",null,"Y",!1,!1),ve.MODULES.shortcuts=function(a){var p=null,M=!1;function L(A){if(!a.core.hasFocus())return!0;var O=A.which,z=navigator.userAgent.indexOf("Mac OS X")!==-1?A.metaKey:A.ctrlKey;if(A.type==="keyup"&&M&&O!==ve.KEYCODE.META)return M=!1;A.type==="keydown"&&(M=!1);var Q=(A.shiftKey?"^":"")+(A.altKey?"@":"")+O,H=a.node.blockParent(a.selection.blocks()[0]);if(H&&H.tagName=="TR"&&H.getAttribute("contenteditable")==null&&(H=H.closest("table")),z&&ve.SHORTCUTS_MAP[Q]&&(!H||H.getAttribute("contenteditable")!=="false")){var P=ve.SHORTCUTS_MAP[Q].cmd;if(P&&0<=a.opts.shortcutsEnabled.indexOf(P)){var j=ve.SHORTCUTS_MAP[Q].val;if(a.events.trigger("shortcut",[A,P,j])===!1)return!(M=!0);if(P&&(a.commands[P]||ve.COMMANDS[P]&&ve.COMMANDS[P].callback))return A.preventDefault(),A.stopPropagation(),A.type==="keydown"&&((a.commands[P]||ve.COMMANDS[P].callback)(),M=!0),!1}}}return{_init:function(){a.events.on("keydown",L,!0),a.events.on("keyup",L,!0)},get:function(O){if(!a.opts.shortcutsHint)return null;if(!p)for(var z in p={},ve.SHORTCUTS_MAP)Object.prototype.hasOwnProperty.call(ve.SHORTCUTS_MAP,z)&&0<=a.opts.shortcutsEnabled.indexOf(ve.SHORTCUTS_MAP[z].cmd)&&(p["".concat(ve.SHORTCUTS_MAP[z].cmd,".").concat(ve.SHORTCUTS_MAP[z].val||"")]={shift:ve.SHORTCUTS_MAP[z].shift,option:ve.SHORTCUTS_MAP[z].option,letter:ve.SHORTCUTS_MAP[z].letter});var Q=p[O];return Q?(a.helpers.isMac()?"⌘":"".concat(a.language.translate("Ctrl"),"+"))+(Q.shift?a.helpers.isMac()?"⇧":"".concat(a.language.translate("Shift"),"+"):"")+(Q.option?a.helpers.isMac()?"⌥":"".concat(a.language.translate("Alt"),"+"):"")+Q.letter:null}}},ve.MODULES.snapshot=function(a){function p(z){for(var Q=z.parentNode.childNodes,H=0,P=null,j=0;j<Q.length;j++){if(P){var K=Q[j].nodeType===Node.TEXT_NODE&&Q[j].textContent==="",ee=P.nodeType===Node.TEXT_NODE&&Q[j].nodeType===Node.TEXT_NODE,w=P.nodeType===Node.TEXT_NODE&&P.textContent==="";K||ee||w||H++}if(Q[j]===z)return H;P=Q[j]}}function M(z){var Q=[];if(!z.parentNode)return[];for(;!a.node.isElement(z);)Q.push(p(z)),z=z.parentNode;return Q.reverse()}function L(z,Q){for(;z&&z.nodeType===Node.TEXT_NODE;){var H=z.previousSibling;H&&H.nodeType===Node.TEXT_NODE&&(Q+=H.textContent.length),z=H}return Q}function A(z){for(var Q=a.el,H=0;H<z.length;H++)Q=Q.childNodes[z[H]];return Q}function O(z,Q){try{var H=A(Q.scLoc),P=Q.scOffset,j=A(Q.ecLoc),K=Q.ecOffset,ee=a.doc.createRange();ee.setStart(H,P),ee.setEnd(j,K),z.addRange(ee)}catch{}}return{get:function(){var Q,H={};if(a.events.trigger("snapshot.before"),H.html=(a.$wp?a.$el.html():a.$oel.get(0).outerHTML).replace(/ style=""/g,""),H.ranges=[],a.$wp&&a.selection.inEditor()&&a.core.hasFocus())for(var P=a.selection.ranges(),j=0;j<P.length;j++)H.ranges.push({scLoc:M((Q=P[j]).startContainer),scOffset:L(Q.startContainer,Q.startOffset),ecLoc:M(Q.endContainer),ecOffset:L(Q.endContainer,Q.endOffset)});return a.events.trigger("snapshot.after",[H]),H},restore:function(Q){a.$el.html()!==Q.html&&(a.opts.htmlExecuteScripts?a.$el.html(Q.html):a.el.innerHTML=Q.html);var H=a.selection.get();a.selection.clear(),a.events.focus(!0);for(var P=0;P<Q.ranges.length;P++)O(H,Q.ranges[P])},equal:function(Q,H){return Q.html===H.html&&(!a.core.hasFocus()||JSON.stringify(Q.ranges)===JSON.stringify(H.ranges))}}},ve.MODULES.undo=function(a){function p(z){var Q=z.which;a.keys.ctrlKey(z)&&(Q===ve.KEYCODE.Z&&z.shiftKey&&z.preventDefault(),Q===ve.KEYCODE.Z&&z.preventDefault())}var M=null;function L(){if(a.undo_stack&&!a.undoing)for(;a.undo_stack.length>a.undo_index;)a.undo_stack.pop()}function A(){a.undo_index=0,a.undo_stack=[]}function O(){a.undo_stack=[]}return{_init:function(){A(),a.events.on("initialized",function(){M=(a.$wp?a.$el.html():a.$oel.get(0).outerHTML).replace(/ style=""/g,"")}),a.events.on("blur",function(){a.el.querySelector(".fr-dragging")||a.undo.saveStep()}),a.events.on("keydown",p),a.events.on("destroy",O)},run:function(){if(1<a.undo_index){a.undoing=!0;var Q=a.undo_stack[--a.undo_index-1];clearTimeout(a._content_changed_timer),a.snapshot.restore(Q),M=Q.html,a.popups.hideAll(),a.toolbar.enable(),a.events.trigger("contentChanged"),a.events.trigger("commands.undo"),a.undoing=!1,a.selection.restore()}},redo:function(){if(a.undo_index<a.undo_stack.length){a.undoing=!0;var Q=a.undo_stack[a.undo_index++];clearTimeout(a._content_changed_timer),a.snapshot.restore(Q),M=Q.html,a.popups.hideAll(),a.toolbar.enable(),a.events.trigger("contentChanged"),a.events.trigger("commands.redo"),a.undoing=!1}},canDo:function(){return!(a.undo_stack.length===0||a.undo_index<=1)},canRedo:function(){return a.undo_index!==a.undo_stack.length},dropRedo:L,reset:A,saveStep:function(Q){if(!(!a.undo_stack||a.undoing||a.el.querySelector(".fr-marker")||a.el.querySelector(".fr-marker")&&a.opts.iframe&&a.markdown&&!a.markdown.isEnabled()))if(Q===void 0){if((Q=a.snapshot.get())&&Q.html&&a.undo_stack[a.undo_index-1]&&Q.html===a.undo_stack[a.undo_index-1].html)return;a.undo_stack[a.undo_index-1]&&a.snapshot.equal(a.undo_stack[a.undo_index-1],Q)||(L(),a.undo_stack.push(Q),a.undo_index++,function(P,j){var K=j.split("fr-selected-cell").join("");K=K.split(' class=""').join("");var ee=P.split("fr-selected-cell").join("");return K===(ee=ee.split(' class=""').join(""))}(M,Q.html)||(a.events.trigger("contentChanged"),M=Q.html))}else L(),0<a.undo_index?a.undo_stack[a.undo_index-1]=Q:(a.undo_stack.push(Q),a.undo_index++)}}},Object.assign(ve.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),ve.MODULES.size=function(a){function p(){M(),a.opts.height&&a.$el.css("minHeight",a.opts.height-a.helpers.getPX(a.$el.css("padding-top"))-a.helpers.getPX(a.$el.css("padding-bottom")));var L=!1;if(a.opts.fullPage){for(var A=a.$el.find("span,p,div"),O=0;O<A.length;O++)if(A[O].style.height&&A[O].style.height.includes("vh")){L=!0;break}}a.opts.fullPage&&L&&(a.opts.heightMin&&a.$iframe.css("minHeight",a.opts.heightMin),a.opts.heightMax&&a.$iframe.css("maxHeight",a.opts.heightMax),a.$el.css("overflow-y","auto")),a.opts.iframe&&a.markdown&&a.markdown.isEnabled()?a.$iframe.height(a.$wp.parent().outerHeight(!0)):a.$iframe.height(a.$el.outerHeight(!0))}function M(){a.opts.heightMin?a.$el.css("minHeight",a.opts.heightMin):a.$el.css("minHeight",""),a.opts.heightMax?(a.$wp.css("maxHeight",a.opts.heightMax),a.$wp.css("overflow","auto")):(a.$wp.css("maxHeight",""),a.$wp.css("overflow","")),a.opts.height?(a.$wp.css("height",a.opts.height),a.$wp.css("overflow","auto"),a.$el.css("minHeight",a.opts.height-a.helpers.getPX(a.$el.css("padding-top"))-a.helpers.getPX(a.$el.css("padding-bottom")))):(a.$wp.css("height",""),a.opts.heightMin||a.$el.css("minHeight",""),a.opts.heightMax||a.$wp.css("overflow","")),a.opts.width&&a.$box.width(a.opts.width)}return{_init:function(){if(!a.$wp)return!1;M(),a.$iframe&&(a.events.on("keyup keydown",function(){setTimeout(p,0)},!0),a.events.on("commands.after html.set init initialized paste.after",p))},syncIframe:p,refresh:M}},Object.assign(ve.DEFAULTS,{documentReady:!1,editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestWithCredentials:!1,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeDefaultStyle:'html{margin:0px;height:auto;}body{height:auto;padding:20px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:"";display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}',iframeStyle:"",iframeStyleFiles:[],direction:"auto",zIndex:1,tabIndex:null,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),ve.MODULES.core=function(a){var p=a.$;function M(){if(a.$box.addClass("fr-box".concat(a.opts.editorClass?" ".concat(a.opts.editorClass):"")),a.$box.attr("role","application"),a.$wp.addClass("fr-wrapper"),a.opts.documentReady&&a.$box.addClass("fr-document"),function(){a.opts.iframe||a.$el.addClass("fr-element fr-view"),(a.opts.height&&a.opts.height<window.innerHeight||a.opts.heightMax&&a.opts.heightMax<window.innerHeight)&&a.$el.addClass("fr-element-scroll-visible")}(),a.opts.iframe){a.$iframe.addClass("fr-iframe"),a.$el.addClass("fr-view");for(var L=0;L<a.o_doc.styleSheets.length;L++){var A=void 0,O=!1;try{A=a.o_doc.styleSheets[L].cssRules}catch{}if(a.o_doc.styleSheets[L].href&&(-1<a.o_doc.styleSheets[L].href.indexOf("codemirror")||-1<a.o_doc.styleSheets[L].href.indexOf("font-awesome"))&&(O=!(A=null)),A)for(var z=0,Q=A.length;z<Q;z++)if(!A[z].selectorText||A[z].selectorText.indexOf(".fr-view")!==0&&A[z].selectorText.indexOf(".fr-element")!==0&&A[z].selectorText.indexOf(".fr-box.fr-basic .fr-element")!==0&&A[z].selectorText.indexOf(".fr-markdown-view")!==0&&A[z].selectorText.indexOf(".fr-markdown-editor")!==0&&A[z].selectorText.indexOf(".fr-wrapper-markdown")!==0&&A[z].selectorText.indexOf(".gutter-horizontal")!==0&&A[z].selectorText.indexOf(".e-resize-handler")!==0&&A[z].selectorText.indexOf(".fr-find-replace-highlight")!==0&&A[z].selectorText.indexOf(".fr-find-replace-current-highlight")!==0)try{O&&a.o_doc.styleSheets[L].href&&A[z].selectorText&&(a.opts.iframeStyle+="".concat(A[z].selectorText,"{").concat(A[z].style.cssText,"}"),O=!1)}catch{}else 0<A[z].style.cssText.length&&(A[z].selectorText.indexOf(".fr-box.fr-basic .fr-element")===0&&(a.opts.iframeStyle+="".concat(A[z].selectorText,"{").concat(A[z].style.cssText,"}")),A[z].selectorText.indexOf(".fr-view")===0?a.opts.iframeStyle+="".concat(A[z].selectorText.replace(/\.fr-view/g,"body"),"{").concat(A[z].style.cssText,"}"):a.opts.iframeStyle+="".concat(A[z].selectorText.replace(/\.fr-element/g,"body"),"{").concat(A[z].style.cssText,"}"));else if(a.o_doc.styleSheets[L].href&&(-1<a.o_doc.styleSheets[L].href.indexOf("codemirror")||-1<a.o_doc.styleSheets[L].href.indexOf("font-awesome")||-1<a.o_doc.styleSheets[L].href.indexOf("froala-editor"))){var H=p("<link rel='stylesheet' type='text/css' href='".concat(a.o_doc.styleSheets[L].href,"'>"));a.$head.append(H)}}}a.opts.direction!=="auto"&&a.$box.removeClass("fr-ltr fr-rtl").addClass("fr-".concat(a.opts.direction)),a.$el.attr("dir",a.opts.direction),a.$wp.attr("dir",a.opts.direction),1<a.opts.zIndex&&a.$box.css("z-index",a.opts.zIndex),a.opts.theme&&a.$box.addClass("".concat(a.opts.theme,"-theme")),a.opts.tabIndex=a.opts.tabIndex||a.$oel.attr("tabIndex"),a.opts.tabIndex&&a.$el.attr("tabIndex",a.opts.tabIndex)}return{_init:function(){if(ve.INSTANCES.push(a),function(){a.drag_support={filereader:typeof FileReader<"u",formdata:!!a.win.FormData,progress:"upload"in new XMLHttpRequest}}(),a.$wp){M(),a.html.set(a._original_html),a.$el.attr("spellcheck",a.opts.spellcheck),a.helpers.isMobile()&&(a.$el.attr("autocomplete",a.opts.spellcheck?"on":"off"),a.$el.attr("autocorrect",a.opts.spellcheck?"on":"off"),a.$el.attr("autocapitalize",a.opts.spellcheck?"on":"off")),a.opts.disableRightClick&&a.events.$on(a.$el,"contextmenu",function(A){if(A.button===2)return A.preventDefault(),A.stopPropagation(),!1});try{a.doc.execCommand("styleWithCSS",!1,!1)}catch{}}a.$oel.get(0).tagName==="TEXTAREA"&&(a.events.on("contentChanged",function(){a.$oel.val(a.html.get())}),a.events.on("form.submit",function(){a.$oel.val(a.html.get())}),a.events.on("form.reset",function(){a.html.set(a._original_html)}),a.$oel.val(a.html.get())),a.helpers.isIOS()&&a.events.$on(a.$doc,"selectionchange",function(){a.$doc.get(0).hasFocus()||a.$win.get(0).focus()}),a.events.trigger("init"),a.opts.autofocus&&!a.opts.initOnClick&&a.$wp&&a.events.on("initialized",function(){a.events.focus(!0)})},destroy:function(A){a.$oel.get(0).tagName==="TEXTAREA"&&a.$oel.val(A),a.$box&&a.$box.removeAttr("role"),a.$wp&&(a.$oel.get(0).tagName==="TEXTAREA"?(a.$el.html(""),a.$wp.html(""),a.$box.replaceWith(a.$oel),a.$oel.show()):(a.$wp.replaceWith(A),a.$el.html(""),a.$box.removeClass("fr-view fr-ltr fr-box ".concat(a.opts.editorClass||"")),a.opts.theme&&a.$box.addClass("".concat(a.opts.theme,"-theme")))),this.$wp=null,this.$el=null,this.el=null,this.$box=null},isEmpty:function(){return a.node.isEmpty(a.el)},getXHR:function(A,O){var z=new XMLHttpRequest;for(var Q in z.open(O,A,!0),a.opts.requestWithCredentials&&(z.withCredentials=!0),a.opts.requestHeaders)Object.prototype.hasOwnProperty.call(a.opts.requestHeaders,Q)&&z.setRequestHeader(Q,a.opts.requestHeaders[Q]);return z},injectStyle:function(A){if(a.opts.iframe){a.$head.find("style[data-fr-style], link[data-fr-style]").remove(),a.$head.append('<style data-fr-style="true">'.concat(A,"</style>"));for(var O=0;O<a.opts.iframeStyleFiles.length;O++){var z=p('<link data-fr-style="true" rel="stylesheet" href="'.concat(a.opts.iframeStyleFiles[O],'">'));z.get(0).addEventListener("load",a.size.syncIframe),a.$head.append(z)}}},hasFocus:function(){return a.browser.mozilla&&a.helpers.isMobile()?a.selection.inEditor():a.node.hasFocus(a.el)||0<a.$el.find("*:focus").length},sameInstance:function(A){if(!A)return!1;var O=A.data("instance");return!!O&&O.id===a.id}}},ve.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},ve.RegisterTemplate=function(a,p){ve.POPUP_TEMPLATES[a]=p},ve.MODULES.popups=function(a){var p,M=a.$;a.shared.popups||(a.shared.popups={});var L,A=a.shared.popups;function O(I,N){N.isVisible()||(N=a.$sc),N.is(A[I].data("container"))||(A[I].data("container",N),N.append(A[I]))}function z(I){var N;I.find(".fr-upload-progress").addClass("fr-height-set"),I.find(".fr-upload-progress").removeClass("fr-height-auto"),a.popups.get("filesManager.insert").removeClass("fr-height-auto"),I.find(".fr-files-upload-layer").hasClass("fr-active")&&(N=1),I.find(".fr-files-by-url-layer").hasClass("fr-active")&&(N=2),I.find(".fr-files-embed-layer").hasClass("fr-active")&&(N=3),I.find(".fr-upload-progress-layer").get(0).clientHeight+10<I.find(".fr-upload-progress").get(0).clientHeight&&I.find(".fr-upload-progress").addClass("fr-height-auto"),400<I[0].clientHeight&&(I[0].childNodes[4].style.height="".concat(I[0].clientHeight-(I[0].childNodes[0].clientHeight+I[0].childNodes[N].clientHeight)-80,"px"))}var Q=2e3;function H(){M(this).toggleClass("fr-not-empty",!0)}function P(){var I=M(this);I.toggleClass("fr-not-empty",I.val()!=="")}function j(I){return A[I]&&a.node.hasClass(A[I],"fr-active")&&a.core.sameInstance(A[I])||!1}function K(I){for(var N in A)if(Object.prototype.hasOwnProperty.call(A,N)&&j(N)&&(I===void 0||A[N].data("instance")===I))return A[N];return!1}function ee(I){var N=null;if((N=typeof I!="string"?I:A[I])&&a.node.hasClass(N,"fr-do-not-hide")||I==="filesManager.insert"&&a.filesManager&&a.filesManager.isChildWindowOpen())return!1;if(N&&a.node.hasClass(N,"fr-active")&&(N.removeClass("fr-active fr-above"),a.events.trigger("popups.hide.".concat(I)),a.$tb&&(1<a.opts.zIndex?a.$tb.css("zIndex",a.opts.zIndex+1):a.$tb.css("zIndex","")),a.events.disableBlur(),N.find("input, textarea, button").each(function(){this===this.ownerDocument.activeElement&&this.blur()}),N.find("input, textarea").attr("disabled","disabled"),L))for(var ne=0;ne<L.length;ne++)M(L[ne]).removeClass("fr-btn-active-popup")}function w(I){for(var N in I===void 0&&(I=[]),A)Object.prototype.hasOwnProperty.call(A,N)&&I.indexOf(N)<0&&ee(N)}function xe(){a.shared.exit_flag=!0}function be(){a.shared.exit_flag=!1}function re(){return a.shared.exit_flag}function se(I,N){var ne,G=function(We,ut){var nt=ve.POPUP_TEMPLATES[We];if(!nt)return null;for(var ot in typeof nt=="function"&&(nt=nt.apply(a)),ut)Object.prototype.hasOwnProperty.call(ut,ot)&&(nt=nt.replace("[_".concat(ot.toUpperCase(),"_]"),ut[ot]));return nt}(I,N),q=M(a.doc.createElement("DIV"));if(!G)return I==="filesManager.insert"?q.addClass("fr-popup fr-files-manager fr-empty"):q.addClass("fr-popup fr-empty"),(ne=M("body").first()).append(q),q.data("container",ne),A[I]=q;I==="filesManager.insert"?q.addClass("fr-popup fr-files-manager".concat(a.helpers.isMobile()?" fr-mobile":" fr-desktop").concat(a.opts.toolbarInline?" fr-inline":"")):q.addClass("fr-popup".concat(a.helpers.isMobile()?" fr-mobile":" fr-desktop").concat(a.opts.toolbarInline?" fr-inline":"")),q.html(G),a.opts.theme&&q.addClass("".concat(a.opts.theme,"-theme")),1<a.opts.zIndex&&(!a.opts.editInPopup&&a.$tb?a.$tb.css("z-index",a.opts.zIndex+2):q.css("z-index",a.opts.zIndex+2)),a.opts.direction!=="auto"&&q.removeClass("fr-ltr fr-rtl").addClass("fr-".concat(a.opts.direction)),q.find("input, textarea").attr("dir",a.opts.direction).attr("disabled","disabled"),(ne=M("body").first()).append(q),q.data("container",ne);var de=(A[I]=q).find(".fr-color-hex-layer");if(0<de.length){var Le=a.helpers.getPX(q.find(".fr-color-set > span").css("width")),Ae=a.helpers.getPX(de.css("paddingLeft")),we=a.helpers.getPX(de.css("paddingRight"));de.css("width",Le*a.opts.colorsStep+Ae+we)}return a.button.bindCommands(q,!1),q}function ie(I){var N=A[I];return{_windowResize:function(){var ne=N.data("instance")||a;if(!ne.helpers.isMobile()&&N.isVisible()){var G=N.find(".fr-file-progress-bar-layer");if(I==="file.insert"&&0<G.length&&G.hasClass("fr-active")){var q=a.$tb.find('.fr-command[data-cmd="insertFile"]');ne.events.disableBlur();var de=a.button.getPosition(q),Le=de.left,Ae=de.top;a.position.at(Le,Ae,A[I],0),ne.events.enableBlur()}else ne.events.disableBlur(),ne.popups.hide(I),ne.events.enableBlur()}},_inputFocus:function(ne){var G=N.data("instance")||a,q=M(ne.currentTarget);if(q.is("input:file")&&q.closest(".fr-layer").addClass("fr-input-focus"),ne.preventDefault(),ne.stopPropagation(),setTimeout(function(){G.events.enableBlur()},100),G.helpers.isMobile()){var de=M(G.o_win).scrollTop();setTimeout(function(){M(G.o_win).scrollTop(de)},0)}},_inputBlur:function(ne){var G=N.data("instance")||a,q=M(ne.currentTarget);q.is("input:file")&&q.closest(".fr-layer").removeClass("fr-input-focus"),document.activeElement!==this&&M(this).isVisible()&&(G.events.blurActive()&&G.events.trigger("blur"),G.events.enableBlur())},_editorKeydown:function(ne){var G=N.data("instance")||a;G.keys.ctrlKey(ne)||ne.which===ve.KEYCODE.ALT||ne.which===ve.KEYCODE.ESC||(j(I)&&N.findVisible(".fr-back").length?G.button.exec(N.findVisible(".fr-back").first()):ne.which!==ve.KEYCODE.ALT&&G.popups.hide(I))},_preventFocus:function(ne){var G=N.data("instance")||a,q=ne.originalEvent?ne.originalEvent.target||ne.originalEvent.originalTarget:null;ne.type==="mouseup"||M(q).is(":focus")||G.events.disableBlur(),ne.type!=="mouseup"||M(q).hasClass("fr-command")||0<M(q).parents(".fr-command").length||M(q).hasClass("fr-dropdown-content")||M(q).hasClass("fr-dropdown-menu")||a.button.hideActiveDropdowns(N),(a.browser.safari||a.browser.mozilla)&&ne.type==="mousedown"&&M(q).is("input[type=file]")&&G.events.disableBlur();var de="input, textarea, button, select, label, .fr-command";if(q&&!M(q).is(de)&&M(q).parents(de).length===0)return ne.stopPropagation(),!1;q&&M(q).is(de)&&ne.stopPropagation(),be()},_editorMouseup:function(){N.isVisible()&&re()&&0<N.findVisible("input:focus, textarea:focus, button:focus, select:focus").length&&a.events.disableBlur()},_windowMouseup:function(ne){if(!a.core.sameInstance(N))return!0;var G=N.data("instance")||a;N.isVisible()&&re()&&(ne.stopPropagation(),G.markers.remove(),G.popups.hide(I),be())},_windowKeydown:function(ne){if(!a.core.sameInstance(N))return!0;var G=N.data("instance")||a,q=ne.which;if(ve.KEYCODE.ESC===q){if(G.popups.isVisible(I)&&G.opts.toolbarInline)return ne.stopPropagation(),G.popups.isVisible(I)&&(N.findVisible(".fr-back").length?(G.button.exec(N.findVisible(".fr-back").first()),G.accessibility.focusPopupButton(N)):N.findVisible(".fr-dismiss").length?G.button.exec(N.findVisible(".fr-dismiss").first()):(G.popups.hide(I),G.toolbar.showInline(null,!0),G.accessibility.focusPopupButton(N))),!1;if(G.popups.isVisible(I))return N.findVisible(".fr-back").length?(G.button.exec(N.findVisible(".fr-back").first),G.accessibility.focusPopupButton(N)):N.findVisible(".fr-dismiss").length?G.button.exec(N.findVisible(".fr-dismiss").first()):(G.popups.hide(I),G.accessibility.focusPopupButton(N)),!1}},_repositionPopup:function(){if(!a.opts.height&&!a.opts.heightMax||a.opts.toolbarInline)return!0;if(a.$wp&&j(I)&&N.parent().get(0)===a.$sc.get(0)){var ne=N.offset().top-a.$wp.offset().top,G=a.$wp.outerHeight();a.node.hasClass(N.get(0),"fr-above")&&(ne+=N.outerHeight()),G<ne||ne<0?N.addClass("fr-hidden"):N.removeClass("fr-hidden")}},handleWindowClick:function(ne){if(!a.core.sameInstance(N))return!0;var G=N.data("instance")||a;N.isVisible()&&ne.target&&(0<M(ne.target).find("body").length||M(ne.target)[0].tagName==="BODY")&&(ne.stopPropagation(),G.popups.hide(I))}}}function D(I,N){a.events.on("mouseup",I._editorMouseup,!0),a.$wp&&a.events.on("keydown",I._editorKeydown),a.events.on("focus",function(){A[N].removeClass("focused")}),a.events.on("blur",function(){K()&&a.markers.remove(),a.helpers.isMobile()?A[N].hasClass("focused")?(w(),A[N].removeClass("focused")):A[N].addClass("focused"):A[N].find("iframe").length||w()}),a.$wp&&!a.helpers.isMobile()&&a.events.$on(a.$wp,"scroll.popup".concat(N),I._repositionPopup),a.events.on("window.mouseup",I._windowMouseup,!0),a.events.on("window.keydown",I._windowKeydown,!0),a.opts.iframe&&window.addEventListener("click",I.handleWindowClick),A[N].data("inst".concat(a.id),!0),a.events.on("destroy",function(){a.core.sameInstance(A[N])&&(M("body").first().append(A[N]),A[N].removeClass("fr-active"))},!0)}function U(){var I=M(this).prev().children().first();I.attr("checked",!I.attr("checked"))}function V(){for(var I in A)if(Object.prototype.hasOwnProperty.call(A,I)){var N=A[I];N&&(N.html("").removeData().remove(),A[I]=null)}A=[]}return a.shared.exit_flag=!1,{_init:function(){p=window.innerHeight,a.events.on("shared.destroy",V,!0),a.events.on("window.mousedown",xe),a.events.on("window.touchmove",be),a.events.$on(M(a.o_win),"scroll",be),a.events.on("mousedown",function(N){K()&&(N.stopPropagation(),a.$el.find(".fr-marker").remove(),xe(),a.events.disableBlur())})},create:function(N,ne){var G=se(N,ne),q=ie(N);D(q,N),a.events.$on(G,"mousedown mouseup touchstart touchend touch","*",q._preventFocus,!0),a.events.$on(G,"focus","input, textarea, button, select",q._inputFocus,!0),a.events.$on(G,"blur","input, textarea, button, select",q._inputBlur,!0);var de=G.find("input, textarea");return function(Ae){for(var we=0;we<Ae.length;we++){var Pe=Ae[we],We=M(Pe);We.next().length===0&&We.attr("placeholder")&&(We.after('<label for="'.concat(We.attr("id"),'">').concat(We.attr("placeholder"),"</label>")),We.attr("placeholder",""))}}(de),a.events.$on(de,"focus",H),a.events.$on(de,"blur change",P),a.events.$on(G,"click",".fr-checkbox + label",U),a.accessibility.registerPopup(N),a.helpers.isIOS()&&a.events.$on(G,"touchend","label",function(){M("#".concat(M(this).attr("for"))).prop("checked",function(Le,Ae){return!Ae})},!0),a.events.$on(M(a.o_win),"resize",q._windowResize,!0),N==="filesManager.insert"&&A["filesManager.insert"].css("zIndex",2147483641),G},get:function(N){var ne=A[N];return ne&&!ne.data("inst".concat(a.id))&&D(ie(N),N),ne},show:function(N,ne,G,q,de){if(j(N)||(K()&&0<a.$el.find(".fr-marker").length?(a.events.disableBlur(),a.selection.restore()):K()||(a.events.disableBlur(),a.events.focus(),a.events.enableBlur())),w([N]),!A[N])return!1;var Le=a.button.getButtons(".fr-dropdown.fr-active");Le.removeClass("fr-active").attr("aria-expanded",!1).parents(".fr-toolbar").css("zIndex","").find("> .fr-dropdown-wrapper").css("height",""),Le.next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),A[N].data("instance",a),a.$tb&&a.$tb.data("instance",a);var Ae=j(N);A[N].addClass("fr-active").removeClass("fr-hidden").find("input, textarea").removeAttr("disabled");var we=A[N].data("container");if(function(Me,et){et.isVisible()||(et=a.$sc),et.contains([A[Me].get(0)])||et.append(A[Me])}(N,we),a.opts.toolbarInline&&we&&a.$tb&&we.get(0)===a.$tb.get(0)&&(O(N,a.$sc),G=a.$tb.offset().top-a.helpers.getPX(a.$tb.css("margin-top")),ne=a.$tb.offset().left+a.$tb.outerWidth()/2,a.node.hasClass(a.$tb.get(0),"fr-above")&&G&&(G+=a.$tb.outerHeight()),q=0),we=A[N].data("container"),a.opts.iframe&&!q&&!Ae){var Pe=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-top")),We=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-left"));ne&&(ne-=a.$iframe.offset().left+We),G&&(G-=a.$iframe.offset().top+Pe)}we.is(a.$tb)?a.$tb.css("zIndex",(a.opts.zIndex||1)+4):A[N].css("zIndex",(a.opts.zIndex||1)+3),a.opts.toolbarBottom&&we&&a.$tb&&we.get(0)===a.$tb.get(0)&&(A[N].addClass("fr-above"),G&&(G-=A[N].outerHeight())),de&&(ne-=A[N].width()/2),ne+A[N].outerWidth()>a.$sc.offset().left+a.$sc.width()&&(ne-=ne+A[N].outerWidth()-a.$sc.offset().left-a.$sc.width()),ne<a.$sc.offset().left&&a.opts.direction==="rtl"&&(ne=a.$sc.offset().left),A[N].removeClass("fr-active"),a.position.at(ne,G,A[N],q||0);var ut=a.node.blockParent(a.selection.blocks()[0]);if(ut&&ut.getAttribute("contenteditable")==="false")A[N].removeClass("fr-active");else{var nt=a.selection.element().parentElement.getAttribute("contenteditable");nt&&nt==="false"?A[N].removeClass("fr-active"):A[N].addClass("fr-active")}Ae||a.accessibility.focusPopup(A[N]),a.opts.toolbarInline&&a.toolbar.hide(),a.$tb&&(L=a.$tb.find(".fr-btn-active-popup")),a.events.trigger("popups.show.".concat(N)),ie(N)._repositionPopup(),be()},hide:ee,onHide:function(N,ne){a.events.on("popups.hide.".concat(N),ne)},hideAll:w,setContainer:O,refresh:function(N){A[N].data("instance",a),a.events.trigger("popups.refresh.".concat(N));for(var ne=A[N].find(".fr-command"),G=0;G<ne.length;G++){var q=M(ne[G]);q.parents(".fr-dropdown-menu").length===0&&a.button.refresh(q)}},onRefresh:function(N,ne){a.events.on("popups.refresh.".concat(N),ne)},onShow:function(N,ne){a.events.on("popups.show.".concat(N),ne)},isVisible:j,setFileListHeight:z,areVisible:K,setPopupDimensions:function(N,ne){ne&&N.find(".fr-upload-progress-layer").get(0).clientHeight<Q&&(N.find(".fr-upload-progress").addClass("fr-height-auto"),a.popups.get("filesManager.insert").addClass("fr-height-auto"),N.find(".fr-upload-progress").removeClass("fr-height-set"),Q=2e3),N.get(0).clientHeight>window.innerHeight/2&&(window.innerWidth<500?N.get(0).clientHeight>.6*p&&z(N):400<N.get(0).clientHeight&&z(N),Q=N.find(".fr-upload-progress-layer").get(0).clientHeight);var G=window.innerWidth;switch(!0){case G<=320:N.width(200);break;case G<=420:N.width(250);break;case G<=520:N.width(300);break;case G<=720:N.width(400);break;case 720<G:N.width(530)}}}},ve.MODULES.accessibility=function(a){var p,M=a.$,L=!0;function A(N){for(var ne=a.$el.find('[contenteditable="true"]'),G=!1,q=0;ne.get(q);)M(ne.get(q)).is(":focus")&&(G=!0),q++;if(N&&N.length&&!G){N.data("blur-event-set")||N.parents(".fr-popup").length||(a.events.$on(N,"blur",function(){var Ae=N.parents(".fr-toolbar, .fr-popup").data("instance")||a;Ae.events.blurActive()&&!a.core.hasFocus()&&Ae.events.trigger("blur"),setTimeout(function(){Ae.events.enableBlur()},100)},!0),N.data("blur-event-set",!0));var de=N.parents(".fr-toolbar, .fr-popup").data("instance")||a;if(a.browser.safari&&(!p||a.shared.safariSelection==null)){var Le=a.selection.get();Le&&0<Le.rangeCount?a.shared.safariSelection=Le.getRangeAt(0).cloneRange():a.shared.safariSelection=null}de.events.disableBlur(),N.get(0).focus(),a.shared.$f_el=N}}function O(N,ne){var G=ne?"last":"first",q=K(ee(N))[G]();if(q.length)return A(q),!0}function z(N){return N.is("input, textarea, select")&&H(),a.events.disableBlur(),N.get(0).focus(),!0}function Q(N,ne){var G=N.find("input, textarea, button, select, span").filter(function(){return M(this).isVisible()}).not(":disabled"),q=G.first();if((G=q.parents(".fr-color-set").get(0)&&q.parents(".fr-popup").get(0)?G.filter("input"):ne?G.last():G.first()).length)return z(G);if(a.shared.with_kb){var de=N.findVisible(".fr-active-item").first();if(de.length)return z(de);var Le=N.findVisible("[tabIndex]").first();if(Le.length)return z(Le)}}function H(){a.$el.find(".fr-marker").length===0&&a.core.hasFocus()&&a.selection.save()}function P(){var N=a.popups.areVisible();if(N){var ne=N.find(".fr-buttons");return ne.find("button:focus, .fr-group span:focus").length?!O(N.data("instance").$tb):!O(ne)}return!O(a.$tb)}function j(){var N=null;return a.shared.$f_el.is(".fr-dropdown.fr-active")?N=a.shared.$f_el:a.shared.$f_el.closest(".fr-dropdown-menu").prev().is(".fr-dropdown.fr-active")&&(N=a.shared.$f_el.closest(".fr-dropdown-menu").prev()),N}function K(N){for(var ne=-1,G=0;G<N.length;G++)M(N[G]).hasClass("fr-open")&&(ne=G);var q=N.index(a.$tb.find(".fr-more-toolbar.fr-expanded > button.fr-command").first());if(0<q&&ne!==-1){var de=N.slice(q,N.length),Le=(N=N.slice(0,q)).slice(0,ne+1),Ae=N.slice(ne+1,N.length);N=Le;for(var we=0;we<de.length;we++)N.push(de[we]);for(var Pe=0;Pe<Ae.length;Pe++)N.push(Ae[Pe])}return N}function ee(N){return N.findVisible("button:not(.fr-disabled), .fr-group span.fr-command").filter(function(ne){var G=M(ne).parents(".fr-more-toolbar");return G.length===0||0<G.length&&G.hasClass("fr-expanded")})}function w(N,ne,G){if(a.shared.$f_el){var q=j();q&&(a.button.click(q),a.shared.$f_el=q);var de=K(ee(N)),Le=de.index(a.shared.$f_el);if(Le===0&&!G||Le===de.length-1&&G){var Ae;ne&&(N.parent().is(".fr-popup")&&(Ae=!Q(N.parent().children().not(".fr-buttons"),!G)),Ae===!1&&(a.shared.$f_el=null)),ne&&Ae===!1||O(N,!G)}else A(M(de.get(Le+(G?1:-1))));return!1}}function xe(N,ne){return w(N,ne,!0)}function be(N,ne){return w(N,ne)}function re(N){if(a.shared.$f_el){var ne;if(a.shared.$f_el.is(".fr-dropdown.fr-active"))return A(ne=N?a.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").first():a.shared.$f_el.next().find(".fr-command:not(.fr-disabled)").last()),!1;if(a.shared.$f_el.is("a.fr-command"))return(ne=N?a.shared.$f_el.closest("li").nextAllVisible().first().find(".fr-command:not(.fr-disabled)").first():a.shared.$f_el.closest("li").prevAllVisible().first().find(".fr-command:not(.fr-disabled)").first()).length||(ne=N?a.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").first():a.shared.$f_el.closest(".fr-dropdown-menu").find(".fr-command:not(.fr-disabled)").last()),A(ne),!1}}function se(){if(a.shared.$f_el){if(a.shared.$f_el.hasClass("fr-dropdown"))a.button.click(a.shared.$f_el);else if(a.shared.$f_el.is("button.fr-back")){a.opts.toolbarInline&&(a.events.disableBlur(),a.events.focus());var N=a.popups.areVisible(a);N&&(a.shared.with_kb=!1),a.button.click(a.shared.$f_el),U(N)}else{if(a.events.disableBlur(),a.button.click(a.shared.$f_el),a.shared.$f_el.attr("data-group-name")){var ne=a.$tb.find('.fr-more-toolbar[data-name="'.concat(a.shared.$f_el.attr("data-group-name"),'"]')),G=a.shared.$f_el;ne.hasClass("fr-expanded")&&(G=ne.findVisible("button:not(.fr-disabled)").first()),G&&A(G)}else if(a.shared.$f_el.attr("data-popup")){var q=a.popups.areVisible(a);q&&q.data("popup-button",a.shared.$f_el)}else if(a.shared.$f_el.attr("data-modal")){var de=a.modals.areVisible(a);de&&de.data("modal-button",a.shared.$f_el)}a.shared.$f_el=null}return!1}}function ie(){if(a.shared.$f_el&&(a.events.disableBlur(),a.shared.$f_el.blur(),a.shared.$f_el=null),a.events.trigger("toolbar.focusEditor")!==!1&&(a.events.disableBlur(),a.$el.get(0).focus(),a.events.focus(),a.browser.safari&&a.shared.safariSelection)){var N=a.shared.safariSelection,ne=N.startContainer,G=N.endContainer,q=N.startOffset,de=N.endOffset,Le=a.doc.createRange();Le.setStart(ne,q),Le.setEnd(G,de),a.selection.get().removeAllRanges(),a.selection.get().addRange(Le),a.shared.safariSelection=null}}function D(N){N&&N.length&&(a.events.$on(N,"keydown",function(ne){if(!M(ne.target).is("a.fr-command, button.fr-command, .fr-group span.fr-command"))return!0;var G=N.parents(".fr-popup").data("instance")||N.data("instance")||a;a.shared.with_kb=!0;var q=G.accessibility.exec(ne,N);return a.shared.with_kb=!1,q},!0),a.events.$on(N,"mouseenter","[tabIndex]",function(ne){var G=N.parents(".fr-popup").data("instance")||N.data("instance")||a;if(!L)return ne.stopPropagation(),void ne.preventDefault();var q=M(ne.currentTarget);G.shared.$f_el&&G.shared.$f_el.not(q)&&G.accessibility.focusEditor()},!0),a.$tb&&a.events.$on(a.$tb,"transitionend",".fr-more-toolbar",function(){a.shared.$f_el=M(document.activeElement)}))}function U(N){var ne=N.data("popup-button");ne&&setTimeout(function(){A(ne),N.data("popup-button",null)},0)}function V(N){var ne=a.popups.areVisible(N);ne&&ne.data("popup-button",null)}function I(N){var ne=navigator.userAgent.indexOf("Mac OS X")!==-1?N.metaKey:N.ctrlKey;if(N.which!==ve.KEYCODE.F10||ne||N.shiftKey||!N.altKey)return!0;a.shared.with_kb=!0;var G=a.popups.areVisible(a),q=!1;return G&&(q=Q(G.children().not(".fr-buttons"))),q||P(),a.shared.with_kb=!1,N.preventDefault(),N.stopPropagation(),!1}return{_init:function(){a.$wp?a.events.on("keydown",I,!0):a.events.$on(a.$win,"keydown",I,!0),a.events.on("mousedown",function(ne){V(a),a.shared.$f_el&&a.el.isSameNode(a.shared.$f_el[0])&&(a.accessibility.restoreSelection(),ne.stopPropagation(),a.events.disableBlur(),a.shared.$f_el=null)},!0),a.events.on("blur",function(){a.shared.$f_el=null,V(a)},!0)},registerPopup:function(ne){var G=a.popups.get(ne),q=function(Le){var Ae=a.popups.get(Le);return{_tiKeydown:function(we){var Pe=Ae.data("instance")||a;if(Pe.events.trigger("popup.tab",[we])===!1)return!1;var We=we.which,ut=Ae.find(":focus").first();if(ve.KEYCODE.TAB===We){we.preventDefault();var nt=Ae.children().not(".fr-buttons"),ot=nt.findVisible("input, textarea, button, select").not(".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled").toArray(),Me=ot.indexOf(this)+(we.shiftKey?-1:1);if(0<=Me&&Me<ot.length)return Pe.events.disableBlur(),M(ot[Me]).focus(),we.stopPropagation(),!1;var et=Ae.find(".fr-buttons");if(et.length&&O(et,!!we.shiftKey)||Q(nt))return we.stopPropagation(),!1}else{if(ve.KEYCODE.ENTER!==We||!we.target||we.target.tagName==="TEXTAREA")return ve.KEYCODE.ESC===We?(we.preventDefault(),we.stopPropagation(),Pe.accessibility.restoreSelection(),Pe.popups.isVisible(Le)&&Ae.findVisible(".fr-back").length?(Pe.opts.toolbarInline&&(Pe.events.disableBlur(),Pe.events.focus()),Pe.button.exec(Ae.findVisible(".fr-back").first()),U(Ae)):Pe.popups.isVisible(Le)&&Ae.findVisible(".fr-dismiss").length?Pe.button.exec(Ae.findVisible(".fr-dismiss").first()):(Pe.popups.hide(Le),Pe.opts.toolbarInline&&Pe.toolbar.showInline(null,!0),U(Ae)),!1):ve.KEYCODE.SPACE===We&&(ut.is(".fr-submit")||ut.is(".fr-dismiss")||ut.is(".fr-enable-accessibility"))?(we.preventDefault(),we.stopPropagation(),Pe.events.disableBlur(),Pe.button.exec(ut),!0):Pe.keys.isBrowserAction(we)||ut.is("input[type=text], textarea")||ve.KEYCODE.SPACE===We&&(ut.is(".fr-link-attr")||ut.is("input[type=file]"))?void we.stopPropagation():(we.stopPropagation(),we.preventDefault(),!1);var Ve=null;if(0<Ae.findVisible(".fr-submit").length?Ve=Ae.findVisible(".fr-submit").first():Ae.findVisible(".fr-dismiss").length&&(Ve=Ae.findVisible(".fr-dismiss").first()),!Ve&&0<Ae.findVisible(".fr-enable-accessibility").length){var Ze=Ae.findVisible(".fr-enable-accessibility:focus");0<Ze.length&&(Ve=Ze)}Ve&&(we.preventDefault(),we.stopPropagation(),Pe.events.disableBlur(),Pe.button.exec(Ve))}},_tiMouseenter:function(){var we=Ae.data("instance")||a;V(we)}}}(ne);D(G.find(".fr-buttons")),a.events.$on(G,"mouseenter","tabIndex",q._tiMouseenter,!0),a.events.$on(G.children().not(".fr-buttons"),"keydown","[tabIndex]",q._tiKeydown,!0),a.popups.onHide(ne,function(){(G.data("instance")||a).accessibility.restoreSelection()}),a.popups.onShow(ne,function(){L=!1,setTimeout(function(){L=!0},0)})},registerToolbar:D,focusToolbarElement:A,focusToolbar:O,focusContent:Q,focusPopup:function(ne){var G=ne.children().not(".fr-buttons");G.data("mouseenter-event-set")||(a.events.$on(G,"mouseenter","[tabIndex]",function(q){var de=ne.data("instance")||a;if(!L)return q.stopPropagation(),void q.preventDefault();var Le=G.find(":focus").first();Le.length&&!Le.is("input, button, textarea, select")&&(de.events.disableBlur(),Le.blur(),de.events.disableBlur(),de.events.focus())}),G.data("mouseenter-event-set",!0)),!Q(G)&&a.shared.with_kb&&O(ne.find(".fr-buttons"))},focusModal:function(ne){a.core.hasFocus()||(a.events.disableBlur(),a.events.focus()),a.accessibility.saveSelection(),a.events.disableBlur(),a.el.blur(),a.selection.clear(),a.events.disableBlur(),a.shared.with_kb?ne.find(".fr-command[tabIndex], [tabIndex]").first().focus():ne.find("[tabIndex]").first().focus()},focusEditor:ie,focusPopupButton:U,focusModalButton:function(ne){var G=ne.data("modal-button");G&&setTimeout(function(){A(G),ne.data("modal-button",null)},0)},hasFocus:function(){return a.shared.$f_el!==null},exec:function(ne,G){var q=navigator.userAgent.indexOf("Mac OS X")!==-1?ne.metaKey:ne.ctrlKey,de=ne.which,Le=!1;return de!==ve.KEYCODE.TAB||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.ARROW_RIGHT||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.TAB||q||!ne.shiftKey||ne.altKey?de!==ve.KEYCODE.ARROW_LEFT||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.ARROW_UP||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.ARROW_DOWN||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.ENTER&&de!==ve.KEYCODE.SPACE||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.ESC||q||ne.shiftKey||ne.altKey?de!==ve.KEYCODE.F10||q||ne.shiftKey||!ne.altKey||(Le=P()):Le=function(we){if(a.shared.$f_el){var Pe=j();return Pe?(a.button.click(Pe),A(Pe)):we.parent().findVisible(".fr-back").length?(a.shared.with_kb=!1,a.opts.toolbarInline&&(a.events.disableBlur(),a.events.focus()),a.button.exec(we.parent().findVisible(".fr-back")).first(),U(we.parent())):a.shared.$f_el.is("button, .fr-group span")&&(we.parent().is(".fr-popup")?(a.accessibility.restoreSelection(),a.shared.$f_el=null,a.events.trigger("toolbar.esc")!==!1&&(a.popups.hide(we.parent()),a.opts.toolbarInline&&a.toolbar.showInline(null,!0),U(we.parent()))):ie()),!1}}(G):Le=se():Le=function(){return a.shared.$f_el&&a.shared.$f_el.is(".fr-dropdown:not(.fr-active)")?se():re(!0)}():Le=function(){return re()}():Le=be(G):Le=be(G,!0):Le=xe(G):(p=de,Le=xe(G,!0)),a.shared.$f_el||Le!==void 0||(Le=!0),!Le&&a.keys.isBrowserAction(ne)&&(Le=!0),!!Le||(ne.preventDefault(),ne.stopPropagation(),!1)},saveSelection:H,restoreSelection:function(){a.$el.find(".fr-marker").length&&(a.events.disableBlur(),a.selection.restore(),a.events.enableBlur())}}},Object.assign(ve.DEFAULTS,{tooltips:!0}),ve.MODULES.tooltip=function(a){var p=a.$;function M(){a.helpers.isMobile()||a.$tooltip&&a.$tooltip.removeClass("fr-visible").css("left","-3000px").css("position","fixed")}function L(A,O){if(!a.helpers.isMobile()){var z=A.attr("id")&&A.attr("id").split("-")[0],Q=A.attr("title"),H=a.opts.trackChangesEnabled,P=a.opts.showChangesEnabled;if(a.opts.toolbarContainer){for(var j=!1,K=0;K<ve.INSTANCES.length;K++)if(ve.INSTANCES[K].core.hasFocus()){H=ve.INSTANCES[K].opts.trackChangesEnabled,P=ve.INSTANCES[K].opts.showChangesEnabled,j=!0;break}j||(P=H=A.hasClass("fr-active"))}if(z==="trackChanges")Q=H?"Disable Track Changes":"Enable Track Changes";else if(z==="showChanges")Q=P?"Hide Changes":"Show Changes";else if((z==="applyAll"||z==="removeAll"||z==="applyLast"||z==="removeLast")&&a.track_changes.getPendingChanges().length===0)return;if(A.data("title",Q),A.data("title")){a.$tooltip||function(){if(a.opts.tooltips&&!a.helpers.isMobile()){if(a.shared.$tooltip)a.$tooltip=a.shared.$tooltip;else{a.shared.$tooltip=p(a.doc.createElement("DIV")).addClass("fr-tooltip"),a.$tooltip=a.shared.$tooltip,a.opts.theme&&a.$tooltip.addClass("".concat(a.opts.theme,"-theme"));var re={};if(a.$wp&&0<a.$wp.length&&(re=a.$wp.closest("dialog")),0<re.length)re.first().append(a.$tooltip);else if(a.$box&&0<a.$box.length&&a.$box[0]){var se=a.$box[0].getRootNode();se instanceof ShadowRoot?p(se).append(a.$tooltip):p(a.o_doc).find("body").first().append(a.$tooltip)}else p(a.o_doc).find("body").first().append(a.$tooltip)}a.events.on("shared.destroy",function(){a.$tooltip.html("").removeData().remove(),a.$tooltip=null},!0)}}(),A.removeAttr("title"),a.$tooltip.text(a.language.translate(A.data("title"))),a.$tooltip.addClass("fr-visible");var ee=A.offset().left+(A.outerWidth()-a.$tooltip.outerWidth())/2;ee<0&&(ee=0),ee+a.$tooltip.outerWidth()>p(a.o_win).width()&&(ee=p(a.o_win).width()-a.$tooltip.outerWidth()),O===void 0&&(O=a.opts.toolbarBottom),A.offset().top-p(window).scrollTop()+A.outerHeight()+10>=p(window).height()&&(O=!0);var w=O?A.offset().top-a.$tooltip.height():A.offset().top+A.outerHeight();a.$tooltip.css("position",""),a.$tooltip.css("left",ee),a.$tooltip.css("top",Math.ceil(w));var xe={};a.$wp&&0<a.$wp.length&&(xe=a.$wp.closest("dialog")),0<xe.length?(a.$tooltip.css("margin-left",-xe.first().offset().left),a.$tooltip.css("margin-top",-xe.first().offset().top)):p(a.o_doc).find("body").first().css("position")!=="static"?(a.$tooltip.css("margin-left",-p(a.o_doc).find("body").first().offset().left),a.$tooltip.css("margin-top",-p(a.o_doc).find("body").first().offset().top)):(a.$tooltip.css("margin-left",""),a.$tooltip.css("margin-top",""))}}}return{hide:M,to:L,bind:function(O,z,Q){a.opts.tooltips&&!a.helpers.isMobile()&&(a.events.$on(O,"mouseover",z,function(H){a.node.hasClass(H.currentTarget,"fr-disabled")||a.edit.isDisabled()||L(p(H.currentTarget),Q)},!0),a.events.$on(O,"mouseout ".concat(a._mousedown," ").concat(a._mouseup),z,function(){M()},!0))}}},ve.TOOLBAR_VISIBLE_BUTTONS=3,ve.MODULES.button=function(a){var p=a.$,M=[];(a.opts.toolbarInline||a.opts.toolbarContainer)&&(a.shared.buttons||(a.shared.buttons=[]),M=a.shared.buttons);var L=[];function A(D,U,V){for(var I=p(),N=0;N<D.length;N++){var ne=p(D[N]);if(ne.is(U)&&(I=I.add(ne)),V&&ne.is(".fr-dropdown")){var G=ne.next().find(U);I=I.add(G)}}return I}function O(D,U){var V,I=p();if(!D)return I;for(V in I=(I=I.add(A(M,D,U))).add(A(L,D,U)),a.shared.popups)if(Object.prototype.hasOwnProperty.call(a.shared.popups,V)){var N=a.shared.popups[V].children().find(D);I=I.add(N)}for(V in a.shared.modals)if(Object.prototype.hasOwnProperty.call(a.shared.modals,V)){var ne=a.shared.modals[V].$modal.find(D);I=I.add(ne)}return I}function z(D){var U=D.next(),V=a.node.hasClass(D.get(0),"fr-active"),I=O(".fr-dropdown.fr-active").not(D),N=D.parents(".fr-toolbar, .fr-popup").data("instance")||a;N.helpers.isIOS()&&!N.el.querySelector(".fr-marker")&&(N.selection.save(),N.selection.clear(),N.selection.restore()),U.parents(".fr-more-toolbar").addClass("fr-overflow-visible");var ne=0,G=0,q=U.find("> .fr-dropdown-wrapper");if(!V){var de=D.data("cmd");U.find(".fr-command").removeClass("fr-active").attr("aria-selected",!1),ve.COMMANDS[de]&&ve.COMMANDS[de].refreshOnShow&&ve.COMMANDS[de].refreshOnShow.apply(N,[D,U]),U.css("left",D.offset().left-D.parents(".fr-btn-wrap, .fr-toolbar, .fr-buttons").offset().left-(a.opts.direction==="rtl"?U.width()-D.outerWidth():0)),U.addClass("test-height"),ne=U.outerHeight(),G=a.helpers.getPX(q.css("max-height")),U.removeClass("test-height"),U.css("top","").css("bottom","");var Le=D.outerHeight()/10;if(!a.opts.toolbarBottom&&U.offset().top+D.outerHeight()+ne<p(a.o_doc).height())U.css("top",D.position().top+D.outerHeight()-Le);else{var Ae=0,we=D.parents(".fr-more-toolbar");0<we.length&&(Ae=we.first().height()),U.css("bottom",D.parents(".fr-popup, .fr-toolbar").first().height()-Ae-D.position().top)}}D.addClass("fr-blink").toggleClass("fr-active"),D.hasClass("fr-options")&&D.prev().toggleClass("fr-expanded"),D.hasClass("fr-active")?(U.attr("aria-hidden",!1),D.attr("aria-expanded",!0),function(ut,nt,ot){ot<=nt&&(ut.parent().css("overflow","auto"),ut.parent().css("overflow-x","hidden")),ut.css("height",Math.min(nt,ot))}(q,ne,G)):(U.attr("aria-hidden",!0).css("overflow",""),D.attr("aria-expanded",!1),q.css("height","")),setTimeout(function(){D.removeClass("fr-blink")},300),U.css("margin-left",""),U.offset().left+U.outerWidth()>a.$sc.offset().left+a.$sc.width()&&U.css("margin-left",-(U.offset().left+U.outerWidth()-a.$sc.offset().left-a.$sc.width())),U.offset().left<a.$sc.offset().left&&a.opts.direction==="rtl"&&U.css("margin-left",a.$sc.offset().left),I.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),I.prev(".fr-expanded").removeClass("fr-expanded"),I.parents(".fr-toolbar:not(.fr-inline)").css("zIndex",""),D.parents(".fr-popup").length!==0||a.opts.toolbarInline||(a.node.hasClass(D.get(0),"fr-active")?a.$tb.css("zIndex",(a.opts.zIndex||1)+4):a.$tb.css("zIndex",""));var Pe=U.find("a.fr-command.fr-active").first();a.helpers.isMobile()||(Pe.length?(a.accessibility.focusToolbarElement(Pe),q.scrollTop(Math.abs(Pe.parents(".fr-dropdown-content").offset().top-Pe.offset().top)-Pe.offset().top)):(a.accessibility.focusToolbarElement(D),q.scrollTop(0)))}function Q(D){D.addClass("fr-blink"),setTimeout(function(){D.removeClass("fr-blink")},500);for(var U=D.data("cmd"),V=[];D.data("param".concat(V.length+1))!==void 0;)V.push(D.data("param".concat(V.length+1)));var I=O(".fr-dropdown.fr-active");I.length&&(I.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),I.prev(".fr-expanded").removeClass("fr-expanded"),I.parents(".fr-toolbar:not(.fr-inline)").css("zIndex","")),D.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(U,V)}function H(D){var U=D.parents(".fr-popup, .fr-toolbar").data("instance"),V=a.popups.get("link.insert");if(D.parents(".fr-popup").length===0&&D.data("popup")&&!D.hasClass("fr-btn-active-popup")&&(D.attr("id")==="insertLink-".concat(a.id)&&V&&V.hasClass("fr-active")||D.addClass("fr-btn-active-popup")),D.parents(".fr-popup").length!==0||D.data("popup")||U.popups.hideAll(),U.popups.areVisible()&&!U.popups.areVisible(U)){for(var I=0;I<ve.INSTANCES.length;I++)ve.INSTANCES[I]!==U&&ve.INSTANCES[I].popups&&ve.INSTANCES[I].popups.areVisible()&&ve.INSTANCES[I].$el.find(".fr-marker").remove();U.popups.hideAll()}a.node.hasClass(D.get(0),"fr-dropdown")?z(D):(function(ne){Q(ne)}(D),ve.COMMANDS[D.data("cmd")]&&ve.COMMANDS[D.data("cmd")].refreshAfterCallback!==!1&&U.button.bulkRefresh())}function P(D){H(p(D.currentTarget))}function j(D){var U=D.find(".fr-dropdown.fr-active");U.length&&(U.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),U.parents(".fr-toolbar:not(.fr-inline)").css("zIndex",""),U.prev().removeClass("fr-expanded"))}function K(D){D.preventDefault(),D.stopPropagation()}function ee(D){if(D.stopPropagation(),!a.helpers.isMobile())return!1}function w(D){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},V=2<arguments.length?arguments[2]:void 0;if(a.helpers.isMobile()&&U.showOnMobile===!1)return"";var I=U.displaySelection;typeof I=="function"&&(I=I(a));var N="";if(U.type!=="options")if(I){var ne=typeof U.defaultSelection=="function"?U.defaultSelection(a):U.defaultSelection;N='<span style="width:'.concat(U.displaySelectionWidth||100,'px">').concat(a.language.translate(ne||U.title),"</span>")}else N=a.icon.create(U.icon||D),N+='<span class="fr-sr-only">'.concat(a.language.translate(U.title)||"","</span>");var G=U.popup?' data-popup="true"':"",q=U.modal?' data-modal="true"':"",de=a.shortcuts.get("".concat(D,"."));de=de?" (".concat(de,")"):"";var Le="".concat(D,"-").concat(a.id),Ae="dropdown-menu-".concat(Le),we='<button id="'.concat(Le,'"').concat(U.more_btn?' data-group-name="'.concat(Le,'" aria-expanded="false" '):" ",'type="button" tabIndex="-1" role="button"').concat(U.toggle?' aria-pressed="false"':"").concat(U.type==="dropdown"||U.type==="options"?' aria-controls="'.concat(Ae,'" aria-expanded="false" aria-haspopup="true"'):"").concat(U.disabled?' aria-disabled="true"':"",' title="').concat(a.language.translate(U.title)||"").concat(de,'" class="fr-command fr-btn').concat(U.type==="dropdown"||U.type=="options"?" fr-dropdown":"").concat(U.type=="options"?" fr-options":"").concat(U.type=="more"?" fr-more":"").concat(U.displaySelection?" fr-selection":"").concat(U.back?" fr-back":"").concat(U.disabled?" fr-disabled":"").concat(V?"":" fr-hidden",'" data-cmd="').concat(D,'"').concat(G).concat(q,">").concat(N,"</button>");if(U.type==="dropdown"||U.type==="options"){var Pe='<div id="'.concat(Ae,'" class="fr-dropdown-menu" role="listbox" aria-labelledby="').concat(Le,'" aria-hidden="true"><div class="fr-dropdown-wrapper" role="presentation"><div class="fr-dropdown-content" role="presentation">');Pe+=function(ut,nt){var ot="";if(nt.html)typeof nt.html=="function"?ot+=nt.html.call(a):ot+=nt.html;else{var Me=nt.options;for(var et in typeof Me=="function"&&(Me=Me()),ot+='<ul class="fr-dropdown-list" role="presentation">',Me)Object.prototype.hasOwnProperty.call(Me,et)&&(a.shortcuts.get("".concat(ut,".").concat(et)),ot+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="'.concat(nt.type==="options"?ut.replace(/Options/g,""):ut,'" data-param1="').concat(et,'" title="').concat(Me[et],'">').concat(a.language.translate(Me[et]),"</a></li>"));ot+="</ul>"}return ot}(D,U),we+=Pe+="</div></div></div>"}return U.hasOptions&&U.hasOptions.apply(a)&&(we='<div class="fr-btn-wrap">'.concat(we," ").concat(w(D+"Options",Object.assign({},U,{type:"options",hasOptions:!1}),V),"  </div>")),we}function xe(D){var U=a.$tb&&a.$tb.data("instance")||a;if(a.events.trigger("buttons.refresh")===!1)return!0;setTimeout(function(){for(var V=U.selection.inEditor()&&U.core.hasFocus(),I=0;I<D.length;I++){var N=p(D[I]),ne=N.data("cmd");N.parents(".fr-popup").length===0?V||ve.COMMANDS[ne]&&ve.COMMANDS[ne].forcedRefresh?U.button.refresh(N):a.node.hasClass(N.get(0),"fr-dropdown")||(N.removeClass("fr-active"),N.attr("aria-pressed")&&N.attr("aria-pressed",!1)):N.parents(".fr-popup").isVisible()&&U.button.refresh(N)}},0)}function be(){xe(M),xe(L)}function re(){M=[],L=[]}a.shared.popup_buttons||(a.shared.popup_buttons=[]),L=a.shared.popup_buttons;var se=null;function ie(){clearTimeout(se),se=setTimeout(be,50)}return{_init:function(){a.opts.toolbarInline?a.events.on("toolbar.show",be):(a.events.on("mouseup",ie),a.events.on("keyup",ie),a.events.on("blur",ie),a.events.on("focus",ie),a.events.on("contentChanged",ie),a.helpers.isMobile()&&a.events.$on(a.$doc,"selectionchange",be)),a.events.on("shared.destroy",re)},build:w,buildList:function(U,V){for(var I="",N=0;N<U.length;N++){var ne=U[N],G=ve.COMMANDS[ne];G&&typeof G.plugin<"u"&&a.opts.pluginsEnabled.indexOf(G.plugin)<0||(G?I+=w(ne,G,V===void 0||0<=V.indexOf(ne)):ne==="|"?I+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':ne==="-"&&(I+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>'))}return I},buildGroup:function(U){var V="",I="";for(var N in U){var ne=U[N];if(ne.buttons){for(var G="",q="",de=0,Le="left",Ae=ve.TOOLBAR_VISIBLE_BUTTONS,we=0;we<ne.buttons.length;we++){var Pe=ne.buttons[we],We=ve.COMMANDS[Pe];We||(Pe=="|"?G+='<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>':Pe=="-"&&(G+='<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')),!We||We&&typeof We.plugin<"u"&&a.opts.pluginsEnabled.indexOf(We.plugin)<0||(U[N].align!==void 0&&(Le=U[N].align),U[N].buttonsVisible!==void 0&&(Ae=U[N].buttonsVisible),U.showMoreButtons&&Ae<=de?q+=w(Pe,We,!0):G+=w(Pe,We,!0),de++)}if(U.showMoreButtons&&Ae<de){var ut=N,nt=ve.COMMANDS[ut];nt.more_btn=!0,G+=w(ut,nt,!0)}N!=="trackChanges"&&(V+='<div class="fr-btn-grp fr-float-'.concat(Le,'">').concat(G,"</div>")),U.showMoreButtons&&0<q.length&&(I+='<div class="fr-more-toolbar" data-name="'.concat(N+"-"+a.id,'">').concat(q,"</div>"))}}return a.opts.toolbarBottom?a.helpers.isMobile()?'<div class="fr-bottom-extended">'.concat(I,"</div><div>").concat(V,"</div>"):"".concat(I,'<div class="fr-newline"></div>').concat(V):"".concat(V,'<div class="fr-newline"></div>').concat(I)},bindCommands:function(U,V){a.events.bindClick(U,".fr-command:not(.fr-disabled)",P),a.events.$on(U,"".concat(a._mousedown," ").concat(a._mouseup," ").concat(a._move),".fr-dropdown-menu",K,!0),a.events.$on(U,"".concat(a._mousedown," ").concat(a._mouseup," ").concat(a._move),".fr-dropdown-menu .fr-dropdown-wrapper",ee,!0);var I=U.get(0).ownerDocument,N="defaultView"in I?I.defaultView:I.parentWindow;function ne(G){(!G||G.type===a._mouseup&&G.target!==p("html").get(0)||G.type==="keydown"&&(a.keys.isCharacter(G.which)&&!a.keys.ctrlKey(G)||G.which===ve.KEYCODE.ESC))&&(j(U),a.opts.iframe&&function(de){var Le=de.find(".fr-popup.fr-active");if(Le.length){Le.removeClass("fr-active").attr("aria-expanded",!1).next().attr("aria-hidden",!0).css("overflow","").find("> .fr-dropdown-wrapper").css("height",""),Le.parents(".fr-toolbar:not(.fr-inline)").css("zIndex",""),Le.prev().removeClass("fr-expanded");var Ae=a.$tb.find(".fr-btn-active-popup");p(Ae[0]).removeClass("fr-btn-active-popup")}}(U))}a.events.$on(p(N),"".concat(a._mouseup," resize keydown"),ne,!0),a.opts.iframe&&a.events.$on(a.$win,a._mouseup,ne,!0),a.node.hasClass(U.get(0),"fr-popup")?p.merge(L,U.find(".fr-btn").toArray()):p.merge(M,U.find(".fr-btn").toArray()),a.tooltip.bind(U,".fr-btn, .fr-title",V)},refresh:function(U){var V,I=U.parents(".fr-popup, .fr-toolbar").data("instance")||a,N=U.data("cmd");a.node.hasClass(U.get(0),"fr-dropdown")?V=U.next():(U.removeClass("fr-active"),U.attr("aria-pressed")&&!U.hasClass("fr-active-tab")&&U.attr("aria-pressed",!1)),ve.COMMANDS[N]&&ve.COMMANDS[N].refresh?ve.COMMANDS[N].refresh.apply(I,[U,V]):a.refresh[N]&&I.refresh[N](U,V)},bulkRefresh:be,exec:Q,click:H,hideActiveDropdowns:j,addButtons:function(U){for(var V=0;V<U.length;V++)M.push(U[V])},getButtons:O,getPosition:function(U){var V=U.offset().left,I=a.opts.toolbarBottom?10:U.outerHeight()-10;return{left:V,top:U.offset().top+I}}}},ve.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]" aria-hidden="true"></i>',font_awesome_5:'<i class="fas fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5r:'<i class="far fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5l:'<i class="fal fa-[FA5NAME]" aria-hidden="true"></i>',font_awesome_5b:'<i class="fab fa-[FA5NAME]" aria-hidden="true"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />",svg:'<svg class="fr-svg" focusable="false" viewBox="[VIEWBOX]" xmlns="http://www.w3.org/2000/svg"><path d="[PATH]"/></svg>',svgMultiplePath:'<svg class="fr-svg" focusable="false" viewBox="[VIEWBOX]" xmlns="http://www.w3.org/2000/svg">[PATHS]</svg>',empty:" "},ve.ICONS={bold:{NAME:"bold",SVG_KEY:"bold"},italic:{NAME:"italic",SVG_KEY:"italic"},underline:{NAME:"underline",SVG_KEY:"underline"},strikeThrough:{NAME:"strikethrough",SVG_KEY:"strikeThrough"},subscript:{NAME:"subscript",SVG_KEY:"subscript"},superscript:{NAME:"superscript",SVG_KEY:"superscript"},cancel:{NAME:"cancel",SVG_KEY:"cancel"},color:{NAME:"tint",SVG_KEY:"textColor"},outdent:{NAME:"outdent",SVG_KEY:"outdent"},indent:{NAME:"indent",SVG_KEY:"indent"},undo:{NAME:"rotate-left",FA5NAME:"undo",SVG_KEY:"undo"},redo:{NAME:"rotate-right",FA5NAME:"redo",SVG_KEY:"redo"},insert:{NAME:"insert",SVG_KEY:"insert"},insertAll:{NAME:"insertAll",SVG_KEY:"insertAll"},insertHR:{NAME:"minus",SVG_KEY:"horizontalLine"},clearFormatting:{NAME:"eraser",SVG_KEY:"clearFormatting"},selectAll:{NAME:"mouse-pointer",SVG_KEY:"selectAll"},minimize:{NAME:"minimize",SVG_KEY:"minimize"},moreText:{NAME:"ellipsis-v",SVG_KEY:"textMore"},moreParagraph:{NAME:"ellipsis-v",SVG_KEY:"paragraphMore"},moreRich:{NAME:"ellipsis-v",SVG_KEY:"insertMore"},moreMisc:{NAME:"ellipsis-v",SVG_KEY:"more"}},ve.DefineIconTemplate=function(a,p){ve.ICON_TEMPLATES[a]=p},ve.DefineIcon=function(a,p){ve.ICONS[a]=p},Object.assign(ve.DEFAULTS,{iconsTemplate:"svg"}),ve.MODULES.icon=function(a){return{create:function(M){var L=null,A=ve.ICONS[M];if(A!==void 0){var O=A.template||ve.ICON_DEFAULT_TEMPLATE||a.opts.iconsTemplate;O&&O.apply&&(O=O.apply(a)),A.FA5NAME||(A.FA5NAME=A.NAME),O!=="svg"||A.PATH||(A.PATH=ve.SVG[A.SVG_KEY]||""),O&&(O=ve.ICON_TEMPLATES[O])&&(L=O.replace(/\[([a-zA-Z0-9]*)\]/g,function(z,Q){return Q==="NAME"?A[Q]||M:Q==="VIEWBOX"?A[Q]||"0 0 24 24":A[Q]}))}return L||M},getTemplate:function(M){var L=ve.ICONS[M],A=a.opts.iconsTemplate;return L!==void 0?A=L.template||ve.ICON_DEFAULT_TEMPLATE||a.opts.iconsTemplate:A},getFileIcon:function(M){var L=ve.FILEICONS[M];return L!==void 0?L:M}}},ve.SVG={imageTransformations:"M3 5.8h2.8V3H3v2.8Zm0 7.6h2.8v-2.8H3v2.8Zm15.2 0H21v-2.8h-2.8v2.8Zm-7.6-7.6h2.8V3h-2.8v2.8Zm0 14.2h2.8v-2.8h-2.8V20ZM3 20h2.8v-2.8H3V20ZM18.2 5.8H21V3h-2.8v2.8Zm0 14.2H21v-2.8h-2.8V20ZM6.8 4.9h2.8V4H6.8v.9Zm0 14.2h2.8v-.9H6.8v.9Zm7.6-14.2h2.8V4h-2.8v.9Zm0 14.2h2.8v-.9h-2.8v.9ZM3.9 9.6h.9V6.8h-.9v2.8Zm15.2 0h.9V6.8h-.9v2.8ZM3.9 16.2h.9v-1.9h-.9v1.9Zm15.2 0h.9v-1.9h-.9v1.9ZM15.8 14l-2.2 2.3V14h2.2Zm0-6.8v6.2H15V8H9v7.3h4.1v.9H8.2v-9h7.6Zm-4.3 5.3v.8h-.8v-.8h.8Zm1.3-1.4v.8h-2.2v-.8h2.2Zm.6-1.5v.8h-2.7v-.8h2.7Z",filestackIcon:"M19 16.5 15 21v-4.5h4Zm0-1.125h-1.5V4.687h-11v14.625l7.5.001V21H5V3h14v12.375Zm-8-1.687v1.687H9.5v-1.687H11Zm2.5-2.813v1.687h-4v-1.687h4Zm1-2.813v1.687h-5V8.062h5Z",add:"M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6V13z",advancedImageEditor:"M3,17v2h6v-2H3z M3,5v2h10V5H3z M13,21v-2h8v-2h-8v-2h-2v6H13z M7,9v2H3v2h4v2h2V9H7z M21,13v-2H11v2H21z M15,9h2V7h4V5h-4  V3h-2V9z",alignCenter:"M9,18h6v-2H9V18z M6,11v2h12v-2H6z M3,6v2h18V6H3z",alignJustify:"M3,18h18v-2H3V18z M3,11v2h18v-2H3z M3,6v2h18V6H3z",alignLeft:"M3,18h6v-2H3V18z M3,11v2h12v-2H3z M3,6v2h18V6H3z",alignRight:"M15,18h6v-2h-6V18z M9,11v2h12v-2H9z M3,6v2h18V6H3z",anchors:"M16,4h-4H8C6.9,4,6,4.9,6,6v4v10l6-2.6l6,2.6V10V6C18,4.9,17.1,4,16,4z M16,17l-4-1.8L8,17v-7V6h4h4v4V17z",autoplay:"M 7.570312 0.292969 C 7.542969 0.292969 7.515625 0.292969 7.488281 0.296875 C 7.203125 0.324219 6.984375 0.539062 6.980469 0.792969 L 6.925781 3.535156 C 2.796875 3.808594 -0.0078125 6.425781 -0.0859375 10.09375 C -0.121094 11.96875 0.710938 13.6875 2.265625 14.921875 C 3.769531 16.117188 5.839844 16.796875 8.097656 16.828125 C 8.140625 16.828125 12.835938 16.898438 13.035156 16.886719 C 15.171875 16.796875 17.136719 16.128906 18.558594 15.003906 C 20.066406 13.816406 20.882812 12.226562 20.917969 10.40625 C 20.960938 8.410156 20.023438 6.605469 18.289062 5.335938 C 18.214844 5.277344 18.128906 5.230469 18.035156 5.203125 C 17.636719 5.074219 17.222656 5.199219 17 5.476562 L 15.546875 7.308594 C 15.304688 7.609375 15.363281 8.007812 15.664062 8.265625 C 16.351562 8.851562 16.707031 9.625 16.6875 10.5 C 16.652344 12.25 15.070312 13.390625 12.757812 13.535156 C 12.59375 13.539062 8.527344 13.472656 8.164062 13.464844 C 5.703125 13.429688 4.101562 12.191406 4.140625 10.3125 C 4.175781 8.570312 5.132812 7.46875 6.847656 7.199219 L 6.796875 9.738281 C 6.792969 9.992188 7 10.214844 7.285156 10.253906 C 7.3125 10.257812 7.339844 10.257812 7.367188 10.257812 C 7.503906 10.261719 7.632812 10.222656 7.738281 10.148438 L 14.039062 5.785156 C 14.171875 5.691406 14.253906 5.558594 14.253906 5.410156 C 14.257812 5.261719 14.1875 5.125 14.058594 5.027344 L 7.941406 0.414062 C 7.835938 0.335938 7.707031 0.292969 7.570312 0.292969 ",back:"M20 11L7.83 11 11.425 7.405 10.01 5.991 5.416 10.586 5.414 10.584 4 11.998 4.002 12 4 12.002 5.414 13.416 5.416 13.414 10.01 18.009 11.425 16.595 7.83 13 20 13 20 13 20 11 20 11Z",backgroundColor:"M9.91752,12.24082l7.74791-5.39017,1.17942,1.29591-6.094,7.20747L9.91752,12.24082M7.58741,12.652l4.53533,4.98327a.93412.93412,0,0,0,1.39531-.0909L20.96943,8.7314A.90827.90827,0,0,0,20.99075,7.533l-2.513-2.76116a.90827.90827,0,0,0-1.19509-.09132L7.809,11.27135A.93412.93412,0,0,0,7.58741,12.652ZM2.7939,18.52772,8.41126,19.5l1.47913-1.34617-3.02889-3.328Z",blockquote:"M10.31788,5l.93817,1.3226A12.88271,12.88271,0,0,0,8.1653,9.40125a5.54242,5.54242,0,0,0-.998,3.07866v.33733q.36089-.04773.66067-.084a4.75723,4.75723,0,0,1,.56519-.03691,2.87044,2.87044,0,0,1,2.11693.8427,2.8416,2.8416,0,0,1,.8427,2.09274,3.37183,3.37183,0,0,1-.8898,2.453A3.143,3.143,0,0,1,8.10547,19,3.40532,3.40532,0,0,1,5.375,17.7245,4.91156,4.91156,0,0,1,4.30442,14.453,9.3672,9.3672,0,0,1,5.82051,9.32933,14.75716,14.75716,0,0,1,10.31788,5Zm8.39243,0,.9369,1.3226a12.88289,12.88289,0,0,0-3.09075,3.07865,5.54241,5.54241,0,0,0-.998,3.07866v.33733q.33606-.04773.63775-.084a4.91773,4.91773,0,0,1,.58938-.03691,2.8043,2.8043,0,0,1,2.1042.83,2.89952,2.89952,0,0,1,.80578,2.10547,3.42336,3.42336,0,0,1-.86561,2.453A3.06291,3.06291,0,0,1,16.49664,19,3.47924,3.47924,0,0,1,13.742,17.7245,4.846,4.846,0,0,1,12.64721,14.453,9.25867,9.25867,0,0,1,14.17476,9.3898,15.26076,15.26076,0,0,1,18.71031,5Z",bold:"M15.25,11.8h0A3.68,3.68,0,0,0,17,9a3.93,3.93,0,0,0-3.86-4H6.65V19h7a3.74,3.74,0,0,0,3.7-3.78V15.1A3.64,3.64,0,0,0,15.25,11.8ZM8.65,7h4.2a2.09,2.09,0,0,1,2,1.3,2.09,2.09,0,0,1-1.37,2.61,2.23,2.23,0,0,1-.63.09H8.65Zm4.6,10H8.65V13h4.6a2.09,2.09,0,0,1,2,1.3,2.09,2.09,0,0,1-1.37,2.61A2.23,2.23,0,0,1,13.25,17Z",cancel:"M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z",cellBackground:"M16.6,12.4L7.6,3.5L6.2,4.9l2.4,2.4l-5.2,5.2c-0.6,0.6-0.6,1.5,0,2.1l5.5,5.5c0.3,0.3,0.7,0.4,1.1,0.4s0.8-0.1,1.1-0.4  l5.5-5.5C17.2,14,17.2,13,16.6,12.4z M5.2,13.5L10,8.7l4.8,4.8H5.2z M19,15c0,0-2,2.2-2,3.5c0,1.1,0.9,2,2,2s2-0.9,2-2  C21,17.2,19,15,19,15z",cellBorderColor:"M22,22H2v2h20V22z",cellOptions:"M20,5H4C2.9,5,2,5.9,2,7v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M9.5,6.5h5V9h-5V6.5z M8,17.5H4  c-0.3,0-0.5-0.2-0.5-0.4c0,0,0,0,0,0V17v-2H8V17.5z M8,13.5H3.5v-3H8V13.5z M8,9H3.5V7c0-0.3,0.2-0.5,0.4-0.5c0,0,0,0,0,0H8V9z   M14.5,17.5h-5V15h5V17.5z M20.5,17c0,0.3-0.2,0.5-0.4,0.5c0,0,0,0,0,0H16V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M20.5,9H16V6.5h4  c0.3,0,0.5,0.2,0.5,0.4c0,0,0,0,0,0V9z",cellStyle:"M20,19.9l0.9,3.6l-3.2-1.9l-3.3,1.9l0.8-3.6L12.3,17h3.8l1.7-3.5l1.4,3.5H23L20,19.9z M20,5H4C2.9,5,2,5.9,2,7v10  c0,1.1,0.9,2,2,2h7.5l-0.6-0.6L10,17.5H9.5V15h5.4l1.1-2.3v-2.2h4.5v3H20l0.6,1.5H22V7C22,5.9,21.1,5,20,5z M3.5,7  c0-0.3,0.2-0.5,0.4-0.5c0,0,0,0,0.1,0h4V9H3.5V7z M3.5,10.5H8v3H3.5V10.5z M4,17.5c-0.3,0-0.5-0.2-0.5-0.4c0,0,0,0,0-0.1v-2H8v2.5H4  z M14.5,9h-5V6.5h5V9z M20.5,9H16V6.5h4c0.3,0,0.5,0.2,0.5,0.4c0,0,0,0,0,0.1V9z",clearFormatting:"M11.48,10.09l-1.2-1.21L8.8,7.41,6.43,5,5.37,6.1,8.25,9,4.66,19h2l1.43-4h5.14l1.43,4h2l-.89-2.51L18.27,19l1.07-1.06L14.59,13.2ZM8.8,13l.92-2.56L12.27,13Zm.56-7.15L9.66,5h2l1.75,4.9Z",close:"M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z",codeView:"M9.4,16.6,4.8,12,9.4,7.4,8,6,2,12l6,6Zm5.2,0L19.2,12,14.6,7.4,16,6l6,6-6,6Z",cogs:"M18.877 12.907a6.459 6.459 0 0 0 0 -1.814l1.952 -1.526a0.468 0.468 0 0 0 0.111 -0.593l-1.851 -3.2a0.461 0.461 0 0 0 -0.407 -0.231 0.421 0.421 0 0 0 -0.157 0.028l-2.3 0.925a6.755 6.755 0 0 0 -1.563 -0.907l-0.352 -2.452a0.451 0.451 0 0 0 -0.453 -0.388h-3.7a0.451 0.451 0 0 0 -0.454 0.388L9.347 5.588A7.077 7.077 0 0 0 7.783 6.5l-2.3 -0.925a0.508 0.508 0 0 0 -0.166 -0.028 0.457 0.457 0 0 0 -0.4 0.231l-1.851 3.2a0.457 0.457 0 0 0 0.111 0.593l1.952 1.526A7.348 7.348 0 0 0 5.063 12a7.348 7.348 0 0 0 0.064 0.907L3.175 14.433a0.468 0.468 0 0 0 -0.111 0.593l1.851 3.2a0.461 0.461 0 0 0 0.407 0.231 0.421 0.421 0 0 0 0.157 -0.028l2.3 -0.925a6.74 6.74 0 0 0 1.564 0.907L9.7 20.864a0.451 0.451 0 0 0 0.454 0.388h3.7a0.451 0.451 0 0 0 0.453 -0.388l0.352 -2.452a7.093 7.093 0 0 0 1.563 -0.907l2.3 0.925a0.513 0.513 0 0 0 0.167 0.028 0.457 0.457 0 0 0 0.4 -0.231l1.851 -3.2a0.468 0.468 0 0 0 -0.111 -0.593Zm-0.09 2.029l-0.854 1.476 -2.117 -0.852 -0.673 0.508a5.426 5.426 0 0 1 -1.164 0.679l-0.795 0.323 -0.33 2.269h-1.7l-0.32 -2.269 -0.793 -0.322a5.3 5.3 0 0 1 -1.147 -0.662L8.2 15.56l-2.133 0.86 -0.854 -1.475 1.806 -1.411 -0.1 -0.847c-0.028 -0.292 -0.046 -0.5 -0.046 -0.687s0.018 -0.4 0.045 -0.672l0.106 -0.854L5.217 9.064l0.854 -1.475 2.117 0.851 0.673 -0.508a5.426 5.426 0 0 1 1.164 -0.679l0.8 -0.323 0.331 -2.269h1.7l0.321 2.269 0.792 0.322a5.3 5.3 0 0 1 1.148 0.661l0.684 0.526 2.133 -0.859 0.853 1.473 -1.8 1.421 0.1 0.847a5 5 0 0 1 0.046 0.679c0 0.193 -0.018 0.4 -0.045 0.672l-0.106 0.853ZM12 14.544A2.544 2.544 0 1 1 14.546 12 2.552 2.552 0 0 1 12 14.544Z",columns:"M20,5H4C2.9,5,2,5.9,2,7v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M8,17.5H4c-0.3,0-0.5-0.2-0.5-0.4  c0,0,0,0,0,0V17v-2H8V17.5z M8,13.5H3.5v-3H8V13.5z M8,9H3.5V7c0-0.3,0.2-0.5,0.4-0.5c0,0,0,0,0,0H8V9z M20.5,17  c0,0.3-0.2,0.5-0.4,0.5c0,0,0,0,0,0H16V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M20.5,9H16V6.5h4c0.3,0,0.5,0.2,0.5,0.4c0,0,0,0,0,0  V9z",edit:"M17,11.2L12.8,7L5,14.8V19h4.2L17,11.2z M7,16.8v-1.5l5.6-5.6l1.4,1.5l-5.6,5.6H7z M13.5,6.3l0.7-0.7c0.8-0.8,2.1-0.8,2.8,0  c0,0,0,0,0,0L18.4,7c0.8,0.8,0.8,2,0,2.8l-0.7,0.7L13.5,6.3z",exitFullscreen:"M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z",fileInsert:"M 8.09375 12.75 L 5.90625 12.75 C 5.542969 12.75 5.25 12.394531 5.25 11.953125 L 5.25 6.375 L 2.851562 6.375 C 2.367188 6.375 2.121094 5.660156 2.464844 5.242188 L 6.625 0.1875 C 6.832031 -0.0585938 7.167969 -0.0585938 7.371094 0.1875 L 11.535156 5.242188 C 11.878906 5.660156 11.632812 6.375 11.148438 6.375 L 8.75 6.375 L 8.75 11.953125 C 8.75 12.394531 8.457031 12.75 8.09375 12.75 Z M 14 12.484375 L 14 16.203125 C 14 16.644531 13.707031 17 13.34375 17 L 0.65625 17 C 0.292969 17 0 16.644531 0 16.203125 L 0 12.484375 C 0 12.042969 0.292969 11.6875 0.65625 11.6875 L 4.375 11.6875 L 4.375 11.953125 C 4.375 12.980469 5.0625 13.8125 5.90625 13.8125 L 8.09375 13.8125 C 8.9375 13.8125 9.625 12.980469 9.625 11.953125 L 9.625 11.6875 L 13.34375 11.6875 C 13.707031 11.6875 14 12.042969 14 12.484375 Z M 10.609375 15.40625 C 10.609375 15.039062 10.363281 14.742188 10.0625 14.742188 C 9.761719 14.742188 9.515625 15.039062 9.515625 15.40625 C 9.515625 15.773438 9.761719 16.070312 10.0625 16.070312 C 10.363281 16.070312 10.609375 15.773438 10.609375 15.40625 Z M 12.359375 15.40625 C 12.359375 15.039062 12.113281 14.742188 11.8125 14.742188 C 11.511719 14.742188 11.265625 15.039062 11.265625 15.40625 C 11.265625 15.773438 11.511719 16.070312 11.8125 16.070312 C 12.113281 16.070312 12.359375 15.773438 12.359375 15.40625 Z M 12.359375 15.40625 ",fileManager:"M 0 5.625 L 20.996094 5.625 L 21 15.75 C 21 16.371094 20.410156 16.875 19.6875 16.875 L 1.3125 16.875 C 0.585938 16.875 0 16.371094 0 15.75 Z M 0 5.625 M 21 4.5 L 0 4.5 L 0 2.25 C 0 1.628906 0.585938 1.125 1.3125 1.125 L 6.921875 1.125 C 7.480469 1.125 8.015625 1.316406 8.40625 1.652344 L 9.800781 2.847656 C 10.195312 3.183594 10.730469 3.375 11.289062 3.375 L 19.6875 3.375 C 20.414062 3.375 21 3.878906 21 4.5 Z M 21 4.5",markdown:"M5.55006 17.75V7.35L8.96006 16.89H10.7101L14.2301 7.37V14.0729C14.3951 14.1551 14.5499 14.265 14.6875 14.4026L14.7001 14.4151V11.64C14.7001 10.8583 15.2127 10.1963 15.9201 9.97171V5H13.6801L10.0401 14.86L6.51006 5H4.00006V17.75H5.55006ZM17.2001 11.64C17.2001 11.2258 16.8643 10.89 16.4501 10.89C16.0359 10.89 15.7001 11.2258 15.7001 11.64V16.8294L13.9804 15.1097C13.6875 14.8168 13.2126 14.8168 12.9197 15.1097C12.6269 15.4026 12.6269 15.8775 12.9197 16.1703L15.9197 19.1703C16.2126 19.4632 16.6875 19.4632 16.9804 19.1703L19.9804 16.1703C20.2733 15.8775 20.2733 15.4026 19.9804 15.1097C19.6875 14.8168 19.2126 14.8168 18.9197 15.1097L17.2001 16.8294V11.64Z",fontAwesome:"M18.99018,13.98212V7.52679c-.08038-1.21875-1.33929-.683-1.33929-.683-2.933,1.39282-4.36274.61938-5.85938.15625a6.23272,6.23272,0,0,0-2.79376-.20062l-.00946.004A1.98777,1.98777,0,0,0,7.62189,5.106a.984.984,0,0,0-.17517-.05432c-.02447-.0055-.04882-.01032-.0736-.0149A.9565.9565,0,0,0,7.1908,5H6.82539a.9565.9565,0,0,0-.18232.0368c-.02472.00458-.04907.0094-.07348.01484a.985.985,0,0,0-.17523.05438,1.98585,1.98585,0,0,0-.573,3.49585v9.394A1.004,1.004,0,0,0,6.82539,19H7.1908a1.00406,1.00406,0,0,0,1.00409-1.00409V15.52234c3.64221-1.09827,5.19709.64282,7.09888.57587a5.57291,5.57291,0,0,0,3.25446-1.05805A1.2458,1.2458,0,0,0,18.99018,13.98212Z",fontFamily:"M16,19h2L13,5H11L6,19H8l1.43-4h5.14Zm-5.86-6L12,7.8,13.86,13Z",fontSize:"M20.75,19h1.5l-3-10h-1.5l-3,10h1.5L17,16.5h3Zm-3.3-4,1.05-3.5L19.55,15Zm-5.7,4h2l-5-14h-2l-5,14h2l1.43-4h5.14ZM5.89,13,7.75,7.8,9.61,13Z",fullscreen:"M7,14H5v5h5V17H7ZM5,10H7V7h3V5H5Zm12,7H14v2h5V14H17ZM14,5V7h3v3h2V5Z",help:"M11,17h2v2h-2V17z M12,5C9.8,5,8,6.8,8,9h2c0-1.1,0.9-2,2-2s2,0.9,2,2c0,2-3,1.7-3,5v1h2v-1c0-2.2,3-2.5,3-5  C16,6.8,14.2,5,12,5z",horizontalLine:"M5,12h14 M19,11H5v2h14V11z",imageAltText:"M19,7h-6v12h-2V7H5V5h6h2h6V7z",imageCaption:"M14.2,11l3.8,5H6l3-3.9l2.1,2.7L14,11H14.2z M8.5,11c0.8,0,1.5-0.7,1.5-1.5S9.3,8,8.5,8S7,8.7,7,9.5C7,10.3,7.7,11,8.5,11z   M22,6v12c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h16C21.1,4,22,4.9,22,6z M20,8.8V6H4v12h16V8.8z M22,22H2v2h20V22z",imageClass:"M9.5,13.4l-2.9-2.9h3.8L12.2,7l1.4,3.5h3.8l-3,2.9l0.9,3.6L12,15.1L8.8,17L9.5,13.4z M22,6v12c0,1.1-0.9,2-2,2H4  c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h16C21.1,4,22,4.9,22,6z M20,6H4v12h16V8.8V6z",imageDisplay:"M3,5h18v2H3V5z M13,9h8v2h-8V9z M13,13h8v2h-8V13z M3,17h18v2H3V17z M3,9h8v6H3V9z",imageManager:"M20,6h-7l-2-2H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,18H4V6h6.2l2,2H20V18z   M18,16l-3.8-5H14l-2.9,3.8L9,12.1L6,16H18z M10,9.5C10,8.7,9.3,8,8.5,8S7,8.7,7,9.5S7.7,11,8.5,11S10,10.3,10,9.5z",imageSize:"M16.9,4c-0.3,0-0.5,0.2-0.8,0.3L3.3,13c-0.9,0.6-1.1,1.9-0.5,2.8l2.2,3.3c0.4,0.7,1.2,1,2,0.8c0.3,0,0.5-0.2,0.8-0.3  L20.7,11c0.9-0.6,1.1-1.9,0.5-2.8l-2.2-3.3C18.5,4.2,17.7,3.9,16.9,4L16.9,4z M16.9,9.9L18.1,9l-2-2.9L17,5.6c0.1,0,0.1-0.1,0.2-0.1  c0.2,0,0.4,0,0.5,0.2L19.9,9c0.2,0.2,0.1,0.5-0.1,0.7L7,18.4c-0.1,0-0.1,0.1-0.2,0.1c-0.2,0-0.4,0-0.5-0.2L4.1,15  c-0.2-0.2-0.1-0.5,0.1-0.7L5,13.7l2,2.9l1.2-0.8l-2-2.9L7.5,12l1.1,1.7l1.2-0.8l-1.1-1.7l1.2-0.8l2,2.9l1.2-0.8l-2-2.9l1.2-0.8  l1.1,1.7l1.2-0.8l-1.1-1.7L14.9,7L16.9,9.9z",indent:"M3,9v6l3-3L3,9z M3,19h18v-2H3V19z M3,7h18V5H3V7z M9,11h12V9H9V11z M9,15h12v-2H9V15z",inlineClass:"M9.9,13.313A1.2,1.2,0,0,1,9.968,13H6.277l1.86-5.2,1.841,5.148A1.291,1.291,0,0,1,11.212,12h.426l-2.5-7h-2l-5,14h2l1.43-4H9.9Zm2.651,6.727a2.884,2.884,0,0,1-.655-2.018v-2.71A1.309,1.309,0,0,1,13.208,14h3.113a3.039,3.039,0,0,1,2,1.092s1.728,1.818,2.964,2.928a1.383,1.383,0,0,1,.318,1.931,1.44,1.44,0,0,1-.19.215l-3.347,3.31a1.309,1.309,0,0,1-1.832.258h0a1.282,1.282,0,0,1-.258-.257l-1.71-1.728Zm2.48-3.96a.773.773,0,1,0,.008,0Z",inlineStyle:"M11.88,15h.7l.7-1.7-3-8.3h-2l-5,14h2l1.4-4Zm-4.4-2,1.9-5.2,1.9,5.2ZM15.4,21.545l3.246,1.949-.909-3.637L20.72,17H16.954l-1.429-3.506L13.837,17H10.071l2.857,2.857-.779,3.637Z",insert:"M13.889,11.611c-0.17,0.17-0.443,0.17-0.612,0l-3.189-3.187l-3.363,3.36c-0.171,0.171-0.441,0.171-0.612,0c-0.172-0.169-0.172-0.443,0-0.611l3.667-3.669c0.17-0.17,0.445-0.172,0.614,0l3.496,3.493C14.058,11.167,14.061,11.443,13.889,11.611 M18.25,10c0,4.558-3.693,8.25-8.25,8.25c-4.557,0-8.25-3.692-8.25-8.25c0-4.557,3.693-8.25,8.25-8.25C14.557,1.75,18.25,5.443,18.25,10 M17.383,10c0-4.07-3.312-7.382-7.383-7.382S2.618,5.93,2.618,10S5.93,17.381,10,17.381S17.383,14.07,17.383,10",insertEmbed:"M20.73889,15.45929a3.4768,3.4768,0,0,0-5.45965-.28662L9.5661,12.50861a3.49811,3.49811,0,0,0-.00873-1.01331l5.72174-2.66809a3.55783,3.55783,0,1,0-.84527-1.81262L8.70966,9.6839a3.50851,3.50851,0,1,0,.0111,4.63727l5.7132,2.66412a3.49763,3.49763,0,1,0,6.30493-1.526ZM18.00745,5.01056A1.49993,1.49993,0,1,1,16.39551,6.3894,1.49994,1.49994,0,0,1,18.00745,5.01056ZM5.99237,13.49536a1.49989,1.49989,0,1,1,1.61194-1.37878A1.49982,1.49982,0,0,1,5.99237,13.49536Zm11.78211,5.494a1.49993,1.49993,0,1,1,1.61193-1.37885A1.49987,1.49987,0,0,1,17.77448,18.98932Z",insertFile:"M7,3C5.9,3,5,3.9,5,5v14c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V7.6L14.4,3H7z M17,19H7V5h6v4h4V19z",insertImage:"M14.2,11l3.8,5H6l3-3.9l2.1,2.7L14,11H14.2z M8.5,11c0.8,0,1.5-0.7,1.5-1.5S9.3,8,8.5,8S7,8.7,7,9.5C7,10.3,7.7,11,8.5,11z   M22,6v12c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h16C21.1,4,22,4.9,22,6z M20,8.8V6H4v12h16V8.8z",insertLink:"M11,17H7A5,5,0,0,1,7,7h4V9H7a3,3,0,0,0,0,6h4ZM17,7H13V9h4a3,3,0,0,1,0,6H13v2h4A5,5,0,0,0,17,7Zm-1,4H8v2h8Z",insertMore:"M16.5,13h-6v6h-2V13h-6V11h6V5h2v6h6Zm5,4.5A1.5,1.5,0,1,1,20,16,1.5,1.5,0,0,1,21.5,17.5Zm0-4A1.5,1.5,0,1,1,20,12,1.5,1.5,0,0,1,21.5,13.5Zm0-4A1.5,1.5,0,1,1,20,8,1.5,1.5,0,0,1,21.5,9.5Z",insertTable:"M20,5H4C2.9,5,2,5.9,2,7v2v1.5v3V15v2c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2v-2v-1.5v-3V9V7C22,5.9,21.1,5,20,5z M9.5,13.5v-3  h5v3H9.5z M14.5,15v2.5h-5V15H14.5z M9.5,9V6.5h5V9H9.5z M3.5,7c0-0.3,0.2-0.5,0.5-0.5h4V9H3.5V7z M3.5,10.5H8v3H3.5V10.5z M3.5,17  v-2H8v2.5H4C3.7,17.5,3.5,17.3,3.5,17z M20.5,17c0,0.3-0.2,0.5-0.5,0.5h-4V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M16,9V6.5h4  c0.3,0,0.5,0.2,0.5,0.5v2H16z",insertVideo:"M15,8v8H5V8H15m2,2.5V7a1,1,0,0,0-1-1H4A1,1,0,0,0,3,7V17a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V13.5l2.29,2.29A1,1,0,0,0,21,15.08V8.91a1,1,0,0,0-1.71-.71Z",upload:"M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z",uploadFiles:"M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z",italic:"M11.76,9h2l-2.2,10h-2Zm1.68-4a1,1,0,1,0,1,1,1,1,0,0,0-1-1Z",search:"M15.5 14h-0.79l-0.28 -0.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09 -0.59 4.23 -1.57l0.27 0.28v0.79l5 4.99L20.49 19l-4.99 -5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",lineHeight:"M6.25,7h2.5L5.25,3.5,1.75,7h2.5V17H1.75l3.5,3.5L8.75,17H6.25Zm4-2V7h12V5Zm0,14h12V17h-12Zm0-6h12V11h-12Z",linkStyles:"M19,17.9l0.9,3.6l-3.2-1.9l-3.3,1.9l0.8-3.6L11.3,15h3.8l1.7-3.5l1.4,3.5H22L19,17.9z M20,12c0,0.3-0.1,0.7-0.2,1h2.1  c0.1-0.3,0.1-0.6,0.1-1c0-2.8-2.2-5-5-5h-4v2h4C18.7,9,20,10.3,20,12z M14.8,11H8v2h3.3h2.5L14.8,11z M9.9,16.4L8.5,15H7  c-1.7,0-3-1.3-3-3s1.3-3,3-3h4V7H7c-2.8,0-5,2.2-5,5s2.2,5,5,5h3.5L9.9,16.4z",mention:"M12.4,5c-4.1,0-7.5,3.4-7.5,7.5S8.3,20,12.4,20h3.8v-1.5h-3.8c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6v1.1  c0,0.6-0.5,1.2-1.1,1.2s-1.1-0.6-1.1-1.2v-1.1c0-2.1-1.7-3.8-3.8-3.8s-3.7,1.7-3.7,3.8s1.7,3.8,3.8,3.8c1,0,2-0.4,2.7-1.1  c0.5,0.7,1.3,1.1,2.2,1.1c1.5,0,2.6-1.2,2.6-2.7v-1.1C19.9,8.4,16.6,5,12.4,5z M12.4,14.7c-1.2,0-2.3-1-2.3-2.2s1-2.3,2.3-2.3  s2.3,1,2.3,2.3S13.6,14.7,12.4,14.7z",minimize:"M5,12h14 M19,11H5v2h14V11z",more:"M13.5,17c0,0.8-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5S13.5,16.2,13.5,17z M13.5,12c0,0.8-0.7,1.5-1.5,1.5 s-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5S13.5,11.2,13.5,12z M13.5,7c0,0.8-0.7,1.5-1.5,1.5S10.5,7.8,10.5,7s0.7-1.5,1.5-1.5 S13.5,6.2,13.5,7z",openLink:"M17,17H7V7h3V5H7C6,5,5,6,5,7v10c0,1,1,2,2,2h10c1,0,2-1,2-2v-3h-2V17z M14,5v2h1.6l-5.8,5.8l1.4,1.4L17,8.4V10h2V5H14z",orderedList:"M2.5,16h2v.5h-1v1h1V18h-2v1h3V15h-3Zm1-7h1V5h-2V6h1Zm-1,2H4.3L2.5,13.1V14h3V13H3.7l1.8-2.1V10h-3Zm5-5V8h14V6Zm0,12h14V16H7.5Zm0-5h14V11H7.5Z",outdent:"M3,12l3,3V9L3,12z M3,19h18v-2H3V19z M3,7h18V5H3V7z M9,11h12V9H9V11z M9,15h12v-2H9V15z",pageBreaker:"M3,9v6l3-3L3,9z M21,9H8V4h2v3h9V4h2V9z M21,20h-2v-3h-9v3H8v-5h13V20z M11,13H8v-2h3V13z M16,13h-3v-2h3V13z M21,13h-3v-2  h3V13z",paragraphFormat:"M10.15,5A4.11,4.11,0,0,0,6.08,8.18,4,4,0,0,0,10,13v6h2V7h2V19h2V7h2V5ZM8,9a2,2,0,0,1,2-2v4A2,2,0,0,1,8,9Z",paragraphMore:"M7.682,5a4.11,4.11,0,0,0-4.07,3.18,4,4,0,0,0,3.11,4.725h0l.027.005a3.766,3.766,0,0,0,.82.09v6h2V7h2V19h2V7h2V5ZM5.532,9a2,2,0,0,1,2-2v4A2,2,0,0,1,5.532,9Zm14.94,8.491a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.472,17.491Zm0-4a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.472,13.491Zm0-4a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.472,9.491Z",paragraphStyle:"M4,9c0-1.1,0.9-2,2-2v4C4.9,11,4,10.1,4,9z M16.7,20.5l3.2,1.9L19,18.8l3-2.9h-3.7l-1.4-3.5L15.3,16h-3.8l2.9,2.9l-0.9,3.6  L16.7,20.5z M10,17.4V19h1.6L10,17.4z M6.1,5c-1.9,0-3.6,1.3-4,3.2c-0.5,2.1,0.8,4.2,2.9,4.7c0,0,0,0,0,0h0.2C5.5,13,5.8,13,6,13v6  h2V7h2v7h2V7h2V5H6.1z",pdfExport:"M7,3C5.9,3,5,3.9,5,5v14c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V7.6L14.4,3H7z M17,19H7V5h6v4h4V19z M16.3,13.5  c-0.2-0.6-1.1-0.8-2.6-0.8c-0.1,0-0.1,0-0.2,0c-0.3-0.3-0.8-0.9-1-1.2c-0.2-0.2-0.3-0.3-0.4-0.6c0.2-0.7,0.2-1,0.3-1.5  c0.1-0.9,0-1.6-0.2-1.8c-0.4-0.2-0.7-0.2-0.9-0.2c-0.1,0-0.3,0.2-0.7,0.7c-0.2,0.7-0.1,1.8,0.6,2.8c-0.2,0.8-0.7,1.6-1,2.4  c-0.8,0.2-1.5,0.7-1.9,1.1c-0.7,0.7-0.9,1.1-0.7,1.6c0,0.3,0.2,0.6,0.7,0.6c0.3-0.1,0.3-0.2,0.7-0.3c0.6-0.3,1.2-1.7,1.7-2.4  c0.8-0.2,1.7-0.3,2-0.3c0.1,0,0.3,0,0.6,0c0.8,0.8,1.2,1.1,1.8,1.2c0.1,0,0.2,0,0.3,0c0.3,0,0.8-0.1,1-0.6  C16.4,14.1,16.4,13.9,16.3,13.5z M8.3,15.7c-0.1,0.1-0.2,0.1-0.2,0.1c0-0.1,0-0.3,0.6-0.8c0.2-0.2,0.6-0.3,0.9-0.7  C9,15,8.6,15.5,8.3,15.7z M11.3,9c0-0.1,0.1-0.2,0.1-0.2S11.6,9,11.5,10c0,0.1,0,0.3-0.1,0.7C11.3,10.1,11,9.5,11.3,9z M10.9,13.1  c0.2-0.6,0.6-1,0.7-1.5c0.1,0.1,0.1,0.1,0.2,0.2c0.1,0.2,0.3,0.7,0.7,0.9C12.2,12.8,11.6,13,10.9,13.1z M15.2,14.1  c-0.1,0-0.1,0-0.2,0c-0.2,0-0.7-0.2-1-0.7c1.1,0,1.6,0.2,1.6,0.6C15.5,14.1,15.4,14.1,15.2,14.1z",print:"M16.1,17c0-0.6,0.4-1,1-1c0.6,0,1,0.4,1,1s-0.4,1-1,1C16.5,18,16.1,17.6,16.1,17z M22,15v4c0,1.1-0.9,2-2,2H4  c-1.1,0-2-0.9-2-2v-4c0-1.1,0.9-2,2-2h1V5c0-1.1,0.9-2,2-2h7.4L19,7.6V13h1C21.1,13,22,13.9,22,15z M7,13h10V9h-4V5H7V13z M20,15H4  v4h16V15z",redo:"M13.6,9.4c1.7,0.3,3.2,0.9,4.6,2L21,8.5v7h-7l2.7-2.7C13,10.1,7.9,11,5.3,14.7c-0.2,0.3-0.4,0.5-0.5,0.8L3,14.6  C5.1,10.8,9.3,8.7,13.6,9.4z",removeTable:"M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z",insertAll:"M 9.25 12 L 6.75 12 C 6.335938 12 6 11.664062 6 11.25 L 6 6 L 3.257812 6 C 2.703125 6 2.425781 5.328125 2.820312 4.933594 L 7.570312 0.179688 C 7.804688 -0.0546875 8.191406 -0.0546875 8.425781 0.179688 L 13.179688 4.933594 C 13.574219 5.328125 13.296875 6 12.742188 6 L 10 6 L 10 11.25 C 10 11.664062 9.664062 12 9.25 12 Z M 16 11.75 L 16 15.25 C 16 15.664062 15.664062 16 15.25 16 L 0.75 16 C 0.335938 16 0 15.664062 0 15.25 L 0 11.75 C 0 11.335938 0.335938 11 0.75 11 L 5 11 L 5 11.25 C 5 12.214844 5.785156 13 6.75 13 L 9.25 13 C 10.214844 13 11 12.214844 11 11.25 L 11 11 L 15.25 11 C 15.664062 11 16 11.335938 16 11.75 Z M 12.125 14.5 C 12.125 14.15625 11.84375 13.875 11.5 13.875 C 11.15625 13.875 10.875 14.15625 10.875 14.5 C 10.875 14.84375 11.15625 15.125 11.5 15.125 C 11.84375 15.125 12.125 14.84375 12.125 14.5 Z M 14.125 14.5 C 14.125 14.15625 13.84375 13.875 13.5 13.875 C 13.15625 13.875 12.875 14.15625 12.875 14.5 C 12.875 14.84375 13.15625 15.125 13.5 15.125 C 13.84375 15.125 14.125 14.84375 14.125 14.5 Z M 14.125 14.5 ",remove:"M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z",replaceImage:"M16,5v3H4v2h12v3l4-4L16,5z M8,19v-3h12v-2H8v-3l-4,4L8,19z",row:"M20,5H4C2.9,5,2,5.9,2,7v2v1.5v3V15v2c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2v-2v-1.5v-3V9V7C22,5.9,21.1,5,20,5z M16,6.5h4  c0.3,0,0.5,0.2,0.5,0.5v2H16V6.5z M9.5,6.5h5V9h-5V6.5z M3.5,7c0-0.3,0.2-0.5,0.5-0.5h4V9H3.5V7z M8,17.5H4c-0.3,0-0.5-0.2-0.5-0.5  v-2H8V17.5z M14.5,17.5h-5V15h5V17.5z M20.5,17c0,0.3-0.2,0.5-0.5,0.5h-4V15h4.5V17z",selectAll:"M5,7h2V5C5.9,5,5,5.9,5,7z M5,11h2V9H5V11z M9,19h2v-2H9V19z M5,11h2V9H5V11z M15,5h-2v2h2V5z M17,5v2h2C19,5.9,18.1,5,17,5  z M7,19v-2H5C5,18.1,5.9,19,7,19z M5,15h2v-2H5V15z M11,5H9v2h2V5z M13,19h2v-2h-2V19z M17,11h2V9h-2V11z M17,19c1.1,0,2-0.9,2-2h-2  V19z M17,11h2V9h-2V11z M17,15h2v-2h-2V15z M13,19h2v-2h-2V19z M13,7h2V5h-2V7z M9,15h6V9H9V15z M11,11h2v2h-2V11z",smile:"M11.991,3A9,9,0,1,0,21,12,8.99557,8.99557,0,0,0,11.991,3ZM12,19a7,7,0,1,1,7-7A6.99808,6.99808,0,0,1,12,19Zm3.105-5.2h1.503a4.94542,4.94542,0,0,1-9.216,0H8.895a3.57808,3.57808,0,0,0,6.21,0ZM7.5,9.75A1.35,1.35,0,1,1,8.85,11.1,1.35,1.35,0,0,1,7.5,9.75Zm6.3,0a1.35,1.35,0,1,1,1.35,1.35A1.35,1.35,0,0,1,13.8,9.75Z",spellcheck:"M19.1,13.6l-5.6,5.6l-2.7-2.7l-1.4,1.4l4.1,4.1l7-7L19.1,13.6z M10.8,13.7l2.7,2.7l0.8-0.8L10.5,5h-2l-5,14h2l1.4-4h2.6  L10.8,13.7z M9.5,7.8l1.9,5.2H7.6L9.5,7.8z",star:"M12.1,7.7l1,2.5l0.4,0.9h1h2.4l-2.1,2l-0.6,0.6l0.2,0.9l0.6,2.3l-2.2-1.3L12,15.2l-0.8,0.5L9,17l0.5-2.5l0.1-0.8L9,13.1  l-2-2h2.5h0.9l0.4-0.8L12.1,7.7 M12.2,4L9.5,9.6H3.4L8,14.2L6.9,20l5.1-3.1l5.3,3.1l-1.5-5.8l4.8-4.6h-6.1L12.2,4L12.2,4z",strikeThrough:"M3,12.20294H21v1.5H16.63422a3.59782,3.59782,0,0,1,.34942,1.5929,3.252,3.252,0,0,1-1.31427,2.6997A5.55082,5.55082,0,0,1,12.20251,19a6.4421,6.4421,0,0,1-2.62335-.539,4.46335,4.46335,0,0,1-1.89264-1.48816,3.668,3.668,0,0,1-.67016-2.15546V14.704h.28723v-.0011h.34149v.0011H9.02v.11334a2.18275,2.18275,0,0,0,.85413,1.83069,3.69,3.69,0,0,0,2.32836.67926,3.38778,3.38778,0,0,0,2.07666-.5462,1.73346,1.73346,0,0,0,.7013-1.46655,1.69749,1.69749,0,0,0-.647-1.43439,3.00525,3.00525,0,0,0-.27491-.17725H3ZM16.34473,7.05981A4.18163,4.18163,0,0,0,14.6236,5.5462,5.627,5.627,0,0,0,12.11072,5,5.16083,5.16083,0,0,0,8.74719,6.06213,3.36315,3.36315,0,0,0,7.44006,8.76855a3.22923,3.22923,0,0,0,.3216,1.42786h2.59668c-.08338-.05365-.18537-.10577-.25269-.16064a1.60652,1.60652,0,0,1-.65283-1.30036,1.79843,1.79843,0,0,1,.68842-1.5108,3.12971,3.12971,0,0,1,1.96948-.55243,3.04779,3.04779,0,0,1,2.106.6687,2.35066,2.35066,0,0,1,.736,1.83258v.11341h2.00317V9.17346A3.90013,3.90013,0,0,0,16.34473,7.05981Z",subscript:"M10.4,12l3.6,3.6L12.6,17L9,13.4L5.4,17L4,15.6L7.6,12L4,8.4L5.4,7L9,10.6L12.6,7L14,8.4L10.4,12z M18.31234,19.674  l1.06812-1.1465c0.196-0.20141,0.37093-0.40739,0.5368-0.6088c0.15975-0.19418,0.30419-0.40046,0.432-0.617  c0.11969-0.20017,0.21776-0.41249,0.29255-0.6334c0.07103-0.21492,0.10703-0.43986,0.10662-0.66621  c0.00297-0.28137-0.04904-0.56062-0.1531-0.82206c-0.09855-0.24575-0.25264-0.46534-0.45022-0.6416  c-0.20984-0.18355-0.45523-0.32191-0.72089-0.40646c-0.63808-0.19005-1.3198-0.17443-1.94851,0.04465  c-0.28703,0.10845-0.54746,0.2772-0.76372,0.49487c-0.20881,0.20858-0.37069,0.45932-0.47483,0.73548  c-0.10002,0.26648-0.15276,0.54838-0.15585,0.833l-0.00364,0.237H17.617l0.00638-0.22692  c0.00158-0.12667,0.01966-0.25258,0.05377-0.37458c0.03337-0.10708,0.08655-0.20693,0.15679-0.29437  c0.07105-0.08037,0.15959-0.14335,0.25882-0.1841c0.22459-0.08899,0.47371-0.09417,0.7018-0.01458  c0.0822,0.03608,0.15559,0.08957,0.21509,0.15679c0.06076,0.07174,0.10745,0.15429,0.13761,0.24333  c0.03567,0.10824,0.05412,0.22141,0.05469,0.33538c-0.00111,0.08959-0.0118,0.17881-0.0319,0.26612  c-0.02913,0.10428-0.07076,0.20465-0.124,0.29893c-0.07733,0.13621-0.1654,0.26603-0.26338,0.38823  c-0.13438,0.17465-0.27767,0.34226-0.42929,0.50217l-2.15634,2.35315V21H21v-1.326H18.31234z",superscript:"M10.4,12,14,15.6,12.6,17,9,13.4,5.4,17,4,15.6,7.6,12,4,8.4,5.4,7,9,10.6,12.6,7,14,8.4Zm8.91234-3.326,1.06812-1.1465c.196-.20141.37093-.40739.5368-.6088a4.85745,4.85745,0,0,0,.432-.617,3.29,3.29,0,0,0,.29255-.6334,2.11079,2.11079,0,0,0,.10662-.66621,2.16127,2.16127,0,0,0-.1531-.82206,1.7154,1.7154,0,0,0-.45022-.6416,2.03,2.03,0,0,0-.72089-.40646,3.17085,3.17085,0,0,0-1.94851.04465,2.14555,2.14555,0,0,0-.76372.49487,2.07379,2.07379,0,0,0-.47483.73548,2.446,2.446,0,0,0-.15585.833l-.00364.237H18.617L18.62338,5.25a1.45865,1.45865,0,0,1,.05377-.37458.89552.89552,0,0,1,.15679-.29437.70083.70083,0,0,1,.25882-.1841,1.00569,1.00569,0,0,1,.7018-.01458.62014.62014,0,0,1,.21509.15679.74752.74752,0,0,1,.13761.24333,1.08893,1.08893,0,0,1,.05469.33538,1.25556,1.25556,0,0,1-.0319.26612,1.34227,1.34227,0,0,1-.124.29893,2.94367,2.94367,0,0,1-.26338.38823,6.41629,6.41629,0,0,1-.42929.50217L17.19709,8.92642V10H22V8.674Z",symbols:"M15.77493,16.98885a8.21343,8.21343,0,0,0,1.96753-2.57651,7.34824,7.34824,0,0,0,.6034-3.07618A6.09092,6.09092,0,0,0,11.99515,5a6.13347,6.13347,0,0,0-4.585,1.79187,6.417,6.417,0,0,0-1.756,4.69207,6.93955,6.93955,0,0,0,.622,2.97415,8.06587,8.06587,0,0,0,1.949,2.53076H5.41452V19h5.54114v-.04331h-.00147V16.84107a5.82825,5.82825,0,0,1-2.2052-2.2352A6.40513,6.40513,0,0,1,7.97672,11.447,4.68548,4.68548,0,0,1,9.07785,8.19191a3.73232,3.73232,0,0,1,2.9173-1.22462,3.76839,3.76839,0,0,1,2.91241,1.21489,4.482,4.482,0,0,1,1.11572,3.154,6.71141,6.71141,0,0,1-.75384,3.24732,5.83562,5.83562,0,0,1-2.22357,2.25759v2.11562H13.0444V19h5.54108V16.98885Z",tags:"M8.9749 7.47489a1.5 1.5 0 1 1 -1.5 1.5A1.5 1.5 0 0 1 8.9749 7.47489Zm3.78866 -3.12713L16.5362 8.12041l0.33565 0.33564 2.77038 2.77038a2.01988 2.01988 0 0 1 0.59 1.42 1.95518 1.95518 0 0 1 -0.5854 1.40455l0.00044 0.00043 -5.59583 5.59583 -0.00043 -0.00044a1.95518 1.95518 0 0 1 -1.40455 0.5854 1.98762 1.98762 0 0 1 -1.41 -0.58L8.45605 16.87185l-0.33564 -0.33565L4.35777 12.77357a1.99576 1.99576 0 0 1 -0.59 -1.42V9.36358l0 -3.59582a2.00579 2.00579 0 0 1 2 -2l3.59582 0h1.98995A1.98762 1.98762 0 0 1 12.76356 4.34776ZM15.46186 9.866l-0.33564 -0.33564L11.36359 5.76776H5.76776v5.59583L9.866 15.46186l2.7794 2.7794 5.5878 -5.60385 -0.001 -0.001Z",tableHeader:"M20,5H4C2.9,5,2,5.9,2,7v10c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V7C22,5.9,21.1,5,20,5z M8,17.5H4c-0.3,0-0.5-0.2-0.5-0.4  l0,0V17v-2H8V17.5z M8,13.5H3.5v-3H8V13.5z M14.5,17.5h-5V15h5V17.5z M14.5,13.5h-5v-3h5V13.5z M20.5,17c0,0.3-0.2,0.5-0.4,0.5l0,0  H16V15h4.5V17z M20.5,13.5H16v-3h4.5V13.5z M20.5,9h-4.4H16h-1.5h-5H8H7.9H3.5V7c0-0.3,0.2-0.5,0.4-0.5l0,0h4l0,0h8.2l0,0H20  c0.3,0,0.5,0.2,0.5,0.4l0,0V9z",tableFooter:"M20,19H4a2.006,2.006,0,0,1-2-2V7A2.006,2.006,0,0,1,4,5H20a2.006,2.006,0,0,1,2,2V17A2.006,2.006,0,0,1,20,19ZM8,6.5H4a.458.458,0,0,0-.5.4h0V9H8Zm0,4H3.5v3H8Zm6.5-4h-5V9h5Zm0,4h-5v3h5Zm6-3.5a.458.458,0,0,0-.4-.5H16V9h4.5Zm0,3.5H16v3h4.5Zm0,4.5H3.5v2a.458.458,0,0,0,.4.5H20a.458.458,0,0,0,.5-.4h0Z",tableStyle:"M20.0171,19.89752l.9,3.6-3.2-1.9-3.3,1.9.8-3.6-2.9-2.9h3.8l1.7-3.5,1.4,3.5h3.8ZM20,5H4A2.00591,2.00591,0,0,0,2,7V17a2.00591,2.00591,0,0,0,2,2h7.49115l-.58826-.58826L9.99115,17.5H9.5V14.9975h5.36511L16,12.66089V10.5h4.5v3h-.52783l.599,1.4975H22V7A2.00591,2.00591,0,0,0,20,5ZM3.5,7A.4724.4724,0,0,1,4,6.5H8V9H3.5Zm0,3.5H8v3H3.5Zm.5,7a.4724.4724,0,0,1-.5-.5V15H8v2.5Zm10.5-4h-5v-3h5Zm0-4.5h-5V6.5h5Zm6,0H16V6.5h4a.4724.4724,0,0,1,.5.5Z",textColor:"M15.2,13.494s-3.6,3.9-3.6,6.3a3.65,3.65,0,0,0,7.3.1v-.1C18.9,17.394,15.2,13.494,15.2,13.494Zm-1.47-1.357.669-.724L12.1,5h-2l-5,14h2l1.43-4h2.943A24.426,24.426,0,0,1,13.726,12.137ZM11.1,7.8l1.86,5.2H9.244Z",textMore:"M13.55,19h2l-5-14h-2l-5,14h2l1.4-4h5.1Zm-5.9-6,1.9-5.2,1.9,5.2Zm12.8,4.5a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.45,17.5Zm0-4a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,20.45,13.5Zm0-4A1.5,1.5,0,1,1,18.95,8,1.5,1.5,0,0,1,20.45,9.5Z",underline:"M19,20v2H5V20Zm-3-6.785a4,4,0,0,1-5.74,3.4A3.75,3.75,0,0,1,8,13.085V5.005H6v8.21a6,6,0,0,0,8,5.44,5.851,5.851,0,0,0,4-5.65v-8H16ZM16,5v0h2V5ZM8,5H6v0H8Z",undo:"M10.4,9.4c-1.7,0.3-3.2,0.9-4.6,2L3,8.5v7h7l-2.7-2.7c3.7-2.6,8.8-1.8,11.5,1.9c0.2,0.3,0.4,0.5,0.5,0.8l1.8-0.9  C18.9,10.8,14.7,8.7,10.4,9.4z",unlink:"M14.4,11l1.6,1.6V11H14.4z M17,7h-4v1.9h4c1.7,0,3.1,1.4,3.1,3.1c0,1.3-0.8,2.4-1.9,2.8l1.4,1.4C21,15.4,22,13.8,22,12  C22,9.2,19.8,7,17,7z M2,4.3l3.1,3.1C3.3,8.1,2,9.9,2,12c0,2.8,2.2,5,5,5h4v-1.9H7c-1.7,0-3.1-1.4-3.1-3.1c0-1.6,1.2-2.9,2.8-3.1  L8.7,11H8v2h2.7l2.3,2.3V17h1.7l4,4l1.4-1.4L3.4,2.9L2,4.3z",unorderedList:"M4,10.5c-0.8,0-1.5,0.7-1.5,1.5s0.7,1.5,1.5,1.5s1.5-0.7,1.5-1.5S4.8,10.5,4,10.5z M4,5.5C3.2,5.5,2.5,6.2,2.5,7  S3.2,8.5,4,8.5S5.5,7.8,5.5,7S4.8,5.5,4,5.5z M4,15.5c-0.8,0-1.5,0.7-1.5,1.5s0.7,1.5,1.5,1.5s1.5-0.7,1.5-1.5S4.8,15.5,4,15.5z   M7.5,6v2h14V6H7.5z M7.5,18h14v-2h-14V18z M7.5,13h14v-2h-14V13z",verticalAlignBottom:"M16,13h-3V3h-2v10H8l4,4L16,13z M3,19v2h18v-2H3z",verticalAlignMiddle:"M3,11v2h18v-2H3z M8,18h3v3h2v-3h3l-4-4L8,18z M16,6h-3V3h-2v3H8l4,4L16,6z",verticalAlignTop:"M8,11h3v10h2V11h3l-4-4L8,11z M21,5V3H3v2H21z",filestackIconAdd:"M21 16.75 16.985 21v-4.25H21ZM7.154 12.5c2.294 0 4.154 1.902 4.154 4.25S9.448 21 7.154 21C4.86 21 3 19.097 3 16.75s1.86-4.25 4.154-4.25Zm8.862 6.8V21H10.24a5.283 5.283 0 0 0 1.441-1.7h4.334ZM7.46 14.093h-.614a.215.215 0 0 0-.212.218v1.907H4.77a.215.215 0 0 0-.212.218v.628c0 .12.094.217.212.217h1.865v1.908c0 .12.095.217.212.217h.614a.214.214 0 0 0 .212-.217V17.28h1.865a.214.214 0 0 0 .212-.217v-.628a.215.215 0 0 0-.212-.218H7.673v-1.907a.215.215 0 0 0-.212-.218Zm5.647-.035v1.558h-.886a5.324 5.324 0 0 0-.615-1.558h1.501ZM21 4v11.616h-1.522V5.559H8.538v6.094a5.018 5.018 0 0 0-1.384-.216V4H21Zm-5.4 7.366v1.559h-4.015v-1.559h4.016Zm.97-2.691v1.559h-4.985v-1.56h4.985Z",trackChanges:"M17.2 20H12.4599L13.9938 19.2076L14.0305 19.1886L14.0616 19.1612C14.1036 19.1242 14.1373 19.0786 14.1603 19.0275C14.1806 18.9825 14.1923 18.9342 14.1948 18.885H14.2H14.3384L14.4364 18.7874L14.7049 18.52H15.45C15.5747 18.52 15.6942 18.4705 15.7823 18.3823C15.8705 18.2942 15.92 18.1746 15.92 18.05C15.92 17.9253 15.8705 17.8058 15.7823 17.7176C15.7351 17.6704 15.6789 17.6343 15.6177 17.6109L17.33 15.9056V19.87C17.33 19.8871 17.3266 19.904 17.3201 19.9197C17.3136 19.9355 17.304 19.9499 17.2919 19.9619C17.2799 19.974 17.2655 19.9836 17.2497 19.9901C17.234 19.9966 17.2171 20 17.2 20ZM4.13 20H11.2508C11.2396 19.9629 11.2337 19.9242 11.2337 19.885C11.2337 19.8133 11.2533 19.7431 11.29 19.6819L11.2739 19.6734L11.8838 18.52H5C4.87535 18.52 4.7558 18.4705 4.66766 18.3823C4.57952 18.2942 4.53 18.1746 4.53 18.05C4.53 17.9253 4.57952 17.8058 4.66766 17.7176C4.7558 17.6295 4.87535 17.58 5 17.58H12.3809L12.3925 17.5582L12.4187 17.5284C12.4558 17.4864 12.5014 17.4527 12.5525 17.4297C12.5836 17.4156 12.6163 17.4057 12.6498 17.4001C12.6522 17.3065 12.6877 17.2166 12.7503 17.1467L13 17.37C12.9902 17.381 12.9847 17.3952 12.9847 17.41C12.9847 17.4247 12.9902 17.439 13 17.45L14.13 18.55H14.2L19.09 13.68V13.6L17.99 12.5C17.979 12.4902 17.9647 12.4847 17.95 12.4847C17.9352 12.4847 17.921 12.4902 17.91 12.5L13 17.37L12.7641 17.1322L15.1759 14.74H5C4.87535 14.74 4.7558 14.6905 4.66766 14.6023C4.57952 14.5142 4.53 14.3946 4.53 14.27C4.53 14.1453 4.57952 14.0258 4.66766 13.9376C4.7558 13.8495 4.87535 13.8 5 13.8H15.45C15.5747 13.8 15.6942 13.8495 15.7823 13.9376C15.8169 13.9722 15.8454 14.0115 15.8675 14.0541L17.33 12.6034V9.3H13.28C13.207 9.30976 13.133 9.30976 13.06 9.3C12.7697 9.22119 12.5113 9.05343 12.3212 8.82027C12.1311 8.58711 12.0187 8.30026 12 8V4H4.13C4.09552 4 4.06246 4.0137 4.03808 4.03808C4.0137 4.06246 4 4.09552 4 4.13V19.87C4 19.9045 4.0137 19.9375 4.03808 19.9619C4.06246 19.9863 4.09552 20 4.13 20ZM11.7889 20H11.8785C11.8902 19.9746 11.898 19.9475 11.9015 19.9197L11.8661 19.9866L11.8117 19.9578L13.84 18.91C13.8464 18.9044 13.8515 18.8974 13.855 18.8897C13.8585 18.8819 13.8603 18.8735 13.8603 18.865C13.8603 18.8565 13.8585 18.8481 13.855 18.8403C13.8515 18.8325 13.8464 18.8256 13.84 18.82L12.76 17.75C12.7544 17.7436 12.7474 17.7385 12.7397 17.735C12.7319 17.7315 12.7235 17.7297 12.715 17.7297C12.7065 17.7297 12.6981 17.7315 12.6903 17.735C12.6825 17.7385 12.6756 17.7436 12.67 17.75L11.57 19.83L11.5023 19.7942L11.58 19.85C11.5727 19.8602 11.5687 19.8724 11.5687 19.885C11.5687 19.8975 11.5727 19.9098 11.58 19.92L11.67 20H11.73L11.7642 19.9823L11.7889 20ZM13.1 4.65L16.6 8.15C16.6212 8.17232 16.6355 8.20028 16.6412 8.23051C16.6469 8.26075 16.6437 8.29199 16.6321 8.32048C16.6205 8.34898 16.6009 8.37352 16.5757 8.39117C16.5505 8.40882 16.5207 8.41883 16.49 8.42H13.06L12.83 8.19V4.76C12.8312 4.72925 12.8412 4.6995 12.8588 4.67429C12.8765 4.64909 12.901 4.62951 12.9295 4.6179C12.958 4.6063 12.9893 4.60315 13.0195 4.60884C13.0497 4.61453 13.0777 4.62882 13.1 4.65ZM11 6.72C11.0027 6.66089 10.9937 6.60183 10.9735 6.54621C10.9534 6.49058 10.9224 6.43948 10.8825 6.39582C10.8425 6.35216 10.7944 6.31681 10.7408 6.29179C10.6871 6.26677 10.6291 6.25257 10.57 6.25H5C4.88239 6.25773 4.77251 6.3113 4.69397 6.39918C4.61543 6.48707 4.57451 6.60226 4.58 6.72C4.57451 6.83774 4.61543 6.95293 4.69397 7.04082C4.77251 7.12871 4.88239 7.18227 5 7.19H10.6C10.714 7.1774 10.8189 7.12173 10.8933 7.03438C10.9676 6.94702 11.0058 6.83457 11 6.72ZM11.1 8.14001H5C4.87535 8.14001 4.7558 8.18953 4.66766 8.27767C4.57952 8.36582 4.53 8.48536 4.53 8.61001C4.53 8.73467 4.57952 8.85421 4.66766 8.94236C4.7558 9.0305 4.87535 9.08001 5 9.08001H11.1C11.2247 9.08001 11.3442 9.0305 11.4323 8.94236C11.5205 8.85421 11.57 8.73467 11.57 8.61001C11.57 8.48536 11.5205 8.36582 11.4323 8.27767C11.3442 8.18953 11.2247 8.14001 11.1 8.14001ZM5 11H15.45C15.5826 11 15.7098 10.9473 15.8036 10.8536C15.8973 10.7598 15.95 10.6326 15.95 10.5C15.95 10.3674 15.8973 10.2402 15.8036 10.1464C15.7098 10.0527 15.5826 10 15.45 10H5C4.86739 10 4.74021 10.0527 4.64645 10.1464C4.55268 10.2402 4.5 10.3674 4.5 10.5C4.5 10.6326 4.55268 10.7598 4.64645 10.8536C4.74021 10.9473 4.86739 11 5 11ZM5 12.86H11.1C11.2211 12.8523 11.3346 12.798 11.4166 12.7085C11.4986 12.6191 11.5428 12.5013 11.54 12.38C11.5427 12.2597 11.4982 12.1431 11.4159 12.0552C11.3337 11.9673 11.2202 11.9152 11.1 11.91H5C4.94089 11.9126 4.88286 11.9268 4.82924 11.9518C4.77562 11.9768 4.72746 12.0122 4.68752 12.0558C4.64758 12.0995 4.61664 12.1506 4.59648 12.2062C4.57631 12.2618 4.56731 12.3209 4.57 12.38C4.56451 12.5004 4.60649 12.6181 4.6869 12.7079C4.76731 12.7976 4.87974 12.8523 5 12.86ZM11.1 16.63H5C4.87535 16.63 4.7558 16.5805 4.66766 16.4923C4.57952 16.4042 4.53 16.2846 4.53 16.16C4.53 16.0353 4.57952 15.9158 4.66766 15.8276C4.7558 15.7395 4.87535 15.69 5 15.69H11.1C11.2247 15.69 11.3442 15.7395 11.4323 15.8276C11.5205 15.9158 11.57 16.0353 11.57 16.16C11.57 16.2846 11.5205 16.4042 11.4323 16.4923C11.3442 16.5805 11.2247 16.63 11.1 16.63ZM18.8503 11.592C18.7991 11.6175 18.7545 11.6544 18.72 11.7L18.26 12.14C18.2501 12.151 18.2447 12.1652 18.2447 12.18C18.2447 12.1947 18.2501 12.209 18.26 12.22L19.37 13.32C19.381 13.3298 19.3952 13.3353 19.41 13.3353C19.4247 13.3353 19.439 13.3298 19.45 13.32L19.86 12.91C19.9057 12.867 19.9421 12.8151 19.967 12.7575C19.9919 12.6998 20.0047 12.6377 20.0047 12.575C20.0047 12.5122 19.9919 12.4501 19.967 12.3925C19.9421 12.3349 19.9057 12.283 19.86 12.24L19.31 11.7C19.2755 11.6544 19.2309 11.6175 19.1797 11.592C19.1285 11.5666 19.0721 11.5533 19.015 11.5533C18.9578 11.5533 18.9014 11.5666 18.8503 11.592Z",showTrackChanges:"M17.2421 13.6048C17.2631 13.6136 17.2841 13.6226 17.305 13.6317V9.29505H13.2626C13.1897 9.30481 13.1159 9.30481 13.043 9.29505C12.7532 9.21632 12.4953 9.04872 12.3056 8.81577C12.1158 8.58283 12.0037 8.29625 11.985 7.99627V4H4.12976C4.09534 4 4.06234 4.01368 4.038 4.03804C4.01367 4.0624 4 4.09543 4 4.12988V19.8552C4 19.8896 4.01367 19.9227 4.038 19.947C4.06234 19.9714 4.09534 19.9851 4.12976 19.9851H13.4875C13.0501 19.8216 12.6281 19.6155 12.2277 19.3686C11.8529 19.1551 11.4911 18.9196 11.1442 18.6632C11.0697 18.6152 10.9982 18.5628 10.9302 18.5065H4.99812C4.87371 18.5065 4.75438 18.457 4.66641 18.3689C4.57843 18.2809 4.529 18.1614 4.529 18.0369C4.529 17.9124 4.57843 17.7929 4.66641 17.7049C4.75438 17.6168 4.87371 17.5673 4.99812 17.5673H10.4396C10.4472 17.4488 10.4756 17.3324 10.5235 17.2235C10.5939 17.017 10.6761 16.8149 10.7694 16.6182H4.99812C4.87371 16.6182 4.75438 16.5687 4.66641 16.4807C4.57843 16.3926 4.529 16.2732 4.529 16.1487C4.529 16.0241 4.57843 15.9047 4.66641 15.8166C4.75438 15.7286 4.87371 15.6791 4.99812 15.6791H11.0867C11.1576 15.6791 11.2268 15.6952 11.2895 15.7253C11.5204 15.361 11.7938 15.027 12.1033 14.73H4.99812C4.87371 14.73 4.75438 14.6805 4.66641 14.5924C4.57843 14.5044 4.529 14.385 4.529 14.2604C4.529 14.1359 4.57843 14.0164 4.66641 13.9284C4.75438 13.8403 4.87371 13.7909 4.99812 13.7909H13.4434C13.9833 13.525 14.5656 13.3516 15.166 13.2795L15.1923 13.2763H15.2189H15.4925C16.0923 13.2609 16.6886 13.3728 17.2421 13.6048ZM13.0829 4.64939L16.5764 8.14613C16.5975 8.16843 16.6118 8.19636 16.6174 8.22657C16.6231 8.25677 16.62 8.28798 16.6084 8.31645C16.5968 8.34492 16.5773 8.36944 16.5521 8.38707C16.527 8.40471 16.4973 8.41471 16.4666 8.41587H13.043L12.8134 8.18609V4.75929C12.8146 4.72857 12.8246 4.69884 12.8422 4.67366C12.8598 4.64849 12.8843 4.62893 12.9128 4.61733C12.9412 4.60573 12.9724 4.60259 13.0026 4.60827C13.0328 4.61396 13.0607 4.62824 13.0829 4.64939ZM10.9869 6.71746C10.9896 6.65841 10.9806 6.59941 10.9604 6.54383C10.9403 6.48825 10.9094 6.4372 10.8696 6.39358C10.8297 6.34997 10.7816 6.31465 10.7281 6.28965C10.6746 6.26466 10.6167 6.25047 10.5577 6.2479H4.99813C4.88074 6.25562 4.77106 6.30914 4.69267 6.39694C4.61428 6.48475 4.57343 6.59983 4.57891 6.71746C4.57343 6.83509 4.61428 6.95017 4.69267 7.03798C4.77106 7.12579 4.88074 7.1793 4.99813 7.18702H10.5876C10.7014 7.17444 10.8061 7.11882 10.8803 7.03154C10.9545 6.94427 10.9927 6.83192 10.9869 6.71746ZM11.0867 8.13614H4.99812C4.87371 8.13614 4.75438 8.18561 4.66641 8.27367C4.57843 8.36173 4.529 8.48116 4.529 8.6057C4.529 8.73023 4.57843 8.84967 4.66641 8.93773C4.75438 9.02579 4.87371 9.07526 4.99812 9.07526H11.0867C11.2111 9.07526 11.3304 9.02579 11.4184 8.93773C11.5064 8.84967 11.5558 8.73023 11.5558 8.6057C11.5558 8.48116 11.5064 8.36173 11.4184 8.27367C11.3304 8.18561 11.2111 8.13614 11.0867 8.13614ZM4.99812 10.9935H15.4285C15.5609 10.9935 15.6878 10.9408 15.7814 10.8472C15.875 10.7535 15.9276 10.6264 15.9276 10.4939C15.9276 10.3614 15.875 10.2344 15.7814 10.1407C15.6878 10.047 15.5609 9.9944 15.4285 9.9944H4.99812C4.86576 9.9944 4.73883 10.047 4.64523 10.1407C4.55164 10.2344 4.49906 10.3614 4.49906 10.4939C4.49906 10.6264 4.55164 10.7535 4.64523 10.8472C4.73883 10.9408 4.86576 10.9935 4.99812 10.9935ZM4.99812 12.8517H11.0867C11.2076 12.844 11.3208 12.7898 11.4027 12.7004C11.4845 12.611 11.5287 12.4934 11.5259 12.3722C11.5286 12.252 11.4841 12.1355 11.402 12.0477C11.3199 11.9599 11.2067 11.9078 11.0867 11.9026H4.99812C4.93912 11.9052 4.8812 11.9194 4.82769 11.9444C4.77417 11.9694 4.7261 12.0047 4.68623 12.0483C4.64637 12.0919 4.61549 12.143 4.59536 12.1985C4.57523 12.2541 4.56625 12.3131 4.56893 12.3722C4.56345 12.4925 4.60535 12.6101 4.68561 12.6998C4.76587 12.7894 4.87809 12.844 4.99812 12.8517ZM19.97 17.4974C19.5787 16.5636 19.0431 15.6971 18.383 14.9298C18.0152 14.5351 17.5679 14.2233 17.0706 14.0148C16.5732 13.8064 16.0373 13.7062 15.4984 13.7209H15.2189C14.4787 13.8098 13.7684 14.0666 13.1423 14.4717C12.5162 14.8769 11.9906 15.4196 11.6057 16.0587C11.3211 16.4677 11.0959 16.9151 10.937 17.3875C10.9006 17.464 10.8817 17.5476 10.8817 17.6323C10.8817 17.717 10.9006 17.8006 10.937 17.877C11.0642 18.0428 11.2196 18.1849 11.3961 18.2967C11.7346 18.5476 12.0879 18.7778 12.4541 18.986C13.4096 19.5767 14.497 19.92 15.6182 19.9851C16.4392 20.0504 17.2632 19.9005 18.0088 19.5501C18.7544 19.1998 19.3959 18.661 19.8702 17.9869C19.9311 17.923 19.9729 17.8432 19.9905 17.7566C20.0082 17.67 20.0011 17.5801 19.97 17.4974ZM15.9775 19.1758C14.3849 19.068 12.8507 18.5331 11.5358 17.6273C11.5788 17.5678 11.6255 17.5111 11.6756 17.4574C12.3061 16.569 13.1295 15.8359 14.0832 15.3126C13.8003 15.7406 13.6785 16.2566 13.7417 16.7681C13.7676 17.0339 13.8465 17.2918 13.9737 17.5265C14.1009 17.7613 14.2739 17.9681 14.4823 18.1348C14.6907 18.3016 14.9304 18.4248 15.1872 18.4972C15.4441 18.5696 15.7128 18.5897 15.9775 18.5564C16.305 18.4971 16.6137 18.3609 16.8785 18.159C17.1432 17.9572 17.3564 17.6954 17.5005 17.3951C17.6446 17.0949 17.7156 16.7647 17.7077 16.4317C17.6997 16.0987 17.613 15.7723 17.4547 15.4793C17.2614 15.3391 17.0533 15.2235 16.8351 15.1339C17.0715 15.226 17.2966 15.3485 17.5046 15.4993C18.0049 15.8976 18.4424 16.3691 18.8022 16.898L18.8927 17.0137L18.8927 17.0137C19.0823 17.2564 19.2729 17.5004 19.4709 17.7072C18.5404 18.6311 17.288 19.1576 15.9775 19.1758ZM16.3168 15.769C16.2085 15.8106 16.1171 15.8873 16.0574 15.9869C15.9977 16.0865 15.9731 16.2032 15.9875 16.3185C15.9949 16.3856 16.0156 16.4505 16.0483 16.5096C16.081 16.5686 16.1251 16.6206 16.178 16.6624C16.2309 16.7042 16.2916 16.7351 16.3566 16.7532C16.4216 16.7714 16.4895 16.7764 16.5564 16.7681H16.6063C16.5618 16.9495 16.4637 17.1132 16.3248 17.238C16.186 17.3627 16.0127 17.4427 15.8278 17.4674H15.6481C15.4335 17.4396 15.2337 17.3427 15.0789 17.1913C14.924 17.04 14.8226 16.8423 14.7897 16.6282C14.7628 16.3782 14.8311 16.1271 14.981 15.9253C15.1305 15.7238 15.3504 15.5861 15.5968 15.5395C15.3446 15.5862 15.12 15.7284 14.9697 15.9364C14.8191 16.1448 14.7547 16.4034 14.7897 16.6582C14.8226 16.8723 14.924 17.0699 15.0789 17.2213C15.2337 17.3727 15.4335 17.4696 15.6481 17.4974H15.8377C16.0209 17.4708 16.1919 17.39 16.3289 17.2654C16.4658 17.1408 16.5625 16.978 16.6063 16.7981C16.7293 16.7633 16.8359 16.686 16.9072 16.5799C16.9785 16.4737 17.0098 16.3457 16.9956 16.2186C16.9882 16.1515 16.9675 16.0865 16.9348 16.0275C16.9021 15.9685 16.858 15.9165 16.805 15.8747C16.7521 15.8329 16.6914 15.802 16.6264 15.7838C16.5615 15.7657 16.4936 15.7607 16.4266 15.769H16.3168Z",acceptAllChanges:"M9.36499 16.7348C9.38499 16.7547 9.41212 16.7659 9.44041 16.7659H10.9881C10.9028 16.6008 10.9289 16.3933 11.0663 16.2541L11.7266 15.585H10.1444C10.0549 15.5701 9.97363 15.5238 9.91498 15.4547C9.85639 15.3856 9.82422 15.298 9.82422 15.2074C9.82422 15.1169 9.85639 15.0292 9.91498 14.9601C9.97363 14.891 10.0549 14.8448 10.1444 14.8298H12.4879C12.5584 14.785 12.6407 14.7607 12.7257 14.7607C12.8106 14.7607 12.893 14.785 12.9635 14.8298H16.5295L18.3303 13.0091C18.4135 12.925 18.5271 12.8776 18.6456 12.8777C18.7642 12.8777 18.8777 12.9252 18.9609 13.0094L20 14.0621V8.25532H16.8001C16.7301 8.27288 16.6568 8.27288 16.5868 8.25532C16.3485 8.1935 16.1367 8.0565 15.9829 7.86478C15.8292 7.67306 15.7416 7.43688 15.7335 7.19149V4H9.44041C9.41293 4.0024 9.38718 4.01437 9.36767 4.03383C9.34816 4.05329 9.33615 4.07897 9.33375 4.10638V16.6596C9.33375 16.6878 9.34499 16.7148 9.36499 16.7348ZM10.0744 17.2979H11.4803L12.259 18.0957H5.06727C5.01734 18.0957 4.96838 18.1057 4.9232 18.1246C4.8788 18.1431 4.83798 18.1702 4.80335 18.2048C4.7333 18.2746 4.69398 18.3693 4.69398 18.468C4.69398 18.5668 4.7333 18.6615 4.80335 18.7313C4.87333 18.8011 4.96832 18.8404 5.06727 18.8404H12.9857L13.7947 19.6693L14.0836 19.9574H4.10733C4.09291 19.9591 4.07829 19.9576 4.06457 19.9528C4.05085 19.9481 4.03838 19.9403 4.02812 19.9301C4.01785 19.9198 4.01004 19.9074 4.00529 19.8937C4.00054 19.88 3.99896 19.8654 4.00067 19.8511V7.29787C4.00067 7.26966 4.01191 7.2426 4.03191 7.22265C4.05192 7.2027 4.07905 7.19149 4.10733 7.19149H8.70447V9.05319H5.06727C4.97294 9.05867 4.88453 9.10069 4.8208 9.17019C4.757 9.23973 4.72302 9.33135 4.72594 9.42553C4.72289 9.52082 4.75654 9.61364 4.82002 9.6849C4.88356 9.75613 4.97203 9.80038 5.06727 9.8085H8.70447V10.5638H5.06727C5.01968 10.5652 4.97274 10.5759 4.92932 10.5954C4.88583 10.6148 4.84664 10.6426 4.8139 10.6772C4.78122 10.7118 4.7557 10.7525 4.73877 10.7969C4.72184 10.8413 4.7139 10.8887 4.71527 10.9361C4.7139 10.9837 4.72184 11.031 4.73877 11.0754C4.74424 11.0897 4.75055 11.1037 4.75778 11.1171C4.76162 11.1243 4.76566 11.1313 4.76995 11.1382C4.78265 11.1585 4.79736 11.1776 4.8139 11.1951C4.84664 11.2297 4.88583 11.2575 4.92932 11.2769C4.95491 11.2884 4.98173 11.2968 5.0092 11.3021C5.02834 11.3058 5.04774 11.3079 5.06727 11.3085H8.70447V12.0638H5.06734C4.97782 12.0789 4.89651 12.1251 4.83792 12.1942C4.77926 12.2633 4.7471 12.351 4.7471 12.4415C4.7471 12.5321 4.77926 12.6197 4.83792 12.6888C4.89651 12.758 4.97782 12.8041 5.06734 12.8192H8.70447V13.5745H5.06734C4.97782 13.5895 4.89651 13.6357 4.83792 13.7048C4.81383 13.7332 4.79424 13.7647 4.77946 13.7983C4.7583 13.8465 4.7471 13.8988 4.7471 13.9522C4.7471 14.0427 4.77926 14.1303 4.83792 14.1994C4.89651 14.2686 4.97782 14.3147 5.06734 14.3298H8.70447V15.0744H5.06727C4.97776 15.0895 4.89651 15.1357 4.83785 15.2048C4.77926 15.2739 4.7471 15.3616 4.7471 15.4521C4.7471 15.5043 4.75778 15.5556 4.77809 15.6029C4.793 15.6376 4.81305 15.6701 4.83785 15.6994C4.89651 15.7685 4.97776 15.8147 5.06727 15.8298H8.70447V16.5851H5.06727C4.97776 16.6001 4.89651 16.6463 4.83785 16.7154C4.79489 16.7661 4.76618 16.8267 4.75387 16.8912C4.74938 16.9146 4.7471 16.9386 4.7471 16.9628C4.7471 17.0533 4.77926 17.1409 4.83785 17.21C4.89651 17.2792 4.97776 17.3253 5.06727 17.3404H9.95241C9.99552 17.3331 10.0367 17.3187 10.0744 17.2979ZM20 15.3204L18.5709 16.7659H19.8933C19.9216 16.7659 19.9487 16.7547 19.9687 16.7348C19.9887 16.7148 20 16.6878 20 16.6596V15.3204ZM14.7526 16.6264L13.7248 15.585H15.7825L14.7526 16.6264ZM14.9498 6.08721C14.9465 6.06854 14.9416 6.05023 14.9353 6.03244C14.9202 5.98939 14.897 5.94929 14.8665 5.91442C14.8145 5.85488 14.7444 5.81394 14.6669 5.79787H10.1337C10.0348 5.79787 9.93978 5.83709 9.8698 5.90693C9.79975 5.97676 9.76043 6.07146 9.76043 6.17022C9.76043 6.19463 9.76283 6.21879 9.76752 6.24239C9.77462 6.2782 9.78692 6.31268 9.80398 6.34479C9.82123 6.37716 9.8433 6.40709 9.8698 6.43348C9.93978 6.50332 10.0348 6.54257 10.1337 6.54257H14.6669C14.6811 6.54023 14.6951 6.53702 14.7088 6.53299C14.7206 6.52955 14.7322 6.52549 14.7436 6.52082C14.7624 6.51309 14.7806 6.50371 14.7979 6.4928C14.8378 6.46764 14.8722 6.43468 14.8991 6.39599C14.9259 6.35729 14.9447 6.31359 14.9543 6.26749C14.9554 6.26232 14.9563 6.25716 14.9571 6.25197C14.9579 6.24739 14.9586 6.24281 14.9591 6.23824C14.9612 6.22129 14.962 6.20424 14.9616 6.18723C14.961 6.16727 14.9588 6.14733 14.9549 6.12766C14.9539 6.11406 14.9523 6.10055 14.9498 6.08721ZM15.0189 7.29788H10.1445C10.0549 7.31291 9.97363 7.35911 9.91504 7.42823C9.85639 7.49738 9.82422 7.585 9.82422 7.67555C9.82422 7.76609 9.85639 7.85369 9.91504 7.92284C9.97363 7.99196 10.0549 8.03815 10.1445 8.05319H15.0189C15.0321 8.05241 15.0451 8.05095 15.058 8.04877C15.0745 8.04601 15.0906 8.04212 15.1064 8.03718C15.1669 8.01822 15.2219 7.98361 15.2654 7.93618C15.3291 7.86664 15.3632 7.77502 15.3602 7.68084C15.3606 7.67392 15.3608 7.66701 15.3608 7.66009C15.3609 7.65087 15.3606 7.64165 15.3599 7.63247C15.3592 7.62263 15.358 7.61279 15.3565 7.60302C15.3532 7.58188 15.3479 7.56104 15.3409 7.54072C15.3254 7.49575 15.301 7.45426 15.2693 7.41868C15.2492 7.39621 15.2265 7.37638 15.2017 7.35959C15.1872 7.34979 15.172 7.34102 15.1562 7.33339C15.1132 7.31265 15.0665 7.3006 15.0189 7.29788ZM10.1445 9.56381H18.496C18.5856 9.54877 18.6669 9.50258 18.7255 9.43346C18.7841 9.3643 18.8163 9.27671 18.8163 9.18617C18.8163 9.09562 18.7841 9.008 18.7255 8.93884C18.6669 8.86973 18.5856 8.82353 18.496 8.8085H10.1445C10.0549 8.82353 9.97363 8.86973 9.91504 8.93884C9.85639 9.008 9.82422 9.09562 9.82422 9.18617C9.82422 9.24412 9.83738 9.30087 9.86224 9.35236C9.87624 9.38132 9.89395 9.40859 9.91504 9.43346C9.97363 9.50258 10.0549 9.54877 10.1445 9.56381ZM10.1445 11.0638H15.0189C15.1084 11.0488 15.1897 11.0026 15.2483 10.9335C15.2854 10.8898 15.3118 10.8387 15.3263 10.7842C15.3347 10.7525 15.3391 10.7195 15.3391 10.6861C15.3391 10.5956 15.3069 10.508 15.2483 10.4389C15.1897 10.3697 15.1084 10.3235 15.0189 10.3085H10.1445C10.0549 10.3235 9.97363 10.3697 9.91504 10.4389C9.85639 10.508 9.82422 10.5956 9.82422 10.6861C9.82422 10.7424 9.83666 10.7976 9.8601 10.8478C9.87442 10.8785 9.89284 10.9073 9.91504 10.9335C9.97363 11.0026 10.0549 11.0488 10.1445 11.0638ZM18.496 12.5745H10.1444C10.0549 12.5594 9.97363 12.5132 9.91498 12.4441C9.85639 12.3749 9.82422 12.2873 9.82422 12.1968C9.82422 12.1062 9.85639 12.0186 9.91498 11.9495C9.97363 11.8803 10.0549 11.8342 10.1444 11.8191H18.496C18.5856 11.8342 18.6669 11.8803 18.7255 11.9495C18.7841 12.0186 18.8163 12.1062 18.8163 12.1968C18.8163 12.2873 18.7841 12.3749 18.7255 12.4441C18.6971 12.4776 18.6633 12.5058 18.6259 12.5276C18.5861 12.5507 18.5421 12.5667 18.496 12.5745ZM15.0189 14.0744H10.1444C10.0968 14.0731 10.0499 14.0624 10.0064 14.0429C9.96296 14.0234 9.92376 13.9956 9.89102 13.961C9.85834 13.9265 9.83282 13.8857 9.81589 13.8413C9.79897 13.7969 9.79102 13.7496 9.79239 13.7021C9.79102 13.6546 9.79897 13.6073 9.81589 13.5628C9.83282 13.5184 9.85834 13.4778 9.89102 13.4432C9.92376 13.4086 9.96296 13.3808 10.0064 13.3613C10.0499 13.3419 10.0968 13.3311 10.1444 13.3297H15.0189C15.0661 13.3311 15.1125 13.3419 15.1554 13.3615C15.1983 13.381 15.2368 13.4091 15.2686 13.4438C15.3005 13.4785 15.325 13.5193 15.3407 13.5637C15.3564 13.608 15.363 13.6551 15.3602 13.7021C15.3631 13.7963 15.3291 13.8879 15.2653 13.9574C15.2016 14.027 15.1132 14.0689 15.0189 14.0744ZM16.6188 4.52128L19.4133 7.30852C19.4293 7.32624 19.4401 7.34808 19.4443 7.37157C19.4485 7.39506 19.446 7.41925 19.4371 7.4414C19.4282 7.46356 19.4133 7.48278 19.394 7.4969C19.3747 7.51102 19.3518 7.51947 19.328 7.52128H16.5868L16.4054 7.34043V4.60639C16.4073 4.5826 16.4157 4.55979 16.4299 4.54056C16.444 4.52133 16.4633 4.50644 16.4855 4.49757C16.5077 4.48871 16.532 4.48624 16.5556 4.49043C16.5791 4.49462 16.601 4.50531 16.6188 4.52128ZM18.6454 13.3192L20 14.6915L14.7522 20L14.7416 19.9894L14.1123 19.3617L13.3976 18.6277L11.3817 16.5638L12.7257 15.2021L14.7522 17.2553L18.6454 13.3192Z",rejectAllChanges:"M9.54637 16.5847H8.96997V15.8295H12.786C12.8024 15.8265 12.8186 15.8223 12.8343 15.817C12.8535 15.8105 12.8719 15.8023 12.8897 15.7926C12.9315 15.7697 12.969 15.738 12.9997 15.6991C13.0268 15.6649 13.0478 15.6261 13.0621 15.5847H13.571V16.7656H9.79386C9.78396 16.7479 9.77269 16.731 9.76011 16.7151C9.70552 16.6459 9.62976 16.5998 9.54637 16.5847ZM13.4717 12.9573V13.3295H9.72523C9.6809 13.3309 9.63716 13.3416 9.59671 13.361C9.57578 13.3711 9.55595 13.3834 9.53745 13.3977C9.5201 13.411 9.50391 13.4262 9.48917 13.4429C9.45872 13.4775 9.43494 13.5182 9.41917 13.5626C9.41778 13.5664 9.41644 13.5703 9.41523 13.5742H8.96997V12.8189H12.786C12.8694 12.8039 12.9452 12.7577 12.9997 12.6886C13.0078 12.6784 13.0153 12.6677 13.0223 12.6568L13.029 12.6458L13.033 12.6389L13.0397 12.6266C13.0452 12.6157 13.0503 12.6046 13.055 12.5931C13.0576 12.5869 13.0599 12.5806 13.0621 12.5742H13.6872C13.6453 12.5965 13.607 12.6269 13.5746 12.6644C13.5059 12.7439 13.469 12.849 13.4717 12.9573ZM9.82598 14.0742H13.4758C13.4809 14.0932 13.4904 14.1108 13.5037 14.1251C13.5242 14.147 13.552 14.1593 13.581 14.1593H13.6008L13.571 14.1912V14.8295H9.72523C9.64183 14.8445 9.56614 14.8907 9.51149 14.9598C9.4845 14.994 9.46351 15.0328 9.4492 15.0741H8.96997V14.3295H9.54637C9.62976 14.3145 9.70552 14.2683 9.76011 14.1992C9.78947 14.162 9.81166 14.1195 9.82598 14.0742ZM18.9075 8.2552V12.5317H17.7846V12.323C17.7978 12.2827 17.8047 12.2399 17.8047 12.1965C17.8047 12.106 17.7747 12.0184 17.7201 11.9493C17.6655 11.8801 17.5897 11.834 17.5063 11.8189H9.72523C9.64183 11.834 9.56614 11.8801 9.51149 11.9493C9.48444 11.9835 9.46351 12.0222 9.4492 12.0636H8.96997V11.3083H9.54637C9.63425 11.3028 9.71662 11.2608 9.776 11.1913C9.80687 11.1551 9.83029 11.113 9.84527 11.0676L9.84654 11.0637H14.2667C14.3501 11.0486 14.4258 11.0024 14.4805 10.9333C14.5231 10.8794 14.5507 10.8142 14.5607 10.7452C14.5636 10.7258 14.565 10.706 14.565 10.686C14.565 10.6658 14.5635 10.6458 14.5606 10.626C14.5572 10.6026 14.5516 10.5796 14.5442 10.5573C14.5299 10.5144 14.5084 10.4741 14.4805 10.4387C14.4258 10.3696 14.3501 10.3234 14.2667 10.3083H9.72529C9.6832 10.3159 9.64299 10.3314 9.60653 10.3538C9.57081 10.3759 9.5386 10.4045 9.51155 10.4387C9.49639 10.4579 9.4831 10.4785 9.47182 10.5002C9.46133 10.5205 9.45259 10.5417 9.44568 10.5636H8.96997V9.80838H9.16873C9.25656 9.80286 9.33899 9.76085 9.39837 9.69131C9.45775 9.62177 9.48947 9.53022 9.48674 9.43601C9.48711 9.42951 9.48735 9.42302 9.48741 9.41653C9.48741 9.41049 9.48729 9.40445 9.48705 9.39848C9.49457 9.41055 9.50269 9.42218 9.51155 9.43334C9.56614 9.50249 9.64189 9.54866 9.72529 9.56372H17.5063C17.5897 9.54866 17.6655 9.50249 17.7201 9.43334C17.7747 9.36419 17.8047 9.2766 17.8047 9.18603C17.8047 9.09552 17.7747 9.00786 17.7201 8.93878C17.6655 8.86963 17.5897 8.82346 17.5063 8.8084H9.72529C9.64189 8.82346 9.56614 8.86963 9.51155 8.93878C9.4569 9.00786 9.42694 9.09552 9.42694 9.18603L9.427 9.19707L9.42754 9.20875C9.41972 9.19661 9.41123 9.18499 9.40201 9.17389C9.38478 9.15311 9.36537 9.1346 9.34427 9.11863C9.33735 9.11344 9.33026 9.1085 9.32298 9.10383C9.31855 9.10097 9.31406 9.09824 9.30951 9.09565L9.30424 9.09266L9.29659 9.08857C9.28792 9.08402 9.27906 9.07993 9.27009 9.07623C9.2616 9.07279 9.25298 9.06974 9.24431 9.06701C9.21974 9.05935 9.19439 9.05461 9.16873 9.05305H8.96997V4.10638C8.97221 4.07897 8.9834 4.05328 9.00157 4.03383C9.01975 4.01437 9.04374 4.0024 9.06935 4H14.9325V7.1914C14.9401 7.43679 15.0216 7.67296 15.1649 7.86468C15.3082 8.0564 15.5055 8.19338 15.7275 8.2552C15.7927 8.27277 15.861 8.27277 15.9262 8.2552H18.9075ZM13.571 17.2975V19.4251L13.5722 19.4615C13.5835 19.6376 13.6323 19.8068 13.7133 19.957H4.10061C4.08718 19.9587 4.07355 19.9571 4.06077 19.9524C4.04799 19.9477 4.03637 19.9399 4.02681 19.9296C4.01724 19.9194 4.00997 19.907 4.00554 19.8933C4.00111 19.8796 3.99964 19.865 4.00124 19.8506V7.29778C4.00124 7.26957 4.01171 7.24251 4.03034 7.22256C4.04898 7.20261 4.07426 7.1914 4.10061 7.1914H8.38368V9.05305H4.99497C4.90708 9.05857 4.82471 9.10052 4.76533 9.17006C4.70589 9.2396 4.67423 9.33121 4.67696 9.42536C4.67411 9.52067 4.70547 9.61346 4.76461 9.68475C4.8238 9.75598 4.90623 9.80026 4.99497 9.80838H8.38368V10.5636H4.99497C4.96682 10.5645 4.93898 10.5692 4.91199 10.5774C4.89647 10.5821 4.88124 10.588 4.86644 10.5952C4.8494 10.6034 4.83308 10.613 4.81762 10.6241C4.79627 10.6393 4.77655 10.657 4.7589 10.6771C4.72846 10.7116 4.70468 10.7523 4.68891 10.7967C4.67314 10.8411 4.66574 10.8885 4.66701 10.9359C4.66641 10.9597 4.66792 10.9834 4.67156 11.0067C4.6752 11.03 4.68102 11.053 4.68891 11.0752C4.70468 11.1196 4.72846 11.1603 4.7589 11.1949C4.7731 11.211 4.78862 11.2256 4.80524 11.2386C4.81452 11.2459 4.82417 11.2527 4.83417 11.259C4.84461 11.2655 4.85534 11.2714 4.86644 11.2767C4.9069 11.2962 4.95063 11.3069 4.99497 11.3083H8.38368V12.0636H4.99503C4.91163 12.0787 4.83587 12.1249 4.78128 12.194C4.7526 12.2303 4.7307 12.2717 4.71639 12.3159C4.70347 12.3559 4.69667 12.3983 4.69667 12.4413C4.69667 12.5318 4.72664 12.6194 4.78128 12.6886C4.809 12.7237 4.84218 12.7529 4.87906 12.7751C4.89416 12.7842 4.90993 12.7921 4.92619 12.7988C4.94833 12.8079 4.97137 12.8147 4.99503 12.8189H8.38368V13.5742H4.99503C4.95275 13.5819 4.91242 13.5975 4.87584 13.62C4.8403 13.642 4.80822 13.6705 4.78128 13.7046C4.72664 13.7737 4.69667 13.8613 4.69667 13.9519C4.69667 14.0424 4.72664 14.13 4.78128 14.1992C4.83587 14.2683 4.91163 14.3145 4.99503 14.3295H8.38368V15.0741H4.99497C4.94644 15.0829 4.90047 15.1022 4.85977 15.1304C4.83878 15.145 4.81919 15.162 4.80136 15.1811C4.79439 15.1885 4.78765 15.1964 4.78122 15.2045C4.77188 15.2163 4.76327 15.2287 4.75539 15.2416C4.74441 15.2594 4.73495 15.2781 4.727 15.2975C4.71924 15.3163 4.71293 15.3358 4.70808 15.3558C4.70407 15.3723 4.7011 15.389 4.69922 15.4061C4.69752 15.4212 4.69667 15.4364 4.69667 15.4518C4.69667 15.5423 4.72664 15.6299 4.78122 15.6991C4.83587 15.7682 4.91157 15.8144 4.99497 15.8295H8.38368V16.5847H4.99497C4.91157 16.5998 4.83587 16.6459 4.78122 16.7151C4.72664 16.7842 4.69667 16.8718 4.69667 16.9624C4.69667 17.0529 4.72664 17.1405 4.78122 17.2097C4.83587 17.2788 4.91157 17.325 4.99497 17.34H9.54637C9.58655 17.3328 9.62496 17.3183 9.66008 17.2975H13.571ZM15.7573 4.52124L18.3609 7.30839C18.3758 7.32612 18.3858 7.34796 18.3897 7.37145C18.3937 7.39493 18.3914 7.41913 18.3831 7.44128C18.3748 7.46343 18.3609 7.48266 18.3429 7.49678C18.325 7.51089 18.3036 7.51934 18.2814 7.52115H15.7275L15.5585 7.34031V4.60634C15.5602 4.58255 15.5681 4.55975 15.5813 4.54051C15.5945 4.52128 15.6125 4.50639 15.6332 4.49753C15.6539 4.48867 15.6765 4.48619 15.6984 4.49038C15.7203 4.49457 15.7407 4.50526 15.7573 4.52124ZM14.1248 5.91437C14.1732 5.97391 14.2021 6.04884 14.2071 6.1276C14.2157 6.17377 14.2155 6.22129 14.2065 6.26739C14.2045 6.27778 14.2021 6.28804 14.1992 6.29817L14.1944 6.31388C14.1847 6.34291 14.1715 6.3705 14.1551 6.39595C14.13 6.43465 14.098 6.46757 14.0608 6.49276C14.0354 6.5099 14.008 6.52328 13.9794 6.53244C13.9661 6.53672 13.9525 6.5401 13.9387 6.5425H9.71529C9.62309 6.5425 9.5346 6.50328 9.4694 6.43342C9.40413 6.36362 9.3675 6.26889 9.3675 6.17013C9.3675 6.07144 9.40413 5.97671 9.4694 5.90691C9.5346 5.83704 9.62309 5.79783 9.71529 5.79783H13.9387C13.9718 5.80516 14.0034 5.81769 14.0326 5.83484C14.0672 5.85522 14.0984 5.88204 14.1248 5.91437ZM14.2667 7.29776H9.72529C9.69606 7.30302 9.66773 7.31211 9.64092 7.3247C9.62612 7.33171 9.61175 7.33977 9.59798 7.34879C9.56565 7.36996 9.53642 7.39664 9.51155 7.42813C9.4569 7.49722 9.42694 7.58487 9.42694 7.67538C9.42694 7.70155 9.42942 7.72752 9.43434 7.75285C9.44635 7.81505 9.47273 7.87355 9.51155 7.9227C9.55292 7.9751 9.60647 8.01432 9.66628 8.03678C9.67762 8.04107 9.6892 8.04477 9.70097 8.04775C9.70898 8.04983 9.71711 8.05158 9.72529 8.05308H14.2667C14.3546 8.04756 14.437 8.00555 14.4964 7.93601C14.5558 7.86647 14.5875 7.77492 14.5847 7.68071C14.5874 7.63318 14.5813 7.58559 14.5667 7.54059C14.5522 7.4956 14.5296 7.45417 14.5 7.41859C14.4704 7.38301 14.4346 7.35398 14.3946 7.33327C14.3546 7.31256 14.3111 7.30048 14.2667 7.29776ZM4.99497 18.84H12.786C12.8783 18.84 12.9667 18.8008 13.032 18.731C13.0972 18.6611 13.1338 18.5664 13.1338 18.4677C13.1338 18.3689 13.0972 18.2742 13.032 18.2044C12.9667 18.1346 12.8783 18.0954 12.786 18.0954H4.99497C4.90277 18.0954 4.81428 18.1346 4.74908 18.2044C4.68381 18.2742 4.64718 18.3689 4.64718 18.4677C4.64718 18.5664 4.68381 18.6611 4.74908 18.731C4.81428 18.8008 4.90277 18.84 4.99497 18.84ZM17.5858 12.7444H19.5733H19.623C19.7249 12.7499 19.821 12.7971 19.8913 12.8764C19.9616 12.9556 20.0007 13.0607 20.0006 13.17V13.8295C20.0007 13.8458 19.9976 13.862 19.9914 13.8769C19.9853 13.8918 19.9764 13.9052 19.9652 13.9163C19.9539 13.9273 19.9407 13.9357 19.9262 13.9409C19.9118 13.9461 19.8965 13.948 19.8814 13.9465H13.7797C13.7507 13.9465 13.7229 13.9342 13.7024 13.9123C13.6819 13.8903 13.6704 13.8606 13.6704 13.8295V13.17C13.6677 13.0617 13.7046 12.9566 13.7733 12.8771C13.842 12.7976 13.9371 12.75 14.0381 12.7444H16.0256V12.5104C16.0352 12.439 16.0687 12.3737 16.1199 12.3268C16.1711 12.2798 16.2365 12.2544 16.3039 12.2551H17.2976C17.3667 12.2517 17.4345 12.276 17.4878 12.3232C17.541 12.3704 17.576 12.4371 17.5858 12.5104V12.7444ZM14.0679 19.4251V14.1912H19.5037V19.4251C19.4935 19.585 19.4256 19.7344 19.3143 19.8416C19.203 19.9488 19.0571 20.0055 18.9075 19.9996H14.6642C14.5146 20.0055 14.3687 19.9488 14.2574 19.8416C14.1461 19.7344 14.0781 19.585 14.0679 19.4251ZM15.5983 15.1593H15.2505C15.0969 15.1593 14.9723 15.2926 14.9723 15.4572V18.7336C14.9723 18.8981 15.0969 19.0315 15.2505 19.0315H15.5983C15.752 19.0315 15.8766 18.8981 15.8766 18.7336V15.4572C15.8766 15.2926 15.752 15.1593 15.5983 15.1593ZM16.9598 15.1593H16.612C16.4583 15.1593 16.3337 15.2926 16.3337 15.4572V18.7336C16.3337 18.8981 16.4583 19.0315 16.612 19.0315H16.9598C17.1135 19.0315 17.238 18.8981 17.238 18.7336V15.4572C17.238 15.2926 17.1135 15.1593 16.9598 15.1593ZM17.9635 15.1593H18.3113C18.465 15.1593 18.5895 15.2926 18.5895 15.4572V18.7336C18.5895 18.8981 18.465 19.0315 18.3113 19.0315H17.9635C17.8098 19.0315 17.6852 18.8981 17.6852 18.7336V15.4572C17.6852 15.2926 17.8098 15.1593 17.9635 15.1593Z",acceptSingleChange:"M17.2 20H15.6628L17.33 18.3091V19.87C17.33 19.8871 17.3266 19.904 17.3201 19.9197C17.3136 19.9355 17.304 19.9499 17.2919 19.9619C17.2799 19.974 17.2655 19.9836 17.2497 19.9901C17.234 19.9966 17.2171 20 17.2 20ZM4.13 20H14.4978L14.1823 19.6791L13.5135 18.9904L13.5123 18.9891L13.0529 18.52H5C4.87537 18.52 4.75586 18.4705 4.66766 18.3823C4.57953 18.2942 4.53003 18.1747 4.53003 18.05C4.53003 17.9253 4.57953 17.8058 4.66766 17.7177C4.75586 17.6295 4.87537 17.58 5 17.58H12.1323L11.6235 17.0604L11.6231 16.48L12.8831 15.19L13.4765 15.1896L15.0807 16.8276L17.33 14.5413V9.3H13.28C13.207 9.30976 13.133 9.30976 13.06 9.3C12.7697 9.22119 12.5113 9.05343 12.3212 8.82027C12.1311 8.58711 12.0187 8.30026 12 8V4H4.13C4.09552 4 4.06246 4.0137 4.03808 4.03808C4.0137 4.06246 4 4.09552 4 4.13V19.87C4 19.9045 4.0137 19.9375 4.03808 19.9619C4.06246 19.9863 4.09552 20 4.13 20ZM13.1 4.65L16.6 8.15C16.6212 8.17232 16.6355 8.20028 16.6412 8.23051C16.6469 8.26075 16.6437 8.29199 16.6321 8.32048C16.6205 8.34898 16.6009 8.37352 16.5757 8.39117C16.5505 8.40882 16.5208 8.41883 16.49 8.42H13.06L12.83 8.19V4.76C12.8312 4.72925 12.8412 4.6995 12.8588 4.67429C12.8765 4.64909 12.901 4.62951 12.9295 4.6179C12.958 4.6063 12.9893 4.60315 13.0195 4.60884C13.0497 4.61453 13.0777 4.62882 13.1 4.65ZM11 6.72C11.0027 6.66089 10.9937 6.60184 10.9735 6.5462C10.9534 6.49057 10.9224 6.43948 10.8825 6.39581C10.8425 6.35217 10.7944 6.3168 10.7408 6.29178C10.6871 6.26678 10.6292 6.25256 10.57 6.25H5C4.88239 6.25772 4.77252 6.31131 4.69397 6.39917C4.61542 6.48706 4.57452 6.60226 4.58002 6.72C4.57452 6.83774 4.61542 6.95294 4.69397 7.04083C4.77252 7.12869 4.88239 7.18228 5 7.19H10.6C10.7141 7.1774 10.8189 7.12173 10.8933 7.03436C10.9677 6.94702 11.0058 6.83456 11 6.72ZM11.1 8.14001H5C4.87537 8.14001 4.75586 8.18954 4.66766 8.27768C4.57953 8.36581 4.53003 8.48535 4.53003 8.61002C4.53003 8.73468 4.57953 8.85422 4.66766 8.94235C4.71558 8.99023 4.77277 9.02673 4.83496 9.05008C4.86932 9.06296 4.90521 9.07184 4.94189 9.07642C4.96106 9.0788 4.98047 9.08002 5 9.08002H11.1C11.2247 9.08002 11.3442 9.03049 11.4324 8.94235C11.5205 8.85422 11.57 8.73468 11.57 8.61002C11.57 8.48535 11.5205 8.36581 11.4324 8.27768C11.3442 8.18954 11.2247 8.14001 11.1 8.14001ZM5 11H15.45C15.5826 11 15.7098 10.9473 15.8035 10.8535C15.8973 10.7598 15.95 10.6326 15.95 10.5C15.95 10.3674 15.8973 10.2402 15.8035 10.1465C15.7098 10.0527 15.5826 10 15.45 10H5C4.86737 10 4.74023 10.0527 4.64642 10.1465C4.55267 10.2402 4.5 10.3674 4.5 10.5C4.5 10.6326 4.55267 10.7598 4.64642 10.8535C4.74023 10.9473 4.86737 11 5 11ZM5 12.86H11.1C11.2211 12.8523 11.3346 12.798 11.4166 12.7085C11.4986 12.6191 11.5428 12.5013 11.54 12.38C11.5427 12.2597 11.4982 12.1431 11.416 12.0552C11.3337 11.9673 11.2203 11.9152 11.1 11.91H5C4.94086 11.9126 4.88287 11.9268 4.82922 11.9518C4.77563 11.9768 4.72748 12.0122 4.6875 12.0558C4.65833 12.0878 4.63391 12.1237 4.61505 12.1624C4.60809 12.1767 4.60193 12.1913 4.5965 12.2062C4.58264 12.2443 4.5741 12.2841 4.57092 12.3243C4.56946 12.3428 4.56915 12.3614 4.57001 12.38C4.56451 12.5004 4.60651 12.6181 4.68689 12.7079C4.76733 12.7976 4.87976 12.8523 5 12.86ZM15.45 14.74H5C4.87537 14.74 4.75586 14.6905 4.66766 14.6023C4.57953 14.5142 4.53003 14.3947 4.53003 14.27C4.53003 14.1453 4.57953 14.0258 4.66766 13.9377C4.75586 13.8495 4.87537 13.8 5 13.8H15.45C15.5747 13.8 15.6942 13.8495 15.7823 13.9377C15.8705 14.0258 15.92 14.1453 15.92 14.27C15.92 14.3947 15.8705 14.5142 15.7823 14.6023C15.6942 14.6905 15.5747 14.74 15.45 14.74ZM11.1 16.63H5C4.87537 16.63 4.75586 16.5805 4.66766 16.4923C4.57953 16.4042 4.53003 16.2846 4.53003 16.16C4.53003 16.0353 4.57953 15.9158 4.66766 15.8276C4.75586 15.7395 4.87537 15.69 5 15.69H11.1C11.2247 15.69 11.3442 15.7395 11.4324 15.8276C11.5205 15.9158 11.57 16.0353 11.57 16.16C11.57 16.2846 11.5205 16.4042 11.4324 16.4923C11.3442 16.5805 11.2247 16.63 11.1 16.63ZM18.73 13.71L20 15.01L15.08 20L15.07 19.99L14.48 19.39L13.81 18.7L11.92 16.77L13.18 15.48L15.08 17.42L18.73 13.71Z",rejectSingleChange:"M17.0495 11.5C17.1461 11.5 17.241 11.5173 17.33 11.5501V9.3H13.28C13.207 9.30976 13.133 9.30976 13.06 9.3C12.7697 9.22119 12.5113 9.05343 12.3212 8.82027C12.1311 8.58711 12.0187 8.30026 12 8V4H4.13C4.09552 4 4.06246 4.0137 4.03808 4.03808C4.0137 4.06246 4 4.09552 4 4.13V19.87C4 19.9045 4.0137 19.9375 4.03808 19.9619C4.06246 19.9863 4.09552 20 4.13 20H13.2305C13.1075 19.8287 13.0338 19.6249 13.0205 19.4112L13.0195 19.3956V18.52H5C4.87537 18.52 4.75586 18.4705 4.66772 18.3823C4.57959 18.2942 4.53003 18.1747 4.53003 18.05C4.53003 18.0119 4.53467 17.9742 4.54358 17.9378C4.56396 17.8552 4.60657 17.7788 4.66772 17.7177C4.75586 17.6295 4.87537 17.58 5 17.58H13.0195V14.74H5C4.87537 14.74 4.75586 14.6905 4.66772 14.6023C4.57959 14.5142 4.53003 14.3947 4.53003 14.27C4.53003 14.1453 4.57959 14.0258 4.66772 13.9377C4.75586 13.8495 4.87537 13.8 5 13.8H12.8393C12.6229 13.6377 12.4998 13.3897 12.4998 13.1032C12.4997 12.8414 12.6008 12.5847 12.7513 12.3911C12.9 12.1998 13.1561 12 13.4994 12L15.2519 12C15.2928 11.8972 15.3589 11.7915 15.4649 11.6992C15.6135 11.5698 15.8041 11.499 16.0011 11.5H17.0495ZM13.1 4.65L16.6 8.15C16.6211 8.17232 16.6354 8.20028 16.6411 8.23051C16.6468 8.26075 16.6437 8.29199 16.6321 8.32048C16.6204 8.34898 16.6009 8.37352 16.5757 8.39117C16.5505 8.40882 16.5207 8.41883 16.49 8.42H13.06L12.83 8.19V4.76C12.8311 4.72925 12.8411 4.6995 12.8588 4.67429C12.8764 4.64909 12.901 4.62951 12.9295 4.6179C12.958 4.6063 12.9892 4.60315 13.0194 4.60884C13.0497 4.61453 13.0776 4.62882 13.1 4.65ZM11 6.72C11.0027 6.66089 10.9937 6.60184 10.9735 6.5462C10.9716 6.5408 10.9695 6.53543 10.9673 6.53012C10.9626 6.51852 10.9575 6.50717 10.9518 6.49603C10.9406 6.47391 10.9275 6.45273 10.9127 6.43274C10.9033 6.41992 10.8932 6.40759 10.8824 6.39581C10.8425 6.35217 10.7943 6.3168 10.7407 6.29178C10.6871 6.26678 10.629 6.25256 10.5699 6.25H5C4.88232 6.25772 4.77246 6.31131 4.69397 6.39917C4.61536 6.48706 4.57446 6.60226 4.57996 6.72C4.57715 6.7811 4.58679 6.84152 4.60767 6.8978C4.61523 6.91803 4.62415 6.93771 4.63452 6.9567C4.65088 6.98669 4.67078 7.01495 4.69397 7.04083C4.77246 7.12869 4.88232 7.18228 5 7.19H10.6C10.714 7.1774 10.8188 7.12173 10.8932 7.03436C10.922 7.00049 10.9454 6.96283 10.9629 6.92273C10.9725 6.9006 10.9805 6.87775 10.9865 6.8544C10.9933 6.82791 10.9977 6.80075 10.9995 6.77325C11.0001 6.76453 11.0004 6.75574 11.0005 6.74695C11.0006 6.73798 11.0005 6.729 11 6.72ZM11.1 8.14001H5C4.97534 8.14001 4.95081 8.14194 4.92676 8.14575C4.89587 8.15063 4.8656 8.15857 4.83643 8.1694C4.77368 8.19272 4.71606 8.2294 4.66772 8.27768C4.57959 8.36581 4.53003 8.48535 4.53003 8.61002C4.53003 8.73468 4.57959 8.85422 4.66772 8.94235C4.75586 9.03049 4.87537 9.08002 5 9.08002H11.1C11.2247 9.08002 11.3442 9.03049 11.4324 8.94235C11.4617 8.91306 11.4867 8.88028 11.5071 8.845C11.5349 8.79691 11.554 8.74414 11.5634 8.68915C11.5677 8.66318 11.5701 8.63672 11.5701 8.61002C11.5701 8.48535 11.5205 8.36581 11.4324 8.27768C11.3929 8.23831 11.3474 8.20663 11.2979 8.18365C11.2365 8.15518 11.1689 8.14001 11.1 8.14001ZM5 11H15.45C15.5826 11 15.7098 10.9473 15.8036 10.8535C15.8973 10.7598 15.95 10.6326 15.95 10.5C15.95 10.3674 15.8973 10.2402 15.8036 10.1465C15.7098 10.0527 15.5826 10 15.45 10H5C4.86743 10 4.74023 10.0527 4.64648 10.1465C4.55273 10.2402 4.5 10.3674 4.5 10.5C4.5 10.6326 4.55273 10.7598 4.64648 10.8535C4.74023 10.9473 4.86743 11 5 11ZM5 12.86H11.1C11.2211 12.8523 11.3346 12.798 11.4166 12.7085C11.4987 12.6191 11.5428 12.5013 11.54 12.38C11.5427 12.2597 11.4982 12.1431 11.4159 12.0552C11.3336 11.9673 11.2202 11.9152 11.1 11.91H5C4.94092 11.9126 4.88281 11.9268 4.82922 11.9518C4.77563 11.9768 4.72742 12.0122 4.6875 12.0558C4.64758 12.0995 4.6167 12.1506 4.59644 12.2062C4.58899 12.2266 4.58313 12.2475 4.57874 12.2687C4.57129 12.3052 4.56824 12.3426 4.56995 12.38C4.56445 12.5004 4.60645 12.6181 4.68689 12.7079C4.76733 12.7976 4.87976 12.8523 5 12.86ZM11.1 16.63H5C4.87537 16.63 4.75586 16.5805 4.66772 16.4923C4.57959 16.4042 4.53003 16.2846 4.53003 16.16C4.53003 16.0353 4.57959 15.9158 4.66772 15.8276C4.75586 15.7395 4.87537 15.69 5 15.69H11.1C11.2247 15.69 11.3442 15.7395 11.4324 15.8276C11.5205 15.9158 11.5701 16.0353 11.5701 16.16C11.5701 16.2846 11.5205 16.4042 11.4324 16.4923C11.3442 16.5805 11.2247 16.63 11.1 16.63ZM19.59 12.53H17.36V12.3C17.3574 12.2195 17.3236 12.1432 17.2657 12.0872C17.2078 12.0313 17.1305 12 17.05 12H16C15.9242 11.9994 15.8509 12.0265 15.7938 12.0762C15.7367 12.126 15.6997 12.1949 15.69 12.27V12.5H13.44C13.3768 12.4994 13.3142 12.5125 13.2565 12.5382C13.1988 12.564 13.1473 12.6019 13.1055 12.6493C13.0638 12.6968 13.0327 12.7526 13.0145 12.8132C12.9963 12.8737 12.9913 12.9374 13 13V13.67C13 13.6871 13.0033 13.704 13.0099 13.7198C13.0164 13.7355 13.026 13.7499 13.038 13.7619C13.0501 13.774 13.0644 13.7836 13.0802 13.7901C13.096 13.7966 13.1129 13.8 13.13 13.8H19.84C19.8611 13.8054 19.8834 13.8054 19.9045 13.8C19.9257 13.7946 19.9452 13.7839 19.9611 13.7689C19.9771 13.754 19.989 13.7352 19.9958 13.7144C20.0026 13.6937 20.004 13.6715 20 13.65V13C20.0028 12.8866 19.9617 12.7765 19.8853 12.6927C19.809 12.6088 19.7031 12.5577 19.59 12.55V12.53ZM13.52 14V19.38C13.5303 19.5454 13.6054 19.7 13.7289 19.8105C13.8525 19.9209 14.0145 19.9782 14.18 19.97H18.84C19.0055 19.9782 19.1676 19.9209 19.2911 19.8105C19.4146 19.7 19.4897 19.5454 19.5 19.38V14H13.52ZM15.52 18.67C15.52 18.7522 15.4874 18.8311 15.4292 18.8892C15.3711 18.9473 15.2922 18.98 15.21 18.98H14.83C14.7478 18.98 14.669 18.9473 14.6108 18.8892C14.5527 18.8311 14.52 18.7522 14.52 18.67V15.33C14.52 15.2893 14.528 15.249 14.5436 15.2114C14.5592 15.1738 14.582 15.1396 14.6108 15.1108C14.6396 15.082 14.6738 15.0592 14.7114 15.0436C14.749 15.028 14.7893 15.02 14.83 15.02H15.21C15.2507 15.02 15.291 15.028 15.3287 15.0436C15.3663 15.0592 15.4004 15.082 15.4292 15.1108C15.458 15.1396 15.4808 15.1738 15.4964 15.2114C15.512 15.249 15.52 15.2893 15.52 15.33V18.67ZM17.01 18.67C17.01 18.7522 16.9774 18.8311 16.9192 18.8892C16.8611 18.9473 16.7822 18.98 16.7 18.98H16.32C16.2798 18.98 16.2399 18.9719 16.2029 18.9562C16.1658 18.9405 16.1323 18.9176 16.1043 18.8886C16.0763 18.8597 16.0544 18.8254 16.0399 18.7879C16.0254 18.7503 16.0187 18.7102 16.02 18.67V15.33C16.0187 15.2898 16.0254 15.2497 16.0399 15.2121C16.0544 15.1746 16.0763 15.1403 16.1043 15.1114C16.1323 15.0824 16.1658 15.0595 16.2029 15.0438C16.2399 15.0281 16.2798 15.02 16.32 15.02H16.7C16.7407 15.02 16.781 15.028 16.8187 15.0436C16.8563 15.0592 16.8904 15.082 16.9192 15.1108C16.948 15.1396 16.9708 15.1738 16.9864 15.2114C17.002 15.249 17.01 15.2893 17.01 15.33V18.67ZM18.51 18.67C18.51 18.7107 18.502 18.751 18.4864 18.7886C18.4708 18.8262 18.448 18.8604 18.4192 18.8892C18.3904 18.918 18.3563 18.9408 18.3187 18.9564C18.281 18.972 18.2407 18.98 18.2 18.98H17.82C17.7378 18.98 17.659 18.9473 17.6008 18.8892C17.5427 18.8311 17.51 18.7522 17.51 18.67V15.33C17.51 15.2893 17.518 15.249 17.5336 15.2114C17.5492 15.1738 17.572 15.1396 17.6008 15.1108C17.6296 15.082 17.6638 15.0592 17.7014 15.0436C17.739 15.028 17.7793 15.02 17.82 15.02H18.2C18.2407 15.02 18.281 15.028 18.3187 15.0436C18.3563 15.0592 18.3904 15.082 18.4192 15.1108C18.448 15.1396 18.4708 15.1738 18.4864 15.2114C18.502 15.249 18.51 15.2893 18.51 15.33V18.67Z",chevronDown:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z",chevronUp:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},ve.FILEICONS={docIcon:{extension:".doc",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 9.617188 46.875 C 13.234375 46.875 16.160156 43.929688 16.160156 40.292969 C 16.160156 36.695312 13.234375 33.75 9.617188 33.75 L 7.402344 33.75 C 6.820312 33.75 6.371094 34.199219 6.371094 34.78125 L 6.371094 45.84375 C 6.371094 46.335938 6.714844 46.757812 7.191406 46.855469 L 7.402344 46.875 Z M 9.617188 44.792969 L 8.453125 44.792969 L 8.453125 35.832031 L 9.617188 35.832031 C 12.089844 35.832031 14.078125 37.835938 14.078125 40.292969 C 14.078125 42.789062 12.089844 44.773438 9.617188 44.792969 Z M 24.816406 46.875 C 26.539062 46.875 28.191406 46.085938 29.296875 44.867188 C 30.460938 43.648438 31.191406 41.980469 31.191406 40.125 C 31.191406 38.269531 30.460938 36.617188 29.296875 35.382812 C 28.191406 34.144531 26.539062 33.375 24.816406 33.375 C 23.015625 33.375 21.367188 34.144531 20.222656 35.382812 C 19.058594 36.617188 18.367188 38.269531 18.367188 40.125 C 18.367188 41.980469 19.058594 43.648438 20.222656 44.867188 C 21.367188 46.085938 23.015625 46.875 24.816406 46.875 Z M 24.816406 44.738281 C 23.617188 44.738281 22.566406 44.230469 21.777344 43.386719 C 20.992188 42.582031 20.503906 41.398438 20.503906 40.125 C 20.503906 38.851562 20.992188 37.667969 21.777344 36.84375 C 22.566406 36 23.617188 35.511719 24.816406 35.511719 C 25.941406 35.511719 26.992188 36 27.777344 36.84375 C 28.546875 37.667969 29.054688 38.851562 29.054688 40.125 C 29.054688 41.398438 28.546875 42.582031 27.777344 43.386719 C 26.992188 44.230469 25.941406 44.738281 24.816406 44.738281 Z M 39.996094 46.875 C 41.648438 46.875 43.148438 46.332031 44.328125 45.414062 C 44.777344 45.054688 44.851562 44.382812 44.515625 43.914062 C 44.140625 43.460938 43.445312 43.386719 43.015625 43.707031 C 42.171875 44.382812 41.160156 44.738281 39.996094 44.738281 C 38.703125 44.738281 37.503906 44.210938 36.621094 43.386719 C 35.777344 42.5625 35.253906 41.398438 35.253906 40.125 C 35.253906 38.851562 35.777344 37.726562 36.621094 36.863281 C 37.503906 36.039062 38.703125 35.511719 39.996094 35.511719 C 41.160156 35.511719 42.191406 35.867188 43.015625 36.542969 C 43.445312 36.882812 44.140625 36.804688 44.515625 36.335938 C 44.851562 35.867188 44.777344 35.210938 44.328125 34.835938 C 43.148438 33.917969 41.648438 33.375 39.996094 33.375 C 36.246094 33.394531 33.132812 36.414062 33.117188 40.125 C 33.132812 43.855469 36.246094 46.875 39.996094 46.875 Z M 39.996094 46.875 "/>
      </g>`},gifIcon:{extension:".gif",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 17.394531 46.875 C 18.988281 46.875 20.46875 46.332031 21.648438 45.414062 C 21.835938 45.28125 21.949219 45.132812 22.003906 44.960938 L 22.003906 44.945312 C 22.023438 44.90625 22.023438 44.886719 22.042969 44.851562 C 22.0625 44.738281 22.097656 44.664062 22.097656 44.53125 L 22.097656 40.386719 C 22.097656 39.789062 21.613281 39.335938 21.011719 39.335938 L 17.28125 39.335938 C 16.699219 39.335938 16.210938 39.789062 16.210938 40.386719 C 16.210938 40.96875 16.699219 41.457031 17.28125 41.457031 L 19.960938 41.457031 L 19.960938 44.023438 C 19.210938 44.457031 18.332031 44.738281 17.394531 44.738281 C 16.042969 44.738281 14.863281 44.230469 14.019531 43.367188 C 13.136719 42.523438 12.613281 41.382812 12.613281 40.144531 C 12.613281 38.867188 13.136719 37.726562 14.019531 36.882812 C 14.863281 36.019531 16.042969 35.511719 17.394531 35.511719 C 18.519531 35.511719 19.550781 35.90625 20.355469 36.523438 C 20.824219 36.898438 21.519531 36.804688 21.875 36.355469 C 22.230469 35.886719 22.15625 35.195312 21.667969 34.835938 C 20.503906 33.917969 18.988281 33.375 17.394531 33.375 C 13.585938 33.375 10.472656 36.375 10.472656 40.144531 C 10.472656 43.894531 13.585938 46.875 17.394531 46.875 Z M 26.945312 46.875 C 27.507812 46.875 27.996094 46.425781 27.996094 45.84375 L 27.996094 34.78125 C 27.996094 34.199219 27.507812 33.75 26.945312 33.75 C 26.363281 33.75 25.914062 34.199219 25.914062 34.78125 L 25.914062 45.84375 C 25.914062 46.425781 26.363281 46.875 26.945312 46.875 Z M 33.066406 46.875 C 33.648438 46.875 34.117188 46.40625 34.117188 45.84375 L 34.117188 41.34375 L 38.488281 41.34375 C 39.050781 41.34375 39.519531 40.875 39.519531 40.292969 C 39.519531 39.75 39.050781 39.261719 38.488281 39.261719 L 34.117188 39.261719 L 34.117188 35.832031 L 39.199219 35.832031 C 39.742188 35.832031 40.230469 35.363281 40.230469 34.78125 C 40.230469 34.21875 39.742188 33.75 39.199219 33.75 L 33.066406 33.75 C 32.488281 33.75 32.035156 34.21875 32.035156 34.78125 L 32.035156 45.84375 C 32.035156 46.40625 32.488281 46.875 33.066406 46.875 Z M 33.066406 46.875 "/>
      </g>`},jpegIcon:{extension:".jpeg",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 9 43.75 C 11.140625 43.75 12.890625 42.015625 12.890625 39.875 L 12.890625 33.671875 C 12.890625 33.1875 12.5 32.8125 12.03125 32.8125 C 11.546875 32.8125 11.15625 33.1875 11.15625 33.671875 L 11.15625 39.875 C 11.15625 41.046875 10.1875 42.015625 9 42.015625 C 8.046875 42.015625 7.234375 41.390625 6.953125 40.53125 C 6.8125 40.078125 6.328125 39.828125 5.859375 39.984375 C 5.421875 40.109375 5.15625 40.59375 5.3125 41.0625 C 5.8125 42.625 7.28125 43.75 9 43.75 Z M 15.640625 43.75 C 16.125 43.75 16.515625 43.359375 16.515625 42.890625 L 16.515625 39.5 L 18.4375 39.5 C 20.296875 39.5 21.796875 38 21.796875 36.171875 C 21.796875 34.3125 20.296875 32.8125 18.4375 32.8125 L 15.640625 32.8125 C 15.171875 32.8125 14.78125 33.1875 14.78125 33.671875 L 14.78125 42.890625 C 14.78125 43.359375 15.171875 43.75 15.640625 43.75 Z M 18.4375 37.765625 L 16.515625 37.765625 L 16.515625 34.546875 L 18.4375 34.546875 C 19.34375 34.546875 20.046875 35.265625 20.0625 36.171875 C 20.046875 37.046875 19.34375 37.765625 18.4375 37.765625 Z M 29.234375 43.75 C 29.6875 43.75 30.09375 43.359375 30.09375 42.890625 C 30.09375 42.40625 29.6875 42.015625 29.234375 42.015625 L 25 42.015625 L 25 39.140625 L 28.640625 39.140625 C 29.109375 39.140625 29.5 38.75 29.5 38.265625 C 29.5 37.8125 29.109375 37.40625 28.640625 37.40625 L 25 37.40625 L 25 34.546875 L 29.234375 34.546875 C 29.6875 34.546875 30.09375 34.15625 30.09375 33.671875 C 30.09375 33.1875 29.6875 32.8125 29.234375 32.8125 L 24.125 32.8125 C 23.640625 32.8125 23.265625 33.1875 23.265625 33.671875 L 23.265625 42.890625 C 23.265625 43.359375 23.640625 43.75 24.125 43.75 C 24.125 43.75 24.140625 43.734375 24.140625 43.734375 C 24.140625 43.734375 24.140625 43.75 24.171875 43.75 Z M 37.1875 43.75 C 38.515625 43.75 39.75 43.296875 40.734375 42.53125 C 40.890625 42.421875 40.984375 42.296875 41.03125 42.15625 L 41.03125 42.140625 C 41.046875 42.109375 41.046875 42.09375 41.0625 42.0625 C 41.078125 41.96875 41.109375 41.90625 41.109375 41.796875 L 41.109375 38.34375 C 41.109375 37.914062 40.8125 37.578125 40.410156 37.492188 L 40.203125 37.46875 L 37.09375 37.46875 C 36.609375 37.46875 36.203125 37.84375 36.203125 38.34375 C 36.203125 38.828125 36.609375 39.234375 37.09375 39.234375 L 39.328125 39.234375 L 39.328125 41.375 C 38.703125 41.734375 37.96875 41.96875 37.1875 41.96875 C 36.0625 41.96875 35.078125 41.546875 34.375 40.828125 C 33.640625 40.125 33.203125 39.171875 33.203125 38.140625 C 33.203125 37.078125 33.640625 36.125 34.375 35.421875 C 35.078125 34.703125 36.0625 34.28125 37.1875 34.28125 C 38.125 34.28125 38.984375 34.609375 39.65625 35.125 C 40.046875 35.4375 40.625 35.359375 40.921875 34.984375 C 41.21875 34.59375 41.15625 34.015625 40.75 33.71875 C 39.78125 32.953125 38.515625 32.5 37.1875 32.5 C 34.015625 32.5 31.421875 35 31.421875 38.140625 C 31.421875 41.265625 34.015625 43.75 37.1875 43.75 Z M 37.1875 43.75 "/>
      </g>`},logIcon:{extension:".log",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 13.542969 46.875 C 14.085938 46.875 14.574219 46.40625 14.574219 45.84375 C 14.574219 45.261719 14.085938 44.792969 13.542969 44.792969 L 8.460938 44.792969 L 8.460938 34.78125 C 8.460938 34.21875 7.992188 33.75 7.410156 33.75 C 6.828125 33.75 6.378906 34.21875 6.378906 34.78125 L 6.378906 45.84375 C 6.378906 46.40625 6.828125 46.875 7.410156 46.875 Z M 21.742188 46.875 C 23.46875 46.875 25.117188 46.085938 26.222656 44.867188 C 27.386719 43.648438 28.117188 41.980469 28.117188 40.125 C 28.117188 38.269531 27.386719 36.617188 26.222656 35.382812 C 25.117188 34.144531 23.46875 33.375 21.742188 33.375 C 19.941406 33.375 18.292969 34.144531 17.148438 35.382812 C 15.984375 36.617188 15.292969 38.269531 15.292969 40.125 C 15.292969 41.980469 15.984375 43.648438 17.148438 44.867188 C 18.292969 46.085938 19.941406 46.875 21.742188 46.875 Z M 21.742188 44.738281 C 20.542969 44.738281 19.492188 44.230469 18.703125 43.386719 C 17.917969 42.582031 17.429688 41.398438 17.429688 40.125 C 17.429688 38.851562 17.917969 37.667969 18.703125 36.84375 C 19.492188 36 20.542969 35.511719 21.742188 35.511719 C 22.867188 35.511719 23.917969 36 24.703125 36.84375 C 25.472656 37.667969 25.980469 38.851562 25.980469 40.125 C 25.980469 41.398438 25.472656 42.582031 24.703125 43.386719 C 23.917969 44.230469 22.867188 44.738281 21.742188 44.738281 Z M 37.300781 46.875 C 38.894531 46.875 40.375 46.332031 41.558594 45.414062 C 41.746094 45.28125 41.855469 45.132812 41.914062 44.960938 L 41.914062 44.945312 L 41.949219 44.851562 C 41.96875 44.738281 42.007812 44.664062 42.007812 44.53125 L 42.007812 40.386719 C 42.007812 39.789062 41.519531 39.335938 40.917969 39.335938 L 37.1875 39.335938 C 36.605469 39.335938 36.121094 39.789062 36.121094 40.386719 C 36.121094 40.96875 36.605469 41.457031 37.1875 41.457031 L 39.871094 41.457031 L 39.871094 44.023438 C 39.121094 44.457031 38.238281 44.738281 37.300781 44.738281 C 35.949219 44.738281 34.769531 44.230469 33.925781 43.367188 C 33.042969 42.523438 32.519531 41.382812 32.519531 40.144531 C 32.519531 38.867188 33.042969 37.726562 33.925781 36.882812 C 34.769531 36.019531 35.949219 35.511719 37.300781 35.511719 C 38.425781 35.511719 39.457031 35.90625 40.261719 36.523438 C 40.730469 36.898438 41.425781 36.804688 41.78125 36.355469 C 42.136719 35.886719 42.0625 35.195312 41.574219 34.835938 C 40.414062 33.917969 38.894531 33.375 37.300781 33.375 C 33.496094 33.375 30.382812 36.375 30.382812 40.144531 C 30.382812 43.894531 33.496094 46.875 37.300781 46.875 Z M 37.300781 46.875 "/>
      </g>`},movIcon:{extension:".mov",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 15.472656 46.875 C 16.035156 46.875 16.523438 46.40625 16.523438 45.84375 L 16.523438 34.78125 C 16.523438 34.289062 16.152344 33.882812 15.679688 33.777344 L 15.472656 33.75 L 15.453125 33.75 C 15.117188 33.75 14.816406 33.898438 14.609375 34.179688 L 10.878906 39.355469 L 7.148438 34.179688 C 6.960938 33.898438 6.625 33.75 6.324219 33.75 L 6.265625 33.75 C 5.703125 33.75 5.234375 34.21875 5.234375 34.78125 L 5.234375 45.84375 C 5.234375 46.40625 5.703125 46.875 6.265625 46.875 C 6.847656 46.875 7.316406 46.40625 7.316406 45.84375 L 7.316406 37.949219 L 10 41.699219 C 10.203125 41.980469 10.523438 42.132812 10.859375 42.132812 L 10.898438 42.132812 C 11.234375 42.132812 11.535156 41.980469 11.742188 41.699219 L 14.441406 37.949219 L 14.441406 45.84375 C 14.441406 46.40625 14.890625 46.875 15.472656 46.875 Z M 25.460938 46.875 C 27.1875 46.875 28.835938 46.085938 29.941406 44.867188 C 31.105469 43.648438 31.835938 41.980469 31.835938 40.125 C 31.835938 38.269531 31.105469 36.617188 29.941406 35.382812 C 28.835938 34.144531 27.1875 33.375 25.460938 33.375 C 23.660156 33.375 22.011719 34.144531 20.867188 35.382812 C 19.703125 36.617188 19.011719 38.269531 19.011719 40.125 C 19.011719 41.980469 19.703125 43.648438 20.867188 44.867188 C 22.011719 46.085938 23.660156 46.875 25.460938 46.875 Z M 25.460938 44.738281 C 24.261719 44.738281 23.210938 44.230469 22.421875 43.386719 C 21.636719 42.582031 21.148438 41.398438 21.148438 40.125 C 21.148438 38.851562 21.636719 37.667969 22.421875 36.84375 C 23.210938 36 24.261719 35.511719 25.460938 35.511719 C 26.585938 35.511719 27.636719 36 28.421875 36.84375 C 29.191406 37.667969 29.699219 38.851562 29.699219 40.125 C 29.699219 41.398438 29.191406 42.582031 28.421875 43.386719 C 27.636719 44.230469 26.585938 44.738281 25.460938 44.738281 Z M 38.683594 46.855469 L 38.71875 46.855469 C 38.777344 46.835938 38.8125 46.820312 38.871094 46.820312 C 38.886719 46.800781 38.886719 46.800781 38.90625 46.800781 C 38.964844 46.78125 39.019531 46.726562 39.058594 46.707031 L 39.09375 46.6875 L 39.207031 46.59375 C 39.226562 46.574219 39.226562 46.574219 39.246094 46.539062 L 39.339844 46.425781 C 39.355469 46.425781 39.355469 46.425781 39.355469 46.40625 C 39.394531 46.367188 39.414062 46.292969 39.433594 46.257812 L 44.0625 35.304688 C 44.269531 34.800781 44.027344 34.179688 43.5 33.976562 C 42.996094 33.75 42.375 33.992188 42.152344 34.519531 L 38.496094 43.199219 L 34.839844 34.519531 C 34.613281 33.992188 34.011719 33.75 33.507812 33.976562 C 32.964844 34.179688 32.71875 34.800781 32.945312 35.304688 L 37.539062 46.257812 C 37.574219 46.292969 37.613281 46.367188 37.632812 46.40625 C 37.632812 46.425781 37.652344 46.425781 37.652344 46.425781 C 37.667969 46.460938 37.707031 46.5 37.746094 46.539062 C 37.746094 46.574219 37.761719 46.574219 37.761719 46.59375 C 37.820312 46.632812 37.855469 46.648438 37.894531 46.6875 L 37.914062 46.6875 C 37.96875 46.726562 38.042969 46.78125 38.082031 46.800781 L 38.101562 46.800781 C 38.101562 46.800781 38.121094 46.800781 38.121094 46.820312 C 38.15625 46.820312 38.230469 46.835938 38.269531 46.855469 L 38.308594 46.855469 L 38.402344 46.871094 L 38.496094 46.875 C 38.550781 46.875 38.605469 46.875 38.683594 46.855469 Z M 38.683594 46.855469 "/>
      </g>`},ogvIcon:{extension:".ogv",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 11.511719 46.875 C 13.238281 46.875 14.886719 46.085938 15.996094 44.867188 C 17.15625 43.648438 17.886719 41.980469 17.886719 40.125 C 17.886719 38.269531 17.15625 36.617188 15.996094 35.382812 C 14.886719 34.144531 13.238281 33.375 11.511719 33.375 C 9.714844 33.375 8.0625 34.144531 6.917969 35.382812 C 5.757812 36.617188 5.0625 38.269531 5.0625 40.125 C 5.0625 41.980469 5.757812 43.648438 6.917969 44.867188 C 8.0625 46.085938 9.714844 46.875 11.511719 46.875 Z M 11.511719 44.738281 C 10.3125 44.738281 9.261719 44.230469 8.476562 43.386719 C 7.6875 42.582031 7.199219 41.398438 7.199219 40.125 C 7.199219 38.851562 7.6875 37.667969 8.476562 36.84375 C 9.261719 36 10.3125 35.511719 11.511719 35.511719 C 12.636719 35.511719 13.6875 36 14.476562 36.84375 C 15.246094 37.667969 15.75 38.851562 15.75 40.125 C 15.75 41.398438 15.246094 42.582031 14.476562 43.386719 C 13.6875 44.230469 12.636719 44.738281 11.511719 44.738281 Z M 27.25 46.875 C 28.84375 46.875 30.324219 46.332031 31.507812 45.414062 C 31.695312 45.28125 31.804688 45.132812 31.863281 44.960938 L 31.863281 44.945312 C 31.882812 44.90625 31.882812 44.886719 31.898438 44.851562 C 31.917969 44.738281 31.957031 44.664062 31.957031 44.53125 L 31.957031 40.386719 C 31.957031 39.789062 31.46875 39.335938 30.867188 39.335938 L 27.136719 39.335938 C 26.554688 39.335938 26.070312 39.789062 26.070312 40.386719 C 26.070312 40.96875 26.554688 41.457031 27.136719 41.457031 L 29.820312 41.457031 L 29.820312 44.023438 C 29.070312 44.457031 28.1875 44.738281 27.25 44.738281 C 25.898438 44.738281 24.71875 44.230469 23.875 43.367188 C 22.992188 42.523438 22.46875 41.382812 22.46875 40.144531 C 22.46875 38.867188 22.992188 37.726562 23.875 36.882812 C 24.71875 36.019531 25.898438 35.511719 27.25 35.511719 C 28.375 35.511719 29.40625 35.90625 30.210938 36.523438 C 30.679688 36.898438 31.375 36.804688 31.730469 36.355469 C 32.085938 35.886719 32.011719 35.195312 31.523438 34.835938 C 30.363281 33.917969 28.84375 33.375 27.25 33.375 C 23.445312 33.375 20.332031 36.375 20.332031 40.144531 C 20.332031 43.894531 23.445312 46.875 27.25 46.875 Z M 40.191406 46.855469 L 40.230469 46.855469 C 40.285156 46.835938 40.324219 46.820312 40.378906 46.820312 C 40.398438 46.800781 40.398438 46.800781 40.417969 46.800781 C 40.472656 46.78125 40.53125 46.726562 40.566406 46.707031 C 40.605469 46.6875 40.605469 46.6875 40.605469 46.6875 L 40.71875 46.59375 C 40.738281 46.574219 40.738281 46.574219 40.753906 46.539062 L 40.847656 46.425781 C 40.867188 46.425781 40.867188 46.425781 40.867188 46.40625 C 40.90625 46.367188 40.925781 46.292969 40.941406 46.257812 L 45.574219 35.304688 C 45.78125 34.800781 45.535156 34.179688 45.011719 33.976562 C 44.503906 33.75 43.886719 33.992188 43.660156 34.519531 L 40.003906 43.199219 L 36.347656 34.519531 C 36.125 33.992188 35.523438 33.75 35.019531 33.976562 C 34.472656 34.179688 34.230469 34.800781 34.457031 35.304688 L 39.050781 46.257812 C 39.085938 46.292969 39.125 46.367188 39.144531 46.40625 C 39.144531 46.425781 39.160156 46.425781 39.160156 46.425781 C 39.179688 46.460938 39.21875 46.5 39.253906 46.539062 C 39.253906 46.574219 39.273438 46.574219 39.273438 46.59375 C 39.332031 46.632812 39.367188 46.648438 39.40625 46.6875 L 39.425781 46.6875 C 39.480469 46.726562 39.554688 46.78125 39.59375 46.800781 L 39.613281 46.800781 C 39.613281 46.800781 39.628906 46.800781 39.628906 46.820312 C 39.667969 46.820312 39.742188 46.835938 39.78125 46.855469 L 39.816406 46.855469 L 39.910156 46.871094 L 40.003906 46.875 C 40.0625 46.875 40.117188 46.875 40.191406 46.855469 Z M 40.191406 46.855469 "/>
      </g>`},pngIcon:{extension:".png",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.523438 46.875 C 8.105469 46.875 8.574219 46.40625 8.574219 45.84375 L 8.574219 41.773438 L 10.878906 41.773438 C 13.109375 41.773438 14.910156 39.976562 14.910156 37.78125 C 14.910156 35.550781 13.109375 33.75 10.878906 33.75 L 7.523438 33.75 C 6.960938 33.75 6.492188 34.199219 6.492188 34.78125 L 6.492188 45.84375 C 6.492188 46.40625 6.960938 46.875 7.523438 46.875 Z M 10.878906 39.695312 L 8.574219 39.695312 L 8.574219 35.832031 L 10.878906 35.832031 C 11.964844 35.832031 12.808594 36.695312 12.828125 37.78125 C 12.808594 38.832031 11.964844 39.695312 10.878906 39.695312 Z M 26.75 46.875 C 27.3125 46.875 27.78125 46.40625 27.78125 45.84375 L 27.78125 34.949219 C 27.78125 34.40625 27.3125 33.9375 26.75 33.9375 C 26.1875 33.9375 25.738281 34.40625 25.738281 34.949219 L 25.738281 42.675781 L 19.679688 34.292969 C 19.363281 33.84375 18.722656 33.75 18.253906 34.070312 C 17.972656 34.273438 17.824219 34.613281 17.84375 34.929688 L 17.84375 45.84375 C 17.84375 46.40625 18.292969 46.875 18.875 46.875 C 19.417969 46.875 19.886719 46.40625 19.886719 45.84375 L 19.886719 38.0625 L 25.886719 46.386719 C 25.90625 46.425781 25.941406 46.460938 25.980469 46.5 C 26.167969 46.726562 26.449219 46.875 26.75 46.875 Z M 38.082031 46.875 C 39.675781 46.875 41.15625 46.332031 42.339844 45.414062 C 42.527344 45.28125 42.636719 45.132812 42.695312 44.960938 L 42.695312 44.945312 C 42.714844 44.90625 42.714844 44.886719 42.730469 44.851562 C 42.75 44.738281 42.789062 44.664062 42.789062 44.53125 L 42.789062 40.386719 C 42.789062 39.789062 42.300781 39.335938 41.699219 39.335938 L 37.96875 39.335938 C 37.386719 39.335938 36.902344 39.789062 36.902344 40.386719 C 36.902344 40.96875 37.386719 41.457031 37.96875 41.457031 L 40.652344 41.457031 L 40.652344 44.023438 C 39.902344 44.457031 39.019531 44.738281 38.082031 44.738281 C 36.730469 44.738281 35.550781 44.230469 34.707031 43.367188 C 33.824219 42.523438 33.300781 41.382812 33.300781 40.144531 C 33.300781 38.867188 33.824219 37.726562 34.707031 36.882812 C 35.550781 36.019531 36.730469 35.511719 38.082031 35.511719 C 39.207031 35.511719 40.238281 35.90625 41.042969 36.523438 C 41.511719 36.898438 42.207031 36.804688 42.5625 36.355469 C 42.917969 35.886719 42.84375 35.195312 42.355469 34.835938 C 41.195312 33.917969 39.675781 33.375 38.082031 33.375 C 34.277344 33.375 31.164062 36.375 31.164062 40.144531 C 31.164062 43.894531 34.277344 46.875 38.082031 46.875 Z M 38.082031 46.875 "/>
      </g>`},txtIcon:{extension:".txt",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 12.847656 46.875 C 13.429688 46.875 13.878906 46.425781 13.878906 45.84375 L 13.878906 35.832031 L 16.859375 35.832031 C 17.421875 35.832031 17.890625 35.34375 17.890625 34.78125 C 17.890625 34.199219 17.421875 33.75 16.859375 33.75 L 8.855469 33.75 C 8.273438 33.75 7.824219 34.199219 7.824219 34.78125 C 7.824219 35.34375 8.273438 35.832031 8.855469 35.832031 L 11.816406 35.832031 L 11.816406 45.84375 C 11.816406 46.425781 12.285156 46.875 12.847656 46.875 Z M 29.019531 46.875 C 29.222656 46.875 29.429688 46.800781 29.617188 46.667969 C 30.085938 46.351562 30.160156 45.695312 29.84375 45.242188 L 26.28125 40.367188 L 29.84375 35.53125 C 30.160156 35.0625 30.085938 34.425781 29.617188 34.105469 C 29.148438 33.75 28.53125 33.84375 28.175781 34.332031 L 25.023438 38.644531 L 21.855469 34.332031 C 21.535156 33.84375 20.878906 33.75 20.429688 34.105469 C 19.960938 34.425781 19.867188 35.0625 20.1875 35.53125 L 23.75 40.367188 L 20.1875 45.242188 C 19.867188 45.695312 19.960938 46.351562 20.429688 46.667969 C 20.597656 46.800781 20.804688 46.875 21.03125 46.875 C 21.347656 46.875 21.648438 46.707031 21.855469 46.445312 L 25.023438 42.113281 L 28.175781 46.445312 C 28.378906 46.707031 28.679688 46.875 29.019531 46.875 Z M 37.464844 46.875 C 38.042969 46.875 38.496094 46.425781 38.496094 45.84375 L 38.496094 35.832031 L 41.476562 35.832031 C 42.039062 35.832031 42.507812 35.34375 42.507812 34.78125 C 42.507812 34.199219 42.039062 33.75 41.476562 33.75 L 33.46875 33.75 C 32.886719 33.75 32.4375 34.199219 32.4375 34.78125 C 32.4375 35.34375 32.886719 35.832031 33.46875 35.832031 L 36.433594 35.832031 L 36.433594 45.84375 C 36.433594 46.425781 36.902344 46.875 37.464844 46.875 Z M 37.464844 46.875 "/>
      </g>`},webmIcon:{extension:".webm",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.195312 43.734375 L 7.242188 43.734375 C 7.273438 43.71875 7.304688 43.703125 7.367188 43.703125 C 7.367188 43.6875 7.382812 43.6875 7.382812 43.6875 L 7.398438 43.6875 C 7.429688 43.671875 7.476562 43.625 7.523438 43.59375 L 7.554688 43.59375 C 7.585938 43.5625 7.617188 43.53125 7.648438 43.515625 C 7.648438 43.5 7.664062 43.5 7.664062 43.46875 L 7.757812 43.375 C 7.757812 43.375 7.757812 43.359375 7.773438 43.359375 C 7.789062 43.328125 7.820312 43.265625 7.835938 43.21875 L 9.882812 38.375 L 11.929688 43.21875 C 11.945312 43.265625 11.960938 43.328125 11.992188 43.359375 C 11.992188 43.359375 11.992188 43.375 12.023438 43.375 L 12.085938 43.46875 C 12.101562 43.5 12.101562 43.5 12.117188 43.515625 C 12.148438 43.53125 12.179688 43.5625 12.226562 43.59375 L 12.242188 43.59375 C 12.273438 43.625 12.320312 43.671875 12.382812 43.6875 C 12.398438 43.6875 12.398438 43.6875 12.414062 43.703125 C 12.445312 43.703125 12.476562 43.71875 12.523438 43.734375 L 12.570312 43.734375 L 12.640625 43.746094 L 12.710938 43.75 C 12.773438 43.75 12.820312 43.75 12.867188 43.734375 L 12.898438 43.734375 C 12.945312 43.71875 12.992188 43.703125 13.023438 43.703125 C 13.023438 43.6875 13.039062 43.6875 13.039062 43.6875 L 13.054688 43.6875 C 13.117188 43.671875 13.148438 43.625 13.195312 43.59375 L 13.210938 43.59375 C 13.242188 43.5625 13.289062 43.53125 13.320312 43.515625 C 13.320312 43.5 13.335938 43.5 13.335938 43.46875 C 13.367188 43.4375 13.398438 43.40625 13.414062 43.375 C 13.414062 43.375 13.429688 43.359375 13.429688 43.359375 C 13.460938 43.328125 13.492188 43.265625 13.507812 43.21875 L 17.335938 34.109375 C 17.523438 33.6875 17.320312 33.171875 16.898438 33 C 16.445312 32.8125 15.945312 33.015625 15.757812 33.453125 L 12.710938 40.6875 L 10.695312 35.890625 C 10.539062 35.546875 10.210938 35.359375 9.882812 35.359375 C 9.539062 35.359375 9.210938 35.546875 9.070312 35.890625 L 7.054688 40.6875 L 3.992188 33.453125 C 3.820312 33.015625 3.304688 32.8125 2.882812 33 C 2.429688 33.171875 2.242188 33.6875 2.414062 34.109375 L 6.257812 43.21875 C 6.289062 43.265625 6.304688 43.328125 6.335938 43.359375 L 6.335938 43.375 C 6.367188 43.40625 6.382812 43.4375 6.414062 43.46875 C 6.429688 43.5 6.429688 43.5 6.445312 43.515625 C 6.492188 43.53125 6.507812 43.5625 6.554688 43.59375 L 6.570312 43.59375 C 6.601562 43.625 6.664062 43.671875 6.710938 43.6875 C 6.726562 43.6875 6.726562 43.6875 6.742188 43.703125 C 6.773438 43.703125 6.804688 43.71875 6.851562 43.734375 L 6.898438 43.734375 L 6.976562 43.746094 L 7.054688 43.75 C 7.101562 43.75 7.148438 43.75 7.195312 43.734375 Z M 25.179688 43.75 C 25.632812 43.75 26.039062 43.359375 26.039062 42.890625 C 26.039062 42.40625 25.632812 42.015625 25.179688 42.015625 L 20.945312 42.015625 L 20.945312 39.140625 L 24.585938 39.140625 C 25.054688 39.140625 25.445312 38.75 25.445312 38.265625 C 25.445312 37.8125 25.054688 37.40625 24.585938 37.40625 L 20.945312 37.40625 L 20.945312 34.546875 L 25.179688 34.546875 C 25.632812 34.546875 26.039062 34.15625 26.039062 33.671875 C 26.039062 33.1875 25.632812 32.8125 25.179688 32.8125 L 20.070312 32.8125 C 19.585938 32.8125 19.210938 33.1875 19.210938 33.671875 L 19.210938 42.890625 C 19.210938 43.359375 19.585938 43.75 20.070312 43.75 C 20.070312 43.75 20.085938 43.734375 20.085938 43.734375 C 20.085938 43.734375 20.085938 43.75 20.117188 43.75 Z M 31.539062 43.75 C 33.382812 43.75 34.882812 42.25 34.882812 40.390625 C 34.882812 39.203125 34.242188 38.15625 33.304688 37.5625 C 33.679688 37.0625 33.898438 36.453125 33.898438 35.78125 C 33.898438 34.140625 32.570312 32.8125 30.929688 32.8125 L 28.710938 32.8125 C 28.242188 32.8125 27.851562 33.1875 27.851562 33.671875 L 27.851562 42.890625 C 27.851562 43.359375 28.242188 43.75 28.710938 43.75 L 28.757812 43.734375 C 28.757812 43.734375 28.757812 43.75 28.773438 43.75 Z M 30.929688 37.046875 L 29.585938 37.046875 L 29.585938 34.546875 L 30.929688 34.546875 C 31.617188 34.546875 32.164062 35.09375 32.164062 35.78125 C 32.164062 36.46875 31.617188 37.046875 30.929688 37.046875 Z M 31.539062 42.015625 L 29.585938 42.015625 L 29.585938 38.78125 L 31.539062 38.78125 C 32.429688 38.796875 33.148438 39.5 33.148438 40.390625 C 33.148438 41.296875 32.429688 42 31.539062 42.015625 Z M 45.664062 43.75 C 46.132812 43.75 46.539062 43.359375 46.539062 42.890625 L 46.539062 33.671875 C 46.539062 33.269531 46.242188 32.9375 45.859375 32.839844 L 45.664062 32.8125 L 45.648438 32.8125 C 45.367188 32.8125 45.117188 32.9375 44.945312 33.171875 L 41.835938 37.484375 L 38.726562 33.171875 C 38.570312 32.9375 38.289062 32.8125 38.039062 32.8125 L 37.992188 32.8125 C 37.523438 32.8125 37.132812 33.203125 37.132812 33.671875 L 37.132812 42.890625 C 37.132812 43.359375 37.523438 43.75 37.992188 43.75 C 38.476562 43.75 38.867188 43.359375 38.867188 42.890625 L 38.867188 36.3125 L 41.101562 39.4375 C 41.273438 39.671875 41.539062 39.796875 41.820312 39.796875 L 41.851562 39.796875 C 42.132812 39.796875 42.382812 39.671875 42.554688 39.4375 L 44.804688 36.3125 L 44.804688 42.890625 C 44.804688 43.359375 45.179688 43.75 45.664062 43.75 Z M 45.664062 43.75 "/>
      </g>`},webpIcon:{extension:".webp",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 9.234375 43.734375 L 9.28125 43.734375 C 9.3125 43.71875 9.34375 43.703125 9.40625 43.703125 L 9.414062 43.6875 C 9.421875 43.6875 9.421875 43.6875 9.4375 43.6875 C 9.46875 43.671875 9.515625 43.625 9.5625 43.59375 L 9.59375 43.59375 C 9.625 43.5625 9.65625 43.53125 9.6875 43.515625 C 9.6875 43.5 9.703125 43.5 9.703125 43.46875 L 9.796875 43.375 C 9.796875 43.375 9.796875 43.359375 9.8125 43.359375 C 9.828125 43.328125 9.859375 43.265625 9.875 43.21875 L 11.921875 38.375 L 13.96875 43.21875 C 13.984375 43.265625 14 43.328125 14.03125 43.359375 C 14.03125 43.359375 14.03125 43.375 14.0625 43.375 L 14.125 43.46875 C 14.140625 43.5 14.140625 43.5 14.15625 43.515625 L 14.203125 43.546875 L 14.265625 43.59375 C 14.265625 43.59375 14.265625 43.59375 14.28125 43.59375 C 14.3125 43.625 14.359375 43.671875 14.421875 43.6875 C 14.4375 43.6875 14.4375 43.6875 14.453125 43.703125 C 14.484375 43.703125 14.515625 43.71875 14.5625 43.734375 L 14.609375 43.734375 L 14.679688 43.746094 L 14.75 43.75 C 14.8125 43.75 14.859375 43.75 14.90625 43.734375 L 14.9375 43.734375 C 14.984375 43.71875 15.03125 43.703125 15.0625 43.703125 C 15.0625 43.6875 15.078125 43.6875 15.078125 43.6875 L 15.09375 43.6875 C 15.15625 43.671875 15.1875 43.625 15.234375 43.59375 L 15.25 43.59375 C 15.28125 43.5625 15.328125 43.53125 15.359375 43.515625 C 15.359375 43.5 15.375 43.5 15.375 43.46875 C 15.40625 43.4375 15.4375 43.40625 15.453125 43.375 L 15.46875 43.359375 C 15.5 43.328125 15.53125 43.265625 15.546875 43.21875 L 19.375 34.109375 C 19.5625 33.6875 19.359375 33.171875 18.9375 33 C 18.484375 32.8125 17.984375 33.015625 17.796875 33.453125 L 14.75 40.6875 L 12.734375 35.890625 C 12.578125 35.546875 12.25 35.359375 11.921875 35.359375 C 11.578125 35.359375 11.25 35.546875 11.109375 35.890625 L 9.09375 40.6875 L 6.03125 33.453125 C 5.859375 33.015625 5.34375 32.8125 4.921875 33 C 4.46875 33.171875 4.28125 33.6875 4.453125 34.109375 L 8.296875 43.21875 C 8.328125 43.265625 8.34375 43.328125 8.375 43.359375 L 8.375 43.375 C 8.40625 43.40625 8.421875 43.4375 8.453125 43.46875 C 8.46875 43.5 8.46875 43.5 8.484375 43.515625 L 8.539062 43.546875 L 8.59375 43.59375 C 8.59375 43.59375 8.59375 43.59375 8.609375 43.59375 C 8.640625 43.625 8.703125 43.671875 8.75 43.6875 C 8.765625 43.6875 8.765625 43.6875 8.78125 43.703125 C 8.8125 43.703125 8.84375 43.71875 8.890625 43.734375 L 8.9375 43.734375 L 9.015625 43.746094 L 9.09375 43.75 C 9.140625 43.75 9.1875 43.75 9.234375 43.734375 Z M 27.21875 43.75 C 27.671875 43.75 28.078125 43.359375 28.078125 42.890625 C 28.078125 42.40625 27.671875 42.015625 27.21875 42.015625 L 22.984375 42.015625 L 22.984375 39.140625 L 26.625 39.140625 C 27.09375 39.140625 27.484375 38.75 27.484375 38.265625 C 27.484375 37.8125 27.09375 37.40625 26.625 37.40625 L 22.984375 37.40625 L 22.984375 34.546875 L 27.21875 34.546875 C 27.671875 34.546875 28.078125 34.15625 28.078125 33.671875 C 28.078125 33.1875 27.671875 32.8125 27.21875 32.8125 L 22.109375 32.8125 C 21.625 32.8125 21.25 33.1875 21.25 33.671875 L 21.25 42.890625 C 21.25 43.359375 21.625 43.75 22.109375 43.75 L 22.125 43.734375 C 22.125 43.734375 22.125 43.75 22.15625 43.75 Z M 33.578125 43.75 C 35.421875 43.75 36.921875 42.25 36.921875 40.390625 C 36.921875 39.203125 36.28125 38.15625 35.34375 37.5625 C 35.71875 37.0625 35.9375 36.453125 35.9375 35.78125 C 35.9375 34.140625 34.609375 32.8125 32.96875 32.8125 L 30.75 32.8125 C 30.28125 32.8125 29.890625 33.1875 29.890625 33.671875 L 29.890625 42.890625 C 29.890625 43.359375 30.28125 43.75 30.75 43.75 C 30.765625 43.75 30.765625 43.734375 30.796875 43.734375 C 30.796875 43.734375 30.796875 43.75 30.8125 43.75 Z M 32.96875 37.046875 L 31.625 37.046875 L 31.625 34.546875 L 32.96875 34.546875 C 33.65625 34.546875 34.203125 35.09375 34.203125 35.78125 C 34.203125 36.46875 33.65625 37.046875 32.96875 37.046875 Z M 33.578125 42.015625 L 31.625 42.015625 L 31.625 38.78125 L 33.578125 38.78125 C 34.46875 38.796875 35.1875 39.5 35.1875 40.390625 C 35.1875 41.296875 34.46875 42 33.578125 42.015625 Z M 40.03125 43.75 C 40.515625 43.75 40.90625 43.359375 40.90625 42.890625 L 40.90625 39.5 L 42.828125 39.5 C 44.6875 39.5 46.1875 38 46.1875 36.171875 C 46.1875 34.3125 44.6875 32.8125 42.828125 32.8125 L 40.03125 32.8125 C 39.5625 32.8125 39.171875 33.1875 39.171875 33.671875 L 39.171875 42.890625 C 39.171875 43.359375 39.5625 43.75 40.03125 43.75 Z M 42.828125 37.765625 L 40.90625 37.765625 L 40.90625 34.546875 L 42.828125 34.546875 C 43.734375 34.546875 44.4375 35.265625 44.453125 36.171875 C 44.4375 37.046875 43.734375 37.765625 42.828125 37.765625 Z M 42.828125 37.765625 "/>
      </g>`},wmvIcon:{extension:".wmv",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 8.484375 43.734375 L 8.53125 43.734375 C 8.5625 43.71875 8.59375 43.703125 8.65625 43.703125 L 8.664062 43.6875 C 8.671875 43.6875 8.671875 43.6875 8.6875 43.6875 C 8.71875 43.671875 8.765625 43.625 8.8125 43.59375 L 8.84375 43.59375 C 8.875 43.5625 8.90625 43.53125 8.9375 43.515625 C 8.9375 43.5 8.953125 43.5 8.953125 43.46875 L 9.046875 43.375 C 9.046875 43.375 9.046875 43.359375 9.0625 43.359375 C 9.078125 43.328125 9.109375 43.265625 9.125 43.21875 L 11.171875 38.375 L 13.21875 43.21875 C 13.234375 43.265625 13.25 43.328125 13.28125 43.359375 C 13.28125 43.359375 13.28125 43.375 13.3125 43.375 L 13.375 43.46875 C 13.390625 43.5 13.390625 43.5 13.40625 43.515625 L 13.453125 43.546875 L 13.515625 43.59375 C 13.515625 43.59375 13.515625 43.59375 13.53125 43.59375 C 13.5625 43.625 13.609375 43.671875 13.671875 43.6875 C 13.6875 43.6875 13.6875 43.6875 13.703125 43.703125 C 13.734375 43.703125 13.765625 43.71875 13.8125 43.734375 L 13.859375 43.734375 L 13.929688 43.746094 L 14 43.75 C 14.0625 43.75 14.109375 43.75 14.15625 43.734375 L 14.1875 43.734375 C 14.234375 43.71875 14.28125 43.703125 14.3125 43.703125 C 14.3125 43.6875 14.328125 43.6875 14.328125 43.6875 L 14.34375 43.6875 C 14.40625 43.671875 14.4375 43.625 14.484375 43.59375 L 14.5 43.59375 C 14.53125 43.5625 14.578125 43.53125 14.609375 43.515625 C 14.609375 43.5 14.625 43.5 14.625 43.46875 C 14.65625 43.4375 14.6875 43.40625 14.703125 43.375 L 14.71875 43.359375 C 14.75 43.328125 14.78125 43.265625 14.796875 43.21875 L 18.625 34.109375 C 18.8125 33.6875 18.609375 33.171875 18.1875 33 C 17.734375 32.8125 17.234375 33.015625 17.046875 33.453125 L 14 40.6875 L 11.984375 35.890625 C 11.828125 35.546875 11.5 35.359375 11.171875 35.359375 C 10.828125 35.359375 10.5 35.546875 10.359375 35.890625 L 8.34375 40.6875 L 5.28125 33.453125 C 5.109375 33.015625 4.59375 32.8125 4.171875 33 C 3.71875 33.171875 3.53125 33.6875 3.703125 34.109375 L 7.546875 43.21875 C 7.578125 43.265625 7.59375 43.328125 7.625 43.359375 L 7.625 43.375 C 7.65625 43.40625 7.671875 43.4375 7.703125 43.46875 C 7.71875 43.5 7.71875 43.5 7.734375 43.515625 L 7.789062 43.546875 L 7.84375 43.59375 C 7.84375 43.59375 7.84375 43.59375 7.859375 43.59375 C 7.890625 43.625 7.953125 43.671875 8 43.6875 C 8.015625 43.6875 8.015625 43.6875 8.03125 43.703125 C 8.0625 43.703125 8.09375 43.71875 8.140625 43.734375 L 8.1875 43.734375 L 8.265625 43.746094 L 8.34375 43.75 C 8.390625 43.75 8.4375 43.75 8.484375 43.734375 Z M 29.03125 43.75 C 29.5 43.75 29.90625 43.359375 29.90625 42.890625 L 29.90625 33.671875 C 29.90625 33.269531 29.609375 32.9375 29.226562 32.839844 L 29.03125 32.8125 L 29.015625 32.8125 C 28.734375 32.8125 28.484375 32.9375 28.3125 33.171875 L 25.203125 37.484375 L 22.09375 33.171875 C 21.9375 32.9375 21.65625 32.8125 21.40625 32.8125 L 21.359375 32.8125 C 20.890625 32.8125 20.5 33.203125 20.5 33.671875 L 20.5 42.890625 C 20.5 43.359375 20.890625 43.75 21.359375 43.75 C 21.84375 43.75 22.234375 43.359375 22.234375 42.890625 L 22.234375 36.3125 L 24.46875 39.4375 C 24.640625 39.671875 24.90625 39.796875 25.1875 39.796875 L 25.21875 39.796875 C 25.5 39.796875 25.75 39.671875 25.921875 39.4375 L 28.171875 36.3125 L 28.171875 42.890625 C 28.171875 43.359375 28.546875 43.75 29.03125 43.75 Z M 37.015625 43.734375 L 37.0625 43.734375 C 37.09375 43.71875 37.125 43.703125 37.1875 43.703125 L 37.195312 43.6875 C 37.203125 43.6875 37.203125 43.6875 37.21875 43.6875 C 37.25 43.671875 37.296875 43.625 37.34375 43.59375 L 37.375 43.59375 C 37.40625 43.5625 37.4375 43.53125 37.46875 43.515625 C 37.46875 43.5 37.484375 43.5 37.484375 43.46875 L 37.578125 43.375 C 37.578125 43.375 37.578125 43.359375 37.59375 43.359375 C 37.609375 43.328125 37.640625 43.265625 37.65625 43.21875 L 39.703125 38.375 L 41.75 43.21875 C 41.765625 43.265625 41.78125 43.328125 41.8125 43.359375 C 41.8125 43.359375 41.8125 43.375 41.84375 43.375 L 41.90625 43.46875 C 41.921875 43.5 41.921875 43.5 41.9375 43.515625 L 41.984375 43.546875 L 42.046875 43.59375 C 42.046875 43.59375 42.046875 43.59375 42.0625 43.59375 C 42.09375 43.625 42.140625 43.671875 42.203125 43.6875 C 42.21875 43.6875 42.21875 43.6875 42.234375 43.703125 C 42.265625 43.703125 42.296875 43.71875 42.34375 43.734375 L 42.390625 43.734375 L 42.460938 43.746094 L 42.53125 43.75 C 42.59375 43.75 42.640625 43.75 42.6875 43.734375 L 42.71875 43.734375 C 42.765625 43.71875 42.8125 43.703125 42.84375 43.703125 C 42.84375 43.6875 42.859375 43.6875 42.859375 43.6875 L 42.875 43.6875 C 42.9375 43.671875 42.96875 43.625 43.015625 43.59375 L 43.03125 43.59375 C 43.0625 43.5625 43.109375 43.53125 43.140625 43.515625 C 43.140625 43.5 43.15625 43.5 43.15625 43.46875 C 43.1875 43.4375 43.21875 43.40625 43.234375 43.375 L 43.25 43.359375 C 43.28125 43.328125 43.3125 43.265625 43.328125 43.21875 L 47.15625 34.109375 C 47.34375 33.6875 47.140625 33.171875 46.71875 33 C 46.265625 32.8125 45.765625 33.015625 45.578125 33.453125 L 42.53125 40.6875 L 40.515625 35.890625 C 40.359375 35.546875 40.03125 35.359375 39.703125 35.359375 C 39.359375 35.359375 39.03125 35.546875 38.890625 35.890625 L 36.875 40.6875 L 33.8125 33.453125 C 33.640625 33.015625 33.125 32.8125 32.703125 33 C 32.25 33.171875 32.0625 33.6875 32.234375 34.109375 L 36.078125 43.21875 C 36.109375 43.265625 36.125 43.328125 36.15625 43.359375 L 36.15625 43.375 C 36.1875 43.40625 36.203125 43.4375 36.234375 43.46875 C 36.25 43.5 36.25 43.5 36.265625 43.515625 L 36.320312 43.546875 L 36.375 43.59375 C 36.375 43.59375 36.375 43.59375 36.390625 43.59375 C 36.421875 43.625 36.484375 43.671875 36.53125 43.6875 C 36.546875 43.6875 36.546875 43.6875 36.5625 43.703125 C 36.59375 43.703125 36.625 43.71875 36.671875 43.734375 L 36.71875 43.734375 L 36.796875 43.746094 L 36.875 43.75 C 36.921875 43.75 36.96875 43.75 37.015625 43.734375 Z M 37.015625 43.734375 "/>
      </g>`},xlsIcon:{extension:".xls",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 17.21875 46.875 C 17.425781 46.875 17.632812 46.800781 17.820312 46.667969 C 18.289062 46.351562 18.363281 45.695312 18.042969 45.242188 L 14.480469 40.367188 L 18.042969 35.53125 C 18.363281 35.0625 18.289062 34.425781 17.820312 34.105469 C 17.351562 33.75 16.730469 33.84375 16.375 34.332031 L 13.226562 38.644531 L 10.054688 34.332031 C 9.738281 33.84375 9.082031 33.75 8.632812 34.105469 C 8.164062 34.425781 8.070312 35.0625 8.386719 35.53125 L 11.949219 40.367188 L 8.386719 45.242188 C 8.070312 45.695312 8.164062 46.351562 8.632812 46.667969 C 8.800781 46.800781 9.007812 46.875 9.230469 46.875 C 9.550781 46.875 9.851562 46.707031 10.054688 46.445312 L 13.226562 42.113281 L 16.375 46.445312 C 16.582031 46.707031 16.882812 46.875 17.21875 46.875 Z M 29.351562 46.875 C 29.894531 46.875 30.382812 46.40625 30.382812 45.84375 C 30.382812 45.261719 29.894531 44.792969 29.351562 44.792969 L 24.269531 44.792969 L 24.269531 34.78125 C 24.269531 34.21875 23.800781 33.75 23.21875 33.75 C 22.636719 33.75 22.1875 34.21875 22.1875 34.78125 L 22.1875 45.84375 C 22.1875 46.335938 22.53125 46.757812 23.007812 46.855469 L 23.222656 46.875 Z M 37.28125 46.855469 C 38.613281 46.855469 39.832031 46.460938 40.75 45.789062 C 41.6875 45.113281 42.363281 44.082031 42.363281 42.882812 C 42.363281 42.300781 42.195312 41.738281 41.914062 41.289062 C 41.480469 40.59375 40.804688 40.105469 40.039062 39.730469 C 39.289062 39.375 38.40625 39.132812 37.449219 38.945312 L 37.414062 38.945312 C 36.398438 38.757812 35.554688 38.457031 35.070312 38.117188 C 34.824219 37.949219 34.65625 37.78125 34.5625 37.632812 C 34.46875 37.480469 34.429688 37.332031 34.429688 37.105469 C 34.429688 36.710938 34.636719 36.300781 35.144531 35.925781 C 35.648438 35.550781 36.398438 35.289062 37.242188 35.289062 C 38.386719 35.289062 39.304688 35.851562 40.261719 36.488281 C 40.710938 36.789062 41.3125 36.65625 41.59375 36.207031 C 41.894531 35.773438 41.761719 35.175781 41.332031 34.875 C 40.375 34.257812 39.042969 33.375 37.242188 33.375 C 36.023438 33.375 34.882812 33.730469 34 34.367188 C 33.136719 35.007812 32.5 35.980469 32.5 37.105469 C 32.5 37.667969 32.648438 38.195312 32.929688 38.644531 C 33.34375 39.300781 33.960938 39.769531 34.675781 40.105469 C 35.386719 40.445312 36.210938 40.667969 37.09375 40.835938 L 37.132812 40.835938 C 38.238281 41.042969 39.15625 41.363281 39.699219 41.71875 C 39.980469 41.90625 40.148438 42.09375 40.261719 42.28125 C 40.375 42.46875 40.429688 42.636719 40.429688 42.882812 C 40.429688 43.351562 40.1875 43.820312 39.625 44.230469 C 39.0625 44.644531 38.21875 44.925781 37.28125 44.925781 C 35.949219 44.945312 34.523438 44.15625 33.699219 43.480469 C 33.289062 43.144531 32.667969 43.199219 32.332031 43.613281 C 32.011719 44.023438 32.070312 44.644531 32.480469 44.980469 C 33.550781 45.824219 35.257812 46.835938 37.28125 46.855469 Z M 37.28125 46.855469 "/>
      </g>`},xlsxIcon:{extension:".xlsx",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 13.070312 43.75 C 13.242188 43.75 13.414062 43.6875 13.570312 43.578125 C 13.960938 43.3125 14.023438 42.765625 13.757812 42.390625 L 10.789062 38.328125 L 13.757812 34.296875 C 14.023438 33.90625 13.960938 33.375 13.570312 33.109375 C 13.179688 32.8125 12.664062 32.890625 12.367188 33.296875 L 9.742188 36.890625 L 7.101562 33.296875 C 6.835938 32.890625 6.289062 32.8125 5.914062 33.109375 C 5.523438 33.375 5.445312 33.90625 5.710938 34.296875 L 8.679688 38.328125 L 5.710938 42.390625 C 5.445312 42.765625 5.523438 43.3125 5.914062 43.578125 C 6.054688 43.6875 6.226562 43.75 6.414062 43.75 C 6.679688 43.75 6.929688 43.609375 7.101562 43.390625 L 9.742188 39.78125 L 12.367188 43.390625 C 12.539062 43.609375 12.789062 43.75 13.070312 43.75 Z M 23.179688 43.75 C 23.632812 43.75 24.039062 43.359375 24.039062 42.890625 C 24.039062 42.40625 23.632812 42.015625 23.179688 42.015625 L 18.945312 42.015625 L 18.945312 33.671875 C 18.945312 33.203125 18.554688 32.8125 18.070312 32.8125 C 17.585938 32.8125 17.210938 33.203125 17.210938 33.671875 L 17.210938 42.890625 C 17.210938 43.359375 17.585938 43.75 18.070312 43.75 Z M 29.789062 43.734375 C 30.898438 43.734375 31.914062 43.40625 32.679688 42.84375 C 33.460938 42.28125 34.023438 41.421875 34.023438 40.421875 C 34.023438 39.9375 33.882812 39.46875 33.648438 39.09375 C 33.289062 38.515625 32.726562 38.109375 32.085938 37.796875 C 31.460938 37.5 30.726562 37.296875 29.929688 37.140625 L 29.898438 37.140625 C 29.054688 36.984375 28.351562 36.734375 27.945312 36.453125 C 27.742188 36.3125 27.601562 36.171875 27.523438 36.046875 C 27.445312 35.921875 27.414062 35.796875 27.414062 35.609375 C 27.414062 35.28125 27.585938 34.9375 28.007812 34.625 C 28.429688 34.3125 29.054688 34.09375 29.757812 34.09375 C 30.710938 34.09375 31.476562 34.5625 32.273438 35.09375 C 32.648438 35.34375 33.148438 35.234375 33.382812 34.859375 C 33.632812 34.5 33.523438 34 33.164062 33.75 C 32.367188 33.234375 31.257812 32.5 29.757812 32.5 C 28.742188 32.5 27.789062 32.796875 27.054688 33.328125 C 26.335938 33.859375 25.804688 34.671875 25.804688 35.609375 C 25.804688 36.078125 25.929688 36.515625 26.164062 36.890625 C 26.507812 37.4375 27.023438 37.828125 27.617188 38.109375 C 28.210938 38.390625 28.898438 38.578125 29.632812 38.71875 L 29.664062 38.71875 C 30.585938 38.890625 31.351562 39.15625 31.804688 39.453125 C 32.039062 39.609375 32.179688 39.765625 32.273438 39.921875 C 32.367188 40.078125 32.414062 40.21875 32.414062 40.421875 C 32.414062 40.8125 32.210938 41.203125 31.742188 41.546875 C 31.273438 41.890625 30.570312 42.125 29.789062 42.125 C 28.679688 42.140625 27.492188 41.484375 26.804688 40.921875 C 26.460938 40.640625 25.945312 40.6875 25.664062 41.03125 C 25.398438 41.375 25.445312 41.890625 25.789062 42.171875 C 26.679688 42.875 28.101562 43.71875 29.789062 43.734375 Z M 43.179688 43.75 C 43.351562 43.75 43.523438 43.6875 43.679688 43.578125 C 44.070312 43.3125 44.132812 42.765625 43.867188 42.390625 L 40.898438 38.328125 L 43.867188 34.296875 C 44.132812 33.90625 44.070312 33.375 43.679688 33.109375 C 43.289062 32.8125 42.773438 32.890625 42.476562 33.296875 L 39.851562 36.890625 L 37.210938 33.296875 C 36.945312 32.890625 36.398438 32.8125 36.023438 33.109375 C 35.632812 33.375 35.554688 33.90625 35.820312 34.296875 L 38.789062 38.328125 L 35.820312 42.390625 C 35.554688 42.765625 35.632812 43.3125 36.023438 43.578125 C 36.164062 43.6875 36.335938 43.75 36.523438 43.75 C 36.789062 43.75 37.039062 43.609375 37.210938 43.390625 L 39.851562 39.78125 L 42.476562 43.390625 C 42.648438 43.609375 42.898438 43.75 43.179688 43.75 Z M 43.179688 43.75 "/>
      </g>`},zipIcon:{extension:".zip",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 20.175781 46.875 C 20.855469 46.875 21.402344 46.351562 21.402344 45.671875 C 21.402344 44.992188 20.855469 44.445312 20.175781 44.445312 L 13.132812 44.445312 L 21.183594 33.488281 L 21.183594 33.445312 C 21.203125 33.421875 21.226562 33.378906 21.25 33.335938 C 21.269531 33.3125 21.269531 33.289062 21.292969 33.269531 C 21.3125 33.203125 21.3125 33.179688 21.335938 33.136719 C 21.335938 33.09375 21.378906 33.070312 21.378906 33.007812 C 21.378906 32.984375 21.378906 32.960938 21.402344 32.917969 L 21.402344 32.679688 C 21.402344 32.632812 21.402344 32.613281 21.378906 32.546875 C 21.378906 32.503906 21.378906 32.480469 21.335938 32.4375 C 21.335938 32.414062 21.3125 32.371094 21.3125 32.304688 C 21.292969 32.285156 21.269531 32.242188 21.269531 32.21875 C 21.25 32.195312 21.226562 32.152344 21.203125 32.109375 C 21.183594 32.066406 21.160156 32.042969 21.117188 32.023438 C 21.09375 32 21.074219 31.957031 21.050781 31.933594 C 21.03125 31.914062 21.007812 31.867188 20.964844 31.847656 C 20.941406 31.824219 20.941406 31.804688 20.898438 31.78125 L 20.875 31.78125 C 20.832031 31.757812 20.8125 31.738281 20.765625 31.714844 C 20.746094 31.695312 20.722656 31.648438 20.65625 31.648438 L 20.570312 31.605469 L 20.4375 31.585938 C 20.417969 31.585938 20.375 31.5625 20.351562 31.5625 L 10.75 31.5625 C 10.070312 31.5625 9.546875 32.085938 9.546875 32.765625 C 9.546875 33.421875 10.070312 33.992188 10.75 33.992188 L 17.8125 33.992188 L 9.785156 44.972656 L 9.765625 44.972656 C 9.742188 45.015625 9.71875 45.058594 9.699219 45.082031 C 9.699219 45.101562 9.675781 45.148438 9.632812 45.167969 C 9.632812 45.210938 9.609375 45.257812 9.609375 45.277344 C 9.589844 45.320312 9.589844 45.367188 9.566406 45.386719 L 9.566406 45.496094 C 9.546875 45.539062 9.546875 45.585938 9.546875 45.648438 L 9.546875 45.738281 C 9.546875 45.78125 9.566406 45.824219 9.566406 45.890625 C 9.566406 45.933594 9.589844 45.957031 9.589844 45.976562 L 9.632812 46.109375 C 9.632812 46.152344 9.675781 46.175781 9.699219 46.21875 C 9.699219 46.242188 9.71875 46.261719 9.742188 46.328125 C 9.765625 46.351562 9.785156 46.394531 9.808594 46.414062 C 9.828125 46.4375 9.851562 46.460938 9.894531 46.480469 L 9.9375 46.542969 L 9.984375 46.589844 C 10.003906 46.613281 10.027344 46.632812 10.046875 46.632812 L 10.046875 46.65625 C 10.070312 46.679688 10.09375 46.679688 10.136719 46.699219 C 10.179688 46.722656 10.222656 46.742188 10.246094 46.742188 C 10.265625 46.789062 10.289062 46.789062 10.3125 46.808594 C 10.375 46.808594 10.421875 46.832031 10.464844 46.832031 C 10.484375 46.851562 10.507812 46.851562 10.53125 46.851562 L 10.648438 46.871094 Z M 26.214844 46.875 C 26.871094 46.875 27.4375 46.351562 27.4375 45.671875 L 27.4375 32.765625 C 27.4375 32.085938 26.871094 31.5625 26.214844 31.5625 C 25.535156 31.5625 25.011719 32.085938 25.011719 32.765625 L 25.011719 45.671875 C 25.011719 46.351562 25.535156 46.875 26.214844 46.875 Z M 32.734375 46.875 C 33.410156 46.875 33.957031 46.328125 33.957031 45.671875 L 33.957031 40.925781 L 36.648438 40.925781 C 39.25 40.925781 41.351562 38.824219 41.351562 36.265625 C 41.351562 33.664062 39.25 31.5625 36.648438 31.5625 L 32.734375 31.5625 C 32.078125 31.5625 31.53125 32.085938 31.53125 32.765625 L 31.53125 45.671875 C 31.53125 46.328125 32.078125 46.875 32.734375 46.875 Z M 36.648438 38.496094 L 33.957031 38.496094 L 33.957031 33.992188 L 36.648438 33.992188 C 37.917969 33.992188 38.902344 34.996094 38.921875 36.265625 C 38.902344 37.492188 37.917969 38.496094 36.648438 38.496094 Z M 36.648438 38.496094 "/>
      </g>`},docxIcon:{extension:".docx",path:`<g id="surface9" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.789062 43.75 C 9.589844 43.75 10.988281 43.269531 11.984375 42.304688 C 12.980469 41.339844 13.476562 39.984375 13.476562 38.234375 C 13.476562 36.496094 12.980469 35.144531 11.984375 34.179688 C 10.988281 33.214844 9.589844 32.734375 7.789062 32.734375 L 4.695312 32.734375 C 4.394531 32.734375 4.15625 32.816406 3.984375 32.984375 C 3.8125 33.152344 3.726562 33.386719 3.726562 33.6875 L 3.726562 42.796875 C 3.726562 43.097656 3.8125 43.332031 3.984375 43.5 C 4.15625 43.667969 4.394531 43.75 4.695312 43.75 Z M 7.664062 42.109375 L 5.742188 42.109375 L 5.742188 34.375 L 7.664062 34.375 C 10.195312 34.375 11.460938 35.660156 11.460938 38.234375 C 11.460938 40.816406 10.195312 42.109375 7.664062 42.109375 Z M 20.414062 43.890625 C 21.476562 43.890625 22.402344 43.660156 23.1875 43.203125 C 23.972656 42.746094 24.582031 42.089844 25.007812 41.234375 C 25.433594 40.378906 25.648438 39.378906 25.648438 38.234375 C 25.648438 37.089844 25.4375 36.089844 25.015625 35.242188 C 24.59375 34.394531 23.988281 33.738281 23.203125 33.28125 C 22.417969 32.824219 21.488281 32.59375 20.414062 32.59375 C 19.339844 32.59375 18.410156 32.824219 17.617188 33.28125 C 16.824219 33.738281 16.21875 34.394531 15.796875 35.242188 C 15.375 36.089844 15.164062 37.089844 15.164062 38.234375 C 15.164062 39.378906 15.378906 40.378906 15.804688 41.234375 C 16.230469 42.089844 16.839844 42.746094 17.625 43.203125 C 18.410156 43.660156 19.339844 43.890625 20.414062 43.890625 Z M 20.414062 42.28125 C 19.394531 42.28125 18.597656 41.933594 18.03125 41.234375 C 17.464844 40.535156 17.179688 39.535156 17.179688 38.234375 C 17.179688 36.933594 17.464844 35.933594 18.03125 35.242188 C 18.597656 34.550781 19.394531 34.203125 20.414062 34.203125 C 21.425781 34.203125 22.214844 34.550781 22.78125 35.242188 C 23.347656 35.933594 23.632812 36.933594 23.632812 38.234375 C 23.632812 39.535156 23.347656 40.535156 22.78125 41.234375 C 22.214844 41.933594 21.425781 42.28125 20.414062 42.28125 Z M 32.601562 43.890625 C 33.289062 43.890625 33.933594 43.789062 34.539062 43.585938 C 35.144531 43.382812 35.679688 43.089844 36.148438 42.703125 C 36.285156 42.597656 36.378906 42.488281 36.429688 42.367188 C 36.480469 42.246094 36.507812 42.109375 36.507812 41.953125 C 36.507812 41.722656 36.445312 41.53125 36.320312 41.375 C 36.195312 41.21875 36.042969 41.140625 35.867188 41.140625 C 35.753906 41.140625 35.644531 41.160156 35.539062 41.203125 C 35.433594 41.246094 35.332031 41.296875 35.226562 41.359375 C 34.746094 41.683594 34.316406 41.910156 33.9375 42.046875 C 33.558594 42.183594 33.144531 42.25 32.695312 42.25 C 31.613281 42.25 30.792969 41.910156 30.234375 41.234375 C 29.675781 40.558594 29.398438 39.558594 29.398438 38.234375 C 29.398438 36.921875 29.675781 35.925781 30.234375 35.25 C 30.792969 34.574219 31.613281 34.234375 32.695312 34.234375 C 33.164062 34.234375 33.589844 34.300781 33.976562 34.429688 C 34.363281 34.558594 34.777344 34.792969 35.226562 35.125 C 35.445312 35.269531 35.660156 35.34375 35.867188 35.34375 C 36.042969 35.34375 36.195312 35.265625 36.320312 35.109375 C 36.445312 34.953125 36.507812 34.761719 36.507812 34.53125 C 36.507812 34.363281 36.480469 34.222656 36.429688 34.109375 C 36.378906 33.996094 36.285156 33.886719 36.148438 33.78125 C 35.679688 33.394531 35.144531 33.101562 34.539062 32.898438 C 33.933594 32.695312 33.289062 32.59375 32.601562 32.59375 C 31.539062 32.59375 30.609375 32.824219 29.8125 33.28125 C 29.015625 33.738281 28.402344 34.394531 27.976562 35.242188 C 27.550781 36.089844 27.335938 37.089844 27.335938 38.234375 C 27.335938 39.378906 27.550781 40.378906 27.976562 41.234375 C 28.402344 42.089844 29.015625 42.746094 29.8125 43.203125 C 30.609375 43.660156 31.539062 43.890625 32.601562 43.890625 Z M 46.132812 43.84375 C 46.382812 43.84375 46.605469 43.75 46.796875 43.5625 C 46.988281 43.375 47.085938 43.15625 47.085938 42.90625 C 47.085938 42.707031 47.003906 42.511719 46.835938 42.3125 L 43.445312 38.15625 L 46.710938 34.171875 C 46.867188 34.003906 46.945312 33.808594 46.945312 33.578125 C 46.945312 33.328125 46.847656 33.113281 46.65625 32.929688 C 46.464844 32.746094 46.242188 32.65625 45.992188 32.65625 C 45.730469 32.65625 45.507812 32.769531 45.320312 33 L 42.273438 36.765625 L 39.226562 33 C 39.027344 32.769531 38.800781 32.65625 38.539062 32.65625 C 38.289062 32.65625 38.070312 32.746094 37.882812 32.929688 C 37.695312 33.113281 37.601562 33.328125 37.601562 33.578125 C 37.601562 33.808594 37.679688 34.003906 37.835938 34.171875 L 41.101562 38.15625 L 37.695312 42.3125 C 37.539062 42.5 37.460938 42.699219 37.460938 42.90625 C 37.460938 43.15625 37.558594 43.371094 37.75 43.554688 C 37.941406 43.738281 38.164062 43.828125 38.414062 43.828125 C 38.675781 43.828125 38.898438 43.71875 39.085938 43.5 L 42.273438 39.5625 L 45.445312 43.5 C 45.644531 43.730469 45.871094 43.84375 46.132812 43.84375 Z M 46.132812 43.84375 "/>
      </g>`},jpgIcon:{extension:".jpg",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 8.789062 47.007812 L 9.488281 46.960938 C 12.214844 46.757812 13.578125 45.277344 13.578125 42.523438 L 13.578125 32.742188 C 13.578125 32.320312 13.453125 31.980469 13.195312 31.726562 C 12.941406 31.472656 12.59375 31.34375 12.15625 31.34375 C 11.734375 31.34375 11.394531 31.472656 11.140625 31.726562 C 10.886719 31.980469 10.757812 32.320312 10.757812 32.742188 L 10.757812 42.523438 C 10.757812 43.238281 10.605469 43.769531 10.296875 44.117188 C 9.992188 44.46875 9.539062 44.660156 8.941406 44.6875 L 8.242188 44.730469 C 7.847656 44.761719 7.558594 44.867188 7.378906 45.046875 C 7.195312 45.230469 7.105469 45.496094 7.105469 45.847656 C 7.105469 46.664062 7.667969 47.050781 8.789062 47.007812 Z M 18.304688 47.007812 C 18.742188 47.007812 19.089844 46.878906 19.34375 46.625 C 19.597656 46.367188 19.726562 46.023438 19.726562 45.585938 L 19.726562 40.882812 L 23.640625 40.882812 C 25.289062 40.882812 26.574219 40.464844 27.492188 39.632812 C 28.410156 38.804688 28.871094 37.644531 28.871094 36.15625 C 28.871094 34.667969 28.410156 33.511719 27.492188 32.6875 C 26.574219 31.863281 25.289062 31.453125 23.640625 31.453125 L 18.261719 31.453125 C 17.839844 31.453125 17.507812 31.570312 17.265625 31.804688 C 17.023438 32.035156 16.90625 32.363281 16.90625 32.789062 L 16.90625 45.585938 C 16.90625 46.023438 17.03125 46.367188 17.289062 46.625 C 17.542969 46.878906 17.882812 47.007812 18.304688 47.007812 Z M 23.292969 38.714844 L 19.726562 38.714844 L 19.726562 33.640625 L 23.292969 33.640625 C 25.230469 33.640625 26.203125 34.488281 26.203125 36.179688 C 26.203125 37.871094 25.230469 38.714844 23.292969 38.714844 Z M 38.605469 47.070312 C 39.320312 47.070312 40.0625 47.011719 40.835938 46.898438 C 41.609375 46.78125 42.285156 46.621094 42.871094 46.414062 C 43.410156 46.242188 43.765625 46.015625 43.941406 45.738281 C 44.117188 45.460938 44.203125 44.988281 44.203125 44.316406 L 44.203125 39.613281 C 44.203125 39.292969 44.101562 39.03125 43.898438 38.835938 C 43.695312 38.640625 43.425781 38.539062 43.089844 38.539062 L 39.21875 38.539062 C 38.867188 38.539062 38.59375 38.628906 38.398438 38.804688 C 38.199219 38.976562 38.101562 39.226562 38.101562 39.546875 C 38.101562 39.867188 38.199219 40.117188 38.398438 40.289062 C 38.59375 40.464844 38.867188 40.554688 39.21875 40.554688 L 41.6875 40.554688 L 41.6875 44.425781 C 40.699219 44.703125 39.707031 44.839844 38.714844 44.839844 C 35.390625 44.839844 33.726562 42.945312 33.726562 39.152344 C 33.726562 37.300781 34.132812 35.90625 34.941406 34.964844 C 35.75 34.023438 36.949219 33.554688 38.539062 33.554688 C 39.238281 33.554688 39.867188 33.644531 40.421875 33.828125 C 40.972656 34.007812 41.574219 34.324219 42.214844 34.777344 C 42.390625 34.894531 42.542969 34.980469 42.671875 35.03125 C 42.804688 35.082031 42.949219 35.105469 43.109375 35.105469 C 43.359375 35.105469 43.570312 34.996094 43.746094 34.777344 C 43.921875 34.558594 44.007812 34.289062 44.007812 33.96875 C 44.007812 33.75 43.96875 33.558594 43.886719 33.398438 C 43.808594 33.238281 43.679688 33.078125 43.503906 32.917969 C 42.191406 31.808594 40.507812 31.257812 38.453125 31.257812 C 36.90625 31.257812 35.5625 31.574219 34.425781 32.207031 C 33.289062 32.84375 32.410156 33.753906 31.789062 34.941406 C 31.171875 36.128906 30.859375 37.535156 30.859375 39.152344 C 30.859375 40.800781 31.171875 42.21875 31.789062 43.40625 C 32.410156 44.597656 33.304688 45.503906 34.46875 46.132812 C 35.636719 46.757812 37.015625 47.070312 38.605469 47.070312 Z M 38.605469 47.070312 "/>
      </g>`},mp3Icon:{extension:".mp3",path:`<g id="surface9" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 43.828125 43.710938 C 43.605469 44.28125 43.273438 44.804688 42.84375 45.265625 C 42.40625 45.730469 41.867188 46.113281 41.242188 46.398438 C 40.597656 46.699219 39.851562 46.855469 39.027344 46.855469 C 38.328125 46.855469 37.703125 46.757812 37.160156 46.570312 C 36.609375 46.378906 36.160156 46.136719 35.769531 45.839844 C 35.386719 45.550781 35.050781 45.210938 34.796875 44.832031 C 34.570312 44.507812 34.394531 44.195312 34.265625 43.890625 C 34.140625 43.59375 34.054688 43.335938 33.996094 43.101562 C 33.792969 42.261719 34.304688 41.417969 35.140625 41.210938 C 35.980469 41.007812 36.828125 41.519531 37.03125 42.355469 C 37.039062 42.390625 37.066406 42.488281 37.144531 42.671875 C 37.191406 42.777344 37.265625 42.914062 37.371094 43.0625 C 37.4375 43.160156 37.53125 43.257812 37.65625 43.351562 C 37.792969 43.453125 37.972656 43.542969 38.195312 43.625 C 38.332031 43.667969 38.59375 43.730469 39.027344 43.730469 C 39.390625 43.730469 39.695312 43.675781 39.925781 43.566406 C 40.1875 43.445312 40.398438 43.300781 40.558594 43.132812 C 40.71875 42.957031 40.839844 42.773438 40.914062 42.578125 C 40.996094 42.371094 41.03125 42.195312 41.03125 42.023438 C 41.03125 41.789062 41 41.585938 40.921875 41.398438 C 40.871094 41.257812 40.785156 41.148438 40.660156 41.039062 C 40.515625 40.910156 40.296875 40.792969 40.011719 40.699219 C 39.6875 40.59375 39.253906 40.539062 38.738281 40.535156 C 37.882812 40.527344 37.1875 39.832031 37.1875 38.972656 L 37.1875 38.832031 C 37.1875 37.984375 37.859375 37.292969 38.699219 37.265625 C 39.070312 37.257812 39.398438 37.195312 39.679688 37.101562 C 39.921875 37.011719 40.121094 36.902344 40.273438 36.773438 C 40.40625 36.652344 40.507812 36.519531 40.582031 36.359375 C 40.652344 36.210938 40.6875 36.027344 40.6875 35.8125 C 40.6875 35.523438 40.644531 35.289062 40.574219 35.125 C 40.5 34.96875 40.414062 34.847656 40.304688 34.757812 C 40.1875 34.660156 40.042969 34.582031 39.867188 34.53125 C 39.402344 34.386719 38.878906 34.398438 38.480469 34.542969 C 38.289062 34.617188 38.121094 34.714844 37.976562 34.84375 C 37.820312 34.984375 37.695312 35.148438 37.59375 35.339844 C 37.484375 35.550781 37.40625 35.773438 37.367188 36.039062 C 37.230469 36.890625 36.429688 37.472656 35.574219 37.335938 C 34.722656 37.195312 34.140625 36.398438 34.28125 35.542969 C 34.378906 34.9375 34.5625 34.378906 34.835938 33.871094 C 35.109375 33.355469 35.464844 32.898438 35.890625 32.519531 C 36.320312 32.132812 36.824219 31.828125 37.382812 31.617188 C 38.433594 31.226562 39.667969 31.199219 40.78125 31.539062 C 41.351562 31.714844 41.863281 31.992188 42.308594 32.355469 C 42.777344 32.753906 43.148438 33.242188 43.414062 33.824219 C 43.679688 34.402344 43.8125 35.070312 43.8125 35.8125 C 43.8125 36.476562 43.679688 37.097656 43.421875 37.660156 C 43.25 38.046875 43.023438 38.394531 42.746094 38.707031 C 43.242188 39.148438 43.609375 39.671875 43.835938 40.261719 C 44.046875 40.804688 44.15625 41.398438 44.15625 42.023438 C 44.15625 42.578125 44.046875 43.148438 43.828125 43.710938 Z M 31.445312 38.492188 C 31.148438 39.140625 30.734375 39.703125 30.199219 40.164062 C 29.6875 40.605469 29.078125 40.957031 28.390625 41.199219 C 27.71875 41.4375 26.976562 41.5625 26.191406 41.5625 L 25 41.5625 L 25 45 C 25 45.859375 24.296875 46.5625 23.4375 46.5625 C 22.578125 46.5625 21.875 45.859375 21.875 45 L 21.875 32.8125 C 21.875 31.945312 22.578125 31.25 23.4375 31.25 L 26.191406 31.25 C 27.890625 31.25 29.257812 31.667969 30.253906 32.5 C 31.339844 33.398438 31.886719 34.714844 31.886719 36.40625 C 31.886719 37.148438 31.738281 37.851562 31.445312 38.492188 Z M 18.730469 45.210938 C 18.730469 46.070312 18.03125 46.773438 17.167969 46.773438 C 16.300781 46.773438 15.605469 46.070312 15.605469 45.210938 L 15.605469 39.28125 L 14.015625 43.140625 C 14.007812 43.164062 13.996094 43.191406 13.984375 43.214844 C 13.71875 43.777344 13.15625 44.117188 12.566406 44.117188 L 12.53125 44.117188 C 11.9375 44.117188 11.375 43.777344 11.109375 43.214844 L 11.082031 43.160156 L 9.339844 39.101562 L 9.339844 45.210938 C 9.339844 46.070312 8.640625 46.773438 7.777344 46.773438 C 6.910156 46.773438 6.214844 46.070312 6.214844 45.210938 L 6.214844 32.824219 C 6.214844 31.960938 6.910156 31.261719 7.777344 31.261719 L 7.835938 31.261719 C 8.472656 31.261719 9.046875 31.617188 9.335938 32.1875 L 12.527344 39.09375 L 15.59375 32.207031 C 15.894531 31.617188 16.46875 31.261719 17.105469 31.261719 L 17.167969 31.261719 C 18.03125 31.261719 18.730469 31.960938 18.730469 32.824219 Z M 41.382812 28.125 L 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.136719 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.136719 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 41.382812 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 28.257812 34.902344 C 27.835938 34.550781 27.140625 34.375 26.191406 34.375 L 25 34.375 L 25 38.4375 L 26.191406 38.4375 C 26.621094 38.4375 27.007812 38.375 27.34375 38.253906 C 27.667969 38.140625 27.929688 37.992188 28.148438 37.804688 C 28.34375 37.632812 28.492188 37.4375 28.601562 37.195312 C 28.710938 36.964844 28.757812 36.703125 28.757812 36.40625 C 28.757812 35.324219 28.382812 35.003906 28.257812 34.902344 "/>
      <path style="fill:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(99.607843%,99.607843%,99.607843%);stroke-opacity:1;stroke-miterlimit:4;" d="M 11.34125 13.57875 C 11.345 13.5925 11.3525 13.62375 11.36375 13.67375 C 11.3775 13.7225 11.3975 13.78125 11.42625 13.85 C 11.45375 13.9175 11.49375 13.9875 11.54625 14.0625 C 11.5975 14.13875 11.66625 14.20875 11.75 14.27125 C 11.83375 14.33625 11.9375 14.38875 12.0575 14.43125 C 12.1775 14.4725 12.32 14.49375 12.4875 14.49375 C 12.67875 14.49375 12.845 14.46125 12.9875 14.39375 C 13.13 14.32875 13.24875 14.245 13.34375 14.1425 C 13.43875 14.0425 13.51125 13.93 13.55875 13.8075 C 13.6075 13.6825 13.63125 13.56375 13.63125 13.4475 C 13.63125 13.31125 13.6075 13.1825 13.5625 13.065 C 13.515 12.9475 13.4425 12.845 13.3425 12.7575 C 13.2425 12.67 13.115 12.6 12.96 12.55 C 12.805 12.49875 12.6175 12.4725 12.4 12.4725 L 12.4 12.42625 C 12.57 12.42 12.72375 12.3925 12.8625 12.34375 C 13.0025 12.29625 13.11875 12.2275 13.21625 12.14375 C 13.31375 12.05875 13.3875 11.96 13.44125 11.845 C 13.4925 11.7275 13.52 11.60125 13.52 11.46 C 13.52 11.29375 13.4925 11.1525 13.43875 11.0325 C 13.38375 10.91375 13.31125 10.81625 13.21875 10.74 C 13.1275 10.66375 13.0225 10.6075 12.90375 10.5725 C 12.78625 10.535 12.66375 10.5175 12.5375 10.5175 C 12.395 10.5175 12.26125 10.54 12.14 10.58625 C 12.0175 10.6325 11.91 10.69625 11.81875 10.77875 C 11.72625 10.8625 11.64875 10.96 11.5875 11.07375 C 11.5275 11.18875 11.48625 11.315 11.4625 11.45375 M 7.5 14.4 L 7.5 10.5 L 8.3825 10.5 C 8.8075 10.5 9.13375 10.595 9.3625 10.78375 C 9.59 10.975 9.7025 11.2625 9.7025 11.65 C 9.7025 11.81625 9.6725 11.97125 9.6075 12.11125 C 9.5425 12.2525 9.4525 12.37375 9.335 12.475 C 9.21875 12.5775 9.0775 12.65625 8.9175 12.71375 C 8.75625 12.77125 8.5775 12.8 8.3825 12.8 L 7.6 12.8 M 2.4875 14.4675 L 2.4875 10.50375 L 2.5075 10.50375 C 2.5225 10.50375 2.53375 10.5125 2.5425 10.52625 L 3.9925 13.58625 C 3.99875 13.5975 4.005 13.6075 4.00875 13.6175 M 4.02125 13.6175 C 4.02625 13.6075 4.03125 13.5975 4.0375 13.58625 L 5.44 10.52625 C 5.4475 10.5125 5.45875 10.50375 5.4725 10.50375 L 5.4925 10.50375 L 5.4925 14.4675 " transform="matrix(3.125,0,0,3.125,0,0)"/>
      </g>`},mp4Icon:{extension:".mp4",path:`<g id="surface6" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 36.898438 40.625 L 40.625 35.480469 L 40.625 40.625 Z M 28.761719 36.40625 C 28.761719 36.703125 28.707031 36.964844 28.605469 37.195312 C 28.496094 37.433594 28.347656 37.632812 28.148438 37.804688 C 27.929688 37.992188 27.667969 38.144531 27.34375 38.257812 C 27.003906 38.375 26.621094 38.4375 26.191406 38.4375 L 25 38.4375 L 25 34.375 L 26.191406 34.375 C 27.140625 34.375 27.835938 34.554688 28.253906 34.902344 C 28.378906 35.007812 28.761719 35.324219 28.761719 36.40625 Z M 44.6875 43.75 L 43.75 43.75 L 43.75 45.3125 C 43.75 46.175781 43.050781 46.875 42.1875 46.875 C 41.324219 46.875 40.625 46.175781 40.625 45.3125 L 40.625 43.75 L 34.066406 43.75 C 33.199219 43.75 32.503906 43.050781 32.503906 42.1875 L 32.503906 41.875 C 32.503906 41.546875 32.605469 41.226562 32.800781 40.957031 L 39.363281 31.898438 C 39.660156 31.492188 40.128906 31.25 40.628906 31.25 L 42.1875 31.25 C 43.050781 31.25 43.75 31.949219 43.75 32.8125 L 43.75 40.625 L 44.6875 40.625 C 45.550781 40.625 46.25 41.324219 46.25 42.1875 C 46.25 43.050781 45.550781 43.75 44.6875 43.75 Z M 31.445312 38.492188 C 31.148438 39.140625 30.730469 39.703125 30.195312 40.167969 C 29.6875 40.605469 29.082031 40.957031 28.390625 41.203125 C 27.71875 41.441406 26.976562 41.5625 26.191406 41.5625 L 25 41.5625 L 25 45 C 25 45.863281 24.300781 46.5625 23.4375 46.5625 C 22.578125 46.5625 21.875 45.863281 21.875 45 L 21.875 32.8125 C 21.875 31.949219 22.578125 31.25 23.4375 31.25 L 26.191406 31.25 C 27.890625 31.25 29.257812 31.671875 30.253906 32.5 C 31.339844 33.398438 31.886719 34.714844 31.886719 36.40625 C 31.886719 37.148438 31.738281 37.851562 31.445312 38.492188 Z M 18.730469 45.210938 C 18.730469 46.070312 18.027344 46.773438 17.167969 46.773438 C 16.300781 46.773438 15.605469 46.070312 15.605469 45.210938 L 15.605469 39.6875 L 14.035156 43.105469 C 14.019531 43.144531 14.003906 43.179688 13.984375 43.214844 C 13.71875 43.78125 13.15625 44.117188 12.566406 44.117188 L 12.53125 44.117188 C 11.941406 44.117188 11.378906 43.78125 11.113281 43.214844 C 11.097656 43.183594 11.078125 43.152344 11.066406 43.125 L 9.339844 39.484375 L 9.339844 45.210938 C 9.339844 46.070312 8.640625 46.773438 7.777344 46.773438 C 6.910156 46.773438 6.214844 46.070312 6.214844 45.210938 L 6.214844 32.824219 C 6.214844 31.960938 6.910156 31.261719 7.777344 31.261719 L 7.835938 31.261719 C 8.472656 31.261719 9.046875 31.617188 9.335938 32.191406 L 9.355469 32.226562 L 12.523438 38.90625 L 15.578125 32.242188 C 15.585938 32.226562 15.597656 32.210938 15.605469 32.191406 C 15.894531 31.617188 16.46875 31.261719 17.105469 31.261719 L 17.164062 31.261719 C 18.027344 31.261719 18.726562 31.960938 18.726562 32.824219 L 18.726562 45.210938 Z M 41.382812 28.125 L 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 41.382812 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface6" mask="url(#mask0)"/>
      <path style="fill:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(99.607843%,99.607843%,99.607843%);stroke-opacity:1;stroke-miterlimit:4;" d="M 14.3 13.5 L 10.90125 13.5 L 10.90125 13.4 L 13.00125 10.5 L 13.5 10.5 L 13.5 14.5 M 7.5 14.4 L 7.5 10.5 L 8.3825 10.5 C 8.8075 10.5 9.13375 10.595 9.3625 10.78375 C 9.59 10.975 9.7025 11.2625 9.7025 11.65 C 9.7025 11.81625 9.6725 11.97125 9.6075 12.11125 C 9.5425 12.2525 9.4525 12.37375 9.335 12.47625 C 9.21875 12.5775 9.0775 12.65625 8.9175 12.71375 C 8.75625 12.77125 8.5775 12.8 8.3825 12.8 L 7.6 12.8 M 2.4875 14.4675 L 2.4875 10.50375 L 2.5075 10.50375 C 2.5225 10.50375 2.53375 10.5125 2.5425 10.52625 L 3.9925 13.58625 C 3.99875 13.5975 4.005 13.6075 4.00875 13.6175 M 4.02125 13.6175 C 4.02625 13.6075 4.03125 13.5975 4.0375 13.58625 L 5.44 10.52625 C 5.4475 10.5125 5.45875 10.50375 5.4725 10.50375 L 5.4925 10.50375 L 5.4925 14.4675 " transform="matrix(3.125,0,0,3.125,0,0)"/>
      </g>`},oggIcon:{extension:".ogg",path:`<g id="surface9" clip-path="url(#clip1)">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.621094 28.125 C 3.859375 28.125 0 31.984375 0 36.742188 L 0 41.378906 C 0 46.140625 3.859375 50 8.621094 50 L 41.378906 50 C 46.140625 50 50 46.140625 50 41.382812 L 50 36.746094 C 50 31.984375 46.140625 28.125 41.382812 28.125 Z M 8.621094 28.125 "/>
      </g>
      </defs>
      <g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.578125 25 L 39.421875 25 C 41.53125 25 43.527344 25.492188 45.3125 26.367188 L 45.3125 15.367188 C 45.3125 13.90625 44.976562 13.097656 43.984375 12.109375 C 42.996094 11.121094 35.105469 3.226562 34.503906 2.628906 C 33.90625 2.027344 33.070312 1.5625 31.617188 1.5625 L 6.5625 1.5625 C 5.527344 1.5625 4.6875 2.402344 4.6875 3.4375 L 4.6875 26.367188 C 6.476562 25.492188 8.472656 25 10.578125 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.710938 L 42.164062 12.5 L 34.515625 12.5 C 34.464844 12.46875 34.414062 12.425781 34.375 12.390625 Z M 6.25 25.722656 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.25 13.980469 32.496094 15.210938 33.742188 15.539062 C 33.902344 15.59375 34.074219 15.625 34.257812 15.625 L 43.75 15.625 L 43.75 25.722656 C 44.859375 26.105469 45.910156 26.625 46.875 27.269531 L 46.875 15.363281 C 46.875 13.511719 46.375 12.289062 45.089844 11.003906 L 35.609375 1.523438 C 34.582031 0.496094 33.273438 0 31.617188 0 L 6.5625 0 C 4.667969 0 3.125 1.542969 3.125 3.4375 L 3.125 27.269531 C 4.089844 26.625 5.140625 26.105469 6.25 25.722656 Z M 6.25 25.722656 "/>
      <use xlink:href="#surface9" mask="url(#mask0)"/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 8.976562 47.070312 C 10.464844 47.070312 11.757812 46.75 12.859375 46.109375 C 13.960938 45.46875 14.808594 44.550781 15.40625 43.351562 C 16.003906 42.15625 16.304688 40.757812 16.304688 39.152344 C 16.304688 37.550781 16.007812 36.152344 15.417969 34.964844 C 14.828125 33.777344 13.980469 32.859375 12.882812 32.21875 C 11.78125 31.578125 10.480469 31.257812 8.976562 31.257812 C 7.472656 31.257812 6.167969 31.578125 5.0625 32.21875 C 3.953125 32.859375 3.101562 33.777344 2.511719 34.964844 C 1.921875 36.152344 1.625 37.550781 1.625 39.152344 C 1.625 40.757812 1.925781 42.15625 2.523438 43.351562 C 3.121094 44.550781 3.972656 45.46875 5.070312 46.109375 C 6.171875 46.75 7.472656 47.070312 8.976562 47.070312 Z M 8.976562 44.820312 C 7.546875 44.820312 6.433594 44.332031 5.640625 43.351562 C 4.847656 42.375 4.449219 40.976562 4.449219 39.152344 C 4.449219 37.332031 4.847656 35.933594 5.640625 34.964844 C 6.433594 33.996094 7.546875 33.507812 8.976562 33.507812 C 10.390625 33.507812 11.496094 33.996094 12.289062 34.964844 C 13.085938 35.933594 13.484375 37.332031 13.484375 39.152344 C 13.484375 40.976562 13.085938 42.375 12.289062 43.351562 C 11.496094 44.332031 10.390625 44.820312 8.976562 44.820312 Z M 26.410156 47.070312 C 27.125 47.070312 27.871094 47.011719 28.640625 46.898438 C 29.414062 46.78125 30.09375 46.621094 30.675781 46.414062 C 31.214844 46.242188 31.574219 46.015625 31.75 45.738281 C 31.921875 45.460938 32.011719 44.988281 32.011719 44.316406 L 32.011719 39.613281 C 32.011719 39.292969 31.910156 39.03125 31.703125 38.835938 C 31.5 38.640625 31.230469 38.539062 30.894531 38.539062 L 27.023438 38.539062 C 26.671875 38.539062 26.398438 38.628906 26.203125 38.804688 C 26.007812 38.976562 25.90625 39.226562 25.90625 39.546875 C 25.90625 39.867188 26.007812 40.117188 26.203125 40.289062 C 26.398438 40.464844 26.671875 40.554688 27.023438 40.554688 L 29.496094 40.554688 L 29.496094 44.425781 C 28.503906 44.703125 27.511719 44.839844 26.519531 44.839844 C 23.195312 44.839844 21.53125 42.945312 21.53125 39.152344 C 21.53125 37.300781 21.9375 35.90625 22.746094 34.964844 C 23.554688 34.023438 24.753906 33.554688 26.34375 33.554688 C 27.046875 33.554688 27.671875 33.644531 28.226562 33.828125 C 28.78125 34.007812 29.378906 34.324219 30.019531 34.777344 C 30.195312 34.894531 30.347656 34.980469 30.480469 35.03125 C 30.609375 35.082031 30.757812 35.105469 30.917969 35.105469 C 31.164062 35.105469 31.375 34.996094 31.550781 34.777344 C 31.726562 34.558594 31.8125 34.289062 31.8125 33.96875 C 31.8125 33.75 31.773438 33.558594 31.695312 33.398438 C 31.613281 33.238281 31.484375 33.078125 31.3125 32.917969 C 30 31.808594 28.3125 31.257812 26.257812 31.257812 C 24.710938 31.257812 23.371094 31.574219 22.234375 32.207031 C 21.09375 32.84375 20.214844 33.753906 19.597656 34.941406 C 18.976562 36.128906 18.667969 37.535156 18.667969 39.152344 C 18.667969 40.800781 18.976562 42.21875 19.597656 43.40625 C 20.214844 44.597656 21.109375 45.503906 22.277344 46.132812 C 23.441406 46.757812 24.820312 47.070312 26.410156 47.070312 Z M 42.445312 47.070312 C 43.160156 47.070312 43.902344 47.011719 44.675781 46.898438 C 45.449219 46.78125 46.128906 46.621094 46.710938 46.414062 C 47.25 46.242188 47.609375 46.015625 47.78125 45.738281 C 47.957031 45.460938 48.046875 44.988281 48.046875 44.316406 L 48.046875 39.613281 C 48.046875 39.292969 47.941406 39.03125 47.738281 38.835938 C 47.535156 38.640625 47.265625 38.539062 46.929688 38.539062 L 43.058594 38.539062 C 42.707031 38.539062 42.433594 38.628906 42.238281 38.804688 C 42.039062 38.976562 41.941406 39.226562 41.941406 39.546875 C 41.941406 39.867188 42.039062 40.117188 42.238281 40.289062 C 42.433594 40.464844 42.707031 40.554688 43.058594 40.554688 L 45.53125 40.554688 L 45.53125 44.425781 C 44.539062 44.703125 43.546875 44.839844 42.554688 44.839844 C 39.230469 44.839844 37.566406 42.945312 37.566406 39.152344 C 37.566406 37.300781 37.972656 35.90625 38.78125 34.964844 C 39.589844 34.023438 40.789062 33.554688 42.378906 33.554688 C 43.078125 33.554688 43.707031 33.644531 44.261719 33.828125 C 44.816406 34.007812 45.414062 34.324219 46.054688 34.777344 C 46.230469 34.894531 46.382812 34.980469 46.515625 35.03125 C 46.644531 35.082031 46.792969 35.105469 46.953125 35.105469 C 47.199219 35.105469 47.410156 34.996094 47.585938 34.777344 C 47.761719 34.558594 47.847656 34.289062 47.847656 33.96875 C 47.847656 33.75 47.808594 33.558594 47.726562 33.398438 C 47.648438 33.238281 47.519531 33.078125 47.34375 32.917969 C 46.03125 31.808594 44.347656 31.257812 42.292969 31.257812 C 40.746094 31.257812 39.40625 31.574219 38.265625 32.207031 C 37.128906 32.84375 36.25 33.753906 35.632812 34.941406 C 35.011719 36.128906 34.703125 37.535156 34.703125 39.152344 C 34.703125 40.800781 35.011719 42.21875 35.632812 43.40625 C 36.25 44.597656 37.144531 45.503906 38.3125 46.132812 C 39.476562 46.757812 40.855469 47.070312 42.445312 47.070312 Z M 42.445312 47.070312 "/>
      </g>`},pdfIcon:{extension:".pdf",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(99.607843%,99.607843%,99.607843%);fill-opacity:1;" d="M 10.59375 25 L 39.4375 25 C 41.476562 25.003906 43.484375 25.472656 45.3125 26.375 L 45.3125 15.375 C 45.347656 14.191406 44.867188 13.054688 44 12.25 L 34.625 2.875 C 33.875 2.003906 32.773438 1.523438 31.625 1.5625 L 6.625 1.5625 C 5.589844 1.5625 4.75 2.402344 4.75 3.4375 L 4.75 26.375 C 6.566406 25.480469 8.566406 25.007812 10.59375 25 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 34.375 4.71875 L 42.15625 12.5 L 34.53125 12.5 C 34.480469 12.511719 34.425781 12.511719 34.375 12.5 Z M 6.25 25.71875 L 6.25 3.4375 C 6.25 3.265625 6.390625 3.125 6.5625 3.125 L 31.25 3.125 L 31.25 12.5 C 31.300781 13.980469 32.316406 15.253906 33.75 15.625 C 33.957031 15.675781 34.167969 15.675781 34.375 15.625 L 43.75 15.625 L 43.75 25.71875 C 44.859375 26.09375 45.910156 26.621094 46.875 27.28125 L 46.875 15.375 C 46.964844 13.722656 46.3125 12.117188 45.09375 11 L 35.71875 1.625 C 34.648438 0.523438 33.160156 -0.0664062 31.625 0 L 6.625 0 C 5.703125 -0.015625 4.8125 0.339844 4.152344 0.984375 C 3.496094 1.632812 3.125 2.515625 3.125 3.4375 L 3.125 27.28125 C 4.09375 26.625 5.144531 26.101562 6.25 25.71875 Z M 6.25 25.71875 "/>
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 8.625 28.125 C 6.335938 28.117188 4.136719 29.023438 2.515625 30.640625 C 0.898438 32.261719 -0.0078125 34.460938 0 36.75 L 0 41.375 C 0 46.136719 3.863281 50 8.625 50 L 41.375 50 C 46.132812 49.984375 49.984375 46.132812 50 41.375 L 50 36.75 C 50 31.988281 46.136719 28.125 41.375 28.125 Z M 8.625 28.125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 14.40625 41.78125 L 12.09375 41.78125 L 12.09375 45.84375 C 12.003906 46.351562 11.5625 46.726562 11.046875 46.726562 C 10.53125 46.726562 10.089844 46.351562 10 45.84375 L 10 34.78125 C 10 34.210938 10.460938 33.75 11.03125 33.75 L 14.40625 33.75 C 15.925781 33.617188 17.390625 34.351562 18.191406 35.648438 C 18.992188 36.945312 18.992188 38.585938 18.191406 39.882812 C 17.390625 41.179688 15.925781 41.914062 14.40625 41.78125 Z M 12.09375 39.6875 L 14.40625 39.6875 C 15.152344 39.78125 15.882812 39.4375 16.289062 38.804688 C 16.691406 38.171875 16.691406 37.359375 16.289062 36.726562 C 15.882812 36.09375 15.152344 35.75 14.40625 35.84375 L 12.09375 35.84375 Z M 12.09375 39.6875 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 20.3125 45.84375 L 20.3125 34.78125 C 20.3125 34.210938 20.773438 33.75 21.34375 33.75 L 23.5625 33.75 C 27.1875 33.75 30.125 36.6875 30.125 40.3125 C 30.125 43.9375 27.1875 46.875 23.5625 46.875 L 21.34375 46.875 C 20.773438 46.875 20.3125 46.414062 20.3125 45.84375 Z M 22.40625 44.78125 L 23.5625 44.78125 C 26.03125 44.78125 28.03125 42.78125 28.03125 40.3125 C 28.03125 37.84375 26.03125 35.84375 23.5625 35.84375 L 22.40625 35.84375 Z M 22.40625 44.78125 "/>
      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 33.1875 45.84375 L 33.1875 34.78125 C 33.183594 34.476562 33.3125 34.1875 33.542969 33.992188 C 33.769531 33.792969 34.074219 33.703125 34.375 33.75 L 40.625 33.75 C 41.132812 33.839844 41.507812 34.28125 41.507812 34.796875 C 41.507812 35.3125 41.132812 35.753906 40.625 35.84375 L 35.25 35.84375 L 35.25 39.28125 L 39.625 39.28125 C 40.195312 39.28125 40.65625 39.742188 40.65625 40.3125 C 40.65625 40.882812 40.195312 41.34375 39.625 41.34375 L 35.25 41.34375 L 35.25 45.84375 C 35.257812 46.359375 34.882812 46.796875 34.375 46.875 C 34.074219 46.921875 33.769531 46.832031 33.542969 46.632812 C 33.3125 46.4375 33.183594 46.148438 33.1875 45.84375 Z M 33.1875 45.84375 "/>
      </g>`},defaultIcon:{extension:".default",path:`<g id="surface1">
      <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 3.117188 44.777344 C 1.394531 44.777344 0 43.386719 0 41.671875 L 0 3.484375 C 0 1.769531 1.394531 0.378906 3.117188 0.378906 L 25.792969 0.378906 C 27.164062 0.304688 28.5 0.808594 29.480469 1.765625 L 37.980469 10.230469 C 39.144531 11.242188 39.769531 12.730469 39.683594 14.265625 L 39.683594 41.671875 C 39.683594 43.386719 38.289062 44.777344 36.5625 44.777344 Z M 25.511719 3.203125 L 3.117188 3.203125 C 2.960938 3.203125 2.832031 3.328125 2.832031 3.484375 L 2.832031 41.671875 C 2.832031 41.828125 2.960938 41.957031 3.117188 41.957031 L 36.5625 41.957031 C 36.679688 41.949219 36.785156 41.867188 36.820312 41.757812 L 36.820312 14.492188 L 28.34375 14.492188 C 28.160156 14.539062 27.964844 14.539062 27.777344 14.492188 C 26.480469 14.15625 25.554688 13.007812 25.511719 11.671875 Z M 28.34375 4.640625 L 28.34375 11.671875 C 28.390625 11.683594 28.441406 11.683594 28.488281 11.671875 L 35.402344 11.671875 Z M 28.34375 4.640625 "/>
      </g>`}},ve.MODULES.modals=function(a){var p=a.$;a.shared.modals||(a.shared.modals={});var M,L=a.shared.modals;function A(){for(var Q in L)if(Object.prototype.hasOwnProperty.call(L,Q)){var H=L[Q];H&&H.$modal&&H.$modal.removeData().remove()}M&&M.removeData().remove(),L={}}function O(Q,H){if(L[Q]){var P=L[Q].$modal,j=P.data("instance")||a;j.events.enableBlur(),P.hide(),M.hide(),p(j.o_doc).find("body").first().removeClass("fr-prevent-scroll fr-mobile"),P.removeClass("fr-active"),H||(j.accessibility.restoreSelection(),j.events.trigger("modals.hide"))}}function z(Q){var H;if(typeof Q=="string"){if(!L[Q])return;H=L[Q].$modal}else H=Q;return H&&a.node.hasClass(H,"fr-active")&&a.core.sameInstance(H)||!1}return{_init:function(){a.events.on("shared.destroy",A,!0)},get:function(H){return L[H]},create:function(H,P,j){if(P='<div class="fr-modal-head-line">'.concat(P,"</div>"),a.shared.$overlay||(a.shared.$overlay=p(a.doc.createElement("DIV")).addClass("fr-overlay"),p("body").first().append(a.shared.$overlay)),M=a.shared.$overlay,a.opts.theme&&M.addClass("".concat(a.opts.theme,"-theme")),!L[H]){var K=function(w,xe){var be='<div tabIndex="-1" class="fr-modal'.concat(a.opts.theme?" ".concat(a.opts.theme,"-theme"):"",'"><div class="fr-modal-wrapper">'),re='<button title="'.concat(a.language.translate("Cancel"),'" class="fr-command fr-btn fr-modal-close"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24"><path d="').concat(ve.SVG.close,'"/></svg></button>');be+='<div class="fr-modal-head">'.concat(w).concat(re,"</div>"),be+='<div tabIndex="-1" class="fr-modal-body">'.concat(xe,"</div>"),be+="</div></div>";var se=p(a.doc.createElement("DIV"));return se.html(be),se.find("> .fr-modal")}(P,j);L[H]={$modal:K,$head:K.find(".fr-modal-head"),$body:K.find(".fr-modal-body")},a.helpers.isMobile()||K.addClass("fr-desktop"),p("body").first().append(K),a.events.$on(K,"click",".fr-modal-close",function(){O(H)},!0),L[H].$body.css("margin-top",L[H].$head.outerHeight()),a.events.$on(K,"keydown",function(ee){var w=ee.which;return w===ve.KEYCODE.ESC?(O(H),a.accessibility.focusModalButton(K),!1):!(!p(ee.currentTarget).is("input[type=text], textarea")&&w!==ve.KEYCODE.ARROW_UP&&w!==ve.KEYCODE.ARROW_DOWN&&!a.keys.isBrowserAction(ee)&&(ee.preventDefault(),ee.stopPropagation(),1))},!0),O(H,!0)}return L[H]},show:function(H){if(L[H]){var P=L[H].$modal;P.data("instance",a),P.show(),M.show(),p(a.o_doc).find("body").first().addClass("fr-prevent-scroll"),a.helpers.isMobile()&&p(a.o_doc).find("body").first().addClass("fr-mobile"),P.addClass("fr-active"),a.accessibility.focusModal(P)}},hide:O,resize:function(H){if(L[H]){var P=L[H],j=P.$modal,K=P.$body,ee=a.o_win.innerHeight,w=j.find(".fr-modal-wrapper"),xe=ee-w.outerHeight(!0)+(w.height()-(K.outerHeight(!0)-K.height())),be="auto";xe<K.get(0).scrollHeight&&(be=xe),K.height(be)}},isVisible:z,areVisible:function(H){for(var P in L)if(Object.prototype.hasOwnProperty.call(L,P)&&z(P)&&(H===void 0||L[P].$modal.data("instance")===H))return L[P].$modal;return!1}}},ve.MODULES.position=function(a){var p=a.$;function M(){var H=a.selection.ranges(0),P=H.getBoundingClientRect();if(P.top===0&&P.left===0&&P.width===0||P.height===0){var j=!1,K=a.opts.toolbarInline&&H.startContainer&&H.startContainer.firstChild&&H.startContainer.firstChild.tagName==="BR";a.$el.find(".fr-marker").length===0&&(K?p(H.startContainer.firstChild).after(ve.MARKERS):a.selection.save(),j=!0);var ee=a.$el.find(".fr-marker").first();ee.css("display","inline"),ee.css("line-height","");var w=ee.offset(),xe=ee.outerHeight();ee.css("display","none"),ee.css("line-height",0),(P={}).left=w&&w.left,P.width=0,P.height=xe,P.top=w&&w.top-(a.helpers.isMobile()&&!a.helpers.isIOS()||a.opts.iframe?0:a.helpers.scrollTop()),P.right=1,P.bottom=1,P.ok=!0,j&&(K?a.$el.find(".fr-marker").remove():a.selection.restore())}return P}function L(H,P,j,K){var ee=j.data("container");if(!ee||ee.get(0).tagName==="BODY"&&ee.css("position")==="static"||(H&&(H-=ee.offset().left),P&&(P-=ee.offset().top),ee.get(0).tagName!=="BODY"?(H&&(H+=ee.get(0).scrollLeft),P&&(P+=ee.get(0).scrollTop)):ee.css("position")==="absolute"&&(H&&(H+=ee.position().left),P&&(P+=ee.position().top))),a.opts.iframe&&ee&&a.$tb&&ee.get(0)!==a.$tb.get(0)){var w=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-top")),xe=a.helpers.getPX(a.$wp.find(".fr-iframe").css("padding-left"));H&&(H+=a.$iframe.offset().left+xe),P&&(P+=a.$iframe.offset().top+w)}var be=function(se,ie){var D=se.outerWidth(!0);return ie+D>a.$sc.get(0).clientWidth-10&&(ie=a.$sc.get(0).clientWidth-D-10),ie<0&&(ie=10),ie}(j,H);H&&j.css("left",be),P&&j.css("top",function(se,ie,D){var U=se.outerHeight(!0);if(!a.helpers.isMobile()&&a.$tb&&se.parent().get(0)!==a.$tb.get(0)){var V=se.parent().offset().top,I=ie-U-(D||0);se.parent().get(0)===a.$sc.get(0)&&(V-=se.parent().position().top);var N=a.$sc.get(0).clientHeight;V+ie+U>a.$sc.offset().top+N&&0<se.parent().offset().top+I&&0<I?I>a.$wp.scrollTop()&&(ie=I,se.addClass("fr-above")):se.removeClass("fr-above")}return ie}(j,P,K))}function A(H){var P=p(H),j=P.is(".fr-sticky-on"),K=P.data("sticky-top"),ee=P.data("sticky-scheduled");if(K===void 0){P.data("sticky-top",0);var w=p('<div class="fr-sticky-dummy" style="height: '.concat(P.outerHeight(),'px;"></div>'));a.$box.prepend(w)}else a.$box.find(".fr-sticky-dummy").css("height",P.outerHeight());if(a.core.hasFocus()||0<a.$tb.findVisible("input:focus").length){var xe=a.helpers.scrollTop(),be=Math.min(Math.max(xe-a.$tb.parent().offset().top,0),a.$tb.parent().outerHeight()-P.outerHeight());if(be!==K&&be!==ee&&(clearTimeout(P.data("sticky-timeout")),P.data("sticky-scheduled",be),P.outerHeight()<xe-a.$tb.parent().offset().top&&P.addClass("fr-opacity-0"),P.data("sticky-timeout",setTimeout(function(){var ie=a.helpers.scrollTop(),D=Math.min(Math.max(ie-a.$tb.parent().offset().top,0),a.$tb.parent().outerHeight()-P.outerHeight());0<D&&a.$tb.parent().get(0).tagName==="BODY"&&(D+=a.$tb.parent().position().top),D!==K&&(P.css("top",Math.max(D,0)),P.data("sticky-top",D),P.data("sticky-scheduled",D)),P.removeClass("fr-opacity-0")},100))),!j){var re=a.$tb.parent(),se=re.get(0).offsetWidth-re.get(0).clientWidth;P.css("top","0"),P.width(re.width()-se),P.addClass("fr-sticky-on"),a.$box.addClass("fr-sticky-box")}}else clearTimeout(p(H).css("sticky-timeout")),P.css("top","0"),P.css("position",""),P.css("width",""),P.data("sticky-top",0),P.removeClass("fr-sticky-on"),a.$box.removeClass("fr-sticky-box")}function O(H){if(H.offsetWidth){var P=p(H),j=P.outerHeight(),K=P.data("sticky-position"),ee=p(a.opts.scrollableContainer==="body"?a.o_win:a.opts.scrollableContainer).outerHeight(),w=0,xe=0;a.opts.scrollableContainer!=="body"&&(w=a.$sc.offset().top,xe=p(a.o_win).outerHeight()-w-ee);var be=a.opts.scrollableContainer==="body"?a.helpers.scrollTop():w,re=P.is(".fr-sticky-on");P.data("sticky-parent")||P.data("sticky-parent",P.parent());var se=P.data("sticky-parent"),ie=se.offset().top,D=se.outerHeight();if(P.data("sticky-offset")?a.$box.find(".fr-sticky-dummy").css("height","".concat(j,"px")):(P.data("sticky-offset",!0),P.after('<div class="fr-sticky-dummy" style="height: '.concat(j,'px;"></div>'))),!K){var U=P.css("top")!=="auto"||P.css("bottom")!=="auto";U||P.css("position","fixed"),K={top:a.node.hasClass(P.get(0),"fr-top"),bottom:a.node.hasClass(P.get(0),"fr-bottom")},U||P.css("position",""),P.data("sticky-position",K),P.data("top",a.node.hasClass(P.get(0),"fr-top")?P.css("top"):"auto"),P.data("bottom",a.node.hasClass(P.get(0),"fr-bottom")?P.css("bottom"):"auto")}var V=a.helpers.getPX(P.data("top")),I=a.helpers.getPX(P.data("bottom")),N=K.top&&function(){return ie<be+V&&be+V<=ie+D-j}(),ne=K.bottom&&function(){return ie+j<be+ee-I&&be+ee-I<ie+D}();if(N||ne){var G=se.get(0).offsetWidth-se.get(0).clientWidth;if(P.css("width","".concat(se.get(0).getBoundingClientRect().width-G,"px")),re)a.opts.scrollableContainer!=="body"&&(P.css("top")&&P.data("top")!=="auto"&&P.css("top",a.helpers.getPX(P.data("top"))+w-window.scrollY),P.css("bottom")&&P.data("bottom")!=="auto"&&P.css("bottom",a.helpers.getPX(P.data("bottom"))+xe+window.scrollY));else{if(P.addClass("fr-sticky-on"),P.removeClass("fr-sticky-off"),P.css("top"))if(P.data("top")!=="auto"){var q=a.opts.scrollableContainer==="body"?w:w-window.scrollY;P.css("top",a.helpers.getPX(P.data("top"))+q)}else P.data("top","auto");if(P.css("bottom"))if(P.data("bottom")!=="auto"){var de=a.opts.scrollableContainer==="body"?xe:xe+window.scrollY;P.css("bottom",a.helpers.getPX(P.data("bottom"))+de)}else P.css("bottom","auto")}}else a.node.hasClass(P.get(0),"fr-sticky-off")||(P.css("width",""),P.removeClass("fr-sticky-on"),P.addClass("fr-sticky-off"),P.css("top")&&P.data("top")!=="auto"&&K.top&&P.css("top",0),P.css("bottom")&&P.data("bottom")!=="auto"&&K.bottom&&P.css("bottom",0))}}function z(){if(a.helpers.requestAnimationFrame()(z),a.events.trigger("position.refresh")!==!1)for(var H=0;H<a._stickyElements.length;H++)if(a.opts.toolbarBottom){var P=a.$tb.parent(),j=P.get(0).offsetWidth-P.get(0).clientWidth,K=p(a._stickyElements[H]);K.width(P.width()-j),K.addClass("fr-sticky-on"),a.$box.addClass("fr-sticky-box")}else A(a._stickyElements[H])}function Q(){if(a._stickyElements)for(var H=0;H<a._stickyElements.length;H++)O(a._stickyElements[H])}return{_init:function(){(function(){if(a._stickyElements=[],a.helpers.getIOSVersion()<=8)z(),a.events.$on(p(a.o_win),"scroll",function(){if(a.core.hasFocus())for(var K=0;K<a._stickyElements.length;K++){var ee=p(a._stickyElements[K]),w=ee.parent(),xe=a.helpers.scrollTop();ee.outerHeight()<xe-w.offset().top&&(a.opts.toolbarBottom&&a.helpers.isIOS()||(ee.addClass("fr-opacity-0"),ee.data("sticky-top",-1),ee.data("sticky-scheduled",-1)))}},!0);else{a.opts.scrollableContainer!=="body"&&a.events.$on(p(a.opts.scrollableContainer),"scroll",Q,!0),a.events.$on(p(a.o_win),"scroll",Q,!0),a.events.$on(p(a.o_win),"resize",Q,!0),a.events.on("initialized",Q),a.events.on("focus",Q),a.events.$on(p(a.o_win),"resize","textarea",Q,!0);var j=p(a.el).parents(".modal");j.get(0)&&a.events.$on(j,"scroll",Q,!0)}a.events.on("destroy",function(){a._stickyElements=[]})})()},forSelection:function(P){var j=M();if(j.top!=null){P.css({top:0,left:0});var K=j.top+j.height,ee=j.left+j.width/2-P.get(0).offsetWidth/2+a.helpers.scrollLeft();a.opts.iframe||(K+=a.helpers.scrollTop()),L(ee,K,P,j.height)}},addSticky:function(P){P.addClass("fr-sticky"),a.helpers.isIOS()&&!a.opts.toolbarBottom&&P.addClass("fr-sticky-ios"),P.removeClass("fr-sticky"),a._stickyElements.push(P.get(0))},refresh:Q,at:L,getBoundingRect:M}},ve.MODULES.refresh=function(a){var p=a.$;function M(A,O){A.toggleClass("fr-disabled",O).attr("aria-disabled",O)}function L(A){var O=a.$tb.find('.fr-more-toolbar[data-name="'.concat(A.attr("data-group-name"),'"]')),z=function(H,P){var j=0,K=P.find("> .fr-command, > .fr-btn-wrap");K.each(function(be,re){j+=p(re).outerWidth()});var ee,w=a.helpers.getPX(p(K[0]).css("margin-left")),xe=a.helpers.getPX(p(K[0]).css("margin-right"));return ee=a.opts.direction==="rtl"?a.$tb.outerWidth()-H.offset().left+a.$tb.offset().left-(j+H.outerWidth()+K.length*(w+xe))/2:H.offset().left-a.$tb.offset().left-(j-H.outerWidth()+K.length*(w+xe))/2,ee+j+K.length*(w+xe)>a.$tb.outerWidth()&&(ee-=(j+K.length*(w+xe)-H.outerWidth())/2),ee<0&&(ee=0),ee}(A,O);a.opts.direction==="rtl"?O.css("padding-right",z):O.css("padding-left",z)}return{undo:function(O){M(O,!a.undo.canDo())},redo:function(O){M(O,!a.undo.canRedo())},outdent:function(O){if(a.node.hasClass(O.get(0),"fr-no-refresh")||p("button#markdown-".concat(a.id,".fr-active")).length)return!1;for(var z=a.selection.blocks(),Q=0;Q<z.length;Q++){var H=a.opts.direction==="rtl"||p(z[Q]).css("direction")==="rtl"?"margin-right":"margin-left",P=z[0].parentElement;if(["HTML","P","DIV","UL","OL","LI","TR","BLOCKQUOTE","BODY"].indexOf(P.parentNode.tagName)<0||z[0].previousSibling&&P.parentNode.style.listStyleType=="none")return M(O,!0),!0;if(z[Q].tagName==="LI"||z[Q].parentNode.tagName==="LI"||0<a.helpers.getPX(p(z[Q]).css(H))+a.helpers.getPX(p(z[Q]).css("text-indent")))return M(O,!1),!0}M(O,!0)},indent:function(O){if(a.node.hasClass(O.get(0),"fr-no-refresh")||p("button#markdown-".concat(a.id,".fr-active")).length)return!1;for(var z=a.selection.blocks(),Q=0;Q<z.length;Q++){for(var H=z[Q].previousSibling;H&&H.nodeType===Node.TEXT_NODE&&H.textContent.length===0;)H=H.previousSibling;if(z[Q].tagName!=="LI"||H)return M(O,!1),!0;M(O,!0)}},moreText:L,moreParagraph:L,moreMisc:L,moreRich:L}},Object.assign(ve.DEFAULTS,{attribution:!0,toolbarBottom:!1,toolbarButtons:null,toolbarButtonsXS:null,toolbarButtonsSM:null,toolbarButtonsMD:null,toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1,toolbarResponsiveToEditor:!1}),ve.TOOLBAR_BUTTONS={moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote"]},moreRich:{buttons:["trackChanges","markdown","insertLink","insertFiles","insertImage","insertVideo","insertTable","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR","openFilePicker"],buttonsVisible:4},moreMisc:{buttons:["undo","redo","fullscreen","print","getPDF","spellChecker","selectAll","html","help","findReplaceButton"],align:"right",buttonsVisible:2},trackChanges:{buttons:["showChanges","applyAll","removeAll","applyLast","removeLast"],buttonsVisible:0}},ve.TOOLBAR_BUTTONS_MD=null,(ve.TOOLBAR_BUTTONS_SM={}).moreText=Object.assign({},ve.TOOLBAR_BUTTONS.moreText,{buttonsVisible:2}),ve.TOOLBAR_BUTTONS_SM.moreParagraph=Object.assign({},ve.TOOLBAR_BUTTONS.moreParagraph,{buttonsVisible:2}),ve.TOOLBAR_BUTTONS_SM.moreRich=Object.assign({},ve.TOOLBAR_BUTTONS.moreRich,{buttonsVisible:2}),ve.TOOLBAR_BUTTONS_SM.moreMisc=Object.assign({},ve.TOOLBAR_BUTTONS.moreMisc,{buttonsVisible:2}),ve.TOOLBAR_BUTTONS_SM.trackChanges=Object.assign({},ve.TOOLBAR_BUTTONS.trackChanges,{buttonsVisible:0}),(ve.TOOLBAR_BUTTONS_XS={}).moreText=Object.assign({},ve.TOOLBAR_BUTTONS.moreText,{buttonsVisible:0}),ve.TOOLBAR_BUTTONS_XS.moreParagraph=Object.assign({},ve.TOOLBAR_BUTTONS.moreParagraph,{buttonsVisible:0}),ve.TOOLBAR_BUTTONS_XS.moreRich=Object.assign({},ve.TOOLBAR_BUTTONS.moreRich,{buttonsVisible:0}),ve.TOOLBAR_BUTTONS_XS.moreMisc=Object.assign({},ve.TOOLBAR_BUTTONS.moreMisc,{buttonsVisible:2}),ve.TOOLBAR_BUTTONS_XS.trackChanges=Object.assign({},ve.TOOLBAR_BUTTONS.trackChanges,{buttonsVisible:0}),ve.POWERED_BY='<a id="fr-logo" href="https://froala.com/wysiwyg-editor" target="_blank" title="Froala WYSIWYG HTML Editor"><span>Powered by</span><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 822.8 355.33"><defs><style>.fr-logo{fill:#b1b2b7;}</style></defs><title>Froala</title><path class="fr-logo" d="M123.58,78.65A16.16,16.16,0,0,0,111.13,73H16.6C7.6,73,0,80.78,0,89.94V128.3a16.45,16.45,0,0,0,32.9,0V104.14h78.5A15.63,15.63,0,0,0,126.87,91.2,15.14,15.14,0,0,0,123.58,78.65Z"/><path class="fr-logo" d="M103.54,170a16.05,16.05,0,0,0-11.44-4.85H15.79A15.81,15.81,0,0,0,0,180.93v88.69a16.88,16.88,0,0,0,5,11.92,16,16,0,0,0,11.35,4.7h.17a16.45,16.45,0,0,0,16.41-16.6v-73.4H92.2A15.61,15.61,0,0,0,107.89,181,15.1,15.1,0,0,0,103.54,170Z"/><path class="fr-logo" d="M233,144.17c-5.29-6.22-16-7.52-24.14-7.52-16.68,0-28.72,7.71-36.5,23.47v-5.67a16.15,16.15,0,1,0-32.3,0v115.5a16.15,16.15,0,1,0,32.3,0v-38.7c0-19.09,3.5-63.5,35.9-63.5a44.73,44.73,0,0,1,5.95.27h.12c12.79,1.2,20.06-2.73,21.6-11.69C236.76,151.48,235.78,147.39,233,144.17Z"/><path class="fr-logo" d="M371.83,157c-13.93-13.11-32.9-20.33-53.43-20.33S279,143.86,265.12,157c-14.67,13.88-22.42,32.82-22.42,54.77,0,21.68,8,41.28,22.4,55.2,13.92,13.41,32.85,20.8,53.3,20.8s39.44-7.38,53.44-20.79c14.55-13.94,22.56-33.54,22.56-55.21S386.39,170.67,371.83,157Zm-9.73,54.77c0,25.84-18.38,44.6-43.7,44.6s-43.7-18.76-43.7-44.6c0-25.15,18.38-43.4,43.7-43.4S362.1,186.59,362.1,211.74Z"/><path class="fr-logo" d="M552.7,138.14a16.17,16.17,0,0,0-16,16.3v1C526.41,143.85,509,136.64,490,136.64c-19.83,0-38.19,7.24-51.69,20.4C424,171,416.4,190,416.4,212c0,21.61,7.78,41.16,21.9,55,13.56,13.33,31.92,20.67,51.7,20.67,18.83,0,36.29-7.41,46.7-19.37v1.57a16.15,16.15,0,1,0,32.3,0V154.44A16.32,16.32,0,0,0,552.7,138.14Zm-16.3,73.6c0,30.44-22.81,44.3-44,44.3-24.57,0-43.1-19-43.1-44.3s18.13-43.4,43.1-43.4C513.73,168.34,536.4,183.55,536.4,211.74Z"/><path class="fr-logo" d="M623.5,61.94a16.17,16.17,0,0,0-16,16.3v191.7a16.15,16.15,0,1,0,32.3,0V78.24A16.32,16.32,0,0,0,623.5,61.94Z"/><path class="fr-logo" d="M806.5,138.14a16.17,16.17,0,0,0-16,16.3v1c-10.29-11.63-27.74-18.84-46.7-18.84-19.83,0-38.19,7.24-51.69,20.4-14.33,14-21.91,33-21.91,55,0,21.61,7.78,41.16,21.9,55,13.56,13.33,31.92,20.67,51.7,20.67,18.83,0,36.29-7.41,46.7-19.37v1.57a16.15,16.15,0,1,0,32.3,0V154.44A16.32,16.32,0,0,0,806.5,138.14Zm-16.3,73.6c0,30.44-22.81,44.3-44,44.3-24.57,0-43.1-19-43.1-44.3s18.13-43.4,43.1-43.4C767.53,168.34,790.2,183.55,790.2,211.74Z"/></svg></a>',ve.MODULES.toolbar=function(a){var p=a.$;function M(ie){if(-1<a.opts.pluginsEnabled.indexOf("filestack")&&a.opts.filestackOptions&&a.opts.filestackOptions.uploadToFilestackOnly){var D,U=JSON.parse(JSON.stringify(ie)),V=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.includes("openFilePicker"),I=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.includes("insertFile"),N=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.includes("insertFiles");V?((D=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.findIndex(function(q){return q==="insertFile"}))!==-1&&U.moreRich.buttons.splice(D,1),(D=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.findIndex(function(q){return q==="insertFiles"}))!==-1&&U.moreRich.buttons.splice(D,1)):I&&N&&(D=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.findIndex(function(q){return q==="insertFiles"}))!==-1&&U.moreRich.buttons.splice(D,1);var ne=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.findIndex(function(q){return q==="insertImage"});-1<ne&&ne!==null&&(U.moreRich.buttons[ne]="openFilePickerImageOnly");var G=U.moreRich&&U.moreRich.buttons&&U.moreRich.buttons.findIndex(function(q){return q==="insertVideo"});return-1<G&&G!==null&&(U.moreRich.buttons[G]="openFilePickerVideoOnly"),U}return ie}var L,A=[];function O(ie){var D={};if(Array.isArray(ie)){if(!Array.isArray(ie[0])){for(var U=[],V=[],I=0;I<ie.length;I++)ie[I]==="|"||ie[I]==="-"?(0<V.length&&U.push(V),V=[]):V.push(ie[I]);0<V.length&&U.push(V),ie=U}ie.forEach(function(N,ne){D["group".concat(ne+1)]={buttons:N}}),D.showMoreButtons=!1}else pn(ie)!=="object"||Array.isArray(ie)||((D=ie).showMoreButtons=!0);return D}function z(){var ie=a.helpers.screenSize(a.opts.toolbarResponsiveToEditor);return A[L=ie]}function Q(){for(var ie=a.$tb.find(".fr-more-toolbar"),D=function(){var I=p(ie[U]);if(I.hasClass("fr-expanded")){var N=a.helpers.getPX(I.css("padding-left")),ne=I.find("> .fr-command, > .fr-btn-wrap"),G=p(ne[0]),q=a.helpers.getPX(G.css("margin-left")),de=a.helpers.getPX(G.css("margin-right")),Le=a.helpers.getPX(G.css("margin-top")),Ae=a.helpers.getPX(G.css("margin-bottom"));if(ne.each(function(We,ut){N+=p(ut).outerWidth()+q+de}),a.$tb.outerWidth()<N){var we=Math.floor(N/a.$tb.outerWidth());N+=we*(N/I[0].childElementCount),we=Math.ceil(N/a.$tb.outerWidth());var Pe=(a.helpers.getPX(G.css("height"))+Le+Ae)*we;I.css("height",Pe)}}else I.css("height","")},U=0;U<ie.length;U++)D();!a.helpers.isMobile()&&a.opts.toolbarBottom?a.$tb.find(".fr-toolbar .fr-more-toolbar").removeClass("position-relative"):a.$tb.find(".fr-toolbar .fr-more-toolbar").addClass("position-relative")}function H(){if(a.$tb.find("[data-name='trackChanges-".concat(a.id,"']")).length==0&&-1<a.opts.pluginsEnabled.indexOf("track_changes")){a.$tb.append(p('<div class="fr-more-toolbar"></div>').data("name","trackChanges-".concat(a.id)));for(var ie=0,D=["showChanges","applyAll","removeAll","applyLast","removeLast"];ie<D.length;ie++){var U=D[ie],V=ve.COMMANDS[U];if(V){V.more_btn=!0;var I=p(a.button.build(U,V,!0));a.button.addButtons(I),a.$tb.find("[data-name='trackChanges-".concat(a.id,"']")).append(I)}}}if(L!==a.helpers.screenSize(a.opts.toolbarResponsiveToEditor)){var N=z(),ne=p(),G=p();for(var q in a.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").addClass("fr-hidden"),function(){for(var Ze=a.$tb.find(".fr-btn-grp, .fr-more-toolbar"),Xe=function(){var _t=p(Ze[$e]);_t.children().each(function(mt,Lt){_t.before(Lt)}),_t.remove()},$e=0;$e<Ze.length;$e++)Xe()}(),a.$tb.find(".fr-separator.fr-vs, .fr-separator.fr-hs").remove(),N){var de=N[q];if(de.buttons&&(q!=="trackChanges"||a.opts.pluginsEnabled.indexOf("track_changes")!==-1)){var Le=void 0,Ae=0,we=3,Pe=void 0;q!=="trackChanges"&&(Pe=p('<div class="fr-btn-grp fr-float-'.concat(N[q].align?N[q].align:"left",'"></div>'))),N.showMoreButtons&&(Le=p('<div class="fr-more-toolbar"></div>').data("name","".concat(q,"-").concat(a.id)),q!=="trackChanges"&&q!=="moreRich"||!a.opts.trackChangesEnabled||Le.addClass("fr-expanded"));for(var We=0;We<de.buttons.length;We++){de.buttonsVisible!==void 0&&(we=de.buttonsVisible);var ut=a.$tb.find('> .fr-command[data-cmd="'+de.buttons[We]+'"], > div.fr-btn-wrap > .fr-command[data-cmd="'+de.buttons[We]+'"]'),nt=null;a.node.hasClass(ut.next().get(0),"fr-dropdown-menu")&&(nt=ut.next()),a.node.hasClass(ut.next().get(0),"fr-options")&&(ut.removeClass("fr-hidden"),ut.next().removeClass("fr-hidden"),ut=ut.parent()),ut.removeClass("fr-hidden"),N.showMoreButtons&&we<=Ae?(Le.append(ut),nt&&Le.append(nt)):(Pe.append(ut),de.buttons[We]==="|"?Pe.append(p('<div class="fr-separator fr-vs" role="separator" aria-orientation="vertical"></div>')):de.buttons[We]==="-"&&Pe.append(p('<div class="fr-separator fr-hs" role="separator" aria-orientation="horizontal"></div>')),nt&&Pe.append(nt)),Ae++}if(N.showMoreButtons&&we<Ae){var ot=a.$tb.find('.fr-command[data-cmd="'.concat(q,'"]'));if(0<ot.length)ot.removeClass("fr-hidden fr-open");else{var Me=q,et=ve.COMMANDS[Me];et&&(et.more_btn=!0,ot=p(a.button.build(Me,et,!0)),a.button.addButtons(ot))}Pe&&Pe.append(ot)}Pe&&ne.push(Pe),N.showMoreButtons&&G.push(Le)}}a.opts.toolbarBottom?(a.$tb.append(G),a.$tb.find(".fr-newline").remove(),a.$tb.append('<div class="fr-newline"></div>'),a.$tb.append(ne)):(a.$tb.append(ne),a.$tb.find(".fr-newline").remove(),a.$tb.append('<div class="fr-newline"></div>'),a.$tb.append(G)),a.$tb.removeClass("fr-toolbar-open"),a.$box.removeClass("fr-toolbar-open"),a.events.trigger("codeView.toggle")}Q()}function P(ie,D){setTimeout(function(){var U;if(a.opts.iframe?U=a.$iframe.get(0).contentWindow.document.activeElement:U=document.activeElement,(!ie||ie.which!=ve.KEYCODE.ESC)&&a.selection.inEditor()&&a.core.hasFocus()&&!a.popups.areVisible()&&p(a.selection.blocks()[0]).closest("table").attr("contenteditable")!="false"&&U.tagName!=="INPUT"&&U.tagName!=="TEXTAREA"&&(a.opts.toolbarVisibleWithoutSelection||!a.selection.isCollapsed()&&!a.keys.isIME()||D)){if(a.$tb.data("instance",a),a.events.trigger("toolbar.show",[ie])===!1||ie&&a.helpers.isMobile()&&!function(I,N){for(var ne=I.target;ne;){if(ne===N)return!0;ne=ne.parentElement}return!1}(ie,a.$box))return;a.$tb.show(),a.opts.toolbarContainer||a.position.forSelection(a.$tb),1<a.opts.zIndex?a.$tb.css("z-index",a.opts.zIndex+1):a.$tb.css("z-index",null)}},0)}function j(ie){return(!ie||ie.type!=="blur"||document.activeElement!==a.el)&&(!ie||ie.type!=="blur"||!a.helpers.isMobile())&&(!(!ie||ie.type!=="keydown"||!a.keys.ctrlKey(ie))||!!a.button.getButtons(".fr-dropdown.fr-active").next().find(a.o_doc.activeElement).length||(a.helpers.isMobile()&&a.opts.toolbarInline&&(a.$tb.find(".fr-expanded").toggleClass("fr-expanded"),a.$tb.find(".fr-open").removeClass("fr-open"),a.$tb.removeClass("fr-toolbar-open"),Q()),void(a.events.trigger("toolbar.hide")!==!1&&a.$tb.hide())))}A[ve.XS]=O(M(a.opts.toolbarButtonsXS||a.opts.toolbarButtons||ve.TOOLBAR_BUTTONS_XS||ve.TOOLBAR_BUTTONS||[])),A[ve.SM]=O(M(a.opts.toolbarButtonsSM||a.opts.toolbarButtons||ve.TOOLBAR_BUTTONS_SM||ve.TOOLBAR_BUTTONS||[])),A[ve.MD]=O(M(a.opts.toolbarButtonsMD||a.opts.toolbarButtons||ve.TOOLBAR_BUTTONS_MD||ve.TOOLBAR_BUTTONS||[])),A[ve.LG]=O(M(a.opts.toolbarButtons||ve.TOOLBAR_BUTTONS||[]));var K=null;function ee(ie){clearTimeout(K),ie&&ie.which===ve.KEYCODE.ESC||(K=setTimeout(P,a.opts.typingTimer))}function w(){a.events.on("window.mousedown",j),a.events.on("keydown",j),a.events.on("blur",j),a.events.$on(a.$tb,"transitionend",".fr-more-toolbar",function(){a.position.forSelection(a.$tb)}),a.helpers.isMobile()||a.events.on("window.mouseup",P),a.helpers.isMobile()?a.helpers.isIOS()||(a.events.on("window.touchend",P),a.browser.mozilla&&setInterval(P,200)):a.events.on("window.keyup",ee),a.events.on("keydown",function(ie){ie&&ie.which===ve.KEYCODE.ESC&&a.events.trigger("toolbar.esc")}),a.events.on("keydown",function(ie){if(ie.which===ve.KEYCODE.ALT)return ie.stopPropagation(),!1},!0),a.events.$on(a.$wp,"scroll.toolbar",P),a.events.on("commands.after",P),a.helpers.isMobile()&&(a.events.$on(a.$doc,"selectionchange",ee),a.events.$on(a.$doc,"orientationchange",P))}function xe(){a.$tb&&(a.$tb.html("").removeData().remove(),a.$tb=null),a.$second_tb&&(a.$second_tb.html("").removeData().remove(),a.$second_tb=null)}function be(){a.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),a.$box.find(".fr-sticky-dummy").remove()}function re(){a.opts.theme&&a.$tb.addClass("".concat(a.opts.theme,"-theme")),1<a.opts.zIndex&&a.$tb.css("z-index",a.opts.zIndex+1),a.opts.direction!=="auto"&&a.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-".concat(a.opts.direction)),a.helpers.isMobile()?a.$tb.addClass("fr-mobile"):a.$tb.addClass("fr-desktop"),a.opts.toolbarContainer?(a.opts.toolbarInline&&(w(),j()),a.opts.toolbarBottom?a.$tb.addClass("fr-bottom"):a.$tb.addClass("fr-top")):function(){a.opts.toolbarInline?(a.$sc.append(a.$tb),a.$tb.data("container",a.$sc),a.$tb.addClass("fr-inline"),w(),a.opts.toolbarBottom=!1):(a.opts.toolbarBottom?(a.$box.append(a.$tb),a.$tb.addClass("fr-bottom"),a.$box.addClass("fr-bottom")):(a.opts.toolbarBottom=!1,a.$box.prepend(a.$tb),a.$tb.addClass("fr-top"),a.$box.addClass("fr-top")),a.$tb.addClass("fr-basic"),a.opts.toolbarSticky&&(a.opts.toolbarStickyOffset&&(a.opts.toolbarBottom?a.$tb.css("bottom",a.opts.toolbarStickyOffset):a.$tb.css("top",a.opts.toolbarStickyOffset)),a.position.addSticky(a.$tb)))}(),function(){var D=a.button.buildGroup(z());a.$tb.append(D),Q(),a.button.bindCommands(a.$tb)}(),function(){a.events.$on(p(a.o_win),"resize",H),a.events.$on(p(a.o_win),"orientationchange",H),a.opts.toolbarButtons&&-1<JSON.stringify(a.opts.toolbarButtons).indexOf("trackChanges")&&H();var D=a.$tb.find(".fr-more-toolbar[data-name=trackChanges-".concat(a.id,"]")),U=D.length!==0&&D.hasClass("fr-expanded");if(a.opts.trackChangesEnabled&&!U){var V=a.$tb.find(".fr-command.fr-btn[data-cmd=trackChanges");D.addClass("fr-expanded"),V.toggleClass("fr-open"),a.toolbar.enable()}}(),a.accessibility.registerToolbar(a.$tb),a.events.$on(a.$tb,"".concat(a._mousedown," ").concat(a._mouseup),function(ie){var D=ie.originalEvent?ie.originalEvent.target||ie.originalEvent.originalTarget:null;if(D&&D.tagName!=="INPUT"&&!a.edit.isDisabled())return ie.stopPropagation(),ie.preventDefault(),!1},!0),a.helpers.isMobile()&&a.events.$on(a.$tb,"click",function(){a.popups.areVisible().length||a.id!==a.shared.selected_editor&&a.shared.selected_editor||a.$el.focus()}),a.events.$on(a.$tb,"transitionend",".fr-more-toolbar",function(){a.$box.hasClass("fr-fullscreen")&&(a.opts.height=a.o_win.innerHeight-(a.opts.toolbarInline?0:a.$tb.outerHeight()+(a.$second_tb?a.$second_tb.outerHeight():0)),a.size.refresh())})}var se=!1;return{_init:function(){if(a.$sc=p(a.opts.scrollableContainer).first(),!a.$wp)return!1;a.opts.toolbarInline||a.opts.toolbarBottom||(a.$second_tb=p(a.doc.createElement("div")).attr("class","fr-second-toolbar"),a.$box.append(a.$second_tb),(a.ul!==!1||a.opts.attribution)&&a.$second_tb.prepend(ve.POWERED_BY)),a.opts.toolbarContainer?(a.shared.$tb?(a.$tb=a.shared.$tb,a.opts.toolbarInline&&w()):(a.shared.$tb=p(a.doc.createElement("DIV")),a.shared.$tb.addClass("fr-toolbar"),a.$tb=a.shared.$tb,p(a.opts.toolbarContainer).append(a.$tb),re(),a.$tb.data("instance",a)),a.opts.toolbarInline?a.$box.addClass("fr-inline"):a.$box.addClass("fr-basic"),a.events.on("focus",function(){a.$tb.data("instance",a)},!0),a.opts.toolbarInline=!1):a.opts.toolbarInline?(a.$box.addClass("fr-inline"),a.shared.$tb?(a.$tb=a.shared.$tb,w()):(a.shared.$tb=p(a.doc.createElement("DIV")),a.shared.$tb.addClass("fr-toolbar"),a.$tb=a.shared.$tb,re())):(a.$box.addClass("fr-basic"),a.$tb=p(a.doc.createElement("DIV")),a.$tb.addClass("fr-toolbar"),re(),a.$tb.data("instance",a)),a.events.on("destroy",be,!0),a.events.on(a.opts.toolbarInline||a.opts.toolbarContainer?"shared.destroy":"destroy",xe,!0),a.events.on("edit.on",function(){a.$tb.removeClass("fr-disabled").removeAttr("aria-disabled")}),a.events.on("edit.off",function(){a.$tb.addClass("fr-disabled").attr("aria-disabled",!0)}),function(){a.events.on("shortcut",function(U,V,I){var N;if(V&&!I?N=a.$tb.find('.fr-command[data-cmd="'.concat(V,'"]')):V&&I&&(N=a.$tb.find('.fr-command[data-cmd="'.concat(V,'"][data-param1="').concat(I,'"]'))),N.length&&(U.preventDefault(),U.stopPropagation(),N.parents(".fr-toolbar").data("instance",a),U.type==="keydown"))return a.button.exec(N),!1})}()},hide:j,show:function(){if(a.events.trigger("toolbar.show")===!1)return!1;a.$tb.show()},showInline:P,disable:function(){!se&&a.$tb&&(a.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-wrap > .fr-command").addClass("fr-disabled fr-no-refresh").attr("aria-disabled",!0),se=!0)},enable:function(){se&&a.$tb&&(a.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-wrap > .fr-command").removeClass("fr-disabled fr-no-refresh").attr("aria-disabled",!1),se=!1),a.button.bulkRefresh()},setMoreToolbarsHeight:Q}};var es=["scroll","wheel","touchmove","touchstart","touchend"],_o=["webkit","moz","ms","o"],Ao=["transitionend"],jt=document.createElement("div").style,Zo=["Webkit","Moz","ms","O","css","style"],Xt={visibility:"hidden",display:"block"},lt=["focus","blur","click"],Xn={},gs=function(p,M){return{altKey:p.altKey,bubbles:p.bubbles,cancelable:p.cancelable,changedTouches:p.changedTouches,ctrlKey:p.ctrlKey,detail:p.detail,eventPhase:p.eventPhase,metaKey:p.metaKey,pageX:p.pageX,pageY:p.pageY,shiftKey:p.shiftKey,view:p.view,char:p.char,key:p.key,keyCode:p.keyCode,button:p.button,buttons:p.buttons,clientX:p.clientX,clientY:p.clientY,offsetX:p.offsetX,offsetY:p.offsetY,pointerId:p.pointerId,pointerType:p.pointerType,screenX:p.screenX,screenY:p.screenY,targetTouches:p.targetTouches,toElement:p.toElement,touches:p.touches,type:p.type,which:p.which,target:p.target,currentTarget:M,originalEvent:p,stopPropagation:function(){p.stopPropagation()},stopImmediatePropagation:function(){p.stopImmediatePropagation()},preventDefault:function(){(/Android/i.test(navigator.userAgent)&&p.type==="touchend"||es.indexOf(p.type)===-1)&&p.preventDefault()}}},Eo=function a(p){if(p.ownerDocument&&p.ownerDocument.body&&p.ownerDocument.body.contains(p)||p.nodeName==="#document"||p.nodeName==="HTML"||p===window)return!0;if(typeof p.getRootNode!="function")return!1;var M=p.getRootNode();return M&&M.host&&a(M.host)},ht=function(p,M){return function(L){var A=L.target;if(M)for(M=Ls(M);A&&A!==this;)Element.prototype.matches.call(A,Ls(M))&&p.call(A,gs(L,A)),A=A.parentNode;else Eo(A)&&p.call(A,gs(L,A))}},oo=function(p,M){return new b(p,M)},Ls=function(p){return p&&typeof p=="string"?p.replace(/^\s*>/g,":scope >").replace(/,\s*>/g,", :scope >"):p},us=function(p){return typeof p=="function"&&typeof p.nodeType!="number"},s=oo;oo.fn=oo.prototype={constructor:oo,length:0,contains:function(a){if(!a)return!1;if(Array.isArray(a)){for(var p=0;p<a.length;p++)if(this.contains(a[p])&&this!=a[p])return!0;return!1}for(var M=0;M<this.length;M++)for(var L=a;L;){if(L==this[M]||L[0]&&L[0].isEqualNode(this[M]))return!0;L=L.parentNode}return!1},findVisible:function(a){for(var p=this.find(a),M=p.length-1;0<=M;M--)s(p[M]).isVisible()||p.splice(M,1);return p},formatParams:function(a){var p="".concat(Object.keys(a).map(function(M){return"".concat(M,"=").concat(encodeURIComponent(a[M]))}).join("&"));return p||""},ajax:function(a){var p=new XMLHttpRequest,M=this.formatParams(a.data);for(var L in a.method.toUpperCase()==="GET"&&(a.url=M?a.url+"?"+M:a.url),p.open(a.method,a.url,!0),a.withCredentials&&(p.withCredentials=!0),a.crossDomain&&p.setRequestHeader("Access-Control-Allow-Origin","*"),a.headers)Object.prototype.hasOwnProperty.call(a.headers,L)&&p.setRequestHeader(L,a.headers[L]);Object.prototype.hasOwnProperty.call(a.headers,"Content-Type")||(a.dataType==="json"?p.setRequestHeader("Content-Type","application/json"):p.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),p.onload=function(){if(p.status==200){var A=p.responseText;a.dataType==="json"&&(A=JSON.parse(A)),a.done(A,p.status,p)}else a.fail(p)},p.send(M)},prevAll:function(){var a=s();if(!this[0])return a;for(var p=this[0];p&&p.previousSibling;)p=p.previousSibling,a.push(p);return a},index:function(a){return a?typeof a=="string"?[].indexOf.call(s(a),this[0]):[].indexOf.call(this,a.length?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},isVisible:function(){return!!this[0]&&!!(this[0].offsetWidth||this[0].offsetHeight||this[0].getClientRects().length)},toArray:function(){return[].slice.call(this)},get:function(a){return a==null?[].slice.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var p=oo.merge(this.constructor(),a);return p.prevObject=this,p},wrapAll:function(a){var p;return this[0]&&(us(a)&&(a=a.call(this[0])),p=oo(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var M=this;M.firstElementChild;)M=M.firstElementChild;return M}).append(this)),this},wrapInner:function(a){if(typeof a=="string"){for(var p=a.split(" "),M=0;M<p.length&&p[M].trim().length===0;)M++;if(M<p.length&&(s(a).length&&p[M].trim()===s(a)[0].tagName&&(a=document.createElement(p[M].trim())),M++),typeof a!="string")for(var L=s(a);M<p.length;M++){p[M]=p[M].trim();var A=p[M].split("=");L.attr(A[0],A[1].replace('"',""))}}for(;this[0].firstChild&&this[0].firstChild!==a&&typeof a!="string";)a.appendChild(this[0].firstChild)},wrapContent:function(a){for(var p=document.createElement(a.tagName),M=0;M<a.attributes.length;M++)s(p).attr(a.attributes[M].nodeName,a.attributes[M].value);s(this[0]).contents().wrapAll(p)},wrap:function(a){var p=us(a);return this.each(function(M){s(this).wrapAll(p?a.call(this,M):a)})},unwrap:function(){return this.parent().each(function(){this.nodeName&&this.nodeName.toLowerCase()===name.toLowerCase()||oo(this).replaceWith(this.childNodes)})},grep:function(a,p,M){for(var L=[],A=0,O=a.length,z=!M;A<O;A++)!p(a[A],A)!==z&&L.push(a[A]);return L},map:function(a){return this.pushStack(oo.map(this,function(p,M){return a.call(p,M,p)}))},slice:function(){return this.pushStack([].slice.apply(this,arguments))},each:function(a){if(this.length)for(var p=0;p<this.length&&a.call(this[p],p,this[p])!==!1;p++);return this},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var p=this.length,M=+a+(a<0?p:0);return this.pushStack(0<=M&&M<p?[this[M]]:[])},empty:function(){for(var a=0;a<this.length;a++)this[a].innerHTML=""},contents:function(){for(var a=s(),p=0;p<this.length;p++)for(var M=this[p].childNodes,L=0;L<M.length;L++)a.push(M[L]);return a},attr:function(a,p){if(pn(a)==="object"){for(var M in a)Object.prototype.hasOwnProperty.call(a,M)&&a[M]!==null&&this.attr(M,a[M]);return this}if(p===void 0)return this.length===0||!this[0].getAttribute&&a!=="checked"?void 0:a==="checked"?this[0].checked:a==="tagName"?this[0].tagName:this[0].getAttribute(a);if(a==="checked")for(var L=0;L<this.length;L++)this[L].checked=p;else if(a==="tagName")for(var A=0;A<this.length;A++)this[A].tagName=p;else for(var O=0;O<this.length;O++)this[O].setAttribute(a,p);return this},removeAttr:function(a){for(var p=0;p<this.length;p++)this[p].removeAttribute&&this[p].removeAttribute(a);return this},hide:function(){return this.css("display","none"),this},show:function(){return this.css("display","block"),this},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},data:function(a,p){if(p!==void 0){for(var M=0;M<this.length;M++)pn(this[M]["data-"+a]=p)!=="object"&&typeof p!="function"&&this[M].setAttribute&&this[M].setAttribute("data-"+a,p);return this}if(p!==void 0)return this.attr("data-"+a,p);if(this.length!==0)for(var L=0;L<this.length;L++){var A=this[L]["data-"+a];if(A==null&&this[L].getAttribute&&(A=this[L].getAttribute("data-"+a)),A!==void 0&&A!=null)return A}},removeData:function(a){for(var p=0;p<this.length;p++)this[p].removeAttribute&&this[p].removeAttribute("data-"+a),this[p]["data-"+a]=null;return this},getCorrectStyleName:function(a){if(!Xn[a]){var p;a in jt&&(p=a);for(var M=a[0].toUpperCase()+a.slice(1),L=Zo.length;L--;)(a=Zo[L]+M)in jt&&(p=a);Xn[a]=p}return Xn[a]},css:function(a,p){if(p!==void 0){if(this.length===0)return this;(typeof p!="string"||p.trim()===""||isNaN(p))&&typeof p!="number"||!/(margin)|(padding)|(height)|(width)|(top)|(left)|(right)|(bottom)/gi.test(a)||/(line-height)/gi.test(a)||(p+="px");for(var M=0;M<this.length;M++)a=s(this).getCorrectStyleName(a),this[M].style[a]=p;return this}if(typeof a=="string"){if(this.length===0)return;var L=this[0].ownerDocument||document,A=L.defaultView||L.parentWindow;return a=s(this).getCorrectStyleName(a),A.getComputedStyle(this[0])[a]}for(var O in a)Object.prototype.hasOwnProperty.call(a,O)&&this.css(O,a[O]);return this},toggleClass:function(a,p){if(1<a.split(" ").length){for(var M=a.split(" "),L=0;L<M.length;L++)this.toggleClass(M[L],p);return this}for(var A=0;A<this.length;A++)p===void 0?this[A].classList.contains(a)?this[A].classList.remove(a):this[A].classList.add(a):p?this[A].classList.contains(a)||this[A].classList.add(a):this[A].classList.contains(a)&&this[A].classList.remove(a);return this},addClass:function(a){if(a.length===0)return this;if(1<a.split(" ").length){for(var p=a.split(" "),M=0;M<p.length;M++)this.addClass(p[M]);return this}for(var L=0;L<this.length;L++)this[L].classList.add(a);return this},removeClass:function(a){if(1<a.split(" ").length){for(var p=a.split(" "),M=0;M<p.length;M++)p[M]=p[M].trim(),p[M].length&&this.removeClass(p[M]);return this}for(var L=0;L<this.length;L++)a.length&&this[L].classList.remove(a);return this},getClass:function(a){return a.getAttribute&&a.getAttribute("class")||""},stripAndCollapse:function(a){return(a.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")},hasClass:function(a){var p,M,L=0;for(p=" "+a+" ";M=this[L++];)if(M.nodeType===1&&-1<(" "+s(this).stripAndCollapse(s(this).getClass(M))+" ").indexOf(p))return!0;return!1},scrollTop:function(a){if(a===void 0)return this.length===0?void 0:this[0]===document?document.documentElement.scrollTop:this[0].scrollTop;for(var p=0;p<this.length;p++)this[p]===document?window.scrollTo(document.documentElement.scrollLeft,a):this[p].scrollTop=a},scrollLeft:function(a){if(a===void 0)return this.length===0?void 0:this[0]===document?document.documentElement.scrollLeft:this[0].scrollLeft;for(var p=0;p<this.length;p++)this[p]===document?window.scrollTo(a,document.documentElement.scrollTop):this[p].scrollLeft=a},on:function(a,p,M){if(1<a.split(" ").length){for(var L=a.split(" "),A=0;A<L.length;A++)if(Ao.indexOf(a)!==-1)for(var O=0;O<_o.length;O++)this.on(_o[O]+a[0].toUpperCase()+a.slice(1),p,M);else this.on(L[A],p,M);return this}M=typeof p=="function"?ht(p,null):ht(M,p);for(var z=0;z<this.length;z++){var Q=s(this[z]);Q.data("events")||Q.data("events",[]),Q.data("events").push([a,M]);var H=a.split(".");H=H[0],/Android/i.test(navigator.userAgent)&&a.includes("touchend")||!(0<=es.indexOf(H))?Q.get(0).addEventListener(H,M):Q.get(0).addEventListener(H,M,{passive:!0})}},off:function(a){if(1<a.split(" ").length){for(var p=a.split(" "),M=0;M<p.length;M++)this.off(p[M]);return this}for(var L=0;L<this.length;L++){var A=s(this[L]);if(A.data("events")){var O=a.split(".");O=O[0];for(var z=A.data("events")||[],Q=z.length-1;0<=Q;Q--){var H=z[Q];H[0]==a&&(A.get(0).removeEventListener(O,H[1]),z.splice(Q,1))}}}},trigger:function(a){for(var p=0;p<this.length;p++){var M=void 0;typeof Event=="function"?M=0<=a.search(/^mouse/g)?new MouseEvent(a,{view:window,cancelable:!0,bubbles:!0}):new Event(a):0<=a.search(/^mouse/g)?(M=document.createEvent("MouseEvents")).initMouseEvent(a,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):(M=document.createEvent("Event")).initEvent(a,!0,!0),0<=lt.indexOf(a)&&typeof this[p][a]=="function"?this[p][a]():this[p].dispatchEvent(M)}},triggerHandler:function(){},val:function(a){if(a===void 0)return this[0].value;for(var p=0;p<this.length;p++)this[p].value=a;return this},siblings:function(){return s(this[0]).parent().children().not(this)},find:function(a){var p=s();if(typeof a!="string"){for(var M=0;M<a.length;M++)for(var L=0;L<this.length;L++)if(this[L]!==a[M]&&s(this[L]).contains(a[M])){p.push(a[M]);break}return p}var A=function(P){return(typeof HTMLElement>"u"?"undefined":pn(HTMLElement))==="object"?P instanceof HTMLElement:P&&pn(P)==="object"&&P!==null&&P.nodeType===1&&typeof P.nodeName=="string"};a=Ls(a);for(var O=0;O<this.length;O++)if(this[O].querySelectorAll){var z=[];if(a&&typeof a=="string")try{z=this[O].querySelectorAll(a)}catch{z=this[O].children}else A(a)&&(z=[a]);for(var Q=0;Q<z.length;Q++)p.push(z[Q])}return p},children:function(){for(var a=s(),p=0;p<this.length;p++)for(var M=this[p].children,L=0;L<M.length;L++)a.push(M[L]);return a},not:function(a){if(typeof a=="string")for(var p=this.length-1;0<=p;p--)Element.prototype.matches.call(this[p],a)&&this.splice(p,1);else if(a instanceof oo){for(var M=this.length-1;0<=M;M--)for(var L=0;L<a.length;L++)if(this[M]===a[L]){this.splice(M,1);break}}else for(var A=this.length-1;0<=A;A--)this[A]===a[0]&&this.splice(A,1);return this},add:function(a){for(var p=0;p<a.length;p++)this.push(a[p]);return this},closest:function(a){for(var p=0;p<this.length;p++){var M=Element.prototype.closest.call(this[p],a);if(M)return s(M)}return s()},html:function(a){if(a===void 0)return this.length===0?void 0:this[0].innerHTML;if(typeof a=="string")for(var p=0;p<this.length;p++){this[p].innerHTML=a;for(var M=this[p].children,L=this[p].ownerDocument||document,A=0;A<M.length;A++)if(M[A].tagName==="SCRIPT"){var O=L.createElement("script");O.innerHTML=M[A].innerHTML,M[A].hasAttribute("async")&&O.setAttribute("async",""),O.src=M[A].src,M[A].hasAttribute("defer")&&O.setAttribute("defer",""),L.head.appendChild(O).parentNode.removeChild(O)}}else{this[0].innerHTML="",this.append(a[0]);var z=this[0].ownerDocument||document;if(a[0].tagName==="SCRIPT"){var Q=z.createElement("script");Q.innerHTML=a[0].innerHTML,z.head.appendChild(Q).parentNode.removeChild(Q)}}return this},text:function(a){if(!a)return this.length?this[0].textContent:"";for(var p=0;p<this.length;p++)this[p].textContent=a},after:function(p){if(p)if(typeof p=="string")for(var M=0;M<this.length;M++){var L=this[M];if(L.nodeType!=Node.ELEMENT_NODE){var A=L.ownerDocument.createElement("SPAN");s(L).after(A),s(A).after(p).remove()}else L.insertAdjacentHTML("afterend",p)}else{var O=this[0];if(O.nextSibling)if(p instanceof oo)for(var z=0;z<p.length;z++)O.nextSibling.parentNode.insertBefore(p[z],O.nextSibling);else O.nextSibling.parentNode.insertBefore(p,O.nextSibling);else s(O.parentNode).append(p)}return this},clone:function(a){for(var p=s(),M=0;M<this.length;M++)p.push(this[M].cloneNode(a));return p},replaceWith:function(a){if(typeof a=="string")for(var p=0;p<this.length;p++)this[p].parentNode&&(this[p].outerHTML=a);else if(a&&a.length)for(var M=0;M<this.length;M++)this.replaceWith(a[M]);else this.after(a).remove()},insertBefore:function(a){return s(a).before(this[0]),this},before:function(p){if(p instanceof oo){for(var M=0;M<p.length;M++)this.before(p[M]);return this}if(p)if(typeof p=="string")for(var L=0;L<this.length;L++){var A=this[L];if(A.nodeType!=Node.ELEMENT_NODE){var O=A.ownerDocument.createElement("SPAN");s(A).before(O),s(O).before(p).remove()}else A.parentNode&&A.insertAdjacentHTML("beforebegin",p)}else{var z=this[0];if(z.parentNode)if(p instanceof oo)for(var Q=0;Q<p.length;Q++)z.parentNode.insertBefore(p[Q],z);else z.parentNode.insertBefore(p,z)}return this},append:function(a){if(this.length==0)return this;if(typeof a=="string")for(var p=0;p<this.length;p++){var M=this[p],L=M.ownerDocument.createElement("SPAN");s(M).append(L),s(L).after(a).remove()}else if(a instanceof oo||Array.isArray(a))for(var A=0;A<a.length;A++)this.append(a[A]);else typeof a!="function"&&this[0].appendChild(a);return this},prepend:function(a){if(this.length==0)return this;if(typeof a=="string")for(var p=0;p<this.length;p++){var M=this[p],L=M.ownerDocument.createElement("SPAN");s(M).prepend(L),s(L).before(a).remove()}else if(a instanceof oo)for(var A=0;A<a.length;A++)this.prepend(a[A]);else{var O=this[0];O.firstChild?O.firstChild?O.insertBefore(a,O.firstChild):O.appendChild(a):s(O).append(a)}return this},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},prev:function(){return this.length&&this[0].previousElementSibling?s(this[0].previousElementSibling):s()},next:function(){return this.length&&this[0].nextElementSibling?s(this[0].nextElementSibling):s()},nextAllVisible:function(){return this.next()},prevAllVisible:function(){return this.prev()},outerHeight:function(a){if(this.length!==0){var p=this[0];if(p===p.window)return p.innerHeight;var M={},L=this.isVisible();if(!L)for(var A in Xt)M[A]=p.style[A],p.style[A]=Xt[A];var O=p.offsetHeight;if(a&&(O+=parseInt(s(p).css("marginTop"))+parseInt(s(p).css("marginBottom"))),!L)for(var z in Xt)p.style[z]=M[z];return O}},outerWidth:function(a){if(this.length!==0){var p=this[0];if(p===p.window)return p.outerWidth;var M={},L=this.isVisible();if(!L)for(var A in Xt)M[A]=p.style[A],p.style[A]=Xt[A];var O=p.offsetWidth;if(a&&(O+=parseInt(s(p).css("marginLeft"))+parseInt(s(p).css("marginRight"))),!L)for(var z in Xt)p.style[z]=M[z];return O}},width:function(a){if(a===void 0){if(this[0]instanceof HTMLDocument)return this[0].body.offsetWidth;if(this[0])return this[0].offsetWidth}else this[0].style.width=a+"px"},height:function(a){var p=this[0];if(a===void 0){if(p instanceof HTMLDocument){var M=p.documentElement;return Math.max(p.body.scrollHeight,M.scrollHeight,p.body.offsetHeight,M.offsetHeight,M.clientHeight)}return p.offsetHeight}p.style.height=a+"px"},is:function(a){return this.length!==0&&(typeof a=="string"&&this[0].matches?this[0].matches(a):a instanceof oo?this[0]==a[0]:this[0]==a)},parent:function(){return this.length===0?s():s(this[0].parentNode)},_matches:function(a,p){var M=a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector;return a&&!p?M:M.call(a,p)},parents:function(a){for(var p=s(),M=0;M<this.length;M++)for(var L=this[M].parentNode;L&&L!=document&&this._matches(L);)a?this._matches(L,a)&&p.push(L):p.push(L),L=L.parentNode;return p},parentsUntil:function(a,p){var M=s();a instanceof oo&&0<a.length&&(a=a[0]);for(var L=0;L<this.length;L++)for(var A=this[L].parentNode;A&&A!=document&&A!=a&&this[L]!=a&&(typeof a!="string"||!Element.prototype.matches.call(A,a));)p?Element.prototype.matches.call(A,p)&&M.push(A):M.push(A),A=A.parentNode;return M},insertAfter:function(a){var p=a.parent()[0];p&&p.insertBefore(this[0],a[0].nextElementSibling)},filter:function(a){var p=s();if(typeof a=="function")for(var M=0;M<this.length;M++)a.call(this[M],this[M])&&p.push(this[M]);else if(typeof a=="string")for(var L=0;L<this.length;L++)this[L].matches(a)&&p.push(this[L]);return p},offset:function(){if(this.length!==0){var a=this[0].getBoundingClientRect(),p=this[0].ownerDocument.defaultView;return{top:a.top+p.pageYOffset,left:a.left+p.pageXOffset}}},position:function(){return{left:this[0].offsetLeft,top:this[0].offsetTop}},push:[].push,splice:[].splice},oo.extend=function(a){a=a||{};for(var p=1;p<arguments.length;p++)if(arguments[p])for(var M in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],M)&&(a[M]=arguments[p][M]);return a},oo.merge=function(a,p){for(var M=+p.length,L=0,A=a.length;L<M;L++)a[A++]=p[L];return a.length=A,a},oo.map=function(a,p,M){var L,A,O=0,z=[];if(Array.isArray(a))for(L=a.length;O<L;O++)(A=p(a[O],O,M))!=null&&z.push(A);else for(O in a)(A=p(a[O],O,M))!=null&&z.push(A);return[].concat.apply([],z)};var b=function(p,M){if(!p)return this;if(typeof p=="string"&&p[0]==="<"){var L=document.createElement("DIV");return L.innerHTML=p,s(L.firstElementChild)}if(M=M instanceof oo?M[0]:M,typeof p!="string")return p instanceof oo?p:(this[0]=p,this.length=1,this);p=Ls(p);for(var A=(M||document).querySelectorAll(p),O=0;O<A.length;O++)this[O]=A[O];return this.length=A.length,this};b.prototype=oo.prototype;var B=ve;function ge(){var a=this;this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=oo(this.doc),this.$win=oo(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(B.PLUGINS)),this.opts.pluginsDisabled&&(this.opts.pluginsDisabled=Array.isArray(this.opts.pluginsDisabled)?this.opts.pluginsDisabled:[this.opts.pluginsDisabled],this.opts.pluginsEnabled=this.opts.pluginsEnabled.filter(function(p){return!a.opts.pluginsDisabled.includes(p)})),this.opts.initOnClick?(this.load(B.MODULES),this.$el.on("touchstart.init",function(){oo(this).data("touched",!0)}),this.$el.on("touchmove.init",function(){oo(this).removeData("touched")}),this.$el.on("mousedown.init touchend.init dragenter.init focus.init",(function(M){if(this.$el.attr("contentEditable")!=="false"||!this.opts.initOnClick){if(M.type==="touchend"&&!this.$el.data("touched"))return!0;if(M.which===1||!M.which){this.$el.off("mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init"),this.load(B.MODULES),this.load(B.PLUGINS);var L=M.originalEvent&&M.originalEvent.originalTarget;if(L&&L.tagName==="IMG"&&oo(L).trigger("mousedown"),typeof this.ul>"u"&&this.destroy(),M.type==="touchend"&&this.image&&M.originalEvent&&M.originalEvent.target&&oo(M.originalEvent.target).is("img")){var A=this;setTimeout(function(){A.image.edit(oo(M.originalEvent.target))},100)}this.ready=!0,this.events.trigger("initialized")}}}).bind(this)),this.events.trigger("initializationDelayed")):(this.load(B.MODULES),this.load(B.PLUGINS),oo(this.o_win).scrollTop(this.c_scroll),typeof this.ul>"u"&&this.destroy(),this.ready=!0,this.events.trigger("initialized"))}return B.Bootstrap=function(a,p,M){this.id=++B.ID,this.$=oo;var L={};typeof p=="function"&&(M=p,p={}),M&&(p.events||(p.events={}),p.events.initialized=M),p&&p.documentReady&&(L.toolbarButtons=[["fullscreen","undo","redo","getPDF","print"],["bold","italic","underline","textColor","backgroundColor","clearFormatting"],["alignLeft","alignCenter","alignRight","alignJustify"],["formatOL","formatUL","indent","outdent"],["paragraphFormat"],["fontFamily"],["fontSize"],["insertLink","insertImage","quote"]],L.paragraphFormatSelection=!0,L.fontFamilySelection=!0,L.fontSizeSelection=!0,L.placeholderText="",L.quickInsertEnabled=!1,L.charCounterCount=!1),this.opts=Object.assign({},Object.assign({},B.DEFAULTS,L,pn(p)==="object"&&p));var A=JSON.stringify(this.opts);B.OPTS_MAPPING[A]=B.OPTS_MAPPING[A]||this.id,this.sid=B.OPTS_MAPPING[A],B.SHARED[this.sid]=B.SHARED[this.sid]||{},this.shared=B.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=oo(a),this.$oel.data("froala.editor",this),this.o_doc=a.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow,this.c_scroll=oo(this.o_win).scrollTop(),this._init()},B.Bootstrap.prototype._init=function(){var a=this.$oel.get(0).tagName;this.$oel.closest("label").length;var p=(function(){a!=="TEXTAREA"&&(this._original_html=this._original_html||this.$oel.html()),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=oo('<iframe src="about:blank" frameBorder="0">'),this.$wp=oo("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$el=oo(this.iframe_document.querySelector("body")),this.el=this.$el.get(0),this.$head=oo(this.iframe_document.querySelector("head")),this.$html=oo(this.iframe_document.querySelector("html"))):(this.$el=oo(this.o_doc.createElement("DIV")),this.el=this.$el.get(0),this.$wp=oo(this.o_doc.createElement("DIV")).append(this.$el),this.$box.html(this.$wp)),setTimeout(ge.bind(this),0)}).bind(this),M=(function(){this.$box=oo("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val();var z=this;this.$oel.parents("form").on("submit.".concat(this.id),function(){z.events.trigger("form.submit")}),this.$oel.parents("form").on("reset.".concat(this.id),function(){z.events.trigger("form.reset")}),p()}).bind(this),L=(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,setTimeout(ge.bind(this),0)}).bind(this),A=(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,setTimeout(ge.bind(this),0)}).bind(this),O=(function(){this.$el=this.$oel,this.el=this.$el.get(0),this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(z){z.preventDefault()}),setTimeout(ge.bind(this),0)}).bind(this);this.opts.editInPopup?O():a==="TEXTAREA"?M():a==="A"?L():a==="IMG"?A():a==="BUTTON"||a==="INPUT"?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,O()):p()},B.Bootstrap.prototype.load=function(a){for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){if(this[p]||B.PLUGINS[p]&&this.opts.pluginsEnabled.indexOf(p)<0)continue;if(this[p]=new a[p](this),this[p]._init&&(this[p]._init(),this.opts.initOnClick&&p==="core"))return!1}},B.Bootstrap.prototype.destroy=function(){this.destrying=!0,this.shared.count--,this.events&&this.events.$off();var a=this.html&&this.html.get();if(this.events&&(this.opts.iframe&&(this.events.disableBlur(),this.win.focus(),this.events.enableBlur()),this.events.trigger("destroy",[],!0),this.events.trigger("shared.destroy",[],!0)),this.shared.count===0){for(var p in this.shared)Object.prototype.hasOwnProperty.call(this.shared,p)&&(this.shared[p]=null,B.SHARED[this.sid][p]=null);delete B.SHARED[this.sid]}this.$oel.parents("form").off(".".concat(this.id)),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),this.$oel.off("froalaEditor"),this.core&&this.core.destroy(a),B.INSTANCES.splice(B.INSTANCES.indexOf(this),1)},ve})})(Dte);var Nte=Dte.exports;const Cre=Lte(Nte);function _re(E){throw new Error('Could not dynamically require "'+E+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const Ere={},wre=Object.freeze(Object.defineProperty({__proto__:null,default:Ere},Symbol.toStringTag,{value:"Module"})),Sre=yre(wre);/*!
 * froala_editor v4.6.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2025 Froala Labs
 */(function(E,R){(function(x,ce){ce(Nte)})(SA,function(x){function ce(s,b){(b==null||b>s.length)&&(b=s.length);for(var B=0,ge=Array(b);B<b;B++)ge[B]=s[B];return ge}function ke(s,b){var B=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!B){if(Array.isArray(s)||(B=dt(s))||b){B&&(s=B);var ge=0,a=function(){};return{s:a,n:function(){return ge>=s.length?{done:!0}:{done:!1,value:s[ge++]}},e:function(A){throw A},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,M=!0,L=!1;return{s:function(){B=B.call(s)},n:function(){var A=B.next();return M=A.done,A},e:function(A){L=!0,p=A},f:function(){try{M||B.return==null||B.return()}finally{if(L)throw p}}}}function He(s){return function(B){if(Array.isArray(B))return ce(B)}(s)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(s)||dt(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function je(s){return(je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(s)}function dt(s,b){if(s){if(typeof s=="string")return ce(s,b);var B={}.toString.call(s).slice(8,-1);return B==="Object"&&s.constructor&&(B=s.constructor.name),B==="Map"||B==="Set"?Array.from(s):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?ce(s,b):void 0}}if((x=x&&x.hasOwnProperty("default")?x.default:x).PLUGINS.align=function(s){var b=s.$;return{apply:function(ge){var a=s.selection.element(),p=b(a).closest(".fr-table-selected"),M=b(a).parents("TD"),L=a.tagName==="TD"||M.length&&s.el.contains(M.get(0));if(b(a).parents(".fr-img-caption").length)b(a).css("text-align",ge);else if(p.length&&s.el.contains(p[0]))p.find("td").css("text-align",ge);else if(L)s.node.isBlock(a)?b(a).css("text-align",ge):M.css("text-align",ge);else{s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();for(var A=s.selection.blocks(),O=0;O<A.length;O++)b(A[O]).css("text-align",ge).removeClass("fr-temp-div"),b(A[O]).attr("class")===""&&b(A[O]).removeAttr("class"),b(A[O]).attr("style")===""&&b(A[O]).removeAttr("style");s.selection.save(),s.html.unwrap(),s.selection.restore()}},refresh:function(ge){var a=s.selection.blocks();if(a.length){var p=s.helpers.getAlignment(b(a[0]));ge.find("> *").first().replaceWith(s.icon.create("align-".concat(p)))}},refreshOnShow:function(ge,a){var p=s.selection.blocks();if(p.length){var M=s.helpers.getAlignment(b(p[0]));a.find('a.fr-command[data-param1="'.concat(M,'"]')).addClass("fr-active").attr("aria-selected",!0)}},refreshForToolbar:function(ge){var a=s.selection.blocks();if(a.length){var p=s.helpers.getAlignment(b(a[0]));p=p.charAt(0).toUpperCase()+p.slice(1),"align".concat(p)===ge.attr("data-cmd")&&ge.addClass("fr-active")}}}},x.DefineIcon("align",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),x.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.align.options;for(var B in b)b.hasOwnProperty(B)&&(s+=`<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align"data-param1="
        `.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.icon.create("align-".concat(B)),`<span class="fr-sr-only">
        `).concat(this.language.translate(b[B]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.align.apply(b)},refresh:function(s){this.align.refresh(s)},refreshOnShow:function(s,b){this.align.refreshOnShow(s,b)},plugin:"align"}),x.RegisterCommand("alignLeft",{type:"button",icon:"align-left",title:"Align Left",callback:function(){this.align.apply("left")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),x.RegisterCommand("alignRight",{type:"button",icon:"align-right",title:"Align Right",callback:function(){this.align.apply("right")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),x.RegisterCommand("alignCenter",{type:"button",icon:"align-center",title:"Align Center",callback:function(){this.align.apply("center")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),x.RegisterCommand("alignJustify",{type:"button",icon:"align-justify",title:"Align Justify",callback:function(){this.align.apply("justify")},refresh:function(s){this.align.refreshForToolbar(s)},plugin:"align"}),Object.assign(x.DEFAULTS,{charCounterMax:-1,charCounterCount:!0}),x.PLUGINS.charCounter=function(s){var b,B=s.$,ge=function(){return(s.opts.iframe&&s.markdown&&s.markdown.isEnabled()?s.$el.text()||"":s.el.textContent||"").replace(/\u200B/g,"").length};function a(A){var O=s.opts.charCounterMax;if(O<0)return!0;var z=ge();if(A.type==="keydown"){if(z<O)return!0;var Q=A.which;if(!s.keys.ctrlKey(A)&&s.keys.isCharacter(Q)||Q===x.KEYCODE.IME)return A.preventDefault(),A.stopPropagation(),s.events.trigger("charCounter.exceeded"),!1}var H=A.originalEvent&&A.originalEvent.inputType||"";if(/delete|historyUndo|historyRedo/.test(H))return!0;if(A.type==="beforeinput"){var P=A.data||A.originalEvent&&A.originalEvent.data||A.originalEvent&&A.originalEvent.dataTransfer&&A.originalEvent.dataTransfer.getData("text")||"",j=z-s.win.getSelection().toString().length+P.length;if(O-z<=0||O<j)return A.preventDefault(),A.stopPropagation(),s.events.trigger("charCounter.exceeded"),!1}return A.type==="input"&&O<z&&(s.selection.save(),function(ee,w){for(var xe,be="",re=document.createTreeWalker(ee,NodeFilter.SHOW_TEXT,null,!1),se=!0;(xe=re.nextNode())&&be.length<w;){var ie=w-be.length;if(xe.textContent.length>ie){xe.textContent=xe.textContent.slice(0,ie),se=!1;break}be+=xe.textContent}for(se&&(xe=re.previousNode());xe=re.nextNode();)xe.textContent=""}(s.el,O),s.selection.restore()),!0}function p(A){return s.opts.charCounterMax<0||B("<div>").html(A).text().length+ge()<=s.opts.charCounterMax?A:(s.events.trigger("charCounter.exceeded"),"")}function M(A,O,z){return s.opts.charCounterMax<0||(A.includes('<span class="fr-emoticon')||A.includes('<i class="fa ')?!(ge()>=s.opts.charCounterMax)||(s.events.trigger("charCounter.exceeded"),!1):B("<div>").html(A).text().length+ge()<=s.opts.charCounterMax||(s.events.trigger("charCounter.exceeded"),!1))}function L(){if(s.opts.charCounterCount){var A=ge()+(0<s.opts.charCounterMax?"/"+s.opts.charCounterMax:"");b.text("".concat(s.language.translate("Characters")," : ").concat(A)),s.opts.toolbarBottom&&b.css("margin-bottom",s.$tb.outerHeight(!0));var O=s.$wp.get(0).offsetWidth-s.$wp.get(0).clientWidth;0<=O&&(s.opts.direction=="rtl"?b.css("margin-left",O):b.css("margin-right",O))}}return{_init:function(){return!!s.$wp&&!!s.opts.charCounterCount&&((b=B(document.createElement("span")).attr("class","fr-counter")).css("bottom",s.$wp.css("border-bottom-width")),s.$second_tb?s.$second_tb.append(b):s.$wp.append(b),s.events.on("keydown beforeinput input",a,!0),s.events.on("paste.afterCleanup",p),s.events.on("keyup contentChanged input",function(){s.events.trigger("charCounter.update")}),s.events.on("html.beforeInsert",M),s.events.on("charCounter.update",L),s.events.trigger("charCounter.update"),void s.events.on("destroy",function(){B(s.o_win).off("resize.char".concat(s.id)),b.removeData().remove(),b=null}))},count:ge}},x.PLUGINS.codeBeautifier=function(){var s,b,B,ge,a={};function p(K,ee){var w={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},xe={"@media":!0,"@supports":!0,"@document":!0};ee=ee||{},K=(K=K||"").replace(/\r\n|[\r\u2028\u2029]/g,`
`);var be=ee.indent_size||4,re=ee.indent_char||" ",se=ee.selector_separator_newline===void 0||ee.selector_separator_newline,ie=ee.end_with_newline!==void 0&&ee.end_with_newline,D=ee.newline_between_rules===void 0||ee.newline_between_rules,U=ee.eol?ee.eol:`
`;typeof be=="string"&&(be=parseInt(be,10)),ee.indent_with_tabs&&(re="	",be=1),U=U.replace(/\\r/,"\r").replace(/\\n/,`
`);var V,I=/^\s+$/,N=-1,ne=0;function G(){return(V=K.charAt(++N))||""}function q(wt){var It,nn=N;return wt&&Le(),It=K.charAt(N+1)||"",N=nn-1,G(),It}function de(wt){for(var It=N;G();)if(V==="\\")G();else if(wt.indexOf(V)!==-1||V===`
`)break;return K.substring(It,N+1)}function Le(){for(var wt="";I.test(q());)G(),wt+=V;return wt}function Ae(){var wt="";for(V&&I.test(V)&&(wt=V);I.test(G());)wt+=V;return wt}function we(wt){var It=N;for(wt=q()==="/",G();G();){if(!wt&&V==="*"&&q()==="/"){G();break}if(wt&&V===`
`)return K.substring(It,N)}return K.substring(It,N)+V}function Pe(wt){return K.substring(N-wt.length,N).toLowerCase()===wt}function We(){for(var wt=0,It=N+1;It<K.length;It++){var nn=K.charAt(It);if(nn==="{")return!0;if(nn==="(")wt+=1;else if(nn===")"){if(wt===0)return!1;wt-=1}else if(nn===" "||nn==="}")return!1}return!1}for(var ut=K.match(/^[\t ]*/)[0],nt=new Array(be+1).join(re),ot=0,Me=0,et,Ve,Ze,Xe={"{":function(wt){Xe.singleSpace(),$e.push(wt),Xe.newLine()},"}":function(wt){Xe.newLine(),$e.push(wt),Xe.newLine()},_lastCharWhitespace:function(){return I.test($e[$e.length-1])},newLine:function(wt){$e.length&&(wt||$e[$e.length-1]===`
`||Xe.trim(),$e.push(`
`),ut&&$e.push(ut))},singleSpace:function(){$e.length&&!Xe._lastCharWhitespace()&&$e.push(" ")},preserveSingleSpace:function(){et&&Xe.singleSpace()},trim:function(){for(;Xe._lastCharWhitespace();)$e.pop()}},$e=[],tt=!1,_t=!1,mt=!1,Lt="",Rt="";;){var Wt=Ae();et=Wt!=="";var Zt=Wt.indexOf(`
`)!==-1;if(Rt=Lt,!(Lt=V))break;if(V==="/"&&q()==="*"){var kn=ot===0;(Zt||kn)&&Xe.newLine(),$e.push(we()),Xe.newLine(),kn&&Xe.newLine(!0)}else if(V==="/"&&q()==="/")Zt||Rt==="{"||Xe.trim(),Xe.singleSpace(),$e.push(we()),Xe.newLine();else if(V==="@"){Xe.preserveSingleSpace(),$e.push(V);var Jn=(Ve=N,Ze=de(`: , {}()[]/='"`),N=Ve-1,G(),Ze);Jn.match(/[ :]$/)&&(G(),Jn=de(": ").replace(/\s$/,""),$e.push(Jn),Xe.singleSpace()),(Jn=Jn.replace(/\s$/,""))in w&&(Me+=1,Jn in xe&&(mt=!0))}else V==="#"&&q()==="{"?(Xe.preserveSingleSpace(),$e.push(de("}"))):V==="{"?q(!0)==="}"?(Le(),G(),Xe.singleSpace(),$e.push("{}"),Xe.newLine(),D&&ot===0&&Xe.newLine(!0)):(ot++,ut+=nt,Xe["{"](V),tt=mt?(mt=!1,Me<ot):Me<=ot):V==="}"?(ot--,ut=ut.slice(0,-be),Xe["}"](V),_t=tt=!1,Me&&Me--,D&&ot===0&&Xe.newLine(!0)):V===":"?(Le(),!tt&&!mt||Pe("&")||We()?q()===":"?(G(),$e.push("::")):$e.push(":"):(_t=!0,$e.push(":"),Xe.singleSpace())):V==='"'||V==="'"?(Xe.preserveSingleSpace(),$e.push(de(V))):V===" "?(_t=!1,$e.push(V),Xe.newLine()):V==="("?Pe("url")?($e.push(V),Le(),G()&&(V!==")"&&V!=='"'&&V!=="'"?$e.push(de(")")):N--)):(ne++,Xe.preserveSingleSpace(),$e.push(V),Le()):V===")"?($e.push(V),ne--):V===","?($e.push(V),Le(),se&&!_t&&ne<1?Xe.newLine():Xe.singleSpace()):(V==="]"||(V==="["?Xe.preserveSingleSpace():V==="="?(Le(),V="="):Xe.preserveSingleSpace()),$e.push(V))}var Je="";return ut&&(Je+=ut),Je+=$e.join("").replace(/[\r\n\t ]+$/,""),ie&&(Je+=`
`),U!=`
`&&(Je=Je.replace(/[\n]/g,U)),Je}function M(K,ee){for(var w=0;w<ee.length;w+=1)if(ee[w]===K)return!0;return!1}function L(K){return K.replace(/^\s+|\s+$/g,"")}function A(K,ee){return new z(K,ee).beautify()}s=a,b="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",B=new RegExp("[".concat(b,"]")),ge=new RegExp("[".concat(b," ").concat("̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿","]")),s.newline=/[\n\r\u2028\u2029]/,s.lineBreak=new RegExp(`\r
|`.concat(s.newline.source)),s.allLineBreaks=new RegExp(s.lineBreak.source,"g"),s.isIdentifierStart=function(K){return K<65?K===36||K===64:K<91||(K<97?K===95:K<123||170<=K&&B.test(String.fromCharCode(K)))},s.isIdentifierChar=function(K){return K<48?K===36:K<58||!(K<65)&&(K<91||(K<97?K===95:K<123||170<=K&&ge.test(String.fromCharCode(K))))};var O={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function z(K,ee){var w,xe,be,re,se,ie,D,U,V,I,N,ne,G,q=[],de="";function Le(Lt,Rt){var Wt=0;return Lt&&(Wt=Lt.indentation_level,!w.just_added_newline()&&Lt.line_indent_level>Wt&&(Wt=Lt.line_indent_level)),{mode:Rt,parent:Lt,last_text:Lt?Lt.last_text:"",last_word:Lt?Lt.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:Wt,line_indent_level:Lt?Lt.line_indent_level:Wt,start_line_index:w.get_line_number(),ternary_depth:0}}for(ne={TK_START_EXPR:function(){$e();var Rt=O.Expression;if(re.text==="["){if(se==="TK_WORD"||U.last_text===")")return se==="TK_RESERVED"&&M(U.last_text,be.line_starters)&&(w.space_before_token=!0),Me(Rt),nt(),ot(),void(G.space_in_paren&&(w.space_before_token=!0));Rt=O.ArrayLiteral,et(U.mode)&&(U.last_text!=="["&&(U.last_text!==","||ie!=="]"&&ie!=="}")||G.keep_array_indentation||We())}else se==="TK_RESERVED"&&U.last_text==="for"?Rt=O.ForInitializer:se==="TK_RESERVED"&&M(U.last_text,["if","while"])&&(Rt=O.Conditional);U.last_text===" "||se==="TK_START_BLOCK"?We():se==="TK_END_EXPR"||se==="TK_START_EXPR"||se==="TK_END_BLOCK"||U.last_text==="."?Pe(re.wanted_newline):se==="TK_RESERVED"&&re.text==="("||se==="TK_WORD"||se==="TK_OPERATOR"?se==="TK_RESERVED"&&(U.last_word==="function"||U.last_word==="typeof")||U.last_text==="*"&&ie==="function"?G.space_after_anon_function&&(w.space_before_token=!0):se!=="TK_RESERVED"||!M(U.last_text,be.line_starters)&&U.last_text!=="catch"||G.space_before_conditional&&(w.space_before_token=!0):w.space_before_token=!0,re.text==="("&&se==="TK_RESERVED"&&U.last_word==="await"&&(w.space_before_token=!0),re.text==="("&&(se!=="TK_EQUALS"&&se!=="TK_OPERATOR"||Xe()||Pe()),Me(Rt),nt(),G.space_in_paren&&(w.space_before_token=!0),ot()},TK_END_EXPR:function(){for(;U.mode===O.Statement;)Ze();U.multiline_frame&&Pe(re.text==="]"&&et(U.mode)&&!G.keep_array_indentation),G.space_in_paren&&(se!=="TK_START_EXPR"||G.space_in_empty_paren?w.space_before_token=!0:(w.trim(),w.space_before_token=!1)),re.text==="]"&&G.keep_array_indentation?(nt(),Ze()):(Ze(),nt()),w.remove_redundant_indentation(V),U.do_while&&V.mode===O.Conditional&&(V.mode=O.Expression,U.do_block=!1,U.do_while=!1)},TK_START_BLOCK:function(){var Rt=_t(1),Wt=_t(2);Wt&&(Wt.text===":"&&M(Rt.type,["TK_STRING","TK_WORD","TK_RESERVED"])||M(Rt.text,["get","set"])&&M(Wt.type,["TK_WORD","TK_RESERVED"]))?M(ie,["class","interface"])?Me(O.BlockStatement):Me(O.ObjectLiteral):Me(O.BlockStatement);var Zt=!Rt.comments_before.length&&Rt.text==="}"&&U.last_word==="function"&&se==="TK_END_EXPR";G.brace_style==="expand"||G.brace_style==="none"&&re.wanted_newline?se!=="TK_OPERATOR"&&(Zt||se==="TK_EQUALS"||se==="TK_RESERVED"&&tt(U.last_text)&&U.last_text!=="else")?w.space_before_token=!0:We(!1,!0):se!=="TK_OPERATOR"&&se!=="TK_START_EXPR"?se==="TK_START_BLOCK"?We():w.space_before_token=!0:et(V.mode)&&U.last_text===","&&(ie==="}"?w.space_before_token=!0:We()),nt(),ot()},TK_END_BLOCK:function(){for(;U.mode===O.Statement;)Ze();var Rt=se==="TK_START_BLOCK";G.brace_style==="expand"?Rt||We():Rt||(et(U.mode)&&G.keep_array_indentation?(G.keep_array_indentation=!1,We(),G.keep_array_indentation=!0):We()),Ze(),nt()},TK_WORD:mt,TK_RESERVED:mt,TK_SEMICOLON:function(){for($e()&&(w.space_before_token=!1);U.mode===O.Statement&&!U.if_block&&!U.do_block;)Ze();nt()},TK_STRING:function(){$e()||se==="TK_RESERVED"||se==="TK_WORD"?w.space_before_token=!0:se==="TK_COMMA"||se==="TK_START_EXPR"||se==="TK_EQUALS"||se==="TK_OPERATOR"?Xe()||Pe():We(),nt()},TK_EQUALS:function(){$e(),U.declaration_statement&&(U.declaration_assignment=!0),w.space_before_token=!0,nt(),w.space_before_token=!0},TK_OPERATOR:function(){if($e(),se==="TK_RESERVED"&&tt(U.last_text))return w.space_before_token=!0,void nt();if(re.text==="*"&&se==="TK_DOT")return void nt();if(re.text===":"&&U.in_case)return U.case_body=!0,ot(),nt(),We(),void(U.in_case=!1);if(re.text==="::")return void nt();se==="TK_OPERATOR"&&Pe();var Rt=!0,Wt=!0;M(re.text,["--","++","!","~"])||M(re.text,["-","+"])&&(M(se,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||M(U.last_text,be.line_starters)||U.last_text===",")?(Wt=Rt=!1,!re.wanted_newline||re.text!=="--"&&re.text!=="++"||We(!1,!0),U.last_text===" "&&Ve(U.mode)&&(Rt=!0),se==="TK_RESERVED"?Rt=!0:se==="TK_END_EXPR"?Rt=!(U.last_text==="]"&&(re.text==="--"||re.text==="++")):se==="TK_OPERATOR"&&(Rt=M(re.text,["--","-","++","+"])&&M(U.last_text,["--","-","++","+"]),M(re.text,["+","-"])&&M(U.last_text,["--","++"])&&(Wt=!0)),U.mode!==O.BlockStatement&&U.mode!==O.Statement||U.last_text!=="{"&&U.last_text!==" "||We()):re.text===":"?U.ternary_depth===0?Rt=!1:U.ternary_depth-=1:re.text==="?"?U.ternary_depth+=1:re.text==="*"&&se==="TK_RESERVED"&&U.last_text==="function"&&(Wt=Rt=!1),w.space_before_token=w.space_before_token||Rt,nt(),w.space_before_token=Wt},TK_COMMA:function(){if(U.declaration_statement)return Ve(U.parent.mode)&&(U.declaration_assignment=!1),nt(),void(U.declaration_assignment?We(U.declaration_assignment=!1,!0):(w.space_before_token=!0,G.comma_first&&Pe()));nt(),U.mode===O.ObjectLiteral||U.mode===O.Statement&&U.parent.mode===O.ObjectLiteral?(U.mode===O.Statement&&Ze(),We()):(w.space_before_token=!0,G.comma_first&&Pe())},TK_BLOCK_COMMENT:function(){if(w.raw)return w.add_raw_token(re),void(re.directives&&re.directives.preserve==="end"&&(G.test_output_raw||(w.raw=!1)));if(re.directives)return We(!1,!0),nt(),re.directives.preserve==="start"&&(w.raw=!0),void We(!1,!0);if(!a.newline.test(re.text)&&!re.wanted_newline)return w.space_before_token=!0,nt(),void(w.space_before_token=!0);var Rt,Wt=function(It){var nn;It=It.replace(/\x0d/g,"");var bn=[];for(nn=It.indexOf(`
`);nn!==-1;)bn.push(It.substring(0,nn)),It=It.substring(nn+1),nn=It.indexOf(`
`);return It.length&&bn.push(It),bn}(re.text),Zt=!1,kn=!1,Jn=re.whitespace_before,Je=Jn.length;for(We(!1,!0),1<Wt.length&&(function(It,nn){for(var bn=0;bn<It.length;bn++){var Tn=L(It[bn]);if(Tn.charAt(0)!==nn)return!1}return!0}(Wt.slice(1),"*")?Zt=!0:function(It,nn){for(var bn,Tn=0,Mn=It.length;Tn<Mn;Tn++)if((bn=It[Tn])&&bn.indexOf(nn)!==0)return!1;return!0}(Wt.slice(1),Jn)&&(kn=!0)),nt(Wt[0]),Rt=1;Rt<Wt.length;Rt++)We(!1,!0),Zt?nt(" ".concat(Wt[Rt].replace(/^\s+/g,""))):kn&&Wt[Rt].length>Je?nt(Wt[Rt].substring(Je)):w.add_token(Wt[Rt]);We(!1,!0)},TK_COMMENT:function(){re.wanted_newline?We(!1,!0):w.trim(!0),w.space_before_token=!0,nt(),We(!1,!0)},TK_DOT:function(){$e(),se==="TK_RESERVED"&&tt(U.last_text)?w.space_before_token=!0:Pe(U.last_text===")"&&G.break_chained_methods),nt()},TK_UNKNOWN:function(){nt(),re.text[re.text.length-1]===`
`&&We()},TK_EOF:function(){for(;U.mode===O.Statement;)Ze()}},G={},(ee=ee||{}).braces_on_own_line!==void 0&&(G.brace_style=ee.braces_on_own_line?"expand":"collapse"),G.brace_style=ee.brace_style?ee.brace_style:G.brace_style?G.brace_style:"collapse",G.brace_style==="expand-strict"&&(G.brace_style="expand"),G.indent_size=ee.indent_size?parseInt(ee.indent_size,10):4,G.indent_char=ee.indent_char?ee.indent_char:" ",G.eol=ee.eol?ee.eol:`
`,G.preserve_newlines=ee.preserve_newlines===void 0||ee.preserve_newlines,G.break_chained_methods=ee.break_chained_methods!==void 0&&ee.break_chained_methods,G.max_preserve_newlines=ee.max_preserve_newlines===void 0?0:parseInt(ee.max_preserve_newlines,10),G.space_in_paren=ee.space_in_paren!==void 0&&ee.space_in_paren,G.space_in_empty_paren=ee.space_in_empty_paren!==void 0&&ee.space_in_empty_paren,G.jslint_happy=ee.jslint_happy!==void 0&&ee.jslint_happy,G.space_after_anon_function=ee.space_after_anon_function!==void 0&&ee.space_after_anon_function,G.keep_array_indentation=ee.keep_array_indentation!==void 0&&ee.keep_array_indentation,G.space_before_conditional=ee.space_before_conditional===void 0||ee.space_before_conditional,G.unescape_strings=ee.unescape_strings!==void 0&&ee.unescape_strings,G.wrap_line_length=ee.wrap_line_length===void 0?0:parseInt(ee.wrap_line_length,10),G.e4x=ee.e4x!==void 0&&ee.e4x,G.end_with_newline=ee.end_with_newline!==void 0&&ee.end_with_newline,G.comma_first=ee.comma_first!==void 0&&ee.comma_first,G.test_output_raw=ee.test_output_raw!==void 0&&ee.test_output_raw,G.jslint_happy&&(G.space_after_anon_function=!0),ee.indent_with_tabs&&(G.indent_char="	",G.indent_size=1),G.eol=G.eol.replace(/\\r/,"\r").replace(/\\n/,`
`),D="";0<G.indent_size;)D+=G.indent_char,G.indent_size-=1;var Ae=0;if(K&&K.length){for(;K.charAt(Ae)===" "||K.charAt(Ae)==="	";)de+=K.charAt(Ae),Ae+=1;K=K.substring(Ae)}function we(Lt){var Rt=Lt.newlines;if(G.keep_array_indentation&&et(U.mode))for(var Wt=0;Wt<Rt;Wt+=1)We(0<Wt);else if(G.max_preserve_newlines&&Rt>G.max_preserve_newlines&&(Rt=G.max_preserve_newlines),G.preserve_newlines&&1<Lt.newlines){We();for(var Zt=1;Zt<Rt;Zt+=1)We(!0)}ne[(re=Lt).type]()}function Pe(Lt){Lt=Lt!==void 0&&Lt,!w.just_added_newline()&&(G.preserve_newlines&&re.wanted_newline||Lt||G.wrap_line_length&&w.current_line.get_character_count()+re.text.length+(w.space_before_token?1:0)>=G.wrap_line_length)&&We(!1,!0)}function We(Lt,Rt){if(!Rt&&U.last_text!==" "&&U.last_text!==","&&U.last_text!=="="&&se!=="TK_OPERATOR")for(;U.mode===O.Statement&&!U.if_block&&!U.do_block;)Ze();w.add_new_line(Lt)&&(U.multiline_frame=!0)}function ut(){w.just_added_newline()&&(G.keep_array_indentation&&et(U.mode)&&re.wanted_newline?(w.current_line.push(re.whitespace_before),w.space_before_token=!1):w.set_indent(U.indentation_level)&&(U.line_indent_level=U.indentation_level))}function nt(Lt){w.raw?w.add_raw_token(re):(G.comma_first&&se==="TK_COMMA"&&w.just_added_newline()&&w.previous_line.last()===","&&(w.previous_line.pop(),ut(),w.add_token(","),w.space_before_token=!0),Lt=Lt||re.text,ut(),w.add_token(Lt))}function ot(){U.indentation_level+=1}function Me(Lt){V=U?(I.push(U),U):Le(null,Lt),U=Le(V,Lt)}function et(Lt){return Lt===O.ArrayLiteral}function Ve(Lt){return M(Lt,[O.Expression,O.ForInitializer,O.Conditional])}function Ze(){0<I.length&&(V=U,U=I.pop(),V.mode===O.Statement&&w.remove_redundant_indentation(V))}function Xe(){return U.parent.mode===O.ObjectLiteral&&U.mode===O.Statement&&(U.last_text===":"&&U.ternary_depth===0||se==="TK_RESERVED"&&M(U.last_text,["get","set"]))}function $e(){return!!(se==="TK_RESERVED"&&M(U.last_text,["const","let","const"])&&re.type==="TK_WORD"||se==="TK_RESERVED"&&U.last_text==="do"||se==="TK_RESERVED"&&U.last_text==="return"&&!re.wanted_newline||se==="TK_RESERVED"&&U.last_text==="else"&&(re.type!=="TK_RESERVED"||re.text!=="if")||se==="TK_END_EXPR"&&(V.mode===O.ForInitializer||V.mode===O.Conditional)||se==="TK_WORD"&&U.mode===O.BlockStatement&&!U.in_case&&re.text!=="--"&&re.text!=="++"&&ie!=="function"&&re.type!=="TK_WORD"&&re.type!=="TK_RESERVED"||U.mode===O.ObjectLiteral&&(U.last_text===":"&&U.ternary_depth===0||se==="TK_RESERVED"&&M(U.last_text,["get","set"])))&&(Me(O.Statement),ot(),se==="TK_RESERVED"&&M(U.last_text,["const","let","const"])&&re.type==="TK_WORD"&&(U.declaration_statement=!0),Xe()||Pe(re.type==="TK_RESERVED"&&M(re.text,["do","for","if","while"])),!0)}function tt(Lt){return M(Lt,["case","return","do","if","throw","else"])}function _t(Lt){var Rt=xe+(Lt||0);return Rt<0||Rt>=q.length?null:q[Rt]}function mt(){if(re.type==="TK_RESERVED"&&U.mode!==O.ObjectLiteral&&M(re.text,["set","get"])&&(re.type="TK_WORD"),re.type==="TK_RESERVED"&&U.mode===O.ObjectLiteral&&_t(1).text===":"&&(re.type="TK_WORD"),$e()||!re.wanted_newline||Ve(U.mode)||se==="TK_OPERATOR"&&U.last_text!=="--"&&U.last_text!=="++"||se==="TK_EQUALS"||!G.preserve_newlines&&se==="TK_RESERVED"&&M(U.last_text,["const","let","const","set","get"])||We(),U.do_block&&!U.do_while){if(re.type==="TK_RESERVED"&&re.text==="while")return w.space_before_token=!0,nt(),w.space_before_token=!0,void(U.do_while=!0);We(),U.do_block=!1}if(U.if_block)if(U.else_block||re.type!=="TK_RESERVED"||re.text!=="else"){for(;U.mode===O.Statement;)Ze();U.if_block=!1,U.else_block=!1}else U.else_block=!0;if(re.type==="TK_RESERVED"&&(re.text==="case"||re.text==="default"&&U.in_case_statement))return We(),(U.case_body||G.jslint_happy)&&(function(){0<U.indentation_level&&(!U.parent||U.indentation_level>U.parent.indentation_level)&&(U.indentation_level-=1)}(),U.case_body=!1),nt(),U.in_case=!0,void(U.in_case_statement=!0);if(re.type==="TK_RESERVED"&&re.text==="function"&&((M(U.last_text,["}"," "])||w.just_added_newline()&&!M(U.last_text,["[","{",":","=",","]))&&(w.just_added_blankline()||re.comments_before.length||(We(),We(!0))),se==="TK_RESERVED"||se==="TK_WORD"?se==="TK_RESERVED"&&M(U.last_text,["get","set","new","return","export","async"])||se==="TK_RESERVED"&&U.last_text==="default"&&ie==="export"?w.space_before_token=!0:We():se==="TK_OPERATOR"||U.last_text==="="?w.space_before_token=!0:(U.multiline_frame||!Ve(U.mode)&&!et(U.mode))&&We()),se!=="TK_COMMA"&&se!=="TK_START_EXPR"&&se!=="TK_EQUALS"&&se!=="TK_OPERATOR"||Xe()||Pe(),re.type==="TK_RESERVED"&&M(re.text,["function","get","set"]))return nt(),void(U.last_word=re.text);N="NONE",se==="TK_END_BLOCK"?re.type==="TK_RESERVED"&&M(re.text,["else","catch","finally"])?G.brace_style==="expand"||G.brace_style==="end-expand"||G.brace_style==="none"&&re.wanted_newline?N="NEWLINE":(N="SPACE",w.space_before_token=!0):N="NEWLINE":se==="TK_SEMICOLON"&&U.mode===O.BlockStatement?N="NEWLINE":se==="TK_SEMICOLON"&&Ve(U.mode)?N="SPACE":se==="TK_STRING"?N="NEWLINE":se==="TK_RESERVED"||se==="TK_WORD"||U.last_text==="*"&&ie==="function"?N="SPACE":se==="TK_START_BLOCK"?N="NEWLINE":se==="TK_END_EXPR"&&(w.space_before_token=!0,N="NEWLINE"),re.type==="TK_RESERVED"&&M(re.text,be.line_starters)&&U.last_text!==")"&&(N=U.last_text==="else"||U.last_text==="export"?"SPACE":"NEWLINE"),re.type==="TK_RESERVED"&&M(re.text,["else","catch","finally"])?se!=="TK_END_BLOCK"||G.brace_style==="expand"||G.brace_style==="end-expand"||G.brace_style==="none"&&re.wanted_newline?We():(w.trim(!0),w.current_line.last()!=="}"&&We(),w.space_before_token=!0):N==="NEWLINE"?se==="TK_RESERVED"&&tt(U.last_text)?w.space_before_token=!0:se!=="TK_END_EXPR"?se==="TK_START_EXPR"&&re.type==="TK_RESERVED"&&M(re.text,["const","let","const"])||U.last_text===":"||(re.type==="TK_RESERVED"&&re.text==="if"&&U.last_text==="else"?w.space_before_token=!0:We()):re.type==="TK_RESERVED"&&M(re.text,be.line_starters)&&U.last_text!==")"&&We():U.multiline_frame&&et(U.mode)&&U.last_text===","&&ie==="}"?We():N==="SPACE"&&(w.space_before_token=!0),nt(),U.last_word=re.text,re.type==="TK_RESERVED"&&re.text==="do"&&(U.do_block=!0),re.type==="TK_RESERVED"&&re.text==="if"&&(U.if_block=!0)}se="TK_START_BLOCK",ie="",(w=new H(D,de)).raw=G.test_output_raw,I=[],Me(O.BlockStatement),this.beautify=function(){var Lt,Rt;for(be=new j(K,G),q=be.tokenize(),xe=0;Lt=_t();){for(var Wt=0;Wt<Lt.comments_before.length;Wt++)we(Lt.comments_before[Wt]);we(Lt),ie=U.last_text,se=Lt.type,U.last_text=Lt.text,xe+=1}return Rt=w.get_code(),G.end_with_newline&&(Rt+=`
`),G.eol!=`
`&&(Rt=Rt.replace(/[\n]/g,G.eol)),Rt}}function Q(K){var ee=0,w=-1,xe=[],be=!0;this.set_indent=function(re){ee=K.baseIndentLength+re*K.indent_length,w=re},this.get_character_count=function(){return ee},this.is_empty=function(){return be},this.last=function(){return this._empty?null:xe[xe.length-1]},this.push=function(re){xe.push(re),ee+=re.length,be=!1},this.pop=function(){var re=null;return be||(re=xe.pop(),ee-=re.length,be=xe.length===0),re},this.remove_indent=function(){0<w&&(w-=1,ee-=K.indent_length)},this.trim=function(){for(;this.last()===" ";)xe.pop(),ee-=1;be=xe.length===0},this.toString=function(){var re="";return this._empty||(0<=w&&(re=K.indent_cache[w]),re+=xe.join("")),re}}function H(K,ee){ee=ee||"",this.indent_cache=[ee],this.baseIndentLength=ee.length,this.indent_length=K.length,this.raw=!1;var w=[];this.baseIndentString=ee,this.indent_string=K,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new Q(this),w.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return w.length},this.add_new_line=function(xe){return(this.get_line_number()!==1||!this.just_added_newline())&&!(!xe&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0)},this.get_code=function(){return w.join(`
`).replace(/[\r\n\t ]+$/,"")},this.set_indent=function(xe){if(1<w.length){for(;xe>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(xe),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(xe){for(var be=0;be<xe.newlines;be++)this.add_outputline();this.current_line.push(xe.whitespace_before),this.current_line.push(xe.text),this.space_before_token=!1},this.add_token=function(xe){this.add_space_before_token(),this.current_line.push(xe)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(xe){if(!xe.multiline_frame&&xe.mode!==O.ForInitializer&&xe.mode!==O.Conditional)for(var be=xe.start_line_index,re=w.length;be<re;)w[be].remove_indent(),be++},this.trim=function(xe){for(xe=xe!==void 0&&xe,this.current_line.trim(K,ee);xe&&1<w.length&&this.current_line.is_empty();)w.pop(),this.current_line=w[w.length-1],this.current_line.trim();this.previous_line=1<w.length?w[w.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(w.length===1||w[w.length-2].is_empty())}}var P=function(ee,w,xe,be,re,se){this.type=ee,this.text=w,this.comments_before=[],this.newlines=xe||0,this.wanted_newline=0<xe,this.whitespace_before=be||"",this.parent=null,this.directives=null};function j(K,ee,w){var xe=`
\r	 `.split(""),be=/[0-9]/,re=/[01234567]/,se=/[0123456789abcdefABCDEF]/,ie="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,const,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var D,U,V,I,N,ne,G=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),q=/([\s\S]*?)((?:\*\/)|$)/g,de=/([^\n\r\u2028\u2029]*)/g,Le=/\/\* beautify( \w+[:]\w+)+ \*\//g,Ae=/ (\w+)[:](\w+)/g,we=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,Pe=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function We(){var ut,nt,ot=[];if(D=0,U="",ne<=N)return["","TK_EOF"];nt=I.length?I[I.length-1]:new P("TK_START_BLOCK","{");var Me=K.charAt(N);for(N+=1;M(Me,xe);){if(a.newline.test(Me)?Me===`
`&&K.charAt(N-2)==="\r"||(D+=1,ot=[]):ot.push(Me),ne<=N)return["","TK_EOF"];Me=K.charAt(N),N+=1}if(ot.length&&(U=ot.join("")),be.test(Me)){var et=!0,Ve=!0,Ze=be;for(Me==="0"&&N<ne&&/[Xxo]/.test(K.charAt(N))?(Ve=et=!1,Me+=K.charAt(N),N+=1,Ze=/[o]/.test(K.charAt(N))?re:se):(Me="",N-=1);N<ne&&Ze.test(K.charAt(N));)Me+=K.charAt(N),N+=1,et&&N<ne&&K.charAt(N)==="."&&(Me+=K.charAt(N),N+=1,et=!1),Ve&&N<ne&&/[Ee]/.test(K.charAt(N))&&(Me+=K.charAt(N),(N+=1)<ne&&/[+-]/.test(K.charAt(N))&&(Me+=K.charAt(N),N+=1),et=Ve=!1);return[Me,"TK_WORD"]}if(a.isIdentifierStart(K.charCodeAt(N-1))){if(N<ne)for(;a.isIdentifierChar(K.charCodeAt(N))&&(Me+=K.charAt(N),(N+=1)!==ne););return nt.type==="TK_DOT"||nt.type==="TK_RESERVED"&&M(nt.text,["set","get"])||!M(Me,G)?[Me,"TK_WORD"]:Me==="in"?[Me,"TK_OPERATOR"]:[Me,"TK_RESERVED"]}if(Me==="("||Me==="[")return[Me,"TK_START_EXPR"];if(Me===")"||Me==="]")return[Me,"TK_END_EXPR"];if(Me==="{")return[Me,"TK_START_BLOCK"];if(Me==="}")return[Me,"TK_END_BLOCK"];if(Me===" ")return[Me,"TK_SEMICOLON"];if(Me==="/"){var Xe="";if(K.charAt(N)==="*"){N+=1,q.lastIndex=N;var $e=q.exec(K);Xe="/*".concat($e[0]),N+=$e[0].length;var tt=function(wo){if(!wo.match(Le))return null;var ro={};Ae.lastIndex=0;for(var qo=Ae.exec(wo);qo;)ro[qo[1]]=qo[2],qo=Ae.exec(wo);return ro}(Xe);return tt&&tt.ignore==="start"&&(we.lastIndex=N,Xe+=($e=we.exec(K))[0],N+=$e[0].length),[Xe=Xe.replace(a.lineBreak,`
`),"TK_BLOCK_COMMENT",tt]}if(K.charAt(N)==="/"){N+=1,de.lastIndex=N;var _t=de.exec(K);return Xe="//".concat(_t[0]),N+=_t[0].length,[Xe,"TK_COMMENT"]}}if(Me==="`"||Me==="'"||Me==='"'||(Me==="/"||ee.e4x&&Me==="<"&&K.slice(N-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&(nt.type==="TK_RESERVED"&&M(nt.text,["return","case","throw","else","do","typeof","yield"])||nt.type==="TK_END_EXPR"&&nt.text===")"&&nt.parent&&nt.parent.type==="TK_RESERVED"&&M(nt.parent.text,["if","while","for"])||M(nt.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var mt=Me,Lt=!1,Rt=!1;if(ut=Me,mt==="/")for(var Wt=!1;N<ne&&(Lt||Wt||K.charAt(N)!==mt)&&!a.newline.test(K.charAt(N));)ut+=K.charAt(N),Lt?Lt=!1:(Lt=K.charAt(N)==="\\",K.charAt(N)==="["?Wt=!0:K.charAt(N)==="]"&&(Wt=!1)),N+=1;else if(ee.e4x&&mt==="<"){var Zt=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,kn=K.slice(N-1),Jn=Zt.exec(kn);if(Jn&&Jn.index===0){for(var Je=Jn[2],wt=0;Jn;){var It=!!Jn[1],nn=Jn[2],bn=!!Jn[Jn.length-1]||nn.slice(0,8)==="![CDATA[";if(nn!==Je||bn||(It?--wt:++wt),wt<=0)break;Jn=Zt.exec(kn)}var Tn=Jn?Jn.index+Jn[0].length:kn.length;return kn=kn.slice(0,Tn),N+=Tn-1,[kn=kn.replace(a.lineBreak,`
`),"TK_STRING"]}}else for(;N<ne&&(Lt||K.charAt(N)!==mt&&(mt==="`"||!a.newline.test(K.charAt(N))));)(Lt||mt==="`")&&a.newline.test(K.charAt(N))?(K.charAt(N)==="\r"&&K.charAt(N+1)===`
`&&(N+=1),ut+=`
`):ut+=K.charAt(N),Lt=Lt?(K.charAt(N)!=="x"&&K.charAt(N)!=="u"||(Rt=!0),!1):K.charAt(N)==="\\",N+=1;if(Rt&&ee.unescape_strings&&(ut=function(wo){for(var ro,qo=!1,zn="",ls=0,ms="",Et=0;qo||ls<wo.length;)if(ro=wo.charAt(ls),ls++,qo){if(qo=!1,ro==="x")ms=wo.substr(ls,2),ls+=2;else{if(ro!=="u"){zn+="\\".concat(ro);continue}ms=wo.substr(ls,4),ls+=4}if(!ms.match(/^[0123456789abcdefABCDEF]+$/))return wo;if(0<=(Et=parseInt(ms,16))&&Et<32){zn+=ro==="x"?"\\x".concat(ms):"\\u".concat(ms);continue}if(Et===34||Et===39||Et===92)zn+="\\".concat(String.fromCharCode(Et));else{if(ro==="x"&&126<Et&&Et<=255)return wo;zn+=String.fromCharCode(Et)}}else ro==="\\"?qo=!0:zn+=ro;return zn}(ut)),N<ne&&K.charAt(N)===mt&&(ut+=mt,N+=1,mt==="/"))for(;N<ne&&a.isIdentifierStart(K.charCodeAt(N));)ut+=K.charAt(N),N+=1;return[ut,"TK_STRING"]}if(Me==="#"){if(I.length===0&&K.charAt(N)==="!"){for(ut=Me;N<ne&&Me!==`
`;)ut+=Me=K.charAt(N),N+=1;return["".concat(L(ut),`
`),"TK_UNKNOWN"]}var Mn="#";if(N<ne&&be.test(K.charAt(N))){for(;Mn+=Me=K.charAt(N),(N+=1)<ne&&Me!=="#"&&Me!=="=";);return Me==="#"||(K.charAt(N)==="["&&K.charAt(N+1)==="]"?(Mn+="[]",N+=2):K.charAt(N)==="{"&&K.charAt(N+1)==="}"&&(Mn+="{}",N+=2)),[Mn,"TK_WORD"]}}if(Me==="<"&&(K.charAt(N)==="?"||K.charAt(N)==="%")){Pe.lastIndex=N-1;var vn=Pe.exec(K);if(vn)return Me=vn[0],N+=Me.length-1,[Me=Me.replace(a.lineBreak,`
`),"TK_STRING"]}if(Me==="<"&&K.substring(N-1,N+3)==="<!--"){for(N+=3,Me="<!--";!a.newline.test(K.charAt(N))&&N<ne;)Me+=K.charAt(N),N++;return V=!0,[Me,"TK_COMMENT"]}if(Me==="-"&&V&&K.substring(N-1,N+2)==="-->")return V=!1,N+=2,["-->","TK_COMMENT"];if(Me===".")return[Me,"TK_DOT"];if(M(Me,ie)){for(;N<ne&&M(Me+K.charAt(N),ie)&&(Me+=K.charAt(N),!(ne<=(N+=1))););return Me===","?[Me,"TK_COMMA"]:Me==="="?[Me,"TK_EQUALS"]:[Me,"TK_OPERATOR"]}return[Me,"TK_UNKNOWN"]}this.tokenize=function(){var ut,nt,ot;ne=K.length,N=0,V=!1,I=[];for(var Me=null,et=[],Ve=[];!nt||nt.type!=="TK_EOF";){for(ot=We(),ut=new P(ot[1],ot[0],D,U);ut.type==="TK_COMMENT"||ut.type==="TK_BLOCK_COMMENT"||ut.type==="TK_UNKNOWN";)ut.type==="TK_BLOCK_COMMENT"&&(ut.directives=ot[2]),Ve.push(ut),ot=We(),ut=new P(ot[1],ot[0],D,U);Ve.length&&(ut.comments_before=Ve,Ve=[]),ut.type==="TK_START_BLOCK"||ut.type==="TK_START_EXPR"?(ut.parent=nt,et.push(Me),Me=ut):(ut.type==="TK_END_BLOCK"||ut.type==="TK_END_EXPR")&&Me&&(ut.text==="]"&&Me.text==="["||ut.text===")"&&Me.text==="("||ut.text==="}"&&Me.text==="{")&&(ut.parent=Me.parent,Me=et.pop()),I.push(ut),nt=ut}return I}}return{run:function(ee,w){function xe(Xe){return Xe.replace(/\s+$/g,"")}var be,re,se,ie,D,U,V,I,N,ne,G,q,de,Le;for((w=w||{}).wrap_line_length!==void 0&&parseInt(w.wrap_line_length,10)!==0||w.max_char===void 0||parseInt(w.max_char,10)===0||(w.wrap_line_length=w.max_char),re=w.indent_inner_html!==void 0&&w.indent_inner_html,se=w.indent_size===void 0?4:parseInt(w.indent_size,10),ie=w.indent_char===void 0?" ":w.indent_char,U=w.brace_style===void 0?"collapse":w.brace_style,D=parseInt(w.wrap_line_length,10)===0?32786:parseInt(w.wrap_line_length||250,10),V=w.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","const","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],I=w.preserve_newlines===void 0||w.preserve_newlines,N=I?isNaN(parseInt(w.max_preserve_newlines,10))?32786:parseInt(w.max_preserve_newlines,10):0,ne=w.indent_handlebars!==void 0&&w.indent_handlebars,G=w.wrap_attributes===void 0?"auto":w.wrap_attributes,q=w.wrap_attributes_indent_size===void 0?se:parseInt(w.wrap_attributes_indent_size,10)||se,de=w.end_with_newline!==void 0&&w.end_with_newline,Le=Array.isArray(w.extra_liners)?w.extra_liners.concat():typeof w.extra_liners=="string"?w.extra_liners.split(","):"head,body,/html".split(","),w.indent_with_tabs&&(ie="	",se=1),(be=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=re,this.Utils={whitespace:`
\r	 `.split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:Le,in_array:function($e,tt){for(var _t=0;_t<tt.length;_t++)if($e===tt[_t])return!0;return!1}},this.is_whitespace=function($e){for(;0<$e.length;$e++)if(!this.Utils.in_array($e.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var $e="";if($e=this.input.charAt(this.pos),this.Utils.in_array($e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array($e,this.Utils.whitespace);)I&&$e===`
`&&this.newlines<=N&&(this.newlines+=1),this.pos++,$e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function($e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,$e),this.print_indentation($e)):(this.line_char_count++,$e.push(" "))},this.get_content=function(){for(var $e="",tt=[];this.input.charAt(this.pos)!="<";){if(this.pos>=this.input.length)return tt.length?tt.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(tt);else{if(ne){var _t=this.input.substr(this.pos,3);if(_t==="{{#"||_t==="{{/")break;if(_t==="{{!")return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if(this.input.substr(this.pos,2)==="{{"&&this.get_tag(!0)==="{{else}}")break}$e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,tt.push($e)}}return tt.length?tt.join(""):""},this.get_contents_to=function($e){if(this.pos===this.input.length)return["","TK_EOF"];var tt="",_t=new RegExp("</".concat($e,"\\s*>"),"igm");_t.lastIndex=this.pos;var mt=_t.exec(this.input),Lt=mt?mt.index:this.input.length;return this.pos<Lt&&(tt=this.input.substring(this.pos,Lt),this.pos=Lt),tt},this.record_tag=function($e){this.tags["".concat($e,"count")]?this.tags["".concat($e,"count")]++:this.tags["".concat($e,"count")]=1,this.tags[$e+this.tags["".concat($e,"count")]]=this.indent_level,this.tags[$e+this.tags["".concat($e,"count")]+"parent"]=this.tags.parent,this.tags.parent=$e+this.tags["".concat($e,"count")]},this.retrieve_tag=function($e){if(this.tags["".concat($e,"count")]){for(var tt=this.tags.parent;tt&&$e+this.tags["".concat($e,"count")]!==tt;)tt=this.tags["".concat(tt,"parent")];tt&&(this.indent_level=this.tags[$e+this.tags["".concat($e,"count")]],this.tags.parent=this.tags[tt+"parent"]),delete this.tags[$e+this.tags["".concat($e,"count")]+"parent"],delete this.tags[$e+this.tags["".concat($e,"count")]],this.tags["".concat($e,"count")]===1?delete this.tags["".concat($e,"count")]:this.tags["".concat($e,"count")]--}},this.indent_to_tag=function($e){if(this.tags["".concat($e,"count")]){for(var tt=this.tags.parent;tt&&$e+this.tags["".concat($e,"count")]!==tt;)tt=this.tags["".concat(tt,"parent")];tt&&(this.indent_level=this.tags[$e+this.tags["".concat($e,"count")]])}},this.get_tag=function($e){var tt,_t,mt="",Lt=[],Rt="",Wt=!1,Zt=!0,kn=this.pos,Jn=this.line_char_count;$e=$e!==void 0&&$e;do{if(this.pos>=this.input.length)return $e&&(this.pos=kn,this.line_char_count=Jn),Lt.length?Lt.join(""):["","TK_EOF"];if(mt=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(mt,this.Utils.whitespace))Wt=!0;else{if(mt!=="'"&&mt!=='"'||(mt+=this.get_unformatted(mt),Wt=!0),mt==="="&&(Wt=!1),Lt.length&&Lt[Lt.length-1]!="="&&mt!=">"&&Wt){if(this.space_or_wrap(Lt),Wt=!1,!Zt&&G==="force"&&mt!="/"){this.print_newline(!0,Lt),this.print_indentation(Lt);for(var Je=0;Je<q;Je++)Lt.push(ie)}for(var wt=0;wt<Lt.length;wt++)if(Lt[wt]===" "){Zt=!1;break}}if(ne&&_t==="<"&&mt+this.input.charAt(this.pos)==="{{"&&(mt+=this.get_unformatted("}}"),Lt.length&&Lt[Lt.length-1]!=" "&&Lt[Lt.length-1]!="<"&&(mt=" ".concat(mt)),Wt=!0),mt!=="<"||_t||(tt=this.pos-1,_t="<"),ne&&!_t&&2<=Lt.length&&Lt[Lt.length-1]==="{"&&Lt[Lt.length-2]==="{"&&(tt=mt==="#"||mt==="/"||mt==="!"?this.pos-3:this.pos-2,_t="{"),this.line_char_count++,Lt.push(mt),Lt[1]&&(Lt[1]==="!"||Lt[1]==="?"||Lt[1]==="%")){Lt=[this.get_comment(tt)];break}if(ne&&Lt[1]&&Lt[1]==="{"&&Lt[2]&&Lt[2]==="!"){Lt=[this.get_comment(tt)];break}if(ne&&_t==="{"&&2<Lt.length&&Lt[Lt.length-2]==="}"&&Lt[Lt.length-1]==="}")break}}while(mt!=">");var It,nn,bn=Lt.join("");It=bn.indexOf(" ")!=-1?bn.indexOf(" "):bn[0]==="{"?bn.indexOf("}"):bn.indexOf(">"),nn=bn[0]!=="<"&&ne?bn[2]==="#"?3:2:1;var Tn=bn.substring(nn,It).toLowerCase();return bn.charAt(bn.length-2)==="/"||this.Utils.in_array(Tn,this.Utils.single_token)?$e||(this.tag_type="SINGLE"):ne&&bn[0]==="{"&&Tn==="else"?$e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(Tn,V)?(Rt=this.get_unformatted("</".concat(Tn,">"),bn),Lt.push(Rt),this.pos,this.tag_type="SINGLE"):Tn==="script"&&(bn.search("type")===-1||-1<bn.search("type")&&-1<bn.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?$e||(this.record_tag(Tn),this.tag_type="SCRIPT"):Tn==="style"&&(bn.search("type")===-1||-1<bn.search("type")&&-1<bn.search("text/css"))?$e||(this.record_tag(Tn),this.tag_type="STYLE"):Tn.charAt(0)==="!"?$e||(this.tag_type="SINGLE",this.traverse_whitespace()):$e||(Tn.charAt(0)==="/"?(this.retrieve_tag(Tn.substring(1)),this.tag_type="END"):(this.record_tag(Tn),Tn.toLowerCase()!="html"&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(Lt),this.Utils.in_array(Tn,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&this.output[this.output.length-2]!=`
`&&this.print_newline(!0,this.output))),$e&&(this.pos=kn,this.line_char_count=Jn),Lt.join("")},this.get_comment=function($e){var tt="",_t=">",mt=!1;this.pos=$e;var Lt=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((tt+=Lt)[tt.length-1]!==_t[_t.length-1]||tt.indexOf(_t)==-1);)!mt&&tt.length<10&&(tt.indexOf("<![if")===0?(_t="<![endif]>",mt=!0):tt.indexOf("<![cdata[")===0?(_t="]]>",mt=!0):tt.indexOf("<![")===0?(_t="]>",mt=!0):tt.indexOf("<!--")===0?(_t="-->",mt=!0):tt.indexOf("{{!")===0?(_t="}}",mt=!0):tt.indexOf("<?")===0?(_t="?>",mt=!0):tt.indexOf("<%")===0&&(_t="%>",mt=!0)),Lt=this.input.charAt(this.pos),this.pos++;return tt},this.get_unformatted=function($e,tt){if(tt&&tt.toLowerCase().indexOf($e)!=-1)return"";var _t="",mt="",Lt=!0,Rt="";do{if(this.pos>=this.input.length)return mt;if(_t=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(_t,this.Utils.whitespace)){if(!Lt){this.line_char_count--;continue}if(_t===`
`||_t==="\r"){mt+=`
`,this.line_char_count=0;continue}}mt+=_t,(Rt+=_t.toLowerCase()).length>$e.length&&(Rt=Rt.substring(1)),this.line_char_count++,Lt=!0,ne&&_t==="{"&&mt.length&&mt[mt.length-2]==="{"&&(mt+=this.get_unformatted("}}"))}while(Rt!==$e);return mt},this.get_token=function(){var $e;if(this.last_token!=="TK_TAG_SCRIPT"&&this.last_token!=="TK_TAG_STYLE")return this.current_mode==="CONTENT"?typeof($e=this.get_content())!="string"?$e:[$e,"TK_CONTENT"]:this.current_mode==="TAG"?typeof($e=this.get_tag())!="string"?$e:[$e,"TK_TAG_".concat(this.tag_type)]:void 0;var tt=this.last_token.substr(7);return typeof($e=this.get_contents_to(tt))!="string"?$e:[$e,"TK_".concat(tt)]},this.get_full_indent=function($e){return($e=this.indent_level+$e||0)<1?"":new Array($e+1).join(this.indent_string)},this.is_unformatted=function($e,tt){if(!this.Utils.in_array($e,tt))return!1;if($e.toLowerCase()!="a"||!this.Utils.in_array("a",tt))return!0;var _t=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(_t&&!this.Utils.in_array(_t,tt))},this.printer=function($e,tt,_t,mt,Lt){this.input=$e||"",this.output=[],this.indent_character=tt,this.indent_string="",this.indent_size=_t,this.brace_style=Lt,this.indent_level=0,this.wrap_line_length=mt;for(var Rt=this.line_char_count=0;Rt<this.indent_size;Rt++)this.indent_string+=this.indent_character;this.print_newline=function(Wt,Zt){this.line_char_count=0,Zt&&Zt.length&&(Wt||Zt[Zt.length-1]!=`
`)&&(Zt[Zt.length-1]!=`
`&&(Zt[Zt.length-1]=xe(Zt[Zt.length-1])),Zt.push(`
`))},this.print_indentation=function(Wt){for(var Zt=0;Zt<this.indent_level;Zt++)Wt.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(Wt){this.is_whitespace(Wt)&&!this.output.length||((Wt||Wt!=="")&&this.output.length&&this.output[this.output.length-1]===`
`&&(this.print_indentation(this.output),Wt=function(kn){return kn.replace(/^\s+/g,"")}(Wt)),this.print_token_raw(Wt))},this.print_token_raw=function(Wt){0<this.newlines&&(Wt=xe(Wt)),Wt&&Wt!==""&&(1<Wt.length&&Wt[Wt.length-1]===`
`?(this.output.push(Wt.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(Wt));for(var Zt=0;Zt<this.newlines;Zt++)this.print_newline(0<Zt,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(ee,ie,se,D,U);;){var Ae=be.get_token();if(be.token_text=Ae[0],be.token_type=Ae[1],be.token_type==="TK_EOF")break;switch(be.token_type){case"TK_TAG_START":be.print_newline(!1,be.output),be.print_token(be.token_text),be.indent_content&&(be.indent(),be.indent_content=!1),be.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":be.print_newline(!1,be.output),be.print_token(be.token_text),be.current_mode="CONTENT";break;case"TK_TAG_END":if(be.last_token==="TK_CONTENT"&&be.last_text===""){var we=be.token_text.match(/\w+/)[0],Pe=null;be.output.length&&(Pe=be.output[be.output.length-1].match(/(?:<|{{#)\/?\s*(\w+)/)),(Pe===null||Pe[1]!=we&&!be.Utils.in_array(Pe[1],V))&&be.print_newline(!1,be.output)}be.print_token(be.token_text),be.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var We=be.token_text.match(/^\s*<([a-z-]+)/i);We&&be.Utils.in_array(We[1],V)||be.print_newline(!1,be.output),be.print_token(be.token_text),be.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":be.print_token(be.token_text),be.indent_content&&(be.indent(),be.indent_content=!1),be.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":be.print_token(be.token_text),be.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(be.token_text!==""){be.print_newline(!1,be.output);var ut=be.token_text,nt=void 0,ot=1;be.token_type==="TK_SCRIPT"?nt=A:be.token_type==="TK_STYLE"&&(nt=p),w.indent_scripts==="keep"?ot=0:w.indent_scripts==="separate"&&(ot=-be.indent_level);var Me=be.get_full_indent(ot);if(nt)ut=nt(ut.replace(/^\s*/,Me),w);else{var et=ut.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(be.indent_string).length-1,Ve=be.get_full_indent(ot-et);ut=ut.replace(/^\s*/,Me).replace(/\r\n|\r|\n/g,`
`+Ve).replace(/\s+$/,"")}ut&&(be.print_token_raw(ut),be.print_newline(!0,be.output))}be.current_mode="TAG";break;default:be.token_text!==""&&be.print_token(be.token_text)}be.last_token=be.token_type,be.last_text=be.token_text}var Ze=be.output.join("").replace(/[\r\n\t ]+$/,"");return de&&(Ze+=`
`),Ze}}},Object.assign(x.DEFAULTS,{codeMirror:window.CodeMirror,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"	",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),x.PLUGINS.codeView=function(s){var b,B,ge=s.$,a=function(){return s.$box.hasClass("fr-code-view")};function p(){return B?B.getValue():b.val()}function M(){a()&&(B&&B.setSize(null,s.opts.height?s.opts.height:"auto"),s.opts.heightMin||s.opts.height?(s.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",s.opts.heightMin||s.opts.height),b.css("height",s.opts.height)):s.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",""))}var L,A=!1;function O(){a()&&s.events.trigger("blur")}function z(){a()&&A&&s.events.trigger("focus")}function Q(j){b||(function(){b=ge('<textarea class="fr-code" tabIndex="-1">'),s.$wp.append(b),b.attr("dir",s.opts.direction),s.$box.hasClass("fr-basic")||(L=ge('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'.concat(s.helpers.isMobile()?"":" fr-desktop",'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>')),s.$box.append(L),s.events.bindClick(s.$box,"a.html-switch",function(){s.events.trigger("commands.before",["html"]),H(!1),s.events.trigger("commands.after",["html"])}));var D=function(){return!a()};s.events.on("buttons.refresh",D),s.events.on("copy",D,!0),s.events.on("cut",D,!0),s.events.on("paste",D,!0),s.events.on("destroy",P,!0),s.events.on("html.set",function(){a()&&H(!0)}),s.events.on("codeView.update",M),s.events.on("codeView.toggle",function(){s.$box.hasClass("fr-code-view")&&H()}),s.events.on("form.submit",function(){a()&&(s.html.set(p()),s.events.trigger("contentChanged",[],!0))},!0)}(),!B&&s.opts.codeMirror?((B=s.opts.codeMirror.fromTextArea(b.get(0),s.opts.codeMirrorOptions)).on("blur",O),B.on("focus",z)):(s.events.$on(b,"keydown keyup change input",function(){s.opts.height?this.removeAttribute("rows"):(this.rows=1,this.value.length===0?this.style.height="auto":this.style.height="".concat(this.scrollHeight,"px"))}),s.events.$on(b,"blur",O),s.events.$on(b,"focus",z))),s.undo.saveStep(),s.html.cleanEmptyTags(),s.html.cleanWhiteTags(!0),s.core.hasFocus()&&(s.core.isEmpty()||(s.selection.save(),s.$el.find('.fr-marker[data-type="true"]').first().replaceWith('<span class="fr-tmp fr-sm">F</span>'),s.$el.find('.fr-marker[data-type="false"]').last().replaceWith('<span class="fr-tmp fr-em">F</span>')));var K=s.html.get(!1,!0);s.$el.find("span.fr-tmp").remove(),s.$box.toggleClass("fr-code-view",!0);var ee,w,xe=!1;if(s.core.hasFocus()&&(xe=!0,s.events.disableBlur(),s.$el.blur()),K=(K=K.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),s.codeBeautifier&&!K.includes("fr-embedly")&&(K=s.codeBeautifier.run(K,s.opts.codeBeautifierOptions)),B){ee=K.indexOf("FROALA-SM"),(w=K.indexOf("FROALA-EM"))<ee?ee=w:w-=9;var be=(K=K.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).substring(0,ee).length-K.substring(0,ee).replace(/\n/g,"").length,re=K.substring(0,w).length-K.substring(0,w).replace(/\n/g,"").length;ee=K.substring(0,ee).length-K.substring(0,K.substring(0,ee).lastIndexOf(`
`)+1).length,w=K.substring(0,w).length-K.substring(0,K.substring(0,w).lastIndexOf(`
`)+1).length,B.setSize(null,s.opts.height?s.opts.height:"auto"),s.opts.heightMin&&s.$box.find(".CodeMirror-scroll").css("min-height",s.opts.heightMin),B.setValue(K),A=!xe,B.focus(),A=!0,B.setSelection({line:be,ch:ee},{line:re,ch:w}),B.refresh(),B.clearHistory()}else{ee=K.indexOf("FROALA-SM"),w=K.indexOf("FROALA-EM")-9,s.opts.heightMin&&b.css("min-height",s.opts.heightMin),s.opts.height&&b.css("height",s.opts.height),s.opts.heightMax&&b.css("max-height",s.opts.height||s.opts.heightMax),b.val(K.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var se=ge(s.o_doc).scrollTop();A=!xe,b.focus(),A=!0,b.get(0).setSelectionRange(ee,w),ge(s.o_doc).scrollTop(se)}s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(j).filter(function(){return s.opts.codeViewKeepActiveButtons.indexOf(ge(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!0),j.addClass("fr-active").attr("aria-pressed",!0),!s.helpers.isMobile()&&s.opts.toolbarInline&&s.toolbar.hide()}function H(j){j===void 0&&(j=!a());var K=s.$tb.find('.fr-command[data-cmd="html"]');j?(s.popups.hideAll(),Q(K)):(s.$box.toggleClass("fr-code-view",!1),function(w){var xe=p();s.html.set(xe),s.$el.blur(),s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(w).removeClass("fr-disabled").attr("aria-disabled",!1),w.removeClass("fr-active").attr("aria-pressed",!1),s.selection.setAtStart(s.el),s.selection.restore(),s.placeholder.refresh(),s.undo.saveStep()}(K),s.events.trigger("codeView.update"))}function P(){a()&&H(!1),B&&B.toTextArea(),b.val("").removeData().remove(),b=null,L&&(L.remove(),L=null)}return{_init:function(){if(s.events.on("focus",function(){s.opts.toolbarContainer&&function(){var ee=s.$tb.find('.fr-command[data-cmd="html"]');a()?(s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(ee).filter(function(){return s.opts.codeViewKeepActiveButtons.indexOf(ge(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!1),ee.addClass("fr-active").attr("aria-pressed",!1)):(s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(ee).removeClass("fr-disabled").attr("aria-disabled",!1),ee.removeClass("fr-active").attr("aria-pressed",!1))}()}),!s.$wp)return!1},toggle:H,isActive:a,get:p}},x.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),x.DefineIcon("html",{NAME:"code",SVG_KEY:"codeView"}),Object.assign(x.POPUP_TEMPLATES,{"textColor.picker":"[_BUTTONS_][_TEXT_COLORS_][_CUSTOM_COLOR_]","backgroundColor.picker":"[_BUTTONS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]"}),Object.assign(x.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsHEXInput:!0,colorsButtons:["colorsBack","|","-"]}),x.PLUGINS.colors=function(s){var b=s.$,B=`<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer- 
  `.concat(s.id,`"><div class="fr-input-line"><input maxlength="9" id="[ID]"
  type="text" placeholder="`).concat(s.language.translate("HEX Color"),`" 
  tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button 
  type="button" class="fr-command fr-submit" data-cmd="[COMMAND]" tabIndex="2" role="button">
  `).concat(s.language.translate("OK"),"</button></div></div>");function ge(L){for(var A=L==="text"?s.opts.colorsText:s.opts.colorsBackground,O='<div class="fr-color-set fr-'.concat(L,'-color fr-selected-set">'),z=0;z<A.length;z++)z!==0&&z%s.opts.colorsStep==0&&(O+="<br>"),A[z]!=="REMOVE"?O+='<span class="fr-command fr-select-color" style="background:'.concat(A[z].toUpperCase(),`;" 
        tabIndex="-1" aria-selected="false" role="button" data-cmd="apply`).concat(L,`Color" 
        data-param1="`).concat(A[z].toUpperCase(),'"><span class="fr-sr-only"> ').concat(s.language.translate("Color")).concat(A[z],` 
        &nbsp;&nbsp;&nbsp;</span></span>`):O+='<span class="fr-command fr-select-color" data-cmd="apply'.concat(L,`Color"
         tabIndex="-1" role="button" data-param1="REMOVE" 
         title="`).concat(s.language.translate("Clear Formatting"),'">').concat(s.icon.create("remove"),` 
        <span class="fr-sr-only"> `).concat(s.language.translate("Clear Formatting")," </span></span>");return"".concat(O,"</div>")}function a(L){var A,O=s.popups.get("".concat(L,"Color.picker")),z=b(s.selection.element());A=L==="background"?"background-color":"color";var Q=O.find(".fr-".concat(L,"-color .fr-select-color"));for(Q.find(".fr-selected-color").remove(),Q.removeClass("fr-active-item"),Q.not('[data-param1="REMOVE"]').attr("aria-selected",!1);z.get(0)!==s.el;){if(z.css(A)!=="transparent"&&z.css(A)!=="rgba(0, 0, 0, 0)"){var H=O.find(".fr-".concat(L,'-color .fr-select-color[data-param1="').concat(s.helpers.RGBToHex(z.css(A)),'"]'));H.append('<span class="fr-selected-color" aria-hidden="true"></span>'),H.addClass("fr-active-item").attr("aria-selected",!0);break}z=z.parent()}(function(j){var K=s.popups.get("".concat(j,"Color.picker")),ee=K.find(".fr-".concat(j,"-color .fr-active-item")).attr("data-param1"),w=K.find(".fr-color-hex-layer input");ee||(ee=""),w.length&&b(w.val(ee).input).trigger("change")})(L)}function p(L){L!=="REMOVE"?s.format.applyStyle("background-color",s.helpers.HEXtoRGB(L)):s.format.removeStyle("background-color"),s.popups.hide("backgroundColor.picker")}function M(L){L!=="REMOVE"?s.format.applyStyle("color",s.helpers.HEXtoRGB(L)):s.format.removeStyle("color"),s.popups.hide("textColor.picker")}return{showColorsPopup:function(A){var O=s.$tb.find('.fr-command[data-cmd="'.concat(A,'"]')),z=s.popups.get("".concat(A,".picker"));if(z||(z=function(K){var ee="";s.opts.toolbarInline&&0<s.opts.colorsButtons.length&&(ee+=`<div class="fr-buttons fr-colors-buttons fr-tabs">
        `.concat(s.button.buildList(s.opts.colorsButtons),`
        </div>`));var w,xe="";w=K==="textColor"?(s.opts.colorsHEXInput&&(xe=B.replace(/\[ID\]/g,"fr-color-hex-layer-text-".concat(s.id)).replace(/\[COMMAND\]/g,"customTextColor")),{buttons:ee,text_colors:ge("text"),custom_color:xe}):(s.opts.colorsHEXInput&&(xe=B.replace(/\[ID\]/g,"fr-color-hex-layer-background-".concat(s.id)).replace(/\[COMMAND\]/g,"customBackgroundColor")),{buttons:ee,background_colors:ge("background"),custom_color:xe});var be=s.popups.create("".concat(K,".picker"),w);return function(se,ie){s.events.on("popup.tab",function(D){var U=b(D.currentTarget);if(!s.popups.isVisible(ie)||!U.is("span, input, button"))return!0;var V,I,N=D.which,ne=!0;if(x.KEYCODE.TAB===N){var G=se.find("span.fr-select-color");if(U.is(G.first())&&D.shiftKey||U.is(se.find("span.fr-submit"))&&!D.shiftKey){var q=se.find(".fr-buttons");ne=!s.accessibility.focusToolbar(q,!!D.shiftKey)}if(ne!==!1){var de=se.find("span.fr-select-color");de.add(se.find("input")),de.add(se.find("button.fr-submit")),V=de.index(U),V=D.shiftKey?((V-1)%de.length+de.length)%de.length:(V+1)%de.length,I=de.get(V),s.events.disableBlur(),I.focus(),ne=!1}}else if(x.KEYCODE.ARROW_UP===N||x.KEYCODE.ARROW_DOWN===N||x.KEYCODE.ARROW_LEFT===N||x.KEYCODE.ARROW_RIGHT===N){if(U.is("span.fr-select-color")){var Le=U.parent().find("span.fr-select-color"),Ae=Le.index(U),we=s.opts.colorsStep,Pe=Math.floor(Le.length/we),We=Ae%we,ut=Math.floor(Ae/we),nt=ut*we+We,ot=Pe*we;x.KEYCODE.ARROW_UP===N?nt=((nt-we)%ot+ot)%ot:x.KEYCODE.ARROW_DOWN===N?nt=(nt+we)%ot:x.KEYCODE.ARROW_LEFT===N?nt=((nt-1)%ot+ot)%ot:x.KEYCODE.ARROW_RIGHT===N&&(nt=(nt+1)%ot);var Me=b(Le.get(nt));s.events.disableBlur(),Me.focus(),ne=!1}}else x.KEYCODE.ENTER===N&&(s.button.exec(U),ne=!1);return ne===!1&&(D.preventDefault(),D.stopPropagation()),ne},!0)}(be,"".concat(K,".picker")),be}(A)),!z.hasClass("fr-active"))if(s.popups.setContainer("".concat(A,".picker"),s.$tb),a(A==="textColor"?"text":"background"),O.isVisible()){var Q=s.button.getPosition(O),H=Q.left,P=Q.top;s.popups.show("".concat(A,".picker"),H,P,O.outerHeight())}else s.position.forSelection(z),s.popups.show("".concat(A,".picker"))},background:p,customColor:function(A){var O=s.popups.get("".concat(A,"Color.picker")).find(".fr-color-hex-layer input");if(O.length){var z=O.val();A==="background"?p(z):M(z)}},text:M,back:function(){s.popups.hide("textColor.picker"),s.popups.hide("backgroundColor.picker"),s.toolbar.showInline()}}},x.DefineIcon("textColor",{NAME:"tint",SVG_KEY:"textColor"}),x.RegisterCommand("textColor",{title:"Text Color",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("textColor.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("textColor.picker")):this.colors.showColorsPopup("textColor")}}),x.RegisterCommand("applytextColor",{undo:!0,callback:function(s,b){this.colors.text(b)}}),x.RegisterCommand("customTextColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor("text")}}),x.DefineIcon("backgroundColor",{NAME:"paint-brush",SVG_KEY:"backgroundColor"}),x.RegisterCommand("backgroundColor",{title:"Background Color",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("backgroundColor.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("backgroundColor.picker")):this.colors.showColorsPopup("backgroundColor")}}),x.RegisterCommand("applybackgroundColor",{undo:!0,callback:function(s,b){this.colors.background(b)}}),x.RegisterCommand("customBackgroundColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor("background")}}),x.DefineIcon("colorsBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),x.DefineIcon("remove",{NAME:"eraser",SVG_KEY:"remove"}),Object.assign(x.DEFAULTS,{dragInline:!0}),x.PLUGINS.draggable=function(s){var b=s.$;function B(Q){return!(!Q.originalEvent||!Q.originalEvent.target||Q.originalEvent.target.nodeType!==Node.TEXT_NODE)||(Q.target&&Q.target.tagName==="A"&&Q.target.childNodes.length===1&&Q.target.childNodes[0].tagName==="IMG"&&(Q.target=Q.target.childNodes[0]),b(Q.target).hasClass("fr-draggable")?(s.undo.canDo()||s.undo.saveStep(),s.opts.dragInline?s.$el.attr("contenteditable",!0):s.$el.attr("contenteditable",!1),s.opts.toolbarInline&&s.toolbar.hide(),b(Q.target).addClass("fr-dragging"),s.browser.msie||s.browser.edge||s.selection.clear(),void Q.originalEvent.dataTransfer.setData("text","Froala")):(Q.preventDefault(),!1))}var ge,a=function(H){return!(H&&(H.tagName==="HTML"||H.tagName==="BODY"||s.node.isElement(H)))};function p(Q,H,P){if(s.opts.iframe){var j=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),K=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));Q+=s.$iframe.offset().top+j,H+=s.$iframe.offset().left+K}ge.offset().top!==Q&&ge.css("top",Q),ge.offset().left!==H&&ge.css("left",H),ge.width()!==P&&ge.css("width",P)}function M(Q){Q.originalEvent.dataTransfer.dropEffect="move",s.opts.dragInline?(!function(){for(var P=null,j=0;j<x.INSTANCES.length;j++)if((P=x.INSTANCES[j].$el.find(".fr-dragging")).length)return P.get(0)}()||s.browser.msie||s.browser.edge)&&Q.preventDefault():(Q.preventDefault(),function(P){var j=s.doc.elementFromPoint(P.originalEvent.pageX-s.win.pageXOffset,P.originalEvent.pageY-s.win.pageYOffset);if(!a(j)){for(var K=0,ee=j;!a(ee)&&ee===j&&0<P.originalEvent.pageY-s.win.pageYOffset-K;)K++,ee=s.doc.elementFromPoint(P.originalEvent.pageX-s.win.pageXOffset,P.originalEvent.pageY-s.win.pageYOffset-K);(!a(ee)||ge&&s.$el.find(ee).length===0&&ee!==ge.get(0))&&(ee=null);for(var w=0,xe=j;!a(xe)&&xe===j&&P.originalEvent.pageY-s.win.pageYOffset+w<b(s.doc).height();)w++,xe=s.doc.elementFromPoint(P.originalEvent.pageX-s.win.pageXOffset,P.originalEvent.pageY-s.win.pageYOffset+w);(!a(xe)||ge&&s.$el.find(xe).length===0&&xe!==ge.get(0))&&(xe=null),j=xe===null&&ee?ee:xe&&ee===null?xe:xe&&ee?K<w?ee:xe:null}if(b(j).hasClass("fr-drag-helper"))return!1;if(j&&!s.node.isBlock(j)&&(j=s.node.blockParent(j)),j&&0<=["TD","TH","TR","THEAD","TBODY"].indexOf(j.tagName)&&(j=b(j).parents("table").get(0)),j&&0<=["LI"].indexOf(j.tagName)&&(j=b(j).parents("UL, OL").get(0)),j&&!b(j).hasClass("fr-drag-helper")){var be;ge||(x.$draggable_helper||(x.$draggable_helper=b(document.createElement("div")).attr("class","fr-drag-helper")),ge=x.$draggable_helper,s.events.on("shared.destroy",function(){ge.html("").removeData().remove(),ge=null},!0)),be=P.originalEvent.pageY<b(j).offset().top+b(j).outerHeight()/2;var re=b(j),se=0;be||re.next().length!==0?(be||(re=re.next()),ge.data("fr-position")==="before"&&re.is(ge.data("fr-tag"))||(0<re.prev().length&&(se=parseFloat(re.prev().css("margin-bottom"))||0),se=Math.max(se,parseFloat(re.css("margin-top"))||0),p(re.offset().top-se/2-s.$box.offset().top,re.offset().left-s.win.pageXOffset-s.$box.offset().left,re.width()),ge.data("fr-position","before"))):ge.data("fr-position")==="after"&&re.is(ge.data("fr-tag"))||(se=parseFloat(re.css("margin-bottom"))||0,p(re.offset().top+b(j).height()+se/2-s.$box.offset().top,re.offset().left-s.win.pageXOffset-s.$box.offset().left,re.width()),ge.data("fr-position","after")),ge.data("fr-tag",re),ge.addClass("fr-visible"),s.$box.append(ge)}else ge&&0<s.$box.find(ge).length&&ge.removeClass("fr-visible")}(Q))}function L(Q){Q.originalEvent.dataTransfer.dropEffect="move",s.opts.dragInline||Q.preventDefault()}function A(Q){s.$el.attr("contenteditable",!0);var H=s.$el.find(".fr-dragging");ge&&ge.hasClass("fr-visible")&&s.$box.find(ge).length?O(Q):H.length&&(Q.preventDefault(),Q.stopPropagation()),ge&&s.$box.find(ge).length&&ge.removeClass("fr-visible"),H.removeClass("fr-dragging")}function O(Q){var H,P;s.$el.attr("contenteditable",!0);for(var j=0;j<x.INSTANCES.length;j++)if((H=x.INSTANCES[j].$el.find(".fr-dragging")).length){P=x.INSTANCES[j];break}if(H.length){if(Q.preventDefault(),Q.stopPropagation(),ge&&ge.hasClass("fr-visible")&&s.$box.find(ge).length)ge.data("fr-tag")[ge.data("fr-position")]('<span class="fr-marker"></span>'),ge.removeClass("fr-visible");else if(s.markers.insertAtPoint(Q.originalEvent)===!1)return!1;if(H.removeClass("fr-dragging"),(H=s.events.chainTrigger("element.beforeDrop",H))===!1)return!1;var K=H;if(H.parent().is("A")&&H.parent().get(0).childNodes.length===1&&(K=H.parent()),s.core.isEmpty()?s.events.focus():(s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.selection.restore()),P===s||s.undo.canDo()||s.undo.saveStep(),s.core.isEmpty())s.$el.html(K);else{var ee=s.markers.insert();(s||"").selection&&K.contains(ee)&&K.before(ee),K.find(ee).length===0?b(ee).replaceWith(K):H.find(ee).length===0&&b(ee).replaceWith(H),H.after(x.MARKERS),s.selection.restore()}return s.popups.hideAll(),s.selection.save(),s.$el.find(s.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").not(s.opts.htmlAllowedEmptyTags.join(",")).remove(),s.html.wrap(),s.html.fillEmptyBlocks(),s.selection.restore(),s.undo.saveStep(),s.opts.iframe&&s.size.syncIframe(),P!==s&&(P.popups.hideAll(),P.$el.find(P.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),P.html.wrap(),P.html.fillEmptyBlocks(),P.undo.saveStep(),P.events.trigger("element.dropped"),P.opts.iframe&&P.size.syncIframe()),s.events.trigger("element.dropped",[K]),!1}ge&&ge.removeClass("fr-visible"),s.undo.canDo()||s.undo.saveStep(),setTimeout(function(){s.undo.saveStep()},0)}function z(Q){if(Q&&Q.tagName==="DIV"&&s.node.hasClass(Q,"fr-drag-helper"))Q.parentNode.removeChild(Q);else if(Q&&Q.nodeType===Node.ELEMENT_NODE)for(var H=Q.querySelectorAll("div.fr-drag-helper"),P=0;P<H.length;P++)H[P].parentNode.removeChild(H[P])}return{_init:function(){s.opts.enter===x.ENTER_BR&&(s.opts.dragInline=!0),s.events.on("dragstart",B,!0),s.events.on("dragover",M,!0),s.events.on("dragenter",L,!0),s.events.on("document.dragend",A,!0),s.events.on("document.drop",A,!0),s.events.on("drop",O,!0),s.events.on("html.processGet",z)}}},Object.assign(x.DEFAULTS,{editInPopup:!1}),x.MODULES.editInPopup=function(s){function b(){s.events.$on(s.$el,s._mouseup,function(){setTimeout(function(){(function(){var ge,a=s.popups.get("text.edit");ge=s.el.tagName==="INPUT"?s.$el.attr("placeholder"):s.$el.text(),a.find("input").val(ge).trigger("change"),s.popups.setContainer("text.edit",s.$sc),s.popups.show("text.edit",s.$el.offset().left+s.$el.outerWidth()/2,s.$el.offset().top+s.$el.outerHeight(),s.$el.outerHeight())})()},10)})}return{_init:function(){s.opts.editInPopup&&(function(){var a={edit:'<div id="fr-text-edit-'.concat(s.id,'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="').concat(s.language.translate("Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">').concat(s.language.translate("Update"),"</button></div></div>")};s.popups.create("text.edit",a)}(),b())},update:function(){var ge=s.popups.get("text.edit").find("input").val();ge.length===0&&(ge=s.opts.placeholderText),s.el.tagName==="INPUT"?s.$el.attr("placeholder",ge):s.$el.text(ge),s.events.trigger("contentChanged"),s.popups.hide("text.edit")}}},x.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.editInPopup.update()}}),Object.assign(x.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(x.DEFAULTS,{emoticonsSet:[{id:"people",name:"Smileys & People",code:"1f600",emoticons:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning Face with Smiling Eyes"},{code:"1f602",desc:"Face with Tears of Joy"},{code:"1f603",desc:"Smiling Face with Open Mouth"},{code:"1f604",desc:"Smiling Face with Open Mouth and Smiling Eyes"},{code:"1f605",desc:"Smiling Face with Open Mouth and Cold Sweat"},{code:"1f606",desc:"Smiling Face with Open Mouth and Tightly-Closed Eyes"},{code:"1f609",desc:"Winking Face"},{code:"1f60a",desc:"Smiling Face with Smiling Eyes"},{code:"1f608",desc:"Face Savouring Delicious Food"},{code:"1f60e",desc:"Smiling Face with Sunglasses"},{code:"1f60d",desc:"Smiling Face with Heart-Shaped Eyes"},{code:"1f618",desc:"Face Throwing a Kiss"},{code:"1f617",desc:"Kissing Face"},{code:"1f619",desc:"Kissing Face with Smiling Eyes"},{code:"1f61a",desc:"Kissing Face with Closed Eyes"},{code:"263a",desc:"White Smiling Face"},{code:"1f642",desc:"Slightly Smiling Face"},{code:"1f610",desc:"Neutral Face"},{code:"1f611",desc:"Expressionless Face"},{code:"1f636",desc:"Face Without Mouth"},{code:"1f60f",desc:"Smirking Face"},{code:"1f623",desc:"Persevering Face"},{code:"1f625",desc:"Disappointed but Relieved Face"},{code:"1f62e",desc:"Face with Open Mouth"},{code:"1f62f",desc:"Hushed Face"},{code:"1f62a",desc:"Sleepy Face"},{code:"1f62b",desc:"Tired Face"},{code:"1f634",desc:"Sleeping Face"},{code:"1f60c",desc:"Relieved Face"},{code:"1f61b",desc:"Face with Stuck-out Tongue"},{code:"1f61c",desc:"Face with Stuck-out Tongue and Winking Eye"},{code:"1f61d",desc:"Face with Stuck-out Tongue and Tightly-Closed Eyes"},{code:"1f612",desc:"Unamused Face"},{code:"1f613",desc:"Face with Cold Sweat"},{code:"1f613",desc:"Face with Cold Sweat"},{code:"1f614",desc:"Pensive Face"},{code:"1f615",desc:"Confused Face"},{code:"1f632",desc:"Astonished  Face"},{code:"1f616",desc:"Confounded Face"},{code:"1f61e",desc:"Disappointed Face"},{code:"1f61f",desc:"Worried Face"},{code:"1f624",desc:"Face with Look of Triumph"},{code:"1f622",desc:"Crying Face"},{code:"1f62d",desc:"Loudly Crying Face"},{code:"1f626",desc:"Frowning Face with Open Mouth"},{code:"1f627",desc:"Anguished Face"},{code:"1f628",desc:"Fearful Face"},{code:"1f629",desc:"Weary Face"},{code:"1f62c",desc:"Grimacing Face"},{code:"1f630",desc:"Face with Open Mouth and Cold Sweat"},{code:"1f631",desc:"Face Screaming in Fear"},{code:"1f633",desc:"Flushed Face"},{code:"1f635",desc:"Dizzy Face"},{code:"1f621",desc:"Pouting Face"},{code:"1f620",desc:"Angry Face"},{code:"1f637",desc:"Face with Medical Mask"},{code:"1f607",desc:"Smiling Face with Halo"},{code:"1f608",desc:"Smiling Face with Horns"},{code:"1f47f",desc:"Imp"},{code:"1f479",desc:"Japanese Ogre"},{code:"1f47a",desc:"Japanese Goblin"},{code:"1f480",desc:"Skull"},{code:"1f47b",desc:"Ghost"},{code:"1f47d",desc:"Extraterrestrial Alien"},{code:"1f47e",desc:"Alien Monster"},{code:"1f4a9",desc:"Pile of Poo"},{code:"1f63a",desc:"Smiling Cat Face with Open Mouth"},{code:"1f638",desc:"Grinning Cat Face with Smiling Eyes"},{code:"1f639",desc:"Cat Face with Tears of Joy"},{code:"1f63b",desc:"Smiling Cat Face with Heart-Shaped Eyes"},{code:"1f63c",desc:"Cat Face with Wry Smile"},{code:"1f63d",desc:"Kissing Cat Face with Closed Eyes"},{code:"1f640",desc:"Weary Cat Face"},{code:"1f63f",desc:"Crying Cat Face"},{code:"1f63e",desc:"Pouting Cat Face"},{code:"1f648",desc:"See-No-Evil Monkey"},{code:"1f649",desc:"Hear-No-Evil Monkey"},{code:"1f64a",desc:"Speak-No-Evil Monkey"},{code:"1f476",desc:"Baby"},{code:"1f466",desc:"Boy"},{code:"1f467",desc:"Girl"},{code:"1f468",desc:"Man"},{code:"1f469",desc:"Woman"},{code:"1f474",desc:"Older Man"},{code:"1f475",desc:"Older Woman"},{code:"1f46e",desc:"Police Officer"},{code:"1f482",desc:" Guardsman"},{code:"1f477",desc:" Construction Worker"},{code:"1f478",desc:"Princess"},{code:"1f473",desc:"Man with Turban"},{code:"1f472",desc:"Man with Gua Pi Mao"},{code:"1f471",desc:"Person with Blond Hair"},{code:"1f470",desc:"Bride with Veil"},{code:"1f47c",desc:"Baby Angel"},{code:"1f385",desc:"Father Christmas"},{code:"1f64e",desc:"Person with Pouting Face"},{code:"1f645",desc:"Face with No Good Gesture"},{code:"1f646",desc:"Face with Ok Gesture"},{code:"1f481",desc:"Information Desk Person"},{code:"1f64b",desc:"Happy Person Raising One Hand"},{code:"1f647",desc:"Person Bowing Deeply"},{code:"1f486",desc:"Face Massage"},{code:"1f487",desc:"Haircut"},{code:"1f6b6",desc:"Pedestrian"},{code:"1f3c3",desc:"Runner"},{code:"1f483",desc:"Dancer"},{code:"1f46f",desc:"Woman with Bunny Ears"},{code:"1f6c0",desc:"Bath"},{code:"1f464",desc:"Bust in Silhouette"},{code:"1f465",desc:"Busts in Silhouette"},{code:"1f3c7",desc:"Horse Racing"},{code:"1f3c2",desc:" Snowboarder"},{code:"1f3c4",desc:" Surfer"},{code:"1f6a3",desc:" Rowboat"},{code:"1f3ca",desc:" Swimmer"},{code:"1f6b4",desc:" Bicyclist"},{code:"1f6b5",desc:"Mountain Bicyclist"},{code:"1f46b",desc:" Man and Woman Holding Hands"},{code:"1f46c",desc:"Two Men Holding Hands"},{code:"1f46d",desc:"Two Women Holding Hands"},{code:"1f48f",desc:"Kiss"},{code:"1f468-2764-1f48b-1f468",uCode:"👨‍❤️‍💋‍👨",desc:"Man Kiss Man"},{code:"1f469-2764-1f48b-1f469",uCode:"👩‍❤️‍👩",desc:"Woman Kiss Woman"},{code:"1f491",desc:"Couple with Heart"},{code:"1f468-2764-1f468",uCode:"👨‍❤️‍👨",desc:"Man Heart Man"},{code:"1f469-2764-1f469",uCode:"👩‍❤️‍👩",desc:"Woman Heart Woman"},{code:"1f46a",desc:"Family"},{code:"1f468",desc:"Man Woman Boy"},{code:"1f468-1f469-1f467",desc:"Man Woman Girl"},{code:"1f468-1f469-1f467-1f466",desc:"Man Woman Girl Boy"},{code:"1f468-1f469-1f466-1f466",desc:"Man Woman Boy Boy"},{code:"1f468-1f469-1f467-1f467",desc:"Man Woman Girl Girl"},{code:"1f468-1f468-1f466",desc:"Man Man Boy"},{code:"1f468-1f468-1f467",desc:"Man Man Girl"},{code:"1f468-1f468-1f467-1f466",desc:"Man Man Girl Boy"},{code:"1f468-1f468-1f466-1f466",desc:"Man Man Boy Boy"},{code:"1f469-1f469-1f466",desc:"Woman Woman Boy"},{code:"1f469-1f469-1f467",desc:"Woman Woman Girl"},{code:"1f469-1f469-1f467-1f466",desc:"Woman Woman Girl Boy"},{code:"1f469-1f469-1f467-1f467",desc:"Woman Woman Girl Girl"},{code:"1f4aa",desc:"Flexed Biceps"},{code:"1f448",desc:"White Left Pointing Backhand Index"},{code:"1f449",desc:"White Right Pointing Backhand Index"},{code:"1f446",desc:"White Up Pointing Backhand Index"},{code:"1f447",desc:"White Down Pointing Backhand Index"},{code:"270c",desc:"Victory Hand"},{code:"270b",desc:"Raised Hand"},{code:"1f44c",desc:"Ok Hand Sign"},{code:"1f44d",desc:"Thumbs Up Sign"},{code:"1f44e",desc:"Thumbs Down Sign"},{code:"270a",desc:"Raised Fist"},{code:"1f44a",desc:"Fisted Hand Sign"},{code:"1f44b",desc:"Waving Hand Sign"},{code:"1f44f",desc:"Clapping Hands Sign"},{code:"1f450",desc:"Open  Hands Sign"},{code:"1f64c",desc:"Person Raising Both Hands in Celebration"},{code:"1f64f",desc:"Person with Folded Hands"},{code:"1f485",desc:"Nail Polish"},{code:"1f442",desc:"Ear"},{code:"1f443",desc:"Nose"},{code:"1f463",desc:"Footprints"},{code:"1f440",desc:"Eyes"},{code:"1f445",desc:"Tongue"},{code:"1f444",desc:"Mouth"},{code:"1f48b",desc:"Kiss Mark"},{code:"1f498",desc:"Heart with Arrow"},{code:"2764",desc:"Heavy Black Heart"},{code:"1f493",desc:"Heavy Black Heart"},{code:"1f494",desc:"Broken Heart"},{code:"1f495",desc:"Two Hearts"},{code:"1f496",desc:"Sparkling Hearts"},{code:"1f497",desc:"Growing Hearts"},{code:"1f499",desc:"Blue Heart"},{code:"1f49a",desc:"Green Heart"},{code:"1f49b",desc:"Yellow Heart"},{code:"1f49c",desc:"Purple Heart"},{code:"1f49d",desc:"Heart with Ribbon"},{code:"1f49e",desc:"Revolving Hearts"},{code:"1f49f",desc:"Heart Decoration"},{code:"1f48c",desc:"Love Letter"},{code:"1f4a4",desc:"Sleeping Symbol"},{code:"1f4a2",desc:"Anger Symbol"},{code:"1f4a3",desc:"Bomb"},{code:"1f4a5",desc:"Collision Symbol"},{code:"1f4a6",desc:"Splashing Sweat Symbol"},{code:"1f4a8",desc:"Dash Symbol"},{code:"1f4ab",desc:"Dizzy Symbol"},{code:"1f4ab",desc:"Dizzy Symbol"},{code:"1f4ac",desc:"Speech Balloon"},{code:"1f4ad",desc:"Thought Balloon"},{code:"1f453",desc:"Eyeglasses"},{code:"1f454",desc:"Necktie"},{code:"1f455",desc:"T-Shirt"},{code:"1f456",desc:"Jeans"},{code:"1f457",desc:"Dress"},{code:"1f458",desc:"Kimono"},{code:"1f459",desc:"Bikini"},{code:"1f45a",desc:"Womans Clothes"},{code:"1f45b",desc:"Purse"},{code:"1f45c",desc:"Handbag"},{code:"1f45d",desc:"Pouch"},{code:"1f392",desc:"School Satchel"},{code:"1f45e",desc:"Mans Shoe"},{code:"1f45f",desc:"Athletic Shoe"},{code:"1f460",desc:"High-Heeled Shoe"},{code:"1f461",desc:"Womans Sandal"},{code:"1f462",desc:"Womans Boots"},{code:"1f451",desc:"Crown"},{code:"1f452",desc:"Womans Hat"},{code:"1f462",desc:"Top Hat"},{code:"1f393",desc:"Graduation Cap"},{code:"1f484",desc:"Lipstick"},{code:"1f48d",desc:"Ring"},{code:"1f48e",desc:"Gem Stone"}]},{id:"nature",name:"Animals & Nature",code:"1F435",emoticons:[{code:"1F435",desc:"Monkey Face"},{code:"1F412",desc:"Monkey"},{code:"1F436",desc:"Dog Face"},{code:"1F415",desc:"Dog"},{code:"1F429",desc:"Poodle"},{code:"1F43A",desc:"Wolf Face"},{code:"1F431",desc:"Cat Face"},{code:"1F408",desc:"Cat"},{code:"1F42F",desc:"Tiger Face"},{code:"1F405",desc:"Tiger"},{code:"1F406",desc:"Leopard"},{code:"1F434",desc:"Horse Face"},{code:"1F40E",desc:"Horse"},{code:"1F42E",desc:"Cow Face"},{code:"1F402",desc:"Ox"},{code:"1F403",desc:"Water Buffalo"},{code:"1F404",desc:"Cow"},{code:"1F437",desc:"Pig Face"},{code:"1F416",desc:"Pig"},{code:"1F417",desc:"Boar"},{code:"1F43D",desc:"Pig Nose"},{code:"1F40F",desc:"Ram"},{code:"1F411",desc:"Sheep"},{code:"1F410",desc:"Goat"},{code:"1F42A",desc:"Dromedary Camel"},{code:"1F42B",desc:"Bactrian Camel"},{code:"1F418",desc:"Elephant"},{code:"1F42D",desc:"Mouse Face"},{code:"1F401",desc:"Mouse"},{code:"1F400",desc:"Rat"},{code:"1F439",desc:"Hamster Face"},{code:"1F430",desc:"Rabbit Face"},{code:"1F407",desc:"Rabbit"},{code:"1F43B",desc:"Bear Face"},{code:"1F428",desc:"Koala"},{code:"1F43C",desc:"Panda Face"},{code:"1F43E",desc:"Paw Prints"},{code:"1F414",desc:"Chicken"},{code:"1F413",desc:"Rooster"},{code:"1F423",desc:"Hatching Chick"},{code:"1F424",desc:"Baby Chick"},{code:"1F425",desc:"Front-Facing Baby Chick"},{code:"1F426",desc:"Bird"},{code:"1F427",desc:"Penguin"},{code:"1F438",desc:"Frog Face"},{code:"1F40A",desc:"Crocodile"},{code:"1F422",desc:"Turtle"},{code:"1F40D",desc:"Snake"},{code:"1F432",desc:"Dragon Face"},{code:"1F409",desc:"Dragon"},{code:"1F433",desc:"Spouting Whale"},{code:"1F40B",desc:"Whale"},{code:"1F42C",desc:"Dolphin"},{code:"1F41F",desc:"Fish"},{code:"1F420",desc:"Tropical Fish"},{code:"1F421",desc:"Blowfish"},{code:"1F419",desc:"Octopus"},{code:"1F41A",desc:"Spiral Shell"},{code:"1F40C",desc:"Snail"},{code:"1F41B",desc:"Bug"},{code:"1F41C",desc:"Ant"},{code:"1F41D",desc:"Honeybee"},{code:"1F41E",desc:"Lady Beetle"},{code:"1F490",desc:"Bouquet"},{code:"1F338",desc:"Cherry Blossom"},{code:"1F4AE",desc:"White Flower"},{code:"1F339",desc:"Rose"},{code:"1F33A",desc:"Hibiscus"},{code:"1F33B",desc:"Sunflower"},{code:"1F33C",desc:"Blossom"},{code:"1F337",desc:"Tulip"},{code:"1F331",desc:"Seedling"},{code:"1F332",desc:"Evergreen Tree"},{code:"1F333",desc:"Deciduous Tree"},{code:"1F334",desc:"Palm Tree"},{code:"1F335",desc:"Cactus"},{code:"1F33E",desc:"Ear of Rice"},{code:"1F33F",desc:"Herb"},{code:"2618",desc:"Four Leaf Clover"},{code:"1F341",desc:"Maple Leaf"},{code:"1F342",desc:"Fallen Leaf"},{code:"1F343",desc:"Leaf Fluttering in Wind"}]},{id:"foods",name:"Food & Drink",code:"1F347",emoticons:[{code:"1F347",desc:"Grapes"},{code:"1F348",desc:"Melon"},{code:"1F349",desc:"Watermelon"},{code:"1F34A",desc:"Tangerine"},{code:"1F34B",desc:"Lemon"},{code:"1F34C",desc:"Banana"},{code:"1F34D",desc:"Pineapple"},{code:"1F34E",desc:"Red Apple"},{code:"1F34F",desc:"Green Apple"},{code:"1F350",desc:"Pear"},{code:"1F351",desc:"Peach"},{code:"1F352",desc:"Cherries"},{code:"1F353",desc:"Strawberry"},{code:"1F345",desc:"Tomato"},{code:"1F346",desc:"Aubergine"},{code:"1F33D",desc:"Ear of Maize"},{code:"1F344",desc:"Mushroom"},{code:"1F330",desc:"Chestnut"},{code:"1F35E",desc:"Bread"},{code:"1F356",desc:"Meat on Bone"},{code:"1F357",desc:"Poultry Leg"},{code:"1F354",desc:"Hamburger"},{code:"1F35F",desc:"French Fries"},{code:"1F355",desc:"Slice of Pizza"},{code:"1F373",desc:"Cooking"},{code:"1F372",desc:"Pot of Food"},{code:"1F371",desc:"Bento Box"},{code:"1F358",desc:"Rice Cracker"},{code:"1F359",desc:"Rice Ball"},{code:"1F35A",desc:"Cooked Rice"},{code:"1F35B",desc:"Curry and Rice"},{code:"1F35C",desc:"Steaming Bowl"},{code:"1F35D",desc:"Spaghetti"},{code:"1F360",desc:"Roasted Sweet Potato"},{code:"1F362",desc:"Oden"},{code:"1F363",desc:"Sushi"},{code:"1F364",desc:"Fried Shrimp"},{code:"1F365",desc:"Fish Cake with Swirl Design"},{code:"1F361",desc:"Dango"},{code:"1F366",desc:"Soft Ice Cream"},{code:"1F367",desc:"Shaved Ice"},{code:"1F368",desc:"Ice Cream"},{code:"1F369",desc:"Doughnut"},{code:"1F36A",desc:"Cookie"},{code:"1F382",desc:"Birthday Cake"},{code:"1F370",desc:"Shortcake"},{code:"1F36B",desc:"Chocolate Bar"},{code:"1F36C",desc:"Candy"},{code:"1F36D",desc:"Lollipop"},{code:"1F36E",desc:"Custard"},{code:"1F36F",desc:"Honey Pot"},{code:"1F37C",desc:"Baby Bottle"},{code:"2615",desc:"Hot Beverage"},{code:"1F375",desc:"Teacup Without Handle"},{code:"1F376",desc:"Sake Bottle and Cup"},{code:"1F377",desc:"Wine Glass"},{code:"1F378",desc:"Cocktail Glass"},{code:"1F379",desc:"Tropical Drink"},{code:"1F37A",desc:"Beer Mug"},{code:"1F37B",desc:"Clinking Beer Mugs"},{code:"1F374",desc:"Fork and Knife"},{code:"1F52A",desc:"Hocho"}]},{id:"activity",name:"Activities",code:"1f383",emoticons:[{code:"1f383",desc:" Jack-O-Lantern"},{code:"1f384",desc:"Christmas Tree"},{code:"1f386",desc:" Fireworks"},{code:"1f387",desc:"Firework Sparkler"},{code:"2728",desc:" Sparkles"},{code:"1f388",desc:"Balloon"},{code:"1f389",desc:"Party Popper"},{code:"1f38a",desc:"Confetti Ball"},{code:"1f38b",desc:"Tanabata Tree"},{code:"1f38d",desc:"Pine Decoration"},{code:"1f38e",desc:"Japanese Dolls"},{code:"1f38f",desc:"Carp Streamer"},{code:"1f390",desc:"Wind Chime"},{code:"1f391",desc:"Moon Viewing Ceremony"},{code:"1f380",desc:"Ribbon"},{code:"1f381",desc:"Wrapped Present"},{code:"1f3ab",desc:"Ticket"},{code:"1f3c6",desc:"Trophy"},{code:"1f388",desc:"Balloon"},{code:"26bd",desc:"Soccer Ball"},{code:"26be",desc:"Baseball"},{code:"1f3c0",desc:"Basketball and Hoop"},{code:"1f3c8",desc:"American Football"},{code:"1f3c9",desc:"Rugby Football"},{code:"1f3be",desc:"Tennis Racquet and Ball"},{code:"1f3b1",desc:"Billiards"},{code:"1f3b3",desc:"Bowling"},{code:"1f3af",desc:"Direct Hit"},{code:"26f3",desc:"Flag in Hole"},{code:"1f3a3",desc:"Fishing Pole and Fish"},{code:"1f3bd",desc:"Running Shirt with Sash"},{code:"1f3bf",desc:"Ski and Ski Boot"},{code:"1f3ae",desc:"Video Game"},{code:"1f3b2",desc:"Game Die"},{code:"2660",desc:"Black Spade Suit"},{code:"2665",desc:"Black Heart SuiT"},{code:"2666",desc:"Black Diamond Suit"},{code:"2663",desc:"Black Club Suit"},{code:"1f0cf",desc:"Playing Card Black Joker"},{code:"1f004",desc:"Mahjong Tile Red Dragon"},{code:"1f3b4",desc:"Flower Playing Cards"}]},{id:"places",name:"Travel & Places",code:"1f30d",emoticons:[{code:"1f30d",desc:"Earth Globe Europe-Africa"},{code:"1f30e",desc:"Earth Globe Americas"},{code:"1f30f",desc:"Earth Globe Asia-Australia"},{code:"1f310",desc:"Globe with Meridians"},{code:"1f5fe",desc:"Silhouette of Japan"},{code:"1f30b",desc:"Volcano"},{code:"1f5fb",desc:"Mount Fuji"},{code:"1f3e0",desc:"House Building"},{code:"1f3e1",desc:"House with Garden"},{code:"1f3e2",desc:"Office Building"},{code:"1f3e3",desc:"Japanese Post Office"},{code:"1f3e4",desc:"European Post Office"},{code:"1f3e5",desc:"Hospital"},{code:"1f3e6",desc:"Bank"},{code:"1f3e8",desc:"Hotel"},{code:"1f3e9",desc:"Love Hotel"},{code:"1f3ea",desc:"Convenience Store"},{code:"1f3eb",desc:"School"},{code:"1f3ec",desc:"Department Store"},{code:"1f3ed",desc:"Factory"},{code:"1f3ef",desc:"Japanese Castle"},{code:"1f3f0",desc:"European Castle"},{code:"1f492",desc:"Wedding"},{code:"1f5fc",desc:"Tokyo Tower"},{code:"1f5fd",desc:"Statue of Liberty"},{code:"26ea",desc:"Church"},{code:"26f2",desc:"Fountain"},{code:"26fa",desc:"Tent"},{code:"1f301",desc:"Foggy"},{code:"1f303",desc:"Night with Stars"},{code:"1f304",desc:"Sunrise over Mountains"},{code:"1f305",desc:"Sunrise"},{code:"1f306",desc:"Cityscape at Dusk"},{code:"1f307",desc:"Sunset over Buildings"},{code:"1f309",desc:"Bridge at Night"},{code:"2668",desc:"Hot Springs"},{code:"1f30c",desc:"Milky Way"},{code:"1f3a0",desc:"Carousel Horse"},{code:"1f3a1",desc:"Ferris Wheel"},{code:"1f3a2",desc:"Roller Coaster"},{code:"1f488",desc:"Barber Pole"},{code:"1f3aa",desc:"Circus Tent"},{code:"1f3ad",desc:"Performing Arts"},{code:"1f3a8",desc:"Artist Palette"},{code:"1f3b0",desc:"Slot Machine"},{code:"1f682",desc:"Steam Locomotive"},{code:"1f683",desc:"Railway Car"},{code:"1f684",desc:"High-Speed Train"},{code:"1f685",desc:"High-Speed Train with Bullet Nose"},{code:"1f686",desc:"Train"},{code:"1f687",desc:"Metro"},{code:"1f688",desc:"Light Rail"},{code:"1f689",desc:"Station"},{code:"1f68a",desc:"Tram"},{code:"1f69d",desc:"Monorail"},{code:"1f69e",desc:"Mountain Railway"},{code:"1f68b",desc:"Tram Car"},{code:"1f68c",desc:"Bus"},{code:"1f68d",desc:"Oncoming Bus"},{code:"1f68e",desc:"Trolleybus"},{code:"1f690",desc:"Minibus"},{code:"1f691",desc:"Ambulance"},{code:"1f692",desc:"Fire Engine"},{code:"1f693",desc:"Police Car"},{code:"1f694",desc:"Oncoming Police Car"},{code:"1f695",desc:"Taxi"},{code:"1f695",desc:"Oncoming Taxi"},{code:"1f697",desc:"Automobile"},{code:"1f698",desc:"Oncoming Automobile"},{code:"1f699",desc:"Recreational Vehicle"},{code:"1f69a",desc:"Delivery Truck"},{code:"1f69b",desc:"Articulated Lorry"},{code:"1f69c",desc:"Tractor"},{code:"1f6b2",desc:"Bicycle"},{code:"1f68f",desc:"Bus Stop"},{code:"26fd",desc:"Fuel Pump"},{code:"1f6a8",desc:"Police Cars Revolving Light"},{code:"1f6a5",desc:"Horizontal Traffic Light"},{code:"1f6a6",desc:"Vertical Traffic Light"},{code:"1f6a7",desc:"Construction Sign"},{code:"2693",desc:"Anchor"},{code:"26f5",desc:"Sailboat"},{code:"1f6a4",desc:"Speedboat"},{code:"1f6a2",desc:"Ship"},{code:"2708",desc:"Airplane"},{code:"1f4ba",desc:"Seat"},{code:"1f681",desc:"Helicopter"},{code:"1f69f",desc:"Suspension Railway"},{code:"1f6a0",desc:"Mountain Cableway"},{code:"1f6a1",desc:"Aerial Tramway"},{code:"1f680",desc:"Rocket"},{code:"1f6aa",desc:"Door"},{code:"1f6bd",desc:"Toilet"},{code:"1f6bf",desc:"Shower"},{code:"1f6c1",desc:"Bathtub"},{code:"231b",desc:"Hourglass"},{code:"23f3",desc:"Hourglass with Flowing Sand"},{code:"231a",desc:"Watch"},{code:"23f0",desc:"Alarm Clock"},{code:"1f55b",desc:"Clock Face Twelve Oclock"},{code:"1f567",desc:"Clock Face Twelve-Thirty"},{code:"1f550",desc:"Clock Face One Oclock"},{code:"1f55c",desc:"Clock Face One-thirty"},{code:"1f551",desc:"Clock Face Two Oclock"},{code:"1f55d",desc:"Clock Face Two-thirty"},{code:"1f552",desc:"Clock Face Three Oclock"},{code:"1f55e",desc:"Clock Face Three-thirty"},{code:"1f553",desc:"Clock Face Four Oclock"},{code:"1f55f",desc:"Clock Face Four-thirty"},{code:"1f554",desc:"Clock Face Five Oclock"},{code:"1f560",desc:"Clock Face Five-thirty"},{code:"1f555",desc:"Clock Face Six Oclock"},{code:"1f561",desc:"Clock Face Six-thirty"},{code:"1f556",desc:"Clock Face Seven Oclock"},{code:"1f562",desc:"Clock Face Seven-thirty"},{code:"1f557",desc:"Clock Face Eight Oclock"},{code:"1f563",desc:"Clock Face Eight-thirty"},{code:"1f558",desc:"Clock Face Nine Oclock"},{code:"1f564",desc:"Clock Face Nine-thirty"},{code:"1f559",desc:"Clock Face Ten Oclock"},{code:"1f565",desc:"Clock Face Ten-thirty"},{code:"1f55a",desc:"Clock Face Eleven Oclock"},{code:"1f566",desc:"Clock Face Eleven-thirty"},{code:"1f311",desc:"New Moon Symbol"},{code:"1f312",desc:"Waxing Crescent Moon Symbol"},{code:"1f313",desc:"First Quarter Moon Symbol"},{code:"1f314",desc:"Waxing Gibbous Moon Symbol"},{code:"1f315",desc:"Full Moon Symbol"},{code:"1f316",desc:"Waning Gibbous Moon Symbol"},{code:"1f317",desc:"Last Quarter Moon Symbol"},{code:"1f318",desc:"Waning Crescent Moon Symbol"},{code:"1f319",desc:"Crescent Moon"},{code:"1f31a",desc:"New Moon with Face"},{code:"1f31b",desc:"First Quarter Moon with Face"},{code:"1f31c",desc:"Last Quarter Moon with Face"},{code:"2600",desc:"Black Sun with Rays"},{code:"1f31d",desc:"Full Moon with Face"},{code:"1f31e",desc:"Sun with Face"},{code:"2b50",desc:"White Medium Star"},{code:"1f31f",desc:"Glowing Star"},{code:"1f320",desc:"Shooting Star"},{code:"2601",desc:"Cloud"},{code:"26c5",desc:"Sun Behind Cloud"},{code:"1f300",desc:"Cyclone"},{code:"1f308",desc:"Rainbow"},{code:"1f302",desc:"Closed Umbrella"},{code:"2614",desc:"Umbrella with Rain Drops"},{code:"26a1",desc:"High Voltage Sign"},{code:"2744",desc:"Snowflake"},{code:"2603",desc:"Snowman Without Snow"},{code:"1f525",desc:"Fire"},{code:"1f4a7",desc:"Droplet"},{code:"1F30A",desc:"Water Wave"}]},{id:"objects",name:"Objects",code:"1F507",emoticons:[{code:"1F507",desc:"Speaker with Cancellation Stroke"},{code:"1F508",desc:"Speaker"},{code:"1F509",desc:"Speaker with One Sound Wave"},{code:"1F50A",desc:"Speaker with Three Sound Wave"},{code:"1F4E2",desc:"Public Address Loudspeaker"},{code:"1F4E3",desc:"Cheering Megaphone"},{code:"1F4EF",desc:"Postal Horn"},{code:"1F514",desc:"Bell"},{code:"1F515",desc:"Bell with Cancellation Stroke"},{code:"1F3BC",desc:"Musical Score"},{code:"1F3B5",desc:"Musical Note"},{code:"1F3B6",desc:"Multiple Musical Notes"},{code:"1F3A4",desc:"Microphone"},{code:"1F3A7",desc:"Headphone"},{code:"1F4FB",desc:"Radio"},{code:"1F3B7",desc:"Saxophone"},{code:"1F3B8",desc:"Guitar"},{code:"1F3B9",desc:"Musical Keyboard"},{code:"1F3BA",desc:"Trumpet"},{code:"1F3BB",desc:"Violin"},{code:"1F4F1",desc:"Mobile Phone"},{code:"1F4F2",desc:"Mobile Phone with Rightwards Arrow at Left"},{code:"260E",desc:"Black Telephone"},{code:"1F4DE",desc:"Telephone Receiver"},{code:"1F4DF",desc:"Pager"},{code:"1F4E0",desc:"Fax Machine"},{code:"1F50B",desc:"Battery"},{code:"1F50C",desc:"Electric Plug"},{code:"1F4BB",desc:"Personal Computer"},{code:"1F4BD",desc:"Minidisc"},{code:"1F4BE",desc:"Floppy Disk"},{code:"1F4BF",desc:"Optical Disk"},{code:"1F4C0",desc:"Dvd"},{code:"1F3A5",desc:"Movie Camera"},{code:"1F3AC",desc:"Clapper Board"},{code:"1F4FA",desc:"Television"},{code:"1F4F7",desc:"Camera"},{code:"1F4F9",desc:"Video Camera"},{code:"1F4FC",desc:"Videocassette"},{code:"1F50D",desc:"Left-Pointing Magnifying Glass"},{code:"1F50E",desc:"Right-Pointing Magnifying Glass"},{code:"1F52C",desc:"Microscope"},{code:"1F52D",desc:"Telelscope"},{code:"1F4E1",desc:"Satellite Antenna"},{code:"1F4A1",desc:"Electric Light Bulb"},{code:"1F526",desc:"Electric Torch"},{code:"1F3EE",desc:"Izakaya Lantern"},{code:"1F4D4",desc:"Notebook with Decorative Cover"},{code:"1F4D5",desc:"Closed Book"},{code:"1F4D6",desc:"Open Book"},{code:"1F4D7",desc:"Green Book"},{code:"1F4D8",desc:"Blue Book"},{code:"1F4D9",desc:"Orange Book"},{code:"1F4DA",desc:"Books"},{code:"1F4D3",desc:"Notebook"},{code:"1F4D2",desc:"Ledger"},{code:"1F4C3",desc:"Curl"},{code:"1F4DC",desc:"Scroll"},{code:"1F4C4",desc:"Page Facing Up"},{code:"1F4F0",desc:"Newspaper"},{code:"1F4D1",desc:"Bookmark Tabs"},{code:"1F516",desc:"Bookmark"},{code:"1F4B0",desc:"Money Bag"},{code:"1F4B4",desc:"Banknote with Yen Sign"},{code:"1F4B5",desc:"Banknote with Dollar Sign"},{code:"1F4B6",desc:"Banknote with Euro Sign"},{code:"1F4B7",desc:"Banknote with Pound Sign"},{code:"1F4B8",desc:"Money with Wings"},{code:"1F4B3",desc:"Credit Card"},{code:"1F4B9",desc:"Chart with Upwards Trend and Yen Sign"},{code:"1F4B1",desc:"Currency Exchange"},{code:"1F4B2",desc:"Heavy Dollar Sign"},{code:"2709",desc:"Envelope"},{code:"1F4E7",desc:"E-Mail Symbol"},{code:"1F4E8",desc:"Incoming Envelope"},{code:"1F4E9",desc:"Envelope with Downwards Arrow Above"},{code:"1F4E4",desc:"Outbox Tray"},{code:"1F4E5",desc:"Inbox Tray"},{code:"1F4E6",desc:"Package"},{code:"1F4BE",desc:"Closed Mailbox with Raised Flag"},{code:"1F4EA",desc:"Closed Mailbox with Lowered Flag"},{code:"1F4EC",desc:"Open Mailbox with Raised Flag"},{code:"1F4ED",desc:"Open Mailbox with Lowered Flag"},{code:"1F5F3",desc:"Postbox"},{code:"270F",desc:"Pencil"},{code:"2712",desc:"Black Nib"},{code:"1F4DD",desc:"Memo"},{code:"1F4BC",desc:"Briefcase"},{code:"1F4C1",desc:"File Folder"},{code:"1F4C2",desc:"Open File Folder"},{code:"1F4C5",desc:"Calender"},{code:"1F4C6",desc:"Tear-off Calender"},{code:"1F4C7",desc:"Card Index"},{code:"1F4C8",desc:"Chart with Upwards Trend"},{code:"1F4C9",desc:"Chart with Downwards Trend"},{code:"1F4CA",desc:"Bar Chart"},{code:"1F4CB",desc:"Clipboard"},{code:"1F4CC",desc:"Pushpin"},{code:"1F4CD",desc:"Round Pushpin"},{code:"1F4CE",desc:"Paperclip"},{code:"1F4CF",desc:"Straight Ruler"},{code:"1F4D0",desc:"Triangular Ruler"},{code:"2702",desc:"Black Scissors"},{code:"1F512",desc:"Lock"},{code:"1F513",desc:"Open Lock"},{code:"1F50F",desc:"Lock with Ink Pen"},{code:"1F510",desc:"Closed Lock with Key"},{code:"1F511",desc:"Key"},{code:"1F528",desc:"Hammer"},{code:"1F52B",desc:"Pistol"},{code:"1F527",desc:"Wrench"},{code:"1F529",desc:"Nut and Bolt"},{code:"1F517",desc:"Link Symbol"},{code:"1F489",desc:"Syringe"},{code:"1F48A",desc:"Pill"},{code:"1F6AC",desc:"Smoking Symbol"},{code:"1F5FF",desc:"Moyai"},{code:"1F52E",desc:"Crystal Ball"}]},{id:"symbols",name:"Symbols",code:"1F3E7",emoticons:[{code:"1F3E7",desc:"Automated Teller Machine"},{code:"1F6AE",desc:"Put Litter in Its Place Symbol"},{code:"1F6B0",desc:"Potable Water Symbol"},{code:"267F",desc:"Wheelchair Symbol"},{code:"1F6B9",desc:"Mens Symbol"},{code:"1F6BA",desc:"Womens Symbol"},{code:"1F6BB",desc:"Restroom"},{code:"1F6BC",desc:"Baby Symbol"},{code:"1F6BE",desc:"Water Closet"},{code:"1F6C2",desc:"Passport Control"},{code:"1F6C3",desc:"Customs"},{code:"1F6C4",desc:"Baggage Claim"},{code:"1F6C5",desc:"Left Luggage"},{code:"26A0",desc:"Warning Sign"},{code:"1F6B8",desc:"Children Crossing"},{code:"26D4",desc:"No Entry"},{code:"1F6AB",desc:"No Entry Sign"},{code:"1F6B3",desc:"No Bicycles"},{code:"1F6AD",desc:"No Smoking Symbol"},{code:"1F6AF",desc:"Do Not Litter Symbol"},{code:"1F6B1",desc:"Non-Potable Water Symbol"},{code:"1F6B7",desc:"No Pedestrians"},{code:"1F4F5",desc:"No Mobile Phones"},{code:"1F51E",desc:"No One Under Eighteen Symbol"},{code:"2B06",desc:"Upwards Black Arrow"},{code:"2197",desc:"North East Arrow"},{code:"27A1",desc:"Black Rightwards Arrow"},{code:"2198",desc:"South East Arrow"},{code:"2B07",desc:"Downwards Black Arrow"},{code:"2199",desc:"South West Arrow"},{code:"2B05",desc:"Leftwards Black Arrow"},{code:"2196",desc:"North West Arrow"},{code:"2195",desc:"Up Down Arrow"},{code:"2194",desc:"Left Right Arrow"},{code:"21A9",desc:"Leftwards Arrow with Hook"},{code:"21AA",desc:"Rightwards Arrow with Hook"},{code:"2934",desc:"Arrow Pointing Rightwards Then Curving Upwards"},{code:"2935",desc:"Arrow Pointing Rightwards Then Curving Downwards"},{code:"1F503",desc:"Clockwise Downwards and Upwards Open Circle Arrows"},{code:"1F504",desc:"Anticlockwise Downwards and Upwards Open Circle Arrows"},{code:"1F519",desc:"Back with Leftwards Arrow Above"},{code:"1F51A",desc:"End with Leftwards Arrow Above"},{code:"1F51B",desc:"On with Exclamation Mark with Left Right Arrow Above"},{code:"1F51C",desc:"Soon with Rightwards Arrow Above"},{code:"1F51D",desc:"Top with Upwards Arrow Above"},{code:"1F52F",desc:"Six Pointed Star with Middle Dot"},{code:"2648",desc:"Aries"},{code:"2649",desc:"Taurus"},{code:"264A",desc:"Gemini"},{code:"264B",desc:"Cancer"},{code:"264C",desc:"Leo"},{code:"264D",desc:"Virgo"},{code:"264E",desc:"Libra"},{code:"264F",desc:"Scorpius"},{code:"2650",desc:"Sagittarius"},{code:"2651",desc:"Capricorn"},{code:"2652",desc:"Aquarius"},{code:"2653",desc:"Pisces"},{code:"26CE",desc:"Ophiuchus"},{code:"1F500",desc:"Twisted Rightwards Arrows"},{code:"1F501",desc:"Clockwise Rightwards and Leftwards Open Circle Arrows"},{code:"1F502",desc:"Clockwise Rightwards and Leftwards Open Circle Arrows with Circled One Overlay"},{code:"25B6",desc:"Black Right-Pointing Triangle"},{code:"23E9",desc:"Black Right-Pointing Double Triangle"},{code:"25C0",desc:"Black Left-Pointing Triangle"},{code:"23EA",desc:"Black Left-Pointing Double Triangle"},{code:"1F53C",desc:"Up-Pointing Small Red Triangle"},{code:"23EB",desc:"Black Up-Pointing Double Triangle"},{code:"1F53D",desc:"Down-Pointing Small Red Triangle"},{code:"23EC",desc:"Black Down-Pointing Double Triangle"},{code:"1F3A6",desc:"Cinema"},{code:"1F505",desc:"Low Brightness Symbol"},{code:"1F506",desc:"High Brightness Symbol"},{code:"1F4F6",desc:"Antenna with Bars"},{code:"1F4F3",desc:"Vibration Mode"},{code:"1F4F4",desc:"Mobile Phone off"},{code:"267B",desc:"Black Universal Recycling Symbol"},{code:"1F531",desc:"Trident Emblem"},{code:"1F4DB",desc:"Name Badge"},{code:"1F530",desc:"Japanese Symbol for Beginner"},{code:"2B55",desc:"Heavy Large Circle"},{code:"2705",desc:"White Heavy Check Mark"},{code:"2611",desc:"Ballot Box with Check"},{code:"2714",desc:"Heavy Check Mark"},{code:"2716",desc:"Heavy Multiplication X"},{code:"274C",desc:"Cross Mark"},{code:"274E",desc:"Negative Squared Cross Mark"},{code:"2795",desc:"Heavy Plus Sign"},{code:"2796",desc:"Heavy Minus Sign"},{code:"2797",desc:"Heavy Division Sign"},{code:"27B0",desc:"Curly Loop"},{code:"27BF",desc:"Double Curly Loop"},{code:"303D",desc:"Part Alternation Mark"},{code:"2733",desc:"Eight Spoked Asterisk"},{code:"2734",desc:"Eight Pointed Black Star"},{code:"2747",desc:"Sparkle"},{code:"203C",desc:"Double Exclamation Mark"},{code:"2049",desc:"Exclamation Question Mark"},{code:"2753",desc:"Black Question Mark Ornament"},{code:"2754",desc:"White Question Mark Ornament"},{code:"2755",desc:"White Exclamation Mark Ornament"},{code:"2757",desc:"Heavy Exclamation Mark Symbol"},{code:"3030",desc:"Wavy Dash"},{code:"2122",desc:"Trade Mark Sign"},{code:"1F51F",desc:"Keycap Ten"},{code:"1F4AF",desc:"Hundred Points Symbol"},{code:"1F520",desc:"Input Symbol for Latin Capital Letters"},{code:"1F521",desc:"Input Symbol for Latin Small Letters"},{code:"1F522",desc:"Input Symbol for Numbers"},{code:"1F523",desc:"Input Symbol for Symbols"},{code:"1F524",desc:"Input Symbol for Latin Letters"},{code:"1F170",desc:"Negative Squared Latin Capital Letter a"},{code:"1F18E",desc:"Negative Squared Ab"},{code:"1F171",desc:"Negative Squared Latin Capital Letter B"},{code:"1F191",desc:"Squared Cl"},{code:"1F192",desc:"Squared Cool"},{code:"1F193",desc:"Squared Free"},{code:"2139",desc:"Information Source"},{code:"1F194",desc:"Squared Id"},{code:"24C2",desc:"Circled Latin Capital Letter M"},{code:"1F195",desc:"Squared New"},{code:"1F196",desc:"Squared Ng"},{code:"1F17E",desc:"Negative Squared Latin Capital Letter O"},{code:"1F197",desc:"Squared Ok"},{code:"1F17F",desc:"Negative Squared Latin Capital Letter P"},{code:"1F198",desc:"Squared Sos"},{code:"1F199",desc:"Squared Up with Exclamation Mark"},{code:"1F19A",desc:"Squared Vs"},{code:"1F201",desc:"Squared Katakana Koko"},{code:"1F202",desc:"Squared Katakana Sa"},{code:"1F237",desc:"Squared Cjk Unified Ideograph-6708"},{code:"1F236",desc:"Squared Cjk Unified Ideograph-6709"},{code:"1F22F",desc:"Squared Cjk Unified Ideograph-6307"},{code:"1F250",desc:"Circled Ideograph Advantage"},{code:"1F239",desc:"Squared Cjk Unified Ideograph-5272"},{code:"1F21A",desc:"Squared Cjk Unified Ideograph-7121"},{code:"1F232",desc:"Squared Cjk Unified Ideograph-7981"},{code:"1F251",desc:"Circled Ideograph Accept"},{code:"1F238",desc:"Squared Cjk Unified Ideograph-7533"},{code:"1F234",desc:"Squared Cjk Unified Ideograph-5408"},{code:"1F233",desc:"Squared Cjk Unified Ideograph-7a7a"},{code:"3297",desc:"Circled Ideograph Congratulation"},{code:"3299",desc:"Circled Ideograph Secret"},{code:"1F23A",desc:"Squared Cjk Unified Ideograph-55b6"},{code:"1F235",desc:"Squared Cjk Unified Ideograph-6e80"},{code:"25AA",desc:"Black Small Square"},{code:"25AB",desc:"White Small Square"},{code:"25FB",desc:"White Medium Square"},{code:"25FC",desc:"Black Medium Square"},{code:"25FD",desc:"White Medium Small Square"},{code:"25FE",desc:"Black Medium Small Square"},{code:"2B1B",desc:"Black Large Square"},{code:"2B1C",desc:"White Large Square"},{code:"1F536",desc:"Large Orange Diamond"},{code:"1F537",desc:"Large Blue Diamond"},{code:"1F538",desc:"Small Orange Diamond"},{code:"1F539",desc:"Small Blue Diamond"},{code:"1F53A",desc:"Up-Pointing Red Triangle"},{code:"1F53B",desc:"Down-Pointing Red Triangle"},{code:"1F4A0",desc:"Diamond Shape with a Dot Inside"},{code:"1F518",desc:"Radio Button"},{code:"1F532",desc:"Black Square Button"},{code:"1F533",desc:"White Square Button"},{code:"26AA",desc:"Medium White Circle"},{code:"26AB",desc:"Medium Black Circle"},{code:"1F534",desc:"Large Red Circle"},{code:"1F535",desc:"Large Blue Circle"}]},{id:"flags",name:"Flags",code:"1F3C1",emoticons:[{code:"1f3c1",desc:"Chequered Flag"},{code:"1f1e8-1f1f3",desc:"China Flag"},{code:"1f38c",desc:"Crossed Flags"},{code:"1f1e9-1f1ea",desc:"Germany Flag"},{code:"1f1ea-1f1f8",desc:"Spain Flag"},{code:"1f1e6-1f1e8",desc:"Ascension Island Flag"},{code:"1f1e6-1f1e9",desc:"Andorra Flag"},{code:"1f1e6-1f1ea",desc:"United Arab Emirates Flag"},{code:"1f1e6-1f1eb",desc:"Afghanistan Flag"},{code:"1f1e6-1f1ec",desc:"Antigua & Barbuda Flag"},{code:"1f1e6-1f1ee",desc:"Anguilla Flag"},{code:"1f1e6-1f1f1",desc:"Albania Flag"},{code:"1f1e6-1f1f2",desc:"Armenia Flag"},{code:"1f1e6-1f1f4",desc:"Angola Flag"},{code:"1f1e6-1f1f6",desc:"Antarctica Flag"},{code:"1f1e6-1f1f7",desc:"Argentina Flag"},{code:"1f1e6-1f1f8",desc:"American Samoa Flag"},{code:"1f1e6-1f1f9",desc:"Austria Flag"},{code:"1f1e6-1f1fa",desc:"Australia Flag"},{code:"1f1e6-1f1fc",desc:"Aruba Flag"},{code:"1f1e6-1f1fd",desc:"Åland Islands Flag"},{code:"1f1e6-1f1ff",desc:"Azerbaijan Flag"},{code:"1f1e7-1f1e7",desc:"Barbados Flag"},{code:"1f1e7-1f1e9",desc:"Bangladesh Flag"},{code:"1f1e7-1f1ea",desc:"Belgium Flag"},{code:"1f1e7-1f1eb",desc:"Burkina Faso Flag"},{code:"1f1e7-1f1ec",desc:"Bulgaria Flag"},{code:"1f1e7-1f1ed",desc:"Bahrain Flag"},{code:"1f1e7-1f1ee",desc:"Burundi Flag"},{code:"1f1e7-1f1ef",desc:"Benin Flag"},{code:"1f1e7-1f1f1",desc:"St. Barthélemy Flag"},{code:"1f1e7-1f1f2",desc:"Bermuda Flag"},{code:"1f1e7-1f1f4",desc:"Bolivia Flag"},{code:"1f1e7-1f1f6",desc:"Caribbean Netherlands Flag"},{code:"1f1e7-1f1f7",desc:"Brazil Flag"},{code:"1f1e7-1f1f8",desc:"Bahamas Flag"},{code:"1f1e7-1f1f9",desc:"Bhutan Flag"},{code:"1f1e7-1f1fb",desc:"Bouvet Island Flag"},{code:"1f1e7-1f1fc",desc:"Botswana Flag"},{code:"1f1e7-1f1fe",desc:"Belarus Flag"},{code:"1f1e7-1f1ff",desc:"Belize Flag"},{code:"1f1e8-1f1e6",desc:"Canada Flag"},{code:"1f1e8-1f1e8",desc:"Cocos (keeling) Islands Flag"},{code:"1f1e8-1f1e9",desc:"Congo - Kinshasa Flag"},{code:"1f1e8-1f1eb",desc:"Central African Republic Flag"},{code:"1f1e8-1f1ec",desc:"Congo - Brazzaville Flag"},{code:"1f1e8-1f1ed",desc:"Switzerland Flag"},{code:"1f1e8-1f1ee",desc:"Côte D’ivoire Flag"},{code:"1f1e8-1f1f0",desc:"Cook Islands Flag"},{code:"1f1e8-1f1f1",desc:"Chile Flag"},{code:"1f1e8-1f1f2",desc:"Cameroon Flag"},{code:"1f1e8-1f1f4",desc:"Colombia Flag"},{code:"1f1e8-1f1f7",desc:"Costa Rica Flag"},{code:"1f1e8-1f1fa",desc:"Cuba Flag"},{code:"1f1e8-1f1fb",desc:"Cape Verde Flag"},{code:"1f1e8-1f1fc",desc:"Curaçao Flag"},{code:"1f1e8-1f1fd",desc:"Christmas Island Flag"},{code:"1f1e8-1f1fe",desc:"Cyprus Flag"},{code:"1f1e8-1f1ff",desc:'Czechia Flag"'},{code:"1f1e9-1f1ec",desc:"Diego Garcia Flag"},{code:"1f1e9-1f1ef",desc:"Djibouti Flag"},{code:"1f1e9-1f1f0",desc:"Denmark Flag"},{code:"1f1e9-1f1f2",desc:"Dominica Flag"},{code:"1f1e9-1f1f4",desc:"Dominican Republic Flag"},{code:"1f1e9-1f1ff",desc:"Algeria Flag"},{code:"1f1ea-1f1e6",desc:"Ceuta & Melilla Flag"},{code:"1f1ea-1f1e8",desc:"Ecuador Flag"},{code:"1f1ea-1f1ea",desc:"Estonia Flag"},{code:"1f1ea-1f1ec",desc:"Egypt Flag"},{code:"1f1ea-1f1ed",desc:"Western Sahara Flag"},{code:"1f1ea-1f1f7",desc:"Eritrea Flag"},{code:"1f1ea-1f1f9",desc:"Ethiopia Flag"},{code:"1f1ea-1f1fa",desc:"European Union Flag"},{code:"1f1eb-1f1ee",desc:"Finland Flag"},{code:"1f1eb-1f1ef",desc:"Fiji Flag"},{code:"1f1eb-1f1f0",desc:"Falkland Islands Flag"},{code:"1f1eb-1f1f2",desc:"Micronesia Flag"},{code:"1f1eb-1f1f4",desc:"Faroe Islands Flag"},{code:"1f1ec-1f1e6",desc:"Gabon Flag"},{code:"1f1ec-1f1e9",desc:"Grenada Flag"},{code:"1f1ec-1f1ea",desc:"Georgia Flag"},{code:"1f1ec-1f1eb",desc:"French Guiana Flag"},{code:"1f1ec-1f1ec",desc:"Guernsey Flag"},{code:"1f1ec-1f1ed",desc:"Ghana Flag"},{code:"1f1ec-1f1ee",desc:"Gibraltar Flag"},{code:"1f1ec-1f1f1",desc:"Greenland Flag"},{code:"1f1ec-1f1f2",desc:"Gambia Flag"},{code:"1f1ec-1f1f3",desc:"Guinea Flag"},{code:"1f1ec-1f1f5",desc:"Guadeloupe Flag"},{code:"1f1ec-1f1f6",desc:"Equatorial Guinea Flag"},{code:"1f1ec-1f1f7",desc:"Greece Flag"},{code:"1f1ec-1f1f8",desc:"South Georgia & South Sandwich Islands Flag"},{code:"1f1ec-1f1f9",desc:"Guatemala Flag"},{code:"1f1ec-1f1fa",desc:"Guam Flag"},{code:"1f1ec-1f1fc",desc:"Guinea-Bissau Flag"},{code:"1f1ec-1f1fe",desc:"Guyana Flag"},{code:"1f1ed-1f1f0",desc:"Hong Kong Sar China Flag"},{code:"1f1ed-1f1f2",desc:"Heard & Mcdonald Islands Flag"},{code:"1f1ed-1f1f3",desc:"Honduras Flag"},{code:"1f1ed-1f1f7",desc:"Croatia Flag"},{code:"1f1ed-1f1f9",desc:"Haiti Flag"},{code:"1f1ed-1f1fa",desc:"Hungary Flag"},{code:"1f1ee-1f1e8",desc:"Canary Islands Flag"},{code:"1f1ee-1f1e9",desc:"Indonesia Flag"},{code:"1f1ee-1f1ea",desc:"Ireland Flag"},{code:"1f1ee-1f1f1",desc:"Israel Flag"},{code:"1f1ee-1f1f2",desc:"Isle of Man Flag"},{code:"1f1ee-1f1f3",desc:"India Flag"},{code:"1f1ee-1f1f4",desc:"British Indian Ocean Territory Flag"},{code:"1f1ee-1f1f6",desc:"Iraq Flag"},{code:"1f1ee-1f1f7",desc:"Iran Flag"},{code:"1f1ee-1f1f8",desc:"Iceland Flag"},{code:"1f1ef-1f1ea",desc:"Jersey Flag"},{code:"1f1ef-1f1f2",desc:"Jamaica Flag"},{code:"1f1ef-1f1f4",desc:"Jordan Flag"},{code:"1f1f0-1f1ea",desc:"Kenya Flag"},{code:"1f1f0-1f1ec",desc:"Kyrgyzstan Flag"},{code:"1f1f0-1f1ed",desc:"Cambodia Flag"},{code:"1f1f0-1f1ee",desc:"Kiribati Flag"},{code:"1f1f0-1f1f2",desc:"Comoros Flag"},{code:"1f1f0-1f1f3",desc:"St. Kitts & Nevis Flag"},{code:"1f1f0-1f1f5",desc:"North Korea Flag"},{code:"1f1f0-1f1fc",desc:"Kuwait Flag"},{code:"1f1f0-1f1fe",desc:"Cayman Islands Flag"},{code:"1f1f0-1f1ff",desc:"Kazakhstan Flag"},{code:"1f1f1-1f1e6",desc:"Laos Flag"},{code:"1f1f1-1f1e7",desc:"Lebanon Flag"},{code:"1f1f1-1f1e8",desc:"St. Lucia Flag"},{code:"1f1f1-1f1ee",desc:"Liechtenstein Flag"},{code:"1f1f1-1f1f0",desc:"Sri Lanka Flag"},{code:"1f1f1-1f1f7",desc:"Liberia Flag"},{code:"1f1f1-1f1f8",desc:"Lesotho Flag"},{code:"1f1f1-1f1f9",desc:"Lithuania Flag"},{code:"1f1f1-1f1fa",desc:"Luxembourg Flag"},{code:"1f1f1-1f1fb",desc:"Latvia Flag"},{code:"1f1f1-1f1fe",desc:"Libya Flag"},{code:"1f1f2-1f1e6",desc:"Morocco Flag"},{code:"1f1f2-1f1e8",desc:"Monaco Flag"},{code:"1f1f2-1f1e9",desc:"Moldova Flag"},{code:"1f1f2-1f1ea",desc:"Montenegro Flag"},{code:"1f1f2-1f1eb",desc:"St. Martin Flag"},{code:"1f1f2-1f1ec",desc:"Madagascar Flag"},{code:"1f1f2-1f1ed",desc:"Marshall Islands Flag"},{code:"1f1f2-1f1f0",desc:"Macedonia Flag"},{code:"1f1f2-1f1f1",desc:"Mali Flag"},{code:"1f1f2-1f1f2",desc:"Myanmar (burma) Flag"},{code:"1f1f2-1f1f3",desc:"Mongolia Flag"},{code:"1f1f2-1f1f4",desc:"Macau Sar China Flag"},{code:"1f1f2-1f1f5",desc:"Northern Mariana Islands Flag"},{code:"1f1f2-1f1f6",desc:"Martinique Flag"},{code:"1f1f2-1f1f7",desc:"Mauritania Flag"},{code:"1f1f2-1f1f8",desc:"Montserrat Flag"},{code:"1f1f2-1f1f9",desc:"Malta Flag"},{code:"1f1f2-1f1fa",desc:"Mauritius Flag"},{code:"1f1f2-1f1fb",desc:"Maldives Flag"},{code:"1f1f2-1f1fc",desc:"Malawi Flag"},{code:"1f1f2-1f1fd",desc:"Mexico Flag"},{code:"1f1f2-1f1fe",desc:"Malaysia Flag"},{code:"1f1f2-1f1ff",desc:"Mozambique Flag"},{code:"1f1f3-1f1e6",desc:"Namibia Flag"},{code:"1f1f3-1f1e8",desc:"New Caledonia Flag"},{code:"1f1f3-1f1ea",desc:"Niger Flag"},{code:"1f1f3-1f1eb",desc:"Norfolk Island Flag"},{code:"1f1f3-1f1ec",desc:"Nigeria Flag"},{code:"1f1f3-1f1ee",desc:"Nicaragua Flag"},{code:"1f1f3-1f1f1",desc:"Netherlands Flag"},{code:"1f1f3-1f1f4",desc:"Norway Flag"},{code:"1f1f3-1f1f5",desc:"Nepal Flag"},{code:"1f1f3-1f1f7",desc:"Nauru Flag"},{code:"1f1f3-1f1fa",desc:"Niue Flag"},{code:"1f1f3-1f1ff",desc:"New Zealand Flag"},{code:"1f1f4-1f1f2",desc:"Oman Flag"},{code:"1f1f8-1f1ff",desc:"Swaziland Flag"},{code:"1f1f5-1f1e6",desc:"Panama Flag"},{code:"1f1f5-1f1ea",desc:"Peru Flag"},{code:"1f1f5-1f1eb",desc:"French Polynesia Flag"},{code:"1f1f5-1f1ec",desc:"Papua New Guinea Flag"},{code:"1f1f5-1f1ed",desc:"Philippines Flag"},{code:"1f1f5-1f1f0",desc:"Pakistan Flag"},{code:"1f1f5-1f1f1",desc:"Poland Flag"},{code:"1f1f5-1f1f2",desc:"St. Pierre & Miquelon  Flag"},{code:"1f1f5-1f1f3",desc:"Pitcairn Islands Flag"},{code:"1f1f5-1f1f7",desc:"Puerto Rico Flag"},{code:"1f1f5-1f1f8",desc:"Palestinian Territories Flag"},{code:"1f1f5-1f1f9",desc:"Portugal Flag"},{code:"1f1f5-1f1fc",desc:"Palau Flag"},{code:"1f1f5-1f1fe",desc:"Paraguay Flag"},{code:"1f1f6-1f1e6",desc:"Qatar Flag"},{code:"1f1f7-1f1ea",desc:"Réunion Flag"},{code:"1f1f7-1f1f4",desc:"Romania Flag"},{code:"1f1f7-1f1f8",desc:"Serbia Flag"},{code:"1f1f7-1f1fc",desc:"Rwanda Flag"},{code:"1f1f8-1f1e6",desc:"Saudi Arabia Flag"},{code:"1f1f8-1f1e7",desc:"Solomon Islands Flag"},{code:"1f1f8-1f1e8",desc:"Seychelles Flag"},{code:"1f1f8-1f1e9",desc:"Sudan Flag"},{code:"1f1f8-1f1ea",desc:"Sweden Flag"},{code:"1f1f8-1f1ec",desc:"Singapore Flag"},{code:"1f1f8-1f1ee",desc:"Slovenia Flag"},{code:"1f1f8-1f1ed",desc:"St. Helena  Flag"},{code:"1f1f8-1f1ef",desc:"Svalbard & Jan Mayen  Flag"},{code:"1f1f8-1f1f1",desc:"Sierra Leone Flag"},{code:"1f1f8-1f1f2",desc:"San Marino Flag"},{code:"1f1f8-1f1f3",desc:"Senegal Flag"},{code:"1f1f8-1f1f4",desc:"Somalia Flag"},{code:"1f1f8-1f1f7",desc:"Suriname Flag"},{code:"1f1f8-1f1f8",desc:"South Sudan  Flag"},{code:"1f1f8-1f1f9",desc:"São Tomé & Príncipe Flag"},{code:"1f1f8-1f1fb",desc:"El Salvador Flag"},{code:"1f1f8-1f1fd",desc:"Sint Maarten Flag"},{code:"1f1f8-1f1fe",desc:"Syria Flag"},{code:"1f1f9-1f1e6",desc:"Tristan Da Cunha Flag"},{code:"1f1f9-1f1e8",desc:"Turks & Caicos Islands  Flag"},{code:"1f1f9-1f1eb",desc:"French Southern Territories Flag"},{code:"1f1f9-1f1ec",desc:"Togo Flag"},{code:"1f1f9-1f1ed",desc:"Thailand Flag"},{code:"1f1f9-1f1ef",desc:"Tajikistan Flag"},{code:"1f1f9-1f1f0",desc:"Tokelau Flag"},{code:"1f1f9-1f1f1",desc:"Timor-Leste Flag"},{code:"1f1f9-1f1f2",desc:"Turkmenistan Flag"},{code:"1f1f9-1f1f3",desc:"Tunisia Flag"},{code:"1f1f9-1f1f4",desc:"Tonga Flag"},{code:"1f1f9-1f1f7",desc:"Turkey Flag"},{code:"1f1f9-1f1f9",desc:"Trinidad & Tobago Flag"},{code:"1f1f9-1f1fb",desc:"Tuvalu Flag"},{code:"1f1f9-1f1fc",desc:"Taiwan Flag"},{code:"1f1f9-1f1ff",desc:"Tanzania Flag"},{code:"1f1fa-1f1e6",desc:"Ukraine City  Flag"},{code:"1f1fa-1f1ec",desc:"Uganda Flag"},{code:"1f1fa-1f1f2",desc:"U.s. Outlying Islands  Flag"},{code:"1f1fa-1f1fe",desc:"Uruguay  Flag"},{code:"1f1fa-1f1ff",desc:"Uzbekistan Flag"},{code:"1f1fb-1f1e6",desc:"Vatican City  Flag"},{code:"1f1fb-1f1e8",desc:"St. Vincent & Grenadines Flag"},{code:"1f1fb-1f1ea",desc:"Venezuela Flag"},{code:"1f1fb-1f1ec",desc:"British Virgin Islands Flag"},{code:"1f1fb-1f1ee",desc:"U.s. Virgin Islands Flag"},{code:"1f1fb-1f1f3",desc:"Vietnam Flag"},{code:"1f1fc-1f1f8",desc:"Samoa Flag"},{code:"1f1fb-1f1fa",desc:"Vanuatu Flag"},{code:"1f1fc-1f1eb",desc:'"Wallis & Futuna Flag'},{code:"1f1fd-1f1f0",desc:"Kosovo Flag"},{code:"1f1fe-1f1ea",desc:"Yemen Flag"},{code:"1f1fe-1f1f9",desc:"Mayotte Flag"},{code:"1f1ff-1f1e6",desc:"South Africa Flag"},{code:"1f1ff-1f1f2",desc:"Zambia Flag"},{code:"1f1ff-1f1fc",desc:"Zimbabwe Flag"},{code:"1f1eb-1f1f7",desc:"France Flag"},{code:"1f1ec-1f1e7",desc:"United Kingdom  Flag"},{code:"1f1ee-1f1f9",desc:"Italy Flag"},{code:"1f1ef-1f1f5",desc:"Japan Flag"},{code:"1f1f0-1f1f7",desc:"South Korea Flag"},{code:"1f1f7-1f1fa",desc:"Russia Flag"},{code:"1F6A9",desc:"Triangular Flag on Post"},{code:"1f1fa-1f1f8",desc:"United States Flag"}]}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),x.PLUGINS.emoticons=function(s){var b=s.$,B=s.opts.emoticonsSet,ge=B&&B[0],a="";function p(){if(!s.selection.isCollapsed())return!1;var L=s.selection.element(),A=s.selection.endElement();if(L&&s.node.hasClass(L,"fr-emoticon"))return L;if(A&&s.node.hasClass(A,"fr-emoticon"))return A;var O=s.selection.ranges(0),z=O.startContainer;if(z.nodeType==Node.ELEMENT_NODE&&0<z.childNodes.length&&0<O.startOffset){var Q=z.childNodes[O.startOffset-1];if(s.node.hasClass(Q,"fr-emoticon"))return Q}return!1}function M(){return"".concat(function(A,O){return`<div class="fr-buttons fr-tabs fr-tabs-scroll">
                        `.concat(function(Q,H){var P="";return Q.forEach(function(j){var K={image:j.code.toLowerCase()},ee=j.id===H.id,w={elementClass:ee?"fr-active fr-active-tab":"",emoticonsUnicodeClass:s.opts.emoticonsUseImage?"":"fr-tabs-unicode",title:s.language.translate(j.name),dataCmd:"setEmoticonCategory",dataParam1:j.id,image:s.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(K.image,'.svg"/>'):"&#x".concat(K.image,";")};P+='<button class="fr-command fr-btn '.concat(w.elementClass," ").concat(w.emoticonsUnicodeClass,`" 
      title="`).concat(w.title,'" data-cmd="').concat(w.dataCmd,'" data-param1="').concat(w.dataParam1,'" aria-pressed="').concat(ee,`">
       `).concat(w.image," </button>")}),P}(A,O),`
                        </div>`)}(B,ge),`
                      `).concat(function(A){return`
        <div class="fr-icon-container fr-emoticon-container">
            `.concat(function(z){var Q="";return z.emoticons.forEach(function(H){var P=H.code.split("-").reduce(function(ee,w){return ee?"".concat(ee,"&zwj;&#x").concat(w.toLowerCase(),";"):"&#x".concat(w.toLowerCase(),";")},""),j={image:H.code.toLowerCase(),compiledCode:H.uCode?H.uCode:P},K={dataParam1:H.code.toLowerCase(),dataParam2:j.compiledCode,title:s.language.translate(H.desc),image:s.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(j.image,'.svg"/>'):"".concat(j.compiledCode),desc:s.language.translate(H.desc)};Q+=`<span class="fr-command fr-emoticon fr-icon" role="button" 
      data-cmd="insertEmoticon" data-param1="`.concat(K.dataParam1,`" tabindex="0"
      data-param2="`).concat(K.dataParam2,'"  title="').concat(K.title,`" >
      `).concat(K.image,'<span class="fr-sr-only">').concat(K.desc,"&nbsp;&nbsp;&nbsp;</span></span>")}),Q}(A),`
        </div>
        `)}(ge),`
                      `).concat(function(){return s.opts.emoticonsUseImage?'<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow noopener noreferrer" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>':""}())}return{_init:function(){var A=function(){for(var z=s.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),Q=0;Q<z.length;Q++)z[Q].className+=" fr-deletable"};A(),s.events.on("html.set",A),s.events.on("keydown",function(O){if(s.keys.isCharacter(O.which)&&s.selection.inEditor()){var z=s.selection.ranges(0),Q=p();s.node.hasClass(Q,"fr-emoticon-img")&&Q&&(z.startOffset===0&&s.selection.element()===Q?b(Q).before(x.MARKERS+x.INVISIBLE_SPACE):b(Q).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore())}}),s.events.on("keyup",function(O){for(var z=s.el.querySelectorAll(".fr-emoticon"),Q=0;Q<z.length;Q++)typeof z[Q].textContent<"u"&&z[Q].textContent.replace(/\u200B/gi,"").length===0&&b(z[Q]).remove();if(!(O.which>=x.KEYCODE.ARROW_LEFT&&O.which<=x.KEYCODE.ARROW_DOWN)){var H=p();s.node.hasClass(H,"fr-emoticon-img")&&(b(H).append(x.MARKERS),s.selection.restore())}})},insert:function(A,O){var z=p(),Q=s.selection.ranges(0);z?(Q.startOffset===0&&s.selection.element()===z?b(z).before(x.MARKERS+x.INVISIBLE_SPACE):0<Q.startOffset&&s.selection.element()===z&&Q.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&b(z).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore(),s.html.insert('<span class="fr-emoticon fr-deletable'.concat(O?" fr-emoticon-img":"",'"').concat(O?' style="background: url('.concat(O,');"'):"",">").concat(O?"&nbsp;":A,"</span>&nbsp;").concat(x.MARKERS),!0)):s.html.insert('<span class="fr-emoticon fr-deletable'.concat(O?" fr-emoticon-img":"",'"').concat(O?' style="background: url('.concat(O,');"'):"",">").concat(O?"&nbsp;":A,"</span>").concat(x.INVISIBLE_SPACE),!0)},setEmoticonCategory:function(A){ge=B.filter(function(O){return O.id===A})[0],function(){s.popups.get("emoticons").html(a+M());var z=s.popups.get("emoticons").children().not(".fr-buttons");s.accessibility.registerPopup("emoticons"),s.accessibility.focusContent(z)}()},showEmoticonsPopup:function(){var A=s.popups.get("emoticons");if(A||(A=function(){s.opts.toolbarInline&&0<s.opts.emoticonsButtons.length&&(a='<div class="fr-buttons fr-emoticons-buttons fr-tabs">'.concat(s.button.buildList(s.opts.emoticonsButtons),"</div>"));var j={buttons:a,custom_layer:M()},K=s.popups.create("emoticons",j);return function(w){s.events.on("popup.tab",function(xe){var be=b(xe.currentTarget);if(!s.popups.isVisible("emoticons")||!be.is("span, a"))return!0;var re,se,ie,D=xe.which,U=window.getComputedStyle(w.find(".fr-icon-container")[0]),V=U.getPropertyValue("grid-template-columns").split(" ").length;if(x.KEYCODE.TAB==D){var I=w.find("span.fr-emoticon");if(be.is(I.first())&&xe.shiftKey||be.is("a")&&!xe.shiftKey){var N=w.find(".fr-buttons");re=!s.accessibility.focusToolbar(N,!!xe.shiftKey)}if(re!==!1){var ne=w.find("span.fr-emoticon");ne.add(w.find("a.fr-link")),ne.add(w.find("button.fr-btn")),se=ne.index(be),se=xe.shiftKey?((se-1)%ne.length+ne.length)%ne.length:(se+1)%ne.length,ie=ne.get(se),s.events.disableBlur(),ie.focus(),re=!1}}else if(x.KEYCODE.ARROW_UP==D||x.KEYCODE.ARROW_DOWN==D||x.KEYCODE.ARROW_LEFT==D||x.KEYCODE.ARROW_RIGHT==D){if(be.is("span.fr-emoticon")){var G=be.parent().find("span.fr-emoticon");se=G.index(be);var q=V,de=Math.ceil(G.length/q),Le=se%q,Ae=Math.floor(se/q),we=Ae*q+Le,Pe=de*q;x.KEYCODE.ARROW_UP==D?we=((we-q)%Pe+Pe)%Pe:x.KEYCODE.ARROW_DOWN==D?we=(we+q)%Pe:x.KEYCODE.ARROW_LEFT==D?we=((we-1)%Pe+Pe)%Pe:x.KEYCODE.ARROW_RIGHT==D&&(we=(we+1)%Pe),ie=b(G.get(we)),s.events.disableBlur(),ie.focus(),re=!1}}else x.KEYCODE.ENTER==D&&(be.is("a")?be[0].click():s.button.exec(be),re=!1);return re===!1&&(xe.preventDefault(),xe.stopPropagation()),re},!0)}(K),K}()),!A.hasClass("fr-active")){s.popups.refresh("emoticons"),s.popups.setContainer("emoticons",s.$tb);var O=s.$tb.find('.fr-command[data-cmd="emoticons"]'),z=s.button.getPosition(O),Q=z.left,H=z.top;s.popups.show("emoticons",Q,H,O.outerHeight()),s.popups.get("emoticons").css("overflow","hidden")}},back:function(){s.popups.hide("emoticons"),s.toolbar.showInline()}}},x.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile",SVG_KEY:"smile"}),x.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),x.RegisterCommand("insertEmoticon",{callback:function(s,b,B){this.emoticons.insert(B,this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/".concat(b,".svg"):null),this.popups.hide("emoticons")}}),x.RegisterCommand("setEmoticonCategory",{undo:!1,focus:!1,callback:function(s,b){this.emoticons.setEmoticonCategory(b)}}),x.DefineIcon("emoticonsBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}}),Object.assign(x.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),x.PLUGINS.entities=function(s){var b,B,ge=s.$;function a(L){var A=L.textContent;if(A.match(b)){for(var O="",z=0;z<A.length;z++)B[A[z]]?O+=B[A[z]]:O+=A[z];L.textContent=O}}function p(L){if(L&&0<=["STYLE","SCRIPT","svg","IFRAME"].indexOf(L.tagName))return!0;for(var A=s.node.contents(L),O=0;O<A.length;O++)A[O].nodeType===Node.TEXT_NODE?a(A[O]):p(A[O]);return L.nodeType===Node.TEXT_NODE&&a(L),!1}var M=function(A){return A.length===0?"":s.clean.exec(A,p).replace(/\&amp;/g,"&")};return{_init:function(){s.opts.htmlSimpleAmpersand||(s.opts.entities="".concat(s.opts.entities,"&amp;"));var A=ge(document.createElement("div")).html(s.opts.entities).text(),O=s.opts.entities.split(";");B={},b="";for(var z=0;z<A.length;z++){var Q=A.charAt(z);B[Q]="".concat(O[z],";"),b+="\\".concat(Q+(z<A.length-1?"|":""))}b=new RegExp("(".concat(b,")"),"g"),s.events.on("html.get",M,!0)}}},Object.assign(x.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),Object.assign(x.DEFAULTS,{fileUpload:!0,fileUploadURL:null,fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadToAzure:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),x.PLUGINS.file=function(s){var b,B=s.$,ge="https://i.froala.com/upload",a=2,p=3,M=4,L=5,A=6,O={};function z(){var V=s.popups.get("file.insert");V||(V=se()),V.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),V.find(".fr-file-progress-bar-layer").addClass("fr-active"),V.find(".fr-buttons").hide(),H(s.language.translate("Uploading"),0)}function Q(V){var I=s.popups.get("file.insert");I&&(I.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),I.find(".fr-file-progress-bar-layer").removeClass("fr-active"),I.find(".fr-buttons").show(),V&&(s.events.focus(),s.popups.hide("file.insert")))}function H(V,I){var N=s.popups.get("file.insert");if(N){var ne=N.find(".fr-file-progress-bar-layer");ne.find("h3").text(V+(I?" ".concat(I,"%"):"")),ne.removeClass("fr-error"),I?(ne.find("div").removeClass("fr-indeterminate"),ne.find("div > span").css("width","".concat(I,"%"))):ne.find("div").addClass("fr-indeterminate")}}function P(V,I,N,ne){var G;s.edit.on(),s.events.focus(!0),s.selection.restore(),s.opts.fileUseSelectedText&&s.selection.text().length&&(I=s.selection.text());var q='<a href="'.concat(V,'" id="fr-inserted-file" ');if(ne!==void 0)for(G in ne)ne.hasOwnProperty(G)&&G!="link"&&(q+="".concat(G,'="').concat(ne[G],'" '));q.indexOf(' class="')==-1&&(q+='class="fr-file" '),q+=">".concat(I,"</a>"),s.html.insert(q);var de=s.$el.find("#fr-inserted-file");de.removeAttr("id"),s.popups.hide("file.insert"),s.undo.saveStep(),U(),s.events.trigger("file.inserted",[de,N])}function j(V,I,N){var ne=this.status,G=this.response,q=this.responseXML,de=this.responseText;try{if(s.opts.fileUploadToS3||s.opts.fileUploadToAzure)if(ne===201){var Le;if(s.opts.fileUploadToAzure){if(s.events.trigger("file.uploadedToAzure",[this.responseURL,N,G],!0)===!1)return s.edit.on(),!1;Le=I}else Le=function(Pe){try{var We=B(Pe).find("Location").text(),ut=B(Pe).find("Key").text();return s.events.trigger("file.uploadedToS3",[We,ut,Pe],!0)===!1?(s.edit.on(),!1):We}catch{return w(M,Pe),!1}}(q);Le&&P(Le,V,G||q)}else w(M,G||q);else if(200<=ne&&ne<300){var Ae=function(Pe){try{if(s.events.trigger("file.uploaded",[Pe],!0)===!1)return s.edit.on(),!1;var We=JSON.parse(Pe);return We.link?We:(w(a,Pe),!1)}catch{return w(M,Pe),!1}}(de);Ae&&P(Ae.link,V,G||de,Ae)}else w(p,G||de)}catch{w(M,G||de)}}function K(){w(M,this.response||this.responseText||this.responseXML)}function ee(V){if(V.lengthComputable){var I=V.loaded/V.total*100|0;H(s.language.translate("Uploading"),I)}}function w(V,I){s.edit.on(),function(ne){z();var G=s.popups.get("file.insert").find(".fr-file-progress-bar-layer");G.addClass("fr-error");var q=G.find("h3");q.text(ne),s.events.disableBlur(),q.focus()}(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("file.error",[{code:V,message:O[V]},I])}function xe(){s.edit.on(),Q(!0)}function be(V){if(V!==void 0&&0<V.length){var I=V[0].type;if(V[0].name&&V[0].name.endsWith(".msg")&&(I="application/vnd.ms-outlook"),s.events.trigger("file.beforeUpload",[V])===!1)return!1;var N,ne=V[0];if(!(s.opts.fileUploadURL!==null&&s.opts.fileUploadURL!==ge||s.opts.fileUploadToS3||s.opts.fileUploadToAzure))return function(tt){var _t=new FileReader;_t.onload=function(){for(var mt=_t.result,Lt=atob(_t.result.split(",")[1]),Rt=[],Wt=0;Wt<Lt.length;Wt++)Rt.push(Lt.charCodeAt(Wt));var Zt=tt.type;tt.name&&tt.name.endsWith(".msg")&&(Zt="application/vnd.ms-outlook"),mt=window.URL.createObjectURL(new Blob([new Uint8Array(Rt)],{type:Zt})),s.file.insert(mt,tt.name,null)},z(),_t.readAsDataURL(tt)}(ne),!1;if(ne.size>s.opts.fileMaxSize)return w(L),!1;if(s.opts.fileAllowedTypes.indexOf("*")<0&&s.opts.fileAllowedTypes.indexOf(I.replace(/file\//g,""))<0)return w(A),!1;if(s.drag_support.formdata&&(N=s.drag_support.formdata?new FormData:null),N){var G;if(s.opts.fileUploadToS3!==!1)for(G in N.append("key",s.opts.fileUploadToS3.keyStart+new Date().getTime()+"-"+(ne.name||"untitled")),N.append("success_action_status","201"),N.append("X-Requested-With","xhr"),N.append("Content-Type",I),s.opts.fileUploadToS3.params)s.opts.fileUploadToS3.params.hasOwnProperty(G)&&N.append(G,s.opts.fileUploadToS3.params[G]);for(G in s.opts.fileUploadParams)s.opts.fileUploadParams.hasOwnProperty(G)&&N.append(G,s.opts.fileUploadParams[G]);N.append(s.opts.fileUploadParam,ne);var q,de,Le=s.opts.fileUploadURL;s.opts.fileUploadToS3&&(Le=s.opts.fileUploadToS3.uploadURL?s.opts.fileUploadToS3.uploadURL:"https://".concat(s.opts.fileUploadToS3.region,".amazonaws.com/").concat(s.opts.fileUploadToS3.bucket));var Ae=s.opts.fileUploadMethod;s.opts.fileUploadToAzure&&(Le=s.opts.fileUploadToAzure.uploadURL?"".concat(s.opts.fileUploadToAzure.uploadURL,"/").concat(ne.name):encodeURI("https://".concat(s.opts.fileUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.fileUploadToAzure.container,"/").concat(ne.name)),q=Le,s.opts.fileUploadToAzure.SASToken&&(Le+=s.opts.fileUploadToAzure.SASToken),Ae="PUT");var we=s.core.getXHR(Le,Ae);if(s.opts.fileUploadToAzure){var Pe=new Date().toUTCString();if(!s.opts.fileUploadToAzure.SASToken&&s.opts.fileUploadToAzure.accessKey){var We=s.opts.fileUploadToAzure.account,ut=s.opts.fileUploadToAzure.container;if(s.opts.fileUploadToAzure.uploadURL){var nt=s.opts.fileUploadToAzure.uploadURL.split("/");ut=nt.pop(),We=nt.pop().split(".")[0]}var ot=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(Pe,`
x-ms-version:2019-07-07`),Me=encodeURI("/"+We+"/"+ut+"/"+ne.name),et=Ae+`


`+ne.size+`

`+I+`






`+ot+`
`+Me,Ve=s.cryptoJSPlugin.cryptoJS.HmacSHA256(et,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.fileUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),Ze="SharedKey "+We+":"+Ve;de=Ve,we.setRequestHeader("Authorization",Ze)}for(G in we.setRequestHeader("x-ms-version","2019-07-07"),we.setRequestHeader("x-ms-date",Pe),we.setRequestHeader("Content-Type",I),we.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.fileUploadParams)s.opts.fileUploadParams.hasOwnProperty(G)&&we.setRequestHeader(G,s.opts.fileUploadParams[G]);for(G in s.opts.fileUploadToAzure.params)s.opts.fileUploadToAzure.params.hasOwnProperty(G)&&we.setRequestHeader(G,s.opts.fileUploadToAzure.params[G])}we.onload=function(){j.call(we,ne.name,q,de)},we.onerror=K,we.upload.onprogress=ee,we.onabort=xe,z();var Xe=s.popups.get("file.insert");Xe&&(Xe.off("abortUpload"),Xe.on("abortUpload",function(){we.readyState!==4&&we.abort()})),we.send(s.opts.fileUploadToAzure?ne:N)}}}function re(){Q()}function se(V){if(V)return s.popups.onHide("file.insert",re),!0;var I;s.opts.fileUpload||s.opts.fileInsertButtons.splice(s.opts.fileInsertButtons.indexOf("fileUpload"),1),I='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.fileInsertButtons),"</div>");var N="";s.opts.fileUpload&&(N='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'.concat(s.id,'"><strong>').concat(s.language.translate("Drop file"),"</strong><br>(").concat(s.language.translate("or click"),')<div class="fr-form"><input type="file" name="').concat(s.opts.fileUploadParam,'" accept="').concat(0<=s.opts.fileAllowedTypes.indexOf("*")?"/":"").concat(s.opts.fileAllowedTypes.join(", ").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-file-upload-layer-').concat(s.id,'" role="button"></div></div>'));var ne={buttons:I,upload_layer:N,progress_bar:'<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>'},G=s.popups.create("file.insert",ne);return function(de){s.events.$on(de,"dragover dragenter",".fr-file-upload-layer",function(){return B(this).addClass("fr-drop"),!1},!0),s.events.$on(de,"dragleave dragend",".fr-file-upload-layer",function(){return B(this).removeClass("fr-drop"),!1},!0),s.events.$on(de,"drop",".fr-file-upload-layer",function(Le){Le.preventDefault(),Le.stopPropagation(),B(this).removeClass("fr-drop");var Ae=Le.originalEvent.dataTransfer;Ae&&Ae.files&&(de.data("instance")||s).file.upload(Ae.files)},!0),s.helpers.isIOS()&&s.events.$on(de,"touchstart",'.fr-file-upload-layer input[type="file"]',function(){B(this).trigger("click")}),s.events.$on(de,"change",'.fr-file-upload-layer input[type="file"]',function(){if(this.files){var Le=de.data("instance")||s;Le.events.disableBlur(),de.find("input:focus").blur(),Le.events.enableBlur(),Le.file.upload(this.files)}B(this).val("")},!0)}(G),G}function ie(V){s.node.hasClass(V,"fr-file")}function D(V){var I=V.originalEvent.dataTransfer;if(I&&I.files&&I.files.length){var N=I.files[0];if(N&&typeof N.type<"u"){if(N.type.indexOf("image")<0){if(!s.opts.fileUpload)return V.preventDefault(),V.stopPropagation(),!1;s.markers.remove(),s.markers.insertAtPoint(V.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.popups.hideAll();var ne=s.popups.get("file.insert");return ne||(ne=se()),s.popups.setContainer("file.insert",s.$sc),s.popups.show("file.insert",V.originalEvent.pageX,V.originalEvent.pageY),z(),be(I.files),V.preventDefault(),V.stopPropagation(),!1}}else N.type.indexOf("image")<0&&(V.preventDefault(),V.stopPropagation())}}function U(){var V,I=Array.prototype.slice.call(s.el.querySelectorAll("a.fr-file")),N=[];for(V=0;V<I.length;V++)N.push(I[V].getAttribute("href"));if(b)for(V=0;V<b.length;V++)N.indexOf(b[V].getAttribute("href"))<0&&s.events.trigger("file.unlink",[b[V]]);b=I}return O[1]="File cannot be loaded from the passed link.",O[a]="No link in upload response.",O[p]="Error during file upload.",O[M]="Parsing response failed.",O[L]="File is too large.",O[A]="File file type is invalid.",O[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:function(){(function(){s.events.on("drop",D),s.events.$on(s.$win,"keydown",function(N){var ne=N.which,G=s.popups.get("file.insert");G&&ne===x.KEYCODE.ESC&&G.trigger("abortUpload")}),s.events.on("destroy",function(){var N=s.popups.get("file.insert");N&&N.trigger("abortUpload")})})(),s.events.on("link.beforeRemove",ie),s.$wp&&(U(),s.events.on("contentChanged",U)),se(!0)},showInsertPopup:function(){var I=s.$tb.find('.fr-command[data-cmd="insertFile"]'),N=s.popups.get("file.insert");if(N||(N=se()),Q(),!N.hasClass("fr-active"))if(s.popups.refresh("file.insert"),s.popups.setContainer("file.insert",s.$tb),I.isVisible){var ne=s.button.getPosition(I),G=ne.left,q=ne.top;s.popups.show("file.insert",G,q,I.outerHeight())}else s.position.forSelection(N),s.popups.show("file.insert")},upload:be,insert:P,back:function(){s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),s.popups.hide("file.insert"),s.toolbar.showInline()},hideProgressBar:Q}},x.DefineIcon("insertFile",{NAME:"file-o",FA5NAME:"file",SVG_KEY:"insertFile"}),x.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),x.DefineIcon("fileBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(s){this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next(".fr-separator").removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next(".fr-separator").addClass("fr-hidden"))}}),x.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}}),Object.assign(x.POPUP_TEMPLATES,{"filesManager.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_PROGRESS_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(x.DEFAULTS,{filesInsertButtons:["imageBack","|","filesUpload","filesByURL","filesEmbed"],filesInsertButtons2:["deleteAll","insertAll","cancel","minimize"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,filesManagerUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,filesManagerUploadParam:"file",filesManagerUploadParams:{},googleOptions:{},filesManagerUploadToS3:!1,filesManagerUploadToAzure:!1,filesManagerUploadMethod:"POST",filesManagerMaxSize:10485760,filesManagerAllowedTypes:["*"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),x.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],x.VIDEO_EMBED_REGEX=/^\W*((<iframe(.|\n)*>(\s|\n)*<\/iframe>)|(<embed(.|\n)*>))\W*$/i,x.IMAGE_EMBED_REGEX=/^\W*((<img(.|\n)*>(\s|\n)*))\W*$/i,x.IMAGE_TYPE="image/png",x.IMAGE_ALLOW_REGEX=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,x.PLUGINS.filesManager=function(s){var b,B,ge,a,p,M,L,A,O=s.$,z="https://i.froala.com/upload",Q=!1,H=!1,P=new Map,j=new Map,K=new Map,ee=new Map,w=new Map,xe=new Map,be=0,re=[],se=-1,ie=[],D=0,U=["file","image","imageTUI","video"],V=1,I=2,N=3,ne=4,G=5,q=6,de=10,Le=["video/avi","video/mpeg","video/x-ms-wmv"],Ae={};function we(){var Ne=s.popups.get("filesManager.insert"),pt=Ne.find(".fr-files-by-url-layer input");pt.val(""),Ne.find(".fr-files-embed-layer textarea").val("").trigger("change"),pt.trigger("change")}function Pe(Ne){var pt;s.hasOwnProperty("imageTUI")||(L="fr-disabled"),xe.forEach(function(jn,vo){_t(vo)}),We()?(pt=s.popups.get("filesManager.insert"))||(pt=_n()):(pt=s.popups.get("filesManager.insert"))||(pt=function(){var vo=`<div style= 'padding:10px'>
    <div class = 'fr-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>`.concat(s.language.translate(function(){var cs="",ds=function(){var bt=[];return U.forEach(function(Ht){s.opts.pluginsEnabled.indexOf(Ht)<0&&bt.push(Ht.charAt(0).toUpperCase()+Ht.slice(1))}),bt}();return cs=ds.join(", "),1<ds.length?cs+=" plugin are":cs+=" plugin is",cs}()+" not enabled. Do you want to enable?"),`</h3></div>
    <div style='text-align:right;'>
      <button class='fr-trim-button fr-plugins-enable'>`).concat(s.language.translate("Enable"),`</button>               
      <button class='fr-trim-button fr-plugins-cancel'>`).concat(s.language.translate("Cancel"),`</button>
    </div>`),mo={buttons:'<div class="fr-buttons fr-tabs"></div>',upload_layer:vo,by_url_layer:"",embed_layer:"",upload_progress_layer:"",progress_bar:""},Uo=s.popups.create("filesManager.insert",mo);return zt(Uo),Uo}());var St=s.$tb.find('.fr-command[data-cmd="insertFiles"]');if(Rt(),Ne||!pt.hasClass("fr-active"))if(Ne||mt(),s.popups.refresh("filesManager.insert"),s.popups.setContainer("filesManager.insert",s.$tb),St.isVisible()){var Pt=s.button.getPosition(St,P.size),Jt=Pt.left,Vn=Pt.top;s.popups.show("filesManager.insert",Jt,Vn,St.outerHeight())}else s.position.forSelection(pt),s.popups.show("filesManager.insert");s.popups.setPopupDimensions(pt),We()&&s.popups.setFileListHeight(pt),pt.find(".fr-upload-progress")&&P.size==0&&pt.find(".fr-upload-progress").addClass("fr-none")}function We(){var Ne=!0;return U.forEach(function(pt){s.opts.pluginsEnabled.indexOf(pt)<0&&(Ne=!1)}),Ne}function ut(){Rt()}function nt(){if(a||function(){var vo;if(s.shared.$image_resizer?(a=s.shared.$image_resizer,M=s.shared.$img_overlay,s.events.on("destroy",function(){O("body").first().append(a.removeClass("fr-active"))},!0)):(s.shared.$image_resizer=O(document.createElement("div")).attr("class","fr-image-resizer"),a=s.shared.$image_resizer,s.events.$on(a,"mousedown",function(cs){cs.stopPropagation()},!0),s.opts.imageResize&&(a.append(ot("nw")+ot("ne")+ot("sw")+ot("se")),s.shared.$img_overlay=O(document.createElement("div")).attr("class","fr-image-overlay"),M=s.shared.$img_overlay,vo=a.get(0).ownerDocument,O(vo).find("body").first().append(M))),s.events.on("shared.destroy",function(){a.html("").removeData().remove(),a=null,s.opts.imageResize&&(M.remove(),M=null)},!0),s.helpers.isMobile()||s.events.$on(O(s.o_win),"resize",function(){b&&!b.hasClass("fr-uploading")?po(!0):b&&(nt(),replace(),Lt(!1))}),s.opts.imageResize){vo=a.get(0).ownerDocument,s.events.$on(a,s._mousedown,".fr-handler",et),s.events.$on(O(vo),s._mousemove,Ve),s.events.$on(O(vo.defaultView||vo.parentWindow),s._mouseup,Ze),s.events.$on(M,"mouseleave",Ze);var mo=1,Uo=null,cn=0;s.events.on("keydown",function(cs){if(b){var ds=navigator.userAgent.indexOf("Mac OS X")!=-1?cs.metaKey:cs.ctrlKey,Ue=cs.which;(Ue!==Uo||200<cs.timeStamp-cn)&&(mo=1),(Ue==x.KEYCODE.EQUALS||s.browser.mozilla&&Ue==x.KEYCODE.FF_EQUALS)&&ds&&!cs.altKey?mo=Go.call(this,cs,1,1,mo):(Ue==x.KEYCODE.HYPHEN||s.browser.mozilla&&Ue==x.KEYCODE.FF_HYPHEN)&&ds&&!cs.altKey?mo=Go.call(this,cs,2,-1,mo):s.keys.ctrlKey(cs)||Ue!=x.KEYCODE.ENTER||(b.before("<br>"),ze(b)),Uo=Ue,cn=cs.timeStamp}},!0),s.events.on("keyup",function(){mo=1})}}(),!b)return!1;var Ne=s.$wp||s.$sc;Ne.append(a),a.data("instance",s);var pt=Ne.scrollTop()-(Ne.css("position")!="static"?Ne.offset().top:0),St=Ne.scrollLeft()-(Ne.css("position")!="static"?Ne.offset().left:0);St-=s.helpers.getPX(Ne.css("border-left-width")),pt-=s.helpers.getPX(Ne.css("border-top-width")),s.$el.is("img")&&s.$sc.is("body")&&(St=pt=0);var Pt=Js();ia()&&(Pt=Pt.find(".fr-img-wrap"));var Jt=0,Vn=0;s.opts.iframe&&(Jt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),Vn=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"))),a.css("top",(s.opts.iframe?Pt.offset().top+Jt:Pt.offset().top+pt)-1).css("left",(s.opts.iframe?Pt.offset().left+Vn:Pt.offset().left+St)-1).css("width",Pt.get(0).getBoundingClientRect().width).css("height",Pt.get(0).getBoundingClientRect().height).addClass("fr-active")}function ot(Ne){return'<div class="fr-handler fr-h'.concat(Ne,'"></div>')}function Me(Ne){ia()?b.parents(".fr-img-caption").css("width",Ne):b.css("width",Ne)}function et(Ne){if(!s.core.sameInstance(a))return!0;if(Ne.preventDefault(),Ne.stopPropagation(),s.$el.find("img.fr-error").left)return!1;s.undo.canDo()||s.undo.saveStep();var pt=Ne.pageX||Ne.originalEvent.touches[0].pageX;if(Ne.type=="mousedown"){var St=s.$oel.get(0).ownerDocument,Pt=St.defaultView||St.parentWindow,Jt=!1;try{Jt=Pt.location!=Pt.parent.location&&!(Pt.$&&Pt.$.FE)}catch{}Jt&&Pt.frameElement&&(pt+=s.helpers.getPX(O(Pt.frameElement).offset().left)+Pt.frameElement.clientLeft)}(p=O(this)).data("start-x",pt),p.data("start-width",b.width()),p.data("start-height",b.height());var Vn=b.width();if(s.opts.imageResizeWithPercent){var jn=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;Vn=(Vn/O(jn).outerWidth()*100).toFixed(2)+"%"}Me(Vn),M.show(),s.popups.hideAll(),Qn()}function Ve(Ne){if(!s.core.sameInstance(a))return!0;var pt;if(p&&b){if(Ne.preventDefault(),s.$el.find("img.fr-error").left)return!1;var St=Ne.pageX||(Ne.originalEvent.touches?Ne.originalEvent.touches[0].pageX:null);if(!St)return!1;var Pt=St-p.data("start-x"),Jt=p.data("start-width");if((p.hasClass("fr-hnw")||p.hasClass("fr-hsw"))&&(Pt=0-Pt),s.opts.imageResizeWithPercent){var Vn=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;Jt=((Jt+Pt)/O(Vn).outerWidth()*100).toFixed(2),s.opts.imageRoundPercent&&(Jt=Math.round(Jt)),Me("".concat(Jt,"%")),(pt=ia()?(s.helpers.getPX(b.parents(".fr-img-caption").css("width"))/O(Vn).outerWidth()*100).toFixed(2):(s.helpers.getPX(b.css("width"))/O(Vn).outerWidth()*100).toFixed(2))===Jt||s.opts.imageRoundPercent||Me("".concat(pt,"%")),b.css("height","").removeAttr("height")}else Jt+Pt>=s.opts.imageMinWidth&&(Me(Jt+Pt),pt=ia()?s.helpers.getPX(b.parents(".fr-img-caption").css("width")):s.helpers.getPX(b.css("width"))),pt!==Jt+Pt&&Me(pt),((b.attr("style")||"").match(/(^height:)|(; *height:)/)||b.attr("height"))&&(b.css("height",p.data("start-height")*b.width()/p.data("start-width")),b.removeAttr("height"));nt(),s.events.trigger("image.resize",[wa()])}}function Ze(Ne){if(!s.core.sameInstance(a))return!0;if(p&&b){if(Ne&&Ne.stopPropagation(),s.$el.find("img.fr-error").left)return!1;p=null,M.hide(),nt(),s.undo.saveStep(),s.events.trigger("image.resizeEnd",[wa()])}else a.removeClass("fr-active")}function Xe(){xe.forEach(function(Ne,pt){var St=s.popups.get("filesManager.insert");St.find(".fr-checkbox-file-"+pt).get(0).disabled=!0,document.getElementById("fr-file-autoplay-button-"+pt)&&(document.getElementById("fr-file-autoplay-button-"+pt).disabled=!0,document.getElementById("fr-file-autoplay-button-"+pt).parentElement.classList.add("fr-checkbox-disabled"),document.getElementById("fr-file-autoplay-button-"+pt).parentElement.classList.remove("fr-files-checkbox")),St.find(".fr-checkbox-"+pt).get(0).classList.remove("fr-files-checkbox"),St.find(".fr-checkbox-"+pt).get(0).classList.add("fr-checkbox-disabled")})}function $e(Ne,pt,St,Pt){s.edit.on(),b&&b.addClass("fr-error"),Ae[Ne]?(Ne!=N&&Ne!=I&&Ne!=ne||ae(100,Pt,!0),xe.set(Pt,Ae[Ne]),Xe(),function(){xe.forEach(function(Vn,jn){s.popups.get("filesManager.insert"),document.getElementById("fr-file-edit-button-".concat(jn))&&(document.getElementById("fr-file-edit-button-".concat(jn)).classList.add("fr-disabled"),document.getElementById("fr-file-view-button-".concat(jn)).classList.add("fr-disabled"),document.getElementById("fr-file-insert-button-".concat(jn)).classList.add("fr-disabled"))})}(),kn(s.language.translate(Ae[Ne]),Pt)):kn(s.language.translate("Something went wrong. Please try again."),Pt),!b&&St&&Do(St),s.events.trigger("filesManager.error",[{code:Ne,message:Ae[Ne]},pt,St])}function tt(){var Ne=s.popups.get("filesManager.insert"),pt=Ne.find('.fr-command[data-cmd="insertAll"]'),St=Ne.find('.fr-command[data-cmd="deleteAll"]'),Pt=!0;w.forEach(function(Vn,jn,vo){w.get(jn)&&(Pt=!1)}),Pt?pt.addClass("fr-disabled"):pt.removeClass("fr-disabled"),Pt?St.addClass("fr-disabled"):St.removeClass("fr-disabled")}function _t(Ne){j.get(Ne)&&j.get(Ne).link&&s.events.trigger("filesManager.removed",[j.get(Ne).link]);var pt=s.popups.get("filesManager.insert");pt.find(".fr-file-"+Ne).get(0)!==void 0&&(pt.find(".fr-file-"+Ne).get(0).outerHTML=""),j.delete(Ne),P.delete(Ne),w.delete(Ne),tt(),P.size==0&&(D=0),xe.delete(Ne),s.popups.setPopupDimensions(pt,!0),s.opts.toolbarBottom?Pe(!0):s.popups.setPopupDimensions(pt),pt.find(".fr-upload-progress")&&P.size==0&&pt.find(".fr-upload-progress").addClass("fr-none")}function mt(){for(var Ne=s.popups.get("filesManager.insert"),pt=Ne.find(".fr-insert-checkbox"),St=0;St<pt.length;St++)pt.get(St).children.target.checked=!1,Ne.find(".fr-file-"+pt.get(St).id.split("-").pop()).get(0).classList.add("fr-unchecked");if(ge)document.getElementById("fr-file-autoplay-button-".concat(ge))&&(document.getElementById("fr-file-autoplay-button-".concat(ge)).checked=!1),ie=ie.filter(function(Vn){return Vn!=ge});else{for(var Pt=Ne.find(".fr-file-autoplay-button"),Jt=0;Jt<Pt.length;Jt++)Pt.get(Jt).checked=!1;ie=[]}w=new Map,tt()}function Lt(Ne){var pt=s.popups.get("filesManager.insert");if(pt||(pt=_n()),pt.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),pt.find(".fr-files-progress-bar-layer").addClass("fr-active"),pt.find(".fr-buttons").hide(),b){var St=Js();s.popups.setContainer("filesManager.insert",s.$sc);var Pt=St.offset().left,Jt=St.offset().top+St.height();s.popups.show("filesManager.insert",Pt,Jt,St.outerHeight())}Ne===void 0&&Wt(s.language.translate("Uploading"),0)}function Rt(Ne){var pt=s.popups.get("filesManager.insert");if(pt&&(pt.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),pt.find(".fr-files-progress-bar-layer").removeClass("fr-active"),pt.find(".fr-buttons").show(),Ne||s.$el.find("img.fr-error").length)){if(s.events.focus(),s.$el.find("img.fr-error").length&&(s.$el.find("img.fr-error").remove(),s.undo.saveStep(),s.undo.run(),s.undo.dropRedo()),!s.$wp&&b){var St=b;po(!0),s.selection.setAfter(St.get(0)),s.selection.restore()}s.popups.hide("filesManager.insert")}}function Wt(Ne,pt){var St=s.popups.get("filesManager.insert");if(St){var Pt=St.find(".fr-files-progress-bar-layer");Pt.find("h3").text(Ne+(pt?" ".concat(pt,"%"):"")),Pt.removeClass("fr-error"),pt?(Pt.find("div").removeClass("fr-indeterminate"),Pt.find("div > span").css("width","".concat(pt,"%"))):Pt.find("div").addClass("fr-indeterminate")}}function Zt(Ne){Lt();var pt=s.popups.get("filesManager.insert").find(".fr-files-progress-bar-layer");pt.addClass("fr-error");var St=pt.find("h3");St.text(Ne),s.events.disableBlur(),St.focus()}function kn(Ne,pt){var St=s.popups.get("filesManager.insert"),Pt=St.find(".fr-upload-progress-layer"),Jt=St.find(".fr-file-".concat(pt));Pt.addClass("fr-error"),Jt.find("h5").text(Ne)}Ae[V]="File cannot be loaded from the passed link.",Ae[I]="No link in upload response.",Ae[N]="Error during file upload.",Ae[ne]="Parsing response failed.",Ae[G]="File is too large.",Ae[q]="File type is invalid.",Ae[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",Ae[8]="File is corrupted.",Ae[9]="Error during file loading.",Ae[de]="File upload cancelled";var Jn,Je,wt,It,nn,bn,Tn,Mn,vn,Hn,wo="";function ro(Ne){wo=Ne,Jn=document.getElementsByClassName(Ne),Array.prototype.map.call(Jn,function(pt){(function(Pt){if(Pt.addEventListener("dragover",function(jn){jn.preventDefault(),jn.stopPropagation(),Je=jn.pageX,wt=jn.pageY;var vo=document.getElementById("filesList");wt+20>vo.getBoundingClientRect().bottom&&qo(vo,0,10),wt-20<vo.getBoundingClientRect().top&&qo(vo,0,-10)},!1),s.helpers.isMobile()){var Jt=Pt.getElementsByClassName("dot");Jt[0].addEventListener("touchmove",function(jn){jn.preventDefault(),jn.stopPropagation();for(var vo=jn.target;vo&&!vo.classList.contains(wo);)vo=vo.parentElement;for(var mo=document.elementFromPoint(jn.targetTouches[0].clientX,jn.targetTouches[0].clientY);mo&&!mo.classList.contains(wo);)mo=mo.parentElement;var Uo=document.getElementsByClassName("fr-hovered-over-file");Array.prototype.forEach.call(Uo,function(cs){cs.classList.remove("fr-hovered-over-file")}),mo&&!vo.classList.contains("fr-unchecked")&&mo.classList.add("fr-hovered-over-file");var cn=document.getElementById("filesList");jn.targetTouches[0].clientY+5>cn.getBoundingClientRect().bottom&&qo(cn,0,5),jn.targetTouches[0].clientY-5<cn.getBoundingClientRect().top&&qo(cn,0,-5)},!1)}if(Pt.ondrag=zn,Pt.ondragend=ls,s.helpers.isMobile()){var Vn=Pt.getElementsByClassName("dot");Vn[0].addEventListener("touchmove",zn,!1),Vn[0].addEventListener("touchend",ls,!1)}})(pt)})}function qo(Ne,pt,St){Ne.scrollLeft+=pt,Ne.scrollTop+=St}function zn(Ne){for(s.helpers.isMobile()&&(nn=event.touches[0].clientX,bn=event.touches[0].clientY),It=Ne.target;!It.classList.contains(wo);)It=It.parentElement;It.classList.contains(wo)&&!It.classList.contains("fr-unchecked")?s.helpers.isMobile()&&It.classList.add("drag-sort-active"):It=void 0}function ls(Ne){var pt;if(It!==void 0){var St,Pt;if(s.helpers.isMobile())for(St=nn,Pt=bn,pt=event.target;!pt.classList.contains(wo);)pt=pt.parentElement;else St=event.clientX,Pt=event.clientY;s.helpers.isMobile()||!s.browser.safari&&!s.browser.mozilla||(St=Je,Pt=wt);for(var Jt=document.elementFromPoint(St,Pt);Jt&&!Jt.classList.contains(wo);)Jt=Jt.parentElement;Jt&&!Jt.classList.contains(wo)?Jt=void 0:Jt&&It!==Jt&&function(jn,vo){var mo,Uo,cn=jn.parentNode,cs=vo.parentNode;if(!(!cn||!cs||cn.isEqualNode(vo)||cs.isEqualNode(jn))){for(var ds=0;ds<cn.children.length;ds++)cn.children[ds].isEqualNode(jn)&&(mo=ds);for(var ds=0;ds<cs.children.length;ds++)cs.children[ds].isEqualNode(vo)&&(Uo=ds);cn.isEqualNode(cs)&&mo<Uo&&Uo++,cn.insertBefore(vo,cn.children[mo]),cs.insertBefore(jn,cs.children[Uo])}}(It,Jt),s.helpers.isMobile()&&(pt.classList.remove("fr-hovered-over-file"),Jt.classList.remove("fr-hovered-over-file"))}}function ms(Ne){var pt=s.popups.get("filesManager.insert");pt.find(".fr-upload-progress-layer").hasClass("fr-active")||pt.find(".fr-upload-progress-layer").addClass("fr-active"),pt.find(".fr-upload-progress").removeClass("fr-none");var St=P.get(Ne),Pt=function(vo){var mo,Uo={weekday:"long",year:"numeric",month:"long",day:"numeric"};try{mo=vo.toLocaleDateString(s.opts.language?s.opts.language:void 0,Uo)}catch{mo=vo.toLocaleDateString(void 0,Uo)}return mo+""}(new Date),Jt=w.get(Ne)?"":"fr-unchecked ",Vn=`
        <div id='fr-file-`.concat(Ne,"' class='fr-file-list-item fr-file-").concat(Ne," ").concat(Jt,`' draggable = "`).concat(!Jt,`" >
        <div class='fr-file-item-left' >

    
            <div class="fr-file-item-insert-checkbox fr-files-checkbox-line">
            `).concat(s.helpers.isMobile()?"<div id='fr-pick-".concat(Ne,`}' class='dot'>
            </div>`):"",`
            <div id="checkbox-key-`).concat(Ne,'" class="fr-files-checkbox fr-insert-checkbox  fr-checkbox-').concat(Ne,`">
            <input name="target" class="fr-insert-attr fr-checkbox-file-`).concat(Ne,` fr-file-insert-check" data-cmd="fileInsertCheckbox"
             data-checked="_blank" type="checkbox" id="fr-link-target-`).concat(s.id,`" tabIndex="0" />
            <span>`).concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',`
            </span>
        </div>
                <label id="fr-label-target-`).concat(s.id,`"></label>
            </div>
    
            <div class='fr-file-item-icon fr-file-item-icon-`).concat(Ne,`' >
                <img src='https://secure.webtoolhub.com/static/resources/icons/set112/f2afb6f7.png' alt='Image preview' class='fr-thumbnail-padding' height='36px' width='36px' />
            </div>

            <div class='fr-file-item-description' >
                <div class='fr-file-name fr-files-manager-tooltip'>
                   `).concat(function(vo,mo,Uo){return Uo==null&&(Uo="..."),vo.length>mo?vo.substring(0,mo-Uo.length)+Uo:vo}(St.name,20),`
                      <span class="`).concat(20<St.name.length?"tooltiptext":"fr-none",'">').concat(St.name,`
                      </span>
                 </div>
                 <div class='fr-file-details'>
                 <div class='fr-file-date'>`).concat(Pt,`
                 </div>
 
                 <div class='fr-file-size'>
                     `).concat(function(vo){if(vo==0)return"0 Bytes";var mo=Math.floor(Math.log(vo)/Math.log(1024));return" | "+1*(vo/Math.pow(1024,mo)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][mo]}(St.size),`
                 </div>
                 </div>

                  <div class='fr-file-error'>
                    <h5 class='fr-file-error-h5'></h5>
                 </div>
             </div>
    
        </div>

        <div class='fr-file-item-right fr-file-item-right-`).concat(Ne,"'>")+Z(Ne)+`</div>
    </div>`;pt.find(".fr-upload-progress-layer")[0].innerHTML=Vn+pt.find(".fr-upload-progress-layer")[0].innerHTML,P.forEach(function(vo,mo,Uo){w.get(mo)&&pt.find("input.fr-insert-attr.fr-checkbox-file-".concat(mo))[0].setAttribute("checked",null)}),ie.forEach(function(jn){document.getElementById("fr-file-autoplay-button-"+jn).checked=!0}),fe(Ne,St),Rt(),s.opts.toolbarBottom?Pe(!0):s.popups.setPopupDimensions(pt),ro("fr-file-list-item")}function Et(Ne){switch(Ne){case"application/msword":return s.icon.getFileIcon("docIcon");case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return s.icon.getFileIcon("docxIcon");case"image/gif":return s.icon.getFileIcon("gifIcon");case"image/jpeg":return s.icon.getFileIcon("jpegIcon");case"image/jpeg":return s.icon.getFileIcon("jpgIcon");case"type/text":return s.icon.getFileIcon("logIcon");case"video/quicktime":return s.icon.getFileIcon("movIcon");case"audio/mp3":case"audio/mpeg":return s.icon.getFileIcon("mp3Icon");case"video/mp4":return s.icon.getFileIcon("mp4Icon");case"audio/ogg":return s.icon.getFileIcon("oggIcon");case"video/ogg":return s.icon.getFileIcon("ogvIcon");case"application/pdf":return s.icon.getFileIcon("pdfIcon");case"image/png":return s.icon.getFileIcon("pngIcon");case"text/plain":return s.icon.getFileIcon("txtIcon");case"video/webm":return s.icon.getFileIcon("webmIcon");case"image/webp":return s.icon.getFileIcon("webpIcon");case"video/x-ms-wmv":return s.icon.getFileIcon("wmvIcon");case"application/vnd.ms-excel":return s.icon.getFileIcon("xlsIcon");case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return s.icon.getFileIcon("xlsxIcon");case"application/x-zip-compressed":case"application/zip":return s.icon.getFileIcon("zipIcon");default:return s.icon.getFileIcon("defaultIcon")}}function fe(Ne,pt,St){var Pt=s.popups.get("filesManager.insert"),Jt=Pt.find(".fr-file-item-icon-"+Ne).get(0);if(Tt(_e(pt))&&_e(pt)!="image/gif"&&_e(pt)!="image/webp"){Jt.children[0].localName!="a"&&(Jt.innerHTML="<a target='_blank' href=''>"+Jt.innerHTML+"</a>"),Pt.find(".fr-file-item-icon-"+Ne).get(0).children[0].children[0];var Vn=new FileReader;if(St!=null&&St){var jn=P.get(Ne);pt.name=jn.name,P.set(Ne,pt)}if(Vn.onloadend=function(){Pt.find(".fr-file-item-icon-"+Ne).get(0).children[0].children[0].src=Vn.result;for(var Uo=atob(Vn.result.split(",")[1]),cn=[],cs=0;cs<Uo.length;cs++)cn.push(Uo.charCodeAt(cs));Pt.find(".fr-file-item-icon-"+Ne).get(0).children[0].href=window.URL.createObjectURL(new Blob([new Uint8Array(cn)],{type:_e(pt)})),Pt.find(".fr-file-item-icon-"+Ne).get(0).classList.add("fr-file-item-thumbnail-hover")},pt)Vn.readAsDataURL(pt);else{var vo=Et(_e(pt));Jt.innerHTML=`<svg height="40px" width="40px" viewBox="0 0 55 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        `.concat(vo.path,`
        </svg>`)}}else{var mo=Et(_e(pt));Jt.innerHTML=`<svg height="40px" width="40px" viewBox="0 0 55 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      `.concat(mo.path,`
      </svg>`)}}function Z(Ne){var pt="";if(qt(_e(P.get(Ne)))){var St="fr-files-checkbox",Pt="";on(_e(P.get(Ne)))||(St="fr-checkbox-disabled",Pt="disabled"),pt=`
      <div class="fr-files-checkbox-line align-autoplay">
      <div id="checkbox-key-`.concat(Ne,'" class="').concat(St," fr-autoplay-checkbox  fr-checkbox-").concat(Ne,`">  
                   
      <input type="checkbox" id="fr-file-autoplay-button-`).concat(Ne,'" class="fr-file-button-').concat(Ne,' fr-file-autoplay-button" data-title="Edit" data-param1="').concat(Ne,'" role="button" ').concat(Pt,`/>

      <span>`).concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',` </span>
      </div>      
      <label  class='fr-autoplay-checkbox-label'>Autoplay </label>
      </div>`)}var Jt="application/msword",Vn="application/vnd.openxmlformats-officedocument.wordprocessingml.document",jn="";return!Qt(_e(P.get(Ne)))&&on(_e(P.get(Ne)))||(L="fr-disabled"),qt(_e(P.get(Ne)))&&(L="fr-disabled"),Mt(_e(P.get(Ne)))&&(L="fr-disabled",_e(P.get(Ne))!=Jt&&_e(P.get(Ne))!=Vn||s.opts.googleOptions&&!s.helpers.isMobile()&&s.opts.googleOptions.API_KEY&&s.opts.googleOptions.CLIENT_ID&&(L=""),_e(P.get(Ne))!="text/plain"&&_e(P.get(Ne))!=Jt&&_e(P.get(Ne))!="application/pdf"&&_e(P.get(Ne))!=Vn&&_e(P.get(Ne))!="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"&&_e(P.get(Ne))!="application/vnd.ms-excel"&&_e(P.get(Ne))!="type/text"||(jn="")),_e(P.get(Ne))==="video/url"&&(L="fr-disabled"),pt+=`<div class='fr-file-item-action-buttons' >
                <button type="button" id="fr-file-insert-button-`.concat(Ne,'" class=" fr-doc-edit-').concat(Ne,` fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
                fr-file-button-`).concat(Ne," fr-file-insert-button-").concat(Ne,' fr-file-insert-button" data-cmd="imageInsertByUpload" data-title="Insert" data-param1="').concat(Ne,`" tabIndex="2" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-5 0 28 28" xlmns = "http://w3.org/200/svg"><path d = 'M 9.25 12 L 6.75 12 C 6.335938 12 6 11.664062 6 11.25 L 6 6 L 3.257812 6 C 2.703125 6 2.425781 5.328125 2.820312 4.933594 L 7.570312 0.179688 C 7.804688 -0.0546875 8.191406 -0.0546875 8.425781 0.179688 L 13.179688 4.933594 C 13.574219 5.328125 13.296875 6 12.742188 6 L 10 6 L 10 11.25 C 10 11.664062 9.664062 12 9.25 12 Z M 16 11.75 L 16 15.25 C 16 15.664062 15.664062 16 15.25 16 L 0.75 16 C 0.335938 16 0 15.664062 0 15.25 L 0 11.75 C 0 11.335938 0.335938 11 0.75 11 L 5 11 L 5 11.25 C 5 12.214844 5.785156 13 6.75 13 L 9.25 13 C 10.214844 13 11 12.214844 11 11.25 L 11 11 L 15.25 11 C 15.664062 11 16 11.335938 16 11.75 Z M 12.125 14.5 C 12.125 14.15625 11.84375 13.875 11.5 13.875 C 11.15625 13.875 10.875 14.15625 10.875 14.5 C 10.875 14.84375 11.15625 15.125 11.5 15.125 C 11.84375 15.125 12.125 14.84375 12.125 14.5 Z M 14.125 14.5 C 14.125 14.15625 13.84375 13.875 13.5 13.875 C 13.15625 13.875 12.875 14.15625 12.875 14.5 C 12.875 14.84375 13.15625 15.125 13.5 15.125 C 13.84375 15.125 14.125 14.84375 14.125 14.5 Z M 14.125 14.5 '></path></svg>
                </button>

                <button type="button" id="fr-file-edit-button-`).concat(Ne,'" class=" fr-doc-edit-').concat(Ne," ").concat(L,` fr-img-icon fr-btn fr-command fr-submit 
                fr-file-action-icons fr-file-edit-button-`).concat(Ne," fr-file-button-").concat(Ne,' fr-file-edit-button" data-cmd="editImage" data-title="Edit" data-param1="').concat(Ne,`" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "0 4 25 25" xlmns = "http://w3.org/200/svg"><path d = 'M17,11.2L12.8,7L5,14.8V19h4.2L17,11.2z M7,16.8v-1.5l5.6-5.6l1.4,1.5l-5.6,5.6H7z M13.5,6.3l0.7-0.7c0.8-0.8,2.1-0.8,2.8,0  c0,0,0,0,0,0L18.4,7c0.8,0.8,0.8,2,0,2.8l-0.7,0.7L13.5,6.3z'></path></svg>
                </button>
                
                <span class="fr-file-view-`).concat(Ne,'"><button type="button" id="fr-file-view-button-').concat(Ne,'" class=" fr-doc-edit-').concat(Ne," ").concat(jn,` fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
                fr-file-view-button-`).concat(Ne,' fr-file-view-button" data-cmd="viewImage" data-title="View" data-param1="').concat(Ne,`" tabIndex="2" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "15 19 21 21" xlmns = "http://w3.org/200/svg"> <path style="fill:none;stroke-width:0.9077;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 19.086094 16.541466 C 16.185625 16.541466 14.318281 19.447115 14.318281 19.447115 L 14.318281 19.555288 C 14.318281 19.555288 16.176719 22.475962 19.077187 22.475962 C 21.977656 22.475962 23.847969 19.576322 23.847969 19.576322 L 23.847969 19.465144 C 23.847969 19.465144 21.989531 16.541466 19.086094 16.541466 Z M 19.07125 21.024639 C 18.248906 21.024639 17.583906 20.357572 17.583906 19.53726 C 17.583906 18.716947 18.248906 18.04988 19.07125 18.04988 C 19.890625 18.04988 20.555625 18.716947 20.555625 19.53726 C 20.555625 20.357572 19.890625 21.024639 19.07125 21.024639 Z M 19.07125 21.024639 " transform="matrix(1.315789,0,0,1.3,0,0)"/></svg></button></span>

                <button type="button" id="fr-file-delete-button-`).concat(Ne,'" class=" fr-doc-edit-').concat(Ne,` fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons
                fr-file-button-`).concat(Ne,' fr-file-delete-button" data-cmd="deleteImage" data-title="Delete" data-param1="').concat(Ne,`" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z'></path></svg>
                </button>
                 
            </div>
            <div id="user_area-`).concat(Ne,`" style="display: none;">
            
              <div id="file_container"></div>

              <div style='display:block;text-align: center; margin-left:50%; id='edit-file-loader' class='fr-file-loader'></div>

          </div> 
            `)}function ae(Ne,pt,St){var Pt=s.popups.get("filesManager.insert");if(!St&&Ne<=100){Pt.find(".fr-checkbox-file-"+pt).get(0).disabled=!0,Pt.find(".fr-checkbox-"+pt).get(0).classList.remove("fr-files-checkbox"),Pt.find(".fr-checkbox-"+pt).get(0).classList.add("fr-checkbox-disabled");var Jt=Pt.find(".fr-file-progress-circle-"+pt),Vn=Pt.find(".fr-file-upload-percent-"+pt);return 50<Ne?Jt.get(0).setAttribute("class","fr-file-progress-circle-"+pt+" progress-circle p"+Math.floor(Ne)+" over50"):Jt.get(0).setAttribute("class","fr-file-progress-circle-"+pt+" progress-circle p"+Math.floor(Ne)),Vn.get(0).innerHTML=Math.floor(Ne)+"%",void ye(pt,Ne,St)}St&&(Pt.find(".fr-checkbox-file-"+pt).get(0).disabled=!1,Pt.find(".fr-checkbox-"+pt).get(0).classList.remove("fr-checkbox-disabled"),Pt.find(".fr-checkbox-"+pt).get(0).classList.add("fr-files-checkbox"),Pt.find(".fr-file-item-right-"+pt).get(0).innerHTML=Z(pt),ye(pt,100,St))}function ye(Ne,pt,St){var Pt=s.popups.get("filesManager.insert");Pt.find(".fr-progress-bar").removeClass("fr-none").addClass("fr-display-block"),Pt.find(".fr-upload-progress").hasClass("fr-height-set")&&s.popups.setFileListHeight(Pt);var Jt=0;ee.set(Ne,pt),ee.forEach(function(Vn,jn){Jt+=Vn}),Jt/=ee.size,pt==100&&St&&be++,Pt.find('.fr-command[data-cmd="filesUpload"]').addClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesByURL"]').addClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesEmbed"]').addClass("fr-disabled"),Pt.find(".fr-progress-bar").get(0).style.width=Jt+"%",be==ee.size&&(Pt.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"),ee=new Map,be=0,Pt.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"),Pt.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"))}function Ce(Ne,pt){Rt(),s.popups.get("filesManager.insert").find(".fr-upload-progress-layer").addClass("fr-active"),Ne.forEach(function(St,Pt){Tt(_e(St))&&s.opts.imageUploadRemoteUrls&&s.opts.imageCORSProxy&&s.opts.imageUpload?At(St,Ne,b,pt[Pt]):j.set(pt[Pt],St)})}function ze(Ne){Ne&&Ne.get&&(function(St){if(O(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false"||St&&St.type=="touchend"&&Hn)return!0;if(St&&s.edit.isDisabled())return St.stopPropagation(),St.preventDefault(),!1;for(var Pt=0;Pt<x.INSTANCES.length;Pt++)x.INSTANCES[Pt]!=s&&x.INSTANCES[Pt].events.trigger("image.hideResizer");s.toolbar.disable(),St&&(St.stopPropagation(),St.preventDefault()),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur()),s.opts.iframe&&s.size.syncIframe(),b=O(this),nt(),s.browser.msie?(s.popups.areVisible()&&s.events.disableBlur(),s.win.getSelection&&(s.win.getSelection().removeAllRanges(),s.win.getSelection().addRange(s.doc.createRange()))):s.selection.clear(),s.helpers.isIOS()&&(s.events.disableBlur(),s.$el.blur()),s.button.bulkRefresh(),s.events.trigger("video.hideResizer")}).call(Ne.get(0))}function Re(){var Ne=O(this);Ne.removeClass("fr-uploading"),Ne.next().is("br")&&Ne.next().remove(),(re.length==0||0<re.length&&re.length==se)&&(A=Ne),Ne.get(0).tagName=="VIDEO"||Ne.get(0).tagName=="AUDIO"?s.selection.setAfter(Ne.parent()):s.selection.setAfter(Ne),s.undo.saveStep(),s.events.trigger("filesManager.loaded",[Ne]),pe(re)}function J(){var Ne,pt=Array.prototype.slice.call(s.el.querySelectorAll("video, .fr-video > *")),St=[];for(Ne=0;Ne<pt.length;Ne++)St.push(pt[Ne].getAttribute("src")),O(pt[Ne]).toggleClass("fr-draggable",s.opts.videoMove),pt[Ne].getAttribute("class")===""&&pt[Ne].removeAttribute("class"),pt[Ne].getAttribute("style")===""&&pt[Ne].removeAttribute("style");if(Tn)for(Ne=0;Ne<Tn.length;Ne++)St.indexOf(Tn[Ne].getAttribute("src"))<0&&s.events.trigger("video.removed",[O(Tn[Ne])]);Tn=pt}function pe(Ne){if(Ne!=null){if(Ne.length==0)return void(A!=null&&(A.get(0).tagName=="VIDEO"?s.video._editVideo(A.parent()):A.get(0).tagName=="IMG"?s.image.edit(A):A.trigger("click"),s.toolbar.disable()));Ke(Ne.shift(),Ne)}}function me(Ne){var pt=!1;if(qt(_e(j.get(Ne))))s.trimVideoPlugin.trimVideo(P.get(Ne),Ne,P),pt=!0;else if(Tt(_e(j.get(Ne)))){var St=j.get(Ne).link,Pt=s.o_doc.createElement("img");Pt.src=St,b=Pt,B=Ne,s.imageTUI.launch(s,!1,Ne),pt=!0}else if(Mt(_e(j.get(Ne)))){var Jt={apiKey:s.opts.googleOptions.API_KEY,clientId:s.opts.googleOptions.CLIENT_ID,authorizeButton:"authorize_button-".concat(Ne),signoutButton:"signout_button",userArea:"user_area-".concat(Ne),fileInput:"file_input",fileIndex:Ne,file:P.get(Ne),fileContainer:"file_container",loadingText:"File is being uploaded...",events:{onInvalidFile:function(Vn){},onError:function(Vn){}}};vn=function(jn){var vo,mo=["https://www.googleapis.com/discovery/v1/apis/drive/v2/rest"],Uo="id,title,mimeType,userPermission,editable,copyable,shared,fileSize",cn="-------314159265358979323846",cs=`\r
--`+cn+`\r
`,ds=`\r
--`+cn+"--",Ue=(document.getElementById(jn.authorizeButton),document.getElementById(jn.userArea));jn.events||(jn.events={});function bt(){gapi.client.init({apiKey:jn.apiKey,clientId:jn.clientId,discoveryDocs:mo,scope:"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(Ht),Ht(gapi.auth2.getAuthInstance().isSignedIn.get()),function(Te){!gapi.auth2.getAuthInstance().isSignedIn.get()||gapi.auth.getToken()!==void 0&&gapi.auth.getToken().access_token===void 0?Promise.resolve(gapi.auth2.getAuthInstance().signIn()).then(function(){An()}):An()}()},function(So){jn.events.onError(So)})}function Ht(So){So&&(Ue.style.display="block")}function ln(So){var Te=gapi.auth.getToken().access_token,Ge=vo,xt="https://docs.google.com/feeds/download/documents/export/Export?id="+Ge+"&format=docx&access_token="+Te,Kt=new XMLHttpRequest;Kt.open("get",xt),Kt.responseType="arraybuffer",Kt.onload=function(){var Cn=new Blob([new Uint8Array(this.response)],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),Ko=P.get(jn.fileIndex);Cn.name=Ko.name,Cn.lastModified=Ko.lastModified,Cn.lastModifiedDate=Ko.lastModifiedDate,P.set(jn.fileIndex,Cn),s.filesManager.upload(Cn,j,b,jn.fileIndex),Yo()},Kt.send()}function An(So){(function(xt){for(var Kt=document.getElementsByClassName("fr-doc-edit-".concat(xt)),Cn=0;Cn<Kt.length;Cn++)Kt[Cn].setAttribute("disabled",!0),Kt[Cn].classList.add("fr-disabled")})(jn.fileIndex);var Te=jn.file;Te?function(xt,Kt){var Cn=new FileReader;Cn.readAsArrayBuffer(xt),Cn.onload=function(Ko){for(var ps={title:xt.name,mimeType:"application/vnd.google-apps.document"},ir="",Or=new Uint8Array(Cn.result),Gr=Or.byteLength,Rs=0;Rs<Gr;Rs++)ir+=String.fromCharCode(Or[Rs]);var Sa=btoa(ir),Hi=cs+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(ps)+cs+`Content-Type: application/octet-stream\r
Content-Transfer-Encoding: base64\r
\r
`+Sa+ds,ta=gapi.client.request({path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart",fields:Uo},headers:{"Content-Type":'multipart/related; boundary="'+cn+'"',"Content-Length":Hi.Length},body:Hi});Kt||(Kt=function(Ta){}),ta.execute(function(Ta,xi){Ta.error?jn.events.onError(Ta.error):Kt(Ta)})}}(Te,Wn):jn.events.onInvalidFile("File is not selected")}function Wn(So){vo=So.id;var Te="https://docs.google.com/document/d/"+So.id+"/edit",Ge=s.o_doc.body,xt=s.o_doc.createElement("div");xt.setAttribute("id","editDocContainer"),xt.style.cssText="position: fixed; top: 0;left: 0;padding: 0;width: 100%;height: 100%;background: rgba(255,255,255,1);z-index: 9998;display:block",xt.innerHTML='<div style="margin-top:25px; text-align:center"><label>Sign Out : </label><input type="checkbox" id ="markSignOut" role="button"/>  <button id="signout_button"  class="fr-trim-button" >Save </button> <button id="cancel_file_edit" class="fr-trim-button">Cancel</button></div>  <iframe title="Edit your file" frameBorder="0" width="100%" height="700px" src="'+Te+'"></iframe>',Ge.appendChild(xt),document.getElementById("signout_button").onclick=ln,document.getElementById("cancel_file_edit").onclick=Yo}function Yo(){document.getElementById("markSignOut").checked&&gapi.auth2.getAuthInstance().signOut().then(function(){gapi.auth.getToken()&&(gapi.auth.getToken().access_token=void 0)});var So=document.getElementById("editDocContainer");So.parentNode.removeChild(So),document.getElementById("user_area-".concat(jn.fileIndex))&&(document.getElementById("user_area-".concat(jn.fileIndex)).style.display="none"),function(Ge){for(var xt=document.getElementsByClassName("fr-doc-edit-".concat(Ge)),Kt=0;Kt<xt.length;Kt++)xt[Kt].removeAttribute("disabled"),xt[Kt].classList.remove("fr-disabled")}(jn.fileIndex)}jn.events.onInvalidFile=jn.events.onInvalidFile||function(So){},jn.events.onError=jn.events.onError||function(So){};var Oo={};return Oo.handleClientLoad=function(){gapi.load("client:auth2",bt)},Oo}(Jt),function(jn,vo){var mo=function(cn,cs){var ds=document.createElement("script");ds.src=cn,ds.onload=function(){this.onload=function(){},vn.handleClientLoad()},ds.onreadystatechange=function(){this.readyState==="complete"&&this.onload()},(document.getElementsByTagName("head")[0]||document.body).appendChild(ds)};(function(){jn.length!=0?mo(jn.shift()):vo&&vo()})()}(["https://apis.google.com/js/api.js"],function(){})}pt&&(Q=!0)}function _e(Ne){var pt;if(Ne.type!="")return Ne.type;if(Ne.name&&Ne.name.endsWith(".msg"))return pt="application/vnd.ms-outlook";var St=/(?:\.([^.]+))?$/.exec(Ne.name)[1];return[[".doc","application/msword"],[".docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[".gif","image/gif"],[".jpeg","image/jpeg"],[".jpg","image/jpeg"],[".txt","text/plain"],[".log","type/text"],[".mov","video/quicktime"],[".mp3","audio/mpeg"],[".mp4","video/mp4"],[".ogg","audio/ogg"],[".ogv","video/ogg"],[".pdf","application/pdf"],[".png","image/png"],[".webm","video/webm"],[".webp","image/webp"],[".wmv","video/x-ms-wmv"],[".xls","application/vnd.ms-excel"],[".xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[".zip","application/x-zip-compressed"],[".hex","application/octet-stream"]].forEach(function(Pt,Jt){Pt[0]==".".concat(St)&&(pt=Pt[1])}),pt}function Ke(Ne,pt){if(Mt(_e(j.get(Ne)))||!on(_e(j.get(Ne)))){var St,Pt=j.get(Ne).link,Jt=j.get(Ne).text,Vn=j.get(Ne).data;!Jt&&P.get(Ne)&&P.get(Ne).name&&(Jt=P.get(Ne).name);var jn=j.get(Ne).response;s.edit.on(),s.events.focus(!0),s.selection.restore(),s.opts.fileUseSelectedText&&s.selection.text().length&&(Jt=s.selection.text());var vo='<a href="'.concat(Pt,'" target="_blank" id="fr-inserted-file" ');if(Vn!==void 0)for(St in Vn)Vn.hasOwnProperty(St)&&St!="link"&&(vo+="".concat(St,'="').concat(Vn[St],'" '));vo.indexOf(' class="')==-1&&(vo+='class="fr-file" '),vo+=">".concat(Jt,"</a>"),s.html.insert(vo);var mo=s.$el.find("#fr-inserted-file");mo.removeAttr("id"),s.undo.saveStep(),function(){var Cn,Ko=Array.prototype.slice.call(s.el.querySelectorAll("a.fr-file")),ps=[];for(Cn=0;Cn<Ko.length;Cn++)ps.push(Ko[Cn].getAttribute("href"));if(Mn)for(Cn=0;Cn<Mn.length;Cn++)ps.indexOf(Mn[Cn].getAttribute("href"))<0&&s.events.trigger("file.unlink",[Mn[Cn]]);Mn=Ko}(),s.selection.clear(),s.selection.setAfter(mo),s.events.trigger("file.inserted",[mo,jn]),pe(pt)}if(Tt(_e(j.get(Ne)))&&on(_e(j.get(Ne)))){var Uo=j.get(Ne).link,cn=j.get(Ne).sanitize,cs=j.get(Ne).data,ds=j.get(Ne).$existing_img,Ue=j.get(Ne).response;ds&&typeof ds=="string"&&(ds=s.$(ds)),s.edit.off(),Wt(s.language.translate("Loading image")),cn&&(Uo=s.helpers.sanitizeURL(Uo));var bt=new Image;bt.onload=function(){var Kt,Cn;if(ds){s.undo.canDo()||ds.hasClass("fr-uploading")||s.undo.saveStep();var Ko=ds.data("fr-old-src");ds.data("fr-image-pasted")&&(Ko=null),s.$wp?((Kt=ds.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),Ko&&ds.attr("src",Ko),ds.replaceWith(Kt)):Kt=ds;for(var ps=Kt.get(0).attributes,ir=0;ir<ps.length;ir++){var Or=ps[ir];Or.nodeName.indexOf("data-")===0&&Kt.removeAttr(Or.nodeName)}if(cs!==void 0)for(Cn in cs)cs.hasOwnProperty(Cn)&&Cn!="link"&&Kt.attr("data-".concat(Cn),cs[Cn]);Kt.on("load",Re),Kt.attr("src",Uo),s.edit.on(),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger(Ko?"image.replaced":"image.inserted",[Kt,Ue])}else Kt=function(Rs,Sa,Hi){var ta,Ta=O(document.createElement("img")).attr("src",Rs);if(Sa&&Sa!==void 0)for(ta in Sa)Sa.hasOwnProperty(ta)&&ta!="link"&&(" data-".concat(ta,'="').concat(Sa[ta],'"'),Ta.attr("data-".concat(ta),Sa[ta]));var xi=s.opts.imageDefaultWidth;xi&&xi!="auto"&&(xi=s.opts.imageResizeWithPercent?"100%":"".concat(xi,"px")),Ta.attr("style",xi?"width: ".concat(xi,";"):""),Ur(Ta,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),Ta.on("load",Hi),Ta.on("error",Hi),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.imageSplitHTML?s.markers.split():s.markers.insert(),s.html.wrap();var la=s.$el.find(".fr-marker");return la.length?(la.parent().is("hr")&&la.parent().after(la),s.node.isLastSibling(la)&&la.parent().hasClass("fr-deletable")&&la.insertAfter(la.parent()),la.replaceWith(Ta)):s.$el.append(Ta),Ta}(Uo,cs,Re),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger("image.inserted",[Kt,Ue])},bt.onerror=function(){$e(V,null,null,Ne),pe(pt)},bt.src=Uo}if((qt(_e(j.get(Ne)))||Qt(_e(j.get(Ne))))&&on(_e(j.get(Ne))))if(ge=Ne,_e(j.get(Ne))=="video/url"){var Ht=!1;if(document.getElementById("fr-file-autoplay-button-"+Ne)!==void 0&&(Ht=document.getElementById("fr-file-autoplay-button-"+Ne).checked),Ht&&j.get(Ne)!==void 0&&-1<j.get(Ne).video.indexOf("iframe")&&j.get(Ne).video.indexOf("autoplay=1")<0){var ln=j.get(Ne).video.substring(j.get(Ne).video.indexOf("src")+3),An="&";(ln=(ln=ln.substring(ln.indexOf('"')+1)).substring(0,ln.indexOf('"'))).indexOf("?")<0&&(An="?"),j.get(Ne).video=j.get(Ne).video.replace(ln,ln+=An+"autoplay=1&mute=1")}else!Ht&&j.get(Ne).video.indexOf(!1)&&(-1<j.get(Ne).video.indexOf("&autoplay=1")&&(j.get(Ne).video=j.get(Ne).video.replace("&autoplay=1","")),-1<j.get(Ne).video.indexOf("?autoplay=1")&&(j.get(Ne).video=j.get(Ne).video.replace("?autoplay=1","")));s.events.focus(!0),s.selection.restore(),s.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(j.get(Ne).video,"</span>"),!1,s.opts.videoSplitHTML),s.popups.hide("filesManager.insert");var Wn=s.$el.find(".fr-jiv");Wn.removeClass("fr-jiv"),Wn.toggleClass("fr-rv",s.opts.videoResponsive),function(Cn,Ko,ps){!s.opts.htmlUntouched&&s.opts.useClasses?(Cn.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),Cn.addClass("fr-fv".concat(ps[0]," fr-dv").concat(Ko[0]))):Ko=="inline"?(Cn.css({display:"inline-block"}),ps=="center"?Cn.css({float:"none"}):ps=="left"?Cn.css({float:"left"}):Cn.css({float:"right"})):(Cn.css({display:"block",clear:"both"}),ps=="left"?Cn.css({textAlign:"left"}):ps=="right"?Cn.css({textAlign:"right"}):Cn.css({textAlign:"center"}))}(Wn,s.opts.videoDefaultDisplay,s.opts.videoDefaultAlign),Wn.toggleClass("fr-draggable",s.opts.videoMove),s.events.trigger("video.inserted",[Wn]),Re.call(Wn)}else{var Yo=j.get(Ne).link,Oo=j.get(Ne).sanitize,So=j.get(Ne).data,Te=j.get(Ne).$existing_img,Ge=j.get(Ne).response;s.edit.off(),Oo&&(Yo=s.helpers.sanitizeURL(Yo)),function(){var Cn,Ko;if(Te){s.undo.canDo()||Te.find("video").hasClass("fr-uploading")||s.undo.saveStep();var ps=Te.find("video").data("fr-old-src"),ir=Te.data("fr-replaced");Te.data("fr-replaced",!1),s.$wp?((Cn=Te.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),Cn.find("video").off("canplay"),ps&&Te.find("video").attr("src",ps),Te.replaceWith(Cn)):Cn=Te;for(var Or=Cn.find("video").get(0).attributes,Gr=0;Gr<Or.length;Gr++){var Rs=Or[Gr];Rs.nodeName.indexOf("data-")===0&&Cn.find("video").removeAttr(Rs.nodeName)}if(So!==void 0)for(Ko in So)So.hasOwnProperty(Ko)&&Ko!="link"&&Cn.find("video").attr("data-".concat(Ko),So[Ko]);Cn.find("video").on("canplay",Re),Cn.find("video").attr("src",Yo),s.edit.on(),J(),s.undo.saveStep(),s.$el.blur(),s.events.trigger(ir?"video.replaced":"video.inserted",[Cn,Ge])}else Cn=function(Hi,ta,Ta,xi,la){var Ji,zi="";if(ta&&ta!==void 0)for(Ji in ta)ta.hasOwnProperty(Ji)&&Ji!="link"&&(zi+=" data-".concat(Ji,'="').concat(ta[Ji],'"'));var ml,eu=s.opts.videoDefaultWidth;if(eu&&eu!="auto"&&(eu="".concat(eu,"px")),Qt(xi))ml=O(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<audio src="'+Hi+'" '+zi+" controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</audio>");else{var l1="",Rg=document.getElementById("fr-file-autoplay-button-"+la).checked;Rg&&(l1="autoplay"),ml=O(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<video src="'+Hi+'" '+zi+(eu?' style="width: '+eu+';" ':"")+l1+"  controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</video>")}ml.toggleClass("fr-draggable",s.opts.videoMove),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.videoSplitHTML?s.markers.split():s.markers.insert(),s.html.wrap();var md=s.$el.find(".fr-marker");s.node.isLastSibling(md)&&md.parent().hasClass("fr-deletable")&&md.insertAfter(md.parent()),md.replaceWith(ml);var Ui="";return Ui=Qt(xi)?"audio":"video",ml.find(Ui).get(0).readyState>ml.find(Ui).get(0).HAVE_FUTURE_DATA||s.helpers.isIOS()?Ta.call(ml.find(Ui).get(0)):(ml.find(Ui).on("canplaythrough load",Ta),ml.find(Ui).on("error",Ta)),ml}(Yo,So,Re,_e(j.get(Ne)),Ne),J(),s.undo.saveStep(),s.events.trigger("video.inserted",[Cn,Ge])}()}s.popups.hide("filesManager.insert"),w.delete(Ne);var xt=s.popups.get("filesManager.insert");xt.find("input.fr-insert-attr.fr-checkbox-file-".concat(Ne))[0].checked=!1,xt.find(".fr-file-"+Ne).get(0).classList.add("fr-unchecked"),tt(),document.getElementById("fr-file-autoplay-button-"+Ne)&&(document.getElementById("fr-file-autoplay-button-"+Ne).checked=!1),ie=ie.filter(function(Kt){return Kt!=Ne})}function ft(Ne,pt){try{if(s.events.trigger("filesManager.uploaded",[Ne],!0)===!1)return s.edit.on(),!1;var St=JSON.parse(Ne);return St.link?St:($e(I,Ne,null,pt),!1)}catch{return $e(ne,Ne,null,pt),!1}}function gt(Ne,pt){try{var St=O(Ne).find("Location").text(),Pt=O(Ne).find("Key").text();return s.events.trigger("filesManager.uploadedToS3",[St,Pt,Ne],!0)===!1?(s.edit.on(),!1):St}catch{return $e(ne,Ne,null,pt),!1}}function At(Ne,pt,St,Pt){if(-1<Le.indexOf(_e(Ne))||!_e(Ne))return $e(q,null,null,Pt),!1;if(s.events.trigger("filesManager.beforeUpload",[pt])===!1)return!1;if(!(s.opts.filesManagerUploadURL!==null&&s.opts.filesManagerUploadURL!=z||s.opts.filesManagerUploadToS3||s.opts.filesManagerUploadToAzure))return function(Oo,So,Te){var Ge=new FileReader;Ge.onload=function(){var xt=Ge.result;if(Ge.result.indexOf("svg+xml")<0){for(var Kt=atob(Ge.result.split(",")[1]),Cn=[],Ko=0;Ko<Kt.length;Ko++)Cn.push(Kt.charCodeAt(Ko));if(xt=window.URL.createObjectURL(new Blob([new Uint8Array(Cn)],{type:_e(So)})),Tt(_e(So))){var ps={link:xt,sanitize:!1,data:null,$existing_img:Te,response:null,type:_e(So)};j.set(Oo,ps)}if(Mt(_e(So))){var ir={link:xt,text:So.name,response:null,type:_e(So)};j.set(Oo,ir)}if(qt(_e(So))||Qt(_e(So))){var Or={link:xt,sanitize:!1,data:null,$existing_img:Te,type:_e(So)};j.set(Oo,Or)}}},Ge.readAsDataURL(So)}(Pt,Ne),!1;if(Tt(_e(Ne))&&(Ne.name||(Ne.name=new Date().getTime()+"."+(_e(Ne)||"image/jpeg").replace(/image\//g,""))),Ne.size>s.opts.filesManagerMaxSize)return $e(G,null,null,Pt),!1;if(s.opts.filesManagerAllowedTypes.indexOf("*")<0&&s.opts.filesManagerAllowedTypes.indexOf(_e(Ne))<0)return $e(q,null,null,Pt),!1;var Jt;if(function(Oo){isNaN(Oo)||(s.popups.get("filesManager.insert").find(".fr-file-item-right-"+Oo).get(0).innerHTML=`<div class='fr-file-item-action-buttons' >
    <button type="button" id="fr-file-cancel-upload-button-`.concat(Oo,`" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
    fr-file-button-`).concat(Oo,' fr-file-cancel-upload-button" data-cmd="cancelUpload" data-title="Cancel" data-param1="').concat(Oo,`" role="button">
    <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z'></path></svg>
    </button>

    <button type="button" id="fr-upload-delete-button-`).concat(Oo,`" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons 
    fr-file-button-`).concat(Oo,' fr-upload-delete-button" data-cmd="deleteUpload" data-title="Delete" data-param1="').concat(Oo,`" role="button">
    <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z'></path></svg>
    </button>

    <div class='progress-circle p0 fr-file-progress-circle-`).concat(Oo,`'>
                  <span class='fr-file-upload-percent-`).concat(Oo,` fr-file-upload-percent'>0%</span>
                  <div class='left-half-clipper'>
                    <div class='first50-bar'></div>
                    <div class='value-bar'></div>
                  </div>
                </div>
            </div>`),ee.set(Oo,0))}(Pt),s.drag_support.formdata&&(Jt=s.drag_support.formdata?new FormData:null),Jt){var Vn;if(s.opts.filesManagerUploadToS3!==!1)for(Vn in Jt.append("key",s.opts.filesManagerUploadToS3.keyStart+new Date().getTime()+"-"+(Ne.name||"untitled")),Jt.append("success_action_status","201"),Jt.append("X-Requested-With","xhr"),Jt.append("Content-Type",_e(Ne)),s.opts.filesManagerUploadToS3.params)s.opts.filesManagerUploadToS3.params.hasOwnProperty(Vn)&&Jt.append(Vn,s.opts.filesManagerUploadToS3.params[Vn]);for(Vn in s.opts.filesManagerUploadParams)s.opts.filesManagerUploadParams.hasOwnProperty(Vn)&&Jt.append(Vn,s.opts.filesManagerUploadParams[Vn]);Jt.append(s.opts.filesManagerUploadParam,Ne,Ne.name);var jn,vo,mo=s.opts.filesManagerUploadURL;s.opts.filesManagerUploadToS3&&(mo=s.opts.filesManagerUploadToS3.uploadURL?s.opts.filesManagerUploadToS3.uploadURL:"https://".concat(s.opts.filesManagerUploadToS3.region,".amazonaws.com/").concat(s.opts.filesManagerUploadToS3.bucket)),s.opts.filesManagerUploadToAzure&&(mo=s.opts.filesManagerUploadToAzure.uploadURL?"".concat(s.opts.filesManagerUploadToAzure.uploadURL,"/").concat(Ne.name):encodeURI("https://".concat(s.opts.filesManagerUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.filesManagerUploadToAzure.container,"/").concat(Ne.name)),jn=mo,s.opts.filesManagerUploadToAzure.SASToken&&(mo+=s.opts.filesManagerUploadToAzure.SASToken),s.opts.filesManagerUploadMethod="PUT");var Uo=s.core.getXHR(mo,s.opts.filesManagerUploadMethod);if(s.opts.filesManagerUploadToAzure){var cn=new Date().toUTCString();if(!s.opts.filesManagerUploadToAzure.SASToken&&s.opts.filesManagerUploadToAzure.accessKey){var cs=s.opts.filesManagerUploadToAzure.account,ds=s.opts.filesManagerUploadToAzure.container;if(s.opts.filesManagerUploadToAzure.uploadURL){var Ue=s.opts.filesManagerUploadToAzure.uploadURL.split("/");ds=Ue.pop(),cs=Ue.pop().split(".")[0]}var bt=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(cn,`
x-ms-version:2019-07-07`),Ht=encodeURI("/"+cs+"/"+ds+"/"+Ne.name),ln=s.opts.filesManagerUploadMethod+`


`+Ne.size+`

`+_e(Ne)+`






`+bt+`
`+Ht,An=s.cryptoJSPlugin.cryptoJS.HmacSHA256(ln,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.filesManagerUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),Wn="SharedKey "+cs+":"+An;vo=An,Uo.setRequestHeader("Authorization",Wn)}for(Vn in Uo.setRequestHeader("x-ms-version","2019-07-07"),Uo.setRequestHeader("x-ms-date",cn),Uo.setRequestHeader("Content-Type",_e(Ne)),Uo.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.filesManagerUploadParams)s.opts.filesManagerUploadParams.hasOwnProperty(Vn)&&Uo.setRequestHeader(Vn,s.opts.filesManagerUploadParams[Vn]);for(Vn in s.opts.filesManagerUploadToAzure.params)s.opts.filesManagerUploadToAzure.params.hasOwnProperty(Vn)&&Uo.setRequestHeader(Vn,s.opts.filesManagerUploadToAzure.params[Vn])}Uo.onload=function(){Mt(_e(Ne))?(function(Oo,So,Te,Ge,xt){var Kt=this.status,Cn=this.response,Ko=this.responseXML,ps=this.responseText;try{if(s.opts.filesManagerUploadToS3||s.opts.filesManagerUploadToAzure)if(Kt===201){var ir;if(s.opts.filesManagerUploadToAzure){if(s.events.trigger("filesManager.uploadedToAzure",[this.responseURL,xt,Cn],!0)===!1)return s.edit.on(),!1;ir=Ge}else ir=gt(Ko,So);if(ir){var Or={link:ir,text:Oo,response:Cn,type:Te};j.set(So,Or)}}else $e(ne,Cn||Ko,null,So);else if(200<=Kt&&Kt<300){var Gr=ft(ps,So);if(Gr){var Rs={link:Gr.link,text:Oo,response:Cn,type:Te,data:Gr};j.set(So,Rs)}}else $e(N,Cn||ps,null,So)}catch{$e(ne,Cn||ps,null,So)}}).call(Uo,Ne.name,Pt,_e(Ne),jn,vo):(function(Oo,So,Te,Ge,xt){var Kt=this.status,Cn=this.response,Ko=this.responseXML,ps=this.responseText;try{if(s.opts.filesManagerUploadToS3||s.opts.filesManagerUploadToAzure)if(Kt==201){var ir;if(s.opts.filesManagerUploadToAzure){if(s.events.trigger("filesManager.uploadedToAzure",[this.responseURL,xt,Cn],!0)===!1)return s.edit.on(),!1;ir=Ge}else ir=gt(Ko,So);if(ir){var Or={link:ir,sanitize:!1,data:[],$existing_img:Oo,response:Cn||Ko,type:Te};j.set(So,Or)}}else $e(ne,Cn||Ko,Oo,So);else if(200<=Kt&&Kt<300){var Gr=ft(ps,So);if(Gr){var Rs={link:Gr.link,sanitize:!1,data:Gr,$existing_img:Oo,response:Cn||Ko,type:Te};j.set(So,Rs)}}else $e(N,Cn||ps,Oo,So)}catch{$e(ne,Cn||ps,Oo,So)}}).call(Uo,b,Pt,_e(Ne),jn,vo),xe.has(Pt)||ae(100,Pt,!0)},Uo.onerror=function(){$e(ne,this.response||this.responseText||this.responseXML,null,Pt)},Uo.upload.onprogress=function(Yo){(function(So,Te){So.lengthComputable&&ae(So.loaded/So.total*100|0,Te,!1)})(Yo,Pt)},Uo.onabort=function(Yo){(function(So,Te){$e(de,Te,b,So)})(Pt,Yo)},Uo.send(s.opts.filesManagerUploadToAzure?Ne:Jt),K.set(Pt,Uo)}}function zt(Ne){s.events.$on(Ne,"click",".fr-upload-progress-layer",function(pt){if(s.helpers.isMobile())return pt.stopPropagation(),!1},!0),s.events.$on(Ne,"dragover dragenter",".fr-upload-progress-layer",function(pt){pt.preventDefault();for(var St=0;St<pt.originalEvent.dataTransfer.types.length;St++)pt.originalEvent.dataTransfer.types[St]=="Files"&&(pt.originalEvent.dataTransfer.dropEffect="none");return!1},!0),s.events.$on(Ne,"dragleave dragend",".fr-upload-progress-layer",function(pt){return pt.preventDefault(),!1},!0),s.events.$on(Ne,"dragover dragenter",".fr-files-upload-layer",function(pt){return O(this).addClass("fr-drop"),(s.browser.msie||s.browser.edge)&&pt.preventDefault(),!1},!0),s.events.$on(Ne,"dragleave dragend",".fr-files-upload-layer",function(pt){return O(this).removeClass("fr-drop"),(s.browser.msie||s.browser.edge)&&pt.preventDefault(),!1},!0),s.events.$on(Ne,"click",".fr-insert-checkbox",function(pt){if(this.classList.contains("fr-checkbox-disabled"))return this.children.target.disabled=!0,void(this.children.target.checked=!1);var St=parseInt(this.id.split("-").pop());w.set(St,this.children.target.checked);for(var Pt=Ne.find('.fr-command[data-cmd="insertAll"]'),Jt=Ne.find('.fr-command[data-cmd="deleteAll"]'),Vn=Ne.find('input.fr-file-insert-check[type="checkbox"]'),jn=Vn.length,vo=!0,mo=0;mo<jn;mo++)Vn[mo].checked==1&&(vo=!1);vo?Pt.addClass("fr-disabled"):Pt.removeClass("fr-disabled"),vo?Jt.addClass("fr-disabled"):Jt.removeClass("fr-disabled"),this.children.target.checked?(Ne.find(".fr-file-"+this.id.split("-").pop()).get(0).setAttribute("draggable","true"),Ne.find(".fr-file-"+this.id.split("-").pop()).get(0).classList.remove("fr-unchecked")):(this.id.split("-").pop(),Ne.find(".fr-file-"+this.id.split("-").pop()).get(0).setAttribute("draggable","false"),Ne.find(".fr-file-"+this.id.split("-").pop()).get(0).classList.add("fr-unchecked"))}),s.events.$on(Ne,"click",".fr-file-insert-button",function(pt){this.classList.contains("fr-disabled")||Ke(parseInt(this.id.split("-").pop()))}),s.events.$on(Ne,"click",".fr-file-autoplay-button",function(pt){if(this.parentNode.classList.contains("fr-checkbox-disabled"))return this.disabled=!0,void(this.checked=!1);kt(parseInt(this.id.split("-").pop()))}),s.events.$on(Ne,"click",".fr-file-edit-button",function(pt){var St=parseInt(this.id.split("-").pop());Ne.find(".fr-file-edit-button-".concat(St)).hasClass("fr-disabled")||me(St)}),s.events.$on(Ne,"click",".fr-file-view-button",function(pt){var St=parseInt(this.id.split("-").pop());Ne.find(".fr-file-view-button-".concat(St)).hasClass("fr-disabled")||function(Jt){if(!on(_e(j.get(Jt)))){var Vn=j.get(Jt).link,jn=j.get(Jt).link;if(P.get(Jt)&&P.get(Jt).name?jn=P.get(Jt).name:j.get(Jt).text&&(jn=j.get(Jt).text),Vn.indexOf("blob:")===0&&s.browser.msie&&window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(P.get(Jt),jn);else{var vo=document.createElement("a");vo.href=Vn,vo.download=jn,vo.click()}return!1}var mo=s.popups.get("filesManager.insert");if(0<mo.find(".fr-file-view-image-"+Jt).length)mo.find(".fr-file-view-image-"+Jt)[0].remove();else{for(var Uo=mo.find(".fr-file-view"),cn=0;cn<Uo.length;cn++)Uo.get(cn).remove();var cs=mo.find(".fr-file-view-"+Jt);if(Tt(_e(j.get(Jt)))){var ds=`<div class="fr-file-view-modal">
              <div class="fr-file-view-modal-content">
              <div class="fr-file-view-close">&times;</div> 
                <img src="`+j.get(Jt).link+`" class ='fr-file-view-image'/>
                </div>
              </div>`;cs[0].innerHTML=ds+cs[0].innerHTML}else if(qt(_e(j.get(Jt)))){var Ue;if(j.get(Jt).hasOwnProperty("video")){var bt=j.get(Jt).video.substring(j.get(Jt).video.indexOf("src")+3),Ht=bt.substring(bt.indexOf('"')+1);Ht=Ht.substring(0,Ht.indexOf('"')),Ue=`<div class="fr-file-view-modal">
        <div class="fr-file-view-modal-content ">
          <div class="fr-file-view-close">&times;</div> 
          <iframe width="640" height="360" src="`.concat(Ht+"&autoplay=1&mute=1",`" allow="autoplay" frameborder="0" class = "fr-file-view-image"></iframe>
        </div>
      </div>`)}else Ue=`<div class="fr-file-view-modal">
          <div class="fr-file-view-modal-content ">
            <div class="fr-file-view-close">&times;</div> 
            <video controls src="`+j.get(Jt).link+`"  class ='fr-file-view-image' autoplay></video>
          </div>
        </div>`;cs[0].innerHTML=Ue+cs[0].innerHTML}else if(Qt(_e(j.get(Jt)))){var ln=`<div class="fr-file-view-modal">
        <div class="fr-file-view-modal-content ">
          <div  class="fr-file-view-close">&times;</div> 
          <audio controls="controls"  class ='fr-file-view-image' autoplay>

          <source src="`.concat(j.get(Jt).link,'" type="').concat(_e(j.get(Jt)),`" />

            Your browser does not support the audio element.
          </audio>
        </div>
      </div>`);cs[0].innerHTML=ln+cs[0].innerHTML}else if(Mt(_e(j.get(Jt)))){var An=j.get(Jt).link,Wn=j.get(Jt).text;if(An.endsWith(".pdf")||An.endsWith(".txt")){var Yo=`<div class="fr-file-view-modal">	
              <div class="fr-file-view-modal-content " >	
              <div class="fr-file-view-close">&times;</div> 	
              <iframe src="`.concat(An,`" style='background-color: white;' height='50%' width='50%' title="`).concat(Wn,`" class="fr-file fr-file-view-image"></iframe>	
            </div>	
            </div>`);cs[0].innerHTML=Yo+cs[0].innerHTML}else if(An.indexOf("blob:")===0&&s.browser.msie&&window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(P.get(Jt),Wn);else{var Oo=document.createElement("a");Oo.href=An,Oo.download=Wn,Oo.click()}}}}(St)}),s.events.$on(Ne,"click",".fr-file-delete-button",function(pt){_t(parseInt(this.id.split("-").pop()))}),s.events.$on(Ne,"click",".fr-file-cancel-upload-button",function(pt){(function(Pt){var Jt=s.popups.get("filesManager.insert");Jt.find(".fr-file-item-right-"+Pt).get(0).innerHTML=Z(Pt),K.get(Pt).abort(),ye(Pt,100,!0),Jt.find(".fr-checkbox-file-"+Pt).get(0).disabled=!0})(parseInt(this.id.split("-").pop()))}),s.events.$on(Ne,"click",".fr-upload-delete-button",function(pt){(function(Pt){K.get(Pt).readyState!=0&&(K.get(Pt).abort(),ye(Pt,100,!0),K.delete(Pt)),_t(Pt)})(parseInt(this.id.split("-").pop()))}),s.events.$on(Ne,"click",".fr-file-view-close",function(pt){Ne.find(".fr-file-view-modal").get(0).outerHTML=""}),s.events.$on(Ne,"click",".fr-plugins-enable",function(pt){(function(){U.forEach(function(Pt){s.opts.pluginsEnabled.indexOf(Pt)<0&&s.opts.pluginsEnabled.push(Pt)})})(),function(Pt){for(var Jt in Pt)if(!s[Jt]){if(x.PLUGINS[Jt]&&s.opts.pluginsEnabled.indexOf(Jt)<0)continue;s[Jt]=new Pt[Jt](s),s[Jt]._init&&s[Jt]._init()}}(x.PLUGINS),s.popups.get("filesManager.insert").get(0).outerHTML="",_n(),Pe(!0)}),s.events.$on(Ne,"click",".fr-plugins-cancel",function(pt){s.popups.hide("filesManager.insert")}),s.events.$on(Ne,"drop",".fr-upload-progress",function(pt){pt.preventDefault(),pt.stopPropagation()}),s.events.$on(Ne,"drop",".fr-files-upload-layer",function(pt){pt.preventDefault(),pt.stopPropagation(),O(this).removeClass("fr-drop");var St=pt.originalEvent.dataTransfer;if(St&&St.files){var Pt=Ne.data("instance")||s;Pt.events.disableBlur();for(var Jt=[],Vn=0;Vn<St.files.length;Vn++){var jn=D;P.set(jn,St.files[Vn]),ms(jn),w.set(jn,!1),Jt.push(jn),D++}for(var vo=0;vo<Jt.length;vo++)Pt.filesManager.upload(P.get(Jt[vo]),St.files,b,Jt[vo]);Pt.events.enableBlur()}},!0),s.helpers.isIOS()&&s.events.$on(Ne,"touchstart",'.fr-files-upload-layer input[type="file"]',function(){O(this).trigger("click")},!0),s.events.$on(Ne,"change",'.fr-files-upload-layer input[type="file"]',function(){if(this.files){var pt=Ne.data("instance")||s;pt.events.disableBlur(),Ne.find("input:focus").blur(),pt.events.enableBlur();var St=[];if(typeof this.files<"u"&&0<this.files.length){for(var Pt=0;Pt<this.files.length;Pt++){var Jt=D;P.set(Jt,this.files[Pt]),ms(Jt),w.set(Jt,!1),++D,St.push(Jt)}for(var Vn=0;Vn<St.length;Vn++)pt.filesManager.upload(P.get(St[Vn]),this.files,b,St[Vn])}}O(this).val("")},!0)}function kt(Ne){document.getElementById("fr-file-autoplay-button-"+Ne).checked?ie.push(Ne):ie=ie.filter(function(pt){return pt!=Ne})}function Tt(Ne){return Ne&&Ne.split("/")[0]==="image"}function Mt(Ne){return Ne&&Ne.split("/")[0]!="image"&&Ne&&Ne.split("/")[0]!="video"&&Ne&&Ne.split("/")[0]!="audio"}function qt(Ne){return Ne&&Ne.split("/")[0]==="video"}function Qt(Ne){return Ne&&Ne.split("/")[0]==="audio"}function on(Ne){var pt="audio/ogg",St="video/ogg";return!((Ne==pt||Ne==St||Ne=="image/webp"||Ne=="video/webm")&&(s.browser.msie||s.browser.edge||s.browser.safari||s.helpers.isMobile()&&(Ne==pt||Ne==St||!s.helpers.isAndroid()&&!s.browser.chrome)))}function _n(Ne){if(Ne)return s.popups.onRefresh("filesManager.insert",we),s.popups.onHide("filesManager.insert",ut),!0;var pt,St,Pt="";s.opts.imageUpload||s.opts.filesInsertButtons.indexOf("filesUpload")===-1||s.opts.imageInsertButtons.splice(s.opts.filesInsertButtons.indexOf("filesUpload"),1);var Jt=s.button.buildList(s.opts.filesInsertButtons),Vn=s.button.buildList(s.opts.filesInsertButtons2);Jt!==""&&(Pt='<div class="fr-buttons fr-tabs">'.concat(Jt,'<span class="fr-align-right">').concat(Vn,"</span></div>"));var jn=s.opts.filesInsertButtons.indexOf("filesUpload"),vo=s.opts.filesInsertButtons.indexOf("filesByURL"),mo=s.opts.filesInsertButtons.indexOf("filesEmbed"),Uo="";0<=jn&&(pt=" fr-active",0<=vo&&vo<jn&&(pt=""),Uo='<div class="fr-files-upload-layer'.concat(pt,' fr-layer " id="fr-files-upload-layer-').concat(s.id,`"><div style="display:flex"><div class="fr-upload-section"><div class = 'fr-blue-decorator'><div class = 'fr-cloud-icon'><svg class = "fr-svg" focusable="false" width="26px" height="26px" viewBox = "0 0 24 24" xlmns = "http://w3.org/200/svg"><path d = 'M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z'></path></svg></div>Drag & Drop One or More Files<br><div class="fr-decorated"><span> OR </span></div> Click Browse Files </div> </div><div class="fr-form"><input type="file" accept="`).concat(s.opts.filesManagerAllowedTypes.join(",").toLowerCase(),'" tabIndex="-1" aria - labelledby="fr-files-upload-layer-').concat(s.id,'"role="button" multiple></div> </div></div>'));var cn="";0<=mo&&(pt=" fr-active",(jn<mo&&0<=jn||vo<mo&&0<=vo)&&(pt=""),cn='<div class="fr-files-embed-layer fr-layer'.concat(pt,'" id="fr-files-embed-layer-').concat(s.id,`"><div class="fr-input-line padding-top-15"><textarea data-gramm_editor="false" style='height:60px' id="fr-files-embed-layer-text`).concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="insertEmbed" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var cs="";0<=vo&&(pt=" fr-active",0<=jn&&jn<vo&&(pt=""),cs='<div class="fr-files-by-url-layer'.concat(pt,' fr-layer" id="fr-files-by-url-layer-').concat(s.id,'"><div class="fr-input-line fr-by-url-padding"><input id="fr-files-by-url-layer-text-').concat(s.id,'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="filesInsertByURL" tabIndex="2" role="button">').concat(s.language.translate("Add"),"</button></div></div>"));var ds={buttons:Pt,upload_layer:Uo,by_url_layer:cs,embed_layer:cn,upload_progress_layer:`<div class = ' fr-margin-16 fr-upload-progress' id="fr-upload-progress-layer-`.concat(s.id,`" ><div  class='fr-progress-bar-style'><div class='fr-progress-bar fr-none'></div></div><div id='filesList' class = 'fr-upload-progress-layer fr-layer'></div></div>`),progress_bar:'<div class="fr-files-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="filesDismissError" tabIndex="2" role="button">OK</button></div></div>'};return 1<=s.opts.imageInsertButtons.length&&(St=s.popups.create("filesManager.insert",ds)),s.$wp&&s.events.$on(s.$wp,"scroll",function(){b&&s.popups.isVisible("filesManager.insert")&&replace()}),zt(St),s.popups.setPopupDimensions(St),St}function Dn(Ne){var pt=Ne.split("/").pop();if(pt.split(".").length<2){var St=new Date;return pt+"-"+St.getDate()+"/"+(St.getMonth()+1)+"/"+St.getFullYear()}return pt}function eo(){b&&s.popups.get("image.alt").find("input").val(b.attr("alt")||"").trigger("change")}function hs(){var Ne=s.popups.get("image.alt");Ne||(Ne=Bs()),Rt(),s.popups.refresh("image.alt"),s.popups.setContainer("image.alt",s.$sc);var pt=Js();ia()&&(pt=pt.find(".fr-img-wrap"));var St=pt.offset().left+pt.outerWidth()/2,Pt=pt.offset().top+pt.outerHeight();s.popups.show("image.alt",St,Pt,pt.outerHeight(),!0)}function Bs(Ne){if(Ne)return s.popups.onRefresh("image.alt",eo),!0;var pt={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageAltButtons),"</div>"),alt_layer:'<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(s.id,'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Alternative Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},St=s.popups.create("image.alt",pt);return s.$wp&&s.events.$on(s.$wp,"scroll.image-alt",function(){b&&s.popups.isVisible("image.alt")&&hs()}),St}function fs(){var Ne=s.popups.get("image.size");if(b)if(ia()){var pt=b.parent();pt.get(0).style.width||(pt=b.parent().parent()),Ne.find('input[name="width"]').val(pt.get(0).style.width).trigger("change"),Ne.find('input[name="height"]').val(pt.get(0).style.height).trigger("change")}else Ne.find('input[name="width"]').val(b.get(0).style.width).trigger("change"),Ne.find('input[name="height"]').val(b.get(0).style.height).trigger("change")}function Is(){var Ne=s.popups.get("image.size");Ne||(Ne=bs()),Rt(),s.popups.refresh("image.size"),s.popups.setContainer("image.size",s.$sc);var pt=Js();ia()&&(pt=pt.find(".fr-img-wrap"));var St=pt.offset().left+pt.outerWidth()/2,Pt=pt.offset().top+pt.outerHeight();s.popups.show("image.size",St,Pt,pt.outerHeight(),!0)}function bs(Ne){if(Ne)return s.popups.onRefresh("image.size",fs),!0;var pt={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageSizeButtons),"</div>"),size_layer:'<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(s.id,`"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'`).concat(s.id,'" type="text" name="width" placeholder="').concat(s.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(s.id,'" type="text" name="height" placeholder="').concat(s.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},St=s.popups.create("image.size",pt);return s.$wp&&s.events.$on(s.$wp,"scroll.image-size",function(){b&&s.popups.isVisible("image.size")&&Is()}),St}function Go(Ne,pt,St,Pt){return Ne.pageX=pt,et.call(this,Ne),Ne.pageX=Ne.pageX+St*Math.floor(Math.pow(1.1,Pt)),Ve.call(this,Ne),Ze.call(this,Ne),++Pt}function Do(Ne){(Ne=Ne||Js())&&s.events.trigger("image.beforeRemove",[Ne])!==!1&&(s.popups.hideAll(),po(!0),s.undo.canDo()||s.undo.saveStep(),Ne.get(0)==s.el?Ne.removeAttr("src"):(Ne.get(0).parentNode&&Ne.get(0).parentNode.tagName=="A"?(s.selection.setBefore(Ne.get(0).parentNode)||s.selection.setAfter(Ne.get(0).parentNode)||Ne.parent().after(x.MARKERS),O(Ne.get(0).parentNode).remove()):(s.selection.setBefore(Ne.get(0))||s.selection.setAfter(Ne.get(0))||Ne.after(x.MARKERS),Ne.remove()),s.html.fillEmptyBlocks(),s.selection.restore()),s.undo.saveStep())}function zs(Ne){var pt=Ne.which;if(b&&(pt==x.KEYCODE.BACKSPACE||pt==x.KEYCODE.DELETE))return Ne.preventDefault(),Ne.stopPropagation(),Do(),!1;if(b&&pt==x.KEYCODE.ESC){var St=b;return po(!0),s.selection.setAfter(St.get(0)),s.selection.restore(),Ne.preventDefault(),!1}if(!b||pt!=x.KEYCODE.ARROW_LEFT&&pt!=x.KEYCODE.ARROW_RIGHT)return b&&pt===x.KEYCODE.TAB?(Ne.preventDefault(),Ne.stopPropagation(),po(!0),!1):b&&pt!=x.KEYCODE.F10&&!s.keys.isBrowserAction(Ne)?(Ne.preventDefault(),Ne.stopPropagation(),!1):void 0;var Pt=b.get(0);return po(!0),pt==x.KEYCODE.ARROW_LEFT?s.selection.setBefore(Pt):s.selection.setAfter(Pt),s.selection.restore(),Ne.preventDefault(),!1}function As(Ne){if(Ne&&Ne.tagName=="IMG"){var pt;if(s.node.hasClass(Ne,"fr-uploading")||s.node.hasClass(Ne,"fr-error")?(pt=Ne.parentNode)===null||pt===void 0||pt.removeChild(Ne):s.node.hasClass(Ne,"fr-draggable")&&Ne.classList.remove("fr-draggable"),Ne.parentNode&&Ne.parentNode.parentNode&&s.node.hasClass(Ne.parentNode.parentNode,"fr-img-caption")){var St=Ne.parentNode.parentNode;St.removeAttribute("contenteditable"),St.removeAttribute("draggable"),St.classList.remove("fr-draggable");var Pt=Ne.nextSibling;Pt&&Pt.removeAttribute("contenteditable")}}else if(Ne&&Ne.nodeType==Node.ELEMENT_NODE)for(var Jt=Ne.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),Vn=0;Vn<Jt.length;Vn++)As(Jt[Vn])}function Vs(Ne){var pt=Ne.target.result,St=s.opts.imageDefaultWidth;St&&St!="auto"&&(St+=s.opts.imageResizeWithPercent?"%":"px"),s.undo.saveStep(),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(pt,'"').concat(St?' style="width: '.concat(St,';"'):"",">"));var Pt=s.$el.find('img[data-fr-image-pasted="true"]');Pt&&Ur(Pt,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}function go(Ne,pt){var St=new FileReader;St.onload=function(Jt){var Vn=s.opts.imageDefaultWidth;Vn&&Vn!="auto"&&(Vn+=s.opts.imageResizeWithPercent?"%":"px"),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(Jt,'"').concat(Vn?' style="width: '.concat(Vn,';"'):"",">"));var jn=s.$el.find('img[data-fr-image-pasted="true"]');jn&&Ur(jn,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}(pt),St.readAsDataURL(Ne,pt)}function bo(Ne,pt){var St=pt||Ne&&Ne.clipboardData;if(St&&St.items){var Pt=(St||window.clipboardData).getData("text/html")||"",Jt=new DOMParser().parseFromString(Pt,"text/html").querySelector("img");if(Jt&&!s.opts.imageUploadURL){if(!Jt)return!1;var Vn=Jt.src,jn=null;if(St.types&&[].indexOf.call(St.types,"text/rtf")!=-1||St.getData("text/rtf"))jn=St.items[0].getAsFile();else for(var vo=0;vo<St.items.length;vo++)if(jn=St.items[vo].getAsFile()){x.IMAGE_TYPE=jn.type;break}if(jn)return go(jn,Vn),!1}else{var mo=null;if(St.types&&[].indexOf.call(St.types,"text/rtf")!=-1||St.getData("text/rtf"))mo=St.items[0].getAsFile();else for(var Uo=0;Uo<St.items.length&&!(mo=St.items[Uo].getAsFile());Uo++);if(mo)return function(cs){var ds=new FileReader;ds.onload=Vs,ds.readAsDataURL(cs)}(mo),!1}}}function io(Ne){return Ne=Ne.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function po(Ne){b&&(function(){return Tr}()||Ne===!0)&&(s.toolbar.enable(),a&&a.removeClass("fr-active"),s.popups.hide("image.edit"),b=null,Qn(),p=null,M&&M.hide())}var Tr=!1;function vi(){Tr=!0}function Qn(){Tr=!1}function Ur(Ne,pt,St){!s.opts.htmlUntouched&&s.opts.useClasses?(O(Ne).removeClass("fr-fil fr-fir fr-dib fr-dii"),St&&O(Ne).addClass("fr-fi".concat(St[0])),pt&&O(Ne).addClass("fr-di".concat(pt[0]))):pt=="inline"?(Ne.css({display:"inline-block",verticalAlign:"bottom",margin:s.opts.imageDefaultMargin}),St=="center"?Ne.css({float:"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - ".concat(2*s.opts.imageDefaultMargin,"px)"),textAlign:"center"}):St=="left"?Ne.css({float:"left",marginLeft:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"left"}):Ne.css({float:"right",marginRight:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"right"})):pt=="block"&&(Ne.css({display:"block",float:"none",verticalAlign:"top",margin:"".concat(s.opts.imageDefaultMargin,"px auto"),textAlign:"center"}),St=="left"?Ne.css({marginLeft:0,textAlign:"left"}):St=="right"&&Ne.css({marginRight:0,textAlign:"right"}))}function wa(){return b}function Js(){return ia()?b.parents(".fr-img-caption").first():b}function ia(){return!!b&&0<b.parents(".fr-img-caption").length}return{_init:function(){var pt;(function(){s.events.$on(s.$el,s._mousedown,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(Pt){if(O(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;s.helpers.isMobile()||s.selection.clear(),H=!0,s.popups.areVisible()&&s.events.disableBlur(),s.browser.msie&&(s.events.disableBlur(),s.$el.attr("contenteditable",!1)),s.draggable||Pt.type=="touchstart"||Pt.preventDefault(),Pt.stopPropagation()}),s.events.$on(s.$el,s._mousedown,".fr-img-caption .fr-inner",function(Pt){s.core.hasFocus()||s.events.focus(),Pt.stopPropagation()}),s.events.$on(s.$el,"paste",".fr-img-caption .fr-inner",function(Pt){s.opts.toolbarInline===!0&&(s.toolbar.hide(),Pt.stopPropagation())}),s.events.$on(s.$el,s._mouseup,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(Pt){if(O(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;H&&(H=!1,Pt.stopPropagation(),s.browser.msie&&(s.$el.attr("contenteditable",!0),s.events.enableBlur()))}),s.events.on("keyup",function(Pt){if(Pt.shiftKey&&s.selection.text().replace(/\n/g,"")===""&&s.keys.isArrow(Pt.which)){var Jt=s.selection.element(),Vn=s.selection.endElement();Jt&&Jt.tagName=="IMG"?ze(O(Jt)):Vn&&Vn.tagName=="IMG"&&ze(O(Vn))}},!0),s.events.on("window.mousedown",vi),s.events.on("window.touchmove",Qn),s.events.on("mouseup window.mouseup",function(){if(b)return po(),!1;Qn()}),s.events.on("commands.mousedown",function(Pt){0<Pt.parents(".fr-toolbar").length&&po()}),s.events.on("image.resizeEnd",function(){s.opts.iframe&&s.size.syncIframe()}),s.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){po(!(H=!1))}),s.events.on("modals.hide",function(){b&&s.selection.clear()}),s.events.on("image.resizeEnd",function(){s.win.getSelection&&ze(b)}),s.opts.imageAddNewLine&&s.events.on("image.inserted",function(Pt){var Jt=Pt.get(0);for(Jt.nextSibling&&Jt.nextSibling.tagName==="BR"&&(Jt=Jt.nextSibling);Jt&&!s.node.isElement(Jt);)Jt=s.node.isLastSibling(Jt)?Jt.parentNode:null;s.node.isElement(Jt)&&(s.opts.enter===x.ENTER_BR?Pt.after("<br>"):O(s.node.blockParent(Pt.get(0))).after("<".concat(s.html.defaultTag(),"><br></").concat(s.html.defaultTag(),">")))})})(),s.el.tagName=="IMG"&&s.$el.addClass("fr-view"),s.helpers.isMobile()&&(s.events.$on(s.$el,"touchstart",s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(){Hn=!1}),s.events.$on(s.$el,"touchmove",function(){Hn=!0})),s.opts.pluginsEnabled.includes("filestack")&&s.events.on("filestack.pluginsEnabled",function(){_n()}),s.$wp?(s.events.on("window.keydown keydown",zs,!0),s.events.on("keyup",function(St){if(b&&St.which==x.KEYCODE.ENTER)return!1},!0),s.events.$on(s.$el,"keydown",function(){var St=s.selection.element();(St.nodeType===Node.TEXT_NODE||St.tagName=="BR"&&s.node.isLastSibling(St))&&(St=St.parentNode),s.node.hasClass(St,"fr-inner")||(s.node.hasClass(St,"fr-img-caption")||(St=O(St).parents(".fr-img-caption").get(0)),s.node.hasClass(St,"fr-img-caption")&&(s.opts.trackChangesEnabled||O(St).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore()))})):s.events.$on(s.$win,"keydown",zs),s.events.on("toolbar.esc",function(){if(b){if(s.$wp)s.events.disableBlur(),s.events.focus();else{var St=b;po(!0),s.selection.setAfter(St.get(0)),s.selection.restore()}return!1}},!0),s.events.on("toolbar.focusEditor",function(){if(b)return!1},!0),s.events.on("window.cut window.copy",function(St){if(b&&s.popups.isVisible("image.edit")&&!s.popups.get("image.edit").find(":focus").length){var Pt=Js();ia()?(Pt.before(x.START_MARKER),Pt.after(x.END_MARKER),s.selection.restore(),s.paste.saveCopiedText(Pt.get(0).outerHTML,Pt.text())):s.paste.saveCopiedText(b.get(0).outerHTML,b.attr("alt")),St.type=="copy"?setTimeout(function(){ze(b)}):(po(!0),s.undo.saveStep(),setTimeout(function(){s.undo.saveStep()},0))}},!0),s.browser.msie&&s.events.on("keydown",function(St){if(!s.selection.isCollapsed()||!b)return!0;var Pt=St.which;Pt==x.KEYCODE.C&&s.keys.ctrlKey(St)?s.events.trigger("window.copy"):Pt==x.KEYCODE.X&&s.keys.ctrlKey(St)&&s.events.trigger("window.cut")}),s.events.$on(O(s.o_win),"keydown",function(St){var Pt=St.which;if(b&&Pt==x.KEYCODE.BACKSPACE)return St.preventDefault(),!1}),s.events.$on(s.$win,"keydown",function(St){var Pt=St.which;b&&b.hasClass("fr-uploading")&&Pt==x.KEYCODE.ESC&&b.trigger("abortUpload")}),s.events.on("destroy",function(){b&&b.hasClass("fr-uploading")&&b.trigger("abortUpload")}),s.events.on("paste.before",bo),s.events.on("paste.beforeCleanup",io),s.events.on("html.processGet",As),s.opts.imageOutputSize&&s.events.on("html.beforeGet",function(){pt=s.el.querySelectorAll("img");for(var St=0;St<pt.length;St++){var Pt=parseFloat(O(pt[St]).css("padding-left"))+parseFloat(O(pt[St]).css("padding-right")),Jt=O(pt[St]).width()-Pt,Vn=pt[St].style.width||Jt,jn=pt[St].style.height||O(pt[St]).height();Vn&&pt[St].setAttribute("width","".concat(Vn).replace(/px/,"")),jn&&pt[St].setAttribute("height","".concat(jn).replace(/px/,""))}}),s.opts.iframe&&s.events.on("image.loaded",s.size.syncIframe),s.events.$on(O(s.o_win),"orientationchange.image",function(){setTimeout(function(){b&&ze(b)},100)}),function(Pt){return s.$wp&&s.events.$on(s.$wp,"scroll.image-edit",function(){b&&s.popups.isVisible("image.edit")&&s.events.disableBlur()}),!0}(),_n(!0),bs(!0),Bs(!0),s.events.on("node.remove",function(St){if(St.get(0).tagName=="IMG")return Do(St),!1}),s.events.on("popups.hide.filesManager.insert",function(St){s.filesManager.minimizePopup(ge)})},showInsertPopup:Pe,showLayer:function(pt){var St,Pt,Jt=s.popups.get("filesManager.insert");if(b||s.opts.toolbarInline){if(b){var Vn=Js();ia()&&(Vn=Vn.find(".fr-img-wrap")),Pt=Vn.offset().top+Vn.outerHeight(),St=Vn.offset().left}}else{var jn=s.$tb.find('.fr-command[data-cmd="insertFiles"]');St=jn.offset().left,Pt=jn.offset().top+(s.opts.toolbarBottom?10:jn.outerHeight()-10)}!b&&s.opts.toolbarInline&&(Pt=Jt.offset().top-s.helpers.getPX(Jt.css("margin-top")),Jt.hasClass("fr-above")&&(Pt+=Jt.outerHeight())),Jt.find(".fr-layer").removeClass("fr-active"),Jt.find(".fr-".concat(pt,"-layer")).addClass("fr-active"),Jt.find(".fr-upload-progress-layer").addClass("fr-active"),s.popups.show("filesManager.insert",St,Pt,b?b.outerHeight():0),s.accessibility.focusPopup(Jt)},refreshUploadButton:function(pt){var St=s.popups.get("filesManager.insert");St&&St.find(".fr-files-upload-layer").hasClass("fr-active")&&pt.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(pt){var St=s.popups.get("filesManager.insert");St&&St.find(".fr-files-by-url-layer").hasClass("fr-active")&&pt.addClass("fr-active").attr("aria-pressed",!0)},upload:At,insertByURL:function(){for(var pt,St=s.popups.get("filesManager.insert").find(".fr-files-by-url-layer input"),Pt=St.val().trim().split(/[ ,]+/),Jt=[],Vn=0,jn=0;jn<Pt.length;jn++)pt=Pt[jn],new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(pt)&&(Jt[Vn]=Pt[jn],Vn++);if(Jt.length!=0){if(0<St.val().trim().length&&0<Jt.length){var vo=[],mo=[],Uo=D,cn=Jt.length;Jt.forEach(function(cs,ds){if(cs.trim().length==0)D==Uo+--cn&&Ce(vo,mo);else{Rt(),Lt(),Wt(s.language.translate("Loading file(s)"));var Ue=cs.trim(),bt=function(Wn){if(Wn===void 0)return Wn;var Yo=null;if(/^http/.test(Wn)||(Wn="https://".concat(Wn)),s.helpers.isURL(Wn))for(var Oo=0;Oo<x.VIDEO_PROVIDERS.length;Oo++){var So=x.VIDEO_PROVIDERS[Oo];if(So.test_regex.test(Wn)&&new RegExp(s.opts.videoAllowedProviders.join("|")).test(So.provider)){Yo=Wn.replace(So.url_regex,So.url_text),Yo=So.html.replace(/\{url\}/,Yo);break}}return Yo}(Ue);if(bt){var Ht={link:Ue,name:Ue,type:"video/url",size:2,video:bt};P.set(Uo+ds,Ht),ms(Uo+ds),Rt(),Lt(),Wt(s.language.translate("Loading file(s)")),j.set(Uo+ds,Ht),++D==Uo+cn&&Ce(vo,mo)}else{var ln=new XMLHttpRequest;ln.onload=function(){if(this.status==200){var An=new Blob([this.response],{type:this.response.type||""});An.name=Dn(Ue),An.link=Ue,Tt(this.response.type)?(An.sanitize=!0,An.existing_image=b):Mt(this.response.type)&&(An.text=Dn(Ue)),vo.push(An),mo.push(Uo+ds),P.set(Uo+ds,An),ms(Uo+ds),(-1<Le.indexOf(_e(An))||!_e(An))&&$e(q,null,null,Uo+ds)}else{var Wn=new Blob([this.response],{type:this.response.type||" "});Wn.name=Dn(Ue),Wn.link=Ue,P.set(Uo+ds,Wn),ms(Uo+ds),$e(V,this.response,b,Uo+ds)}Rt(),Lt(),Wt(s.language.translate("Loading file(s)")),++D==Uo+cn&&Ce(vo,mo)},ln.onerror=function(){var An={link:Ue,name:Dn(Ue),size:0,type:""};$e(9,this.response,b,Uo+ds);var Wn=D;P.set(Wn,An),ms(Wn),Rt(),Lt(),Wt(s.language.translate("Loading file(s)")),++D==Uo+cn&&Ce(vo,mo)},ln.open("GET","".concat(s.opts.imageCORSProxy,"/").concat(Ue),!0),ln.responseType="blob",ln.send()}}}),St.val(""),St.blur()}}else Zt(s.language.translate("Url entered is invalid. Please try again."))},insertAllFiles:function(){re=[];var pt=s.popups.get("filesManager.insert");se=-1,A=null,pt.find(".fr-insert-checkbox").toArray().forEach(function(Pt,Jt,Vn){Pt.children.target.checked&&(re.push(parseInt(Pt.id.split("-").pop())),Tt(j.get(parseInt(Pt.id.split("-").pop())).type)&&se==-1&&(se=Jt))}),pe(re),tt()},deleteAllFiles:function(){s.popups.get("filesManager.insert").find(".fr-insert-checkbox").toArray().forEach(function(St,Pt,Jt){if(St.children.target.checked){var Vn=parseInt(St.id.split("-").pop());K.has(Vn)&&K.delete(Vn),_t(Vn)}}),tt()},get:wa,getEl:Js,insert:Ke,showProgressBar:Lt,remove:Do,hideProgressBar:Rt,applyStyle:function(pt,St,Pt){if(St===void 0&&(St=s.opts.imageStyles),Pt===void 0&&(Pt=s.opts.imageMultipleStyles),!b)return!1;var Jt=Js();if(!Pt){var Vn=Object.keys(St);Vn.splice(Vn.indexOf(pt),1),Jt.removeClass(Vn.join(" "))}je(St[pt])=="object"?(Jt.removeAttr("style"),Jt.css(St[pt].style)):Jt.toggleClass(pt),ze(b)},showAltPopup:hs,showSizePopup:Is,setAlt:function(pt){if(b){var St=s.popups.get("image.alt");b.attr("alt",pt||St.find("input").val()||""),St.find("input:focus").blur(),ze(b)}},setSize:function(pt,St){if(b){var Pt=s.popups.get("image.size");pt=pt||Pt.find('input[name="width"]').val()||"",St=St||Pt.find('input[name="height"]').val()||"";var Jt=/^[\d]+((px)|%)*$/g;b.removeAttr("width").removeAttr("height"),pt.match(Jt)?b.css("width",pt):b.css("width",""),St.match(Jt)?b.css("height",St):b.css("height",""),ia()&&(b.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),pt.match(Jt)?b.parents(".fr-img-caption").css("width",pt):b.parents(".fr-img-caption").css("width",""),St.match(Jt)?b.parents(".fr-img-caption").css("height",St):b.parents(".fr-img-caption").css("height","")),Pt&&Pt.find("input:focus").blur(),ze(b)}},toggleCaption:function(){var pt;if(b&&!ia()){(pt=b).parent().is("a")&&(pt=b.parent());var St,Pt,Jt=b.parents("ul")&&0<b.parents("ul").length?b.parents("ul"):b.parents("ol")&&0<b.parents("ol").length?b.parents("ol"):[];if(0<Jt.length){var Vn=Jt.find("li").length,jn=b.parents("li"),vo=document.createElement("li");Vn-1===jn.index()&&(Jt.append(vo),vo.innerHTML="&nbsp;")}pt.attr("style")&&(Pt=-1<(St=pt.attr("style").split(":")).indexOf("width")?St[St.indexOf("width")+1].replace(";",""):"");var mo=s.opts.imageResizeWithPercent?(-1<Pt.indexOf("px")?null:Pt)||"100%":b.width()+"px";pt.wrap('<div class="fr-img-space-wrap"><span '+(s.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+b.attr("class")+'" style="'+(s.opts.useClasses?"":pt.attr("style"))+'" draggable="false"></span><p class="fr-img-space-wrap2">&nbsp;</p></div>'),pt.wrap('<span class="fr-img-wrap"></span>'),b.after('<span class="fr-inner"'.concat(s.browser.mozilla?"":' contenteditable="true"',">").concat(x.START_MARKER).concat(s.language.translate("Image Caption")).concat(x.END_MARKER,"</span>")),b.removeAttr("class").removeAttr("style").removeAttr("width"),b.parents(".fr-img-caption").css("width",mo),po(!0),s.selection.restore()}else pt=Js(),b.insertAfter(pt),b.attr("class",pt.attr("class").replace("fr-img-caption","")).attr("style",pt.attr("style")),pt.remove(),ze(b)},refreshEmbedButton:function(pt){var St=s.popups.get("filesManager.insert");St&&St.find(".fr-files-embed-layer").hasClass("fr-active")&&pt.addClass("fr-active").attr("aria-pressed",!0)},insertEmbed:function(pt){pt===void 0&&(pt=s.popups.get("filesManager.insert").find(".fr-files-embed-layer textarea").val()||""),pt.length===0||!x.VIDEO_EMBED_REGEX.test(pt)&&!x.IMAGE_EMBED_REGEX.test(pt)?(Zt(s.language.translate("Something went wrong. Please try again.")),x.VIDEO_EMBED_REGEX.test(pt)&&s.events.trigger("video.codeError",[pt])):function(Pt,Jt){var Vn,jn;x.VIDEO_EMBED_REGEX.test(Pt)?(Vn="video",jn=s.opts.videoSplitHTML):x.IMAGE_EMBED_REGEX.test(Pt)&&(Vn="image",jn=s.opts.imageSplitHTML),s.events.focus(!0),s.selection.restore();var vo=!1;b&&(Do(),vo=!0),s.html.insert('<span id="fr-inserted-file" contenteditable="true" draggable="true" class="fr-'.concat(Vn,' fr-jiv fr-deletable">').concat(Pt,"</span>"),!1,jn),s.popups.hide("filesManager.insert");var mo=s.$el.find(".fr-jiv");mo.removeClass("fr-jiv"),Vn=="video"&&(mo.toggleClass("fr-rv",s.opts.videoResponsive),function(cn,cs,ds){!s.opts.htmlUntouched&&s.opts.useClasses?(cn.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),cn.addClass("fr-fv".concat(ds[0]," fr-dv").concat(cs[0]))):cs=="inline"?(cn.css({display:"inline-block"}),ds=="center"?cn.css({float:"none"}):ds=="left"?cn.css({float:"left"}):cn.css({float:"right"})):(cn.css({display:"block",clear:"both"}),ds=="left"?cn.css({textAlign:"left"}):ds=="right"?cn.css({textAlign:"right"}):cn.css({textAlign:"center"}))}(mo,s.opts.videoDefaultDisplay,s.opts.videoDefaultAlign),mo.toggleClass("fr-draggable",s.opts.videoMove),s.events.trigger(vo?"video.replaced":"video.inserted",[mo])),Vn=="image"&&(Ur(mo,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),mo.find("img").removeClass("fr-dii"),mo.find("img").addClass("fr-dib"),mo.toggleClass("fr-draggable",s.opts.imageMove),s.events.trigger(vo?"image.replaced":"image.inserted",[mo]))}(pt)},hasCaption:ia,exitEdit:po,edit:ze,cancelFileInsert:function(){this.file_manager_dialog_open=!1,K.forEach(function(St,Pt){St.readyState!=4&&(St.abort(),_t(Pt))});var pt=s.popups.get("filesManager.insert");pt.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"),pt.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"),pt.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"),pt.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"),be=0,K=new Map,ee=new Map,mt(),s.popups.hide("filesManager.insert")},minimizePopup:function(pt){this.file_manager_dialog_open=!1,s.popups.hide("filesManager.insert"),mt()},editImage:me,saveImage:function(pt){var St=j.get(B);St.link=window.URL.createObjectURL(new Blob(pt,{type:"image/png"})),j.set(B,St)},_showErrorMessage:Zt,_showFileErrorMessage:kn,getFileThumbnail:fe,deleteFile:_t,checkAutoplay:kt,checkInsertAllState:tt,_disableInsertCheckbox:Xe,_getFileType:_e,isChildWindowOpen:function(){return Q},setChildWindowState:function(pt){pt!==void 0&&(Q=pt)},resetAllFilesCheckbox:mt}},x.DefineIcon("insertFiles",{NAME:"image",SVG_KEY:"fileManager"}),x.RegisterShortcut(x.KEYCODE.P,"insertFiles",null,"P"),x.RegisterCommand("insertFiles",{title:"Insert Files",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("filesManager.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("filesManager.insert")):this.filesManager.showInsertPopup()},plugin:"filesManager"}),x.DefineIcon("cloudIcon",{NAME:"cloudIcon",SVG_KEY:"uploadFiles"}),x.DefineIcon("filesUpload",{NAME:"uploadFiles",SVG_KEY:"uploadFiles"}),x.RegisterCommand("filesUpload",{title:"Upload Files",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-upload")},refresh:function(s){this.filesManager.refreshUploadButton(s)}}),x.DefineIcon("filesByURL",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("filesByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-by-url")},refresh:function(s){this.filesManager.refreshByURLButton(s)}}),x.DefineIcon("filesEmbed",{NAME:"code",SVG_KEY:"codeView"}),x.RegisterCommand("filesEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.showLayer("files-embed")},refresh:function(s){this.filesManager.refreshEmbedButton(s)}}),x.DefineIcon("insertAll",{NAME:"insertAll",SVG_KEY:"fileInsert"}),x.RegisterCommand("insertAll",{title:"Insert",undo:!1,focus:!1,toggle:!0,disabled:!0,callback:function(){this.filesManager.insertAllFiles()}}),x.DefineIcon("deleteAll",{NAME:"remove",SVG_KEY:"remove"}),x.RegisterCommand("deleteAll",{title:"Delete",undo:!1,focus:!1,toggle:!0,disabled:!0,callback:function(){this.filesManager.deleteAllFiles()}}),x.DefineIcon("cancel",{NAME:"cancel",SVG_KEY:"cancel"}),x.RegisterCommand("cancel",{title:"Cancel",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.cancelFileInsert()},refresh:function(s){}}),x.DefineIcon("minimize",{NAME:"minimize",SVG_KEY:"minimize"}),x.RegisterCommand("minimize",{title:"Minimize",undo:!1,focus:!1,toggle:!0,callback:function(){this.filesManager.minimizePopup("image.insert",!0)},refresh:function(s){this.filesManager.refreshEmbedButton(s)}}),x.RegisterCommand("filesInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.filesManager.insertByURL()},refresh:function(s){s.text(this.language.translate("Add"))}}),x.RegisterCommand("imageInsertByUpload",{title:"Insert",undo:!0,refreshAfterCallback:!1,callback:function(s,b){},refresh:function(s){}}),x.RegisterCommand("viewImage",{title:"View Image",undo:!0,refreshAfterCallback:!1,callback:function(s,b){},refresh:function(s){}}),x.RegisterCommand("insertEmbed",{undo:!0,focus:!0,callback:function(){this.filesManager.insertEmbed(),this.popups.get("filesManager.insert").find("textarea")[0].value="",this.popups.get("filesManager.insert").find("textarea").removeClass("fr-not-empty")}}),x.RegisterCommand("filesDismissError",{title:"OK",undo:!1,callback:function(){this.filesManager.hideProgressBar(!0)}}),x.PLUGINS.cryptoJSPlugin=function(s){var b,B,ge,a,p,M,L,A,O,z,Q,H,P,j,K,ee,w,xe,be,re,se,ie,D,U,V,I,N,ne,G,q,de,Le,Ae,we,Pe,We,ut,nt,ot,Me,et,Ve,Ze,Xe,$e,tt,_t,mt,Lt,Rt,Wt,Zt,kn,Jn,Je,wt,It,nn,bn,Tn,Mn,vn,Hn,wo,ro,qo,zn,ls,ms,Et,fe=fe||function(Z,ae){var ye;if(typeof window<"u"&&window.crypto&&(ye=window.crypto),!ye&&typeof window<"u"&&window.msCrypto&&(ye=window.msCrypto),!ye&&typeof SA<"u"&&SA.crypto&&(ye=SA.crypto),!ye&&typeof _re=="function")try{ye=Sre}catch{}var Ce=function(){if(ye){if(typeof ye.getRandomValues=="function")try{return ye.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ye.randomBytes=="function")try{return ye.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ze=Object.create||function(){function kt(){}return function(Tt){var Mt;return kt.prototype=Tt,Mt=new kt,kt.prototype=null,Mt}}(),Re={},J=Re.lib={},pe=J.Base={extend:function(kt){var Tt=ze(this);return kt&&Tt.mixIn(kt),Tt.hasOwnProperty("init")&&this.init!==Tt.init||(Tt.init=function(){Tt.$super.init.apply(this,arguments)}),(Tt.init.prototype=Tt).$super=this,Tt},create:function(){var kt=this.extend();return kt.init.apply(kt,arguments),kt},init:function(){},mixIn:function(kt){for(var Tt in kt)kt.hasOwnProperty(Tt)&&(this[Tt]=kt[Tt]);kt.hasOwnProperty("toString")&&(this.toString=kt.toString)},clone:function(){return this.init.prototype.extend(this)}},me=J.WordArray=pe.extend({init:function(kt,Tt){kt=this.words=kt||[],this.sigBytes=Tt??4*kt.length},toString:function(kt){return(kt||Ke).stringify(this)},concat:function(kt){var Tt=this.words,Mt=kt.words,qt=this.sigBytes,Qt=kt.sigBytes;if(this.clamp(),qt%4)for(var on=0;on<Qt;on++){var _n=Mt[on>>>2]>>>24-on%4*8&255;Tt[qt+on>>>2]|=_n<<24-(qt+on)%4*8}else for(on=0;on<Qt;on+=4)Tt[qt+on>>>2]=Mt[on>>>2];return this.sigBytes+=Qt,this},clamp:function(){var kt=this.words,Tt=this.sigBytes;kt[Tt>>>2]&=4294967295<<32-Tt%4*8,kt.length=Z.ceil(Tt/4)},clone:function(){var Tt=pe.clone.call(this);return Tt.words=this.words.slice(0),Tt},random:function(kt){for(var Tt=[],Mt=0;Mt<kt;Mt+=4)Tt.push(Ce());return new me.init(Tt,kt)}}),_e=Re.enc={},Ke=_e.Hex={stringify:function(kt){for(var Tt=kt.words,Mt=kt.sigBytes,qt=[],Qt=0;Qt<Mt;Qt++){var on=Tt[Qt>>>2]>>>24-Qt%4*8&255;qt.push((on>>>4).toString(16)),qt.push((15&on).toString(16))}return qt.join("")},parse:function(kt){for(var Tt=kt.length,Mt=[],qt=0;qt<Tt;qt+=2)Mt[qt>>>3]|=parseInt(kt.substr(qt,2),16)<<24-qt%8*4;return new me.init(Mt,Tt/2)}},ft=_e.Latin1={stringify:function(kt){for(var Tt=kt.words,Mt=kt.sigBytes,qt=[],Qt=0;Qt<Mt;Qt++){var on=Tt[Qt>>>2]>>>24-Qt%4*8&255;qt.push(String.fromCharCode(on))}return qt.join("")},parse:function(kt){for(var Tt=kt.length,Mt=[],qt=0;qt<Tt;qt++)Mt[qt>>>2]|=(255&kt.charCodeAt(qt))<<24-qt%4*8;return new me.init(Mt,Tt)}},gt=_e.Utf8={stringify:function(kt){try{return decodeURIComponent(escape(ft.stringify(kt)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(kt){return ft.parse(unescape(encodeURIComponent(kt)))}},At=J.BufferedBlockAlgorithm=pe.extend({reset:function(){this._data=new me.init,this._nDataBytes=0},_append:function(kt){typeof kt=="string"&&(kt=gt.parse(kt)),this._data.concat(kt),this._nDataBytes+=kt.sigBytes},_process:function(kt){var Tt,Mt=this._data,qt=Mt.words,Qt=Mt.sigBytes,on=this.blockSize,_n=Qt/(4*on),Dn=(_n=kt?Z.ceil(_n):Z.max((0|_n)-this._minBufferSize,0))*on,eo=Z.min(4*Dn,Qt);if(Dn){for(var hs=0;hs<Dn;hs+=on)this._doProcessBlock(qt,hs);Tt=qt.splice(0,Dn),Mt.sigBytes-=eo}return new me.init(Tt,eo)},clone:function(){var Tt=pe.clone.call(this);return Tt._data=this._data.clone(),Tt},_minBufferSize:0}),zt=(J.Hasher=At.extend({cfg:pe.extend(),init:function(kt){this.cfg=this.cfg.extend(kt),this.reset()},reset:function(){At.reset.call(this),this._doReset()},update:function(kt){return this._append(kt),this._process(),this},finalize:function(kt){return kt&&this._append(kt),this._doFinalize()},blockSize:16,_createHelper:function(kt){return function(Tt,Mt){return new kt.init(Mt).finalize(Tt)}},_createHmacHelper:function(kt){return function(Tt,Mt){return new zt.HMAC.init(kt,Mt).finalize(Tt)}}}),Re.algo={});return Re}(Math);return B=(b=fe).lib.WordArray,b.enc.Base64={stringify:function(Z){var ae=Z.words,ye=Z.sigBytes,Ce=this._map;Z.clamp();for(var ze=[],Re=0;Re<ye;Re+=3)for(var J=(ae[Re>>>2]>>>24-Re%4*8&255)<<16|(ae[Re+1>>>2]>>>24-(Re+1)%4*8&255)<<8|ae[Re+2>>>2]>>>24-(Re+2)%4*8&255,pe=0;pe<4&&Re+.75*pe<ye;pe++)ze.push(Ce.charAt(J>>>6*(3-pe)&63));var me=Ce.charAt(64);if(me)for(;ze.length%4;)ze.push(me);return ze.join("")},parse:function(Z){var ae=Z.length,ye=this._map,Ce=this._reverseMap;if(!Ce){Ce=this._reverseMap=[];for(var ze=0;ze<ye.length;ze++)Ce[ye.charCodeAt(ze)]=ze}var Re=ye.charAt(64);if(Re){var J=Z.indexOf(Re);J!==-1&&(ae=J)}return function(me,_e,Ke){for(var ft=[],gt=0,At=0;At<_e;At++)if(At%4){var zt=Ke[me.charCodeAt(At-1)]<<At%4*2,kt=Ke[me.charCodeAt(At)]>>>6-At%4*2,Tt=zt|kt;ft[gt>>>2]|=Tt<<24-gt%4*8,gt++}return B.create(ft,gt)}(Z,ae,Ce)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(Z){var ae=fe,ye=ae.lib,Ce=ye.WordArray,ze=ye.Hasher,Re=ae.algo,J=[];(function(){for(var gt=0;gt<64;gt++)J[gt]=4294967296*Z.abs(Z.sin(gt+1))|0})();var pe=Re.MD5=ze.extend({_doReset:function(){this._hash=new Ce.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(gt,At){for(var zt=0;zt<16;zt++){var kt=At+zt,Tt=gt[kt];gt[kt]=16711935&(Tt<<8|Tt>>>24)|4278255360&(Tt<<24|Tt>>>8)}var Mt=this._hash.words,qt=gt[At+0],Qt=gt[At+1],on=gt[At+2],_n=gt[At+3],Dn=gt[At+4],eo=gt[At+5],hs=gt[At+6],Bs=gt[At+7],fs=gt[At+8],Is=gt[At+9],bs=gt[At+10],Go=gt[At+11],Do=gt[At+12],zs=gt[At+13],As=gt[At+14],Vs=gt[At+15],go=Mt[0],bo=Mt[1],io=Mt[2],po=Mt[3];bo=ft(bo=ft(bo=ft(bo=ft(bo=Ke(bo=Ke(bo=Ke(bo=Ke(bo=_e(bo=_e(bo=_e(bo=_e(bo=me(bo=me(bo=me(bo=me(bo,io=me(io,po=me(po,go=me(go,bo,io,po,qt,7,J[0]),bo,io,Qt,12,J[1]),go,bo,on,17,J[2]),po,go,_n,22,J[3]),io=me(io,po=me(po,go=me(go,bo,io,po,Dn,7,J[4]),bo,io,eo,12,J[5]),go,bo,hs,17,J[6]),po,go,Bs,22,J[7]),io=me(io,po=me(po,go=me(go,bo,io,po,fs,7,J[8]),bo,io,Is,12,J[9]),go,bo,bs,17,J[10]),po,go,Go,22,J[11]),io=me(io,po=me(po,go=me(go,bo,io,po,Do,7,J[12]),bo,io,zs,12,J[13]),go,bo,As,17,J[14]),po,go,Vs,22,J[15]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,Qt,5,J[16]),bo,io,hs,9,J[17]),go,bo,Go,14,J[18]),po,go,qt,20,J[19]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,eo,5,J[20]),bo,io,bs,9,J[21]),go,bo,Vs,14,J[22]),po,go,Dn,20,J[23]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,Is,5,J[24]),bo,io,As,9,J[25]),go,bo,_n,14,J[26]),po,go,fs,20,J[27]),io=_e(io,po=_e(po,go=_e(go,bo,io,po,zs,5,J[28]),bo,io,on,9,J[29]),go,bo,Bs,14,J[30]),po,go,Do,20,J[31]),io=Ke(io,po=Ke(po,go=Ke(go,bo,io,po,eo,4,J[32]),bo,io,fs,11,J[33]),go,bo,Go,16,J[34]),po,go,As,23,J[35]),io=Ke(io,po=Ke(po,go=Ke(go,bo,io,po,Qt,4,J[36]),bo,io,Dn,11,J[37]),go,bo,Bs,16,J[38]),po,go,bs,23,J[39]),io=Ke(io,po=Ke(po,go=Ke(go,bo,io,po,zs,4,J[40]),bo,io,qt,11,J[41]),go,bo,_n,16,J[42]),po,go,hs,23,J[43]),io=Ke(io,po=Ke(po,go=Ke(go,bo,io,po,Is,4,J[44]),bo,io,Do,11,J[45]),go,bo,Vs,16,J[46]),po,go,on,23,J[47]),io=ft(io,po=ft(po,go=ft(go,bo,io,po,qt,6,J[48]),bo,io,Bs,10,J[49]),go,bo,As,15,J[50]),po,go,eo,21,J[51]),io=ft(io,po=ft(po,go=ft(go,bo,io,po,Do,6,J[52]),bo,io,_n,10,J[53]),go,bo,bs,15,J[54]),po,go,Qt,21,J[55]),io=ft(io,po=ft(po,go=ft(go,bo,io,po,fs,6,J[56]),bo,io,Vs,10,J[57]),go,bo,hs,15,J[58]),po,go,zs,21,J[59]),io=ft(io,po=ft(po,go=ft(go,bo,io,po,Dn,6,J[60]),bo,io,Go,10,J[61]),go,bo,on,15,J[62]),po,go,Is,21,J[63]),Mt[0]=Mt[0]+go|0,Mt[1]=Mt[1]+bo|0,Mt[2]=Mt[2]+io|0,Mt[3]=Mt[3]+po|0},_doFinalize:function(){var gt=this._data,At=gt.words,zt=8*this._nDataBytes,kt=8*gt.sigBytes;At[kt>>>5]|=128<<24-kt%32;var Tt=Z.floor(zt/4294967296),Mt=zt;At[15+(kt+64>>>9<<4)]=16711935&(Tt<<8|Tt>>>24)|4278255360&(Tt<<24|Tt>>>8),At[14+(kt+64>>>9<<4)]=16711935&(Mt<<8|Mt>>>24)|4278255360&(Mt<<24|Mt>>>8),gt.sigBytes=4*(At.length+1),this._process();for(var qt=this._hash,Qt=qt.words,on=0;on<4;on++){var _n=Qt[on];Qt[on]=16711935&(_n<<8|_n>>>24)|4278255360&(_n<<24|_n>>>8)}return qt},clone:function(){var At=ze.clone.call(this);return At._hash=this._hash.clone(),At}});function me(gt,At,zt,kt,Tt,Mt,qt){var Qt=gt+(At&zt|~At&kt)+Tt+qt;return(Qt<<Mt|Qt>>>32-Mt)+At}function _e(gt,At,zt,kt,Tt,Mt,qt){var Qt=gt+(At&kt|zt&~kt)+Tt+qt;return(Qt<<Mt|Qt>>>32-Mt)+At}function Ke(gt,At,zt,kt,Tt,Mt,qt){var Qt=gt+(At^zt^kt)+Tt+qt;return(Qt<<Mt|Qt>>>32-Mt)+At}function ft(gt,At,zt,kt,Tt,Mt,qt){var Qt=gt+(zt^(At|~kt))+Tt+qt;return(Qt<<Mt|Qt>>>32-Mt)+At}ae.MD5=ze._createHelper(pe),ae.HmacMD5=ze._createHmacHelper(pe)}(Math),a=(ge=fe).lib,p=a.WordArray,M=a.Hasher,L=ge.algo,A=[],O=L.SHA1=M.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Z,ae){for(var ye=this._hash.words,Ce=ye[0],ze=ye[1],Re=ye[2],J=ye[3],pe=ye[4],me=0;me<80;me++){if(me<16)A[me]=0|Z[ae+me];else{var _e=A[me-3]^A[me-8]^A[me-14]^A[me-16];A[me]=_e<<1|_e>>>31}var Ke=(Ce<<5|Ce>>>27)+pe+A[me];Ke+=me<20?1518500249+(ze&Re|~ze&J):me<40?1859775393+(ze^Re^J):me<60?(ze&Re|ze&J|Re&J)-1894007588:(ze^Re^J)-899497514,pe=J,J=Re,Re=ze<<30|ze>>>2,ze=Ce,Ce=Ke}ye[0]=ye[0]+Ce|0,ye[1]=ye[1]+ze|0,ye[2]=ye[2]+Re|0,ye[3]=ye[3]+J|0,ye[4]=ye[4]+pe|0},_doFinalize:function(){var Z=this._data,ae=Z.words,ye=8*this._nDataBytes,Ce=8*Z.sigBytes;return ae[Ce>>>5]|=128<<24-Ce%32,ae[14+(Ce+64>>>9<<4)]=Math.floor(ye/4294967296),ae[15+(Ce+64>>>9<<4)]=ye,Z.sigBytes=4*ae.length,this._process(),this._hash},clone:function(){var ae=M.clone.call(this);return ae._hash=this._hash.clone(),ae}}),ge.SHA1=M._createHelper(O),ge.HmacSHA1=M._createHmacHelper(O),function(Z){var ae=fe,ye=ae.lib,Ce=ye.WordArray,ze=ye.Hasher,Re=ae.algo,J=[],pe=[];(function(){function Ke(zt){for(var kt=Z.sqrt(zt),Tt=2;Tt<=kt;Tt++)if(!(zt%Tt))return!1;return!0}function ft(zt){return 4294967296*(zt-(0|zt))|0}for(var gt=2,At=0;At<64;)Ke(gt)&&(At<8&&(J[At]=ft(Z.pow(gt,.5))),pe[At]=ft(Z.pow(gt,1/3)),At++),gt++})();var me=[],_e=Re.SHA256=ze.extend({_doReset:function(){this._hash=new Ce.init(J.slice(0))},_doProcessBlock:function(Ke,ft){for(var gt=this._hash.words,At=gt[0],zt=gt[1],kt=gt[2],Tt=gt[3],Mt=gt[4],qt=gt[5],Qt=gt[6],on=gt[7],_n=0;_n<64;_n++){if(_n<16)me[_n]=0|Ke[ft+_n];else{var Dn=me[_n-15],eo=(Dn<<25|Dn>>>7)^(Dn<<14|Dn>>>18)^Dn>>>3,hs=me[_n-2],Bs=(hs<<15|hs>>>17)^(hs<<13|hs>>>19)^hs>>>10;me[_n]=eo+me[_n-7]+Bs+me[_n-16]}var fs=At&zt^At&kt^zt&kt,Is=(At<<30|At>>>2)^(At<<19|At>>>13)^(At<<10|At>>>22),bs=on+((Mt<<26|Mt>>>6)^(Mt<<21|Mt>>>11)^(Mt<<7|Mt>>>25))+(Mt&qt^~Mt&Qt)+pe[_n]+me[_n];on=Qt,Qt=qt,qt=Mt,Mt=Tt+bs|0,Tt=kt,kt=zt,zt=At,At=bs+(Is+fs)|0}gt[0]=gt[0]+At|0,gt[1]=gt[1]+zt|0,gt[2]=gt[2]+kt|0,gt[3]=gt[3]+Tt|0,gt[4]=gt[4]+Mt|0,gt[5]=gt[5]+qt|0,gt[6]=gt[6]+Qt|0,gt[7]=gt[7]+on|0},_doFinalize:function(){var Ke=this._data,ft=Ke.words,gt=8*this._nDataBytes,At=8*Ke.sigBytes;return ft[At>>>5]|=128<<24-At%32,ft[14+(At+64>>>9<<4)]=Z.floor(gt/4294967296),ft[15+(At+64>>>9<<4)]=gt,Ke.sigBytes=4*ft.length,this._process(),this._hash},clone:function(){var ft=ze.clone.call(this);return ft._hash=this._hash.clone(),ft}});ae.SHA256=ze._createHelper(_e),ae.HmacSHA256=ze._createHmacHelper(_e)}(Math),function(){var Z=fe,ae=Z.lib.WordArray,ye=Z.enc;ye.Utf16=ye.Utf16BE={stringify:function(ze){for(var Re=ze.words,J=ze.sigBytes,pe=[],me=0;me<J;me+=2){var _e=Re[me>>>2]>>>16-me%4*8&65535;pe.push(String.fromCharCode(_e))}return pe.join("")},parse:function(ze){for(var Re=ze.length,J=[],pe=0;pe<Re;pe++)J[pe>>>1]|=ze.charCodeAt(pe)<<16-pe%2*16;return ae.create(J,2*Re)}};function Ce(ze){return ze<<8&4278255360|ze>>>8&16711935}ye.Utf16LE={stringify:function(ze){for(var Re=ze.words,J=ze.sigBytes,pe=[],me=0;me<J;me+=2){var _e=Ce(Re[me>>>2]>>>16-me%4*8&65535);pe.push(String.fromCharCode(_e))}return pe.join("")},parse:function(ze){for(var Re=ze.length,J=[],pe=0;pe<Re;pe++)J[pe>>>1]|=Ce(ze.charCodeAt(pe)<<16-pe%2*16);return ae.create(J,2*Re)}}}(),function(){if(typeof ArrayBuffer=="function"){var Z=fe.lib.WordArray,ae=Z.init;(Z.init=function(ye){if(ye instanceof ArrayBuffer&&(ye=new Uint8Array(ye)),(ye instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ye instanceof Uint8ClampedArray||ye instanceof Int16Array||ye instanceof Uint16Array||ye instanceof Int32Array||ye instanceof Uint32Array||ye instanceof Float32Array||ye instanceof Float64Array)&&(ye=new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength)),ye instanceof Uint8Array){for(var Ce=ye.byteLength,ze=[],Re=0;Re<Ce;Re++)ze[Re>>>2]|=ye[Re]<<24-Re%4*8;ae.call(this,ze,Ce)}else ae.apply(this,arguments)}).prototype=Z}}(),function(Z){var ae=fe,ye=ae.lib,Ce=ye.WordArray,ze=ye.Hasher,Re=ae.algo,J=Ce.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),pe=Ce.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),me=Ce.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_e=Ce.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ke=Ce.create([0,1518500249,1859775393,2400959708,2840853838]),ft=Ce.create([1352829926,1548603684,1836072691,2053994217,0]),gt=Re.RIPEMD160=ze.extend({_doReset:function(){this._hash=Ce.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Qt,on){for(var _n=0;_n<16;_n++){var Dn=on+_n,eo=Qt[Dn];Qt[Dn]=16711935&(eo<<8|eo>>>24)|4278255360&(eo<<24|eo>>>8)}var hs,Bs,fs,Is,bs,Go,Do,zs,As,Vs,go,bo=this._hash.words,io=Ke.words,po=ft.words,Tr=J.words,vi=pe.words,Qn=me.words,Ur=_e.words;for(Go=hs=bo[0],Do=Bs=bo[1],zs=fs=bo[2],As=Is=bo[3],Vs=bs=bo[4],_n=0;_n<80;_n+=1)go=hs+Qt[on+Tr[_n]]|0,go+=_n<16?At(Bs,fs,Is)+io[0]:_n<32?zt(Bs,fs,Is)+io[1]:_n<48?kt(Bs,fs,Is)+io[2]:_n<64?Tt(Bs,fs,Is)+io[3]:Mt(Bs,fs,Is)+io[4],go=(go=qt(go|=0,Qn[_n]))+bs|0,hs=bs,bs=Is,Is=qt(fs,10),fs=Bs,Bs=go,go=Go+Qt[on+vi[_n]]|0,go+=_n<16?Mt(Do,zs,As)+po[0]:_n<32?Tt(Do,zs,As)+po[1]:_n<48?kt(Do,zs,As)+po[2]:_n<64?zt(Do,zs,As)+po[3]:At(Do,zs,As)+po[4],go=(go=qt(go|=0,Ur[_n]))+Vs|0,Go=Vs,Vs=As,As=qt(zs,10),zs=Do,Do=go;go=bo[1]+fs+As|0,bo[1]=bo[2]+Is+Vs|0,bo[2]=bo[3]+bs+Go|0,bo[3]=bo[4]+hs+Do|0,bo[4]=bo[0]+Bs+zs|0,bo[0]=go},_doFinalize:function(){var Qt=this._data,on=Qt.words,_n=8*this._nDataBytes,Dn=8*Qt.sigBytes;on[Dn>>>5]|=128<<24-Dn%32,on[14+(Dn+64>>>9<<4)]=16711935&(_n<<8|_n>>>24)|4278255360&(_n<<24|_n>>>8),Qt.sigBytes=4*(on.length+1),this._process();for(var eo=this._hash,hs=eo.words,Bs=0;Bs<5;Bs++){var fs=hs[Bs];hs[Bs]=16711935&(fs<<8|fs>>>24)|4278255360&(fs<<24|fs>>>8)}return eo},clone:function(){var on=ze.clone.call(this);return on._hash=this._hash.clone(),on}});function At(Qt,on,_n){return Qt^on^_n}function zt(Qt,on,_n){return Qt&on|~Qt&_n}function kt(Qt,on,_n){return(Qt|~on)^_n}function Tt(Qt,on,_n){return Qt&_n|on&~_n}function Mt(Qt,on,_n){return Qt^(on|~_n)}function qt(Qt,on){return Qt<<on|Qt>>>32-on}ae.RIPEMD160=ze._createHelper(gt),ae.HmacRIPEMD160=ze._createHmacHelper(gt)}(),Q=(z=fe).lib.Base,H=z.enc.Utf8,z.algo.HMAC=Q.extend({init:function(Z,ae){Z=this._hasher=new Z.init,typeof ae=="string"&&(ae=H.parse(ae));var ye=Z.blockSize,Ce=4*ye;ae.sigBytes>Ce&&(ae=Z.finalize(ae)),ae.clamp();for(var ze=this._oKey=ae.clone(),Re=this._iKey=ae.clone(),J=ze.words,pe=Re.words,me=0;me<ye;me++)J[me]^=1549556828,pe[me]^=909522486;ze.sigBytes=Re.sigBytes=Ce,this.reset()},reset:function(){var Z=this._hasher;Z.reset(),Z.update(this._iKey)},update:function(Z){return this._hasher.update(Z),this},finalize:function(Z){var ae=this._hasher,ye=ae.finalize(Z);return ae.reset(),ae.finalize(this._oKey.clone().concat(ye))}}),j=(P=fe).lib,K=j.Base,ee=j.WordArray,w=P.algo,xe=w.SHA1,be=w.HMAC,re=w.PBKDF2=K.extend({cfg:K.extend({keySize:4,hasher:xe,iterations:1}),init:function(Z){this.cfg=this.cfg.extend(Z)},compute:function(Z,ae){for(var ye=this.cfg,Ce=be.create(ye.hasher,Z),ze=ee.create(),Re=ee.create([1]),J=ze.words,pe=Re.words,me=ye.keySize,_e=ye.iterations;J.length<me;){var Ke=Ce.update(ae).finalize(Re);Ce.reset();for(var ft=Ke.words,gt=ft.length,At=Ke,zt=1;zt<_e;zt++){At=Ce.finalize(At),Ce.reset();for(var kt=At.words,Tt=0;Tt<gt;Tt++)ft[Tt]^=kt[Tt]}ze.concat(Ke),pe[0]++}return ze.sigBytes=4*me,ze}}),P.PBKDF2=function(Z,ae,ye){return re.create(ye).compute(Z,ae)},ie=(se=fe).lib,D=ie.Base,U=ie.WordArray,V=se.algo,I=V.MD5,N=V.EvpKDF=D.extend({cfg:D.extend({keySize:4,hasher:I,iterations:1}),init:function(Z){this.cfg=this.cfg.extend(Z)},compute:function(Z,ae){for(var ye,Ce=this.cfg,ze=Ce.hasher.create(),Re=U.create(),J=Re.words,pe=Ce.keySize,me=Ce.iterations;J.length<pe;){ye&&ze.update(ye),ye=ze.update(Z).finalize(ae),ze.reset();for(var _e=1;_e<me;_e++)ye=ze.finalize(ye),ze.reset();Re.concat(ye)}return Re.sigBytes=4*pe,Re}}),se.EvpKDF=function(Z,ae,ye){return N.create(ye).compute(Z,ae)},G=(ne=fe).lib.WordArray,q=ne.algo,de=q.SHA256,Le=q.SHA224=de.extend({_doReset:function(){this._hash=new G.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Z=de._doFinalize.call(this);return Z.sigBytes-=4,Z}}),ne.SHA224=de._createHelper(Le),ne.HmacSHA224=de._createHmacHelper(Le),we=(Ae=fe).lib,Pe=we.Base,We=we.WordArray,(ut=Ae.x64={}).Word=Pe.extend({init:function(Z,ae){this.high=Z,this.low=ae}}),ut.WordArray=Pe.extend({init:function(Z,ae){Z=this.words=Z||[],this.sigBytes=ae??8*Z.length},toX32:function(){for(var Z=this.words,ae=Z.length,ye=[],Ce=0;Ce<ae;Ce++){var ze=Z[Ce];ye.push(ze.high),ye.push(ze.low)}return We.create(ye,this.sigBytes)},clone:function(){for(var ae=Pe.clone.call(this),ye=ae.words=this.words.slice(0),Ce=ye.length,ze=0;ze<Ce;ze++)ye[ze]=ye[ze].clone();return ae}}),function(Z){var ae=fe,ye=ae.lib,Ce=ye.WordArray,ze=ye.Hasher,Re=ae.x64.Word,J=ae.algo,pe=[],me=[],_e=[];(function(){for(var gt=1,At=0,zt=0;zt<24;zt++){pe[gt+5*At]=(zt+1)*(zt+2)/2%64;var kt=(2*gt+3*At)%5;gt=At%5,At=kt}for(gt=0;gt<5;gt++)for(At=0;At<5;At++)me[gt+5*At]=At+(2*gt+3*At)%5*5;for(var Tt=1,Mt=0;Mt<24;Mt++){for(var qt=0,Qt=0,on=0;on<7;on++){if(1&Tt){var _n=(1<<on)-1;_n<32?Qt^=1<<_n:qt^=1<<_n-32}128&Tt?Tt=Tt<<1^113:Tt<<=1}_e[Mt]=Re.create(qt,Qt)}})();var Ke=[];(function(){for(var gt=0;gt<25;gt++)Ke[gt]=Re.create()})();var ft=J.SHA3=ze.extend({cfg:ze.cfg.extend({outputLength:512}),_doReset:function(){for(var gt=this._state=[],At=0;At<25;At++)gt[At]=new Re.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(gt,At){for(var zt=this._state,kt=this.blockSize/2,Tt=0;Tt<kt;Tt++){var Mt=gt[At+2*Tt],qt=gt[At+2*Tt+1];Mt=16711935&(Mt<<8|Mt>>>24)|4278255360&(Mt<<24|Mt>>>8),qt=16711935&(qt<<8|qt>>>24)|4278255360&(qt<<24|qt>>>8),(io=zt[Tt]).high^=qt,io.low^=Mt}for(var Qt=0;Qt<24;Qt++){for(var on=0;on<5;on++){for(var _n=0,Dn=0,eo=0;eo<5;eo++)_n^=(io=zt[on+5*eo]).high,Dn^=io.low;var hs=Ke[on];hs.high=_n,hs.low=Dn}for(on=0;on<5;on++){var Bs=Ke[(on+4)%5],fs=Ke[(on+1)%5],Is=fs.high,bs=fs.low;for(_n=Bs.high^(Is<<1|bs>>>31),Dn=Bs.low^(bs<<1|Is>>>31),eo=0;eo<5;eo++)(io=zt[on+5*eo]).high^=_n,io.low^=Dn}for(var Go=1;Go<25;Go++){var Do=(io=zt[Go]).high,zs=io.low,As=pe[Go];Dn=As<32?(_n=Do<<As|zs>>>32-As,zs<<As|Do>>>32-As):(_n=zs<<As-32|Do>>>64-As,Do<<As-32|zs>>>64-As);var Vs=Ke[me[Go]];Vs.high=_n,Vs.low=Dn}var go=Ke[0],bo=zt[0];for(go.high=bo.high,go.low=bo.low,on=0;on<5;on++)for(eo=0;eo<5;eo++){var io=zt[Go=on+5*eo],po=Ke[Go],Tr=Ke[(on+1)%5+5*eo],vi=Ke[(on+2)%5+5*eo];io.high=po.high^~Tr.high&vi.high,io.low=po.low^~Tr.low&vi.low}io=zt[0];var Qn=_e[Qt];io.high^=Qn.high,io.low^=Qn.low}},_doFinalize:function(){var gt=this._data,At=gt.words,zt=(this._nDataBytes,8*gt.sigBytes),kt=32*this.blockSize;At[zt>>>5]|=1<<24-zt%32,At[(Z.ceil((zt+1)/kt)*kt>>>5)-1]|=128,gt.sigBytes=4*At.length,this._process();for(var Tt=this._state,Mt=this.cfg.outputLength/8,qt=Mt/8,Qt=[],on=0;on<qt;on++){var _n=Tt[on],Dn=_n.high,eo=_n.low;Dn=16711935&(Dn<<8|Dn>>>24)|4278255360&(Dn<<24|Dn>>>8),eo=16711935&(eo<<8|eo>>>24)|4278255360&(eo<<24|eo>>>8),Qt.push(eo),Qt.push(Dn)}return new Ce.init(Qt,Mt)},clone:function(){for(var At=ze.clone.call(this),zt=At._state=this._state.slice(0),kt=0;kt<25;kt++)zt[kt]=zt[kt].clone();return At}});ae.SHA3=ze._createHelper(ft),ae.HmacSHA3=ze._createHmacHelper(ft)}(Math),function(){var Z=fe,ae=Z.lib.Hasher,ye=Z.x64,Ce=ye.Word,ze=ye.WordArray,Re=Z.algo;function J(){return Ce.create.apply(Ce,arguments)}var pe=[J(1116352408,3609767458),J(1899447441,602891725),J(3049323471,3964484399),J(3921009573,2173295548),J(961987163,4081628472),J(1508970993,3053834265),J(2453635748,2937671579),J(2870763221,3664609560),J(3624381080,2734883394),J(310598401,1164996542),J(607225278,1323610764),J(1426881987,3590304994),J(1925078388,4068182383),J(2162078206,991336113),J(2614888103,633803317),J(3248222580,3479774868),J(3835390401,2666613458),J(4022224774,944711139),J(264347078,2341262773),J(604807628,2007800933),J(770255983,1495990901),J(1249150122,1856431235),J(1555081692,3175218132),J(1996064986,2198950837),J(2554220882,3999719339),J(2821834349,766784016),J(2952996808,2566594879),J(3210313671,3203337956),J(3336571891,1034457026),J(3584528711,2466948901),J(113926993,3758326383),J(338241895,168717936),J(666307205,1188179964),J(773529912,1546045734),J(1294757372,1522805485),J(1396182291,2643833823),J(1695183700,2343527390),J(1986661051,1014477480),J(2177026350,1206759142),J(2456956037,344077627),J(2730485921,1290863460),J(2820302411,3158454273),J(3259730800,3505952657),J(3345764771,106217008),J(3516065817,3606008344),J(3600352804,1432725776),J(4094571909,1467031594),J(275423344,851169720),J(430227734,3100823752),J(506948616,1363258195),J(659060556,3750685593),J(883997877,3785050280),J(958139571,3318307427),J(1322822218,3812723403),J(1537002063,2003034995),J(1747873779,3602036899),J(1955562222,1575990012),J(2024104815,1125592928),J(2227730452,2716904306),J(2361852424,442776044),J(2428436474,593698344),J(2756734187,3733110249),J(3204031479,2999351573),J(3329325298,3815920427),J(3391569614,3928383900),J(3515267271,566280711),J(3940187606,3454069534),J(4118630271,4000239992),J(116418474,1914138554),J(174292421,2731055270),J(289380356,3203993006),J(460393269,320620315),J(685471733,587496836),J(852142971,1086792851),J(1017036298,365543100),J(1126000580,2618297676),J(1288033470,3409855158),J(1501505948,4234509866),J(1607167915,987167468),J(1816402316,1246189591)],me=[];(function(){for(var Ke=0;Ke<80;Ke++)me[Ke]=J()})();var _e=Re.SHA512=ae.extend({_doReset:function(){this._hash=new ze.init([new Ce.init(1779033703,4089235720),new Ce.init(3144134277,2227873595),new Ce.init(1013904242,4271175723),new Ce.init(2773480762,1595750129),new Ce.init(1359893119,2917565137),new Ce.init(2600822924,725511199),new Ce.init(528734635,4215389547),new Ce.init(1541459225,327033209)])},_doProcessBlock:function(Ke,ft){for(var gt=this._hash.words,At=gt[0],zt=gt[1],kt=gt[2],Tt=gt[3],Mt=gt[4],qt=gt[5],Qt=gt[6],on=gt[7],_n=At.high,Dn=At.low,eo=zt.high,hs=zt.low,Bs=kt.high,fs=kt.low,Is=Tt.high,bs=Tt.low,Go=Mt.high,Do=Mt.low,zs=qt.high,As=qt.low,Vs=Qt.high,go=Qt.low,bo=on.high,io=on.low,po=_n,Tr=Dn,vi=eo,Qn=hs,Ur=Bs,wa=fs,Js=Is,ia=bs,Ne=Go,pt=Do,St=zs,Pt=As,Jt=Vs,Vn=go,jn=bo,vo=io,mo=0;mo<80;mo++){var Uo,cn,cs=me[mo];if(mo<16)cn=cs.high=0|Ke[ft+2*mo],Uo=cs.low=0|Ke[ft+2*mo+1];else{var ds=me[mo-15],Ue=ds.high,bt=ds.low,Ht=(Ue>>>1|bt<<31)^(Ue>>>8|bt<<24)^Ue>>>7,ln=(bt>>>1|Ue<<31)^(bt>>>8|Ue<<24)^(bt>>>7|Ue<<25),An=me[mo-2],Wn=An.high,Yo=An.low,Oo=(Wn>>>19|Yo<<13)^(Wn<<3|Yo>>>29)^Wn>>>6,So=(Yo>>>19|Wn<<13)^(Yo<<3|Wn>>>29)^(Yo>>>6|Wn<<26),Te=me[mo-7],Ge=Te.high,xt=Te.low,Kt=me[mo-16],Cn=Kt.high,Ko=Kt.low;cn=(cn=(cn=Ht+Ge+((Uo=ln+xt)>>>0<ln>>>0?1:0))+Oo+((Uo+=So)>>>0<So>>>0?1:0))+Cn+((Uo+=Ko)>>>0<Ko>>>0?1:0),cs.high=cn,cs.low=Uo}var ps,ir=Ne&St^~Ne&Jt,Or=pt&Pt^~pt&Vn,Gr=po&vi^po&Ur^vi&Ur,Rs=Tr&Qn^Tr&wa^Qn&wa,Sa=(po>>>28|Tr<<4)^(po<<30|Tr>>>2)^(po<<25|Tr>>>7),Hi=(Tr>>>28|po<<4)^(Tr<<30|po>>>2)^(Tr<<25|po>>>7),ta=(Ne>>>14|pt<<18)^(Ne>>>18|pt<<14)^(Ne<<23|pt>>>9),Ta=(pt>>>14|Ne<<18)^(pt>>>18|Ne<<14)^(pt<<23|Ne>>>9),xi=pe[mo],la=xi.high,Ji=xi.low,zi=jn+ta+((ps=vo+Ta)>>>0<vo>>>0?1:0),ml=Hi+Rs;jn=Jt,vo=Vn,Jt=St,Vn=Pt,St=Ne,Pt=pt,Ne=Js+(zi=(zi=(zi=zi+ir+((ps=ps+Or)>>>0<Or>>>0?1:0))+la+((ps=ps+Ji)>>>0<Ji>>>0?1:0))+cn+((ps=ps+Uo)>>>0<Uo>>>0?1:0))+((pt=ia+ps|0)>>>0<ia>>>0?1:0)|0,Js=Ur,ia=wa,Ur=vi,wa=Qn,vi=po,Qn=Tr,po=zi+(Sa+Gr+(ml>>>0<Hi>>>0?1:0))+((Tr=ps+ml|0)>>>0<ps>>>0?1:0)|0}Dn=At.low=Dn+Tr,At.high=_n+po+(Dn>>>0<Tr>>>0?1:0),hs=zt.low=hs+Qn,zt.high=eo+vi+(hs>>>0<Qn>>>0?1:0),fs=kt.low=fs+wa,kt.high=Bs+Ur+(fs>>>0<wa>>>0?1:0),bs=Tt.low=bs+ia,Tt.high=Is+Js+(bs>>>0<ia>>>0?1:0),Do=Mt.low=Do+pt,Mt.high=Go+Ne+(Do>>>0<pt>>>0?1:0),As=qt.low=As+Pt,qt.high=zs+St+(As>>>0<Pt>>>0?1:0),go=Qt.low=go+Vn,Qt.high=Vs+Jt+(go>>>0<Vn>>>0?1:0),io=on.low=io+vo,on.high=bo+jn+(io>>>0<vo>>>0?1:0)},_doFinalize:function(){var Ke=this._data,ft=Ke.words,gt=8*this._nDataBytes,At=8*Ke.sigBytes;return ft[At>>>5]|=128<<24-At%32,ft[30+(At+128>>>10<<5)]=Math.floor(gt/4294967296),ft[31+(At+128>>>10<<5)]=gt,Ke.sigBytes=4*ft.length,this._process(),this._hash.toX32()},clone:function(){var ft=ae.clone.call(this);return ft._hash=this._hash.clone(),ft},blockSize:32});Z.SHA512=ae._createHelper(_e),Z.HmacSHA512=ae._createHmacHelper(_e)}(),ot=(nt=fe).x64,Me=ot.Word,et=ot.WordArray,Ve=nt.algo,Ze=Ve.SHA512,Xe=Ve.SHA384=Ze.extend({_doReset:function(){this._hash=new et.init([new Me.init(3418070365,3238371032),new Me.init(1654270250,914150663),new Me.init(2438529370,812702999),new Me.init(355462360,4144912697),new Me.init(1731405415,4290775857),new Me.init(2394180231,1750603025),new Me.init(3675008525,1694076839),new Me.init(1203062813,3204075428)])},_doFinalize:function(){var Z=Ze._doFinalize.call(this);return Z.sigBytes-=16,Z}}),nt.SHA384=Ze._createHelper(Xe),nt.HmacSHA384=Ze._createHmacHelper(Xe),fe.lib.Cipher||(tt=($e=fe).lib,_t=tt.Base,mt=tt.WordArray,Lt=tt.BufferedBlockAlgorithm,(Rt=$e.enc).Utf8,Wt=Rt.Base64,Zt=$e.algo.EvpKDF,kn=tt.Cipher=Lt.extend({cfg:_t.extend(),createEncryptor:function(Z,ae){return this.create(this._ENC_XFORM_MODE,Z,ae)},createDecryptor:function(Z,ae){return this.create(this._DEC_XFORM_MODE,Z,ae)},init:function(Z,ae,ye){this.cfg=this.cfg.extend(ye),this._xformMode=Z,this._key=ae,this.reset()},reset:function(){Lt.reset.call(this),this._doReset()},process:function(Z){return this._append(Z),this._process()},finalize:function(Z){return Z&&this._append(Z),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Z(ae){return typeof ae=="string"?vn:Tn}return function(ae){return{encrypt:function(ye,Ce,ze){return Z(Ce).encrypt(ae,ye,Ce,ze)},decrypt:function(ye,Ce,ze){return Z(Ce).decrypt(ae,ye,Ce,ze)}}}}()}),tt.StreamCipher=kn.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),Jn=$e.mode={},Je=tt.BlockCipherMode=_t.extend({createEncryptor:function(Z,ae){return this.Encryptor.create(Z,ae)},createDecryptor:function(Z,ae){return this.Decryptor.create(Z,ae)},init:function(Z,ae){this._cipher=Z,this._iv=ae}}),wt=Jn.CBC=function(){var Z=Je.extend();function ae(ye,Ce,ze){var Re,J=this._iv;J?(Re=J,this._iv=void 0):Re=this._prevBlock;for(var pe=0;pe<ze;pe++)ye[Ce+pe]^=Re[pe]}return Z.Encryptor=Z.extend({processBlock:function(ye,Ce){var ze=this._cipher,Re=ze.blockSize;ae.call(this,ye,Ce,Re),ze.encryptBlock(ye,Ce),this._prevBlock=ye.slice(Ce,Ce+Re)}}),Z.Decryptor=Z.extend({processBlock:function(ye,Ce){var ze=this._cipher,Re=ze.blockSize,J=ye.slice(Ce,Ce+Re);ze.decryptBlock(ye,Ce),ae.call(this,ye,Ce,Re),this._prevBlock=J}}),Z}(),It=($e.pad={}).Pkcs7={pad:function(Z,ae){for(var ye=4*ae,Ce=ye-Z.sigBytes%ye,ze=Ce<<24|Ce<<16|Ce<<8|Ce,Re=[],J=0;J<Ce;J+=4)Re.push(ze);var pe=mt.create(Re,Ce);Z.concat(pe)},unpad:function(Z){var ae=255&Z.words[Z.sigBytes-1>>>2];Z.sigBytes-=ae}},tt.BlockCipher=kn.extend({cfg:kn.cfg.extend({mode:wt,padding:It}),reset:function(){var Z;kn.reset.call(this);var ae=this.cfg,ye=ae.iv,Ce=ae.mode;this._xformMode==this._ENC_XFORM_MODE?Z=Ce.createEncryptor:(Z=Ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Z?this._mode.init(this,ye&&ye.words):(this._mode=Z.call(Ce,this,ye&&ye.words),this._mode.__creator=Z)},_doProcessBlock:function(Z,ae){this._mode.processBlock(Z,ae)},_doFinalize:function(){var Z,ae=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ae.pad(this._data,this.blockSize),Z=this._process(!0)):(Z=this._process(!0),ae.unpad(Z)),Z},blockSize:4}),nn=tt.CipherParams=_t.extend({init:function(Z){this.mixIn(Z)},toString:function(Z){return(Z||this.formatter).stringify(this)}}),bn=($e.format={}).OpenSSL={stringify:function(Z){var ae=Z.ciphertext,ye=Z.salt;return(ye?mt.create([1398893684,1701076831]).concat(ye).concat(ae):ae).toString(Wt)},parse:function(Z){var ae,ye=Wt.parse(Z),Ce=ye.words;return Ce[0]==1398893684&&Ce[1]==1701076831&&(ae=mt.create(Ce.slice(2,4)),Ce.splice(0,4),ye.sigBytes-=16),nn.create({ciphertext:ye,salt:ae})}},Tn=tt.SerializableCipher=_t.extend({cfg:_t.extend({format:bn}),encrypt:function(Z,ae,ye,Ce){Ce=this.cfg.extend(Ce);var ze=Z.createEncryptor(ye,Ce),Re=ze.finalize(ae),J=ze.cfg;return nn.create({ciphertext:Re,key:ye,iv:J.iv,algorithm:Z,mode:J.mode,padding:J.padding,blockSize:Z.blockSize,formatter:Ce.format})},decrypt:function(Z,ae,ye,Ce){return Ce=this.cfg.extend(Ce),ae=this._parse(ae,Ce.format),Z.createDecryptor(ye,Ce).finalize(ae.ciphertext)},_parse:function(Z,ae){return typeof Z=="string"?ae.parse(Z,this):Z}}),Mn=($e.kdf={}).OpenSSL={execute:function(Z,ae,ye,Ce){Ce||(Ce=mt.random(8));var ze=Zt.create({keySize:ae+ye}).compute(Z,Ce),Re=mt.create(ze.words.slice(ae),4*ye);return ze.sigBytes=4*ae,nn.create({key:ze,iv:Re,salt:Ce})}},vn=tt.PasswordBasedCipher=Tn.extend({cfg:Tn.cfg.extend({kdf:Mn}),encrypt:function(Z,ae,ye,Ce){var ze=(Ce=this.cfg.extend(Ce)).kdf.execute(ye,Z.keySize,Z.ivSize);Ce.iv=ze.iv;var Re=Tn.encrypt.call(this,Z,ae,ze.key,Ce);return Re.mixIn(ze),Re},decrypt:function(Z,ae,ye,Ce){Ce=this.cfg.extend(Ce),ae=this._parse(ae,Ce.format);var ze=Ce.kdf.execute(ye,Z.keySize,Z.ivSize,ae.salt);return Ce.iv=ze.iv,Tn.decrypt.call(this,Z,ae,ze.key,Ce)}})),fe.mode.CFB=function(){var Z=fe.lib.BlockCipherMode.extend();function ae(ye,Ce,ze,Re){var J,pe=this._iv;pe?(J=pe.slice(0),this._iv=void 0):J=this._prevBlock,Re.encryptBlock(J,0);for(var me=0;me<ze;me++)ye[Ce+me]^=J[me]}return Z.Encryptor=Z.extend({processBlock:function(ye,Ce){var ze=this._cipher,Re=ze.blockSize;ae.call(this,ye,Ce,Re,ze),this._prevBlock=ye.slice(Ce,Ce+Re)}}),Z.Decryptor=Z.extend({processBlock:function(ye,Ce){var ze=this._cipher,Re=ze.blockSize,J=ye.slice(Ce,Ce+Re);ae.call(this,ye,Ce,Re,ze),this._prevBlock=J}}),Z}(),fe.mode.ECB=((Hn=fe.lib.BlockCipherMode.extend()).Encryptor=Hn.extend({processBlock:function(Z,ae){this._cipher.encryptBlock(Z,ae)}}),Hn.Decryptor=Hn.extend({processBlock:function(Z,ae){this._cipher.decryptBlock(Z,ae)}}),Hn),fe.pad.AnsiX923={pad:function(Z,ae){var ye=Z.sigBytes,Ce=4*ae,ze=Ce-ye%Ce,Re=ye+ze-1;Z.clamp(),Z.words[Re>>>2]|=ze<<24-Re%4*8,Z.sigBytes+=ze},unpad:function(Z){var ae=255&Z.words[Z.sigBytes-1>>>2];Z.sigBytes-=ae}},fe.pad.Iso10126={pad:function(Z,ae){var ye=4*ae,Ce=ye-Z.sigBytes%ye;Z.concat(fe.lib.WordArray.random(Ce-1)).concat(fe.lib.WordArray.create([Ce<<24],1))},unpad:function(Z){var ae=255&Z.words[Z.sigBytes-1>>>2];Z.sigBytes-=ae}},fe.pad.Iso97971={pad:function(Z,ae){Z.concat(fe.lib.WordArray.create([2147483648],1)),fe.pad.ZeroPadding.pad(Z,ae)},unpad:function(Z){fe.pad.ZeroPadding.unpad(Z),Z.sigBytes--}},fe.mode.OFB=(wo=fe.lib.BlockCipherMode.extend(),ro=wo.Encryptor=wo.extend({processBlock:function(Z,ae){var ye=this._cipher,Ce=ye.blockSize,ze=this._iv,Re=this._keystream;ze&&(Re=this._keystream=ze.slice(0),this._iv=void 0),ye.encryptBlock(Re,0);for(var J=0;J<Ce;J++)Z[ae+J]^=Re[J]}}),wo.Decryptor=ro,wo),fe.pad.NoPadding={pad:function(){},unpad:function(){}},zn=(qo=fe).lib.CipherParams,ls=qo.enc.Hex,qo.format.Hex={stringify:function(Z){return Z.ciphertext.toString(ls)},parse:function(Z){var ae=ls.parse(Z);return zn.create({ciphertext:ae})}},function(){var Z=fe,ae=Z.lib.BlockCipher,ye=Z.algo,Ce=[],ze=[],Re=[],J=[],pe=[],me=[],_e=[],Ke=[],ft=[],gt=[];(function(){for(var kt=[],Tt=0;Tt<256;Tt++)kt[Tt]=Tt<128?Tt<<1:Tt<<1^283;var Mt=0,qt=0;for(Tt=0;Tt<256;Tt++){var Qt=qt^qt<<1^qt<<2^qt<<3^qt<<4;Qt=Qt>>>8^255&Qt^99,Ce[Mt]=Qt;var on=kt[ze[Qt]=Mt],_n=kt[on],Dn=kt[_n],eo=257*kt[Qt]^16843008*Qt;Re[Mt]=eo<<24|eo>>>8,J[Mt]=eo<<16|eo>>>16,pe[Mt]=eo<<8|eo>>>24,me[Mt]=eo,eo=16843009*Dn^65537*_n^257*on^16843008*Mt,_e[Qt]=eo<<24|eo>>>8,Ke[Qt]=eo<<16|eo>>>16,ft[Qt]=eo<<8|eo>>>24,gt[Qt]=eo,Mt?(Mt=on^kt[kt[kt[Dn^on]]],qt^=kt[kt[qt]]):Mt=qt=1}})();var At=[0,1,2,4,8,16,32,64,128,27,54],zt=ye.AES=ae.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var kt=this._keyPriorReset=this._key,Tt=kt.words,Mt=kt.sigBytes/4,qt=4*((this._nRounds=Mt+6)+1),Qt=this._keySchedule=[],on=0;on<qt;on++)on<Mt?Qt[on]=Tt[on]:(eo=Qt[on-1],on%Mt?6<Mt&&on%Mt==4&&(eo=Ce[eo>>>24]<<24|Ce[eo>>>16&255]<<16|Ce[eo>>>8&255]<<8|Ce[255&eo]):(eo=Ce[(eo=eo<<8|eo>>>24)>>>24]<<24|Ce[eo>>>16&255]<<16|Ce[eo>>>8&255]<<8|Ce[255&eo],eo^=At[on/Mt|0]<<24),Qt[on]=Qt[on-Mt]^eo);for(var _n=this._invKeySchedule=[],Dn=0;Dn<qt;Dn++){if(on=qt-Dn,Dn%4)var eo=Qt[on];else eo=Qt[on-4];_n[Dn]=Dn<4||on<=4?eo:_e[Ce[eo>>>24]]^Ke[Ce[eo>>>16&255]]^ft[Ce[eo>>>8&255]]^gt[Ce[255&eo]]}}},encryptBlock:function(kt,Tt){this._doCryptBlock(kt,Tt,this._keySchedule,Re,J,pe,me,Ce)},decryptBlock:function(kt,Tt){var Mt=kt[Tt+1];kt[Tt+1]=kt[Tt+3],kt[Tt+3]=Mt,this._doCryptBlock(kt,Tt,this._invKeySchedule,_e,Ke,ft,gt,ze),Mt=kt[Tt+1],kt[Tt+1]=kt[Tt+3],kt[Tt+3]=Mt},_doCryptBlock:function(kt,Tt,Mt,qt,Qt,on,_n,Dn){for(var eo=this._nRounds,hs=kt[Tt]^Mt[0],Bs=kt[Tt+1]^Mt[1],fs=kt[Tt+2]^Mt[2],Is=kt[Tt+3]^Mt[3],bs=4,Go=1;Go<eo;Go++){var Do=qt[hs>>>24]^Qt[Bs>>>16&255]^on[fs>>>8&255]^_n[255&Is]^Mt[bs++],zs=qt[Bs>>>24]^Qt[fs>>>16&255]^on[Is>>>8&255]^_n[255&hs]^Mt[bs++],As=qt[fs>>>24]^Qt[Is>>>16&255]^on[hs>>>8&255]^_n[255&Bs]^Mt[bs++],Vs=qt[Is>>>24]^Qt[hs>>>16&255]^on[Bs>>>8&255]^_n[255&fs]^Mt[bs++];hs=Do,Bs=zs,fs=As,Is=Vs}Do=(Dn[hs>>>24]<<24|Dn[Bs>>>16&255]<<16|Dn[fs>>>8&255]<<8|Dn[255&Is])^Mt[bs++],zs=(Dn[Bs>>>24]<<24|Dn[fs>>>16&255]<<16|Dn[Is>>>8&255]<<8|Dn[255&hs])^Mt[bs++],As=(Dn[fs>>>24]<<24|Dn[Is>>>16&255]<<16|Dn[hs>>>8&255]<<8|Dn[255&Bs])^Mt[bs++],Vs=(Dn[Is>>>24]<<24|Dn[hs>>>16&255]<<16|Dn[Bs>>>8&255]<<8|Dn[255&fs])^Mt[bs++],kt[Tt]=Do,kt[Tt+1]=zs,kt[Tt+2]=As,kt[Tt+3]=Vs},keySize:8});Z.AES=ae._createHelper(zt)}(),function(){var Z=fe,ae=Z.lib,ye=ae.WordArray,Ce=ae.BlockCipher,ze=Z.algo,Re=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],J=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],pe=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],me=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_e=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Ke=ze.DES=Ce.extend({_doReset:function(){for(var zt=this._key.words,kt=[],Tt=0;Tt<56;Tt++){var Mt=Re[Tt]-1;kt[Tt]=zt[Mt>>>5]>>>31-Mt%32&1}for(var qt=this._subKeys=[],Qt=0;Qt<16;Qt++){var on=qt[Qt]=[],_n=pe[Qt];for(Tt=0;Tt<24;Tt++)on[Tt/6|0]|=kt[(J[Tt]-1+_n)%28]<<31-Tt%6,on[4+(Tt/6|0)]|=kt[28+(J[Tt+24]-1+_n)%28]<<31-Tt%6;for(on[0]=on[0]<<1|on[0]>>>31,Tt=1;Tt<7;Tt++)on[Tt]=on[Tt]>>>4*(Tt-1)+3;on[7]=on[7]<<5|on[7]>>>27}var Dn=this._invSubKeys=[];for(Tt=0;Tt<16;Tt++)Dn[Tt]=qt[15-Tt]},encryptBlock:function(zt,kt){this._doCryptBlock(zt,kt,this._subKeys)},decryptBlock:function(zt,kt){this._doCryptBlock(zt,kt,this._invSubKeys)},_doCryptBlock:function(zt,kt,Tt){this._lBlock=zt[kt],this._rBlock=zt[kt+1],ft.call(this,4,252645135),ft.call(this,16,65535),gt.call(this,2,858993459),gt.call(this,8,16711935),ft.call(this,1,1431655765);for(var Mt=0;Mt<16;Mt++){for(var qt=Tt[Mt],Qt=this._lBlock,on=this._rBlock,_n=0,Dn=0;Dn<8;Dn++)_n|=me[Dn][((on^qt[Dn])&_e[Dn])>>>0];this._lBlock=on,this._rBlock=Qt^_n}var eo=this._lBlock;this._lBlock=this._rBlock,this._rBlock=eo,ft.call(this,1,1431655765),gt.call(this,8,16711935),gt.call(this,2,858993459),ft.call(this,16,65535),ft.call(this,4,252645135),zt[kt]=this._lBlock,zt[kt+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function ft(zt,kt){var Tt=(this._lBlock>>>zt^this._rBlock)&kt;this._rBlock^=Tt,this._lBlock^=Tt<<zt}function gt(zt,kt){var Tt=(this._rBlock>>>zt^this._lBlock)&kt;this._lBlock^=Tt,this._rBlock^=Tt<<zt}Z.DES=Ce._createHelper(Ke);var At=ze.TripleDES=Ce.extend({_doReset:function(){var zt=this._key.words;if(zt.length!==2&&zt.length!==4&&zt.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var kt=zt.slice(0,2),Tt=zt.length<4?zt.slice(0,2):zt.slice(2,4),Mt=zt.length<6?zt.slice(0,2):zt.slice(4,6);this._des1=Ke.createEncryptor(ye.create(kt)),this._des2=Ke.createEncryptor(ye.create(Tt)),this._des3=Ke.createEncryptor(ye.create(Mt))},encryptBlock:function(zt,kt){this._des1.encryptBlock(zt,kt),this._des2.decryptBlock(zt,kt),this._des3.encryptBlock(zt,kt)},decryptBlock:function(zt,kt){this._des3.decryptBlock(zt,kt),this._des2.encryptBlock(zt,kt),this._des1.decryptBlock(zt,kt)},keySize:6,ivSize:2,blockSize:2});Z.TripleDES=Ce._createHelper(At)}(),function(){var Z=fe,ae=Z.lib.StreamCipher,ye=Z.algo,Ce=ye.RC4=ae.extend({_doReset:function(){for(var J=this._key,pe=J.words,me=J.sigBytes,_e=this._S=[],Ke=0;Ke<256;Ke++)_e[Ke]=Ke;Ke=0;for(var ft=0;Ke<256;Ke++){var gt=Ke%me,At=pe[gt>>>2]>>>24-gt%4*8&255;ft=(ft+_e[Ke]+At)%256;var zt=_e[Ke];_e[Ke]=_e[ft],_e[ft]=zt}this._i=this._j=0},_doProcessBlock:function(J,pe){J[pe]^=ze.call(this)},keySize:8,ivSize:0});function ze(){for(var J=this._S,pe=this._i,me=this._j,_e=0,Ke=0;Ke<4;Ke++){me=(me+J[pe=(pe+1)%256])%256;var ft=J[pe];J[pe]=J[me],J[me]=ft,_e|=J[(J[pe]+J[me])%256]<<24-8*Ke}return this._i=pe,this._j=me,_e}Z.RC4=ae._createHelper(Ce);var Re=ye.RC4Drop=Ce.extend({cfg:Ce.cfg.extend({drop:192}),_doReset:function(){Ce._doReset.call(this);for(var J=this.cfg.drop;0<J;J--)ze.call(this)}});Z.RC4Drop=ae._createHelper(Re)}(),fe.mode.CTRGladman=function(){var Z=fe.lib.BlockCipherMode.extend();function ae(Ce){if((Ce>>24&255)==255){var ze=Ce>>16&255,Re=Ce>>8&255,J=255&Ce;ze===255?(ze=0,Re===255?(Re=0,J===255?J=0:++J):++Re):++ze,Ce=0,Ce+=ze<<16,Ce+=Re<<8,Ce+=J}else Ce+=1<<24;return Ce}var ye=Z.Encryptor=Z.extend({processBlock:function(Ce,ze){var Re=this._cipher,J=Re.blockSize,pe=this._iv,me=this._counter;pe&&(me=this._counter=pe.slice(0),this._iv=void 0),function(gt){return(gt[0]=ae(gt[0]))===0&&(gt[1]=ae(gt[1])),gt}(me);var _e=me.slice(0);Re.encryptBlock(_e,0);for(var Ke=0;Ke<J;Ke++)Ce[ze+Ke]^=_e[Ke]}});return Z.Decryptor=ye,Z}(),function(){var Z=fe,ae=Z.lib.StreamCipher,ye=Z.algo,Ce=[],ze=[],Re=[],J=ye.Rabbit=ae.extend({_doReset:function(){for(var me=this._key.words,_e=this.cfg.iv,Ke=0;Ke<4;Ke++)me[Ke]=16711935&(me[Ke]<<8|me[Ke]>>>24)|4278255360&(me[Ke]<<24|me[Ke]>>>8);var ft=this._X=[me[0],me[3]<<16|me[2]>>>16,me[1],me[0]<<16|me[3]>>>16,me[2],me[1]<<16|me[0]>>>16,me[3],me[2]<<16|me[1]>>>16],gt=this._C=[me[2]<<16|me[2]>>>16,4294901760&me[0]|65535&me[1],me[3]<<16|me[3]>>>16,4294901760&me[1]|65535&me[2],me[0]<<16|me[0]>>>16,4294901760&me[2]|65535&me[3],me[1]<<16|me[1]>>>16,4294901760&me[3]|65535&me[0]];for(Ke=this._b=0;Ke<4;Ke++)pe.call(this);for(Ke=0;Ke<8;Ke++)gt[Ke]^=ft[Ke+4&7];if(_e){var At=_e.words,zt=At[0],kt=At[1],Tt=16711935&(zt<<8|zt>>>24)|4278255360&(zt<<24|zt>>>8),Mt=16711935&(kt<<8|kt>>>24)|4278255360&(kt<<24|kt>>>8),qt=Tt>>>16|4294901760&Mt,Qt=Mt<<16|65535&Tt;for(gt[0]^=Tt,gt[1]^=qt,gt[2]^=Mt,gt[3]^=Qt,gt[4]^=Tt,gt[5]^=qt,gt[6]^=Mt,gt[7]^=Qt,Ke=0;Ke<4;Ke++)pe.call(this)}},_doProcessBlock:function(me,_e){var Ke=this._X;pe.call(this),Ce[0]=Ke[0]^Ke[5]>>>16^Ke[3]<<16,Ce[1]=Ke[2]^Ke[7]>>>16^Ke[5]<<16,Ce[2]=Ke[4]^Ke[1]>>>16^Ke[7]<<16,Ce[3]=Ke[6]^Ke[3]>>>16^Ke[1]<<16;for(var ft=0;ft<4;ft++)Ce[ft]=16711935&(Ce[ft]<<8|Ce[ft]>>>24)|4278255360&(Ce[ft]<<24|Ce[ft]>>>8),me[_e+ft]^=Ce[ft]},blockSize:4,ivSize:2});function pe(){for(var me=this._X,_e=this._C,Ke=0;Ke<8;Ke++)ze[Ke]=_e[Ke];for(_e[0]=_e[0]+1295307597+this._b|0,_e[1]=_e[1]+3545052371+(_e[0]>>>0<ze[0]>>>0?1:0)|0,_e[2]=_e[2]+886263092+(_e[1]>>>0<ze[1]>>>0?1:0)|0,_e[3]=_e[3]+1295307597+(_e[2]>>>0<ze[2]>>>0?1:0)|0,_e[4]=_e[4]+3545052371+(_e[3]>>>0<ze[3]>>>0?1:0)|0,_e[5]=_e[5]+886263092+(_e[4]>>>0<ze[4]>>>0?1:0)|0,_e[6]=_e[6]+1295307597+(_e[5]>>>0<ze[5]>>>0?1:0)|0,_e[7]=_e[7]+3545052371+(_e[6]>>>0<ze[6]>>>0?1:0)|0,this._b=_e[7]>>>0<ze[7]>>>0?1:0,Ke=0;Ke<8;Ke++){var ft=me[Ke]+_e[Ke],gt=65535&ft,At=ft>>>16,zt=((gt*gt>>>17)+gt*At>>>15)+At*At,kt=((4294901760&ft)*ft|0)+((65535&ft)*ft|0);Re[Ke]=zt^kt}me[0]=Re[0]+(Re[7]<<16|Re[7]>>>16)+(Re[6]<<16|Re[6]>>>16)|0,me[1]=Re[1]+(Re[0]<<8|Re[0]>>>24)+Re[7]|0,me[2]=Re[2]+(Re[1]<<16|Re[1]>>>16)+(Re[0]<<16|Re[0]>>>16)|0,me[3]=Re[3]+(Re[2]<<8|Re[2]>>>24)+Re[1]|0,me[4]=Re[4]+(Re[3]<<16|Re[3]>>>16)+(Re[2]<<16|Re[2]>>>16)|0,me[5]=Re[5]+(Re[4]<<8|Re[4]>>>24)+Re[3]|0,me[6]=Re[6]+(Re[5]<<16|Re[5]>>>16)+(Re[4]<<16|Re[4]>>>16)|0,me[7]=Re[7]+(Re[6]<<8|Re[6]>>>24)+Re[5]|0}Z.Rabbit=ae._createHelper(J)}(),fe.mode.CTR=(ms=fe.lib.BlockCipherMode.extend(),Et=ms.Encryptor=ms.extend({processBlock:function(Z,ae){var ye=this._cipher,Ce=ye.blockSize,ze=this._iv,Re=this._counter;ze&&(Re=this._counter=ze.slice(0),this._iv=void 0);var J=Re.slice(0);ye.encryptBlock(J,0),Re[Ce-1]=Re[Ce-1]+1|0;for(var pe=0;pe<Ce;pe++)Z[ae+pe]^=J[pe]}}),ms.Decryptor=Et,ms),function(){var Z=fe,ae=Z.lib.StreamCipher,ye=Z.algo,Ce=[],ze=[],Re=[],J=ye.RabbitLegacy=ae.extend({_doReset:function(){for(var me=this._key.words,_e=this.cfg.iv,Ke=this._X=[me[0],me[3]<<16|me[2]>>>16,me[1],me[0]<<16|me[3]>>>16,me[2],me[1]<<16|me[0]>>>16,me[3],me[2]<<16|me[1]>>>16],ft=this._C=[me[2]<<16|me[2]>>>16,4294901760&me[0]|65535&me[1],me[3]<<16|me[3]>>>16,4294901760&me[1]|65535&me[2],me[0]<<16|me[0]>>>16,4294901760&me[2]|65535&me[3],me[1]<<16|me[1]>>>16,4294901760&me[3]|65535&me[0]],gt=this._b=0;gt<4;gt++)pe.call(this);for(gt=0;gt<8;gt++)ft[gt]^=Ke[gt+4&7];if(_e){var At=_e.words,zt=At[0],kt=At[1],Tt=16711935&(zt<<8|zt>>>24)|4278255360&(zt<<24|zt>>>8),Mt=16711935&(kt<<8|kt>>>24)|4278255360&(kt<<24|kt>>>8),qt=Tt>>>16|4294901760&Mt,Qt=Mt<<16|65535&Tt;for(ft[0]^=Tt,ft[1]^=qt,ft[2]^=Mt,ft[3]^=Qt,ft[4]^=Tt,ft[5]^=qt,ft[6]^=Mt,ft[7]^=Qt,gt=0;gt<4;gt++)pe.call(this)}},_doProcessBlock:function(me,_e){var Ke=this._X;pe.call(this),Ce[0]=Ke[0]^Ke[5]>>>16^Ke[3]<<16,Ce[1]=Ke[2]^Ke[7]>>>16^Ke[5]<<16,Ce[2]=Ke[4]^Ke[1]>>>16^Ke[7]<<16,Ce[3]=Ke[6]^Ke[3]>>>16^Ke[1]<<16;for(var ft=0;ft<4;ft++)Ce[ft]=16711935&(Ce[ft]<<8|Ce[ft]>>>24)|4278255360&(Ce[ft]<<24|Ce[ft]>>>8),me[_e+ft]^=Ce[ft]},blockSize:4,ivSize:2});function pe(){for(var me=this._X,_e=this._C,Ke=0;Ke<8;Ke++)ze[Ke]=_e[Ke];for(_e[0]=_e[0]+1295307597+this._b|0,_e[1]=_e[1]+3545052371+(_e[0]>>>0<ze[0]>>>0?1:0)|0,_e[2]=_e[2]+886263092+(_e[1]>>>0<ze[1]>>>0?1:0)|0,_e[3]=_e[3]+1295307597+(_e[2]>>>0<ze[2]>>>0?1:0)|0,_e[4]=_e[4]+3545052371+(_e[3]>>>0<ze[3]>>>0?1:0)|0,_e[5]=_e[5]+886263092+(_e[4]>>>0<ze[4]>>>0?1:0)|0,_e[6]=_e[6]+1295307597+(_e[5]>>>0<ze[5]>>>0?1:0)|0,_e[7]=_e[7]+3545052371+(_e[6]>>>0<ze[6]>>>0?1:0)|0,this._b=_e[7]>>>0<ze[7]>>>0?1:0,Ke=0;Ke<8;Ke++){var ft=me[Ke]+_e[Ke],gt=65535&ft,At=ft>>>16,zt=((gt*gt>>>17)+gt*At>>>15)+At*At,kt=((4294901760&ft)*ft|0)+((65535&ft)*ft|0);Re[Ke]=zt^kt}me[0]=Re[0]+(Re[7]<<16|Re[7]>>>16)+(Re[6]<<16|Re[6]>>>16)|0,me[1]=Re[1]+(Re[0]<<8|Re[0]>>>24)+Re[7]|0,me[2]=Re[2]+(Re[1]<<16|Re[1]>>>16)+(Re[0]<<16|Re[0]>>>16)|0,me[3]=Re[3]+(Re[2]<<8|Re[2]>>>24)+Re[1]|0,me[4]=Re[4]+(Re[3]<<16|Re[3]>>>16)+(Re[2]<<16|Re[2]>>>16)|0,me[5]=Re[5]+(Re[4]<<8|Re[4]>>>24)+Re[3]|0,me[6]=Re[6]+(Re[5]<<16|Re[5]>>>16)+(Re[4]<<16|Re[4]>>>16)|0,me[7]=Re[7]+(Re[6]<<8|Re[6]>>>24)+Re[5]|0}Z.RabbitLegacy=ae._createHelper(J)}(),fe.pad.ZeroPadding={pad:function(Z,ae){var ye=4*ae;Z.clamp(),Z.sigBytes+=ye-(Z.sigBytes%ye||ye)},unpad:function(Z){var ae=Z.words,ye=Z.sigBytes-1;for(ye=Z.sigBytes-1;0<=ye;ye--)if(ae[ye>>>2]>>>24-ye%4*8&255){Z.sigBytes=ye+1;break}}},{init:function(){},cryptoJS:fe}},Object.assign(x.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),x.PLUGINS.fontFamily=function(s){var b=s.$;function B(p){var M=p.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return b(this).grep(M,function(L){return 0<L.length})}function ge(p,M){for(var L=0;L<p.length;L++)for(var A=0;A<M.length;A++)if(p[L].toLowerCase()===M[A].toLowerCase())return[L,A];return null}function a(){var p=B(b(s.selection.element()).css("font-family")),M=[];for(var L in s.opts.fontFamily)if(s.opts.fontFamily.hasOwnProperty(L)){var A=ge(p,B(L));A&&M.push([L,A])}return M.length===0?null:(M.sort(function(O,z){var Q=O[1][0]-z[1][0];return Q===0?O[1][1]-z[1][1]:Q}),M[0][0])}return{apply:function(M){s.format.applyStyle("font-family",M)},refreshOnShow:function(M,L){L.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),L.find('.fr-command[data-param1="'.concat(a(),'"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(M){if(s.opts.fontFamilySelection){var L=b(s.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");M.find("> span").text(s.opts.fontFamily[a()]||L[0]||s.language.translate(s.opts.fontFamilyDefaultSelection))}}}},x.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(s){return s.opts.fontFamilySelection},defaultSelection:function(s){return s.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.fontFamily;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'.concat(B,`" 
        style="font-family: `).concat(B,'" title="').concat(b[B],'">').concat(b[B],"</a></li>"));return s+="</ul>"},title:"Font Family",callback:function(s,b){this.fontFamily.apply(b)},refresh:function(s){this.fontFamily.refresh(s)},refreshOnShow:function(s,b){this.fontFamily.refreshOnShow(s,b)},plugin:"fontFamily"}),x.DefineIcon("fontFamily",{NAME:"font",SVG_KEY:"fontFamily"}),Object.assign(x.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"Font Size",fontSizeUnit:"px"}),x.PLUGINS.fontSize=function(s){var b=s.$;return{apply:function(ge){s.format.applyStyle("font-size",ge)},refreshOnShow:function(ge,a){var p=b(s.selection.element()).css("font-size");s.opts.fontSizeUnit==="pt"&&(p="".concat(Math.round(72*parseFloat(p,10)/96),"pt")),a.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),a.find('.fr-command[data-param1="'.concat(p,'"]')).addClass("fr-active").attr("aria-selected",!0)},refresh:function(ge){if(s.opts.fontSizeSelection){var a=s.helpers.getPX(b(s.selection.element()).css("font-size"));s.opts.fontSizeUnit==="pt"&&(a="".concat(Math.round(72*parseFloat(a,10)/96),"pt")),ge.find("> span").text(a)}}}},x.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(s){return s.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(s){return s.opts.fontSizeDefaultSelection},html:function(){for(var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.fontSize,B=0;B<b.length;B++){var ge=b[B];s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'.concat(ge).concat(this.opts.fontSizeUnit,'" title="').concat(ge,'">').concat(ge,"</a></li>")}return s+="</ul>"},callback:function(s,b){this.fontSize.apply(b)},refresh:function(s){this.fontSize.refresh(s)},refreshOnShow:function(s,b){this.fontSize.refreshOnShow(s,b)},plugin:"fontSize"}),x.DefineIcon("fontSize",{NAME:"text-height",SVG_KEY:"fontSize"}),Object.assign(x.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),Object.assign(x.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),x.PLUGINS.forms=function(s){var b,B=s.$;function ge(H){s.selection.clear(),B(this).data("mousedown",!0)}function a(H){B(this).data("mousedown")&&(H.stopPropagation(),B(this).removeData("mousedown"),A(b=this)),H.preventDefault()}function p(){s.$el.find("input, textarea, button").removeData("mousedown")}function M(){B(this).removeData("mousedown")}function L(){return b||null}function A(H){if(["checkbox","radio"].indexOf(H.type)==-1){var P=s.popups.get("forms.edit");P||(P=function(){var xe="";0<s.opts.formEditButtons.length&&(xe='<div class="fr-buttons">'.concat(s.button.buildList(s.opts.formEditButtons),"</div>"));var be={buttons:xe},re=s.popups.create("forms.edit",be);return s.$wp&&s.events.$on(s.$wp,"scroll.link-edit",function(){L()&&s.popups.isVisible("forms.edit")&&A(L())}),re}());var j=B(b=H);s.popups.refresh("forms.edit"),s.popups.setContainer("forms.edit",s.$sc);var K=j.offset().left+j.outerWidth()/2,ee=j.offset().top+j.outerHeight();s.popups.show("forms.edit",K,ee,j.outerHeight())}}function O(){var H=s.popups.get("forms.update"),P=L();if(P){var j=B(P);j.is("button")?H.find('input[type="text"][name="text"]').val(j.text()):j.is("input[type=button]")||j.is("input[type=submit]")||j.is("input[type=reset]")?H.find('input[type="text"][name="text"]').val(j.val()):H.find('input[type="text"][name="text"]').val(j.attr("placeholder"))}H.find('input[type="text"][name="text"]').trigger("change")}function z(){b=null}function Q(H){if(H)return s.popups.onRefresh("forms.update",O),s.popups.onHide("forms.update",z),!0;var P="";1<=s.opts.formUpdateButtons.length&&(P='<div class="fr-buttons">'.concat(s.button.buildList(s.opts.formUpdateButtons),"</div>"));var j=0,K={buttons:P,text_layer:`<div class="fr-forms-text-layer fr-layer fr-active"> 
    <div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex=" `.concat(++j,` "></div>
    <div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="`).concat(2,'" type="button">').concat(s.language.translate("Update"),"</button></div></div>")};return s.popups.create("forms.update",K)}return{_init:function(){(function(){s.events.$on(s.$el,s._mousedown,"input, textarea, button",ge),s.events.$on(s.$el,s._mouseup,"input, textarea, button",a),s.events.$on(s.$el,"touchmove","input, textarea, button",M),s.events.$on(s.$el,s._mouseup,p),s.events.$on(s.$win,s._mouseup,p),Q(!0)})(),s.events.$on(s.$el,"submit","form",function(P){return P.preventDefault(),!1})},updateInput:function(){var P=s.popups.get("forms.update"),j=L();if(j){var K=B(j),ee=P.find('input[type="text"][name="text"]').val()||"";K.is("button")?ee.length?K.text(ee):K.text("​"):["button","submit","reset"].indexOf(j.type)!=-1?K.attr("value",ee):K.attr("placeholder",ee),s.popups.hide("forms.update"),A(j)}},getInput:L,applyStyle:function(P,j,K){j===void 0&&(j=s.opts.formStyles),K===void 0&&(K=s.opts.formMultipleStyles);var ee=L();if(!ee)return!1;if(!K){var w=Object.keys(j);w.splice(w.indexOf(P),1),B(ee).removeClass(w.join(" "))}B(ee).toggleClass(P)},showUpdatePopup:function(){var P=L();if(P){var j=B(P),K=s.popups.get("forms.update");K||(K=Q()),s.popups.isVisible("forms.update")||s.popups.refresh("forms.update"),s.popups.setContainer("forms.update",s.$sc);var ee=j.offset().left+j.outerWidth()/2,w=j.offset().top+j.outerHeight();s.popups.show("forms.update",ee,w,j.outerHeight())}},showEditPopup:A,back:function(){s.events.disableBlur(),s.selection.restore(),s.events.enableBlur();var P=L();P&&s.$wp&&(P.tagName==="BUTTON"&&s.selection.restore(),A(P))}}},x.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),x.DefineIcon("inputStyle",{NAME:"magic",SVG_KEY:"inlineStyle"}),x.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list">',b=this.opts.formStyles;for(var B in b)b.hasOwnProperty(B)&&(s+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'.concat(B,'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},callback:function(s,b){var B=this.forms.getInput();B&&(this.forms.applyStyle(b),this.forms.showEditPopup(B))},refreshOnShow:function(s,b){var B=this.$,ge=this.forms.getInput();if(ge){var a=B(ge);b.find(".fr-command").each(function(){var p=B(this).data("param1");B(this).toggleClass("fr-active",a.hasClass(p))})}}}),x.DefineIcon("inputEdit",{NAME:"edit",SVG_KEY:"edit"}),x.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),x.DefineIcon("inputBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),x.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),x.PLUGINS.fullscreen=function(s){var b,B,ge,a,p=s.$,M=function(){return s.$box.hasClass("fr-fullscreen")};function L(){if(s.helpers.isIOS()&&s.core.hasFocus())return s.$el.blur(),setTimeout(O,250),!1;b=s.helpers.scrollTop(),s.opts.iframe&&s.markdown&&s.markdown.isEnabled()&&(s.$box=s.$oel),s.$box.toggleClass("fr-fullscreen"),p("body").first().toggleClass("fr-fullscreen"),s.helpers.isMobile()&&(s.opts.toolbarBottom?s.$tb[0].removeAttribute("style"):(s.$tb.data("parent",s.$tb.parent()),s.$box.prepend(s.$tb),s.$tb.data("sticky-dummy")&&s.$tb.after(s.$tb.data("sticky-dummy")))),B=s.opts.height,ge=s.opts.heightMax,a=s.opts.zIndex,s.opts.height=s.o_win.innerHeight-(s.opts.toolbarInline?0:s.$tb.outerHeight()+(s.$second_tb?s.$second_tb.outerHeight():0)),s.opts.zIndex=2147483641,s.opts.heightMax=null,s.size.refresh(),s.opts.toolbarInline&&s.toolbar.showInline();for(var Q=s.$box.parent();!Q.first().is("body");)Q.addClass("fr-fullscreen-wrapper"),Q=Q.parent();s.opts.toolbarContainer&&s.$box.prepend(s.$tb),s.events.trigger("charCounter.update"),s.events.trigger("codeView.update"),s.$win.trigger("scroll")}function A(){if(s.helpers.isIOS()&&s.core.hasFocus())return s.$el.blur(),setTimeout(O,250),!1;s.$box.toggleClass("fr-fullscreen"),p("body").first().toggleClass("fr-fullscreen"),s.$tb.data("parent")&&s.$tb.data("parent").prepend(s.$tb),s.$tb.data("sticky-dummy")&&s.$tb.after(s.$tb.data("sticky-dummy")),s.opts.height=B,s.opts.heightMax=ge,s.opts.zIndex=a,s.size.refresh(),s.o_win.scroll(0,b),s.opts.toolbarInline&&s.toolbar.showInline(),s.events.trigger("charCounter.update"),s.opts.toolbarSticky&&s.opts.toolbarStickyOffset&&(s.opts.toolbarBottom?s.$tb.css("bottom",s.opts.toolbarStickyOffset).data("bottom",s.opts.toolbarStickyOffset):s.$tb.css("top",s.opts.toolbarStickyOffset).data("top",s.opts.toolbarStickyOffset));for(var Q=s.$box.parent();!Q.first().is("body");)Q.removeClass("fr-fullscreen-wrapper"),Q=Q.parent();s.opts.toolbarContainer&&p(s.opts.toolbarContainer).append(s.$tb),p(s.o_win).trigger("scroll"),s.events.trigger("codeView.update")}function O(){M()?A():L(),z(s.$tb.find('.fr-command[data-cmd="fullscreen"]'));var Q=s.$tb.find('.fr-command[data-cmd="moreText"]'),H=s.$tb.find('.fr-command[data-cmd="moreParagraph"]'),P=s.$tb.find('.fr-command[data-cmd="moreRich"]'),j=s.$tb.find('.fr-command[data-cmd="moreMisc"]');Q.length&&s.refresh.moreText(Q),H.length&&s.refresh.moreParagraph(H),P.length&&s.refresh.moreRich(P),j.length&&s.refresh.moreMisc(j)}function z(Q){var H=M();Q.toggleClass("fr-active",H).attr("aria-pressed",H),Q.find("> *").not(".fr-sr-only").replaceWith(H?s.icon.create("fullscreenCompress"):s.icon.create("fullscreen"))}return{_init:function(){if(!s.$wp)return!1;s.events.$on(p(s.o_win),"resize",function(){M()&&(A(),L())}),s.events.on("toolbar.hide",function(){if(M()&&s.helpers.isMobile())return!1}),s.events.on("position.refresh",function(){if(s.helpers.isIOS())return!M()}),s.events.on("destroy",function(){M()&&A()},!0)},toggle:O,refresh:z,isActive:M}},x.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(s){this.fullscreen.refresh(s)},plugin:"fullscreen"}),x.DefineIcon("fullscreen",{NAME:"expand",SVG_KEY:"fullscreen"}),x.DefineIcon("fullscreenCompress",{NAME:"compress",SVG_KEY:"exitFullscreen"}),Object.assign(x.DEFAULTS,{helpSets:[{title:"Inline Editor",commands:[{val:"OSkeyE",desc:"Show the editor"}]},{title:"Common actions",commands:[{val:"OSkeyC",desc:"Copy"},{val:"OSkeyX",desc:"Cut"},{val:"OSkeyV",desc:"Paste"},{val:"OSkeyZ",desc:"Undo"},{val:"OSkeyShift+Z",desc:"Redo"},{val:"OSkeyK",desc:"Insert Link"},{val:"OSkeyP",desc:"Insert Image"}]},{title:"Basic Formatting",commands:[{val:"OSkeyA",desc:"Select All"},{val:"OSkeyB",desc:"Bold"},{val:"OSkeyI",desc:"Italic"},{val:"OSkeyU",desc:"Underline"},{val:"OSkeyS",desc:"Strikethrough"},{val:"OSkey]",desc:"Increase Indent"},{val:"OSkey[",desc:"Decrease Indent"}]},{title:"Quote",commands:[{val:"OSkey'",desc:"Increase quote level"},{val:"OSkeyShift+'",desc:"Decrease quote level"}]},{title:"Image / Video",commands:[{val:"OSkey+",desc:"Resize larger"},{val:"OSkey-",desc:"Resize smaller"}]},{title:"Table",commands:[{val:"Alt+Space",desc:"Select table cell"},{val:"Shift+Left/Right arrow",desc:"Extend selection one cell"},{val:"Shift+Up/Down arrow",desc:"Extend selection one row"}]},{title:"Navigation",commands:[{val:"OSkey/",desc:"Shortcuts"},{val:"Alt+F10",desc:"Focus popup / toolbar"},{val:"Esc",desc:"Return focus to previous position"}]}]}),x.PLUGINS.help=function(s){var b,B=s.$,ge="help";return{_init:function(){},show:function(){if(!b){var p="<h4>".concat(s.language.translate("Shortcuts"),"</h4>"),M=function(){for(var O='<div class="fr-help-modal">',z=0;z<s.opts.helpSets.length;z++){var Q=s.opts.helpSets[z],H="<table>";H+="<thead><tr><th>".concat(s.language.translate(Q.title),"</th></tr></thead>"),H+="<tbody>";for(var P=0;P<Q.commands.length;P++){var j=Q.commands[P];H+="<tr>",H+="<td>".concat(s.language.translate(j.desc),"</td>"),H+="<td>".concat(j.val.replace("OSkey",s.helpers.isMac()?"&#8984;":"Ctrl+"),"</td>"),H+="</tr>"}O+=H+="</tbody></table>"}return O+="</div>"}(),L=s.modals.create(ge,p,M);b=L.$modal,s.events.$on(B(s.o_win),"resize",function(){s.modals.resize(ge)})}s.modals.show(ge),s.modals.resize(ge)},hide:function(){s.modals.hide(ge)}}},x.DefineIcon("help",{NAME:"question",SVG_KEY:"help"}),x.RegisterShortcut(x.KEYCODE.SLASH,"help",null,"/"),x.RegisterCommand("help",{title:"Help",icon:"help",undo:!1,focus:!1,modal:!0,callback:function(){this.help.show()},plugin:"help",showOnMobile:!1}),Object.assign(x.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(x.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUpload:!0,imageUploadURL:null,imageCORSProxy:"https://cors-anywhere.froala.com",imageUploadRemoteUrls:!0,imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadToAzure:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","webp"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","fr-shadow":"Shadow"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imagePasteProcess:!1,imageMinWidth:16,imageOutputSize:!1,imageDefaultMargin:5,imageAddNewLine:!1}),x.IMAGE_ALLOW_REGEX=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,x.PLUGINS.image=function(s){var b,B,ge,a,p,M,L=s.$,A="https://i.froala.com/upload",O=!1,z=1,Q=2,H=3,P=4,j=5,K=6,ee={};function w(){var J=s.popups.get("image.insert").find(".fr-image-by-url-layer input");J.val(""),b&&J.val(b.attr("src")),J.trigger("change")}function xe(J){return window.pageYOffset+J.get(0).getBoundingClientRect().top}function be(){var J=s.popups.get("image.edit");if(J||(J=de()),J){var pe=b;s.popups.setContainer("image.edit",s.$wp||s.$sc),s.popups.refresh("image.edit");var me=pe.offset().left+pe.outerWidth()/2,_e=pe&&xe(pe),Ke=s.$wp&&xe(s.$wp);Ke||(Ke=_e);var ft=0;s.opts.iframe?((ft=s.$wp.scrollTop()+J.outerHeight())<pe.get(0).getBoundingClientRect().top&&(ft=pe.get(0).getBoundingClientRect().top),ft>pe.get(0).getBoundingClientRect().top+pe.height()&&(ft=pe.get(0).getBoundingClientRect().top+pe.height())):ft=Ke<_e?_e:s.$wp&&_e+pe.height()<Ke+s.$wp.height()?_e+pe.height():Ke+J.outerHeight(),b.hasClass("fr-uploading")?Le():s.popups.show("image.edit",me,ft,1,!0)}}function re(){Ae()}function se(J){0<J.parents(".fr-img-caption").length&&(J=J.parents(".fr-img-caption").first());var pe=J.hasClass("fr-dib")?"block":J.hasClass("fr-dii")?"inline":null,me=J.hasClass("fr-fil")?"left":J.hasClass("fr-fir")?"right":Et(J);ms(J,pe,me),J.removeClass("fr-dib fr-dii fr-fir fr-fil")}function ie(){for(var J,pe=s.el.tagName=="IMG"?[s.el]:s.el.querySelectorAll("img"),me=0;me<pe.length;me++){var _e=L(pe[me]);!s.opts.htmlUntouched&&s.opts.useClasses?((s.opts.imageDefaultAlign||s.opts.imageDefaultDisplay)&&(0<(J=_e).parents(".fr-img-caption").length&&(J=J.parents(".fr-img-caption").first()),J.hasClass("fr-dii")||J.hasClass("fr-dib")||(J.addClass("fr-fi".concat(Et(J)[0])),J.addClass("fr-di".concat(fe(J)[0])),J.css("margin",""),J.css("float",""),J.css("display",""),J.css("z-index",""),J.css("position",""),J.css("overflow",""),J.css("vertical-align",""))),s.opts.imageTextNear||(0<_e.parents(".fr-img-caption").length?_e.parents(".fr-img-caption").first().removeClass("fr-dii").addClass("fr-dib"):_e.removeClass("fr-dii").addClass("fr-dib"))):s.opts.htmlUntouched||s.opts.useClasses||(s.opts.imageDefaultAlign||s.opts.imageDefaultDisplay)&&se(_e),s.opts.iframe&&_e.on("load",s.size.syncIframe)}}function D(J){J===void 0&&(J=!0);var pe,me=Array.prototype.slice.call(s.el.querySelectorAll("img")),_e=[];for(pe=0;pe<me.length;pe++)if(_e.push(me[pe].getAttribute("src")),L(me[pe]).toggleClass("fr-draggable",s.opts.imageMove),me[pe].getAttribute("class")===""&&me[pe].removeAttribute("class"),me[pe].getAttribute("style")===""&&me[pe].removeAttribute("style"),me[pe].parentNode&&me[pe].parentNode.parentNode&&s.node.hasClass(me[pe].parentNode.parentNode,"fr-img-caption")){var Ke=me[pe].parentNode.parentNode;s.browser.mozilla||Ke.setAttribute("contenteditable",!1),Ke.setAttribute("draggable",!1),Ke.classList.add("fr-draggable");var ft=me[pe].nextSibling;ft&&!s.browser.mozilla&&ft.setAttribute("contenteditable",!0)}if(p)for(pe=0;pe<p.length;pe++)_e.indexOf(p[pe].getAttribute("src"))<0&&s.events.trigger("image.removed",[L(p[pe])]);if(p&&J){var gt=[];for(pe=0;pe<p.length;pe++)gt.push(p[pe].getAttribute("src"));for(pe=0;pe<me.length;pe++)gt.indexOf(me[pe].getAttribute("src"))<0&&s.events.trigger("image.loaded",[L(me[pe])])}p=me}function U(){if(B||function(){var At;if(s.shared.$image_resizer?(B=s.shared.$image_resizer,a=s.shared.$img_overlay,s.events.on("destroy",function(){L("body").first().append(B.removeClass("fr-active"))},!0)):(s.shared.$image_resizer=L(document.createElement("div")).attr("class","fr-image-resizer"),B=s.shared.$image_resizer,s.events.$on(B,"mousedown",function(Mt){Mt.stopPropagation()},!0),s.opts.imageResize&&(B.append(V("nw")+V("ne")+V("sw")+V("se")),s.shared.$img_overlay=L(document.createElement("div")).attr("class","fr-image-overlay"),a=s.shared.$img_overlay,At=B.get(0).ownerDocument,L(At).find("body").first().append(a))),s.events.on("shared.destroy",function(){B.html("").removeData().remove(),B=null,s.opts.imageResize&&(a.remove(),a=null)},!0),s.helpers.isMobile()||s.events.$on(L(s.o_win),"resize",function(){b&&!b.hasClass("fr-uploading")?ro(!0):b&&(U(),Z(),Le(!1))}),s.opts.imageResize){At=B.get(0).ownerDocument,s.events.$on(B,s._mousedown,".fr-handler",N),s.events.$on(L(At),s._mousemove,ne),s.events.$on(L(At.defaultView||At.parentWindow),s._mouseup,G),s.events.$on(a,"mouseleave",G);var zt=1,kt=null,Tt=0;s.events.on("keydown",function(Mt){if(b){var qt=navigator.userAgent.indexOf("Mac OS X")!=-1?Mt.metaKey:Mt.ctrlKey,Qt=Mt.which;(Qt!==kt||200<Mt.timeStamp-Tt)&&(zt=1),(Qt==x.KEYCODE.EQUALS||s.browser.mozilla&&Qt==x.KEYCODE.FF_EQUALS)&&qt&&!Mt.altKey?zt=Jn.call(this,Mt,1,1,zt):(Qt==x.KEYCODE.HYPHEN||s.browser.mozilla&&Qt==x.KEYCODE.FF_HYPHEN)&&qt&&!Mt.altKey?zt=Jn.call(this,Mt,2,-1,zt):s.keys.ctrlKey(Mt)||Qt!=x.KEYCODE.ENTER||(b.before("<br>"),We(b)),kt=Qt,Tt=Mt.timeStamp}},!0),s.events.on("keyup",function(){zt=1})}}(),!b)return!1;var J=s.$wp||s.$sc;J.append(B),B.data("instance",s);var pe=J.scrollTop()-(J.css("position")!="static"?J.offset().top:0),me=J.scrollLeft()-(J.css("position")!="static"?J.offset().left:0);me-=s.helpers.getPX(J.css("border-left-width")),pe-=s.helpers.getPX(J.css("border-top-width")),s.$el.is("img")&&s.$sc.is("body")&&(me=pe=0);var _e=Ce();ze()&&(_e=_e.find(".fr-img-wrap"));var Ke=0,ft=0;s.opts.iframe&&(Ke=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),ft=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"))),B.css("top",(s.opts.iframe?_e.offset().top+Ke:_e.offset().top+pe)-1).css("left",(s.opts.iframe?_e.offset().left+ft:_e.offset().left+me)-1).css("width",_e.get(0).getBoundingClientRect().width).css("height",_e.get(0).getBoundingClientRect().height).addClass("fr-active")}function V(J){return'<div class="fr-handler fr-h'.concat(J,'"></div>')}function I(J){ze()&&b.parents(".fr-img-caption").css("width",J),b.css("width",J)}function N(J){if(!s.core.sameInstance(B))return!0;if(J.preventDefault(),J.stopPropagation(),s.$el.find("img.fr-error").left)return!1;s.undo.canDo()||s.undo.saveStep();var pe=J.pageX||J.originalEvent.touches[0].pageX;if(J.type=="mousedown"){var me=s.$oel.get(0),_e=me.ownerDocument,Ke=_e.defaultView||_e.parentWindow,ft=!1;try{ft=Ke.location!=Ke.parent.location&&!(Ke.$&&Ke.$.FE)}catch{}ft&&Ke.frameElement&&(pe+=s.helpers.getPX(L(me).offset().left)+Ke.frameElement.clientLeft)}(ge=L(this)).data("start-x",pe),ge.data("start-width",b.width()),ge.data("start-height",b.height());var gt=b.width();if(s.opts.imageResizeWithPercent){var At=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;gt=(gt/L(At).outerWidth()*100).toFixed(2)+"%"}I(gt),a.show(),s.popups.hideAll(),ls()}function ne(J){if(!s.core.sameInstance(B))return!0;var pe;if(ge&&b){if(J.preventDefault(),s.$el.find("img.fr-error").left)return!1;var me=J.pageX||(J.originalEvent.touches?J.originalEvent.touches[0].pageX:null);if(!me)return!1;var _e=me-ge.data("start-x"),Ke=ge.data("start-width");if((ge.hasClass("fr-hnw")||ge.hasClass("fr-hsw"))&&(_e=0-_e),s.opts.imageResizeWithPercent){var ft=b.parentsUntil(s.$el,s.html.blockTagsQuery()).get(0)||s.el;Ke=((Ke+_e)/L(ft).outerWidth()*100).toFixed(2),s.opts.imageRoundPercent&&(Ke=Math.round(Ke)),I("".concat(Ke,"%")),(pe=ze()?(s.helpers.getPX(b.parents(".fr-img-caption").css("width"))/L(ft).outerWidth()*100).toFixed(2):(s.helpers.getPX(b.css("width"))/L(ft).outerWidth()*100).toFixed(2))===Ke||s.opts.imageRoundPercent||I("".concat(pe,"%")),b.css("height","").removeAttr("height")}else Ke+_e>=s.opts.imageMinWidth&&(I(Ke+_e),pe=ze()?s.helpers.getPX(b.parents(".fr-img-caption").css("width")):s.helpers.getPX(b.css("width"))),pe!==Ke+_e&&I(pe),((b.attr("style")||"").match(/(^height:)|(; *height:)/)||b.attr("height"))&&(b.css("height",ge.data("start-height")*b.width()/ge.data("start-width")),b.removeAttr("height"));U(),s.events.trigger("image.resize",[ye()])}}function G(J){if(!s.core.sameInstance(B))return!0;if(ge&&b){if(J&&J.stopPropagation(),s.$el.find("img.fr-error").left)return!1;ge=null,a.hide(),U(),be(),s.undo.saveStep(),s.events.trigger("image.resizeEnd",[ye()])}else B.removeClass("fr-active")}function q(J,pe,me){s.edit.on(),b&&b.addClass("fr-error"),ee[J]?Pe(s.language.translate(ee[J])):Pe(s.language.translate("Something went wrong. Please try again.")),!b&&me&&Je(me),s.events.trigger("image.error",[{code:J,message:ee[J]},pe,me])}function de(J){if(J)return s.$wp&&s.events.$on(s.$wp,"scroll.image-edit",function(){b&&s.popups.isVisible("image.edit")&&(s.events.disableBlur(),be())}),!0;var pe="";if(0<s.opts.imageEditButtons.length){var me={buttons:pe+=`<div class="fr-buttons">
        `.concat(s.button.buildList(s.opts.imageEditButtons),`
        </div>`)};return s.popups.create("image.edit",me)}return!1}function Le(J){var pe=s.popups.get("image.insert");if(pe||(pe=_t()),pe.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),pe.find(".fr-image-progress-bar-layer").addClass("fr-active"),pe.find(".fr-buttons").hide(),b){var me=Ce();s.popups.setContainer("image.insert",s.$sc);var _e=me.offset().left,Ke=me.offset().top+me.height();s.popups.show("image.insert",_e,Ke,me.outerHeight())}J===void 0&&we(s.language.translate("Uploading"),0)}function Ae(J){var pe=s.popups.get("image.insert");if(pe&&(pe.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),pe.find(".fr-image-progress-bar-layer").removeClass("fr-active"),pe.find(".fr-buttons").show(),J||s.$el.find("img.fr-error").length)){if(s.events.focus(),s.$el.find("img.fr-error").length&&(s.$el.find("img.fr-error").remove(),s.undo.saveStep(),s.undo.run(),s.undo.dropRedo()),!s.$wp&&b){var me=b;ro(!0),s.selection.setAfter(me.get(0)),s.selection.restore()}s.popups.hide("image.insert")}}function we(J,pe){var me=s.popups.get("image.insert");if(me){var _e=me.find(".fr-image-progress-bar-layer");_e.find("h3").text(J+(pe?" ".concat(pe,"%"):"")),_e.removeClass("fr-error"),pe?(_e.find("div").removeClass("fr-indeterminate"),_e.find("div > span").css("width","".concat(pe,"%"))):_e.find("div").addClass("fr-indeterminate")}}function Pe(J){Le();var pe=s.popups.get("image.insert").find(".fr-image-progress-bar-layer");pe.addClass("fr-error");var me=pe.find("h3");me.text(J),s.events.disableBlur(),me.focus()}function We(J){wo.call(J.get(0))}function ut(){var J=L(this);s.popups.hide("image.insert"),J.removeClass("fr-uploading"),J.next().is("br")&&J.next().remove(),We(J),s.events.trigger("image.loaded",[J])}function nt(J,pe,me,_e,Ke){_e&&typeof _e=="string"&&(_e=s.$(_e)),s.edit.off(),we(s.language.translate("Loading image")),pe&&(J=s.helpers.sanitizeURL(J));var ft=new Image;ft.onload=function(){var gt,At;if(_e){s.undo.canDo()||_e.hasClass("fr-uploading")||s.undo.saveStep();var zt=_e.data("fr-old-src");_e.data("fr-image-pasted")&&(zt=null),s.$wp?((gt=_e.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"),zt&&_e.attr("src",zt),!s.opts.trackChangesEnabled||_e[0].parentNode&&_e[0].parentNode.tagName==="SPAN"&&_e[0].parentNode.hasAttribute("data-tracking")||s.track_changes.replaceSpecialItem(_e),_e.replaceWith(gt)):gt=_e;for(var kt=gt.get(0).attributes,Tt=0;Tt<kt.length;Tt++){var Mt=kt[Tt];(Mt.nodeName.indexOf("data-")===0||me&&me.hasOwnProperty(Mt.nodeName))&&gt.removeAttr(Mt.nodeName)}if(me!==void 0)for(At in me)me.hasOwnProperty(At)&&At!="link"&&gt.attr("".concat(At),me[At]);gt.on("load",ut),gt.attr("src",J),s.edit.on(),D(!1),_e[0].src!=J&&s.selection.restore(),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger(zt?"image.replaced":"image.inserted",[gt,Ke])}else(gt=Ve(J,me,ut))&&(D(!1),s.undo.saveStep(),s.events.disableBlur(),s.$el.blur(),s.events.trigger("image.inserted",[gt,Ke]))},ft.onerror=function(){q(z)},Le(s.language.translate("Loading image")),ft.src=J}function ot(J,pe,me){we(s.language.translate("Loading image"));var _e=this.status,Ke=this.response,ft=this.responseXML,gt=this.responseText;try{if(s.opts.imageUploadToS3||s.opts.imageUploadToAzure)if(_e==201){var At;if(s.opts.imageUploadToAzure){if(s.events.trigger("image.uploadedToAzure",[this.responseURL,me,Ke],!0)===!1)return s.edit.on(),!1;At=pe}else At=function(Tt){try{var Mt=L(Tt).find("Location").text(),qt=L(Tt).find("Key").text();return s.events.trigger("image.uploadedToS3",[Mt,qt,Tt],!0)===!1?(s.edit.on(),!1):Mt}catch{return q(P,Tt),!1}}(ft);At&&nt(At,!1,[],J,Ke||ft)}else q(P,Ke||ft,J);else if(200<=_e&&_e<300){var zt=function(Tt){try{if(s.events.trigger("image.uploaded",[Tt],!0)===!1)return s.edit.on(),!1;var Mt=JSON.parse(Tt);return Mt.link?Mt:(q(Q,Tt),!1)}catch{return q(P,Tt),!1}}(gt);zt&&nt(zt.link,!1,zt,J,Ke||gt)}else q(H,Ke||gt,J)}catch{q(P,Ke||gt,J)}}function Me(){q(P,this.response||this.responseText||this.responseXML)}function et(J){if(J.lengthComputable){var pe=J.loaded/J.total*100|0;we(s.language.translate("Uploading"),pe)}}function Ve(J,pe,me){var _e,Ke=L(document.createElement("img")).attr("src",J);if(pe&&pe!==void 0)for(_e in pe)pe.hasOwnProperty(_e)&&_e!="link"&&(" data-".concat(_e,'="').concat(pe[_e],'"'),Ke.attr("".concat(_e),pe[_e]));var ft=s.opts.imageDefaultWidth;ft&&ft!="auto"&&(ft=s.opts.imageResizeWithPercent?"100%":"".concat(ft,"px")),Ke.attr("style",ft?"width: ".concat(ft,";"):""),ms(Ke,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),Ke.on("load",me),Ke.on("error",me),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.imageSplitHTML?s.markers.split():s.markers.insert(),s.html.wrap();var gt=s.$el.find(".fr-marker");if(gt.length)(gt.parent().is("hr")||gt.parent().is("IMG"))&&gt.parent().after(gt),s.node.isLastSibling(gt)&&gt.parent().hasClass("fr-deletable")&&gt.insertAfter(gt.parent()),gt.replaceWith(Ke);else{if(s.opts.trackChangesEnabled)return Ae(!0),!1;s.$el.append(Ke)}return s.selection.clear(),Ke}function Ze(){s.edit.on(),Ae(!0)}function Xe(J,pe){if(J!==void 0&&0<J.length){if(s.events.trigger("image.beforeUpload",[J,pe])===!1)return!1;var me,_e=J[0];if(!(s.opts.imageUploadURL!==null&&s.opts.imageUploadURL!=A||s.opts.imageUploadToS3||s.opts.imageUploadToAzure))return function(fs,Is){var bs=new FileReader;bs.onload=function(){var Go=bs.result;if(bs.result.indexOf("svg+xml")<0){for(var Do=atob(bs.result.split(",")[1]),zs=[],As=0;As<Do.length;As++)zs.push(Do.charCodeAt(As));Go=window.URL.createObjectURL(new Blob([new Uint8Array(zs)],{type:fs.type})),Is&&Is.data("fr-old-src",Is.attr("src")),s.image.insert(Go,!1,null,Is)}else s.image.insert(Go,null,null,s.image.get())},Le(),bs.readAsDataURL(fs)}(_e,pe||b),!1;if(_e.name||(_e.name=new Date().getTime()+"."+(_e.type||"image/jpeg").replace(/image\//g,"")),_e.size>s.opts.imageMaxSize)return q(j),!1;if(s.opts.imageAllowedTypes.indexOf(_e.type.replace(/image\//g,""))<0)return q(K),!1;if(s.drag_support.formdata&&(me=s.drag_support.formdata?new FormData:null),me){var Ke;if(s.opts.imageUploadToS3!==!1)for(Ke in me.append("key",s.opts.imageUploadToS3.keyStart+new Date().getTime()+"-"+(_e.name||"untitled")),me.append("success_action_status","201"),me.append("X-Requested-With","xhr"),me.append("Content-Type",_e.type),s.opts.imageUploadToS3.params)s.opts.imageUploadToS3.params.hasOwnProperty(Ke)&&me.append(Ke,s.opts.imageUploadToS3.params[Ke]);for(Ke in s.opts.imageUploadParams)s.opts.imageUploadParams.hasOwnProperty(Ke)&&me.append(Ke,s.opts.imageUploadParams[Ke]);me.append(s.opts.imageUploadParam,_e,_e.name);var ft,gt,At=s.opts.imageUploadURL,zt=s.opts.imageUploadMethod;s.opts.imageUploadToS3&&(At=s.opts.imageUploadToS3.uploadURL?s.opts.imageUploadToS3.uploadURL:"https://".concat(s.opts.imageUploadToS3.region,".amazonaws.com/").concat(s.opts.imageUploadToS3.bucket)),s.opts.imageUploadToAzure&&(ft=At=s.opts.imageUploadToAzure.uploadURL?"".concat(s.opts.imageUploadToAzure.uploadURL,"/").concat(_e.name):encodeURI("https://".concat(s.opts.imageUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.imageUploadToAzure.container,"/").concat(_e.name)),s.opts.imageUploadToAzure.SASToken&&(At+=s.opts.imageUploadToAzure.SASToken),zt="PUT");var kt=s.core.getXHR(At,zt);if(s.opts.imageUploadToAzure){var Tt=new Date().toUTCString();if(!s.opts.imageUploadToAzure.SASToken&&s.opts.imageUploadToAzure.accessKey){var Mt=s.opts.imageUploadToAzure.account,qt=s.opts.imageUploadToAzure.container;if(s.opts.imageUploadToAzure.uploadURL){var Qt=s.opts.imageUploadToAzure.uploadURL.split("/");qt=Qt.pop(),Mt=Qt.pop().split(".")[0]}var on=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(Tt,`
x-ms-version:2019-07-07`),_n=encodeURI("/"+Mt+"/"+qt+"/"+_e.name),Dn=zt+`


`+_e.size+`

`+_e.type+`






`+on+`
`+_n,eo=s.cryptoJSPlugin.cryptoJS.HmacSHA256(Dn,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.imageUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),hs="SharedKey "+Mt+":"+eo;gt=eo,kt.setRequestHeader("Authorization",hs)}for(Ke in kt.setRequestHeader("x-ms-version","2019-07-07"),kt.setRequestHeader("x-ms-date",Tt),kt.setRequestHeader("Content-Type",_e.type),kt.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.imageUploadParams)s.opts.imageUploadParams.hasOwnProperty(Ke)&&kt.setRequestHeader(Ke,s.opts.imageUploadParams[Ke]);for(Ke in s.opts.imageUploadToAzure.params)s.opts.imageUploadToAzure.params.hasOwnProperty(Ke)&&kt.setRequestHeader(Ke,s.opts.imageUploadToAzure.params[Ke])}(function(fs,Is,bs,Go,Do,zs){function As(){var go=L(this);go.off("load"),go.addClass("fr-uploading"),go.next().is("br")&&go.next().remove(),s.placeholder.refresh(),We(go),U(),Le(),s.edit.off(),fs.onload=function(){ot.call(fs,go,Do,zs)},fs.onerror=Me,fs.upload.onprogress=et,fs.onabort=Ze,L(go.off("abortUpload")).on("abortUpload",function(){fs.readyState!=4&&(fs.abort(),Go?(Go.attr("src",Go.data("fr-old-src")),Go.removeClass("fr-uploading")):go.remove(),ro(!0))}),fs.send(s.opts.imageUploadToAzure?bs:Is)}var Vs=new FileReader;Vs.onload=function(){var go=Vs.result;if(Vs.result.indexOf("svg+xml")<0){for(var bo=atob(Vs.result.split(",")[1]),io=[],po=0;po<bo.length;po++)io.push(bo.charCodeAt(po));go=window.URL.createObjectURL(new Blob([new Uint8Array(io)],{type:"image/jpeg"}))}Go?(Go.on("load",As),Go.on("error",function(){As(),L(this).off("error")}),s.edit.on(),s.undo.saveStep(),Go.data("fr-old-src",Go.attr("src")),Go.attr("src",go)):Ve(go,null,As)},Vs.readAsDataURL(bs)})(kt,me,_e,pe||b,ft,gt)}}}function $e(J){if(J.is("img")&&0<J.parents(".fr-img-caption").length)return J.parents(".fr-img-caption")}function tt(J){var pe=J.originalEvent.dataTransfer;if(pe&&pe.files&&pe.files.length){var me=pe.files[0];if(me&&me.type&&me.type.indexOf("image")!==-1&&0<=s.opts.imageAllowedTypes.indexOf(me.type.replace(/image\//g,""))){if(!s.opts.imageUpload)return J.preventDefault(),J.stopPropagation(),!1;s.markers.remove(),s.markers.insertAtPoint(J.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.$el.find(".fr-marker").length===0&&s.selection.setAtEnd(s.el),s.popups.hideAll();var _e=s.popups.get("image.insert");_e||(_e=_t()),s.popups.setContainer("image.insert",s.$sc);var Ke=J.originalEvent.pageX,ft=J.originalEvent.pageY;if(s.opts.iframe){var gt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),At=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));ft+=s.$iframe.offset().top+gt,Ke+=s.$iframe.offset().left+At}return s.popups.show("image.insert",Ke,ft),Le(),0<=s.opts.imageAllowedTypes.indexOf(me.type.replace(/image\//g,""))?(ro(!0),Xe(pe.files)):q(K),J.preventDefault(),J.stopPropagation(),!1}}}function _t(J){if(J)return s.popups.onRefresh("image.insert",w),s.popups.onHide("image.insert",re),!0;var pe,me,_e="";s.opts.imageUpload||s.opts.imageInsertButtons.indexOf("imageUpload")===-1||s.opts.imageInsertButtons.splice(s.opts.imageInsertButtons.indexOf("imageUpload"),1);var Ke=s.button.buildList(s.opts.imageInsertButtons);Ke!==""&&(_e='<div class="fr-buttons fr-tabs">'.concat(Ke,"</div>"));var ft=s.opts.imageInsertButtons.indexOf("imageUpload"),gt=s.opts.imageInsertButtons.indexOf("imageByURL"),At="";0<=ft&&(pe=" fr-active",0<=gt&&gt<ft&&(pe=""),At='<div class="fr-image-upload-layer'.concat(pe,' fr-layer" id="fr-image-upload-layer-').concat(s.id,'"><strong>').concat(s.language.translate("Drop image"),"</strong><br>(").concat(s.language.translate("or click"),')<div class="fr-form"><input type="file" accept="image/').concat(s.opts.imageAllowedTypes.join(", image/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-image-upload-layer-').concat(s.id,'" role="button"></div></div>'));var zt="";0<=gt&&(pe=" fr-active",0<=ft&&ft<gt&&(pe=""),zt='<div class="fr-image-by-url-layer'.concat(pe,' fr-layer" id="fr-image-by-url-layer-').concat(s.id,'"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-').concat(s.id,'" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var kt={buttons:_e,upload_layer:At,by_url_layer:zt,progress_bar:'<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>'};return 1<=s.opts.imageInsertButtons.length&&(me=s.popups.create("image.insert",kt)),s.$wp&&s.events.$on(s.$wp,"scroll",function(){b&&s.popups.isVisible("image.insert")&&Z()}),function(Mt){s.events.$on(Mt,"dragover dragenter",".fr-image-upload-layer",function(qt){return L(this).addClass("fr-drop"),(s.browser.msie||s.browser.edge)&&qt.preventDefault(),!1},!0),s.events.$on(Mt,"dragleave dragend",".fr-image-upload-layer",function(qt){return L(this).removeClass("fr-drop"),(s.browser.msie||s.browser.edge)&&qt.preventDefault(),!1},!0),s.events.$on(Mt,"drop",".fr-image-upload-layer",function(qt){qt.preventDefault(),qt.stopPropagation(),L(this).removeClass("fr-drop");var Qt=qt.originalEvent.dataTransfer;if(Qt&&Qt.files){var on=Mt.data("instance")||s;on.events.disableBlur(),on.image.upload(Qt.files),on.events.enableBlur()}},!0),s.helpers.isIOS()&&s.events.$on(Mt,"touchstart",'.fr-image-upload-layer input[type="file"]',function(){L(this).trigger("click")},!0),s.events.$on(Mt,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var qt=Mt.data("instance")||s;qt.events.disableBlur(),Mt.find("input:focus").blur(),qt.events.enableBlur(),qt.image.upload(this.files,b)}L(this).val("")},!0)}(me),me}function mt(){b&&s.popups.get("image.alt").find("input").val(b.attr("alt")||"").trigger("change")}function Lt(){var J=s.popups.get("image.alt");J||(J=Rt()),Ae(),s.popups.refresh("image.alt"),s.popups.setContainer("image.alt",s.$sc);var pe=Ce(),me=pe.outerWidth()/2;ze()&&(pe=pe.find(".fr-img-wrap"),me=b.outerWidth()/2);var _e=pe.offset().left+me,Ke=pe.offset().top+pe.outerHeight(),ft=pe.outerHeight();s.opts.iframe&&ze()&&(ft=b?b.outerHeight():0),s.popups.show("image.alt",_e,Ke,ft,!0)}function Rt(J){if(J)return s.popups.onRefresh("image.alt",mt),!0;var pe={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageAltButtons),"</div>"),alt_layer:'<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(s.id,'"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Alternative Text"),'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},me=s.popups.create("image.alt",pe);return s.$wp&&s.events.$on(s.$wp,"scroll.image-alt",function(){b&&s.popups.isVisible("image.alt")&&Lt()}),me}function Wt(){var J=s.popups.get("image.size"),pe=b.get(0).style.height?b.get(0).style.height:"auto",me=b.get(0).style.width?b.get(0).style.width:"auto";if(b)if(ze()){var _e=b.parent();_e.get(0).style.width||(_e=b.parent().parent()),J.find('input[name="width"]').val(me).trigger("change"),J.find('input[name="height"]').val(pe).trigger("change")}else J.find('input[name="width"]').val(me).trigger("change"),J.find('input[name="height"]').val(pe).trigger("change")}function Zt(){var J=s.popups.get("image.size");J||(J=kn()),Ae(),s.popups.refresh("image.size"),s.popups.setContainer("image.size",s.$sc);var pe=Ce(),me=pe.outerWidth()/2;ze()&&(pe=pe.find(".fr-img-wrap"),me=b.outerWidth()/2);var _e=pe.outerHeight();s.opts.iframe&&ze()&&(_e=b?b.outerHeight():0);var Ke=pe.offset().left+me,ft=pe.offset().top+pe.outerHeight();s.popups.show("image.size",Ke,ft,_e,!0)}function kn(J){if(J)return s.popups.onRefresh("image.size",Wt),!0;var pe={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.imageSizeButtons),"</div>"),size_layer:'<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(s.id,`"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'`).concat(s.id,'" type="text" name="width" placeholder="').concat(s.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(s.id,'" type="text" name="height" placeholder="').concat(s.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},me=s.popups.create("image.size",pe);return s.$wp&&s.events.$on(s.$wp,"scroll.image-size",function(){b&&s.popups.isVisible("image.size")&&Zt()}),me}function Jn(J,pe,me,_e){return J.pageX=pe,N.call(this,J),J.pageX=J.pageX+me*Math.floor(Math.pow(1.1,_e)),ne.call(this,J),G.call(this,J),++_e}function Je(J){if(J=J||Ce(),s.opts.trackChangesEnabled&&!s.helpers.isMobile()&&(!J[0].parentNode||J[0].parentNode.tagName!=="SPAN"||!J[0].parentNode.hasAttribute("data-tracking")))return s.track_changes.removeSpecialItem(J),s.popups.hideAll(),void ro(!0);J&&s.events.trigger("image.beforeRemove",[J])!==!1&&(s.popups.hideAll(),ae(),ro(!0),s.undo.canDo()||s.undo.saveStep(),J.get(0)==s.el?J.removeAttr("src"):(J.get(0).parentNode&&J.get(0).parentNode.tagName=="A"?(s.selection.setBefore(J.get(0).parentNode)||s.selection.setAfter(J.get(0).parentNode)||J.parent().after(x.MARKERS),L(J.get(0).parentNode).remove()):(s.selection.setBefore(J.get(0))||s.selection.setAfter(J.get(0))||J.after(x.MARKERS),J.remove()),s.html.fillEmptyBlocks(),s.selection.restore()),s.undo.saveStep())}function wt(J){var pe=J.which,me=document.getElementsByClassName("fs-transforms-container"),_e=!1;if(me&&me.length){var Ke,ft=ke(me);try{for(ft.s();!(Ke=ft.n()).done;){var gt=Ke.value;gt.childNodes&&gt.childNodes.length&&(_e=!0)}}catch(kt){ft.e(kt)}finally{ft.f()}}if(_e&&(b=null),b&&(pe==x.KEYCODE.BACKSPACE||pe==x.KEYCODE.DELETE))return J.preventDefault(),J.stopPropagation(),Je(),!1;if(b&&pe==x.KEYCODE.ESC){var At=b;return ro(!0),s.selection.setAfter(At.get(0)),s.selection.restore(),J.preventDefault(),!1}if(!b||pe!=x.KEYCODE.ARROW_LEFT&&pe!=x.KEYCODE.ARROW_RIGHT)return b&&pe===x.KEYCODE.TAB?(J.preventDefault(),J.stopPropagation(),ro(!0),!1):b&&pe!=x.KEYCODE.F10&&!s.keys.isBrowserAction(J)?(J.preventDefault(),J.stopPropagation(),!1):void 0;var zt=b.get(0);return ro(!0),pe==x.KEYCODE.ARROW_LEFT?s.selection.setBefore(zt):s.selection.setAfter(zt),s.selection.restore(),J.preventDefault(),!1}function It(J){if(J&&J.tagName=="IMG"){if(s.node.hasClass(J,"fr-uploading")||s.node.hasClass(J,"fr-error")?J.parentNode.removeChild(J):s.node.hasClass(J,"fr-draggable")&&J.classList.remove("fr-draggable"),J.parentNode&&J.parentNode.parentNode&&s.node.hasClass(J.parentNode.parentNode,"fr-img-caption")){var pe=J.parentNode.parentNode;pe.removeAttribute("contenteditable"),pe.removeAttribute("draggable"),pe.classList.remove("fr-draggable");var me=J.nextSibling;me&&me.removeAttribute("contenteditable")}}else if(J&&J.nodeType==Node.ELEMENT_NODE)for(var _e=J.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"),Ke=0;Ke<_e.length;Ke++)It(_e[Ke])}function nn(J){if(s.events.trigger("image.beforePasteUpload",[J])===!1)return L(J).removeAttr("data-fr-image-pasted"),!1;b=L(J),U(),be(),Le(),b.on("load",function(){var ft=[];U(),L(s.popups.get("image.insert").get(0)).find("div.fr-active.fr-error").length<1&&Le(),L(this).data("events").filter(function(gt){gt[0]==="load"&&ft.push(gt)}),ft.length<=1&&L(this).off("load")});for(var pe=L(J).attr("src").split(","),me=atob(pe[1]),_e=[],Ke=0;Ke<me.length;Ke++)_e.push(me.charCodeAt(Ke));Xe([s.browser.safari&&!s.opts.imageUploadURL?new Blob([new Uint8Array(_e)],{type:pe[0].replace(/data\:/g,"")}):new Blob([new Uint8Array(_e)],{type:pe[0].replace(/data\:/g,"").replace(/;base64/g,"")})],b)}function bn(){s.opts.imagePaste?s.$el.find("img[data-fr-image-pasted]").each(function(J,pe){if(s.opts.imagePasteProcess){var me=s.opts.imageDefaultWidth;me&&me!="auto"&&(me+=s.opts.imageResizeWithPercent?"%":"px"),L(pe).css("width",me).removeClass("fr-dii fr-dib fr-fir fr-fil"),ms(L(pe),s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign)}if(pe.src.indexOf("data:")===0)nn(pe);else if(pe.src.indexOf("blob:")===0||pe.src.indexOf("http")===0&&s.opts.imageUploadRemoteUrls&&s.opts.imageCORSProxy){var _e=new Image;_e.crossOrigin="Anonymous",_e.onload=function(){var Ke=s.o_doc.createElement("CANVAS"),ft=Ke.getContext("2d");Ke.height=this.naturalHeight,Ke.width=this.naturalWidth,ft.drawImage(this,0,0),setTimeout(function(){nn(pe)},0),pe.src=Ke.toDataURL(x.IMAGE_TYPE)},s.browser.msie&&x.IMAGE_ALLOW_REGEX.test(pe.src)&&(x.IMAGE_TYPE="image/"+pe.src.split(x.IMAGE_ALLOW_REGEX)[1]),_e.src=(pe.src.indexOf("blob:")===0?"":"".concat(s.opts.imageCORSProxy,"/"))+pe.src,pe.src.indexOf("blob:")!==0&&s.undo.saveStep()}else pe.src.indexOf("http")!==0||pe.src.indexOf("https://mail.google.com/mail")===0?(s.selection.save(),L(pe).remove(),s.selection.restore()):L(pe).removeAttr("data-fr-image-pasted")}):s.$el.find("img[data-fr-image-pasted]").remove()}function Tn(J){var pe=J.target.result,me=s.opts.imageDefaultWidth;me&&me!="auto"&&(me+=s.opts.imageResizeWithPercent?"%":"px"),s.undo.saveStep(),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(pe,'"').concat(me?' style="width: '.concat(me,';"'):"",">"));var _e=s.$el.find('img[data-fr-image-pasted="true"]');_e&&ms(_e,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}function Mn(J,pe){var me=new FileReader;me.onload=function(Ke){var ft=s.opts.imageDefaultWidth;ft&&ft!="auto"&&(ft+=s.opts.imageResizeWithPercent?"%":"px"),s.html.insert('<img data-fr-image-pasted="true" src="'.concat(Ke,'"').concat(ft?' style="width: '.concat(ft,';"'):"",">"));var gt=s.$el.find('img[data-fr-image-pasted="true"]');gt&&ms(gt,s.opts.imageDefaultDisplay,s.opts.imageDefaultAlign),s.events.trigger("paste.after")}(pe),me.readAsDataURL(J,pe)}function vn(J,pe){var me=pe||J&&J.clipboardData;if(me&&me.items){var _e=(me||window.clipboardData).getData("text/html")||"";s.browser.mozilla&&(_e===""||/<!--StartFragment-->([ ])<!--EndFragment-->/.test(_e))&&(_e=s.win.localStorage.getItem("fr-copied-html"));var Ke=new DOMParser().parseFromString(_e,"text/html").querySelector("img");if(Ke&&!s.opts.imageUploadURL){if(!Ke)return!1;var ft=Ke.src,gt=null;if(me.types&&[].indexOf.call(me.types,"text/rtf")!=-1||me.getData("text/rtf"))gt=me.items[0].getAsFile();else for(var At=0;At<me.items.length;At++)if(gt=me.items[At].getAsFile()){x.IMAGE_TYPE=gt.type;break}if(gt)return Mn(gt,ft),!1}else{var zt=null;if(me.types&&[].indexOf.call(me.types,"text/rtf")!=-1||me.getData("text/rtf"))zt=me.items[0].getAsFile();else for(var kt=0;kt<me.items.length&&!(zt=me.items[kt].getAsFile());kt++);if(zt)return function(Mt){var qt=new FileReader;qt.onload=Tn,qt.readAsDataURL(Mt)}(zt),!1}}}function Hn(J){return J=J.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function wo(J){if(L(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false"||J&&J.type=="touchend"&&M)return!0;if(J&&s.edit.isDisabled())return J.stopPropagation(),J.preventDefault(),!1;for(var pe=0;pe<x.INSTANCES.length;pe++)x.INSTANCES[pe]!=s&&x.INSTANCES[pe].events.trigger("image.hideResizer");s.toolbar.disable(),J&&(J.stopPropagation(),J.preventDefault()),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur()),s.opts.iframe&&s.size.syncIframe(),b=L(this),ae(),U(),be(),s.browser.msie?(s.popups.areVisible()&&s.events.disableBlur(),s.win.getSelection&&(s.win.getSelection().removeAllRanges(),s.win.getSelection().addRange(s.doc.createRange()))):s.selection.clear(),s.helpers.isIOS()&&(s.events.disableBlur(),s.$el.blur()),s.button.bulkRefresh(),s.events.trigger("video.hideResizer")}function ro(J){b&&(function(){return qo}()||J===!0)&&(s.toolbar.enable(),B.removeClass("fr-active"),s.popups.hideAll(),b=null,ls(),ge=null,a&&a.hide())}ee[z]="Image cannot be loaded from the passed link.",ee[Q]="No link in upload response.",ee[H]="Error during file upload.",ee[P]="Parsing response failed.",ee[j]="File is too large.",ee[K]="Image file type is invalid.",ee[7]="Files can be uploaded only to same domain in IE 8 and IE 9.";var qo=!(ee[8]="Image file is corrupted.");function zn(){qo=!0}function ls(){qo=!1}function ms(J,pe,me){if(!s.opts.htmlUntouched&&s.opts.useClasses)J.removeClass("fr-fil fr-fir fr-dib fr-dii"),me&&J.addClass("fr-fi".concat(me[0])),pe&&J.addClass("fr-di".concat(pe[0]));else if(pe=="inline")if(J.css({display:"inline-block",verticalAlign:"bottom",margin:s.opts.imageDefaultMargin}),me=="center")J.css({float:"none",marginBottom:"",marginTop:"",maxWidth:"calc(100% - ".concat(2*s.opts.imageDefaultMargin,"px)"),textAlign:"center"});else if(me=="left"){var _e="0px",Ke=J.parent("span.fr-img-caption").get(0);Ke||(Ke=J.parent().get(0)),Ke&&Ke.tagName.toLowerCase()==="li"?_e="20px":Ke&&Ke.tagName.toLowerCase()==="p"&&(_e="15px"),J.css({float:"left",marginLeft:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"left",marginRight:_e})}else J.css({float:"right",marginRight:0,maxWidth:"calc(100% - ".concat(s.opts.imageDefaultMargin,"px)"),textAlign:"right"});else pe=="block"&&(J.css({display:"block",float:"none",verticalAlign:"top",margin:"".concat(s.opts.imageDefaultMargin,"px auto"),textAlign:"center"}),me=="left"?J.css({marginLeft:0,textAlign:"left"}):me=="right"&&J.css({marginRight:0,textAlign:"right"}))}function Et(J){if(J===void 0&&(J=Ce()),J){if(J.hasClass("fr-fil"))return"left";if(J.hasClass("fr-fir"))return"right";if(J.hasClass("fr-dib")||J.hasClass("fr-dii"))return"center";var pe=J.css("float");if(J.css("float","none"),J.css("display")=="block"){if(J.css("float",""),J.css("float")!=pe&&J.css("float",pe),parseInt(J.css("margin-left"),10)===0)return"left";if(parseInt(J.css("margin-right"),10)===0)return"right"}else{if(J.css("float",""),J.css("float")!=pe&&J.css("float",pe),J.css("float")=="left")return"left";if(J.css("float")=="right")return"right"}}return"center"}function fe(J){J===void 0&&(J=Ce());var pe=J.css("float");return J.css("float","none"),J.css("display")=="block"?(J.css("float",""),J.css("float")!=pe&&J.css("float",pe),"block"):(J.css("float",""),J.css("float")!=pe&&J.css("float",pe),"inline")}function Z(){var J=s.popups.get("image.insert");J||(J=_t()),s.popups.isVisible("image.insert")||(Ae(),s.popups.refresh("image.insert"),s.popups.setContainer("image.insert",s.$sc));var pe=Ce(),me=pe&&pe.outerWidth()/2;ze()&&(pe=pe.find(".fr-img-wrap"),me=b.outerWidth()/2);var _e,Ke=pe.offset().left+me,ft=pe.outerHeight(!0);s.opts.iframe&&ze()&&(ft=b?b.outerHeight():0),_e=0<s.$el.find("img[data-fr-image-pasted]").length?s.$wp.offset().top-s.helpers.scrollTop()+s.$wp.height():pe.offset().top+pe.outerHeight(),s.popups.show("image.insert",Ke,_e,ft,!0)}function ae(){if(b){s.events.disableBlur(),s.selection.clear();var J=s.doc.createRange();J.selectNode(b.get(0)),s.browser.msie&&J.collapse(!0),s.selection.get().addRange(J),s.events.enableBlur()}}function ye(){return b}function Ce(){return ze()?b.parents(".fr-img-caption").first():b}function ze(){return!!b&&0<b.parents(".fr-img-caption").length}function Re(J){for(var pe=document.createDocumentFragment();J.firstChild;){var me=J.removeChild(J.firstChild);pe.appendChild(me)}J.parentNode.replaceChild(pe,J)}return{_init:function(){var pe;(function(){s.events.$on(s.$el,s._mousedown,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(_e){if(L(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;s.helpers.isMobile()||s.selection.clear(),O=!0,s.popups.areVisible()&&s.events.disableBlur(),s.browser.msie&&(s.events.disableBlur(),s.$el.attr("contenteditable",!1)),s.draggable||_e.type=="touchstart"||_e.preventDefault(),_e.stopPropagation()}),s.events.$on(s.$el,s._mousedown,".fr-img-caption .fr-inner",function(_e){s.core.hasFocus()||s.events.focus(),_e.stopPropagation()}),s.events.$on(s.$el,"paste",".fr-img-caption .fr-inner",function(_e){s.opts.toolbarInline===!0&&(s.toolbar.hide(),_e.stopPropagation())}),s.events.$on(s.$el,s._mousedown,'img:not([contenteditable="false"])',function(_e){var Ke=this;s.browser.mozilla&&_e.which==3&&(L(this).attr("contenteditable",!1),setTimeout(function(){L(Ke).removeAttr("contenteditable")},200))}),s.events.$on(s.$el,s._mouseup,s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(_e){if(L(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;O&&(O=!1,_e.stopPropagation(),s.browser.msie&&(s.$el.attr("contenteditable",!0),s.events.enableBlur()))}),s.events.on("keyup",function(_e){if(_e.shiftKey&&s.selection.text().replace(/\n/g,"")===""&&s.keys.isArrow(_e.which)){var Ke=s.selection.element(),ft=s.selection.endElement();Ke&&Ke.tagName=="IMG"?We(L(Ke)):ft&&ft.tagName=="IMG"&&We(L(ft))}},!0),s.events.on("drop",tt),s.events.on("element.beforeDrop",$e),s.events.on("mousedown window.mousedown",zn),s.events.on("window.touchmove",ls),s.events.on("mouseup window.mouseup",function(){if(b&&!s.helpers.isMobile())return ro(),!1;ls()}),s.events.on("touchstart touchend",function(){if(b&&s.helpers.isMobile())return ro(),!1;ls()}),s.events.on("commands.mousedown",function(_e){0<_e.parents(".fr-toolbar").length&&ro()}),s.events.on("image.resizeEnd",function(){s.opts.iframe&&s.size.syncIframe()}),s.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){ro(!(O=!1))}),s.events.on("modals.hide",function(){b&&(ae(),s.selection.clear())}),s.events.on("image.resizeEnd",function(){s.win.getSelection&&We(b)}),s.events.on("filestack-init",function(){_t()}),s.events.on("filestack-init-edit",function(){for(var _e=s.$(".fr-popup:not(.fr-do-not-hide)"),Ke=_e.length-1;0<=Ke;Ke--)_e[Ke].parentElement.removeChild(_e[Ke]);de()}),s.opts.imageAddNewLine&&s.events.on("image.inserted",function(_e){var Ke=_e.get(0);for(Ke.nextSibling&&Ke.nextSibling.tagName==="BR"&&(Ke=Ke.nextSibling);Ke&&!s.node.isElement(Ke);)Ke=s.node.isLastSibling(Ke)?Ke.parentNode:null;s.node.isElement(Ke)&&(s.opts.enter===x.ENTER_BR?_e.after("<br>"):L(s.node.blockParent(_e.get(0))).after("<".concat(s.html.defaultTag(),"><br></").concat(s.html.defaultTag(),">")))})})(),s.el.tagName=="IMG"&&s.$el.addClass("fr-view"),s.events.$on(s.$el,s.helpers.isMobile()&&!s.helpers.isWindowsPhone()?"touchend":"click",s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',wo),s.helpers.isMobile()&&(s.events.$on(s.$el,"touchstart",s.el.tagName=="IMG"?null:'img:not([contenteditable="false"])',function(){M=!1}),s.events.$on(s.$el,"touchmove",function(){M=!0})),s.$wp?(s.events.on("window.keydown keydown",wt,!0),s.events.on("keyup",function(me){if(b&&me.which==x.KEYCODE.ENTER)return!1},!0),s.events.$on(s.$el,"keydown",function(){var me=s.selection.element();(me.nodeType===Node.TEXT_NODE||me.tagName=="BR"&&s.node.isLastSibling(me))&&(me=me.parentNode),s.node.hasClass(me,"fr-inner")||(s.node.hasClass(me,"fr-img-caption")||(me=L(me).parents(".fr-img-caption").get(0)),s.node.hasClass(me,"fr-img-caption")&&(s.opts.trackChangesEnabled||L(me).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore()))})):s.events.$on(s.$win,"keydown",wt),s.events.on("toolbar.esc",function(){if(b){if(s.$wp)s.events.disableBlur(),s.events.focus();else{var me=b;ro(!0),s.selection.setAfter(me.get(0)),s.selection.restore()}return!1}},!0),s.events.on("toolbar.focusEditor",function(){if(b)return!1},!0),s.events.on("window.cut window.copy",function(me){if(b&&s.popups.isVisible("image.edit")&&!s.popups.get("image.edit").find(":focus").length){var _e=Ce();ze()?(_e.before(x.START_MARKER),_e.after(x.END_MARKER),s.selection.restore(),s.paste.saveCopiedText(_e.get(0).outerHTML,_e.text())):(ae(),s.paste.saveCopiedText(b.get(0).outerHTML,b.attr("alt"))),me.type=="copy"?setTimeout(function(){We(b)}):(ro(!0),s.undo.saveStep(),setTimeout(function(){s.undo.saveStep()},0))}},!0),s.browser.msie&&s.events.on("keydown",function(me){if(!s.selection.isCollapsed()||!b)return!0;var _e=me.which;_e==x.KEYCODE.C&&s.keys.ctrlKey(me)?s.events.trigger("window.copy"):_e==x.KEYCODE.X&&s.keys.ctrlKey(me)&&s.events.trigger("window.cut")}),s.events.$on(L(s.o_win),"keydown",function(me){if(s.opts.pluginsEnabled.includes("filestack")&&s.opts.iframe){var _e=document.getElementsByClassName("fs-transforms-container"),Ke=!1;if(_e&&_e.length){var ft,gt=ke(_e);try{for(gt.s();!(ft=gt.n()).done;){var At=ft.value;At.childNodes&&At.childNodes.length&&(Ke=!0)}}catch(kt){gt.e(kt)}finally{gt.f()}}Ke&&(b=null)}var zt=me.which;if(b&&zt==x.KEYCODE.BACKSPACE)return me.preventDefault(),!1}),s.events.$on(s.$win,"keydown",function(me){var _e=me.which;b&&b.hasClass("fr-uploading")&&_e==x.KEYCODE.ESC&&b.trigger("abortUpload")}),s.events.on("destroy",function(){b&&b.hasClass("fr-uploading")&&b.trigger("abortUpload")}),s.events.on("paste.before",vn),s.events.on("paste.beforeCleanup",Hn),s.events.on("paste.after",bn),s.events.on("html.set",ie),s.events.on("html.inserted",ie),ie(),s.events.on("destroy",function(){p=[]}),s.events.on("html.processGet",It),s.opts.imageOutputSize&&s.events.on("html.beforeGet",function(){pe=s.el.querySelectorAll("img");for(var me=0;me<pe.length;me++){var _e=parseFloat(L(pe[me]).css("padding-left"))+parseFloat(L(pe[me]).css("padding-right")),Ke=L(pe[me]).width()-_e,ft=pe[me].style.width||Ke,gt=pe[me].style.height||L(pe[me]).height();ft&&pe[me].setAttribute("width","".concat(ft).replace(/px/,"")),gt&&pe[me].setAttribute("height","".concat(gt).replace(/px/,""))}}),s.opts.iframe&&s.events.on("image.loaded",s.size.syncIframe),s.$wp&&(D(),s.events.on("contentChanged",D)),s.events.$on(L(s.o_win),"orientationchange.image",function(){setTimeout(function(){b&&We(b)},100)}),de(!0),_t(!0),kn(!0),Rt(!0),s.events.on("node.remove",function(me){if(me.get(0).tagName=="IMG")return Je(me),!1})},showInsertPopup:function(){var pe=s.$tb.find('.fr-command[data-cmd="insertImage"]'),me=s.popups.get("image.insert");if(me||(me=_t()),Ae(),!me.hasClass("fr-active"))if(s.popups.refresh("image.insert"),s.popups.setContainer("image.insert",s.$tb),pe.isVisible()){var _e=s.button.getPosition(pe),Ke=_e.left,ft=_e.top;s.popups.show("image.insert",Ke,ft,pe.outerHeight())}else s.position.forSelection(me),s.popups.show("image.insert")},showLayer:function(pe){var me,_e,Ke=s.popups.get("image.insert");if(b||s.opts.toolbarInline){if(b){var ft=Ce(),gt=0;ze()&&(ft=ft.find(".fr-img-wrap"),gt=b.outerWidth()/2),_e=ft.offset().top+ft.outerHeight(),me=ft.offset().left+gt}}else{var At=s.$tb.find('.fr-command[data-cmd="insertImage"]');me=At.offset().left,_e=At.offset().top+(s.opts.toolbarBottom?10:At.outerHeight()-10)}!b&&s.opts.toolbarInline&&(_e=Ke.offset().top-s.helpers.getPX(Ke.css("margin-top")),Ke.hasClass("fr-above")&&(_e+=Ke.outerHeight())),Ke.find(".fr-layer").removeClass("fr-active"),Ke.find(".fr-".concat(pe,"-layer")).addClass("fr-active"),s.popups.show("image.insert",me,_e,b?b.outerHeight():0,ze()),s.accessibility.focusPopup(Ke)},refreshUploadButton:function(pe){var me=s.popups.get("image.insert");me&&me.find(".fr-image-upload-layer").hasClass("fr-active")&&pe.addClass("fr-active").attr("aria-pressed",!0)},refreshByURLButton:function(pe){var me=s.popups.get("image.insert");me&&me.find(".fr-image-by-url-layer").hasClass("fr-active")&&pe.addClass("fr-active").attr("aria-pressed",!0)},upload:Xe,insertByURL:function(){var pe=s.popups.get("image.insert").find(".fr-image-by-url-layer input");if(0<pe.val().length){Le(),we(s.language.translate("Loading image"));var me=pe.val().trim();if(s.opts.imageUploadRemoteUrls&&s.opts.imageCORSProxy&&s.opts.imageUpload){var _e=new XMLHttpRequest;_e.onload=function(){this.status==200?Xe([new Blob([this.response],{type:this.response.type||"image/png"})],b):q(z)},_e.onerror=function(){nt(me,!0,[],b)},_e.open("GET","".concat(s.opts.imageCORSProxy,"/").concat(me),!0),_e.responseType="blob",_e.send()}else nt(me,!0,[],b);pe.val(""),pe.blur()}},align:function(pe){var me=Ce();me.removeClass("fr-fir fr-fil"),!s.opts.htmlUntouched&&s.opts.useClasses?pe=="left"?me.addClass("fr-fil"):pe=="right"&&me.addClass("fr-fir"):ms(me,fe(),pe),ae(),U(),be(),s.selection.clear()},refreshAlign:function(pe){b&&pe.find("> *").first().replaceWith(s.icon.create("image-align-".concat(Et())))},refreshAlignOnShow:function(pe,me){b&&me.find('.fr-command[data-param1="'.concat(Et(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(pe){var me=Ce();me.removeClass("fr-dii fr-dib"),!s.opts.htmlUntouched&&s.opts.useClasses?pe=="inline"?me.addClass("fr-dii"):pe=="block"&&me.addClass("fr-dib"):ms(me,pe,Et()),ae(),U(),be(),s.selection.clear()},refreshDisplayOnShow:function(pe,me){b&&me.find('.fr-command[data-param1="'.concat(fe(),'"]')).addClass("fr-active").attr("aria-selected",!0)},replace:Z,back:function(){b?(s.events.disableBlur(),L(".fr-popup input:focus").blur(),We(b)):(s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),s.popups.hide("image.insert"),s.toolbar.showInline())},get:ye,getEl:Ce,insert:nt,showProgressBar:Le,remove:Je,hideProgressBar:Ae,applyStyle:function(pe,me,_e){if(me===void 0&&(me=s.opts.imageStyles),_e===void 0&&(_e=s.opts.imageMultipleStyles),!b)return!1;var Ke=Ce();if(!_e){var ft=Object.keys(me);ft.splice(ft.indexOf(pe),1),Ke.removeClass(ft.join(" "))}je(me[pe])=="object"?(Ke.removeAttr("style"),Ke.css(me[pe].style)):(Ke.toggleClass(pe),ze()&&b.hasClass(pe)&&b.removeClass(pe)),We(b)},showAltPopup:Lt,showSizePopup:Zt,setAlt:function(pe){if(b){var me=s.popups.get("image.alt");b.attr("alt",pe||me.find("input").val()||""),me.find("input:focus").blur(),We(b)}},setSize:function(pe,me){if(b){var _e=s.popups.get("image.size");pe=pe||_e.find('input[name="width"]').val()||"",me=me||_e.find('input[name="height"]').val()||"";var Ke=/^[\d]+((px)|%)*$/g;b.removeAttr("width").removeAttr("height"),pe.match(Ke)?b.css("width",pe):b.css("width",""),me.match(Ke)?b.css("height",me):b.css("height",""),ze()&&(b.parents(".fr-img-caption").removeAttr("width").removeAttr("height"),pe.match(Ke)?b.parents(".fr-img-caption").css("width",pe):b.parents(".fr-img-caption").css("width",""),me.match(Ke)?b.parents(".fr-img-caption").css("height",me):b.parents(".fr-img-caption").css("height","")),_e&&_e.find("input:focus").blur(),We(b)}},toggleCaption:function(){var pe,me=s.$el.get(0);if(b&&!ze()){(pe=b).parent().is("a")&&(pe=b.parent());var _e,Ke,ft=b.parents("ul")&&0<b.parents("ul").length?b.parents("ul"):b.parents("ol")&&0<b.parents("ol").length?b.parents("ol"):[];if(0<ft.length){var gt=ft.find("li").length,At=b.parents("li"),zt=document.createElement("li");gt-1===At.index()&&(ft.append(zt),zt.innerHTML="&nbsp;")}pe.attr("style")?Ke=-1<(_e=pe.attr("style").split(":")).indexOf("width")?_e[_e.indexOf("width")+1].replace(";",""):"":pe.attr("width")&&(Ke=pe.attr("width"));var kt=s.opts.imageResizeWithPercent?(-1<Ke.indexOf("px")?null:Ke)||"100%":b.width()+"px";pe.wrap('<div class="fr-img-space-wrap"><span '+(s.browser.mozilla?"":'contenteditable="false"')+'class="fr-img-caption '+b.attr("class")+'" style="'+(pe.attr("style")||"")+'" draggable="false"></span></div>'),pe.wrap('<span class="fr-img-wrap"></span>'),b.after('<span class="fr-inner"'.concat(s.browser.mozilla?"":' contenteditable="true"',">").concat(x.START_MARKER).concat(s.language.translate("Image Caption")).concat(x.END_MARKER,"</span>")),b.parents(".fr-img-caption").css("width",kt);var Tt=b.parents(".fr-img-space-wrap").length;Tt==1?Re(me.querySelector(".fr-img-space-wrap")):1<Tt&&(Re(me.querySelector(".fr-img-space-wrap")),Re(me.querySelector(".fr-img-space-wrap2"))),ro(!0),s.selection.restore()}else{if(pe=Ce(),b.insertBefore(pe),pe[0].querySelector("a")!==null){for(var Mt,qt=pe[0].querySelector("a"),Qt=document.createElement("a"),on=0,_n=qt.attributes,Dn=_n.length;on<Dn;on++)Mt=_n[on],Qt.setAttribute(Mt.nodeName,Mt.nodeValue);b.wrap(Qt)}b.attr("class",pe.attr("class").replace("fr-img-caption","")).attr("style",pe.attr("style")),pe.remove();var eo=b.parents(".fr-img-space-wrap").length;eo==1?Re(me.querySelector(".fr-img-space-wrap")):1<eo&&(Re(me.querySelector(".fr-img-space-wrap")),Re(me.querySelector(".fr-img-space-wrap2"))),We(b)}},hasCaption:ze,exitEdit:ro,edit:We}},x.DefineIcon("insertImage",{NAME:"image",SVG_KEY:"insertImage"}),x.RegisterShortcut(x.KEYCODE.P,"insertImage",null,"P"),x.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),x.DefineIcon("imageUpload",{NAME:"upload",SVG_KEY:"upload"}),x.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-upload")},refresh:function(s){this.image.refreshUploadButton(s)}}),x.DefineIcon("imageByURL",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.image.showLayer("image-by-url")},refresh:function(s){this.image.refreshByURLButton(s)}}),x.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(s){this.image.get()?s.text(this.language.translate("Replace")):s.text(this.language.translate("Insert"))}}),x.DefineIcon("imageDisplay",{NAME:"star",SVG_KEY:"imageDisplay"}),x.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(s,b){this.image.display(b)},refresh:function(s){this.opts.imageTextNear||s.addClass("fr-hidden")},refreshOnShow:function(s,b){this.image.refreshDisplayOnShow(s,b)}}),x.DefineIcon("image-align",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("image-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("image-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("image-align-center",{NAME:"align-justify",SVG_KEY:"alignCenter"}),x.DefineIcon("imageAlign",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.imageAlign.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.icon.create("image-align-".concat(B)),'<span class="fr-sr-only">').concat(this.language.translate(b[B]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.image.align(b)},refresh:function(s){this.image.refreshAlign(s)},refreshOnShow:function(s,b){this.image.refreshAlignOnShow(s,b)}}),x.DefineIcon("imageReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),x.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),x.DefineIcon("imageRemove",{NAME:"trash",SVG_KEY:"remove"}),x.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),x.DefineIcon("imageBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(s){this.$,this.image.get()||this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next(".fr-separator").removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next(".fr-separator").addClass("fr-hidden"))}}),x.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),x.DefineIcon("imageStyle",{NAME:"magic",SVG_KEY:"imageClass"}),x.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.imageStyles;for(var B in b)if(b.hasOwnProperty(B)){var ge=b[B];je(ge)=="object"&&(ge=ge.title),s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'.concat(B,'">').concat(this.language.translate(ge),"</a></li>")}return s+="</ul>"},callback:function(s,b){this.image.applyStyle(b)},refreshOnShow:function(s,b){var B=this.$,ge=this.image.getEl();ge&&b.find(".fr-command").each(function(){var a=B(this).data("param1"),p=ge.hasClass(a);B(this).toggleClass("fr-active",p).attr("aria-selected",p)})}}),x.DefineIcon("imageAlt",{NAME:"info",SVG_KEY:"imageAltText"}),x.RegisterCommand("imageAlt",{undo:!1,focus:!1,popup:!0,title:"Alternative Text",callback:function(){this.image.showAltPopup()}}),x.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),x.DefineIcon("imageSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),x.RegisterCommand("imageSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.image.showSizePopup()}}),x.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}}),x.DefineIcon("imageCaption",{NAME:"commenting",FA5NAME:"comment-alt",SVG_KEY:"imageCaption"}),x.RegisterCommand("imageCaption",{undo:!0,focus:!1,title:"Image Caption",refreshAfterCallback:!0,callback:function(){this.image.toggleCaption()},refresh:function(s){this.image.get()&&s.toggleClass("fr-active",this.image.hasCaption())}}),Object.assign(x.DEFAULTS,{imageManagerLoadURL:"https://i.froala.com/load-files",imageManagerLoadMethod:"get",imageManagerLoadParams:{},imageManagerPreloader:null,imageManagerDeleteURL:"",imageManagerDeleteMethod:"post",imageManagerDeleteParams:{},imageManagerPageSize:12,imageManagerScrollOffset:20,imageManagerToggleTags:!0}),x.PLUGINS.imageManager=function(s){var b,B,ge,a,p,M,L,A,O,z,Q,H=s.$,P="image_manager",j=10,K=11,ee=12,w=13,xe=14,be=15,re=21,se=22,ie={};function D(){var ot=H(window).outerWidth();return ot<768?2:ot<1200?3:4}function U(){p.empty();for(var ot=0;ot<Q;ot++)p.append('<div class="fr-list-column"></div>')}function V(){if(O<L.length&&ge[0].scrollTop>=ge[0].scrollHeight-s.opts.imageManagerScrollOffset-ge.outerHeight()){A++;for(var ot=s.opts.imageManagerPageSize*(A-1);ot<Math.min(L.length,s.opts.imageManagerPageSize*A);ot++)I(L[ot])}}function I(ot){var Me=new Image,et=H(document.createElement("div")).attr("class","fr-image-container fr-empty fr-image-"+z++).attr("data-loading",s.language.translate("Loading")+"..").attr("data-deleting",s.language.translate("Deleting")+"..");q(!1),Me.onload=function(){et.height(Math.floor(et.width()/Me.width*Me.height));var Ve=H(document.createElement("img"));if(ot.thumb)Ve.attr("src",ot.thumb);else{if(we(xe,ot),!ot.url)return we(be,ot),!1;Ve.attr("src",ot.url)}if(ot.url&&Ve.attr("data-url",ot.url),ot.tag)if(B.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"),B.find(".fr-modal-tags").show(),0<=ot.tag.indexOf(",")){for(var Ze=ot.tag.split(","),Xe=0;Xe<Ze.length;Xe++)Ze[Xe]=Ze[Xe].trim(),M.find('a[title="'.concat(Ze[Xe],'"]')).length===0&&M.append('<a role="button" title="'.concat(Ze[Xe],'">').concat(Ze[Xe],"</a>"));Ve.attr("data-tag",Ze.join())}else M.find('a[title="'.concat(ot.tag.trim(),'"]')).length===0&&M.append('<a role="button" title="'.concat(ot.tag.trim(),'">').concat(ot.tag.trim(),"</a>")),Ve.attr("data-tag",ot.tag.trim());for(var $e in ot.name&&Ve.attr("alt",ot.name),ot)ot.hasOwnProperty($e)&&$e!=="thumb"&&$e!=="url"&&$e!=="tag"&&Ve.attr("data-".concat($e),ot[$e]);et.append(Ve).append(H(s.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title",s.language.translate("Delete"))).append(H(s.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title",s.language.translate("Insert"))),M.find(".fr-selected-tag").each(function(tt,_t){nt(Ve,_t.text)||et.hide()}),Ve.on("load",function(){et.removeClass("fr-empty"),et.height("auto"),O++,G(ne(parseInt(Ve.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1)),q(!1),O%s.opts.imageManagerPageSize==0&&V()}),s.events.trigger("imageManager.imageLoaded",[Ve])},Me.onerror=function(){O++,et.remove(),G(ne(parseInt(et.attr("class").match(/fr-image-(\d+)/)[1],10)+1)),we(j,ot),O%s.opts.imageManagerPageSize==0&&V()},Me.src=ot.thumb||ot.url,N().append(et)}function N(){var ot,Me;return p.find(".fr-list-column").each(function(et,Ve){var Ze=H(Ve);(et===0||Ze.outerHeight()<Me)&&(Me=Ze.outerHeight(),ot=Ze)}),ot}function ne(ot){ot===void 0&&(ot=0);for(var Me=[],et=z-1;ot<=et;et--){var Ve=p.find(".fr-image-".concat(et));Ve.length&&(Me.push(Ve),H(document.createElement("div")).attr("id","fr-image-hidden-container").append(Ve),p.find(".fr-image-".concat(et)).remove())}return Me}function G(ot){for(var Me=ot.length-1;0<=Me;Me--)N().append(ot[Me])}function q(ot){if(ot===void 0&&(ot=!0),!b.isVisible())return!0;var Me=D();if(Me!==Q){Q=Me;var et=ne();U(),G(et)}s.modals.resize(P),ot&&V()}function de(ot){for(var Me,et=ot[0].attributes,Ve=et.length,Ze={};Ve--;)et[Ve]&&(Me=et[Ve].name)!=="src"&&(Ze[Me]=et[Ve].value);return Ze}function Le(ot){var Me=H(ot.currentTarget).siblings("img"),et=b.data("instance")||s,Ve=b.data("current-image");if(s.modals.hide(P),et.image.showProgressBar(),Ve)Ve.data("fr-old-src",Ve.attr("src")),Ve.trigger("click");else{et.events.focus(!0),et.selection.restore();var Ze=et.position.getBoundingRect(),Xe=Ze.left+Ze.width/2+H(s.doc).scrollLeft(),$e=Ze.top+Ze.height+H(s.doc).scrollTop();et.popups.setContainer("image.insert",s.$sc),et.popups.show("image.insert",Xe,$e)}et.image.insert(Me.data("url"),!1,de(Me),Ve)}function Ae(ot){var Me=H(ot.currentTarget).siblings("img"),et=s.language.translate("Are you sure? Image will be deleted.");confirm(et)&&(s.opts.imageManagerDeleteURL?s.events.trigger("imageManager.beforeDeleteImage",[Me])!==!1&&(Me.parent().addClass("fr-image-deleting"),H(this).ajax({method:s.opts.imageManagerDeleteMethod,url:s.opts.imageManagerDeleteURL,data:Object.assign(Object.assign({src:Me.attr("src")},de(Me)),s.opts.imageManagerDeleteParams),crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(Ve,Ze,Xe){s.events.trigger("imageManager.imageDeleted",[Ve]);var $e=ne(parseInt(Me.parent().attr("class").match(/fr-image-(\d+)/)[1],10)+1);Me.parent().remove(),G($e),function(){b.find("#fr-modal-tags > a").each(function(){b.find('#fr-image-list [data-tag*="'.concat(H(this).text(),'"]')).length===0&&H(this).removeClass("fr-selected-tag").hide()}),We()}(),q(!0)},fail:function(Ve){we(re,Ve.response||Ve.responseText)}})):we(se))}function we(ot,Me){10<=ot&&ot<20?a.hide():20<=ot&&ot<30&&H(".fr-image-deleting").removeClass("fr-image-deleting"),s.events.trigger("imageManager.error",[{code:ot,message:ie[ot]},Me])}function Pe(){var ot=B.find(".fr-modal-head-line").outerHeight(),Me=M.outerHeight();B.toggleClass("fr-show-tags"),B.hasClass("fr-show-tags")?(B.css("height",ot+Me),ge.css("marginTop",ot+Me),M.find("a").css("opacity",1)):(B.css("height",ot),ge.css("marginTop",ot),M.find("a").css("opacity",0))}function We(){var ot=M.find(".fr-selected-tag");0<ot.length?(p.find("img").parents().show(),ot.each(function(Me,et){p.find("img").each(function(Ve,Ze){var Xe=H(Ze);nt(Xe,et.text)||Xe.parent().hide()})})):p.find("img").parents().show(),G(ne()),V()}function ut(ot){ot.preventDefault();var Me=H(ot.currentTarget);Me.toggleClass("fr-selected-tag"),s.opts.imageManagerToggleTags&&Me.siblings("a").removeClass("fr-selected-tag"),We()}function nt(ot,Me){for(var et=(ot.attr("data-tag")||"").split(","),Ve=0;Ve<et.length;Ve++)if(et[Ve]===Me)return!0;return!1}return ie[j]="Image cannot be loaded from the passed link.",ie[K]="Error during load images request.",ie[ee]="Missing imageManagerLoadURL option.",ie[w]="Parsing load response failed.",ie[xe]="Missing image thumb.",ie[be]="Missing image URL.",ie[re]="Error during delete image request.",ie[se]="Missing imageManagerDeleteURL option.",{require:["image"],_init:function(){if(!s.$wp&&s.el.tagName!=="IMG")return!1},show:function(){if(!b){var Me,et='<button class="fr-command fr-btn fr-modal-more fr-not-available" id="fr-modal-more-'.concat(s.sid,'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24""><path d="').concat(x.SVG.tags,'"/></svg></button><h4 data-text="true">').concat(s.language.translate("Manage Images"),`</h4></div>
      <div class="fr-modal-tags" id="fr-modal-tags">`);Me=s.opts.imageManagerPreloader?'<img class="fr-preloader" id="fr-preloader" alt="'.concat(s.language.translate("Loading"),'.." src="').concat(s.opts.imageManagerPreloader,'" style="display: none;">'):'<span class="fr-preloader" id="fr-preloader" style="display: none;">'.concat(s.language.translate("Loading"),"</span>"),Me+='<div class="fr-image-list" id="fr-image-list"></div>';var Ve=s.modals.create(P,et,Me);b=Ve.$modal,B=Ve.$head,ge=Ve.$body}b.data("current-image",s.image.get()),s.modals.show(P),a||function(){a=b.find("#fr-preloader"),p=b.find("#fr-image-list"),M=b.find("#fr-modal-tags"),Q=D(),U(),B.css("height",B.find(".fr-modal-head-line").outerHeight()),s.events.$on(H(s.o_win),"resize",function(){q(!!L)}),s.events.bindClick(p,".fr-insert-img",Le),s.events.bindClick(p,".fr-delete-img",Ae),s.helpers.isMobile()&&(s.events.bindClick(p,"div.fr-image-container",function(Xe){b.find(".fr-mobile-selected").removeClass("fr-mobile-selected"),H(Xe.currentTarget).addClass("fr-mobile-selected")}),b.on(s._mousedown,function(){b.find(".fr-mobile-selected").removeClass("fr-mobile-selected")})),b.on(s._mousedown+" "+s._mouseup,function(Xe){Xe.stopPropagation()}),b.on(s._mousedown,"*",function(){s.events.disableBlur()}),ge.on("scroll",V),s.events.bindClick(b,"button#fr-modal-more-".concat(s.sid),Pe),s.events.bindClick(M,"a",ut)}(),function(){a.show(),p.find(".fr-list-column").empty(),s.opts.imageManagerLoadURL?H(this).ajax({url:s.opts.imageManagerLoadURL,method:s.opts.imageManagerLoadMethod,data:s.opts.imageManagerLoadParams,crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(Xe,$e,tt){s.events.trigger("imageManager.imagesLoaded",[Xe]),function(mt,Lt){try{p.find(".fr-list-column").empty(),z=O=A=0,L=JSON.parse(mt),V()}catch{we(w,Lt)}}(Xe,tt.response),a.hide()},fail:function(Xe){we(K,Xe.response||Xe.responseText)}}):we(ee)}()},hide:function(){s.modals.hide(P)}}},!x.PLUGINS.image)throw new Error("Image manager plugin requires image plugin.");function Ft(s){var b={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(s===!1)return JSON.parse(JSON.stringify(b));var B={};for(var ge in b)b.hasOwnProperty(ge)&&(B[ge]=b[ge].defaultValue);return B}x.DEFAULTS.imageInsertButtons.push("imageManager"),x.RegisterCommand("imageManager",{title:"Browse",undo:!1,focus:!1,modal:!0,callback:function(){this.imageManager.show()},plugin:"imageManager"}),x.DefineIcon("imageManager",{NAME:"folder",SVG_KEY:"imageManager"}),x.DefineIcon("imageManagerInsert",{NAME:"plus",SVG_KEY:"add"}),x.DefineIcon("imageManagerDelete",{NAME:"trash",SVG_KEY:"remove"}),Object.assign(x.DEFAULTS,{inlineClasses:{"fr-class-code":"Code","fr-class-highlighted":"Highlighted","fr-class-transparency":"Transparent"}}),x.PLUGINS.inlineClass=function(s){var b=s.$;return{apply:function(ge){s.format.toggle("span",{class:ge})},refreshOnShow:function(ge,a){a.find(".fr-command").each(function(){var p=b(this).data("param1"),M=s.format.is("span",{class:p});b(this).toggleClass("fr-active",M).attr("aria-selected",M)})}}},x.RegisterCommand("inlineClass",{type:"dropdown",title:"Inline Class",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.inlineClasses;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineClass" data-param1="'.concat(B,'" title="').concat(b[B],'">').concat(b[B],"</a></li>"));return s+="</ul>"},callback:function(s,b){this.inlineClass.apply(b)},refreshOnShow:function(s,b){this.inlineClass.refreshOnShow(s,b)},plugin:"inlineClass"}),x.DefineIcon("inlineClass",{NAME:"tag",SVG_KEY:"inlineClass"}),Object.assign(x.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),x.PLUGINS.inlineStyle=function(s){return{apply:function(B){for(var ge=B.split(";"),a=0;a<ge.length;a++){var p=ge[a].split(":");ge[a].length&&p.length==2&&s.format.applyStyle(p[0].trim(),p[1].trim())}}}},x.RegisterCommand("inlineStyle",{type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.inlineStyles;for(var B in b)if(b.hasOwnProperty(B)){var ge=b[B]+(b[B].indexOf("display:block;")===-1?" display:block;":"");s+='<li role="presentation"><span style="'.concat(ge,'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="').concat(b[B],'" title="').concat(this.language.translate(B),'">').concat(this.language.translate(B),"</a></span></li>")}return s+="</ul>"},title:"Inline Style",callback:function(s,b){this.inlineStyle.apply(b)},plugin:"inlineStyle"}),x.DefineIcon("inlineStyle",{NAME:"paint-brush",SVG_KEY:"inlineStyle"}),Object.assign(x.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly","img"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),x.PLUGINS.lineBreaker=function(s){var b,B,ge,a=s.$;function p(ee,w){var xe,be,re,se,ie,D,U,V;if(ee==null)ie=(se=w.parent()).offset().top,xe=(U=w.offset().top)-Math.min((U-ie)/2,s.opts.lineBreakerOffset),re=se.outerWidth(),be=se.offset().left;else if(w==null)(D=(se=ee.parent()).offset().top+se.outerHeight())<(V=ee.offset().top+ee.outerHeight())&&(D=(se=a(se).parent()).offset().top+se.outerHeight()),xe=V+Math.min(Math.abs(D-V)/2,s.opts.lineBreakerOffset),re=se.outerWidth(),be=se.offset().left;else{se=ee.parent();var I=ee.offset().top+ee.height(),N=w.offset().top;if(N<I)return!1;xe=(I+N)/2,re=se.outerWidth(),be=se.offset().left}if(s.opts.iframe){var ne=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),G=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));be+=s.$iframe.offset().left-s.helpers.scrollLeft()+G,xe+=s.$iframe.offset().top-s.helpers.scrollTop()+ne}s.$box.append(b),b.css("top",xe-s.win.pageYOffset),b.css("left",be-s.win.pageXOffset),b.css("width",re),b.data("tag1",ee),b.data("tag2",w),b.addClass("fr-visible").data("instance",s)}function M(ee){if(ee){var w=a(ee);if(s.$el.find(w).length===0)return null;if(ee.nodeType!=Node.TEXT_NODE&&w.is(s.opts.lineBreakerTags.join(",")))return w;if(0<w.parents(s.opts.lineBreakerTags.join(",")).length)return ee=w.parents(s.opts.lineBreakerTags.join(",")).get(0),s.$el.find(a(ee)).length!==0&&a(ee).is(s.opts.lineBreakerTags.join(","))?a(ee):null}return null}function L(ee,w){var xe=s.doc.elementFromPoint(ee,w);return xe&&!a(xe).closest(".fr-line-breaker").length&&!s.node.isElement(xe)&&xe!=s.$wp.get(0)&&function(re){if(typeof re.inFroalaWrapper<"u")return re.inFroalaWrapper;for(var se=re;re.parentNode&&re.parentNode!==s.$wp.get(0);)re=re.parentNode;return se.inFroalaWrapper=re.parentNode==s.$wp.get(0),se.inFroalaWrapper}(xe)?xe:null}function A(ee,w,xe){for(var be=xe,re=null;be<=s.opts.lineBreakerOffset&&!re;)(re=L(ee,w-be))||(re=L(ee,w+be)),be+=xe;return re}function O(ee,w,xe){for(var be=null,re=100;!be&&ee>s.$box.offset().left&&ee<s.$box.offset().left+s.$box.outerWidth()&&0<re;)(be=L(ee,w))||(be=A(ee,w,5)),xe=="left"?ee-=s.opts.lineBreakerHorizontalOffset:ee+=s.opts.lineBreakerHorizontalOffset,re-=s.opts.lineBreakerHorizontalOffset;return be}function z(ee){var w=ge=null,xe=null,be=s.doc.elementFromPoint(ee.pageX-s.win.pageXOffset,ee.pageY-s.win.pageYOffset);(w=be&&(be.tagName=="HTML"||be.tagName=="BODY"||s.node.isElement(be)||0<=(be.getAttribute("class")||"").indexOf("fr-line-breaker"))?((xe=A(ee.pageX-s.win.pageXOffset,ee.pageY-s.win.pageYOffset,1))||(xe=O(ee.pageX-s.win.pageXOffset-s.opts.lineBreakerHorizontalOffset,ee.pageY-s.win.pageYOffset,"left")),xe||(xe=O(ee.pageX-s.win.pageXOffset+s.opts.lineBreakerHorizontalOffset,ee.pageY-s.win.pageYOffset,"right")),M(xe)):M(be))?function(se,ie){var D,U,V=se.offset().top,I=se.offset().top+se.outerHeight();if(Math.abs(I-ie)<=s.opts.lineBreakerOffset||Math.abs(ie-V)<=s.opts.lineBreakerOffset)if(Math.abs(I-ie)<Math.abs(ie-V)){var N=null;for((U=se.get(0)).nextSibling&&(N=U.nextSibling.offsetParent?U.nextSibling:null);N&&N.nodeType==Node.TEXT_NODE&&N.textContent.length===0;)N=N.nextSibling;if(!N)return p(se,null),!0;if(D=M(N))return p(se,D),!0}else{if(!(U=se.get(0)).previousSibling)return p(null,se),!0;if(D=M(U.previousSibling))return p(D,se),!0}b.removeClass("fr-visible").removeData("instance")}(w,ee.pageY):s.core.sameInstance(b)&&b.removeClass("fr-visible").removeData("instance")}function Q(ee){return!(b.hasClass("fr-visible")&&!s.core.sameInstance(b))&&(s.popups.areVisible()||s.el.querySelector(".fr-selected-cell")?(b.removeClass("fr-visible"),!0):void(B!==!1||s.edit.isDisabled()||(ge&&clearTimeout(ge),ge=setTimeout(z,30,ee))))}function H(){ge&&clearTimeout(ge),b&&b.hasClass("fr-visible")&&b.removeClass("fr-visible").removeData("instance")}var P=function(){B=!0,H()},j=function(){B=!1};function K(ee){ee.preventDefault();var w=b.data("instance")||s;b.removeClass("fr-visible").removeData("instance");var xe=b.data("tag1"),be=b.data("tag2"),re=s.html.defaultTag();if(xe==null)if(s.opts.keepTextFormatOnTable&&be.children().get(0)!=null&&be.children().get(0).tagName=="TBODY"){var se=be.find("span"),ie=se[se.length-1]!=null?se[se.length-1].getAttribute("style"):null,D=ie!=null?"<"+se[se.length-1].nodeName.toLowerCase()+' style="'+ie+'">':"<"+be.parent().get(0).nodeName.toLowerCase()+">",U=ie!=null?"</"+se[se.length-1].nodeName.toLowerCase()+">":"</"+be.parent().get(0).nodeName.toLowerCase()+">";re?be.before("<".concat(re,">").concat(D).concat(x.MARKERS,"<br>").concat(U,"</").concat(re,">")):be.before("".concat(D).concat(x.MARKERS,"<br>").concat(U))}else re&&be.parent().get(0).tagName!="TD"&&be.parents(re).length===0?be.before("<".concat(re,">").concat(x.MARKERS,"<br></").concat(re,">")):be.before("".concat(x.MARKERS,"<br>"));else if(s.opts.keepTextFormatOnTable&&xe.children().get(0)!=null&&xe.children().get(0).tagName=="TBODY"){var V=xe.find("span"),I=V[V.length-1]!=null?V[V.length-1].getAttribute("style"):null,N=I!=null?"<"+V[V.length-1].nodeName.toLowerCase()+' style="'+I+'">':"<"+xe.parent().get(0).nodeName.toLowerCase()+">",ne=I!=null?"</"+V[V.length-1].nodeName.toLowerCase()+">":"</"+xe.parent().get(0).nodeName.toLowerCase()+">";re?xe.after("<".concat(re,">").concat(N).concat(x.MARKERS,"<br>").concat(ne,"</").concat(re,">")):xe.after("".concat(N).concat(x.MARKERS,"<br>").concat(ne))}else re&&xe.parent().get(0).tagName!="TD"&&xe.parents(re).length===0?xe.after("<".concat(re,">").concat(x.MARKERS,"<br></").concat(re,">")):xe.after("".concat(x.MARKERS,"<br>"));w.selection.restore(),s.undo.saveStep(),s.toolbar.enable()}return{_init:function(){if(!s.$wp)return!1;(function(){s.shared.$line_breaker||(s.shared.$line_breaker=a(document.createElement("div")).attr("class","fr-line-breaker").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Break"),'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="17" y="7" width="2" height="8"/><rect x="10" y="13" width="7" height="2"/><path d="M10.000,10.000 L10.000,18.013 L5.000,14.031 L10.000,10.000 Z"/></svg></a>'))),b=s.shared.$line_breaker,s.events.on("shared.destroy",function(){b.html("").removeData().remove(),b=null},!0),s.events.on("destroy",function(){b.removeData("instance").removeClass("fr-visible"),a("body").first().append(b),clearTimeout(ge)},!0),s.events.$on(b,"mousemove",function(xe){xe.stopPropagation()},!0),s.events.bindClick(b,"a",K)})(),B=!1,s.events.$on(s.$win,"mousemove",Q),s.events.$on(a(s.win),"scroll",H),s.events.on("popups.show.table.edit",H),s.events.on("commands.after",H),s.events.$on(a(s.win),"mousedown",P),s.events.$on(a(s.win),"mouseup",j)}}},Object.assign(x.DEFAULTS,{lineHeights:{Default:"",Single:"1",1.15:"1.15",1.5:"1.5",Double:"2"}}),x.PLUGINS.lineHeight=function(s){var b=s.$;return{_init:function(){},apply:function(ge){s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();var a=s.selection.blocks();a.length&&b(a[0]).parent().is("td")&&s.format.applyStyle("line-height",ge.toString()),s.selection.save();for(var p=0;p<a.length;p++)b(a[p]).css("line-height",ge),s.opts.enter!==x.ENTER_BR||a.length&&b(a[0]).parent().is("td")||(b(a[p]).hasClass("fr-temp-div")&&b(a[p]).removeClass("fr-temp-div"),b(a[p]).attr("class")===""&&b(a[p]).removeAttr("class")),b(a[p]).attr("style")===""&&b(a[p]).removeAttr("style");s.html.unwrap(),s.selection.restore()},refreshOnShow:function(ge,a){var p=s.selection.blocks();if(p.length){var M=b(p[0]);a.find(".fr-command").each(function(){var L=b(this).data("param1"),A=M.attr("style"),O=0<=(A||"").indexOf("line-height: "+L+";");if(A){var z=A.substring(A.indexOf("line-height")),Q=z.substr(0,z.indexOf(";")),H=Q&&Q.split(":")[1];H&&H.length||M.text()!=="Default"||(O=!0)}A&&A.indexOf("line-height")!==-1||L!==""||(O=!0),b(this).toggleClass("fr-active",O).attr("aria-selected",O)})}}}},x.RegisterCommand("lineHeight",{type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.lineHeights;if(b instanceof Array)for(var B=0;B<b.length;B++)s+='<li role="presentation"><a class="fr-command '.concat(b[B].label,'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(b[B].value,'" title="').concat(this.language.translate(b[B].label),'">').concat(this.language.translate(b[B].label),"</a></li>");else if(b instanceof Object)for(var ge in b)b.hasOwnProperty(ge)&&(s+='<li role="presentation"><a class="fr-command '.concat(ge,'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(b[ge],'" title="').concat(this.language.translate(ge),'">').concat(this.language.translate(ge),"</a></li>"));return s+="</ul>"},title:"Line Height",callback:function(s,b){this.lineHeight.apply(b)},refreshOnShow:function(s,b){this.lineHeight.refreshOnShow(s,b)},plugin:"lineHeight"}),x.DefineIcon("lineHeight",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"lineHeight"}),Object.assign(x.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),Object.assign(x.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkNoOpener:!0,linkNoReferrer:!0,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),x.PLUGINS.link=function(s){var b=s.$;function B(){var H=s.image?s.image.get():null;if(H||!s.$wp)return s.el.tagName=="A"?s.el:H&&H.get(0).parentNode&&H.get(0).parentNode.tagName=="A"?H.get(0).parentNode:void 0;var P=s.selection.ranges(0).commonAncestorContainer;try{P&&(P.contains&&P.contains(s.el)||!s.el.contains(P)||s.el==P)&&(P=null)}catch{P=null}if(P&&P.tagName==="A")return P;var j,K,ee=s.selection.element(),w=s.selection.endElement();ee.tagName=="A"||s.node.isElement(ee)||(ee=s.opts.iframe&&(j=s.markdown)!==null&&j!==void 0&&j.isEnabled()?null:b(ee).parentsUntil(s.$el,"a").first().get(0)),w.tagName=="A"||s.node.isElement(w)||(w=s.opts.iframe&&(K=s.markdown)!==null&&K!==void 0&&K.isEnabled()?null:b(w).parentsUntil(s.$el,"a").first().get(0));try{w&&(w.contains&&w.contains(s.el)||!s.el.contains(w)||s.el==w)&&(w=null)}catch{w=null}try{ee&&(ee.contains&&ee.contains(s.el)||!s.el.contains(ee)||s.el==ee)&&(ee=null)}catch{ee=null}return w&&w==ee&&w.tagName=="A"?(s.browser.msie||s.helpers.isMobile())&&(s.selection.info(ee).atEnd||s.selection.info(ee).atStart)?null:ee:null}function ge(){var H,P,j,K,ee=s.image?s.image.get():null,w=[];if(ee)ee.get(0).parentNode.tagName=="A"&&w.push(ee.get(0).parentNode);else if(s.win.getSelection){var xe=s.win.getSelection();if(xe.getRangeAt&&xe.rangeCount){K=s.doc.createRange();for(var be=0;be<xe.rangeCount;++be)if((P=(H=xe.getRangeAt(be)).commonAncestorContainer)&&P.nodeType!=1&&(P=P.parentNode),P&&P.nodeName.toLowerCase()=="a")w.push(P);else{j=P.getElementsByTagName("a");for(var re=0;re<j.length;++re)K.selectNodeContents(j[re]),K.compareBoundaryPoints(H.END_TO_START,H)<1&&-1<K.compareBoundaryPoints(H.START_TO_END,H)&&w.push(j[re])}}}else if(s.doc.selection&&s.doc.selection.type!="Control")if((P=(H=s.doc.selection.createRange()).parentElement()).nodeName.toLowerCase()=="a")w.push(P);else{j=P.getElementsByTagName("a"),K=s.doc.body.createTextRange();for(var se=0;se<j.length;++se)K.moveToElementText(j[se]),-1<K.compareEndPoints("StartToEnd",H)&&K.compareEndPoints("EndToStart",H)<1&&w.push(j[se])}return w}function a(H){if(s.core.hasFocus()||s.opts.iframe&&(!document.hasFocus||document.hasFocus())){if(M(),H&&H.type==="keyup"&&(H.altKey||H.which==x.KEYCODE.ALT))return!0;setTimeout(function(){if(!H||H&&(H.which==1||H.type!="mouseup")){var P=B(),j=s.image?s.image.get():null;if(P&&!j){if(s.image){var K=s.node.contents(P);if(K.length==1&&K[0].tagName=="IMG"){var ee=s.selection.ranges(0);return ee.startOffset===0&&ee.endOffset===0?b(P).before(x.INVISIBLE_SPACE+x.MARKERS):b(P).after(x.INVISIBLE_SPACE+x.MARKERS),s.selection.restore(),!1}}H&&H.stopPropagation(),p(P)}}},s.helpers.isIOS()?100:0)}}function p(H){var P=s.popups.get("link.edit");P||(P=function(){var xe="";1<=s.opts.linkEditButtons.length&&(s.el.tagName=="A"&&0<=s.opts.linkEditButtons.indexOf("linkRemove")&&s.opts.linkEditButtons.splice(s.opts.linkEditButtons.indexOf("linkRemove"),1),xe='<div class="fr-buttons">'.concat(s.button.buildList(s.opts.linkEditButtons),"</div>"));var be={buttons:xe},re=s.popups.create("link.edit",be);return s.$wp&&s.events.$on(s.$wp,"scroll.link-edit",function(){B()&&s.popups.isVisible("link.edit")&&p(B())}),re}());var j=b(H);s.popups.isVisible("link.edit")||s.popups.refresh("link.edit"),s.popups.setContainer("link.edit",s.$sc);var K=j.offset().left+j.outerWidth()/2,ee=j.offset().top+j.outerHeight();s.popups.show("link.edit",K,ee,j.outerHeight(),!0)}function M(){s.popups.hide("link.edit")}function L(){var H=s.popups.get("link.insert"),P=B();if(P){var j,K,ee=b(P),w=H.find('input.fr-link-attr[type="text"]'),xe=H.find('input.fr-link-attr[type="checkbox"]');for(j=0;j<w.length;j++){var be=(K=b(w[j])).attr("name")||"",re=be==="href"?decodeURI(ee.attr(be)):ee.attr(be);K.val(re)}for(xe.attr("checked",!1),j=0;j<xe.length;j++)K=b(xe[j]),ee.attr(K.attr("name"))==K.data("checked")&&K.attr("checked",!0);H.find('input.fr-link-attr[type="text"][name="text"]').val(ee.text())}else H.find('input.fr-link-attr[type="text"]').val(""),H.find('input.fr-link-attr[type="checkbox"]').attr("checked",!1),H.find('input.fr-link-attr[type="text"][name="text"]').val(s.selection.text());H.find("input.fr-link-attr").trigger("change"),s.image&&s.image.get()?H.find('.fr-link-attr[name="text"]').parent().hide():H.find('.fr-link-attr[name="text"]').parent().show()}function A(H){if(H)return s.popups.onRefresh("link.insert",L),!0;var P="";1<=s.opts.linkInsertButtons.length&&(P='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.linkInsertButtons),"</div>"));var j="",K=0;for(var ee in j='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'.concat(s.id,'">'),j+='<div class="fr-input-line"><input id="fr-link-insert-layer-url-'.concat(s.id,'" name="href" type="text" class="fr-link-attr" placeholder="').concat(s.language.translate("URL"),'" tabIndex="').concat(++K,'"></div>'),s.opts.linkText&&(j+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'.concat(s.id,'" name="text" type="text" class="fr-link-attr" placeholder="').concat(s.language.translate("Text"),'" tabIndex="').concat(++K,'"></div>')),s.opts.linkAttributes)if(s.opts.linkAttributes.hasOwnProperty(ee)){var w=s.opts.linkAttributes[ee];j+='<div class="fr-input-line"><input name="'.concat(ee,'" type="text" class="fr-link-attr" placeholder="').concat(s.language.translate(w),'" tabIndex="').concat(++K,'"></div>')}s.opts.linkAlwaysBlank||(j+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'.concat(s.id,'" tabIndex="').concat(++K,'"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span><label id="fr-label-target-').concat(s.id,'">').concat(s.language.translate("Open in new tab"),"</label></div>"));var xe={buttons:P,input_layer:j+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'.concat(++K,'" type="button">').concat(s.language.translate("Insert"),"</button></div></div>")},be=s.popups.create("link.insert",xe);return s.$wp&&s.events.$on(s.$wp,"scroll.link-insert",function(){s.image&&s.image.get()&&s.popups.isVisible("link.insert")&&Q(),s.popups.isVisible("link.insert")&&z()}),be}function O(H,P,j){if(s.opts.trackChangesEnabled){if(s.edit.on(),s.events.focus(!0),s.undo.saveStep(),s.markers.insert(),s.html.wrap(),!s.$el.find(".fr-marker").length)return void s.popups.hide("link.insert");s.markers.remove()}if(j===void 0&&(j={}),s.events.trigger("link.beforeInsert",[H,P,j])===!1)return!1;var K=s.image?s.image.get():null;K||s.el.tagName=="A"?s.el.tagName=="A"&&s.$el.focus():(s.selection.restore(),s.popups.hide("link.insert"));var ee=H;if(s.opts.linkConvertEmailAddress&&s.helpers.isEmail(H)&&!/^mailto:.*/i.test(H)&&(H="mailto:".concat(H)),s.opts.linkAutoPrefix===""||new RegExp("^("+x.LinkProtocols.join("|")+"):.","i").test(H)||/^data:image.*/i.test(H)||/^(https?:|ftps?:|file:|)\/\//i.test(H)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(H)||["/","{","[","#","(",".",'"',"\\"].indexOf((H||"")[0])<0&&(H=s.opts.linkAutoPrefix+H),(H=s.helpers.sanitizeURL(H))===decodeURIComponent(H)&&(H=encodeURI(H)),s.opts.linkAlwaysBlank&&(j.target="_blank"),s.opts.linkAlwaysNoFollow&&(j.rel="nofollow"),s.helpers.isEmail(ee)&&(j.target=null,j.rel=null),j.target=="_blank"?(s.opts.linkNoOpener&&(j.rel?j.rel+=" noopener":j.rel="noopener"),s.opts.linkNoReferrer&&(j.rel?j.rel+=" noreferrer":j.rel="noreferrer")):j.target==null&&(j.rel?j.rel=j.rel.replace(/noopener/,"").replace(/noreferrer/,""):j.rel=null),P=P||"",H===s.opts.linkAutoPrefix)return s.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),s.events.trigger("link.bad",[ee]),!1;var w,xe=B();if(xe){if((w=b(xe)).attr("href",H),0<P.length&&w.text()!=P&&!K){if(s.opts.trackChangesEnabled){var be=b(w.get(0).outerHTML);be.insertBefore(w.parent());var re=s.track_changes.wrapLinkInTracking(be,s.track_changes.getPendingChanges().length-1),se=s.track_changes.wrapInDelete(re);w.parent().append(se)}for(var ie=w.get(0);ie.childNodes.length===1&&ie.childNodes[0].nodeType==Node.ELEMENT_NODE;)ie=ie.childNodes[0];b(ie).text(P)}for(var D in K||w.prepend(x.START_MARKER).append(x.END_MARKER),j)j[D]?w.attr(D,j[D]):w.removeAttr(D);K||s.selection.restore()}else{K?(K.wrap('<a href="'.concat(H,'"></a>')),s.image.hasCaption()&&K.parent().append(K.parents(".fr-img-caption").find(".fr-inner"))):(s.format.remove("a"),s.selection.isCollapsed()?(P=P.length===0?ee:P,s.html.insert('<a href="'.concat(H,'">').concat(x.START_MARKER).concat(P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).concat(x.END_MARKER,"</a>")),s.selection.restore()):0<P.length&&P!=s.selection.text().replace(/\n/g,"")?(s.selection.remove(),s.html.insert('<a href="'.concat(H,'">').concat(x.START_MARKER).concat(P.replace(/&/g,"&amp;")).concat(x.END_MARKER,"</a>")),s.selection.restore()):(function(){if(!s.selection.isCollapsed()){s.selection.save();for(var ne=s.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();ne.length;){var G=b(ne.pop());G.removeClass("fr-unprocessed");var q=s.node.deepestParent(G.get(0));if(q){for(var de=G.get(0),Le="",Ae="";de=de.parentNode,s.node.isBlock(de)||(Le+=s.node.closeTagString(de),Ae=s.node.openTagString(de)+Ae),de!=q;);var we=s.node.openTagString(G.get(0))+G.html()+s.node.closeTagString(G.get(0));G.replaceWith('<span id="fr-break"></span>');var Pe=q.outerHTML;Pe=(Pe=Pe.replace(/<span id="fr-break"><\/span>/g,Le+we+Ae)).replace(Ae+Le,""),q.outerHTML=Pe}ne=s.$el.find(".fr-marker.fr-unprocessed").toArray()}s.html.cleanEmptyTags(),s.selection.restore()}}(),s.format.apply("a",{href:H})));for(var U=ge(),V=0;V<U.length;V++)(w=b(U[V])).attr(j),w.removeAttr("_moz_dirty");U.length==1&&s.$wp&&!K&&(b(U[0]).prepend(x.START_MARKER).append(x.END_MARKER),s.selection.restore())}if(K){var I=s.popups.get("link.insert");I&&I.find("input:focus").blur(),s.image.edit(K)}else a()}function z(){M();var H=B();if(H){var P=s.popups.get("link.insert");P||(P=A()),s.popups.isVisible("link.insert")||(s.popups.refresh("link.insert"),s.selection.save(),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur())),s.popups.setContainer("link.insert",s.$sc);var j=(s.image?s.image.get():null)||b(H),K=j.offset().left+j.outerWidth()/2,ee=j.offset().top+j.outerHeight();s.popups.show("link.insert",K,ee,j.outerHeight(),!0)}}function Q(){var H=s.image?s.image.getEl():null;if(H){var P=s.popups.get("link.insert"),j=H.outerWidth()/2;s.image.hasCaption()&&(H=H.find(".fr-img-wrap"),b(H)&&b(H).find("img")&&(j=b(H).find("img").outerWidth()/2)),P||(P=A()),L(),s.popups.setContainer("link.insert",s.$sc);var K=H.offset().left+j,ee=H.offset().top+H.outerHeight(),w=H.outerHeight();s.opts.iframe&&s.image.hasCaption()&&b(H)&&b(H).find("img")&&(w=b(H).find("img").outerHeight()),s.popups.show("link.insert",K,ee,w,!0)}}return{_init:function(){s.events.on("keyup",function(P){P.which!=x.KEYCODE.ESC&&a(P)}),s.events.on("window.mouseup",a),s.events.$on(s.$el,"click","a",function(P){s.edit.isDisabled()&&P.preventDefault()}),s.helpers.isMobile()&&s.events.$on(s.$doc,"selectionchange",a),A(!0),s.el.tagName=="A"&&s.$el.addClass("fr-view"),s.events.on("toolbar.esc",function(){if(s.popups.isVisible("link.edit"))return s.events.disableBlur(),s.events.focus(),!1},!0)},remove:function(){var P=B(),j=s.image?s.image.get():null;if(s.events.trigger("link.beforeRemove",[P])===!1)return!1;if(j&&P)if(s.image.hasCaption()){j.addClass("img-link-caption"),b(P).replaceWith(b(P).html());var K=document.querySelectorAll("img.img-link-caption");s.image.edit(b(K[0])),b(K[0]).removeClass("img-link-caption")}else j.unwrap(),s.image.edit(j);else P&&(s.selection.save(),b(P).replaceWith(b(P).html()),s.selection.restore(),M())},showInsertPopup:function(){var P=s.$tb.find('.fr-command[data-cmd="insertLink"]'),j=s.popups.get("link.insert");if(j||(j=A()),!j.hasClass("fr-active"))if(s.popups.refresh("link.insert"),s.popups.setContainer("link.insert",s.$tb||s.$sc),P.isVisible()){var K=s.button.getPosition(P),ee=K.left,w=K.top;s.popups.show("link.insert",ee,w,P.outerHeight())}else s.position.forSelection(j),s.popups.show("link.insert")},usePredefined:function(P){var j,K,ee=s.opts.linkList[P],w=s.popups.get("link.insert"),xe=w.find('input.fr-link-attr[type="text"]'),be=w.find('input.fr-link-attr[type="checkbox"]');for(ee.rel&&(w.rel=ee.rel),K=0;K<xe.length;K++)ee[(j=b(xe[K])).attr("name")]?(j.val(ee[j.attr("name")]),j.toggleClass("fr-not-empty",!0)):j.attr("name")!="text"&&j.val("");for(K=0;K<be.length;K++)(j=b(be[K])).attr("checked",j.data("checked")==ee[j.attr("name")]);s.accessibility.focusPopup(w)},insertCallback:function(){var P,j,K=s.popups.get("link.insert"),ee=K.find('input.fr-link-attr[type="text"]'),w=K.find('input.fr-link-attr[type="checkbox"]'),xe=(ee.filter('[name="href"]').val()||"").trim(),be=s.opts.linkText?ee.filter('[name="text"]').val():"",re={};for(j=0;j<ee.length;j++)P=b(ee[j]),["href","text"].indexOf(P.attr("name"))<0&&(re[P.attr("name")]=P.val());for(j=0;j<w.length;j++)(P=b(w[j])).is(":checked")?re[P.attr("name")]=P.data("checked"):re[P.attr("name")]=P.data("unchecked")||null;K.rel&&(re.rel=K.rel);var se=s.helpers.scrollTop();O(xe,be,re),b(s.o_win).scrollTop(se)},insert:O,update:z,get:B,allSelected:ge,back:function(){s.image&&s.image.get()?s.image.back():(s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),B()&&s.$wp?(s.selection.restore(),M(),a()):s.el.tagName=="A"?(s.$el.focus(),a()):(s.popups.hide("link.insert"),s.toolbar.showInline()))},imageLink:Q,applyStyle:function(P,j,K){K===void 0&&(K=s.opts.linkMultipleStyles),j===void 0&&(j=s.opts.linkStyles);var ee=B();if(!ee)return!1;if(!K){var w=Object.keys(j);w.splice(w.indexOf(P),1),b(ee).removeClass(w.join(" "))}b(ee).toggleClass(P),a()}}},x.DefineIcon("insertLink",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterShortcut(x.KEYCODE.K,"insertLink",null,"K"),x.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),x.DefineIcon("linkOpen",{NAME:"external-link",FA5NAME:"external-link-alt",SVG_KEY:"openLink"}),x.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},callback:function(){var s=this.link.get();s&&(s.href.indexOf("mailto:")!==-1?this.o_win.open(s.href).close():(s.target||(s.target="_self"),this.browser.msie||this.browser.edge?this.o_win.open(s.href,s.target):this.o_win.open(s.href,s.target,"noopener")),this.popups.hide("link.edit"))},plugin:"link"}),x.DefineIcon("linkEdit",{NAME:"edit",SVG_KEY:"edit"}),x.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},plugin:"link"}),x.DefineIcon("linkRemove",{NAME:"unlink",SVG_KEY:"unlink"}),x.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},plugin:"link"}),x.DefineIcon("linkBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(s){var b=this.link.get()&&this.doc.hasFocus();this.image&&this.image.get()||b||this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next(".fr-separator").removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next(".fr-separator").addClass("fr-hidden"))},plugin:"link"}),x.DefineIcon("linkList",{NAME:"search",SVG_KEY:"search"}),x.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.linkList,B=0;B<b.length;B++)s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'.concat(B,'">').concat(b[B].displayText||b[B].text,"</a></li>");return s+="</ul>"},callback:function(s,b){this.link.usePredefined(b)},plugin:"link"}),x.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(s){this.link.get()?s.text(this.language.translate("Update")):s.text(this.language.translate("Insert"))},plugin:"link"}),x.DefineIcon("imageLink",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(s){var b;this.link.get()?((b=s.prev()).hasClass("fr-separator")&&b.removeClass("fr-hidden"),s.addClass("fr-hidden")):((b=s.prev()).hasClass("fr-separator")&&b.addClass("fr-hidden"),s.removeClass("fr-hidden"))},plugin:"link"}),x.DefineIcon("linkStyle",{NAME:"magic",SVG_KEY:"linkStyles"}),x.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.linkStyles;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'.concat(B,'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},callback:function(s,b){this.link.applyStyle(b)},refreshOnShow:function(s,b){var B=this.$,ge=this.link.get();if(ge){var a=B(ge);b.find(".fr-command").each(function(){var p=B(this).data("param1"),M=a.hasClass(p);B(this).toggleClass("fr-active",M).attr("aria-selected",M)})}},refresh:function(s){this.link.get()?s.removeClass("fr-hidden"):s.addClass("fr-hidden")},plugin:"link"}),Object.assign(x.DEFAULTS,{listAdvancedTypes:!0}),x.PLUGINS.lists=function(s){var b=s.$;function B(A){return'<span class="fr-open-'.concat(A.toLowerCase(),'"></span>')}function ge(A){return'<span class="fr-close-'.concat(A.toLowerCase(),'"></span>')}function a(A,O){(function(xe,be){for(var re=[],se=0;se<xe.length;se++){var ie=xe[se].parentNode;xe[se].tagName=="LI"&&ie.tagName!=be&&re.indexOf(ie)<0&&re.push(ie)}for(var D=re.length-1;0<=D;D--){var U=b(re[D]);U.replaceWith("<".concat(be.toLowerCase()," ").concat(s.node.attributes(U.get(0)),">").concat(U.html(),"</").concat(be.toLowerCase(),">"))}})(A,O);var z,Q=s.html.defaultTag(),H=null;A.length&&(z=s.opts.direction=="rtl"||b(A[0]).css("direction")=="rtl"?"margin-right":"margin-left");for(var P=0;P<A.length;P++)if(A[P].tagName!="TD"&&A[P].tagName!="TH"&&A[P].tagName!="LI"){var j=s.helpers.getPX(b(A[P]).css(z))||0;(A[P].style.marginLeft=null)===H&&(H=j);var K=0<H?"<".concat(O,' style="').concat(z,": ").concat(H,'px ">'):"<".concat(O,">"),ee="</".concat(O,">");for(j-=H;0<j/s.opts.indentMargin;)K+="</".concat(O,">"),ee+=ee,j-=s.opts.indentMargin;Q&&A[P].tagName.toLowerCase()==Q?b(A[P]).replaceWith("".concat(K,"<li").concat(s.node.attributes(A[P]),">").concat(b(A[P]).html(),"</li>").concat(ee)):b(A[P]).wrap("".concat(K,"<li></li>").concat(ee))}s.clean.lists()}function p(A){var O,z,Q=[];for(O=A.length-1;0<=O;O--)for(z=O-1;0<=z;z--){if(b(A[z]).find(A[O]).length||A[z]==A[O]){b(A[O]).addClass("fr-removed-block-".concat(O)),Q.push(O),A.splice(O,1);break}if(b(A[z]).contains(A[O])){b(A[z]).addClass("fr-removed-block-".concat(z)),Q.push(z),A.splice(z,1);break}}var H=[],P=!1;for(O=0;O<A.length;O++){var j=b(A[O]),K=A[O].parentNode,ee=j.attr("class");if(j.is(":first-child")&&(P=!0,b(K.parentNode).removeAttr("start")),j.before(ge(K.tagName)),K.parentNode.tagName=="LI"){if(j.is(":last-child")){var w=j.find("> ul, > ol").last();w.length&&w.wrap("<".concat(K.tagName,">"))}j.before(ge("LI")),j.after(B("LI"))}else if(K.parentNode.tagName=="OL")P||(j.before(ge("OL")),j.after(B("OL")));else if(K.parentNode.tagName=="UL")P||(j.before(ge("UL")),j.after(B("UL")));else{var xe="";ee&&(xe+=' class="'.concat(ee,'"'));var be=s.opts.direction=="rtl"||j.css("direction")=="rtl"?"margin-right":"margin-left";s.helpers.getPX(b(K).css(be))&&0<=(b(K).attr("style")||"").indexOf("".concat(be,":"))&&(xe+=' style="'.concat(be,":").concat(s.helpers.getPX(b(K).css(be)),'px;"')),s.html.defaultTag()&&j.find(s.html.blockTagsQuery()).length===0&&j.wrapInner("<".concat(s.html.defaultTag()).concat(xe,"></").concat(s.html.defaultTag(),">")),s.node.isEmpty(j.get(0),!0)||j.find(s.html.blockTagsQuery()).length!==0||(K.parentNode.tagName=="DIV"&&s.html.defaultTag()?(j.prepend(B(s.html.defaultTag())),j.append(ge(s.html.defaultTag()))):j.append("<br>")),j.append(B("LI")),j.prepend(ge("LI"))}j.after(B(K.tagName)),K.parentNode.tagName=="LI"&&(K=K.parentNode.parentNode),H.indexOf(K)<0&&H.push(K)}var re=function(){var ie=b(H[O]),D=ie.html(),U=s.helpers.getPX(ie.css("margin-left"))||0;D=(D=D.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,function(V,I){return 0<U?"<".concat(I,' style="margin-left:').concat(U,'px;">'):"<".concat(I,">")})).replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),ie.replaceWith(s.node.openTagString(ie.get(0))+D+s.node.closeTagString(ie.get(0)))};for(O=0;O<H.length;O++)re();return s.$el.find("li:empty").remove(),s.$el.find("ul:empty, ol:empty").remove(),s.clean.lists(),s.$el.find("ul:empty, ol:empty").remove(),s.html.wrap(),Q}function M(A,O){var z=b(document.createElement("li"));if(A.childNodes.length)for(var Q=A.childNodes[0].attributes,H=0;H<Q.length;H++){var P=Q[H];P.name==="style"&&(z[0].style.cssText+=P.value)}b(A).prepend(z),b(A).removeAttr("start");for(var j=s.node.contents(O)[0];j&&!s.node.isList(j);){var K=j.nextSibling;z.append(j),j=K}}function L(A){if(A=="indent"||A=="outdent"){var O=!1,z=s.selection.blocks(!1,!0),Q=[],H=z[0].previousSibling||z[0].parentElement;if(A=="outdent"){if(z[0].parentNode.tagName!="UL"&&H.parentNode.tagName!="UL"&&H.parentNode.tagName!="OL"&&H.parentNode.tagName!="LI")return;if(!z[0].previousSibling&&H.parentNode.style.listStyleType=="none")return void function(K){for(s.selection.save();0<K.childNodes.length;)K.parentNode.parentNode.append(K.childNodes[0]);s.clean.lists(),s.selection.restore()}(H)}else{if(z[0].parentElement.tagName!="UL"&&z[0].parentElement.tagName!="OL"&&z[0].parentElement.tagName!="LI")return;if(s.node.isBlock(z[0])&&z[0].tagName!=="LI"&&0<b(z[0]).parentsUntil(s.$el,"LI").length&&(z[0]=z[0].parentElement,H=z[0].parentElement),!z[0].previousSibling||z[0].previousSibling.tagName!="LI"){if(H&&["UL","OL"].includes(H.tagName))return void function(K){s.selection.save();var ee=K.tagName=="OL"?document.createElement("ol"):document.createElement("ul");for(b(ee).css("list-style-type",b(K).css("list-style-type"));0<K.childNodes.length;)ee.append(K.childNodes[0]);var w=b(document.createElement("li"));w.css("list-style-type","none"),w.append(ee),K.append(w.get(0)),s.clean.lists(),s.selection.restore()}(H);O=!0}}for(var P=0;P<z.length;P++)z[P].tagName=="LI"?(O=!0,Q.push(z[P])):z[P].parentNode.tagName=="LI"&&Q.indexOf(z[P].parentNode)<0&&(O=!0,Q.push(z[P].parentNode));O&&(A=="indent"?function(K){s.selection.save();for(var ee=!1,w=0;w<K.length;w++){var xe=K[w].previousSibling;if(xe&&xe.tagName=="LI"&&!ee){var be=b(K[w]).find("> ul, > ol").last().get(0);if(be)M(be,K[w]),b(xe).append(b(be)),b(K[w]).remove();else{var re=b(xe).find("> ul, > ol").last().get(0);if(re)b(re).append(b(K[w]));else{var se=b("<".concat(K[w].parentNode.tagName,">"));b(xe).append(se),se.append(b(K[w]))}}}else if(!xe||xe.tagName!="OL"&&xe.tagName!="UL"){var ie=K[w].parentNode;if(ee=!0,ie.tagName=="UL"||ie.tagName=="OL"){var D=b(K[w]).find("> ol, > ul"),U=K[w].previousSibling==null;if(D.length){var V=D.first().get(0);M(V,K[w]),U?b(ie).prepend(b(V)):b(ie).append(b(V)),b(K[w]).remove()}else b(K[w]).wrap("<".concat(ie.tagName,">"));U&&0<b(ie).find("> li").length&&b(ie).attr("start","2")}}else{var I=b(K[w]).find("> ol, > ul").first().get(0);I?(M(I,K[w]),b(xe).append(b(I).children()),b(K[w]).remove(),b(I).remove()):b(xe).append(b(K[w]))}}s.clean.lists(),s.selection.restore()}(Q):function(K){s.selection.save();var ee=[];do{ee=p(K),K=[];for(var w=0;w<ee.length;w++){var xe=s.$el.find(".fr-removed-block-".concat(ee[w])).first().get(0);b(xe).removeClass("fr-removed-block-".concat(ee[w])),b(xe).attr("class")==""&&b(xe).removeAttr("class"),K.push(xe)}}while(0<ee.length);s.selection.restore()}(Q))}}return{_init:function(){s.events.on("commands.after",L),s.events.on("keydown",function(O){if(O.which==x.KEYCODE.TAB||(O.ctrlKey||O.metaKey)&&O.key==="]"){if(!O.shiftKey&&s.$tb.find('[data-cmd="indent"]').hasClass("fr-disabled"))return O.preventDefault(),O.stopPropagation(),!1;for(var z=s.selection.blocks(),Q=[],H=0;H<z.length;H++)z[H].tagName=="LI"?Q.push(z[H]):z[H].parentNode.tagName=="LI"&&Q.push(z[H].parentNode);if(1<=Q.length||Q.length&&(s.selection.info(Q[0]).atStart||s.node.isEmpty(Q[0])))return O.preventDefault(),O.stopPropagation(),O.shiftKey?s.commands.outdent():s.commands.indent(),!1}},!0)},format:function(O,z){var Q,H,P=1<(H=s.selection.blocks(!0)).length&&H[H.length-1],j=s.selection.ranges();if(P&&j.length&&s.node.isEmpty(P)&&!j[0].endOffset&&j[0].setEndAfter(P.firstChild,1),s.html.syncInputs(),s.selection.save(),s.browser.safari&&s.helpers.getSafariVersion()<17){var K=s.selection.ranges();if(j&&j[0].endContainer&&K&&K[0].endContainer&&!j[0].endContainer.isSameNode(K[0].endContainer)&&j[0].endContainer.previousSibling&&j[0].endContainer.previousSibling.isSameNode(K[0].endContainer)){var ee=b(K[0].endContainer).find('.fr-marker[data-type="false"]');b(j[0].endContainer).append(ee[0])}}for(s.html.wrap(!0,!0,!0,!0),s.selection.restore(),H=s.selection.blocks(!0),Q=0;Q<H.length;Q++)H[Q].tagName!="LI"&&H[Q].parentNode.tagName=="LI"&&(H[Q]=H[Q].parentNode);if(s.selection.save(),function(xe,be){for(var re=!0,se=0;se<xe.length;se++){if(xe[se].tagName!="LI")return!1;xe[se].parentNode.tagName!=be&&(re=!1)}return re}(H,O)?z||p(H):a(H,O),s.html.unwrap(),s.selection.restore(),z=z||"default"){for(H=s.selection.blocks(),Q=0;Q<H.length;Q++)H[Q].tagName!="LI"&&H[Q].parentNode.tagName=="LI"&&(H[Q]=H[Q].parentNode);for(Q=0;Q<H.length;Q++)H[Q].tagName=="LI"&&(b(H[Q].parentNode).css("list-style-type",z==="default"?"":z),(b(H[Q].parentNode).attr("style")||"").length===0&&b(H[Q].parentNode).removeAttr("style"))}},refresh:function(O,z){var Q=b(s.selection.element());if(Q.get(0)!=s.el){var H=Q.get(0);(H=H.tagName!="LI"&&H.firstElementChild&&H.firstElementChild.tagName!="LI"?Q.parents("li").get(0):H.tagName=="LI"||H.firstElementChild?H.firstElementChild&&H.firstElementChild.tagName=="LI"?Q.get(0).firstChild:Q.get(0):Q.parents("li").get(0))&&H.parentNode.tagName==z&&s.el.contains(H.parentNode)&&O.addClass("fr-active")}}}},x.DefineIcon("formatOLSimple",{NAME:"list-ol",SVG_KEY:"orderedList"}),x.RegisterCommand("formatOLSimple",{title:"Ordered List",type:"button",options:{default:"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(s){this.lists.refresh(s,"OL")},callback:function(s,b){this.lists.format("OL",b)},plugin:"lists"}),x.RegisterCommand("formatUL",{title:"Unordered List",type:"button",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(s){this.lists.refresh(s,"UL")},callback:function(s,b){this.lists.format("UL",b)},plugin:"lists"}),x.RegisterCommand("formatOL",{title:"Ordered List",hasOptions:function(){return this.opts.listAdvancedTypes},options:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},refresh:function(s){this.lists.refresh(s,"OL")},callback:function(s,b){this.lists.format("OL",b)},plugin:"lists"}),x.DefineIcon("formatUL",{NAME:"list-ul",SVG_KEY:"unorderedList"}),x.DefineIcon("formatOL",{NAME:"list-ol",SVG_KEY:"orderedList"}),Object.assign(x.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1,paragraphDefaultSelection:"Paragraph Format"}),x.PLUGINS.paragraphFormat=function(s){var b=s.$;function B(ge,a){var p=s.html.defaultTag();if(a&&a.toLowerCase()!=p)if(0<ge.find("ul, ol").length){var M=b("<"+a+">");ge.prepend(M);for(var L=s.node.contents(ge.get(0))[0];L&&["UL","OL"].indexOf(L.tagName)<0;){var A=L.nextSibling;M.append(L),L=A}}else ge.html("<"+a+">"+ge.html()+"</"+a+">")}return{apply:function(a){a=="N"&&(a=s.html.defaultTag()),s.selection.save(),s.html.wrap(!0,!0,!s.opts.paragraphFormat.BLOCKQUOTE,!0,!0),s.selection.restore();var p,M,L,A,O,z,Q,H,P=s.selection.blocks();s.selection.save(),s.$el.find("pre").attr("skip",!0);for(var j=0;j<P.length;j++)if(P[j].tagName!=a&&!s.node.isList(P[j])){var K=b(P[j]);if(P[j].tagName=="LI")B(K,a);else if(P[j].parentNode.tagName=="LI"&&P[j])z=K,Q=a,H=s.html.defaultTag(),Q&&Q.toLowerCase()!=H||(Q='div class="fr-temp-div"'),z.replaceWith(b("<"+Q+">").html(z.html()));else if(0<=["TD","TH"].indexOf(P[j].parentNode.tagName))L=K,A=a,O=s.html.defaultTag(),A||(A='div class="fr-temp-div"'+(s.node.isEmpty(L.get(0),!0)?' data-empty="true"':"")),A.toLowerCase()==O?(s.node.isEmpty(L.get(0),!0)||L.append("<br/>"),L.replaceWith(L.html())):L.replaceWith(b("<"+A+">").html(L.html()));else{if(a==="PRE"&&K[0].nextSibling===null){var ee=b("<br>");K[0].after(ee[0])}p=K,(M=a)||(M='div class="fr-temp-div"'+(s.node.isEmpty(p.get(0),!0)?' data-empty="true"':"")),(M=="H1"||M=="H2"||M=="H3"||M=="H4"||M=="H5")&&-1<s.node.attributes(p.get(0)).indexOf("font-size:")?p.replaceWith(b("<"+M+" "+s.node.attributes(p.get(0)).replace(/font-size:[0-9]+px;?/,"")+">").html(p.html()).removeAttr("data-empty")):p.replaceWith(b("<"+M+" "+s.node.attributes(p.get(0))+">").html(p.html()).removeAttr("data-empty"))}}s.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){b(this).prev().append("<br>"+b(this).html()),b(this).remove()}),s.$el.find("pre").removeAttr("skip"),s.html.unwrap(),s.selection.restore()},refreshOnShow:function(a,p){var M=s.selection.blocks();if(M.length){var L=M[0],A="N",O=s.html.defaultTag();L.tagName.toLowerCase()!=O&&L!=s.el&&(A=L.tagName),p.find('.fr-command[data-param1="'+A+'"]').addClass("fr-active").attr("aria-selected",!0)}else p.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected",!0)},refresh:function(a){if(s.opts.paragraphFormatSelection){var p=s.selection.blocks();if(p.length){var M=p[0],L="N",A=s.html.defaultTag();M.tagName.toLowerCase()!=A&&M!=s.el&&(L=M.tagName),0<=["LI","TD","TH"].indexOf(L)&&(L="N"),a.find(">span").text(s.language.translate(s.opts.paragraphFormat[L]))}else a.find(">span").text(s.language.translate(s.opts.paragraphFormat.N))}}}},x.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(s){return s.opts.paragraphFormatSelection},defaultSelection:function(s){return s.language.translate(s.opts.paragraphDefaultSelection)},displaySelectionWidth:80,html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.paragraphFormat;for(var B in b)b.hasOwnProperty(B)&&(this.shortcuts.get("paragraphFormat."+B),s+='<li role="presentation"><'+(B=="N"?this.html.defaultTag()||"DIV":B)+' style="padding: 0 !important; margin: 0 !important; border: 0 !important; background-color: transparent !important; '+(B=="PRE"||B=="N"?"font-size: 15px":"font-weight: bold !important; ")+(B=="H1"?"font-size: 2em !important; ":"")+(B=="H2"?"font-size: 1.5em !important; ":"")+(B=="H3"?"font-size: 1.17em !important; ":"")+(B=="H4"?"font-size: 15px !important;":"")+'"  role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+B+'" title="'+this.language.translate(b[B])+'">'+this.language.translate(b[B])+"</a></"+(B=="N"?this.html.defaultTag()||"DIV":B)+"></li>");return s+="</ul>"},title:"Paragraph Format",callback:function(s,b){this.paragraphFormat.apply(b)},refresh:function(s){this.paragraphFormat.refresh(s)},refreshOnShow:function(s,b){this.paragraphFormat.refreshOnShow(s,b)},plugin:"paragraphFormat"}),x.DefineIcon("paragraphFormat",{NAME:"paragraph",SVG_KEY:"paragraphFormat"}),Object.assign(x.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),x.PLUGINS.paragraphStyle=function(s){var b=s.$;return{_init:function(){},apply:function(ge,a,p){a===void 0&&(a=s.opts.paragraphStyles),p===void 0&&(p=s.opts.paragraphMultipleStyles);var M="";p||((M=Object.keys(a)).splice(M.indexOf(ge),1),M=M.join(" ")),s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore();var L=s.selection.blocks();s.selection.save();for(var A=b(L[0]).hasClass(ge),O=0;O<L.length;O++)b(L[O]).removeClass(M).toggleClass(ge,!A),b(L[O]).hasClass("fr-temp-div")&&b(L[O]).removeClass("fr-temp-div"),b(L[O]).attr("class")===""&&b(L[O]).removeAttr("class");if(L.length===1&&ge==="fr-text-bordered"&&L[0].nextSibling===null){var z=b("<br>");L[0].after(z[0])}s.html.unwrap(),s.selection.restore()},refreshOnShow:function(ge,a){var p=s.selection.blocks();if(p.length){var M=b(p[0]);a.find(".fr-command").each(function(){var L=b(this).data("param1"),A=M.hasClass(L);b(this).toggleClass("fr-active",A).attr("aria-selected",A)})}}}},x.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.paragraphStyles;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command '.concat(B,'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="').concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},title:"Paragraph Style",callback:function(s,b){this.paragraphStyle.apply(b)},refreshOnShow:function(s,b){this.paragraphStyle.refreshOnShow(s,b)},plugin:"paragraphStyle"}),x.DefineIcon("paragraphStyle",{NAME:"magic",SVG_KEY:"paragraphStyle"}),Object.assign(x.DEFAULTS,{html2pdf:window.html2pdf}),x.PLUGINS.print=function(s){return{run:function(){(function(ge){var a=s.html.get(),p=null;s.shared.print_iframe?p=s.shared.print_iframe:((p=document.createElement("iframe")).name="fr-print",p.style.position="fixed",p.style.top="0",p.style.left="-9999px",p.style.height="100%",p.style.width="0",p.style.overflow="hidden",p.style["z-index"]="2147483647",p.style.tabIndex="-1",s.events.on("shared.destroy",function(){p.remove()}),s.shared.print_iframe=p);try{document.body.removeChild(p)}catch{}document.body.appendChild(p);var M=function(){ge(),p.removeEventListener("load",M)};p.addEventListener("load",M);var L=p.contentWindow;L.document.open(),L.document.write("<!DOCTYPE html><html "+(s.opts.documentReady?'style="margin: 0; padding: 0;"':"")+"><head><title>"+document.title+"</title>"),Array.prototype.forEach.call(document.querySelectorAll("style"),function(O){O=O.cloneNode(!0),L.document.write(O.outerHTML)});var A=document.querySelectorAll("link[rel=stylesheet]");Array.prototype.forEach.call(A,function(O){var z=document.createElement("link");z.rel=O.rel,z.href=O.href,z.media="print",z.type="text/css",z.media="all",L.document.write(z.outerHTML)}),L.document.write('</head><body style="height:auto;text-align: '+(s.opts.direction=="rtl"?"right":"left")+"; direction: "+s.opts.direction+"; "+(s.opts.documentReady?" padding: 2cm; width: 17cm; margin: 0;":"")+'"><div class="fr-view">'),L.document.write(a),L.document.write("</div></body></html>"),L.document.close()})(function(){setTimeout(function(){s.events.disableBlur(),window.frames["fr-print"].focus(),window.frames["fr-print"].print(),s.$win.get(0).focus(),s.events.disableBlur(),s.events.focus()},0)})},toPDF:function(){s.opts.html2pdf&&(s.$el.css("text-align","left"),s.opts.html2pdf().set({margin:[10,20],html2canvas:{useCORS:!0}}).from(s.el).save(),setTimeout(function(){s.$el.css("text-align","")},100))}}},x.DefineIcon("print",{NAME:"print",SVG_KEY:"print"}),x.RegisterCommand("print",{title:"Print",undo:!1,focus:!1,plugin:"print",callback:function(){this.print.run()}}),x.DefineIcon("getPDF",{NAME:"file-pdf-o",FA5NAME:"file-pdf",SVG_KEY:"pdfExport"}),x.RegisterCommand("getPDF",{title:"Download PDF",type:"button",focus:!1,undo:!1,callback:function(){this.print.toPDF()}}),Object.assign(x.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"],quickInsertEnabled:!0}),x.QUICK_INSERT_BUTTONS={},x.DefineIcon("quickInsert",{SVG_KEY:"add",template:"svg"}),x.RegisterQuickInsertButton=function(s,b){x.QUICK_INSERT_BUTTONS[s]=Object.assign({undo:!0},b)},x.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var s=this,b=s.$;s.shared.$qi_image_input||(s.shared.$qi_image_input=b(document.createElement("input")).attr("accept","image/"+s.opts.imageAllowedTypes.join(", image/").toLowerCase()).attr("name","quickInsertImage".concat(this.id)).attr("style","display: none;").attr("type","file"),b("body").first().append(s.shared.$qi_image_input),s.events.$on(s.shared.$qi_image_input,"change",function(){var B=b(this).data("inst");this.files&&(B.quickInsert.hide(),B.image.upload(this.files)),b(this).val("")},!0)),s.$qi_image_input=s.shared.$qi_image_input,s.helpers.isMobile()&&s.selection.save(),s.events.disableBlur(),s.$qi_image_input.data("inst",s)[0].click()}}),x.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var s=prompt(this.language.translate("Paste the URL of the video you want to insert."));s&&this.video.insertByURL(s)}}),x.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var s=prompt(this.language.translate("Paste the URL of any web content you want to insert."));s&&this.embedly.add(s)}}),x.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),x.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),x.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),x.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),x.PLUGINS.quickInsert=function(s){var b,B,ge=s.$,a=!1;function p(H){var P,j,K;if(P=H.offset().top-s.$box.offset().top,j=(s.$iframe&&s.$iframe.offset().left||0)+H.offset().left-H.position().left-4<b.outerWidth()?H.offset().left+b.outerWidth():0-b.outerWidth(),s.opts.enter!=x.ENTER_BR?K=(b.outerHeight()-H.outerHeight())/2:(ge(document.createElement("span")).html(x.INVISIBLE_SPACE).insertAfter(H),K=(b.outerHeight()-H.next().outerHeight())/2,H.next().remove()),s.opts.iframe){var ee=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top"));P+=s.$iframe.offset().top+ee}b.hasClass("fr-on")&&0<=P&&B.css("top",P-K),0<=P&&P-Math.abs(K)<=s.$box.outerHeight()-H.outerHeight()?(b.hasClass("fr-hidden")&&(b.hasClass("fr-on")&&O(),b.removeClass("fr-hidden")),b.css("top",P-K)):b.hasClass("fr-visible")&&!s.opts.toolbarInline&&(b.addClass("fr-hidden"),z()),b.css("left",j)}function M(H){s.markdown&&s.markdown.isEnabled()||(b||function(){s.shared.$quick_insert||(s.shared.$quick_insert=ge(document.createElement("div")).attr("class","fr-quick-insert").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Quick Insert"),'">').concat(s.icon.create("quickInsert"),"</a>"))),b=s.shared.$quick_insert,s.tooltip.bind(s.$box,".fr-quick-insert > a.fr-floating-btn"),s.events.on("destroy",function(){ge("body").first().append(b.removeClass("fr-on")),B&&(z(),ge("body").first().append(B.css("left",-9999).css("top",-9999)))},!0),s.events.on("shared.destroy",function(){b.html("").removeData().remove(),b=null,B&&(B.html("").removeData().remove(),B=null)},!0),s.events.on("commands.before",A),s.events.on("commands.after",function(){s.popups.areVisible()||L()}),s.events.bindClick(s.$box,".fr-quick-insert > a",O),s.events.bindClick(s.$box,".fr-qi-helper > a.fr-btn",function(j){var K=ge(j.currentTarget).data("cmd");if(s.events.trigger("quickInsert.commands.before",[K])===!1)return!1;x.QUICK_INSERT_BUTTONS[K].callback.apply(s,[j.currentTarget]),x.QUICK_INSERT_BUTTONS[K].undo&&s.undo.saveStep(),s.events.trigger("quickInsert.commands.after",[K]),s.quickInsert.hide()}),s.events.$on(s.$wp,"scroll",Q),s.events.$on(s.$tb,"transitionend",".fr-more-toolbar",Q)}(),b.hasClass("fr-on")&&z(),s.$box.append(b),p(H),b.data("tag",H),b.addClass("fr-visible"))}function L(){if(s.core.hasFocus()){var H=s.selection.element();if(s.opts.enter==x.ENTER_BR||s.node.isBlock(H)||(H=s.node.blockParent(H)),s.opts.enter==x.ENTER_BR&&!s.node.isBlock(H)){var P=s.node.deepestParent(H);P&&(H=P)}var j=function(){return s.opts.enter!=x.ENTER_BR&&s.node.isEmpty(H)&&0<=s.opts.quickInsertTags.indexOf(H.tagName.toLowerCase())},K=function(){return s.opts.enter==x.ENTER_BR&&(H.tagName=="BR"&&(!H.previousSibling||H.previousSibling.tagName=="BR"||s.node.isBlock(H.previousSibling))||s.node.isEmpty(H)&&(!H.previousSibling||H.previousSibling.tagName=="BR"||s.node.isBlock(H.previousSibling))&&(!H.nextSibling||H.nextSibling.tagName=="BR"||s.node.isBlock(H.nextSibling)))};H&&(j()||K())?b&&b.data("tag").is(ge(H))&&b.hasClass("fr-on")?z():s.selection.isCollapsed()&&M(ge(H)):A()}}function A(){b&&!a&&(b.hasClass("fr-on")&&z(),b.removeClass("fr-visible fr-on"),b.css("left",-9999).css("top",-9999))}function O(H){if(H&&H.preventDefault(),b.hasClass("fr-on")&&!b.hasClass("fr-hidden"))z();else{if(!s.shared.$qi_helper){for(var P=s.opts.quickInsertButtons,j='<div class="fr-qi-helper">',K=0,ee=0;ee<P.length;ee++){var w=x.QUICK_INSERT_BUTTONS[P[ee]];w&&(!w.requiredPlugin||x.PLUGINS[w.requiredPlugin]&&0<=s.opts.pluginsEnabled.indexOf(w.requiredPlugin))&&(j+='<a class="fr-btn fr-floating-btn" role="button" title="'.concat(s.language.translate(w.title),'" tabIndex="-1" data-cmd="').concat(P[ee],'" style="transition-delay: ').concat(.025*K++,'s;">').concat(s.icon.create(w.icon),"</a>"))}j+="</div>",s.shared.$qi_helper=ge(j),s.tooltip.bind(s.shared.$qi_helper,"a.fr-btn"),s.events.$on(s.shared.$qi_helper,"mousedown",function(xe){xe.preventDefault()},!0)}B=s.shared.$qi_helper,s.$box.append(B),a=!0,setTimeout(function(){a=!1,B.css("top",parseFloat(b.css("top"))),B.css("left",parseFloat(b.css("left"))+b.outerWidth()),B.find("a").addClass("fr-size-1"),b.addClass("fr-on")},10)}}function z(){var H=s.$box.find(".fr-qi-helper");if(H.length){for(var P=H.find("a"),j=0;j<P.length;j++)(function(K){setTimeout(function(){H.children().eq(P.length-1-K).removeClass("fr-size-1")},25*K)})(j);setTimeout(function(){H.css("left",-9999),b&&!b.hasClass("fr-hidden")&&b.removeClass("fr-on")},25*j)}}function Q(){b.hasClass("fr-visible")&&p(b.data("tag"))}return{_init:function(){if(!s.$wp||!s.opts.quickInsertEnabled)return!1;s.popups.onShow("image.edit",A),s.events.on("mouseup",L),s.helpers.isMobile()&&s.events.$on(ge(s.o_doc),"selectionchange",L),s.events.on("blur",A),s.events.on("keyup",L),s.events.on("keydown",function(){setTimeout(function(){L()},0)})},hide:A}},x.PLUGINS.quote=function(s){var b=s.$;function B(ge){for(;ge.parentNode&&ge.parentNode!=s.el;)ge=ge.parentNode;return ge}return{apply:function(a){s.selection.save(),s.html.wrap(!0,!0,!0,!0),s.selection.restore(),a=="increase"?function(){var M,L=s.selection.blocks();for(M=0;M<L.length;M++)L[M]=B(L[M]);s.selection.save();var A=b(document.createElement("blockquote"));for(A.insertBefore(L[0]),M=0;M<L.length;M++)A.append(L[M]);s.opts.trackChangesEnabled&&s.track_changes.addQuote(A),s.html.unwrap(),s.selection.restore()}():a=="decrease"&&function(){var M,L=s.opts.trackChangesEnabled,A=s.selection.blocks();for(M=0;M<A.length;M++)A[M].tagName!="BLOCKQUOTE"&&(A[M]=L&&b(A[M]).parentsUntil(s.$el,"[data-track-id^=pending]").get(0)||b(A[M]).parentsUntil(s.$el,"BLOCKQUOTE").get(0));for(s.selection.save(),M=0;M<A.length;M++)A[M]&&(L?s.track_changes.removeQuote(b(A[M]),M):b(A[M]).replaceWith(A[M].innerHTML));s.html.unwrap(),s.selection.restore()}()}}},x.RegisterShortcut(x.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),x.RegisterShortcut(x.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),x.RegisterCommand("quote",{title:"Quote",type:"dropdown",html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b={increase:"Increase",decrease:"Decrease"};for(var B in b)if(b.hasOwnProperty(B)){var ge=this.shortcuts.get("quote.".concat(B));s+='<li role="presentation"><a class="fr-command fr-active '.concat(B,'" tabIndex="-1" role="option" data-cmd="quote" data-param1="').concat(B,'" title="').concat(b[B],'">').concat(this.language.translate(b[B])).concat(ge?'<span class="fr-shortcut">'.concat(ge,"</span>"):"","</a></li>")}return s+="</ul>"},callback:function(s,b){this.quote.apply(b)},plugin:"quote"}),x.DefineIcon("quote",{NAME:"quote-left",SVG_KEY:"blockquote"}),Object.assign(x.DEFAULTS,{saveInterval:1e4,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),x.PLUGINS.save=function(s){var b=s.$,B=null,ge=null,a=!1,p=1,M=2,L={};function A(Q,H){s.events.trigger("save.error",[{code:Q,message:L[Q]},H])}function O(Q){Q===void 0&&(Q=s.html.get());var H=Q,P=s.events.trigger("save.before",[Q]);if(P===!1)return!1;if(typeof P=="string"&&(Q=P),s.opts.saveURL){var j={};for(var K in s.opts.saveParams)if(s.opts.saveParams.hasOwnProperty(K)){var ee=s.opts.saveParams[K];j[K]=typeof ee=="function"?ee.call(this):ee}var w={};w[s.opts.saveParam]=Q,b(this).ajax({method:s.opts.saveMethod,url:s.opts.saveURL,data:Object.assign(w,j),crossDomain:s.opts.requestWithCORS,withCredentials:s.opts.requestWithCredentials,headers:s.opts.requestHeaders,done:function(xe,be,re){ge=H,s.events.trigger("save.after",[xe])},fail:function(xe){A(M,xe.response||xe.responseText)}})}else A(p)}function z(){clearTimeout(B),B=setTimeout(function(){var Q=s.html.get();(ge!=Q||a)&&(a=!1,O(ge=Q))},0)}return L[p]="Missing saveURL option.",L[M]="Something went wrong during save.",{_init:function(){if(s.opts.letteringClass)for(var H=s.opts.letteringClass,P=s.$el.find(".".concat(H)).length,j=0;j<P;j++)s.$el.find(".".concat(H))[j].innerHTML=s.$el.find(".".concat(H))[j].innerText.replace(/([\w'-]+|[?.",])/g,"<span class = 'fr-word-select'>$1</span>");s.opts.saveInterval&&(ge=s.html.get(),s.events.on("contentChanged",function(){setTimeout(z,s.opts.saveInterval)}),s.events.on("keydown destroy",function(){clearTimeout(B)}))},save:O,reset:function(){z(),a=!1},force:function(){a=!0}}},x.DefineIcon("save",{NAME:"floppy-o",FA5NAME:"save"}),x.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"}),Object.assign(x.DEFAULTS,{specialCharactersSets:[{title:"Latin",char:"&iexcl;",list:[{char:"&iexcl;",desc:"INVERTED EXCLAMATION MARK"},{char:"&cent;",desc:"CENT SIGN"},{char:"&pound;",desc:"POUND SIGN"},{char:"&curren;",desc:"CURRENCY SIGN"},{char:"&yen;",desc:"YEN SIGN"},{char:"&brvbar;",desc:"BROKEN BAR"},{char:"&sect;",desc:"SECTION SIGN"},{char:"&uml;",desc:"DIAERESIS"},{char:"&copy;",desc:"COPYRIGHT SIGN"},{char:"&trade;",desc:"TRADEMARK SIGN"},{char:"&ordf;",desc:"FEMININE ORDINAL INDICATOR"},{char:"&laquo;",desc:"LEFT-POINTING DOUBLE ANGLE QUOTATION MARK"},{char:"&not;",desc:"NOT SIGN"},{char:"&reg;",desc:"REGISTERED SIGN"},{char:"&macr;",desc:"MACRON"},{char:"&deg;",desc:"DEGREE SIGN"},{char:"&plusmn;",desc:"PLUS-MINUS SIGN"},{char:"&sup2;",desc:"SUPERSCRIPT TWO"},{char:"&sup3;",desc:"SUPERSCRIPT THREE"},{char:"&acute;",desc:"ACUTE ACCENT"},{char:"&micro;",desc:"MICRO SIGN"},{char:"&para;",desc:"PILCROW SIGN"},{char:"&middot;",desc:"MIDDLE DOT"},{char:"&cedil;",desc:"CEDILLA"},{char:"&sup1;",desc:"SUPERSCRIPT ONE"},{char:"&ordm;",desc:"MASCULINE ORDINAL INDICATOR"},{char:"&raquo;",desc:"RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK"},{char:"&frac14;",desc:"VULGAR FRACTION ONE QUARTER"},{char:"&frac12;",desc:"VULGAR FRACTION ONE HALF"},{char:"&frac34;",desc:"VULGAR FRACTION THREE QUARTERS"},{char:"&iquest;",desc:"INVERTED QUESTION MARK"},{char:"&Agrave;",desc:"LATIN CAPITAL LETTER A WITH GRAVE"},{char:"&Aacute;",desc:"LATIN CAPITAL LETTER A WITH ACUTE"},{char:"&Acirc;",desc:"LATIN CAPITAL LETTER A WITH CIRCUMFLEX"},{char:"&Atilde;",desc:"LATIN CAPITAL LETTER A WITH TILDE"},{char:"&Auml;",desc:"LATIN CAPITAL LETTER A WITH DIAERESIS "},{char:"&Aring;",desc:"LATIN CAPITAL LETTER A WITH RING ABOVE"},{char:"&AElig;",desc:"LATIN CAPITAL LETTER AE"},{char:"&Ccedil;",desc:"LATIN CAPITAL LETTER C WITH CEDILLA"},{char:"&Egrave;",desc:"LATIN CAPITAL LETTER E WITH GRAVE"},{char:"&Eacute;",desc:"LATIN CAPITAL LETTER E WITH ACUTE"},{char:"&Ecirc;",desc:"LATIN CAPITAL LETTER E WITH CIRCUMFLEX"},{char:"&Euml;",desc:"LATIN CAPITAL LETTER E WITH DIAERESIS"},{char:"&Igrave;",desc:"LATIN CAPITAL LETTER I WITH GRAVE"},{char:"&Iacute;",desc:"LATIN CAPITAL LETTER I WITH ACUTE"},{char:"&Icirc;",desc:"LATIN CAPITAL LETTER I WITH CIRCUMFLEX"},{char:"&Iuml;",desc:"LATIN CAPITAL LETTER I WITH DIAERESIS"},{char:"&ETH;",desc:"LATIN CAPITAL LETTER ETH"},{char:"&Ntilde;",desc:"LATIN CAPITAL LETTER N WITH TILDE"},{char:"&Ograve;",desc:"LATIN CAPITAL LETTER O WITH GRAVE"},{char:"&Oacute;",desc:"LATIN CAPITAL LETTER O WITH ACUTE"},{char:"&Ocirc;",desc:"LATIN CAPITAL LETTER O WITH CIRCUMFLEX"},{char:"&Otilde;",desc:"LATIN CAPITAL LETTER O WITH TILDE"},{char:"&Ouml;",desc:"LATIN CAPITAL LETTER O WITH DIAERESIS"},{char:"&times;",desc:"MULTIPLICATION SIGN"},{char:"&Oslash;",desc:"LATIN CAPITAL LETTER O WITH STROKE"},{char:"&Ugrave;",desc:"LATIN CAPITAL LETTER U WITH GRAVE"},{char:"&Uacute;",desc:"LATIN CAPITAL LETTER U WITH ACUTE"},{char:"&Ucirc;",desc:"LATIN CAPITAL LETTER U WITH CIRCUMFLEX"},{char:"&Uuml;",desc:"LATIN CAPITAL LETTER U WITH DIAERESIS"},{char:"&Yacute;",desc:"LATIN CAPITAL LETTER Y WITH ACUTE"},{char:"&THORN;",desc:"LATIN CAPITAL LETTER THORN"},{char:"&szlig;",desc:"LATIN SMALL LETTER SHARP S"},{char:"&agrave;",desc:"LATIN SMALL LETTER A WITH GRAVE"},{char:"&aacute;",desc:"LATIN SMALL LETTER A WITH ACUTE "},{char:"&acirc;",desc:"LATIN SMALL LETTER A WITH CIRCUMFLEX"},{char:"&atilde;",desc:"LATIN SMALL LETTER A WITH TILDE"},{char:"&auml;",desc:"LATIN SMALL LETTER A WITH DIAERESIS"},{char:"&aring;",desc:"LATIN SMALL LETTER A WITH RING ABOVE"},{char:"&aelig;",desc:"LATIN SMALL LETTER AE"},{char:"&ccedil;",desc:"LATIN SMALL LETTER C WITH CEDILLA"},{char:"&egrave;",desc:"LATIN SMALL LETTER E WITH GRAVE"},{char:"&eacute;",desc:"LATIN SMALL LETTER E WITH ACUTE"},{char:"&ecirc;",desc:"LATIN SMALL LETTER E WITH CIRCUMFLEX"},{char:"&euml;",desc:"LATIN SMALL LETTER E WITH DIAERESIS"},{char:"&igrave;",desc:"LATIN SMALL LETTER I WITH GRAVE"},{char:"&iacute;",desc:"LATIN SMALL LETTER I WITH ACUTE"},{char:"&icirc;",desc:"LATIN SMALL LETTER I WITH CIRCUMFLEX"},{char:"&iuml;",desc:"LATIN SMALL LETTER I WITH DIAERESIS"},{char:"&eth;",desc:"LATIN SMALL LETTER ETH"},{char:"&ntilde;",desc:"LATIN SMALL LETTER N WITH TILDE"},{char:"&ograve;",desc:"LATIN SMALL LETTER O WITH GRAVE"},{char:"&oacute;",desc:"LATIN SMALL LETTER O WITH ACUTE"},{char:"&ocirc;",desc:"LATIN SMALL LETTER O WITH CIRCUMFLEX"},{char:"&otilde;",desc:"LATIN SMALL LETTER O WITH TILDE"},{char:"&ouml;",desc:"LATIN SMALL LETTER O WITH DIAERESIS"},{char:"&divide;",desc:"DIVISION SIGN"},{char:"&oslash;",desc:"LATIN SMALL LETTER O WITH STROKE"},{char:"&ugrave;",desc:"LATIN SMALL LETTER U WITH GRAVE"},{char:"&uacute;",desc:"LATIN SMALL LETTER U WITH ACUTE"},{char:"&ucirc;",desc:"LATIN SMALL LETTER U WITH CIRCUMFLEX"},{char:"&uuml;",desc:"LATIN SMALL LETTER U WITH DIAERESIS"},{char:"&yacute;",desc:"LATIN SMALL LETTER Y WITH ACUTE"},{char:"&thorn;",desc:"LATIN SMALL LETTER THORN"},{char:"&yuml;",desc:"LATIN SMALL LETTER Y WITH DIAERESIS"}]},{title:"Greek",char:"&Alpha;",list:[{char:"&Alpha;",desc:"GREEK CAPITAL LETTER ALPHA"},{char:"&Beta;",desc:"GREEK CAPITAL LETTER BETA"},{char:"&Gamma;",desc:"GREEK CAPITAL LETTER GAMMA"},{char:"&Delta;",desc:"GREEK CAPITAL LETTER DELTA"},{char:"&Epsilon;",desc:"GREEK CAPITAL LETTER EPSILON"},{char:"&Zeta;",desc:"GREEK CAPITAL LETTER ZETA"},{char:"&Eta;",desc:"GREEK CAPITAL LETTER ETA"},{char:"&Theta;",desc:"GREEK CAPITAL LETTER THETA"},{char:"&Iota;",desc:"GREEK CAPITAL LETTER IOTA"},{char:"&Kappa;",desc:"GREEK CAPITAL LETTER KAPPA"},{char:"&Lambda;",desc:"GREEK CAPITAL LETTER LAMBDA"},{char:"&Mu;",desc:"GREEK CAPITAL LETTER MU"},{char:"&Nu;",desc:"GREEK CAPITAL LETTER NU"},{char:"&Xi;",desc:"GREEK CAPITAL LETTER XI"},{char:"&Omicron;",desc:"GREEK CAPITAL LETTER OMICRON"},{char:"&Pi;",desc:"GREEK CAPITAL LETTER PI"},{char:"&Rho;",desc:"GREEK CAPITAL LETTER RHO"},{char:"&Sigma;",desc:"GREEK CAPITAL LETTER SIGMA"},{char:"&Tau;",desc:"GREEK CAPITAL LETTER TAU"},{char:"&Upsilon;",desc:"GREEK CAPITAL LETTER UPSILON"},{char:"&Phi;",desc:"GREEK CAPITAL LETTER PHI"},{char:"&Chi;",desc:"GREEK CAPITAL LETTER CHI"},{char:"&Psi;",desc:"GREEK CAPITAL LETTER PSI"},{char:"&Omega;",desc:"GREEK CAPITAL LETTER OMEGA"},{char:"&alpha;",desc:"GREEK SMALL LETTER ALPHA"},{char:"&beta;",desc:"GREEK SMALL LETTER BETA"},{char:"&gamma;",desc:"GREEK SMALL LETTER GAMMA"},{char:"&delta;",desc:"GREEK SMALL LETTER DELTA"},{char:"&epsilon;",desc:"GREEK SMALL LETTER EPSILON"},{char:"&zeta;",desc:"GREEK SMALL LETTER ZETA"},{char:"&eta;",desc:"GREEK SMALL LETTER ETA"},{char:"&theta;",desc:"GREEK SMALL LETTER THETA"},{char:"&iota;",desc:"GREEK SMALL LETTER IOTA"},{char:"&kappa;",desc:"GREEK SMALL LETTER KAPPA"},{char:"&lambda;",desc:"GREEK SMALL LETTER LAMBDA"},{char:"&mu;",desc:"GREEK SMALL LETTER MU"},{char:"&nu;",desc:"GREEK SMALL LETTER NU"},{char:"&xi;",desc:"GREEK SMALL LETTER XI"},{char:"&omicron;",desc:"GREEK SMALL LETTER OMICRON"},{char:"&pi;",desc:"GREEK SMALL LETTER PI"},{char:"&rho;",desc:"GREEK SMALL LETTER RHO"},{char:"&sigmaf;",desc:"GREEK SMALL LETTER FINAL SIGMA"},{char:"&sigma;",desc:"GREEK SMALL LETTER SIGMA"},{char:"&tau;",desc:"GREEK SMALL LETTER TAU"},{char:"&upsilon;",desc:"GREEK SMALL LETTER UPSILON"},{char:"&phi;",desc:"GREEK SMALL LETTER PHI"},{char:"&chi;",desc:"GREEK SMALL LETTER CHI"},{char:"&psi;",desc:"GREEK SMALL LETTER PSI"},{char:"&omega;",desc:"GREEK SMALL LETTER OMEGA"},{char:"&thetasym;",desc:"GREEK THETA SYMBOL"},{char:"&upsih;",desc:"GREEK UPSILON WITH HOOK SYMBOL"},{char:"&straightphi;",desc:"GREEK PHI SYMBOL"},{char:"&piv;",desc:"GREEK PI SYMBOL"},{char:"&Gammad;",desc:"GREEK LETTER DIGAMMA"},{char:"&gammad;",desc:"GREEK SMALL LETTER DIGAMMA"},{char:"&varkappa;",desc:"GREEK KAPPA SYMBOL"},{char:"&varrho;",desc:"GREEK RHO SYMBOL"},{char:"&straightepsilon;",desc:"GREEK LUNATE EPSILON SYMBOL"},{char:"&backepsilon;",desc:"GREEK REVERSED LUNATE EPSILON SYMBOL"}]},{title:"Cyrillic",char:"&#x400",list:[{char:"&#x400",desc:"CYRILLIC CAPITAL LETTER IE WITH GRAVE"},{char:"&#x401",desc:"CYRILLIC CAPITAL LETTER IO"},{char:"&#x402",desc:"CYRILLIC CAPITAL LETTER DJE"},{char:"&#x403",desc:"CYRILLIC CAPITAL LETTER GJE"},{char:"&#x404",desc:"CYRILLIC CAPITAL LETTER UKRAINIAN IE"},{char:"&#x405",desc:"CYRILLIC CAPITAL LETTER DZE"},{char:"&#x406",desc:"CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I"},{char:"&#x407",desc:"CYRILLIC CAPITAL LETTER YI"},{char:"&#x408",desc:"CYRILLIC CAPITAL LETTER JE"},{char:"&#x409",desc:"CYRILLIC CAPITAL LETTER LJE"},{char:"&#x40A",desc:"CYRILLIC CAPITAL LETTER NJE"},{char:"&#x40B",desc:"CYRILLIC CAPITAL LETTER TSHE"},{char:"&#x40C",desc:"CYRILLIC CAPITAL LETTER KJE"},{char:"&#x40D",desc:"CYRILLIC CAPITAL LETTER I WITH GRAVE"},{char:"&#x40E",desc:"CYRILLIC CAPITAL LETTER SHORT U"},{char:"&#x40F",desc:"CYRILLIC CAPITAL LETTER DZHE"},{char:"&#x410",desc:"CYRILLIC CAPITAL LETTER A"},{char:"&#x411",desc:"CYRILLIC CAPITAL LETTER BE"},{char:"&#x412",desc:"CYRILLIC CAPITAL LETTER VE"},{char:"&#x413",desc:"CYRILLIC CAPITAL LETTER GHE"},{char:"&#x414",desc:"CYRILLIC CAPITAL LETTER DE"},{char:"&#x415",desc:"CYRILLIC CAPITAL LETTER IE"},{char:"&#x416",desc:"CYRILLIC CAPITAL LETTER ZHE"},{char:"&#x417",desc:"CYRILLIC CAPITAL LETTER ZE"},{char:"&#x418",desc:"CYRILLIC CAPITAL LETTER I"},{char:"&#x419",desc:"CYRILLIC CAPITAL LETTER SHORT I"},{char:"&#x41A",desc:"CYRILLIC CAPITAL LETTER KA"},{char:"&#x41B",desc:"CYRILLIC CAPITAL LETTER EL"},{char:"&#x41C",desc:"CYRILLIC CAPITAL LETTER EM"},{char:"&#x41D",desc:"CYRILLIC CAPITAL LETTER EN"},{char:"&#x41E",desc:"CYRILLIC CAPITAL LETTER O"},{char:"&#x41F",desc:"CYRILLIC CAPITAL LETTER PE"},{char:"&#x420",desc:"CYRILLIC CAPITAL LETTER ER"},{char:"&#x421",desc:"CYRILLIC CAPITAL LETTER ES"},{char:"&#x422",desc:"CYRILLIC CAPITAL LETTER TE"},{char:"&#x423",desc:"CYRILLIC CAPITAL LETTER U"},{char:"&#x424",desc:"CYRILLIC CAPITAL LETTER EF"},{char:"&#x425",desc:"CYRILLIC CAPITAL LETTER HA"},{char:"&#x426",desc:"CYRILLIC CAPITAL LETTER TSE"},{char:"&#x427",desc:"CYRILLIC CAPITAL LETTER CHE"},{char:"&#x428",desc:"CYRILLIC CAPITAL LETTER SHA"},{char:"&#x429",desc:"CYRILLIC CAPITAL LETTER SHCHA"},{char:"&#x42A",desc:"CYRILLIC CAPITAL LETTER HARD SIGN"},{char:"&#x42B",desc:"CYRILLIC CAPITAL LETTER YERU"},{char:"&#x42C",desc:"CYRILLIC CAPITAL LETTER SOFT SIGN"},{char:"&#x42D",desc:"CYRILLIC CAPITAL LETTER E"},{char:"&#x42E",desc:"CYRILLIC CAPITAL LETTER YU"},{char:"&#x42F",desc:"CYRILLIC CAPITAL LETTER YA"},{char:"&#x430",desc:"CYRILLIC SMALL LETTER A"},{char:"&#x431",desc:"CYRILLIC SMALL LETTER BE"},{char:"&#x432",desc:"CYRILLIC SMALL LETTER VE"},{char:"&#x433",desc:"CYRILLIC SMALL LETTER GHE"},{char:"&#x434",desc:"CYRILLIC SMALL LETTER DE"},{char:"&#x435",desc:"CYRILLIC SMALL LETTER IE"},{char:"&#x436",desc:"CYRILLIC SMALL LETTER ZHE"},{char:"&#x437",desc:"CYRILLIC SMALL LETTER ZE"},{char:"&#x438",desc:"CYRILLIC SMALL LETTER I"},{char:"&#x439",desc:"CYRILLIC SMALL LETTER SHORT I"},{char:"&#x43A",desc:"CYRILLIC SMALL LETTER KA"},{char:"&#x43B",desc:"CYRILLIC SMALL LETTER EL"},{char:"&#x43C",desc:"CYRILLIC SMALL LETTER EM"},{char:"&#x43D",desc:"CYRILLIC SMALL LETTER EN"},{char:"&#x43E",desc:"CYRILLIC SMALL LETTER O"},{char:"&#x43F",desc:"CYRILLIC SMALL LETTER PE"},{char:"&#x440",desc:"CYRILLIC SMALL LETTER ER"},{char:"&#x441",desc:"CYRILLIC SMALL LETTER ES"},{char:"&#x442",desc:"CYRILLIC SMALL LETTER TE"},{char:"&#x443",desc:"CYRILLIC SMALL LETTER U"},{char:"&#x444",desc:"CYRILLIC SMALL LETTER EF"},{char:"&#x445",desc:"CYRILLIC SMALL LETTER HA"},{char:"&#x446",desc:"CYRILLIC SMALL LETTER TSE"},{char:"&#x447",desc:"CYRILLIC SMALL LETTER CHE"},{char:"&#x448",desc:"CYRILLIC SMALL LETTER SHA"},{char:"&#x449",desc:"CYRILLIC SMALL LETTER SHCHA"},{char:"&#x44A",desc:"CYRILLIC SMALL LETTER HARD SIGN"},{char:"&#x44B",desc:"CYRILLIC SMALL LETTER YERU"},{char:"&#x44C",desc:"CYRILLIC SMALL LETTER SOFT SIGN"},{char:"&#x44D",desc:"CYRILLIC SMALL LETTER E"},{char:"&#x44E",desc:"CYRILLIC SMALL LETTER YU"},{char:"&#x44F",desc:"CYRILLIC SMALL LETTER YA"},{char:"&#x450",desc:"CYRILLIC SMALL LETTER IE WITH GRAVE"},{char:"&#x451",desc:"CYRILLIC SMALL LETTER IO"},{char:"&#x452",desc:"CYRILLIC SMALL LETTER DJE"},{char:"&#x453",desc:"CYRILLIC SMALL LETTER GJE"},{char:"&#x454",desc:"CYRILLIC SMALL LETTER UKRAINIAN IE"},{char:"&#x455",desc:"CYRILLIC SMALL LETTER DZE"},{char:"&#x456",desc:"CYRILLIC SMALL LETTER BYELORUSSIAN-UKRAINIAN I"},{char:"&#x457",desc:"CYRILLIC SMALL LETTER YI"},{char:"&#x458",desc:"CYRILLIC SMALL LETTER JE"},{char:"&#x459",desc:"CYRILLIC SMALL LETTER LJE"},{char:"&#x45A",desc:"CYRILLIC SMALL LETTER NJE"},{char:"&#x45B",desc:"CYRILLIC SMALL LETTER TSHE"},{char:"&#x45C",desc:"CYRILLIC SMALL LETTER KJE"},{char:"&#x45D",desc:"CYRILLIC SMALL LETTER I WITH GRAVE"},{char:"&#x45E",desc:"CYRILLIC SMALL LETTER SHORT U"},{char:"&#x45F",desc:"CYRILLIC SMALL LETTER DZHE"}]},{title:"Punctuation",char:"&ndash;",list:[{char:"&ndash;",desc:"EN DASH"},{char:"&mdash;",desc:"EM DASH"},{char:"&lsquo;",desc:"LEFT SINGLE QUOTATION MARK"},{char:"&rsquo;",desc:"RIGHT SINGLE QUOTATION MARK"},{char:"&sbquo;",desc:"SINGLE LOW-9 QUOTATION MARK"},{char:"&ldquo;",desc:"LEFT DOUBLE QUOTATION MARK"},{char:"&rdquo;",desc:"RIGHT DOUBLE QUOTATION MARK"},{char:"&bdquo;",desc:"DOUBLE LOW-9 QUOTATION MARK"},{char:"&dagger;",desc:"DAGGER"},{char:"&Dagger;",desc:"DOUBLE DAGGER"},{char:"&bull;",desc:"BULLET"},{char:"&hellip;",desc:"HORIZONTAL ELLIPSIS"},{char:"&permil;",desc:"PER MILLE SIGN"},{char:"&prime;",desc:"PRIME"},{char:"&Prime;",desc:"DOUBLE PRIME"},{char:"&lsaquo;",desc:"SINGLE LEFT-POINTING ANGLE QUOTATION MARK"},{char:"&rsaquo;",desc:"SINGLE RIGHT-POINTING ANGLE QUOTATION MARK"},{char:"&oline;",desc:"OVERLINE"},{char:"&frasl;",desc:"FRACTION SLASH"}]},{title:"Currency",char:"&#x20A0",list:[{char:"&#x20A0",desc:"EURO-CURRENCY SIGN"},{char:"&#x20A1",desc:"COLON SIGN"},{char:"&#x20A2",desc:"CRUZEIRO SIGN"},{char:"&#x20A3",desc:"FRENCH FRANC SIGN"},{char:"&#x20A4",desc:"LIRA SIGN"},{char:"&#x20A5",desc:"MILL SIGN"},{char:"&#x20A6",desc:"NAIRA SIGN"},{char:"&#x20A7",desc:"PESETA SIGN"},{char:"&#x20A8",desc:"RUPEE SIGN"},{char:"&#x20A9",desc:"WON SIGN"},{char:"&#x20AA",desc:"NEW SHEQEL SIGN"},{char:"&#x20AB",desc:"DONG SIGN"},{char:"&#x20AC",desc:"EURO SIGN"},{char:"&#x20AD",desc:"KIP SIGN"},{char:"&#x20AE",desc:"TUGRIK SIGN"},{char:"&#x20AF",desc:"DRACHMA SIGN"},{char:"&#x20B0",desc:"GERMAN PENNY SYMBOL"},{char:"&#x20B1",desc:"PESO SIGN"},{char:"&#x20B2",desc:"GUARANI SIGN"},{char:"&#x20B3",desc:"AUSTRAL SIGN"},{char:"&#x20B4",desc:"HRYVNIA SIGN"},{char:"&#x20B5",desc:"CEDI SIGN"},{char:"&#x20B6",desc:"LIVRE TOURNOIS SIGN"},{char:"&#x20B7",desc:"SPESMILO SIGN"},{char:"&#x20B8",desc:"TENGE SIGN"},{char:"&#x20B9",desc:"INDIAN RUPEE SIGN"}]},{title:"Arrows",char:"&#x2190",list:[{char:"&#x2190",desc:"LEFTWARDS ARROW"},{char:"&#x2191",desc:"UPWARDS ARROW"},{char:"&#x2192",desc:"RIGHTWARDS ARROW"},{char:"&#x2193",desc:"DOWNWARDS ARROW"},{char:"&#x2194",desc:"LEFT RIGHT ARROW"},{char:"&#x2195",desc:"UP DOWN ARROW"},{char:"&#x2196",desc:"NORTH WEST ARROW"},{char:"&#x2197",desc:"NORTH EAST ARROW"},{char:"&#x2198",desc:"SOUTH EAST ARROW"},{char:"&#x2199",desc:"SOUTH WEST ARROW"},{char:"&#x219A",desc:"LEFTWARDS ARROW WITH STROKE"},{char:"&#x219B",desc:"RIGHTWARDS ARROW WITH STROKE"},{char:"&#x219C",desc:"LEFTWARDS WAVE ARROW"},{char:"&#x219D",desc:"RIGHTWARDS WAVE ARROW"},{char:"&#x219E",desc:"LEFTWARDS TWO HEADED ARROW"},{char:"&#x219F",desc:"UPWARDS TWO HEADED ARROW"},{char:"&#x21A0",desc:"RIGHTWARDS TWO HEADED ARROW"},{char:"&#x21A1",desc:"DOWNWARDS TWO HEADED ARROW"},{char:"&#x21A2",desc:"LEFTWARDS ARROW WITH TAIL"},{char:"&#x21A3",desc:"RIGHTWARDS ARROW WITH TAIL"},{char:"&#x21A4",desc:"LEFTWARDS ARROW FROM BAR"},{char:"&#x21A5",desc:"UPWARDS ARROW FROM BAR"},{char:"&#x21A6",desc:"RIGHTWARDS ARROW FROM BAR"},{char:"&#x21A7",desc:"DOWNWARDS ARROW FROM BAR"},{char:"&#x21A8",desc:"UP DOWN ARROW WITH BASE"},{char:"&#x21A9",desc:"LEFTWARDS ARROW WITH HOOK"},{char:"&#x21AA",desc:"RIGHTWARDS ARROW WITH HOOK"},{char:"&#x21AB",desc:"LEFTWARDS ARROW WITH LOOP"},{char:"&#x21AC",desc:"RIGHTWARDS ARROW WITH LOOP"},{char:"&#x21AD",desc:"LEFT RIGHT WAVE ARROW"},{char:"&#x21AE",desc:"LEFT RIGHT ARROW WITH STROKE"},{char:"&#x21AF",desc:"DOWNWARDS ZIGZAG ARROW"},{char:"&#x21B0",desc:"UPWARDS ARROW WITH TIP LEFTWARDS"},{char:"&#x21B1",desc:"UPWARDS ARROW WITH TIP RIGHTWARDS"},{char:"&#x21B2",desc:"DOWNWARDS ARROW WITH TIP LEFTWARDS"},{char:"&#x21B3",desc:"DOWNWARDS ARROW WITH TIP RIGHTWARDS"},{char:"&#x21B4",desc:"RIGHTWARDS ARROW WITH CORNER DOWNWARDS"},{char:"&#x21B5",desc:"DOWNWARDS ARROW WITH CORNER LEFTWARDS"},{char:"&#x21B6",desc:"ANTICLOCKWISE TOP SEMICIRCLE ARROW"},{char:"&#x21B7",desc:"CLOCKWISE TOP SEMICIRCLE ARROW"},{char:"&#x21B8",desc:"NORTH WEST ARROW TO LONG BAR"},{char:"&#x21B9",desc:"LEFTWARDS ARROW TO BAR OVER RIGHTWARDS ARROW TO BAR"},{char:"&#x21BA",desc:"ANTICLOCKWISE OPEN CIRCLE ARROW"},{char:"&#x21BB",desc:"CLOCKWISE OPEN CIRCLE ARROW"},{char:"&#x21BC",desc:"LEFTWARDS HARPOON WITH BARB UPWARDS"},{char:"&#x21BD",desc:"LEFTWARDS HARPOON WITH BARB DOWNWARDS"},{char:"&#x21BE",desc:"UPWARDS HARPOON WITH BARB RIGHTWARDS"},{char:"&#x21BF",desc:"UPWARDS HARPOON WITH BARB LEFTWARDS"},{char:"&#x21C0",desc:"RIGHTWARDS HARPOON WITH BARB UPWARDS"},{char:"&#x21C1",desc:"RIGHTWARDS HARPOON WITH BARB DOWNWARDS"},{char:"&#x21C2",desc:"DOWNWARDS HARPOON WITH BARB RIGHTWARDS"},{char:"&#x21C3",desc:"DOWNWARDS HARPOON WITH BARB LEFTWARDS"},{char:"&#x21C4",desc:"RIGHTWARDS ARROW OVER LEFTWARDS ARROW"},{char:"&#x21C5",desc:"UPWARDS ARROW LEFTWARDS OF DOWNWARDS ARROW"},{char:"&#x21C6",desc:"LEFTWARDS ARROW OVER RIGHTWARDS ARROW"},{char:"&#x21C7",desc:"LEFTWARDS PAIRED ARROWS"},{char:"&#x21C8",desc:"UPWARDS PAIRED ARROWS"},{char:"&#x21C9",desc:"RIGHTWARDS PAIRED ARROWS"},{char:"&#x21CA",desc:"DOWNWARDS PAIRED ARROWS"},{char:"&#x21CB",desc:"LEFTWARDS HARPOON OVER RIGHTWARDS HARPOON"},{char:"&#x21CC",desc:"RIGHTWARDS HARPOON OVER LEFTWARDS HARPOON"},{char:"&#x21CD",desc:"LEFTWARDS DOUBLE ARROW WITH STROKE"},{char:"&#x21CE",desc:"LEFT RIGHT DOUBLE ARROW WITH STROKE"},{char:"&#x21CF",desc:"RIGHTWARDS DOUBLE ARROW WITH STROKE"},{char:"&#x21D0",desc:"LEFTWARDS DOUBLE ARROW"},{char:"&#x21D1",desc:"UPWARDS DOUBLE ARROW"},{char:"&#x21D2",desc:"RIGHTWARDS DOUBLE ARROW"},{char:"&#x21D3",desc:"DOWNWARDS DOUBLE ARROW"},{char:"&#x21D4",desc:"LEFT RIGHT DOUBLE ARROW"},{char:"&#x21D5",desc:"UP DOWN DOUBLE ARROW"},{char:"&#x21D6",desc:"NORTH WEST DOUBLE ARROW"},{char:"&#x21D7",desc:"NORTH EAST DOUBLE ARROW"},{char:"&#x21D8",desc:"SOUTH EAST DOUBLE ARROW"},{char:"&#x21D9",desc:"SOUTH WEST DOUBLE ARROW"},{char:"&#x21DA",desc:"LEFTWARDS TRIPLE ARROW"},{char:"&#x21DB",desc:"RIGHTWARDS TRIPLE ARROW"},{char:"&#x21DC",desc:"LEFTWARDS SQUIGGLE ARROW"},{char:"&#x21DD",desc:"RIGHTWARDS SQUIGGLE ARROW"},{char:"&#x21DE",desc:"UPWARDS ARROW WITH DOUBLE STROKE"},{char:"&#x21DF",desc:"DOWNWARDS ARROW WITH DOUBLE STROKE"},{char:"&#x21E0",desc:"LEFTWARDS DASHED ARROW"},{char:"&#x21E1",desc:"UPWARDS DASHED ARROW"},{char:"&#x21E2",desc:"RIGHTWARDS DASHED ARROW"},{char:"&#x21E3",desc:"DOWNWARDS DASHED ARROW"},{char:"&#x21E4",desc:"LEFTWARDS ARROW TO BAR"},{char:"&#x21E5",desc:"RIGHTWARDS ARROW TO BAR"},{char:"&#x21E6",desc:"LEFTWARDS WHITE ARROW"},{char:"&#x21E7",desc:"UPWARDS WHITE ARROW"},{char:"&#x21E8",desc:"RIGHTWARDS WHITE ARROW"},{char:"&#x21E9",desc:"DOWNWARDS WHITE ARROW"},{char:"&#x21EA",desc:"UPWARDS WHITE ARROW FROM BAR"},{char:"&#x21EB",desc:"UPWARDS WHITE ARROW ON PEDESTAL"},{char:"&#x21EC",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH HORIZONTAL BAR"},{char:"&#x21ED",desc:"UPWARDS WHITE ARROW ON PEDESTAL WITH VERTICAL BAR"},{char:"&#x21EE",desc:"UPWARDS WHITE DOUBLE ARROW"},{char:"&#x21EF",desc:"UPWARDS WHITE DOUBLE ARROW ON PEDESTAL"},{char:"&#x21F0",desc:"RIGHTWARDS WHITE ARROW FROM WALL"},{char:"&#x21F1",desc:"NORTH WEST ARROW TO CORNER"},{char:"&#x21F2",desc:"SOUTH EAST ARROW TO CORNER"},{char:"&#x21F3",desc:"UP DOWN WHITE ARROW"},{char:"&#x21F4",desc:"RIGHT ARROW WITH SMALL CIRCLE"},{char:"&#x21F5",desc:"DOWNWARDS ARROW LEFTWARDS OF UPWARDS ARROW"},{char:"&#x21F6",desc:"THREE RIGHTWARDS ARROWS"},{char:"&#x21F7",desc:"LEFTWARDS ARROW WITH VERTICAL STROKE"},{char:"&#x21F8",desc:"RIGHTWARDS ARROW WITH VERTICAL STROKE"},{char:"&#x21F9",desc:"LEFT RIGHT ARROW WITH VERTICAL STROKE"},{char:"&#x21FA",desc:"LEFTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FB",desc:"RIGHTWARDS ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FC",desc:"LEFT RIGHT ARROW WITH DOUBLE VERTICAL STROKE"},{char:"&#x21FD",desc:"LEFTWARDS OPEN-HEADED ARROW"},{char:"&#x21FE",desc:"RIGHTWARDS OPEN-HEADED ARROW"},{char:"&#x21FF",desc:"LEFT RIGHT OPEN-HEADED ARROW"}]},{title:"Math",char:"&forall;",list:[{char:"&forall;",desc:"FOR ALL"},{char:"&part;",desc:"PARTIAL DIFFERENTIAL"},{char:"&exist;",desc:"THERE EXISTS"},{char:"&empty;",desc:"EMPTY SET"},{char:"&nabla;",desc:"NABLA"},{char:"&isin;",desc:"ELEMENT OF"},{char:"&notin;",desc:"NOT AN ELEMENT OF"},{char:"&ni;",desc:"CONTAINS AS MEMBER"},{char:"&prod;",desc:"N-ARY PRODUCT"},{char:"&sum;",desc:"N-ARY SUMMATION"},{char:"&minus;",desc:"MINUS SIGN"},{char:"&lowast;",desc:"ASTERISK OPERATOR"},{char:"&radic;",desc:"SQUARE ROOT"},{char:"&prop;",desc:"PROPORTIONAL TO"},{char:"&infin;",desc:"INFINITY"},{char:"&ang;",desc:"ANGLE"},{char:"&and;",desc:"LOGICAL AND"},{char:"&or;",desc:"LOGICAL OR"},{char:"&cap;",desc:"INTERSECTION"},{char:"&cup;",desc:"UNION"},{char:"&int;",desc:"INTEGRAL"},{char:"&there4;",desc:"THEREFORE"},{char:"&sim;",desc:"TILDE OPERATOR"},{char:"&cong;",desc:"APPROXIMATELY EQUAL TO"},{char:"&asymp;",desc:"ALMOST EQUAL TO"},{char:"&ne;",desc:"NOT EQUAL TO"},{char:"&equiv;",desc:"IDENTICAL TO"},{char:"&le;",desc:"LESS-THAN OR EQUAL TO"},{char:"&ge;",desc:"GREATER-THAN OR EQUAL TO"},{char:"&sub;",desc:"SUBSET OF"},{char:"&sup;",desc:"SUPERSET OF"},{char:"&nsub;",desc:"NOT A SUBSET OF"},{char:"&sube;",desc:"SUBSET OF OR EQUAL TO"},{char:"&supe;",desc:"SUPERSET OF OR EQUAL TO"},{char:"&oplus;",desc:"CIRCLED PLUS"},{char:"&otimes;",desc:"CIRCLED TIMES"},{char:"&perp;",desc:"UP TACK"}]},{title:"Misc",char:"&spades;",list:[{char:"&spades;",desc:"BLACK SPADE SUIT"},{char:"&clubs;",desc:"BLACK CLUB SUIT"},{char:"&hearts;",desc:"BLACK HEART SUIT"},{char:"&diams;",desc:"BLACK DIAMOND SUIT"},{char:"&#x2669",desc:"QUARTER NOTE"},{char:"&#x266A",desc:"EIGHTH NOTE"},{char:"&#x266B",desc:"BEAMED EIGHTH NOTES"},{char:"&#x266C",desc:"BEAMED SIXTEENTH NOTES"},{char:"&#x266D",desc:"MUSIC FLAT SIGN"},{char:"&#x266E",desc:"MUSIC NATURAL SIGN"},{char:"&#x2600",desc:"BLACK SUN WITH RAYS"},{char:"&#x2601",desc:"CLOUD"},{char:"&#x2602",desc:"UMBRELLA"},{char:"&#x2603",desc:"SNOWMAN"},{char:"&#x2615",desc:"HOT BEVERAGE"},{char:"&#x2618",desc:"SHAMROCK"},{char:"&#x262F",desc:"YIN YANG"},{char:"&#x2714",desc:"HEAVY CHECK MARK"},{char:"&#x2716",desc:"HEAVY MULTIPLICATION X"},{char:"&#x2744",desc:"SNOWFLAKE"},{char:"&#x275B",desc:"HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275C",desc:"HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275D",desc:"HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT"},{char:"&#x275E",desc:"HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT"},{char:"&#x2764",desc:"HEAVY BLACK HEART"}]}],specialCharButtons:["specialCharBack","|"]}),Object.assign(x.POPUP_TEMPLATES,{specialCharacters:"[_BUTTONS_][_CUSTOM_LAYER_]"}),x.PLUGINS.specialCharacters=function(s){var b=s.$,B=s.opts.specialCharactersSets,ge=s.opts.specialCharactersSets[0],a="";function p(){return`
        <div class="fr-buttons fr-tabs fr-tabs-scroll">
          `.concat(function(L,A){var O="";return L.forEach(function(z){var Q=z.title===A.title,H={elementClass:Q?"fr-active fr-active-tab":"",title:z.title,dataParam1:z.title,desc:z.char};O+='<button class="fr-command fr-btn fr-special-character-category '.concat(H.elementClass,`" 
      title="`).concat(H.title,'" data-cmd="setSpecialCharacterCategory" data-param1="').concat(H.dataParam1,'" aria-pressed="').concat(Q,`">
      <span>`).concat(H.desc,"</span></button>")}),O}(B,ge),`
        </div>
        <div class="fr-icon-container fr-sc-container" style="outline: none;">
          `).concat(function(L){var A="";return L.list.forEach(function(O){var z={dataParam1:O.char,title:O.desc,splCharValue:O.char};A+=`<span class="fr-command fr-special-character fr-icon" role="button" 
      data-cmd="insertSpecialCharacter" data-param1="`.concat(z.dataParam1,`" tabindex="0"
      title="`).concat(z.title,'">').concat(z.splCharValue,"</span>")}),A}(ge),`
        </div>`)}return{setSpecialCharacterCategory:function(L){ge=B.filter(function(A){return A.title===L})[0],function(){s.popups.get("specialCharacters").html(a+p());var O=s.popups.get("specialCharacters").children().not(".fr-buttons");s.accessibility.registerPopup("specialCharacters"),s.accessibility.focusContent(O)}()},showSpecialCharsPopup:function(){var L=s.popups.get("specialCharacters");if(L||(L=function(){s.opts.toolbarInline&&0<s.opts.specialCharButtons.length&&(a='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.specialCharButtons),"</div>"));var P={buttons:a,custom_layer:p()},j=s.popups.create("specialCharacters",P);return function(ee){s.events.on("popup.tab",function(w){var xe=b(w.currentTarget);if(!s.popups.isVisible("specialCharacters")||!xe.is("span, a"))return!0;var be,re,se,ie=w.which,D=window.getComputedStyle(ee.find(".fr-icon-container")[0]),U=D.getPropertyValue("grid-template-columns").split(" ").length;if(x.KEYCODE.TAB==ie){var V=ee.find("span.fr-special-character");if(xe.is(V.first())&&w.shiftKey||xe.is(V.last())&&!w.shiftKey){var I=ee.find(".fr-buttons");be=!s.accessibility.focusToolbar(I,!!w.shiftKey)}if(be!==!1){var N=ee.find("span.fr-special-character");N.add(ee.find("button.fr-btn")),re=N.index(xe),re=w.shiftKey?((re-1)%N.length+N.length)%N.length:(re+1)%N.length,se=N.get(re),s.events.disableBlur(),se.focus(),be=!1}}else if(x.KEYCODE.ARROW_UP==ie||x.KEYCODE.ARROW_DOWN==ie||x.KEYCODE.ARROW_LEFT==ie||x.KEYCODE.ARROW_RIGHT==ie){if(xe.is("span.fr-icon")){var ne=xe.parent().find("span.fr-icon");re=ne.index(xe);var G=U,q=Math.ceil(ne.length/G),de=re%G,Le=Math.floor(re/G),Ae=Le*G+de,we=q*G;x.KEYCODE.ARROW_UP==ie?Ae=((Ae-G)%we+we)%we:x.KEYCODE.ARROW_DOWN==ie?Ae=(Ae+G)%we:x.KEYCODE.ARROW_LEFT==ie?Ae=((Ae-1)%we+we)%we:x.KEYCODE.ARROW_RIGHT==ie&&(Ae=(Ae+1)%we),se=b(ne.get(Ae)),s.events.disableBlur(),se.focus(),be=!1}}else x.KEYCODE.ENTER==ie&&(xe.is("a")?xe[0].click():s.button.exec(xe),be=!1);return be===!1&&(w.preventDefault(),w.stopPropagation()),be},!0)}(j),j}()),!L.hasClass("fr-active")){s.popups.refresh("specialCharacters"),s.popups.setContainer("specialCharacters",s.$tb);var A=s.$tb.find('.fr-command[data-cmd="specialCharacters"]'),O=s.button.getPosition(A),z=O.left,Q=O.top;s.popups.show("specialCharacters",z,Q,outerHeight)}},back:function(){s.popups.hide("specialCharacters"),s.toolbar.showInline()}}},x.DefineIcon("specialCharacters",{NAME:"dollar-sign",SVG_KEY:"symbols"}),x.RegisterCommand("specialCharacters",{title:"Special Characters",icon:"specialCharacters",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,plugin:"specialCharacters",showOnMobile:!0,callback:function(){this.popups.isVisible("specialCharacters")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("specialCharacters")):this.specialCharacters.showSpecialCharsPopup()}}),x.RegisterCommand("insertSpecialCharacter",{callback:function(s,b){this.undo.saveStep(),this.html.insert(b),this.undo.saveStep(),this.popups.hide("specialCharacters")}}),x.RegisterCommand("setSpecialCharacterCategory",{undo:!1,focus:!1,callback:function(s,b){this.specialCharacters.setSpecialCharacterCategory(b)}}),x.DefineIcon("specialCharBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("specialCharBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.specialCharacters.back()}}),Object.assign(x.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]","table.cellProperties":"[_CELL_PROPERTIES_FORM_][_BUTTONS_]","table.tableProperties":"[_TABLE_PROPERTIES_FORM_][_BUTTONS_]"}),Object.assign(x.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableFooter","tableRemove","tableRows","tableColumns","tableProperties","-","tableCells","tableCellProperties","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"50%",tableDefaultAlign:"center",tableDefaultHeight:"100px",tableDefaultBGColor:"",tableDefaultBorderColor:"",tableDefaultBorderWidth:"1px",tableDefaultBorderStyle:"solid",tableBorderStyle:["solid","dashed","dotted","double","groove","ridge","inset","outset"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,keepTextFormatOnTable:!1,tableInsertHelperOffset:15}),x.PLUGINS.table=function(s){var b,B,ge,a,p,M,L,A=s.$,O={};function z(){var Et=q();if(Et){var fe=s.popups.get("table.edit");if(fe||(fe=j()),fe){s.popups.setContainer("table.edit",s.$sc);var Z=ut(Et),ae=Z.left+(Z.right-Z.left)/2,ye=Z.bottom;s.popups.show("table.edit",ae,ye,Z.bottom-Z.top,!0),s.edit.isDisabled()&&(s.$el.removeClass("fr-no-selection"),s.edit.on(),s.button.bulkRefresh(),s.selection.setAtEnd(s.$el.find(".fr-selected-cell").last().get(0)),s.selection.restore())}}}function Q(){ro().length===0&&s.toolbar.enable()}function H(Et){if(Et)return s.popups.onHide("table.insert",function(){s.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseover")}),!0;var fe="";0<s.opts.tableInsertButtons.length&&(fe='<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.tableInsertButtons),"</div>"));var Z={buttons:fe,rows_columns:function(){for(var Ce='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',ze=1;ze<=s.opts.tableInsertMaxSize;ze++){for(var Re=1;Re<=s.opts.tableInsertMaxSize;Re++){var J="inline-block";2<ze&&!s.helpers.isMobile()&&(J="none");var pe="fr-table-cell ";ze==1&&Re==1&&(pe+=" hover"),Ce+='<span class="fr-command '.concat(pe,'" tabIndex="-1" data-cmd="tableInsert" data-row="').concat(ze,'" data-col="').concat(Re,'" data-param1="').concat(ze,'" data-param2="').concat(Re,'" style="display: ').concat(J,';" role="button"><span></span><span class="fr-sr-only">').concat(ze," &times; ").concat(Re,"&nbsp;&nbsp;&nbsp;</span></span>")}Ce+='<div class="new-line"></div>'}return Ce+="</div></div>"}()},ae=s.popups.create("table.insert",Z);return s.events.$on(ae,"mouseover",".fr-table-size .fr-select-table-size .fr-table-cell",function(ye){P(A(ye.currentTarget))},!0),function(Ce){s.events.$on(Ce,"focus","[tabIndex]",function(ze){var Re=A(ze.currentTarget);P(Re)}),s.events.on("popup.tab",function(ze){var Re=A(ze.currentTarget);if(!s.popups.isVisible("table.insert")||!Re.is("span, a"))return!0;var J,pe=ze.which;if(x.KEYCODE.ARROW_UP==pe||x.KEYCODE.ARROW_DOWN==pe||x.KEYCODE.ARROW_LEFT==pe||x.KEYCODE.ARROW_RIGHT==pe){if(Re.is("span.fr-table-cell")){var me=Re.parent().find("span.fr-table-cell"),_e=me.index(Re),Ke=s.opts.tableInsertMaxSize,ft=_e%Ke,gt=Math.floor(_e/Ke);x.KEYCODE.ARROW_UP==pe?gt=Math.max(0,gt-1):x.KEYCODE.ARROW_DOWN==pe?gt=Math.min(s.opts.tableInsertMaxSize-1,gt+1):x.KEYCODE.ARROW_LEFT==pe?ft=Math.max(0,ft-1):x.KEYCODE.ARROW_RIGHT==pe&&(ft=Math.min(s.opts.tableInsertMaxSize-1,ft+1));var At=gt*Ke+ft,zt=A(me.get(At));P(zt),s.events.disableBlur(),zt.focus(),J=!1}}else x.KEYCODE.ENTER==pe&&(s.button.exec(Re),J=!1);return J===!1&&(ze.preventDefault(),ze.stopPropagation()),J},!0)}(ae),ae}function P(Et){var fe=Et.data("row");fe!==null&&(fe=parseInt(fe));var Z=Et.data("col");Z!==null&&(Z=parseInt(Z));var ae=Et.parent();ae.siblings(".fr-table-size-info").html("".concat(fe," &times; ").concat(Z)),ae.find("> span").removeClass("hover fr-active-item");for(var ye=1;ye<=s.opts.tableInsertMaxSize;ye++)for(var Ce=0;Ce<=s.opts.tableInsertMaxSize;Ce++){var ze=ae.find('> span[data-row="'.concat(ye,'"][data-col="').concat(Ce,'"]'));ye<=fe&&Ce<=Z?ze.addClass("hover"):ye<=fe+1||ye<=2&&!s.helpers.isMobile()?ze.css("display","inline-block"):2<ye&&!s.helpers.isMobile()&&ze.css("display","none")}Et.addClass("fr-active-item")}function j(Et){if(Et)return s.popups.onHide("table.edit",Q),!0;if(0<s.opts.tableEditButtons.length){var fe={buttons:'<div class="fr-buttons">'.concat(s.button.buildList(s.opts.tableEditButtons),"</div>")},Z=s.popups.create("table.edit",fe);return s.events.$on(s.$wp,"scroll.table-edit",function(){s.popups.isVisible("table.edit")&&z()}),Z}return!1}function K(Et,fe,Z){var ae=A(Et),ye=A(fe);Z&&Z!=="REMOVE"&&Z!=="transparent"&&Z!=="rgba(0, 0, 0, 0)"?(ae.css("background-color",Z),ye.css("display","none")):(ae.css("background-color","transparent"),ye.css("display","block"))}function ee(){var Et=s.popups.get("table.cellProperties");return Et||(Et=s.popups.create("table.cellProperties",{cell_properties_form:`
          <div class="fr-cell-properties-form">
            <div class="fr-cell-properties-section">
              <label>Background</label>
              <div class="fr-cell-bg-container">
                <input type="text" id="fr-cell-bg" class="fr-input" tabIndex="1" placeholder="Color">
                <button type="button" class="fr-command fr-btn-cell-bg-color" tabIndex="2" data-param1="cell" data-cmd="openColorPicker">
                  <div class="fr-color-preview">
                    <div class="fr-color-preview-indicator"></div>
                  </div>
                </button>
              </div>
            </div>
        
            <div class="fr-cell-dimensions-container">
              <div class="fr-cell-dimension-section">
                <label>Dimensions</label>
                <div class="fr-dimension-inputs">
                  <input type="text" id="fr-cell-width" tabIndex="3" placeholder="Width">
                  <span class="fr-dimension-separator">×</span>
                  <input type="text" id="fr-cell-height" tabIndex="4" placeholder="Height">
                  <label for="fr-cell-height"></label>
                </div>
              </div>
        
              <div class="fr-cell-padding-section">
                <label>Padding</label>
                <div>
                  <input type="text" id="fr-cell-padding" tabIndex="5" placeholder="Size">
                  <label for="fr-cell-padding"></label>
                </div>
              </div>
            </div>
        
            <div class="fr-cell-properties-buttons">
              <button type="button" class="fr-command fr-enable-accessibility fr-cancel-button" tabIndex="6" data-cmd="onCancel">Cancel</button>
              <button type="button" class="fr-command fr-enable-accessibility fr-save-button" tabIndex="7" data-cmd="applyCellProperties">Save</button>
            </div>
          </div>`,buttons:""}),w(),s.events.$on(Et,"input","#fr-cell-bg",function(){Et.data("bg-modified",!0)}),s.events.$on(Et,"input","#fr-cell-width",function(){Et.data("width-modified",!0)}),s.events.$on(Et,"input","#fr-cell-height",function(){Et.data("height-modified",!0)}),s.events.$on(Et,"input","#fr-cell-padding",function(){Et.data("padding-modified",!0)})),Et}function w(){var Et=s.popups.get("table.cellProperties");Et&&(Et.data("bg-modified",!1),Et.data("width-modified",!1),Et.data("height-modified",!1),Et.data("padding-modified",!1))}function xe(Et){var fe,Z,ae,ye,Ce=s.popups.get("table.colors").data("type");if(Ce==="table"){var ze=s.popups.get("table.tableProperties");fe=ze.find(".fr-color-preview"),Z=ze.find(".fr-color-preview-indicator"),ae=ze.find("#fr-table-bg")}else if(Ce==="cell"){var Re=s.popups.get("table.cellProperties");fe=Re.find(".fr-color-preview"),Z=Re.find(".fr-color-preview-indicator"),ae=Re.find("#fr-cell-bg"),ye=s.popups.get("table.cellProperties")}else if(Ce==="border"){var J=s.popups.get("table.tableProperties");fe=J.find(".fr-border-color-preview"),Z=J.find(".fr-border-color-preview-indicator"),ae=J.find("#fr-table-border-color")}typeof Et=="string"&&(s.helpers.isRGBColor(Et)&&(Et=s.helpers.RGBToHex(Et).toUpperCase()),(s.helpers.isValidHexColor(Et)||Et==="transparent"||Et==="")&&(A(ae).val(Et),A(ae).focus(),Ce==="cell"&&A(ye).data("bg-modified",!0),K(fe,Z,Et)))}function be(Et){var fe=A(Et).next().get(0);if(fe){var Z=s.doc.createRange();Z.setStart(fe,0),Z.collapse(!0);var ae=s.selection.get();ae.removeAllRanges(),ae.addRange(Z)}else s.selection.get().collapse(A(Et).get(0))}function re(){O[s.id]||(O[s.id]=A(document.createElement("div")).attr("class","fr-table-selector").html('<a role="button" tabIndex="-1" title="'.concat(s.language.translate("Select Table"),'">').concat(s.icon.create("tableSelectorIcon"),"</a>")));var Et=s.language.translate(`The content you are pasting does not contain a table.
Please ensure the copied content is in table format.`);s.events.on("paste.before",function(ae,ye){if(s.$el.find("table.fr-table-selected").length){var Ce=ye||ae&&ae.clipboardData;if(Ce&&Ce.items){var ze=(Ce||window.clipboardData).getData("text/html")||"";if(!ze||ze.indexOf("<table")===-1)return alert(Et),ae.preventDefault(),ae.stopPropagation(),!1}}return!0}),s.events.on("html.beforeInsert",function(ae){var ye=s.$el.find("table.fr-table-selected");if(ye.length){var Ce=function(Re){var J=s.doc.createElement("div");J.innerHTML=Re;for(var pe=J.firstChild;pe;){var me=pe.nextSibling;(pe.nodeType===Node.TEXT_NODE&&pe.textContent.replace(/\u200b/g,"").trim()===""||pe.nodeType===Node.COMMENT_NODE||pe.tagName==="SPAN"&&pe.textContent.replace(/\u200b/g,"").trim()==="")&&pe.remove(),pe=me}return J.childNodes.length===1&&J.childNodes[0].tagName==="TABLE"&&J.childNodes[0]}(ae);return Ce?(function(Re,J){for(var pe=J.get(0),me=pe.rows[0].cells[0],_e=me&&me.parentNode?me.parentNode.rowIndex:0,Ke=me?me.cellIndex:0,ft=pe.rows,gt=Re.rows,At=0;At<Re.rows.length;At++){if(!ft[_e+At])for(var zt=ft[ft.length-1].cells.length,kt=pe.insertRow(),Tt=0;Tt<zt;Tt++)kt.insertCell();for(var Mt=ft[_e+At],qt=0;qt<Re.rows[At].cells.length;qt++){if(!Mt.cells[Ke+qt])for(var Qt=0;Qt<ft.length;Qt++)ft[Qt].insertCell();var on=Mt.cells[Ke+qt],_n=gt[At].cells[qt];on.outerHTML=_n.outerHTML}}}(Ce,ye),s.keys.positionCaret(),s.events.trigger("html.inserted")):alert(Et),!1}return!0}),s.events.on("mousedown",function(){s.$el.find("table.fr-table-selected").length&&Je()}),s.events.$on(A(s.o_win),"resize",function(){var ae=s.$el.find("table.fr-table-selected");ae.length?wt(ae):Je()}),s.events.on("commands.undo commands.redo commands.before",function(ae){if(!/^align/.test(ae)){var ye=s.$el.find("table.fr-table-selected");ye.length&&(Je(),be(ye))}});var fe=null,Z=null;s.events.on("snapshot.before",function(){Z=s.$el.find("table.fr-table-selection-hover"),fe=s.$el.find("table.fr-table-selected"),kn(Z,"fr-table-selection-hover"),kn(fe,"fr-table-selected")}),s.events.on("snapshot.after",function(){fe&&fe.addClass("fr-table-selected"),Z&&Z.addClass("fr-table-selection-hover")}),s.events.$on(O[s.id],"click",function(){var ae=s.$el.find("table.fr-table-selection-hover"),ye=s.$el.find("table.fr-table-selected");ae.length&&(kn(ye,"fr-table-selected"),O[s.id].addClass("fr-table-selector-active-selected"),ae.addClass("fr-table-selected"),kn(ae,"fr-table-selection-hover"),ye=ae);var Ce=s.doc.createRange();s.selection.get().removeAllRanges();var ze=ye.get(0);Ce.selectNode(ze),s.selection.get().addRange(Ce)}),s.events.on("destroy",function(){Je(),O[s.id]=null})}function se(Et){var fe={startTag:"",closeTag:""};return s.opts.keepTextFormatOnTable&&(fe=ie(function(ae){for(var ye=new Set,Ce=ae.textContent,ze=0,Re=[ae.firstChild];0<Re.length;){var J=Re.pop();if(J&&(ye.has(J)||(ze===0&&Ce!==J.textContent&&(Ce=J.textContent,ze++),ye.add(J)),J.hasChildNodes()))for(var pe=0;pe<J.childNodes.length;){if(J.childNodes[pe].nodeType===3)return He(ye);if(J.childNodes[pe].textContent){if(ze===0&&J.childNodes[pe].textContent!==Ce){Ce=J.childNodes[pe].textContent,Re.push(J.childNodes[pe]),ze++;break}J.childNodes[pe].textContent===Ce&&Re.push(J.childNodes[pe])}pe++}}return He(ye)}(Et).reverse())),{startTag:fe.startTag,closeTag:fe.closeTag}}function ie(Et){var fe="",Z="",ae=["br","#text","#comment","font"];if(0<Et.length)for(var ye=Et.length-1;0<=ye;ye--){var Ce=Et[ye],ze=s.node.isBlock(Ce),Re=ae.indexOf(Ce.nodeName.toLowerCase());if(!ze&&Re<0){var J=Ce.style,pe="";if(J&&J.length){for(var me=0;me<J.length;me++)pe+=J[me]+": "+J[J[me]].replace(/"/gi,"")+"; ";pe=pe.trim()}fe+=pe?"<"+Ce.nodeName.toLowerCase()+' style="'+pe+'">':"<"+Ce.nodeName.toLowerCase()+">",Z="</"+Ce.nodeName.toLowerCase()+">"+Z}}return{startTag:fe,closeTag:Z}}function D(){var Et=qo(),fe=ro(),Z=0<fe.length,ae=0<Et.length;(Z||ae)&&(Z&&(s.selection.setBefore(fe[0])||s.selection.setAfter(fe[0]),s.selection.restore(),s.popups.hide("table.edit")),be(Et),s.undo.saveStep(),Je(),we(),Et.remove(),s.$el.focus())}function U(Et){var fe=qo();if(0<fe.length){if(0<s.$el.find("thead .fr-selected-cell").length&&Et=="above"||0<s.$el.find("tfoot td.fr-selected-cell").length&&Et=="below")return;var Z,ae,ye,Ce=q(),ze=We(Ce);if(ze==null)return;ae=Et=="above"?ze.min_i:ze.max_i;var Re="<tr>";for(Z=0;Z<Ce[ae].length;Z++)if(Et=="below"&&ae<Ce.length-1&&Ce[ae][Z]==Ce[ae+1][Z]||Et=="above"&&0<ae&&Ce[ae][Z]==Ce[ae-1][Z]){if(Z===0||0<Z&&Ce[ae][Z]!=Ce[ae][Z-1]){var J=A(Ce[ae][Z]);J.attr("rowspan",parseInt(J.attr("rowspan"),10)+1)}}else{var pe=A(Ce[ae][Z]);if(pe.attr("tagName").toUpperCase()=="TH")Re+='<th style="'+pe.attr("style")+'" ><br></th>';else{var me=se(Ce[ae][Z]);Re+='<td style="'+pe.attr("style")+'" >'+me.startTag+"<br>"+me.closeTag+"</td>"}}Re+="</tr>",ye=0<s.$el.find("thead .fr-selected-cell").length&&Et=="below"||0<s.$el.find("tfoot td.fr-selected-cell").length&&Et=="above"?A(fe.find("tbody").not(fe.find("> table tbody"))):A(fe.find("tr").not(fe.find("> table tr")).get(ae)),Et=="below"?ye.attr("tagName")=="TBODY"?ye.prepend(Re):ye[0].parentNode&&ye[0].insertAdjacentHTML("afterend",Re):Et=="above"&&(ye.attr("tagName")=="TBODY"?ye.append(Re):ye.before(Re),s.popups.isVisible("table.edit")&&z())}}function V(Et,fe,Z){var ae,ye,Ce,ze,Re,J=0,pe=q(Z);if(Et<(fe=Math.min(fe,pe[0].length-1))){for(ye=Et;ye<=fe;ye++)if(!(Et<ye&&pe[0][ye]==pe[0][ye-1])&&1<(ze=Math.min(parseInt(pe[0][ye].getAttribute("colspan"),10)||1,fe-Et+1))&&pe[0][ye]==pe[0][ye+1]){for(J=ze-1,ae=1;ae<pe.length;ae++)if(pe[ae][ye]!=pe[ae-1][ye]){for(Ce=ye;Ce<ye+ze;Ce++)if(pe[ae][Ce]!==void 0){if(1<(Re=parseInt(pe[ae][Ce].getAttribute("colspan"),10)||1)&&pe[ae][Ce]==pe[ae][Ce+1])Ce+=J=Math.min(J,Re-1);else if(!(J=Math.max(0,J-1)))break}if(!J)break}}}J&&N(pe,J,"colspan",0,pe.length-1,Et,fe)}function I(Et,fe,Z){var ae,ye,Ce,ze,Re,J=0,pe=q(Z);if(Et<(fe=Math.min(fe,pe.length-1))){for(ae=Et;ae<=fe;ae++)if(!(Et<ae&&pe[ae][0]==pe[ae-1][0])&&pe[ae][0]!==void 0&&1<(ze=Math.min(parseInt(pe[ae][0].getAttribute("rowspan"),10)||1,fe-Et+1))&&pe[ae][0]==pe[ae+1][0]){for(J=ze-1,ye=1;ye<pe[0].length;ye++)if(pe[ae][ye]!=pe[ae][ye-1]){for(Ce=ae;Ce<ae+ze;Ce++)if(pe[Ce][ye]!==void 0){if(1<(Re=parseInt(pe[Ce][ye].getAttribute("rowspan"),10)||1)&&pe[Ce][ye]==pe[Ce+1][ye])Ce+=J=Math.min(J,Re-1);else if(!(J=Math.max(0,J-1)))break}if(!J)break}}}J&&N(pe,J,"rowspan",Et,fe,0,pe[0].length-1)}function N(Et,fe,Z,ae,ye,Ce,ze){var Re,J,pe;for(Re=ae;Re<=ye;Re++)for(J=Ce;J<=ze;J++)ae<Re&&Et[Re][J]==Et[Re-1][J]||Ce<J&&Et[Re][J]==Et[Re][J-1]||Et[Re][J]!==void 0&&1<(pe=parseInt(Et[Re][J].getAttribute(Z),10)||1)&&(1<pe-fe?Et[Re][J].setAttribute(Z,pe-fe):Et[Re][J].removeAttribute(Z))}function ne(Et,fe,Z,ae,ye){I(Et,fe,ye),V(Z,ae,ye)}function G(Et){Et.style.removeProperty("border"),Et.style.removeProperty("border-top"),Et.style.removeProperty("border-bottom"),Et.style.removeProperty("border-left"),Et.style.removeProperty("border-right")}function q(Et){var fe=[];if((Et=Et||null)==null&&0<ro().length&&(Et=qo()),Et){if(!Et.find("tr").html().match(/xl[0-9]+/gi))for(var Z=Et.find("tr:empty"),ae=Z.length-1;0<=ae;ae--)A(Z[ae]).remove();Et.find("tr").not(Et.find("> table tr")).each(function(ye,Ce){var ze=A(Ce),Re=0;ze.find("> th, > td").each(function(J,pe){for(var me=A(pe),_e=parseInt(me.attr("colspan"),10)||1,Ke=parseInt(me.attr("rowspan"),10)||1,ft=ye;ft<ye+Ke;ft++)for(var gt=Re;gt<Re+_e;gt++)fe[ft]||(fe[ft]=[]),fe[ft][gt]?Re++:fe[ft][gt]=pe;Re+=_e})})}return fe}function de(Et,fe){for(var Z=0;Z<fe.length;Z++)for(var ae=0;ae<fe[Z].length;ae++)if(fe[Z][ae]==Et)return{row:Z,col:ae}}function Le(Et,fe,Z){for(var ae=Et+1,ye=fe+1;ae<Z.length;){if(Z[ae][fe]!=Z[Et][fe]){ae--;break}ae++}for(ae==Z.length&&ae--;ye<Z[Et].length;){if(Z[Et][ye]!=Z[Et][fe]){ye--;break}ye++}return ye==Z[Et].length&&ye--,{row:ae,col:ye}}function Ae(){s.el.querySelector(".fr-cell-fixed")&&s.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),s.el.querySelector(".fr-cell-handler")&&s.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function we(){var Et=s.$el.find(".fr-selected-cell");0<Et.length&&Et.each(function(){var fe=A(this);fe.removeClass("fr-selected-cell"),fe.attr("class")===""&&fe.removeAttr("class")}),Ae()}function Pe(){s.events.disableBlur(),s.selection.clear(),s.$el.addClass("fr-no-selection"),s.$el.blur(),s.events.enableBlur()}function We(Et){var fe=s.$el.find(".fr-selected-cell");if(0<fe.length){var Z,ae=Et.length,ye=0,Ce=Et[0].length,ze=0;for(Z=0;Z<fe.length;Z++){var Re=de(fe[Z],Et),J=Le(Re.row,Re.col,Et);ae=Math.min(Re.row,ae),ye=Math.max(J.row,ye),Ce=Math.min(Re.col,Ce),ze=Math.max(J.col,ze)}return{min_i:ae,max_i:ye,min_j:Ce,max_j:ze}}return null}function ut(Et){var fe=We(Et);if(fe!=null){var Z=A(Et[fe.min_i][fe.min_j]),ae=A(Et[fe.min_i][fe.max_j]),ye=A(Et[fe.max_i][fe.min_j]);return{left:Z.length&&Z.offset().left,right:ae.length&&ae.offset().left+ae.outerWidth(),top:Z.length&&Z.offset().top,bottom:ye.length&&ye.offset().top+ye.outerHeight()}}}function nt(Et,fe){if(A(Et).is(fe))we(),A(Et).addClass("fr-selected-cell");else{Pe(),s.edit.off();var Z=q(),ae=de(Et,Z),ye=de(fe,Z);if(!ae||!ye)return;var Ce=function J(pe,me,_e,Ke,ft){var gt,At,zt,kt,Tt=pe,Mt=me,qt=_e,Qt=Ke;for(gt=Tt;gt<=Mt;gt++)(1<(parseInt(A(ft[gt][qt]).attr("rowspan"),10)||1)||1<(parseInt(A(ft[gt][qt]).attr("colspan"),10)||1))&&(kt=Le((zt=de(ft[gt][qt],ft)).row,zt.col,ft),Tt=Math.min(zt.row,Tt),Mt=Math.max(kt.row,Mt),qt=Math.min(zt.col,qt),Qt=Math.max(kt.col,Qt)),(1<(parseInt(A(ft[gt][Qt]).attr("rowspan"),10)||1)||1<(parseInt(A(ft[gt][Qt]).attr("colspan"),10)||1))&&(kt=Le((zt=de(ft[gt][Qt],ft)).row,zt.col,ft),Tt=Math.min(zt.row,Tt),Mt=Math.max(kt.row,Mt),qt=Math.min(zt.col,qt),Qt=Math.max(kt.col,Qt));for(At=qt;At<=Qt;At++)(1<(parseInt(A(ft[Tt][At]).attr("rowspan"),10)||1)||1<(parseInt(A(ft[Tt][At]).attr("colspan"),10)||1))&&(kt=Le((zt=de(ft[Tt][At],ft)).row,zt.col,ft),Tt=Math.min(zt.row,Tt),Mt=Math.max(kt.row,Mt),qt=Math.min(zt.col,qt),Qt=Math.max(kt.col,Qt)),(1<(parseInt(A(ft[Mt][At]).attr("rowspan"),10)||1)||1<(parseInt(A(ft[Mt][At]).attr("colspan"),10)||1))&&(kt=Le((zt=de(ft[Mt][At],ft)).row,zt.col,ft),Tt=Math.min(zt.row,Tt),Mt=Math.max(kt.row,Mt),qt=Math.min(zt.col,qt),Qt=Math.max(kt.col,Qt));return Tt==pe&&Mt==me&&qt==_e&&Qt==Ke?{min_i:pe,max_i:me,min_j:_e,max_j:Ke}:J(Tt,Mt,qt,Qt,ft)}(Math.min(ae.row,ye.row),Math.max(ae.row,ye.row),Math.min(ae.col,ye.col),Math.max(ae.col,ye.col),Z);we(),Et.classList.add("fr-cell-fixed"),fe.classList.add("fr-cell-handler");for(var ze=Ce.min_i;ze<=Ce.max_i;ze++)for(var Re=Ce.min_j;Re<=Ce.max_j;Re++)A(Et).closest("table").is(A(Z[ze][Re]).closest("table"))&&A(Z[ze][Re]).addClass("fr-selected-cell")}}function ot(Et){var fe=null,Z=A(Et.target);return Et.target.tagName=="TD"||Et.target.tagName=="TH"?fe=Et.target:0<Z.closest("th",Z.closest("thead")[0]).length?fe=Z.closest("th",Z.closest("thead")[0]).get(0):0<Z.closest("td",Z.closest("tr")[0]).length&&(fe=Z.closest("td",Z.closest("tr")[0]).get(0)),s.$el.html.toString().search(fe)===-1?null:fe}function Me(){we(),s.popups.hide("table.edit")}function et(Et){var fe=ot(Et);if(A(fe).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;if(0<ro().length&&!fe&&Me(),!s.edit.isDisabled()||s.popups.isVisible("table.edit")){if(Et.which!=1||Et.which==1&&s.helpers.isMac()&&Et.ctrlKey)(Et.which==3||Et.which==1&&s.helpers.isMac()&&Et.ctrlKey)&&fe&&Me();else if(a=!0,fe){0<ro().length&&!Et.shiftKey&&Me(),Et.stopPropagation(),s.events.trigger("image.hideResizer"),s.events.trigger("video.hideResizer"),ge=!0;var Z=fe.tagName.toLowerCase();Et.shiftKey&&0<s.$el.find("".concat(Z,".fr-selected-cell")).length?A(s.$el.find("".concat(Z,".fr-selected-cell")).closest("table")).is(A(fe).closest("table"))?nt(p,fe):Pe():((s.keys.ctrlKey(Et)||Et.shiftKey)&&Et.currentTarget.tagName==="TD"&&(1<ro().length||A(fe).find(s.selection.element()).length===0&&!A(fe).is(s.selection.element()))&&Pe(),p=fe,0<s.opts.tableEditButtons.length&&nt(p,p))}}}function Ve(Et){var fe=s.popups.areVisible();if(!s.edit.isDisabled()&&fe&&!fe.hasClass("fr-do-not-hide"))return!0;var Z=ot(Et);if(ro().length===1&&Z===null&&(s.toolbar.enable(),we()),(ro().length===1&&Z&&Z.tagName!=="TD"&&Z.tagName!=="TH"||!ge&&!s.$tb.is(Et.target)&&!s.$tb.is(A(Et.target).closest(".fr-toolbar")))&&(s.toolbar.enable(),we()),(Et.target.tagName==="BODY"||Et.target.tagName==="HTML")&&!Z&&0<ro().length&&s.toolbar.enable(),!(Et.which!=1||Et.which==1&&s.helpers.isMac()&&Et.ctrlKey)){if(a=!1,ge)if(ge=!1,ot(Et)||ro().length!=1)if(0<ro().length){if(s.browser.mozilla&&!s.selection.isCollapsed()){var ae=ro()[ro().length-1],ye=s.doc.createRange();s.selection.get().removeAllRanges(),ye.setStart(ae,0),ye.setEnd(ae,0),ye.collapse(),s.selection.get().addRange(ye)}s.selection.isCollapsed()?(z(),s.toolbar.enable()):(we(),s.edit.on())}else ro().length||(s.$el.removeClass("fr-no-selection"),s.edit.on());else we();if(L){L=!1,b.removeClass("fr-moving"),s.$el.removeClass("fr-no-selection"),s.edit.on();var Ce=parseFloat(b.css("left"))+s.opts.tableResizerOffset+s.$wp.offset().left;s.opts.iframe&&(Ce-=s.$iframe.offset().left),b.data("release-position",Ce),b.removeData("max-left"),b.removeData("max-right"),function(){var Re=b.data("origin"),J=b.data("release-position");if(Re!==J){var pe=b.data("first"),me=b.data("second"),_e=b.data("table"),Ke=_e.outerWidth();if(s.undo.canDo()||s.undo.saveStep(),pe!=null&&me!=null){var ft,gt,At,zt=q(_e),kt=[],Tt=[],Mt=[],qt=[];for(ft=0;ft<zt.length;ft++)gt=A(zt[ft][pe]),At=A(zt[ft][me]),kt[ft]=gt.outerWidth(),Mt[ft]=At.outerWidth(),Tt[ft]=kt[ft]/Ke*100,qt[ft]=Mt[ft]/Ke*100;for(ft=0;ft<zt.length;ft++)if(gt=A(zt[ft][pe]),At=A(zt[ft][me]),zt[ft][pe]!=zt[ft][me]){var Qt=(Tt[ft]*(kt[ft]+J-Re)/kt[ft]).toFixed(4);gt.css("width",Qt+"%"),At.css("width",(Tt[ft]+qt[ft]-Qt).toFixed(4)+"%")}}else{var on,_n=_e.parent(),Dn=parseFloat(_n.css("padding-left")),eo=parseFloat(_n.css("padding-right")),hs=Dn+eo,Bs=Ke/(_n.width()-hs)*100,fs=(parseInt(_e.css("margin-left"),10)||0)/_n.width()*100,Is=(parseInt(_e.css("margin-right"),10)||0)/_n.width()*100;s.opts.direction=="rtl"&&me===0||s.opts.direction!="rtl"&&me!==0?(on=(Ke+J-Re)/Ke*Bs,_e.css("margin-right","calc(100% - ".concat(Math.round(on).toFixed(4),"% - ").concat(Math.round(fs).toFixed(4),"%)"))):(s.opts.direction=="rtl"&&me!==0||s.opts.direction!="rtl"&&me===0)&&(on=(Ke-J+Re)/Ke*Bs,_e.css("margin-left","calc(100% - ".concat(Math.round(on).toFixed(4),"% - ").concat(Math.round(Is).toFixed(4),"%)"))),_e.css("width","".concat(Math.round(on).toFixed(4),"%"))}s.selection.restore(),s.undo.saveStep(),s.events.trigger("table.resized",[_e.get(0)])}b.removeData("origin"),b.removeData("release-position"),b.removeData("first"),b.removeData("second"),b.removeData("table")}(),mt()}}}function Ze(Et){if((!(A(Et.currentTarget).is(A(Et.originalEvent.relatedTarget))||Et.currentTarget.contains(Et.originalEvent.relatedTarget)||Et.originalEvent.relatedTarget&&Et.originalEvent.relatedTarget.contains(Et.currentTarget))||Et.currentTarget.querySelector("input, textarea"))&&(s.events.$on(A("input, textarea"),"click",ms),ge===!0&&0<s.opts.tableEditButtons.length)){if(A(Et.currentTarget).closest("table").is(qo()))return void nt(p,Et.currentTarget);Et.currentTarget.tagName!=="TD"&&Et.currentTarget.tagName!=="TH"&&Pe()}}function Xe(Et,fe,Z,ae){for(var ye,Ce=fe;Ce!=s.el&&Ce.tagName!="TD"&&Ce.tagName!="TH"&&(ae=="up"?ye=Ce.previousElementSibling:ae=="down"&&(ye=Ce.nextElementSibling),!ye);)Ce=Ce.parentNode;Ce.tagName=="TD"||Ce.tagName=="TH"?function(Re,J){for(var pe=Re;pe&&pe.tagName!="TABLE"&&pe.parentNode!=s.el;)pe=pe.parentNode;if(pe&&pe.tagName=="TABLE"){var me=q(A(pe));J=="up"?$e(de(Re,me),pe,me):J=="down"&&tt(de(Re,me),pe,me)}}(Ce,ae):ye&&(ae=="up"&&s.selection.setAtEnd(ye),ae=="down"&&s.selection.setAtStart(ye))}function $e(Et,fe,Z){0<A(".tribute-container").length&&A(".tribute-container").css("display")!="none"||(0<Et.row?s.selection.setAtEnd(Z[Et.row-1][Et.col]):Xe(0,fe,0,"up"))}function tt(Et,fe,Z){if(!(0<A(".tribute-container").length&&A(".tribute-container").css("display")!="none")){var ae=parseInt(Z[Et.row][Et.col].getAttribute("rowspan"),10)||1;Et.row<Z.length-ae?s.selection.setAtStart(Z[Et.row+ae][Et.col]):Xe(0,fe,0,"down")}}function _t(Et){var fe=Et.which,Z=s.selection.blocks();if(Z.length&&((Z=Z[0]).tagName!=="P"&&Z.tagName!=="DIV"||(Z=Z.parentNode),Z.tagName=="TD"||Z.tagName=="TH")){for(var ae=Z;ae&&ae.tagName!="TABLE"&&ae.parentNode!=s.el;)ae=ae.parentNode;if(ae&&ae.tagName=="TABLE"&&(x.KEYCODE.ARROW_LEFT==fe||x.KEYCODE.ARROW_UP==fe||x.KEYCODE.ARROW_RIGHT==fe||x.KEYCODE.ARROW_DOWN==fe)&&(0<ro().length&&Me(),s.browser.webkit&&(x.KEYCODE.ARROW_UP==fe||x.KEYCODE.ARROW_DOWN==fe))){if(!function(Re,J,pe){if(!Re)return!1;var me=Re.tagName==="TD"||Re.tagName==="TH"?Re:A(Re).parentsUntil(s.el,"td, th").get(0);if(!me)return!1;if(me.textContent.trim().length<=0&&me.children.length===1&&me.children[0].tagName==="BR")return!0;if((me.tagName==="TD"||me.tagName==="TH")&&Re&&Re.nodeType!==Node.TEXT_NODE)if(Re.children&&0<Re.children.length){var _e=J>Re.children.length?Re.children.length-1:J-1,Ke=Re.children[_e]||Re.firstChild;Ke&&typeof Ke.textContent=="string"&&(J=(Re=Ke).textContent.trim().length-1)}else Re.firstChild&&typeof Re.firstChild.textContent=="string"&&(Re=Re.firstChild,J=Re.textContent.trim().length-1);var ft=document.createRange();ft.selectNodeContents(me);var gt,At=ft.getBoundingClientRect();if(Re.textContent.trim().length<=0&&Re.getBoundingClientRect)gt=Re.getBoundingClientRect();else{var zt=Re;Re.nodeType!==Node.TEXT_NODE&&(zt=function(Mt){for(var qt=document.createTreeWalker(Mt,NodeFilter.SHOW_TEXT,null,!1),Qt=null;qt.nextNode();)Qt=qt.currentNode;return Qt}(Re),J=zt&&pe==="up"?zt.textContent.length:0);var kt=document.createRange();kt.setStart(zt||Re,J),kt.collapse(!0),gt=kt.getBoundingClientRect()}{if(pe==="up"){if(Re.tagName==="BR"){if(me.firstChild.isSameNode(Re))return!0;if(Re.previousSibling&&(s.node.isBlock(Re.previousSibling)||s.node.isVoid(Re.previousSibling)))return!1}return Math.abs(gt.top-At.top)<=6}if(pe==="down"){if(Re.tagName==="BR"){if(me.lastChild.isSameNode(Re))return!0;if(Re.nextSibling&&(s.node.isBlock(Re.nextSibling)||s.node.isVoid(Re.nextSibling)))return me.lastChild.isSameNode(Re.nextSibling)||!1}return Math.abs(At.bottom-gt.bottom)<=6}}return!1}(s.selection.ranges(0).startContainer,s.selection.ranges(0).startOffset,x.KEYCODE.ARROW_UP==fe?"up":"down"))return;Et.preventDefault(),Et.stopPropagation();var ye=q(A(ae)),Ce=de(Z,ye);return x.KEYCODE.ARROW_UP==fe?$e(Ce,ae,ye):x.KEYCODE.ARROW_DOWN==fe&&tt(Ce,ae,ye),s.selection.restore(),!1}}}function mt(){b&&(b.find("div").css("opacity",0),b.css("top",0),b.css("left",0),b.css("height",0),b.find("div").css("height",0),b.hide())}function Lt(){B&&B.removeClass("fr-visible").css("left","-9999px")}function Rt(Et,fe){var Z,ae=A(fe);ae&&(Z=ae.closest("table"));var ye=Z.parent();if(fe&&fe.tagName!="TD"&&fe.tagName!="TH"&&(0<ae.closest("td").length?fe=ae.closest("td"):0<ae.closest("th").length&&(fe=ae.closest("th"))),!fe||fe.tagName!="TD"&&fe.tagName!="TH")b&&ae.get(0)!=b.get(0)&&ae.parent().get(0)!=b.get(0)&&s.core.sameInstance(b)&&mt();else{if(ae=A(fe),s.$el.find(ae).length===0)return!1;var Ce=ae.offset().left-1,ze=Ce+ae.outerWidth();if(Math.abs(Et.pageX-Ce)<=s.opts.tableResizerOffset||Math.abs(ze-Et.pageX)<=s.opts.tableResizerOffset){var Re,J,pe,me,_e,Ke=q(Z),ft=de(fe,Ke),gt=Le(ft.row,ft.col,Ke),At=Z.offset().top,zt=Z.outerHeight()-1;s.opts.direction!="rtl"?Et.pageX-Ce<=s.opts.tableResizerOffset?(pe=Ce,0<ft.col?(me=Ce-bn(ft.col-1,Ke)+s.opts.tableResizingLimit,_e=Ce+bn(ft.col,Ke)-s.opts.tableResizingLimit,Re=ft.col-1,J=ft.col):(Re=null,J=0,me=Z.offset().left-1-parseInt(Z.css("margin-left"),10),_e=Z.offset().left-1+Z.width()-Ke[0].length*s.opts.tableResizingLimit)):ze-Et.pageX<=s.opts.tableResizerOffset&&(pe=ze,gt.col<Ke[gt.row].length&&Ke[gt.row][gt.col+1]?(me=ze-bn(gt.col,Ke)+s.opts.tableResizingLimit,_e=ze+bn(gt.col+1,Ke)-s.opts.tableResizingLimit,Re=gt.col,J=gt.col+1):(Re=gt.col,J=null,me=Z.offset().left-1+Ke[0].length*s.opts.tableResizingLimit,_e=ye.offset().left-1+ye.width()+parseFloat(ye.css("padding-left")))):ze-Et.pageX<=s.opts.tableResizerOffset?(pe=ze,0<ft.col?(me=ze-bn(ft.col,Ke)+s.opts.tableResizingLimit,_e=ze+bn(ft.col-1,Ke)-s.opts.tableResizingLimit,Re=ft.col,J=ft.col-1):(Re=null,J=0,me=Z.offset().left+Ke[0].length*s.opts.tableResizingLimit,_e=ye.offset().left-1+ye.width()+parseFloat(ye.css("padding-left")))):Et.pageX-Ce<=s.opts.tableResizerOffset&&(pe=Ce,gt.col<Ke[gt.row].length&&Ke[gt.row][gt.col+1]?(me=Ce-bn(gt.col+1,Ke)+s.opts.tableResizingLimit,_e=Ce+bn(gt.col,Ke)-s.opts.tableResizingLimit,Re=gt.col+1,J=gt.col):(Re=gt.col,J=null,me=ye.offset().left+parseFloat(ye.css("padding-left")),_e=Z.offset().left-1+Z.width()-Ke[0].length*s.opts.tableResizingLimit)),b||function(){s.shared.$table_resizer||(s.shared.$table_resizer=A(document.createElement("div")).attr("class","fr-table-resizer").html("<div></div>")),b=s.shared.$table_resizer,s.events.$on(b,"mousedown",function(_n){return!s.core.sameInstance(b)||(0<ro().length&&Me(),_n.which==1?(s.selection.save(),L=!0,b.addClass("fr-moving"),Pe(),s.edit.off(),b.find("div").css("opacity",1),!1):void 0)}),s.events.$on(b,"mousemove",function(_n){if(!s.core.sameInstance(b))return!0;L&&(s.opts.iframe&&(_n.pageX-=s.$iframe.offset().left),Mn(_n))});var on=function(Dn){L&&Ve(Dn)};window.addEventListener("mouseup",on,!0),s.events.on("destroy",function(){window.removeEventListener("mouseup",on,!0)},!0),s.events.on("shared.destroy",function(){b.html("").removeData().remove(),b=null},!0),s.events.on("destroy",function(){s.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),A("body").first().append(b.hide())},!0)}(),b.data("table",Z),b.data("first",Re),b.data("second",J),b.data("instance",s),s.$wp.append(b);var kt=pe-s.win.pageXOffset-s.opts.tableResizerOffset-s.$wp.offset().left,Tt=At-s.$wp.offset().top+s.$wp.scrollTop();if(s.opts.iframe){var Mt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),qt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));kt+=s.$iframe.offset().left+qt,Tt+=s.$iframe.offset().top+Mt,me+=s.$iframe.offset().left,_e+=s.$iframe.offset().left}b.data("max-left",me),b.data("max-right",_e),b.data("origin",pe-s.win.pageXOffset),b.css("top",Tt),b.css("left",kt),b.css("height",zt),b.find("div").css("height",zt),b.css("padding-left",s.opts.tableResizerOffset),b.css("padding-right",s.opts.tableResizerOffset),b.show()}else s.core.sameInstance(b)&&mt()}}function Wt(Et,fe){if(s.$box.find(".fr-line-breaker").isVisible())return!1;B||Hn(),s.$box.append(B),B.data("instance",s);var Z,ae=A(fe).find("tr").first(),ye=Et.pageX,Ce=0,ze=0;if(s.opts.iframe){var Re=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),J=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));Ce+=s.$iframe.offset().left-s.helpers.scrollLeft()+J,ze+=s.$iframe.offset().top-s.helpers.scrollTop()+Re}ae.find("th, td").each(function(){var pe=A(this);return pe.offset().left<=ye&&ye<pe.offset().left+pe.outerWidth()/2?(Z=parseInt(B.find("a").css("width"),10),B.css("top",ze+pe.offset().top-s.$box.offset().top-Z-5),B.css("left",Ce+pe.offset().left-s.$box.offset().left-Z/2),B.data("selected-cell",pe),B.data("position","before"),B.addClass("fr-visible"),!1):pe.offset().left+pe.outerWidth()/2<=ye&&ye<pe.offset().left+pe.outerWidth()?(Z=parseInt(B.find("a").css("width"),10),B.css("top",ze+pe.offset().top-s.$box.offset().top-Z-5),B.css("left",Ce+pe.offset().left-s.$box.offset().left+pe.outerWidth()-Z/2),B.data("selected-cell",pe),B.data("position","after"),B.addClass("fr-visible"),!1):void 0})}function Zt(Et,fe){if(s.$box.find(".fr-line-breaker").isVisible())return!1;B||Hn(),s.$box.append(B),B.data("instance",s);var Z,ae=A(fe),ye=Et.pageY,Ce=0,ze=0;if(s.opts.iframe){var Re=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),J=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));Ce+=s.$iframe.offset().left-s.helpers.scrollLeft()+J,ze+=s.$iframe.offset().top-s.helpers.scrollTop()+Re}ae.find("tr").each(function(){var pe=A(this);Z=parseInt(B.find("a").css("width"),10);var me=Ce+pe.offset().left-s.$box.offset().left;return me=s.$box.offset().left!==0?me-Z-5:me+Z-5,pe.offset().top<=ye&&ye<pe.offset().top+pe.outerHeight()/2?(B.css("top",ze+pe.offset().top-s.$box.offset().top-Z/2),B.css("left",me),B.data("selected-cell",pe.find("td").first()),B.data("position","above"),B.addClass("fr-visible"),!1):pe.offset().top+pe.outerHeight()/2<=ye&&ye<pe.offset().top+pe.outerHeight()?(B.css("top",ze+pe.offset().top-s.$box.offset().top+pe.outerHeight()-Z/2),B.css("left",me),B.data("selected-cell",pe.find("td").first()),B.data("position","below"),B.addClass("fr-visible"),!1):void 0})}function kn(Et,fe){var Z=A(Et);Z.removeClass(fe),Z.length&&Z.get(0).hasAttribute("class")&&!Z.attr("class").trim()&&Z.removeAttr("class")}function Jn(){O[s.id]&&(kn(O[s.id],"fr-table-selector-active fr-table-selector-active-selected"),O[s.id].addClass("fr-table-selector-inactive"),kn(s.$el.find("table.fr-table-selection-hover"),"fr-table-selection-hover"))}function Je(){kn(s.$el.find("table.fr-table-selected"),"fr-table-selected fr-table-selection-hover"),Jn()}function wt(Et){s.$box.append(O[s.id]),O[s.id].data("instance",s);var fe=Et.offset().left-s.$box.offset().left+16,Z=Et.offset().top-s.$box.offset().top-O[s.id].outerHeight();if(s.opts.iframe){var ae=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),ye=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"));fe+=s.$iframe.offset().left-s.helpers.scrollLeft()+ye,Z+=s.$iframe.offset().top-s.helpers.scrollTop()+ae}O[s.id].css("top",Z),O[s.id].css("left",fe)}function It(Et){M=null;var fe=s.doc.elementFromPoint(Et.pageX-s.win.pageXOffset,Et.pageY-s.win.pageYOffset);s.opts.tableResizer&&(!s.popups.areVisible()||s.popups.areVisible()&&s.popups.isVisible("table.edit"))&&Rt(Et,fe),!s.opts.tableInsertHelper||s.popups.areVisible()||s.$tb.hasClass("fr-inline")&&s.$tb.isVisible()||function(ae,ye){if(ro().length===0){var Ce,ze,Re;if(ye&&(ye.tagName=="HTML"||ye.tagName=="BODY"||s.node.isElement(ye)))for(Ce=1;Ce<=s.opts.tableInsertHelperOffset;Ce++){if(ze=s.doc.elementFromPoint(ae.pageX-s.win.pageXOffset,ae.pageY-s.win.pageYOffset+Ce),A(ze).hasClass("fr-tooltip"))return!0;if(ze&&(ze.tagName=="TH"||ze.tagName=="TD"||ze.tagName=="TABLE")&&(A(ze).parents(".fr-wrapper").length||s.opts.iframe)&&A(ze).closest("table").attr("contenteditable")!="false")return Wt(ae,A(ze).closest("table")),!0;if(Re=s.doc.elementFromPoint(ae.pageX-s.win.pageXOffset+Ce,ae.pageY-s.win.pageYOffset),A(Re).hasClass("fr-tooltip"))return!0;if(Re&&(Re.tagName=="TH"||Re.tagName=="TD"||Re.tagName=="TABLE")&&(A(Re).parents(".fr-wrapper").length||s.opts.iframe)&&A(Re).closest("table").attr("contenteditable")!="false")return Zt(ae,A(Re).closest("table")),!0}s.core.sameInstance(B)&&Lt()}}(Et,fe),function(ae,ye){var Ce=A(ye),ze=s.$el.find("table.fr-table-selection-hover"),Re=s.$el.find("table.fr-table-selected");if(s.node.isElement(ye)||s.node.isElement(Ce.parents(".fr-view").first().get(0))||s.core.sameInstance(Ce)||s.core.sameInstance(Ce.parents("div.fr-table-selector"))){if(!Ce.parents(".fr-table-selector").length){var J=Ce.closest("table").filter(function(){return!(!s.$el||!s.$el.length)&&s.$el.get(0).contains(this)});J.length?(wt(J),O[s.id].addClass("fr-table-selector-active"),kn(O[s.id],"fr-table-selector-inactive"),kn(ze,"fr-table-selection-hover"),Re.length&&O[s.id].toggleClass("fr-table-selector-active-selected",Re.get(0)===J.get(0)),J.addClass("fr-table-selection-hover")):ze.length&&Math.abs(ze.offset().top-ae.pageY)<5||O[s.id].hasClass("fr-table-selector-inactive")||Jn()}}else Re.length||Jn()}(Et,fe)}function nn(){if(L){var Et=b.data("table").offset().top-s.win.pageYOffset;if(s.opts.iframe){var fe=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top"));Et+=s.$iframe.offset().top-s.helpers.scrollTop()+fe}b.css("top",Et)}}function bn(Et,fe){var Z,ae=A(fe[0][Et]).outerWidth();for(Z=1;Z<fe.length;Z++)ae=Math.min(ae,A(fe[Z][Et]).outerWidth());return ae}function Tn(Et,fe,Z){var ae,ye=0;for(ae=Et;ae<=fe;ae++)ye+=bn(ae,Z);return ye}function Mn(Et){if(1<ro().length&&a&&Pe(),a===!1&&ge===!1&&L===!1)M&&clearTimeout(M),s.edit.isDisabled()&&!s.popups.isVisible("table.edit")||(M=setTimeout(It,30,Et));else if(L){var fe=Et.pageX-s.win.pageXOffset;s.opts.iframe&&(fe+=s.$iframe.offset().left);var Z=b.data("max-left"),ae=b.data("max-right");Z<=fe&&fe<=ae?b.css("left",fe-s.opts.tableResizerOffset-s.$wp.offset().left):fe<Z&&parseFloat(b.css("left"),10)>Z-s.opts.tableResizerOffset?b.css("left",Z-s.opts.tableResizerOffset-s.$wp.offset().left):ae<fe&&parseFloat(b.css("left"),10)<ae-s.opts.tableResizerOffset&&b.css("left",ae-s.opts.tableResizerOffset-s.$wp.offset().left)}else a&&Lt()}function vn(Et){s.node.isEmpty(Et.get(0))?s.opts.keepTextFormatOnTable&&s.browser.mozilla?Et.append(x.MARKERS):Et.prepend(x.MARKERS):Et.prepend(x.START_MARKER).append(x.END_MARKER)}function Hn(){s.shared.$ti_helper||(s.shared.$ti_helper=A(document.createElement("div")).attr("class","fr-insert-helper").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(s.language.translate("Insert"),'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a>')),s.events.bindClick(s.shared.$ti_helper,"a",function(){var Et=B.data("selected-cell"),fe=B.data("position"),Z=B.data("instance")||s;fe=="before"||fe=="after"?(s.undo.saveStep(),Et.addClass("fr-selected-cell"),Z.table.insertColumn(fe),Et.removeClass("fr-selected-cell"),s.undo.saveStep()):(fe=="above"||fe=="below")&&(s.undo.saveStep(),Et.addClass("fr-selected-cell"),Z.table.insertRow(fe),Et.removeClass("fr-selected-cell"),s.undo.saveStep()),Lt()}),s.events.on("shared.destroy",function(){s.shared.$ti_helper.html("").removeData().remove(),s.shared.$ti_helper=null},!0),s.events.$on(s.shared.$ti_helper,"mousemove",function(Et){Et.stopPropagation()},!0),s.events.$on(A(s.o_win),"scroll",function(){Lt()},!0),s.events.$on(s.$wp,"scroll",function(){Lt()},!0)),B=s.shared.$ti_helper,s.events.on("destroy",function(){B=null}),s.tooltip.bind(s.$box,".fr-insert-helper > a.fr-floating-btn")}function wo(){p=null,clearTimeout(M)}function ro(){return s.el.querySelectorAll(".fr-selected-cell")}function qo(){var Et=ro(),fe=s.$el.find("table.fr-table-selected");if(Et.length){for(var Z=Et[0];Z&&Z.tagName!="TABLE"&&Z.parentNode!=s.el;)Z=Z.parentNode;return Z&&Z.tagName=="TABLE"?A(Z):A([])}return fe.length?A(fe.get(0)):A([])}function zn(Et){var fe=s.popups.get("table.tableProperties"),Z=fe.find(".fr-table-alignment-container"),ae=Z.find(".fr-table-".concat(Et,"-align")).get(0);Z.find(".fr-table-left-align").get(0).innerHTML=s.icon.create("leftTableAlign"),Z.find(".fr-table-center-align").get(0).innerHTML=s.icon.create("centerTableAlign"),Z.find(".fr-table-right-align").get(0).innerHTML=s.icon.create("rightTableAlign"),ae.innerHTML=s.icon.create("".concat(Et,"TableAlignActive")),ae.focus(),fe.data("tableAlign",Et)}function ls(){var Et={buttons:"",table_properties_form:`
         <div class="fr-table-properties-form">
            <div class="fr-table-properties-section">
              <label>Background</label>
              <div class="fr-table-bg-container">
                <div class="fr-input-line">
                  <input type="text" title="`.concat(s.language.translate("Custom background color input"),`" id="fr-table-bg" class="fr-input" placeholder="Color" tabIndex="1" aria-required="true">
                </div>
                <button title="`).concat(s.language.translate("Background color picker"),`" role="button" type="button" class="fr-command fr-enable-accessibility fr-btn-table-bg-color" data-param1="table" tabIndex="2" data-cmd="openColorPicker">
                  <div class="fr-color-preview">
                    <div class="fr-color-preview-indicator"></div>
                  </div>
                </button>
              </div>
              <label>Border</label>
              <div class="fr-table-border-container">
                <div class="fr-input-line">
                  <label class="fr-field-lable">Style</label>
                  <div class= "fr-buttons fr-border-style"> `).concat(s.button.build("tableBorderStyle",x.COMMANDS.tableBorderStyle,!0),`</div>
                </div>
                <div class="fr-input-line">
                  <input  title="`).concat(s.language.translate("Custom border color input"),`" id="fr-table-border-color" class="fr-input" type="text" placeholder="Color" tabIndex="3" aria-required="true">
                </div>
                <button  title="`).concat(s.language.translate("Border color picker"),`" role="button" type="button" class="fr-command fr-btn-table-border-bg-color fr-enable-accessibility" tabIndex="4" data-param1="border" data-cmd="openColorPicker">
                  <div class="fr-border-color-preview">
                    <div class="fr-border-color-preview-indicator"></div>
                  </div>
                </button>
                <div class="fr-input-line">
                  <input  title="`).concat(s.language.translate("Border width"),`" id="fr-table-border-width" type="text" class="fr-input" placeholder="Width" tabIndex="5" aria-required="true">
                </div>
              </div>
              <div class="fr-table-dimentions-section">
                <div>
                  <label>Dimentions</label>
                  <div class="fr-table-dimentions-container">
                    <div class="fr-input-line">
                      <input title="`).concat(s.language.translate("Table width"),`" type="text" id="fr-table-width" placeholder="Width" tabIndex="6">
                    </div>
                    <span class="fr-dimension-separator">×</span>
                    <div class="fr-input-line">
                      <input title="`).concat(s.language.translate("Table height"),`" type="text" id="fr-table-height" placeholder="Height" tabIndex="7">
                    </div>
                  </div>
                </div>
                <div class="fr-table-alignment-section">
                  <label>Alignment</label>
                  <div class="fr-table-alignment-container">
                    <button title="`).concat(s.language.translate("Left align"),'" class="fr-enable-accessibility fr-command fr-table-left-align" data-param1="left" data-cmd="tableAlign" tabIndex="8">').concat(s.icon.create("leftTableAlign"),`</button>
                    <button title="`).concat(s.language.translate("Center align"),'" class="fr-enable-accessibility fr-command fr-table-center-align" data-param1="center" data-cmd="tableAlign" tabIndex="9">').concat(s.icon.create("centerTableAlign"),`</button>
                    <button title="`).concat(s.language.translate("Right align"),'" class="fr-enable-accessibility fr-command fr-table-right-align" data-param1="right" data-cmd="tableAlign" tabIndex="10">').concat(s.icon.create("rightTableAlign"),`</button>
                  </div>
                </div>
              </div>
              <label>Table style</label>
              <div class="fr-table-style-container">
                <div class="fr-input-line">
                  <label class="fr-field-lable">Style</label>
                  <div class= "fr-buttons fr-table-style"> `).concat(s.button.build("tableStyle",x.COMMANDS.tableStyle,!0),`</div>
                </div>
              </div>
            </div>
            <div class="fr-table-properties-buttons">
              <button title="`).concat(s.language.translate("Cancel"),`" role="button" type="button" class="fr-enable-accessibility fr-command fr-cancel-button" tabIndex="11" data-cmd="onCancel">Cancel</button>
              <button title="`).concat(s.language.translate("Save"),`" role="button" type="button" class="fr-enable-accessibility fr-command fr-save-button" tabIndex="12" data-cmd="applyTableProperties">Save</button>
            </div>
          </div>
        `)},fe=s.popups.create("table.tableProperties",Et),Z=function(ye,Ce,ze){fe.find(ye).on("keydown",function(Re){var J=A(Re.target),pe=Re.which;pe!==x.KEYCODE.ENTER&&pe!==x.KEYCODE.ARROW_DOWN&&pe!==x.KEYCODE.SPACE||J.hasClass("fr-active")||!J.is("button")||(Ce&&ze&&s.button.click(J),Re.preventDefault(),Re.stopPropagation()),setTimeout(function(){if(pe===x.KEYCODE.TAB&&Ce&&ze){var me=Re.shiftKey?fe.find(Ce):fe.find(ze);me&&me.length&&me.focus(),Re.preventDefault(),Re.stopPropagation()}},10)})};return Z(".fr-border-style > button",".fr-btn-table-bg-color","#fr-table-border-color"),Z(".fr-border-style > .fr-dropdown-menu li",".fr-btn-table-bg-color","#fr-table-border-color"),Z(".fr-table-style > button",".fr-table-right-align",".fr-cancel-button"),Z(".fr-table-style > .fr-dropdown-menu li",".fr-table-right-align",".fr-cancel-button"),Z(".fr-save-button",".fr-cancel-button","#fr-table-bg"),fe}function ms(){ge=!1}return{_init:function(){if(!s.$wp)return!1;if(s.helpers.isMobile()&&(s.events.$on(s.$el,"mousedown",et),s.events.$on(s.$win,"mouseup",Ve)),!s.helpers.isMobile()){L=ge=a=!1,s.events.$on(s.$el,"mousedown",et),s.popups.onShow("image.edit",function(){we(),ge=a=!1}),s.popups.onShow("link.edit",function(){we(),ge=a=!1}),s.events.$on(s.$el,"mouseover","th, td",Ze),s.events.$on(s.$win,"mouseup",Ve),s.opts.iframe&&s.events.$on(A(s.o_win),"mouseup",Ve),s.events.$on(s.$win,"mousemove",Mn),s.events.$on(A(s.o_win),"scroll",nn),s.events.on("contentChanged",function(){Jn(),0<ro().length&&!s.popups.isVisible("table.tableProperties")&&(z(),s.$el.find("img").on("load.selected-cells",function(){A(this).off("load.selected-cells"),0<ro().length&&z()}))}),s.events.$on(A(s.o_win),"resize",function(){we()}),s.events.on("toolbar.esc",function(){if(0<ro().length)return s.events.disableBlur(),s.events.focus(),!1},!0),s.events.$on(A(s.o_win),"keydown",function(){a&&ge&&(ge=a=!1,s.$el.removeClass("fr-no-selection"),s.edit.on(),s.selection.setAtEnd(s.$el.find(".fr-selected-cell").last().get(0)),s.selection.restore(),we())}),s.events.$on(s.$el,"keydown",function(Ce){Ce.shiftKey?function(Re){var J=ro();if(J!=null&&0<J.length){var pe,me=q(),_e=Re.which,Ke=de(J.length==1?pe=J[0]:(pe=s.el.querySelector(".fr-cell-fixed"),s.el.querySelector(".fr-cell-handler")),me);if(x.KEYCODE.ARROW_RIGHT==_e){if(Ke.col<me[0].length-1)return nt(pe,me[Ke.row][Ke.col+1]),!1}else if(x.KEYCODE.ARROW_DOWN==_e){if(Ke.row<me.length-1)return nt(pe,me[Ke.row+1][Ke.col]),!1}else if(x.KEYCODE.ARROW_LEFT==_e){if(0<Ke.col)return nt(pe,me[Ke.row][Ke.col-1]),!1}else if(x.KEYCODE.ARROW_UP==_e&&0<Ke.row)return nt(pe,me[Ke.row-1][Ke.col]),!1}}(Ce)===!1&&setTimeout(function(){z()},0):_t(Ce)}),s.events.on("keydown",function(Ce){if(function(_n){if(_n.which==x.KEYCODE.TAB){var Dn;if(0<ro().length)Dn=s.$el.find(".fr-selected-cell").last();else{var eo=s.selection.element();eo.tagName=="TD"||eo.tagName=="TH"?Dn=A(eo):eo!=s.el&&(0<A(eo).parentsUntil(s.$el,"td").length?Dn=A(eo).parents("td").first():0<A(eo).parentsUntil(s.$el,"th").length&&(Dn=A(eo).parents("th").first()))}if(Dn)return _n.preventDefault(),!!(s.selection.get().focusOffset===0&&0<A(s.selection.element()).parentsUntil(s.$el,"ol, ul").length&&(0<A(s.selection.element()).closest("li").prev().length||A(s.selection.element()).is("li")&&0<A(s.selection.element()).prev().length))||(Me(),_n.shiftKey?0<Dn.prev().length?vn(Dn.prev()):0<Dn.closest("tr").length&&0<Dn.closest("tr").prev().length?vn(Dn.closest("tr").prev().find("td").last()):0<Dn.closest("tbody").length&&0<Dn.closest("table").find("thead tr").length&&vn(Dn.closest("table").find("thead tr th").last()):0<Dn.next().length?vn(Dn.next()):0<Dn.closest("tr").length&&0<Dn.closest("tr").next().length?vn(Dn.closest("tr").next().find("td").first()):0<Dn.closest("thead").length&&0<Dn.closest("table").find("tbody tr").length?vn(Dn.closest("table").find("tbody tr td").first()):(Dn.addClass("fr-selected-cell"),U("below"),we(),vn(Dn.closest("tr").next().find("td").first())),s.selection.restore(),!1)}}(Ce)===!1)return!1;var ze=function(){we(),Je(),Ce.preventDefault(),Ce.stopPropagation()},Re=s.$el.find("table.fr-table-selected"),J=Ce.which;if(Re.length&&!s.keys.isArrow(Ce.which)&&J!==x.KEYCODE.TAB&&J!==x.KEYCODE.ALT&&J!==x.KEYCODE.ESC){if(Ce.ctrlKey||Ce.metaKey||J===x.KEYCODE.SHIFT)return!0;D(),s.undo.saveStep(),ze();var pe=s.html.defaultTag();if(J===x.KEYCODE.ENTER||s.keys.isCharacter(J)&&!Ce.ctrlKey&&!Ce.metaKey){var me,_e=J===x.KEYCODE.ENTER;me=pe?_e?"<".concat(pe,' id="cursor-marker"></').concat(pe,">"):"<".concat(pe,' id="cursor-marker"> ').concat(J===x.KEYCODE.SPACE?"&nbsp;":Ce.key,"</").concat(pe,">"):_e?'<br id="cursor-marker">':"".concat(J===x.KEYCODE.SPACE?"&nbsp;":Ce.key,' <br id="cursor-marker">'),s.html.insert(me,!0,!0);var Ke=s.$el.find("#cursor-marker").get(0);Ke&&Ke.parentNode&&setTimeout(function(){var on=s.doc.createRange();on.setStart(Ke,_e?0:1),on.setEnd(Ke,_e?0:1),on.collapse(!0);var _n=s.selection.get();_n.removeAllRanges(),_n.addRange(on),s.$el.focus()},0),Ke.removeAttribute("id")}return!1}if(Re.length&&s.keys.isArrow(Ce.which)){var ft=Ce.which===x.KEYCODE.ARROW_DOWN||Ce.which===x.KEYCODE.ARROW_RIGHT,gt=Ce.which===x.KEYCODE.ARROW_UP||Ce.which===x.KEYCODE.ARROW_LEFT;if(ft||gt){var At=ft?Re.next():Re.prev();if(At&&At.length&&At[0].nodeType===Node.ELEMENT_NODE){var zt=At[0];if(zt.tagName==="UL"||zt.tagName==="OL"){var kt=zt.querySelectorAll("li");0<kt.length&&(zt=kt[kt.length-1])}(zt.childNodes.length===0||zt.childNodes.length===1&&zt.firstChild.nodeName==="BR")&&(zt.innerHTML="",zt.appendChild(document.createTextNode("​")));var Tt=s.doc.createRange();ft?Tt.setStartBefore(At[0]):(Tt.selectNodeContents(zt),Tt.collapse(!1));var Mt=s.selection.get();Mt.removeAllRanges(),Mt.addRange(Tt),setTimeout(function(){s.events.disableBlur(),s.$el[0].focus(),s.events.enableBlur()},0)}}return ze(),!1}!(Ce.ctrlKey||Ce.metaKey)&&Re.length&&(we(),Je()),Jn();var qt=ro();if(0<qt.length){if(0<qt.length&&s.keys.ctrlKey(Ce)&&Ce.which==x.KEYCODE.A)return we(),s.popups.isVisible("table.edit")&&s.popups.hide("table.edit"),qt=[],!0;if(Ce.which==x.KEYCODE.ESC&&s.popups.isVisible("table.edit"))return we(),s.popups.hide("table.edit"),Ce.preventDefault(),Ce.stopPropagation(),Ce.stopImmediatePropagation(),!(qt=[]);if(1<qt.length&&(Ce.which==x.KEYCODE.BACKSPACE||Ce.which==x.KEYCODE.DELETE)){s.undo.saveStep();for(var Qt=0;Qt<qt.length;Qt++)A(qt[Qt]).html("<br>"),Qt==qt.length-1&&A(qt[Qt]).prepend(x.MARKERS);return s.selection.restore(),s.undo.saveStep(),!(qt=[])}if(1<qt.length&&Ce.which!=x.KEYCODE.F10&&!s.keys.isBrowserAction(Ce))return Ce.preventDefault(),!(qt=[])}else if(!(qt=[])===function(_n){if(_n.altKey&&_n.which==x.KEYCODE.SPACE){var Dn,eo=s.selection.element();if(eo.tagName=="TD"||eo.tagName=="TH"?Dn=eo:0<A(eo).closest("td").length?Dn=A(eo).closest("td").get(0):0<A(eo).closest("th").length&&(Dn=A(eo).closest("th").get(0)),Dn)return _n.preventDefault(),nt(Dn,Dn),z(),!1}}(Ce))return!1},!0);var fe=null,Z=[];s.events.on("html.beforeGet",function(){Z=ro();for(var Ce=0;Ce<Z.length;Ce++)Z[Ce].className=(Z[Ce].className||"").replace(/fr-selected-cell/g,"");(fe=s.$el.find("table.fr-table-selected"))&&fe.length&&kn(fe,"fr-table-selected")}),s.events.on("html.afterGet",function(){for(var Ce=0;Ce<Z.length;Ce++)Z[Ce].className=(Z[Ce].className?Z[Ce].className.trim()+" ":"")+"fr-selected-cell";Z=[],fe&&fe.length&&fe.addClass("fr-table-selected")});var ae=!1,ye=["applytextColor","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","applybackgroundColor","inlineClass","inlineStyle","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote","clearFormatting"];s.events.on("commands.before",function(Ce,ze){if(!ae&&1<ro().length&&ye.indexOf(Ce)!==-1){s.undo.saveStep(),s.selection.save(),s.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder");var Re=x.COMMANDS[Ce].undo;x.COMMANDS[Ce].undo=!1,ae=!0;for(var J={},pe=0;pe<ro().length;pe++){var me=ro()[pe],_e=me.closest("tr").rowIndex;J[_e]||(J[_e]=[]),J[_e].push(me)}for(var Ke in J){var ft=J[Ke];s.selection.get().removeAllRanges();var gt=s.doc.createRange();gt.setStartBefore(ft[0]),gt.setEndAfter(ft[ft.length-1]),s.selection.get().addRange(gt),s.commands.exec(Ce,[ze])}return s.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),s.selection.restore(),s.undo.saveStep(),x.COMMANDS[Ce].undo=Re,ae=!1}}),s.events.on("dragover",Me),s.events.on("element.dropped",function(Ce){Me(),ge=a=!1;var ze=ot({target:Ce.get(0)});ze&&(nt(ze,ze),z())}),H(!0),j(!0),re()}s.events.on("destroy",wo)},insert:function(fe,Z){var ae=function(){var ft={startTag:"",closeTag:""};if(s.opts.keepTextFormatOnTable){var gt=A(s.selection.element().firstChild).parentsUntil(s.$el);ft=ie(gt)}return{startTag:ft.startTag,closeTag:ft.closeTag}}(),ye=[];s.opts.tableDefaultWidth&&ye.push("width: "+s.opts.tableDefaultWidth+";"),s.opts.tableDefaultHeight&&ye.push("height: "+s.opts.tableDefaultHeight+";"),ye.push("margin: auto;"),s.opts.tableDefaultAlign==="left"?ye.push("float: left;"):s.opts.tableDefaultAlign==="right"&&ye.push("float: right;"),s.opts.tableDefaultBorderColor&&ye.push("border-color: "+s.opts.tableDefaultBorderColor+";"),s.opts.tableDefaultBorderWidth&&ye.push("border-width: "+s.opts.tableDefaultBorderWidth+";"),s.opts.tableDefaultBorderStyle&&ye.push("border-style: "+s.opts.tableDefaultBorderStyle+";"),s.opts.tableDefaultBGColor&&ye.push("background-color: "+s.opts.tableDefaultBorderStyle+";");var Ce,ze,Re=ye.join(" "),J="<table "+(Re?'style="'+Re+'"':"")+' class="fr-inserted-table"><tbody>',pe=100/Z;for(Ce=0;Ce<fe;Ce++){for(J+="<tr>",ze=0;ze<Z;ze++)J+="<td"+(s.opts.tableDefaultWidth?' style="width: '+pe.toFixed(4)+'%;"':"")+">"+ae.startTag,Ce===0&&ze===0&&(J+=x.MARKERS),J+="<br>"+ae.closeTag+"</td>";J+="</tr>"}if(J+="</tbody></table>",s.opts.trackChangesEnabled){s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.markers.insert(),s.html.wrap();var me=s.$el.find(".fr-marker");s.node.isLastSibling(me)&&me.parent().hasClass("fr-deletable")&&me.insertAfter(me.parent()),me.replaceWith(J),s.selection.clear()}else s.html.insert(J);s.selection.restore();var _e=s.$el.find(".fr-inserted-table");kn(_e,"fr-inserted-table"),s.events.trigger("table.inserted",[_e.get(0)])},remove:D,insertRow:U,deleteRow:function(){var fe=qo();if(0<fe.length){var Z,ae,ye,Ce=q(),ze=We(Ce);if(ze==null)return;if(ze.min_i===0&&ze.max_i==Ce.length-1)D();else{for(Z=ze.max_i;Z>=ze.min_i;Z--){for(ye=A(fe.find("tr").not(fe.find("> table tr")).get(Z)),ae=0;ae<Ce[Z].length;ae++)if(ae===0||Ce[Z][ae]!=Ce[Z][ae-1]){var Re=A(Ce[Z][ae]);if(1<parseInt(Re.attr("rowspan"),10)){var J=parseInt(Re.attr("rowspan"),10)-1;J==1?Re.removeAttr("rowspan"):Re.attr("rowspan",J)}if(Z<Ce.length-1&&Ce[Z][ae]==Ce[Z+1][ae]&&(Z===0||Ce[Z][ae]!=Ce[Z-1][ae])){for(var pe=Ce[Z][ae],me=ae;0<me&&Ce[Z][me]==Ce[Z][me-1];)me--;me===0?A(fe.find("tr").not(fe.find("> table tr")).get(Z+1)).prepend(pe):A(Ce[Z+1][me-1])[0].parentNode&&A(Ce[Z+1][me-1])[0].insertAdjacentElement("afterend",pe)}}var _e=ye.parent();ye.remove(),_e.find("tr").length===0&&_e.remove(),Ce=q(fe)}ne(0,Ce.length-1,0,Ce[0].length-1,fe),0<ze.min_i?s.selection.setAtEnd(Ce[ze.min_i-1][0]):s.selection.setAtEnd(Ce[0][0]),s.selection.restore(),s.popups.hide("table.edit")}}},insertColumn:function(fe){var Z=qo();if(0<Z.length){var ae,ye=q(),Ce=We(ye);ae=fe=="before"?Ce.min_j:Ce.max_j;var ze,Re=100/ye[0].length,J=100/(ye[0].length+1);Z.find("th, td").each(function(){(ze=A(this)).data("old-width",ze.outerWidth()/Z.outerWidth()*100)}),Z.find("tr").not(Z.find("> table tr")).each(function(pe){for(var me,_e=A(this),Ke=0,ft=0;Ke-1<ae;){if(!(me=_e.find("> th, > td").get(ft))){me=null;break}me==ye[pe][Ke]?(Ke+=parseInt(A(me).attr("colspan"),10)||1,ft++):(Ke+=parseInt(A(ye[pe][Ke]).attr("colspan"),10)||1,fe=="after"&&(me=ft===0?-1:_e.find("> th, > td").get(ft-1)))}var gt=A(me);if(fe=="after"&&ae<Ke-1||fe=="before"&&0<ae&&ye[pe][ae]==ye[pe][ae-1]){if(pe===0||0<pe&&ye[pe][ae]!=ye[pe-1][ae]){var At=parseInt(gt.attr("colspan"),10)+1;gt.attr("colspan",At),gt.css("width",(gt.data("old-width")*J/Re+J).toFixed(4)+"%"),gt.removeData("old-width")}}else{var zt,kt=(gt.get(0)||"").tagName;if(0<_e.find("th").length&&kt==="TH")zt='<th style="width: '.concat(J.toFixed(4),'%;"><br></th>');else{var Tt=se(ye[pe][ae]);zt='<td style="'.concat(gt.attr("style"),"; width: ").concat(J.toFixed(4),'%;">')+Tt.startTag+"<br>"+Tt.closeTag+"</td>"}A(zt).append("<br>"),A(zt).css("width","".concat(J.toFixed(4),"%")),me==-1?_e.prepend(zt):me==null?_e.append(zt):fe=="before"?gt.before(zt):fe=="after"&&gt.after(zt)}}),Z.find("th, td").each(function(){(ze=A(this)).data("old-width")&&(ze.css("width",(ze.data("old-width")*J/Re).toFixed(4)+"%"),ze.removeData("old-width"))}),s.popups.isVisible("table.edit")&&z()}},deleteColumn:function(){var fe=qo();if(0<fe.length){var Z,ae,ye,Ce=q(),ze=We(Ce);if(ze==null)return;if(ze.min_j===0&&ze.max_j==Ce[0].length-1)D();else{var Re=0;for(Z=0;Z<Ce.length;Z++)for(ae=0;ae<Ce[0].length;ae++)(ye=A(Ce[Z][ae])).hasClass("fr-selected-cell")||(ye.data("old-width",ye.outerWidth()/fe.outerWidth()*100),(ae<ze.min_j||ae>ze.max_j)&&(Re+=ye.outerWidth()/fe.outerWidth()*100));for(Re/=Ce.length,ae=ze.max_j;ae>=ze.min_j;ae--)for(Z=0;Z<Ce.length;Z++)if(Z===0||Ce[Z][ae]!=Ce[Z-1][ae])if(ye=A(Ce[Z][ae]),1<(parseInt(ye.attr("colspan"),10)||1)){var J=parseInt(ye.attr("colspan"),10)-1;J==1?ye.removeAttr("colspan"):ye.attr("colspan",J),ye.css("width",(100*(ye.data("old-width")-bn(ae,Ce))/Re).toFixed(4)+"%"),ye.removeData("old-width")}else{var pe=A(ye.parent().get(0));ye.remove(),pe.find("> th, > td").length===0&&(pe.prev().length===0||pe.next().length===0||pe.prev().find("> th[rowspan], > td[rowspan]").length<pe.prev().find("> th, > td").length)&&pe.remove()}ne(0,Ce.length-1,0,Ce[0].length-1,fe),0<ze.min_j?s.selection.setAtEnd(Ce[ze.min_i][ze.min_j-1]):s.selection.setAtEnd(Ce[ze.min_i][0]),s.selection.restore(),s.popups.hide("table.edit"),fe.find("th, td").each(function(){(ye=A(this)).data("old-width")&&(ye.css("width",(100*ye.data("old-width")/Re).toFixed(4)+"%"),ye.removeData("old-width"))})}}},mergeCells:function(){if(1<ro().length&&(s.$el.find("th.fr-selected-cell").length===0||s.$el.find("td.fr-selected-cell").length===0)){Ae();var fe,Z,ae=We(q());if(ae==null)return;var ye=s.$el.find(".fr-selected-cell"),Ce=A(ye[0]),ze=Ce.parent().find(".fr-selected-cell"),Re=Ce.closest("table"),J=Ce.html(),pe=0;for(fe=0;fe<ze.length;fe++)pe+=A(ze[fe]).outerWidth();for(Ce.css("width",Math.min(100,pe/Re.outerWidth()*100).toFixed(4)+"%"),ae.min_j<ae.max_j&&Ce.attr("colspan",ae.max_j-ae.min_j+1),ae.min_i<ae.max_i&&Ce.attr("rowspan",ae.max_i-ae.min_i+1),fe=1;fe<ye.length;fe++)(Z=A(ye[fe])).html()!="<br>"&&Z.html()!==""&&(J+="<br>".concat(Z.html())),Z.remove();Ce.html(J),s.selection.setAtEnd(Ce.get(0)),s.selection.restore(),s.toolbar.enable(),I(ae.min_i,ae.max_i,Re);var me=Re.find("tr:empty");for(fe=me.length-1;0<=fe;fe--)A(me[fe]).remove();V(ae.min_j,ae.max_j,Re),z()}},splitCellVertically:function(){if(ro().length==1){var fe=s.$el.find(".fr-selected-cell"),Z=parseInt(fe.attr("colspan"),10)||1,ae=fe.parent().outerWidth(),ye=fe.outerWidth(),Ce=fe.clone().html("<br>"),ze=q(),Re=de(fe.get(0),ze);if(1<Z){var J=Math.ceil(Z/2);ye=Tn(Re.col,Re.col+J-1,ze)/ae*100;var pe=Tn(Re.col+J,Re.col+Z-1,ze)/ae*100;1<J?fe.attr("colspan",J):fe.removeAttr("colspan"),1<Z-J?Ce.attr("colspan",Z-J):Ce.removeAttr("colspan"),fe.css("width",ye.toFixed(4)+"%"),Ce.css("width",pe.toFixed(4)+"%")}else{var me;for(me=0;me<ze.length;me++)if(me===0||ze[me][Re.col]!=ze[me-1][Re.col]){var _e=A(ze[me][Re.col]);if(!_e.is(fe)){var Ke=(parseInt(_e.attr("colspan"),10)||1)+1;_e.attr("colspan",Ke)}}ye=ye/ae*100/2,fe.css("width","".concat(ye.toFixed(4),"%")),Ce.css("width","".concat(ye.toFixed(4),"%"))}fe[0].parentNode&&fe[0].insertAdjacentElement("afterend",Ce[0]),we(),s.popups.hide("table.edit")}},splitCellHorizontally:function(){if(ro().length==1){var fe=s.$el.find(".fr-selected-cell"),Z=fe.parent(),ae=fe.closest("table"),ye=parseInt(fe.attr("rowspan"),10),Ce=q(),ze=de(fe.get(0),Ce),Re=fe.clone().html("<br>");if(1<ye){var J=Math.ceil(ye/2);1<J?fe.attr("rowspan",J):fe.removeAttr("rowspan"),1<ye-J?Re.attr("rowspan",ye-J):Re.removeAttr("rowspan");for(var pe=ze.row+J,me=ze.col===0?ze.col:ze.col-1;0<=me&&(Ce[pe][me]==Ce[pe][me-1]||0<pe&&Ce[pe][me]==Ce[pe-1][me]);)me--;me==-1?A(ae.find("tr").not(ae.find("> table tr")).get(pe)).prepend(Re):A(Ce[pe][me])[0].parentNode&&A(Ce[pe][me])[0].insertAdjacentElement("afterend",Re[0])}else{var _e,Ke=A(document.createElement("tr")).append(Re);for(_e=0;_e<Ce[0].length;_e++)if(_e===0||Ce[ze.row][_e]!=Ce[ze.row][_e-1]){var ft=A(Ce[ze.row][_e]);ft.is(fe)||ft.attr("rowspan",(parseInt(ft.attr("rowspan"),10)||1)+1)}Z[0].parentNode&&Z[0].insertAdjacentElement("afterend",Ke[0])}we(),s.popups.hide("table.edit")}},addHeader:function(){var fe=qo();if(0<fe.length&&fe.find("> th").length===0){var Z,ae="<thead><tr>",ye=0;for(ye=fe.find("tr").first().find("> th").length,fe.find("tr").first().find("> td").each(function(){var Ce=A(this);ye+=parseInt(Ce.attr("colspan"),10)||1}),Z=0;Z<ye;Z++)ae+="<th><br></th>";ae+="</tr></thead>",fe.prepend(ae),z()}},addFooter:function(){var fe=qo();if(0<fe.length&&fe.find("tfoot").length===0){var Z="<tfoot><tr>",ae=0,ye=fe.find("thead tr").first();ye.length===0&&(ye=fe.find("tbody tr").first()),ye.find("th, td").each(function(){ae+=parseInt(A(this).attr("colspan"),10)||1});for(var Ce=0;Ce<ae;Ce++)Z+="<td><br></td>";Z+="</tr></tfoot>",fe.append(Z),z()}},removeHeader:function(){var fe=qo(),Z=fe.find("> thead");if(0<(Z=A(Z)).length)if(fe.find("tbody tr").length===0)D();else if(Z.remove(),0<ro().length)z();else{s.popups.hide("table.edit");var ae=fe.find("tbody tr").first().find("td").first().get(0);ae&&(s.selection.setAtEnd(ae),s.selection.restore())}},removeFooter:function(){var fe=qo(),Z=fe.find("tfoot");if(0<Z.length)if(fe.find("tbody tr").length===0)D();else if(Z.remove(),0<ro().length)z();else{s.popups.hide("table.edit");var ae=fe.find("tbody tr").first().find("td").first().get(0);ae&&(s.selection.setAtEnd(ae),s.selection.restore())}},setBackground:function(fe){var Z=s.$el.find(".fr-selected-cell");fe!="REMOVE"?Z.css("background-color",s.helpers.HEXtoRGB(fe)):Z.css("background-color","")},showInsertPopup:function(){var fe=s.$tb.find('.fr-command[data-cmd="insertTable"]'),Z=s.popups.get("table.insert");if(Z||(Z=H()),!Z.hasClass("fr-active")){s.popups.refresh("table.insert"),s.popups.setContainer("table.insert",s.$tb);var ae=s.button.getPosition(fe),ye=ae.left,Ce=ae.top;s.popups.show("table.insert",ye,Ce,fe.outerHeight())}},showEditPopup:z,showColorsPopup:function(fe){var Z=q();if(Z){var ae=s.popups.get("table.colors");ae||(ae=function(){var J="",pe=0;0<s.opts.tableColorsButtons.length&&(J='<div class="fr-buttons fr-colors-buttons fr-tabs">'.concat(s.button.buildList(s.opts.tableColorsButtons),"</div>"));var me="";s.opts.colorsHEXInput&&(me='<div class="fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'.concat(s.id,`">
        <div class="fr-input-line">
        <input maxlength="7" id="fr-table-colors-hex-layer-text" tabIndex="`).concat(++pe,'" type="text" placeholder="').concat(s.language.translate("HEX Color"),`" aria-required="true">
        </div>
        <div class="fr-action-buttons">
        <button type="button" class="fr-command fr-submit" tabIndex="`).concat(++pe,`" data-cmd="applyCustomColor" role="button">
        `).concat(s.language.translate("OK"),`
        </button>
        </div>
        </div>`));var _e={buttons:J,colors:function(){for(var gt='<div class="fr-color-set fr-table-colors">',At=0;At<s.opts.tableColors.length;At++)At!==0&&At%s.opts.tableColorsStep==0&&(gt+="<br>"),s.opts.tableColors[At]!="REMOVE"?gt+='<span class="fr-command fr-select-color" style="background: '.concat(s.opts.tableColors[At],`;" tabIndex="-1" aria-selected="false" role="button" data-cmd='onSelectColor' data-param1="`).concat(s.opts.tableColors[At],'"><span class="fr-sr-only">').concat(s.language.translate("Color")," ").concat(s.opts.tableColors[At],"&nbsp;&nbsp;&nbsp;</span></span>"):gt+=`<span class="fr-command fr-select-color" data-cmd='onColorClear' tabIndex="-1" role="button" title="`.concat(s.language.translate("Clear Formatting"),'">').concat(s.icon.create("tableColorRemove"),'<span class="fr-sr-only">').concat(s.language.translate("Clear Formatting"),"</span></span>");return gt+="</div>"}(),custom_color:me},Ke=s.popups.create("table.colors",_e);return function(gt){s.events.on("popup.tab",function(At){var zt=A(At.currentTarget);if(!s.popups.isVisible("table.colors")||!zt.is("span, input, button"))return!0;var kt,Tt,Mt=At.which,qt=!0;if(x.KEYCODE.TAB==Mt){var Qt=gt.find("span.fr-select-color");if(zt.is(Qt.first())&&At.shiftKey||zt.is(gt.find("span.fr-submit"))&&!At.shiftKey){var on=gt.find(".fr-buttons");qt=!s.accessibility.focusToolbar(on,!!At.shiftKey)}if(qt!==!1){var _n=gt.find("span.fr-select-color");_n.add(gt.find("input")),_n.add(gt.find("button.fr-submit")),kt=_n.index(zt),kt=At.shiftKey?((kt-1)%_n.length+_n.length)%_n.length:(kt+1)%_n.length,Tt=_n.get(kt),s.events.disableBlur(),Tt.focus(),qt=!1}}else if(x.KEYCODE.ARROW_UP==Mt||x.KEYCODE.ARROW_DOWN==Mt||x.KEYCODE.ARROW_LEFT==Mt||x.KEYCODE.ARROW_RIGHT==Mt){var Dn=zt.parent().find("span.fr-command"),eo=Dn.index(zt),hs=s.opts.colorsStep,Bs=Math.floor(Dn.length/hs),fs=eo%hs,Is=Math.floor(eo/hs),bs=Is*hs+fs,Go=Bs*hs;x.KEYCODE.ARROW_UP==Mt?bs=((bs-hs)%Go+Go)%Go:x.KEYCODE.ARROW_DOWN==Mt?bs=(bs+hs)%Go:x.KEYCODE.ARROW_LEFT==Mt?bs=((bs-1)%Go+Go)%Go:x.KEYCODE.ARROW_RIGHT==Mt&&(bs=(bs+1)%Go);var Do=A(Dn.get(bs));s.events.disableBlur(),Do.focus(),qt=!1}else x.KEYCODE.ENTER==Mt&&(s.button.exec(zt),qt=!1);return qt===!1&&(At.preventDefault(),At.stopPropagation()),qt},!0)}(Ke),Ke}()),ae.data("type",fe),s.popups.setContainer("table.colors",s.$sc);var ye=ut(Z),Ce=(ye.left+ye.right)/2,ze=ye.bottom;(function(){var J=s.popups.get("table.colors"),pe=s.$el.find(".fr-selected-cell").first(),me=s.helpers.RGBToHex(pe.css("background-color")),_e=J.find(".fr-table-colors-hex-layer input");J.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),J.find('span[data-param1="'.concat(me,'"]')).addClass("fr-selected-color fr-active-item"),_e.val("")})(),s.popups.show("table.colors",Ce,ze,ye.bottom-ye.top,!0)}},showTableProperties:function(){var fe=q();if(fe){var Z=s.popups.get("table.tableProperties");Z||(Z=ls());var ae=qo();Z.data("tableStyle",{}),Z.data("borderStyle","");var ye=ae[0],Ce=ye&&ye.getAttribute("style")||"",ze=!!Ce,Re=ze&&/background(-color)?\s*:/i.test(Ce)?ae.css("background-color"):"",J=ze&&/border(-color)?\s*:/i.test(Ce)?ae.css("border-color"):"",pe=ze&&/border(-style)?\s*:/i.test(Ce)?ae.css("border-style"):"",me=ze&&/border(-width)?\s*:/i.test(Ce)?ae[0].style.borderWidth:"",_e=ze&&/(^|\s|;)width\s*:/i.test(Ce)&&ye?ye.style.width:"",Ke=ze&&/(^|\s|;)height\s*:/i.test(Ce)&&ye?ye.style.height:"",ft=ze&&/(^|\s|;)float\s*:/i.test(Ce)&&ye?ye.style.float:"center",gt="",At={};if(ae.is("[class]")){var zt=ae.attr("class").split(/\s+/),kt=s.opts.tableStyles;At=zt.reduce(function(Dn,eo){return kt.hasOwnProperty(eo)&&(Dn[eo]=kt[eo]),Dn},{}),gt=Object.values(At).join(", ")}var Tt=function(eo,hs,Bs,fs){var Is=s.helpers.isRGBColor(fs)?s.helpers.RGBToHex(fs):fs;Z.find(eo).val(Is),K(Z.find(hs),Z.find(Bs),Is)},Mt=Z.find(".fr-border-style").find(".fr-dropdown"),qt=Z.find(".fr-table-style").find(".fr-dropdown");Tt("#fr-table-bg",".fr-color-preview",".fr-color-preview-indicator",Re),Tt("#fr-table-border-color",".fr-border-color-preview",".fr-border-color-preview-indicator",J),Mt.find("> span").text(pe),qt.find("> span").text(gt||" "),zn(ft),setTimeout(function(){me&&Z.find("#fr-table-border-width").val(me).focus(),J&&Z.find("#fr-table-border-color").focus(),_e&&Z.find("#fr-table-width").val(_e).focus(),Ke&&Z.find("#fr-table-height").val(Ke).focus(),pe&&Z.data("borderStyle",pe),At&&Z.data("tableStyle",At),Z.find("#fr-table-bg").focus()},10),s.popups.setContainer("table.tableProperties",s.$sc);var Qt=ut(fe),on=(Qt.left+Qt.right)/2,_n=Qt.bottom;s.popups.show("table.tableProperties",on,_n,Qt.bottom-Qt.top,!0)}},hideTableProperties:function(){s.popups.hide("table.tableProperties")},updateTableAlign:zn,back:function(fe){if(s.popups.isVisible("table.colors")){s.popups.hide("table.colors");var Z=q();if(Z){var ae=fe==="table"||fe==="border",ye=ae?"table.tableProperties":"table.cellProperties",Ce=s.popups.get(ye);Ce||(Ce=ae?ls():ee()),s.popups.setContainer(ye,s.$sc);var ze,Re=ut(Z),J=Re.left+(Re.right-Re.left)/2,pe=Re.bottom;s.popups.show(ye,J,pe,Re.bottom-Re.top,!0),ze=fe==="table"?".fr-btn-table-bg-color":fe==="border"?".fr-btn-table-border-bg-color":".fr-btn-cell-bg-color",Ce.find(ze).focus()}}else 0<ro().length?z():(s.popups.hide("table.insert"),s.toolbar.showInline())},verticalAlign:function(fe){s.$el.find(".fr-selected-cell").css("vertical-align",fe)},horizontalAlign:function(fe){s.$el.find(".fr-selected-cell").css("text-align",fe)},applyStyle:function(fe,Z,ae,ye){if(0<Z.length){if(s.opts.useClasses||(Z.get(0).tagName==="TABLE"?function ze(Re,J){var pe=Re.childNodes;if(0<pe.length)for(var me=0;me<pe.length;me++)pe[me].tagName==="TD"?J==="fr-dashed-borders"||J==="fr-highlighted"||J==="fr-thick"?G(pe[me]):J==="fr-alternate-rows"&&pe[me].style.removeProperty("background-color"):ze(pe[me],J)}(Z.get(0),fe):G(Z.get(0))),!ae){var Ce=Object.keys(ye);Ce.splice(Ce.indexOf(fe),1),Z.removeClass(Ce.join(" "))}Z.toggleClass(fe)}},selectedTable:qo,selectedCells:ro,customColor:function(){var fe=s.popups.get("table.colors").find(".fr-table-colors-hex-layer input"),Z=fe.val(),ae=Z;Z&&Z.length&&(Z.indexOf("#")!==0&&(ae="#"+Z),xe(ae)),fe.val("")},selectCells:nt,resetAll:w,showCellPropertiesPopup:function(){var fe=q();if(fe){var Z=s.popups.get("table.cellProperties")||ee();Z.find("#fr-cell-bg, #fr-cell-width, #fr-cell-height, #fr-cell-padding").val(""),w(),K(Z.find(".fr-color-preview"),Z.find(".fr-color-preview-indicator"),"");var ae=s.table.selectedCells();if(ae.length){var ye=null,Ce=!0,ze=null,Re=!0,J=null,pe=!0,me=null,_e=!0,Ke=function(qt){return qt==="rgba(0, 100, 255, 0.15)"};Array.from(ae).forEach(function(Mt,qt){var Qt,on=A(Mt),_n=on.css("background-color");_n&&_n!=="rgba(0, 0, 0, 0)"&&_n!=="transparent"&&(Qt=s.helpers.RGBToHex(_n));var Dn=on.attr("data-cell-width"),eo=on.attr("data-cell-height"),hs=on.attr("data-cell-padding");qt===0?(ze=Dn||null,J=eo||null,me=hs||null,ye=Qt||null):(Dn!==ze&&(Re=!1),eo!==J&&(pe=!1),hs!==me&&(_e=!1),Qt!==ye&&(Ce=!1))});var ft="";if(ae.length===1){var gt=A(ae[0]),At=gt.css("background-color");!(gt[0]&&gt[0].hasAttribute("style")&&/background(-color)?:/i.test(gt.attr("style")))&&Ke(At)||(ft=s.helpers.isRGBColor(At)?s.helpers.RGBToHex(At):At)}else Ce&&ye&&Array.from(ae).every(function(Mt){var qt=A(Mt),Qt=Mt.getAttribute("style")||"",on=/background(-color)?:/i.test(Qt),_n=qt.css("background-color");return on||!Ke(_n)})&&(ft=s.helpers.isRGBColor(ye)?s.helpers.RGBToHex(ye):ye);Z.find("#fr-cell-bg").val(ft),K(Z.find(".fr-color-preview"),Z.find(".fr-color-preview-indicator"),ft),Re&&ze&&Z.find("#fr-cell-width").val(ze),pe&&J&&Z.find("#fr-cell-height").val(J),_e&&me&&Z.find("#fr-cell-padding").val(me),s.popups.setContainer("table.cellProperties",s.$sc);var zt=ut(fe),kt=zt.left+(zt.right-zt.left)/2,Tt=zt.bottom;s.popups.show("table.cellProperties",kt,Tt,zt.bottom-zt.top,!0)}}},updateSelectedColor:xe}},x.RegisterCommand("tableProperties",{title:"Table Properties",icon:"tablePropertiesIcon",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showTableProperties()}}),x.RegisterCommand("openColorPicker",{title:"Select color",focus:!1,popup:!0,callback:function(s,b){this.table.showColorsPopup(b)}}),x.RegisterCommand("onCancel",{title:"Cancel",callback:function(){this.popups.hide("table.tableProperties"),this.popups.hide("table.cellProperties"),this.table.showEditPopup()}}),x.RegisterCommand("applyCustomColor",{title:"OK",undo:!0,callback:function(){var s=this.popups.get("table.colors");this.table.back(s.data("type")),this.table.customColor()}}),x.RegisterCommand("onSelectColor",{undo:!0,focus:!1,callback:function(s,b){var B=this.popups.get("table.colors");this.table.back(B.data("type")),this.table.updateSelectedColor(b)}}),x.RegisterCommand("tableAlign",{title:"Table Align",undo:!0,callback:function(s,b){this.table.updateTableAlign(b)}}),x.RegisterCommand("tableBorderStyle",{title:"",type:"dropdown",focus:!0,undo:!0,refreshAfterCallback:!0,displaySelection:function(s){return s.opts.tableBorderStyle},html:function(){for(var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.tableBorderStyle,B=0;B<b.length;B++)s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableBorderStyle" data-param1="'.concat(b[B],'" title="').concat(b[B],'">').concat(b[B],"</a></li>");return s+="</ul>"},callback:function(s,b){var B=this.popups.get("table.tableProperties"),ge=B.find(".fr-border-style").find(".fr-dropdown");ge.find("> span").text(b),B.data("borderStyle",b),ge.focus()},refreshOnShow:function(s,b){var B=this.popups.get("table.tableProperties").data("borderStyle");b.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),b.find('.fr-command[data-param1="'.concat(B,'"]')).addClass("fr-active").attr("aria-selected",!0)}}),x.RegisterCommand("tableStyle",{title:"",type:"dropdown",focus:!0,undo:!0,displaySelectionWidth:"300",refreshAfterCallback:!0,displaySelection:function(s){return s.opts.tableStyles},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.tableStyles;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},callback:function(s,b){var B=this.popups.get("table.tableProperties"),ge=B.find(".fr-table-style").find(".fr-dropdown"),a=this.opts.tableStyles,p=B.data("tableStyle")||{};p[b]?delete p[b]:p[b]=a[b],B.data("tableStyle",p);var M=Object.keys(p).length?Object.values(p).join(", "):" ";ge.find("> span").text(M),ge.focus()},refreshOnShow:function(s,b){var B=this,ge=this.$el.find(".fr-selected-cell").closest("table"),a=this.popups.get("table.tableProperties");ge&&b.find(".fr-command").each(function(p,M){var L=B.$(M).data("param1"),A=a.data("tableStyle")&&a.data("tableStyle")[L];A&&B.$(M).toggleClass("fr-active",A).attr("aria-selected",A)})}}),x.RegisterCommand("onColorClear",{undo:!0,focus:!1,callback:function(){var s=this.popups.get("table.colors");this.table.back(s.data("type")),s.find("#fr-table-colors-hex-layer-text").val(""),this.table.updateSelectedColor("")}}),x.RegisterCommand("applyTableProperties",{title:"Apply Table Properties",undo:!0,focus:!0,callback:function(){var s=this.popups.get("table.tableProperties"),b=s.find("#fr-table-bg").val(),B=s.find("#fr-table-border-color").val(),ge=this.table.selectedTable(),a=s.find("#fr-table-width").val(),p=s.find("#fr-table-height").val(),M=s.find("#fr-table-border-width").val(),L=s.data("borderStyle"),A=s.data("tableAlign"),O=s.data("tableStyle"),z=!b||b==="REMOVE"||b==="transparent"||b==="rgba(0, 0, 0, 0)";ge.css("background-color",z?"":b);var Q=!B||B==="REMOVE"||B==="transparent"||B==="rgba(0, 0, 0, 0)";ge.css("border-color",Q?"":B);var H=function(K){if(K==="")return!0;var ee=K.trim();return/^-?\d+(\.\d+)?$/.test(ee)&&(ee+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(ee)?ee:null};if(a&&H(a)?ge.css("width",H(a)):ge.css("width",""),p&&H(p)?ge.css("height",H(p)):ge.css("height",""),M&&H(M)?ge.css("border-width",H(M)):ge.css("border-width",""),L&&ge.css("border-style",L),A==="center"?(ge.css("margin","auto"),ge.css("float","")):(ge.parent().is("li")&&ge.parent().css("display","list-item flow-root"),ge.css("float",A),ge.css("margin","")),ge.removeAttr("class"),O&&0<Object.keys(O).length)for(var P in O)O.hasOwnProperty(P)&&ge.addClass(P);this.popups.hide("table.tableProperties")}}),x.RegisterCommand("tableCellProperties",{title:"Cell Properties",icon:"tableCellProperties",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showCellPropertiesPopup()},refresh:function(s){var b=0<this.table.selectedCells().length;s.toggleClass("fr-disabled",!b).attr("aria-disabled",!b)}}),x.RegisterCommand("applyCellProperties",{title:"Apply Cell Properties",undo:!0,focus:!1,callback:function(){var s=this.$,b=this.popups.get("table.cellProperties"),B=function(H,P,j,K){var ee=s(H);j?(K&&ee.attr(K,j),j!==ee[0].style[P]&&(["width","height"].includes(P)&&ee.removeAttr(P),ee.css(P,j))):(ee.css(P,""),K&&ee.removeAttr(K),["width","height"].includes(P)&&ee.removeAttr(P))},ge=b.find("#fr-cell-bg").val(),a=b.find("#fr-cell-width").val(),p=b.find("#fr-cell-height").val(),M=b.find("#fr-cell-padding").val(),L=b.data("bg-modified")===!0,A=b.data("width-modified")===!0,O=b.data("height-modified")===!0,z=b.data("padding-modified")===!0;this.table.selectedCells().forEach(function(Q){var H=s(Q);if(L){var P=!ge||ge==="REMOVE"||ge==="transparent"||ge==="rgba(0, 0, 0, 0)";H.css("background-color",P?"":ge)}var j=function(ee){if(ee==="")return!0;var w=ee.trim();return/^-?\d+(\.\d+)?$/.test(w)&&(w+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(w)?w:null};A&&j(a)&&B(Q,"width",a,"data-cell-width"),O&&j(p)&&B(Q,"height",p,"data-cell-height"),z&&j(M)&&B(Q,"padding",M,"data-cell-padding")}),this.table.resetAll(),this.popups.hide("table.cellProperties")}}),x.DefineIcon("insertTable",{NAME:"table",SVG_KEY:"insertTable"}),x.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),x.RegisterCommand("tableInsert",{callback:function(s,b,B){this.table.insert(b,B),this.popups.hide("table.insert")}}),x.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading",SVG_KEY:"tableHeader"}),x.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(s){var b=this.table.selectedTable();0<b.length&&(b.find("> thead").length===0?s.removeClass("fr-active").attr("aria-pressed",!1):s.addClass("fr-active").attr("aria-pressed",!0))}}),x.DefineIcon("tableFooter",{NAME:"table",FA5NAME:"table",SVG_KEY:"tableFooter"}),x.RegisterCommand("tableFooter",{title:"Table Footer",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableFooter"]').hasClass("fr-active")?this.table.removeFooter():this.table.addFooter()},refresh:function(s){var b=this.table.selectedTable();0<b.length&&(b.find("tfoot").length===0?s.removeClass("fr-active").attr("aria-pressed",!1):s.addClass("fr-active").attr("aria-pressed",!0))}}),x.DefineIcon("tableRows",{NAME:"bars",SVG_KEY:"row"}),x.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below",delete:"Delete row"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableRows.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+B+'" title="'+this.language.translate(b[B])+'">'+this.language.translate(b[B])+"</a></li>");return s+="</ul>"},callback:function(s,b){b=="above"||b=="below"?this.table.insertRow(b):this.table.deleteRow()}}),x.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90",SVG_KEY:"columns"}),x.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after",delete:"Delete column"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableColumns.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},callback:function(s,b){b=="before"||b=="after"?this.table.insertColumn(b):this.table.deleteColumn()}}),x.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square",SVG_KEY:"cellOptions"}),x.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableCells.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},callback:function(s,b){b=="merge"?this.table.mergeCells():b=="vertical-split"?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(s,b){1<this.$el.find(".fr-selected-cell").length?(b.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),b.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),b.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(b.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),b.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),b.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),x.DefineIcon("tableRemove",{NAME:"trash",SVG_KEY:"removeTable"}),x.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),x.DefineIcon("tableBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){var s=this.popups.get("table.colors");this.table.back(s.data("type"))}}),x.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"verticalAlignMiddle"}),x.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableCellVerticalAlign.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'.concat(B.toLowerCase(),'" title="').concat(this.language.translate(b[B]),'">').concat(this.language.translate(B),"</a></li>"));return s+="</ul>"},callback:function(s,b){this.table.verticalAlign(b)},refreshOnShow:function(s,b){b.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),x.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),x.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.tableCellHorizontalAlign.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.icon.create("align-".concat(B)),'<span class="fr-sr-only">').concat(this.language.translate(b[B]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.table.horizontalAlign(b)},refresh:function(s){var b=this.table.selectedCells(),B=this.$;b.length&&s.find("> *").first().replaceWith(this.icon.create("align-".concat(this.helpers.getAlignment(B(b[0])))))},refreshOnShow:function(s,b){b.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell").first())+'"]').addClass("fr-active").attr("aria-selected",!0)}}),x.DefineIcon("tableCellStyle",{NAME:"magic",SVG_KEY:"cellStyle"}),x.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.tableCellStyles;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.language.translate(b[B]),"</a></li>"));return s+="</ul>"},callback:function(s,b){this.table.applyStyle(b,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(s,b){var B=this.$,ge=this.$el.find(".fr-selected-cell").first();ge&&b.find(".fr-command").each(function(){var a=B(this).data("param1"),p=ge.hasClass(a);B(this).toggleClass("fr-active",p).attr("aria-selected",p)})}}),x.DefineIcon("tableColorRemove",{NAME:"eraser",SVG_KEY:"remove"}),x.DefineIcon("tableCellProperties",{template:"svgMultiplePath",PATHS:`
    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.513 3.25C20.9736 3.25 22.1577 4.43408 22.1577 5.89471V12.6517L22.1546 12.6526C21.8784 12.4577 21.6084 12.2933 21.3448 12.1593C21.1821 12.0767 21.0123 11.9963 20.8353 11.9183V8.53928H15.546V12.2584C15.3417 12.3719 15.1339 12.5033 14.9223 12.6526L12.7375 11.9949L11.6254 13.8287H8.93418V16.4735H12.9027C12.893 16.6127 12.8882 16.7519 12.8882 16.891C12.8882 17.1927 12.911 17.4943 12.9565 17.7959H3.64471C2.18408 17.7959 1 16.6118 1 15.1512V5.89471C1 4.43408 2.18408 3.25 3.64471 3.25H19.513ZM19.513 4.57235H15.546V7.21692H20.8353V5.89471C20.8353 5.16439 20.2433 4.57235 19.513 4.57235ZM8.93418 4.57235H14.2236V7.21692H8.93418V4.57235ZM3.64471 4.57235H7.61183V7.21692H2.32235V5.89471C2.32235 5.16439 2.91439 4.57235 3.64471 4.57235ZM2.32235 12.5063V8.53928H7.61183V12.5063H2.32235ZM2.32235 15.1512V13.8287H7.61183V16.4735H3.64471C2.91439 16.4735 2.32235 15.8815 2.32235 15.1512Z" fill="#333333"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133  16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307  19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>
  `}),x.DefineIcon("tablePropertiesIcon",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1577 5.89471C22.1577 4.43408 20.9736 3.25 19.513 3.25H3.64471C2.18408 3.25 1 4.43408 1 5.89471V15.1512C1 16.6118 2.18408 17.7959 3.64471 17.7959H12.9565C12.911 17.4943 12.8882 17.1927 12.8882 16.891C12.8882 16.7519 12.893 16.6127 12.9027 16.4735H8.93418V13.8287H11.6254L12.4273 12.5063H8.93418V8.53928H14.2236V12.4422L14.9223 12.6526C15.1339 12.5033 15.3417 12.3719 15.546 12.2584V8.53928H20.8353V11.9183C21.0123 11.9963 21.1821 12.0767 21.3448 12.1593C21.6084 12.2933 21.8784 12.4577 22.1546 12.6526L22.1577 12.6517V5.89471ZM15.546 4.57235H19.513C20.2433 4.57235 20.8353 5.16439 20.8353 5.89471V7.21692H15.546V4.57235ZM14.2236 4.57235H8.93418V7.21692H14.2236V4.57235ZM7.61183 4.57235H3.64471C2.91439 4.57235 2.32235 5.16439 2.32235 5.89471V7.21692H7.61183V4.57235ZM2.32235 8.53928V12.5063H7.61183V8.53928H2.32235ZM2.32235 13.8287V15.1512C2.32235 15.8815 2.91439 16.4735 3.64471 16.4735H7.61183V13.8287H2.32235Z" fill="#333333"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133 16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307 19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>
  `}),x.DefineIcon("leftTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>
    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>
    <path d="M18.3333 6.45801V7.79134H13V6.45801H18.3333Z" fill="#999998"/>
    <path d="M18.3333 9.12467V10.458H13V9.12467H18.3333Z" fill="#999998"/>
    <path d="M18.3333 11.7913V13.1247H13V11.7913H18.3333Z" fill="#999998"/>
    <path d="M10.3333 12.3333V13.6667H2.33333V12.3333H10.3333ZM10.3333 7H2.33333V13.6667C1.6431 13.6667 1.07495 13.1422 1.00651 12.4701L1 12.3333V7C1 6.26362 1.59695 5.66667 2.33333 5.66667H10.3333C11.0697 5.66667 11.6667 6.26362 11.6667 7V12.3333L11.6602 12.4701C11.5917 13.1422 11.0236 13.6667 10.3333 13.6667V7Z" fill="#333333"/>
  `}),x.DefineIcon("leftTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 6.95801V8.29134H13.5V6.95801H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 9.62467V10.958H13.5V9.62467H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 12.2913V13.6247H13.5V12.2913H18.8333Z" fill="#90B7FF"/>
    <path d="M10.8333 12.8333V14.1667H2.83333V12.8333H10.8333ZM10.8333 7.5H2.83333V14.1667C2.1431 14.1667 1.57495 13.6422 1.50651 12.9701L1.5 12.8333V7.5C1.5 6.76362 2.09695 6.16667 2.83333 6.16667H10.8333C11.5697 6.16667 12.1667 6.76362 12.1667 7.5V12.8333L12.1602 12.9701C12.0917 13.6422 11.5236 14.1667 10.8333 14.1667V7.5Z" fill="#2A77FF"/>
  `}),x.DefineIcon("centerTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>
    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>
    <path d="M13 12.3333V13.6667H6.33333V12.3333H13ZM13 7H6.33333V13.6667L6.19661 13.6602C5.56938 13.5963 5.07038 13.0973 5.00651 12.4701L5 12.3333V7C5 6.26362 5.59695 5.66667 6.33333 5.66667H13C13.7364 5.66667 14.3333 6.26362 14.3333 7V12.3333L14.3268 12.4701C14.263 13.0973 13.764 13.5963 13.1367 13.6602L13 13.6667V7Z" fill="#333333"/>
  `}),x.DefineIcon("centerTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>
    <path d="M13.5 12.8333V14.1667H6.83333V12.8333H13.5ZM13.5 7.5H6.83333V14.1667L6.69661 14.1602C6.06938 14.0963 5.57038 13.5973 5.50651 12.9701L5.5 12.8333V7.5C5.5 6.76362 6.09695 6.16667 6.83333 6.16667H13.5C14.2364 6.16667 14.8333 6.76362 14.8333 7.5V12.8333L14.8268 12.9701C14.763 13.5973 14.264 14.0963 13.6367 14.1602L13.5 14.1667V7.5Z" fill="#2A77FF"/>
 `}),x.DefineIcon("rightTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>
    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>
    <path d="M6.83333 6.95801V8.29134H1.5V6.95801H6.83333Z" fill="#90B7FF"/>
    <path d="M6.83333 9.62467V10.958H1.5V9.62467H6.83333Z" fill="#90B7FF"/>
    <path d="M6.83333 12.2913V13.6247H1.5V12.2913H6.83333Z" fill="#90B7FF"/>
    <path d="M17.5 12.8333V14.1667H9.5V12.8333H17.5ZM17.5 7.5H9.5V14.1667C8.80976 14.1667 8.24162 13.6422 8.17318 12.9701L8.16667 12.8333V7.5C8.16667 6.76362 8.76362 6.16667 9.5 6.16667H17.5C18.2364 6.16667 18.8333 6.76362 18.8333 7.5V12.8333L18.8268 12.9701C18.7584 13.6422 18.1902 14.1667 17.5 14.1667V7.5Z" fill="#2A77FF"/>
  `}),x.DefineIcon("rightTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:`
    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>
    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>
    <path d="M6.33333 6.45801V7.79134H1V6.45801H6.33333Z" fill="#999998"/>
    <path d="M6.33333 9.12468V10.458H1V9.12468H6.33333Z" fill="#999998"/>
    <path d="M6.33333 11.7913V13.1247H1V11.7913H6.33333Z" fill="#999998"/>
    <path d="M17 12.3333V13.6667H9V12.3333H17ZM17 7H9V13.6667C8.30976 13.6667 7.74162 13.1422 7.67318 12.4701L7.66667 12.3333V7C7.66667 6.26362 8.26362 5.66667 9 5.66667H17C17.7364 5.66667 18.3333 6.26362 18.3333 7V12.3333L18.3268 12.4701C18.2584 13.1422 17.6902 13.6667 17 13.6667V7Z" fill="#333333"/>
  `}),x.DefineIcon("tableSelectorIcon",{template:"svgMultiplePath",VIEWBOX:"1 1 14 14",PATHS:`<mask id="mask0_85_21" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><rect width="16" height="16" fill="white"/></mask>
          <g mask="url(#mask0_85_21)"><path d="M3.33333 14C2.96667 14 2.65278 13.8694 2.39167 13.6083C2.13056 13.3472 2 13.0333 2 12.6667V10H3.33333V12.6667H6V14H3.33333ZM10 
          14V12.6667H12.6667V10H14V12.6667C14 13.0333 13.8694 13.3472 13.6083 13.6083C13.3472 13.8694 13.0333 14 12.6667 14H10ZM2 6V3.33333C2 2.96667 2.13056 2.65278 2.39167 
          2.39167C2.65278 2.13056 2.96667 2 3.33333 2H6V3.33333H3.33333V6H2ZM12.6667 6V3.33333H10V2H12.6667C13.0333 2 13.3472 2.13056 13.6083 2.39167C13.8694 2.65278 14 2.96667 
          14 3.33333V6H12.6667Z" fill="white"/> <rect opacity="0.4" x="4" y="4" width="8" height="8" fill="white"/></g>`}),x.URLRegEx="(^| |\\u00A0)(".concat(x.LinkRegEx,"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$"),x.PLUGINS.url=function(s){var b=s.$,B=null;function ge(A,O,z){for(var Q="";z.length&&z[z.length-1]==".";)Q+=".",z=z.substring(0,z.length-1);var H=z;if(s.opts.linkConvertEmailAddress)s.helpers.isEmail(H)&&!/^mailto:.*/i.test(H)&&(H="mailto:".concat(H));else if(s.helpers.isEmail(H))return O+z;return/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(H)||(H="//".concat(H)),(O||"")+"<a".concat(s.opts.linkAlwaysBlank?' target="_blank"':"").concat(B?' rel="'.concat(B,'"'):"",' data-fr-linked="true" href="').concat(H,'">').concat(z.replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</a>").concat(Q)}var a=function(){return new RegExp(x.URLRegEx,"gi")};function p(A){return s.opts.linkAlwaysNoFollow&&(B="nofollow"),s.opts.linkAlwaysBlank&&(s.opts.linkNoOpener&&(B?B+=" noopener":B="noopener"),s.opts.linkNoReferrer&&(B?B+=" noreferrer":B="noreferrer")),A.replace(a(),ge)}function M(A){var O=A.split(" ");return O[O.length-1]}function L(){var A=s.selection.ranges(0),O=A.startContainer;if(O.nodeType!==Node.TEXT_NODE)return!1;if(!O||A.startOffset!==(O.textContent||"").length){s.markers.insert();var z=s.$el.find(".fr-marker"),Q=O.textContent.match(/(^| |\u00A0)(((([a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})(\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))|((ftp|http|https):\/\/[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})|(www\.[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}\.[a-z0-9-]{2,24})|((ftp|http|https):\/\/[\u0021-\uffff]{1,}@[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}))((:[0-9]{1,5})|)(((\/|\?|#)[a-z\u00a1-\uffff0-9@?\|!^=%&amp;\/~+#-\'*-_{}]*)|())|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\.[a-z0-9+-_]{1,}))$/gi);if(z.remove(),!Q)return!1}if(function xe(be){return!!be&&(be.tagName==="A"||!(!be.parentNode||be.parentNode==s.el)&&xe(be.parentNode))}(O))return!1;if(a().test(M(O.textContent))){var H,P=O.textContent.length;if(0<P&&O.textContent.charAt(P-1)===","){b(O).before(p(O.textContent.substring(0,P-1))),(H=b(O.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"),O.textContent=",";var j=s.win.getSelection().getRangeAt(0);j.setStart(O,1),j.setEnd(O,1)}else b(O).before(p(O.textContent)),(H=b(O.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"),O.parentNode.removeChild(O);s.events.trigger("url.linked",[H.get(0)])}else if(O.textContent.split(" ").length<=2&&O.previousSibling&&O.previousSibling.tagName==="A"){var K=O.previousSibling.innerText+O.textContent,ee=O.textContent.length;if(a().test(M(K))&&O.textContent.charAt(ee-1)!==","){var w=new DOMParser().parseFromString(p(K),"text/html").body.childNodes;O.parentNode.replaceChild(w[0],O.previousSibling),w.length&&b(O).before(w[0]),O.parentNode.removeChild(O)}}}return{_init:function(){s.events.on("keypress",function(O){!s.selection.isCollapsed()||O.key!=")"&&O.key!="("||L()},!0),s.events.on("keydown",function(O){var z=O.which;!s.selection.isCollapsed()||z!=x.KEYCODE.ENTER&&z!=x.KEYCODE.SPACE||L()},!0),s.events.on("paste.beforeCleanup",function(O){if(s.helpers.isURL(O)&&!s.$el[0].getAttribute("plainpaste")){var z=null;return s.opts.linkAlwaysBlank&&(s.opts.linkNoOpener&&(z?z+=" noopener":z="noopener"),s.opts.linkNoReferrer&&(z?z+=" noreferrer":z="noreferrer")),"<a".concat(s.opts.linkAlwaysBlank?' target="_blank"':"").concat(z?' rel="'.concat(z,'"'):"",' href="').concat(O,'" >').concat(O,"</a>")}if(s.$el[0].getAttribute("plainpaste"))return function(H){if(typeof H=="string")return(H=H.replace(/&amp;/g,"&")).replace(/(?:https?|ftp|file):\/\/(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$'\u2019"`()[\]{}\\])|www\.(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.'\u2019"`()[\]{}\\]*\)|[-A-Z0-9+&@#\/%=~_|$'\u2019"`()[\]{}\\])|(?:[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]{2,})|(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z]{2,}(?:\/[^\s<]*)?/gim,p)}(O)})}}},Object.assign(x.POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(x.DEFAULTS,{videoAllowedTypes:["mp4","webm","ogg","mp3","mpeg","url"],videoAllowedProviders:[".*"],videoDefaultAlign:"center",videoDefaultDisplay:"block",videoDefaultWidth:600,videoEditButtons:["videoReplace","videoRemove","videoDisplay","videoAlign","videoSize","autoplay"],videoInsertButtons:["videoBack","|","videoByURL","videoEmbed","videoUpload"],videoMaxSize:52428800,videoMove:!0,videoResize:!0,videoResponsive:!1,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoUpload:!0,videoUploadMethod:"POST",videoUploadParam:"file",videoUploadParams:{},videoUploadToS3:!1,videoUploadToAzure:!1,videoUploadURL:null}),x.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\/?((shorts\/)|(v=))?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|shorts\/)?([0-9a-zA-Z_\-]+)(.*)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque&rel=0" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],x.VIDEO_EMBED_REGEX=/^\W*(<div[^>]*>\s*<iframe[^>]*>.*?<\/iframe>\s*<\/div>(\s*<script[^>]*>.*?<\/script>)?|<iframe[^>]*>.*?<\/iframe>|<embed(.|\n)*>)\W*$/i,x.PLUGINS.video=function(s){var b,B,ge,a,p,M,L=s.$,A="https://i.froala.com/upload",O=2,z=3,Q=4,H=5,P=6,j={};function K(){var Je=s.popups.get("video.insert");Je.find(".fr-video-by-url-layer input").val("").trigger("change");var wt=Je.find(".fr-video-embed-layer textarea");wt.val("").trigger("change"),(wt=Je.find(".fr-video-upload-layer input")).val("").trigger("change")}function ee(){var Je=s.popups.get("video.edit");if(Je||(Je=function(){var vn="";if(0<s.opts.videoEditButtons.length){s.opts.videoResponsive&&(-1<s.opts.videoEditButtons.indexOf("videoSize")&&s.opts.videoEditButtons.splice(s.opts.videoEditButtons.indexOf("videoSize"),1),-1<s.opts.videoEditButtons.indexOf("videoDisplay")&&s.opts.videoEditButtons.splice(s.opts.videoEditButtons.indexOf("videoDisplay"),1),-1<s.opts.videoEditButtons.indexOf("videoAlign")&&s.opts.videoEditButtons.splice(s.opts.videoEditButtons.indexOf("videoAlign"),1));var Hn={buttons:vn+=`<div class="fr-buttons"> 
      `.concat(s.button.buildList(s.opts.videoEditButtons),` 
      </div>`)},wo=s.popups.create("video.edit",Hn);return s.events.$on(s.$wp,"scroll.video-edit",function(){a&&s.popups.isVisible("video.edit")&&(s.events.disableBlur(),V(a))}),wo}return!1}()),Je){s.popups.setContainer("video.edit",s.$sc),s.popups.refresh("video.edit");var wt=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),It=wt.offset().left+wt.outerWidth()/2,nn=wt.offset().top+wt.outerHeight(),bn=wt.get(0).src?wt.get(0).src:wt.get(0).currentSrc,Tn=!(!(bn=(bn=bn.split("."))[bn.length-1]).includes("pdf")&&!bn.includes("txt"));wt.hasClass("fr-file")||Tn||a.find("audio").get(0)?(document.getElementById("autoplay-".concat(s.id))&&(document.getElementById("autoplay-".concat(s.id)).style.display="none"),document.getElementById("videoReplace-".concat(s.id))&&(document.getElementById("videoReplace-".concat(s.id)).style.display="none")):(document.getElementById("autoplay-".concat(s.id))&&(document.getElementById("autoplay-".concat(s.id)).style.display=""),document.getElementById("videoReplace-".concat(s.id))&&(document.getElementById("videoReplace-".concat(s.id)).style.display="")),s.popups.show("video.edit",It,nn,wt.outerHeight(),!0)}}function w(Je){if(Je)return s.popups.onRefresh("video.insert",K),s.popups.onHide("video.insert",Rt),!0;var wt="";s.opts.videoUpload||s.opts.videoInsertButtons.indexOf("videoUpload")===-1||s.opts.videoInsertButtons.splice(s.opts.videoInsertButtons.indexOf("videoUpload"),1);var It=s.button.buildList(s.opts.videoInsertButtons);It!==""&&(wt='<div class="fr-buttons">'+It+"</div>");var nn,bn="",Tn=s.opts.videoInsertButtons.indexOf("videoUpload"),Mn=s.opts.videoInsertButtons.indexOf("videoByURL"),vn=s.opts.videoInsertButtons.indexOf("videoEmbed");0<=Mn&&(nn=" fr-active",(Tn<Mn&&0<=Tn||vn<Mn&&0<=vn)&&(nn=""),bn='<div class="fr-video-by-url-layer fr-layer'.concat(nn,'" id="fr-video-by-url-layer-').concat(s.id,'"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Paste in a video URL"),`" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><span style='float:left'><div class="fr-checkbox-line fr-autoplay-margin"><span class="fr-checkbox"> <input id='videoPluginAutoplay' data-checked="_blank" type="checkbox" aria-label="`).concat(s.language.translate("Autoplay"),'"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span> <label id="fr-label-target-').concat(s.id,'">').concat(s.language.translate("Autoplay"),'</label></div> </span><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var Hn="";0<=vn&&(nn=" fr-active",(Tn<vn&&0<=Tn||Mn<vn&&0<=Mn)&&(nn=""),Hn='<div class="fr-video-embed-layer fr-layer'.concat(nn,'" id="fr-video-embed-layer-').concat(s.id,'"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text').concat(s.id,'" type="text" placeholder="').concat(s.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">').concat(s.language.translate("Insert"),"</button></div></div>"));var wo="";0<=Tn&&(nn=" fr-active",(vn<Tn&&0<=vn||Mn<Tn&&0<=Mn)&&(nn=""),wo='<div class="fr-video-upload-layer fr-layer'.concat(nn,'" id="fr-video-upload-layer-').concat(s.id,'"><strong>').concat(s.language.translate("Drop video"),"</strong><br>(").concat(s.language.translate("or click"),')<div class="fr-form"><input type="file" accept="video/').concat(s.opts.videoAllowedTypes.join(", video/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-video-upload-layer-').concat(s.id,'" role="button"></div></div>'));var ro={buttons:wt,by_url_layer:bn,embed_layer:Hn,upload_layer:wo,progress_bar:'<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>'},qo=s.popups.create("video.insert",ro);return function(ls){s.events.$on(ls,"dragover dragenter",".fr-video-upload-layer",function(){return L(this).addClass("fr-drop"),!1},!0),s.events.$on(ls,"dragleave dragend",".fr-video-upload-layer",function(){return L(this).removeClass("fr-drop"),!1},!0),s.events.$on(ls,"drop",".fr-video-upload-layer",function(ms){ms.preventDefault(),ms.stopPropagation(),L(this).removeClass("fr-drop");var Et=ms.originalEvent.dataTransfer;if(Et&&Et.files){var fe=ls.data("instance")||s;fe.events.disableBlur(),fe.video.upload(Et.files),fe.events.enableBlur()}},!0),s.helpers.isIOS()&&s.events.$on(ls,"touchstart",'.fr-video-upload-layer input[type="file"]',function(){L(this).trigger("click")},!0),s.events.$on(ls,"change",'.fr-video-upload-layer input[type="file"]',function(){if(this.files){var ms=ls.data("instance")||s;ms.events.disableBlur(),ls.find("input:focus").blur(),ms.events.enableBlur(),ms.video.upload(this.files)}L(this).val("")},!0)}(qo),qo}function xe(Je){s.events.focus(!0),s.selection.restore();var wt=!1;if(a&&(Lt(),wt=!0),s.opts.trackChangesEnabled){s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.markers.insert(),s.html.wrap();var It=s.$el.find(".fr-marker");s.node.isLastSibling(It)&&It.parent().hasClass("fr-deletable")&&It.insertAfter(It.parent()),It.replaceWith('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(Je,"</span>")),s.selection.clear()}else s.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(Je,"</span>"),!1,s.opts.videoSplitHTML);s.popups.hide("video.insert");var nn=s.$el.find(".fr-jiv");nn.removeClass("fr-jiv"),nn.toggleClass("fr-rv",s.opts.videoResponsive),Wt(nn,s.opts.videoDefaultDisplay,s.opts.videoDefaultAlign),nn.toggleClass("fr-draggable",s.opts.videoMove),s.events.trigger(wt?"video.replaced":"video.inserted",[nn])}function be(){var Je=L(this);s.popups.hide("video.insert"),Je.removeClass("fr-uploading"),Je.parent().next().is("br")&&Je.parent().next().remove(),V(Je.parent()),s.events.trigger("video.loaded",[Je.parent()])}function re(Je,wt,It,nn,bn,Tn){s.edit.off(),D("Loading video"),wt&&(Je=s.helpers.sanitizeURL(Je));var Mn=function(){var Hn,wo;if(nn){s.undo.canDo()||nn.find("video").hasClass("fr-uploading")||s.undo.saveStep();var ro=nn.find("video").data("fr-old-src"),qo=nn.data("fr-replaced");if(nn.data("fr-replaced",!1),0<nn.find("iframe").length)nn.remove(),Hn=q(Je,It,be);else{s.$wp?((Hn=nn.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),Hn.find("video").off("canplay"),ro&&nn.find("video").attr("src",ro),nn.replaceWith(Hn)):Hn=nn;for(var zn=Hn.find("video").get(0).attributes,ls=0;ls<zn.length;ls++){var ms=zn[ls];ms.nodeName.indexOf("data-")===0&&Hn.find("video").removeAttr(ms.nodeName)}if(It!==void 0)for(wo in It)It.hasOwnProperty(wo)&&wo!="link"&&Hn.find("video").attr("data-".concat(wo),It[wo]);Hn.find("video").on("canplay",be),Hn.find("video").attr("src",Je)}s.edit.on(),We(),s.undo.saveStep(),s.$el.blur(),s.events.trigger(qo?"video.replaced":"video.inserted",[Hn,bn])}else Hn=q(Je,It,be,Tn),We(),s.undo.saveStep(),s.events.trigger("video.inserted",[Hn,bn])};se("Loading video"),Mn()}function se(Je){var wt=s.popups.get("video.insert");if(wt||(wt=w()),wt.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),wt.find(".fr-video-progress-bar-layer").addClass("fr-active"),wt.find(".fr-buttons").hide(),a){var It=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video"));s.popups.setContainer("video.insert",s.$sc);var nn=It.offset().left,bn=It.offset().top+It.height();s.popups.show("video.insert",nn,bn,It.outerHeight())}Je===void 0&&D(s.language.translate("Uploading"),0)}function ie(Je){var wt=s.popups.get("video.insert");if(wt&&(wt.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),wt.find(".fr-video-progress-bar-layer").removeClass("fr-active"),wt.find(".fr-buttons").show(),Je||s.$el.find("video.fr-error").length)){if(s.events.focus(),s.$el.find("video.fr-error").length&&(s.$el.find("video.fr-error").parent().remove(),s.undo.saveStep(),s.undo.run(),s.undo.dropRedo()),!s.$wp&&a){var It=a;ot(!0),s.selection.setAfter(It.find("video").get(0)),s.selection.restore()}s.popups.hide("video.insert")}}function D(Je,wt){var It=s.popups.get("video.insert");if(It){var nn=It.find(".fr-video-progress-bar-layer");nn.find("h3").text(Je+(wt?" ".concat(wt,"%"):"")),nn.removeClass("fr-error"),wt?(nn.find("div").removeClass("fr-indeterminate"),nn.find("div > span").css("width","".concat(wt,"%"))):nn.find("div").addClass("fr-indeterminate")}}function U(Je){se();var wt=s.popups.get("video.insert").find(".fr-video-progress-bar-layer");wt.addClass("fr-error");var It=wt.find("h3");It.text(Je),s.events.disableBlur(),It.focus()}function V(Je){nt.call(Je.get(0))}function I(Je,wt,It){D("Loading video");var nn=this.status,bn=this.response,Tn=this.responseXML,Mn=this.responseText;try{if(s.opts.videoUploadToS3||s.opts.videoUploadToAzure)if(nn==201){var vn;if(s.opts.videoUploadToAzure){if(s.events.trigger("video.uploadedToAzure",[this.responseURL,It,bn],!0)===!1)return s.edit.on(),!1;vn=wt}else vn=function(ro){try{var qo=L(ro).find("Location").text(),zn=L(ro).find("Key").text();return s.events.trigger("video.uploadedToS3",[qo,zn,ro],!0)===!1?(s.edit.on(),!1):qo}catch{return Xe(Q,ro),!1}}(Tn);vn&&re(vn,!1,[],Je,bn||Tn)}else Xe(Q,bn||Tn);else if(200<=nn&&nn<300){var Hn=function(ro){try{if(s.events.trigger("video.uploaded",[ro],!0)===!1)return s.edit.on(),!1;var qo=JSON.parse(ro);return qo.link?qo:(Xe(O,ro),!1)}catch{return Xe(Q,ro),!1}}(Mn);Hn&&re(Hn.link,!1,Hn,Je,bn||Mn)}else Xe(z,bn||Mn)}catch{Xe(Q,bn||Mn)}}function N(){Xe(Q,this.response||this.responseText||this.responseXML)}function ne(Je){if(Je.lengthComputable){var wt=Je.loaded/Je.total*100|0;D(s.language.translate("Uploading"),wt)}}function G(){s.edit.on(),ie(!0)}function q(Je,wt,It,nn){var bn,Tn,Mn="";if(wt&&wt!==void 0)for(bn in wt)wt.hasOwnProperty(bn)&&bn!="link"&&(Mn+=" ".concat(bn,'="').concat(wt[bn],'"'));var vn=s.opts.videoDefaultWidth;vn&&vn!="auto"&&(vn="".concat(vn,"px")),s.helpers.isMobile()&&s.browser.safari&&(Mn+=" autoplay playsinline"),(Tn=nn=="audio"?L(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<audio src="'+Je+'" '+Mn+" controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</audio>"):L(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+s.opts.videoDefaultDisplay[0]+(s.opts.videoDefaultAlign!="center"?" fr-fv"+s.opts.videoDefaultAlign[0]:"")).html('<video src="'+Je+'" '+Mn+(vn?' style="width: '+vn+';" ':"")+" controls>"+s.language.translate("Your browser does not support HTML5 video.")+"</video>")).toggleClass("fr-draggable",s.opts.videoMove),s.edit.on(),s.events.focus(!0),s.selection.restore(),s.undo.saveStep(),s.opts.videoSplitHTML?s.markers.split():(s.cursor.enter(),s.markers.insert()),s.html.wrap();var Hn=s.$el.find(".fr-marker");return s.node.isLastSibling(Hn)&&Hn.parent().hasClass("fr-deletable")&&Hn.insertAfter(Hn.parent()),Hn.replaceWith(Tn),s.selection.clear(),nn!=="audio"&&(Tn.find("video").get(0).readyState>Tn.find("video").get(0).HAVE_FUTURE_DATA||s.helpers.isIOS()?It.call(Tn.find("video").get(0)):Tn.find("video").on("canplaythrough load",It)),Tn}function de(Je){if(!s.core.sameInstance(ge))return!0;Je.preventDefault(),Je.stopPropagation();var wt=Je.pageX||(Je.originalEvent.touches?Je.originalEvent.touches[0].pageX:null),It=Je.pageY||(Je.originalEvent.touches?Je.originalEvent.touches[0].pageY:null);if(!wt||!It)return!1;if(Je.type=="mousedown"){var nn=s.$oel.get(0).ownerDocument,bn=nn.defaultView||nn.parentWindow,Tn=!1;try{Tn=bn.location!=bn.parent.location&&!(bn.$&&bn.$.FE)}catch{}Tn&&bn.frameElement&&(wt+=s.helpers.getPX(L(bn.frameElement).offset().left)+bn.frameElement.clientLeft,It=Je.clientY+s.helpers.getPX(L(bn.frameElement).offset().top)+bn.frameElement.clientTop)}s.undo.canDo()||s.undo.saveStep(),(B=L(this)).data("start-x",wt),B.data("start-y",It),b.show(),s.popups.hideAll(),et()}function Le(Je){if(!s.core.sameInstance(ge))return!0;if(B){Je.preventDefault();var wt=Je.pageX||(Je.originalEvent.touches?Je.originalEvent.touches[0].pageX:null),It=Je.pageY||(Je.originalEvent.touches?Je.originalEvent.touches[0].pageY:null);if(!wt||!It)return!1;var nn=B.data("start-x"),bn=B.data("start-y");B.data("start-x",wt),B.data("start-y",It);var Tn=wt-nn,Mn=It-bn,vn=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),Hn=vn.width(),wo=vn.height();(B.hasClass("fr-hnw")||B.hasClass("fr-hsw"))&&(Tn=0-Tn),(B.hasClass("fr-hnw")||B.hasClass("fr-hne"))&&(Mn=0-Mn),vn.css("width",Hn+Tn),vn.css("height",wo+Mn),vn.removeAttr("width"),vn.removeAttr("height"),ut()}}function Ae(Je){if(!s.core.sameInstance(ge))return!0;B&&a&&(Je&&Je.stopPropagation(),B=null,b.hide(),ut(),ee(),s.undo.saveStep())}function we(Je){return'<div class="fr-handler fr-h'.concat(Je,'"></div>')}function Pe(Je,wt,It,nn){return Je.pageX=wt,Je.pageY=wt,de.call(this,Je),Je.pageX=Je.pageX+It*Math.floor(Math.pow(1.1,nn)),Je.pageY=Je.pageY+It*Math.floor(Math.pow(1.1,nn)),Le.call(this,Je),Ae.call(this,Je),++nn}function We(){var Je,wt=Array.prototype.slice.call(s.el.querySelectorAll("video, .fr-video > *")),It=[];for(Je=0;Je<wt.length;Je++)It.push(wt[Je].getAttribute("src")),L(wt[Je]).toggleClass("fr-draggable",s.opts.videoMove),wt[Je].getAttribute("class")===""&&wt[Je].removeAttribute("class"),wt[Je].getAttribute("style")===""&&wt[Je].removeAttribute("style");if(p)for(Je=0;Je<p.length;Je++)It.indexOf(p[Je].getAttribute("src"))<0&&s.events.trigger("video.removed",[L(p[Je])]);p=wt}function ut(){ge||function(){var bn;if(s.shared.$video_resizer?(ge=s.shared.$video_resizer,b=s.shared.$vid_overlay,s.events.on("destroy",function(){L("body").first().append(ge.removeClass("fr-active"))},!0)):(s.shared.$video_resizer=L(document.createElement("div")).attr("class","fr-video-resizer"),ge=s.shared.$video_resizer,s.events.$on(ge,"mousedown",function(Hn){Hn.stopPropagation()},!0),s.opts.videoResize&&(ge.append(we("nw")+we("ne")+we("sw")+we("se")),s.shared.$vid_overlay=L(document.createElement("div")).attr("class","fr-video-overlay"),b=s.shared.$vid_overlay,bn=ge.get(0).ownerDocument,L(bn).find("body").first().append(b))),s.events.on("shared.destroy",function(){ge.html("").removeData().remove(),ge=null,s.opts.videoResize&&(b.remove(),b=null)},!0),s.helpers.isMobile()||s.events.$on(L(s.o_win),"resize.video",function(){ot(!0)}),s.opts.videoResize){bn=ge.get(0).ownerDocument,s.events.$on(ge,s._mousedown,".fr-handler",de),s.events.$on(L(bn),s._mousemove,Le),s.events.$on(L(bn.defaultView||bn.parentWindow),s._mouseup,Ae),s.events.$on(b,"mouseleave",Ae);var Tn=1,Mn=null,vn=0;s.events.on("keydown",function(Hn){if(a){var wo=navigator.userAgent.indexOf("Mac OS X")!=-1?Hn.metaKey:Hn.ctrlKey,ro=Hn.which;(ro!==Mn||200<Hn.timeStamp-vn)&&(Tn=1),(ro==x.KEYCODE.EQUALS||s.browser.mozilla&&ro==x.KEYCODE.FF_EQUALS)&&wo&&!Hn.altKey?Tn=Pe.call(this,Hn,1,1,Tn):(ro==x.KEYCODE.HYPHEN||s.browser.mozilla&&ro==x.KEYCODE.FF_HYPHEN)&&wo&&!Hn.altKey&&(Tn=Pe.call(this,Hn,2,-1,Tn)),Mn=ro,vn=Hn.timeStamp}}),s.events.on("keyup",function(){Tn=1})}}(),(s.$wp||s.$sc).append(ge),ge.data("instance",s);var Je=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),wt=0,It=0;s.opts.iframe&&(It=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-top")),wt=s.helpers.getPX(s.$wp.find(".fr-iframe").css("padding-left"))),ge.css("top",(s.opts.iframe?Je.offset().top+It-1:Je.offset().top-s.$wp.offset().top-1)+s.$wp.scrollTop()).css("left",(s.opts.iframe?Je.offset().left+wt-1:Je.offset().left-s.$wp.offset().left-1)+s.$wp.scrollLeft()).css("width",Je.get(0).getBoundingClientRect().width).css("height",Je.get(0).getBoundingClientRect().height).addClass("fr-active")}function nt(Je){if(Je&&Je.type=="touchend"&&M)return!0;if(Je&&s.edit.isDisabled())return Je.stopPropagation(),Je.preventDefault(),!1;if(s.edit.isDisabled())return!1;for(var wt=0;wt<x.INSTANCES.length;wt++)x.INSTANCES[wt]!=s&&x.INSTANCES[wt].events.trigger("video.hideResizer");s.toolbar.disable(),s.helpers.isMobile()&&(s.events.disableBlur(),s.$el.blur(),s.events.enableBlur()),s.$el.find(".fr-video.fr-active").removeClass("fr-active"),(a=L(this)).addClass("fr-active"),s.opts.iframe&&s.size.syncIframe(),Jn(),ut(),ee(),s.selection.clear(),s.button.bulkRefresh(),s.events.trigger("image.hideResizer")}function ot(Je){a&&(function(){return s.shared.vid_exit_flag}()||Je===!0)&&(ge.removeClass("fr-active"),s.toolbar.enable(),a.removeClass("fr-active"),a=null,et())}function Me(){s.shared.vid_exit_flag=!0}function et(){s.shared.vid_exit_flag=!1}function Ve(Je){var wt=Je.originalEvent.dataTransfer;if(wt&&wt.files&&wt.files.length){var It=wt.files[0];if(It&&It.type&&It.type.indexOf("video")!==-1){if(!s.opts.videoUpload)return Je.preventDefault(),Je.stopPropagation(),!1;s.markers.remove(),s.markers.insertAtPoint(Je.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.popups.hideAll();var nn=s.popups.get("video.insert");return nn||(nn=w()),s.popups.setContainer("video.insert",s.$sc),s.popups.show("video.insert",Je.originalEvent.pageX,Je.originalEvent.pageY),se(),0<=s.opts.videoAllowedTypes.indexOf(It.type.replace(/video\//g,""))?Ze(wt.files):Xe(P),Je.preventDefault(),Je.stopPropagation(),!1}}}function Ze(Je){if(Je!==void 0&&0<Je.length){if(s.events.trigger("video.beforeUpload",[Je])===!1)return!1;var wt,It=Je[0];if(!(s.opts.videoUploadURL!==null&&s.opts.videoUploadURL!=A||s.opts.videoUploadToS3||s.opts.videoUploadToAzure))return function(Ce){a&&a.find("iframe")&&a.find("iframe").length&&Lt();var ze=new FileReader;ze.onload=function(){ze.result;for(var Re=atob(ze.result.split(",")[1]),J=[],pe=0;pe<Re.length;pe++)J.push(Re.charCodeAt(pe));re(window.URL.createObjectURL(new Blob([new Uint8Array(J)],{type:Ce.type})),!1,null,a)},se(),ze.readAsDataURL(Ce)}(It),!1;if(It.size>s.opts.videoMaxSize)return Xe(H),!1;if(s.opts.videoAllowedTypes.indexOf(It.type.replace(/video\//g,""))<0)return Xe(P),!1;if(s.drag_support.formdata&&(wt=s.drag_support.formdata?new FormData:null),wt){var nn;if(s.opts.videoUploadToS3!==!1)for(nn in wt.append("key",s.opts.videoUploadToS3.keyStart+new Date().getTime()+"-"+(It.name||"untitled")),wt.append("success_action_status","201"),wt.append("X-Requested-With","xhr"),wt.append("Content-Type",It.type),s.opts.videoUploadToS3.params)s.opts.videoUploadToS3.params.hasOwnProperty(nn)&&wt.append(nn,s.opts.videoUploadToS3.params[nn]);for(nn in s.opts.videoUploadParams)s.opts.videoUploadParams.hasOwnProperty(nn)&&wt.append(nn,s.opts.videoUploadParams[nn]);wt.append(s.opts.videoUploadParam,It);var bn,Tn,Mn=s.opts.videoUploadURL;s.opts.videoUploadToS3&&(Mn=s.opts.videoUploadToS3.uploadURL?s.opts.videoUploadToS3.uploadURL:"https://".concat(s.opts.videoUploadToS3.region,".amazonaws.com/").concat(s.opts.videoUploadToS3.bucket));var vn=s.opts.videoUploadMethod;s.opts.videoUploadToAzure&&(Mn=s.opts.videoUploadToAzure.uploadURL?"".concat(s.opts.videoUploadToAzure.uploadURL,"/").concat(It.name):encodeURI("https://".concat(s.opts.videoUploadToAzure.account,".blob.core.windows.net/").concat(s.opts.videoUploadToAzure.container,"/").concat(It.name)),bn=Mn,s.opts.videoUploadToAzure.SASToken&&(Mn+=s.opts.videoUploadToAzure.SASToken),vn="PUT");var Hn=s.core.getXHR(Mn,vn);if(s.opts.videoUploadToAzure){var wo=new Date().toUTCString();if(!s.opts.videoUploadToAzure.SASToken&&s.opts.videoUploadToAzure.accessKey){var ro=s.opts.videoUploadToAzure.account,qo=s.opts.videoUploadToAzure.container;if(s.opts.videoUploadToAzure.uploadURL){var zn=s.opts.videoUploadToAzure.uploadURL.split("/");qo=zn.pop(),ro=zn.pop().split(".")[0]}var ls=`x-ms-blob-type:BlockBlob
x-ms-date:`.concat(wo,`
x-ms-version:2019-07-07`),ms=encodeURI("/"+ro+"/"+qo+"/"+It.name),Et=vn+`


`+It.size+`

`+It.type+`






`+ls+`
`+ms,fe=s.cryptoJSPlugin.cryptoJS.HmacSHA256(Et,s.cryptoJSPlugin.cryptoJS.enc.Base64.parse(s.opts.videoUploadToAzure.accessKey)).toString(s.cryptoJSPlugin.cryptoJS.enc.Base64),Z="SharedKey "+ro+":"+fe;Tn=fe,Hn.setRequestHeader("Authorization",Z)}for(nn in Hn.setRequestHeader("x-ms-version","2019-07-07"),Hn.setRequestHeader("x-ms-date",wo),Hn.setRequestHeader("Content-Type",It.type),Hn.setRequestHeader("x-ms-blob-type","BlockBlob"),s.opts.videoUploadParams)s.opts.videoUploadParams.hasOwnProperty(nn)&&Hn.setRequestHeader(nn,s.opts.videoUploadParams[nn]);for(nn in s.opts.videoUploadToAzure.params)s.opts.videoUploadToAzure.params.hasOwnProperty(nn)&&Hn.setRequestHeader(nn,s.opts.videoUploadToAzure.params[nn])}Hn.onload=function(){I.call(Hn,a,bn,Tn)},Hn.onerror=N,Hn.upload.onprogress=ne,Hn.onabort=G,se(),s.events.disableBlur(),s.edit.off(),s.events.enableBlur();var ae=s.popups.get("video.insert");ae&&L(ae.off("abortUpload")).on("abortUpload",function(){Hn.readyState!=4&&Hn.abort()}),Hn.send(s.opts.videoUploadToAzure?It:wt)}}}function Xe(Je,wt){s.edit.on(),a&&a.find("video").addClass("fr-error"),U(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("video.error",[{code:Je,message:j[Je]},wt])}function $e(){if(a){var Je=s.popups.get("video.size"),wt=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video"));Je.find('input[name="width"]').val(wt.get(0).style.width||wt.attr("width")).trigger("change"),Je.find('input[name="height"]').val(wt.get(0).style.height||wt.attr("height")).trigger("change")}}function tt(Je){if(Je)return s.popups.onRefresh("video.size",$e),!0;var wt={buttons:'<div class="fr-buttons fr-tabs">'.concat(s.button.buildList(s.opts.videoSizeButtons),"</div>"),size_layer:'<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'.concat(s.id,'"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-').concat(s.id,'" type="text" name="width" placeholder="').concat(s.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-').concat(s.id,'" type="text" name="height" placeholder="').concat(s.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">').concat(s.language.translate("Update"),"</button></div></div>")},It=s.popups.create("video.size",wt);return s.events.$on(s.$wp,"scroll",function(){a&&s.popups.isVisible("video.size")&&(s.events.disableBlur(),V(a))}),It}function _t(Je){if(Je===void 0&&(Je=a),Je){if(Je.hasClass("fr-fvl"))return"left";if(Je.hasClass("fr-fvr"))return"right";if(Je.hasClass("fr-dvb")||Je.hasClass("fr-dvi"))return"center";if(Je.css("display")=="block"){if(Je.css("text-algin")=="left")return"left";if(Je.css("text-align")=="right")return"right"}else{if(Je.css("float")=="left")return"left";if(Je.css("float")=="right")return"right"}}return"center"}function mt(Je){Je===void 0&&(Je=a);var wt=Je.css("float");return Je.css("float","none"),Je.css("display")=="block"?(Je.css("float",""),Je.css("float")!=wt&&Je.css("float",wt),"block"):(Je.css("float",""),Je.css("float")!=wt&&Je.css("float",wt),"inline")}function Lt(){if(a&&s.events.trigger("video.beforeRemove",[a])!==!1){var Je=a;if(s.popups.hideAll(),ot(!0),s.opts.trackChangesEnabled&&(!Je[0].parentNode||Je[0].parentNode.tagName!=="SPAN"||!Je[0].parentNode.hasAttribute("data-tracking")))return void s.track_changes.removeSpecialItem(Je);s.selection.setBefore(Je.get(0))||s.selection.setAfter(Je.get(0)),Je.remove(),s.selection.restore(),s.html.fillEmptyBlocks()}}function Rt(){ie()}function Wt(Je,wt,It){!s.opts.htmlUntouched&&s.opts.useClasses?(Je.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),Je.addClass("fr-fv".concat(It[0]," fr-dv").concat(wt[0]))):wt=="inline"?(Je.css({display:"inline-block"}),It=="center"?Je.css({float:"none"}):It=="left"?Je.css({float:"left"}):Je.css({float:"right"})):(Je.css({display:"block",clear:"both"}),It=="left"?Je.css({textAlign:"left"}):It=="right"?Je.css({textAlign:"right"}):Je.css({textAlign:"center"}))}function Zt(){var Je=s.$el.find("video").filter(function(){return L(this).parents("span.fr-video").length===0});if(Je.length!=0){Je.wrap(L(document.createElement("span")).attr("class","fr-video fr-deletable").attr("contenteditable","false")),s.$el.find("embed, iframe").filter(function(){if(s.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),0<L(this).parents("span.fr-video").length)return!1;for(var Hn=L(this).attr("src"),wo=0;wo<x.VIDEO_PROVIDERS.length;wo++){var ro=x.VIDEO_PROVIDERS[wo];if(ro.test_regex.test(Hn)&&new RegExp(s.opts.videoAllowedProviders.join("|")).test(ro.provider))return!0}return!1}).map(function(){return L(this).parents("object").length===0?this:L(this).parents("object").get(0)}).wrap(L(document.createElement("span")).attr("class","fr-video").attr("contenteditable","false"));for(var wt,It,nn,bn,Tn=s.$el.find("span.fr-video, video"),Mn=0;Mn<Tn.length;Mn++){var vn=L(Tn[Mn]);!s.opts.htmlUntouched&&s.opts.useClasses?((bn=vn).hasClass("fr-dvi")||bn.hasClass("fr-dvb")||(bn.addClass("fr-fv".concat(_t(bn)[0])),bn.addClass("fr-dv".concat(mt(bn)[0]))),s.opts.videoTextNear||vn.removeClass("fr-dvi").addClass("fr-dvb")):s.opts.htmlUntouched||s.opts.useClasses||(It=(wt=vn).hasClass("fr-dvb")?"block":wt.hasClass("fr-dvi")?"inline":null,nn=wt.hasClass("fr-fvl")?"left":wt.hasClass("fr-fvr")?"right":_t(wt),Wt(wt,It,nn),wt.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl"))}Tn.toggleClass("fr-draggable",s.opts.videoMove)}}function kn(Je){document.getElementById("autoplay-".concat(s.id)).style.cssText="background:".concat(Je)}function Jn(){if(a){s.selection.clear();var Je=s.doc.createRange();Je.selectNode(a.get(0)),s.selection.get().addRange(Je)}}return j[1]="Video cannot be loaded from the passed link.",j[O]="No link in upload response.",j[z]="Error during file upload.",j[Q]="Parsing response failed.",j[H]="File is too large.",j[P]="Video file type is invalid.",j[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",s.shared.vid_exit_flag=!1,{_init:function(){s.opts.videoResponsive&&(s.opts.videoResize=!1),function(){s.events.on("drop",Ve,!0),s.events.on("mousedown window.mousedown",Me),s.events.on("window.touchmove",et),s.events.on("mouseup window.mouseup",ot),s.events.on("commands.mousedown",function(It){0<It.parents(".fr-toolbar").length&&ot()}),s.events.on("video.hideResizer commands.undo commands.redo element.dropped",function(){ot(!0)}),s.events.on("filestack-init-video",function(){w()})}(),s.helpers.isMobile()&&(s.events.$on(s.$el,"touchstart","span.fr-video",function(){M=!1}),s.events.$on(s.$el,"touchmove",function(){M=!0})),s.events.on("html.set",Zt),Zt(),s.events.$on(s.$el,"mousedown","span.fr-video",function(wt){wt.stopPropagation(),(s.browser.msie||s.browser.edge)&&(wt.target.innerText||(wt.target.dragDrop(),nt.call(this,wt)))}),s.events.$on(s.$el,"click touchend","span.fr-video",function(wt){if(wt.target.innerText.length||L(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")=="false")return!0;nt.call(this,wt)}),s.events.on("keydown",function(wt){var It=wt.which;return!a||It!=x.KEYCODE.BACKSPACE&&It!=x.KEYCODE.DELETE?a&&It==x.KEYCODE.ESC?(ot(!0),wt.preventDefault(),!1):a&&It!=x.KEYCODE.F10&&!s.keys.isBrowserAction(wt)?(wt.preventDefault(),!1):void 0:(wt.preventDefault(),Lt(),s.undo.saveStep(),!1)},!0),s.events.on("toolbar.esc",function(){if(a)return s.events.disableBlur(),s.events.focus(),!1},!0),s.events.on("toolbar.focusEditor",function(){if(a)return!1},!0),s.events.on("keydown",function(){s.$el.find("span.fr-video:empty").remove()}),s.$wp&&(We(),s.events.on("contentChanged",We)),w(!0),tt(!0)},showInsertPopup:function(){var wt=s.$tb.find('.fr-command[data-cmd="insertVideo"]'),It=s.popups.get("video.insert");if(It||(It=w()),ie(),!It.hasClass("fr-active"))if(s.popups.refresh("video.insert"),s.popups.setContainer("video.insert",s.$tb),wt.isVisible()){var nn=s.button.getPosition(wt),bn=nn.left,Tn=nn.top;s.popups.show("video.insert",bn,Tn,wt.outerHeight())}else s.position.forSelection(It),s.popups.show("video.insert")},showLayer:function(wt){var It,nn,bn=s.popups.get("video.insert");if(!a&&!s.opts.toolbarInline){var Tn=s.$tb.find('.fr-command[data-cmd="insertVideo"]');It=Tn.offset().left,nn=Tn.offset().top+(s.opts.toolbarBottom?10:Tn.outerHeight()-10)}s.opts.toolbarInline&&(nn=bn.offset().top-s.helpers.getPX(bn.css("margin-top")),bn.hasClass("fr-above")&&(nn+=bn.outerHeight())),bn.find(".fr-layer").removeClass("fr-active"),bn.find(".fr-".concat(wt,"-layer")).addClass("fr-active"),s.popups.show("video.insert",It,nn,0),s.accessibility.focusPopup(bn)},refreshByURLButton:function(wt){var It=s.popups.get("video.insert");It&&It.find(".fr-video-by-url-layer").hasClass("fr-active")&&wt.addClass("fr-active").attr("aria-pressed",!0)},refreshEmbedButton:function(wt){var It=s.popups.get("video.insert");It&&It.find(".fr-video-embed-layer").hasClass("fr-active")&&wt.addClass("fr-active").attr("aria-pressed",!0)},refreshUploadButton:function(wt){var It=s.popups.get("video.insert");It&&It.find(".fr-video-upload-layer").hasClass("fr-active")&&wt.addClass("fr-active").attr("aria-pressed",!0)},upload:Ze,insertByURL:function(wt){var It=!!document.getElementById("videoPluginAutoplay")&&document.getElementById("videoPluginAutoplay").checked;if(wt===void 0){var nn=(wt=(s.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val()||"").trim()).match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/?(showcase\/)*([0-9))([a-z]*\/)*([0-9]{6,11})[?]?.*/);if(nn&&nn.length==7){var bn=nn[6],Tn=wt.substring(0,wt.lastIndexOf("/")),Mn=wt.substring(wt.lastIndexOf("/")+1,wt.length);wt=Mn.includes("?h=")||Mn.includes("?v=")||bn===Mn?("".concat(Tn,"/").concat(Mn)||"").trim():("".concat(Tn,"?h=").concat(Mn)||"").trim()}}var vn=null;if(/^http/.test(wt)||(wt="https://".concat(wt)),s.helpers.isURL(wt))for(var Hn=0;Hn<x.VIDEO_PROVIDERS.length;Hn++){var wo=x.VIDEO_PROVIDERS[Hn],ro="autoplay=1&mute=1";if(wo.html.includes("autoplay=1")&&document.getElementById("videoPluginAutoplay").checked)wo.html=wo.html,document.getElementById("videoPluginAutoplay").checked=!1;else if(It){var qo=wo.html.indexOf("{url}")+5;wo.html=[wo.html.slice(0,qo),ro,wo.html.slice(qo)].join(""),It=!1,document.getElementById("videoPluginAutoplay").checked=!1}else(wo=x.VIDEO_PROVIDERS[Hn]).html=wo.html.replace(ro,"");if(wo.test_regex.test(wt)&&new RegExp(s.opts.videoAllowedProviders.join("|")).test(wo.provider)){vn=wt.replace(wo.url_regex,wo.url_text),vn=wo.html.replace(/\{url\}/,vn);break}}vn?xe(vn):(U(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("video.linkError",[wt]))},insertEmbed:function(wt){wt===void 0&&(wt=s.popups.get("video.insert").find(".fr-video-embed-layer textarea").val()||""),wt.length!==0&&x.VIDEO_EMBED_REGEX.test(wt)?xe(wt):(U(s.language.translate("Something went wrong. Please try again.")),s.events.trigger("video.codeError",[wt]))},insert:xe,align:function(wt){a.removeClass("fr-fvr fr-fvl"),!s.opts.htmlUntouched&&s.opts.useClasses?wt=="left"?a.addClass("fr-fvl"):wt=="right"&&a.addClass("fr-fvr"):Wt(a,mt(),wt),Jn(),ut(),ee(),s.selection.clear()},refreshAlign:function(wt){if(!a)return!1;wt.find(">*").first().replaceWith(s.icon.create("video-align-".concat(_t())))},refreshAlignOnShow:function(wt,It){a&&It.find('.fr-command[data-param1="'.concat(_t(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(wt){a.removeClass("fr-dvi fr-dvb"),!s.opts.htmlUntouched&&s.opts.useClasses?wt=="inline"?a.addClass("fr-dvi"):wt=="block"&&a.addClass("fr-dvb"):Wt(a,wt,_t()),Jn(),ut(),ee(),s.selection.clear()},refreshDisplayOnShow:function(wt,It){a&&It.find('.fr-command[data-param1="'.concat(mt(),'"]')).addClass("fr-active").attr("aria-selected",!0)},remove:Lt,hideProgressBar:ie,showSizePopup:function(){var wt=s.popups.get("video.size");wt||(wt=tt()),ie(),s.popups.refresh("video.size"),s.popups.setContainer("video.size",s.$sc);var It=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video")),nn=It.offset().left+It.outerWidth()/2,bn=It.offset().top+It.height();s.popups.show("video.size",nn,bn,It.height(),!0)},replace:function(){var wt=s.popups.get("video.insert");wt||(wt=w()),s.popups.isVisible("video.insert")||(ie(),s.popups.refresh("video.insert"),s.popups.setContainer("video.insert",s.$sc));var It=a.offset().left+a.outerWidth()/2,nn=a.offset().top+a.height();s.popups.show("video.insert",It,nn,a.outerHeight(),!0)},back:function(){a?(s.events.disableBlur(),a[0].click()):(s.events.disableBlur(),s.selection.restore(),s.events.enableBlur(),s.popups.hide("video.insert"),s.toolbar.showInline())},setSize:function(wt,It){if(a){var nn=s.popups.get("video.size"),bn=a.find("iframe, embed, ".concat(a.find("iframe, embed, audio").get(0)?"audio":"video"));bn.css("width",wt||nn.find('input[name="width"]').val()),bn.css("height",It||nn.find('input[name="height"]').val()),bn.get(0).style.width&&bn.removeAttr("width"),bn.get(0).style.height&&bn.removeAttr("height"),nn.find("input:focus").blur(),setTimeout(function(){a.trigger("click")},s.helpers.isAndroid()?50:0)}},get:function(){return a},showProgressBar:se,_editVideo:V,setAutoplay:function(){var wt;if(a.find("iframe, embed, audio").get(0))(wt=a.find("iframe, embed, audio")).get(0).src.includes("autoplay=1")?(kn("#FFFFFF"),wt.get(0).src=wt.get(0).src.replace("&autoplay=1","")):(kn("#D6D6D6"),wt.get(0).src=wt.get(0).src+"&autoplay=1");else if((wt=a.find("iframe, embed, video")).get(0).outerHTML.includes("autoplay"))kn("#FFFFFF"),wt.get(0).outerHTML=wt.get(0).outerHTML.replace("autoplay","");else{kn("#D6D6D6");var It=wt.get(0).outerHTML.indexOf("class")-1;wt.get(0).outerHTML=[wt.get(0).outerHTML.slice(0,It),"autoplay",wt.get(0).outerHTML.slice(It)].join("")}},insertHtmlVideo:re}},x.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),x.DefineIcon("insertVideo",{NAME:"video-camera",FA5NAME:"camera",SVG_KEY:"insertVideo"}),x.DefineIcon("videoByURL",{NAME:"link",SVG_KEY:"insertLink"}),x.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-by-url")},refresh:function(s){this.video.refreshByURLButton(s)}}),x.DefineIcon("videoEmbed",{NAME:"code",SVG_KEY:"codeView"}),x.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-embed")},refresh:function(s){this.video.refreshEmbedButton(s)}}),x.DefineIcon("videoUpload",{NAME:"upload",SVG_KEY:"upload"}),x.RegisterCommand("videoUpload",{title:"Upload Video",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-upload")},refresh:function(s){this.video.refreshUploadButton(s)}}),x.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),x.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),x.DefineIcon("videoDisplay",{NAME:"star",SVG_KEY:"star"}),x.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(s,b){this.video.display(b)},refresh:function(s){this.opts.videoTextNear||s.addClass("fr-hidden")},refreshOnShow:function(s,b){this.video.refreshDisplayOnShow(s,b)}}),x.DefineIcon("video-align",{NAME:"align-left",SVG_KEY:"align Left"}),x.DefineIcon("video-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),x.DefineIcon("video-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),x.DefineIcon("video-align-center",{NAME:"align-justify",SVG_KEY:"alignJustify"}),x.DefineIcon("videoAlign",{NAME:"align-center",SVG_KEY:"alignCenter"}),x.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var s='<ul class="fr-dropdown-list" role="presentation">',b=x.COMMANDS.videoAlign.options;for(var B in b)b.hasOwnProperty(B)&&(s+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'.concat(B,'" title="').concat(this.language.translate(b[B]),'">').concat(this.icon.create("video-align-".concat(B)),'<span class="fr-sr-only">').concat(this.language.translate(b[B]),"</span></a></li>"));return s+="</ul>"},callback:function(s,b){this.video.align(b)},refresh:function(s){this.video.refreshAlign(s)},refreshOnShow:function(s,b){this.video.refreshAlignOnShow(s,b)}}),x.DefineIcon("videoReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),x.RegisterCommand("videoReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.video.replace()}}),x.DefineIcon("videoRemove",{NAME:"trash",SVG_KEY:"remove"}),x.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),x.DefineIcon("autoplay",{NAME:"autoplay",SVG_KEY:"autoplay"}),x.RegisterCommand("autoplay",{undo:!1,focus:!1,popup:!0,title:"Autoplay",callback:function(){this.video.setAutoplay()}}),x.DefineIcon("videoSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),x.RegisterCommand("videoSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.video.showSizePopup()}}),x.DefineIcon("videoBack",{NAME:"arrow-left",SVG_KEY:"back"}),x.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(s){this.video.get()||this.opts.toolbarInline?(s.removeClass("fr-hidden"),s.next().hasClass("fr-separator")&&s.next().removeClass("fr-hidden")):(s.addClass("fr-hidden"),s.next().hasClass("fr-separator")&&s.next().addClass("fr-hidden"))}}),x.RegisterCommand("videoDismissError",{title:"OK",undo:!1,callback:function(){this.video.hideProgressBar(!0)}}),x.RegisterCommand("videoSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.video.setSize()}}),Object.assign(x.DEFAULTS,{wordDeniedTags:[],wordDeniedAttrs:[],wordAllowedStyleProps:["font-family","font-size","background","color","width","text-align","vertical-align","background-color","padding","margin","height","margin-top","margin-left","margin-right","margin-bottom","text-decoration","font-weight","font-style","text-indent","border","border-.*","line-height","list-style-type"],wordPasteModal:!0,wordPasteKeepFormatting:!0}),x.PLUGINS.wordPaste=function(s){var b,B,ge,a=s.$,p="word_paste",M={},L=!0;function A(G){var q=s.opts.wordAllowedStyleProps;G||(s.opts.wordAllowedStyleProps=[]),B.indexOf("<colgroup>")===0&&(B="<table>"+B+"</table>"),B=ne(B=B.replace(/<span[\n\r ]*style='mso-spacerun:yes'>([\r\n\u00a0 ]*)<\/span>/g,function(Le,Ae){for(var we="",Pe=0;Pe++<Ae.length;)we+="&nbsp;";return we}),s.paste.getRtfClipboard());var de=s.doc.createElement("DIV");de.innerHTML=B,s.html.cleanBlankSpaces(de),B=de.innerHTML,B=(B=s.paste.cleanEmptyTagsAndDivs(B)).replace(/\u200b/g,""),function(){s.modals.hide(p)}(),s.helpers.isMobile()&&s.events.focus(),s.paste.clean(B,!0,!0),s.opts.wordAllowedStyleProps=q}function O(G){G.parentNode&&G.parentNode.removeChild(G)}function z(G,q){if(q(G))for(var de=G.firstChild;de;){var Le=de,Ae=de.previousSibling;de=de.nextSibling,z(Le,q),Le.previousSibling||Le.nextSibling||Le.parentNode||!de||Ae===de.previousSibling||!de.parentNode?Le.previousSibling||Le.nextSibling||Le.parentNode||!de||de.previousSibling||de.nextSibling||de.parentNode||(Ae?de=Ae.nextSibling?Ae.nextSibling.nextSibling:null:G.firstChild&&(de=G.firstChild.nextSibling)):de=Ae?Ae.nextSibling:G.firstChild}}function Q(G){return a(G).hasClass("ListContainerWrapper")&&0<a(G).find("ol").length}function H(G){return a(G).hasClass("ListContainerWrapper")&&0<a(G).find("ul").length}function P(G){if(Q(G)||H(G))return!0;if(!G.getAttribute("style")||!/mso-list:[\s]*l/gi.test(G.getAttribute("style").replace(/\n/gi,"")))return!1;try{if(!G.querySelector('[style="mso-list:Ignore"]'))return!!(G.outerHTML&&0<=G.outerHTML.indexOf("<!--[if !supportLists]-->"))}catch{return!1}return!0}var j=null,K={};function ee(G){var q;if(Q(G)||H(G))q=a(G).find("li").attr("data-aria-level");else{var de,Le,Ae=((de=G.getAttribute("style"))===null||de===void 0?void 0:de.replace(/\n/g,""))||"",we=j&&((Le=j.getAttribute("style"))===null||Le===void 0?void 0:Le.replace(/\n/g,""))||"",Pe=Ae.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i),We=we.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i);if(Pe){var ut;if(K[Pe[1]])return j=G,K[Pe[1]].toString();var nt,ot=We&&We[2],Me=Pe[2],et=we&&K[We[1]]||0;nt=ot&&ot!==Me&&parseFloat(((ut=j)===null||ut===void 0||(ut=ut.style)===null||ut===void 0?void 0:ut.marginLeft)||0)<parseFloat(G.style.marginLeft||0)?et+parseInt(Pe[3],10):parseInt(Pe[3],10),We&&We[4]!==Pe[4]&&nt===parseInt(Pe[3],10)&&(nt+=1),q=nt.toString(),K[Pe[1]]=nt}else q=Ae.replace(/.*level([0-9]+?).*/gi,"$1")}return j=G,q}function w(G,q){var de=G.cloneNode(!0);if(["H1","H2","H3","H4","H5","H6"].indexOf(G.tagName)!==-1){var Le=document.createElement(G.tagName.toLowerCase());Le.setAttribute("style",G.getAttribute("style")),Le.innerHTML=de.innerHTML,de.innerHTML=Le.outerHTML}z(de,function(Me){if(Me.nodeType==Node.COMMENT_NODE&&(s.browser.msie||s.browser.safari||s.browser.edge))try{if(Me.data==="[if !supportLists]"){for(Me=Me.nextSibling;Me&&Me.nodeType!==Node.COMMENT_NODE;){var et=Me.nextSibling;Me.parentNode.removeChild(Me),Me=et}Me&&Me.nodeType==Node.COMMENT_NODE&&Me.parentNode.removeChild(Me)}}catch{return!1}return Me.nodeType===Node.ELEMENT_NODE&&(Me.getAttribute("style")===`mso-list:
Ignore`&&Me.setAttribute("style","mso-list:Ignore"),Me.getAttribute("style")==="mso-list:Ignore"&&Me.parentNode.removeChild(Me),Me.setAttribute("style",xe(Me)),N(Me,q)),!0});var Ae=Q(G)?a(G).find("li").get(0).innerHTML:de.innerHTML;if(Q(G)||H(G)){Ae="";for(var we=a(G).find("li"),Pe=0;Pe<we.length;Pe++){var We=a(we.get(Pe).innerHTML);We.find("span").each(function(){a(this).html()==="&nbsp;"&&(0<a(this).prev().text().trim().length?a(this).remove():a(this).html("&ZeroWidthSpace;"))});var ut=we[Pe].style.marginLeft;ut?(ut=parseFloat(parseFloat(ut).toFixed(2))+ut.match(/[a-zA-Z]+/g)[0],Ae+='<li style = "margin-left: '.concat(ut,';">').concat(We.get(0).innerHTML,"</li>")):Ae+="<li >".concat(We.get(0).innerHTML,"</li>")}}else{var nt,ot=(nt=a(G).find("p").get(0))===null||nt===void 0?void 0:nt.style.marginLeft;Ae=ot?(ot=parseFloat(parseFloat(ot).toFixed(2))+ot.match(/[a-zA-Z]+/g)[0],'<li style = "margin-left: '.concat(ot,';">').concat(Ae,"</li>")):"<li>".concat(Ae,"</li>")}return Ae=Ae.replace(/<!--[\s\S]*?-->/gi,"")}function xe(G){var q=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,de="",Le=["line-height","font-family","font-size","color","background"].concat(He(q||[])),Ae=G.getAttribute("style");return Ae&&Le.forEach(function(we){var Pe=Ae.split(";").find(function(We){return We.trim().includes(we+":")});Pe&&(Pe.includes("mso")&&(Pe=Pe.match(new RegExp(we+":.*(;|)"))[0]),Pe.trim().startsWith(we)&&(de+=Pe+";"))}),de}function be(G,q){for(var de=document.createElement(q),Le=0;Le<G.attributes.length;Le++){var Ae=G.attributes[Le].name;G.tagName==="FONT"&&(s.browser.msie&&["id","class","style"].indexOf(Ae)<0||!s.browser.msie&&CSS.supports(Ae,G.getAttribute(Ae)))?a(de).css(Ae,G.getAttribute(Ae)):de.setAttribute(Ae,G.getAttribute(Ae))}return de.innerHTML=G.innerHTML,G.parentNode.replaceChild(de,G),de}function re(G,q){s.node.clearAttributes(G);for(var de=G.firstElementChild,Le=0,Ae=!1,we=null;de;){if(de.firstElementChild&&de.firstElementChild.tagName.indexOf("W:")!==-1)for(var Pe=0;Pe<de.children.length;Pe++)de.children[Pe]==`<('[^']*'|"[^"]*"|[^"'>])*>`&&(de.innerHTML+=de.children[Pe]);(we=de.getAttribute("width"))||(we=de.style.width),we||Ae||(Ae=!0),Le+=parseInt(we,10),(!de.firstChild||de.firstChild&&de.firstChild.data===x.UNICODE_NBSP)&&(de.firstChild&&O(de.firstChild),de.innerHTML="<br>");for(var We=de.firstElementChild,ut=de.children.length===1;We;)We.tagName!=="P"||P(We)||ut&&se(We),We=We.nextElementSibling;if(q){var nt=de.getAttribute("class");if(nt){var ot=(nt=ie(nt)).match(/xl[0-9]+/gi);if(ot){var Me="."+ot[0];q[Me]&&D(de,q[Me])}}q.td&&D(de,q.td)}var et=de.getAttribute("style");et&&(et=ie(et))&&et.slice(-1)!==";"&&(et+=";");var Ve=de.getAttribute("valign");if(!Ve&&et){var Ze=et.match(/vertical-align:.+?[; "]{1,1}/gi);Ze&&(Ve=Ze[Ze.length-1].replace(/vertical-align:(.+?)[; "]{1,1}/gi,"$1"))}var Xe=null;if(et){var $e=et.match(/text-align:.+?[; "]{1,1}/gi);$e&&(Xe=$e[$e.length-1].replace(/text-align:(.+?)[; "]{1,1}/gi,"$1")),Xe==="general"&&(Xe=null)}var tt=null;if(et){var _t=et.match(/background:.+?[; "]{1,1}/gi);_t&&(tt=_t[_t.length-1].replace(/background:(.+?)[; "]{1,1}/gi,"$1"))}var mt=de.getAttribute("colspan"),Lt=de.getAttribute("rowspan");mt&&de.setAttribute("colspan",mt),Lt&&de.setAttribute("rowspan",Lt),Ve&&(de.style["vertical-align"]=Ve),Xe&&(de.style["text-align"]=Xe),tt&&(de.style["background-color"]=tt),we&&de.setAttribute("width",we),de=de.nextElementSibling}for(de=G.firstElementChild;de;)we=de.getAttribute("width"),Ae&&de.removeAttribute("width"),de=de.nextElementSibling;G.previousSibling?ge!=Le&&(L=!1):ge=Le,G.nextElementSibling||function(Wt){for(var Zt=Wt.closest("table"),kn=0,Jn=function(){var bn=0;Array.from(Wt.children).forEach(function(Tn){var Mn=parseInt(Tn.getAttribute("width"),10);isNaN(Mn)||(bn+=Mn)}),kn<bn&&(kn=bn),L?Array.from(Wt.children).forEach(function(Tn){var Mn=parseInt(Tn.getAttribute("width"),10);if(!isNaN(Mn)&&0<bn){var vn=100*Mn/bn;Tn.setAttribute("width","".concat(vn,"%"))}}):Array.from(Wt.children).forEach(function(Tn){var Mn=parseInt(Tn.getAttribute("width"),10);isNaN(Mn)||Tn.setAttribute("width","".concat(Mn,"px"))}),Wt=Wt.previousElementSibling};Wt;)Jn();if(Zt&&0<kn){var Je=Zt.getAttribute("width")||"",wt=Je.trim().endsWith("%");if(!wt){var It=parseInt(Zt.style.width,10);(isNaN(It)||It===0)&&(Zt.style.width="".concat(kn,"px"))}}}(G)}function se(G){var q=G.getAttribute("align");q&&(G.style["text-align"]=q,G.removeAttribute("align"))}function ie(G){return G.replace(/\n|\r|\n\r|&quot;/g,"")}function D(G,q,de){if(q){var Le=G.getAttribute("style");Le&&Le.slice(-1)!==";"&&(Le+=";"),q&&q.slice(-1)!==";"&&(q+=";"),q=q.replace(/\n/gi,"");var Ae=null;Ae=q+(Le||""),G.setAttribute("style",Ae)}}var U=null;function V(G,q,de){for(var Le=G.split(de),Ae=1;Ae<Le.length;Ae++){var we=Le[Ae];if(1<(we=we.split("shplid")).length){we=we[1];for(var Pe="",We=0;We<we.length&&we[We]!=="\\"&&we[We]!=="{"&&we[We]!==" "&&we[We]!=="\r"&&we[We]!==`
`;)Pe+=we[We],We++;var ut=we.split("bliptag");if(ut&&ut.length<2)continue;var nt=null;if(ut[0].indexOf("pngblip")!==-1?nt="image/png":ut[0].indexOf("jpegblip")!==-1&&(nt="image/jpeg"),!nt)continue;var ot=ut[1].split("}");if(ot&&ot.length<2)continue;var Me=void 0;if(2<ot.length&&ot[0].indexOf("blipuid")!==-1)Me=ot[1].split(" ");else{if((Me=ot[0].split(" "))&&Me.length<2)continue;Me.shift()}var et=Me.join("");U[q+Pe]={image_hex:et,image_type:nt}}}}function I(G,q){if(q){var de;if(G.tagName==="IMG"){var Le=G.getAttribute("src");if(!Le||Le.indexOf("file://")===-1)return;if(Le.indexOf("file://")===0&&s.helpers.isURL(G.getAttribute("alt")))return void G.setAttribute("src",G.getAttribute("alt"));(de=M[G.getAttribute("v:shapes")])||(de=G.getAttribute("v:shapes"),G.parentNode&&G.parentNode.parentNode&&0<=G.parentNode.parentNode.innerHTML.indexOf("msEquation")&&(de=null))}else de=G.parentNode.getAttribute("o:spid");if(G.removeAttribute("height"),de){(function(ut){U={},V(ut,"i","\\shppict"),V(ut,"s","\\shp{")})(q);var Ae=U[de.substring(7)];if(Ae){var we=function(ut){for(var nt=ut.match(/[0-9a-f]{2}/gi),ot=[],Me=0;Me<nt.length;Me++)ot.push(String.fromCharCode(parseInt(nt[Me],16)));var et=ot.join("");return btoa(et)}(Ae.image_hex),Pe="data:"+Ae.image_type+";base64,"+we;G.tagName==="IMG"?(G.src=Pe,G.setAttribute("data-fr-image-pasted",!0)):a(G).parent().before('<img data-fr-image-pasted="true" src="'.concat(Pe,'" style="').concat(G.parentNode.getAttribute("style"),'">')).remove()}}}}function N(G,q){var de=G.tagName,Le=de.toLowerCase();if(G.firstElementChild&&(G.firstElementChild.tagName==="I"?be(G.firstElementChild,"em"):G.firstElementChild.tagName==="B"&&be(G.firstElementChild,"strong")),["SCRIPT","APPLET","EMBED","NOFRAMES","NOSCRIPT"].indexOf(de)!==-1)return O(G),!1;for(var Ae=["META","LINK","XML","ST1:","O:","W:","FONT"],we=0;we<Ae.length;we++)if(de.indexOf(Ae[we])!==-1)return G.innerHTML&&(G.outerHTML=G.innerHTML),O(G),!1;if(de!=="TD"){var Pe=G.getAttribute("class")||"MsoNormal";if(q&&Pe){for(var We=(Pe=ie(Pe)).split(" "),ut=0;ut<We.length;ut++){var nt=[],ot="."+We[ut];nt.push(ot),ot=Le+ot,nt.push(ot);for(var Me=0;Me<nt.length;Me++)q[nt[Me]]&&D(G,q[nt[Me]])}G.removeAttribute("class")}q&&q[Le]&&D(G,q[Le])}if(["P","H1","H2","H3","H4","H5","H6","PRE"].indexOf(de)!==-1){var et=G.getAttribute("class");if(et&&(q&&q[de.toLowerCase()+"."+et]&&D(G,q[de.toLowerCase()+"."+et]),et.toLowerCase().indexOf("mso")!==-1)){var Ve=ie(et);(Ve=Ve.replace(/[0-9a-z-_]*mso[0-9a-z-_]*/gi,""))?G.setAttribute("class",Ve):G.removeAttribute("class")}var Ze=G.getAttribute("style");if(Ze){var Xe=Ze.match(/text-align:.+?[; "]{1,1}/gi);Xe&&Xe[Xe.length-1].replace(/(text-align:.+?[; "]{1,1})/gi,"$1")}se(G)}if(de==="TR"&&re(G,q),de!=="A"||G.attributes.getNamedItem("href")||G.attributes.getNamedItem("name")||!G.innerHTML||(G.outerHTML=G.innerHTML),de=="A"&&G.getAttribute("href")&&G.querySelector("img"))for(var $e=G.querySelectorAll("span"),tt=0;tt<$e.length;tt++)$e[tt].innerText||($e[tt].outerHTML=$e[tt].innerHTML);if(de!=="TD"&&de!=="TH"||G.innerHTML||(G.innerHTML="<br>"),G.getAttribute("lang")&&G.removeAttribute("lang"),G.getAttribute("style")&&G.getAttribute("style").toLowerCase().indexOf("mso")!==-1){var _t=ie(G.getAttribute("style"));(_t=_t.replace(/[0-9a-z-_]*mso[0-9a-z-_]*:.+?(;{1,1}|$)/gi,"").replace("line-height:107%",""))?G.setAttribute("style",_t):G.removeAttribute("style")}return!0}function ne(G,q){0<=G.indexOf("<html")&&(G=G.replace(/[.\s\S\w\W<>]*(<html[^>]*>[.\s\S\w\W<>]*<\/html>)[.\s\S\w\W<>]*/i,"$1"));var de=G.match(/(MSFontService|class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument|LibreOffice)/gi);(function(et){for(var Ve=et.split("v:shape"),Ze=1;Ze<Ve.length;Ze++){var Xe=Ve[Ze],$e=Xe.split(' id="')[1];if($e&&1<$e.length){$e=$e.split('"')[0];var tt=Xe.split(' o:spid="')[1];tt&&1<tt.length&&(tt=tt.split('"')[0],M[$e]=tt)}}})(G);var Le=new DOMParser().parseFromString(G,"text/html"),Ae=Le.head,we=Le.body,Pe=function(et){var Ve={},Ze=et.getElementsByTagName("style");if(Ze.length){var Xe=Ze[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);if(Xe)for(var $e=0;$e<Xe.length;$e++){var tt=Xe[$e],_t=tt.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),mt=tt.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1");_t=_t.replace(/^[\s]|[\s]$/gm,""),mt=mt.replace(/^[\s]|[\s]$/gm,""),_t=_t.replace(/\n|\r|\n\r/g,""),mt=mt.replace(/\n|\r|\n\r/g,"");for(var Lt=_t.split(", "),Rt=0;Rt<Lt.length;Rt++)Ve[Lt[Rt]]=mt}}return Ve}(Ae);z(we,function(Me){if(Me.nodeType===Node.ELEMENT_NODE&&Me.hasAttribute("style")){var et=Me.getAttribute("style");Me.setAttribute("style",et),Me.style.fontFamily||Me.setAttribute("style",function(Ze){return Ze.replace(/mso-(bidi|fareast|fareast-theme)-font-family/g,"font-family")}(et))}return!0}),z(we,function(Me){if(Me.nodeType===Node.TEXT_NODE&&/\n|\u00a0|\r/.test(Me.data)){if(!/\S| /.test(Me.data)&&!/[\u00a0]+/.test(Me.data))return Me.data===x.UNICODE_NBSP?(Me.data="​",!0):Me.data.length===1&&Me.data.charCodeAt(0)===10?(Me.data=" ",!0):(O(Me),!1);Me.data=Me.data.replace(/\n|\r/gi," ")}return!0}),z(we,function(Me){return Me.nodeType!==Node.ELEMENT_NODE||Me.tagName!=="V:IMAGEDATA"&&Me.tagName!=="IMG"||I(Me,q),!0});for(var We=we.querySelectorAll("ul > ul, ul > ol, ol > ul, ol > ol"),ut=We.length-1;0<=ut;ut--)We[ut].previousElementSibling&&We[ut].previousElementSibling.tagName==="LI"&&We[ut].previousElementSibling.appendChild(We[ut]);z(we,function(Me){if(Me.nodeType===Node.TEXT_NODE)return Me.data=Me.data.replace(/<br>(\n|\r)/gi,"<br>"),!1;if(Me.nodeType===Node.ELEMENT_NODE){if(P(Me)){var et=Me.parentNode,Ve=Me.previousSibling,Ze=function _t(mt,Lt,Rt,Wt){var Zt,kn,Jn,Je,wt,It,nn,bn=navigator.userAgent.toLowerCase();bn.indexOf("safari")!=-1&&(bn=-1<bn.indexOf("chrome")?1:"safari"),mt.innerHTML.includes(`mso-list:
Ignore`)&&(mt.innerHTML=mt.innerHTML.replace(/mso-list:\nIgnore/gi,"mso-list:Ignore"));var Tn,Mn,vn,Hn,wo=/[0-9a-zA-Z]./gi,ro="",qo=Q(mt),zn=(Zt=a(mt).find("ol"))===null||Zt===void 0||(Zt=Zt.attr("style"))===null||Zt===void 0||(Zt=Zt.split(";"))===null||Zt===void 0?void 0:Zt.find(function(me){return me.trim().startsWith("list-style-type")});if(zn==null&&H(mt)&&(zn=(Mn=a(mt).find("ul"))===null||Mn===void 0||(Mn=Mn.attr("style"))===null||Mn===void 0||(Mn=Mn.split(";"))===null||Mn===void 0?void 0:Mn.find(function(me){return me.trim().startsWith("list-style-type")})),qo)It="ol",nn=zn?"list-style-type: "+zn.replace("list-style-type:","").trim()+";":"";else if(H(mt))It="ul",nn=zn?"list-style-type: "+zn.replace("list-style-type:","").trim()+";":"";else{var ls=mt.querySelector('span[style="mso-list:Ignore"]');ls==null&&bn=="safari"&&(ls=mt.querySelector('span[lang="PT-BR"]'));var ms=!1;ls&&(ms=ms||wo.test(ls.textContent)),ls!==null&&(Tn=ls.textContent.trim().split(".")[0]),It=ms==1?(Tn=(Tn=ls.textContent.trim().split(".")[0]).replace(/\(([^)]+)\)|[)]$/g,"$1"),isNaN(parseInt(Tn))?/^(m{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3}))$/.test(Tn)?(nn="lower-roman;",mt.nextElementSibling&&mt.nextElementSibling.textContent.trim().split(".")[0].length===1&&(nn="lower-alpha;")):/^(M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3}))$/.test(Tn)?(nn="upper-roman;",mt.nextElementSibling&&mt.nextElementSibling.textContent.trim().split(".")[0].length===1&&(nn="upper-alpha;")):Tn=="o"?nn="circle;":Tn.match(/^v$/)||(Tn.match(/^[a-z]$/)||Tn.match(/^[a-z]\)$/)?nn="lower-alpha;":(Tn.match(/^[A-Z]$/)||Tn.match(/^[A-Z]\)$/))&&(nn="upper-alpha;")):nn="decimal;",nn=nn?"list-style-type: "+nn:"","ol"):(ls!=null&&(Tn=ls.textContent.trim().split(".")[0]),Tn=="§"?nn="square;":Tn=="·"&&(nn="disc;"),nn=nn?"list-style-type: "+nn:"","ul"),ls==null||ls.textContent==null||isNaN(parseInt(ls.textContent.trim().split(".")[1],10))||(ro=' class="decimal_type" ')}var Et=1,fe="",Z=(ee(mt),mt.style.marginLeft),ae="";Z.includes("in")?(ae="in",Z=parseFloat(Z)-.5):Z.includes("pt")&&(ae="px",Z=parseFloat(Z)-10),Z&&(Hn=" margin-left: "+Z+ae+";"),Et=nn=="list-style-type: upper-alpha;"?qo?parseInt(a(mt).find("ol").attr("start")):Tn.charCodeAt(0)-64:nn=="list-style-type: lower-alpha;"?qo?parseInt(a(mt).find("ol").attr("start")):Tn.charCodeAt(0)-96:nn=="list-style-type: upper-roman;"||nn=="list-style-type: lower-roman;"?qo?parseInt(a(mt).find("ol").attr("start")):function(_e){for(var Ke={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3,i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},ft=0,gt=0,At=_e.length-1;0<=At;At--){var zt=Ke[_e[At]];gt<=zt?ft+=zt:ft-=zt,gt=zt}return ft}(Tn):parseInt(qo?a(mt).find("ol").attr("start"):Tn),fe+=nn||"",fe+=Hn||"",vn="<"+It,mt.style.display==="none"&&(vn+=' class="fr-mso-hidden"'),vn+=ro||"",vn+=It!="ol"||Et==1||isNaN(Et)?"":' start = "'+Et+'"',vn+=fe?' style = "'+fe+'"':"",vn+=">";for(var ye=!1;mt;){if(!P(mt)){if(mt.outerHTML&&0<mt.outerHTML.indexOf("mso-bookmark")&&(mt.textContent||"").length==0){mt=mt.nextElementSibling;continue}break}var Ce=ee(mt);if((Rt=Rt||Ce)<Ce)vn+=(wt=_t(mt,Lt,Ce,mt.style.marginLeft)).el.outerHTML,mt=wt.currentNode;else{if(Ce<Rt)break;mt.firstElementChild&&mt.firstElementChild.firstElementChild&&mt.firstElementChild.firstElementChild.firstChild&&(wo.lastIndex=0),Jn&&Jn.firstElementChild&&Jn.firstElementChild.firstElementChild&&Jn.firstElementChild.firstElementChild.firstChild&&(wo.lastIndex=0,kn=wo.test(Jn.firstElementChild.firstElementChild.firstChild.data||Jn.firstElementChild.firstElementChild.firstChild.firstChild&&Jn.firstElementChild.firstElementChild.firstChild.firstChild.data||""));var ze=!1,Re=Jn&&ee(Jn);(!Wt&&!mt.style.marginLeft||Wt&&mt.style.marginLeft&&Wt===mt.style.marginLeft||Re&&Re===Ce)&&(ze=!0),Wt=mt.style.marginLeft,ze||kn===void 0?(Je=w(mt,Lt),mt.nextSibling&&mt.nextSibling.innerText!=null&&mt.nextSibling.innerText!=null&&!vn.includes('class="decimal_type"')&&(isNaN(parseInt(mt.nextSibling.innerText.trim().split(".")[1],10))||(vn=vn.substring(3,0)+' class="decimal_type"'+vn.substring(3,vn.length))),vn+=Je):(Ce==1&&(vn+="</"+It+">",ye=!0,Jn=null),vn+=(wt=_t(mt,Lt,Ce,mt.style.marginLeft)).el.outerHTML,mt=wt.currentNode);var J=mt&&mt.nextElementSibling;if(J&&(Jn=J.previousElementSibling),mt&&!P(mt)){if(mt.outerHTML&&0<mt.outerHTML.indexOf("mso-bookmark")&&(mt.textContent||"").length==0){mt=mt.nextElementSibling;continue}break}mt&&mt.parentNode&&mt.parentNode.removeChild(mt),mt=J}}ye||(vn+="</"+It+">");var pe=document.createElement("div");return pe.innerHTML=vn,{el:pe,currentNode:mt}}(Me,Pe).el,Xe=null;return(Xe=Ve?Ve.nextSibling:et.firstChild)?et.insertBefore(Ze,Xe):et.appendChild(Ze),!1}return Me.tagName==="FONT"&&(de&&de[0]==="LibreOffice"||Pe["."+Me.getAttribute("class")])?Me=be(Me,"span"):de&&de[0]==="<!--StartFragment-->"&&Me.tagName==="UL"&&(a(Me).find("li span").each(function(){a(this).html()==="&nbsp;"&&(0<a(this).prev().text().trim().length?a(this).remove():a(this).html("&ZeroWidthSpace;"))}),a(Me).is("ul")&&Me.setAttribute("style",xe(Me,["margin","margin-left","list-style-type"])),a(Me).find("ul").each(function(){this.setAttribute("style",xe(this,["margin","margin-left","list-style-type"]))})),Me.tagName.toLowerCase()!=="img"&&function(mt){Array.from(mt.attributes).map(function(Lt){return Lt.name}).filter(function(Lt){return Lt.toLowerCase().startsWith("data-")||Lt.toLowerCase().startsWith("xml:")}).forEach(function(Lt){a(mt).removeAttr(Lt)})}(Me),N(Me,Pe)}if(Me.nodeType!==Node.COMMENT_NODE)return!0;if(-1<Me.data.indexOf("[if !supportLineBreakNewLine]"))for(var $e=Me.nextSibling;$e;)($e=Me.nextSibling)&&O($e),$e.data&&-1<$e.data.indexOf("[endif]")&&($e=null);if(-1<Me.data.indexOf("[if supportFields]")&&-1<Me.data.indexOf("FORMCHECKBOX")){var tt=document.createElement("input");tt.type="checkbox",Me.parentNode.insertBefore(tt,Me.nextSibling)}return O(Me),!1}),j=null,K={},we.innerHTML=function(et){var Ve=a(document.createElement("div")).attr("id","top-level");Ve.html(et);for(var Ze=Ve[0].querySelectorAll("ol, ul"),Xe=0;Xe<Ze.length;Xe++)if(a(Ze[Xe]).parentsUntil("#top-level","ol, ul").length){Ze[Xe].style.removeProperty("margin-left");for(var $e=Ze[Xe].children,tt=0;tt<$e.length;tt++)$e[tt].tagName=="LI"&&$e[tt].style.removeProperty("margin-left")}return Ve[0].innerHTML}(we.innerHTML),z(we,function(Me){if(Me.nodeType===Node.ELEMENT_NODE){var et=Me.tagName;if(!Me.innerHTML&&["BR","IMG","INPUT"].indexOf(et)===-1){for(var Ve=Me.parentNode;Ve&&(O(Me),!(Me=Ve).innerHTML)&&Me.parentNode.tagName!=="TD";)Ve=Me.parentNode;return!1}(function(Xe){var $e=Xe.getAttribute("style");if($e){($e=ie($e))&&$e.slice(-1)!==";"&&($e+=";");var tt=$e.match(/(^|\S+?):.+?;{1,1}/gi);if(tt){for(var _t={},mt=0;mt<tt.length;mt++){var Lt=tt[mt].split(":");Lt.length===2&&(Lt[0]==="text-align"&&Xe.tagName==="SPAN"||(_t[Lt[0]]=Lt[1]))}var Rt="";for(var Wt in _t)if(_t.hasOwnProperty(Wt)){if(Wt==="font-size"&&_t[Wt].slice(-3)==="pt;"){var Zt=null;try{Zt=parseFloat(_t[Wt].slice(0,-3),10)}catch{Zt=null}if(Zt){var kn=s.opts.fontSizeUnit;kn==="px"?(Zt=Math.round(1.33*Zt),_t[Wt]=Zt+"px;"):kn==="pt"&&(Zt=Math.round(Zt),_t[Wt]=Zt+"pt;")}}Rt+=Wt+":"+_t[Wt]}Rt&&Xe.setAttribute("style",Rt)}}})(Me)}return!0}),z(we,function(Me){if(Me&&Me.nodeName==="A"){if(Me.hasAttribute("name")&&Me.getAttribute("name").startsWith("_Toc")&&Me.parentNode&&(Me.parentNode.id=Me.getAttribute("name")),Me.href===""){for(var et=document.createDocumentFragment();Me.firstChild;)et.appendChild(Me.firstChild);Me.parentNode.replaceChild(et,Me)}Me.hasAttribute("href")&&Me.getAttribute("href").startsWith("#_Toc")&&(Me.removeChild(Me.lastChild),Me.removeChild(Me.lastChild))}return!0}),z(we,function(Me){return Me&&Me.tagName==="P"&&Me.parentNode.tagName==="DIV"&&Me.parentNode.children.length==1&&a(Me).unwrap(),!0}),z(we,function(Me){if(Me&&Me.tagName==="SPAN")for(;Me.nextSibling&&Me.nextSibling.nodeType===Node.ELEMENT_NODE&&Me.nextSibling.tagName==="SPAN"&&Me.getAttribute("style")===Me.nextSibling.getAttribute("style");)a(Me).append(Me.nextSibling.innerHTML),a(Me.nextSibling).remove();return!0});var nt=we.outerHTML,ot=s.opts.htmlAllowedStyleProps;return s.opts.htmlAllowedStyleProps=s.opts.wordAllowedStyleProps,nt=s.clean.html(nt,s.opts.wordDeniedTags,s.opts.wordDeniedAttrs,!1),s.opts.htmlAllowedStyleProps=ot,nt}return{_init:function(){s.events.on("paste.wordPaste",function(q){return B=q,s.opts.wordPasteModal?function(){if(!b){var Le='<h4><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74.95 73.23" style="height: 25px; vertical-align: text-bottom; margin-right: 5px; display: inline-block"><defs><style>.a{fill:#2a5699;}.b{fill:#fff;}</style></defs><path class="a" d="M615.15,827.22h5.09V834c9.11.05,18.21-.09,27.32.05a2.93,2.93,0,0,1,3.29,3.25c.14,16.77,0,33.56.09,50.33-.09,1.72.17,3.63-.83,5.15-1.24.89-2.85.78-4.3.84-8.52,0-17,0-25.56,0v6.81h-5.32c-13-2.37-26-4.54-38.94-6.81q0-29.8,0-59.59c13.05-2.28,26.11-4.5,39.17-6.83Z" transform="translate(-575.97 -827.22)"/><path class="b" d="M620.24,836.59h28.1v54.49h-28.1v-6.81h22.14v-3.41H620.24v-4.26h22.14V873.2H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24V846h22.14v-3.41H620.24Zm-26.67,15c1.62-.09,3.24-.16,4.85-.25,1.13,5.75,2.29,11.49,3.52,17.21,1-5.91,2-11.8,3.06-17.7,1.7-.06,3.41-.15,5.1-.26-1.92,8.25-3.61,16.57-5.71,24.77-1.42.74-3.55,0-5.24.09-1.13-5.64-2.45-11.24-3.47-16.9-1,5.5-2.29,10.95-3.43,16.42q-2.45-.13-4.92-.3c-1.41-7.49-3.07-14.93-4.39-22.44l4.38-.18c.88,5.42,1.87,10.82,2.64,16.25,1.2-5.57,2.43-11.14,3.62-16.71Z" transform="translate(-575.97 -827.22)"/></svg> '+s.language.translate("Word Paste Detected")+"</h4>",Ae=function(){var ut='<div class="fr-word-paste-modal" style="padding: 20px 20px 10px 20px;">';return ut+='<p style="text-align: left;">'+s.language.translate("The pasted content is coming from a Microsoft Word document. Do you want to keep the format or clean it up?")+"</p>",ut+='<div style="text-align: right; margin-top: 50px;"><button class="fr-remove-word fr-command">'+s.language.translate("Clean")+'</button> <button class="fr-keep-word fr-command">'+s.language.translate("Keep")+"</button></div>",ut+="</div>"}(),we=s.modals.create(p,Le,Ae),Pe=we.$body;b=we.$modal,we.$modal.addClass("fr-middle"),s.events.bindClick(Pe,"button.fr-remove-word",function(){var We=b.data("instance")||s;We.wordPaste.clean()}),s.events.bindClick(Pe,"button.fr-keep-word",function(){var We=b.data("instance")||s;We.wordPaste.clean(!0)}),s.events.$on(a(s.o_win),"resize",function(){s.modals.resize(p)})}s.modals.show(p),s.modals.resize(p)}():A(s.opts.wordPasteKeepFormatting),!1})},clean:A,_wordClean:ne}};var Oe={},pn={},On={},ve=Ft(!0),es="vanilla",_o={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:Ft(!0),allOn:function(){var b=Ft(!0),B={};for(var ge in b)b.hasOwnProperty(ge)&&(B[ge]=!0);return B}()};function Ao(s,b){var B=b?"Error in "+b+" extension->":"Error in unnamed extension",ge={valid:!0,error:""};Oe.helper.isArray(s)||(s=[s]);for(var a=0;a<s.length;++a){var p=B+" sub-extension "+a+": ",M=s[a];if(je(M)!=="object")return ge.valid=!1,ge.error=p+"must be an object, but "+je(M)+" given",ge;if(!Oe.helper.isString(M.type))return ge.valid=!1,ge.error=p+'property "type" must be a string, but '+je(M.type)+" given",ge;var L=M.type=M.type.toLowerCase();if(L==="language"&&(L=M.type="lang"),L==="html"&&(L=M.type="output"),L!=="lang"&&L!=="output"&&L!=="listener")return ge.valid=!1,ge.error=p+"type "+L+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',ge;if(L==="listener"){if(Oe.helper.isUndefined(M.listeners))return ge.valid=!1,ge.error=p+'. Extensions of type "listener" must have a property called "listeners"',ge}else if(Oe.helper.isUndefined(M.filter)&&Oe.helper.isUndefined(M.regex))return ge.valid=!1,ge.error=p+L+' extensions must define either a "regex" property or a "filter" method',ge;if(M.listeners){if(je(M.listeners)!=="object")return ge.valid=!1,ge.error=p+'"listeners" property must be an object but '+je(M.listeners)+" given",ge;for(var A in M.listeners)if(M.listeners.hasOwnProperty(A)&&typeof M.listeners[A]!="function")return ge.valid=!1,ge.error=p+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+A+" must be a function but "+je(M.listeners[A])+" given",ge}if(M.filter){if(typeof M.filter!="function")return ge.valid=!1,ge.error=p+'"filter" must be a function, but '+je(M.filter)+" given",ge}else if(M.regex){if(Oe.helper.isString(M.regex)&&(M.regex=new RegExp(M.regex,"g")),!(M.regex instanceof RegExp))return ge.valid=!1,ge.error=p+'"regex" property must either be a string or a RegExp object, but '+je(M.regex)+" given",ge;if(Oe.helper.isUndefined(M.replace))return ge.valid=!1,ge.error=p+'"regex" extensions must implement a replace string or function',ge}}return ge}function jt(s,b){return"¨E"+b.charCodeAt(0)+"E"}Oe.helper={},Oe.extensions={},Oe.setOption=function(s,b){return ve[s]=b,this},Oe.getOption=function(s){return ve[s]},Oe.getOptions=function(){return ve},Oe.resetOptions=function(){ve=Ft(!0)},Oe.setFlavor=function(s){if(!_o.hasOwnProperty(s))throw Error(s+" flavor was not found");Oe.resetOptions();var b=_o[s];for(var B in es=s,b)b.hasOwnProperty(B)&&(ve[B]=b[B])},Oe.getFlavor=function(){return es},Oe.getFlavorOptions=function(s){if(_o.hasOwnProperty(s))return _o[s]},Oe.getDefaultOptions=function(s){return Ft(s)},Oe.subParser=function(s,b){if(Oe.helper.isString(s)){if(b===void 0){if(pn.hasOwnProperty(s))return pn[s];throw Error("SubParser named "+s+" not registered!")}pn[s]=b}},Oe.extension=function(s,b){if(!Oe.helper.isString(s))throw Error("Extension 'name' must be a string");if(s=Oe.helper.stdExtName(s),Oe.helper.isUndefined(b)){if(!On.hasOwnProperty(s))throw Error("Extension named "+s+" is not registered!");return On[s]}typeof b=="function"&&(b=b()),Oe.helper.isArray(b)||(b=[b]);var B=Ao(b,s);if(!B.valid)throw Error(B.error);On[s]=b},Oe.getAllExtensions=function(){return On},Oe.removeExtension=function(s){delete On[s]},Oe.resetExtensions=function(){On={}},Oe.validateExtension=function(s){var b=Ao(s,null);return!!b.valid},Oe.hasOwnProperty("helper")||(Oe.helper={}),Oe.helper.isString=function(s){return typeof s=="string"||s instanceof String},Oe.helper.isFunction=function(s){return s&&{}.toString.call(s)==="[object Function]"},Oe.helper.isArray=function(s){return Array.isArray(s)},Oe.helper.isUndefined=function(s){return s===void 0},Oe.helper.forEach=function(s,b){if(Oe.helper.isUndefined(s))throw new Error("obj param is required");if(Oe.helper.isUndefined(b))throw new Error("callback param is required");if(!Oe.helper.isFunction(b))throw new Error("callback param must be a function/closure");if(typeof s.forEach=="function")s.forEach(b);else if(Oe.helper.isArray(s))for(var B=0;B<s.length;B++)b(s[B],B,s);else{if(je(s)!=="object")throw new Error("obj does not seem to be an array or an iterable object");for(var ge in s)s.hasOwnProperty(ge)&&b(s[ge],ge,s)}},Oe.helper.stdExtName=function(s){return s.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},Oe.helper.escapeCharactersCallback=jt,Oe.helper.escapeCharacters=function(s,b,B){var ge="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";B&&(ge="\\\\"+ge);var a=new RegExp(ge,"g");return s=s.replace(a,jt)},Oe.helper.unescapeHTMLEntities=function(s){return s.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var Zo=function(b,B,ge,a){var p,M,L,A,O,z=a||"",Q=-1<z.indexOf("g"),H=new RegExp(B+"|"+ge,"g"+z.replace(/g/g,"")),P=new RegExp(B,z.replace(/g/g,"")),j=[];do for(p=0;L=H.exec(b);)if(P.test(L[0]))p++||(A=(M=H.lastIndex)-L[0].length);else if(p&&!--p){O=L.index+L[0].length;var K={left:{start:A,end:M},match:{start:M,end:L.index},right:{start:L.index,end:O},wholeMatch:{start:A,end:O}};if(j.push(K),!Q)return j}while(p&&(H.lastIndex=M));return j};Oe.helper.matchRecursiveRegExp=function(s,b,B,ge){for(var a=Zo(s,b,B,ge),p=[],M=0;M<a.length;++M)p.push([s.slice(a[M].wholeMatch.start,a[M].wholeMatch.end),s.slice(a[M].match.start,a[M].match.end),s.slice(a[M].left.start,a[M].left.end),s.slice(a[M].right.start,a[M].right.end)]);return p},Oe.helper.replaceRecursiveRegExp=function(s,b,B,ge,a){if(!Oe.helper.isFunction(b)){var p=b;b=function(){return p}}var M=Zo(s,B,ge,a),L=s,A=M.length;if(0<A){var O=[];M[0].wholeMatch.start!==0&&O.push(s.slice(0,M[0].wholeMatch.start));for(var z=0;z<A;++z)O.push(b(s.slice(M[z].wholeMatch.start,M[z].wholeMatch.end),s.slice(M[z].match.start,M[z].match.end),s.slice(M[z].left.start,M[z].left.end),s.slice(M[z].right.start,M[z].right.end))),z<A-1&&O.push(s.slice(M[z].wholeMatch.end,M[z+1].wholeMatch.start));M[A-1].wholeMatch.end<s.length&&O.push(s.slice(M[A-1].wholeMatch.end)),L=O.join("")}return L},Oe.helper.regexIndexOf=function(s,b,B){if(!Oe.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(b instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var ge=s.substring(B||0).search(b);return 0<=ge?ge+(B||0):ge},Oe.helper.splitAtIndex=function(s,b){if(!Oe.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[s.substring(0,b),s.substring(b)]},Oe.helper.encodeEmailAddress=function(s){var b=[function(B){return"&#"+B.charCodeAt(0)+";"},function(B){return"&#x"+B.charCodeAt(0).toString(16)+";"},function(B){return B}];return s=s.replace(/./g,function(B){if(B==="@")B=b[Math.floor(2*Math.random())](B);else{var ge=Math.random();B=.9<ge?b[2](B):.45<ge?b[1](B):b[0](B)}return B})},Oe.helper.padEnd=function(s,b,B){return b>>=0,B=String(B||" "),s.length>b?String(s):((b-=s.length)>B.length&&(B+=B.repeat(b/B.length)),String(s)+B.slice(0,b))},typeof console>"u"&&(console={warn:function(s){alert(s)},log:function(s){alert(s)},error:function(s){throw s}}),Oe.helper.regexes={asteriskDashAndColon:/([*_:~])/g},Oe.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},Oe.Converter=function(s){var b={},B=[],ge=[],a={},p=es,M={parsed:{},raw:"",format:""};function L(O,z){if(z=z||null,Oe.helper.isString(O)){if(z=O=Oe.helper.stdExtName(O),Oe.extensions[O])return void function(K,ee){typeof K=="function"&&(K=K(new Oe.Converter)),Oe.helper.isArray(K)||(K=[K]);var w=Ao(K,ee);if(!w.valid)throw Error(w.error);for(var xe=0;xe<K.length;++xe)switch(K[xe].type){case"lang":B.push(K[xe]);break;case"output":ge.push(K[xe]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(Oe.extensions[O],O);if(Oe.helper.isUndefined(On[O]))throw Error('Extension "'+O+'" could not be loaded. It was either not found or is not a valid extension.');O=On[O]}typeof O=="function"&&(O=O()),Oe.helper.isArray(O)||(O=[O]);var Q=Ao(O,z);if(!Q.valid)throw Error(Q.error);for(var H=0;H<O.length;++H){switch(O[H].type){case"lang":B.push(O[H]);break;case"output":ge.push(O[H])}if(O[H].hasOwnProperty("listeners"))for(var P in O[H].listeners)O[H].listeners.hasOwnProperty(P)&&A(P,O[H].listeners[P])}}function A(O,z){if(!Oe.helper.isString(O))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+je(O)+" given");if(typeof z!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+je(z)+" given");a.hasOwnProperty(O)||(a[O]=[]),a[O].push(z)}(function(){for(var z in s=s||{},ve)ve.hasOwnProperty(z)&&(b[z]=ve[z]);{if(je(s)!=="object")throw Error("Converter expects the passed parameter to be an object, but "+je(s)+" was passed instead.");for(var Q in s)s.hasOwnProperty(Q)&&(b[Q]=s[Q])}b.extensions&&Oe.helper.forEach(b.extensions,L)})(),this._dispatch=function(O,z,Q,H){if(a.hasOwnProperty(O))for(var P=0;P<a[O].length;++P){var j=a[O][P](O,z,this,Q,H);j&&j!==void 0&&(z=j)}return z},this.listen=function(O,z){return A(O,z),this},this.makeHtml=function(O){if(!O)return O;var z={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:B,outputModifiers:ge,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return O=(O=(O=(O=(O=O.replace(/\xa8/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,`
`)).replace(/\r/g,`
`)).replace(/\u00A0/g,"&nbsp;"),b.smartIndentationFix&&(O=function(H){var P=H.match(/^\s*/)[0].length,j=new RegExp("^\\s{0,"+P+"}","gm");return H.replace(j,"")}(O)),O=`

`+O+`

`,O=(O=Oe.subParser("detab")(O,b,z)).replace(/^[ \t]+$/gm,""),Oe.helper.forEach(B,function(Q){O=Oe.subParser("runExtension")(Q,O,b,z)}),O=Oe.subParser("metadata")(O,b,z),O=Oe.subParser("hashPreCodeTags")(O,b,z),O=Oe.subParser("githubCodeBlocks")(O,b,z),O=Oe.subParser("hashHTMLBlocks")(O,b,z),O=Oe.subParser("hashCodeTags")(O,b,z),O=Oe.subParser("stripLinkDefinitions")(O,b,z),O=Oe.subParser("blockGamut")(O,b,z),O=Oe.subParser("unhashHTMLSpans")(O,b,z),O=(O=(O=Oe.subParser("unescapeSpecialChars")(O,b,z)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"¨"),O=Oe.subParser("completeHTMLDocument")(O,b,z),Oe.helper.forEach(ge,function(Q){O=Oe.subParser("runExtension")(Q,O,b,z)}),M=z.metadata,O},this.makeMarkdown=this.makeMd=function(O,z){if(O=(O=(O=O.replace(/\r\n/g,`
`)).replace(/\r/g,`
`)).replace(/>[ \t]+</,">¨NBSP;<"),!z){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");z=window.document}var Q=z.createElement("div");Q.innerHTML=O;var H={preList:function(w){for(var xe=w.querySelectorAll("pre"),be=[],re=0;re<xe.length;++re)if(xe[re].childElementCount===1&&xe[re].firstChild.tagName.toLowerCase()==="code"){var se=xe[re].firstChild.innerHTML.trim(),ie=xe[re].firstChild.getAttribute("data-language")||"";if(ie==="")for(var D=xe[re].firstChild.className.split(" "),U=0;U<D.length;++U){var V=D[U].match(/^language-(.+)$/);if(V!==null){ie=V[1];break}}se=Oe.helper.unescapeHTMLEntities(se),be.push(se),xe[re].outerHTML='<precode language="'+ie+'" precodenum="'+re.toString()+'"></precode>'}else be.push(xe[re].innerHTML),xe[re].innerHTML="",xe[re].setAttribute("prenum",re.toString());return be}(Q)};(function ee(w){for(var xe=0;xe<w.childNodes.length;++xe){var be=w.childNodes[xe];be.nodeType===3?/\S/.test(be.nodeValue)?(be.nodeValue=be.nodeValue.split(`
`).join(" "),be.nodeValue=be.nodeValue.replace(/(\s)+/g,"$1")):(w.removeChild(be),--xe):be.nodeType===1&&ee(be)}})(Q);for(var P=Q.childNodes,j="",K=0;K<P.length;K++)j+=Oe.subParser("makeMarkdown.node")(P[K],H);return j},this.setOption=function(O,z){b[O]=z},this.getOption=function(O){return b[O]},this.getOptions=function(){return b},this.addExtension=function(O,z){L(O,z=z||null)},this.useExtension=function(O){L(O)},this.setFlavor=function(O){if(!_o.hasOwnProperty(O))throw Error(O+" flavor was not found");var z=_o[O];for(var Q in p=O,z)z.hasOwnProperty(Q)&&(b[Q]=z[Q])},this.getFlavor=function(){return p},this.removeExtension=function(O){Oe.helper.isArray(O)||(O=[O]);for(var z=0;z<O.length;++z){for(var Q=O[z],H=0;H<B.length;++H)B[H]===Q&&B[H].splice(H,1);for(;0<ge.length;++H)ge[0]===Q&&ge[0].splice(H,1)}},this.getAllExtensions=function(){return{language:B,output:ge}},this.getMetadata=function(O){return O?M.raw:M.parsed},this.getMetadataFormat=function(){return M.format},this._setMetadataPair=function(O,z){M.parsed[O]=z},this._setMetadataFormat=function(O){M.format=O},this._setMetadataRaw=function(O){M.raw=O}},Oe.subParser("anchors",function(s,b,B){var ge=function(p,M,L,A,O,z,Q){if(Oe.helper.isUndefined(Q)&&(Q=""),L=L.toLowerCase(),-1<p.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))A="";else if(!A){if(L||(L=M.toLowerCase().replace(/ ?\n/g," ")),A="#"+L,Oe.helper.isUndefined(B.gUrls[L]))return p;A=B.gUrls[L],Oe.helper.isUndefined(B.gTitles[L])||(Q=B.gTitles[L])}var H='<a href="'+(A=A.replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'"';return Q!==""&&Q!==null&&(H+=' title="'+(Q=(Q=Q.replace(/"/g,"&quot;")).replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'"'),b.openLinksInNewWindow&&!/^#/.test(A)&&(H+=' rel="noopener noreferrer" target="¨E95Eblank"'),H+=">"+M+"</a>"};return s=(s=(s=(s=(s=B.converter._dispatch("anchors.before",s,b,B)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,ge)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,ge)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,ge)).replace(/\[([^\[\]]+)]()()()()()/g,ge),b.ghMentions&&(s=s.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(a,p,M,L,A){if(M==="\\")return p+L;if(!Oe.helper.isString(b.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var O=b.ghMentionsLink.replace(/\{u}/g,A),z="";return b.openLinksInNewWindow&&(z=' rel="noopener noreferrer" target="¨E95Eblank"'),p+'<a href="'+O+'"'+z+">"+L+"</a>"})),s=B.converter._dispatch("anchors.after",s,b,B)});var Xt,lt,Xn=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,gs=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,Eo=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,ht=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,oo=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,Ls=function(b){return function(B,ge,a,p,M,L,A){var O=a=a.replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback),z="",Q="",H=ge||"",P=A||"";return/^www\./i.test(a)&&(a=a.replace(/^www\./i,"http://www.")),b.excludeTrailingPunctuationFromURLs&&L&&(z=L),b.openLinksInNewWindow&&(Q=' rel="noopener noreferrer" target="¨E95Eblank"'),H+'<a href="'+a+'"'+Q+">"+O+"</a>"+z+P}},us=function(b,B){return function(ge,a,p){var M="mailto:";return a=a||"",p=Oe.subParser("unescapeSpecialChars")(p,b,B),b.encodeEmails?(M=Oe.helper.encodeEmailAddress(M+p),p=Oe.helper.encodeEmailAddress(p)):M+=p,a+'<a href="'+M+'">'+p+"</a>"}};Oe.subParser("autoLinks",function(s,b,B){return s=(s=(s=B.converter._dispatch("autoLinks.before",s,b,B)).replace(Eo,Ls(b))).replace(oo,us(b,B)),s=B.converter._dispatch("autoLinks.after",s,b,B)}),Oe.subParser("simplifiedAutoLinks",function(s,b,B){return b.simplifiedAutoLink?(s=B.converter._dispatch("simplifiedAutoLinks.before",s,b,B),s=(s=b.excludeTrailingPunctuationFromURLs?s.replace(gs,Ls(b)):s.replace(Xn,Ls(b))).replace(ht,us(b,B)),s=B.converter._dispatch("simplifiedAutoLinks.after",s,b,B)):s}),Oe.subParser("blockGamut",function(s,b,B){return s=B.converter._dispatch("blockGamut.before",s,b,B),s=Oe.subParser("blockQuotes")(s,b,B),s=Oe.subParser("headers")(s,b,B),s=Oe.subParser("horizontalRule")(s,b,B),s=Oe.subParser("lists")(s,b,B),s=Oe.subParser("codeBlocks")(s,b,B),s=Oe.subParser("tables")(s,b,B),s=Oe.subParser("hashHTMLBlocks")(s,b,B),s=Oe.subParser("paragraphs")(s,b,B),s=B.converter._dispatch("blockGamut.after",s,b,B)}),Oe.subParser("blockQuotes",function(s,b,B){s=B.converter._dispatch("blockQuotes.before",s,b,B),s+=`

`;var ge=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return b.splitAdjacentBlockquotes&&(ge=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),s=s.replace(ge,function(a){return a=(a=(a=a.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),a=Oe.subParser("githubCodeBlocks")(a,b,B),a=(a=(a=Oe.subParser("blockGamut")(a,b,B)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(p,M){var L=M;return L=(L=L.replace(/^ {2}/gm,"¨0")).replace(/\xa80/g,"")}),Oe.subParser("hashBlock")(`<blockquote>
`+a+`
</blockquote>`,b,B)}),s=B.converter._dispatch("blockQuotes.after",s,b,B)}),Oe.subParser("codeBlocks",function(s,b,B){return s=B.converter._dispatch("codeBlocks.before",s,b,B),s=(s=(s+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(ge,a,p){var M=a,L=p,A=`
`;return M=Oe.subParser("outdent")(M,b,B),M=Oe.subParser("encodeCode")(M,b,B),M=(M=(M=Oe.subParser("detab")(M,b,B)).replace(/^\n+/g,"")).replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(A=""),M="<pre><code>"+M+A+"</code></pre>",Oe.subParser("hashBlock")(M,b,B)+L})).replace(/\xa80/,""),s=B.converter._dispatch("codeBlocks.after",s,b,B)}),Oe.subParser("codeSpans",function(s,b,B){return(s=B.converter._dispatch("codeSpans.before",s,b,B))===void 0&&(s=""),s=s.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(ge,a,p,M){var L=M;return L=(L=L.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),L=a+"<code>"+(L=Oe.subParser("encodeCode")(L,b,B))+"</code>",L=Oe.subParser("hashHTMLSpans")(L,b,B)}),s=B.converter._dispatch("codeSpans.after",s,b,B)}),Oe.subParser("completeHTMLDocument",function(s,b,B){if(!b.completeHTMLDocument)return s;s=B.converter._dispatch("completeHTMLDocument.before",s,b,B);var ge="html",a=`<!DOCTYPE HTML>
`,p="",M=`<meta charset="utf-8">
`,L="",A="";for(var O in typeof B.metadata.parsed.doctype<"u"&&(a="<!DOCTYPE "+B.metadata.parsed.doctype+`>
`,(ge=B.metadata.parsed.doctype.toString().toLowerCase())!=="html"&&ge!=="html5"||(M='<meta charset="utf-8">')),B.metadata.parsed)if(B.metadata.parsed.hasOwnProperty(O))switch(O.toLowerCase()){case"doctype":break;case"title":p="<title>"+B.metadata.parsed.title+`</title>
`;break;case"charset":M=ge==="html"||ge==="html5"?'<meta charset="'+B.metadata.parsed.charset+`">
`:'<meta name="charset" content="'+B.metadata.parsed.charset+`">
`;break;case"language":case"lang":L=' lang="'+B.metadata.parsed[O]+'"',A+='<meta name="'+O+'" content="'+B.metadata.parsed[O]+`">
`;break;default:A+='<meta name="'+O+'" content="'+B.metadata.parsed[O]+`">
`}return s=a+"<html"+L+`>
<head>
`+p+M+A+`</head>
<body>
`+s.trim()+`
</body>
</html>`,s=B.converter._dispatch("completeHTMLDocument.after",s,b,B)}),Oe.subParser("detab",function(s,b,B){return s=(s=(s=(s=(s=(s=B.converter._dispatch("detab.before",s,b,B)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/\xa8B(.+?)\xa8A/g,function(ge,a){for(var p=a,M=4-p.length%4,L=0;L<M;L++)p+=" ";return p})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),s=B.converter._dispatch("detab.after",s,b,B)}),Oe.subParser("ellipsis",function(s,b,B){return s=(s=B.converter._dispatch("ellipsis.before",s,b,B)).replace(/\.\.\./g,"…"),s=B.converter._dispatch("ellipsis.after",s,b,B)}),Oe.subParser("emoji",function(s,b,B){return b.emoji?(s=(s=B.converter._dispatch("emoji.before",s,b,B)).replace(/:([\S]+?):/g,function(ge,a){return Oe.helper.emojis.hasOwnProperty(a)?Oe.helper.emojis[a]:ge}),s=B.converter._dispatch("emoji.after",s,b,B)):s}),Oe.subParser("encodeAmpsAndAngles",function(s,b,B){return s=(s=(s=(s=(s=B.converter._dispatch("encodeAmpsAndAngles.before",s,b,B)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),s=B.converter._dispatch("encodeAmpsAndAngles.after",s,b,B)}),Oe.subParser("encodeBackslashEscapes",function(s,b,B){return s=(s=(s=B.converter._dispatch("encodeBackslashEscapes.before",s,b,B)).replace(/\\(\\)/g,Oe.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,Oe.helper.escapeCharactersCallback),s=B.converter._dispatch("encodeBackslashEscapes.after",s,b,B)}),Oe.subParser("encodeCode",function(s,b,B){return s=(s=B.converter._dispatch("encodeCode.before",s,b,B)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,Oe.helper.escapeCharactersCallback),s=B.converter._dispatch("encodeCode.after",s,b,B)}),Oe.subParser("escapeSpecialCharsWithinTagAttributes",function(s,b,B){return s=(s=(s=B.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",s,b,B)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(ge){return ge.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,Oe.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(ge){return ge.replace(/([\\`*_~=|])/g,Oe.helper.escapeCharactersCallback)}),s=B.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",s,b,B)}),Oe.subParser("githubCodeBlocks",function(s,b,B){return b.ghCodeBlocks?(s=B.converter._dispatch("githubCodeBlocks.before",s,b,B),s=(s=(s+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(ge,a,p,M){var L=b.omitExtraWLInCodeBlocks?"":`
`;return M=Oe.subParser("encodeCode")(M,b,B),M="<pre><code"+(p?' class="'+p+" language-"+p+'"':"")+">"+(M=(M=(M=Oe.subParser("detab")(M,b,B)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+L+"</code></pre>",M=Oe.subParser("hashBlock")(M,b,B),`

¨G`+(B.ghCodeBlocks.push({text:ge,codeblock:M})-1)+`G

`})).replace(/\xa80/,""),B.converter._dispatch("githubCodeBlocks.after",s,b,B)):s}),Oe.subParser("hashBlock",function(s,b,B){return s=(s=B.converter._dispatch("hashBlock.before",s,b,B)).replace(/(^\n+|\n+$)/g,""),s=`

¨K`+(B.gHtmlBlocks.push(s)-1)+`K

`,s=B.converter._dispatch("hashBlock.after",s,b,B)}),Oe.subParser("hashCodeTags",function(s,b,B){s=B.converter._dispatch("hashCodeTags.before",s,b,B);var ge=function(p,M,L,A){var O=L+Oe.subParser("encodeCode")(M,b,B)+A;return"¨C"+(B.gHtmlSpans.push(O)-1)+"C"};return s=Oe.helper.replaceRecursiveRegExp(s,ge,"<code\\b[^>]*>","</code>","gim"),s=B.converter._dispatch("hashCodeTags.after",s,b,B)}),Oe.subParser("hashElement",function(s,b,B){return function(ge,a){var p=a;return p=(p=(p=p.replace(/\n\n/g,`
`)).replace(/^\n/,"")).replace(/\n+$/g,""),p=`

¨K`+(B.gHtmlBlocks.push(p)-1)+`K

`}}),Oe.subParser("hashHTMLBlocks",function(s,b,B){s=B.converter._dispatch("hashHTMLBlocks.before",s,b,B);var ge=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],a=function(P,j,K,ee){var w=P;return K.search(/\bmarkdown\b/)!==-1&&(w=K+B.converter.makeHtml(j)+ee),`

¨K`+(B.gHtmlBlocks.push(w)-1)+`K

`};b.backslashEscapesHTMLTags&&(s=s.replace(/\\<(\/?[^>]+?)>/g,function(H,P){return"&lt;"+P+"&gt;"}));for(var p=0;p<ge.length;++p)for(var M,L=new RegExp("^ {0,3}(<"+ge[p]+"\\b[^>]*>)","im"),A="<"+ge[p]+"\\b[^>]*>",O="</"+ge[p]+">";(M=Oe.helper.regexIndexOf(s,L))!==-1;){var z=Oe.helper.splitAtIndex(s,M),Q=Oe.helper.replaceRecursiveRegExp(z[1],a,A,O,"im");if(Q===z[1])break;s=z[0].concat(Q)}return s=s.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,Oe.subParser("hashElement")(s,b,B)),s=(s=Oe.helper.replaceRecursiveRegExp(s,function(H){return`

¨K`+(B.gHtmlBlocks.push(H)-1)+`K

`},"^ {0,3}<!--","-->","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,Oe.subParser("hashElement")(s,b,B)),s=B.converter._dispatch("hashHTMLBlocks.after",s,b,B)}),Oe.subParser("hashHTMLSpans",function(s,b,B){function ge(a){return"¨C"+(B.gHtmlSpans.push(a)-1)+"C"}return s=(s=(s=(s=(s=B.converter._dispatch("hashHTMLSpans.before",s,b,B)).replace(/<[^>]+?\/>/gi,function(a){return ge(a)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(a){return ge(a)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(a){return ge(a)})).replace(/<[^>]+?>/gi,function(a){return ge(a)}),s=B.converter._dispatch("hashHTMLSpans.after",s,b,B)}),Oe.subParser("unhashHTMLSpans",function(s,b,B){s=B.converter._dispatch("unhashHTMLSpans.before",s,b,B);for(var ge=0;ge<B.gHtmlSpans.length;++ge){for(var a=B.gHtmlSpans[ge],p=0;/\xa8C(\d+)C/.test(a);){var M=RegExp.$1;if(a=a.replace("¨C"+M+"C",B.gHtmlSpans[M]),p===10)break;++p}s=s.replace("¨C"+ge+"C",a)}return s=B.converter._dispatch("unhashHTMLSpans.after",s,b,B)}),Oe.subParser("hashPreCodeTags",function(s,b,B){s=B.converter._dispatch("hashPreCodeTags.before",s,b,B);var ge=function(p,M,L,A){var O=L+Oe.subParser("encodeCode")(M,b,B)+A;return`

¨G`+(B.ghCodeBlocks.push({text:p,codeblock:O})-1)+`G

`};return s=Oe.helper.replaceRecursiveRegExp(s,ge,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),s=B.converter._dispatch("hashPreCodeTags.after",s,b,B)}),Oe.subParser("headers",function(s,b,B){s=B.converter._dispatch("headers.before",s,b,B);var ge=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),a=b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,p=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;s=(s=s.replace(a,function(A,O){var z=Oe.subParser("spanGamut")(O,b,B),Q=b.noHeaderId?"":' id="'+L(O)+'"',H="<h"+ge+Q+">"+z+"</h"+ge+">";return Oe.subParser("hashBlock")(H,b,B)})).replace(p,function(A,O){var z=Oe.subParser("spanGamut")(O,b,B),Q=b.noHeaderId?"":' id="'+L(O)+'"',H=ge+1,P="<h"+H+Q+">"+z+"</h"+H+">";return Oe.subParser("hashBlock")(P,b,B)});var M=b.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function L(A){var O,z;if(b.customizedHeaderId){var Q=A.match(/\{([^{]+?)}\s*$/);Q&&Q[1]&&(A=Q[1])}return O=A,z=Oe.helper.isString(b.prefixHeaderId)?b.prefixHeaderId:b.prefixHeaderId===!0?"section-":"",b.rawPrefixHeaderId||(O=z+O),O=b.ghCompatibleHeaderId?O.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():b.rawHeaderId?O.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"¨").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():O.replace(/[^\w]/g,"").toLowerCase(),b.rawPrefixHeaderId&&(O=z+O),B.hashLinkCounts[O]?O=O+"-"+B.hashLinkCounts[O]++:B.hashLinkCounts[O]=1,O}return s=s.replace(M,function(A,O,z){var Q=z;b.customizedHeaderId&&(Q=z.replace(/\s?\{([^{]+?)}\s*$/,""));var H=Oe.subParser("spanGamut")(Q,b,B),P=b.noHeaderId?"":' id="'+L(z)+'"',j=ge-1+O.length,K="<h"+j+P+">"+H+"</h"+j+">";return Oe.subParser("hashBlock")(K,b,B)}),s=B.converter._dispatch("headers.after",s,b,B)}),Oe.subParser("horizontalRule",function(s,b,B){s=B.converter._dispatch("horizontalRule.before",s,b,B);var ge=Oe.subParser("hashBlock")("<hr />",b,B);return s=(s=(s=s.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,ge)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,ge)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,ge),s=B.converter._dispatch("horizontalRule.after",s,b,B)}),Oe.subParser("images",function(s,b,B){function ge(a,p,M,L,A,O,z,Q){var H=B.gUrls,P=B.gTitles,j=B.gDimensions;if(M=M.toLowerCase(),Q||(Q=""),-1<a.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))L="";else if(L===""||L===null){if(M!==""&&M!==null||(M=p.toLowerCase().replace(/ ?\n/g," ")),L="#"+M,Oe.helper.isUndefined(H[M]))return a;L=H[M],Oe.helper.isUndefined(P[M])||(Q=P[M]),Oe.helper.isUndefined(j[M])||(A=j[M].width,O=j[M].height)}p=p.replace(/"/g,"&quot;").replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback);var K='<img src="'+(L=L.replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'" alt="'+p+'"';return Q&&Oe.helper.isString(Q)&&(K+=' title="'+(Q=Q.replace(/"/g,"&quot;").replace(Oe.helper.regexes.asteriskDashAndColon,Oe.helper.escapeCharactersCallback))+'"'),A&&O&&(K+=' width="'+(A=A==="*"?"auto":A)+'"',K+=' height="'+(O=O==="*"?"auto":O)+'"'),K+=" />"}return s=(s=(s=(s=(s=(s=B.converter._dispatch("images.before",s,b,B)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,ge)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(p,M,L,A,O,z,Q,H){return ge(p,M,L,A=A.replace(/\s/g,""),O,z,0,H)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,ge)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,ge)).replace(/!\[([^\[\]]+)]()()()()()/g,ge),s=B.converter._dispatch("images.after",s,b,B)}),Oe.subParser("italicsAndBold",function(s,b,B){function ge(a,p,M){return p+a+M}return s=B.converter._dispatch("italicsAndBold.before",s,b,B),s=b.literalMidWordUnderscores?(s=(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(a,p){return ge(p,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(a,p){return ge(p,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(a,p){return ge(p,"<em>","</em>")}):(s=(s=s.replace(/___(\S[\s\S]*?)___/g,function(a,p){return/\S$/.test(p)?ge(p,"<strong><em>","</em></strong>"):a})).replace(/__(\S[\s\S]*?)__/g,function(a,p){return/\S$/.test(p)?ge(p,"<strong>","</strong>"):a})).replace(/_([^\s_][\s\S]*?)_/g,function(a,p){return/\S$/.test(p)?ge(p,"<em>","</em>"):a}),s=b.literalMidWordAsterisks?(s=(s=s.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(a,p,M){return ge(M,p+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(a,p,M){return ge(M,p+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(a,p,M){return ge(M,p+"<em>","</em>")}):(s=(s=s.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(a,p){return/\S$/.test(p)?ge(p,"<strong><em>","</em></strong>"):a})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(a,p){return/\S$/.test(p)?ge(p,"<strong>","</strong>"):a})).replace(/\*([^\s*][\s\S]*?)\*/g,function(a,p){return/\S$/.test(p)?ge(p,"<em>","</em>"):a}),s=B.converter._dispatch("italicsAndBold.after",s,b,B)}),Oe.subParser("lists",function(s,b,B){function ge(L,A){B.gListLevel++,L=L.replace(/\n{2,}$/,`
`);var O=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,z=/\n[ \t]*\n(?!\xa80)/.test(L+="¨0");return b.disableForced4SpacesIndentedSublists&&(O=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),L=(L=L.replace(O,function(Q,H,P,j,K,ee,w){w=w&&w.trim()!=="";var xe=Oe.subParser("outdent")(K,b,B),be="";return ee&&b.tasklists&&(be=' class="task-list-item" style="list-style-type: none;"',xe=xe.replace(/^[ \t]*\[(x|X| )?]/m,function(){var re='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return w&&(re+=" checked"),re+=">"})),xe=xe.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(re){return"¨A"+re}),xe="<li"+be+">"+(xe=(xe=H||-1<xe.search(/\n{2,}/)?(xe=Oe.subParser("githubCodeBlocks")(xe,b,B),Oe.subParser("blockGamut")(xe,b,B)):(xe=(xe=Oe.subParser("lists")(xe,b,B)).replace(/\n$/,""),xe=(xe=Oe.subParser("hashHTMLBlocks")(xe,b,B)).replace(/\n\n+/g,`

`),z?Oe.subParser("paragraphs")(xe,b,B):Oe.subParser("spanGamut")(xe,b,B))).replace("¨A",""))+`</li>
`})).replace(/\xa80/g,""),B.gListLevel--,A&&(L=L.replace(/\s+$/,"")),L}function a(L,A){if(A==="ol"){var O=L.match(/^ *(\d+)\./);if(O&&O[1]!=="1")return' start="'+O[1]+'"'}return""}function p(L){return L==="ul"?' style="list-style: disc !important;padding: 0px 0px 0px 40px !important;"':' style="list-style: decimal !important;padding: 0px 0px 0px 40px !important;"'}function M(L,A,O){var z=b.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,Q=b.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,H=A==="ul"?z:Q,P="",j=p(A);if(L.search(H)!==-1)(function ee(w){var xe=w.search(H),be=a(L,A);j=p(A),xe!==-1?(P+=`

<`+A+j+be+`>
`+ge(w.slice(0,xe),!!O)+"</"+A+`>
`,H=(A=A==="ul"?"ol":"ul")=="ul"?z:Q,ee(w.slice(xe))):P+=`

<`+A+j+be+`>
`+ge(w,!!O)+"</"+A+`>
`})(L);else{var K=a(L,A);P=`

<`+A+j+K+`>
`+ge(L,!!O)+"</"+A+`>
`}return P}return s=B.converter._dispatch("lists.before",s,b,B),s+="¨0",s=(s=B.gListLevel?s.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(L,A,O){return M(A,-1<O.search(/[*+-]/g)?"ul":"ol",!0)}):s.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(L,A,O,z){return M(O,-1<z.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/\xa80/,""),s=B.converter._dispatch("lists.after",s,b,B)}),Oe.subParser("metadata",function(s,b,B){if(!b.metadata)return s;function ge(a){(a=(a=(B.metadata.raw=a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(p,M,L){return B.metadata.parsed[M]=L,""})}return s=(s=(s=(s=B.converter._dispatch("metadata.before",s,b,B)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(a,p,M){return ge(M),"¨M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(a,p,M){return p&&(B.metadata.format=p),ge(M),"¨M"})).replace(/\xa8M/g,""),s=B.converter._dispatch("metadata.after",s,b,B)}),Oe.subParser("outdent",function(s,b,B){return s=(s=(s=B.converter._dispatch("outdent.before",s,b,B)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/\xa80/g,""),s=B.converter._dispatch("outdent.after",s,b,B)}),Oe.subParser("paragraphs",function(s,b,B){for(var ge=(s=(s=(s=B.converter._dispatch("paragraphs.before",s,b,B)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),a=[],p=ge.length,M=0;M<p;M++){var L=ge[M];0<=L.search(/\xa8(K|G)(\d+)\1/g)?a.push(L):0<=L.search(/\S/)&&(L=(L=Oe.subParser("spanGamut")(L,b,B)).replace(/^([ \t]*)/g,"<p>"),L+="</p>",a.push(L))}for(p=a.length,M=0;M<p;M++){for(var A="",O=a[M],z=!1;/\xa8(K|G)(\d+)\1/.test(O);){var Q=RegExp.$1,H=RegExp.$2;A=(A=Q==="K"?B.gHtmlBlocks[H]:z?Oe.subParser("encodeCode")(B.ghCodeBlocks[H].text,b,B):B.ghCodeBlocks[H].codeblock).replace(/\$/g,"$$$$"),O=O.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,A),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(O)&&(z=!0)}a[M]=O}return s=(s=(s=a.join(`
`)).replace(/^\n+/g,"")).replace(/\n+$/g,""),B.converter._dispatch("paragraphs.after",s,b,B)}),Oe.subParser("runExtension",function(s,b,B,ge){if(s.filter)b=s.filter(b,ge.converter,B);else if(s.regex){var a=s.regex;a instanceof RegExp||(a=new RegExp(a,"g")),b=b.replace(a,s.replace)}return b}),Oe.subParser("spanGamut",function(s,b,B){return s=B.converter._dispatch("spanGamut.before",s,b,B),s=Oe.subParser("codeSpans")(s,b,B),s=Oe.subParser("escapeSpecialCharsWithinTagAttributes")(s,b,B),s=Oe.subParser("encodeBackslashEscapes")(s,b,B),s=Oe.subParser("images")(s,b,B),s=Oe.subParser("anchors")(s,b,B),s=Oe.subParser("autoLinks")(s,b,B),s=Oe.subParser("simplifiedAutoLinks")(s,b,B),s=Oe.subParser("emoji")(s,b,B),s=Oe.subParser("underline")(s,b,B),s=Oe.subParser("italicsAndBold")(s,b,B),s=Oe.subParser("strikethrough")(s,b,B),s=Oe.subParser("ellipsis")(s,b,B),s=Oe.subParser("hashHTMLSpans")(s,b,B),s=Oe.subParser("encodeAmpsAndAngles")(s,b,B),b.simpleLineBreaks?/\n\n\xa8K/.test(s)||(s=s.replace(/\n+/g,`<br />
`)):s=s.replace(/  +\n/g,`<br />
`),s=B.converter._dispatch("spanGamut.after",s,b,B)}),Oe.subParser("strikethrough",function(s,b,B){return b.strikethrough&&(s=(s=B.converter._dispatch("strikethrough.before",s,b,B)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(ge,a){return function(M){return b.simplifiedAutoLink&&(M=Oe.subParser("simplifiedAutoLinks")(M,b,B)),"<del>"+M+"</del>"}(a)}),s=B.converter._dispatch("strikethrough.after",s,b,B)),s}),Oe.subParser("stripLinkDefinitions",function(s,b,B){var ge=function(p,M,L,A,O,z,Q){return M=M.toLowerCase(),L.match(/^data:.+?\/.+?;base64,/)?B.gUrls[M]=L.replace(/\s/g,""):B.gUrls[M]=Oe.subParser("encodeAmpsAndAngles")(L,b,B),z?z+Q:(Q&&(B.gTitles[M]=Q.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&A&&O&&(B.gDimensions[M]={width:A,height:O}),"")};return s=(s=(s=(s+="¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,ge)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,ge)).replace(/\xa80/,"")}),Oe.subParser("tables",function(s,b,B){if(!b.tables)return s;function ge(a){var p,M=a.split(`
`);for(p=0;p<M.length;++p)/^ {0,3}\|/.test(M[p])&&(M[p]=M[p].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(M[p])&&(M[p]=M[p].replace(/\|[ \t]*$/,"")),M[p]=Oe.subParser("codeSpans")(M[p],b,B);var L,A,O,z,Q,H=M[0].split("|").map(function(re){return re.trim()}),P=M[1].split("|").map(function(re){return re.trim()}),j=[],K=[],ee=[],w=[];for(M.shift(),M.shift(),p=0;p<M.length;++p)M[p].trim()!==""&&j.push(M[p].split("|").map(function(re){return re.trim()}));if(H.length<P.length)return a;for(p=0;p<P.length;++p)ee.push((L=P[p],/^:[ \t]*--*$/.test(L)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(L)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(L)?' style="text-align:center;"':""));for(p=0;p<H.length;++p)Oe.helper.isUndefined(ee[p])&&(ee[p]=""),K.push((A=H[p],O=ee[p],z=void 0,z="",A=A.trim(),(b.tablesHeaderId||b.tableHeaderId)&&(z=' id="'+A.replace(/ /g,"_").toLowerCase()+'"'),"<th"+z+O+">"+(A=Oe.subParser("spanGamut")(A,b,B))+`</th>
`));for(p=0;p<j.length;++p){for(var xe=[],be=0;be<K.length;++be)Oe.helper.isUndefined(j[p][be]),xe.push((Q=j[p][be],"<td"+ee[be]+">"+Oe.subParser("spanGamut")(Q,b,B)+`</td>
`));w.push(xe)}return function(se,ie){for(var D=`<table>
<thead>
<tr>
`,U=se.length,V=0;V<U;++V)D+=se[V];for(D+=`</tr>
</thead>
<tbody>
`,V=0;V<ie.length;++V){D+=`<tr>
`;for(var I=0;I<U;++I)D+=ie[V][I];D+=`</tr>
`}return D+=`</tbody>
</table>
`}(K,w)}return s=(s=(s=(s=B.converter._dispatch("tables.before",s,b,B)).replace(/\\(\|)/g,Oe.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,ge)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,ge),s=B.converter._dispatch("tables.after",s,b,B)}),Oe.subParser("underline",function(s,b,B){return b.underline?(s=B.converter._dispatch("underline.before",s,b,B),s=(s=b.literalMidWordUnderscores?(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(ge,a){return"<u>"+a+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(ge,a){return"<u>"+a+"</u>"}):(s=s.replace(/___(\S[\s\S]*?)___/g,function(ge,a){return/\S$/.test(a)?"<u>"+a+"</u>":ge})).replace(/__(\S[\s\S]*?)__/g,function(ge,a){return/\S$/.test(a)?"<u>"+a+"</u>":ge})).replace(/(_)/g,Oe.helper.escapeCharactersCallback),s=B.converter._dispatch("underline.after",s,b,B)):s}),Oe.subParser("unescapeSpecialChars",function(s,b,B){return s=(s=B.converter._dispatch("unescapeSpecialChars.before",s,b,B)).replace(/\xa8E(\d+)E/g,function(ge,a){var p=parseInt(a);return String.fromCharCode(p)}),s=B.converter._dispatch("unescapeSpecialChars.after",s,b,B)}),Oe.subParser("makeMarkdown.blockquote",function(s,b){var B="";if(s.hasChildNodes())for(var ge=s.childNodes,a=ge.length,p=0;p<a;++p){var M=Oe.subParser("makeMarkdown.node")(ge[p],b);M!==""&&(B+=M)}return B="> "+(B=B.trim()).split(`
`).join(`
> `)}),Oe.subParser("makeMarkdown.codeBlock",function(s,b){var B=s.getAttribute("language"),ge=s.getAttribute("precodenum");return"```"+B+`
`+b.preList[ge]+"\n```"}),Oe.subParser("makeMarkdown.codeSpan",function(s){return"`"+s.innerHTML+"`"}),Oe.subParser("makeMarkdown.emphasis",function(s,b){var B="";if(s.hasChildNodes()){B+="*";for(var ge=s.childNodes,a=ge.length,p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b);B+="*"}return B}),Oe.subParser("makeMarkdown.header",function(s,b,B){var ge=new Array(B+1).join("#"),a="";if(s.hasChildNodes()){a=ge+" ";for(var p=s.childNodes,M=p.length,L=0;L<M;++L)a+=Oe.subParser("makeMarkdown.node")(p[L],b)}return a}),Oe.subParser("makeMarkdown.hr",function(){return"---"}),Oe.subParser("makeMarkdown.image",function(s){var b="";return s.hasAttribute("src")&&(b+="!["+s.getAttribute("alt")+"](",b+="<"+s.getAttribute("src")+">",s.hasAttribute("width")&&s.hasAttribute("height")&&(b+=" ="+s.getAttribute("width")+"x"+s.getAttribute("height")),s.hasAttribute("title")&&(b+=' "'+s.getAttribute("title")+'"'),b+=")"),b}),Oe.subParser("makeMarkdown.links",function(s,b){var B="";if(s.hasChildNodes()&&s.hasAttribute("href")){var ge=s.childNodes,a=ge.length;B="[";for(var p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b);B+="](",B+="<"+s.getAttribute("href")+">",s.hasAttribute("title")&&(B+=' "'+s.getAttribute("title")+'"'),B+=")"}return B}),Oe.subParser("makeMarkdown.list",function(s,b,B){var ge="";if(!s.hasChildNodes())return"";for(var a=s.childNodes,p=a.length,M=s.getAttribute("start")||1,L=0;L<p;++L)typeof a[L].tagName<"u"&&a[L].tagName.toLowerCase()==="li"&&(ge+=(B==="ol"?M.toString()+". ":"- ")+Oe.subParser("makeMarkdown.listItem")(a[L],b),++M);return(ge+=`
<!-- -->
`).trim()}),Oe.subParser("makeMarkdown.listItem",function(s,b){for(var B="",ge=s.childNodes,a=ge.length,p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b);return/\n$/.test(B)?B=B.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):B+=`
`,B}),Oe.subParser("makeMarkdown.node",function(s,b,B){B=B||!1;var ge="";if(s.nodeType===3)return Oe.subParser("makeMarkdown.txt")(s,b);if(s.nodeType===8)return"<!--"+s.data+`-->

`;if(s.nodeType!==1)return"";switch(s.tagName.toLowerCase()){case"h1":B||(ge=Oe.subParser("makeMarkdown.header")(s,b,1)+`

`);break;case"h2":B||(ge=Oe.subParser("makeMarkdown.header")(s,b,2)+`

`);break;case"h3":B||(ge=Oe.subParser("makeMarkdown.header")(s,b,3)+`

`);break;case"h4":B||(ge=Oe.subParser("makeMarkdown.header")(s,b,4)+`

`);break;case"h5":B||(ge=Oe.subParser("makeMarkdown.header")(s,b,5)+`

`);break;case"h6":B||(ge=Oe.subParser("makeMarkdown.header")(s,b,6)+`

`);break;case"p":B||(ge=Oe.subParser("makeMarkdown.paragraph")(s,b)+`

`);break;case"blockquote":B||(ge=Oe.subParser("makeMarkdown.blockquote")(s,b)+`

`);break;case"hr":B||(ge=Oe.subParser("makeMarkdown.hr")(s,b)+`

`);break;case"ol":B||(ge=Oe.subParser("makeMarkdown.list")(s,b,"ol")+`

`);break;case"ul":B||(ge=Oe.subParser("makeMarkdown.list")(s,b,"ul")+`

`);break;case"precode":B||(ge=Oe.subParser("makeMarkdown.codeBlock")(s,b)+`

`);break;case"pre":B||(ge=Oe.subParser("makeMarkdown.pre")(s,b)+`

`);break;case"table":B||(ge=Oe.subParser("makeMarkdown.table")(s,b)+`

`);break;case"code":ge=Oe.subParser("makeMarkdown.codeSpan")(s,b);break;case"em":case"i":ge=Oe.subParser("makeMarkdown.emphasis")(s,b);break;case"strong":case"b":ge=Oe.subParser("makeMarkdown.strong")(s,b);break;case"del":ge=Oe.subParser("makeMarkdown.strikethrough")(s,b);break;case"a":ge=Oe.subParser("makeMarkdown.links")(s,b);break;case"img":ge=Oe.subParser("makeMarkdown.image")(s,b);break;default:ge=s.outerHTML+`

`}return ge}),Oe.subParser("makeMarkdown.paragraph",function(s,b){var B="";if(s.hasChildNodes())for(var ge=s.childNodes,a=ge.length,p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b);return B=B.trim()}),Oe.subParser("makeMarkdown.pre",function(s,b){var B=s.getAttribute("prenum");return"<pre>"+b.preList[B]+"</pre>"}),Oe.subParser("makeMarkdown.strikethrough",function(s,b){var B="";if(s.hasChildNodes()){B+="~~";for(var ge=s.childNodes,a=ge.length,p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b);B+="~~"}return B}),Oe.subParser("makeMarkdown.strong",function(s,b){var B="";if(s.hasChildNodes()){B+="**";for(var ge=s.childNodes,a=ge.length,p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b);B+="**"}return B}),Oe.subParser("makeMarkdown.table",function(s,b){var B,ge,a="",p=[[],[]],M=s.querySelectorAll("thead>tr>th"),L=s.querySelectorAll("tbody>tr");for(B=0;B<M.length;++B){var A=Oe.subParser("makeMarkdown.tableCell")(M[B],b),O="---";if(M[B].hasAttribute("style"))switch(M[B].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":O=":---";break;case"text-align:right;":O="---:";break;case"text-align:center;":O=":---:"}p[0][B]=A.trim(),p[1][B]=O}for(B=0;B<L.length;++B){var z=p.push([])-1,Q=L[B].getElementsByTagName("td");for(ge=0;ge<M.length;++ge){var H=" ";typeof Q[ge]<"u"&&(H=Oe.subParser("makeMarkdown.tableCell")(Q[ge],b)),p[z].push(H)}}var P=3;for(B=0;B<p.length;++B)for(ge=0;ge<p[B].length;++ge){var j=p[B][ge].length;P<j&&(P=j)}for(B=0;B<p.length;++B){for(ge=0;ge<p[B].length;++ge)B===1?p[B][ge].slice(-1)===":"?p[B][ge]=Oe.helper.padEnd(p[B][ge].slice(-1),P-1,"-")+":":p[B][ge]=Oe.helper.padEnd(p[B][ge],P,"-"):p[B][ge]=Oe.helper.padEnd(p[B][ge],P);a+="| "+p[B].join(" | ")+` |
`}return a.trim()}),Oe.subParser("makeMarkdown.tableCell",function(s,b){var B="";if(!s.hasChildNodes())return"";for(var ge=s.childNodes,a=ge.length,p=0;p<a;++p)B+=Oe.subParser("makeMarkdown.node")(ge[p],b,!0);return B.trim()}),Oe.subParser("makeMarkdown.txt",function(s){var b=s.nodeValue;return b=(b=b.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),b=(b=(b=(b=(b=(b=(b=(b=(b=Oe.helper.unescapeHTMLEntities(b)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),x.PLUGINS.markdown=function(s){var b,B,ge,a,p,M=s.$,L=!1,A="",O="",z="",Q="",H=[],P=[],j="",K=null,ee=null;function w(xe){xe=function(re){var se=re,ie=re.match(/(\[\^(.+?)\])[^:]/g),D=re.match(/(\[\^(.+?)\]:)/g);if(ie&&D){ie.forEach(function(Ae,we,Pe){Pe[we]=Pe[we].substring(0,Pe[we].length-1)}),ie=ie.filter(function(Ae,we){return ie.indexOf(Ae)===we}),D=D.filter(function(Ae,we){return D.indexOf(Ae)===we});for(var U=1,V=0;V<ie.length;V++){var I="";if(U==1&&(I='<hr class="footnote-sep"><ol>'),-1<D.indexOf(ie[V]+":")){for(var N=-1<(se=(se=se.split(D[V]).join("{ftnt-plc}")).replace(D[V].substring(0,D[V].length-1),'<sup id="fnref:'.concat(U,'"><a href="#fn:').concat(U,'" class="footnote-a">').concat(U,"</a></sup>"))).indexOf(ie[V])?1:0,ne=0;N&&(ne++,se=se.replace(D[V].substring(0,D[V].length-1),'<sup id="fnref:'.concat(U,":").concat(ne,'"><a href="#fn:').concat(U,":").concat(ne,'" class="footnote-a">').concat(U,":").concat(ne,"</a></sup>")),N=-1<se.indexOf(ie[V])?1:0););var G=(se=se.split("{ftnt-plc}").join(D[V])).indexOf(D[V]),q=se,de=q.substring(G,q.length-1);if(de=de.split(`
`)[0],se=se.replace(de,""),-1<de.indexOf(": ")){de=de.split(": ")[1],de+='<a href="#fnref:'.concat(U,'" class="footnote-a">↩</a>');for(var Le=ne;ne!=0;)de+='<a href="#fnref:'.concat(U,":").concat(Le-ne+1,'" class="footnote-a">↩</a>'),ne--;de+="</p></li>",se=se+I+'<li id="fn:'.concat(U,'"><p>')+de,U++}}}U!=1&&(se+="</ol>")}return re=se}(xe=function(re){for(var se=/^[A-Za-z0-9]/g,ie=/^:[ ]{1}(.+?)+/g,D=re.split(`
`),U=D,V=D.length-1,I=1;I<V;I++)D[I].match(ie)!==null&&(D[I-1].match(se)!==null&&I<V-1&&D[I+1].match(ie)!==null?(U[I-1]="<dl><dt>"+D[I-1]+"</dt>",U[I]="<dd>"+D[I].substring(2)+"</dd>"):D[I-1].match(se)!==null&&(I<V-1&&D[I+1].match(ie)===null||I==V-1)?(U[I-1]="<dl><dt>"+D[I-1]+"</dt>",U[I]="<dd>"+D[I].substring(2)+"</dd></dl>"):I<V-1&&D[I+1].match(ie)!==null?U[I]="<dd>"+D[I].substring(2)+"</dd>":U[I]="<dd>"+D[I].substring(2)+"</dd></dl>");return re=U.join(`
`)}(xe=function(re){var se=re.indexOf("```"),ie=0;return-1<se&&(ie=-1<(ie=re.substring(se+1).indexOf("```"))?ie+3:ie),re=re.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,function(D,U,V){return se<V&&V<ie?"---":`<hr />
`})}(xe=function(re){return-1<(re=(re=(re=(re=(re=(re=(re=(re=(re=(re=re.split("</p>").join(`</p>
`)).split("</div>").join(`
`)).replace(/(<([^>]+)>)/gi,"")).replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).split("&quot;").join('"')).split("&amp;").join("&")).split("&#39;").join("'")).split("&nbsp;").join(" ")).replace(/\|+\n[^\|]/g,function(se){return se.replace(`
`,`

`)})).indexOf("Powered by Froala Editor")&&(re=re.replace("Powered by Froala Editor","")),re}(xe)))),xe=a.makeHtml(xe),xe=s.clean.html(xe),s.$wp.find(B)[0].innerHTML=xe}return{_init:function(){if(function(){s.events.on("contentChanged",function(){L&&w(s.html.get(!1,!1))},!0),s.events.$on(M(s.o_win),"resize",function(){L&&(B[0].style.width=s.$wp[0].clientWidth-s.$el[0].clientWidth+2+"px")}),s.events.on("paste.afterCleanup",function(re){if(L){var se=s.doc.createElement("div");se.innerHTML=re;for(var ie,D=se.querySelectorAll("img"),U=0;U<D.length;U++)(ie=D[U]).outerHTML=ie.outerHTML.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");re=se.innerHTML}return re})}(),a=new Oe.Converter({strikethrough:!0,tables:!0,tablesHeaderId:!0,simpleLineBreaks:!0,ghCodeBlocks:!0,tasklists:!0,customizedHeaderId:!0,requireSpaceBeforeHeadingText:!0,underline:!0}),s.$tb&&(ge=s.$tb.find('.fr-command[data-cmd="markdown"]')),!s.$wp)return!1},refresh:function(be){var re=L;be.toggleClass("fr-active",re).attr("aria-pressed",re)},toggle:function(){L?function(){O=s.html.get(!0,!0),s.opts.pastePlain=!1,s.$el.removeClass("fr-markdown-editor"),s.$wp.append(p[0].firstChild),M(p).remove(),s.$wp.find(b).remove(),s.$wp.find(B).remove(),s.$wp[0].lastChild.after(s.$placeholder[0]),s.$el.removeAttr("style"),s.size.refresh(),s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(ge).removeClass("fr-disabled").attr("aria-disabled",!1),s.opts.iframe&&(s.$el=ee,s.$wp=K,Object.keys(P).map(function(re){s.$el[0].setAttribute(re,P[re]),re!="class"&&j[0].removeAttribute(re)}),s.$el[0].style.removeProperty("padding")),s.html.set(A),s.opts.iframe&&(s.$el=ee,s.$wp=K,s.$placeholder=null,s.placeholder.show(),s.placeholder.refresh())}():function(){var re;A=s.html.get(!0,!0),s.html.set(O),s.opts.pastePlain=!0,s.opts.iframe?(s.$el[0].removeAttribute("spellcheck"),Array.from(s.$el[0].attributes).map(function(se){var ie=se.name,D=se.value;return ie!="class"&&(H[ie]=D),P[ie]=D,s.$el[0].removeAttribute(ie)}),s.$el[0].style.padding=0,s.$el[0].innerHTML="",s.$placeholder.hide()):s.$el.addClass("fr-markdown-editor"),p=M('<div class="fr-wrapper-markdown" />'),s.opts.heightMin?p.css("min-height","".concat(s.opts.heightMin,"px")):p.css("min-height","200px"),s.opts.heightMax?(p.css("maxHeight","".concat(s.opts.heightMax,"px")),p.css("overflow","auto")):(p.css("maxHeight",""),p.css("overflow","")),s.opts.height&&(p.css("height","".concat(s.opts.height,"px")),p.css("overflow","auto"),p.css("minHeight",s.opts.height-s.helpers.getPX(s.$el.css("padding-top"))-s.helpers.getPX(s.$el.css("padding-bottom")))),s.opts.iframe?(Q=M('<div class="fr-box fr-basic fr-top"></div>'),z=M('<div class="fr-markdown-wrapper"></div>'),j=M('<div class="fr-element fr-markdown-editor"><p><br></p></div>'),Object.keys(H).map(function(se){return j[0].setAttribute(se,H[se])}),O&&(j[0].innerHTML=O),p[0].appendChild(j[0]),z[0].appendChild(p[0]),Q[0].appendChild(z[0]),M(s.$html.find("body")[0]).find(".fr-box").length==1?(s.$el.prevAll().filter(function(se){return!["CodeMirror cm-s-default CodeMirror-wrap","fr-code"].includes(se.className)}).remove(),s.$el[0].appendChild(p[0])):(s.$el[0].appendChild(Q[0]),K=s.$wp,s.$wp=z),ee=s.$el,s.$el=j):(s.$wp.append(p),p[0].appendChild(s.$el[0])),b=M('<div class="gutter-horizontal"><div class="e-resize-handler"><i class="fa fa-circle-thin" aria-hidden="true"></i></div></div>'),M(p).append(b[0]),B=M('<div class="fr-element fr-markdown-view"></div>'),M(p).append(B[0]),M(p).after(s.$placeholder[0]),s.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(ge).filter(function(){return M(this).data("cmd")!=="fullscreen"&&M(this).data("cmd")!=="moreMisc"}).addClass("fr-disabled").attr("aria-disabled",!0),M(b).on("mousedown touchstart",function(se){re={e:se,offsetLeft:b[0].offsetLeft,offsetTop:b[0].offsetTop,firstWidth:s.$el[0].offsetWidth,secondWidth:B[0].offsetWidth};var ie=function(N){s.selection.clear();var ne={x:N.clientX-re.e.clientX,y:N.clientY-re.e.clientY};ne.x=Math.min(Math.max(ne.x,-re.firstWidth),re.secondWidth),re.firstWidth+ne.x<125||re.secondWidth-ne.x<125||(b[0].style.left=re.offsetLeft+ne.x+"px",s.$el[0].style.width=re.firstWidth+ne.x+"px",B[0].style.width=re.secondWidth-ne.x+"px")},D=function(N){s.selection.clear();var ne={x:N.changedTouches[0].clientX-re.e.changedTouches[0].clientX,y:N.changedTouches[0].clientY-re.e.changedTouches[0].clientY};ne.x=Math.min(Math.max(ne.x,-re.firstWidth),re.secondWidth),re.firstWidth+ne.x<100||re.secondWidth-ne.x<100||(b[0].style.left=re.offsetLeft+ne.x+"px",s.$el[0].style.width=re.firstWidth+ne.x+"px",B[0].style.width=re.secondWidth-ne.x+"px")},U=function(){document.onmousemove=document.onmouseup=null,document.ontouchmove=document.ontouchend=null},V=function(){s.$doc[0].onmousemove=s.$doc[0].onmouseup=null,s.$doc[0].ontouchmove=s.$doc[0].ontouchend=null};s.opts.iframe&&s.markdown.isEnabled?(s.$doc[0].onmousemove=ie,s.$doc[0].ontouchmove=D,s.$doc[0].onmouseup=V,s.$doc[0].ontouchend=V):(document.onmousemove=ie,document.ontouchmove=D,document.onmouseup=U,document.ontouchend=U)}),w(O)}(),L=!L},isEnabled:function(){return L}}},x.DefineIcon("markdown",{NAME:"markdown",SVG_KEY:"markdown"}),x.RegisterCommand("markdown",{title:"Markdown",undo:!1,focus:!1,toggle:!0,forcedRefresh:!0,accessibilityFocus:!0,callback:function(){this.markdown.toggle()},refresh:function(s){this.markdown.refresh(s)},plugin:"markdown"}),Object.assign(x.DEFAULTS,{wordCounterMax:-1,wordCounterCount:!0}),x.PLUGINS.wordCounter=function(s){var b,B=s.$;function ge(){var L=s.el.innerText.toString();L=(L=(L=(L=(L=(L=(L=(L=L.replace(/(^\s*)|(\s*$)/gi," ")).replace(/\u00a0/g," ")).replace(/[ ]{2,}/gi," ")).replace(/\n /,`
`)).replace(/[\u200A\u200C-\u200D\uFEFF\u202F\u2000-\u2009\u205F\u3000\u1680\u00A0\u0020]/g," ")).replace(/[\u200B]/g,"")).replace(/\t+/g," ")).split(" ").join(`
`);var A=s.$el.find(".fr-pagebreak"),O=L.split(/\r?\n/),z=0;return O.forEach(function(Q){0<(Q=Q.replace(/\s/g,"")).length&&z++}),z-2*A.length}function a(L){var A=!1;if(s.opts.wordCounterMax<0||ge()<s.opts.wordCounterMax)return!0;var O=L.which,z=s.selection.get(),Q=z.focusOffset,H=z.focusNode.textContent,P=(H=H.replace(/\u00a0/g," ")).toUpperCase().charCodeAt(Q-1),j=H.toUpperCase().charCodeAt(Q);return z.focusNode.data||(P=j=NaN),!function(ee,w){return!!(s.keys.isCharacter(ee)&&s.keys.isCharacter(w)&&ee!=x.KEYCODE.SPACE&&w!=x.KEYCODE.SPACE)}(P,j)||O!==x.KEYCODE.ENTER&&O!==x.KEYCODE.SPACE||(A=!0),(function(ee,w){return ee===x.KEYCODE.SPACE&&w===x.KEYCODE.SPACE}(P,j)||function(ee,w){return!!(isNaN(ee)&&w===x.KEYCODE.SPACE||ee===x.KEYCODE.SPACE&&isNaN(w))}(P,j)||function(ee,w){return!!(isNaN(ee)&&isNaN(w))}(P,j))&&s.keys.isCharacter(O)&&O!=x.KEYCODE.SPACE&&(A=!0),ge()>s.opts.wordCounterMax&&(s.keys.isCharacter(O)||O===x.KEYCODE.ENTER)&&(A=!0),!(!s.keys.ctrlKey(L)&&A||O===x.KEYCODE.IME)||(L.preventDefault(),L.stopPropagation(),s.events.trigger("wordCounter.exceeded"),!1)}function p(){if(s.opts.wordCounterCount){var L=ge()+(0<s.opts.wordCounterMax?"/"+s.opts.wordCounterMax:"");b.text("".concat(s.language.translate("Words")," : ").concat(L)),s.opts.toolbarBottom&&b.css("margin-bottom",s.$tb.outerHeight(!0));var A=s.$wp.get(0).offsetWidth-s.$wp.get(0).clientWidth;0<=A&&(s.opts.direction=="rtl"?b.css("margin-left",A):b.css("margin-right",A))}}function M(L){return s.opts.wordCounterMax<0||B("<div>").html(L).text().split(" ").length+ge()<=s.opts.wordCounterMax?L:(s.events.trigger("wordCounter.exceeded"),"")}return{_init:function(){return!!s.$wp&&!!s.opts.wordCounterCount&&((b=B(document.createElement("span")).attr("class","fr-counter fr-wCounter")).css("bottom",s.$wp.css("border-bottom-width")),s.$second_tb?s.$second_tb.append(b):s.$wp.append(b),s.events.on("keydown",a,!0),s.events.on("paste.afterCleanup",M),s.events.on("keyup contentChanged input",function(){s.events.trigger("wordCounter.update")}),s.events.on("wordCounter.update",p),s.events.trigger("wordCounter.update"),void s.events.on("destroy",function(){B(s.o_win).off("resize.char".concat(s.id)),b.removeData().remove(),b=null}))},wordCount:ge}},Object.assign(x.POPUP_TEMPLATES,{"filestackPlugin.error":"[_UPLOAD_LAYER_]"}),x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED=[".pdf",".docx",".ppt",".pptx",".doc",".xlsx",".xls",".csv",".txt","image/jpeg","image/png","image/jpg","image/gif","image/webp","video/*","audio/*","mp3"],x.REQUIRED_PLUGINS=["image","video","file","filesManager"],x.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED=["image/jpeg","image/png","image/jpg","image/gif","image/webp"],x.FILESTACK_DEFAULT_ACCEPT_FILE_TYPES=[".pdf",".docx",".ppt",".pptx",".doc",".xlsx",".xls",".csv",".txt"],x.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED=["video/*"],x.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED=["local_file_system","imagesearch","url","googledrive","facebook","instagram","dropbox"],x.FILESTACK_PICKER_DEFAULT_OPTIONS={displayMode:"overlay",uploadInBackground:!1,stage:{cname:"stage.filestackapi.com"}},Object.assign(x.DEFAULTS,{filestackOptions:{}}),x.FILE_STACK_URL_PART="filestack",x.PLUGINS.filestack=function(s){var b,B,ge=["pdf","msword","vnd.openxmlformats-officedocument.wordprocessingml.document","vnd.ms-excel","vnd.openxmlformats-officedocument.spreadsheetml.sheet","vnd.ms-powerpoint","vnd.openxmlformats-officedocument.presentationml.presentation","csv","plain","ogg"],a=1,p=4,M=5,L=6,A=7,O={};function z(V,I,N){Q(s.language.translate(O[V]),I)}function Q(V,I,N,ne){var G;if((G=s.popups.get("filestackPlugin.error"))||(G=P(V)),N&&(G.find(".fr-image-progress-bar-layer").addClass("fr-active"),G.find(".fr-error-message").addClass("fr-layer"),G.find(".fr-buttons").hide()),!!s.$tb){var q;I==="openFilePicker"?q="openFilePicker":I==="openFilePickerReplaceImageOnly"||I==="openFilePickerImage"?q="insertImage":I==="openFilePickerReplaceVideoOnly"||I==="openFilePickerVideo"?q="insertVideo":I==="openFilePickerVideoOnly"?q="openFilePickerVideoOnly":I==="openFilePickerImageOnly"?q="openFilePickerImageOnly":I==="openFilePickerFile"&&(q="openFilePickerFile");var de=s.$tb.find(".fr-command[data-cmd='".concat(q,"']"));if(N)s.popups.show("filestackPlugin.error",ne.x,ne.y);else if(!G.hasClass("fr-active")&&(s.popups.refresh("filestackPlugin.error"),s.popups.setContainer("filestackPlugin.error",s.$tb),de.isVisible()||s.opts.toolbarInline)){var Le=s.opts.toolbarInline&&["openFilePickerImage","openFilePickerVideo"].includes(I)?s.$(".fr-popup")[0].style:s.button.getPosition(de),Ae=Le.left,we=Le.top;s.popups.show("filestackPlugin.error",Ae,we,de.outerHeight())}}}function H(){var V="",I=function(){var ne=[];return x.REQUIRED_PLUGINS.forEach(function(G){s.opts.pluginsEnabled.indexOf(G)<0&&ne.push(G.charAt(0).toUpperCase()+G.slice(1))}),ne}();return V=I.join(", "),1<I.length?V+=" plugin are":V+=" plugin is",V}function P(V){var I=V.includes("Do you want to enable"),N=I?`<div style='text-align:right;' class='fr-buttons'>
          <button class='fr-trim-button fr-plugins-enable'>`.concat(s.language.translate("Enable"),`</button>               
          <button class='fr-trim-button fr-plugins-cancel'>`).concat(s.language.translate("Cancel"),`</button>
        </div>`):`<div style='text-align:right;' class='fr-buttons'>
          <button class='fr-trim-button fr-plugins-ok'>`.concat(s.language.translate("OK"),`</button>               
        </div>`),ne={upload_layer:"".concat('<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader fr-indeterminate"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>',`
      <div style= 'padding:10px'>
      <div class = 'fr-message fr-error-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>`).concat(s.language.translate(V),`</h3></div>
      `).concat(N,`
    `)},G=s.popups.create("filestackPlugin.error",ne);if(I){var q=G.find(".fr-plugins-enable")[0],de=G.find(".fr-plugins-cancel")[0];q.addEventListener("click",function(Ae){(function(){x.REQUIRED_PLUGINS.forEach(function(Pe){s.opts.pluginsEnabled.indexOf(Pe)<0&&s.opts.pluginsEnabled.push(Pe)})})(),function(Pe){for(var We in Pe)if(!s[We]){if(x.PLUGINS[We]&&s.opts.pluginsEnabled.indexOf(We)<0)continue;s[We]=new Pe[We](s),s[We]._init&&s[We]._init()}}(x.PLUGINS),U(),s.events.trigger("filestack.pluginsEnabled"),s.popups.hide("filestackPlugin.error"),xe(),Ae.preventDefault()}),de.addEventListener("click",function(Ae){s.popups.hide("filestackPlugin.error"),xe(),Ae.preventDefault()})}else{var Le=G.find(".fr-plugins-ok")[0];Le&&Le.addEventListener("click",function(Ae){s.popups.hide("filestackPlugin.error"),Ae.preventDefault()})}return G}function j(){var V=!0;return x.REQUIRED_PLUGINS.forEach(function(I){s.opts.pluginsEnabled.indexOf(I)<0&&(V=!1)}),V}O[a]="Filestack api is missing",O[2]="The Filestack options are missing. Please check filestackOptions",O[3]="The Filestack picker is missing. Please check filestackOption",O[p]="Image upload to filestack failed while processing the request",O[M]="Filestack plugin is currently not supported on this browser",O[L]="The selected media types are not supported",O[A]="The selected source types are not supported by Filestack",O[8]="Error opening Filestack picker due to invalid picker parameters",O[9]="This image is not supported for image transformation",O[10]="The Filestack client is not created yet";var K=s.opts.filestackOptions.filestackAPI;if(K)try{B=s.opts.filestackOptions.staging?filestack.init(K,x.FILESTACK_PICKER_DEFAULT_OPTIONS.stage):filestack.init(K,x.FILESTACK_PICKER_DEFAULT_OPTIONS)}catch{!Object.keys(s.opts.filestackOptions).length===0&&z(10)}function ee(){var V=[];return typeof filestack>"u"||typeof filestack.init!="function"||(window.File&&window.FileReader&&window.FileList&&window.Blob||V.push("File API"),"fetch"in window||V.push("Fetch API"),"Promise"in window||V.push("Promise API"),"DataTransfer"in window||V.push("Drag & Drop API"),"mediaDevices"in navigator||"webkitGetUserMedia"in navigator||V.push("MediaDevices API (Camera/Microphone Uploads)"),V.length),Promise.resolve(!0)}function w(V){return s.events.trigger("filestack.uploadedToFilestack",[V],!0)===!1?(s.edit.on(),!1):V}function xe(V){var I=s.button.getButtons('button[data-cmd="openFilePicker"]'),N=s.button.getButtons('button[data-cmd="openFilePickerImageOnly"]'),ne=s.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]'),G=s.button.getButtons('button[data-cmd="openFilePickerFile"]');I.removeClass("fr-filestack-active"),N.removeClass("fr-filestack-active"),ne.removeClass("fr-filestack-active"),G.removeClass("fr-filestack-active"),s.events.trigger("filestack.filestackPickerClosed",[V],!0)===!1&&s.edit.on()}function be(){lt=Xt=null,s.selection.restore()}function re(V){z(p,V),s.events.trigger("filestack.uploadFailedToFilestack",[V],!0)===!1&&s.edit.on()}function se(V){return ge.includes(V.split("/")[1])}function ie(V){var I=!1;s.opts.imageInsertButtons=s.opts.imageInsertButtons.map(function(ne){return ne==="openFilePickerImage"?(I=!0,"openFilePickerReplaceImageOnly"):ne}),I&&s.events.trigger("filestack-init"),s.popups.hide("image.edit");var N=s.doc.querySelector(".fr-popup:not(.fr-do-not-hide)");N&&N.remove(),s.opts.pluginsEnabled.includes("filestack")&&function(G){s.opts.imageEditButtons.includes("filestackIcon")&&(b=s.opts.imageEditButtons.indexOf("filestackIcon")),!s.opts.imageEditButtons.includes("filestackIcon")&&G&&s.opts.pluginsEnabled.includes("filestack")?(b||b===0)&&s.opts.imageEditButtons.splice(b,0,"filestackIcon"):G||(s.opts.imageEditButtons=s.opts.imageEditButtons.filter(function(q){return q!="filestackIcon"})),s.opts.filestackOptions.uploadToFilestackOnly&&G?s.opts.imageEditButtons=s.opts.imageEditButtons.filter(function(q){return q!="imageTUI"}):s.opts.pluginsEnabled.includes("imageTUI")&&!s.opts.imageEditButtons.includes("imageTUI")&&s.opts.imageEditButtons.push("imageTUI")}(V),s.events.trigger("filestack-init-edit")}function D(){var V=!1;s.opts.videoInsertButtons=s.opts.videoInsertButtons.map(function(I){return I==="openFilePickerVideo"?(V=!0,"openFilePickerReplaceVideoOnly"):I}),V&&s.events.trigger("filestack-init-video")}function U(){x.DEFAULTS.imageInsertButtons&&!x.DEFAULTS.imageInsertButtons.includes("openFilePickerImage")&&x.DEFAULTS.imageInsertButtons.push("openFilePickerImage"),x.DEFAULTS.imageEditButtons&&!x.DEFAULTS.imageEditButtons.includes("filestackIcon")&&x.DEFAULTS.imageEditButtons.push("filestackIcon"),x.DEFAULTS.videoInsertButtons&&!x.DEFAULTS.videoInsertButtons.includes("openFilePickerVideo")&&x.DEFAULTS.videoInsertButtons.push("openFilePickerVideo"),x.DEFAULTS.filesInsertButtons&&!x.DEFAULTS.filesInsertButtons.includes("openFilePicker")&&x.DEFAULTS.filesInsertButtons.push("openFilePicker"),x.DEFAULTS.fileInsertButtons&&!x.DEFAULTS.fileInsertButtons.includes("openFilePickerFile")&&x.DEFAULTS.fileInsertButtons.push("openFilePickerFile"),s.popups.onHide("image.insert",function(){var de=s.button.getButtons('button[data-cmd="openFilePickerImage"]'),Le=s.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]');de.removeClass("fr-filestack-active"),Le.removeClass("fr-filestack-active")}),s.popups.onHide("video.insert",function(){var de=s.button.getButtons('button[data-cmd="openFilePickerVideo"]'),Le=s.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]');de.removeClass("fr-filestack-active"),Le.removeClass("fr-filestack-active")}),s.popups.onHide("filesManager.insert",function(){s.button.getButtons('button[data-cmd="openFilePicker"]').removeClass("fr-filestack-active")});var V=s.opts.filestackOptions.pickerOptions?Object.assign({},s.opts.filestackOptions.pickerOptions,{accept:s.opts.filestackOptions.pickerOptions.accept?s.opts.filestackOptions.pickerOptions.accept:[],fromSources:s.opts.filestackOptions.pickerOptions.fromSources?s.opts.filestackOptions.pickerOptions.fromSources:[]}):{accept:[],fromSources:[]};V.fromSources=function(Le,Ae){if(!Ae||Ae.length===0)return Le;var we=[];return Ae.forEach(function(Pe){-1<Le.indexOf(Pe)&&we.push(Pe)}),we.length===0&&z(A),we}(x.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED,V.fromSources),V.onOpen=function(de){s.events.on("window.mouseup",function(Ae){if(document.getElementById("__filestack-picker")&&s.helpers.isMobile())return Ae.preventDefault(),Ae.stopPropagation(),!1},!0),s.events.trigger("filestack.filestackPickerOpened",[de],!0)===!1&&s.edit.on();var Le=s.selection.get();Le&&(Le.anchorNode,Le.anchorOffset)},V.onUploadDone=function(de){return function(Ae){if(typeof Ae.filesUploaded<"u"){var we,Pe=ke(Ae.filesUploaded);try{var We,ut=function(){var ot=we.value;if(se(ot.mimetype)||ot.mimetype.includes("image/jpeg")||ot.mimetype.includes("image/png")||ot.mimetype.includes("image/")||ot.mimetype.includes("video/")||ot.mimetype.includes("audio/mpeg")){ot.mimetype.includes("image/")&&ie(!0),ot.mimetype.includes("video/")&&D();var Me=function(Ve){ot.mimetype.includes("image")?Ve.next().is("br")&&Ve.next().remove():(Ve.next()&&Ve.next().is("br")&&Ve.next().remove(),Ve.prev()&&Ve.prev().is("br")&&Ve.prev().remove()),s.selection.setAfter(Ve[0])};if(!w(Ae)||Xt||lt||(ot.mimetype.includes("ogg")?s.file.insert(ot.url,ot.filename,null):ot.mimetype.includes("image")?(s.image.insert(ot.url,!1,null,null),s.events.on("image.loaded",Me)):ot.mimetype.includes("video")?(s.events.on("video.inserted",Me),s.video.insertHtmlVideo(ot.url,null,null,null,null)):ot.mimetype.includes("audio/mpeg")?(s.events.on("video.inserted",Me),s.video.insertHtmlVideo(ot.url,null,null,null,null,"audio")):se(ot.mimetype)&&s.file.insert(ot.url,ot.filename,null)),Xt)return s.image.insert(ot.url,!1,null,Xt),Xt=null,{v:void 0};if(lt)return s.video.insertHtmlVideo(ot.url,!1,null,lt),lt=null,{v:void 0}}};for(Pe.s();!(we=Pe.n()).done;)if(We=ut())return We.v}catch(nt){Pe.e(nt)}finally{Pe.f()}}}(de)},V.onFileUploadFailed=re,V.onClose=xe,V.onCancel=be,s.opts.filestackOptions.pickerOptions=V;var I=function(Le){var Ae=Le.target.tagName==="IMG",we=Le.target.tagName==="VIDEO",Pe=Le.target.src&&Le.target.src.includes(x.FILE_STACK_URL_PART)&&!Le.target.src.includes("blob:");Ae?ie(Pe):we&&D()},N=s.helpers.isMobile()&&!s.helpers.isWindowsPhone();if(s.events.on(N?"touchend":"click",I,N),s.events.on("drop",function(){ie(!1),D()},!0),s.opts.filestackOptions.uploadToFilestackOnly&&!s.opts.iframe&&!s.opts.fullPage){if(B&&ee()&&j()){var ne=filestackDnD.init(B,s.el);ne&&ne.on("uploadFileFinish",function(de){if(de.files[0].mimetype.includes("image/")&&ie(!0),de.files[0].mimetype.includes("video/")&&D(),se(de.files[0].mimetype)||de.files[0].mimetype.includes("pdf")||de.files[0].mimetype.includes("image/jpeg")||de.files[0].mimetype.includes("image/png")||de.files[0].mimetype.includes("image/")||de.files[0].mimetype.includes("video/")||de.files[0].name&&de.files[0].name.includes(".ogg")){var Le=function(we){s.popups.hide("filestackPlugin.error"),s.selection.setAfter(we[0])};de.files[0].mimetype.includes("image")?w(de)&&(s.image.insert(de.data.url,!1),s.events.on("image.inserted",Le)):de.files[0].mimetype.includes("video")?(s.video.insertHtmlVideo(de.data.url),s.events.on("video.inserted",Le)):(de.files[0].mimetype.includes("pdf")||se(de.files[0].mimetype)||de.files[0].name&&de.files[0].name.includes(".ogg"))&&s.file.insert(de.data.url,de.data._file.name,null),s.popups.hide("filestackPlugin.error")}})}s.events.on("drop",function(de){return B?ee()?j()?(s.markers.remove(),s.markers.insertAtPoint(de.originalEvent),s.$el.find(".fr-marker").replaceWith(x.MARKERS),s.$el.find(".fr-marker").length===0&&s.selection.setAtEnd(s.el),Q("Image loading","",!0,{x:de.originalEvent.x,y:de.originalEvent.y})):Q(H()+" not enabled. Do you want to enable?","openFilePicker"):(P(O[M]),s.popups.show("filestackPlugin.error",de.originalEvent.x,de.originalEvent.y)):(P(O[a]),s.popups.show("filestackPlugin.error",de.originalEvent.x,de.originalEvent.y)),de.preventDefault(),de.stopPropagation(),!1},!0)}var G=document.getElementById("insertImage-".concat(s.id));G&&G.addEventListener("mouseup",function(){var de=!1;s.opts.imageInsertButtons=s.opts.imageInsertButtons.map(function(Le){return Le==="openFilePickerReplaceImageOnly"?(de=!0,"openFilePickerImage"):Le}),de&&s.events.trigger("filestack-init")});var q=document.getElementById("insertVideo-".concat(s.id));q&&q.addEventListener("mouseup",function(){var de=!1;s.opts.videoInsertButtons=s.opts.videoInsertButtons.map(function(Le){return Le==="openFilePickerReplaceVideoOnly"?(de=!0,"openFilePickerVideo"):Le}),de&&s.events.trigger("filestack-init-video")}),s.events.on("image.loaded",function(de){(!de[0].src.includes(x.FILE_STACK_URL_PART)||de[0].src.includes(x.FILE_STACK_URL_PART)&&de[0].src.includes("blob:"))&&setTimeout(function(){var Le=document.querySelector("#filestackIcon-".concat(s.id));Le&&Le.parentNode.removeChild(Le)},10)})}return s.events.on("filestack.imageTransformation.click",function(){(function(I){Xt=I;var N=s.image.get()[0].currentSrc||"",ne=filestack.init(K),G=new FilestackTransform(ne);G.setConfigKey("output.blob",!0),G.open(N).then(function(de){ne.upload(de).then(function(Le){var Ae=s.selection.save();N!==void 0&&(s.image.insert(Le.url,!1,null,Xt),Xt=null,s.selection.restore(Ae))}),ne.on("upload.error",function(){z(p)})}),s.events.on("keydown",function(){var de=document.getElementsByClassName("fs-transforms-container");s.helpers.isMobile()&&de&&de[0].childNodes&&de[0].childNodes.length&&(Xt=null)});var q=s.button.getButtons('button[data-cmd="filestackIcon"]');G.on("canvas:save",function(){q.removeClass("fr-filestack-active"),Q("Image loading","",!0,{x:Xt.offset().left,y:Xt.offset().top+Xt.height()})}),G.on("canvas:cancel",function(){q.removeClass("fr-filestack-active")})})(s.image.get())}),s.events.on("filestack.imageTransformation.error",function(){z(9)}),{_init:U,showFilestackPopup:function(I,N,ne){if(!I)return!1;var G;if(I==="openFilePicker"||I==="openFilePickerFile"?G=x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED:I==="openFilePickerImageOnly"||I==="openFilePickerReplaceImageOnly"||I==="openFilePickerImage"?G=x.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED:I!=="openFilePickerVideoOnly"&&I!=="openFilePickerReplaceVideoOnly"&&I!=="openFilePickerVideo"||(G=x.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED),!K)return z(a,I),!1;if(!ee())return z(M,I),!1;if(!j())return Q(H()+" not enabled. Do you want to enable?",I),!1;if(!B&&!Object.keys(s.opts.filestackOptions).length===0)return z(10,I),!1;N&&(Xt=N),ne&&(lt=ne);var q,de=s.opts.filestackOptions.pickerOptions?Object.assign({},s.opts.filestackOptions.pickerOptions,{accept:s.opts.filestackOptions.pickerOptions.accept?s.opts.filestackOptions.pickerOptions.accept:[],fromSources:s.opts.filestackOptions.pickerOptions.fromSources?s.opts.filestackOptions.pickerOptions.fromSources:[]}):{accept:[],fromSources:[]};q=s.opts.fileAllowedTypes&&s.opts.fileAllowedTypes.length===1&&s.opts.fileAllowedTypes[0]==="*"?x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED:s.opts.fileAllowedTypes,de.accept.length===0&&(de.accept=x.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED);var Le=x.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED;s.opts.videoAllowedTypes&&(Le=s.opts.videoAllowedTypes.map(function(We){return We==="mp3"?"audio/".concat(We):"video/".concat(We)})),I==="openFilePickerImageOnly"||I==="openFilePickerReplaceImageOnly"||I==="openFilePickerImage"?G=s.opts.imageAllowedTypes.map(function(We){return"image/".concat(We)}):I==="openFilePickerVideoOnly"||I==="openFilePickerReplaceVideoOnly"||I==="openFilePickerVideo"?G=Le:I==="openFilePickerFile"&&(G=q);var Ae=de.maxFiles;(N||ne)&&(Ae=1);var we=I==="openFilePicker"?function(ut,nt){if(!nt||nt.length===0)return ut;var ot=[];return nt.forEach(function(Me){-1<ut.indexOf(Me)&&ot.push(Me)}),ot.length===0&&z(L),ot}(G,de.accept):G,Pe=Object.assign({},de,{accept:we,maxFiles:Ae});try{B.picker(Pe).open(),s.popups.hideAll(),s.selection.save()}catch{Object.keys(s.opts.filestackOptions).length===0&&z(8,I)}},isBrowserSupported:ee}},x.DefineIcon("filestackIcon",{ALT:"Open Filestack file picker",NAME:"filestack",SVG_KEY:"filestackIcon"}),x.DefineIcon("filestackIconAdd",{ALT:"Open Filestack file picker",NAME:"filestackAdd",SVG_KEY:"filestackIconAdd"}),x.DefineIcon("imageTransformations",{ALT:"Open Filestack image transformations",NAME:"imageTransformations",SVG_KEY:"imageTransformations"}),x.DefineIcon("imageFilestackOnly",{template:"svgMultiplePath",PATHS:'<path d="M11.1 15.8h7.7V5.7H5.1v4.2H3.4V5.7c0-.9.8-1.7 1.7-1.7h13.7c.9 0 1.7.8 1.7 1.7v10.1c0 .9-.8 1.7-1.7 1.7h-7.7v-1.7Zm0-2.5 2.6-3.4h.2l3.3 4.2h-6.1v-.8ZM8.9 6.9c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3-1.3-.6-1.3-1.3.6-1.3 1.3-1.3Z"/><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>'}),x.DefineIcon("videoFilestackOnly",{template:"svgMultiplePath",PATHS:'<path d="m11 11.3 1 2.6h3.6V6.8h-9v3.6H4.8V6c0-.2.1-.5.3-.6s.4-.3.6-.3h10.8c.2 0 .5.1.6.3s.3.4.3.6v3.1l2.1-2c.3-.3.6-.3 1-.2.3 0 .6.5.6.8v5.5c0 .4-.2.7-.6.8-.3.1-.7 0-1-.2l-2.1-2v3.1c0 .2 0 .5-.3.6-.2.2-.4.3-.6.3H12V14l-1-2.7Z" /><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>'}),x.RegisterCommand("openFilePicker",{type:"button",icon:"filestackIcon",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePicker"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePicker")},plugin:"filestack"}),x.RegisterCommand("openFilePickerImageOnly",{type:"button",icon:"imageFilestackOnly",title:"Open Filestack Image Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerImageOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerImageOnly",this.image&&this.image.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerImage",{type:"button",icon:"filestackIcon",title:"Open Filestack Image Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerImage"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerImage",this.image&&this.image.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerReplaceImageOnly",{type:"button",icon:"filestackIconAdd",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerReplaceImageOnly",this.image&&this.image.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerVideoOnly",{type:"button",icon:"videoFilestackOnly",title:"Open Filestack Video Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerVideoOnly",null,this.video&&this.video.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerVideo",{type:"button",icon:"filestackIcon",title:"Open Filestack Video Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerVideo"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerVideo",null,this.video&&this.video.get())},plugin:"filestack"}),x.RegisterCommand("openFilePickerReplaceVideoOnly",{type:"button",icon:"filestackIconAdd",title:"Open Filestack File Picker",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerReplaceVideoOnly",null,this.video&&this.video.get())},plugin:"filestack"}),x.RegisterCommand("filestackIcon",{type:"button",icon:"imageTransformations",title:"Image Transformations",plugin:"filestack",callback:function(){var s=!1,b=this.image.get(0)[0];b&&b.currentSrc&&(s=b.currentSrc.includes(x.FILE_STACK_URL_PART)&&!b.currentSrc.includes("blob:")),s?(this.button.getButtons('button[data-cmd="filestackIcon"]').addClass("fr-filestack-active"),this.events.trigger("filestack.imageTransformation.click")):this.events.trigger("filestack.imageTransformation.error")}}),x.RegisterCommand("openFilePickerFile",{type:"button",icon:"filestackIcon",title:"Open Filestack Upload File",callback:function(){this.button.getButtons('button[data-cmd="openFilePickerFile"]').addClass("fr-filestack-active"),this.filestack.showFilestackPopup("openFilePickerFile")},plugin:"filestack"}),Object.assign(x.DEFAULTS,{enableMatchCase:!1,enableMatchWholeWord:!1,showFindAndReplace:!1}),x.POPUP_TEMPLATES["findReplace.popup"]="[_BUTTONS_][_FIND_REPLACE_LAYER_]",x.PLUGINS.findReplace=function(s){var b=[],B=-1,ge=!1,a=!1,p=null,M=null,L=null,A=null,O=null,z=s.$(s.icon.create("findAndReplaceArrowDown")).addClass("fr-arrow-button")[0].outerHTML,Q=s.$(s.icon.create("findAndReplaceArrowUp")).addClass("fr-arrow-button")[0].outerHTML;function H(){var Ae=s.popups.get("findReplace.popup"),we=Ae.find("#fr-findText").val().trim(),Pe=Ae.find("#fr-replaceText")[0],We=Ae.find('div.fr-input-line > label[for="fr-replaceText"]')[0],ut=Ae.find(".fr-replace-btn")[0],nt=Ae.find(".fr-replace-all-btn")[0],ot=Ae.find("#fr-arrowDown")[0],Me=Ae.find("#fr-arrowUp")[0],et=0<b.length;Pe.readOnly=!we,Pe.classList.toggle("fr-disabled",!et),Pe.readOnly=!et,ut.classList.toggle("fr-disabled",!et),We.classList.toggle("fr-label-disabled",!et),nt.classList.toggle("fr-disabled",!et),ot.classList.toggle("fr-disabled",!et),Me.classList.toggle("fr-disabled",!et),we||Le(0)}function P(){var Ae={buttons:"",find_replace_layer:`
                    <div class='fr-find-replace-layer' tabindex="-1">
                        <div class='fr-header fr-drag-handle' tabindex="-1">`.concat(s.language.translate("Find and Replace"),`</div>
                        <div class='fr-body' tabindex="-1">
                            <button class='fr-close-btn' aria-label='`).concat(s.language.translate("Close"),`' tabIndex='0'>&times;</button>
                            <div class='fr-input-container'>
	                            <div class='fr-input-line fr-find-field'>
                                <input id='fr-findText' type='text' placeholder='`).concat(s.language.translate("Find"),`' tabIndex='1'>
                              </div>
                                <span class='fr-count-indicator'></span>
                                <div class='fr-arrow-buttons'>
                                    <div class='fr-arrow-buttons'>
                                        <button id='fr-arrowDown' aria-label='`).concat(s.language.translate("Next"),"' title='").concat(s.language.translate("Next"),`' tabIndex='2'>
                                            `).concat(z,`
                                        </button>
                                        <button id='fr-arrowUp' aria-label='`).concat(s.language.translate("Previous"),"' title='").concat(s.language.translate("Previous"),`' tabIndex='3'>
                                            `).concat(Q,`
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class='fr-input-line fr-replace-field'>
                              <input id='fr-replaceText' type='text' aria-label='`).concat(s.language.translate("Replace with"),"' placeholder='").concat(s.language.translate("Replace with"),`' tabIndex='4' />
                            </div>
                            <button class="fr-toggle-advanced-options" aria-label='`).concat(s.language.translate("Advanced Options"),"' tabIndex='5'>").concat(s.language.translate("Advanced Options"),'<span class="fr-arrow">').concat(z,`</span></button>
                            <div class='fr-advanced-options-panel' style='display: none;'>
                              <div class="fr-checkbox-group">
                                <div class="fr-checkbox-row">
                                  <input type="checkbox" id="fr-matchCase" name="fr-matchCaseToggle" dir="auto" tabIndex='6'>
                                  <label for="fr-matchCase">`).concat(s.language.translate("Match case"),`</label>
                                </div>
                                <div class="fr-checkbox-row">
                                  <input type="checkbox" id="fr-wholeWord" name="fr-wholeWordToggle" dir="auto" tabIndex='7'>
                                  <label for="fr-wholeWord">`).concat(s.language.translate("Whole words only"),`</label>
                                </div>
                              </div>
                            </div>
                            <div class='fr-button-group'>
                                <button class='fr-replace-btn' aria-label='`).concat(s.language.translate("Replace"),"' tabIndex='8'>").concat(s.language.translate("Replace"),`</button>
                                <button class='fr-replace-all-btn' aria-label='`).concat(s.language.translate("Replace All"),"' tabIndex='9'>").concat(s.language.translate("Replace All"),`</button>
                                <button class='fr-find-btn' aria-label='`).concat(s.language.translate("Find"),"' tabIndex='10'>").concat(s.language.translate("Find"),`</button>
                            </div>
                        </div>
                    </div>
                `)};return function(Pe){var We=0,ut=0,nt=s.popups.get("findReplace.popup");s.events.$on(nt,"mousedown",function(Me){if(!Me.target.classList.contains("fr-drag-handle"))return;var et=Pe.getBoundingClientRect();function Ve($e,tt){L=$e-We+"px",A=tt-ut+"px",Pe.style.left=L,Pe.style.top=A}function Ze(){document.removeEventListener("mousemove",Xe),document.removeEventListener("mouseup",Ze),Pe.onmouseup=null;var $e=Pe.getBoundingClientRect();Pe.style.position="fixed";var tt=$e.top,_t=$e.left;$e.top<0?tt=0:$e.top+Pe.offsetHeight>window.innerHeight&&(tt=window.innerHeight-Pe.offsetHeight),$e.left<0?_t=0:$e.left+Pe.offsetWidth>window.innerWidth&&(_t=window.innerWidth-Pe.offsetWidth),Pe.style.top="".concat(tt,"px"),Pe.style.left="".concat(_t,"px")}function Xe($e){Ve($e.pageX,$e.pageY)}We=Me.clientX-et.left,ut=Me.clientY-et.top+10,Pe.style.position="absolute",Pe.style.zIndex=s.opts.zIndex+20,document.body.append(Pe),Ve(Me.pageX,Me.pageY),document.addEventListener("mousemove",Xe),document.addEventListener("mouseup",Ze),Pe.onmouseup=Ze,s.events.on("popups.hide.findReplace.popup",Ze)}),s.events.$on(nt,"dragstart",function(ot){return ot.preventDefault()})}((O=s.popups.create("findReplace.popup",Ae)).get(0)),s.events.$on(O,"click","#fr-matchCase",K,!1),s.events.$on(O,"click","#fr-wholeWord",ee,!1),s.events.bindClick(O,".fr-find-btn",xe),s.events.bindClick(O,".fr-replace-btn",be),s.events.bindClick(O,".fr-replace-all-btn",re),s.events.bindClick(O,"#fr-arrowUp",function(){return G(B)}),s.events.bindClick(O,"#fr-arrowDown",function(){return ne(B+1)}),s.events.bindClick(O,".fr-close-btn",U),s.events.bindClick(O,".fr-toggle-advanced-options",se),s.events.on("input paste.after cut commands.redo commands.undo",function(){0<b.length&&xe()}),s.events.on("commands.before",function(we){0<b.length&&we==="clearFormatting"&&(N(),Le(0))}),s.events.on("keydown",function(we){(we.keyCode===x.KEYCODE.BACKSPACE||we.keyCode===x.KEYCODE.DELETE)&&0<b.length&&xe()}),O.on("keyup",j),O}function j(Ae){if(Ae.keyCode===x.KEYCODE.ENTER||Ae.keyCode===x.KEYCODE.SPACE){var we=Ae.target;Ae.keyCode===x.KEYCODE.ENTER&&(ie(!1),we.matches("#fr-findText")?xe():we.matches("#fr-replaceText")&&be()),we.matches("#fr-arrowUp")?G(B):we.matches("#fr-arrowDown")?ne(B+1):we.matches(".fr-close-btn")?U():we.matches(".fr-find-btn")?xe():we.matches(".fr-replace-btn")?be():we.matches(".fr-replace-all-btn")?re():we.matches(".fr-toggle-advanced-options")?se():we.matches("#fr-matchCase")?(Ae.currentTarget.checked=!Ae.currentTarget.checked,K(Ae)):we.matches("#fr-wholeWord")&&(Ae.currentTarget.checked=!Ae.currentTarget.checked,ee(Ae))}}function K(Ae){ge=Ae.currentTarget.checked,w()}function ee(Ae){a=Ae.currentTarget.checked,w()}function w(){N(),Le(0),H()}function xe(){var Ae=O.find("#fr-findText")[0],we=Ae?Ae.value.trim():"";we?(V(we),0<b.length?(ne(0),ie(!1)):(ie(!0,we),Le(0))):(N(),Le(0),ie(!1)),H()}function be(){if(!O.find(".fr-replace-btn").hasClass("fr-disabled")){var Ae=O.find("#fr-replaceText")[0];q(Ae?Ae.value.trim():""),H()}}function re(){if(!O.find(".fr-replace-all-btn").hasClass("fr-disabled")){var Ae=O.find("#fr-replaceText")[0];de(Ae?Ae.value.trim():""),H()}}function se(){var Ae=O.find(".fr-toggle-advanced-options .fr-arrow")[0],we=O.find(".fr-advanced-options-panel").get(0),Pe=we.style.display==="none"||!we.style.display;we.style.display=Pe?"block":"none",Ae.innerHTML=Pe?Q:z}function ie(Ae){var we=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",Pe=s.popups.get("findReplace.popup"),We=Pe.find(".fr-find-error").get(0),ut=Pe.find("#fr-findText").get(0);if(!We){var nt=Pe.find(".fr-input-container").get(0);(We=document.createElement("div")).className="fr-find-error",nt.parentNode.insertBefore(We,nt.nextSibling)}Ae?(We.textContent="".concat(s.language.translate("There are no entries matching"),' "').concat(we,'"'),We.style.display="block",ut.classList.add("error")):(We.style.display="none",ut.classList.remove("error"))}function D(){s.undo.saveStep(),s.opts.enableMatchCase===!0&&(ge=!0),s.opts.enableMatchWholeWord===!0&&(a=!0),s.selection.save();var Ae=s.popups.get("findReplace.popup");Ae||(Ae=P());var we=Ae.data("instance");Ae.addClass("fr-do-not-hide"),we!==s&&(b=[],w()),Ae.data("instance",s),s.popups.setContainer("findReplace.popup",s.$box);var Pe=Ae.get(0),We=s.$box[0].getBoundingClientRect();Pe.style.position="fixed",p=We.right-400,M=We.top+40;var ut=Pe.offsetWidth,nt=Pe.offsetHeight;0<=p&&0<=M&&p+ut<=window.innerWidth&&M+nt<=window.innerHeight?(Pe.style.left="".concat(p,"px"),Pe.style.top="".concat(M,"px")):(Pe.style.left="".concat(window.innerWidth/2-ut/2,"px"),Pe.style.top="".concat(window.innerHeight/20-nt/12,"px")),s.popups.show("findReplace.popup"),Ae.find("#fr-matchCase")[0].checked=ge,Ae.find("#fr-wholeWord")[0].checked=a,Pe.style.zIndex=s.opts.zIndex+20;var ot=Ae.find("#fr-findText")[0],Me=s.selection.text().trim();Me&&(ot.value=Me),ot.focus(),ot.addEventListener("input",function(){ie(!1),b=[],w()}),w()}function U(){if(s.events.trigger("findandreplace.beforeClose")!==!1){var Ae=s.popups.get("findReplace.popup");Ae&&Ae.removeClass("fr-do-not-hide"),s.popups.hide("findReplace.popup"),L=A=null,N(),ie(!1),b=[],B=-1,s.selection.restore(),s.undo.saveStep(),Le(0)}}function V(Ae){var we=s.popups.get("findReplace.popup"),Pe=we.data("instance")||s;if(Pe.el.querySelectorAll(".fr-marker").forEach(function(_t){return _t.remove()}),N(),Ae.trim()){var We=we.find("#fr-matchCase")[0].checked,ut=we.find("#fr-wholeWord")[0].checked;b=[],B=-1;var nt,ot=Pe.el,Me=We?"g":"gi",et=ut?"(?<=^|\\s)(".concat(tt(Ae),")(?=\\s|$|\\b)"):tt(Ae),Ve=new RegExp(et,Me),Ze=function(mt){for(var Lt,Rt=[],Wt=document.createTreeWalker(mt,NodeFilter.SHOW_TEXT,{acceptNode:function(Zt){var kn=Zt.parentNode;return!kn||["SCRIPT","STYLE"].includes(kn.tagName)||kn.classList&&kn.classList.contains("fr-tracking-deleted")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});Lt=Wt.nextNode();)Rt.push(Lt);return Rt}(ot),Xe="",$e=[];for(Ze.forEach(function(_t,mt){var Lt=Ze[mt-1];if(Lt){var Rt=Lt.parentNode,Wt=/\s$/.test(Xe),Zt=/^\s/.test(_t.textContent),kn=_t.parentNode;Rt===kn||Rt.contains(kn)||kn.contains(Rt)?window.getComputedStyle(kn).display==="block"&&window.getComputedStyle(Rt).display==="block"&&(Wt||Zt||(Xe+=" ")):Wt||Zt||(Xe+=" ")}$e.push({start:Xe.length,end:Xe.length+_t.textContent.length,node:_t}),Xe+=_t.textContent}),b=[];(nt=I(Xe,Ve))!==null;)b.push({start:nt.index,end:nt.index+nt[0].length});(function(mt,Lt){for(var Rt=mt.map(function(wt){var It,nn=wt.start,bn=wt.end,Tn=null,Mn=null,vn=0,Hn=0,wo=ke(Lt);try{for(wo.s();!(It=wo.n()).done;){var ro=It.value,qo=ro.node,zn=ro.start;if(zn<=nn&&nn<zn+qo.textContent.length&&(Tn=qo,vn=nn-zn),zn<bn&&bn<=zn+qo.textContent.length){Mn=qo,Hn=bn-zn;break}}}catch(ms){wo.e(ms)}finally{wo.f()}if(Tn&&Mn){var ls=document.createRange();return ls.setStart(Tn,vn),ls.setEnd(Mn,Hn),ls}return null}).filter(Boolean),Wt=Rt.length-1;0<=Wt;Wt--){var Zt=Rt[Wt],kn=document.createElement("span");kn.className="fr-find-replace-highlight";try{Zt.surroundContents(kn)}catch{var Jn=Zt.extractContents(),Je=Jn.querySelectorAll(".fr-find-replace-highlight");Je.forEach(function(It){var nn=document.createTextNode(It.textContent);It.parentNode.replaceChild(nn,It)}),kn.appendChild(Jn),Zt.insertNode(kn)}}})(b,$e),Le(b.length)}function tt(_t){return _t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}function I(Ae,we){return we instanceof RegExp||(we=new RegExp(we)),we.exec(Ae)}function N(){(s.popups.get("findReplace.popup").data("instance")||s).el.querySelectorAll(".fr-find-replace-highlight, .fr-find-replace-current-highlight").forEach(function(Ae){Ae.classList.remove("fr-find-replace-highlight","fr-find-replace-current-highlight");var we=0<Ae.classList.length,Pe=(Ae.getAttribute("style")||"").trim()!=="",We=Array.from(Ae.attributes).some(function(nt){return!["class","style"].includes(nt.name)});if(!we&&!Pe&&!We){for(var ut=Ae.parentNode;Ae.firstChild;)ut.insertBefore(Ae.firstChild,Ae);ut.removeChild(Ae),ut.normalize()}})}function ne(Ae){if(b.length){B=(Ae+b.length)%b.length;var we=(s.popups.get("findReplace.popup").data("instance")||s).$el.get(0);we.querySelectorAll(".fr-find-replace-current-highlight").forEach(function(We){We.classList.remove("fr-find-replace-current-highlight")});var Pe=we.querySelectorAll(".fr-find-replace-highlight");Pe[B]&&(Pe[B].classList.add("fr-find-replace-current-highlight"),Pe[B].scrollIntoView({behavior:"smooth",block:"center"})),Le(b.length)}}function G(Ae){if(b.length){B=(Ae-1+b.length)%b.length;var we=(s.popups.get("findReplace.popup").data("instance")||s).$el.get(0);we.querySelectorAll(".fr-find-replace-current-highlight").forEach(function(We){We.classList.remove("fr-find-replace-current-highlight")});var Pe=we.querySelectorAll(".fr-find-replace-highlight");Pe[B]&&(Pe[B].classList.add("fr-find-replace-current-highlight"),Pe[B].scrollIntoView({behavior:"smooth",block:"center"})),Le(b.length)}}function q(Ae){if(B!==-1&&b.length){var we=s.popups.get("findReplace.popup").data("instance")||s;we.undo.saveStep();var Pe=we.$el.find(".fr-find-replace-current-highlight").get(0);if(Pe){var We=Pe.textContent,ut=Pe.parentNode,nt=document.createTextNode(Ae);we.events.trigger("findandreplace.beforeOnReplace")!==!1&&(we.opts.trackChangesEnabled?(we.markers.insert(),we.track_changes.pasteInEdior(Ae)):ut.replaceChild(nt,Pe),ut.normalize(),b.splice(B,1),0<b.length?ne(B%b.length):B=-1,we.events.trigger("findandreplace.onReplace",[{oldValue:We,newValue:Ae}]),we.undo.saveStep(),Le(b.length))}}}function de(Ae){if(b.length){var we=s.popups.get("findReplace.popup").data("instance")||s;we.undo.saveStep();var Pe=we.$el.get(0).querySelectorAll(".fr-find-replace-highlight"),We=[],ut=!1;Pe.forEach(function(nt){if(we.events.trigger("findandreplace.beforeOnReplace")!==!1)if(we.opts.trackChangesEnabled)we.track_changes.pasteInEdior(Ae),b.splice(B,1),0<b.length?ne(B%b.length):B=-1,Le(b.length);else{var ot=nt.textContent,Me=document.createTextNode(Ae),et=nt.parentNode;et.replaceChild(Me,nt),et.normalize(),We.push({oldValue:ot,newValue:Ae})}else ut=!0}),we.undo.saveStep(),ut===!1&&(we.events.trigger("findandreplace.onReplaceAll",[We]),b=[],B=-1,w())}}function Le(Ae){var we=s.popups.get("findReplace.popup").find(".fr-count-indicator")[0];we&&(0<Ae?(we.textContent="".concat(B+1," of ").concat(Ae),we.style.visibility="visible"):(we.textContent="",we.style.visibility="hidden",b=[]))}return s.events.on("popup.tab",function(Ae){var we=s.popups.get("findReplace.popup");if(we&&we.contains(Ae.target))return(Ae.keyCode!==x.KEYCODE.TAB||document.activeElement==Ae.target)&&(Ae.keyCode===x.KEYCODE.ESC?(U(),!1):void 0)}),s.events.on("initialized",function(){s.opts.showFindAndReplace===!0&&D()}),{findMatches:V,findNextMatch:ne,findPreviousMatch:G,replaceMatch:q,replaceMatches:de,getMatchesCount:function(){return b.length},getCurrentMatch:function(){if(B===-1||!b.length)return null;var we=(s.popups.get("findReplace.popup").data("instance")||s).$el.find(".fr-find-replace-current-highlight").get(0);return we?we.textContent:null},getCurrentMatchIndex:function(){return B},showPopup:D,hidePopup:U}},x.DefineIcon("findReplaceIcon",{template:"svgMultiplePath",PATHS:'<path d="M11 6C9.9115 6 8.93683 6.30833 8.076 6.925C7.215 7.54167 6.61725 8.34233 6.28275 9.327C6.20842 9.51283 6.086 9.65542 5.9155 9.75475C5.745 9.85408 5.56167 9.88517 5.3655 9.848C5.16283 9.8045 5.00317 9.70258 4.8865 9.54225C4.76983 9.38208 4.74358 9.21092 4.80775 9.02875C5.20642 7.69942 5.97533 6.61225 7.1145 5.76725C8.2535 4.92242 9.54867 4.5 11 4.5C12.1757 4.5 13.1767 4.75325 14.003 5.25975C14.8292 5.76608 15.4948 6.32183 16 6.927V5.25C16 5.03717 16.0718 4.859 16.2155 4.7155C16.359 4.57183 16.5372 4.5 16.75 4.5C16.9628 4.5 17.141 4.57183 17.2845 4.7155C17.4282 4.859 17.5 5.03717 17.5 5.25V9.09625C17.5 9.35392 17.4138 9.56892 17.2413 9.74125C17.0689 9.91375 16.8538 10 16.596 10H12.75C12.5372 10 12.359 9.92817 12.2155 9.7845C12.0718 9.641 12 9.46283 12 9.25C12 9.03717 12.0718 8.859 12.2155 8.7155C12.359 8.57183 12.5372 8.5 12.75 8.5H15.2693C14.8629 7.84233 14.303 7.26125 13.5895 6.75675C12.876 6.25225 12.0128 6 11 6ZM11 17.5C10.0167 17.5 9.08142 17.2853 8.19425 16.8558C7.30708 16.4263 6.57567 15.832 6 15.073V16.75C6 16.9628 5.92817 17.141 5.7845 17.2845C5.641 17.4282 5.46283 17.5 5.25 17.5C5.03717 17.5 4.859 17.4282 4.7155 17.2845C4.57183 17.141 4.5 16.9628 4.5 16.75V12.9038C4.5 12.6461 4.58625 12.4311 4.75875 12.2588C4.93108 12.0863 5.14617 12 5.404 12H9.25C9.46283 12 9.641 12.0718 9.7845 12.2155C9.92817 12.359 10 12.5372 10 12.75C10 12.9628 9.92817 13.141 9.7845 13.2845C9.641 13.4282 9.46283 13.5 9.25 13.5H6.73075C7.15642 14.2347 7.742 14.835 8.4875 15.301C9.233 15.767 10.0705 16 11 16C12.0718 16 13.0314 15.701 13.8788 15.103C14.7263 14.5048 15.3257 13.7269 15.677 12.7692C15.7615 12.5666 15.889 12.4022 16.0595 12.276C16.23 12.1497 16.4217 12.1083 16.6345 12.152C16.8473 12.2058 17.0044 12.3206 17.1058 12.4963C17.2071 12.6718 17.2257 12.8608 17.1615 13.0635C17.0512 13.4417 16.9073 13.7862 16.7298 14.097C16.5523 14.408 16.3359 14.7244 16.0807 15.0463L20.127 19.0922C20.2653 19.2307 20.3362 19.4048 20.3395 19.6145C20.3427 19.824 20.2718 20.0012 20.127 20.1462C19.982 20.2911 19.8063 20.3635 19.6 20.3635C19.3937 20.3635 19.218 20.2911 19.073 20.1462L15.027 16.1C14.4462 16.5628 13.8176 16.9118 13.1413 17.147C12.4651 17.3823 11.7513 17.5 11 17.5Z" fill="#333333"/>'}),x.RegisterShortcut(x.KEYCODE.F,"findReplaceButton",null,"F"),x.RegisterCommand("findReplaceButton",{title:"Find and Replace",icon:"findReplaceIcon",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("findReplace.popup")?this.findReplace.hidePopup():this.findReplace.showPopup()},plugin:"findReplace"}),x.DefineIcon("findAndReplaceArrowDown",{NAME:"chevron-down",VIEWBOX:"0 0 448 512",SVG_KEY:"chevronDown"}),x.DefineIcon("findAndReplaceArrowUp",{NAME:"chevron-up",VIEWBOX:"0 0 448 512",SVG_KEY:"chevronUp"})})})();var Rte={exports:{}};(function(E){(function(){var R=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},x=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},ce=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},ke=function(e,n){return He(function(o,i){return e.eq(n(o),n(i))})},He=function(e){return{eq:e}},je=He(function(e,n){return e===n}),dt=je,Ft=function(e){return He(function(n,o){if(n.length!==o.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},Oe=function(e,n){return ke(Ft(e),function(o){return ce(o,n)})},pn=function(e){return He(function(n,o){var i=Object.keys(n),c=Object.keys(o);if(!Oe(dt).eq(i,c))return!1;for(var f=i.length,h=0;h<f;h++){var _=i[h];if(!e.eq(n[_],o[_]))return!1}return!0})},On=He(function(e,n){if(e===n)return!0;var o=R(e),i=R(n);return o!==i?!1:x(o)?e===n:o==="array"?Ft(On).eq(e,n):o==="object"?pn(On).eq(e,n):!1});const ve=Object.getPrototypeOf,es=(e,n,o)=>{var i;return o(e,n.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===n.name},_o=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&es(e,String,(o,i)=>i.isPrototypeOf(o))?"string":n},Ao=e=>n=>_o(n)===e,jt=e=>n=>typeof n===e,Zo=e=>n=>e===n,Xt=(e,n)=>Xn(e)&&es(e,n,(o,i)=>ve(o)===i),lt=Ao("string"),Xn=Ao("object"),gs=e=>Xt(e,Object),Eo=Ao("array"),ht=Zo(null),oo=jt("boolean"),Ls=Zo(void 0),us=e=>e==null,s=e=>!us(e),b=jt("function"),B=jt("number"),ge=(e,n)=>{if(Eo(e)){for(let o=0,i=e.length;o<i;++o)if(!n(e[o]))return!1;return!0}return!1},a=()=>{},p=(e,n)=>(...o)=>e(n.apply(null,o)),M=(e,n)=>o=>e(n(o)),L=e=>()=>e,A=e=>e,O=(e,n)=>e===n;function z(e,...n){return(...o)=>{const i=n.concat(o);return e.apply(null,i)}}const Q=e=>n=>!e(n),H=e=>()=>{throw new Error(e)},P=e=>e(),j=e=>{e()},K=L(!1),ee=L(!0);class w{constructor(n,o){this.tag=n,this.value=o}static some(n){return new w(!0,n)}static none(){return w.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?w.some(n(this.value)):w.none()}bind(n){return this.tag?n(this.value):w.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:w.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return s(n)?w.some(n):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const xe=Array.prototype.slice,be=Array.prototype.indexOf,re=Array.prototype.push,se=(e,n)=>be.call(e,n),ie=(e,n)=>{const o=se(e,n);return o===-1?w.none():w.some(o)},D=(e,n)=>se(e,n)>-1,U=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return!0}return!1},V=(e,n)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const f=e[c];i[c]=n(f,c)}return i},I=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];n(c,o)}},N=(e,n)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];n(i,o)}},ne=(e,n)=>{const o=[],i=[];for(let c=0,f=e.length;c<f;c++){const h=e[c];(n(h,c)?o:i).push(h)}return{pass:o,fail:i}},G=(e,n)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const f=e[i];n(f,i)&&o.push(f)}return o},q=(e,n)=>{if(e.length===0)return[];{let o=n(e[0]);const i=[];let c=[];for(let f=0,h=e.length;f<h;f++){const _=e[f],S=n(_);S!==o&&(i.push(c),c=[]),o=S,c.push(_)}return c.length!==0&&i.push(c),i}},de=(e,n,o)=>(N(e,(i,c)=>{o=n(o,i,c)}),o),Le=(e,n,o)=>(I(e,(i,c)=>{o=n(o,i,c)}),o),Ae=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++){const f=e[i];if(n(f,i))return w.some(f);if(o(f,i))break}return w.none()},we=(e,n)=>Ae(e,n,K),Pe=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return w.some(o)}return w.none()},We=(e,n)=>{for(let o=e.length-1;o>=0;o--)if(n(e[o],o))return w.some(o);return w.none()},ut=e=>{const n=[];for(let o=0,i=e.length;o<i;++o){if(!Eo(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);re.apply(n,e[o])}return n},nt=(e,n)=>ut(V(e,n)),ot=(e,n)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Me=e=>{const n=xe.call(e,0);return n.reverse(),n},et=(e,n)=>G(e,o=>!D(n,o)),Ve=(e,n)=>{const o={};for(let i=0,c=e.length;i<c;i++){const f=e[i];o[String(f)]=n(f,i)}return o},Ze=(e,n)=>{const o=xe.call(e,0);return o.sort(n),o},Xe=(e,n)=>n>=0&&n<e.length?w.some(e[n]):w.none(),$e=e=>Xe(e,0),tt=e=>Xe(e,e.length-1),_t=b(Array.from)?Array.from:e=>xe.call(e),mt=(e,n)=>{for(let o=0;o<e.length;o++){const i=n(e[o],o);if(i.isSome())return i}return w.none()},Lt=(e,n)=>{const o=[],i=b(n)?c=>U(o,f=>n(f,c)):c=>D(o,c);for(let c=0,f=e.length;c<f;c++){const h=e[c];i(h)||o.push(h)}return o},Rt=Object.keys,Wt=Object.hasOwnProperty,Zt=(e,n)=>{const o=Rt(e);for(let i=0,c=o.length;i<c;i++){const f=o[i],h=e[f];n(h,f)}},kn=(e,n)=>Jn(e,(o,i)=>({k:i,v:n(o,i)})),Jn=(e,n)=>{const o={};return Zt(e,(i,c)=>{const f=n(i,c);o[f.k]=f.v}),o},Je=e=>(n,o)=>{e[o]=n},wt=(e,n,o,i)=>{Zt(e,(c,f)=>{(n(c,f)?o:i)(c,f)})},It=(e,n)=>{const o={},i={};return wt(e,n,Je(o),Je(i)),{t:o,f:i}},nn=(e,n)=>{const o={};return wt(e,n,Je(o),a),o},bn=(e,n)=>{const o=[];return Zt(e,(i,c)=>{o.push(n(i,c))}),o},Tn=e=>bn(e,A),Mn=(e,n)=>vn(e,n)?w.from(e[n]):w.none(),vn=(e,n)=>Wt.call(e,n),Hn=(e,n)=>vn(e,n)&&e[n]!==void 0&&e[n]!==null,wo=(e,n,o=On)=>pn(o).eq(e,n),qo={generate:e=>{if(!Eo(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return I(e,(i,c)=>{const f=Rt(i);if(f.length!==1)throw new Error("one and only one name per case");const h=f[0],_=i[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Eo(_))throw new Error("case arguments must be an array");n.push(h),o[h]=(...S)=>{const F=S.length;if(F!==_.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+_.length+" ("+_+"), got "+F);return{fold:(...he)=>{if(he.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+he.length);return he[c].apply(null,S)},match:he=>{const Se=Rt(he);if(n.length!==Se.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Se.join(","));if(!ot(n,it=>D(Se,it)))throw new Error("Not all branches were specified when using match. Specified: "+Se.join(", ")+`
Required: `+n.join(", "));return he[h].apply(null,S)},log:he=>{console.log(he,{constructors:n,constructor:h,params:S})}}}}),o}},zn=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},ls=e=>{const n=f=>f(e),o=L(e),i=()=>c,c={tag:!0,inner:e,fold:(f,h)=>h(e),isValue:ee,isError:K,map:f=>fe.value(f(e)),mapError:i,bind:n,exists:n,forall:n,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:f=>{f(e)},toOptional:()=>w.some(e)};return c},ms=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:K,isError:ee,map:n,mapError:i=>fe.error(i(e)),bind:n,exists:K,forall:ee,getOr:A,or:A,getOrThunk:P,orThunk:P,getOrDie:H(String(e)),each:a,toOptional:w.none};return o},fe={value:ls,error:ms,fromOption:(e,n)=>e.fold(()=>ms(n),ls)},Z=typeof window<"u"?window:Function("return this;")(),ae=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},ye=()=>{const e=ae(),n=(o,i)=>{let c="";for(let f=o;f<=i;++f){const h=e[f].toString(16).padStart(2,"0");c+=h}return c};return`${n(0,3)}-${n(4,5)}-${n(6,7)}-${n(8,9)}-${n(10,15)}`},Ce=(e,n,o)=>Math.min(Math.max(e,n),o),ze=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Re=0;const J=e=>{const o=new Date().getTime(),i=Math.floor(ze()*1e9);return Re++,e+"_"+i+Re+String(o)},pe=()=>window.isSecureContext?window.crypto.randomUUID():ye(),me=(e,n)=>n,_e=(e,n)=>gs(e)&&gs(n)?ft(e,n):n,Ke=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<n.length;i++){const c=n[i];for(const f in c)vn(c,f)&&(o[f]=e(o[f],c[f]))}return o},ft=Ke(_e),gt=Ke(me),At=(e,n,o=O)=>e.exists(i=>o(i,n)),zt=(e,n,o=O)=>Tt(e,n,o).getOr(e.isNone()&&n.isNone()),kt=e=>{const n=[],o=i=>{n.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return n},Tt=(e,n,o)=>e.isSome()&&n.isSome()?w.some(o(e.getOrDie(),n.getOrDie())):w.none(),Mt=(e,n,o,i)=>e.isSome()&&n.isSome()&&o.isSome()?w.some(i(e.getOrDie(),n.getOrDie(),o.getOrDie())):w.none(),qt=(e,n)=>e?w.some(n):w.none(),Qt=(e,n)=>{let o=n??Z;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},on=(e,n)=>{const o=e.split(".");return Qt(o,n)};qo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _n=e=>{const n=[],o=[];return I(e,i=>{i.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Dn=e=>{const n=zn(w.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(w.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(w.some(_))}}},eo=e=>{const n=zn(w.none()),o=()=>n.get().each(_=>clearInterval(_));return{clear:()=>{o(),n.set(w.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(w.some(setInterval(_,e)))}}},hs=()=>{const e=Dn(a);return{...e,on:o=>e.get().each(o)}},Bs=(e,n)=>e.substring(n),fs=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Is=(e,n)=>Go(e,n)?Bs(e,n.length):e,bs=(e,n,o=0,i)=>{const c=e.indexOf(n,o);return c!==-1?Ls(i)?!0:c+n.length<=i:!1},Go=(e,n)=>fs(e,n,0),Do=(e,n)=>fs(e,n,e.length-n.length),zs=e=>n=>n.replace(e,""),As=zs(/^\s+|\s+$/g),Vs=zs(/^\s+/g),go=zs(/\s+$/g),bo=e=>e.length>0,io=e=>!bo(e),po=(e,n)=>n<=0?"":new Array(n+1).join(e),Tr=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?w.none():w.some(o)},vi=(e,n)=>{let o=null;return{cancel:()=>{ht(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{ht(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},Qn=(e,n)=>{let o=null;const i=()=>{ht(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...f)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},Ur=e=>{let n=!1,o;return(...i)=>(n||(n=!0,o=e.apply(null,i)),o)},wa="\uFEFF",Js=" ",ia="…",Ne=e=>e===wa,pt=e=>e.replace(/\uFEFF/g,""),St=e=>{const n={};return I(e,o=>{n[o]={}}),Rt(n)},Pt=e=>e.length!==void 0,Jt=Array.isArray,Vn=e=>{if(Jt(e))return e;{const n=[];for(let o=0,i=e.length;o<i;o++)n[o]=e[o];return n}},jn=(e,n,o)=>{if(!e)return!1;if(o=o||e,Pt(e)){for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(vn(e,i)&&n.call(o,e[i],i,e)===!1)return!1;return!0},vo=(e,n)=>{const o=[];return jn(e,(i,c)=>{o.push(n(i,c,e))}),o},mo=(e,n)=>{const o=[];return jn(e,(i,c)=>{(!n||n(i,c,e))&&o.push(i)}),o},Uo=(e,n)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===n)return o}return-1},cn=(e,n,o,i)=>{let c=Ls(o)?e[0]:o;for(let f=0;f<e.length;f++)c=n.call(i,c,e[f],f);return c},cs=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e))return i;return-1},ds=e=>e[e.length-1],Ue=(e,n,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),_=h||i("(pointer:coarse)"),S=c||!f&&h&&i("(min-device-width:768px)"),F=f||h&&!S,oe=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,he=!F&&!S&&!oe;return{isiPad:L(c),isiPhone:L(f),isTablet:L(S),isPhone:L(F),isTouch:L(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:L(oe),isDesktop:L(he)}},bt=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(n))return i}},Ht=(e,n)=>{const o=bt(e,n);if(!o)return{major:0,minor:0};const i=c=>Number(n.replace(o,"$"+c));return Wn(i(1),i(2))},ln=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?An():Ht(e,o)},An=()=>Wn(0,0),Wn=(e,n)=>({major:e,minor:n}),Yo={nu:Wn,detect:ln,unknown:An},Oo=(e,n)=>mt(n.brands,o=>{const i=o.brand.toLowerCase();return we(e,c=>{var f;return i===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(c=>({current:c.name,version:Yo.nu(parseInt(o.version,10),0)}))}),So=(e,n)=>{const o=String(n).toLowerCase();return we(e,i=>i.search(o))},Te=(e,n)=>So(e,n).map(o=>{const i=Yo.detect(o.versionRegexes,n);return{current:o.name,version:i}}),Ge=(e,n)=>So(e,n).map(o=>{const i=Yo.detect(o.versionRegexes,n);return{current:o.name,version:i}}),xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kt=e=>n=>bs(n,e),Cn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>bs(e,"edge/")&&bs(e,"chrome")&&bs(e,"safari")&&bs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xt],search:e=>bs(e,"chrome")&&!bs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>bs(e,"msie")||bs(e,"trident")},{name:"Opera",versionRegexes:[xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kt("firefox")},{name:"Safari",versionRegexes:[xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(bs(e,"safari")||bs(e,"mobile/"))&&bs(e,"applewebkit")}],Ko=[{name:"Windows",search:Kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>bs(e,"iphone")||bs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Kt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kt("linux"),versionRegexes:[]},{name:"Solaris",search:Kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Kt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ps={browsers:L(Cn),oses:L(Ko)},ir="Edge",Or="Chromium",Gr="IE",Rs="Opera",Sa="Firefox",Hi="Safari",ta=()=>Ta({current:void 0,version:Yo.unknown()}),Ta=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isEdge:i(ir),isChromium:i(Or),isIE:i(Gr),isOpera:i(Rs),isFirefox:i(Sa),isSafari:i(Hi)}},xi={unknown:ta,nu:Ta},la="Windows",Ji="iOS",zi="Android",ml="Linux",eu="macOS",l1="Solaris",Rg="FreeBSD",md="ChromeOS",Ui=()=>gh({current:void 0,version:Yo.unknown()}),gh=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isWindows:i(la),isiOS:i(Ji),isAndroid:i(zi),isMacOS:i(eu),isLinux:i(ml),isSolaris:i(l1),isFreeBSD:i(Rg),isChromeOS:i(md)}},C2={unknown:Ui,nu:gh},ql={detect:(e,n,o)=>{const i=ps.browsers(),c=ps.oses(),f=n.bind(S=>Oo(i,S)).orThunk(()=>Te(i,e)).fold(xi.unknown,xi.nu),h=Ge(c,e).fold(C2.unknown,C2.nu),_=Ue(h,f,e,o);return{browser:f,os:h,deviceType:_}}},_2=e=>window.matchMedia(e).matches;let E2=Ur(()=>ql.detect(window.navigator.userAgent,w.from(window.navigator.userAgentData),_2));const $c=()=>E2(),t5=(e,n)=>on(e,n),n5=(e,n)=>{const o=t5(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},o5=Object.getPrototypeOf,mh=e=>n5("HTMLElement",e),hh=e=>{const n=on("ownerDocument.defaultView",e);return Xn(e)&&(mh(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(o5(e).constructor.name))},Q6=window.navigator.userAgent,bh=$c(),hd=bh.browser,bd=bh.os,vd=bh.deviceType,s5=Q6.indexOf("Windows Phone")!==-1,fr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:hd.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!hd.isIE(),windowsPhone:s5,browser:{current:hd.current,version:hd.version,isChromium:hd.isChromium,isEdge:hd.isEdge,isFirefox:hd.isFirefox,isIE:hd.isIE,isOpera:hd.isOpera,isSafari:hd.isSafari},os:{current:bd.current,version:bd.version,isAndroid:bd.isAndroid,isChromeOS:bd.isChromeOS,isFreeBSD:bd.isFreeBSD,isiOS:bd.isiOS,isLinux:bd.isLinux,isMacOS:bd.isMacOS,isSolaris:bd.isSolaris,isWindows:bd.isWindows},deviceType:{isDesktop:vd.isDesktop,isiPad:vd.isiPad,isiPhone:vd.isiPhone,isPhone:vd.isPhone,isTablet:vd.isTablet,isTouch:vd.isTouch,isWebView:vd.isWebView}},w2=/^\s*|\s*$/g,S2=e=>us(e)?"":(""+e).replace(w2,""),vh=(e,n)=>n?n==="array"&&Jt(e)?!0:typeof e===n:e!==void 0,ga=(e,n,o={})=>{const i=lt(e)?e.split(n||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},J6=vn,xh=(e,...n)=>{for(let o=0;o<n.length;o++){const i=n[o];for(const c in i)if(vn(i,c)){const f=i[c];f!==void 0&&(e[c]=f)}}return e},r5=function(e,n,o,i){i=i||this,e&&(o&&(e=e[o]),jn(e,(c,f)=>n.call(i,c,f,o)===!1?!1:(r5(c,n,o,i),!0)))},Kn={trim:S2,isArray:Jt,is:vh,toArray:Vn,makeMap:ga,each:jn,map:vo,grep:mo,inArray:Uo,hasOwn:J6,extend:xh,walk:r5,resolve:(e,n=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(n=n[o[i]],!!n);i++);return n},explode:(e,n)=>Eo(e)?e:e===""?[]:vo(e.split(n||","),S2),_addCacheSuffix:e=>{const n=fr.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},a5=(e,n)=>{const i=(n||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return el(i.childNodes[0])},Nl=(e,n)=>{const i=(n||document).createElement(e);return el(i)},mp=(e,n)=>{const i=(n||document).createTextNode(e);return el(i)},el=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},yt={fromHtml:a5,fromTag:Nl,fromText:mp,fromDom:el,fromPoint:(e,n,o)=>w.from(e.dom.elementFromPoint(n,o)).map(el)},Bu=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},hl=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},tu=(e,n,o)=>{const i=e.document.createRange();return Bu(i,n),hl(i,o),i},Mg=(e,n,o,i,c)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(i.dom,c),f},Fu=qo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bl=(e,n,o)=>n(yt.fromDom(o.startContainer),o.startOffset,yt.fromDom(o.endContainer),o.endOffset),Rl=(e,n)=>n.match({domRange:o=>({ltr:L(o),rtl:w.none}),relative:(o,i)=>({ltr:Ur(()=>tu(e,o,i)),rtl:Ur(()=>w.some(tu(e,i,o)))}),exact:(o,i,c,f)=>({ltr:Ur(()=>Mg(e,o,i,c,f)),rtl:Ur(()=>w.some(Mg(e,c,f,o,i)))})}),yh=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Fu.rtl(yt.fromDom(c.endContainer),c.endOffset,yt.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>bl(e,Fu.ltr,o)):bl(e,Fu.ltr,o)},Ch=(e,n)=>{const o=Rl(e,n);return yh(e,o)};Fu.ltr,Fu.rtl;const Pu=8,Xl=9,_h=11,Ql=1,T2=3,Ml=(e,n)=>{const o=e.dom;if(o.nodeType!==Ql)return!1;{const i=o;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Eh=e=>e.nodeType!==Ql&&e.nodeType!==Xl&&e.nodeType!==_h||e.childElementCount===0,A2=(e,n)=>{const o=n===void 0?document:n.dom;return Eh(o)?[]:V(o.querySelectorAll(e),yt.fromDom)},Hc=(e,n)=>{const o=n===void 0?document:n.dom;return Eh(o)?w.none():w.from(o.querySelector(e)).map(yt.fromDom)},Ws=(e,n)=>e.dom===n.dom,vl=(e,n)=>{const o=e.dom,i=n.dom;return o===i?!1:o.contains(i)},_f=Ml,hp=(e,n)=>{const o=[],i=f=>(o.push(f),n(f));let c=n(e);do c=c.bind(i);while(c.isSome());return o},Fs=e=>e.dom.nodeName.toLowerCase(),Ig=e=>e.dom.nodeType,zc=e=>n=>Ig(n)===e,Ra=e=>Ig(e)===Pu||Fs(e)==="#comment",xl=e=>da(e)&&hh(e.dom),da=zc(Ql),Ha=zc(T2),ua=zc(Xl),l5=zc(_h),nu=e=>n=>da(n)&&Fs(n)===e,Vi=e=>yt.fromDom(e.dom.ownerDocument),yi=e=>ua(e)?e:Vi(e),Bg=e=>yt.fromDom(yi(e).dom.documentElement),fa=e=>yt.fromDom(yi(e).dom.defaultView),si=e=>w.from(e.dom.parentNode).map(yt.fromDom),$u=e=>w.from(e.dom.parentElement).map(yt.fromDom),Jl=(e,n)=>{const o=b(n)?n:K;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const f=i.parentNode,h=yt.fromDom(f);if(c.push(h),o(h)===!0)break;i=f}return c},yl=e=>{const n=o=>G(o,i=>!Ws(e,i));return si(e).map(hr).map(n).getOr([])},Qs=e=>w.from(e.dom.previousSibling).map(yt.fromDom),xd=e=>w.from(e.dom.nextSibling).map(yt.fromDom),Uc=e=>Me(hp(e,Qs)),ri=e=>hp(e,xd),hr=e=>V(e.dom.childNodes,yt.fromDom),fc=(e,n)=>{const o=e.dom.childNodes;return w.from(o[n]).map(yt.fromDom)},pc=e=>fc(e,0),Xa=e=>fc(e,e.dom.childNodes.length-1),za=e=>e.dom.childNodes.length,c1=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return yt.fromDom(n)},Fg=e=>l5(e)&&s(e.dom.host),ou=e=>yt.fromDom(e.dom.getRootNode()),tl=e=>Fg(e)?e:c1(yi(e)),c5=e=>Fg(e)?e:yt.fromDom(yi(e).dom.body),k2=e=>{const n=ou(e);return Fg(n)?w.some(n):w.none()},Ef=e=>yt.fromDom(e.dom.host),os=e=>{if(s(e.target)){const n=yt.fromDom(e.target);if(da(n)&&O2(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return $e(o)}}return w.from(e.target)},O2=e=>s(e.dom.shadowRoot),Ua=(e,n,o,i,c,f,h)=>({target:e,x:n,y:o,stop:i,prevent:c,kill:f,raw:h}),ai=e=>{const n=yt.fromDom(os(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=p(i,o);return Ua(n,e.clientX,e.clientY,o,i,c,e)},ii=(e,n)=>o=>{e(o)&&n(ai(o))},Kr=(e,n,o,i,c)=>{const f=ii(o,i);return e.dom.addEventListener(n,f,c),{unbind:z(Pg,e,n,f,c)}},Hu=(e,n,o,i)=>Kr(e,n,o,i,!1),Pg=(e,n,o,i)=>{e.dom.removeEventListener(n,o,i)},ec=ee,Vc=(e,n,o)=>Hu(e,n,ec,o),$g=()=>yt.fromDom(document),bp=(e,n=!1)=>e.dom.focus({preventScroll:n}),wh=e=>{const n=ou(e).dom;return e.dom===n.activeElement},Il=(e=$g())=>w.from(e.dom.activeElement).map(yt.fromDom),wf=e=>Il(ou(e)).filter(n=>e.dom.contains(n.dom)),Qa=(e,n)=>{si(e).each(i=>{i.dom.insertBefore(n.dom,e.dom)})},yd=(e,n)=>{xd(e).fold(()=>{si(e).each(c=>{Lr(c,n)})},i=>{Qa(i,n)})},su=(e,n)=>{pc(e).fold(()=>{Lr(e,n)},i=>{e.dom.insertBefore(n.dom,i.dom)})},Lr=(e,n)=>{e.dom.appendChild(n.dom)},nl=(e,n)=>{Qa(e,n),Lr(n,e)},gc=(e,n)=>{I(n,o=>{Qa(e,o)})},Sh=(e,n)=>{I(n,(o,i)=>{const c=i===0?e:n[i-1];yd(c,o)})},Bl=(e,n)=>{I(n,o=>{Lr(e,o)})},Hg=(e,n,o)=>{if(lt(o)||oo(o)||B(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Mo=(e,n,o)=>{Hg(e.dom,n,o)},Aa=(e,n)=>{const o=e.dom;Zt(n,(i,c)=>{Hg(o,c,i)})},Ja=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},pa=(e,n)=>w.from(Ja(e,n)),zu=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},er=(e,n)=>{e.dom.removeAttribute(n)},zg=e=>{const n=e.dom.attributes;return n==null||n.length===0},ru=e=>Le(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ps=e=>{e.dom.textContent="",I(hr(e),n=>{Ar(n)})},Ar=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Fl=e=>{const n=hr(e);n.length>0&&Sh(e,n),Ar(e)},d1=(e,n)=>yt.fromDom(e.dom.cloneNode(n)),Yr=e=>d1(e,!1),Di=e=>d1(e,!0),Uu=(e,n)=>{const o=yt.fromTag(n),i=ru(e);return Aa(o,i),o},au=(e,n)=>{const o=Uu(e,n);yd(e,o);const i=hr(e);return Bl(o,i),Ar(e),o},u1=(e,n)=>{const i=(n||document).createElement("div");return i.innerHTML=e,hr(yt.fromDom(i))},Pl=e=>V(e,yt.fromDom),Th=e=>e.dom.innerHTML,ei=(e,n)=>{const i=Vi(e).dom,c=yt.fromDom(i.createDocumentFragment()),f=u1(n,i);Bl(c,f),Ps(e),Lr(e,c)},f1=e=>{const n=yt.fromTag("div"),o=yt.fromDom(e.dom.cloneNode(!0));return Lr(n,o),Th(n)},vp=e=>e.style!==void 0&&b(e.style.getPropertyValue),Cd=e=>{const n=Ha(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return k2(yt.fromDom(n)).fold(()=>o.body.contains(n),M(Cd,Ef))},Dr=(e,n,o)=>{if(!lt(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);vp(e)&&e.style.setProperty(n,o)},L2=(e,n)=>{vp(e)&&e.style.removeProperty(n)},iu=(e,n,o)=>{const i=e.dom;Dr(i,n,o)},Ni=(e,n)=>{const o=e.dom;Zt(n,(i,c)=>{Dr(o,c,i)})},Va=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Cd(e)?Ri(o,n):c},Ri=(e,n)=>vp(e)?e.style.getPropertyValue(n):"",tc=(e,n)=>{const o=e.dom,i=Ri(o,n);return w.from(i).filter(c=>c.length>0)},Wa=e=>{const n={},o=e.dom;if(vp(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);n[c]=o.style[c]}return n},Sf=(e,n)=>{const o=e.dom;L2(o,n),At(pa(e,"style").map(As),"")&&er(e,"style")},d5=e=>e.dom.offsetWidth,u5=((e,n)=>{const o=(_,S)=>{if(!B(S)&&!S.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+S);const F=_.dom;vp(F)&&(F.style[e]=S+"px")},i=_=>{const S=n(_);if(S<=0||S===null){const F=Va(_,e);return parseFloat(F)||0}return S},c=i,f=(_,S)=>Le(S,(F,oe)=>{const he=Va(_,oe),Se=he===void 0?0:parseInt(he,10);return isNaN(Se)?F:F+Se},0);return{set:o,get:i,getOuter:c,aggregate:f,max:(_,S,F)=>{const oe=f(_,F);return S>oe?S-oe:0}}})("height",e=>{const n=e.dom;return Cd(e)?n.getBoundingClientRect().height:n.offsetHeight}),Wc=e=>u5.get(e),N2=(e,n)=>({left:e,top:n,translate:(i,c)=>N2(e+i,n+c)}),Tf=N2,p1=e=>{const n=e.getBoundingClientRect();return Tf(n.left,n.top)},xp=(e,n)=>e!==void 0?e:n!==void 0?n:0,Ah=e=>{const n=e.dom.ownerDocument,o=n.body,i=n.defaultView,c=n.documentElement;if(o===e.dom)return Tf(o.offsetLeft,o.offsetTop);const f=xp(i==null?void 0:i.pageYOffset,c.scrollTop),h=xp(i==null?void 0:i.pageXOffset,c.scrollLeft),_=xp(c.clientTop,o.clientTop),S=xp(c.clientLeft,o.clientLeft);return Af(e).translate(h-S,f-_)},Af=e=>{const n=e.dom,i=n.ownerDocument.body;return i===n?Tf(i.offsetLeft,i.offsetTop):Cd(e)?p1(n):Tf(0,0)},yp=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Tf(o,i)},R2=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},M2=(e,n)=>{$c().browser.isSafari()&&b(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Kc=(e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=f=>e(f)?w.from(f.dom.nodeValue):w.none();return{get:o,getOption:i,set:(f,h)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=h}}},Cp=(e,n)=>{const i=document.createDocumentFragment();return I(e,c=>{i.appendChild(c.dom)}),yt.fromDom(i)},g1=Kc(Ha,"text"),pr=e=>g1.get(e),nc=e=>g1.getOption(e),mc=(e,n)=>g1.set(e,n),kh=(e,n)=>{const o=Ja(e,n);return o===void 0||o===""?[]:o.split(" ")},m1=(e,n,o)=>{const c=kh(e,n).concat([o]);return Mo(e,n,c.join(" ")),!0},Oh=(e,n,o)=>{const i=G(kh(e,n),c=>c!==o);return i.length>0?Mo(e,n,i.join(" ")):er(e,n),!1};var Lh=(e,n,o,i,c)=>e(o,i)?w.some(o):b(c)&&c(o)?w.none():n(o,i,c);const Mi=(e,n,o)=>{let i=e.dom;const c=b(o)?o:K;for(;i.parentNode;){i=i.parentNode;const f=yt.fromDom(i);if(n(f))return w.some(f);if(c(f))break}return w.none()},_d=(e,n,o)=>Lh((c,f)=>f(c),Mi,e,n,o),na=(e,n)=>{const o=e.dom;return o.parentNode?I2(yt.fromDom(o.parentNode),i=>!Ws(e,i)&&n(i)):w.none()},I2=(e,n)=>{const o=c=>n(yt.fromDom(c));return we(e.dom.childNodes,o).map(yt.fromDom)},Vr=(e,n)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const f=yt.fromDom(i.childNodes[c]);if(n(f))return w.some(f);const h=o(i.childNodes[c]);if(h.isSome())return h}return w.none()};return o(e.dom)},Vu=(e,n,o)=>Mi(e,i=>Ml(i,n),o),Ma=(e,n)=>Hc(n,e),$l=(e,n,o)=>Lh((c,f)=>Ml(c,f),Vu,e,n,o),Cl=e=>e.dom.classList!==void 0,h1=e=>kh(e,"class"),Ug=(e,n)=>m1(e,"class",n),Dh=(e,n)=>Oh(e,"class",n),B2=(e,n)=>D(h1(e),n)?Dh(e,n):Ug(e,n),b1=(e,n)=>{Cl(e)?e.dom.classList.add(n):Ug(e,n)},jc=e=>{(Cl(e)?e.dom.classList:h1(e)).length===0&&er(e,"class")},Hl=(e,n)=>{Cl(e)?e.dom.classList.remove(n):Dh(e,n),jc(e)},ti=(e,n)=>{const o=Cl(e)?e.dom.classList.toggle(n):B2(e,n);return jc(e),o},Ia=(e,n)=>Cl(e)&&e.dom.classList.contains(n),F2=(e,n)=>{I(n,o=>{b1(e,o)})},_p=(e,n)=>{I(n,o=>{Hl(e,o)})},Vg=e=>$l(e,"[contenteditable]"),Ed=(e,n=!1)=>Cd(e)?e.dom.isContentEditable:Vg(e).fold(L(n),o=>Wg(o)==="true"),Wg=e=>e.dom.contentEditable,Nh=(e,n)=>{e.dom.contentEditable=n?"true":"false"},W=(e,n,o)=>G(Jl(e,o),n),te=(e,n)=>G(hr(e),n),Ie=(e,n)=>{let o=[];return I(hr(e),i=>{n(i)&&(o=o.concat([i])),o=o.concat(Ie(i,n))}),o},at=(e,n,o)=>W(e,i=>Ml(i,n),o),Nt=(e,n)=>A2(n,e),En=(e,n,o)=>Mi(e,n,o).isSome(),co=(e,n)=>na(e,n).isSome(),Fo=(e,n)=>Vr(e,n).isSome(),Ds=(e,n)=>En(e,z(Ws,n)),$s=(e,n,o)=>Vu(e,n,o).isSome(),Nr=e=>b(e)?e:K,qr=(e,n,o)=>{let i=e.dom;const c=Nr(o);for(;i.parentNode;){i=i.parentNode;const f=yt.fromDom(i),h=n(f);if(h.isSome())return h;if(c(f))break}return w.none()},ma=(e,n,o)=>{const i=n(e),c=Nr(o);return i.orThunk(()=>c(e)?w.none():qr(e,n,c))},zl=e=>nc(e).filter(n=>n.trim().length!==0||n.indexOf(Js)>-1).isSome(),lu=e=>xl(e)&&Ja(e,"contenteditable")==="false",cu=["img","br"],hc=e=>zl(e)||D(cu,Fs(e))||lu(e),Rh=e=>Vr(e,hc),v1={create:(e,n,o,i)=>({start:e,soffset:n,finish:o,foffset:i})},Wu=qo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Kg=(e,n,o,i)=>e.fold(n,o,i),jg=e=>e.fold(A,A,A),Zg=Wu.before,f5=Wu.on,p5=Wu.after,Ks={before:Zg,on:f5,after:p5,cata:Kg,getStart:jg},Xr=qo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ci=e=>Xr.exact(e.start,e.soffset,e.finish,e.foffset),_l=e=>e.match({domRange:n=>yt.fromDom(n.startContainer),relative:(n,o)=>Ks.getStart(n),exact:(n,o,i,c)=>n}),Gg=Xr.domRange,wp=Xr.relative,Yg=Xr.exact,qg=e=>{const n=_l(e);return fa(n)},t8=v1.create,bc={domRange:Gg,relative:wp,exact:Yg,exactFromRange:Ci,getWin:qg,range:t8},Mh=(e,n,o)=>{var i;return w.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return w.none();const f=e.createRange();return f.setStart(c.offsetNode,c.offset),f.collapse(),w.some(f)})},g5=(e,n,o)=>{var i;return w.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,n,o))},Vy=(e,n,o)=>e.caretPositionFromPoint?Mh(e,n,o):e.caretRangeFromPoint?g5(e,n,o):w.none(),Ka=(e,n,o)=>{const i=e.document;return Vy(i,n,o).map(c=>v1.create(yt.fromDom(c.startContainer),c.startOffset,yt.fromDom(c.endContainer),c.endOffset))},ha=(e,n)=>{const o=Fs(e);return o==="input"?Ks.after(e):D(["br","img"],o)?n===0?Ks.before(e):Ks.after(e):Ks.on(e,n)},x1=(e,n)=>{const o=e.fold(Ks.before,ha,Ks.after),i=n.fold(Ks.before,ha,Ks.after);return bc.relative(o,i)},Sp=(e,n,o,i)=>{const c=ha(e,n),f=ha(o,i);return bc.relative(c,f)},m5=e=>e.match({domRange:n=>{const o=yt.fromDom(n.startContainer),i=yt.fromDom(n.endContainer);return Sp(o,n.startOffset,i,n.endOffset)},relative:x1,exact:Sp}),ol=e=>{const n=bc.getWin(e).dom,o=(c,f,h,_)=>Mg(n,c,f,h,_),i=m5(e);return Ch(n,i).match({ltr:o,rtl:o})},h5=(e,n,o)=>Ka(e,n,o),y1=e=>{const n=e===void 0?window:e;return $c().browser.isFirefox()?w.none():w.from(n.visualViewport)},Ih=(e,n,o,i)=>({x:e,y:n,width:o,height:i,right:e+o,bottom:n+i}),Ul=e=>{const n=e===void 0?window:e,o=n.document,i=yp(yt.fromDom(o));return y1(n).fold(()=>{const c=n.document.documentElement,f=c.clientWidth,h=c.clientHeight;return Ih(i.left,i.top,f,h)},c=>Ih(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))};class ja{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,i,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let f=n[i];if(f)return f;for(let h=n.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[i],f)return f}}}findPreviousNode(n,o){if(n){const i=n.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let f=i.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return i}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const vc=/^[ \t\r\n]*$/,du=e=>vc.test(e),P2=e=>{for(const n of e)if(!Ne(n))return!1;return!0},Wy=e=>" \f	\v".indexOf(e)!==-1,b5=e=>e===`
`||e==="\r",v5=(e,n)=>n<e.length&&n>=0?b5(e[n]):!1,n8=(e,n=4,o=!0,i=!0)=>{const c=po(" ",n),f=e.replace(/\t/g,c);return Le(f,(_,S)=>Wy(S)||S===Js?_.pcIsSpace||_.str===""&&o||_.str.length===f.length-1&&i||v5(f,_.str.length+1)?{pcIsSpace:!1,str:_.str+Js}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:b5(S),str:_.str+S},{pcIsSpace:!1,str:""}).str},C1=e=>n=>!!n&&n.nodeType===e,Xg=e=>!!e&&!Object.getPrototypeOf(e),Vo=C1(1),uu=e=>Vo(e)&&xl(yt.fromDom(e)),Za=e=>Vo(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",wd=e=>{const n=e.toLowerCase();return o=>s(o)&&o.nodeName.toLowerCase()===n},fu=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return D(n,i)}return!1}},xc=(e,n)=>{const o=n.toLowerCase().split(" ");return i=>{if(Vo(i)){const c=i.ownerDocument.defaultView;if(c)for(let f=0;f<o.length;f++){const h=c.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[f])return!0}}return!1}},x5=e=>n=>Vo(n)&&n.hasAttribute(e),Tp=e=>Vo(e)&&e.hasAttribute("data-mce-bogus"),Ky=e=>Vo(e)&&e.getAttribute("data-mce-bogus")==="all",pu=e=>Vo(e)&&e.tagName==="TABLE",o8=e=>n=>!!(uu(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),kf=fu(["textarea","input"]),Gn=C1(3),gu=C1(4),y5=C1(7),Ku=C1(8),ka=C1(9),Ys=C1(11),Qr=wd("br"),Bh=wd("img"),s8=wd("a"),ni=o8("true"),Pr=o8("false"),Fh=e=>uu(e)&&e.isContentEditable&&s(e.parentElement)&&!e.parentElement.isContentEditable,Ph=fu(["td","th"]),Ap=fu(["td","th","caption"]),$2=wd("template"),Zc=fu(["video","audio","object","embed"]),r8=wd("li"),$h=wd("details"),a8=wd("summary"),H2={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},jy=(e,n,o)=>{const i=yt.fromDom(n),c=yt.fromDom(e),f=o.getWhitespaceElements();return En(c,_=>vn(f,Fs(_)),z(Ws,i))},Zy=e=>Vo(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),C5=(e,n)=>Vo(e)&&vn(n.getNonEmptyElements(),e.nodeName),i8=x5("data-mce-bookmark"),z2=e=>$u(yt.fromDom(e)).exists(n=>!Ed(n)),Gy=(e,n,o)=>du(e.data)&&!jy(e,n,o),Yy=(e,n,o,i)=>Gn(e)&&!Gy(e,n,o)&&(!i.includeZwsp||!P2(e.data)),Hh=(e,n,o,i)=>b(i.isContent)&&i.isContent(n)||C5(n,e)||i8(n)||Zy(n)||Yy(n,o,e,i)||Pr(n)||ni(n)&&z2(n),Of=(e,n,o)=>{const i={...H2,...o};if(i.checkRootAsContent&&Hh(e,n,n,i))return!1;let c=n.firstChild,f=0;if(!c)return!0;const h=new ja(c,n);do{if(i.skipBogus&&Vo(c)){const _=c.getAttribute("data-mce-bogus");if(_){c=h.next(_==="all");continue}}if(Ku(c)){c=h.next(!0);continue}if(Qr(c)){f++,c=h.next();continue}if(Hh(e,c,n,i))return!1;c=h.next()}while(c);return f<=1},li=(e,n,o)=>Of(e,n.dom,{checkRootAsContent:!0,...o}),qy=(e,n,o)=>Hh(e,n,n,{includeZwsp:H2.includeZwsp,...o}),yc=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},ts=e=>yc(e)!=="html",Gc=e=>ts(e.nodeName),Qg=e=>yc(e.nodeName),Xy=["svg","math"],Qy=()=>{const e=hs(),n=()=>e.get().map(Qg).getOr("html");return{track:c=>(Gc(c)?e.set(c):e.get().exists(f=>!f.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},kp="data-mce-block",l8=e=>G(Rt(e),n=>!/[A-Z]/.test(n)),Lf=e=>V(l8(e),n=>{const o=CSS.escape(n);return`${o}:`+V(Xy,i=>`not(${i} ${o})`).join(":")}).join(","),_5=(e,n)=>s(n.querySelector(e))?(n.setAttribute(kp,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(kp),!1),_1=(e,n)=>{const o=Lf(e.getTransparentElements()),i=Lf(e.getBlockElements());return G(n.querySelectorAll(o),c=>_5(i,c))},E5=(e,n,o)=>{var i;const c=o?"lastChild":"firstChild";for(let f=n[c];f;f=f[c])if(Of(e,f,{checkRootAsContent:!0})){(i=f.parentNode)===null||i===void 0||i.removeChild(f);return}},Jy=(e,n,o)=>{const i=document.createRange(),c=n.parentNode;if(c){i.setStartBefore(n),i.setEndBefore(o);const f=i.extractContents();E5(e,f,!0),i.setStartAfter(o),i.setEndAfter(n);const h=i.extractContents();E5(e,h,!1),Of(e,f,{checkRootAsContent:!0})||c.insertBefore(f,n),Of(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),Of(e,h,{checkRootAsContent:!0})||c.insertBefore(h,n),c.removeChild(n)}},ra=(e,n,o)=>{const i=e.getBlockElements(),c=yt.fromDom(n),f=_=>Fs(_)in i,h=_=>Ws(_,c);I(Pl(o),_=>{Mi(_,f,h).each(S=>{const F=te(_,oe=>f(oe)&&!e.isValidChild(Fs(S),Fs(oe)));if(F.length>0){const oe=$u(S);I(F,he=>{Mi(he,f,h).each(Se=>{Jy(e,Se.dom,he.dom)})}),oe.each(he=>_1(e,he.dom))}})})},Sd=(e,n,o)=>{I([...o,...ju(e,n)?[n]:[]],i=>I(Nt(yt.fromDom(i),i.nodeName.toLowerCase()),c=>{Bn(e,c.dom)&&Fl(c)}))},sl=(e,n)=>{const o=_1(e,n);ra(e,n,o),Sd(e,n,o)},Jg=(e,n)=>{if(Wi(e,n)){const o=Lf(e.getBlockElements());_5(o,n)}},El=(e,n,o)=>{const i=f=>Ws(f,yt.fromDom(n)),c=Jl(yt.fromDom(o),i);Xe(c,c.length-2).filter(da).fold(()=>sl(e,n),f=>sl(e,f.dom))},Df=e=>e.hasAttribute(kp),ci=(e,n)=>vn(e.getTransparentElements(),n),Wi=(e,n)=>Vo(n)&&ci(e,n.nodeName),ju=(e,n)=>Wi(e,n)&&Df(n),Bn=(e,n)=>Wi(e,n)&&!Df(n),Vl=(e,n)=>n.type===1&&ci(e,n.name)&&lt(n.attr(kp)),w5=$c().browser,Ga=e=>we(e,da),Td=e=>w5.isFirefox()&&Fs(e)==="table"?Ga(hr(e)).filter(n=>Fs(n)==="caption").bind(n=>Ga(ri(n)).map(o=>{const i=o.dom.offsetTop,c=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=c?-f:0})).getOr(0):0,Cc=(e,n)=>e.children&&D(e.children,n),eC=(e,n,o)=>{let i=0,c=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Va(yt.fromDom(e),"position")==="static"){const _=n.getBoundingClientRect();return i=_.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=_.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:c}}let h=n;for(;h&&h!==o&&h.nodeType&&!Cc(h,o);){const _=h;i+=_.offsetLeft||0,c+=_.offsetTop||0,h=_.offsetParent}for(h=n.parentNode;h&&h!==o&&h.nodeType&&!Cc(h,o);)i-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode;c+=Td(yt.fromDom(n))}return{x:i,y:c}},Nf=(e,n)=>{const o=n.crossOrigin;return n.contentCssCors?"anonymous":b(o)?o(e):void 0},S5=(e,n={})=>{let o=0;const i={},c=yt.fromDom(e),f=yi(c),h=Bt=>{n.referrerPolicy=Bt},_=Bt=>{n.contentCssCors=Bt},S=Bt=>{n.crossOrigin=Bt},F=Bt=>{Lr(tl(c),Bt)},oe=Bt=>{const Yt=tl(c);Ma(Yt,"#"+Bt).each(Ar)},he=Bt=>Mn(i,Bt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Se=Bt=>new Promise((Yt,rn)=>{let Sn;const so=Kn._addCacheSuffix(Bt),Un=he(so);i[so]=Un,Un.count++;const gn=(Ms,To)=>{I(Ms,j),Un.status=To,Un.passed=[],Un.failed=[],Sn&&(Sn.onload=null,Sn.onerror=null,Sn=null)},mn=()=>gn(Un.passed,2),Rn=()=>gn(Un.failed,3);if(Yt&&Un.passed.push(Yt),rn&&Un.failed.push(rn),Un.status===1)return;if(Un.status===2){mn();return}if(Un.status===3){Rn();return}Un.status=1;const Lo=yt.fromTag("link",f.dom);Aa(Lo,{rel:"stylesheet",type:"text/css",id:Un.id});const Qo=Nf(Bt,n);Qo!==void 0&&Mo(Lo,"crossOrigin",Qo),n.referrerPolicy&&Mo(Lo,"referrerpolicy",n.referrerPolicy),Sn=Lo.dom,Sn.onload=mn,Sn.onerror=Rn,F(Lo),Mo(Lo,"href",so)}),Be=(Bt,Yt)=>{const rn=he(Bt);i[Bt]=rn,rn.count++;const Sn=yt.fromTag("style",f.dom);Aa(Sn,{rel:"stylesheet",type:"text/css",id:rn.id,"data-mce-key":Bt}),Sn.dom.innerHTML=Yt,F(Sn)},it=Bt=>Promise.allSettled(V(Bt,rn=>Se(rn).then(L(rn)))).then(rn=>{const Sn=ne(rn,so=>so.status==="fulfilled");return Sn.fail.length>0?Promise.reject(V(Sn.fail,so=>so.reason)):V(Sn.pass,so=>so.value)}),rt=Bt=>{const Yt=Kn._addCacheSuffix(Bt);Mn(i,Yt).each(rn=>{--rn.count===0&&(delete i[Yt],oe(rn.id))})};return{load:Se,loadRawCss:Be,loadAll:it,unload:rt,unloadRawCss:Bt=>{Mn(i,Bt).each(Yt=>{--Yt.count===0&&(delete i[Bt],oe(Yt.id))})},unloadAll:Bt=>{I(Bt,Yt=>{rt(Yt)})},_setReferrerPolicy:h,_setContentCssCors:_,_setCrossOrigin:S}},xr=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const f=ou(o).dom;return w.from(e.get(f)).getOrThunk(()=>{const h=S5(f,i);return e.set(f,h),h})}}})(),mu=e=>e.nodeName.toLowerCase()==="span",em=(e,n)=>s(e)&&(qy(n,e)||n.isInline(e.nodeName.toLowerCase())),xa=(e,n,o)=>{const i=new ja(e,n).prev(!1),c=new ja(e,n).next(!1),f=Ls(i)||em(i,o),h=Ls(c)||em(c,o);return f&&h},T5=e=>mu(e)&&e.getAttribute("data-mce-type")==="bookmark",A5=(e,n,o)=>Gn(e)&&e.data.length>0&&xa(e,n,o),hu=e=>Vo(e)?e.childNodes.length>0:!1,k5=e=>Ys(e)||ka(e),wl=(e,n,o,i)=>{var c;const f=i||n;if(Vo(n)&&T5(n))return n;const h=n.childNodes;for(let _=h.length-1;_>=0;_--)wl(e,h[_],o,f);if(Vo(n)){const _=n.childNodes;_.length===1&&T5(_[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(_[0],n))}return!k5(n)&&!qy(o,n)&&!hu(n)&&!A5(n,f,o)&&e.remove(n),n},tC=Kn.makeMap,tn=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O5=/[<>&\"\']/g,aa=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ec={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Oa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},$r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},c8=e=>{const n=yt.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Rf=(e,n)=>{const o={};if(e){const i=e.split(",");n=n||10;for(let c=0;c<i.length;c+=2){const f=String.fromCharCode(parseInt(i[c],n));if(!Oa[f]){const h="&"+i[c+1]+";";o[f]=h,o[h]=f}}return o}else return},U2=Rf("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Op=(e,n)=>e.replace(n?tn:Sl,o=>Oa[o]||o),zh=e=>(""+e).replace(O5,n=>Oa[n]||n),L5=(e,n)=>e.replace(n?tn:Sl,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Oa[o]||"&#"+o.charCodeAt(0)+";"),D5=(e,n,o)=>{const i=o||U2;return e.replace(n?tn:Sl,c=>Oa[c]||i[c]||c)},Lp={encodeRaw:Op,encodeAllRaw:zh,encodeNumeric:L5,encodeNamed:D5,getEncodeFunc:(e,n)=>{const o=Rf(n)||U2,i=(h,_)=>h.replace(_?tn:Sl,S=>Oa[S]!==void 0?Oa[S]:o[S]!==void 0?o[S]:S.length>1?"&#"+((S.charCodeAt(0)-55296)*1024+(S.charCodeAt(1)-56320)+65536)+";":"&#"+S.charCodeAt(0)+";"),c=(h,_)=>D5(h,_,o),f=tC(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?c:D5:f.numeric?L5:Op},decode:e=>e.replace(aa,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Ec[o]||String.fromCharCode(o)):$r[n]||U2[n]||c8(n))},Ki=(e,n)=>(e=Kn.trim(e),e?e.split(n||" "):[]),N5=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Ii=e=>Xn(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Mf=e=>{const n=o=>Eo(o)?V(o,n):Ii(o)?new RegExp(o.source,o.flags):Xn(o)?kn(o,n):o;return n(e)},If=e=>{const n=/^(~)?(.+)$/;return nt(Ki(e,","),o=>{const i=n.exec(o);if(i){const f=i[1]==="~"?"span":"div",h=i[2];return[{cloneName:f,name:h}]}else return[]})},E1=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),nm=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:i}},rl=e=>{const{blockContent:n,phrasingContent:o,flowContent:i}=nm(e),c=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(i)})},om={html4:Ur(()=>rl("html4")),html5:Ur(()=>rl("html5")),"html5-strict":Ur(()=>rl("html5-strict"))},Ya=(e,n)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=om[e]();return n==="blocks"?w.some(o):n==="phrasing"?w.some(i):n==="flow"?w.some(c):w.none()},R5=e=>{const n=E1(e),{phrasingContent:o,flowContent:i}=nm(e),c={},f=(S,F,oe)=>{c[S]={attributes:Ve(F,L({})),attributesOrder:F,children:Ve(oe,L({}))}},h=(S,F="",oe="")=>{const he=Ki(oe),Se=Ki(S);let Be=Se.length;const it=[...n,...Ki(F)];for(;Be--;)f(Se[Be],it.slice(),he)},_=(S,F)=>{const oe=Ki(S),he=Ki(F);let Se=oe.length;for(;Se--;){const Be=c[oe[Se]];for(let it=0,rt=he.length;it<rt;it++)Be.attributes[he[it]]={},Be.attributesOrder.push(he[it])}};return e!=="html5-strict"&&(I(Ki("acronym applet basefont big font strike tt"),oe=>{h(oe,"",o)}),I(Ki("center dir isindex noframes"),oe=>{h(oe,"",i)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),h("dd div","",i),h("address dt caption","",e==="html4"?o:i),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",i),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",i),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:i),h("q","cite",o),h("ins del","cite datetime",i),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",i),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),h("param","name value"),h("map","name",[i,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",i),h("th","colspan rowspan headers scope abbr",i),h("form","accept-charset action autocomplete enctype method name novalidate target",i),h("fieldset","disabled form name",[i,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[i,"li"].join(" ")),h("noscript","",i),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",i),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",i),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",i),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[i,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",i),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[i,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&I([c.video,c.audio],S=>{delete S.children.audio,delete S.children.video}),I(Ki("a form meter progress dfn"),S=>{c[S]&&delete c[S].children[S]}),delete c.caption.children.table,delete c.script,c},Ad=e=>e==="-"?"remove":"add",wc=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return w.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},d8=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return nt(Ki(e,","),o=>{const i=n.exec(o);if(i){const c=i[1],f=c?Ad(c):"replace",h=i[2],_=nt(Ki(i[3],"|"),S=>wc(S).toArray());return[{operation:f,name:h,validChildren:_}]}else return[]})},di=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:f}=n;return I(Ki(e,"|"),h=>{const _=o.exec(h);if(_){const S={},F=_[1],oe=_[2].replace(/[\\:]:/g,":"),he=_[3],Se=_[4];if(F==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(oe),S.required=!0),F==="-"){delete c[oe],f.splice(Kn.inArray(f,oe),1);return}if(he&&(he==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:oe,value:Se}),S.defaultValue=Se):he==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:oe,value:Se}),S.forcedValue=Se):he==="<"&&(S.validValues=Kn.makeMap(Se,"?"))),i.test(oe)){const Be=S;n.attributePatterns=n.attributePatterns||[],Be.pattern=N5(oe),n.attributePatterns.push(Be)}else c[oe]||f.push(oe),c[oe]=S}})},sm=(e,n)=>{Zt(e.attributes,(o,i)=>{n.attributes[i]=o}),n.attributesOrder.push(...e.attributesOrder)},Bf=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return nt(Ki(n,","),i=>{const c=o.exec(i);if(c){const f=c[1],h=c[2],_=c[3],S=c[4],F=c[5],oe={attributes:{},attributesOrder:[]};if(e.each(he=>sm(he,oe)),f==="#"?oe.paddEmpty=!0:f==="-"&&(oe.removeEmpty=!0),S==="!"&&(oe.removeEmptyAttrs=!0),F&&di(F,oe),_&&(oe.outputName=h),h==="@")if(e.isNone())e=w.some(oe);else return[];return[_?{name:h,element:oe,aliasName:_}:{name:h,element:oe}]}else return[]})},Zu={},bu=Kn.makeMap,vu=Kn.each,Vh=Kn.extend,Dp=Kn.explode,u8=(e,n={})=>{const o=bu(e," ",bu(e.toUpperCase()," "));return Vh(o,n)},ya=e=>u8("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),M5=(e,n)=>{if(e){const o={};return lt(e)&&(e={"*":e}),vu(e,(i,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?bu(i,/[, ]/):Dp(i,/[, ]/)}),o}else return},oc=(e={})=>{var n;const o={},i={};let c=[];const f={},h={},_=(as,ur,Pa)=>{const Pi=e[as];if(Pi)return bu(Pi,/[, ]/,bu(Pi.toUpperCase(),/[, ]/));{let Xi=Zu[as];return Xi||(Xi=u8(ur,Pa),Zu[as]=Xi),Xi}},S=(n=e.schema)!==null&&n!==void 0?n:"html5",F=R5(S);e.verify_html===!1&&(e.valid_elements="*[*]");const oe=M5(e.valid_styles),he=M5(e.invalid_styles,"map"),Se=M5(e.valid_classes,"map"),Be=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),it=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),rt=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),st=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Vt="td th iframe video audio object script code",Bt=_("non_empty_elements",Vt+" pre svg textarea summary",rt),Yt=_("move_caret_before_on_enter_elements",Vt+" table",rt),rn="h1 h2 h3 h4 h5 h6",Sn=_("text_block_elements",rn+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),so=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Sn),Un=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),gn=_("transparent_elements","a ins del canvas map"),mn=_("wrap_block_elements","pre "+rn);vu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),as=>{h[as]=new RegExp("</"+as+"[^>]*>","gi")});const Rn=as=>{const ur=w.from(o["@"]),Pa=/[*?+]/;I(Bf(ur,as??""),({name:Pi,element:Xi,aliasName:Oi})=>{if(Oi&&(o[Oi]=Xi),Pa.test(Pi)){const _a=Xi;_a.pattern=N5(Pi),c.push(_a)}else o[Pi]=Xi})},Lo=as=>{c=[],I(Rt(o),ur=>{delete o[ur]}),Rn(as)},Qo=(as,ur)=>{var Pa,Pi;delete Zu.text_block_elements,delete Zu.block_elements;const Xi=ur.extends?!Pc(ur.extends):!1,Oi=ur.extends;if(i[as]=Oi?i[Oi]:{},f[as]=Oi??as,Bt[as.toUpperCase()]={},Bt[as]={},Xi||(so[as.toUpperCase()]={},so[as]={}),Oi&&!o[as]&&o[Oi]){const _a=Mf(o[Oi]);delete _a.removeEmptyAttrs,delete _a.removeEmpty,o[as]=_a}else o[as]={attributesOrder:[],attributes:{}};if(Eo(ur.attributes)){const _a=gd=>{Ea.attributesOrder.push(gd),Ea.attributes[gd]={}},Ea=(Pa=o[as])!==null&&Pa!==void 0?Pa:{};delete Ea.attributesDefault,delete Ea.attributesForced,delete Ea.attributePatterns,delete Ea.attributesRequired,Ea.attributesOrder=[],Ea.attributes={},I(ur.attributes,gd=>{const up=E1(S);wc(gd).each(({preset:uh,name:kg})=>{uh?kg==="global"&&I(up,_a):_a(kg)})}),o[as]=Ea}if(oo(ur.padEmpty)){const _a=(Pi=o[as])!==null&&Pi!==void 0?Pi:{};_a.paddEmpty=ur.padEmpty,o[as]=_a}if(Eo(ur.children)){const _a={},Ea=up=>{_a[up]={}},gd=up=>{Ya(S,up).each(uh=>{I(uh,Ea)})};I(ur.children,up=>{wc(up).each(({preset:uh,name:kg})=>{uh?gd(kg):Ea(kg)})}),i[as]=_a}Oi&&Zt(i,(_a,Ea)=>{_a[Oi]&&(i[Ea]=_a=Vh({},i[Ea]),_a[as]=_a[Oi])})},Ms=as=>{I(If(as??""),({name:ur,cloneName:Pa})=>{Qo(ur,{extends:Pa})})},To=as=>{Xn(as)?Zt(as,(ur,Pa)=>Qo(Pa,ur)):lt(as)&&Ms(as)},Gt=as=>{I(d8(as??""),({operation:ur,name:Pa,validChildren:Pi})=>{const Xi=ur==="replace"?{"#comment":{}}:i[Pa],Oi=Ea=>{ur==="remove"?delete Xi[Ea]:Xi[Ea]={}},_a=Ea=>{Ya(S,Ea).each(gd=>{I(gd,Oi)})};I(Pi,({preset:Ea,name:gd})=>{Ea?_a(gd):Oi(gd)}),i[Pa]=Xi})},lo=as=>{const ur=o[as];if(ur)return ur;let Pa=c.length;for(;Pa--;){const Pi=c[Pa];if(Pi.pattern.test(as))return Pi}},rs=()=>{e.valid_elements?(Lo(e.valid_elements),vu(F,(as,ur)=>{i[ur]=as.children})):(vu(F,(as,ur)=>{o[ur]={attributes:as.attributes,attributesOrder:as.attributesOrder},i[ur]=as.children}),vu(Ki("strong/b em/i"),as=>{const ur=Ki(as,"/");o[ur[1]].outputName=ur[0]}),vu(Un,(as,ur)=>{o[ur]&&(e.padd_empty_block_inline_children&&(o[ur].paddInEmptyBlock=!0),o[ur].removeEmpty=!0)}),vu(Ki("ol ul blockquote a table tbody"),as=>{o[as]&&(o[as].removeEmpty=!0)}),vu(Ki("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),as=>{o[as]&&(o[as].paddEmpty=!0)}),vu(Ki("span"),as=>{o[as].removeEmptyAttrs=!0})),delete o.svg,To(e.custom_elements),Gt(e.valid_children),Rn(e.extended_valid_elements),Gt("+ol[ul|ol],+ul[ul|ol]"),vu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(as,ur)=>{o[ur]&&(o[ur].parentsRequired=Ki(as))}),e.invalid_elements&&vu(Dp(e.invalid_elements),as=>{o[as]&&delete o[as]}),lo("span")||Rn("span[!data-mce-type|*]")},dr=L(oe),va=L(he),Zn=L(Se),Ro=L(st),Xs=L(so),rr=L(Sn),Bo=L(Un),Pn=L(Object.seal(rt)),ho=L(it),vs=L(Bt),Ts=L(Yt),vr=L(Be),sa=L(gn),Mu=L(mn),fd=L(Object.seal(h)),a1=(as,ur)=>{const Pa=i[as.toLowerCase()];return!!(Pa&&Pa[ur.toLowerCase()])},bf=(as,ur)=>{const Pa=lo(as);if(Pa)if(ur){if(Pa.attributes[ur])return!0;const Pi=Pa.attributePatterns;if(Pi){let Xi=Pi.length;for(;Xi--;)if(Pi[Xi].pattern.test(ur))return!0}}else return!0;return!1},Pc=as=>vn(Xs(),as),pd=as=>!Go(as,"#")&&bf(as)&&!Pc(as),i1=as=>vn(Mu(),as)||pd(as),Z4=L(f);return rs(),{type:S,children:i,elements:o,getValidStyles:dr,getValidClasses:Zn,getBlockElements:Xs,getInvalidStyles:va,getVoidElements:Pn,getTextBlockElements:rr,getTextInlineElements:Bo,getBoolAttrs:Ro,getElementRule:lo,getSelfClosingElements:ho,getNonEmptyElements:vs,getMoveCaretBeforeOnEnterElements:Ts,getWhitespaceElements:vr,getTransparentElements:sa,getSpecialElements:fd,isValidChild:a1,isValid:bf,isBlock:Pc,isInline:pd,isWrapper:i1,getCustomElements:Z4,addValidElements:Rn,setValidElements:Lo,addCustomElements:To,addValidChildren:Gt}},Wh=e=>({value:I5(e)}),I5=e=>Is(e,"#").toUpperCase(),Ff=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Yc=e=>{const n=Ff(e.red)+Ff(e.green)+Ff(e.blue);return Wh(n)},w1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Np=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,f8=(e,n,o,i)=>({red:e,green:n,blue:o,alpha:i}),Kh=(e,n,o,i)=>{const c=parseInt(e,10),f=parseInt(n,10),h=parseInt(o,10),_=parseFloat(i);return f8(c,f,h,_)},B5=e=>w1.test(e)?"rgb":Np.test(e)?"rgba":"other",jh=e=>{const n=w1.exec(e);if(n!==null)return w.some(Kh(n[1],n[2],n[3],"1"));const o=Np.exec(e);return o!==null?w.some(Kh(o[1],o[2],o[3],o[4])):w.none()},p8=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,rm=e=>jh(e).map(Yc).map(n=>"#"+n.value).getOr(e),Zh=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,f={};let h,_;const S=wa;n&&(h=n.getValidStyles(),_=n.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+S).split(" ");for(let he=0;he<F.length;he++)f[F[he]]=S+he,f[S+he]=F[he];const oe={parse:he=>{const Se={};let Be=!1;const it=e.url_converter,rt=e.url_converter_scope||oe,st=(gn,mn,Rn)=>{const Lo=Se[gn+"-top"+mn];if(!Lo)return;const Qo=Se[gn+"-right"+mn];if(!Qo)return;const Ms=Se[gn+"-bottom"+mn];if(!Ms)return;const To=Se[gn+"-left"+mn];if(!To)return;const Gt=[Lo,Qo,Ms,To];let lo=Gt.length-1;for(;lo--&&Gt[lo]===Gt[lo+1];);lo>-1&&Rn||(Se[gn+mn]=lo===-1?Gt[0]:Gt.join(" "),delete Se[gn+"-top"+mn],delete Se[gn+"-right"+mn],delete Se[gn+"-bottom"+mn],delete Se[gn+"-left"+mn])},Vt=gn=>{const mn=Se[gn];if(!mn)return;const Rn=mn.indexOf(",")>-1?[mn]:mn.split(" ");let Lo=Rn.length;for(;Lo--;)if(Rn[Lo]!==Rn[0])return!1;return Se[gn]=Rn[0],!0},Bt=(gn,mn,Rn,Lo)=>{Vt(mn)&&Vt(Rn)&&Vt(Lo)&&(Se[gn]=Se[mn]+" "+Se[Rn]+" "+Se[Lo],delete Se[mn],delete Se[Rn],delete Se[Lo])},Yt=gn=>(Be=!0,f[gn]),rn=(gn,mn)=>(Be&&(gn=gn.replace(/\uFEFF[0-9]/g,Rn=>f[Rn])),mn||(gn=gn.replace(/\\([\'\";:])/g,"$1")),gn),Sn=gn=>String.fromCharCode(parseInt(gn.slice(1),16)),so=gn=>gn.replace(/\\[0-9a-f]+/gi,Sn),Un=(gn,mn,Rn,Lo,Qo,Ms)=>{if(Qo=Qo||Ms,Qo)return Qo=rn(Qo),"'"+Qo.replace(/\'/g,"\\'")+"'";if(mn=rn(mn||Rn||Lo||""),!e.allow_script_urls){const To=mn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(To)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(To))return""}return it&&(mn=it.call(rt,mn,"style")),"url('"+mn.replace(/\'/g,"\\'")+"')"};if(he){he=he.replace(/[\u0000-\u001F]/g,""),he=he.replace(/\\[\"\';:\uFEFF]/g,Yt).replace(/\"[^\"]+\"|\'[^\']+\'/g,mn=>mn.replace(/[;:]/g,Yt));let gn;for(;gn=i.exec(he);){i.lastIndex=gn.index+gn[0].length;let mn=gn[1].replace(c,"").toLowerCase(),Rn=gn[2].replace(c,"");if(mn&&Rn){if(mn=so(mn),Rn=so(Rn),mn.indexOf(S)!==-1||mn.indexOf('"')!==-1||!e.allow_script_urls&&(mn==="behavior"||/expression\s*\(|\/\*|\*\//.test(Rn)))continue;mn==="font-weight"&&Rn==="700"?Rn="bold":(mn==="color"||mn==="background-color")&&(Rn=Rn.toLowerCase()),B5(Rn)==="rgb"&&jh(Rn).each(Lo=>{Rn=rm(p8(Lo)).toLowerCase()}),Rn=Rn.replace(o,Un),Se[mn]=Be?rn(Rn,!0):Rn}}st("border","",!0),st("border","-width"),st("border","-color"),st("border","-style"),st("padding",""),st("margin",""),Bt("border","border-width","border-style","border-color"),Se.border==="medium none"&&delete Se.border,Se["border-image"]==="none"&&delete Se["border-image"]}return Se},serialize:(he,Se)=>{let Be="";const it=(st,Vt)=>{const Bt=Vt[st];if(Bt)for(let Yt=0,rn=Bt.length;Yt<rn;Yt++){const Sn=Bt[Yt],so=he[Sn];so&&(Be+=(Be.length>0?" ":"")+Sn+": "+so+";")}},rt=(st,Vt)=>{if(!_||!Vt)return!0;let Bt=_["*"];return Bt&&Bt[st]?!1:(Bt=_[Vt],!(Bt&&Bt[st]))};return Se&&h?(it("*",h),it(Se,h)):Zt(he,(st,Vt)=>{st&&rt(Vt,Se)&&(Be+=(Be.length>0?" ":"")+Vt+": "+st+";")}),Be}};return oe},Gh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},xu=e=>e instanceof Event||b(e.initEvent),Pf=e=>e.isDefaultPrevented===ee||e.isDefaultPrevented===K,Rp=e=>us(e.preventDefault)||xu(e),F5=(e,n)=>{const o=n??{};for(const i in e)vn(Gh,i)||(o[i]=e[i]);return s(e.composedPath)&&(o.composedPath=()=>e.composedPath()),s(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),s(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},am=(e,n,o,i)=>{var c;const f=F5(n,i);return f.type=e,us(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:o),Rp(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=ee,b(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=ee,b(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=ee,f.stopPropagation()},Pf(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?ee:K,f.isPropagationStopped=f.cancelBubble===!0?ee:K,f.isImmediatePropagationStopped=K)),f},P5="mce-data-",g8=/^(?:mouse|contextmenu)|click/,V2=(e,n,o,i)=>{e.addEventListener(n,o,i||!1)},Yh=(e,n,o,i)=>{e.removeEventListener(n,o,i||!1)},W2=e=>s(e)&&g8.test(e.type),S1=(e,n)=>{const o=am(e.type,e,document,n);if(W2(e)&&Ls(e.pageX)&&!Ls(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,f=i.body,h=o;h.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return o},$f=(e,n,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const f=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,h=()=>{Yh(e,"DOMContentLoaded",h),Yh(e,"load",h),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};f()?h():V2(e,"DOMContentLoaded",h),o.domLoaded||V2(e,"load",h)};class T1{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=P5+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,i,c){const f=this;let h;const _=window,S=Se=>{f.executeHandlers(S1(Se||_.event),F)};if(!n||Gn(n)||Ku(n))return i;let F;n[f.expando]?F=n[f.expando]:(F=f.count++,n[f.expando]=F,f.events[F]={}),c=c||n;const oe=o.split(" ");let he=oe.length;for(;he--;){let Se=oe[he],Be=S,it=!1,rt=!1;if(Se==="DOMContentLoaded"&&(Se="ready"),f.domLoaded&&Se==="ready"&&n.readyState==="complete"){i.call(c,S1({type:Se}));continue}!f.hasFocusIn&&(Se==="focusin"||Se==="focusout")&&(it=!0,rt=Se==="focusin"?"focus":"blur",Be=st=>{const Vt=S1(st||_.event);Vt.type=Vt.type==="focus"?"focusin":"focusout",f.executeHandlers(Vt,F)}),h=f.events[F][Se],h?Se==="ready"&&f.domLoaded?i(S1({type:Se})):h.push({func:i,scope:c}):(f.events[F][Se]=h=[{func:i,scope:c}],h.fakeName=rt,h.capture=it,h.nativeHandler=Be,Se==="ready"?$f(n,Be,f):V2(n,rt||Se,Be,it))}return n=h=null,i}unbind(n,o,i){if(!n||Gn(n)||Ku(n))return this;const c=n[this.expando];if(c){let f=this.events[c];if(o){const h=o.split(" ");let _=h.length;for(;_--;){const S=h[_],F=f[S];if(F){if(i){let oe=F.length;for(;oe--;)if(F[oe].func===i){const he=F.nativeHandler,Se=F.fakeName,Be=F.capture,it=F.slice(0,oe).concat(F.slice(oe+1));it.nativeHandler=he,it.fakeName=Se,it.capture=Be,f[S]=it}}(!i||F.length===0)&&(delete f[S],Yh(n,F.fakeName||S,F.nativeHandler,F.capture))}}}else Zt(f,(h,_)=>{Yh(n,h.fakeName||_,h.nativeHandler,h.capture)}),f={};for(const h in f)if(vn(f,h))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,i){return this.dispatch(n,o,i)}dispatch(n,o,i){if(!n||Gn(n)||Ku(n))return this;const c=S1({type:o,target:n},i);do{const f=n[this.expando];f&&this.executeHandlers(c,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||Gn(n)||Ku(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let i=o.length;for(;i--;)n=o[i],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const i=this.events[o],c=i&&i[n.type];if(c)for(let f=0,h=c.length;f<h;f++){const _=c[f];if(_&&_.func.call(_.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}T1.Event=new T1;const A1=Kn.each,$5=Kn.grep,K2="data-mce-style",FA=Kn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),ji=(e,n,o)=>{us(o)||o===""?er(e,n):Mo(e,n,o)},m8=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),im=(e,n)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const f=c.nodeType;n&&Gn(c)&&(f===i||!c.data.length)||(o++,i=f)}return o},j2=(e,n)=>{const o=Ja(n,"style"),i=e.serialize(e.parse(o),Fs(n));ji(n,K2,i)},PA=(e,n)=>B(e)?vn(FA,n)?e+"":e+"px":e,h8=(e,n,o)=>{const i=m8(n);us(o)||o===""?Sf(e,i):iu(e,i,PA(o,i))},b8=(e,n,o)=>{const i=n.keep_values,c={set:(h,_,S)=>{const F=yt.fromDom(h);b(n.url_converter)&&s(_)&&(_=n.url_converter.call(n.url_converter_scope||o(),String(_),S,h));const oe="data-mce-"+S;ji(F,oe,_),ji(F,S,_)},get:(h,_)=>{const S=yt.fromDom(h);return Ja(S,"data-mce-"+_)||Ja(S,_)}},f={style:{set:(h,_)=>{const S=yt.fromDom(h);i&&ji(S,K2,_),er(S,"style"),lt(_)&&Ni(S,e.parse(_))},get:h=>{const _=yt.fromDom(h),S=Ja(_,K2)||Ja(_,"style");return e.serialize(e.parse(S),Fs(_))}}};return i&&(f.href=f.src=c),f},kr=(e,n={})=>{const o={},i=window,c={};let f=0;const h=!0,_=!0,S=xr.forElement(yt.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy,crossOrigin:sn=>{const dn=n.crossOrigin;if(b(dn))return dn(sn,"stylesheet")}}),F=[],oe=n.schema?n.schema:oc({}),he=Zh({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Se=n.ownEvents?new T1:T1.Event,Be=oe.getBlockElements(),it=sn=>lt(sn)?vn(Be,sn):Vo(sn)&&(vn(Be,sn.nodeName)||ju(oe,sn)),rt=sn=>sn&&e&&lt(sn)?e.getElementById(sn):sn,st=sn=>{const dn=rt(sn);return s(dn)?yt.fromDom(dn):null},Vt=(sn,dn,fo="")=>{let ao;const xs=st(sn);if(s(xs)&&da(xs)){const br=bP[dn];br&&br.get?ao=br.get(xs.dom,dn):ao=Ja(xs,dn)}return s(ao)?ao:fo},Bt=sn=>{const dn=rt(sn);return us(dn)?[]:dn.attributes},Yt=(sn,dn,fo)=>{Ro(sn,ao=>{if(Vo(ao)){const xs=yt.fromDom(ao),br=fo===""?null:fo,$a=Ja(xs,dn),Og=bP[dn];Og&&Og.set?Og.set(xs.dom,br,dn):ji(xs,dn,br),$a!==br&&n.onSetAttrib&&n.onSetAttrib({attrElm:xs.dom,attrName:dn,attrValue:br})}})},rn=(sn,dn)=>sn.cloneNode(dn),Sn=()=>n.root_element||e.body,so=sn=>{const dn=Ul(sn);return{x:dn.x,y:dn.y,w:dn.width,h:dn.height}},Un=(sn,dn)=>eC(e.body,rt(sn),dn),gn=(sn,dn,fo)=>{Ro(sn,ao=>{const xs=yt.fromDom(ao);h8(xs,dn,fo),n.update_styles&&j2(he,xs)})},mn=(sn,dn)=>{Ro(sn,fo=>{const ao=yt.fromDom(fo);Zt(dn,(xs,br)=>{h8(ao,br,xs)}),n.update_styles&&j2(he,ao)})},Rn=(sn,dn,fo)=>{const ao=rt(sn);if(!(us(ao)||!uu(ao)&&!Za(ao)))return fo?Va(yt.fromDom(ao),m8(dn)):(dn=dn.replace(/-(\D)/g,(xs,br)=>br.toUpperCase()),dn==="float"&&(dn="cssFloat"),ao.style?ao.style[dn]:void 0)},Lo=sn=>{const dn=rt(sn);if(!dn)return{w:0,h:0};let fo=Rn(dn,"width"),ao=Rn(dn,"height");return(!fo||fo.indexOf("px")===-1)&&(fo="0"),(!ao||ao.indexOf("px")===-1)&&(ao="0"),{w:parseInt(fo,10)||dn.offsetWidth||dn.clientWidth,h:parseInt(ao,10)||dn.offsetHeight||dn.clientHeight}},Qo=sn=>{const dn=rt(sn),fo=Un(dn),ao=Lo(dn);return{x:fo.x,y:fo.y,w:ao.w,h:ao.h}},Ms=(sn,dn)=>{if(!sn)return!1;const fo=Eo(sn)?sn:[sn];return U(fo,ao=>Ml(yt.fromDom(ao),dn))},To=(sn,dn,fo,ao)=>{const xs=[];let br=rt(sn);ao=ao===void 0;const $a=fo||(Sn().nodeName!=="BODY"?Sn().parentNode:null);if(lt(dn))if(dn==="*")dn=Vo;else{const Og=dn;dn=pp=>Ms(pp,Og)}for(;br&&!(br===$a||us(br.nodeType)||ka(br)||Ys(br));){if(!dn||dn(br))if(ao)xs.push(br);else return[br];br=br.parentNode}return ao?xs:null},Gt=(sn,dn,fo)=>{const ao=To(sn,dn,fo,!1);return ao&&ao.length>0?ao[0]:null},lo=(sn,dn,fo)=>{let ao=dn;if(sn){lt(dn)&&(ao=xs=>Ms(xs,dn));for(let xs=sn[fo];xs;xs=xs[fo])if(b(ao)&&ao(xs))return xs}return null},rs=(sn,dn)=>lo(sn,dn,"nextSibling"),dr=(sn,dn)=>lo(sn,dn,"previousSibling"),va=sn=>b(sn.querySelectorAll),Zn=(sn,dn)=>{var fo,ao;const xs=(ao=(fo=rt(dn))!==null&&fo!==void 0?fo:n.root_element)!==null&&ao!==void 0?ao:e;return va(xs)?_t(xs.querySelectorAll(sn)):[]},Ro=function(sn,dn,fo){const ao=fo??this;if(Eo(sn)){const xs=[];return A1(sn,(br,$a)=>{const Og=rt(br);Og&&xs.push(dn.call(ao,Og,$a))}),xs}else{const xs=rt(sn);return xs?dn.call(ao,xs):!1}},Xs=(sn,dn)=>{Ro(sn,fo=>{Zt(dn,(ao,xs)=>{Yt(fo,xs,ao)})})},rr=(sn,dn)=>{Ro(sn,fo=>{const ao=yt.fromDom(fo);ei(ao,dn)})},Bo=(sn,dn,fo,ao,xs)=>Ro(sn,br=>{const $a=lt(dn)?e.createElement(dn):dn;return s(fo)&&Xs($a,fo),ao&&(!lt(ao)&&ao.nodeType?$a.appendChild(ao):lt(ao)&&rr($a,ao)),xs?$a:br.appendChild($a)}),Pn=(sn,dn,fo)=>Bo(e.createElement(sn),sn,dn,fo,!0),ho=Lp.decode,vs=Lp.encodeAllRaw,Ts=(sn,dn,fo="")=>{let ao="<"+sn;for(const xs in dn)Hn(dn,xs)&&(ao+=" "+xs+'="'+vs(dn[xs])+'"');return io(fo)&&vn(oe.getVoidElements(),sn)?ao+" />":ao+">"+fo+"</"+sn+">"},vr=sn=>{const dn=e.createElement("div"),fo=e.createDocumentFragment();fo.appendChild(dn),sn&&(dn.innerHTML=sn);let ao;for(;ao=dn.firstChild;)fo.appendChild(ao);return fo.removeChild(dn),fo},sa=(sn,dn)=>Ro(sn,fo=>{const ao=yt.fromDom(fo);return dn&&I(hr(ao),xs=>{Ha(xs)&&xs.dom.length===0?Ar(xs):Qa(ao,xs)}),Ar(ao),ao.dom}),Mu=sn=>Ro(sn,dn=>{const fo=dn.attributes;for(let ao=fo.length-1;ao>=0;ao--)dn.removeAttributeNode(fo.item(ao))}),fd=sn=>he.parse(sn),a1=(sn,dn)=>he.serialize(sn,dn),bf=sn=>{if(Y4!==kr.DOM&&e===document){if(o[sn])return;o[sn]=!0}let dn=e.getElementById("mceDefaultStyles");if(!dn){dn=e.createElement("style"),dn.id="mceDefaultStyles",dn.type="text/css";const fo=e.head;fo.firstChild?fo.insertBefore(dn,fo.firstChild):fo.appendChild(dn)}dn.styleSheet?dn.styleSheet.cssText+=sn:dn.appendChild(e.createTextNode(sn))},Pc=sn=>{sn||(sn=""),I(sn.split(","),dn=>{c[dn]=!0,S.load(dn).catch(a)})},pd=(sn,dn,fo)=>{Ro(sn,ao=>{if(Vo(ao)){const xs=yt.fromDom(ao),br=dn.split(" ");I(br,$a=>{s(fo)?(fo?b1:Hl)(xs,$a):ti(xs,$a)})}})},i1=(sn,dn)=>{pd(sn,dn,!0)},Z4=(sn,dn)=>{pd(sn,dn,!1)},as=(sn,dn)=>{const fo=st(sn),ao=dn.split(" ");return s(fo)&&ot(ao,xs=>Ia(fo,xs))},ur=sn=>{Ro(sn,dn=>Sf(yt.fromDom(dn),"display"))},Pa=sn=>{Ro(sn,dn=>iu(yt.fromDom(dn),"display","none"))},Pi=sn=>{const dn=st(sn);return s(dn)&&At(tc(dn,"display"),"none")},Xi=sn=>(sn||"mce_")+f++,Oi=sn=>{const dn=st(sn);return s(dn)?Vo(dn.dom)?dn.dom.outerHTML:f1(dn):""},_a=(sn,dn)=>{Ro(sn,fo=>{Vo(fo)&&(fo.outerHTML=dn)})},Ea=(sn,dn)=>{const fo=rt(dn);return Ro(sn,ao=>{const xs=fo==null?void 0:fo.parentNode,br=fo==null?void 0:fo.nextSibling;return xs&&(br?xs.insertBefore(ao,br):xs.appendChild(ao)),ao})},gd=(sn,dn,fo)=>Ro(dn,ao=>{var xs;const br=Eo(dn)?sn.cloneNode(!0):sn;return fo&&A1($5(ao.childNodes),$a=>{br.appendChild($a)}),(xs=ao.parentNode)===null||xs===void 0||xs.replaceChild(br,ao),ao}),up=(sn,dn)=>{if(sn.nodeName!==dn.toUpperCase()){const fo=Pn(dn);return A1(Bt(sn),ao=>{Yt(fo,ao.nodeName,Vt(sn,ao.nodeName))}),gd(fo,sn,!0),fo}else return sn},uh=(sn,dn)=>{let fo=sn;for(;fo;){let ao=dn;for(;ao&&fo!==ao;)ao=ao.parentNode;if(fo===ao)break;fo=fo.parentNode}return!fo&&sn.ownerDocument?sn.ownerDocument.documentElement:fo},kg=(sn,dn,fo)=>gs(dn)?Of(oe,sn,{...fo,isContent:xs=>{const br=xs.nodeName.toLowerCase();return!!dn[br]}}):Of(oe,sn,fo),Oy=()=>e.createRange(),Ly=(sn,dn,fo)=>{let ao=Oy(),xs,br;if(sn&&dn&&sn.parentNode&&dn.parentNode){const $a=sn.parentNode;return ao.setStart($a,im(sn)),ao.setEnd(dn.parentNode,im(dn)),xs=ao.extractContents(),ao=Oy(),ao.setStart(dn.parentNode,im(dn)+1),ao.setEnd($a,im(sn)+1),br=ao.extractContents(),$a.insertBefore(wl(Y4,xs,oe),sn),fo?$a.insertBefore(fo,sn):$a.insertBefore(dn,sn),$a.insertBefore(wl(Y4,br,oe),sn),sa(sn),fo||dn}else return},H6=(sn,dn,fo,ao)=>{if(Eo(sn)){let xs=sn.length;const br=[];for(;xs--;)br[xs]=H6(sn[xs],dn,fo,ao);return br}else return n.collect&&(sn===e||sn===i)&&F.push([sn,dn,fo,ao]),Se.bind(sn,dn,fo,ao||Y4)},fp=(sn,dn,fo)=>{if(Eo(sn)){let ao=sn.length;const xs=[];for(;ao--;)xs[ao]=fp(sn[ao],dn,fo);return xs}else{if(F.length>0&&(sn===e||sn===i)){let ao=F.length;for(;ao--;){const[xs,br,$a]=F[ao];sn===xs&&(!dn||dn===br)&&(!fo||fo===$a)&&Se.unbind(xs,br,$a)}}return Se.unbind(sn,dn,fo)}},G4=(sn,dn,fo)=>Se.dispatch(sn,dn,fo),hA=(sn,dn,fo)=>Se.dispatch(sn,dn,fo),Dy=sn=>{if(sn&&uu(sn)){const dn=sn.getAttribute("data-mce-contenteditable");return dn&&dn!=="inherit"?dn:sn.contentEditable!=="inherit"?sn.contentEditable:null}else return null},Y4={doc:e,settings:n,win:i,files:c,stdMode:h,boxModel:_,styleSheetLoader:S,boundEvents:F,styles:he,schema:oe,events:Se,isBlock:it,root:null,clone:rn,getRoot:Sn,getViewPort:so,getRect:Qo,getSize:Lo,getParent:Gt,getParents:To,get:rt,getNext:rs,getPrev:dr,select:Zn,is:Ms,add:Bo,create:Pn,createHTML:Ts,createFragment:vr,remove:sa,setStyle:gn,getStyle:Rn,setStyles:mn,removeAllAttribs:Mu,setAttrib:Yt,setAttribs:Xs,getAttrib:Vt,getPos:Un,parseStyle:fd,serializeStyle:a1,addStyle:bf,loadCSS:Pc,addClass:i1,removeClass:Z4,hasClass:as,toggleClass:pd,show:ur,hide:Pa,isHidden:Pi,uniqueId:Xi,setHTML:rr,getOuterHTML:Oi,setOuterHTML:_a,decode:ho,encode:vs,insertAfter:Ea,replace:gd,rename:up,findCommonAncestor:uh,run:Ro,getAttribs:Bt,isEmpty:kg,createRng:Oy,nodeIndex:im,split:Ly,bind:H6,unbind:fp,fire:hA,dispatch:G4,getContentEditable:Dy,getContentEditableParent:sn=>{const dn=Sn();let fo=null;for(let ao=sn;ao&&ao!==dn&&(fo=Dy(ao),fo===null);ao=ao.parentNode);return fo},isEditable:sn=>{if(s(sn)){const dn=Vo(sn)?sn:sn.parentElement;return s(dn)&&uu(dn)&&Ed(yt.fromDom(dn))}else return!1},destroy:()=>{if(F.length>0){let sn=F.length;for(;sn--;){const[dn,fo,ao]=F[sn];Se.unbind(dn,fo,ao)}}Zt(c,(sn,dn)=>{S.unload(dn),delete c[dn]})},isChildOf:(sn,dn)=>sn===dn||dn.contains(sn),dumpRng:sn=>"startContainer: "+sn.startContainer.nodeName+", startOffset: "+sn.startOffset+", endContainer: "+sn.endContainer.nodeName+", endOffset: "+sn.endOffset},bP=b8(he,n,L(Y4));return Y4};kr.DOM=kr(document),kr.nodeIndex=im;const qh=kr.DOM,v8=0,x8=1,Wl=2,Xh=3;class Us{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}_setCrossOrigin(n){this.settings.crossOrigin=n}loadScript(n){return new Promise((o,i)=>{const c=qh;let f;const h=()=>{c.remove(F),f&&(f.onerror=f.onload=f=null)},_=()=>{h(),o()},S=()=>{h(),i("Failed to load script: "+n)},F=c.uniqueId();f=document.createElement("script"),f.id=F,f.type="text/javascript",f.src=Kn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy);const oe=this.settings.crossOrigin;if(b(oe)){const he=oe(n);he!==void 0&&c.setAttrib(f,"crossorigin",he)}f.onload=_,f.onerror=S,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Wl}markDone(n){this.states[n]=Wl}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=v8),new Promise((c,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,i=(S,F)=>{Mn(o.scriptLoadedCallbacks,F).each(oe=>{I(oe,he=>he[S](F))}),delete o.scriptLoadedCallbacks[F]},c=S=>{const F=G(S,oe=>oe.status==="rejected");return F.length>0?Promise.reject(nt(F,({reason:oe})=>Eo(oe)?oe:[oe])):Promise.resolve()},f=S=>Promise.allSettled(V(S,F=>o.states[F]===Wl?(i("resolve",F),Promise.resolve()):o.states[F]===Xh?(i("reject",F),Promise.reject(F)):(o.states[F]=x8,o.loadScript(F).then(()=>{o.states[F]=Wl,i("resolve",F);const oe=o.queue;return oe.length>0?(o.queue=[],f(oe).then(c)):Promise.resolve()},()=>(o.states[F]=Xh,i("reject",F),Promise.reject(F)))))),h=S=>(o.loading=!0,f(S).then(F=>{o.loading=!1;const oe=o.queueLoadedCallbacks.shift();return w.from(oe).each(j),c(F)})),_=St(n);return o.loading?new Promise((S,F)=>{o.queueLoadedCallbacks.push(()=>{h(_).then(S,F)})}):h(_)}}Us.ScriptLoader=new Us;const sc=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},Qh=e=>Xn(e)&&vn(e,"raw"),Z2=e=>Eo(e)&&e.length>1,Rr={},G2=zn("en"),H5=()=>Mn(Rr,G2.get()),qc={getData:()=>kn(Rr,e=>({...e})),setCode:e=>{e&&G2.set(e)},getCode:()=>G2.get(),add:(e,n)=>{let o=Rr[e];o||(Rr[e]=o={});const i=V(Rt(n),c=>c.toLowerCase());Zt(n,(c,f)=>{const h=f.toLowerCase();h!==f&&sc(i,h)?(vn(n,h)||(o[h]=c),o[f]=c):o[h]=c})},translate:e=>{const n=H5().getOr({}),o=_=>b(_)?Object.prototype.toString.call(_):i(_)?"":""+_,i=_=>_===""||_===null||_===void 0,c=_=>{const S=o(_);return vn(n,S)?o(n[S]):Mn(n,S.toLowerCase()).map(o).getOr(S)},f=_=>_.replace(/{context:\w+}$/,""),h=_=>_.replaceAll("...",ia);if(i(e))return"";if(Qh(e))return h(o(e.raw));if(Z2(e)){const _=e.slice(1),S=c(e[0]).replace(/\{([0-9]+)\}/g,(F,oe)=>vn(_,oe)?o(_[oe]):F);return h(f(S))}return h(f(c(e)))},isRtl:()=>H5().bind(e=>Mn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>vn(Rr,e)},Zi=()=>{const e=[],n={},o={},i=[],c=(rt,st)=>{const Vt=G(i,Bt=>Bt.name===rt&&Bt.state===st);I(Vt,Bt=>Bt.resolve())},f=rt=>vn(n,rt),h=rt=>vn(o,rt),_=rt=>{if(o[rt])return o[rt].instance},S=(rt,st)=>{const Vt=qc.getCode(),Bt=","+(st||"")+",";!Vt||st&&Bt.indexOf(","+Vt+",")===-1||Us.ScriptLoader.add(n[rt]+"/langs/"+Vt+".js")},F=(rt,st)=>{Zi.languageLoad!==!1&&(f(rt)?S(rt,st):it(rt,"loaded").then(()=>S(rt,st)))},oe=(rt,st)=>(e.push(st),o[rt]={instance:st},c(rt,"added"),st),he=rt=>{delete n[rt],delete o[rt]},Se=(rt,st)=>lt(st)?lt(rt)?{prefix:"",resource:st,suffix:""}:{prefix:rt.prefix,resource:st,suffix:rt.suffix}:st,Be=(rt,st)=>{if(n[rt])return Promise.resolve();let Vt=lt(st)?st:st.prefix+st.resource+st.suffix;Vt.indexOf("/")!==0&&Vt.indexOf("://")===-1&&(Vt=Zi.baseURL+"/"+Vt),n[rt]=Vt.substring(0,Vt.lastIndexOf("/"));const Bt=()=>(c(rt,"loaded"),Promise.resolve());return o[rt]?Bt():Us.ScriptLoader.add(Vt).then(Bt)},it=(rt,st="added")=>st==="added"&&h(rt)||st==="loaded"&&f(rt)?Promise.resolve():new Promise(Vt=>{i.push({name:rt,state:st,resolve:Vt})});return{items:e,urls:n,lookup:o,get:_,requireLangPack:F,add:oe,remove:he,createUrl:Se,load:Be,waitFor:it}};Zi.languageLoad=!0,Zi.baseURL="",Zi.PluginManager=Zi(),Zi.ThemeManager=Zi(),Zi.ModelManager=Zi();const lm=L("mce-annotation"),Sc=L("data-mce-annotation"),Gu=L("data-mce-annotation-uid"),Yu=L("data-mce-annotation-active"),k1=L("data-mce-annotation-classes"),qu=L("data-mce-annotation-attrs"),cm=e=>n=>Ws(n,e),z5=(e,n)=>{const o=e.selection.getRng(),i=yt.fromDom(o.startContainer),c=yt.fromDom(e.getBody()),f=n.fold(()=>"."+lm(),S=>`[${Sc()}="${S}"]`),h=fc(i,o.startOffset).getOr(i);return $l(h,f,cm(c)).bind(S=>pa(S,`${Gu()}`).bind(F=>pa(S,`${Sc()}`).map(oe=>{const he=rC(e,F);return{uid:F,name:oe,elements:he}})))},E8=e=>da(e)&&Ia(e,lm()),sC=(e,n)=>zu(e,"data-mce-bogus")||$s(e,'[data-mce-bogus="all"]',cm(n)),rC=(e,n)=>{const o=yt.fromDom(e.getBody()),i=Nt(o,`[${Gu()}="${n}"]`);return G(i,c=>!sC(c,o))},Y2=(e,n)=>{const o=yt.fromDom(e.getBody()),i=Nt(o,`[${Sc()}="${n}"]`),c={};return I(i,f=>{if(!sC(f,o)){const h=Ja(f,Gu()),_=Mn(c,h).getOr([]);c[h]=_.concat([f])}}),c},U5=(e,n)=>{const o=zn({}),i=()=>({listeners:[],previous:hs()}),c=(he,Se)=>{f(he,Be=>(Se(Be),Be))},f=(he,Se)=>{const Be=o.get(),it=Mn(Be,he).getOrThunk(i),rt=Se(it);Be[he]=rt,o.set(Be)},h=(he,Se,Be)=>{c(he,it=>{I(it.listeners,rt=>rt(!0,he,{uid:Se,nodes:V(Be,st=>st.dom)}))})},_=he=>{c(he,Se=>{I(Se.listeners,Be=>Be(!1,he))})},S=(he,Se)=>{I(rC(e,he),Be=>{Se?Mo(Be,Yu(),"true"):er(Be,Yu())})},F=Qn(()=>{const he=Ze(n.getNames());I(he,Se=>{f(Se,Be=>{const it=Be.previous.get();return z5(e,w.some(Se)).fold(()=>{it.each(rt=>{_(Se),Be.previous.clear(),S(rt,!1)})},({uid:rt,name:st,elements:Vt})=>{At(it,rt)||(it.each(Bt=>S(Bt,!1)),h(st,rt,Vt),Be.previous.set(rt),S(rt,!0))}),{previous:Be.previous,listeners:Be.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(he,Se)=>{f(he,Be=>({previous:Be.previous,listeners:Be.listeners.concat([Se])}))}}},w8=(e,n)=>{const o=Sc(),i=f=>w.from(f.attr(o)).bind(n.lookup),c=f=>{var h,_;f.attr(Gu(),null),f.attr(Sc(),null),f.attr(Yu(),null);const S=w.from(f.attr(qu())).map(Se=>Se.split(",")).getOr([]),F=w.from(f.attr(k1())).map(Se=>Se.split(",")).getOr([]);I(S,Se=>f.attr(Se,null));const oe=(_=(h=f.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&_!==void 0?_:[],he=et(oe,[lm()].concat(F));f.attr("class",he.length>0?he.join(" "):null),f.attr(k1(),null),f.attr(qu(),null)};e.serializer.addTempAttr(Yu()),e.serializer.addAttributeFilter(o,f=>{for(const h of f)i(h).each(_=>{_.persistent===!1&&(h.name==="span"?h.unwrap():c(h))})})},q2=()=>{const e={};return{register:(c,f)=>{e[c]={name:c,settings:f}},lookup:c=>Mn(e,c).map(f=>f.settings),getNames:()=>Rt(e)}},Hf=(e,n,o=K)=>{const i=new ja(e,n),c=f=>{let h;do h=i[f]();while(h&&!Gn(h)&&!o(h));return w.from(h).filter(Gn)};return{current:()=>w.from(i.current()).filter(Gn),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Xu=(e,n)=>{const o=n||(h=>e.isBlock(h)||Qr(h)||Pr(h)),i=(h,_,S,F)=>{if(Gn(h)){const oe=F(h,_,h.data);if(oe!==-1)return w.some({container:h,offset:oe})}return S().bind(oe=>i(oe.container,oe.offset,S,F))};return{backwards:(h,_,S,F)=>{const oe=Hf(h,F??e.getRoot(),o);return i(h,_,()=>oe.prev().map(he=>({container:he,offset:he.length})),S).getOrNull()},forwards:(h,_,S,F)=>{const oe=Hf(h,F??e.getRoot(),o);return i(h,_,()=>oe.next().map(he=>({container:he,offset:0})),S).getOrNull()}}},Jh=["td","th"],X2=["thead","tbody","tfoot"],aC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Q2=["li","dd","dt"],J2=["ul","ol","dl"],S8=["pre","script","textarea","style"],dm=e=>{let n;return o=>(n=n||Ve(e,ee),vn(n,Fs(o)))},iC=e=>Fs(e)==="table",zf=e=>da(e)&&Fs(e)==="br",e3=dm(aC),Mp=dm(J2),Ip=dm(Q2),e0=dm(X2),_i=dm(Jh),Tc=dm(S8),kd=e=>{const n=[];let o=e.dom;for(;o;)n.push(yt.fromDom(o)),o=o.lastChild;return n},t3=e=>{const n=Nt(e,"br"),o=G(kd(e).slice(-1),zf);n.length===o.length&&I(o,Ar)},O1=()=>{const e=yt.fromTag("br");return Mo(e,"data-mce-bogus","1"),e},L1=e=>{Ps(e),Lr(e,O1())},V5=(e,n)=>{Xa(e).each(o=>{Qs(o).each(i=>{n.isBlock(Fs(e))&&zf(o)&&n.isBlock(Fs(i))&&Ar(o)})})},ui=wa,um=Ne,Ac=pt,W5=e=>e.insertContent(ui,{preserve_zwsp:!0}),T8=Vo,Bp=Gn,D1=e=>(Bp(e)&&(e=e.parentNode),T8(e)&&e.hasAttribute("data-mce-caret")),yu=e=>Bp(e)&&um(e.data),nr=e=>D1(e)||yu(e),Fp=e=>e.firstChild!==e.lastChild||!Qr(e.firstChild),n3=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ui),f=e.parentNode;if(n){const h=e.previousSibling;if(Bp(h)){if(nr(h))return h;if(Qu(h))return h.splitText(h.data.length-1)}f==null||f.insertBefore(c,e)}else{const h=e.nextSibling;if(Bp(h)){if(nr(h))return h;if(t0(h))return h.splitText(1),h}e.nextSibling?f==null||f.insertBefore(c,e.nextSibling):f==null||f.appendChild(c)}return c},fm=e=>{const n=e.container();return Gn(n)?n.data.charAt(e.offset())===ui||e.isAtStart()&&yu(n.previousSibling):!1},o3=e=>{const n=e.container();return Gn(n)?n.data.charAt(e.offset()-1)===ui||e.isAtEnd()&&yu(n.nextSibling):!1},K5=(e,n,o)=>{var i;const f=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(O1().dom);const h=n.parentNode;return o?h==null||h.insertBefore(f,n):n.nextSibling?h==null||h.insertBefore(f,n.nextSibling):h==null||h.appendChild(f),f},t0=e=>Bp(e)&&e.data[0]===ui,Qu=e=>Bp(e)&&e.data[e.data.length-1]===ui,n0=e=>{var n;const o=e.getElementsByTagName("br"),i=o[o.length-1];Tp(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))},o0=e=>e&&e.hasAttribute("data-mce-caret")?(n0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Xc=e=>D1(e.startContainer),Ju=Math.round,La=e=>e?{left:Ju(e.left),top:Ju(e.top),bottom:Ju(e.bottom),right:Ju(e.right),width:Ju(e.width),height:Ju(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Cu=(e,n)=>(e=La(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),j5=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Z5=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,pm=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Z5(n.top-e.bottom,e,n)},N1=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Z5(n.bottom-e.top,e,n),G5=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Y5=e=>Le(e,(n,o)=>n.fold(()=>w.some(o),i=>{const c=Math.min(o.left,i.left),f=Math.min(o.top,i.top),h=Math.max(o.right,i.right),_=Math.max(o.bottom,i.bottom);return w.some({top:f,right:h,bottom:_,left:c,width:h-c,height:_-f})}),w.none()),s3=(e,n,o)=>{const i=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-i)*(n-i)+(o-c)*(o-c))},r3=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),gm=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Od=(e,n)=>{if(Vo(e)&&e.hasChildNodes()){const o=e.childNodes,i=Ce(n,0,o.length-1);return o[i]}else return e},A8=(e,n)=>{if(!(n<0&&Vo(e)&&e.hasChildNodes()))return Od(e,n)},k8=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ei=e=>lt(e)&&e.charCodeAt(0)>=768&&k8.test(e),lC=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},R1=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},q5=ni,X5=Pr,Q5=Qr,s0=Gn,J5=fu(["script","style","textarea"]),eb=fu(["img","input","textarea","hr","iframe","video","audio","object","embed"]),cC=fu(["table"]),r0=nr,jr=e=>r0(e)?!1:s0(e)?!J5(e.parentNode):eb(e)||Q5(e)||cC(e)||fi(e),qa=e=>Vo(e)&&e.getAttribute("unselectable")==="true",fi=e=>!qa(e)&&X5(e),wi=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(fi(o))return!1;if(q5(o))return!0}return!0},pi=e=>fi(e)?!Le(_t(e.getElementsByTagName("*")),(n,o)=>n||q5(o),!1):!1,Ba=e=>eb(e)||pi(e),a0=(e,n)=>jr(e)&&wi(e,n),a3=Vo,tb=jr,nb=xc("display","block table"),ob=xc("float","left right"),mm=R1(a3,tb,Q(ob)),sb=Q(xc("white-space","pre pre-line pre-wrap")),Pp=Gn,i0=Qr,rb=kr.nodeIndex,l0=A8,ab=e=>e?e.createRange():kr.DOM.createRng(),_u=e=>lt(e)&&/[\r\n\t ]/.test(e),i3=e=>!!e.setStart&&!!e.setEnd,l3=e=>{const n=e.startContainer,o=e.startOffset;if(_u(e.toString())&&sb(n.parentNode)&&Gn(n)){const i=n.data;if(_u(i[o-1])||_u(i[o+1]))return!0}return!1},c3=e=>{const n=e.ownerDocument,o=ab(n),i=n.createTextNode(Js),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const f=La(o.getBoundingClientRect());return c.removeChild(i),f},c0=e=>{const n=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===o&&Gn(o)&&i===0&&c===1){const f=e.cloneRange();return f.setEndAfter(o),Uf(f)}else return null},d0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Uf=e=>{var n;let o;const i=e.getClientRects();return i.length>0?o=La(i[0]):o=La(e.getBoundingClientRect()),!i3(e)&&i0(e)&&d0(o)?c3(e):d0(o)&&i3(e)&&(n=c0(e))!==null&&n!==void 0?n:o},Eu=(e,n)=>{const o=Cu(e,n);return o.width=1,o.right=o.left+1,o},d3=e=>{const n=[],o=h=>{h.height!==0&&(n.length>0&&j5(h,n[n.length-1])||n.push(h))},i=(h,_)=>{const S=ab(h.ownerDocument);if(_<h.data.length){if(Ei(h.data[_]))return;if(Ei(h.data[_-1])&&(S.setStart(h,_),S.setEnd(h,_+1),!l3(S))){o(Eu(Uf(S),!1));return}}_>0&&(S.setStart(h,_-1),S.setEnd(h,_),l3(S)||o(Eu(Uf(S),!1))),_<h.data.length&&(S.setStart(h,_),S.setEnd(h,_+1),l3(S)||o(Eu(Uf(S),!0)))},c=e.container(),f=e.offset();if(Pp(c))return i(c,f),n;if(a3(c))if(e.isAtEnd()){const h=l0(c,f);Pp(h)&&i(h,h.data.length),mm(h)&&!i0(h)&&o(Eu(Uf(h),!1))}else{const h=l0(c,f);if(Pp(h)&&i(h,0),mm(h)&&e.isAtEnd())return o(Eu(Uf(h),!1)),n;const _=l0(e.container(),e.offset()-1);mm(_)&&!i0(_)&&(nb(_)||nb(h)||!mm(h))&&o(Eu(Uf(_),!1)),mm(h)&&o(Eu(Uf(h),!0))}return n},hn=(e,n,o)=>{const i=()=>(Pp(e),n===0),c=()=>Pp(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const oe=ab(e.ownerDocument);return oe.setStart(e,n),oe.setEnd(e,n),oe},h=()=>(o||(o=d3(hn(e,n))),o),_=()=>h().length>0,S=oe=>oe&&e===oe.container()&&n===oe.offset(),F=oe=>l0(e,oe?n-1:n);return{container:L(e),offset:L(n),toRange:f,getClientRects:h,isVisible:_,isAtStart:i,isAtEnd:c,isEqual:S,getNode:F}};hn.fromRangeStart=e=>hn(e.startContainer,e.startOffset),hn.fromRangeEnd=e=>hn(e.endContainer,e.endOffset),hn.after=e=>hn(e.parentNode,rb(e)+1),hn.before=e=>hn(e.parentNode,rb(e)),hn.isAbove=(e,n)=>Tt($e(n.getClientRects()),tt(e.getClientRects()),pm).getOr(!1),hn.isBelow=(e,n)=>Tt(tt(n.getClientRects()),$e(e.getClientRects()),N1).getOr(!1),hn.isAtStart=e=>e?e.isAtStart():!1,hn.isAtEnd=e=>e?e.isAtEnd():!1,hn.isTextPosition=e=>e?Gn(e.container()):!1,hn.isElementPosition=e=>!hn.isTextPosition(e);const Qc=(e,n)=>{Gn(n)&&n.data.length===0&&e.remove(n)},Jc=(e,n,o)=>{n.insertNode(o),Qc(e,o.previousSibling),Qc(e,o.nextSibling)},hm=(e,n,o)=>{const i=w.from(o.firstChild),c=w.from(o.lastChild);n.insertNode(o),i.each(f=>Qc(e,f.previousSibling)),c.each(f=>Qc(e,f.nextSibling))},$p=(e,n,o)=>{Ys(o)?hm(e,n,o):Jc(e,n,o)},Ld=Gn,O8=Tp,al=kr.nodeIndex,u0=e=>{const n=e.parentNode;return O8(n)?u0(n):n},ib=e=>e?cn(e.childNodes,(n,o)=>(O8(o)&&o.nodeName!=="BR"?n=n.concat(ib(o)):n.push(o),n),[]):[],L8=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Ld(o);)n+=o.data.length;return n},lb=e=>n=>e===n,bm=e=>{let n,o;n=ib(u0(e)),o=cs(n,lb(e),e),n=n.slice(0,o+1);const i=cn(n,(c,f,h)=>(Ld(f)&&Ld(n[h-1])&&c++,c),0);return n=mo(n,fu([e.nodeName])),o=cs(n,lb(e),e),o-i},u3=e=>(Ld(e)?"text()":e.nodeName.toLowerCase())+"["+bm(e)+"]",Vf=(e,n,o)=>{const i=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},f3=(e,n)=>{let o=[],i=n.container(),c=n.offset(),f;if(Ld(i))f=L8(i,c);else{const _=i.childNodes;c>=_.length?(f="after",c=_.length-1):f="before",i=_[c]}o.push(u3(i));let h=Vf(e,i);return h=mo(h,Q(Tp)),o=o.concat(vo(h,_=>u3(_))),o.reverse().join("/")+","+f},dC=(e,n,o)=>{let i=ib(e);return i=mo(i,(c,f)=>!Ld(c)||!Ld(i[f-1])),i=mo(i,fu([n])),i[o]},il=(e,n)=>{let o=e,i=0;for(;Ld(o);){const c=o.data.length;if(n>=i&&n<=i+c){e=o,n=n-i;break}if(!Ld(o.nextSibling)){e=o,n=c;break}i+=c,o=o.nextSibling}return Ld(e)&&n>e.data.length&&(n=e.data.length),hn(e,n)},Dd=(e,n)=>{if(!n)return null;const o=n.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",f=cn(i,(h,_)=>{const S=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return S?(S[1]==="text()"&&(S[1]="#text"),dC(h,S[1],parseInt(S[2],10))):null},e);if(!f)return null;if(!Ld(f)&&f.parentNode){let h;return c==="after"?h=al(f)+1:h=al(f),hn(f.parentNode,h)}return il(f,parseInt(c,10))},Tl=Pr,uC=(e,n,o)=>{let i=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&Gn(c);c=c.previousSibling)i+=e(c.data).length;return i},Hp=(e,n,o,i,c)=>{const f=c?i.startContainer:i.endContainer;let h=c?i.startOffset:i.endOffset;const _=[],S=e.getRoot();if(Gn(f))_.push(o?uC(n,f,h):h);else{let F=0;const oe=f.childNodes;h>=oe.length&&oe.length&&(F=1,h=Math.max(0,oe.length-1)),_.push(e.nodeIndex(oe[h],o)+F)}for(let F=f;F&&F!==S;F=F.parentNode)_.push(e.nodeIndex(F,o));return _},fC=(e,n,o,i)=>{const c=n.dom,f=Hp(c,e,o,i,!0),h=n.isForward(),_=Xc(i)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:h,..._};{const S=Hp(c,e,o,i,!1);return{start:f,end:S,forward:h,..._}}},cb=(e,n,o)=>{let i=0;return Kn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},D8=(e,n)=>{let o=n?e.startContainer:e.endContainer,i=n?e.startOffset:e.endOffset;if(Vo(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?i:i-1,c.length-1)],o&&(i=n?0:o.childNodes.length,n?e.setStart(o,i):e.setEnd(o,i))}},N8=e=>(D8(e,!0),D8(e,!1),e),Hs=(e,n)=>{if(Vo(e)&&(e=Od(e,n),Tl(e)))return e;if(nr(e)){Gn(e)&&D1(e)&&(e=e.parentNode);let o=e.previousSibling;if(Tl(o)||(o=e.nextSibling,Tl(o)))return o}},Xo=e=>Hs(e.startContainer,e.startOffset)||Hs(e.endContainer,e.endOffset),vm=(e,n,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||Tl(i)){const h=i.nodeName;return{name:h,index:cb(o.dom,h,i)}}const f=Xo(c);if(f){const h=f.tagName;return{name:h,index:cb(o.dom,h,f)}}return fC(e,o,n,c)},db=e=>{const n=e.getRng();return{start:f3(e.dom.getRoot(),hn.fromRangeStart(n)),end:f3(e.dom.getRoot(),hn.fromRangeEnd(n)),forward:e.isForward()}},ub=e=>({rng:e.getRng(),forward:e.isForward()}),R8=(e,n,o)=>{const i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},fb=(e,n)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),f=e.isCollapsed(),h=e.getNode(),_=h.nodeName,S=e.isForward();if(_==="IMG")return{name:_,index:cb(o,_,h)};const F=N8(i.cloneRange());if(!f){F.collapse(!1);const he=R8(o,c+"_end",n);$p(o,F,he)}i=N8(i),i.collapse(!0);const oe=R8(o,c+"_start",n);return $p(o,i,oe),e.moveToBookmark({id:c,keep:!0,forward:S}),{id:c,forward:S}},Jr=(e,n,o=!1)=>n===2?vm(Ac,o,e):n===3?db(e):n?ub(e):fb(e,!1),xm=z(vm,A,!0),pb=e=>e.type==="inline-command"||e.type==="inline-format",M8=e=>e.type==="block-command"||e.type==="block-format",xn=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,p3=e=>{var n;const o=c=>fe.error({message:c,pattern:e}),i=(c,f,h)=>{if(e.format!==void 0){let _;if(Eo(e.format)){if(!ot(e.format,lt))return o(c+" pattern has non-string items in the `format` array");_=e.format}else if(lt(e.format))_=[e.format];else return o(c+" pattern has non-string `format` parameter");return fe.value(f(_))}else return e.cmd!==void 0?lt(e.cmd)?fe.value(h(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!Xn(e))return o("Raw pattern is not an object");if(!lt(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!lt(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,f=e.end;return f.length===0&&(f=c,c=""),i("Inline",h=>({type:"inline-format",start:c,end:f,format:h}),(h,_)=>({type:"inline-command",start:c,end:f,cmd:h,value:_}))}else{if(e.replacement!==void 0)return lt(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):fe.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:c}),(f,h)=>({type:"block-command",start:e.start,cmd:f,value:h,trigger:c}))}}},gb=e=>G(e,M8),f0=e=>G(e,pb),I8=(e,n)=>({inlinePatterns:f0(e),blockPatterns:gb(e),dynamicPatternsLookup:n}),ef=(e,n)=>({...e,blockPatterns:G(e.blockPatterns,o=>xn(o,n))}),zp=e=>{const n=_n(V(e,p3));return I(n.errors,o=>console.error(o.message,o.pattern)),n.values},Up=e=>n=>{const o=e(n);return zp(o)},pC=(e,n)=>e.dispatch("PreProcess",n),ym=(e,n)=>e.dispatch("PostProcess",n),Wr=e=>{e.dispatch("remove")},wu=e=>{e.dispatch("detach")},B8=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},Wf=(e,n,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:i,origin:c})},Nd=(e,n,o,i,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:i,origin:c})},gC=e=>{e.dispatch("PreInit")},mC=e=>{e.dispatch("PostRender")},mb=e=>{e.dispatch("Init")},hC=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},F8=(e,n,o)=>{e.dispatch(n,o)},P8=(e,n,o,i)=>{e.dispatch("FormatApply",{format:n,node:o,vars:i})},$8=(e,n,o,i)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:i})},H8=(e,n)=>e.dispatch("BeforeSetContent",n),Yn=(e,n)=>e.dispatch("SetContent",n),bC=(e,n)=>e.dispatch("BeforeGetContent",n),gi=(e,n)=>e.dispatch("GetContent",n),vC=(e,n)=>{e.dispatch("AutocompleterStart",n)},z8=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},hb=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},xC=e=>{e.dispatch("AutocompleterEnd")},Cs=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),yC=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),bb=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),zA=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),CC=(e,n)=>e.dispatch("DisabledStateChange",{state:n}),_C=e=>e.dispatch("CloseActiveTooltips"),U8=$c().deviceType,EC=U8.isTouch(),V8=kr.DOM,wC=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Le(n,(o,i)=>{const c=i.split("="),f=c[0],h=c.length>1?c[1]:f;return o[As(f)]=As(h),o},{})},Es=e=>Xt(e,RegExp),ko=e=>n=>n.options.get(e),Rd=e=>lt(e)||Xn(e),kc=(e,n="")=>o=>{const i=lt(o);if(i)if(o.indexOf("=")!==-1){const c=wC(o);return{value:Mn(c,e.id).getOr(n),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},g3=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("crossorigin",{processor:"function",default:L(void 0)}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),n("body_id",{processor:kc(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:kc(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const i=lt(o)&&bo(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const i=D(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>oo(o)?{valid:!0,value:o}:lt(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const i=o===!1||lt(o)||ge(o,lt);return i?lt(o)?{value:V(o.split(","),As),valid:i}:Eo(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Kp(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const i=lt(o)||ge(o,lt);return i?{value:Eo(o)?o:V(o.split(","),As),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("extended_mathml_attributes",{processor:"string[]"}),n("extended_mathml_elements",{processor:"string[]"}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const i=oo(o)||lt(o);return i?o===!1||U8.isiPhone()||U8.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!EC}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("onboarding",{processor:"boolean",default:!0}),n("tiny_cloud_entry_url",{processor:"string"}),n("theme",{processor:o=>o===!1||lt(o)||b(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const i=o===!1||lt(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("disabled",{processor:o=>oo(o)?(e.initialized&&Am(e)!==o&&Promise.resolve().then(()=>{CC(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_html_in_comments",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("allow_mathml_annotation_encodings",{processor:o=>{const i=ge(o,lt);return i?{value:o,valid:i}:{valid:!1,message:"Must be an array of strings."}},default:[]}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:Rd}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Rd}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Rd}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Rd}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>lt(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>ge(o,Xn)||o===!1?{value:zp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>b(o)?{value:Up(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>ge(o,Es)?{value:o,valid:!0}:Es(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const i=D(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const i=D(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),n("user_id",{processor:"string",default:"Anonymous"}),n("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:b(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:qc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:V8.getAttrib(e.getElement(),"placeholder")})}),n("lists_indent_on_tab",{processor:"boolean",default:!0}),n("list_max_depth",{processor:o=>{const i=B(o);if(i){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:i}}else return{valid:!1,message:"Must be a number"}}})},rc=ko("iframe_attrs"),m3=ko("doctype"),Cm=ko("document_base_url"),h3=ko("body_id"),_m=ko("body_class"),p0=ko("content_security_policy"),Kf=ko("br_in_pre"),Mr=ko("forced_root_block"),Oc=ko("forced_root_block_attrs"),SC=ko("newline_behavior"),TC=ko("br_newline_selector"),AC=ko("no_newline_selector"),kC=ko("keep_styles"),or=ko("end_container_on_empty_block"),Md=ko("automatic_uploads"),M1=ko("images_reuse_filename"),UA=ko("images_replace_blob_uris"),Vp=ko("icons"),ar=ko("icons_url"),VA=ko("images_upload_url"),OC=ko("images_upload_base_path"),WA=ko("images_upload_credentials"),KA=ko("images_upload_handler"),g0=ko("content_css_cors"),vb=ko("referrer_policy"),W8=ko("crossorigin"),m0=ko("language"),LC=ko("language_url"),b3=ko("indent_use_margin"),DC=ko("indentation"),NC=ko("content_css"),v3=ko("content_style"),x3=ko("font_css"),xb=ko("directionality"),K8=ko("inline_boundaries_selector"),j8=ko("object_resizing"),Z8=ko("resize_img_proportional"),yb=ko("placeholder"),Cb=ko("event_root"),gr=ko("service_message"),Wp=ko("theme"),_b=ko("theme_url"),h0=ko("model"),I1=ko("model_url"),Em=ko("inline_boundaries"),RC=ko("formats"),MC=ko("preview_styles"),wm=ko("format_empty_lines"),IC=ko("format_noneditable_selector"),b0=ko("custom_ui_selector"),Kp=ko("inline"),BC=ko("hidden_input"),B1=ko("submit_patch"),G8=ko("add_form_submit_trigger"),Y8=ko("add_unload_trigger"),FC=ko("custom_undo_redo_levels"),q8=ko("disable_nodechange"),PC=ko("readonly"),X8=ko("editable_root"),Eb=ko("content_css_cors"),F1=ko("plugins"),v0=ko("external_plugins"),y3=ko("block_unsupported_drop"),wb=ko("visual"),C3=ko("visual_table_class"),Sm=ko("visual_anchor_class"),tf=ko("iframe_aria_text"),x0=ko("setup"),Q8=ko("init_instance_callback"),Sb=ko("urlconverter_callback"),J8=ko("auto_focus"),e7=ko("browser_spellcheck"),t7=ko("protect"),$C=ko("paste_block_drop"),jp=ko("paste_data_images"),Tm=ko("paste_preprocess"),Zp=ko("paste_postprocess"),_3=ko("newdocument_content"),n7=ko("paste_webkit_styles"),o7=ko("paste_remove_styles_if_webkit"),s7=ko("paste_merge_formats"),E3=ko("smart_paste"),r7=ko("paste_as_text"),HC=ko("paste_tab_spaces"),a7=ko("allow_html_data_urls"),w3=ko("text_patterns"),Tb=ko("text_patterns_lookup"),y0=ko("noneditable_class"),Ab=ko("editable_class"),zC=ko("noneditable_regexp"),i7=ko("preserve_cdata"),l7=ko("highlight_on_focus"),kb=ko("xss_sanitization"),C0=ko("init_content_sync"),UC=e=>e.options.isSet("text_patterns_lookup"),c7=e=>Kn.explode(e.options.get("font_size_style_values")),Ob=e=>Kn.explode(e.options.get("font_size_classes")),VC=e=>e.options.get("encoding")==="xml",d7=e=>Kn.explode(e.options.get("images_file_types")),Gp=ko("table_tab_navigation"),u7=ko("details_initial_state"),WC=ko("details_serialized_state"),f7=ko("sandbox_iframes"),Lb=e=>e.options.get("sandbox_iframes_exclusions"),KC=ko("convert_unsafe_embeds"),Db=ko("license_key"),Nb=ko("api_key"),Am=ko("disabled"),_0=ko("user_id"),p7=ko("fetch_users"),g7=ko("lists_indent_on_tab"),m7=e=>w.from(e.options.get("list_max_depth")),S3=Vo,h7=Gn,b7=e=>{const n=e.parentNode;n&&n.removeChild(e)},jC=e=>{const n=Ac(e);return{count:e.length-n.length,text:n}},ZC=e=>{let n;for(;(n=e.data.lastIndexOf(ui))!==-1;)e.deleteData(n,1)},Yp=(e,n)=>(P1(e),n),Rb=(e,n)=>{const o=jC(e.data.substr(0,n.offset())),i=jC(e.data.substr(n.offset()));return(o.text+i.text).length>0?(ZC(e),hn(e,n.offset()-o.count)):n},Mb=(e,n)=>{const o=n.container(),i=ie(_t(o.childNodes),e).map(c=>c<n.offset()?hn(o,n.offset()-1):n).getOr(n);return P1(e),i},GC=(e,n)=>h7(e)&&n.container()===e?Rb(e,n):Yp(e,n),YC=(e,n)=>n.container()===e.parentNode?Mb(e,n):Yp(e,n),T3=(e,n)=>hn.isTextPosition(n)?GC(e,n):YC(e,n),P1=e=>{S3(e)&&nr(e)&&(Fp(e)?e.removeAttribute("data-mce-caret"):b7(e)),h7(e)&&(ZC(e),e.data.length===0&&b7(e))},v7=Pr,A3=Zc,k3=Ph,x7="*[contentEditable=false],video,audio,embed,object",y7=(e,n,o)=>{const i=Cu(n.getBoundingClientRect(),o);let c,f;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;c=e.scrollLeft||_.scrollLeft,f=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();c=e.scrollLeft-_.left,f=e.scrollTop-_.top}i.left+=c,i.right+=c,i.top+=f,i.bottom+=f,i.width=1;let h=n.offsetWidth-n.clientWidth;return h>0&&(o&&(h*=-1),i.left+=h,i.right+=h),i},qC=e=>{var n,o;const i=Nt(yt.fromDom(e),x7);for(let c=0;c<i.length;c++){const f=i[c].dom;let h=f.previousSibling;if(Qu(h)){const _=h.data;_.length===1?(n=h.parentNode)===null||n===void 0||n.removeChild(h):h.deleteData(_.length-1,1)}h=f.nextSibling,t0(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},XC=(e,n,o,i)=>{const c=hs();let f,h;const _=Mr(e),S=e.dom,F=(rt,st)=>{let Vt;if(oe(),k3(st))return null;if(o(st)){const Bt=K5(_,st,rt),Yt=y7(n,st,rt);S.setStyle(Bt,"top",Yt.top),S.setStyle(Bt,"caret-color","transparent"),h=Bt;const rn=S.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});S.setStyles(rn,{...Yt}),S.add(n,rn),c.set({caret:rn,element:st,before:rt}),rt&&S.addClass(rn,"mce-visual-caret-before"),he(),Vt=st.ownerDocument.createRange(),Vt.setStart(Bt,0),Vt.setEnd(Bt,0)}else return h=n3(st,rt),Vt=st.ownerDocument.createRange(),Om(h.nextSibling)?(Vt.setStart(h,0),Vt.setEnd(h,0)):(Vt.setStart(h,1),Vt.setEnd(h,1)),Vt;return Vt},oe=()=>{qC(n),h&&(P1(h),h=null),c.on(rt=>{S.remove(rt.caret),c.clear()}),f&&(clearInterval(f),f=void 0)},he=()=>{f=window.setInterval(()=>{c.on(rt=>{i()?S.toggleClass(rt.caret,"mce-visual-caret-hidden"):S.addClass(rt.caret,"mce-visual-caret-hidden")})},500)},Se=()=>{c.on(rt=>{const st=y7(n,rt.element,rt.before);S.setStyles(rt.caret,{...st})})},Be=()=>clearInterval(f),it=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:c.isSet,show:F,hide:oe,getCss:it,reposition:Se,destroy:Be}},km=()=>fr.browser.isFirefox(),Om=e=>v7(e)||A3(e),qp=e=>(Om(e)||pu(e)&&km())&&$u(yt.fromDom(e)).exists(Ed),Ib=ni,jf=Pr,QC=Zc,Su=xc("display","block table table-cell table-row table-caption list-item"),C7=nr,Bb=D1,JC=Vo,jA=Gn,e_=jr,Lm=e=>e===1,Xp=e=>e===-1,O3=(e,n)=>{let o;for(;o=e(n);)if(!Bb(o))return o;return null},Qp=(e,n,o,i,c)=>{const f=new ja(e,i),h=jf(e)||Bb(e);let _;if(Xp(n)){if(h&&(_=O3(f.prev.bind(f),!0),o(_)))return _;for(;_=O3(f.prev.bind(f),c);)if(o(_))return _}if(Lm(n)){if(h&&(_=O3(f.next.bind(f),!0),o(_)))return _;for(;_=O3(f.next.bind(f),c);)if(o(_))return _}return null},t_=(e,n)=>{const o=c=>Ib(c.dom),i=c=>c.dom===n;return Mi(yt.fromDom(e),o,i).map(c=>c.dom).getOr(n)},Zf=(e,n)=>{for(;e&&e!==n;){if(Su(e))return e;e=e.parentNode}return null},Id=(e,n,o)=>Zf(e.container(),o)===Zf(n.container(),o),Fb=(e,n)=>{if(!n)return w.none();const o=n.container(),i=n.offset();return JC(o)?w.from(o.childNodes[i+e]):w.none()},_7=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},Pb=(e,n,o)=>Zf(n,e)===Zf(o,e),$b=(e,n,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let f=c[i];if(f&&C7(f)&&(f=f[i]),jf(f)||QC(f)){if(Pb(n,f,c))return f;break}if(e_(f))break;c=c.parentNode}return null},Ho=z(_7,!0),$1=z(_7,!1),L3=(e,n,o)=>{let i;const c=z($b,!0,n),f=z($b,!1,n),h=o.startContainer,_=o.startOffset;if(D1(h)){const S=jA(h)?h.parentNode:h,F=S.getAttribute("data-mce-caret");if(F==="before"&&(i=S.nextSibling,qp(i)))return Ho(i);if(F==="after"&&(i=S.previousSibling,qp(i)))return $1(i)}if(!o.collapsed)return o;if(Gn(h)){if(C7(h)){if(e===1){if(i=f(h),i)return Ho(i);if(i=c(h),i)return $1(i)}if(e===-1){if(i=c(h),i)return $1(i);if(i=f(h),i)return Ho(i)}return o}if(Qu(h)&&_>=h.data.length-1)return e===1&&(i=f(h),i)?Ho(i):o;if(t0(h)&&_<=1)return e===-1&&(i=c(h),i)?$1(i):o;if(_===h.data.length)return i=f(h),i?Ho(i):o;if(_===0)return i=c(h),i?$1(i):o}return o},E7=(e,n)=>Fb(e?0:-1,n).filter(jf),Jp=(e,n,o)=>{const i=L3(e,n,o);return e===-1?hn.fromRangeStart(i):hn.fromRangeEnd(i)},H1=e=>w.from(e.getNode()).map(yt.fromDom),Hb=e=>w.from(e.getNode(!0)).map(yt.fromDom),eg=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Gf=(e,n)=>{const o=Id(e,n);return!o&&Qr(e.getNode())?!0:o},zb=Pr,Bd=Gn,Ub=Vo,D3=Qr,tg=jr,ng=Ba,Fd=a0,E0=(e,n)=>{const o=[];let i=e;for(;i&&i!==n;)o.push(i),i=i.parentNode;return o},z1=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,nf=(e,n)=>{if(Lm(e)){if(tg(n.previousSibling)&&!Bd(n.previousSibling))return hn.before(n);if(Bd(n))return hn(n,0)}if(Xp(e)){if(tg(n.nextSibling)&&!Bd(n.nextSibling))return hn.after(n);if(Bd(n))return hn(n,n.data.length)}return Xp(e)?D3(n)?hn.before(n):hn.after(n):hn.before(n)},w7=(e,n)=>{const o=n.nextSibling;return o&&tg(o)?Bd(o)?hn(o,0):hn.before(o):og(1,hn.after(n),e)},og=(e,n,o)=>{let i,c,f,h;if(!Ub(o)||!n)return null;if(n.isEqual(hn.after(o))&&o.lastChild){if(h=hn.after(o.lastChild),Xp(e)&&tg(o.lastChild)&&Ub(o.lastChild))return D3(o.lastChild)?hn.before(o.lastChild):h}else h=n;const _=h.container();let S=h.offset();if(Bd(_)){if(Xp(e)&&S>0)return hn(_,--S);if(Lm(e)&&S<_.length)return hn(_,++S);i=_}else{if(Xp(e)&&S>0&&(c=z1(_,S-1),tg(c)))return!ng(c)&&(f=Qp(c,e,Fd,c),f)?Bd(f)?hn(f,f.data.length):hn.after(f):Bd(c)?hn(c,c.data.length):hn.before(c);if(Lm(e)&&S<_.childNodes.length&&(c=z1(_,S),tg(c)))return D3(c)?w7(o,c):!ng(c)&&(f=Qp(c,e,Fd,c),f)?Bd(f)?hn(f,0):hn.before(f):Bd(c)?hn(c,0):hn.after(c);i=c||h.getNode()}if(i&&(Lm(e)&&h.isAtEnd()||Xp(e)&&h.isAtStart())&&(i=Qp(i,e,ee,o,!0),Fd(i,o)))return nf(e,i);c=i&&Qp(i,e,Fd,o);const F=ds(G(E0(_,o),zb));return F&&(!c||!F.contains(c))?(Lm(e)?h=hn.after(F):h=hn.before(F),h):c?nf(e,c):null},ll=e=>({next:n=>og(1,n,e),prev:n=>og(-1,n,e)}),S7=(e,n,o)=>{const i=e?hn.before(o):hn.after(o);return ed(e,n,i)},T7=e=>Qr(e)?hn.before(e):hn.after(e),N3=e=>hn.isTextPosition(e)?e.offset()===0:jr(e.getNode()),Vb=e=>{if(hn.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return jr(e.getNode(!0))},Wb=(e,n)=>!hn.isTextPosition(e)&&!hn.isTextPosition(n)&&e.getNode()===n.getNode(!0),n_=e=>!hn.isTextPosition(e)&&Qr(e.getNode()),ZA=(e,n,o)=>e?!Wb(n,o)&&!n_(n)&&Vb(n)&&N3(o):!Wb(o,n)&&N3(n)&&Vb(o),ed=(e,n,o)=>{const i=ll(n);return w.from(e?i.next(o):i.prev(o))},Tu=(e,n,o)=>ed(e,n,o).bind(i=>Id(o,i,n)&&ZA(e,o,i)?ed(e,n,i):w.some(i)),Kb=(e,n,o,i)=>Tu(e,n,o).bind(c=>i(c)?Kb(e,n,c,i):w.some(c)),sg=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Gn(o)?w.some(hn(o,e?0:o.data.length)):o?jr(o)?w.some(e?hn.before(o):T7(o)):S7(e,n,o):w.none()},cl=z(ed,!0),Al=z(ed,!1),Bi=z(sg,!0),Pd=z(sg,!1),jb="_mce_caret",Gi=e=>Vo(e)&&e.id===jb,of=(e,n)=>{let o=n;for(;o&&o!==e;){if(Gi(o))return o;o=o.parentNode}return null},R3=e=>lt(e.start),A7=e=>vn(e,"rng"),GA=e=>vn(e,"id"),Zb=e=>vn(e,"name"),ws=e=>Kn.isArray(e.start),Dm=e=>!Zb(e)&&oo(e.forward)?e.forward:!0,Au=(e,n)=>(Vo(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),o_=(e,n)=>{const o=w.from(Dd(e.getRoot(),n.start)),i=w.from(Dd(e.getRoot(),n.end));return Tt(o,i,(c,f)=>{const h=e.createRng();return h.setStart(c.container(),c.offset()),h.setEnd(f.container(),f.offset()),{range:h,forward:Dm(n)}})},s_=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(ui);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},r_=e=>!e.hasChildNodes(),a_=(e,n)=>Pd(e).fold(K,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Gb=(e,n,o)=>r_(n)&&of(e,n)?(s_(n,o),!0):!1,Yb=(e,n,o,i)=>{const c=o[n?"start":"end"],f=e.getRoot();if(c){let h=f,_=c[0];for(let S=c.length-1;h&&S>=1;S--){const F=h.childNodes;if(Gb(f,h,i))return!0;if(c[S]>F.length-1)return Gb(f,h,i)?!0:a_(h,i);h=F[c[S]]}Gn(h)&&(_=Math.min(c[0],h.data.length)),Vo(h)&&(_=Math.min(c[0],h.childNodes.length)),n?i.setStart(h,_):i.setEnd(h,_)}return!0},Nm=e=>Gn(e)&&e.data.length>0,$d=(e,n,o)=>{const i=e.get(o.id+"_"+n),c=i==null?void 0:i.parentNode,f=o.keep;if(i&&c){let h,_;if(n==="start"?f?i.hasChildNodes()?(h=i.firstChild,_=1):Nm(i.nextSibling)?(h=i.nextSibling,_=0):Nm(i.previousSibling)?(h=i.previousSibling,_=i.previousSibling.data.length):(h=c,_=e.nodeIndex(i)+1):(h=c,_=e.nodeIndex(i)):f?i.hasChildNodes()?(h=i.firstChild,_=1):Nm(i.previousSibling)?(h=i.previousSibling,_=i.previousSibling.data.length):(h=c,_=e.nodeIndex(i)):(h=c,_=e.nodeIndex(i)),!f){const S=i.previousSibling,F=i.nextSibling;Kn.each(Kn.grep(i.childNodes),he=>{Gn(he)&&(he.data=he.data.replace(/\uFEFF/g,""))});let oe;for(;oe=e.get(o.id+"_"+n);)e.remove(oe,!0);if(Gn(F)&&Gn(S)&&!fr.browser.isOpera()){const he=S.data.length;S.appendData(F.data),e.remove(F),h=S,_=he}}return w.some(hn(h,_))}else return w.none()},Rm=(e,n)=>{const o=e.createRng();return Yb(e,!0,n,o)&&Yb(e,!1,n,o)?w.some({range:o,forward:Dm(n)}):w.none()},i_=(e,n)=>{const o=$d(e,"start",n),i=$d(e,"end",n);return Tt(o,i.or(o),(c,f)=>{const h=e.createRng();return h.setStart(Au(e,c.container()),c.offset()),h.setEnd(Au(e,f.container()),f.offset()),{range:h,forward:Dm(n)}})},M3=(e,n)=>w.from(e.select(n.name)[n.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),l_=(e,n)=>{const o=e.dom;if(n){if(ws(n))return Rm(o,n);if(R3(n))return o_(o,n);if(GA(n))return i_(o,n);if(Zb(n))return M3(o,n);if(A7(n))return w.some({range:n.rng,forward:Dm(n)})}return w.none()},I3=(e,n,o)=>Jr(e,n,o),Si=(e,n)=>{l_(e,n).each(({range:o,forward:i})=>{e.setRng(o,i)})},td=e=>Vo(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",B3=(e=>n=>e===n)(Js),rg=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,qb=e=>!rg(e)&&!B3(e)&&!Ne(e),Xb=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},c_=e=>nt(e,n=>{const o=gm(n);return o?[yt.fromDom(o)]:[]}),Qb=e=>Xb(e).length>1,d_=e=>G(c_(e),_i),F3=e=>Nt(e,"td[data-mce-selected],th[data-mce-selected]"),Jb=(e,n)=>{const o=F3(n);return o.length>0?o:d_(e)},U1=e=>Jb(Xb(e.selection.getSel()),yt.fromDom(e.getBody())),ag=(e,n)=>Vu(e,"table",n),O7=e=>{const n=e.startContainer,o=e.startOffset;return Gn(n)?o===0?w.some(yt.fromDom(n)):w.none():w.from(n.childNodes[o]).map(yt.fromDom)},ev=e=>{const n=e.endContainer,o=e.endOffset;return Gn(n)?o===n.data.length?w.some(yt.fromDom(n)):w.none():w.from(n.childNodes[o-1]).map(yt.fromDom)},tv=e=>pc(e).fold(L([e]),n=>[e].concat(tv(n))),sf=e=>Xa(e).fold(L([e]),n=>Fs(n)==="br"?Qs(n).map(o=>[e].concat(sf(o))).getOr([]):[e].concat(sf(n))),P3=(e,n)=>Tt(O7(n),ev(n),(o,i)=>{const c=we(tv(e),z(Ws,o)),f=we(sf(e),z(Ws,i));return c.isSome()&&f.isSome()}).getOr(!1),nv=(e,n,o,i)=>{const c=o,f=new ja(o,c),h=nn(e.schema.getMoveCaretBeforeOnEnterElements(),(S,F)=>!D(["td","th","table"],F.toLowerCase()));let _=o;do{if(Gn(_)&&Kn.trim(_.data).length!==0){i?n.setStart(_,0):n.setEnd(_,_.data.length);return}if(h[_.nodeName]){i?n.setStartBefore(_):_.nodeName==="BR"?n.setEndBefore(_):n.setEndAfter(_);return}}while(_=i?f.next():f.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},w0=e=>{const n=e.selection.getSel();return s(n)&&n.rangeCount>0},$3=(e,n)=>{const o=U1(e);o.length>0?I(o,i=>{const c=i.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),n(f,!0)}):n(e.selection.getRng(),!1)},L7=(e,n,o)=>{const i=fb(e,n);o(i),e.moveToBookmark(i)},Mm=(e,n)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&n(e.startContainer.childNodes[e.startOffset]),u_=e=>Mm(e,uu),f_=e=>Mm(e,Gn),p_=e=>Mm(e,s8),ig=e=>B(e==null?void 0:e.nodeType),ov=e=>Vo(e)&&!td(e)&&!Gi(e)&&!Tp(e),g_=(e,n)=>{if(ov(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},sv=(e,n,o)=>{const{selection:i,dom:c}=e,f=i.getNode(),h=Pr(f);L7(i,!0,()=>{n()}),h&&Pr(f)&&c.isChildOf(f,e.getBody())?e.selection.select(f):o(i.getStart())&&rv(c,i)},rv=(e,n)=>{var o,i;const c=n.getRng(),{startContainer:f,startOffset:h}=c,_=n.getNode();if(!g_(e,_)&&Vo(f)){const S=f.childNodes,F=e.getRoot();let oe;if(h<S.length){const he=S[h];oe=new ja(he,(o=e.getParent(he,e.isBlock))!==null&&o!==void 0?o:F)}else{const he=S[S.length-1];oe=new ja(he,(i=e.getParent(he,e.isBlock))!==null&&i!==void 0?i:F),oe.next(!0)}for(let he=oe.current();he;he=oe.next()){if(e.getContentEditable(he)==="false")return;if(Gn(he)&&!iv(he)){c.setStart(he,0),n.setRng(c);return}}}},D7=(e,n,o)=>{if(e){const i=n?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(Vo(e)||!iv(e))return e}},av=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||ju(e,n),Im=(e,n,o)=>e.schema.isValidChild(n,o),iv=(e,n=!1)=>{if(s(e)&&Gn(e)){const o=n?e.data.replace(/ /g," "):e.data;return du(o)}else return!1},m_=e=>s(e)&&Gn(e)&&e.length===0,Zr=(e,n)=>{const o="[data-mce-cef-wrappable]",i=IC(e),c=io(i)?o:`${o},${i}`;return Ml(yt.fromDom(n),c)},lv=(e,n)=>{const o=e.dom;return ov(n)&&o.getContentEditable(n)==="false"&&Zr(e,n)&&o.select('[contenteditable="true"]',n).length===0},V1=(e,n)=>b(e)?e(n):(s(n)&&(e=e.replace(/%(\w+)/g,(o,i)=>n[i]||o)),e),u=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),m=(e,n)=>{if(us(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=rm(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},C=(e,n,o)=>{const i=e.getStyle(n,o);return m(i,o)},T=(e,n)=>{let o;return e.getParent(n,i=>Vo(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},X=(e,n,o)=>e.getParents(n,o,e.getRoot()),ue=(e,n,o)=>{const i=e.formatter.get(n);return s(i)&&U(i,o)},De=(e,n)=>ue(e,n,i=>{const c=f=>b(f)||f.length>1&&f.charAt(0)==="%";return U(["styles","attributes"],f=>Mn(i,f).exists(h=>{const _=Eo(h)?h:Tn(h);return U(_,c)}))}),Ye=(e,n,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=f=>nn(f,(h,_)=>U(i,S=>S===_));return ue(e,n,f=>{const h=c(f);return ue(e,o,_=>{const S=c(_);return wo(h,S)})})},ct=e=>Hn(e,"block"),Dt=e=>ct(e)&&e.wrapper===!0,en=e=>ct(e)&&e.wrapper!==!0,wn=e=>Hn(e,"selector"),to=e=>Hn(e,"inline"),xo=e=>wn(e)&&to(e)&&At(Mn(e,"mixed"),!0),Wo=e=>wn(e)&&e.expand!==!1&&!to(e),yn=e=>{const n=[];let o=e;for(;o;){if(Gn(o)&&o.data!==ui||o.childNodes.length>1)return[];Vo(o)&&n.push(o),o=o.firstChild}return n},In=e=>yn(e).length>0,ns=e=>Gi(e.dom)&&In(e.dom),Ss=td,No=X,yr=iv,_r=av,Ns=e=>Qr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Da=(e,n)=>{let o=n;for(;o;){if(Vo(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Lc=(e,n,o,i)=>{const c=n.data;if(e){for(let f=o;f>0;f--)if(i(c.charAt(f-1)))return f}else for(let f=o;f<c.length;f++)if(i(c.charAt(f)))return f;return-1},Yf=(e,n,o)=>Lc(e,n,o,i=>B3(i)||rg(i)),W1=(e,n,o)=>Lc(e,n,o,qb),K1=(e,n,o,i,c,f)=>{let h;const _=e.getParent(o,he=>Fh(he)||e.isBlock(he)),S=s(_)?_:n,F=(he,Se,Be)=>{const it=Xu(e),rt=c?it.backwards:it.forwards;return w.from(rt(he,Se,(st,Vt)=>Ss(st.parentNode)?-1:(h=st,Be(c,st,Vt)),S))};return F(o,i,Yf).bind(he=>f?F(he.container,he.offset+(c?-1:0),W1):w.some(he)).orThunk(()=>h?w.some({container:h,offset:c?0:h.length}):w.none())},Er=(e,n,o,i,c)=>{const f=i[c];Gn(i)&&io(i.data)&&f&&(i=f);const h=No(e,i);for(let _=0;_<h.length;_++)for(let S=0;S<n.length;S++){const F=n[S];if(!(s(F.collapsed)&&F.collapsed!==o.collapsed)&&wn(F)&&e.is(h[_],F.selector))return h[_]}return i},dl=(e,n,o,i)=>{var c;let f=o;const h=e.getRoot(),_=n[0];if(ct(_)&&(f=_.wrapper?null:e.getParent(o,_.block,h)),!f){const S=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:h;f=e.getParent(Gn(o)?o.parentNode:o,F=>F!==h&&_r(e.schema,F),S)}if(f&&ct(_)&&_.wrapper&&(f=No(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[i]&&!e.isBlock(f[i])&&(f=f[i],!u(f,"br")););return f||o},ul=(e,n,o,i)=>{const c=o.parentNode;return s(o[i])?!1:c===n||us(c)||e.isBlock(c)?!0:ul(e,n,c,i)},ac=(e,n,o,i,c,f)=>{let h=o;const _=c?"previousSibling":"nextSibling",S=e.getRoot();if(Gn(o)&&!yr(o)&&(c?i>0:i<o.data.length))return o;for(;h;){if(Fh(h))return o;if(!n[0].block_expand&&e.isBlock(h))return f?h:o;for(let F=h[_];F;F=F[_]){const oe=Gn(F)&&!ul(e,S,F,_);if(!Ss(F)&&!Ns(F)&&!yr(F,oe))return h}if(h===S||h.parentNode===S){o=h;break}h=h.parentNode}return o},Kl=e=>Ss(e.parentNode)||Ss(e),Dc=(e,n,o,i={})=>{const{includeTrailingSpace:c=!1,expandToBlock:f=!0}=i,h=e.getParent(n.commonAncestorContainer,Be=>Fh(Be)),_=s(h)?h:e.getRoot();let{startContainer:S,startOffset:F,endContainer:oe,endOffset:he}=n;const Se=o[0];return Vo(S)&&S.hasChildNodes()&&(S=Od(S,F),Gn(S)&&(F=0)),Vo(oe)&&oe.hasChildNodes()&&(oe=Od(oe,n.collapsed?he:he-1),Gn(oe)&&(he=oe.data.length)),S=Da(e,S),oe=Da(e,oe),Kl(S)&&(S=Ss(S)?S:S.parentNode,n.collapsed?S=S.previousSibling||S:S=S.nextSibling||S,Gn(S)&&(F=n.collapsed?S.length:0)),Kl(oe)&&(oe=Ss(oe)?oe:oe.parentNode,n.collapsed?oe=oe.nextSibling||oe:oe=oe.previousSibling||oe,Gn(oe)&&(he=n.collapsed?0:oe.length)),n.collapsed&&(K1(e,_,S,F,!0,c).each(({container:rt,offset:st})=>{S=rt,F=st}),K1(e,_,oe,he,!1,c).each(({container:rt,offset:st})=>{oe=rt,he=st})),(to(Se)||Se.block_expand)&&((!to(Se)||!Gn(S)||F===0)&&(S=ac(e,o,S,F,!0,f)),(!to(Se)||!Gn(oe)||he===oe.data.length)&&(oe=ac(e,o,oe,he,!1,f))),Wo(Se)&&(S=Er(e,o,n,S,"previousSibling"),oe=Er(e,o,n,oe,"nextSibling")),(ct(Se)||wn(Se))&&(S=dl(e,o,S,"previousSibling"),oe=dl(e,o,oe,"nextSibling"),ct(Se)&&(e.isBlock(S)||(S=ac(e,o,S,F,!0,f),Gn(S)&&(F=0)),e.isBlock(oe)||(oe=ac(e,o,oe,he,!1,f),Gn(oe)&&(he=oe.data.length)))),Vo(S)&&S.parentNode&&(F=e.nodeIndex(S),S=S.parentNode),Vo(oe)&&oe.parentNode&&(he=e.nodeIndex(oe)+1,oe=oe.parentNode),{startContainer:S,startOffset:F,endContainer:oe,endOffset:he}},mi=(e,n,o)=>{var i;const c=n.startOffset,f=Od(n.startContainer,c),h=n.endOffset,_=Od(n.endContainer,h-1),S=st=>{const Vt=st[0];Gn(Vt)&&Vt===f&&c>=Vt.data.length&&st.splice(0,1);const Bt=st[st.length-1];return h===0&&st.length>0&&Bt===_&&Gn(Bt)&&st.splice(st.length-1,1),st},F=(st,Vt,Bt)=>{const Yt=[];for(;st&&st!==Bt;st=st[Vt])Yt.push(st);return Yt},oe=(st,Vt)=>e.getParent(st,Bt=>Bt.parentNode===Vt,Vt),he=(st,Vt,Bt)=>{const Yt=Bt?"nextSibling":"previousSibling";for(let rn=st,Sn=rn.parentNode;rn&&rn!==Vt;rn=Sn){Sn=rn.parentNode;const so=F(rn===st?rn:rn[Yt],Yt);so.length&&(Bt||so.reverse(),o(S(so)))}};if(f===_)return o(S([f]));const Se=(i=e.findCommonAncestor(f,_))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(f,_))return he(f,Se,!0);if(e.isChildOf(_,f))return he(_,Se);const Be=oe(f,Se)||f,it=oe(_,Se)||_;he(f,Be,!0);const rt=F(Be===f?Be:Be.nextSibling,"nextSibling",it===_?it.nextSibling:it);rt.length&&o(S(rt)),he(_,it)},N7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],S0=e=>Ha(e)&&pr(e)===ui,qf=(e,n,o,i)=>$u(n).fold(()=>"skipping",c=>i==="br"||S0(n)?"valid":E8(n)?"existing":Gi(n.dom)?"caret":U(N7,f=>Ml(n,f))?"valid-block":!Im(e,o,i)||!Im(e,Fs(c),o)?"invalid-child":"valid"),fl=(e,n)=>{const o=Dc(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},R7=(e,n,o,i,c,f)=>{const{uid:h=n,..._}=o;b1(e,lm()),Mo(e,`${Gu()}`,h),Mo(e,`${Sc()}`,i);const{attributes:S={},classes:F=[]}=c(h,_);if(Aa(e,S),F2(e,F),f){F.length>0&&Mo(e,`${k1()}`,F.join(","));const oe=Rt(S);oe.length>0&&Mo(e,`${qu()}`,oe.join(","))}},h_=e=>{Hl(e,lm()),er(e,`${Gu()}`),er(e,`${Sc()}`),er(e,`${Yu()}`);const n=pa(e,`${qu()}`).map(i=>i.split(",")).getOr([]),o=pa(e,`${k1()}`).map(i=>i.split(",")).getOr([]);I(n,i=>er(e,i)),_p(e,o),er(e,`${k1()}`),er(e,`${qu()}`)},zo=(e,n,o,i,c)=>{const f=yt.fromTag("span",e);return R7(f,n,o,i,c,!1),f},Hd=(e,n,o,i,c,f)=>{const h=[],_=zo(e.getDoc(),o,f,i,c),S=hs(),F=()=>{S.clear()},oe=()=>S.get().getOrThunk(()=>{const it=Yr(_);return h.push(it),S.set(it),it}),he=it=>{I(it,Se)},Se=it=>{switch(qf(e,it,"span",Fs(it))){case"invalid-child":{F();const st=hr(it);he(st),F();break}case"valid-block":{F(),R7(it,o,f,i,c,!0);break}case"valid":{const st=oe();nl(it,st);break}}},Be=it=>{const rt=V(it,yt.fromDom);he(rt)};return mi(e.dom,n,it=>{F(),Be(it)}),h},b_=(e,n,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,f=c.getRng(),h=U1(e).length>0,_=J("mce-annotation");if(f.collapsed&&!h&&fl(e,f),c.getRng().collapsed&&!h){const S=zo(e.getDoc(),_,i,n,o.decorate);ei(S,Js),c.getRng().insertNode(S.dom),c.select(S.dom)}else L7(c,!1,()=>{$3(e,S=>{Hd(e,S,_,n,o.decorate,i)})})})},T0=e=>{const n=q2();w8(e,n);const o=U5(e,n),i=nu("span"),c=f=>{I(f,h=>{i(h)?Fl(h):h_(h)})};return{register:(f,h)=>{n.register(f,h)},annotate:(f,h)=>{n.lookup(f).each(_=>{b_(e,f,_,h)})},annotationChanged:(f,h)=>{o.addListener(f,h)},remove:f=>{z5(e,w.some(f)).each(({elements:h})=>{const _=e.selection.getBookmark();c(h),e.selection.moveToBookmark(_)})},removeAll:f=>{const h=e.selection.getBookmark();Zt(Y2(e,f),(_,S)=>{c(_)}),e.selection.moveToBookmark(h)},getAll:f=>{const h=Y2(e,f);return kn(h,_=>V(_,S=>S.dom))}}},Bm=e=>({getBookmark:z(I3,e),moveToBookmark:z(Si,e)});Bm.isBookmarkNode=td;const Fm=(e,n,o)=>o.collapsed?!1:U(o.getClientRects(),i=>G5(i,e,n)),YA=(e,n)=>{const o=Ha(n)?pr(n).length:hr(n).length+1;return e>o?o:e<0?0:e},qA=e=>bc.range(e.start,YA(e.soffset,e.start),e.finish,YA(e.foffset,e.finish)),v_=(e,n)=>!Xg(n.dom)&&(vl(e,n)||Ws(e,n)),M7=e=>n=>v_(e,n.start)&&v_(e,n.finish),x_=e=>e.inline||fr.browser.isFirefox(),y_=e=>bc.range(yt.fromDom(e.startContainer),e.startOffset,yt.fromDom(e.endContainer),e.endOffset),ZP=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?w.none():w.from(n.getRangeAt(0))).map(y_)},GP=e=>{const n=fa(e);return ZP(n.dom).filter(M7(e))},YP=(e,n)=>w.from(n).filter(M7(e)).map(qA),qP=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),w.some(n)}catch{return w.none()}},H3=e=>{const n=x_(e)?GP(yt.fromDom(e.getBody())):w.none();e.bookmark=n.isSome()?n:e.bookmark},I7=e=>(e.bookmark?e.bookmark:w.none()).bind(o=>YP(yt.fromDom(e.getBody()),o)).bind(qP),XP=e=>{I7(e).each(n=>e.selection.setRng(n))},XA={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},C_=(e,n)=>(B(n)||(n=0),window.setTimeout(e,n)),JP=(e,n)=>(B(n)||(n=0),window.setInterval(e,n)),ku={setEditorTimeout:(e,n,o)=>C_(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const i=JP(()=>{e.removed?window.clearInterval(i):n()},o);return i}},QA=(e,n)=>e.view(n).fold(L([]),i=>{const c=e.owner(i),f=QA(e,c);return[i].concat(f)}),e$=(e,n)=>{const o=n.owner(e);return QA(n,o)};var __=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?w.none():w.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(yt.fromDom)},owner:e=>yi(e)});const E_=e=>{const n=$g(),o=yp(n),i=e$(e,__),c=Af(e),f=de(i,(h,_)=>{const S=Af(_);return{left:h.left+S.left,top:h.top+S.top}},{left:0,top:0});return Tf(f.left+c.left+o.left,f.top+c.top+o.top)},JA=e=>e.type==="nodechange"&&e.selectionChange,n$=(e,n)=>{const o=()=>{n.throttle()};kr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{kr.DOM.unbind(document,"mouseup",o)})},o$=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},s$=(e,n)=>{o$(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{JA(o)||H3(e)})},B7=e=>{const n=vi(()=>{H3(e)},0);e.on("init",()=>{e.inline&&n$(e,n),s$(e,n)}),e.on("remove",()=>{n.cancel()})};let A0;const F7=kr.DOM,r$=e=>Vo(e)&&XA.isEditorUIElement(e),w_=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},S_=(e,n)=>{const o=b0(e);return F7.getParent(n,c=>r$(c)||(o?e.dom.is(c,o):!1))!==null},ek=e=>{try{const n=ou(yt.fromDom(e.getElement()));return Il(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},mQ=(e,n)=>{const o=n.editor;B7(o);const i=(f,h)=>{if(l7(f)&&f.inline!==!0){const _=yt.fromDom(f.getContainer());h(_,"tox-edit-focus")}},c=f=>{if(!f.iframeElement)return;const _=yt.fromDom(f.iframeElement),S=E_(_),F=Ul(window);(S.top<F.y||S.top>F.bottom-25)&&_.dom.scrollIntoView({block:"center"})};o.on("focusin",()=>{const f=e.focusedEditor;if(w_(ek(o))&&i(o,b1),f!==o){f&&f.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:f}),o.focus(!0);const h=$c().browser;o.inline!==!0&&(h.isSafari()||h.isChromium())&&c(o)}}),o.on("focusout",()=>{ku.setEditorTimeout(o,()=>{const f=e.focusedEditor;(!w_(ek(o))||f!==o)&&i(o,Hl),!S_(o,ek(o))&&f===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),A0||(A0=f=>{const h=e.activeEditor;h&&os(f).each(_=>{const S=_;S.ownerDocument===document&&S!==document.body&&!S_(h,S)&&e.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},F7.bind(document,"focusin",A0))},a$=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&A0&&(F7.unbind(document,"focusin",A0),A0=null)},hQ=e=>{e.on("AddEditor",z(mQ,e)),e.on("RemoveEditor",z(a$,e))},i$=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),l$=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,bQ=e=>e.collapsed?w.from(Od(e.startContainer,e.startOffset)).map(yt.fromDom):w.none(),c$=(e,n)=>bQ(n).bind(o=>e0(o)?w.some(o):vl(e,o)?w.none():w.some(e)),ea=(e,n)=>{c$(yt.fromDom(e.getBody()),n).bind(o=>Bi(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},z3=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},P7=e=>wh(e)||wf(e).isSome(),$7=e=>s(e.iframeElement)&&wh(yt.fromDom(e.iframeElement)),lg=e=>{const n=e.getBody();return n&&P7(yt.fromDom(n))},H7=e=>{const n=ou(yt.fromDom(e.getElement()));return Il(n).filter(o=>!w_(o.dom)&&S_(e,o.dom)).isSome()},Xf=e=>e.inline?lg(e):$7(e),z7=e=>Xf(e)||H7(e),d$=e=>{const n=e.selection,o=e.getBody();let i=n.getRng();e.quirks.refreshContentEditable();const c=h=>{I7(h).each(_=>{h.selection.setRng(_),i=_})};!Xf(e)&&e.hasEditableRoot()&&c(e);const f=i$(e,n.getNode());if(f&&e.dom.isChildOf(f,o)){l$(e,f)||z3(o),z3(f),e.hasEditableRoot()||c(e),ea(e,i),T_(e);return}e.inline||(fr.browser.isOpera()||z3(o),e.getWin().focus()),(fr.browser.isFirefox()||e.inline)&&(z3(o),ea(e,i)),T_(e)},T_=e=>e.editorManager.setActive(e),tk=(e,n)=>{e.removed||(n?T_(e):d$(e))},Co={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Co.metaKeyPressed(e),metaKeyPressed:e=>fr.os.isMacOS()||fr.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},cg="data-mce-selected",U7="table,img,figure.image,hr,video,span.mce-preview-object,details",dg=Math.abs,j1=Math.round,V7={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},u$=e=>e.type==="longpress"||e.type.indexOf("touch")===0,nk=(e,n)=>{const o=n.dom,i=n.getDoc(),c=document,f=n.getBody();let h,_,S,F,oe,he,Se,Be,it,rt,st,Vt,Bt,Yt,rn;const Sn=Bo=>s(Bo)&&(Bh(Bo)||o.is(Bo,"figure.image")),so=Bo=>Zc(Bo)||o.hasClass(Bo,"mce-preview-object"),Un=(Bo,Pn)=>{if(u$(Bo)){const ho=Bo.touches[0];return Sn(Bo.target)&&!Fm(ho.clientX,ho.clientY,Pn)}else return Sn(Bo.target)&&!Fm(Bo.clientX,Bo.clientY,Pn)},gn=Bo=>{const Pn=Bo.target;Un(Bo,n.selection.getRng())&&!Bo.isDefaultPrevented()&&n.selection.select(Pn)},mn=Bo=>o.hasClass(Bo,"mce-preview-object")&&s(Bo.firstElementChild)?[Bo,Bo.firstElementChild]:o.is(Bo,"figure.image")?[Bo.querySelector("img")]:[Bo],Rn=Bo=>{const Pn=j8(n);return!Pn||n.mode.isReadOnly()||Bo.getAttribute("data-mce-resize")==="false"||Bo===n.getBody()?!1:o.hasClass(Bo,"mce-preview-object")&&s(Bo.firstElementChild)?Ml(yt.fromDom(Bo.firstElementChild),Pn):Ml(yt.fromDom(Bo),Pn)},Lo=(Bo,Pn)=>{if(so(Pn))return Bo.create("img",{src:fr.transparentSrc});if(pu(Pn)){const vs=Go(F.name,"n")?$e:tt,Ts=Pn.cloneNode(!0);return vs(Bo.select("tr",Ts)).each(vr=>{const sa=Bo.select("td,th",vr);Bo.setStyle(vr,"height",null),I(sa,Mu=>Bo.setStyle(Mu,"height",null))}),Ts}else return Pn.cloneNode(!0)},Qo=(Bo,Pn,ho)=>{if(s(ho)){const vs=mn(Bo);I(vs,Ts=>{Ts.style[Pn]||!n.schema.isValid(Ts.nodeName.toLowerCase(),Pn)?o.setStyle(Ts,Pn,ho):o.setAttrib(Ts,Pn,""+ho)})}},Ms=(Bo,Pn,ho)=>{Qo(Bo,"width",Pn),Qo(Bo,"height",ho)},To=Bo=>{let Pn,ho,vs,Ts,vr;Pn=Bo.screenX-he,ho=Bo.screenY-Se,Vt=Pn*F[2]+Be,Bt=ho*F[3]+it,Vt=Vt<5?5:Vt,Bt=Bt<5?5:Bt,(Sn(h)||so(h))&&Z8(n)!==!1?vs=!Co.modifierPressed(Bo):vs=Co.modifierPressed(Bo),vs&&(dg(Pn)>dg(ho)?(Bt=j1(Vt*rt),Vt=j1(Bt/rt)):(Vt=j1(Bt/rt),Bt=j1(Vt*rt))),Ms(_,Vt,Bt),Ts=F.startPos.x+Pn,vr=F.startPos.y+ho,Ts=Ts>0?Ts:0,vr=vr>0?vr:0,o.setStyles(S,{left:Ts,top:vr,display:"block"}),S.innerHTML=Vt+" &times; "+Bt,Pn=f.scrollWidth-Yt,ho=f.scrollHeight-rn,Pn+ho!==0&&o.setStyles(S,{left:Ts-Pn,top:vr-ho}),st||(Wf(n,h,Be,it,"corner-"+F.name),st=!0)},Gt=()=>{const Bo=st;st=!1,Bo&&(Qo(h,"width",Vt),Qo(h,"height",Bt)),o.unbind(i,"mousemove",To),o.unbind(i,"mouseup",Gt),c!==i&&(o.unbind(c,"mousemove",To),o.unbind(c,"mouseup",Gt)),o.remove(_),o.remove(S),o.remove(oe),lo(h),Bo&&(Nd(n,h,Vt,Bt,"corner-"+F.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),n.nodeChanged()},lo=Bo=>{Ro();const Pn=o.getPos(Bo,f),ho=Pn.x,vs=Pn.y,Ts=Bo.getBoundingClientRect(),vr=Ts.width||Ts.right-Ts.left,sa=Ts.height||Ts.bottom-Ts.top;h!==Bo&&(dr(),h=Bo,Vt=Bt=0);const Mu=n.dispatch("ObjectSelected",{target:Bo});Rn(Bo)&&!Mu.isDefaultPrevented()?Zt(V7,(fd,a1)=>{const bf=pd=>{const i1=mn(h)[0];he=pd.screenX,Se=pd.screenY,Be=i1.clientWidth,it=i1.clientHeight,rt=it/Be,F=fd,F.name=a1,F.startPos={x:vr*fd[0]+ho,y:sa*fd[1]+vs},Yt=f.scrollWidth,rn=f.scrollHeight,oe=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(oe,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=Lo(o,h),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:ho,top:vs,margin:0}),Ms(_,vr,sa),_.removeAttribute(cg),f.appendChild(_),o.bind(i,"mousemove",To),o.bind(i,"mouseup",Gt),c!==i&&(o.bind(c,"mousemove",To),o.bind(c,"mouseup",Gt)),S=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Be+" &times; "+it)};let Pc=o.get("mceResizeHandle"+a1);Pc&&o.remove(Pc),Pc=o.add(f,"div",{id:"mceResizeHandle"+a1,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+a1+"-resize; margin:0; padding:0"}),o.bind(Pc,"mousedown",pd=>{pd.stopImmediatePropagation(),pd.preventDefault(),bf(pd)}),fd.elm=Pc,o.setStyles(Pc,{left:vr*fd[0]+ho-Pc.offsetWidth/2,top:sa*fd[1]+vs-Pc.offsetHeight/2})}):dr(!1)},rs=vi(lo,0),dr=(Bo=!0)=>{rs.cancel(),Ro(),h&&Bo&&h.removeAttribute(cg),Zt(V7,(Pn,ho)=>{const vs=o.get("mceResizeHandle"+ho);vs&&(o.unbind(vs),o.remove(vs))})},va=(Bo,Pn)=>o.isChildOf(Bo,Pn),Zn=Bo=>{if(st||n.removed||n.composing)return;const Pn=Bo.type==="mousedown"?Bo.target:e.getNode(),ho=$l(yt.fromDom(Pn),U7).map(Ts=>Ts.dom).filter(Ts=>o.isEditable(Ts.parentElement)||Ts.nodeName==="IMG"&&o.isEditable(Ts)).getOrUndefined(),vs=s(ho)?o.getAttrib(ho,cg,"1"):"1";if(I(o.select(`img[${cg}],hr[${cg}]`),Ts=>{Ts.removeAttribute(cg)}),s(ho)&&va(ho,f)&&z7(n)){Xs();const Ts=e.getStart(!0);if(va(Ts,ho)&&va(e.getEnd(!0),ho)){o.setAttrib(ho,cg,vs),rs.throttle(ho);return}}dr()},Ro=()=>{Zt(V7,Bo=>{Bo.elm&&(o.unbind(Bo.elm),delete Bo.elm)})},Xs=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Xs(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Zn),n.on("keyup compositionend",Bo=>{h&&h.nodeName==="TABLE"&&Zn(Bo)}),n.on("hide blur",dr),n.on("contextmenu longpress",gn,!0)}),n.on("remove",Ro),{isResizable:Rn,showResizeRect:lo,hideResizeRect:dr,updateResizeRect:Zn,destroy:()=>{rs.cancel(),h=_=oe=null}}},ok=(e,n,o)=>{const i=fa(yt.fromDom(o));return h5(i.dom,e,n).map(c=>{const f=o.createRange();return f.setStart(c.start.dom,c.soffset),f.setEnd(c.finish.dom,c.foffset),f}).getOrUndefined()},A_=(e,n)=>s(e)&&s(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,f$=(e,n,o)=>{let i=e;for(;i&&i!==n;){if(o(i))return i;i=i.parentNode}return null},sk=(e,n,o)=>f$(e,n,o)!==null,rk=(e,n,o)=>sk(e,n,i=>i.nodeName===o),p$=(e,n)=>nr(e)&&!sk(e,n,Gi),ak=(e,n,o)=>{const i=n.parentNode;if(i){const c=new ja(n,e.getParent(i,e.isBlock)||e.getRoot());let f;for(;f=c[o?"prev":"next"]();)if(Qr(f))return!0}return!1},g$=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},vQ=(e,n)=>{let o=n;for(;o&&o!==e;){if(Pr(o))return!0;o=o.parentNode}return!1},k_=(e,n,o,i,c)=>{const f=e.getRoot(),h=e.schema.getNonEmptyElements(),_=c.parentNode;let S,F;if(!_)return w.none();const oe=e.getParent(_,e.isBlock)||f;if(i&&Qr(c)&&n&&e.isEmpty(oe))return w.some(hn(_,e.nodeIndex(c)));const he=new ja(c,oe);for(;F=he[i?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||p$(F,f))return w.none();if(Gn(F)&&F.data.length>0)return rk(F,f,"A")?w.none():w.some(hn(F,i?F.data.length:0));if(e.isBlock(F)||h[F.nodeName.toLowerCase()])return w.none();S=F}return Ku(S)?w.none():o&&S?w.some(hn(S,0)):w.none()},Fi=(e,n,o,i)=>{const c=e.getRoot();let f,h=!1,_=o?i.startContainer:i.endContainer,S=o?i.startOffset:i.endOffset;const F=Vo(_)&&S===_.childNodes.length,oe=e.schema.getNonEmptyElements();let he=o;if(nr(_))return w.none();if(Vo(_)&&S>_.childNodes.length-1&&(he=!1),ka(_)&&(_=c,S=0),_===c){if(he&&(f=_.childNodes[S>0?S-1:0],f&&(nr(f)||oe[f.nodeName]||pu(f))))return w.none();if(_.hasChildNodes()){if(S=Math.min(!he&&S>0?S-1:S,_.childNodes.length-1),_=_.childNodes[S],S=Gn(_)&&F?_.data.length:0,!n&&_===c.lastChild&&pu(_)||vQ(c,_)||nr(_)||$h(_))return w.none();if(_.hasChildNodes()&&!pu(_)){f=_;const Se=new ja(_,c);do{if(Pr(f)||nr(f)){h=!1;break}if(Gn(f)&&f.data.length>0){S=he?0:f.data.length,_=f,h=!0;break}if(oe[f.nodeName.toLowerCase()]&&!Ap(f)){S=e.nodeIndex(f),_=f.parentNode,he||S++,h=!0;break}}while(f=he?Se.next():Se.prev())}}}return n&&(Gn(_)&&S===0&&k_(e,F,n,!0,_).each(Se=>{_=Se.container(),S=Se.offset(),h=!0}),Vo(_)&&(f=_.childNodes[S],f||(f=_.childNodes[S-1]),f&&Qr(f)&&!g$(f,"A")&&!ak(e,f,!1)&&!ak(e,f,!0)&&k_(e,F,n,!0,f).each(Se=>{_=Se.container(),S=Se.offset(),h=!0}))),he&&!n&&Gn(_)&&S===_.data.length&&k_(e,F,n,!1,_).each(Se=>{_=Se.container(),S=Se.offset(),h=!0}),h&&_?w.some(hn(_,S)):w.none()},k0=(e,n)=>{const o=n.collapsed,i=n.cloneRange(),c=hn.fromRangeStart(n);return Fi(e,o,!0,i).each(f=>{(!o||!hn.isAbove(c,f))&&i.setStart(f.container(),f.offset())}),o||Fi(e,o,!1,i).each(f=>{i.setEnd(f.container(),f.offset())}),o&&i.collapse(!0),A_(n,i)?w.none():w.some(i)},Ti=(e,n)=>e.splitText(n),nd=e=>{let n=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(n===i&&Gn(n)){if(o>0&&o<n.data.length)if(i=Ti(n,o),n=i.previousSibling,c>o){c=c-o;const f=Ti(i,c).previousSibling;n=i=f,c=f.data.length,o=0}else c=0}else if(Gn(n)&&o>0&&o<n.data.length&&(n=Ti(n,o),o=0),Gn(i)&&c>0&&c<i.data.length){const f=Ti(i,c).previousSibling;i=f,c=f.data.length}return{startContainer:n,startOffset:o,endContainer:i,endOffset:c}},Z1=e=>({walk:(f,h)=>mi(e,f,h),split:nd,expand:(f,h={type:"word"})=>{if(h.type==="word"){const _=Dc(e,f,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),S=e.createRng();return S.setStart(_.startContainer,_.startOffset),S.setEnd(_.endContainer,_.endOffset),S}return f},normalize:f=>k0(e,f).fold(K,h=>(f.setStart(h.startContainer,h.startOffset),f.setEnd(h.endContainer,h.endOffset),!0))});Z1.compareRanges=A_,Z1.getCaretRangeFromPoint=ok,Z1.getSelectedNode=gm,Z1.getNode=Od;const W7=e=>Fs(e)==="textarea",m$=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),O_=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},h$=(e,n)=>{const o=hr(e);if(o.length===0||W7(e))return{element:e,offset:n};if(n<o.length&&!W7(o[n]))return{element:o[n],offset:0};{const i=o[o.length-1];return W7(i)?{element:e,offset:n}:Fs(i)==="img"?{element:i,offset:1}:Ha(i)?{element:i,offset:pr(i).length}:{element:i,offset:hr(i).length}}},L_=(e,n)=>{const o=Ah(e),i=Wc(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:n}},b$=(e,n)=>{const o=h$(e,n),i=yt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ui+"</span>");return Qa(o.element,i),L_(i,()=>Ar(i))},v$=e=>L_(yt.fromDom(e),a),ik=(e,n,o,i)=>{Qf(e,(c,f)=>ic(e,n,o,i),o)},od=(e,n,o,i,c)=>{const f={elm:i.element.dom,alignToTop:c};if(m$(e,f))return;const h=yp(n).top;o(e,n,h,i,c),O_(e,f)},ic=(e,n,o,i)=>{const c=yt.fromDom(e.getBody()),f=yt.fromDom(e.getDoc());d5(c);const h=b$(yt.fromDom(o.startContainer),o.startOffset);od(e,f,n,h,i),h.cleanup()},x$=(e,n,o,i)=>{const c=yt.fromDom(e.getDoc());od(e,c,o,v$(n),i)},Qf=(e,n,o)=>{const i=o.startContainer,c=o.startOffset,f=o.endContainer,h=o.endOffset;n(yt.fromDom(i),yt.fromDom(f));const _=e.dom.createRng();_.setStart(i,c),_.setEnd(f,h),e.selection.setRng(o)},cv=(e,n,o,i,c)=>{const f=n.pos,h=30;if(i)R2(f.left,Math.max(0,f.top-h),c);else{const _=f.top-o+n.height+h;R2(-e.getBody().getBoundingClientRect().left,_,c)}},lk=(e,n,o,i,c,f)=>{const h=i+o,_=c.pos.top,S=c.bottom,F=S-_>=i;_<o?cv(e,c,i,f!==!1,n):_>h?cv(e,c,i,F?f!==!1:f===!0,n):S>h&&!F&&cv(e,c,i,f===!0,n)},ck=(e,n,o,i,c)=>{const f=fa(n).dom.innerHeight;lk(e,n,o,f,i,c)},D_=(e,n,o,i,c)=>{const f=fa(n).dom.innerHeight;lk(e,n,o,f,i,c);const h=E_(i.element),_=Ul(window);h.top<_.y?M2(i.element,c!==!1):h.top>_.bottom&&M2(i.element,c===!0)},y$=(e,n,o)=>ik(e,ck,n,o),dk=(e,n,o)=>x$(e,n,ck,o),C$=(e,n,o)=>ik(e,D_,n,o),N_=(e,n,o)=>x$(e,n,D_,o),_$=(e,n,o)=>{(e.inline?dk:N_)(e,n,o)},dv=(e,n,o)=>{(e.inline?y$:C$)(e,n,o)},uk=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),fk=(e,n,o,i,c)=>{const f=o?n.startContainer:n.endContainer,h=o?n.startOffset:n.endOffset;return w.from(f).map(yt.fromDom).map(_=>!i||!n.collapsed?fc(_,c(_,h)).getOr(_):_).bind(_=>da(_)?w.some(_):si(_).filter(da)).map(_=>_.dom).getOr(e)},R_=(e,n,o=!1)=>fk(e,n,!0,o,(i,c)=>Math.min(za(i),c)),K7=(e,n,o=!1)=>fk(e,n,!1,o,(i,c)=>c>0?c-1:c),M_=(e,n)=>{const o=e;for(;e&&Gn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},I_=(e,n)=>{if(!n)return e;let o=n.startContainer,i=n.endContainer;const c=n.startOffset,f=n.endOffset;let h=n.commonAncestorContainer;n.collapsed||(o===i&&f-c<2&&o.hasChildNodes()&&(h=o.childNodes[c]),Gn(o)&&Gn(i)&&(o.length===c?o=M_(o.nextSibling,!0):o=o.parentNode,f===0?i=M_(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(h=o)));const _=Gn(h)?h.parentNode:h;return uu(_)?_:e},E$=(e,n,o,i)=>{const c=[],f=e.getRoot(),h=e.getParent(o||R_(f,n,n.collapsed),e.isBlock),_=e.getParent(i||K7(f,n,n.collapsed),e.isBlock);if(h&&h!==f&&c.push(h),h&&_&&h!==_){let S;const F=new ja(h,f);for(;(S=F.next())&&S!==_;)e.isBlock(S)&&c.push(S)}return _&&h!==_&&_!==f&&c.push(_),c},xQ=(e,n,o)=>w.from(n).bind(i=>w.from(i.parentNode).map(c=>{const f=e.nodeIndex(i),h=e.createRng();return h.setStart(c,f),h.setEnd(c,f+1),o&&(nv(e,h,i,!0),nv(e,h,i,!1)),h})),pk=(e,n)=>V(n,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),w$={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},uv=(e,n,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==n){let f=e[c];if(f)return f;for(let h=e.parent;h&&h!==n;h=h.parent)if(f=h[c],f)return f}},S$=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!du(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},gk=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class kl{static create(n,o){const i=new kl(n,w$[n]||1);return o&&Zt(o,(c,f)=>{i.attr(f,c)}),i}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const i=this;if(!lt(n))return s(n)&&Zt(n,(f,h)=>{i.attr(h,f)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let f=c.length;for(;f--;)if(c[f].name===n)return c.splice(f,1),i}return i}if(n in c.map){let f=c.length;for(;f--;)if(c[f].name===n){c[f].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,i}return c.map[n]}}clone(){const n=this,o=new kl(n.name,n.type),i=n.attributes;if(i){const c=[];c.map={};for(let f=0,h=i.length;f<h;f++){const _=i[f];_.name!=="id"&&(c[c.length]={name:_.name,value:_.value},c.map[_.name]=_.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const i=o.next;n.insert(o,n,!0),o=i}n.remove()}remove(){const n=this,o=n.parent,i=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const i=o.lastChild;return i?(i.next=n,n.prev=i,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,i){n.parent&&n.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,i=[];for(let c=o.firstChild;c;c=uv(c,o))c.name===n&&i.push(c);return i}children(){const n=this,o=[];for(let i=n.firstChild;i;i=i.next)o.push(i);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=uv(c,n))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},i){var c;const f=this;let h=f.firstChild;if(gk(f))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(n[h.name]||gk(h))return!1}if(h.type===8||h.type===3&&!S$(h)||h.type===3&&h.parent&&o[h.parent.name]&&du((c=h.value)!==null&&c!==void 0?c:"")||i&&i(h))return!1}while(h=uv(h,f));return!0}walk(n){return uv(this,null,n)}}const yQ=Kn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),T$=e=>lt(e.nodeValue)&&e.nodeValue.includes(ui),B_=e=>`${e.length===0?"":`${V(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,mk=(e,n)=>n.querySelectorAll(B_(e)),hk=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>T$(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),bk=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(T$(n)){const o=n.parentNode;return o&&vn(yQ,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),A$=e=>hk(e).nextNode()!==null,CQ=e=>bk(e).nextNode()!==null,_Q=(e,n)=>n.querySelector(B_(e))!==null,EQ=(e,n)=>{I(mk(e,n),o=>{const i=yt.fromDom(o);Ja(i,"data-mce-bogus")==="all"?Ar(i):I(e,c=>{zu(i,c)&&er(i,c)})})},vk=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},wQ=p(vk,hk),k$=p(vk,bk),Pm=(e,n)=>{const o=[{condition:z(_Q,n),action:z(EQ,n)},{condition:A$,action:wQ},{condition:CQ,action:k$}];let i=e,c=!1;return I(o,({condition:f,action:h})=>{f(i)&&(c||(i=e.cloneNode(!0),c=!0),h(i))}),i},xk=e=>{const n=Nt(e,"[data-mce-bogus]");I(n,o=>{Ja(o,"data-mce-bogus")==="all"?Ar(o):zf(o)?(Qa(o,yt.fromText(wa)),Ar(o)):Fl(o)})},F_=e=>{const n=Nt(e,"input");I(n,o=>{er(o,"name")})},yk=(e,n)=>{const o=Mr(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},Ck=(e,n)=>{const o=e.getDoc(),i=ou(yt.fromDom(e.getBody())),c=yt.fromTag("div",o);Mo(c,"data-mce-bogus","all"),Ni(c,{position:"fixed",left:"-9999999px",top:"0"}),ei(c,n.innerHTML),xk(c),F_(c);const f=c5(i);Lr(f,c);const h=Ac(c.dom.innerText);return Ar(c),h},_k=(e,n,o)=>{let i;return n.format==="raw"?i=Kn.trim(Ac(Pm(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?i=Ck(e,o):n.format==="tree"?i=e.serializer.serialize(o,n):i=yk(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Tc(yt.fromDom(o))&&lt(i)?Kn.trim(i):i},P_=(e,n)=>w.from(e.getBody()).fold(L(n.format==="tree"?new kl("body",11):""),o=>_k(e,n,o)),O$=Kn.makeMap,Ek=e=>{const n=[];e=e||{};const o=e.indent,i=O$(e.indent_before||""),c=O$(e.indent_after||""),f=Lp.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(_,S,F)=>{if(o&&i[_]&&n.length>0){const oe=n[n.length-1];oe.length>0&&oe!==`
`&&n.push(`
`)}if(n.push("<",_),S)for(let oe=0,he=S.length;oe<he;oe++){const Se=S[oe];n.push(" ",Se.name,'="',f(Se.value,!0),'"')}if(!F||h?n[n.length]=">":n[n.length]=" />",F&&o&&c[_]&&n.length>0){const oe=n[n.length-1];oe.length>0&&oe!==`
`&&n.push(`
`)}},end:_=>{let S;n.push("</",_,">"),o&&c[_]&&n.length>0&&(S=n[n.length-1],S.length>0&&S!==`
`&&n.push(`
`))},text:(_,S)=>{_.length>0&&(n[n.length]=S?_:f(_))},cdata:_=>{n.push("<![CDATA[",_,"]]>")},comment:_=>{n.push("<!--",_,"-->")},pi:(_,S)=>{S?n.push("<?",_," ",f(S),"?>"):n.push("<?",_,"?>"),o&&n.push(`
`)},doctype:_=>{n.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},O0=(e={},n=oc())=>{const o=Ek(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const f=e.validate,h={3:S=>{var F;o.text((F=S.value)!==null&&F!==void 0?F:"",S.raw)},8:S=>{var F;o.comment((F=S.value)!==null&&F!==void 0?F:"")},7:S=>{o.pi(S.name,S.value)},10:S=>{var F;o.doctype((F=S.value)!==null&&F!==void 0?F:"")},4:S=>{var F;o.cdata((F=S.value)!==null&&F!==void 0?F:"")},11:S=>{let F=S;if(F=F.firstChild)do _(F);while(F=F.next)}};o.reset();const _=S=>{var F;const oe=h[S.type];if(oe)oe(S);else{const he=S.name,Se=he in n.getVoidElements();let Be=S.attributes;if(f&&Be&&Be.length>1){const it=[];it.map={};const rt=n.getElementRule(S.name);if(rt){for(let st=0,Vt=rt.attributesOrder.length;st<Vt;st++){const Bt=rt.attributesOrder[st];if(Bt in Be.map){const Yt=Be.map[Bt];it.map[Bt]=Yt,it.push({name:Bt,value:Yt})}}for(let st=0,Vt=Be.length;st<Vt;st++){const Bt=Be[st].name;if(!(Bt in it.map)){const Yt=Be.map[Bt];it.map[Bt]=Yt,it.push({name:Bt,value:Yt})}}Be=it}}if(o.start(he,Be,Se),ts(he))lt(S.value)&&o.text(S.value,!0),o.end(he);else if(!Se){let it=S.firstChild;if(it){(he==="pre"||he==="textarea")&&it.type===3&&((F=it.value)===null||F===void 0?void 0:F[0])===`
`&&o.text(`
`,!0);do _(it);while(it=it.next)}o.end(he)}}};return c.type===1&&!e.inner?_(c):c.type===3?h[3](c):h[11](c),o.getContent()}}},wk=new Set;I(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{wk.add(n)});const Sk=new Set;I(["background-color"],n=>{Sk.add(n)});const j7=["font","text-decoration","text-emphasis"],Tk=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),fv=(e,n)=>Rt(Tk(e,n)),SQ=e=>wk.has(e),TQ=e=>Sk.has(e),Ak=(e,n)=>U(fv(e,n),o=>SQ(o)),AQ=(e,n)=>Ak(e,n)&&U(fv(e,n),o=>TQ(o)),L$=e=>G(e,n=>U(j7,o=>Go(n,o))),kk=(e,n,o)=>{const i=fv(e,n),c=fv(e,o),f=h=>{var _,S;const F=(_=e.getStyle(n,h))!==null&&_!==void 0?_:"",oe=(S=e.getStyle(o,h))!==null&&S!==void 0?S:"";return bo(F)&&bo(oe)&&F!==oe};return U(i,h=>{const _=S=>U(S,F=>F===h);if(!_(c)&&_(j7)){const S=L$(c);return U(S,f)}else return f(h)})},Ok=(e,n,o)=>w.from(o.container()).filter(Gn).exists(i=>{const c=e?0:-1;return n(i.data.charAt(o.offset()+c))}),Z7=z(Ok,!0,rg),Lk=z(Ok,!1,rg),D$=e=>{const n=e.container();return Gn(n)&&(n.data.length===0||um(n.data)&&Bm.isBookmarkNode(n.parentNode))},ug=(e,n)=>o=>Fb(e?0:-1,o).filter(n).isSome(),Dk=e=>Bh(e)&&Va(yt.fromDom(e),"display")==="block",Nk=e=>Pr(e)&&!Ky(e),N$=ug(!0,Dk),R$=ug(!1,Dk),pv=ug(!0,Zc),gv=ug(!1,Zc),Rk=ug(!0,pu),$_=ug(!1,pu),$m=ug(!0,Nk),Hm=ug(!1,Nk),M$=e=>e.slice(0,-1),I$=(e,n,o)=>vl(n,e)?M$(Jl(e,i=>o(i)||Ws(i,n))):[],Mk=(e,n)=>I$(e,n,K),fg=(e,n)=>[e].concat(Mk(e,n)),yo=(e,n,o)=>Kb(e,n,o,D$),G1=e=>n=>e.isBlock(Fs(n)),B$=(e,n,o)=>we(fg(yt.fromDom(n.container()),e),G1(o)),Ik=(e,n,o,i)=>yo(e,n.dom,o).forall(c=>B$(n,o,i).fold(()=>!Id(c,o,n.dom),f=>!Id(c,o,n.dom)&&vl(f,yt.fromDom(c.container())))),G7=(e,n,o,i)=>B$(n,o,i).fold(()=>yo(e,n.dom,o).forall(c=>!Id(c,o,n.dom)),c=>yo(e,c.dom,o).isNone()),Y7=z(G7,!1),H_=z(G7,!0),z_=z(Ik,!1),F$=z(Ik,!0),Bk=e=>H1(e).exists(zf),q7=(e,n,o,i)=>{const c=G(fg(yt.fromDom(o.container()),n),h=>i.isBlock(Fs(h))),f=$e(c).getOr(n);return ed(e,f.dom,o).filter(Bk)},U_=(e,n,o)=>H1(n).exists(zf)||q7(!0,e,n,o).isSome(),X7=(e,n,o)=>Hb(n).exists(zf)||q7(!1,e,n,o).isSome(),Fk=z(q7,!1),P$=z(q7,!0),mv=e=>hn.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Pk=(e,n,o)=>{const i=G(fg(yt.fromDom(n.container()),e),c=>o.isBlock(Fs(c)));return $e(i).getOr(e)},$k=(e,n,o)=>mv(n)?Lk(n):Lk(n)||Al(Pk(e,n,o).dom,n).exists(Lk),Hk=(e,n,o)=>mv(n)?Z7(n):Z7(n)||cl(Pk(e,n,o).dom,n).exists(Z7),$$=e=>D(["pre","pre-wrap"],e),V_=e=>H1(e).bind(n=>_d(n,da)).exists(n=>$$(Va(n,"white-space"))),zk=(e,n)=>Al(e.dom,n).isNone(),Q7=(e,n)=>cl(e.dom,n).isNone(),H$=(e,n,o)=>zk(e,n)||Q7(e,n)||Y7(e,n,o)||H_(e,n,o)||X7(e,n,o)||U_(e,n,o),z$=e=>s(e)&&Pr(e)&&Su(e),Uk=(e,n)=>o=>z$(new ja(o,e)[n]()),U$=(e,n)=>{const o=cl(e.dom,n).getOr(n),i=Uk(e.dom,"next");return n.isAtEnd()&&(i(n.container())||i(o.container()))},V$=(e,n)=>{const o=Al(e.dom,n).getOr(n),i=Uk(e.dom,"prev");return n.isAtStart()&&(i(n.container())||i(o.container()))},Vk=(e,n,o)=>V_(n)?!1:H$(e,n,o)||$k(e,n,o)||Hk(e,n,o),hv=(e,n,o)=>V_(n)?!1:Y7(e,n,o)||z_(e,n,o)||X7(e,n,o)||$k(e,n,o)||V$(e,n),W$=e=>{const n=e.container(),o=e.offset();return Gn(n)&&o<n.data.length?hn(n,o+1):e},bv=(e,n,o)=>V_(n)?!1:H_(e,n,o)||F$(e,n,o)||U_(e,n,o)||Hk(e,n,o)||U$(e,n),W_=(e,n,o)=>hv(e,n,o)||bv(e,W$(n),o),Wk=(e,n)=>B3(e.charAt(n)),Kk=(e,n)=>rg(e.charAt(n)),K$=e=>{const n=e.container();return Gn(n)&&bs(n.data,Js)},j$=e=>{const n=e.split("");return V(n,(o,i)=>B3(o)&&i>0&&i<n.length-1&&qb(n[i-1])&&qb(n[i+1])?" ":o).join("")},K_=(e,n,o,i)=>{const c=n.data,f=hn(n,0);return!o&&Wk(c,0)&&!W_(e,f,i)?(n.data=" "+c.slice(1),!0):o&&Kk(c,0)&&hv(e,f,i)?(n.data=Js+c.slice(1),!0):!1},Z$=e=>{const n=e.data,o=j$(n);return o!==n?(e.data=o,!0):!1},jk=(e,n,o,i)=>{const c=n.data,f=hn(n,c.length-1);return!o&&Wk(c,c.length-1)&&!W_(e,f,i)?(n.data=c.slice(0,-1)+" ",!0):o&&Kk(c,c.length-1)&&bv(e,f,i)?(n.data=c.slice(0,-1)+Js,!0):!1},J7=(e,n,o)=>{const i=n.container();if(!Gn(i))return w.none();if(K$(n)){const c=K_(e,i,!1,o)||Z$(i)||jk(e,i,!1,o);return qt(c,n)}else if(W_(e,n,o)){const c=K_(e,i,!0,o)||jk(e,i,!0,o);return qt(c,n)}else return w.none()},L0=e=>{const n=yt.fromDom(e.getBody());e.selection.isCollapsed()&&J7(n,hn.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},vv=(e,n,o,i)=>{if(o===0)return;const c=yt.fromDom(e),f=Mi(c,F=>i.isBlock(Fs(F))).getOr(c),h=e.data.slice(n,n+o),_=n+o>=e.data.length&&bv(f,hn(e,e.data.length),i),S=n===0&&hv(f,hn(e,0),i);e.replaceData(n,o,n8(h,4,S,_))},ex=(e,n,o)=>{const i=e.data.slice(n),c=i.length-Vs(i).length;vv(e,n,c,o)},j_=(e,n,o)=>{const i=e.data.slice(0,n),c=i.length-go(i).length;vv(e,n-c,c,o)},Z_=(e,n,o,i,c=!0)=>{const f=go(e.data).length,h=c?e:n,_=c?n:e;return c?h.appendData(_.data):h.insertData(0,_.data),Ar(yt.fromDom(_)),i&&ex(h,f,o),h},G$=(e,n)=>{const o=e.container(),i=e.offset();return!hn.isTextPosition(e)&&o===n.parentNode&&i>hn.before(n).offset()},Zk=(e,n)=>G$(n,e)?hn(n.container(),n.offset()-1):n,Y$=e=>Gn(e)?hn(e,0):hn.before(e),q$=e=>Gn(e)?hn(e,e.data.length):hn.after(e),G_=e=>jr(e.previousSibling)?w.some(q$(e.previousSibling)):e.previousSibling?Pd(e.previousSibling):w.none(),Gk=e=>jr(e.nextSibling)?w.some(Y$(e.nextSibling)):e.nextSibling?Bi(e.nextSibling):w.none(),Yk=(e,n)=>w.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Al(e,hn.before(o))).orThunk(()=>cl(e,hn.after(n))),X$=(e,n)=>cl(e,hn.after(n)).orThunk(()=>Al(e,hn.before(n))),Q$=(e,n)=>G_(n).orThunk(()=>Gk(n)).orThunk(()=>Yk(e,n)),J$=(e,n)=>Gk(n).orThunk(()=>G_(n)).orThunk(()=>X$(e,n)),qk=(e,n,o)=>e?J$(n,o):Q$(n,o),Y_=(e,n,o)=>qk(e,n,o).map(z(Zk,o)),q_=(e,n,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),n)})},eH=e=>n=>n.dom===e,tH=(e,n)=>n&&vn(e.schema.getBlockElements(),Fs(n)),tx=(e,n,o)=>{if(li(e,n)){const i=yt.fromHtml('<br data-mce-bogus="1">');return o?I(hr(n),c=>{ns(c)||Ar(c)}):Ps(n),Lr(n,i),w.some(hn.before(i.dom))}else return w.none()},nH=(e,n,o,i)=>{const c=Qs(e).filter(Ha),f=xd(e).filter(Ha);return Ar(e),Mt(c,f,n,(h,_,S)=>{const F=h.dom,oe=_.dom,he=F.data.length;return Z_(F,oe,o,i),S.container()===oe?hn(F,he):S}).orThunk(()=>(i&&(c.each(h=>j_(h.dom,h.dom.length,o)),f.each(h=>ex(h.dom,0,o))),n))},Xk=(e,n)=>vn(e.schema.getTextInlineElements(),Fs(n)),Y1=(e,n,o,i=!0,c=!1)=>{const f=Y_(n,e.getBody(),o.dom),h=Mi(o,z(tH,e),eH(e.getBody())),_=nH(o,f,e.schema,Xk(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(S=>tx(e.schema,S,c)).fold(()=>{i&&q_(e,n,_)},S=>{i&&q_(e,n,w.some(S))})},Qk=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,oH=e=>Qk.test(e),D0=(e,n)=>Ml(yt.fromDom(n),K8(e))&&!ju(e.schema,n)&&e.dom.isEditable(n),xv=e=>{var n;return kr.DOM.getStyle(e,"direction",!0)==="rtl"||oH((n=e.textContent)!==null&&n!==void 0?n:"")},Jk=(e,n,o)=>G(kr.DOM.getParents(o.container(),"*",n),e),pg=(e,n,o)=>{const i=Jk(e,n,o);return w.from(i[i.length-1])},eO=(e,n,o)=>{const i=Zf(n,e),c=Zf(o,e);return s(i)&&i===c},tO=e=>fm(e)||o3(e),zd=(e,n)=>{const o=n.container(),i=n.offset();return e?yu(o)?Gn(o.nextSibling)?hn(o.nextSibling,0):hn.after(o):fm(n)?hn(o,i+1):n:yu(o)?Gn(o.previousSibling)?hn(o.previousSibling,o.previousSibling.data.length):hn.before(o):o3(n)?hn(o,i-1):n},X_=z(zd,!0),Q_=z(zd,!1),J_=(e,n)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},nO=e=>{e.execCommand("delete")},yv=e=>J_(e,"Delete"),oO=e=>J_(e,"ForwardDelete"),sH=e=>n=>At(si(n),e,Ws),rH=e=>e3(e)||Ip(e),nx=(e,n)=>vl(e,n)?_d(n,rH,sH(e)):w.none(),eE=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},sO=(e,n,o)=>Tt(Bi(o),Pd(o),(i,c)=>{const f=zd(!0,i),h=zd(!1,c),_=zd(!1,n);return e?cl(o,_).exists(S=>S.isEqual(h)&&n.isEqual(f)):Al(o,_).exists(S=>S.isEqual(f)&&n.isEqual(h))}).getOr(!0),rO=e=>(Ra(e)?Qs(e):Xa(e)).bind(rO).orThunk(()=>w.some(e)),aO=(e,n,o,i=!0)=>{var c;n.deleteContents();const f=rO(o).getOr(o),h=yt.fromDom((c=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(h.dom===e.getBody()?eE(e,i):li(e.schema,h,{checkRootAsContent:!1})&&(L1(h),i&&e.selection.setCursorLocation(h.dom,0)),!Ws(o,h)){const _=At(si(h),o)?[]:yl(h);I(_.concat(hr(o)),S=>{!Ws(S,h)&&!vl(S,h)&&li(e.schema,S)&&Ar(S)})}},aH=e=>n=>Ws(e,n),tE=e=>Nt(e,"td,th"),nE=(e,n)=>ag(yt.fromDom(e),n),kQ=e=>Tt(e.startTable,e.endTable,(n,o)=>{const i=Fo(n,f=>Ws(f,o)),c=Fo(o,f=>Ws(f,n));return!i&&!c?e:{...e,startTable:i?w.none():e.startTable,endTable:c?w.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),OQ=e=>kQ(e),iH=(e,n)=>{const o=nE(e.startContainer,n),i=nE(e.endContainer,n),c=o.isSome(),f=i.isSome(),h=Tt(o,i,Ws).getOr(!1);return OQ({startTable:o,endTable:i,isStartInTable:c,isEndInTable:f,isSameTable:h,isMultiTable:!h&&c&&f})},iO=(e,n)=>({start:e,end:n}),lH=(e,n,o)=>({rng:e,table:n,cells:o}),Ai=qo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ox=(e,n)=>$l(yt.fromDom(e),"td,th",n),cH=e=>!Ws(e.start,e.end),lO=(e,n)=>ag(e.start,n).bind(o=>ag(e.end,n).bind(i=>qt(Ws(o,i),o))),dH=(e,n)=>!cH(e)&&lO(e,n).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),sd=(e,n)=>{const o=ox(e.startContainer,n),i=ox(e.endContainer,n);return Tt(o,i,iO)},LQ=e=>n=>ag(n,e).bind(o=>tt(tE(o)).map(i=>iO(n,i))),uH=e=>n=>ag(n,e).bind(o=>$e(tE(o)).map(i=>iO(i,n))),cO=e=>n=>lO(n,e).map(o=>lH(n,o,tE(o))),dO=(e,n,o,i)=>{if(o.collapsed||!e.forall(cH))return w.none();if(n.isSameTable){const c=e.bind(cO(i));return w.some({start:c,end:c})}else{const c=ox(o.startContainer,i),f=ox(o.endContainer,i),h=c.bind(LQ(i)).bind(cO(i)),_=f.bind(uH(i)).bind(cO(i));return w.some({start:h,end:_})}},uO=(e,n)=>Pe(e,o=>Ws(o,n)),fO=e=>Tt(uO(e.cells,e.rng.start),uO(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),fH=(e,n,o)=>e.exists(i=>dH(i,o)&&P3(i.start,n)),Nc=(e,n)=>{const{startTable:o,endTable:i}=n,c=e.cloneRange();return o.each(f=>c.setStartAfter(f.dom)),i.each(f=>c.setEndBefore(f.dom)),c},pO=(e,n,o,i)=>dO(e,n,o,i).bind(({start:c,end:f})=>c.or(f)).bind(c=>{const{isSameTable:f}=n,h=fO(c).getOr([]);if(f&&c.cells.length===h.length)return w.some(Ai.fullTable(c.table));if(h.length>0){if(f)return w.some(Ai.partialTable(h,w.none()));{const _=Nc(o,n);return w.some(Ai.partialTable(h,w.some({...n,rng:_})))}}else return w.none()}),gO=(e,n,o,i)=>dO(e,n,o,i).bind(({start:c,end:f})=>{const h=c.bind(fO).getOr([]),_=f.bind(fO).getOr([]);if(h.length>0&&_.length>0){const S=Nc(o,n);return w.some(Ai.multiTable(h,_,S))}else return w.none()}),pH=(e,n)=>{const o=aH(e),i=sd(n,o),c=iH(n,o);return fH(i,n,o)?i.map(f=>Ai.singleCellTable(n,f.start)):c.isMultiTable?gO(i,c,n,o):pO(i,c,n,o)},mO=e=>I(e,n=>{er(n,"contenteditable"),L1(n)}),hO=(e,n)=>w.from(e.dom.getParent(n,e.dom.isBlock)).map(yt.fromDom),bO=(e,n,o)=>{o.each(i=>{n?Ar(i):(L1(i),e.selection.setCursorLocation(i.dom,0))})},oE=(e,n,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),sx(e,c,n,!1).each(f=>f())},vO=e=>{const n=U1(e),o=yt.fromDom(e.selection.getNode());Ph(o.dom)&&li(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&U(n,i=>Ws(i,o))&&Mo(o,"data-mce-selected","1")},xO=(e,n,o)=>w.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:f,isStartInTable:h})=>{const _=hO(e,h?f.endContainer:f.startContainer);f.deleteContents(),bO(e,h,_.filter(z(li,e.schema)));const S=h?n[0]:n[n.length-1];return oE(e,S,i,h),li(e.schema,S)?w.none():w.some(h?n.slice(1):n.slice(0,-1))}).getOr(n);mO(c),vO(e)}),gH=(e,n,o,i)=>w.some(()=>{const c=e.selection.getRng(),f=n[0],h=o[o.length-1];oE(e,f,c,!0),oE(e,h,c,!1);const _=li(e.schema,f)?n:n.slice(1),S=li(e.schema,h)?o:o.slice(0,-1);mO(_.concat(S)),i.deleteContents(),vO(e)}),sx=(e,n,o,i=!0)=>w.some(()=>{aO(e,n,o,i)}),mH=(e,n)=>w.some(()=>Y1(e,!1,n)),yO=(e,n,o)=>pH(n,o).bind(i=>i.fold(z(sx,e),z(mH,e),z(xO,e),z(gH,e))),hH=(e,n)=>sr(e,n),DQ=(e,n,o,i)=>_O(n,i).fold(()=>yO(e,n,o),c=>hH(e,c)),bH=(e,n,o)=>{const i=yt.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?xO(e,o,w.none()):DQ(e,i,c,n)},CO=(e,n)=>we(fg(n,e),_i),_O=(e,n)=>we(fg(n,e),nu("caption")),vH=(e,n,o,i,c)=>Tu(o,e.getBody(),c).bind(f=>CO(n,yt.fromDom(f.getNode())).bind(h=>Ws(h,i)?w.none():w.some(a))),sr=(e,n)=>w.some(()=>{L1(n),e.selection.setCursorLocation(n.dom,0)}),Cv=(e,n,o,i)=>Bi(e.dom).bind(c=>Pd(e.dom).map(f=>n?o.isEqual(c)&&i.isEqual(f):o.isEqual(f)&&i.isEqual(c))).getOr(!0),gg=(e,n)=>sr(e,n),N0=(e,n,o)=>_O(e,yt.fromDom(o.getNode())).fold(()=>w.some(a),i=>qt(!Ws(i,n),a)),rx=(e,n,o,i,c)=>Tu(o,e.getBody(),c).fold(()=>w.some(a),f=>Cv(i,o,c,f)?gg(e,i):N0(n,i,f)),sE=(e,n,o,i)=>{const c=hn.fromRangeStart(e.selection.getRng());return CO(o,i).bind(f=>li(e.schema,f,{checkRootAsContent:!1})?sr(e,f):vH(e,o,n,f,c))},rE=(e,n,o,i)=>{const c=hn.fromRangeStart(e.selection.getRng());return li(e.schema,i)?sr(e,i):rx(e,o,n,i,c)},aE=(e,n)=>e?Rk(n):$_(n),xH=(e,n)=>{const o=hn.fromRangeStart(e.selection.getRng());return aE(n,o)||ed(n,e.getBody(),o).exists(i=>aE(n,i))},EO=(e,n,o)=>{const i=yt.fromDom(e.getBody());return _O(i,o).fold(()=>sE(e,n,i,o).orThunk(()=>qt(xH(e,n),a)),c=>rE(e,n,i,c))},ax=(e,n)=>{const o=yt.fromDom(e.selection.getStart(!0)),i=U1(e);return e.selection.isCollapsed()&&i.length===0?EO(e,n,o):bH(e,o,i)},R0=(e,n)=>{let o=n;for(;o&&o!==e;){if(ni(o)||Pr(o))return o;o=o.parentNode}return null},yH=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],CH=Kn.each,iE=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(f,h)=>{if(f.nodeName!==h.nodeName||f.nodeType!==h.nodeType)return!1;const _=F=>{const oe={};return CH(n.getAttribs(F),he=>{const Se=he.nodeName.toLowerCase();Se!=="style"&&!c(Se)&&(oe[Se]=n.getAttrib(F,Se))}),oe},S=(F,oe)=>{for(const he in F)if(vn(F,he)){const Se=oe[he];if(Ls(Se)||F[he]!==Se)return!1;delete oe[he]}for(const he in oe)if(vn(oe,he))return!1;return!0};return Vo(f)&&Vo(h)&&(!S(_(f),_(h))||!S(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(h,"style"))))?!1:!td(f)&&!td(h)},c=f=>U(yH,h=>Go(f,h))||o.has(f);return{compare:i,isAttributeInternal:c}},wO=(e,n)=>{if(Gn(e))return{container:e,offset:n};const o=Z1.getNode(e,n);return Gn(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&Gn(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&Gn(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},_H=e=>{const n=e.cloneRange(),o=wO(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const i=wO(e.endContainer,e.endOffset);return n.setEnd(i.container,i.offset),n},U3=kr.DOM,SO=e=>{const n={},o=i=>{let c=e[i?"startContainer":"endContainer"],f=e[i?"startOffset":"endOffset"];if(Vo(c)){const h=U3.create("span",{"data-mce-type":"bookmark"});c.hasChildNodes()?f===c.childNodes.length?c.appendChild(h):c.insertBefore(h,c.childNodes[f]):c.appendChild(h),c=h,f=0}n[i?"startContainer":"endContainer"]=c,n[i?"startOffset":"endOffset"]=f};return o(!0),e.collapsed||o(),n},NQ=e=>{const n=i=>{const c=_=>{var S;let F=(S=_.parentNode)===null||S===void 0?void 0:S.firstChild,oe=0;for(;F;){if(F===_)return oe;(!Vo(F)||F.getAttribute("data-mce-type")!=="bookmark")&&oe++,F=F.nextSibling}return-1};let f=e[i?"startContainer":"endContainer"],h=e[i?"startOffset":"endOffset"];if(f){if(Vo(f)&&f.parentNode){const _=f;h=c(f),f=f.parentNode,U3.remove(_),!f.hasChildNodes()&&U3.isBlock(f)&&f.appendChild(U3.create("br"))}e[i?"startContainer":"endContainer"]=f,e[i?"startOffset":"endOffset"]=h}};n(!0),n();const o=U3.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),_H(o)},EH=(e,n,o,i)=>{if(Kn.each(o.styles,(c,f)=>{e.setStyle(n,f,V1(c,i))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},_v=(e,n,o,i,c)=>{const f=e.dom;b(o.onformat)&&o.onformat(n,o,i,c),EH(f,n,o,i),Kn.each(o.attributes,(h,_)=>{f.setAttrib(n,_,V1(h,i))}),Kn.each(o.classes,h=>{const _=V1(h,i);f.hasClass(n,_)||f.addClass(n,_)})},wH=e=>!Eo(e.attributes)&&!Eo(e.styles),TO=u,SH=(e,n,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const f=i[c];if(wn(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},lE=(e,n,o,i,c)=>{const f=e.dom.getRoot();if(n===f)return!1;const h=e.dom.getParent(n,_=>SH(e,_,o)?!0:_.parentNode===f||!!Ou(e,_,o,i,!0));return!!Ou(e,h,o,i,c)},ix=(e,n,o)=>to(o)&&TO(n,o.inline)||ct(o)&&TO(n,o.block)?!0:wn(o)?Vo(n)&&e.is(n,o.selector):!1,TH=(e,n,o,i,c,f)=>{const h=o[i],_=i==="attributes";if(b(o.onmatch))return o.onmatch(n,o,i);if(h){if(Pt(h)){for(let S=0;S<h.length;S++)if(_?e.getAttrib(n,h[S]):C(e,n,h[S]))return!0}else for(const S in h)if(vn(h,S)){const F=_?e.getAttrib(n,S):C(e,n,S),oe=V1(h[S],f),he=us(F)||io(F);if(he&&us(oe))continue;if(c&&he&&!o.exact||(!c||o.exact)&&!TO(F,m(oe,S)))return!1}}return!0},Ou=(e,n,o,i,c)=>{const f=e.formatter.get(o),h=e.dom;if(f&&Vo(n))for(let _=0;_<f.length;_++){const S=f[_];if(ix(e.dom,n,S)&&TH(h,n,S,"attributes",c,i)&&TH(h,n,S,"styles",c,i)){const F=S.classes;if(F){for(let oe=0;oe<F.length;oe++)if(!e.dom.hasClass(n,V1(F[oe],i)))return}return S}}},jl=(e,n,o,i,c)=>{if(i)return lE(e,i,n,o,c);if(i=e.selection.getNode(),lE(e,i,n,o,c))return!0;const f=e.selection.getStart();return!!(f!==i&&lE(e,f,n,o,c))},RQ=(e,n,o)=>{const i=[],c={},f=e.selection.getStart();return e.dom.getParent(f,h=>{for(let _=0;_<n.length;_++){const S=n[_];!c[S]&&Ou(e,h,S,o)&&(c[S]=!0,i.push(S))}},e.dom.getRoot()),i},AH=(e,n)=>{const o=c=>Ws(c,yt.fromDom(e.getBody())),i=(c,f)=>Ou(e,c.dom,f)?w.some(f):w.none();return w.from(e.selection.getStart(!0)).bind(c=>ma(yt.fromDom(c),f=>mt(n,h=>i(f,h)),o)).getOrNull()},AO=(e,n)=>{const o=e.formatter.get(n),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),f=X(i,c);for(let h=o.length-1;h>=0;h--){const _=o[h];if(!wn(_))return!0;for(let S=f.length-1;S>=0;S--)if(i.is(f[S],_.selector))return!0}}return!1},MQ=(e,n,o)=>Le(o,(i,c)=>{const f=De(e,c);return e.formatter.matchNode(n,c,{},f)?i.concat([c]):i},[]),Ev=ui,kH=(e,n)=>e.importNode(n,!0),kO=e=>{if(e){const n=new ja(e,e);for(let o=n.current();o;o=n.next())if(Gn(o))return o}return null},wv=e=>{const n=yt.fromTag("span");return Aa(n,{id:jb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Lr(n,yt.fromText(Ev)),n},IQ=e=>{const n=kO(e);return n&&n.data.charAt(0)===Ev&&n.deleteData(0,1),n},cE=(e,n,o)=>{const i=e.dom,c=e.selection;if(In(n))Y1(e,!1,yt.fromDom(n),o,!0);else{const f=c.getRng(),h=i.getParent(n,i.isBlock),_=f.startContainer,S=f.startOffset,F=f.endContainer,oe=f.endOffset,he=IQ(n);i.remove(n,!0),_===he&&S>0&&f.setStart(he,S-1),F===he&&oe>0&&f.setEnd(he,oe-1),h&&i.isEmpty(h)&&L1(yt.fromDom(h)),c.setRng(f)}},dE=(e,n,o)=>{const i=e.dom,c=e.selection;if(n)cE(e,n,o);else if(n=of(e.getBody(),c.getStart()),!n)for(;n=i.get(jb);)cE(e,n,o)},Hr=(e,n,o)=>{var i,c;const f=e.dom,h=f.getParent(o,z(av,e.schema));h&&f.isEmpty(h)?(i=o.parentNode)===null||i===void 0||i.replaceChild(n,o):(t3(yt.fromDom(o)),f.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):f.insertAfter(n,o))},OO=(e,n)=>(e.appendChild(n),n),LO=(e,n)=>{var o;const i=de(e,(f,h)=>OO(f,h.cloneNode(!1)),n),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return OO(i,c.createTextNode(Ev))},Sv=(e,n,o,i,c,f)=>{const h=e.formatter,_=e.dom,S=G(Rt(h.get()),he=>he!==i&&!bs(he,"removeformat")),F=MQ(e,o,S);if(G(F,he=>!Ye(e,he,i)).length>0){const he=o.cloneNode(!1);return _.add(n,he),h.remove(i,c,he,f),_.remove(he),w.some(he)}else return w.none()},uE=e=>mc(e,pr(e).replace(new RegExp(`${Js}$`)," ")),DO=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Qs(yt.fromDom(n)).each(i=>{Ha(i)?uE(i):Vr(i,c=>Ha(c)).each(c=>{Ha(c)&&uE(c)})})};e.once("input",i=>{i.data&&!rg(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},OH=(e,n,o)=>{let i;const c=e.selection,f=e.formatter.get(n);if(!f)return;const h=c.getRng();let _=h.startOffset;const F=h.startContainer.nodeValue;i=of(e.getBody(),c.getStart());const oe=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&_>0&&_<F.length&&oe.test(F.charAt(_))&&oe.test(F.charAt(_-1))){const he=c.getBookmark();h.collapse(!0);let Se=Dc(e.dom,h,f);Se=nd(Se),e.formatter.apply(n,o,Se),c.moveToBookmark(he)}else{let he=i?kO(i):null;(!i||(he==null?void 0:he.data)!==Ev)&&(i=kH(e.getDoc(),wv(!0).dom),he=i.firstChild,h.insertNode(i),_=1,DO(e,i)),e.formatter.apply(n,o,i),c.setCursorLocation(he,_)}},LH=(e,n,o,i)=>{const c=e.dom,f=e.selection;let h=!1;const _=e.formatter.get(n);if(!_)return;const S=f.getRng(),F=S.startContainer,oe=S.startOffset;let he=F;Gn(F)&&(oe!==F.data.length&&(h=!0),he=he.parentNode);const Se=[];let Be;for(;he;){if(Ou(e,he,n,o,i)){Be=he;break}he.nextSibling&&(h=!0),Se.push(he),he=he.parentNode}if(Be)if(h){const it=f.getBookmark();S.collapse(!0);let rt=Dc(c,S,_,{includeTrailingSpace:!0});rt=nd(rt),e.formatter.remove(n,o,rt,i),f.moveToBookmark(it)}else{const it=of(e.getBody(),Be),rt=s(it)?c.getParents(Be.parentNode,ee,it):[],st=wv(!1).dom;Hr(e,st,it??Be);const Vt=Sv(e,st,Be,n,o,i),Bt=LO([...Se,...Vt.toArray(),...rt],st);it&&cE(e,it,s(it)),f.setCursorLocation(Bt,1),DO(e,st),c.isEmpty(Be)&&c.remove(Be)}},NO=(e,n,o)=>{const i=e.selection,c=e.getBody();dE(e,null,o),(n===8||n===46)&&i.isCollapsed()&&i.getStart().innerHTML===Ev&&dE(e,of(c,i.getStart()),!0),(n===37||n===39)&&dE(e,of(c,i.getStart()),!0)},DH=e=>Gn(e)&&Do(e.data,Js),BQ=e=>{e.on("mouseup keydown",n=>{NO(e,n.keyCode,DH(e.selection.getRng().endContainer))})},NH=e=>{const n=wv(!1),o=LO(e,n.dom);return{caretContainer:n,caretPosition:hn(o,0)}},RO=(e,n)=>{const{caretContainer:o,caretPosition:i}=NH(n);return Qa(yt.fromDom(e),o),Ar(yt.fromDom(e)),i},RH=(e,n)=>{const{caretContainer:o,caretPosition:i}=NH(n);return e.insertNode(o.dom),i},MO=(e,n)=>{if(Gi(n.dom))return!1;const o=e.schema.getTextInlineElements();return vn(o,Fs(n))&&!Gi(n.dom)&&!Tp(n.dom)},IO=["fontWeight","fontStyle","color","fontSize","fontFamily"],BO=e=>Xn(e.styles)&&U(Rt(e.styles),n=>D(IO,n)),MH=e=>we(e,n=>to(n)&&n.inline==="span"&&BO(n)),qs=(e,n)=>{const o=e.get(n);return Eo(o)?MH(o):w.none()},fE=(e,n)=>Al(n,hn.fromRangeStart(e)).isNone(),V3=(e,n)=>cl(n,hn.fromRangeEnd(e)).exists(o=>!Qr(o.getNode())||cl(n,o).isSome())===!1,W3=e=>n=>r8(n)&&e.isEditable(n),Tv=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return fE(o,n[0])&&V3(o,n[0])?n:[];{const i=$e(n).filter(h=>fE(o,h)).toArray(),c=tt(n).filter(h=>V3(o,h)).toArray(),f=n.slice(1,-1);return i.concat(f).concat(c)}},Av=e=>G(Tv(e),W3(e.dom)),pE=e=>G(e.getSelectedBlocks(),W3(e.dom)),FO=Kn.each,PO=e=>Vo(e)&&!td(e)&&!Gi(e)&&!Tp(e),IH=(e,n)=>{for(let o=e;o;o=o[n]){if(Gn(o)&&bo(o.data))return e;if(Vo(o)&&!td(o))return o}return e},BH=(e,n,o)=>{const i=iE(e),c=uu(n)&&e.dom.isEditable(n),f=uu(o)&&e.dom.isEditable(o);if(c&&f){const h=IH(n,"previousSibling"),_=IH(o,"nextSibling");if(i.compare(h,_)){for(let S=h.nextSibling;S&&S!==_;){const F=S;S=S.nextSibling,h.appendChild(F)}return e.dom.remove(_),Kn.each(Kn.grep(_.childNodes),S=>{h.appendChild(S)}),h}}return o},$O=(e,n,o,i)=>{var c;if(i&&n.merge_siblings!==!1){const f=(c=BH(e,D7(i),i))!==null&&c!==void 0?c:i;BH(e,f,D7(f,!0))}},FQ=(e,n,o)=>{if(n.clear_child_styles){const i=n.links?"*:not(a)":"*";FO(e.select(i,o),c=>{PO(c)&&e.isEditable(c)&&FO(n.styles,(f,h)=>{e.setStyle(c,h,"")})})}},gE=(e,n,o)=>{FO(e.childNodes,i=>{PO(i)&&(n(i)&&o(i),i.hasChildNodes()&&gE(i,n,o))})},FH=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},PH=(e,n)=>o=>!!(o&&C(e,o,n)),HO=(e,n,o)=>i=>{e.setStyle(i,n,o),i.getAttribute("style")===""&&i.removeAttribute("style"),FH(e,i)},wr=qo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),PQ=/^(src|href|style)$/,zO=Kn.each,lx=u,kv=e=>/^(TR|TH|TD)$/.test(e.nodeName),UO=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),VO=(e,n,o)=>{let i=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Vo(i)){const f=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>f?f:c]}return Gn(i)&&o&&c>=i.data.length&&(i=new ja(i,e.getBody()).next()||i),Gn(i)&&!o&&c===0&&(i=new ja(i,e.getBody()).prev()||i),i},q1=(e,n)=>{const o=n?"firstChild":"lastChild",i=e[o];return kv(e)&&i?e.nodeName==="TR"&&i[o]||i:e},mr=(e,n,o,i)=>{var c;const f=e.create(o,i);return(c=n.parentNode)===null||c===void 0||c.insertBefore(f,n),f.appendChild(n),f},hi=(e,n,o,i,c)=>{const f=yt.fromDom(n),h=yt.fromDom(e.create(i,c)),_=o?ri(f):Uc(f);return Bl(h,_),o?(Qa(f,h),su(h,f)):(yd(f,h),Lr(h,f)),h.dom},X1=(e,n)=>n.links&&e.nodeName==="A",WO=(e,n,o)=>{const i=n.parentNode;let c;const f=e.dom,h=Mr(e);ct(o)&&i===f.getRoot()&&(!o.list_block||!lx(n,o.list_block))&&I(_t(n.childNodes),_=>{Im(e,h,_.nodeName.toLowerCase())?c?c.appendChild(_):(c=mr(f,_,h),f.setAttribs(c,Oc(e))):c=null}),!(xo(o)&&!lx(o.inline,n))&&f.remove(n,!0)},KO=(e,n,o)=>B(e)?{name:n,value:null}:{name:e,value:V1(n,o)},jO=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},ZO=(e,n,o,i,c)=>{let f=!1;zO(o.styles,(h,_)=>{const{name:S,value:F}=KO(_,h,i),oe=m(F,S);(o.remove_similar||ht(F)||!Vo(c)||lx(C(e,c,S),oe))&&e.setStyle(n,S,""),f=!0}),f&&jO(e,n)},GO=(e,n,o)=>{n==="removeformat"?I(pE(e.selection),i=>{I(IO,c=>e.dom.setStyle(i,c,"")),jO(e.dom,i)}):qs(e.formatter,n).each(i=>{I(pE(e.selection),c=>ZO(e.dom,c,i,o,null))})},M0=(e,n,o,i,c)=>{const f=e.dom,h=iE(e),_=e.schema;if(to(n)&&ci(_,n.inline)&&ju(_,i)&&i.parentElement===e.getBody())return WO(e,i,n),wr.removed();if(!n.ceFalseOverride&&i&&f.getContentEditableParent(i)==="false"||i&&!ix(f,i,n)&&!X1(i,n))return wr.keep();const S=i,F=n.preserve_attributes;if(to(n)&&n.remove==="all"&&Eo(F)){const oe=G(f.getAttribs(S),he=>D(F,he.name.toLowerCase()));if(f.removeAllAttribs(S),I(oe,he=>f.setAttrib(S,he.name,he.value)),oe.length>0)return wr.rename("span")}if(n.remove!=="all"){ZO(f,S,n,o,c),zO(n.attributes,(he,Se)=>{const{name:Be,value:it}=KO(Se,he,o);if(n.remove_similar||ht(it)||!Vo(c)||lx(f.getAttrib(c,Be),it)){if(Be==="class"){const rt=f.getAttrib(S,Be);if(rt){let st="";if(I(rt.split(/\s+/),Vt=>{/mce\-\w+/.test(Vt)&&(st+=(st?" ":"")+Vt)}),st){f.setAttrib(S,Be,st);return}}}if(PQ.test(Be)&&S.removeAttribute("data-mce-"+Be),Be==="style"&&fu(["li"])(S)&&f.getStyle(S,"list-style-type")==="none"){S.removeAttribute(Be),f.setStyle(S,"list-style-type","none");return}Be==="class"&&S.removeAttribute("className"),S.removeAttribute(Be)}}),zO(n.classes,he=>{he=V1(he,o),(!Vo(c)||f.hasClass(c,he))&&f.removeClass(S,he)});const oe=f.getAttribs(S);for(let he=0;he<oe.length;he++){const Se=oe[he].nodeName;if(!h.isAttributeInternal(Se))return wr.keep()}}return n.remove!=="none"?(WO(e,S,n),wr.removed()):wr.keep()},YO=(e,n,o,i,c)=>{let f;return n.parentNode&&I(X(e.dom,n.parentNode).reverse(),h=>{if(!f&&Vo(h)&&h.id!=="_start"&&h.id!=="_end"){const _=Ou(e,h,o,i,c);_&&_.split!==!1&&(f=h)}}),f},qO=(e,n,o,i)=>M0(e,n,o,i,i).fold(L(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),L(null)),$H=(e,n,o,i,c,f,h,_)=>{var S,F;let oe,he;const Se=e.dom;if(o){const Be=o.parentNode;for(let it=i.parentNode;it&&it!==Be;it=it.parentNode){let rt=Se.clone(it,!1);for(let st=0;st<n.length&&(rt=qO(e,n[st],_,rt),rt!==null);st++);rt&&(oe&&rt.appendChild(oe),he||(he=rt),oe=rt)}(!h.mixed||!Se.isBlock(o))&&(i=(S=Se.split(o,i))!==null&&S!==void 0?S:i),oe&&he&&((F=c.parentNode)===null||F===void 0||F.insertBefore(oe,c),he.appendChild(c),to(h)&&$O(e,h,_,oe))}return i},HH=(e,n,o,i,c)=>{const f=e.formatter.get(n),h=f[0],_=e.dom,S=e.selection,F=rt=>{const st=YO(e,rt,n,o,c);return $H(e,f,st,rt,rt,!0,h,o)},oe=rt=>td(rt)&&Vo(rt)&&(rt.id==="_start"||rt.id==="_end"),he=rt=>U(f,st=>Ov(e,st,o,rt,rt)),Se=rt=>{const st=_t(rt.childNodes),Bt=he(rt)||U(f,Sn=>ix(_,rt,Sn)),Yt=rt.parentNode;if(!Bt&&s(Yt)&&Wo(h)&&he(Yt),h.deep&&st.length)for(let Sn=0;Sn<st.length;Sn++)Se(st[Sn]);I(["underline","line-through","overline"],Sn=>{Vo(rt)&&e.dom.getStyle(rt,"text-decoration")===Sn&&rt.parentNode&&T(_,rt.parentNode)===Sn&&Ov(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Sn}},void 0,rt)})},Be=rt=>{const st=_.get(rt?"_start":"_end");if(st){let Vt=st[rt?"firstChild":"lastChild"];return oe(Vt)&&(Vt=Vt[rt?"firstChild":"lastChild"]),Gn(Vt)&&Vt.data.length===0&&(Vt=rt?st.previousSibling||st.nextSibling:st.nextSibling||st.previousSibling),_.remove(st,!0),Vt}else return null},it=rt=>{let st,Vt,Bt=Dc(_,rt,f,{includeTrailingSpace:rt.collapsed});if(h.split){if(Bt=nd(Bt),st=VO(e,Bt,!0),Vt=VO(e,Bt),st!==Vt){if(st=q1(st,!0),Vt=q1(Vt,!1),UO(_,st,Vt)){const rn=w.from(st.firstChild).getOr(st);F(hi(_,rn,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Be(!0);return}if(UO(_,Vt,st)){const rn=w.from(Vt.lastChild).getOr(Vt);F(hi(_,rn,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Be(!1);return}st=mr(_,st,"span",{id:"_start","data-mce-type":"bookmark"}),Vt=mr(_,Vt,"span",{id:"_end","data-mce-type":"bookmark"});const Yt=_.createRng();Yt.setStartAfter(st),Yt.setEndBefore(Vt),mi(_,Yt,rn=>{I(rn,Sn=>{!td(Sn)&&!td(Sn.parentNode)&&F(Sn)})}),F(st),F(Vt),st=Be(!0),Vt=Be()}else st=Vt=F(st);Bt.startContainer=st.parentNode?st.parentNode:st,Bt.startOffset=_.nodeIndex(st),Bt.endContainer=Vt.parentNode?Vt.parentNode:Vt,Bt.endOffset=_.nodeIndex(Vt)+1}mi(_,Bt,Yt=>{I(Yt,Se)})};if(i){if(ig(i)){const rt=_.createRng();rt.setStartBefore(i),rt.setEndAfter(i),it(rt)}else it(i);$8(e,n,i,o);return}!S.isCollapsed()||!to(h)||U1(e).length?(sv(e,()=>$3(e,it),rt=>to(h)&&jl(e,n,o,rt)),e.nodeChanged()):LH(e,n,o,c),GO(e,n,o),$8(e,n,i,o)},XO=(e,n,o,i,c)=>{(i||e.selection.isEditable())&&HH(e,n,o,i,c)},QO=(e,n,o,i)=>M0(e,n,o,i).fold(()=>w.some(i),c=>w.some(e.dom.rename(i,c)),w.none),Ov=(e,n,o,i,c)=>M0(e,n,o,i,c).fold(K,f=>(e.dom.rename(i,f),!0),ee),JO=["fontsize","subscript","superscript"],zH=["strikethrough",...JO],UH=(e,n,o)=>s(e.matchNode(n.dom,o,{},o==="fontsize")),Lv=(e,n)=>U(JO,o=>UH(e,n,o)),eL=e=>D(zH,e),mE=(e,n,o,i,c)=>{const f=Jl(n,e).filter(da);return We(f,o).map(h=>{const _=f[h],S=i(_),F=[...c(Yr(_)).toArray(),...nt(f.slice(0,h),oe=>o(oe)?c(oe).toArray():[Yr(oe)])];return{container:_,innerWrapper:S,outerWrappers:F}})},$Q=(e,n,o,i)=>{I(hr(e),c=>{da(c)&&o(c)&&i(c).isNone()&&Fl(c)}),I(hr(e),c=>Lr(n,c)),su(e,n)},pl=(e,n)=>{if(n.length>0){const o=n[n.length-1];Qa(e,o);const i=Le(n.slice(0,n.length-1),(c,f)=>(Lr(c,f),f),o);Lr(i,e)}},VH=(e,n,o,i,c)=>{const f=h=>Ws(yt.fromDom(e.getRoot()),h)||e.isBlock(h.dom);I(n,h=>{mE(f,h,o,i,c).each(({container:_,innerWrapper:S,outerWrappers:F})=>{e.split(_.dom,h.dom),$Q(h,S,o,c),pl(h,F)})})},WH=(e,n,o)=>{const i=_=>s(Ou(e,_.dom,n)),c=_=>{const S=yt.fromTag(Fs(_)),F=Ou(e,_.dom,n,{});return s(F)&&wH(F)&&_v(e,S.dom,F),S},f=_=>{const S=Ou(e,_.dom,n,{});return s(S)?QO(e,S,{},_.dom).map(yt.fromDom):w.some(_)},h=SO(e.selection.getRng());VH(e.dom,o,i,c,f),e.selection.setRng(NQ(h))},KH=(e,n)=>nt(n,o=>{const i=Ie(o,c=>Lv(e,c));return Lv(e,o)?[o,...i]:i}),jH=(e,n,o)=>{if(eL(n)){const i=KH(e.formatter,o);WH(e,"strikethrough",i)}},ZH=(e,n)=>{const o=G(n,i=>Lv(e.formatter,i));WH(e,"strikethrough",o)},tL=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),nL=e=>e.name==="summary",Dv=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},oL=(e,n,o,i)=>{const c=o.name;for(let f=0,h=e.length;f<h;f++){const _=e[f];if(_.name===c){const S=i.nodes[c];S?S.nodes.push(o):i.nodes[c]={filter:_,nodes:[o]}}}if(o.attributes)for(let f=0,h=n.length;f<h;f++){const _=n[f],S=_.name;if(S in o.attributes.map){const F=i.attributes[S];F?F.nodes.push(o):i.attributes[S]={filter:_,nodes:[o]}}}},sL=(e,n,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&Dv(o,c=>{oL(e,n,c,i)}),i},rL=(e,n)=>{const o=(i,c)=>{Zt(i,f=>{const h=_t(f.nodes);I(f.filter.callbacks,_=>{for(let S=h.length-1;S>=0;S--){const F=h[S];(!(c?F.attr(f.filter.name)!==void 0:F.name===f.filter.name)||us(F.parent))&&h.splice(S,1)}h.length>0&&_(h,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},zm=(e,n,o,i={})=>{const c=sL(e,n,o);rL(c,i)},cx=(e,n,o,i)=>{if((e.pad_empty_with_br||n.insert)&&o(i)){const f=new kl("br",1);n.insert&&f.attr("data-mce-bogus","1"),i.empty().append(f)}else i.empty().append(new kl("#text",3)).value=Js},aL=e=>{var n;return hE(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Js},hE=(e,n)=>{const o=e==null?void 0:e.firstChild;return s(o)&&o===e.lastChild&&o.name===n},iL=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},K3=(e,n,o,i)=>i.isEmpty(n,o,c=>iL(e,c)),GH=(e,n)=>s(e)&&(n(e)||e.name==="br"),lL=e=>{let n;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(n=o)}return w.from(n)},YH=e=>{const n=[];for(let o=e.firstChild;s(o);o=o.walk())n.push(o);return n},bE=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!n.isValidChild(o.name,c.name)&&bE(c,n,o);e.unwrap()}},cL=(e,n,o,i=a)=>{const c=n.getTextBlockElements(),f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),_=Kn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),S=new Set,F=oe=>oe!==o&&!_[oe.name];for(let oe=0;oe<e.length;oe++){const he=e[oe];let Se,Be,it;if(!he.parent||S.has(he))continue;if(c[he.name]&&he.parent.name==="li"){let st=he.next;for(;st&&c[st.name];){st.name="li",S.add(st),he.parent.insert(st,he.parent);st=st.next}he.unwrap();continue}const rt=[he];for(Se=he.parent;Se&&!n.isValidChild(Se.name,he.name)&&F(Se);Se=Se.parent)rt.push(Se);if(Se&&rt.length>1)if(vE(n,he,Se))bE(he,n);else{rt.reverse(),Be=rt[0].clone(),i(Be);let st=Be;for(let Vt=0;Vt<rt.length-1;Vt++){n.isValidChild(st.name,rt[Vt].name)&&Vt>0?(it=rt[Vt].clone(),i(it),st.append(it)):it=st;for(let Bt=rt[Vt].firstChild;Bt&&Bt!==rt[Vt+1];){const Yt=Bt.next;it.append(Bt),Bt=Yt}st=it}K3(n,f,h,Be)?Se.insert(he,rt[0],!0):(Se.insert(Be,rt[0],!0),Se.insert(he,Be)),Se=rt[0],(K3(n,f,h,Se)||hE(Se,"br"))&&Se.empty().remove()}else if(he.parent){if(he.name==="li"){let st=he.prev;if(st&&(st.name==="ul"||st.name==="ol")){st.append(he);continue}if(st=he.next,st&&(st.name==="ul"||st.name==="ol")&&st.firstChild){st.insert(he,st.firstChild,!0);continue}const Vt=new kl("ul",1);i(Vt),he.wrap(Vt);continue}if(n.isValidChild(he.parent.name,"div")&&n.isValidChild("div",he.name)){const st=new kl("div",1);i(st),he.wrap(st)}else bE(he,n)}}},qH=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},vE=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&qH(o,"a")?!0:nL(o)&&tL(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,HQ=(e,n,o,i)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,i),c},XH=e=>{const n=hn.fromRangeStart(e),o=hn.fromRangeEnd(e),i=e.commonAncestorContainer;return ed(!1,i,o).map(c=>!Id(n,o,i)&&Id(n,c,i)?HQ(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},dx=e=>e.collapsed?e:XH(e),QH=Kn.explode,dL=()=>{const e={};return{addFilter:(c,f)=>{I(QH(c),h=>{vn(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(f)})},getFilters:()=>Tn(e),removeFilter:(c,f)=>{I(QH(c),h=>{if(vn(e,h))if(s(f)){const _=e[h],S=G(_.callbacks,F=>F!==f);S.length>0?_.callbacks=S:delete e[h]}else delete e[h]})}}},xE=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),yE=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),JH=(e,n)=>{I(n,o=>{e.attr(o,null)})},zQ=(e,n,o)=>{e.addNodeFilter("font",i=>{I(i,c=>{const f=n.parse(c.attr("style")),h=c.attr("color"),_=c.attr("face"),S=c.attr("size");h&&(f.color=h),_&&(f["font-family"]=_),S&&Tr(S).each(F=>{f["font-size"]=o[F-1]}),c.name="span",c.attr("style",n.serialize(f)),JH(c,["color","face","size"])})})},ez=(e,n,o)=>{e.addNodeFilter("strike",i=>{const c=n.type!=="html4";I(i,f=>{if(c)f.name="s";else{const h=o.parse(f.attr("style"));h["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(h))}})})},tz=(e,n,o)=>{var i;const c=Zh();n.convert_fonts_to_spans&&zQ(e,c,Kn.explode((i=n.font_size_legacy_values)!==null&&i!==void 0?i:"")),ez(e,o,c)},nz=(e,n,o)=>{n.inline_styles&&tz(e,n,o)},oz=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),sz=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},rz=e=>{try{return decodeURIComponent(e)}catch{return e}},CE=e=>{const[n,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const f=c[2]===";base64",h=rz(i),_=f?sz(h):h;return w.some({type:c[1],data:_,base64Encoded:f})}else return w.none()},_E=(e,n,o=!0)=>{let i=n;if(o)try{i=atob(n)}catch{return w.none()}const c=new Uint8Array(i.length);for(let f=0;f<c.length;f++)c[f]=i.charCodeAt(f);return w.some(new Blob([c],{type:e}))},az=e=>new Promise((n,o)=>{CE(e).bind(({type:i,data:c,base64Encoded:f})=>_E(i,c,f)).fold(()=>o("Invalid data URI"),n)}),iz=e=>Go(e,"blob:")?oz(e):Go(e,"data:")?az(e):Promise.reject("Unknown URI format"),Q1=e=>new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{n(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let lz=0;const uL=e=>"blobid"+lz++,fL=(e,n,o)=>CE(e).bind(({data:i,type:c,base64Encoded:f})=>{if(n&&!f)return w.none();{const h=f?i:btoa(i);return o(h,c)}}),pL=(e,n,o)=>{const i=e.create(uL(),n,o);return e.add(i),i},EE=(e,n,o=!1)=>fL(n,o,(i,c)=>w.from(e.getByData(i,c)).orThunk(()=>_E(c,i).map(f=>pL(e,f,i)))),gL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Go(n,"blob:")){const i=e.getByUri(n);return s(i)?Promise.resolve(i):iz(n).then(c=>Q1(c).then(f=>fL(f,!1,h=>w.some(pL(e,c,h))).getOrThunk(o)))}else return Go(n,"data:")?EE(e,n).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},mL=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,hL=e=>w.from(e.match(mL)).bind(n=>Xe(n,1)).map(n=>Go(n,"www.")?n.substring(4):n),bL=(e,n)=>{w.from(e.attr("src")).bind(hL).forall(o=>!D(n,o))&&e.attr("sandbox","")},wE=(e,n)=>Go(e,`${n}/`),cz=e=>Ls(e)?"iframe":wE(e,"image")?"img":wE(e,"video")?"video":wE(e,"audio")?"audio":"iframe",dz=({type:e,src:n,width:o,height:i}={},c,f)=>{const h=cz(e),_=new kl(h,1);return _.attr(h==="audio"?{src:n}:{src:n,width:o,height:i}),(h==="audio"||h==="video")&&_.attr("controls",""),h==="iframe"&&c&&bL(_,f),_},uz=e=>s(e.attr("data-mce-bogus")),I0=e=>e.attr("src")===fr.transparentSrc||s(e.attr("data-mce-placeholder")),vL=(e,n)=>{const{blob_cache:o}=n;if(o){const i=c=>{const f=c.attr("src");I0(c)||uz(c)||us(f)||EE(o,f,!0).each(h=>{c.attr("src",h.blobUri())})};e.addAttributeFilter("src",c=>I(c,i))}},fz=(e,n)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",S=>{let F=S.length;const oe=Se=>Se.split(" ").filter(it=>it.length>0).concat(["noopener"]).sort().join(" "),he=Se=>{const Be=Se?Kn.trim(Se):"";return/\b(noopener)\b/g.test(Be)?Be:oe(Be)};if(!n.allow_unsafe_link_target)for(;F--;){const Se=S[F];Se.name==="a"&&Se.attr("target")==="_blank"&&Se.attr("rel",he(Se.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",S=>{let F=S.length,oe,he,Se,Be;for(;F--;)if(Be=S[F],Be.name==="a"&&Be.firstChild&&!Be.attr("href"))for(Se=Be.parent,oe=Be.lastChild;oe&&Se;)he=oe.prev,Se.insert(oe,Be),oe=he}),n.fix_list_elements&&e.addNodeFilter("ul,ol",S=>{let F=S.length,oe,he;for(;F--;)if(oe=S[F],he=oe.parent,he&&(he.name==="ul"||he.name==="ol"))if(oe.prev&&oe.prev.name==="li")oe.prev.append(oe);else{const Se=new kl("li",1);Se.attr("style","list-style-type: none"),oe.wrap(Se)}});const f=c.getValidClasses();n.validate&&f&&e.addAttributeFilter("class",S=>{var F;let oe=S.length;for(;oe--;){const he=S[oe],Se=(F=he.attr("class"))!==null&&F!==void 0?F:"",Be=Kn.explode(Se," ");let it="";for(let rt=0;rt<Be.length;rt++){const st=Be[rt];let Vt=!1,Bt=f["*"];Bt&&Bt[st]&&(Vt=!0),Bt=f[he.name],!Vt&&Bt&&Bt[st]&&(Vt=!0),Vt&&(it&&(it+=" "),it+=st)}it.length||(it=null),he.attr("class",it)}}),vL(e,n);const h=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,_=Lt((i=n.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",S=>I(S,F=>{F.replace(dz({type:F.attr("type"),src:F.name==="object"?F.attr("data"):F.attr("src"),width:F.attr("width"),height:F.attr("height")},h,_))})),h&&e.addNodeFilter("iframe",S=>I(S,F=>bL(F,_)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:xL,setPrototypeOf:ux,isFrozen:pz,getPrototypeOf:SE,getOwnPropertyDescriptor:yL}=Object;let{freeze:rd,seal:rf,create:Nv}=Object,{apply:TE,construct:fx}=typeof Reflect<"u"&&Reflect;rd||(rd=function(n){return n}),rf||(rf=function(n){return n}),TE||(TE=function(n,o,i){return n.apply(o,i)}),fx||(fx=function(n,o){return new n(...o)});const px=id(Array.prototype.forEach),CL=id(Array.prototype.lastIndexOf),AE=id(Array.prototype.pop),j3=id(Array.prototype.push),gz=id(Array.prototype.splice),Rv=id(String.prototype.toLowerCase),kE=id(String.prototype.toString),_L=id(String.prototype.match),Mv=id(String.prototype.replace),ad=id(String.prototype.indexOf),EL=id(String.prototype.trim),Jf=id(Object.prototype.hasOwnProperty),Rc=id(RegExp.prototype.test),Iv=mz(TypeError);function id(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return TE(e,n,i)}}function mz(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return fx(e,o)}}function Sr(e,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rv;ux&&ux(e,null);let i=n.length;for(;i--;){let c=n[i];if(typeof c=="string"){const f=o(c);f!==c&&(pz(n)||(n[i]=f),c=f)}e[c]=!0}return e}function Z3(e){for(let n=0;n<e.length;n++)Jf(e,n)||(e[n]=null);return e}function Um(e){const n=Nv(null);for(const[o,i]of xL(e))Jf(e,o)&&(Array.isArray(i)?n[o]=Z3(i):i&&typeof i=="object"&&i.constructor===Object?n[o]=Um(i):n[o]=i);return n}function Bv(e,n){for(;e!==null;){const i=yL(e,n);if(i){if(i.get)return id(i.get);if(typeof i.value=="function")return id(i.value)}e=SE(e)}function o(){return null}return o}const wL=rd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lu=rd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),OE=rd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hz=rd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G3=rd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bz=rd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gx=rd(["#text"]),mx=rd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),hx=rd(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SL=rd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),LE=rd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vm=rf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vz=rf(/<%[\w\W]*|[\w\W]*%>/gm),xz=rf(/\$\{[\w\W]*/gm),yz=rf(/^data-[\-\w.\u00B7-\uFFFF]+$/),js=rf(/^aria-[\-\w]+$/),TL=rf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cz=rf(/^(?:\w+script|data):/i),AL=rf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kL=rf(/^html$/i),_z=rf(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ca=Object.freeze({__proto__:null,ARIA_ATTR:js,ATTR_WHITESPACE:AL,CUSTOM_ELEMENT:_z,DATA_ATTR:yz,DOCTYPE_NAME:kL,ERB_EXPR:vz,IS_ALLOWED_URI:TL,IS_SCRIPT_OR_DATA:Cz,MUSTACHE_EXPR:Vm,TMPLIT_EXPR:xz});const Fv={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ez=function(){return typeof window>"u"?null:window},wz=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const f="dompurify"+(i?"#"+i:"");try{return n.createPolicy(f,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},OL=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function oa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ez();const n=tr=>oa(tr);if(n.version="3.2.6",n.removed=[],!e||!e.document||e.document.nodeType!==Fv.document||!e.Element)return n.isSupported=!1,n;let{document:o}=e;const i=o,c=i.currentScript,{DocumentFragment:f,HTMLTemplateElement:h,Node:_,Element:S,NodeFilter:F,NamedNodeMap:oe=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:he,DOMParser:Se,trustedTypes:Be}=e,it=S.prototype,rt=Bv(it,"cloneNode"),st=Bv(it,"remove"),Vt=Bv(it,"nextSibling"),Bt=Bv(it,"childNodes"),Yt=Bv(it,"parentNode");if(typeof h=="function"){const tr=o.createElement("template");tr.content&&tr.content.ownerDocument&&(o=tr.content.ownerDocument)}let rn,Sn="";const{implementation:so,createNodeIterator:Un,createDocumentFragment:gn,getElementsByTagName:mn}=o,{importNode:Rn}=i;let Lo=OL();n.isSupported=typeof xL=="function"&&typeof Yt=="function"&&so&&so.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Qo,ERB_EXPR:Ms,TMPLIT_EXPR:To,DATA_ATTR:Gt,ARIA_ATTR:lo,IS_SCRIPT_OR_DATA:rs,ATTR_WHITESPACE:dr,CUSTOM_ELEMENT:va}=Ca;let{IS_ALLOWED_URI:Zn}=Ca,Ro=null;const Xs=Sr({},[...wL,...Lu,...OE,...G3,...gx]);let rr=null;const Bo=Sr({},[...mx,...hx,...SL,...LE]);let Pn=Object.seal(Nv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ho=null,vs=null,Ts=!0,vr=!0,sa=!1,Mu=!0,fd=!1,a1=!0,bf=!1,Pc=!1,pd=!1,i1=!1,Z4=!1,as=!1,ur=!0,Pa=!1;const Pi="user-content-";let Xi=!0,Oi=!1,_a={},Ea=null;const gd=Sr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let up=null;const uh=Sr({},["audio","video","img","source","image","track"]);let kg=null;const Oy=Sr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ly="http://www.w3.org/1998/Math/MathML",H6="http://www.w3.org/2000/svg",fp="http://www.w3.org/1999/xhtml";let G4=fp,hA=!1,Dy=null;const cJ=Sr({},[Ly,H6,fp],kE);let bA=Sr({},["mi","mo","mn","ms","mtext"]),vA=Sr({},["annotation-xml"]);const dJ=Sr({},["title","style","font","a","script"]);let Ny=null;const Y4=["application/xhtml+xml","text/html"],bP="text/html";let sn=null,dn=null;const fo=o.createElement("form"),ao=function(fn){return fn instanceof RegExp||fn instanceof Function},xs=function(){let fn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dn&&dn===fn)){if((!fn||typeof fn!="object")&&(fn={}),fn=Um(fn),Ny=Y4.indexOf(fn.PARSER_MEDIA_TYPE)===-1?bP:fn.PARSER_MEDIA_TYPE,sn=Ny==="application/xhtml+xml"?kE:Rv,Ro=Jf(fn,"ALLOWED_TAGS")?Sr({},fn.ALLOWED_TAGS,sn):Xs,rr=Jf(fn,"ALLOWED_ATTR")?Sr({},fn.ALLOWED_ATTR,sn):Bo,Dy=Jf(fn,"ALLOWED_NAMESPACES")?Sr({},fn.ALLOWED_NAMESPACES,kE):cJ,kg=Jf(fn,"ADD_URI_SAFE_ATTR")?Sr(Um(Oy),fn.ADD_URI_SAFE_ATTR,sn):Oy,up=Jf(fn,"ADD_DATA_URI_TAGS")?Sr(Um(uh),fn.ADD_DATA_URI_TAGS,sn):uh,Ea=Jf(fn,"FORBID_CONTENTS")?Sr({},fn.FORBID_CONTENTS,sn):gd,ho=Jf(fn,"FORBID_TAGS")?Sr({},fn.FORBID_TAGS,sn):Um({}),vs=Jf(fn,"FORBID_ATTR")?Sr({},fn.FORBID_ATTR,sn):Um({}),_a=Jf(fn,"USE_PROFILES")?fn.USE_PROFILES:!1,Ts=fn.ALLOW_ARIA_ATTR!==!1,vr=fn.ALLOW_DATA_ATTR!==!1,sa=fn.ALLOW_UNKNOWN_PROTOCOLS||!1,Mu=fn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fd=fn.SAFE_FOR_TEMPLATES||!1,a1=fn.SAFE_FOR_XML!==!1,bf=fn.WHOLE_DOCUMENT||!1,i1=fn.RETURN_DOM||!1,Z4=fn.RETURN_DOM_FRAGMENT||!1,as=fn.RETURN_TRUSTED_TYPE||!1,pd=fn.FORCE_BODY||!1,ur=fn.SANITIZE_DOM!==!1,Pa=fn.SANITIZE_NAMED_PROPS||!1,Xi=fn.KEEP_CONTENT!==!1,Oi=fn.IN_PLACE||!1,Zn=fn.ALLOWED_URI_REGEXP||TL,G4=fn.NAMESPACE||fp,bA=fn.MATHML_TEXT_INTEGRATION_POINTS||bA,vA=fn.HTML_INTEGRATION_POINTS||vA,Pn=fn.CUSTOM_ELEMENT_HANDLING||{},fn.CUSTOM_ELEMENT_HANDLING&&ao(fn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pn.tagNameCheck=fn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fn.CUSTOM_ELEMENT_HANDLING&&ao(fn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pn.attributeNameCheck=fn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fn.CUSTOM_ELEMENT_HANDLING&&typeof fn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pn.allowCustomizedBuiltInElements=fn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fd&&(vr=!1),Z4&&(i1=!0),_a&&(Ro=Sr({},gx),rr=[],_a.html===!0&&(Sr(Ro,wL),Sr(rr,mx)),_a.svg===!0&&(Sr(Ro,Lu),Sr(rr,hx),Sr(rr,LE)),_a.svgFilters===!0&&(Sr(Ro,OE),Sr(rr,hx),Sr(rr,LE)),_a.mathMl===!0&&(Sr(Ro,G3),Sr(rr,SL),Sr(rr,LE))),fn.ADD_TAGS&&(Ro===Xs&&(Ro=Um(Ro)),Sr(Ro,fn.ADD_TAGS,sn)),fn.ADD_ATTR&&(rr===Bo&&(rr=Um(rr)),Sr(rr,fn.ADD_ATTR,sn)),fn.ADD_URI_SAFE_ATTR&&Sr(kg,fn.ADD_URI_SAFE_ATTR,sn),fn.FORBID_CONTENTS&&(Ea===gd&&(Ea=Um(Ea)),Sr(Ea,fn.FORBID_CONTENTS,sn)),Xi&&(Ro["#text"]=!0),bf&&Sr(Ro,["html","head","body"]),Ro.table&&(Sr(Ro,["tbody"]),delete ho.tbody),fn.TRUSTED_TYPES_POLICY){if(typeof fn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Iv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Iv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');rn=fn.TRUSTED_TYPES_POLICY,Sn=rn.createHTML("")}else rn===void 0&&(rn=wz(Be,c)),rn!==null&&typeof Sn=="string"&&(Sn=rn.createHTML(""));rd&&rd(fn),dn=fn}},br=Sr({},[...Lu,...OE,...hz]),$a=Sr({},[...G3,...bz]),Og=function(fn){let Jo=Yt(fn);(!Jo||!Jo.tagName)&&(Jo={namespaceURI:G4,tagName:"template"});const Gs=Rv(fn.tagName),$i=Rv(Jo.tagName);return Dy[fn.namespaceURI]?fn.namespaceURI===H6?Jo.namespaceURI===fp?Gs==="svg":Jo.namespaceURI===Ly?Gs==="svg"&&($i==="annotation-xml"||bA[$i]):!!br[Gs]:fn.namespaceURI===Ly?Jo.namespaceURI===fp?Gs==="math":Jo.namespaceURI===H6?Gs==="math"&&vA[$i]:!!$a[Gs]:fn.namespaceURI===fp?Jo.namespaceURI===H6&&!vA[$i]||Jo.namespaceURI===Ly&&!bA[$i]?!1:!$a[Gs]&&(dJ[Gs]||!br[Gs]):!!(Ny==="application/xhtml+xml"&&Dy[fn.namespaceURI]):!1},pp=function(fn){j3(n.removed,{element:fn});try{Yt(fn).removeChild(fn)}catch{st(fn)}},Ry=function(fn,Jo){try{j3(n.removed,{attribute:Jo.getAttributeNode(fn),from:Jo})}catch{j3(n.removed,{attribute:null,from:Jo})}if(Jo.removeAttribute(fn),fn==="is")if(i1||Z4)try{pp(Jo)}catch{}else try{Jo.setAttribute(fn,"")}catch{}},uJ=function(fn){let Jo=null,Gs=null;if(pd)fn="<remove></remove>"+fn;else{const uc=_L(fn,/^[\r\n\t ]+/);Gs=uc&&uc[0]}Ny==="application/xhtml+xml"&&G4===fp&&(fn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fn+"</body></html>");const $i=rn?rn.createHTML(fn):fn;if(G4===fp)try{Jo=new Se().parseFromString($i,Ny)}catch{}if(!Jo||!Jo.documentElement){Jo=so.createDocument(G4,"template",null);try{Jo.documentElement.innerHTML=hA?Sn:$i}catch{}}const Xd=Jo.body||Jo.documentElement;return fn&&Gs&&Xd.insertBefore(o.createTextNode(Gs),Xd.childNodes[0]||null),G4===fp?mn.call(Jo,bf?"html":"body")[0]:bf?Jo.documentElement:Xd},fJ=function(fn){return Un.call(fn.ownerDocument||fn,fn,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT|F.SHOW_PROCESSING_INSTRUCTION|F.SHOW_CDATA_SECTION,null)},uX=function(fn){return fn instanceof he&&(typeof fn.nodeName!="string"||typeof fn.textContent!="string"||typeof fn.removeChild!="function"||!(fn.attributes instanceof oe)||typeof fn.removeAttribute!="function"||typeof fn.setAttribute!="function"||typeof fn.namespaceURI!="string"||typeof fn.insertBefore!="function"||typeof fn.hasChildNodes!="function")},pJ=function(fn){return typeof _=="function"&&fn instanceof _};function v2(tr,fn,Jo){px(tr,Gs=>{Gs.call(n,fn,Jo,dn)})}const gJ=function(fn){let Jo=null;if(v2(Lo.beforeSanitizeElements,fn,null),uX(fn))return pp(fn),!0;const Gs=sn(fn.nodeName);if(v2(Lo.uponSanitizeElement,fn,{tagName:Gs,allowedTags:Ro}),a1&&fn.hasChildNodes()&&!pJ(fn.firstElementChild)&&Rc(/<[/\w!]/g,fn.innerHTML)&&Rc(/<[/\w!]/g,fn.textContent)||fn.nodeType===Fv.progressingInstruction||a1&&fn.nodeType===Fv.comment&&Rc(/<[/\w]/g,fn.data))return pp(fn),!0;if(!Ro[Gs]||ho[Gs]){if(!ho[Gs]&&hJ(Gs)&&(Pn.tagNameCheck instanceof RegExp&&Rc(Pn.tagNameCheck,Gs)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(Gs)))return!1;if(Xi&&!Ea[Gs]){const $i=Yt(fn)||fn.parentNode,Xd=Bt(fn)||fn.childNodes;if(Xd&&$i){const uc=Xd.length;for(let vf=uc-1;vf>=0;--vf){const x2=rt(Xd[vf],!0);x2.__removalCount=(fn.__removalCount||0)+1,$i.insertBefore(x2,Vt(fn))}}}return pp(fn),!0}return fn instanceof S&&!Og(fn)||(Gs==="noscript"||Gs==="noembed"||Gs==="noframes")&&Rc(/<\/no(script|embed|frames)/i,fn.innerHTML)?(pp(fn),!0):(fd&&fn.nodeType===Fv.text&&(Jo=fn.textContent,px([Qo,Ms,To],$i=>{Jo=Mv(Jo,$i," ")}),fn.textContent!==Jo&&(j3(n.removed,{element:fn.cloneNode()}),fn.textContent=Jo)),v2(Lo.afterSanitizeElements,fn,null),!1)},mJ=function(fn,Jo,Gs){if(ur&&(Jo==="id"||Jo==="name")&&(Gs in o||Gs in fo))return!1;if(!(vr&&!vs[Jo]&&Rc(Gt,Jo))){if(!(Ts&&Rc(lo,Jo))){if(!rr[Jo]||vs[Jo]){if(!(hJ(fn)&&(Pn.tagNameCheck instanceof RegExp&&Rc(Pn.tagNameCheck,fn)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(fn))&&(Pn.attributeNameCheck instanceof RegExp&&Rc(Pn.attributeNameCheck,Jo)||Pn.attributeNameCheck instanceof Function&&Pn.attributeNameCheck(Jo))||Jo==="is"&&Pn.allowCustomizedBuiltInElements&&(Pn.tagNameCheck instanceof RegExp&&Rc(Pn.tagNameCheck,Gs)||Pn.tagNameCheck instanceof Function&&Pn.tagNameCheck(Gs))))return!1}else if(!kg[Jo]){if(!Rc(Zn,Mv(Gs,dr,""))){if(!((Jo==="src"||Jo==="xlink:href"||Jo==="href")&&fn!=="script"&&ad(Gs,"data:")===0&&up[fn])){if(!(sa&&!Rc(rs,Mv(Gs,dr,"")))){if(Gs)return!1}}}}}}return!0},hJ=function(fn){return fn!=="annotation-xml"&&_L(fn,va)},bJ=function(fn){v2(Lo.beforeSanitizeAttributes,fn,null);const{attributes:Jo}=fn;if(!Jo||uX(fn))return;const Gs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rr,forceKeepAttr:void 0};let $i=Jo.length;for(;$i--;){const Xd=Jo[$i],{name:uc,namespaceURI:vf,value:x2}=Xd,xA=sn(uc),fX=x2;let Qd=uc==="value"?fX:EL(fX);if(Gs.attrName=xA,Gs.attrValue=Qd,Gs.keepAttr=!0,Gs.forceKeepAttr=void 0,v2(Lo.uponSanitizeAttribute,fn,Gs),Qd=Gs.attrValue,Pa&&(xA==="id"||xA==="name")&&(Ry(uc,fn),Qd=Pi+Qd),a1&&Rc(/((--!?|])>)|<\/(style|title)/i,Qd)){Ry(uc,fn);continue}if(Gs.forceKeepAttr)continue;if(!Gs.keepAttr){Ry(uc,fn);continue}if(!Mu&&Rc(/\/>/i,Qd)){Ry(uc,fn);continue}fd&&px([Qo,Ms,To],xJ=>{Qd=Mv(Qd,xJ," ")});const vJ=sn(fn.nodeName);if(!mJ(vJ,xA,Qd)){Ry(uc,fn);continue}if(rn&&typeof Be=="object"&&typeof Be.getAttributeType=="function"&&!vf)switch(Be.getAttributeType(vJ,xA)){case"TrustedHTML":{Qd=rn.createHTML(Qd);break}case"TrustedScriptURL":{Qd=rn.createScriptURL(Qd);break}}if(Qd!==fX)try{vf?fn.setAttributeNS(vf,uc,Qd):fn.setAttribute(uc,Qd),uX(fn)?pp(fn):AE(n.removed)}catch{Ry(uc,fn)}}v2(Lo.afterSanitizeAttributes,fn,null)},Mte=function tr(fn){let Jo=null;const Gs=fJ(fn);for(v2(Lo.beforeSanitizeShadowDOM,fn,null);Jo=Gs.nextNode();)v2(Lo.uponSanitizeShadowNode,Jo,null),gJ(Jo),bJ(Jo),Jo.content instanceof f&&tr(Jo.content);v2(Lo.afterSanitizeShadowDOM,fn,null)};return n.sanitize=function(tr){let fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Jo=null,Gs=null,$i=null,Xd=null;if(hA=!tr,hA&&(tr="<!-->"),typeof tr!="string"&&!pJ(tr))if(typeof tr.toString=="function"){if(tr=tr.toString(),typeof tr!="string")throw Iv("dirty is not a string, aborting")}else throw Iv("toString is not a function");if(!n.isSupported)return tr;if(Pc||xs(fn),n.removed=[],typeof tr=="string"&&(Oi=!1),Oi){if(tr.nodeName){const x2=sn(tr.nodeName);if(!Ro[x2]||ho[x2])throw Iv("root node is forbidden and cannot be sanitized in-place")}}else if(tr instanceof _)Jo=uJ("<!---->"),Gs=Jo.ownerDocument.importNode(tr,!0),Gs.nodeType===Fv.element&&Gs.nodeName==="BODY"||Gs.nodeName==="HTML"?Jo=Gs:Jo.appendChild(Gs);else{if(!i1&&!fd&&!bf&&tr.indexOf("<")===-1)return rn&&as?rn.createHTML(tr):tr;if(Jo=uJ(tr),!Jo)return i1?null:as?Sn:""}Jo&&pd&&pp(Jo.firstChild);const uc=fJ(Oi?tr:Jo);for(;$i=uc.nextNode();)gJ($i),bJ($i),$i.content instanceof f&&Mte($i.content);if(Oi)return tr;if(i1){if(Z4)for(Xd=gn.call(Jo.ownerDocument);Jo.firstChild;)Xd.appendChild(Jo.firstChild);else Xd=Jo;return(rr.shadowroot||rr.shadowrootmode)&&(Xd=Rn.call(i,Xd,!0)),Xd}let vf=bf?Jo.outerHTML:Jo.innerHTML;return bf&&Ro["!doctype"]&&Jo.ownerDocument&&Jo.ownerDocument.doctype&&Jo.ownerDocument.doctype.name&&Rc(kL,Jo.ownerDocument.doctype.name)&&(vf="<!DOCTYPE "+Jo.ownerDocument.doctype.name+`>
`+vf),fd&&px([Qo,Ms,To],x2=>{vf=Mv(vf,x2," ")}),rn&&as?rn.createHTML(vf):vf},n.setConfig=function(){let tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xs(tr),Pc=!0},n.clearConfig=function(){dn=null,Pc=!1},n.isValidAttribute=function(tr,fn,Jo){dn||xs({});const Gs=sn(tr),$i=sn(fn);return mJ(Gs,$i,Jo)},n.addHook=function(tr,fn){typeof fn=="function"&&j3(Lo[tr],fn)},n.removeHook=function(tr,fn){if(fn!==void 0){const Jo=CL(Lo[tr],fn);return Jo===-1?void 0:gz(Lo[tr],Jo,1)[0]}return AE(Lo[tr])},n.removeHooks=function(tr){Lo[tr]=[]},n.removeAllHooks=function(){Lo=OL()},n}var bx=oa();const DE=Kn.each,Sz=Kn.trim,LL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Tz={ftp:21,http:80,https:443,mailto:25},mg=["img","video"],NE=(e,n)=>s(e)?!e:s(n)?!D(mg,n):!0,Az=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},DL=(e,n,o)=>{const i=Az(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?NE(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class Ud{static parseDataUri(n){let o;const i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(n,o,i={}){if(i.allow_script_urls)return!0;{const c=Lp.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!DL(i,c,o)}}static getDocumentBaseUrl(n){var o;let i;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?i=(o=n.href)!==null&&o!==void 0?o:"":i=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(n,o={}){this.path="",this.directory="",n=Sz(n),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const _=i?i.path:new Ud(document.location.href).directory;if((i==null?void 0:i.protocol)==="")n="//mce_host"+c.toAbsPath(_,n);else{const S=/([^#?]*)([#?]?.*)/.exec(n);S&&(n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(_,S[1])+S[2])}}n=n.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h&&DE(LL,(_,S)=>{let F=h[S];F&&(F=F.replace(/\(mce_at\)/g,"@@")),c[_]=F}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),f&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Ud(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const i=new Ud(n,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?Tz[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let i=0,c="",f,h;const _=n.substring(0,n.lastIndexOf("/")).split("/"),S=o.split("/");if(_.length>=S.length){for(f=0,h=_.length;f<h;f++)if(f>=S.length||_[f]!==S[f]){i=f+1;break}}if(_.length<S.length){for(f=0,h=S.length;f<h;f++)if(f>=_.length||_[f]!==S[f]){i=f+1;break}}if(i===1)return o;for(f=0,h=_.length-(i-1);f<h;f++)c+="../";for(f=i-1,h=S.length;f<h;f++)f!==i-1?c+="/"+S[f]:c+=S[f];return c}toAbsPath(n,o){let i=0;const c=/\/$/.test(o)?"/":"",f=n.split("/"),h=o.split("/"),_=[];DE(f,he=>{he&&_.push(he)});const S=[];for(let he=h.length-1;he>=0;he--)if(!(h[he].length===0||h[he]===".")){if(h[he]===".."){i++;continue}if(i>0){i--;continue}S.push(h[he])}const F=_.length-i;let oe;return F<=0?oe=Me(S).join("/"):oe=_.slice(0,F).join("/")+"/"+Me(S).join("/"),oe.indexOf("/")!==0&&(oe="/"+oe),c&&oe.lastIndexOf("/")!==oe.length-1&&(oe+=c),oe}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const kz=Kn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),RE="data-mce-type";let oi=0;const NL=(e,n,o,i,c)=>{var f,h,_,S;const F=n.validate,oe=o.getSpecialElements();e.nodeType===Pu&&(!n.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue),n.sanitize&&n.allow_html_in_comments&&lt(e.nodeValue)&&(e.nodeValue=xE(e.nodeValue)));const he=(h=c==null?void 0:c.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){s(c)&&(c.allowedTags[he]=!0);return}if(e.nodeType!==Ql||he==="body")return;const Se=yt.fromDom(e),Be=zu(Se,RE),it=Ja(Se,"data-mce-bogus");if(!Be&&lt(it)){it==="all"?Ar(Se):Fl(Se);return}const rt=o.getElementRule(he);if(F&&!rt){vn(oe,he)?Ar(Se):Fl(Se);return}else s(c)&&(c.allowedTags[he]=!0);if(F&&rt&&!Be){if(I((_=rt.attributesForced)!==null&&_!==void 0?_:[],st=>{Mo(Se,st.name,st.value==="{$uid}"?`mce_${oi++}`:st.value)}),I((S=rt.attributesDefault)!==null&&S!==void 0?S:[],st=>{zu(Se,st.name)||Mo(Se,st.name,st.value==="{$uid}"?`mce_${oi++}`:st.value)}),rt.attributesRequired&&!U(rt.attributesRequired,st=>zu(Se,st))){Fl(Se);return}if(rt.removeEmptyAttrs&&zg(Se)){Fl(Se);return}rt.outputName&&rt.outputName!==he&&au(Se,rt.outputName)}},Wm=(e,n,o,i,c)=>{const f=e.tagName.toLowerCase(),{attrName:h,attrValue:_}=c;c.keepAttr=RL(n,o,i,f,h,_),c.keepAttr?(c.allowedAttributes[h]=!0,IL(h,o)&&(c.attrValue=h),n.allow_svg_data_urls&&Go(_,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):ML(e,h)&&(c.forceKeepAttr=!0)},RL=(e,n,o,i,c,f)=>o!=="html"&&!ts(i)?!0:!(c in kz&&DL(e,f,i))&&(!e.validate||n.isValid(i,c)||Go(c,"data-")||Go(c,"aria-")),ML=(e,n)=>e.hasAttribute(RE)&&(n==="id"||n==="class"||n==="style"),IL=(e,n)=>e in n.getBoolAttrs(),Oz=(e,n,o,i)=>{const{attributes:c}=e;for(let f=c.length-1;f>=0;f--){const h=c[f],_=h.name,S=h.value;!RL(n,o,i,e.tagName.toLowerCase(),_,S)&&!ML(e,_)?e.removeAttribute(_):IL(_,o)&&e.setAttribute(_,_)}},Lz=(e,n,o)=>{const i=bx();return i.addHook("uponSanitizeElement",(c,f)=>{NL(c,e,n,o.track(c),f)}),i.addHook("uponSanitizeAttribute",(c,f)=>{Wm(c,e,n,o.current(),f)}),i},Dz=(e,n)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=n,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},Nz=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(i=>`xlink:${i}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};bx().sanitize(e,o)},Rz=(e,n)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},i=bx(),c=n.allow_mathml_annotation_encodings,f=Eo(c)&&c.length>0,h=S=>{const F=S.getAttribute("encoding");return f&&lt(F)&&D(c,F)},_=(S,F)=>f&&F==="semantics"?w.some(!0):F==="annotation"?w.some(Vo(S)&&h(S)):Eo(n.extended_mathml_elements)&&n.extended_mathml_elements.includes(F)?w.from(!0):w.none();i.addHook("uponSanitizeElement",(S,F)=>{var oe;const he=(oe=F.tagName)!==null&&oe!==void 0?oe:S.nodeName.toLowerCase();_(S,he).each(Be=>{F.allowedTags[he]=Be,!Be&&n.sanitize&&Vo(S)&&S.remove()})}),i.addHook("uponSanitizeAttribute",(S,F)=>{Eo(n.extended_mathml_attributes)&&n.extended_mathml_attributes.includes(F.attrName)&&(F.forceKeepAttr=!0)}),i.sanitize(e,o)},Mz=e=>n=>{const o=Qg(n);if(o==="svg")Nz(n);else if(o==="math")Rz(n,e);else throw new Error("Not a namespace element")},vx=(e,n)=>{const o=Qy();if(e.sanitize){const i=Lz(e,n,o);return{sanitizeHtmlElement:(f,h)=>{i.sanitize(f,Dz(e,h)),i.removed=[],o.reset()},sanitizeNamespaceElement:Mz(e)}}else return{sanitizeHtmlElement:(f,h)=>{const _=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let S;for(;S=_.nextNode();){const F=o.track(S);NL(S,e,n,F),Vo(S)&&Oz(S,e,n,F)}o.reset()},sanitizeNamespaceElement:a}},BL=["script","style","template","param"],FL=Kn.makeMap,Iz=Kn.extend,Y3=(e,n,o,i,c)=>{const f=e.name,h=f in o&&f!=="title"&&f!=="textarea"&&f!=="noscript",_=n.childNodes;for(let S=0,F=_.length;S<F;S++){const oe=_[S],he=new kl(oe.nodeName.toLowerCase(),oe.nodeType);if(Vo(oe)){const Se=oe.attributes;for(let Be=0,it=Se.length;Be<it;Be++){const rt=Se[Be];he.attr(rt.name,rt.value)}ts(he.name)&&(i(oe),he.value=oe.innerHTML)}else Gn(oe)?(he.value=oe.data,h&&(he.raw=!0)):Ku(oe)?he.value=c?yE(oe.data):oe.data:(gu(oe)||y5(oe))&&(he.value=oe.data);if($2(oe)){const Se=kl.create("#text");Se.value=oe.innerHTML,Se.raw=!0,he.append(Se)}else ts(he.name)||Y3(he,oe,o,i,c);e.append(he)}},Bz=(e,n,o)=>{const i=[];for(let c=e,f=c;c;f=c,c=c.walk()){const h=c;I(n,_=>_(h)),us(h.parent)&&h!==e?c=f:i.push(h)}for(let c=i.length-1;c>=0;c--){const f=i[c];I(o,h=>h(f))}},ME=(e,n,o,i)=>{const c=o.validate,f=n.getNonEmptyElements(),h=n.getWhitespaceElements(),_=Iz(FL(BL),n.getBlockElements()),S=ya(n),F=/[ \t\r\n]+/g,oe=/^[ \t\r\n]+/,he=/[ \t\r\n]+$/,Se=Bt=>{let Yt=Bt.parent;for(;s(Yt);){if(Yt.name in h)return!0;Yt=Yt.parent}return!1},Be=Bt=>{let Yt=Bt;for(;s(Yt);){if(Yt.name in S)return K3(n,f,h,Yt);Yt=Yt.parent}return!1},it=Bt=>Bt.name in _||Vl(n,Bt)||ts(Bt.name)&&Bt.parent===e,rt=(Bt,Yt)=>{const rn=Yt?Bt.prev:Bt.next;return s(rn)||us(Bt.parent)?!1:it(Bt.parent)&&(Bt.parent!==e||i.isRootContent===!0)};return[Bt=>{var Yt;if(Bt.type===3&&!Se(Bt)){let rn=(Yt=Bt.value)!==null&&Yt!==void 0?Yt:"";rn=rn.replace(F," "),(GH(Bt.prev,it)||rt(Bt,!0))&&(rn=rn.replace(oe,"")),rn.length===0||rn===" "&&Bt.prev&&Bt.prev.type===Pu&&Bt.next&&Bt.next.type===Pu?Bt.remove():Bt.value=rn}},Bt=>{var Yt;if(Bt.type===1){const rn=n.getElementRule(Bt.name);if(c&&rn){const Sn=K3(n,f,h,Bt);rn.paddInEmptyBlock&&Sn&&Be(Bt)?cx(o,i,it,Bt):rn.removeEmpty&&Sn?it(Bt)?Bt.remove():Bt.unwrap():rn.paddEmpty&&(Sn||aL(Bt))&&cx(o,i,it,Bt)}}else if(Bt.type===3&&!Se(Bt)){let rn=(Yt=Bt.value)!==null&&Yt!==void 0?Yt:"";(Bt.next&&it(Bt.next)||rt(Bt,!1))&&(rn=rn.replace(he,"")),rn.length===0?Bt.remove():Bt.value=rn}}]},Fz=(e,n)=>{var o;const i=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},q3=(e={},n=oc())=>{const o=dL(),i=dL(),c={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},f=new DOMParser,h=vx(c,n),_=(Yt,rn,Sn="html")=>{const so=Sn==="xhtml"?"application/xhtml+xml":"text/html",Un=vn(n.getSpecialElements(),rn.toLowerCase()),gn=Un?`<${rn}>${Yt}</${rn}>`:Yt,mn=()=>Sn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${gn}</body></html>`:/^[\s]*<head/i.test(Yt)||/^[\s]*<html/i.test(Yt)||/^[\s]*<!DOCTYPE/i.test(Yt)?`<html>${gn}</html>`:`<body>${gn}</body>`,Rn=f.parseFromString(mn(),so).body;return h.sanitizeHtmlElement(Rn,so),Un?Rn.firstChild:Rn},S=o.addFilter,F=o.getFilters,oe=o.removeFilter,he=i.addFilter,Se=i.getFilters,Be=i.removeFilter,it=(Yt,rn)=>{vE(n,Yt)&&rn.push(Yt)},rt=(Yt,rn)=>{const Sn=lt(rn.attr(RE)),so=rn.type===1&&!vn(Yt,rn.name)&&!Vl(n,rn)&&!ts(rn.name);return rn.type===3||so&&!Sn},st=(Yt,rn)=>{const Sn=Iz(FL(BL),n.getBlockElements()),so=/^[ \t\r\n]+/,Un=/[ \t\r\n]+$/;let gn=Yt.firstChild,mn=null;const Rn=Lo=>{var Qo,Ms;Lo&&(gn=Lo.firstChild,gn&&gn.type===3&&(gn.value=(Qo=gn.value)===null||Qo===void 0?void 0:Qo.replace(so,"")),gn=Lo.lastChild,gn&&gn.type===3&&(gn.value=(Ms=gn.value)===null||Ms===void 0?void 0:Ms.replace(Un,"")))};if(n.isValidChild(Yt.name,rn.toLowerCase())){for(;gn;){const Lo=gn.next;rt(Sn,gn)?(mn||(mn=new kl(rn,1),mn.attr(c.forced_root_block_attrs),Yt.insert(mn,gn)),mn.append(gn)):(Rn(mn),mn=null),gn=Lo}Rn(mn)}},Bt={schema:n,addAttributeFilter:he,getAttributeFilters:Se,removeAttributeFilter:Be,addNodeFilter:S,getNodeFilters:F,removeNodeFilter:oe,parse:(Yt,rn={})=>{var Sn;const so=c.validate,Un=(Sn=rn.context)!==null&&Sn!==void 0?Sn:c.root_name,gn=_(Yt,Un,rn.format);sl(n,gn);const mn=new kl(Un,11);Y3(mn,gn,n.getSpecialElements(),h.sanitizeNamespaceElement,c.sanitize&&c.allow_html_in_comments),gn.innerHTML="";const[Rn,Lo]=ME(mn,n,c,rn),Qo=[],Ms=so?rs=>it(rs,Qo):a,To={nodes:{},attributes:{}},Gt=rs=>oL(F(),Se(),rs,To);Bz(mn,[Rn,Gt],[Lo,Ms]),Qo.reverse(),so&&Qo.length>0&&(rn.context?rn.invalid=!0:cL(Qo,n,mn,Gt));const lo=Fz(c,rn);return lo&&(mn.name==="body"||rn.isRootContent)&&st(mn,lo),rn.invalid||rL(To,rn),mn}};return fz(Bt,c),nz(Bt,c,n),Bt},xx=e=>e instanceof kl,Pz=e=>xx(e)?O0({validate:!1}).serialize(e):e,Km=(e,n,o)=>{const i=Pz(e),c=n(i);if(c.isDefaultPrevented())return c;if(xx(e))if(c.content!==i){const f=q3({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:f}}else return{...c,content:e};else return c},jm=e=>({sanitize:kb(e),sandbox_iframes:f7(e),sandbox_iframes_exclusions:Lb(e)}),Pv=(e,n)=>{if(n.no_events)return fe.value(n);{const o=bC(e,n);return o.isDefaultPrevented()?fe.error(gi(e,{content:"",...o}).content):fe.value(o)}},$v=(e,n,o)=>o.no_events?n:Km(n,c=>gi(e,{...o,content:c}),jm(e)).content,hg=(e,n)=>{if(n.no_events)return fe.value(n);{const o=Km(n.content,i=>H8(e,{...n,content:i}),jm(e));return o.isDefaultPrevented()?(Yn(e,o),fe.error(void 0)):fe.value(o)}},bg=(e,n,o)=>{o.no_events||Yn(e,{...o,content:n})},yx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Cx=[],PL="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),_x=[{name:"export",replacedWith:"Export to PDF"}],Ex=(e,n)=>{const o=G(n,i=>vn(e,i));return Ze(o)},$L=e=>{const n=Ex(e,yx),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Ze(n)},HL=e=>Ex(e,Cx),B0=(e,n)=>{const o=Kn.makeMap(e.plugins," "),c=G(n,f=>vn(o,f));return Ze(c)},zL=e=>B0(e,PL),UL=e=>B0(e,_x.map(n=>n.name)),VL=(e,n)=>{const o=$L(e),i=zL(n),c=i.length>0,f=o.length>0,h=n.theme==="mobile";if(c||f||h){const _=`
- `,S=h?`

Themes:${_}mobile`:"",F=c?`

Plugins:${_}${i.join(_)}`:"",oe=f?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+S+F+oe)}},wx=e=>we(_x,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),WL=(e,n)=>{const o=HL(e),i=UL(n),c=i.length>0,f=o.length>0;if(c||f){const h=`
- `,_=c?`

Plugins:${h}${i.map(wx).join(h)}`:"",S=f?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+S)}},KL=(e,n)=>{VL(e,n),WL(e,n)},jL={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},IE=e=>{console.warn(jL[e],new Error().stack)},J1=e=>e.dom.length===0?(Ar(e),w.none()):w.some(e),Zm=(e,n)=>e.filter(o=>Bm.isBookmarkNode(o.dom)).bind(n?xd:Qs),af=(e,n,o,i,c)=>{const f=e.dom,h=n.dom,_=i?f.length:h.length;i?(Z_(f,h,c,!1,!i),o.setStart(h,_)):(Z_(h,f,c,!1,!i),o.setEnd(h,_))},$z=(e,n,o)=>{si(e).each(i=>{const c=e.dom;n&&hv(i,hn(c,0),o)?ex(c,0,o):!n&&bv(i,hn(c,c.length),o)&&j_(c,c.length,o)})},ZL=(e,n,o,i,c)=>{e.bind(f=>((i?j_:ex)(f.dom,i?f.dom.length:0,c),n.filter(Ha).map(_=>af(f,_,o,i,c)))).orThunk(()=>Zm(n,i).or(n).filter(Ha).map(h=>$z(h,i,c)))},Hz=(e,n,o)=>{const i=w.from(n.firstChild).map(yt.fromDom),c=w.from(n.lastChild).map(yt.fromDom);e.deleteContents(),e.insertNode(n);const f=i.bind(Qs).filter(Ha).bind(J1),h=c.bind(xd).filter(Ha).bind(J1);ZL(f,i,e,!0,o),ZL(h,c,e,!1,o),e.collapse(!1)},zz=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),Uz=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return O0({validate:!1},e.schema).serialize(f)}else return n.content},Sx=(e,n,o={})=>{const i=zz(o,n);hg(e,i).each(c=>{const f=Uz(e,c),h=e.selection.getRng();Hz(h,h.createContextualFragment(f),e.schema),e.selection.setRng(h),dv(e,h),bg(e,f,c)})},Vz=(e,n,o={})=>{IE("selectionSetContent"),Sx(e,n,o)},Wz=e=>s(e.firstChild)&&e.firstChild===e.lastChild,Kz=e=>e.name==="br"||e.value===Js,jz=(e,n)=>e.getBlockElements()[n.name]&&Wz(n)&&Kz(n.firstChild),Zz=(e,n)=>{const o=e.getNonEmptyElements();return s(n)&&(n.isEmpty(o)||jz(e,n))},Gz=(e,n)=>{let o=n.firstChild,i=n.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),Zz(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},BE=e=>{var n,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},FE=(e,n,o)=>{const i=n.serialize(o),c=e.createFragment(i);return BE(c)},GL=e=>{var n;return G((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},Yz=e=>e.data===Js||Qr(e),qz=e=>s(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&Yz(e.firstChild),YL=e=>!e.firstChild||qz(e),qL=e=>e.length>0&&YL(e[e.length-1])?e.slice(0,-1):e,Hv=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},XL=(e,n)=>!!Hv(e,n),QL=(e,n)=>{const o=n.cloneRange(),i=n.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},PE=(e,n)=>{const o=hn.before(e),c=ll(n).next(o);return c?c.toRange():null},JL=(e,n)=>{const o=hn.after(e),c=ll(n).prev(o);return c?c.toRange():null},Xz=(e,n,o,i)=>{const c=QL(e,i),f=e.parentNode;return f&&(f.insertBefore(c[0],e),Kn.each(n,h=>{f.insertBefore(h,e)}),f.insertBefore(c[1],e),f.removeChild(e)),JL(n[n.length-1],o)},ep=(e,n,o)=>{const i=e.parentNode;return i&&Kn.each(n,c=>{i.insertBefore(c,e)}),PE(e,o)},lf=(e,n,o,i)=>(i.insertAfter(n.reverse(),e),JL(n[0],o)),Tx=(e,n,o,i)=>{const c=FE(n,e,i),f=Hv(n,o.startContainer),h=qL(GL(c.firstChild)),_=1,S=2,F=n.getRoot(),oe=he=>{const Se=hn.fromRangeStart(o),Be=ll(n.getRoot()),it=he===_?Be.prev(Se):Be.next(Se),rt=it==null?void 0:it.getNode();return rt?Hv(n,rt)!==f:!0};return f?oe(_)?ep(f,h,F):oe(S)?lf(f,h,F,n):Xz(f,h,F,o):null},eD=["pre"],Ax=(e,n,o,i)=>{var c;const f=n.firstChild,h=n.lastChild,_=h.attr("data-mce-type")==="bookmark"?h.prev:h,S=f===_,F=D(eD,f.name);if(S&&F){const oe=f.attr("contenteditable")!=="false",he=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===f.name,Se=w.from(R0(i,o)).forall(ni);return oe&&he&&Se}else return!1},kx=Ph,tD=(e,n,o)=>{if(s(o)){const i=e.getParent(n.endContainer,kx);return o===i&&P3(yt.fromDom(o),n)}else return!1},nD=(e,n)=>{if(e.isBlock(n)&&e.isEditable(n)){const o=n.childNodes;return o.length===1&&Qr(o[0])||o.length===0}else return!1},oD=(e,n,o)=>{var i;o.getAttribute("data-mce-bogus")==="all"?(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(n),o):nD(e.dom,o)?e.dom.setHTML(o,n):Sx(e,n,{no_events:!0})},sD=(e,n,o)=>{w.from(e.getParent(n,"td,th")).map(yt.fromDom).each(i=>V5(i,o))},rD=(e,n)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(n){const c=e.getBody(),f=iE(e),h="*[data-mce-fragment]",_=i.select(h);Kn.each(_,S=>{const F=Se=>s(o[Se.nodeName.toLowerCase()]),oe=Se=>Se.childNodes.length===1;if((Se=>!(Ak(i,Se)||AQ(i,Se)))(S)&&F(S)&&oe(S)){const Se=fv(i,S),Be=(Vt,Bt)=>ot(Vt,Yt=>D(Bt,Yt)),it=Vt=>oe(S)&&i.is(Vt,h)&&F(Vt)&&(Vt.nodeName===S.nodeName&&Be(Se,fv(i,Vt))||it(Vt.children[0])),rt=Vt=>s(Vt)&&Vt!==c&&(f.compare(S,Vt)||rt(Vt.parentElement)),st=Vt=>s(Vt)&&Vt!==c&&i.is(Vt,h)&&(kk(i,S,Vt)||st(Vt.parentElement));(it(S.children[0])||rt(S.parentElement)&&!st(S.parentElement))&&i.remove(S,!0)}}),ZH(e,Pl(_))}},Ox=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},$E=e=>{Kn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},Qz=e=>!!e.getAttribute("data-mce-fragment"),Jz=(e,n)=>s(n)&&!e.schema.getVoidElements()[n.nodeName],eU=(e,n)=>{var o,i,c;let f;const h=e.dom,_=e.selection;if(!n)return;_.scrollIntoView(n);const S=R0(e.getBody(),n);if(S&&h.getContentEditable(S)==="false"){h.remove(n),_.select(S);return}let F=h.createRng();const oe=n.previousSibling;if(Gn(oe)){F.setStart(oe,(i=(o=oe.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const Be=n.nextSibling;Gn(Be)&&(oe.appendData(Be.data),(c=Be.parentNode)===null||c===void 0||c.removeChild(Be))}else F.setStartBefore(n),F.setEndBefore(n);const he=Be=>{let it=hn.fromRangeStart(Be);return it=ll(e.getBody()).next(it),it==null?void 0:it.toRange()},Se=h.getParent(n,h.isBlock);if(h.remove(n),Se&&h.isEmpty(Se)){const Be=kx(Se);Ps(yt.fromDom(Se)),F.setStart(Se,0),F.setEnd(Se,0),!Be&&!Qz(Se)&&(f=he(F))?(F=f,h.remove(Se)):h.add(Se,h.create("br",Be?{}:{"data-mce-bogus":"1"}))}_.setRng(F)},tU=e=>{const n=e.dom,o=dx(e.selection.getRng());e.selection.setRng(o);const i=n.getParent(o.startContainer,kx);tD(n,o,i)?sx(e,o,yt.fromDom(i)):p_(o)||f_(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},aD=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return w.some(n);return w.none()},nU=(e,n,o)=>{var i;return U(o.children(),tL)&&((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},oU=(e,n,o)=>{var i;const c=e.selection,f=e.dom,h=e.parser,_=o.merge,S=O0({validate:!0},e.schema),F='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Ac(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,F);let oe=c.getRng();const he=oe.startContainer,Se=e.getBody();he===Se&&c.isCollapsed()&&f.isBlock(Se.firstChild)&&Jz(e,Se.firstChild)&&f.isEmpty(Se.firstChild)&&(oe=f.createRng(),oe.setStart(Se.firstChild,0),oe.setEnd(Se.firstChild,0),c.setRng(oe)),c.isCollapsed()||tU(e);const Be=c.getNode(),it={context:Be.nodeName.toLowerCase(),data:o.data,insert:!0},rt=h.parse(n,it);if(o.paste===!0&&Gz(e.schema,rt)&&XL(f,Be))return oe=Tx(S,f,c.getRng(),rt),oe&&c.setRng(oe),n;o.paste===!0&&Ax(f,rt,Be,e.getBody())&&((i=rt.firstChild)===null||i===void 0||i.unwrap()),Ox(rt);let st=rt.lastChild;if(st&&st.attr("id")==="mce_marker"){const Vt=st;for(st=st.prev;st&&st.name!=="table";st=st.walk(!0))if(st.type===3||!f.isBlock(st.name)){st.parent&&e.schema.isValidChild(st.parent.name,"span")&&st.parent.insert(Vt,st,st.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Be),!it.invalid&&!nU(f,Be,rt))n=S.serialize(rt),oD(e,n,Be);else{Sx(e,F);let Vt=c.getNode(),Bt;const Yt=e.getBody();for(ka(Vt)?Vt=Bt=Yt:Bt=Vt;Bt&&Bt!==Yt;)Vt=Bt,Bt=Bt.parentNode;n=Vt===Yt?Yt.innerHTML:f.getOuterHTML(Vt);const rn=h.parse(n),Sn=aD(rn),so=Sn.bind(lL).getOr(rn);Sn.each(mn=>mn.replace(rt));const Un=YH(rt);rt.unwrap();const gn=G(Un,mn=>vE(e.schema,mn));cL(gn,e.schema,so),zm(h.getNodeFilters(),h.getAttributeFilters(),rn),n=S.serialize(rn),Vt===Yt?f.setHTML(Yt,n):f.setOuterHTML(Vt,n)}return rD(e,_),eU(e,f.get("mce_marker")),$E(e.getBody()),sD(f,c.getStart(),e.schema),El(e.schema,e.getBody(),c.getStart()),n},HE=e=>{Xf(e)&&Bi(e.getBody()).each(n=>{const o=n.getNode(),i=pu(o)?Bi(o).getOr(n):n;e.selection.setRng(i.toRange())})},zE=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&HE(e)},sU=(e,n,o,i)=>{if(o=Ac(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const f=Mr(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=c,o=e.dom.createHTML(f,Oc(e),o)):o||(o=c),zE(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=O0({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Tc(yt.fromDom(n))?o:Kn.trim(o);return zE(e,c,i.no_selection),{content:c,html:c}}},rU=(e,n,o,i)=>{zm(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=O0({validate:!1},e.schema).serialize(o),f=Ac(Tc(yt.fromDom(n))?c:Kn.trim(c));return zE(e,f,i.no_selection),{content:o,html:f}},aU=(e,n,o)=>w.from(e.getBody()).map(i=>xx(n)?rU(e,i,n,o):sU(e,i,n,o)).getOr({content:n,html:xx(o.content)?"":o.content}),zv={},iD=fu(["pre"]),iU=(e,n)=>{zv[e]||(zv[e]=[]),zv[e].push(n)},Lx=(e,n)=>{vn(zv,e)&&I(zv[e],o=>{o(n)})};iU("pre",e=>{const n=e.selection.getRng(),o=c=>f=>{const h=f.previousSibling;return iD(h)&&D(c,h)},i=(c,f)=>{const h=yt.fromDom(f),_=yi(h).dom;Ar(h),Bl(yt.fromDom(c),[yt.fromTag("br",_),yt.fromTag("br",_),...hr(h)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),f=G(G(c,iD),o(c));I(f,h=>{i(h.previousSibling,h)})}});const Dx=Kn.each,lU=(e,n,o,i)=>{const c=f=>{if(uu(f)&&Vo(f.parentNode)&&e.isEditable(f)){const h=T(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Kn.walk(i,c,"childNodes"),c(i))},cU=(e,n,o,i)=>{if(n.styles&&n.styles.backgroundColor){const c=PH(e,"fontSize");gE(i,f=>c(f)&&e.isEditable(f),HO(e,"backgroundColor",V1(n.styles.backgroundColor,o)))}},dU=(e,n,o,i)=>{if(to(n)&&(n.inline==="sub"||n.inline==="sup")){const c=PH(e,"fontSize");gE(i,h=>c(h)&&e.isEditable(h),HO(e,"fontSize",""));const f=G(e.select(n.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(f,!0)}},uU=(e,n,o,i)=>{Dx(n,c=>{to(c)&&Dx(e.dom.select(c.inline,i),f=>{PO(f)&&Ov(e,c,o,f,c.exact?f:null)}),FQ(e.dom,c,i)})},lD=(e,n,o,i,c)=>{const f=c.parentNode;Ou(e,f,o,i)&&Ov(e,n,i,c)||n.merge_with_parents&&f&&e.dom.getParent(f,h=>Ou(e,h,o,i)?(Ov(e,n,i,c),!0):!1)},fU=Kn.each,pU=(e,n,o,i)=>{if(wm(e)&&to(n)&&o.parentNode){const c=ya(e.schema),f=co(yt.fromDom(o),h=>Gi(h.dom));return Hn(c,i)&&Of(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},UE=(e,n,o,i)=>{const c=e.formatter.get(n),f=c[0],h=!i&&e.selection.isCollapsed(),_=e.dom,S=e.selection,F=(Be,it)=>{let rt=!1;return fU(Be,st=>wn(st)?_.getContentEditable(it)==="false"&&!st.ceFalseOverride||s(st.collapsed)&&st.collapsed!==h?!0:_.is(it,st.selector)&&!Gi(it)?(_v(e,it,st,o,it),rt=!0,!1):!0:!1),rt},oe=Be=>{if(lt(Be)){const it=_.create(Be);return _v(e,it,f,o,i),it}else return null},he=(Be,it,rt)=>{const st=[];let Vt=!0;const Bt=f.inline||f.block,Yt=oe(Bt),rn=Un=>Dt(f)&&Ou(e,Un,n,o),Sn=(Un,gn,mn)=>{const Rn=en(f)&&av(e.schema,Un)&&Im(e,gn,Bt);return mn&&Rn},so=(Un,gn,mn,Rn)=>{const Lo=Un.nodeName.toLowerCase(),Qo=Im(e,Bt,Lo)&&Im(e,gn,Bt),Ms=!rt&&Gn(Un)&&um(Un.data),To=Gi(Un),Gt=!to(f)||!Be.isBlock(Un);return(mn||Rn)&&Qo&&!Ms&&!To&&Gt};mi(Be,it,Un=>{let gn;const mn=Rn=>{let Lo=!1,Qo=Vt,Ms=!1;const To=Rn.parentNode,Gt=To.nodeName.toLowerCase(),lo=Be.getContentEditable(Rn);s(lo)&&(Qo=Vt,Vt=lo==="true",Lo=!0,Ms=lv(e,Rn));const rs=Vt&&!Lo;if(Qr(Rn)&&!pU(e,f,Rn,Gt)){gn=null,ct(f)&&Be.remove(Rn);return}if(rn(Rn)){gn=null;return}if(Sn(Rn,Gt,rs)){const dr=Be.rename(Rn,Bt);_v(e,dr,f,o,Rn),st.push(dr),gn=null;return}if(wn(f)){let dr=F(c,Rn);if(!dr&&s(To)&&Wo(f)&&(dr=F(c,To)),!to(f)||dr){gn=null;return}}s(Yt)&&so(Rn,Gt,rs,Ms)?(gn||(gn=Be.clone(Yt,!1),To.insertBefore(gn,Rn),st.push(gn)),Ms&&Lo&&(Vt=Qo),gn.appendChild(Rn)):(gn=null,I(_t(Rn.childNodes),mn),Lo&&(Vt=Qo),gn=null)};I(Un,mn)}),f.links===!0&&I(st,Un=>{const gn=mn=>{mn.nodeName==="A"&&_v(e,mn,f,o,i),I(_t(mn.childNodes),gn)};gn(Un)}),jH(e,n,Pl(st)),I(st,Un=>{const gn=Lo=>{let Qo=0;return I(Lo.childNodes,Ms=>{!m_(Ms)&&!td(Ms)&&Qo++}),Qo},mn=Lo=>we(Lo.childNodes,ov).filter(Ms=>Be.getContentEditable(Ms)!=="false"&&ix(Be,Ms,f)).map(Ms=>{const To=Be.clone(Ms,!1);return _v(e,To,f,o,Lo),Be.replace(To,Lo,!0),Be.remove(Ms,!0),To}).getOr(Lo),Rn=gn(Un);if((st.length>1||!Be.isBlock(Un))&&Rn===0){Be.remove(Un,!0);return}(to(f)||ct(f)&&f.wrapper)&&(!f.exact&&Rn===1&&(Un=mn(Un)),uU(e,c,o,Un),lD(e,f,n,o,Un),cU(Be,f,o,Un),lU(Be,f,o,Un),dU(Be,f,o,Un),$O(e,f,o,Un))})},Se=ig(i)?i:S.getNode();if(_.getContentEditable(Se)==="false"&&!lv(e,Se)){i=Se,F(c,i),P8(e,n,i,o);return}if(f){if(i)if(ig(i)){if(!F(c,i)){const Be=_.createRng();Be.setStartBefore(i),Be.setEndAfter(i),he(_,Dc(_,Be,c),!0)}}else he(_,i,!0);else!h||!to(f)||U1(e).length?(S.setRng(dx(S.getRng())),sv(e,()=>{$3(e,(Be,it)=>{const rt=it?Be:Dc(_,Be,c);he(_,rt,!1)})},ee),e.nodeChanged()):OH(e,n,o),qs(e.formatter,n).each(Be=>{I(Av(e.selection),it=>EH(_,it,Be,o))});Lx(n,e)}P8(e,n,i,o)},cD=(e,n,o,i)=>{(i||e.selection.isEditable())&&UE(e,n,o,i)},dD=e=>vn(e,"vars"),gU=(e,n)=>{e.set({}),n.on("NodeChange",o=>{gD(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const i=w.from(o.node).map(c=>ig(c)?c:c.startContainer).bind(c=>Vo(c)?w.some(c):w.from(c.parentElement)).getOrThunk(()=>uD(n));gD(n,i,e.get())})},uD=e=>e.selection.getStart(),fD=(e,n,o,i,c)=>Ae(n,_=>{const S=e.formatter.matchNode(_,o,c??{},i);return!Ls(S)},_=>SH(e,_,o)?!0:i?!1:s(e.formatter.matchNode(_,o,c,!0))),pD=(e,n)=>{const o=n??uD(e);return G(X(e.dom,o),i=>Vo(i)&&!Tp(i))},gD=(e,n,o)=>{const i=pD(e,n);Zt(o,(c,f)=>{const h=_=>{const S=fD(e,i,f,_.similar,dD(_)?_.vars:void 0),F=S.isSome();if(_.state.get()!==F){_.state.set(F);const oe=S.getOr(n);dD(_)?_.callback(F,{node:oe,format:f,parents:i}):I(_.callbacks,he=>he(F,{node:oe,format:f,parents:i}))}};I([c.withSimilar,c.withoutSimilar],h),I(c.withVars,h)})},Nx=(e,n,o,i,c,f)=>{const h=n.get();I(o.split(","),_=>{const S=Mn(h,_).getOrThunk(()=>{const oe={withSimilar:{state:zn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zn(!1),similar:!1,callbacks:[]},withVars:[]};return h[_]=oe,oe}),F=()=>{const oe=pD(e);return fD(e,oe,_,c,f).isSome()};if(Ls(f)){const oe=c?S.withSimilar:S.withoutSimilar;oe.callbacks.push(i),oe.callbacks.length===1&&oe.state.set(F())}else S.withVars.push({state:zn(F()),similar:c,vars:f,callback:i})}),n.set(h)},Rx=(e,n,o)=>{const i=e.get();I(n.split(","),c=>Mn(i,c).each(f=>{i[c]={withSimilar:{...f.withSimilar,callbacks:G(f.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:G(f.withoutSimilar.callbacks,h=>h!==o)},withVars:G(f.withVars,h=>h.callback!==o)}})),e.set(i)},mU=(e,n,o,i,c,f)=>(Nx(e,n,o,i,c,f),{unbind:()=>Rx(n,o,i)}),hU=(e,n,o,i)=>{const c=e.formatter.get(n);c&&(jl(e,n,o,i)&&(!("toggle"in c[0])||c[0].toggle)?XO(e,n,o,i):cD(e,n,o,i))},X3=(e,n,o)=>({element:e,width:n,rows:o}),mD=(e,n)=>({element:e,cells:n}),bU=(e,n)=>({x:e,y:n}),hD=(e,n)=>pa(e,n).bind(Tr).getOr(1),vU=(e,n,o,i,c)=>{const f=hD(c,"rowspan"),h=hD(c,"colspan"),_=e.rows;for(let S=o;S<o+f;S++){_[S]||(_[S]=mD(Di(i),[]));for(let F=n;F<n+h;F++){const oe=_[S].cells;oe[F]=S===o&&F===n?c:Yr(c)}}},xU=(e,n,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[n]},yU=(e,n,o)=>{for(;xU(e,n,o);)n++;return n},bD=e=>Le(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),vD=(e,n)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let f=0;f<c.length;f++)if(Ws(c[f],n))return w.some(bU(f,i))}return w.none()},xD=(e,n,o,i,c)=>{const f=[],h=e.rows;for(let _=o;_<=c;_++){const S=h[_].cells,F=n<i?S.slice(n,i+1):S.slice(i,n+1);f.push(mD(h[_].element,F))}return f},CU=(e,n,o)=>{const i=n.x,c=n.y,f=o.x,h=o.y,_=c<h?xD(e,i,c,f,h):xD(e,i,h,f,c);return X3(e.element,bD(_),_)},_U=(e,n)=>{const o=Yr(e.element),i=yt.fromTag("tbody");return Bl(i,n),Lr(o,i),o},UQ=e=>V(e.rows,n=>{const o=V(n.cells,c=>{const f=Di(c);return er(f,"colspan"),er(f,"rowspan"),f}),i=Yr(n.element);return Bl(i,o),i}),cf=e=>{const n=X3(Yr(e),0,[]);return I(Nt(e,"tr"),(o,i)=>{I(Nt(o,"td,th"),(c,f)=>{vU(n,yU(n,f,i),i,o,c)})}),X3(n.element,bD(n.rows),n.rows)},yD=e=>_U(e,UQ(e)),EU=(e,n,o)=>vD(e,n).bind(i=>vD(e,o).map(c=>CU(e,i,c))),CD=e=>we(e,n=>Fs(n)==="ul"||Fs(n)==="ol"),wU=(e,n)=>we(e,o=>Fs(o)==="li"&&P3(o,n)).fold(L([]),o=>CD(e).map(i=>{const c=yt.fromTag(Fs(i)),f=nn(Wa(i),(h,_)=>Go(_,"list-style"));return Ni(c,f),[yt.fromTag("li"),c]}).getOr([])),SU=(e,n)=>{const o=Le(n,(i,c)=>(Lr(c,i),c),e);return n.length>0?Cp([o]):o},VQ=e=>Ip(e)?si(e).filter(Mp).fold(L([]),n=>[e,n]):Mp(e)?[e]:[],Ol=(e,n,o)=>{const i=yt.fromDom(n.commonAncestorContainer),c=fg(i,e),f=G(c,S=>o.isWrapper(Fs(S))),h=wU(c,n),_=f.concat(h.length?h:VQ(i));return V(_,Yr)},_D=()=>Cp([]),VE=(e,n,o)=>SU(yt.fromDom(n.cloneContents()),Ol(e,n,o)),ED=(e,n)=>Vu(n,"table",z(Ws,e)),Mx=(e,n)=>ED(e,n[0]).bind(o=>{const i=n[0],c=n[n.length-1],f=cf(o);return EU(f,i,c).map(h=>Cp([yD(h)]))}).getOrThunk(_D),TU=(e,n,o)=>n.length>0&&n[0].collapsed?_D():VE(e,n[0],o),AU=(e,n,o)=>{const i=Jb(n,e);return i.length>0?Mx(e,i):TU(e,n,o)},Ix=(e,n)=>n>=0&&n<e.length&&rg(e.charAt(n)),wD=e=>Ac(e.innerText),kU=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),SD=e=>w.from(e.selection.getRng()).map(n=>{var o;const i=w.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),f=kU(i),h=yt.fromDom(n.cloneContents());xk(h),F_(h);const _=e.dom.add(c,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),S=wD(_),F=Ac((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),Ix(F,0)||Ix(F,F.length-1)){const oe=i.getOr(c),he=wD(oe),Se=he.indexOf(S);if(Se===-1)return S;{const Be=Ix(he,Se-1),it=Ix(he,Se+S.length);return(Be?" ":"")+S+(it?" ":"")}}else return S}).getOr(""),OU=(e,n)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),f=pk(e,Xb(c)),h=n.contextual?AU(yt.fromDom(e.getBody()),f,e.schema).dom:o.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,n)},TD=(e,n)=>{if(n.format==="text")return SD(e);{const o=OU(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},AD=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),LU=(e,n,o={})=>{const i=AD(o,n);return Pv(e,i).fold(A,c=>{const f=TD(e,c);return $v(e,f,c)})},WE=0,kD=1,OD=2,DU=(e,n)=>{const o=e.length+n.length+2,i=new Array(o),c=new Array(o),f=(oe,he,Se)=>({start:oe,end:he,diag:Se}),h=(oe,he,Se,Be,it)=>{const rt=S(oe,he,Se,Be);if(rt===null||rt.start===he&&rt.diag===he-Be||rt.end===oe&&rt.diag===oe-Se){let st=oe,Vt=Se;for(;st<he||Vt<Be;)st<he&&Vt<Be&&e[st]===n[Vt]?(it.push([WE,e[st]]),++st,++Vt):he-oe>Be-Se?(it.push([OD,e[st]]),++st):(it.push([kD,n[Vt]]),++Vt)}else{h(oe,rt.start,Se,rt.start-rt.diag,it);for(let st=rt.start;st<rt.end;++st)it.push([WE,e[st]]);h(rt.end,he,rt.end-rt.diag,Be,it)}},_=(oe,he,Se,Be)=>{let it=oe;for(;it-he<Be&&it<Se&&e[it]===n[it-he];)++it;return f(oe,it,he)},S=(oe,he,Se,Be)=>{const it=he-oe,rt=Be-Se;if(it===0||rt===0)return null;const st=it-rt,Vt=rt+it,Bt=(Vt%2===0?Vt:Vt+1)/2;i[1+Bt]=oe,c[1+Bt]=he+1;let Yt,rn,Sn,so,Un;for(Yt=0;Yt<=Bt;++Yt){for(rn=-Yt;rn<=Yt;rn+=2){for(Sn=rn+Bt,rn===-Yt||rn!==Yt&&i[Sn-1]<i[Sn+1]?i[Sn]=i[Sn+1]:i[Sn]=i[Sn-1]+1,so=i[Sn],Un=so-oe+Se-rn;so<he&&Un<Be&&e[so]===n[Un];)i[Sn]=++so,++Un;if(st%2!==0&&st-Yt<=rn&&rn<=st+Yt&&c[Sn-st]<=i[Sn])return _(c[Sn-st],rn+oe-Se,he,Be)}for(rn=st-Yt;rn<=st+Yt;rn+=2){for(Sn=rn+Bt-st,rn===st-Yt||rn!==st+Yt&&c[Sn+1]<=c[Sn-1]?c[Sn]=c[Sn+1]-1:c[Sn]=c[Sn-1],so=c[Sn]-1,Un=so-oe+Se-rn;so>=oe&&Un>=Se&&e[so]===n[Un];)c[Sn]=so--,Un--;if(st%2===0&&-Yt<=rn&&rn<=Yt&&c[Sn]<=i[Sn+st])return _(c[Sn],rn+oe-Se,he,Be)}}return null},F=[];return h(0,e.length,0,n.length,F),F},Uv=e=>Vo(e)?e.outerHTML:Gn(e)?Lp.encodeRaw(e.data,!1):Ku(e)?"<!--"+e.data+"-->":"",LD=e=>{let n;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)i.appendChild(n);return i},DD=(e,n,o)=>{const i=LD(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},NU=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},ND=(e,n)=>{let o=0;I(e,i=>{i[0]===WE?o++:i[0]===kD?(DD(n,i[1],o),o++):i[0]===OD&&NU(n,o)})},RU=(e,n)=>G(V(_t(e.childNodes),p(Ac,Uv)),o=>o.length>0),MU=(e,n)=>{const o=V(_t(n.childNodes),Uv);return ND(DU(o,e),n),n},IU=Ur(()=>document.implementation.createHTMLDocument("undo")),KE=e=>e.querySelector("iframe")!==null,jE=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),BU=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Q3=e=>{const n=e.serializer.getTempAttrs(),o=Pm(e.getBody(),n);return KE(o)?jE(RU(o)):BU(Ac(o.innerHTML))},ZE=(e,n,o)=>{const i=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?MU(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:s(i)&&ws(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},GE=e=>e.type==="fragmented"?e.fragments.join(""):e.content,RD=e=>{const n=yt.fromTag("body",IU());return ei(n,GE(e)),I(Nt(n,"*[data-mce-bogus]"),Fl),Th(n)},FU=(e,n)=>GE(e)===GE(n),PU=(e,n)=>RD(e)===RD(n),YE=(e,n)=>!e||!n?!1:FU(e,n)?!0:PU(e,n),Bx=e=>e.get()===0,Fx=(e,n,o)=>{Bx(o)&&(e.typing=n)},MD=(e,n)=>{e.typing&&(Fx(e,!1,n),e.add())},$U=e=>{e.typing&&(e.typing=!1,e.add())},HU=(e,n,o)=>{Bx(n)&&o.set(xm(e.selection))},zU=(e,n,o,i,c,f,h)=>{const _=Q3(e),S=Kn.extend(f||{},_);if(!Bx(i)||e.removed)return null;const F=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:S,lastLevel:F,originalEvent:h}).isDefaultPrevented()||F&&YE(F,S))return null;n.data[o.get()]&&c.get().each(Se=>{n.data[o.get()].beforeBookmark=Se});const oe=FC(e);if(oe&&n.data.length>oe){for(let Se=0;Se<n.data.length-1;Se++)n.data[Se]=n.data[Se+1];n.data.length--,o.set(n.data.length)}S.bookmark=xm(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(S),o.set(n.data.length-1);const he={level:S,lastLevel:F,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",he),e.dispatch("change",he)):e.dispatch("AddUndo",he),S},UU=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},VU=(e,n,o,i,c)=>{if(n.transact(i)){const f=n.data[o.get()].bookmark,h=n.data[o.get()-1];ZE(e,h,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=f)}},J3=(e,n,o)=>{let i;return n.get()<o.length-1&&(n.set(n.get()+1),i=o[n.get()],ZE(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},Px=(e,n,o,i)=>{let c;return n.typing&&(n.add(),n.typing=!1,Fx(n,!1,o)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],ZE(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},ID=e=>{e.clear(),e.add()},BD=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!YE(Q3(e),n.data[0]),WU=(e,n)=>n.get()<e.data.length-1&&!e.typing,KU=(e,n,o)=>(MD(e,n),e.beforeChange(),e.ignore(o),e.add()),qE=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},jU=(e,n)=>{const o=e.dom,i=s(n)?n:e.getBody();I(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const f=C3(e),h=o.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?o.addClass(c,f):o.removeClass(c,f);break;case"A":if(!o.getAttrib(c,"href")){const _=o.getAttrib(c,"name")||c.id,S=Sm(e);_&&e.hasVisual?o.addClass(c,S):o.removeClass(c,S)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},FD=e=>({init:{bindEvents:a},undoManager:{beforeChange:(n,o)=>HU(e,n,o),add:(n,o,i,c,f,h)=>zU(e,n,o,i,c,f,h),undo:(n,o,i)=>Px(e,n,o,i),redo:(n,o)=>J3(e,n,o),clear:(n,o)=>UU(e,n,o),reset:n=>ID(n),hasUndo:(n,o)=>BD(e,n,o),hasRedo:(n,o)=>WU(n,o),transact:(n,o,i)=>KU(n,o,i),ignore:(n,o)=>qE(n,o),extra:(n,o,i,c)=>VU(e,n,o,i,c)},formatter:{match:(n,o,i,c)=>jl(e,n,o,i,c),matchAll:(n,o)=>RQ(e,n,o),matchNode:(n,o,i,c)=>Ou(e,n,o,i,c),canApply:n=>AO(e,n),closest:n=>AH(e,n),apply:(n,o,i)=>cD(e,n,o,i),remove:(n,o,i,c)=>XO(e,n,o,i,c),toggle:(n,o,i)=>hU(e,n,o,i),formatChanged:(n,o,i,c,f)=>mU(e,n,o,i,c,f)},editor:{getContent:n=>P_(e,n),setContent:(n,o)=>aU(e,n,o),insertContent:(n,o)=>oU(e,n,o),addVisual:n=>jU(e,n)},selection:{getContent:(n,o)=>LU(e,n,o)},autocompleter:{addDecoration:a,removeDecoration:a},raw:{getModel:()=>w.none()}}),ZU=e=>{const n=F=>Xn(F)?F:{},{init:o,undoManager:i,formatter:c,editor:f,selection:h,autocompleter:_,raw:S}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(F,oe,he)=>i.transact(he),ignore:(F,oe)=>i.ignore(oe),extra:(F,oe,he,Se)=>i.extra(he,Se)},formatter:{match:(F,oe,he,Se)=>c.match(F,n(oe),Se),matchAll:c.matchAll,matchNode:c.matchNode,canApply:F=>c.canApply(F),closest:F=>c.closest(F),apply:(F,oe,he)=>c.apply(F,n(oe)),remove:(F,oe,he,Se)=>c.remove(F,n(oe)),toggle:(F,oe,he)=>c.toggle(F,n(oe)),formatChanged:(F,oe,he,Se,Be)=>c.formatChanged(oe,he,Se,Be)},editor:{getContent:F=>f.getContent(F),setContent:(F,oe)=>({content:f.setContent(F,oe),html:""}),insertContent:(F,oe)=>(f.insertContent(F),""),addVisual:f.addVisual},selection:{getContent:(F,oe)=>h.getContent(oe)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>w.some(S.getRawModel())}}},GU=()=>{const e=L(null),n=L("");return{init:{bindEvents:a},undoManager:{beforeChange:a,add:e,undo:e,redo:e,clear:a,reset:a,hasUndo:K,hasRedo:K,transact:e,ignore:a,extra:a},formatter:{match:K,matchAll:L([]),matchNode:L(void 0),canApply:K,closest:n,apply:a,remove:a,toggle:a,formatChanged:L({unbind:a})},editor:{getContent:n,setContent:L({content:"",html:""}),insertContent:L(""),addVisual:a},selection:{getContent:n},autocompleter:{addDecoration:a,removeDecoration:a},raw:{getModel:L(w.none())}}},tp=e=>vn(e.plugins,"rtc"),$x=e=>Mn(e.plugins,"rtc").bind(n=>w.from(n.setup)),Vv=e=>{const n=e;return $x(e).fold(()=>(n.rtcInstance=FD(e),w.none()),o=>(n.rtcInstance=GU(),w.some(()=>o().then(i=>(n.rtcInstance=ZU(i),i.rtc.isRemote)))))},XE=e=>e.rtcInstance?e.rtcInstance:FD(e),Na=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Vd=(e,n,o)=>{Na(e).undoManager.beforeChange(n,o)},Wv=(e,n,o,i,c,f,h)=>Na(e).undoManager.add(n,o,i,c,f,h),Ir=(e,n,o,i)=>Na(e).undoManager.undo(n,o,i),Kv=(e,n,o)=>Na(e).undoManager.redo(n,o),PD=(e,n,o)=>{Na(e).undoManager.clear(n,o)},$D=(e,n)=>{Na(e).undoManager.reset(n)},Hx=(e,n,o)=>Na(e).undoManager.hasUndo(n,o),QE=(e,n,o)=>Na(e).undoManager.hasRedo(n,o),JE=(e,n,o,i)=>Na(e).undoManager.transact(n,o,i),ew=(e,n,o)=>{Na(e).undoManager.ignore(n,o)},tw=(e,n,o,i,c)=>{Na(e).undoManager.extra(n,o,i,c)},zx=(e,n,o,i,c)=>Na(e).formatter.match(n,o,i,c),nw=(e,n,o)=>Na(e).formatter.matchAll(n,o),HD=(e,n,o,i,c)=>Na(e).formatter.matchNode(n,o,i,c),zD=(e,n)=>Na(e).formatter.canApply(n),UD=(e,n)=>Na(e).formatter.closest(n),VD=(e,n,o,i)=>{Na(e).formatter.apply(n,o,i)},WD=(e,n,o,i,c)=>{Na(e).formatter.remove(n,o,i,c)},F0=(e,n,o,i)=>{Na(e).formatter.toggle(n,o,i)},KD=(e,n,o,i,c,f)=>Na(e).formatter.formatChanged(n,o,i,c,f),ow=(e,n)=>XE(e).editor.getContent(n),YU=(e,n,o)=>XE(e).editor.setContent(n,o),qU=(e,n,o)=>XE(e).editor.insertContent(n,o),jD=(e,n,o)=>Na(e).selection.getContent(n,o),ZD=(e,n)=>Na(e).editor.addVisual(n),sw=e=>Na(e).init.bindEvents(),Ux=(e,n={})=>{const o=n.format?n.format:"html";return jD(e,o,n)},rw=(e,n,o)=>{if(vn(e,n)){const i=G(e[n],c=>c!==o);i.length===0?delete e[n]:e[n]=i}};var GD=(e,n)=>{let o,i;const c=(_,S)=>we(S,F=>e.is(F,_)),f=_=>e.getParents(_,void 0,e.getRoot()),h=()=>{o={},i={},n.on("NodeChange",_=>{const S=_.element,F=f(S),oe={};Zt(o,(he,Se)=>{c(Se,F).each(Be=>{i[Se]||(I(he,it=>{it(!0,{node:Be,selector:Se,parents:F})}),i[Se]=he),oe[Se]=he})}),Zt(i,(he,Se)=>{oe[Se]||(delete i[Se],I(he,Be=>{Be(!1,{node:S,selector:Se,parents:F})}))})})};return{selectorChangedWithUnbind:(_,S)=>(o||h(),o[_]||(o[_]=[]),o[_].push(S),c(_,f(n.selection.getStart())).each(()=>{i[_]=o[_]}),{unbind:()=>{rw(o,_,S),rw(i,_,S)}})}};const aw=e=>!!(e&&e.ownerDocument)&&vl(yt.fromDom(e.ownerDocument),yt.fromDom(e)),YD=e=>e?aw(e.startContainer)&&aw(e.endContainer):!1,iw=(e,n,o,i)=>{let c,f;const{selectorChangedWithUnbind:h}=GD(e,i),_=(Zn,Ro)=>{const Xs=e.createRng();s(Zn)&&s(Ro)?(Xs.setStart(Zn,Ro),Xs.setEnd(Zn,Ro),rn(Xs),Vt(!1)):(nv(e,Xs,i.getBody(),!0),rn(Xs))},S=Zn=>Ux(i,Zn),F=(Zn,Ro)=>Vz(i,Zn,Ro),oe=Zn=>R_(i.getBody(),Yt(),Zn),he=Zn=>K7(i.getBody(),Yt(),Zn),Se=(Zn,Ro)=>dr.getBookmark(Zn,Ro),Be=Zn=>dr.moveToBookmark(Zn),it=(Zn,Ro)=>(xQ(e,Zn,Ro).each(rn),Zn),rt=()=>{const Zn=Yt(),Ro=Bt();return!Zn||Zn.item?!1:Zn.compareEndPoints?Zn.compareEndPoints("StartToEnd",Zn)===0:!Ro||Zn.collapsed},st=()=>{if(i.mode.isReadOnly())return!1;const Zn=Yt(),Ro=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Ro.length>0?ot(Ro,Xs=>e.isEditable(Xs.parentElement)):uk(e,Zn)},Vt=Zn=>{const Ro=Yt();Ro.collapse(!!Zn),rn(Ro)},Bt=()=>n.getSelection?n.getSelection():n.document.selection,Yt=()=>{let Zn;const Ro=(rr,Bo,Pn)=>{try{return Bo.compareBoundaryPoints(rr,Pn)}catch{return-1}},Xs=n.document;if(s(i.bookmark)&&!Xf(i)){const rr=I7(i);if(rr.isSome())return rr.map(Bo=>pk(i,[Bo])[0]).getOr(Xs.createRange())}try{const rr=Bt();rr&&!Xg(rr.anchorNode)&&(rr.rangeCount>0?Zn=rr.getRangeAt(0):Zn=Xs.createRange(),Zn=pk(i,[Zn])[0])}catch{}if(Zn||(Zn=Xs.createRange()),ka(Zn.startContainer)&&Zn.collapsed){const rr=e.getRoot();Zn.setStart(rr,0),Zn.setEnd(rr,0)}return c&&f&&(Ro(Zn.START_TO_START,Zn,c)===0&&Ro(Zn.END_TO_END,Zn,c)===0?Zn=f:(c=null,f=null)),Zn},rn=(Zn,Ro)=>{if(!YD(Zn))return;const Xs=Bt();if(Zn=i.dispatch("SetSelectionRange",{range:Zn,forward:Ro}).range,Xs){f=Zn;try{Xs.removeAllRanges(),Xs.addRange(Zn)}catch{}Ro===!1&&Xs.extend&&(Xs.collapse(Zn.endContainer,Zn.endOffset),Xs.extend(Zn.startContainer,Zn.startOffset)),c=Xs.rangeCount>0?Xs.getRangeAt(0):null}if(!Zn.collapsed&&Zn.startContainer===Zn.endContainer&&(Xs!=null&&Xs.setBaseAndExtent)&&Zn.endOffset-Zn.startOffset<2&&Zn.startContainer.hasChildNodes()){const Bo=Zn.startContainer.childNodes[Zn.startOffset];Bo&&Bo.nodeName==="IMG"&&(Xs.setBaseAndExtent(Zn.startContainer,Zn.startOffset,Zn.endContainer,Zn.endOffset),(Xs.anchorNode!==Zn.startContainer||Xs.focusNode!==Zn.endContainer)&&Xs.setBaseAndExtent(Bo,0,Bo,1))}i.dispatch("AfterSetSelectionRange",{range:Zn,forward:Ro})},Sn=Zn=>(Sx(i,e.getOuterHTML(Zn)),Zn),so=()=>I_(i.getBody(),Yt()),Un=(Zn,Ro)=>E$(e,Yt(),Zn,Ro),gn=()=>{const Zn=Bt(),Ro=Zn==null?void 0:Zn.anchorNode,Xs=Zn==null?void 0:Zn.focusNode;if(!Zn||!Ro||!Xs||Xg(Ro)||Xg(Xs))return!0;const rr=e.createRng(),Bo=e.createRng();try{rr.setStart(Ro,Zn.anchorOffset),rr.collapse(!0),Bo.setStart(Xs,Zn.focusOffset),Bo.collapse(!0)}catch{return!0}return rr.compareBoundaryPoints(rr.START_TO_START,Bo)<=0},rs={dom:e,win:n,serializer:o,editor:i,expand:(Zn={type:"word"})=>rn(Z1(e).expand(Yt(),Zn)),collapse:Vt,setCursorLocation:_,getContent:S,setContent:F,getBookmark:Se,moveToBookmark:Be,select:it,isCollapsed:rt,isEditable:st,isForward:gn,setNode:Sn,getNode:so,getSel:Bt,setRng:rn,getRng:Yt,getStart:oe,getEnd:he,getSelectedBlocks:Un,normalize:()=>{const Zn=Yt(),Ro=Bt();if(!Qb(Ro)&&w0(i)){const Xs=k0(e,Zn);return Xs.each(rr=>{rn(rr,gn())}),Xs.getOr(Zn)}return Zn},selectorChanged:(Zn,Ro)=>(h(Zn,Ro),rs),selectorChangedWithUnbind:h,getScrollContainer:()=>{let Zn,Ro=e.getRoot();for(;Ro&&Ro.nodeName!=="BODY";){if(Ro.scrollHeight>Ro.clientHeight){Zn=Ro;break}Ro=Ro.parentNode}return Zn},scrollIntoView:(Zn,Ro)=>{s(Zn)?_$(i,Zn,Ro):dv(i,Yt(),Ro)},placeCaretAt:(Zn,Ro)=>rn(ok(Zn,Ro,i.getDoc())),getBoundingClientRect:()=>{const Zn=Yt();return Zn.collapsed?hn.fromRangeStart(Zn).getClientRects()[0]:Zn.getBoundingClientRect()},destroy:()=>{n=c=f=null,va.destroy()}},dr=Bm(rs),va=nk(rs,i);return rs.bookmarkManager=dr,rs.controlSelection=va,rs},qD=(e,n,o)=>{n.addNodeFilter("br",(i,c,f)=>{const h=Kn.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),S=o.getWhitespaceElements();h.body=1;const F=oe=>oe.name in h||Vl(o,oe);for(let oe=0,he=i.length;oe<he;oe++){let Se=i[oe],Be=Se.parent;if(Be&&F(Be)&&Se===Be.lastChild){let it=Se.prev;for(;it;){const rt=it.name;if(rt!=="span"||it.attr("data-mce-type")!=="bookmark"){rt==="br"&&(Se=null);break}it=it.prev}if(Se&&(Se.remove(),K3(o,_,S,Be))){const rt=o.getElementRule(Be.name);rt&&(rt.removeEmpty?Be.remove():rt.paddEmpty&&cx(e,f,F,Be))}}else{let it=Se;for(;Be&&Be.firstChild===it&&Be.lastChild===it&&(it=Be,!h[Be.name]);)Be=Be.parent;if(it===Be){const rt=new kl("#text",3);rt.value=Js,Se.replace(rt)}}}})},XD=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let f=i.length;for(;f--;){const h=i[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const f="data-mce-"+c,h=n.url_converter,_=n.url_converter_scope;let S=i.length;for(;S--;){const F=i[S];let oe=F.attr(f);oe!==void 0?(F.attr(c,oe.length>0?oe:null),F.attr(f,null)):(oe=F.attr(c),c==="style"?oe=o.serializeStyle(o.parseStyle(oe),F.name):h&&(oe=h.call(_,oe,c,F.name)),F.attr(c,oe.length>0?oe:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const f=i[c];let h=f.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(i,c,f)=>{let h=i.length;for(;h--;){const _=i[h];_.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(w.from(_.firstChild).exists(F=>{var oe;return!um((oe=F.value)!==null&&oe!==void 0?oe:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var f;const h=S=>S.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=i.length;for(;_--;){const S=i[_],F=S.firstChild,oe=(f=F==null?void 0:F.value)!==null&&f!==void 0?f:"";if(c==="script"){const he=S.attr("type");he&&S.attr("type",he==="mce-no/type"?null:he.replace(/^mce\-/,"")),n.element_format==="xhtml"&&F&&oe.length>0&&(F.value=`// <![CDATA[
`+h(oe)+`
// ]]>`)}else n.element_format==="xhtml"&&F&&oe.length>0&&(F.value=`<!--
`+h(oe)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const f=i[c],h=f.value;n.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let f=i.length;for(;f--;){const h=i[f];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{I(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let f=i.length;for(;f--;)i[f].attr(c,null)}),n.remove_trailing_brs&&qD(n,e,e.schema)},QD=e=>{const n=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(n(o)){const i=o.prev;n(i)&&(o.remove(),i.remove())}},JD=(e,n,o)=>{let i;const c=e.dom;let f=n.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const _=h.createHTMLDocument("");Kn.each(f.nodeName==="BODY"?f.childNodes:[f],S=>{_.body.appendChild(_.importNode(S,!0))}),f.nodeName!=="BODY"?f=_.body.firstChild:f=_.body,i=c.doc,c.doc=_}return pC(e,{...o,node:f}),i&&(c.doc=i),f},eN=(e,n)=>s(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,lw=(e,n,o)=>eN(e,o)?JD(e,n,o):n,tN=(e,n,o)=>{Kn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let f=i.length;for(;f--;)i[f].attr(c,null)}),n.push(o))},nN=(e,n,o)=>!n.no_events&&e?ym(e,{...n,content:o}).content:o,oN=(e,n,o)=>{const i=Ac(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Tc(yt.fromDom(n))?i:Kn.trim(i)},sN=(e,n,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,i);return QD(c),c},rN=(e,n,o)=>O0(e,n).serialize(o),aN=(e,n,o,i,c)=>{const f=rN(n,o,i);return nN(e,c,f)},iN=(e,n)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:kr.DOM,f=n&&n.schema?n.schema:oc(i),h=q3(i,f);XD(h,i,c);const _=(S,F={})=>{const oe={format:"html",...F},he=lw(n,S,oe),Se=oN(c,he,oe),Be=sN(h,Se,oe);return oe.format==="tree"?Be:aN(n,i,f,Be,oe)};return{schema:f,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:_,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:z(tN,h,o),getTempAttrs:L(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},Vx=(e,n)=>{const o=iN(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Wx="html",lN=(e,n)=>({...e,format:n,get:!0,getInner:!0}),XU=(e,n={})=>{const o=n.format?n.format:Wx,i=lN(n,o);return Pv(e,i).fold(A,c=>{const f=ow(e,c);return $v(e,f,c)})},cN="html",Kx=(e,n)=>({format:cN,...e,set:!0,content:n}),jv=(e,n,o={})=>{const i=Kx(o,n);hg(e,i).each(c=>{const f=YU(e,c.content,c);bg(e,f.html,c)})},Gm=kr.DOM,cw=e=>{Gm.setStyle(e.id,"display",e.orgDisplay)},Zv=e=>w.from(e).each(n=>n.destroy()),e4=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const i=o.dom;n.selection=o.win=o.dom=i.doc=null}},dw=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),Gm.unbind(n,"submit reset",e.formEventDelegate))},uw=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s(c==null?void 0:c.nextSibling)&&Gm.remove(c.nextSibling),Wr(e),e.editorManager.remove(e),!e.inline&&i&&cw(e),wu(e),Gm.remove(e.getContainer()),Zv(n),Zv(o),e.destroy()}},t4=(e,n)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Zv(o),Zv(i)),dw(e),e4(e),e.destroyed=!0}},Gv=(()=>{const e={};return{add:(c,f)=>{e[c]=f},get:c=>e[c]?e[c]:{icons:{}},has:c=>vn(e,c)}})(),n4=Zi.ModelManager,dN=(e,n)=>n.dom[e],fw=(e,n)=>parseInt(Va(n,e),10),uN=z(dN,"clientWidth"),fN=z(dN,"clientHeight"),QU=z(fw,"margin-top"),Ym=z(fw,"margin-left"),$0=e=>e.dom.getBoundingClientRect(),pN=(e,n,o)=>{const i=uN(e),c=fN(e);return n>=0&&o>=0&&n<=i&&o<=c},gN=(e,n,o,i)=>{const c=$0(n),f=e?c.left+n.dom.clientLeft+Ym(n):0,h=e?c.top+n.dom.clientTop+QU(n):0,_=o-f,S=i-h;return{x:_,y:S}},JU=(e,n,o)=>{const i=yt.fromDom(e.getBody()),c=e.inline?i:Bg(i),f=gN(e.inline,c,n,o);return pN(c,f.x,f.y)},eV=e=>w.from(e).map(yt.fromDom),tV=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return eV(n).map(Cd).getOr(!1)};var ld=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Du=e=>{const n=[],o=()=>{const Se=e.theme;return Se&&Se.getNotificationManagerImpl?Se.getNotificationManagerImpl():ld()},i=()=>w.from(n[0]),c=(Se,Be)=>Se.type===Be.type&&Se.text===Be.text&&!Se.progressBar&&!Se.timeout&&!Be.progressBar&&!Be.timeout,f=()=>{i().each(Se=>{Se.reposition()})},h=Se=>{n.push(Se)},_=Se=>{Pe(n,Be=>Be===Se).each(Be=>{n.splice(Be,1)})},S=(Se,Be=!0)=>e.removed||!tV(e)?{}:(Be&&e.dispatch("BeforeOpenNotification",{notification:Se}),we(n,it=>c(o().getArgs(it),Se)).getOrThunk(()=>{e.editorManager.setActive(e);const it=o().open(Se,()=>{_(it)},()=>z7(e));return h(it),f(),e.dispatch("OpenNotification",{notification:{...it}}),it})),F=()=>{i().each(Se=>{o().close(Se),_(Se),f()})},oe=L(n);return(Se=>{Se.on("SkinLoaded",()=>{const Be=gr(Se);Be&&S({text:Be,type:"warning",timeout:0},!1),f()}),Se.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),Se.on("remove",()=>{I(n.slice(),Be=>{o().close(Be)})}),Se.on("keydown",Be=>{var it;const rt=((it=Be.key)===null||it===void 0?void 0:it.toLowerCase())==="f12"||Be.keyCode===123;Be.altKey&&rt&&(Be.preventDefault(),i().map(st=>yt.fromDom(st.getEl())).each(st=>bp(st)))})})(e),{open:S,close:F,getNotifications:oe}},H0=Zi.PluginManager,vg=Zi.ThemeManager;var pw=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const Yv=e=>{let n=[];const o=()=>{const st=e.theme;return st&&st.getWindowManagerImpl?st.getWindowManagerImpl():pw()},i=(st,Vt)=>(...Bt)=>Vt?Vt.apply(st,Bt):void 0,c=st=>{e.dispatch("OpenWindow",{dialog:st})},f=st=>{e.dispatch("CloseWindow",{dialog:st})},h=(st,Vt)=>{n.push({instanceApi:st,triggerElement:Vt}),c(st)},_=st=>{f(st);const Vt=mt(n,({instanceApi:Bt,triggerElement:Yt})=>Bt===st?Yt:w.none());n=G(n,({instanceApi:Bt})=>Bt!==st),n.length===0?e.focus():Vt.filter(Cd).each(bp)},S=()=>w.from(n[n.length-1]),F=st=>{e.editorManager.setActive(e),H3(e);const Vt=Il();e.ui.show();const Bt=st();return h(Bt,Vt),Bt},oe=(st,Vt)=>F(()=>o().open(st,Vt,_)),he=st=>F(()=>o().openUrl(st,_)),Se=st=>{n.length!==0&&st.each(Vt=>bp(Vt))},Be=(st,Vt,Bt)=>{const Yt=Il(),rn=o();rn.alert(st,i(Bt||rn,()=>{Se(Yt),Vt==null||Vt()}))},it=(st,Vt,Bt)=>{const Yt=Il(),rn=o();rn.confirm(st,i(Bt||rn,Sn=>{Se(Yt),Vt==null||Vt(Sn)}))},rt=()=>{S().each(({instanceApi:st})=>{o().close(st),_(st)})};return e.on("remove",()=>{I(n,({instanceApi:st})=>{o().close(st)})}),{open:oe,openUrl:he,alert:Be,confirm:it,close:rt}},mN=(e,n)=>{e.notificationManager.open({type:"error",text:n})},qv=(e,n)=>{e._skinLoaded?mN(e,n):e.on("SkinLoaded",()=>{mN(e,n)})},Xv=(e,n)=>{qv(e,qc.translate(["Failed to upload image: {0}",n]))},o4=(e,n,o)=>{F8(e,n,{message:o}),console.error(o)},xg=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,gw=(e,n,o)=>{o4(e,"PluginLoadError",xg("plugin",n,o))},hN=(e,n,o)=>{o4(e,"IconsLoadError",xg("icons",n,o))},Qv=(e,n,o)=>{o4(e,"LanguageLoadError",xg("language",n,o))},nV=(e,n,o)=>{o4(e,"ThemeLoadError",xg("theme",n,o))},oV=(e,n,o)=>{o4(e,"ModelLoadError",xg("model",n,o))},e1=(e,n)=>{o4(e,"LicenseKeyManagerLoadError",xg("license key manager",n))},cd=(e,n,o)=>{const i=qc.translate(["Failed to initialize plugin: {0}",n]);F8(e,"PluginLoadError",{message:i}),qm(i,o),qv(e,i)},qm=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Mc=new WeakMap,sV=e=>{if(Mc.has(e))return;Mc.set(e,!0);const n=()=>{e.on("SwitchMode",i=>{const{mode:c}=i;c!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",i=>{const{state:c}=i;c||i.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),n()},zr=(e,n)=>{const{type:o,message:i}=n;e.notificationManager.open({type:o,text:i})},rV=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},yg=e=>{rV(e.type)(e.message)},z0=(e,n)=>{const{console:o,editor:i}=n;s(i)&&(e._skinLoaded?zr(e,i):e.on("SkinLoaded",()=>{zr(e,i)})),s(o)&&yg(o)},Jv="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",mw="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",iV=e=>{const n="The editor is disabled because a TinyMCE license key has not been provided.";z0(e,{console:{type:"error",message:[`${n}`,mw,Jv].join(" ")},editor:{type:"warning",message:`${n}`}})},hw=(e,n)=>{const o=`${n==="online"?"API":"license"} key`,i=`The editor is disabled because the TinyMCE ${o} could not be validated.`;z0(e,{console:{type:"error",message:[`${i}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,Jv].join(" ")},editor:{type:"warning",message:`${i}`}})},bN=(e,n)=>{const o=`The "${n}" plugin requires a valid TinyMCE license key.`;z0(e,{console:{type:"error",message:[`${o}`,Jv].join(" ")}})},bw="licensekeymanager",vN=e=>lt(Nb(e))?"online":"offline",vw=e=>{var n;const o=(n=Db(e))===null||n===void 0?void 0:n.toLowerCase();return o==="gpl"?"gpl":us(o)?"no_key":"non_gpl"},xw=e=>{const n=vN(e),o=vw(e),i=new Set(F1(e)).has(bw);return o!=="gpl"||n==="online"||i?{type:"use_plugin",onlineStatus:n,licenseKeyType:o,forcePlugin:i}:{type:"use_gpl",onlineStatus:n,licenseKeyType:o,forcePlugin:i}},jx=e=>({validate:n=>{const{plugin:o}=n;return lt(o)&&bN(e,o),Promise.resolve(!1)}}),lV=e=>({validate:n=>{const{plugin:o}=n,i=lt(o);return i&&bN(e,o),Promise.resolve(!i)}}),Zx="manager",cV=bw,yw=(()=>{const e=Zi();return{load:(c,f)=>{if(xw(c).type==="use_plugin"){const _=`plugins/${cV}/plugin${f}.js`;e.load(Zx,_).catch(()=>{e1(c,_)})}},add:c=>{e.add(Zx,c)},init:c=>{const f=S=>{Object.defineProperty(c,"licenseKeyManager",{value:S,writable:!1,configurable:!1,enumerable:!0})},h=xw(c),_=e.get(Zx);if(s(_)){const S=_(c,e.urls[Zx]);f(S)}else switch(h.type){case"use_gpl":{f(lV(c));break}case"use_plugin":{sV(c),f(jx(c)),h.onlineStatus==="offline"&&h.licenseKeyType==="no_key"?iV(c):hw(c,h.onlineStatus);break}}c.licenseKeyManager.validate({})}}})(),xN=e=>{w.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},Cw=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},dV=(e,n)=>{Cw(e,"StyleWithCSS",n),Cw(e,"enableInlineTableEditing",n),Cw(e,"enableObjectResizing",n)},yN=e=>{e.selection.setRng(e.selection.getRng())},CN=(e,n,o)=>{Ia(e,n)&&!o?Hl(e,n):o&&b1(e,n)},_w=e=>{const n=yt.fromDom(e.getBody());CN(n,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),xN(e)},s4=e=>{const n=yt.fromDom(e.getBody());CN(n,"mce-content-readonly",!1),e.hasEditableRoot()&&Nh(n,!0),dV(e,!1),z7(e)&&e.focus(),yN(e),e.nodeChanged()},Cg=e=>Am(e),U0="data-mce-contenteditable",_N=e=>{I(Nt(e,'*[contenteditable="true"]'),n=>{Mo(n,U0,"true"),Nh(n,!1)})},EN=e=>{I(Nt(e,`*[${U0}="true"]`),n=>{er(n,U0),Nh(n,!0)})},wN=(e,n)=>{const o=yt.fromDom(e.getBody());n?(_w(e),Nh(o,!1),_N(o)):(EN(o),s4(e))},SN=e=>{e.serializer?gl(e):e.on("PreInit",()=>{gl(e)})},gl=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Cg(e)&&I(n,o=>{o.attr(U0,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(U0,n=>{Cg(e)&&I(n,o=>{o.attr("contenteditable",o.attr(U0))})}),e.serializer.addTempAttr(U0)},uV=e=>e.type==="click",TN=["copy"],Ew=e=>D(TN,e.type),ww=(e,n)=>$l(n,"a",i=>Ws(i,yt.fromDom(e.getBody()))).bind(i=>pa(i,"href")),AN=(e,n)=>{if(uV(n)&&!Co.metaKeyPressed(n)){const o=yt.fromDom(n.target);ww(e,o).each(i=>{if(n.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${Is(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ew(n)&&e.dispatch(n.type,n)},kN=e=>{e.on("ShowCaret ObjectSelected",n=>{Cg(e)&&n.preventDefault()}),e.on("DisabledStateChange",n=>{n.isDefaultPrevented()||wN(e,n.state)})},fV=e=>{SN(e),kN(e)},pV=e=>/^[a-z0-9\-]+$/i.test(e),Gx=e=>"content/"+e+"/content.css",ON=e=>tinymce.Resource.has(Gx(e)),Wd=e=>LN(e,NC(e)),gV=e=>LN(e,x3(e)),LN=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return V(n,f=>ON(f)?f:pV(f)&&!e.inline?`${o}/${f}/${c}`:e.documentBaseURI.toAbsolute(f))},KQ=e=>{e.contentCSS=e.contentCSS.concat(Wd(e),gV(e))},Sw=e=>e?_t(e.getElementsByTagName("img")):[],mV=(e,n)=>{const o={};return{findAll:(c,f=ee)=>{const h=G(Sw(c),S=>{const F=S.src;return S.hasAttribute("data-mce-bogus")||S.hasAttribute("data-mce-placeholder")||!F||F===fr.transparentSrc?!1:Go(F,"blob:")?!e.isUploaded(F)&&f(S):Go(F,"data:")?f(S):!1}),_=V(h,S=>{const F=S.src;if(vn(o,F))return o[F].then(oe=>lt(oe)?oe:{image:S,blobInfo:oe.blobInfo});{const oe=gL(n,F).then(he=>(delete o[F],{image:S,blobInfo:he})).catch(he=>(delete o[F],he));return o[F]=oe,oe}});return Promise.all(_)}}},hV=()=>{let o={};const i=(Se,Be)=>({status:Se,resultUri:Be}),c=Se=>Se in o;return{hasBlobUri:c,getResultUri:Se=>{const Be=o[Se];return Be?Be.resultUri:null},isPending:Se=>c(Se)?o[Se].status===1:!1,isUploaded:Se=>c(Se)?o[Se].status===2:!1,markPending:Se=>{o[Se]=i(1,null)},markUploaded:(Se,Be)=>{o[Se]=i(2,Be)},removeFailed:Se=>{delete o[Se]},destroy:()=>{o={}}}};let bV=0;const Tw=()=>{const e=()=>Math.round(ze()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},df=e=>e+bV+++Tw(),Aw=()=>{let e=[];const n=he=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[he.toLowerCase()]||"dat",o=(he,Se,Be,it,rt)=>{if(lt(he))return i({id:he,name:it,filename:rt,blob:Se,base64:Be});if(Xn(he))return i(he);throw new Error("Unknown input type")},i=he=>{if(!he.blob||!he.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Se=he.id||df("blobid"),Be=he.name||Se,it=he.blob;return{id:L(Se),name:L(Be),filename:L(he.filename||Be+"."+n(it.type)),blob:L(it),base64:L(he.base64),blobUri:L(he.blobUri||URL.createObjectURL(it)),uri:L(he.uri)}},c=he=>{h(he.id())||e.push(he)},f=he=>we(e,he).getOrUndefined(),h=he=>f(Se=>Se.id()===he);return{create:o,add:c,get:h,getByUri:he=>f(Se=>Se.blobUri()===he),getByData:(he,Se)=>f(Be=>Be.base64()===he&&Be.blob().type===Se),findFirst:f,removeByUri:he=>{e=G(e,Se=>Se.blobUri()===he?(URL.revokeObjectURL(Se.blobUri()),!1):!0)},destroy:()=>{I(e,he=>{URL.revokeObjectURL(he.blobUri())}),e=[]}}},Yx=(e,n)=>{const o={},i=(rt,st)=>rt?rt.replace(/\/$/,"")+"/"+st.replace(/^\//,""):st,c=(rt,st)=>new Promise((Vt,Bt)=>{const Yt=new XMLHttpRequest;Yt.open("POST",n.url),Yt.withCredentials=n.credentials,Yt.upload.onprogress=Sn=>{st(Sn.loaded/Sn.total*100)},Yt.onerror=()=>{Bt("Image upload failed due to a XHR Transport error. Code: "+Yt.status)},Yt.onload=()=>{if(Yt.status<200||Yt.status>=300){Bt("HTTP Error: "+Yt.status);return}const Sn=JSON.parse(Yt.responseText);if(!Sn||!lt(Sn.location)){Bt("Invalid JSON: "+Yt.responseText);return}Vt(i(n.basePath,Sn.location))};const rn=new FormData;rn.append("file",rt.blob(),rt.filename()),Yt.send(rn)}),f=b(n.handler)?n.handler:c,h=()=>new Promise(rt=>{rt([])}),_=(rt,st)=>({url:st,blobInfo:rt,status:!0}),S=(rt,st)=>({url:"",blobInfo:rt,status:!1,error:st}),F=(rt,st)=>{Kn.each(o[rt],Vt=>{Vt(st)}),delete o[rt]},oe=(rt,st,Vt)=>(e.markPending(rt.blobUri()),new Promise(Bt=>{let Yt,rn;try{const Sn=()=>{Yt&&(Yt.close(),rn=a)},so=gn=>{Sn(),e.markUploaded(rt.blobUri(),gn),F(rt.blobUri(),_(rt,gn)),Bt(_(rt,gn))},Un=gn=>{Sn(),e.removeFailed(rt.blobUri()),F(rt.blobUri(),S(rt,gn)),Bt(S(rt,gn))};rn=gn=>{gn<0||gn>100||w.from(Yt).orThunk(()=>w.from(Vt).map(P)).each(mn=>{Yt=mn,mn.progressBar.value(gn)})},st(rt,rn).then(so,gn=>{Un(lt(gn)?{message:gn}:gn)})}catch(Sn){Bt(S(rt,Sn))}})),he=rt=>rt===c,Se=rt=>{const st=rt.blobUri();return new Promise(Vt=>{o[st]=o[st]||[],o[st].push(Vt)})},Be=(rt,st)=>(rt=Kn.grep(rt,Vt=>!e.isUploaded(Vt.blobUri())),Promise.all(Kn.map(rt,Vt=>e.isPending(Vt.blobUri())?Se(Vt):oe(Vt,f,st))));return{upload:(rt,st)=>!n.url&&he(f)?h():Be(rt,st)}},qx=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),DN=(e,n)=>Yx(n,{url:VA(e),basePath:OC(e),credentials:WA(e),handler:KA(e)}),kw=e=>{const n=hV(),o=DN(e,n);return{upload:(i,c=!0)=>o.upload(i,c?qx(e):void 0)}},vV=(e,n)=>e.dom.isEmpty(n.dom)&&s(e.schema.getTextBlockElements()[Fs(n)]),NN=e=>n=>{vV(e,n)&&Lr(n,yt.fromHtml('<br data-mce-bogus="1" />'))},xV=e=>{const n=Aw();let o,i;const c=hV(),f=[],h=Yt=>rn=>e.selection?Yt(rn):[],_=Yt=>Yt+(Yt.indexOf("?")===-1?"?":"&")+new Date().getTime(),S=(Yt,rn,Sn)=>{let so=0;do so=Yt.indexOf(rn,so),so!==-1&&(Yt=Yt.substring(0,so)+Sn+Yt.substr(so+rn.length),so+=Sn.length-rn.length+1);while(so!==-1);return Yt},F=(Yt,rn,Sn)=>{const so=`src="${Sn}"${Sn===fr.transparentSrc?' data-mce-placeholder="1"':""}`;return Yt=S(Yt,`src="${rn}"`,so),Yt=S(Yt,'data-mce-src="'+rn+'"','data-mce-src="'+Sn+'"'),Yt},oe=(Yt,rn)=>{I(e.undoManager.data,Sn=>{Sn.type==="fragmented"?Sn.fragments=V(Sn.fragments,so=>F(so,Yt,rn)):Sn.content=F(Sn.content,Yt,rn)})},he=(Yt,rn)=>{const Sn=e.convertURL(rn,"src");oe(Yt.src,rn),Aa(yt.fromDom(Yt),{src:M1(e)?_(rn):rn,"data-mce-src":Sn})},Se=()=>(o||(o=DN(e,c)),st().then(h(Yt=>{const rn=V(Yt,Sn=>Sn.blobInfo);return o.upload(rn,qx(e)).then(h(Sn=>{const so=[];let Un=!1;const gn=V(Sn,(mn,Rn)=>{const{blobInfo:Lo,image:Qo}=Yt[Rn];let Ms=!1;return mn.status&&UA(e)?(mn.url&&!bs(Qo.src,mn.url)&&(Un=!0),n.removeByUri(Qo.src),tp(e)||he(Qo,mn.url)):mn.error&&(mn.error.remove&&(oe(Qo.src,fr.transparentSrc),so.push(Qo),Ms=!0),Xv(e,mn.error.message)),{element:Qo,status:mn.status,uploadUri:mn.url,blobInfo:Lo,removed:Ms}});return so.length>0&&!tp(e)?e.undoManager.transact(()=>{I(Pl(so),mn=>{const Rn=si(mn);Ar(mn),Rn.each(NN(e)),n.removeByUri(mn.dom.src)})}):Un&&e.undoManager.dispatchChange(),gn}))}))),Be=()=>Md(e)?Se():Promise.resolve([]),it=Yt=>ot(f,rn=>rn(Yt)),rt=Yt=>{f.push(Yt)},st=()=>(i||(i=mV(c,n)),i.findAll(e.getBody(),it).then(h(Yt=>{const rn=G(Yt,Sn=>lt(Sn)?(qv(e,Sn),!1):Sn.uriType!=="blob");return tp(e)||I(rn,Sn=>{oe(Sn.image.src,Sn.blobInfo.blobUri()),Sn.image.src=Sn.blobInfo.blobUri(),Sn.image.removeAttribute("data-mce-src")}),rn}))),Vt=()=>{n.destroy(),c.destroy(),i=o=null},Bt=Yt=>Yt.replace(/src="(blob:[^"]+)"/g,(rn,Sn)=>{const so=c.getResultUri(Sn);if(so)return'src="'+so+'"';let Un=n.getByUri(Sn);return Un||(Un=Le(e.editorManager.get(),(gn,mn)=>gn||mn.editorUpload&&mn.editorUpload.blobCache.getByUri(Sn),void 0)),Un?'src="data:'+Un.blob().type+";base64,"+Un.base64()+'"':rn});return e.on("SetContent",()=>{Md(e)?Be():st()}),e.on("RawSaveContent",Yt=>{Yt.content=Bt(Yt.content)}),e.on("GetContent",Yt=>{Yt.source_view||Yt.format==="raw"||Yt.format==="tree"||(Yt.content=Bt(Yt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Yt=>{I(Yt,rn=>{const Sn=rn.attr("src");if(!Sn||n.getByUri(Sn))return;const so=c.getResultUri(Sn);so&&rn.attr("src",so)})})}),{blobCache:n,addFilter:rt,uploadImages:Se,uploadImagesAuto:Be,scanForImages:st,destroy:Vt}},yV=e=>{const n=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,c,f]:[c,h,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,f,h)=>Vo(c)&&c.hasAttribute("href"),onformat:(c,f,h)=>{Kn.each(h,(_,S)=>{n.setAttrib(c,S,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var f;return(f=c==null?void 0:c.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Kn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},Xx={remove_similar:!0,inherit:!1},r4={selector:"td,th",...Xx},RN={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...r4},tablecellverticalalign:{styles:{"vertical-align":"%value"},...r4},tablecellbordercolor:{styles:{borderColor:"%value"},...r4},tablecellclass:{classes:["%value"],...r4},tableclass:{selector:"table",classes:["%value"],...Xx},tablecellborderstyle:{styles:{borderStyle:"%value"},...r4},tablecellborderwidth:{styles:{borderWidth:"%value"},...r4}},CV=L(RN),V0=e=>{const n={},o=h=>s(h)?n[h]:n,i=h=>vn(n,h),c=(h,_)=>{h&&(lt(h)?(Eo(_)||(_=[_]),I(_,S=>{Ls(S.deep)&&(S.deep=!wn(S)),Ls(S.split)&&(S.split=!wn(S)||to(S)),Ls(S.remove)&&wn(S)&&!to(S)&&(S.remove="none"),wn(S)&&to(S)&&(S.mixed=!0,S.block_expand=!0),lt(S.classes)&&(S.classes=S.classes.split(/\s+/))}),n[h]=_):Zt(h,(S,F)=>{c(F,S)}))},f=h=>(h&&n[h]&&delete n[h],n);return c(yV(e)),c(CV()),c(RC(e)),{get:o,has:i,register:c,unregister:f}},e6=Kn.each,Nu=kr.DOM,Qx=e=>s(e)&&Xn(e),MN=(e,n)=>{const o=n&&n.schema||oc({}),i=(S,F)=>{F.classes.length>0&&Nu.addClass(S,F.classes.join(" ")),Nu.setAttribs(S,F.attrs)},c=S=>{const F=lt(S)?{name:S,classes:[],attrs:{}}:S,oe=Nu.create(F.name);return i(oe,F),oe},f=(S,F)=>{const oe=o.getElementRule(S.nodeName.toLowerCase()),he=oe==null?void 0:oe.parentsRequired;return he&&he.length?F&&D(he,F)?F:he[0]:!1},h=(S,F,oe)=>{let he;const Se=F[0],Be=Qx(Se)?Se.name:void 0,it=f(S,Be);if(it)Be===it?(he=Se,F=F.slice(1)):he=it;else if(Se)he=Se,F=F.slice(1);else if(!oe)return S;const rt=he?c(he):Nu.create("div");rt.appendChild(S),oe&&Kn.each(oe,Vt=>{const Bt=c(Vt);rt.insertBefore(Bt,S)});const st=Qx(he)?he.siblings:void 0;return h(rt,F,st)},_=Nu.create("div");if(e.length>0){const S=e[0],F=c(S),oe=Qx(S)?S.siblings:void 0;_.appendChild(h(F,e.slice(1),oe))}return _},_V=e=>{e=Kn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,f,h,_)=>{switch(c){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":Kn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(h==="["){const S=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);S&&(o.attrs[S[1]]=S[2])}return""})),o.name=n||"div",o},EV=e=>lt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Kn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Kn.map(n.split(/(?:~\+|~|\+)/),_V),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],wV=(e,n)=>{let o="",i=MC(e);if(i==="")return"";const c=Se=>lt(Se)?Se.replace(/%(\w+)/g,""):"",f=(Se,Be)=>Nu.getStyle(Be??e.getBody(),Se,!0);if(lt(n)){const Se=e.formatter.get(n);if(!Se)return"";n=Se[0]}if("preview"in n){const Se=n.preview;if(Se===!1)return"";i=Se||i}let h=n.block||n.inline||"span",_;const S=EV(n.selector);S.length>0?(S[0].name||(S[0].name=h),h=n.selector,_=MN(S,e)):_=MN([h],e);const F=Nu.select(h,_)[0]||_.firstChild;e6(n.styles,(Se,Be)=>{const it=c(Se);it&&Nu.setStyle(F,Be,it)}),e6(n.attributes,(Se,Be)=>{const it=c(Se);it&&Nu.setAttrib(F,Be,it)}),e6(n.classes,Se=>{const Be=c(Se);Nu.hasClass(F,Be)||Nu.addClass(F,Be)}),e.dispatch("PreviewFormats"),Nu.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const oe=f("fontSize"),he=/px$/.test(oe)?parseInt(oe,10):0;return e6(i.split(" "),Se=>{let Be=f(Se,F);if(!(Se==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Be)&&(Be=f(Se),rm(Be).toLowerCase()==="#ffffff"))&&!(Se==="color"&&rm(Be).toLowerCase()==="#000000")){if(Se==="font-size"&&/em|%$/.test(Be)){if(he===0)return;Be=parseFloat(Be)/(/%$/.test(Be)?100:1)*he+"px"}Se==="border"&&Be&&(o+="padding:0 2px;"),o+=Se+":"+Be+";"}}),e.dispatch("AfterPreviewFormats"),Nu.remove(_),o},SV=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Ow=e=>{const n=V0(e),o=zn({});return SV(e),BQ(e),tp(e)||gU(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(i,c,f)=>{VD(e,i,c,f)},remove:(i,c,f,h)=>{WD(e,i,c,f,h)},toggle:(i,c,f)=>{F0(e,i,c,f)},match:(i,c,f,h)=>zx(e,i,c,f,h),closest:i=>UD(e,i),matchAll:(i,c)=>nw(e,i,c),matchNode:(i,c,f,h)=>HD(e,i,c,f,h),canApply:i=>zD(e,i),formatChanged:(i,c,f,h)=>KD(e,o,i,c,f,h),getCssText:z(wV,e)}},IN=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Lw=(e,n,o)=>{const i=zn(!1),c=S=>{Fx(n,!1,o),n.add({},S)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",S=>{const F=S.command;IN(F)||(MD(n,o),n.beforeChange())}),e.on("ExecCommand",S=>{const F=S.command;IN(F)||c(S)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",S=>{const F=S.keyCode;if(S.isDefaultPrevented())return;const oe=fr.os.isMacOS()&&S.key==="Meta";(F>=33&&F<=36||F>=37&&F<=40||F===45||S.ctrlKey||oe)&&(c(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),i.get()&&n.typing&&!YE(Q3(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",S=>{const F=S.keyCode;if(S.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){n.typing&&c(S);return}const oe=S.ctrlKey&&!S.altKey||S.metaKey;if((F<16||F>20)&&F!==224&&F!==91&&!n.typing&&!oe){n.beforeChange(),Fx(n,!0,o),n.add({},S),i.set(!0);return}(fr.os.isMacOS()?S.metaKey:S.ctrlKey&&!S.altKey)&&n.beforeChange()}),e.on("mousedown",S=>{n.typing&&c(S)});const f=S=>S.inputType==="insertReplacementText",h=S=>S.inputType==="insertText"&&S.data===null,_=S=>S.inputType==="insertFromPaste"||S.inputType==="insertFromDrop";e.on("input",S=>{S.inputType&&(f(S)||h(S)||_(S))&&c(S)}),e.on("AddUndo Undo Redo ClearUndos",S=>{S.isDefaultPrevented()||e.nodeChanged()})},Xm=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},BN=e=>{const n=hs(),o=zn(0),i=zn(0),c={data:[],typing:!1,beforeChange:()=>{Vd(e,o,n)},add:(f,h)=>Wv(e,c,i,o,n,f,h),dispatchChange:()=>{e.setDirty(!0);const f=Q3(e);f.bookmark=xm(e.selection),e.dispatch("change",{level:f,lastLevel:Xe(c.data,i.get()).getOrUndefined()})},undo:()=>Ir(e,c,o,i),redo:()=>Kv(e,i,c.data),clear:()=>{PD(e,c,i)},reset:()=>{$D(e,c)},hasUndo:()=>Hx(e,c,i),hasRedo:()=>QE(e,c,i),transact:f=>JE(e,c,o,f),ignore:f=>{ew(e,o,f)},extra:(f,h)=>{tw(e,c,i,f,h)}};return tp(e)||Lw(e,c,o),Xm(e),c},TV=[9,27,Co.HOME,Co.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Co.DOWN,Co.UP,Co.LEFT,Co.RIGHT].concat(fr.browser.isFirefox()?[224]:[]),a4="data-mce-placeholder",Dw=e=>e.type==="keydown"||e.type==="keyup",Nw=e=>{const n=e.keyCode;return n===Co.BACKSPACE||n===Co.DELETE},FN=e=>{if(Dw(e)){const n=e.keyCode;return!Nw(e)&&(Co.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||D(TV,n))}else return!1},Jx=e=>Dw(e)&&!(Nw(e)||e.type==="keyup"&&e.keyCode===229),PN=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const i=n.firstElementChild;return i?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},AV=e=>{var n;const o=e.dom,i=Mr(e),c=(n=yb(e))!==null&&n!==void 0?n:"",f=(h,_)=>{if(FN(h))return;const S=e.getBody(),F=Jx(h)?!1:PN(o,S,i);(o.getAttrib(S,a4)!==""!==F||_)&&(o.setAttrib(S,a4,F?c:null),hC(e,F),e.on(F?"keydown":"keyup",f),e.off(F?"keyup":"keydown",f))};bo(c)&&e.on("init",h=>{f(h,!0),e.on("change SetContent ExecCommand",f),e.on("paste",_=>ku.setEditorTimeout(e,()=>f(_)))})},$N=e=>n=>s(n)&&n.nodeName.toLowerCase()===e,e9=e=>n=>s(n)&&e.test(n.nodeName),np=e=>s(e)&&e.nodeType===3,Qm=e=>s(e)&&e.nodeType===1,Kd=e9(/^(OL|UL|DL)$/),HN=e9(/^(OL|UL)$/),W0=e9(/^(LI|DT|DD)$/),kV=e9(/^(DT|DD)$/),K0=$N("br"),OV=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},t9=(e,n)=>s(n)&&n.nodeName in e.schema.getTextBlockElements(),t6=(e,n)=>s(e)&&e.nodeName in n,LV=(e,n)=>s(n)&&n.nodeName in e.schema.getVoidElements(),zN=(e,n)=>K0(n)?e.isBlock(n.nextSibling)&&!K0(n.previousSibling):!1,j0=(e,n,o)=>{const i=e.isEmpty(n);return o&&e.select("span[data-mce-type=bookmark]",n).length>0?!1:i},UN=(e,n)=>e.isChildOf(n,e.getRoot()),VN=(e,n)=>{if(np(e))return{container:e,offset:n};const o=Z1.getNode(e,n);return np(o)?{container:o,offset:n>=e.childNodes.length?o.data.length:0}:o.previousSibling&&np(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&np(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:n}},Jm=e=>{const n=e.cloneRange(),o=VN(e.startContainer,e.startOffset);n.setStart(o.container,o.offset);const i=VN(e.endContainer,e.endOffset);return n.setEnd(i.container,i.offset),n},Ic=kr.DOM,i4=e=>{const n={},o=i=>{let c=e[i?"startContainer":"endContainer"],f=e[i?"startOffset":"endOffset"];if(Qm(c)){const h=Ic.create("span",{"data-mce-type":"bookmark"});c.hasChildNodes()?(f=Math.min(f,c.childNodes.length-1),i?c.insertBefore(h,c.childNodes[f]):Ic.insertAfter(h,c.childNodes[f])):c.appendChild(h),c=h,f=0}n[i?"startContainer":"endContainer"]=c,n[i?"startOffset":"endOffset"]=f};return o(!0),e.collapsed||o(),n},eh=e=>{const n=i=>{const c=_=>{var S;let F=(S=_.parentNode)===null||S===void 0?void 0:S.firstChild,oe=0;for(;F;){if(F===_)return oe;(!Qm(F)||F.getAttribute("data-mce-type")!=="bookmark")&&oe++,F=F.nextSibling}return-1};let f=e[i?"startContainer":"endContainer"],h=e[i?"startOffset":"endOffset"];if(f){if(Qm(f)&&f.parentNode){const _=f;h=c(f),f=f.parentNode,Ic.remove(_),!f.hasChildNodes()&&Ic.isBlock(f)&&f.appendChild(Ic.create("br"))}e[i?"startContainer":"endContainer"]=f,e[i?"startOffset":"endOffset"]=h}};n(!0),n();const o=Ic.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),Jm(o)},ba=kr.DOM,Rw=(e,n)=>{const o=n.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===n){const i=o.previousSibling;i&&i.nodeName==="LI"?(i.appendChild(n),j0(e,o)&&ba.remove(o)):ba.setStyle(o,"listStyleType","none")}if(Kd(o)){const i=o.previousSibling;i&&i.nodeName==="LI"&&i.appendChild(n)}},l4=(e,n)=>{const o=Kn.grep(e.select("ol,ul",n));Kn.each(o,i=>{Rw(e,i)})},op=["OL","UL","DL"],Mw=op.join(","),Z0=(e,n)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,Mw,uf(e,o))},DV=(e,n)=>s(e)&&n.length===1&&n[0]===e,c4=e=>G(e.querySelectorAll(Mw),Kd),NV=e=>{const n=Z0(e),o=e.selection.getSelectedBlocks();return DV(n,o)?c4(n):G(o,i=>Kd(i)&&n!==i)},RV=(e,n)=>{const o=Kn.map(n,i=>{const c=e.dom.getParent(i,"li,dd,dt",uf(e,i));return c||i});return Lt(o)},th=e=>{const n=e.selection.getSelectedBlocks();return G(RV(e,n),W0)},MV=e=>G(th(e),kV),_g=(e,n)=>{const o=e.dom.getParents(n,"TD,TH");return o.length>0?o[0]:e.getBody()},IV=(e,n)=>!Kd(n)&&!W0(n)&&U(op,o=>e.isValidChild(n.nodeName,o)),uf=(e,n)=>{const o=e.dom.getParents(n,e.dom.isBlock),i=f=>f.nodeName.toLowerCase()!==Mr(e);return we(o,f=>i(f)&&IV(e.schema,f)).getOr(e.getBody())},BV=e=>si(e).exists(n=>W0(n.dom)&&pc(n).exists(o=>!Kd(o.dom))&&Xa(n).exists(o=>!Kd(o.dom))),jd=(e,n)=>{const o=e.dom.getParents(n,"ol,ul",uf(e,n));return tt(o)},G0=e=>{const n=jd(e,e.selection.getStart()),o=G(e.selection.getSelectedBlocks(),HN);return n.toArray().concat(o)},FV=e=>{const n=e.selection.getStart();return e.dom.getParents(n,"ol,ul",uf(e,n))},n6=e=>{const n=G0(e),o=FV(e);return we(o,i=>BV(yt.fromDom(i))).fold(()=>Iw(e,n),i=>[i])},Iw=(e,n)=>{const o=V(n,i=>jd(e,i).getOr(i));return Lt(o)},n9=e=>/\btox\-/.test(e.className),Y0=(e,n)=>n!==null&&!e.dom.isEditable(n),PV=e=>{const n=Z0(e);return Y0(e,n)||!e.selection.isEditable()},Zd=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return Y0(e,o)||!e.selection.isEditable()},sp=(e,n,o)=>e.dispatch("ListMutation",{action:n,element:o}),Bw=(e,n,o={})=>{const i=e.dom,c=e.schema.getBlockElements(),f=i.createFragment(),h=Mr(e),_=Oc(e);let S,F,oe=!1;for(F=i.create(h,{..._,...o.style?{style:o.style}:{}}),t6(n.firstChild,c)||f.appendChild(F);S=n.firstChild;){const he=S.nodeName;!oe&&(he!=="SPAN"||S.getAttribute("data-mce-type")!=="bookmark")&&(oe=!0),t6(S,c)?(f.appendChild(S),F=null):(F||(F=i.create(h,_),f.appendChild(F)),F.appendChild(S))}return!oe&&F&&F.appendChild(i.create("br",{"data-mce-bogus":"1"})),f},q0=e=>_f(e,"OL,UL"),Fw=e=>_f(e,"LI"),nh=e=>pc(e).exists(q0),Pw=e=>Xa(e).exists(q0),$V=(e,n)=>m7(e).map(o=>o>=n).getOr(!0),X0=e=>"listAttributes"in e,WN=e=>"isComment"in e,HV=e=>"isFragment"in e,KN=e=>e.depth>0,zV=e=>e.isSelected,d4=e=>{const n=hr(e),o=Pw(e)?n.slice(0,-1):n;return V(o,Di)},t1=(e,n,o)=>si(e).filter(da).map(i=>({depth:n,dirty:!1,isSelected:o,content:d4(e),itemAttributes:ru(e),listAttributes:ru(i),listType:Fs(i),isInPreviousLi:!1})),jN=(e,n)=>{Lr(e.item,n.list)},UV=e=>{for(let n=1;n<e.length;n++)jN(e[n-1],e[n])},VV=(e,n)=>{Tt(tt(e),$e(n),jN)},WV=(e,n)=>{const o={list:yt.fromTag(n,e),item:yt.fromTag("li",e)};return Lr(o.list,o.item),o},KV=(e,n,o)=>{const i=[];for(let c=0;c<o;c++)i.push(WV(e,X0(n)?n.listType:n.parentListType));return i},jV=(e,n)=>{for(let o=0;o<e.length-1;o++)iu(e[o].item,"list-style-type","none");tt(e).each(o=>{X0(n)&&(Aa(o.list,n.listAttributes),Aa(o.item,n.itemAttributes)),Bl(o.item,n.content)})},ZV=(e,n)=>{Fs(e.list)!==n.listType&&(e.list=au(e.list,n.listType)),Aa(e.list,n.listAttributes)},GV=(e,n,o)=>{const i=yt.fromTag("li",e);return Aa(i,n),Bl(i,o),i},YV=(e,n)=>{Lr(e.list,n),e.item=n},qV=(e,n,o)=>{const i=n.slice(0,o.depth);return tt(i).each(c=>{if(X0(o)){const f=GV(e,o.itemAttributes,o.content);YV(c,f),ZV(c,o)}else if(HV(o))Bl(c.item,o.content);else{const f=yt.fromHtml(`<!--${o.content}-->`);Lr(c.list,f)}}),i},XV=(e,n,o)=>{const i=KV(e,o,o.depth-n.length);return UV(i),jV(i,o),VV(n,i),n.concat(i)},QV=(e,n)=>{let o=w.none();const i=Le(n,(c,f,h)=>WN(f)?h===0?(o=w.some(f),c):qV(e,c,f):f.depth>c.length?XV(e,c,f):qV(e,c,f),[]);return o.each(c=>{const f=yt.fromHtml(`<!--${c.content}-->`);$e(i).each(h=>{su(h.list,f)})}),$e(i).map(c=>c.list)},JV=(e,n,o)=>{switch(n){case"Indent":if($V(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},eW=(e,n)=>{X0(e)&&X0(n)&&(e.listType=n.listType,e.listAttributes={...n.listAttributes})},tW=e=>{e.listAttributes=nn(e.listAttributes,(n,o)=>o!=="start")},nW=(e,n)=>{const o=e[n].depth,i=f=>f.depth===o&&!f.dirty,c=f=>f.depth<o;return Ae(Me(e.slice(0,n)),i,c).orThunk(()=>Ae(e.slice(n+1),i,c))},Eg=e=>(I(e,(n,o)=>{nW(e,o).fold(()=>{n.dirty&&X0(n)&&tW(n)},i=>eW(n,i))}),e),ZN=(e,n,o,i)=>{var c;if(Ra(i))return[{depth:e+1,content:(c=i.dom.nodeValue)!==null&&c!==void 0?c:"",dirty:!1,isSelected:!1,isComment:!0}];n.each(_=>{Ws(_.start,i)&&o.set(!0)});const f=t1(i,e,o.get());n.each(_=>{Ws(_.end,i)&&o.set(!1)});const h=Xa(i).filter(q0).map(_=>u4(e,n,o,_)).getOr([]);return f.toArray().concat(h)},oW=(e,n,o,i)=>pc(i).filter(q0).fold(()=>ZN(e,n,o,i),c=>{const f=Le(hr(i),(h,_,S)=>{if(S===0)return h;if(Fw(_))return h.concat(ZN(e,n,o,_));{const F={isFragment:!0,depth:e,content:[_],isSelected:!1,dirty:!1,parentListType:Fs(c)};return h.concat(F)}},[]);return u4(e,n,o,c).concat(f)}),u4=(e,n,o,i)=>nt(hr(i),c=>{const f=q0(c)?u4:oW,h=e+1;return f(h,n,o,c)}),GN=(e,n)=>{const o=zn(!1),i=0;return V(e,c=>({sourceList:c,entries:u4(i,n,o,c)}))},$w=(e,n)=>{const o=Eg(n);return V(o,i=>{const c=WN(i)?Cp([yt.fromHtml(`<!--${i.content}-->`)]):Cp(i.content),f=X0(i)?i.itemAttributes:{};return yt.fromDom(Bw(e,c.dom,f))})},sW=(e,n)=>{const o=Eg(n);return QV(e.contentDocument,o).toArray()},rW=(e,n)=>nt(q(n,KN),o=>$e(o).exists(KN)?sW(e,o):$w(e,o)),aW=(e,n,o)=>{I(G(n,zV),i=>JV(e,o,i))},iW=e=>{const n=V(th(e),yt.fromDom);return Tt(we(n,Q(nh)),we(Me(n),Q(nh)),(o,i)=>({start:o,end:i}))},lW=(e,n,o)=>{const i=GN(n,iW(e));I(i,c=>{aW(e,c.entries,o);const f=rW(e,c.entries);I(f,h=>{sp(e,o==="Indent"?"IndentList":"OutdentList",h.dom)}),gc(c.sourceList,f),Ar(c.sourceList)})},cW=e=>m7(e).forall(n=>{const o=e.selection.getSelectedBlocks();return U(o,i=>$l(yt.fromDom(i),"li").forall(c=>at(c,"ol,ul").length<=n))}),oh=kr.DOM,dW=(e,n,o)=>{const i=F=>{const oe=F.parentNode;oe&&Kn.each(c,he=>{oe.insertBefore(he,o.parentNode)}),oh.remove(F)},c=oh.select('span[data-mce-type="bookmark"]',n),f=Bw(e,o),h=oh.createRng();h.setStartAfter(o),h.setEndAfter(n);const _=h.extractContents();for(let F=_.firstChild;F;F=F.firstChild)if(F.nodeName==="LI"&&e.dom.isEmpty(F)){oh.remove(F);break}e.dom.isEmpty(_)||oh.insertAfter(_,n),oh.insertAfter(f,n);const S=o.parentElement;S&&j0(e.dom,S)&&i(S),oh.remove(o),j0(e.dom,n)&&oh.remove(n)},uW=nu("dd"),YN=nu("dt"),fW=(e,n)=>{uW(n)?au(n,"dt"):YN(n)&&$u(n).each(o=>dW(e,o.dom,n.dom))},pW=e=>{YN(e)&&au(e,"dd")},gW=(e,n,o)=>{n==="Indent"?I(o,pW):I(o,i=>fW(e,i))},mW=(e,n)=>{const o=Pl(n6(e)),i=Pl(MV(e));let c=!1;if(o.length||i.length){const f=e.selection.getBookmark();lW(e,o,n),gW(e,n,i),e.selection.moveToBookmark(f),e.selection.setRng(Jm(e.selection.getRng())),e.nodeChanged(),c=!0}return c},Hw=(e,n)=>!PV(e)&&mW(e,n),qN=e=>Hw(e,"Indent"),zw=e=>Hw(e,"Outdent"),o9=e=>Hw(e,"Flatten"),f4=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},hW=(e,n,o)=>{const i=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(n,"list-style-type",i)},Uw=(e,n)=>{Kn.each(n,(o,i)=>{e.setAttribute(i,o)})},bW=(e,n,o)=>{Uw(n,o["list-attributes"]),Kn.each(e.select("li",n),i=>{Uw(i,o["list-item-attributes"])})},p4=(e,n,o)=>{hW(e,n,o),bW(e,n,o)},vW=(e,n,o)=>{Kn.each(o,i=>e.setStyle(n,i,""))},s9=(e,n)=>s(n)&&!t6(n,e.schema.getBlockElements()),Vw=(e,n,o,i)=>{let c=n[o?"startContainer":"endContainer"];const f=n[o?"startOffset":"endOffset"];Qm(c)&&(c=c.childNodes[Math.min(f,c.childNodes.length-1)]||c),!o&&K0(c.nextSibling)&&(c=c.nextSibling);const h=S=>{for(;!e.dom.isBlock(S)&&S.parentNode&&i!==S;)S=S.parentNode;return S},_=(S,F)=>{var oe;const he=new ja(S,h(S)),Se=F?"next":"prev";let Be;for(;Be=he[Se]();)if(!(LV(e,Be)||Ne(Be.textContent)||((oe=Be.textContent)===null||oe===void 0?void 0:oe.length)===0))return w.some(Be);return w.none()};if(o&&np(c))if(Ne(c.textContent))c=_(c,!1).getOr(c);else for(c.parentNode!==null&&s9(e,c.parentNode)&&(c=c.parentNode);c.previousSibling!==null&&(s9(e,c.previousSibling)||np(c.previousSibling));)c=c.previousSibling;if(!o&&np(c))if(Ne(c.textContent))c=_(c,!0).getOr(c);else for(c.parentNode!==null&&s9(e,c.parentNode)&&(c=c.parentNode);c.nextSibling!==null&&(s9(e,c.nextSibling)||np(c.nextSibling));)c=c.nextSibling;for(;c.parentNode!==i;){const S=c.parentNode;if(t9(e,c)||/^(TD|TH)$/.test(S.nodeName))return c;c=S}return c},xW=(e,n,o)=>{const i=[],c=e.dom,f=Vw(e,n,!0,o),h=Vw(e,n,!1,o);let _;const S=[];for(let F=f;F&&(S.push(F),F!==h);F=F.nextSibling);return Kn.each(S,F=>{var oe;if(t9(e,F)){i.push(F),_=null;return}if(c.isBlock(F)||K0(F)){K0(F)&&c.remove(F),_=null;return}const he=F.nextSibling;if(Bm.isBookmarkNode(F)&&(Kd(he)||t9(e,he)||!he&&F.parentNode===o)){_=null;return}_||(_=c.create("p"),(oe=F.parentNode)===null||oe===void 0||oe.insertBefore(_,F),i.push(_)),_.appendChild(F)}),i},yW=(e,n,o)=>{const i=e.getStyle(n,"list-style-type");let c=o?o["list-style-type"]:"";return c=c===null?"":c,i===c},CW=(e,n)=>{const o=e.selection.getStart(!0),i=Vw(e,n,!0,e.getBody());return Ds(yt.fromDom(i),yt.fromDom(n.commonAncestorContainer))?n.commonAncestorContainer:o},r9=(e,n,o)=>{const i=e.selection.getRng();let c="LI";const f=uf(e,CW(e,i)),h=e.dom;if(h.getContentEditable(e.selection.getNode())==="false")return;n=n.toUpperCase(),n==="DL"&&(c="DT");const _=i4(i),S=G(xW(e,i,f),e.dom.isEditable);Kn.each(S,F=>{let oe;const he=F.previousSibling,Se=F.parentNode;W0(Se)||(he&&Kd(he)&&he.nodeName===n&&yW(h,he,o)?(oe=he,F=h.rename(F,c),he.appendChild(F)):(oe=h.create(n),Se.insertBefore(oe,F),oe.appendChild(F),F=h.rename(F,c)),vW(h,F,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),p4(h,oe,o),Ww(e.dom,oe))}),e.selection.setRng(eh(_))},_W=(e,n)=>Kd(e)&&e.nodeName===(n==null?void 0:n.nodeName),EW=(e,n,o)=>{const i=e.getStyle(n,"list-style-type",!0),c=e.getStyle(o,"list-style-type",!0);return i===c},wW=(e,n)=>e.className===n.className,XN=(e,n,o)=>_W(n,o)&&EW(e,n,o)&&wW(n,o),Ww=(e,n)=>{let o,i=n.nextSibling;if(XN(e,n,i)){const c=i;for(;o=c.firstChild;)n.appendChild(o);e.remove(c)}if(i=n.previousSibling,XN(e,n,i)){const c=i;for(;o=c.lastChild;)n.insertBefore(o,n.firstChild);e.remove(c)}},SW=(e,n,o,i)=>{if(n.nodeName!==o){const c=e.dom.rename(n,o);p4(e.dom,c,i),sp(e,f4(o),c)}else p4(e.dom,n,i),sp(e,f4(o),n)},TW=(e,n,o,i)=>{if(n.classList.forEach((c,f,h)=>{c.startsWith("tox-")&&(h.remove(c),h.length===0&&n.removeAttribute("class"))}),n.nodeName!==o){const c=e.dom.rename(n,o);p4(e.dom,c,i),sp(e,f4(o),c)}else p4(e.dom,n,i),sp(e,f4(o),n)},AW=(e,n,o,i,c)=>{const f=Kd(n);if(f&&n.nodeName===i&&!QN(c)&&!n9(n))o9(e);else{r9(e,i,c);const h=i4(e.selection.getRng()),_=f?[n,...o]:o,S=f&&n9(n)?TW:SW;Kn.each(_,F=>{S(e,F,i,c)}),e.selection.setRng(eh(h))}},QN=e=>"list-style-type"in e,JN=(e,n,o,i)=>{if(n!==e.getBody())if(n)if(n.nodeName===o&&!QN(i)&&!n9(n))o9(e);else{const c=i4(e.selection.getRng());n9(n)&&n.classList.forEach((h,_,S)=>{h.startsWith("tox-")&&(S.remove(h),S.length===0&&n.removeAttribute("class"))}),p4(e.dom,n,i);const f=e.dom.rename(n,o);Ww(e.dom,f),e.selection.setRng(eh(c)),r9(e,o,i),sp(e,f4(o),f)}else r9(e,o,i),sp(e,f4(o),n)},a9=(e,n,o)=>{const i=Z0(e);if(Zd(e,i))return;const c=NV(e),f=Xn(o)?o:{};c.length>0?AW(e,i,c,n,f):JN(e,i,n,f)},Kw=(e,n,o,i)=>{let c=n.startContainer;const f=n.startOffset;if(np(c)&&(o?f<c.data.length:f>0))return c;const h=e.schema.getNonEmptyElements();Qm(c)&&(c=Z1.getNode(c,f));const _=new ja(c,i);o&&zN(e.dom,c)&&_.next();const S=o?_.next.bind(_):_.prev2.bind(_);for(;c=S();)if(c.nodeName==="LI"&&!c.hasChildNodes()||h[c.nodeName]||np(c)&&c.data.length>0)return c;return null},kW=(e,n)=>{const o=n.childNodes;return o.length===1&&!Kd(o[0])&&e.isBlock(o[0])},eR=e=>w.from(e).map(yt.fromDom).filter(xl).exists(n=>Ed(n)&&!D(["details"],Fs(n))),OW=(e,n)=>{kW(e,n)&&eR(n.firstChild)&&e.remove(n.firstChild,!0)},jw=(e,n,o)=>{let i;const c=kW(e,o)?o.firstChild:o;if(OW(e,n),!j0(e,n,!0))for(;i=n.firstChild;)c.appendChild(i)},Zw=(e,n,o)=>{let i;const c=n.parentNode;if(!UN(e,n)||!UN(e,o))return;Kd(o.lastChild)&&(i=o.lastChild),c===o.lastChild&&K0(c.previousSibling)&&e.remove(c.previousSibling);const f=o.lastChild;f&&K0(f)&&n.hasChildNodes()&&e.remove(f),j0(e,o,!0)&&Ps(yt.fromDom(o)),jw(e,n,o),i&&o.appendChild(i);const _=vl(yt.fromDom(o),yt.fromDom(n))?e.getParents(n,Kd,o):[];e.remove(n),I(_,S=>{j0(e,S)&&S!==e.getRoot()&&e.remove(S)})},LW=(e,n,o)=>{Ps(yt.fromDom(o)),Zw(e.dom,n,o),e.selection.setCursorLocation(o,0)},DW=(e,n,o,i)=>{const c=e.dom;if(c.isEmpty(i))LW(e,o,i);else{const f=i4(n);Zw(c,o,i),e.selection.setRng(eh(f))}},NW=(e,n,o,i)=>{const c=i4(n);Zw(e.dom,o,i);const f=eh(c);e.selection.setRng(f)},RW=(e,n)=>{const o=e.dom,i=e.selection,c=i.getStart(),f=_g(e,c),h=o.getParent(i.getStart(),"LI",f);if(h){const _=h.parentElement;if(_===e.getBody()&&j0(o,_))return!0;const S=Jm(i.getRng()),F=o.getParent(Kw(e,S,n,f),"LI",f),oe=F&&(n?o.isChildOf(h,F):o.isChildOf(F,h));if(F&&F!==h&&!oe)return e.undoManager.transact(()=>{n?DW(e,S,F,h):OV(h)?zw(e):NW(e,S,h,F)}),!0;if(oe&&!n&&F!==h){const he=S.commonAncestorContainer.parentElement;return!he||o.isChildOf(F,he)?!1:(e.undoManager.transact(()=>{const Se=i4(S);jw(o,he,F),he.remove();const Be=eh(Se);e.selection.setRng(Be)}),!0)}else if(!F&&!n&&S.startOffset===0&&S.endOffset===0)return e.undoManager.transact(()=>{o9(e)}),!0}return!1},MW=(e,n,o)=>{const i=e.getParent(n.parentNode,e.isBlock,o);e.remove(n),i&&e.isEmpty(i)&&e.remove(i)},Gw=(e,n)=>{const o=e.dom,i=e.selection.getStart(),c=_g(e,i),f=o.getParent(i,o.isBlock,c);if(f&&o.isEmpty(f,void 0,{checkRootAsContent:!0})){const h=Jm(e.selection.getRng()),_=Kw(e,h,n,c),S=o.getParent(_,"LI",c);if(_&&S){const F=Be=>D(["td","th","caption"],Fs(Be)),oe=Be=>Be.dom===c,he=_d(yt.fromDom(S),F,oe),Se=_d(yt.fromDom(h.startContainer),F,oe);return zt(he,Se,Ws)?(e.undoManager.transact(()=>{const Be=S.parentNode;MW(o,f,c),Ww(o,Be),e.selection.select(_,!0),e.selection.collapse(n)}),!0):!1}}return!1},Yw=(e,n)=>RW(e,n)||Gw(e,n),qw=e=>{const n=e.selection.getStart(),o=_g(e,n),i=e.dom.getParent(n,"LI,DT,DD",o);return s(i)||th(e).length>0},tR=e=>qw(e)?(e.undoManager.transact(()=>{let n=!0;const o=()=>n=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),n&&e.dispatch("input"),l4(e.dom,e.getBody())}),!0):!1,Xw=(e,n)=>{const o=e.selection;return!Zd(e,o.getNode())&&(o.isCollapsed()?Yw(e,n):tR(e))},IW=(e,n)=>({block:e,position:n}),BW=(e,n)=>({from:e,to:n}),Qw=(e,n)=>{const o=yt.fromDom(e),i=yt.fromDom(n.container());return nx(o,i).map(c=>IW(c,n))},FW=e=>!(vl(e.to.block,e.from.block)||vl(e.from.block,e.to.block)),PW=e=>!Ws(e.from.block,e.to.block),nR=(e,n)=>_d(n,c=>_i(c)||ni(c.dom),c=>Ws(c,e)).filter(da).getOr(e),$W=(e,n)=>{const o=yt.fromDom(e);return Ws(nR(o,n.from.block),nR(o,n.to.block))},HW=e=>Pr(e.from.block.dom)===!1&&Pr(e.to.block.dom)===!1,zW=e=>{const n=o=>e3(o)||Df(o.dom)||Ip(o);return n(e.from.block)&&n(e.to.block)},Jw=(e,n,o,i)=>Qr(i.position.getNode())&&!li(e,i.block)?sg(!1,i.block.dom).bind(c=>c.isEqual(i.position)?ed(o,n,c).bind(f=>Qw(n,f)):w.some(i)).getOr(i):i,UW=(e,n,o,i)=>{const c=Qw(n,hn.fromRangeStart(i)),f=c.bind(h=>ed(o,n,h.position).bind(_=>Qw(n,_).map(S=>Jw(e,n,o,S))));return Tt(c,f,BW).filter(h=>PW(h)&&$W(n,h)&&HW(h)&&zW(h)&&FW(h))},VW=(e,n,o,i)=>i.collapsed?UW(e,n,o,i):w.none(),WW=(e,n)=>{const o=hr(e);return Pe(o,i=>n.isBlock(Fs(i))).fold(L(o),i=>o.slice(0,i))},oR=(e,n)=>{const o=WW(e,n);return I(o,Ar),o},sR=(e,n,o)=>{const i=fg(o,n);return we(i.reverse(),c=>li(e,c)).each(Ar)},rR=(e,n)=>G(Uc(n),o=>!li(e,o)).length===0,Q0=(e,n,o,i,c)=>{if(li(i,o))return L1(o),Bi(o.dom);rR(i,c)&&li(i,n)&&Qa(c,yt.fromTag("br"));const f=Al(o.dom,hn.before(c.dom));return I(oR(n,i),h=>{Qa(c,h)}),sR(i,e,n),f},aR=(e,n)=>e.isInline(Fs(n)),KW=(e,n,o,i)=>{if(li(i,o)){if(li(i,n)){const h=de((_=>{const S=(F,oe)=>pc(F).fold(()=>oe,he=>aR(i,he)?S(he,oe.concat(Yr(he))):oe);return S(_,[])})(o),(_,S)=>(nl(_,S),S),O1());Ps(n),Lr(n,h)}return Ar(o),Bi(n.dom)}const c=Pd(o.dom);return I(oR(n,i),f=>{Lr(o,f)}),sR(i,e,n),c},jW=(e,n)=>{const o=fg(n,e);return w.from(o[o.length-1])},ZW=(e,n)=>vl(n,e)?jW(n,e):w.none(),iR=(e,n)=>{sg(e,n.dom).bind(o=>w.from(o.getNode())).map(yt.fromDom).filter(zf).each(Ar)},J0=(e,n,o,i)=>(iR(!0,n),iR(!1,o),ZW(n,o).fold(z(KW,e,n,o,i),z(Q0,e,n,o,i))),lR=(e,n,o,i,c)=>n?J0(e,i,o,c):J0(e,o,i,c),o6=(e,n)=>{const o=yt.fromDom(e.getBody());return VW(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{lR(o,n,c.from.block,c.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},eS=(e,n,o)=>{const i=n.getRng();return Tt(nx(e,yt.fromDom(i.startContainer)),nx(e,yt.fromDom(i.endContainer)),(c,f)=>Ws(c,f)?w.none():w.some(()=>{i.deleteContents(),lR(e,!0,c,f,o).each(h=>{n.setRng(h.toRange())})})).getOr(w.none())},cR=(e,n)=>{const o=yt.fromDom(n),i=z(Ws,e);return Mi(o,_i,i).isSome()},dR=(e,n)=>cR(e,n.startContainer)||cR(e,n.endContainer),i9=(e,n)=>{const o=Al(e.dom,hn.fromRangeStart(n)).isNone(),i=cl(e.dom,hn.fromRangeEnd(n)).isNone();return!dR(e,n)&&o&&i},GW=e=>w.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),YW=e=>{const n=yt.fromDom(e.getBody()),o=e.selection.getRng();return i9(n,o)?GW(e):eS(n,e.selection,e.schema)},tS=(e,n)=>e.selection.isCollapsed()?w.none():YW(e),wg=(e,n,o,i,c)=>w.from(n._selectionOverrides.showCaret(e,o,i,c)),qW=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},e2=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?w.none():w.some(qW(n)),XW=(e,n,o)=>{const i=L3(1,e.getBody(),n),c=hn.fromRangeStart(i),f=c.getNode();if(Om(f))return wg(1,e,f,!c.isAtEnd(),!1);const h=c.getNode(!0);if(Om(h))return wg(1,e,h,!1,!1);const _=R0(e.dom.getRoot(),c.getNode());return Om(_)?wg(1,e,_,!1,o):w.none()},nS=(e,n,o)=>n.collapsed?XW(e,n,o).getOr(n):n,QW=e=>$m(e)||pv(e),JW=e=>Hm(e)||gv(e),eK=(e,n)=>{Gn(n)&&n.data.length===0&&e.remove(n)},uR=(e,n,o,i,c,f)=>{wg(i,e,f.getNode(!c),c,!0).each(h=>{if(n.collapsed){const _=n.cloneRange();c?_.setEnd(h.startContainer,h.startOffset):_.setStart(h.endContainer,h.endOffset),_.deleteContents()}else n.deleteContents();e.selection.setRng(h)}),eK(e.dom,o)},tK=(e,n)=>{const o=e.selection.getRng();if(!Gn(o.commonAncestorContainer))return w.none();const i=n?1:-1,c=ll(e.getBody()),f=z(eg,n?c.next:c.prev),h=n?QW:JW,_=Jp(i,e.getBody(),o),S=f(_),F=S&&zd(n,S);if(!F||!Gf(_,F))return w.none();if(h(F))return w.some(()=>uR(e,o,_.getNode(),i,n,F));const oe=f(F);return oe&&h(oe)&&Gf(F,oe)?w.some(()=>uR(e,o,_.getNode(),i,n,oe)):w.none()},oS=(e,n)=>tK(e,n),sS=(e,n)=>{const o=e.getBody();return n?Bi(o).filter($m):Pd(o).filter(Hm)},rS=e=>{const n=e.selection.getRng();return!n.collapsed&&(sS(e,!0).exists(o=>o.isEqual(hn.fromRangeStart(n)))||sS(e,!1).exists(o=>o.isEqual(hn.fromRangeEnd(n))))},nK=e=>s(e)&&(_i(yt.fromDom(e))||Ip(yt.fromDom(e))),Gd=qo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),oK=(e,n)=>{const o=n.getNode(!e),i=e?"after":"before";return Vo(o)&&o.getAttribute("data-mce-caret")===i},sK=(e,n,o,i,c)=>{const f=h=>c.isInline(h.nodeName.toLowerCase())&&!Id(o,i,e);return E7(!n,o).fold(()=>E7(n,i).fold(K,f),f)},aS=(e,n,o,i,c)=>{const f=c.getNode(!o);return nx(yt.fromDom(n),yt.fromDom(i.getNode())).map(h=>li(e,h)?Gd.remove(h.dom):Gd.moveToElement(f)).orThunk(()=>w.some(Gd.moveToElement(f)))},fR=(e,n,o,i)=>ed(n,e,o).bind(c=>nK(c.getNode())||sK(e,n,o,c,i)?w.none():n&&Pr(c.getNode())||!n&&Pr(c.getNode(!0))?aS(i,e,n,o,c):n&&Hm(o)||!n&&$m(o)?w.some(Gd.moveToPosition(c)):w.none()),rK=(e,n)=>us(n)?w.none():e&&Pr(n.nextSibling)?w.some(Gd.moveToElement(n.nextSibling)):!e&&Pr(n.previousSibling)?w.some(Gd.moveToElement(n.previousSibling)):w.none(),aK=(e,n,o)=>o.fold(i=>w.some(Gd.remove(i)),i=>w.some(Gd.moveToElement(i)),i=>Id(n,i,e)?w.none():w.some(Gd.moveToPosition(i))),iK=(e,n,o,i)=>oK(n,o)?rK(n,o.getNode(!n)).orThunk(()=>fR(e,n,o,i)):fR(e,n,o,i).bind(c=>aK(e,o,c)),lK=(e,n,o,i)=>{const c=L3(n?1:-1,e,o),f=hn.fromRangeStart(c),h=yt.fromDom(e);return!n&&Hm(f)?w.some(Gd.remove(f.getNode(!0))):n&&$m(f)?w.some(Gd.remove(f.getNode())):!n&&$m(f)&&X7(h,f,i)?Fk(h,f,i).map(_=>Gd.remove(_.getNode())):n&&Hm(f)&&U_(h,f,i)?P$(h,f,i).map(_=>Gd.remove(_.getNode())):iK(e,n,f,i)},iS=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Y1(e,n,yt.fromDom(o)),!0),cK=(e,n)=>o=>{const i=n?hn.before(o):hn.after(o);return e.selection.setRng(i.toRange()),!0},dK=e=>n=>(e.selection.setRng(n.toRange()),!0),pR=(e,n)=>w.from(R0(e.getBody(),n)),uK=(e,n)=>{const o=e.selection.getNode();return pR(e,o).filter(Pr).fold(()=>lK(e.getBody(),n,e.selection.getRng(),e.schema).map(i=>()=>i.fold(iS(e,n),cK(e,n),dK(e))),()=>w.some(a))},fK=e=>{I(Nt(e,".mce-offscreen-selection"),Ar)},pK=(e,n)=>{const o=e.selection.getNode();return Pr(o)&&!Ph(o)?pR(e,o.parentNode).filter(Pr).fold(()=>w.some(()=>{fK(yt.fromDom(e.getBody())),Y1(e,n,yt.fromDom(e.selection.getNode())),eE(e)}),()=>w.some(a)):rS(e)?w.some(()=>{aO(e,e.selection.getRng(),yt.fromDom(e.getBody()))}):w.none()},gR=e=>{const n=e.dom,o=e.selection,i=R0(e.getBody(),o.getNode());if(ni(i)&&n.isBlock(i)&&n.isEmpty(i)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),o.setRng(hn.before(c).toRange())}return!0},lS=(e,n)=>e.selection.isCollapsed()?uK(e,n):pK(e,n),mR=e=>e.hasOwnProperty("text"),hR=e=>e.hasOwnProperty("marker"),bR=(e,n)=>{const o=(f,h)=>{if(Gn(f))return{text:f,offset:h};{const _=n(),S=f.childNodes;return h<S.length?(f.insertBefore(_,S[h]),{marker:_,before:!0}):(f.appendChild(_),{marker:_,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},vR=e=>{var n,o;const{start:i,end:c}=e,f=new window.Range;return mR(i)?f.setStart(i.text,i.offset):hR(i)&&(i.before?f.setStartBefore(i.marker):f.setStartAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),mR(c)?f.setEnd(c.text,c.offset):hR(c)&&(c.before?f.setEndBefore(c.marker):f.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),f},cS=(e,n)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),f=i.getParent(e.selection.getEnd(),i.isBlock),h=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&f&&c===h.firstChild&&f===h.lastChild&&!i.isEmpty(h)){const S=c.cloneNode(!1),F=()=>{if(n?oO(e):yv(e),h.firstChild!==c){const oe=bR(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(he=>S.appendChild(he)),h.appendChild(S),e.selection.setRng(vR(oe))}};return w.some(F)}return w.none()},gK=(e,n)=>{const o=hn.fromRangeStart(e.selection.getRng());return ed(n,e.getBody(),o).filter(i=>n?N$(i):R$(i)).bind(i=>Fb(n?0:-1,i)).map(i=>()=>e.selection.select(i))},dS=(e,n)=>e.selection.isCollapsed()?gK(e,n):w.none(),g4=Gn,xR=e=>g4(e)&&e.data[0]===ui,yR=e=>g4(e)&&e.data[e.data.length-1]===ui,CR=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ui)},mK=e=>{var n;if(g4(e.previousSibling))return yR(e.previousSibling)||e.previousSibling.appendData(ui),e.previousSibling;if(g4(e))return xR(e)||e.insertData(0,ui),e;{const o=CR(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},hK=e=>{var n,o;if(g4(e.nextSibling))return xR(e.nextSibling)||e.nextSibling.insertData(0,ui),e.nextSibling;if(g4(e))return yR(e)||e.appendData(ui),e;{const i=CR(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},s6=(e,n)=>e?mK(n):hK(n),bK=z(s6,!0),vK=z(s6,!1),uS=(e,n)=>Gn(e.container())?s6(n,e.container()):s6(n,e.getNode()),_R=(e,n)=>{const o=n.get();return o&&e.container()===o&&yu(o)},fS=(e,n)=>n.fold(o=>{P1(e.get());const i=bK(o);return e.set(i),w.some(hn(i,i.length-1))},o=>Bi(o).map(i=>{if(_R(i,e)){const c=e.get();return hn(c,1)}else{P1(e.get());const c=uS(i,!0);return e.set(c),hn(c,1)}}),o=>Pd(o).map(i=>{if(_R(i,e)){const c=e.get();return hn(c,c.length-1)}else{P1(e.get());const c=uS(i,!1);return e.set(c),hn(c,c.length-1)}}),o=>{P1(e.get());const i=vK(o);return e.set(i),w.some(hn(i,1))}),ER=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,n);if(i.isSome())return i}return w.none()},lc=qo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),l9=(e,n)=>{const o=Zf(n,e);return o||e},wR=(e,n,o)=>{const i=X_(o),c=l9(n,i.container());return pg(e,c,i).fold(()=>cl(c,i).bind(z(pg,e,c)).map(f=>lc.before(f)),w.none)},jQ=(e,n)=>of(e,n)===null,m4=(e,n,o)=>pg(e,n,o).filter(z(jQ,n)),ZQ=(e,n,o)=>{const i=Q_(o);return m4(e,n,i).bind(c=>Al(c,i).isNone()?w.some(lc.start(c)):w.none())},GQ=(e,n,o)=>{const i=X_(o);return m4(e,n,i).bind(c=>cl(c,i).isNone()?w.some(lc.end(c)):w.none())},YQ=(e,n,o)=>{const i=Q_(o),c=l9(n,i.container());return pg(e,c,i).fold(()=>Al(c,i).bind(z(pg,e,c)).map(f=>lc.after(f)),w.none)},xK=e=>!xv(t2(e)),Yi=(e,n,o)=>ER([wR,ZQ,GQ,YQ],[e,n,o]).filter(xK),t2=e=>e.fold(A,A,A,A),ff=e=>e.fold(L("before"),L("start"),L("end"),L("after")),rp=e=>e.fold(lc.before,lc.before,lc.after,lc.after),r6=e=>e.fold(lc.start,lc.start,lc.end,lc.end),SR=(e,n)=>ff(e)===ff(n)&&t2(e)===t2(n),a6=(e,n,o,i,c,f)=>Tt(pg(n,o,i),pg(n,o,c),(h,_)=>h!==_&&eO(o,h,_)?lc.after(e?h:_):f).getOr(f),yK=(e,n)=>e.fold(ee,o=>!SR(o,n)),TR=(e,n,o,i,c)=>{const f=zd(e,c);return ed(e,o,f).map(z(zd,e)).fold(()=>i.map(rp),S=>Yi(n,o,S).map(z(a6,e,n,o,f,S)).filter(z(yK,i))).filter(xK)},qQ=(e,n)=>e?n.fold(p(w.some,lc.start),w.none,p(w.some,lc.after),w.none):n.fold(w.none,p(w.some,lc.before),w.none,p(w.some,lc.end)),CK=(e,n,o,i)=>{const c=zd(e,i),f=Yi(n,o,c);return Yi(n,o,c).bind(z(qQ,e)).orThunk(()=>TR(e,n,o,f,i))},i6=e=>b(e.selection.getSel().modify),pS=(e,n,o)=>{const i=e?1:-1;return n.setRng(hn(o.container(),o.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Fa=(e,n)=>{const o=n.selection.getRng(),i=e?hn.fromRangeEnd(o):hn.fromRangeStart(o);return i6(n)?e&&fm(i)?pS(!0,n.selection,i):!e&&o3(i)?pS(!1,n.selection,i):!1:!1};var ap;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(ap||(ap={}));const c9=(e,n)=>e===-1?Me(n):n,h4=(e,n,o)=>e===1?n.next(o):n.prev(o),n2=(e,n,o,i)=>Qr(i.getNode(n===1))?ap.Br:Id(o,i)===!1?ap.Block:ap.Wrap,sh=(e,n,o,i)=>{const c=ll(o);let f=i;const h=[];for(;f;){const _=h4(n,c,f);if(!_)break;if(Qr(_.getNode(!1)))return n===1?{positions:c9(n,h).concat([_]),breakType:ap.Br,breakAt:w.some(_)}:{positions:c9(n,h),breakType:ap.Br,breakAt:w.some(_)};if(!_.isVisible()){f=_;continue}if(e(f,_)){const S=n2(o,n,f,_);return{positions:c9(n,h),breakType:S,breakAt:w.some(_)}}h.push(_),f=_}return{positions:c9(n,h),breakType:ap.Eol,breakAt:w.none()}},AR=(e,n,o,i)=>n(o,i).breakAt.map(c=>{const f=n(o,c).positions;return e===-1?f.concat(c):[c].concat(f)}).getOr([]),gS=(e,n)=>Le(e,(o,i)=>o.fold(()=>w.some(i),c=>Tt($e(c.getClientRects()),$e(i.getClientRects()),(f,h)=>{const _=Math.abs(n-f.left);return Math.abs(n-h.left)<=_?i:c}).or(o)),w.none()),b4=(e,n)=>$e(n.getClientRects()).bind(o=>gS(e,o.left)),o2=z(sh,hn.isAbove,-1),v4=z(sh,hn.isBelow,1),mS=z(AR,-1,o2),kR=z(AR,1,v4),OR=(e,n)=>o2(e,n).breakAt.isNone(),d9=(e,n)=>v4(e,n).breakAt.isNone(),_K=e=>Bi(e).map(n=>[n].concat(v4(e,n).positions)).getOr([]),EK=e=>Pd(e).map(n=>o2(e,n).positions.concat(n)).getOr([]),wK=(e,n)=>b4(mS(e,n),n),SK=(e,n)=>b4(kR(e,n),n),TK=Pr,u9=(e,n)=>Math.abs(e.left-n),hS=(e,n)=>Math.abs(e.right-n),AK=e=>Hn(e,"node"),LR=(e,n)=>cn(e,(o,i)=>{const c=Math.min(u9(o,n),hS(o,n)),f=Math.min(u9(i,n),hS(i,n));return f===c&&AK(i)&&TK(i.node)||f<c?i:o}),x4=e=>{const n=o=>V(o,i=>{const c=La(i);return c.node=e,c});if(Vo(e))return n(e.getClientRects());if(Gn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},bS=e=>nt(e,x4);var s2;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(s2||(s2={}));const DR=(e,n,o,i)=>{let c=i;for(;c=Qp(c,e,a0,n);)if(o(c))return},NR=(e,n,o,i,c,f)=>{let h=0;const _=[],S=he=>{let Se=bS([he]);e===s2.Up&&(Se=Se.reverse());for(let Be=0;Be<Se.length;Be++){const it=Se[Be];if(!o(it,F)){if(_.length>0&&n(it,ds(_))&&h++,it.line=h,c(it))return!0;_.push(it)}}return!1},F=ds(f.getClientRects());if(!F)return _;const oe=f.getNode();return oe&&(S(oe),DR(e,i,S,oe)),_},RR=(e,n)=>n.line>e,kK=(e,n)=>n.line===e,MR=z(NR,s2.Up,pm,N1),IR=z(NR,s2.Down,N1,pm),vS=e=>ds(e.getClientRects()),BR=(e,n,o,i)=>{const c=ll(n);let f,h,_,S;const F=[];let oe=0;e===s2.Down?(f=c.next,h=N1,_=pm,S=hn.after(i)):(f=c.prev,h=pm,_=N1,S=hn.before(i));const he=vS(S);do{if(!S.isVisible())continue;const Se=vS(S);if(_(Se,he))continue;F.length>0&&h(Se,ds(F))&&oe++;const Be=La(Se);if(Be.position=S,Be.line=oe,o(Be))return F;F.push(Be)}while(S=f(S));return F},xS=e=>n=>RR(e,n),f9=e=>n=>kK(e,n),Sg=(e,n)=>{e.selection.setRng(n),dv(e,e.selection.getRng())},yS=(e,n,o)=>w.some(nS(e,n,o)),FR=(e,n,o,i,c,f)=>{const h=n===1,_=ll(e.getBody()),S=z(eg,h?_.next:_.prev),F=h?i:c;if(!o.collapsed){const it=gm(o);if(f(it))return wg(n,e,it,n===-1,!1);if(rS(e)){const rt=o.cloneRange();return rt.collapse(n===-1),w.from(rt)}}const oe=Jp(n,e.getBody(),o);if(F(oe))return e2(e,oe.getNode(!h));let he=S(oe);const Se=Xc(o);if(he)he=zd(h,he);else return Se?w.some(o):w.none();if(F(he))return wg(n,e,he.getNode(!h),h,!1);const Be=S(he);return Be&&F(Be)&&Gf(he,Be)?wg(n,e,Be.getNode(!h),h,!1):Se?yS(e,he.toRange(),!1):w.none()},p9=(e,n,o,i,c,f)=>{const h=Jp(n,e.getBody(),o),_=ds(h.getClientRects()),S=n===s2.Down,F=e.getBody();if(!_)return w.none();if(rS(e)){const st=S?hn.fromRangeEnd(o):hn.fromRangeStart(o);return(S?SK:wK)(F,st).orThunk(()=>w.from(st)).map(Bt=>Bt.toRange())}const he=(S?IR:MR)(F,xS(1),h),Se=G(he,f9(1)),Be=_.left,it=LR(Se,Be);if(it&&f(it.node)){const st=Math.abs(Be-it.left),Vt=Math.abs(Be-it.right);return wg(n,e,it.node,st<Vt,!1)}let rt;if(i(h)?rt=h.getNode():c(h)?rt=h.getNode(!0):rt=gm(o),rt){const st=BR(n,F,xS(1),rt);let Vt=LR(G(st,f9(1)),Be);if(Vt||(Vt=ds(G(st,f9(0))),Vt))return yS(e,Vt.position.toRange(),!1)}return Se.length===0?r2(e,S).filter(S?c:i).map(st=>nS(e,st.toRange(),!1)):w.none()},r2=(e,n)=>{const o=e.selection.getRng(),i=n?hn.fromRangeEnd(o):hn.fromRangeStart(o),c=t_(i.container(),e.getBody());if(n){const f=v4(c,i);return tt(f.positions)}else{const f=o2(c,i);return $e(f.positions)}},y4=(e,n,o)=>r2(e,n).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),C4=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},CS=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},_S=(e,n,o)=>fS(n,o).map(i=>(C4(e,i),o)),g9=(e,n,o)=>{const i=hn.fromRangeStart(e);if(e.collapsed)return i;{const c=hn.fromRangeEnd(e);return o?Al(n,c).getOr(c):cl(n,i).getOr(i)}},OK=(e,n,o)=>{const i=e.getBody(),c=g9(e.selection.getRng(),i,o),f=z(D0,e);return CK(o,f,i,c).bind(_=>_S(e,n,_))},LK=(e,n,o)=>{const i=V(Nt(yt.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),c=G(i,e),f=G(o,e);I(et(c,f),z(CS,!1)),I(et(f,c),z(CS,!0))},a2=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=hn.fromRangeStart(e.selection.getRng());hn.isTextPosition(i)&&!tO(i)&&(C4(e,T3(o,i)),n.set(null))}},ES=(e,n,o,i)=>{if(n.selection.isCollapsed()){const c=G(i,e);I(c,f=>{const h=hn.fromRangeStart(n.selection.getRng());Yi(e,n.getBody(),h).bind(_=>_S(n,o,_))})}},wS=(e,n,o)=>Em(e)?OK(e,n,o).isSome():!1,_4=(e,n,o)=>Em(n)?Fa(e,n):!1,PR=e=>{const n=zn(null),o=z(D0,e);return e.on("NodeChange",i=>{Em(e)&&(LK(o,e.dom,i.parents),a2(e,n),ES(o,e,n,i.parents))}),n},SS=z(_4,!0),$R=z(_4,!1),l6=(e,n,o)=>{if(Em(e)){const i=r2(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?hn.fromRangeEnd(c):hn.fromRangeStart(c)});return Yi(z(D0,e),e.getBody(),i).exists(c=>{const f=rp(c);return fS(o,f).exists(h=>(C4(e,h),!0))})}else return!1},DK=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},HR=e=>Tt(Bi(e),Pd(e),(n,o)=>{const i=zd(!0,n),c=zd(!1,o);return cl(e,i).forall(f=>f.isEqual(c))}).getOr(!0),zR=(e,n)=>o=>fS(n,o).map(i=>()=>C4(e,i)),UR=(e,n,o,i)=>{const c=e.getBody(),f=z(D0,e);e.undoManager.ignore(()=>{e.selection.setRng(DK(o,i)),yv(e),Yi(f,c,hn.fromRangeStart(e.selection.getRng())).map(r6).bind(zR(e,n)).each(j)}),e.nodeChanged()},NK=(e,n)=>{const o=Zf(n,e);return o||e},RK=(e,n,o,i)=>{const c=NK(e.getBody(),i.container()),f=z(D0,e),h=Yi(f,c,i);return h.bind(S=>o?S.fold(L(w.some(r6(S))),w.none,L(w.some(rp(S))),w.none):S.fold(w.none,L(w.some(rp(S))),w.none,L(w.some(r6(S))))).map(zR(e,n)).getOrThunk(()=>{const S=Tu(o,c,i),F=S.bind(oe=>Yi(f,c,oe));return Tt(h,F,()=>pg(f,c,i).bind(oe=>HR(oe)?w.some(()=>{Y1(e,o,yt.fromDom(oe))}):w.none())).getOrThunk(()=>F.bind(()=>S.map(oe=>()=>{o?UR(e,n,i,oe):UR(e,n,oe,i)})))})},c6=(e,n,o)=>{if(e.selection.isCollapsed()&&Em(e)){const i=hn.fromRangeStart(e.selection.getRng());return RK(e,n,o,i)}return w.none()},MK=e=>za(e)>1,TS=(e,n)=>{const o=yt.fromDom(e.getBody()),i=yt.fromDom(e.selection.getStart()),c=fg(i,o);return Pe(c,n).fold(L(c),f=>c.slice(0,f))},IK=e=>za(e)===1,BK=e=>TS(e,n=>e.schema.isBlock(Fs(n))||MK(n)),FK=e=>TS(e,n=>e.schema.isBlock(Fs(n))),VR=(e,n)=>{const o=z(MO,e);return nt(n,i=>o(i)?[i.dom]:[])},WR=e=>{const n=FK(e);return VR(e,n)},PK=(e,n,o,i)=>{const c=VR(n,i);if(c.length===0)Y1(n,e,o);else{const f=RO(o.dom,c);n.selection.setRng(f.toRange())}},$K=(e,n)=>{const o=G(BK(e),IK);return tt(o).bind(i=>{const c=hn.fromRangeStart(e.selection.getRng());return sO(n,c,i.dom)&&!ns(i)?w.some(()=>PK(n,e,i,o)):w.none()})},HK=(e,n)=>{const o=n.parentElement;return Qr(n)&&!ht(o)&&e.dom.isEmpty(o)},zK=e=>ns(yt.fromDom(e)),KR=(e,n)=>{const o=e.selection.getStart(),i=HK(e,o)||zK(o)?RO(o,n):RH(e.selection.getRng(),n);e.selection.setRng(i.toRange())},UK=(e,n)=>{const o=et(n,WR(e));o.length>0&&KR(e,o)},AS=e=>Gn(e.startContainer),VK=e=>e.startOffset===0&&AS(e),m9=(e,n)=>{const o=n.startContainer.parentElement;return!ht(o)&&MO(e,yt.fromDom(o))},Zl=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ht(n)&&!ht(o)&&n.isEqualNode(o)},WK=e=>{const n=e.endContainer;return e.endOffset===(Gn(n)?n.length:n.childNodes.length)},h9=e=>Zl(e)&&WK(e),i2=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),jR=e=>h9(e)||i2(e),dd=e=>{const n=e.selection.getRng();return VK(n)&&m9(e,n)&&jR(n)},l2=e=>{if(dd(e)){const n=WR(e);return w.some(()=>{yv(e),UK(e,n)})}else return w.none()},b9=(e,n)=>e.selection.isCollapsed()?$K(e,n):l2(e),KK=(e,n)=>En(e,o=>Gi(o.dom),o=>n.isBlock(Fs(o))),ZR=e=>KK(yt.fromDom(e.selection.getStart()),e.schema),jK=e=>{const n=e.selection.getRng();return n.collapsed&&(AS(n)||e.dom.isEmpty(n.startContainer))&&!ZR(e)},E4=e=>(jK(e)&&KR(e,[]),!0),d6=(e,n,o)=>s(o)?w.some(()=>{e._selectionOverrides.hideFakeCaret(),Y1(e,n,yt.fromDom(o))}):w.none(),kS=(e,n)=>{const o=n?pv:gv,c=Jp(n?1:-1,e.getBody(),e.selection.getRng());return o(c)?d6(e,n,c.getNode(!n)):w.from(zd(n,c)).filter(f=>o(f)&&Gf(c,f)).bind(f=>d6(e,n,f.getNode(!n)))},ZK=(e,n)=>{const o=e.selection.getNode();return Zc(o)?d6(e,n,o):w.none()},OS=(e,n)=>e.selection.isCollapsed()?kS(e,n):ZK(e,n),GR=e=>_d(e,n=>ni(n.dom)||Pr(n.dom)).exists(n=>ni(n.dom)),Ru=e=>Tr(e??"").getOr(0),v9=(e,n)=>{const o=e||iC(n)?"margin":"padding",i=Va(n,"direction")==="rtl"?"-right":"-left";return o+i},GK=(e,n,o,i,c,f)=>{const h=v9(o,yt.fromDom(f)),_=Ru(e.getStyle(f,h));if(n==="outdent"){const S=Math.max(0,_-i);e.setStyle(f,h,S?S+c:"")}else{const S=_+i+c;e.setStyle(f,h,S)}},x9=(e,n)=>ot(n,o=>{const i=v9(b3(e),o),c=tc(o,i).map(Ru).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),y9=e=>{const n=XR(e);return!e.mode.isReadOnly()&&(n.length>1||x9(e,n))},YR=e=>!e.mode.isReadOnly()&&cW(e),LS=e=>Mp(e)||Ip(e),qR=e=>si(e).exists(LS),XR=e=>G(Pl(e.selection.getSelectedBlocks()),n=>!LS(n)&&!qR(n)&&GR(n)),QR=(e,n)=>{var o,i;if(e.mode.isReadOnly())return;const{dom:c}=e,f=DC(e),h=(i=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",_=Ru(f),S=b3(e);I(XR(e),F=>{GK(c,n,S,_,h,F.dom)}),n==="indent"?qN(e):zw(e)},YK=e=>QR(e,"indent"),JR=e=>QR(e,"outdent"),eM=e=>{if(e.selection.isCollapsed()&&y9(e)){const n=e.dom,o=e.selection.getRng(),i=hn.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&Y7(yt.fromDom(c),i,e.schema))return w.some(()=>JR(e))}return w.none()},tM=(e,n)=>{const o=dx(e.selection.getRng());return u_(o)?w.some(()=>Y1(e,n,yt.fromDom(e.selection.getNode()))):w.none()},DS=(e,n)=>e.selection.isCollapsed()?w.none():tM(e,n),nM=(e,n,o)=>mt([eM,lS,oS,(i,c)=>c6(i,n,c),o6,ax,dS,OS,tS,b9,cS,DS],i=>i(e,o)).filter(i=>e.selection.isEditable()),NS=(e,n)=>{nM(e,n,!1).fold(()=>{e.selection.isEditable()&&(yv(e),eE(e))},j),qw(e)&&l4(e.dom,e.getBody())},oM=(e,n)=>{nM(e,n,!0).fold(()=>{e.selection.isEditable()&&oO(e)},j),qw(e)&&l4(e.dom,e.getBody())},RS=(e,n)=>{e.addCommand("delete",()=>{NS(e,n)}),e.addCommand("forwardDelete",()=>{oM(e,n)})},C9=5,sM=400,_9=e=>e.touches===void 0||e.touches.length!==1?w.none():w.some(e.touches[0]),rM=(e,n)=>{const o=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return o>C9||i>C9},aM=e=>{const n=hs(),o=zn(!1),i=Qn(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},sM);e.on("touchstart",c=>{_9(c).each(f=>{i.cancel();const h={x:f.clientX,y:f.clientY,target:c.target};i.throttle(c),o.set(!1),n.set(h)})},!0),e.on("touchmove",c=>{i.cancel(),_9(c).each(f=>{n.on(h=>{rM(f,h)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},u6=(e,n)=>vn(e,n.nodeName),iM=(e,n)=>Gn(n)?!0:Vo(n)?!u6(e.getBlockElements(),n)&&!td(n)&&!ju(e,n)&&!Gc(n)&&!$2(n):!1,lM=(e,n,o)=>U(Mk(yt.fromDom(o),yt.fromDom(n)),i=>u6(e,i.dom)),cM=(e,n)=>{if(Gn(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||u6(e,n.nextSibling)||Gc(n.nextSibling)}return!1},MS=e=>e.dom.create(Mr(e),Oc(e)),qK=e=>{const n=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),f=o.getStart(),h=e.getBody();let _,S,F=null;const oe=Mr(e);if(!f||!Vo(f))return;const he=h.nodeName.toLowerCase();if(!i.isValidChild(he,oe.toLowerCase())||lM(c,h,f))return;if(h.firstChild===h.lastChild&&Qr(h.firstChild)){_=MS(e),_.appendChild(O1().dom),h.replaceChild(_,h.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let Se=h.firstChild;for(;Se;)if(Vo(Se)&&Jg(i,Se),iM(i,Se)){if(cM(c,Se)){S=Se,Se=Se.nextSibling,n.remove(S);continue}if(!_){if(!F&&e.hasFocus()&&(F=bR(e.selection.getRng(),()=>document.createElement("span"))),!Se.parentNode){Se=null;break}_=MS(e),h.insertBefore(_,Se)}S=Se,Se=Se.nextSibling,_.appendChild(S)}else _=null,Se=Se.nextSibling;F&&(e.selection.setRng(vR(F)),e.nodeChanged())},f6=(e,n,o)=>{const i=yt.fromDom(MS(e)),c=O1();Lr(i,c),o(n,i);const f=document.createRange();return f.setStartBefore(c.dom),f.setEndBefore(c.dom),f},XK=e=>{e.on("NodeChange",()=>qK(e))},w4=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,QK=(e,n,o)=>function(i){const c=arguments,f=c[c.length-2],h=f>0?n.charAt(f-1):"";if(h==='"')return i;if(h===">"){const _=n.lastIndexOf("<",f);if(_!==-1&&n.substring(_,f).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},JK=(e,n,o)=>{let i=n.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(n[i],QK(e,c,y0(e)));o.content=c}},ej=(e,n)=>ot(e,o=>{const i=n.match(o);return i!==null&&i[0].length===n.length}),tj=e=>{const n="contenteditable",o=" "+Kn.trim(Ab(e))+" ",i=" "+Kn.trim(y0(e))+" ",c=w4(o),f=w4(i),h=zC(e);h.length>0&&e.on("BeforeSetContent",_=>{JK(e,h,_)}),e.parser.addAttributeFilter("class",_=>{let S=_.length;for(;S--;){const F=_[S];c(F)?F.attr(n,"true"):f(F)&&F.attr(n,"false")}}),e.serializer.addAttributeFilter(n,_=>{let S=_.length;for(;S--;){const F=_[S];if(!c(F)&&!f(F))continue;const oe=F.attr("data-mce-content");h.length>0&&oe?ej(h,oe)?(F.name="#text",F.type=3,F.raw=!0,F.value=oe):F.remove():F.attr(n,null)}})},dM=e=>Ma(yt.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),IS=(e,n)=>{n.hasAttribute("data-mce-caret")&&(o0(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},nj=(e,n)=>{const o=dM(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),IS(e,o);return}Fp(o)&&(IS(e,o),e.undoManager.add())}},oj=e=>{e.on("keyup compositionstart",z(nj,e))},uM=Pr,sj=(e,n,o)=>FR(n,e,o,$m,Hm,uM),rj=(e,n,o)=>p9(n,e,o,f=>$m(f)||Rk(f),f=>Hm(f)||$_(f),uM),fM=e=>{const n=e.dom.create(Mr(e));return n.innerHTML='<br data-mce-bogus="1">',n},aj=(e,n,o)=>{const i=ll(e.getBody()),c=z(eg,n===1?i.next:i.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!c(hn.fromRangeStart(o))){const _=yt.fromDom(fM(e));n===1?yd(yt.fromDom(f),_):Qa(yt.fromDom(f),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},ij=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return sj(o,e,i).orThunk(()=>(aj(e,o,i),w.none()))},lj=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return rj(o,e,i).orThunk(()=>(aj(e,o,i),w.none()))},cj=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return xv(o)?!n:n},pM=(e,n)=>ij(e,cj(e.selection,n)).exists(o=>(Sg(e,o),!0)),gM=(e,n)=>lj(e,n).exists(o=>(Sg(e,o),!0)),mM=(e,n)=>y4(e,n,n?Hm:$m),E9=(e,n)=>sS(e,!n).map(o=>{const i=o.toRange(),c=e.selection.getRng();return n?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(Sg(e,o),!0)),hM=e=>D(["figcaption"],Fs(e)),dj=(e,n,o)=>{const i=z(Ws,n);return _d(yt.fromDom(e.container()),c=>o.isBlock(Fs(c)),i).filter(hM)},uj=(e,n,o)=>n?d9(e.dom,o):OR(e.dom,o),fj=(e,n)=>{const o=yt.fromDom(e.getBody()),i=hn.fromRangeStart(e.selection.getRng());return dj(i,o,e.schema).exists(()=>{if(uj(o,n,i)){const f=f6(e,o,n?Lr:su);return e.selection.setRng(f),!0}else return!1})},bM=(e,n)=>e.selection.isCollapsed()?fj(e,n):!1,pj=(e,n,o)=>{const i=e.selection.getRng(),c=hn.fromRangeStart(i);return e.getBody().firstChild===n&&OR(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},gj=(e,n)=>{const o=e.selection.getRng(),i=hn.fromRangeStart(o);return e.getBody().lastChild===n&&d9(n,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},mj=(e,n)=>n?w.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>gj(e,o)).getOr(!1):w.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>w.from(e.dom.getParent(o,"details")).map(i=>pj(e,i,o))).getOr(!1),vM=(e,n)=>mj(e,n),xM={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},hj=e=>V(e,n=>({...xM,...n})),yM=e=>V(e,n=>({...xM,...n})),CM=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,bj=(e,n)=>nt(hj(e),o=>CM(o,n)?[o]:[]),vj=(e,n)=>nt(yM(e),o=>CM(o,n)?[o]:[]),ys=(e,...n)=>()=>e.apply(null,n),p6=(e,n)=>we(bj(e,n),o=>o.action()),_M=(e,n)=>mt(vj(e,n),o=>o.action()),BS=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return FR(e,o,i,pv,gv,Zc).exists(c=>(Sg(e,c),!0))},w9=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return p9(e,o,i,pv,gv,Zc).exists(c=>(Sg(e,c),!0))},EM=(e,n)=>y4(e,n,n?gv:pv),xj=(e,n)=>yj(e,n,ee),yj=(e,n,o)=>nt(hr(e),i=>Ml(i,n)?o(i)?[i]:[]:yj(i,n,o)),Cj=(e,n,o=K)=>{if(o(n))return w.none();if(D(e,Fs(n)))return w.some(n);const i=c=>Ml(c,"table")||o(c);return Vu(n,e.join(","),i)},_j=(e,n)=>Cj(["td","th"],e,n),Ej=e=>xj(e,"th,td"),S4=(e,n)=>$l(e,"table",n),wM=qo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),g6={...wM,none:e=>wM.none(e)},S9=(e,n,o,i,c=ee)=>{const f=i===1;if(!f&&o<=0)return g6.first(e[0]);if(f&&o>=e.length-1)return g6.last(e[e.length-1]);{const h=o+i,_=e[h];return c(_)?g6.middle(n,_):S9(e,n,h,i,c)}},Tg=(e,n)=>S4(e,n).bind(o=>{const i=Ej(o);return Pe(i,f=>Ws(e,f)).map(f=>({index:f,all:i}))}),Bc=(e,n,o)=>Tg(e,o).fold(()=>g6.none(e),c=>S9(c.all,e,c.index,1,n)),SM=(e,n,o)=>Tg(e,o).fold(()=>g6.none(),c=>S9(c.all,e,c.index,-1,n));var m6=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rh=()=>{const e=F=>yt.fromDom(F.dom.cloneNode(!1)),n=F=>yi(F).dom,o=F=>da(F)?Fs(F)==="body"?!0:D(m6,Fs(F)):!1,i=F=>da(F)?D(["br","img","hr","input"],Fs(F)):!1,c=F=>da(F)&&Ja(F,"contenteditable")==="false",f=(F,oe)=>F.dom.compareDocumentPosition(oe.dom),h=(F,oe)=>{const he=ru(F);Aa(oe,he)},_=F=>{const oe=Fs(F);return D(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],oe)},S=F=>da(F)?pa(F,"lang"):w.none();return{up:L({selector:Vu,closest:$l,predicate:Mi,all:Jl}),down:L({selector:Nt,predicate:Ie}),styles:L({get:Va,getRaw:tc,set:iu,remove:Sf}),attrs:L({get:Ja,set:Mo,remove:er,copyTo:h}),insert:L({before:Qa,after:yd,afterAll:Sh,append:Lr,appendAll:Bl,prepend:su,wrap:nl}),remove:L({unwrap:Fl,remove:Ar}),create:L({nu:yt.fromTag,clone:e,text:yt.fromText}),query:L({comparePosition:f,prevSibling:Qs,nextSibling:xd}),property:L({children:hr,name:Fs,parent:si,document:n,isText:Ha,isComment:Ra,isElement:da,isSpecial:_,getLanguage:S,getText:pr,setText:mc,isBoundary:o,isEmptyTag:i,isNonEditable:c}),eq:Ws,is:_f}};const pf=(e,n)=>({element:e,offset:n}),T4=(e,n)=>{if(e.property().isText(n))return pf(n,e.property().getText(n).length);{const o=e.property().children(n);return o.length>0?T4(e,o[o.length-1]):pf(n,o.length)}},T9=(e,n,o)=>{const i=e.property().children(n);return i.length>0&&o<i.length?T9(e,i[o],0):i.length>0&&e.property().isElement(n)&&i.length===o?T4(e,i[i.length-1]):pf(n,o)},FS=T9,TM=rh(),AM=(e,n)=>FS(TM,e,n),kM=J("image"),wj=e=>{const n=e;return w.from(n[kM])},OM=(e,n)=>{const o=e;o[kM]=n},A9=J("event"),LM=e=>{const n=e;return w.from(n[A9])},k9=e=>n=>{const o=n;o[A9]=e},QQ=(e,n)=>k9(n)(e),Sj=k9(0),JQ=k9(2),gf=k9(1),Tj=(e=>n=>{const o=n;return w.from(o[A9]).exists(i=>i===e)})(0),c2=()=>Object.freeze({length:0,item:e=>null}),O9=J("mode"),Aj=e=>{const n=e;return w.from(n[O9])},d2=e=>n=>{const o=n;o[O9]=e},L9=(e,n)=>d2(n)(e),PS=d2(0),D9=d2(2),kj=d2(1),$S=e=>n=>{const o=n;return w.from(o[O9]).exists(i=>i===e)},u2=$S(0),HS=$S(1),zS=(e,n)=>({...n,get length(){return n.length},add:(o,i)=>{if(u2(e))if(lt(o)){if(!Ls(i))return n.add(o,i)}else return n.add(o);return null},remove:o=>{u2(e)&&n.remove(o)},clear:()=>{u2(e)&&n.clear()}}),Oj=["none","copy","link","move"],Lj=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],US=()=>{const e=new window.DataTransfer;let n="move",o="all";const i={get dropEffect(){return n},set dropEffect(c){D(Oj,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Tj(i)&&D(Lj,c)&&(o=c)},get items(){return zS(i,e.items)},get files(){return HS(i)?c2():e.files},get types(){return e.types},setDragImage:(c,f,h)=>{u2(i)&&(OM(i,{image:c,x:f,y:h}),e.setDragImage(c,f,h))},getData:c=>HS(i)?"":e.getData(c),setData:(c,f)=>{u2(i)&&e.setData(c,f)},clearData:c=>{u2(i)&&e.clearData(c)}};return PS(i),i},Dj=e=>{const n=US(),o=Aj(e);return D9(e),Sj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,wj(e).each(i=>n.setDragImage(i.image,i.x,i.y)),I(e.types,i=>{i!=="Files"&&n.setData(i,e.getData(i))}),I(e.files,i=>n.items.add(i)),LM(e).each(i=>{QQ(n,i)}),o.each(i=>{L9(e,i),L9(n,i)}),n},Nj=e=>{const n=e.getData("text/html");return n===""?w.none():w.some(n)},DM=(e,n)=>e.setData("text/html",n),Rj=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Mj=(e,n)=>nt(n,o=>{const i=Rj(La(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),NM=(e,n,o)=>Le(e,(i,c)=>i.fold(()=>w.some(c),f=>{const h=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),_=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return w.some(_<h?c:f)}),w.none()),RM=(e,n,o,i,c)=>{const f=Nt(yt.fromDom(o),"td,th,caption").map(_=>_.dom),h=G(Mj(e,f),_=>n(_,c));return NM(h,i,c).map(_=>_.cell)},Ag=e=>e.bottom,VS=e=>e.top,Ij=(e,n)=>e.y<n,Bj=(e,n)=>e.y>n,Fj=z(RM,Ag,Ij),WS=z(RM,VS,Bj),KS=(e,n)=>$e(n.getClientRects()).bind(o=>Fj(e,o.left,o.top)).bind(o=>b4(EK(o),n)),MM=(e,n)=>tt(n.getClientRects()).bind(o=>WS(e,o.left,o.top)).bind(o=>b4(_K(o),n)),IM=(e,n,o)=>o.breakAt.exists(i=>e(n,i).breakAt.isSome()),BM=e=>e.breakType===ap.Wrap&&e.positions.length===0,Pj=e=>e.breakType===ap.Br&&e.positions.length===1,A4=(e,n,o)=>{const i=e(n,o);return BM(i)||!Qr(o.getNode())&&Pj(i)?!IM(e,n,i):i.breakAt.isNone()},N9=z(A4,o2),FM=z(A4,v4),PM=(e,n,o)=>{const i=hn.fromRangeStart(n);return sg(!e,o).exists(c=>c.isEqual(i))},$M=(e,n,o,i)=>{const c=e.selection.getRng(),f=n?1:-1;return km()&&PM(n,c,o)?(wg(f,e,o,!n,!1).each(h=>{Sg(e,h)}),!0):!1},HM=(e,n,o)=>KS(n,o).orThunk(()=>$e(o.getClientRects()).bind(i=>gS(mS(e,hn.before(n)),i.left))).getOr(hn.before(n)),R9=(e,n,o)=>MM(n,o).orThunk(()=>$e(o.getClientRects()).bind(i=>gS(kR(e,hn.after(n)),i.left))).getOr(hn.after(n)),M9=(e,n)=>{const o=n.getNode(e);return pu(o)?w.some(o):w.none()},h6=(e,n,o)=>{n.undoManager.transact(()=>{const i=e?yd:Qa,c=f6(n,yt.fromDom(o),i);Sg(n,c)})},zM=(e,n,o)=>{const i=M9(!!n,o),c=n===!1;i.fold(()=>Sg(e,o.toRange()),f=>sg(c,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>Sg(e,o.toRange()),h=>h6(n,e,f)))},UM=(e,n,o,i)=>{const c=e.selection.getRng(),f=hn.fromRangeStart(c),h=e.getBody();if(!n&&N9(i,f)){const _=HM(h,o,f);return zM(e,n,_),!0}else if(n&&FM(i,f)){const _=R9(h,o,f);return zM(e,n,_),!0}else return!1},VM=(e,n,o)=>w.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>w.from(e.dom.getParent(i,"table")).map(c=>o(e,n,c,i))).getOr(!1),WM=(e,n)=>VM(e,n,$M),I9=(e,n)=>VM(e,n,UM),$j=e=>{const n=bc.exact(e,0,e,0);return ol(n)},KM=e=>B9(e)||yl(e).some(n=>xl(n)&&B9(n)),Hj=(e,n,o)=>o.fold(w.none,w.none,(i,c)=>Rh(c).map(f=>$j(f)),i=>e.mode.isReadOnly()||!zj(i)||!KM(i)?w.none():(e.execCommand("mceTableInsertRowAfter"),jM(e,n,i))),zj=e=>_d(e,nu("table")).exists(Ed),jM=(e,n,o)=>Hj(e,n,Bc(o,B9)),Uj=(e,n,o)=>Hj(e,n,SM(o,B9)),B9=e=>Ed(e)||Fo(e,Vj),Vj=e=>xl(e)&&Ed(e),ZM=(e,n)=>{const o=["table","li","dl"],i=yt.fromDom(e.getBody()),c=_=>{const S=Fs(_);return Ws(_,i)||D(o,S)},f=e.selection.getRng(),h=yt.fromDom(n?f.endContainer:f.startContainer);return _j(h,c).map(_=>(S4(_,c).each(oe=>{e.model.table.clearSelectedCells(oe.dom)}),e.selection.collapse(!n),(n?jM:Uj)(e,c,_).each(oe=>{e.selection.setRng(oe)}),!0)).getOr(!1)},Wj=(e,n,o)=>{const i=fr.os.isMacOS()||fr.os.isiOS();p6([{keyCode:Co.RIGHT,action:ys(pM,e,!0)},{keyCode:Co.LEFT,action:ys(pM,e,!1)},{keyCode:Co.UP,action:ys(gM,e,!1)},{keyCode:Co.DOWN,action:ys(gM,e,!0)},...i?[{keyCode:Co.UP,action:ys(E9,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Co.DOWN,action:ys(E9,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Co.RIGHT,action:ys(WM,e,!0)},{keyCode:Co.LEFT,action:ys(WM,e,!1)},{keyCode:Co.UP,action:ys(I9,e,!1)},{keyCode:Co.DOWN,action:ys(I9,e,!0)},{keyCode:Co.UP,action:ys(I9,e,!1)},{keyCode:Co.UP,action:ys(vM,e,!1)},{keyCode:Co.DOWN,action:ys(vM,e,!0)},{keyCode:Co.RIGHT,action:ys(BS,e,!0)},{keyCode:Co.LEFT,action:ys(BS,e,!1)},{keyCode:Co.UP,action:ys(w9,e,!1)},{keyCode:Co.DOWN,action:ys(w9,e,!0)},{keyCode:Co.RIGHT,action:ys(wS,e,n,!0)},{keyCode:Co.LEFT,action:ys(wS,e,n,!1)},{keyCode:Co.RIGHT,ctrlKey:!i,altKey:i,action:ys(SS,e,n)},{keyCode:Co.LEFT,ctrlKey:!i,altKey:i,action:ys($R,e,n)},{keyCode:Co.UP,action:ys(bM,e,!1)},{keyCode:Co.DOWN,action:ys(bM,e,!0)}],o).each(c=>{o.preventDefault()})},jS=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Wj(e,n,o)})},n1=(e,n)=>({container:e,offset:n}),o1=kr.DOM,b6=e=>n=>e===n?-1:0,ZS=e=>n=>e.isBlock(n)||D(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",F9=(e,n,o)=>{if(Gn(e)&&n>=0)return w.some(n1(e,n));{const i=Xu(o1);return w.from(i.backwards(e,n,b6(e),o)).map(c=>n1(c.container,c.container.data.length))}},GS=(e,n,o)=>{if(Gn(e)&&n>=e.length)return w.some(n1(e,n));{const i=Xu(o1);return w.from(i.forwards(e,n,b6(e),o)).map(c=>n1(c.container,0))}},ip=(e,n,o)=>{if(!Gn(e))return w.none();const i=e.data;if(n>=0&&n<=i.length)return w.some(n1(e,n));{const c=Xu(o1);return w.from(c.backwards(e,n,b6(e),o)).bind(f=>{const h=f.container.data;return ip(f.container,n+h.length,o)})}},YS=(e,n,o)=>{if(!Gn(e))return w.none();const i=e.data;if(n<=i.length)return w.some(n1(e,n));{const c=Xu(o1);return w.from(c.forwards(e,n,b6(e),o)).bind(f=>YS(f.container,n-i.length,o))}},ud=(e,n,o,i,c)=>{const f=Xu(e,ZS(e));return w.from(f.backwards(n,o,i,c))},f2=e=>e.collapsed&&Gn(e.startContainer),GM=e=>Ac(e.toString().replace(/\u00A0/g," ")),P9=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,Kj=(e,n)=>e.substring(n.length),YM=(e,n,o,i=!1)=>{let c;const f=o.charAt(0);for(c=n-1;c>=0;c--){const h=e.charAt(c);if(!i&&P9(h))return w.none();if(f===h&&bs(e,o,c,n))break}return w.some(c)},qS=(e,n,o,i=!1)=>{if(!f2(n))return w.none();const c={text:"",offset:0},f=(_,S,F)=>(c.text=F+c.text,c.offset+=S,YM(c.text,c.offset,o,i).getOr(S)),h=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return ud(e,n.startContainer,n.startOffset,f,h).bind(_=>{const S=n.cloneRange();if(S.setStart(_.container,_.offset),S.setEnd(n.endContainer,n.endOffset),S.collapsed)return w.none();const F=GM(S);return F.lastIndexOf(o)!==0?w.none():w.some({text:Kj(F,o),range:S,trigger:o})})},jj=e=>e.nodeType===T2,Zj=e=>e.nodeType===Ql,qM=e=>{if(jj(e))return n1(e,e.data.length);{const n=e.childNodes;return n.length>0?qM(n[n.length-1]):n1(e,n.length)}},XM=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?XM(o[n],0):o.length>0&&Zj(e)&&o.length===n?qM(o[o.length-1]):n1(e,n)},QM=(e,n)=>{var o;const i=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return ud(e,n.container,n.offset,(c,f)=>f===0?-1:f,i).filter(c=>{const f=c.container.data.charAt(c.offset-1);return!P9(f)}).isSome()},Gj=e=>n=>{const o=XM(n.startContainer,n.startOffset);return!QM(e,o)},Yj=(e,n,o)=>mt(o.triggers,i=>qS(e,n,i)),k4=(e,n)=>{const o=n(),i=e.selection.getRng();return Yj(e.dom,i,o).bind(c=>v6(e,n,c))},v6=(e,n,o,i={})=>{var c;const f=n(),_=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",S=G(f.lookupByTrigger(o.trigger),oe=>o.text.length>=oe.minChars&&oe.matches.getOrThunk(()=>Gj(e.dom))(o.range,_,o.text));if(S.length===0)return w.none();const F=Promise.all(V(S,oe=>oe.fetch(o.text,oe.maxResults,i).then(Se=>({matchText:o.text,items:Se,columns:oe.columns,onAction:oe.onAction,highlightOn:oe.highlightOn}))));return w.some({lookupData:F,context:o})};var mf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(mf||(mf={}));const $9=(e,n,o)=>e.stype===mf.Error?n(e.serror):o(e.svalue),XS=e=>{const n=[],o=[];return I(e,i=>{$9(i,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},qj=(e,n)=>e.stype===mf.Error?{stype:mf.Error,serror:n(e.serror)}:e,Xj=(e,n)=>e.stype===mf.Value?{stype:mf.Value,svalue:n(e.svalue)}:e,Qj=(e,n)=>e.stype===mf.Value?n(e.svalue):e,JM=(e,n)=>e.stype===mf.Error?n(e.serror):e,x6=e=>({stype:mf.Value,svalue:e}),QS=e=>({stype:mf.Error,serror:e}),Gl={fromResult:e=>e.fold(QS,x6),toResult:e=>$9(e,fe.error,fe.value),svalue:x6,partition:XS,serror:QS,bind:Qj,bindError:JM,map:Xj,mapError:qj,fold:$9},eI=e=>Xn(e)&&Rt(e).length>100?" removed due to size":JSON.stringify(e,null,2),Jj=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:L("... (only showing first ten failures)")}]):e;return V(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},tI=(e,n)=>Gl.serror([{path:e,getErrorInfo:n}]),nI=(e,n,o)=>tI(e,()=>'Could not find valid *required* value for "'+n+'" in '+eI(o)),eZ=(e,n)=>tI(e,L(n)),oI=e=>{const n=(i,c)=>Gl.bindError(e(c),f=>eZ(i,f)),o=L("val");return{extract:n,toString:o}},sI=oI(Gl.svalue),p2=L(sI),eT=(e,n)=>oI(o=>{const i=typeof o;return e(o)?Gl.svalue(o):Gl.serror(`Expected type: ${n} but got: ${i}`)}),rI=eT(B,"number"),H9=eT(lt,"string"),tT=eT(b,"function"),z9=()=>({tag:"required",process:{}}),aI=e=>({tag:"defaultedThunk",process:e}),iI=e=>aI(L(e)),nT=()=>({tag:"option",process:{}}),tZ=(e,n,o,i)=>({tag:"field",key:e,newKey:n,presence:o,prop:i}),lI=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},nZ=(e,n)=>Gl.svalue(ft(n,gt.apply(void 0,e))),U9=e=>p(Gl.serror,ut)(e),V9={consolidateObj:(e,n)=>{const o=Gl.partition(e);return o.errors.length>0?U9(o.errors):nZ(o.values,n)},consolidateArr:e=>{const n=Gl.partition(e);return n.errors.length>0?U9(n.errors):Gl.svalue(n.values)}},oZ=(e,n,o,i)=>Mn(n,o).fold(()=>nI(e,o,n),i),W9=(e,n,o,i)=>{const c=Mn(e,n).getOrThunk(()=>o(e));return i(c)},cI=(e,n,o)=>o(Mn(e,n)),dI=(e,n,o,i)=>{const c=Mn(e,n).map(f=>f===!0?o(e):f);return i(c)},uI=(e,n,o,i,c)=>{const f=_=>c.extract(n.concat([i]),_),h=_=>_.fold(()=>Gl.svalue(w.none()),S=>{const F=c.extract(n.concat([i]),S);return Gl.map(F,w.some)});switch(e.tag){case"required":return oZ(n,o,i,f);case"defaultedThunk":return W9(o,i,e.process,f);case"option":return cI(o,i,h);case"defaultedOptionThunk":return dI(o,i,e.process,h);case"mergeWithThunk":return W9(o,i,L({}),_=>{const S=ft(e.process(o),_);return f(S)})}},sZ=(e,n,o)=>{const i={},c=[];for(const f of o)lI(f,(h,_,S,F)=>{const oe=uI(S,e,n,h,F);Gl.fold(oe,he=>{c.push(...he)},he=>{i[_]=he})},(h,_)=>{i[h]=_(n)});return c.length>0?Gl.serror(c):Gl.svalue(i)},fI=e=>({extract:(i,c)=>sZ(i,c,e),toString:()=>`obj{
`+V(e,c=>lI(c,(f,h,_,S)=>f+" -> "+S.toString(),(f,h)=>"state("+f+")")).join(`
`)+"}"}),rZ=e=>({extract:(i,c)=>{const f=V(c,(h,_)=>e.extract(i.concat(["["+_+"]"]),h));return V9.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),aZ=(e,n,o)=>{const i=n.extract([e],o);return Gl.mapError(i,c=>({input:o,errors:c}))},y6=(e,n,o)=>Gl.toResult(aZ(e,n,o)),pI=e=>`Errors: 
`+Jj(e.errors).join(`
`)+`

Input object: `+eI(e.input),O4=tZ,iZ=e=>O4(e,e,z9(),p2()),K9=(e,n)=>O4(e,e,z9(),n),gI=e=>K9(e,H9),mI=e=>K9(e,tT),hI=e=>O4(e,e,nT(),p2()),bI=(e,n)=>O4(e,e,nT(),n),vI=e=>bI(e,H9),lZ=e=>bI(e,tT),cZ=(e,n)=>O4(e,e,iI(n),p2()),xI=(e,n,o)=>O4(e,e,iI(n),o),yI=(e,n)=>xI(e,n,rI),oT=(e,n,o)=>xI(e,n,rZ(o)),dZ=gI("type"),CI=mI("fetch"),uZ=mI("onAction"),fZ=e=>cZ("columns",e),pZ=fI([dZ,gI("trigger"),yI("minChars",1),fZ(1),yI("maxResults",10),lZ("matches"),CI,uZ,oT("highlightOn",[],H9)]),gZ=e=>y6("Autocompleter",pZ,e),bi=()=>{const e={},n={},o={},i={},c={},f={},h={},_={},S={},F=(Be,it)=>(rt,st)=>{Be[rt.toLowerCase()]={...st,type:it}},oe=(Be,it)=>(rt,st)=>{Be[rt.toLowerCase()]={type:it,...st}},he=(Be,it)=>i[Be.toLowerCase()]=it,Se=(Be,it)=>h[Be.toLowerCase()]=it;return{addButton:F(e,"button"),addGroupToolbarButton:F(e,"grouptoolbarbutton"),addToggleButton:F(e,"togglebutton"),addMenuButton:F(e,"menubutton"),addSplitButton:F(e,"splitbutton"),addMenuItem:F(n,"menuitem"),addNestedMenuItem:F(n,"nestedmenuitem"),addToggleMenuItem:F(n,"togglemenuitem"),addAutocompleter:F(o,"autocompleter"),addContextMenu:F(c,"contextmenu"),addContextToolbar:F(f,"contexttoolbar"),addContextForm:oe(f,"contextform"),addSidebar:F(_,"sidebar"),addView:F(S,"views"),addIcon:he,addContext:Se,getAll:()=>({buttons:e,menuItems:n,icons:i,popups:o,contextMenus:c,contextToolbars:f,sidebars:_,views:S,contexts:h})}},mZ=e=>{const n=e.ui.registry.getAll().popups,o=kn(n,h=>gZ(h).fold(_=>{throw new Error(pI(_))},A)),i=St(bn(o,h=>h.trigger)),c=Tn(o);return{dataset:o,triggers:i,lookupByTrigger:h=>G(c,_=>_.trigger===h)}},hZ=(e,n)=>{const o=Qn(n.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},bZ=e=>{const n=hs(),o=zn(!1),i=n.isSet,c=()=>{i()&&(xC(e),o.set(!1),n.clear())},f=he=>{i()||n.set({trigger:he.trigger,matchLength:he.text.length})},h=Ur(()=>mZ(e)),_=he=>n.get().map(Se=>qS(e.dom,e.selection.getRng(),Se.trigger,!0).bind(Be=>v6(e,h,Be,he))).getOrThunk(()=>k4(e,h)),S=he=>{_(he).fold(c,Se=>{f(Se.context),Se.lookupData.then(Be=>{n.get().map(it=>{const rt=Se.context;it.trigger===rt.trigger&&(n.set({...it,matchLength:rt.text.length}),o.get()?(hb(e,{range:rt.range}),z8(e,{lookupData:Be})):(o.set(!0),hb(e,{range:rt.range}),vC(e,{lookupData:Be})))})})})},F=(he,Se)=>{const Be=he.compareBoundaryPoints(window.Range.START_TO_START,Se),it=he.compareBoundaryPoints(window.Range.END_TO_END,Se);return Be>=0&&it<=0},oe=()=>n.get().bind(({trigger:he})=>{const Se=e.selection.getRng();return qS(e.dom,Se,he,o.get()).filter(({range:Be})=>F(Se,Be)).map(({range:Be})=>Be)});e.addCommand("mceAutocompleterReload",(he,Se)=>{const Be=Xn(Se)?Se.fetchOptions:{};S(Be)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{oe().each(he=>{hb(e,{range:he})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>oe().isSome()),hZ(e,{cancelIfNecessary:c,load:S})},sT=$c().browser.isSafari(),rT=e=>L1(yt.fromDom(e)),L4=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},j9=(e,n)=>w.from(e.getParent(n.container(),"details")),_I=(e,n)=>j9(e,n).isSome(),xZ=(e,n)=>{const o=w.from(e.getParent(n.startContainer,"details")),i=w.from(e.getParent(n.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(f=>w.from(e.select("summary",f)[0]));return w.some({startSummary:c,startDetails:o,endDetails:i})}else return w.none()},yZ=(e,n)=>Bi(n).exists(o=>o.isEqual(e)),CZ=(e,n)=>Pd(n).exists(o=>Qr(o.getNode())&&Al(n,o).exists(i=>i.isEqual(e))||o.isEqual(e)),_Z=(e,n)=>n.startSummary.exists(o=>yZ(e,o)),EZ=(e,n)=>n.startSummary.exists(o=>CZ(e,o)),wZ=(e,n)=>n.startDetails.exists(o=>Al(o,e).forall(i=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),SZ=(e,n,o)=>o.startDetails.exists(i=>cl(e,n).forall(c=>!i.contains(c.container()))),EI=(e,n)=>{const o=n.getNode();Ls(o)||e.selection.setCursorLocation(o,n.offset())},wI=(e,n,o)=>{const i=e.dom.getParent(n.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Bi(c):Pd(c)).each(h=>EI(e,h))}else EI(e,n)},TZ=(e,n)=>{const o=S=>S.contains(e.startContainer),i=S=>S.contains(e.endContainer),c=n.startSummary.exists(o),f=n.startSummary.exists(i),h=n.startDetails.forall(S=>n.endDetails.forall(F=>S!==F));return(c||f)&&!(c&&f)||h},SI=(e,n,o)=>{const{dom:i,selection:c}=e,f=e.getBody();if(o==="character"){const h=hn.fromRangeStart(c.getRng()),_=i.getParent(h.container(),i.isBlock),S=j9(i,h),F=_&&i.isEmpty(_),oe=ht(_==null?void 0:_.previousSibling),he=ht(_==null?void 0:_.nextSibling);return F&&(n?he:oe)&&Tu(!n,f,h).exists(it=>_I(i,it)&&!zt(S,j9(i,it)))?!0:Tu(n,f,h).fold(K,Se=>{const Be=j9(i,Se);if(_I(i,Se)&&!zt(S,Be)){if(n||wI(e,Se,!1),_&&F){if(n&&oe)return!0;if(!n&&he)return!0;wI(e,Se,n),e.dom.remove(_)}return!0}else return!1})}else return!1},AZ=(e,n,o,i)=>{const f=e.selection.getRng(),h=hn.fromRangeStart(f),_=e.getBody();return i==="selection"?TZ(f,n):o?EZ(h,n)||SZ(_,h,n):_Z(h,n)||wZ(h,n)},TI=(e,n,o)=>xZ(e.dom,e.selection.getRng()).fold(()=>SI(e,n,o),i=>AZ(e,i,n,o)||SI(e,n,o)),AI=(e,n,o)=>{const i=e.selection,c=i.getNode(),f=i.getRng(),h=hn.fromRangeStart(f);return a8(c)?(o==="selection"&&L4(f,c)||sO(n,h,c)?rT(c):e.undoManager.transact(()=>{const _=i.getSel();let{anchorNode:S,anchorOffset:F,focusNode:oe,focusOffset:he}=_??{};const Se=()=>{s(S)&&s(F)&&s(oe)&&s(he)&&(_==null||_.setBaseAndExtent(S,F,oe,he))},Be=()=>{S=_==null?void 0:_.anchorNode,F=_==null?void 0:_.anchorOffset,oe=_==null?void 0:_.focusNode,he=_==null?void 0:_.focusOffset},it=(st,Vt)=>{I(st.childNodes,Bt=>{ig(Bt)&&Vt.appendChild(Bt)})},rt=e.dom.create("span",{"data-mce-bogus":"1"});it(c,rt),c.appendChild(rt),Se(),(o==="word"||o==="line")&&(_==null||_.modify("extend",n?"right":"left",o)),!i.isCollapsed()&&L4(i.getRng(),rt)?rT(c):(e.execCommand(n?"ForwardDelete":"Delete"),Be(),it(rt,c),Se()),e.dom.remove(rt)}),!0):!1},ah=(e,n,o)=>TI(e,n,o)||sT&&AI(e,n,o)?w.some(a):w.none(),kI=e=>(n,o,i={})=>{const c=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:a,inputType:o},h=F5(new InputEvent(e));return n.dispatch(e,{...h,...f,...i})},C6=kI("input"),Z9=kI("beforeinput"),OI=$c(),aT=OI.os,LI=aT.isMacOS()||aT.isiOS(),OZ=OI.browser.isFirefox(),DI=(e,n,o)=>{const i=o.keyCode===Co.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),f=c?"character":"selection",h=_=>c?_?"word":"line":"selection";_M([{keyCode:Co.BACKSPACE,action:ys(eM,e)},{keyCode:Co.BACKSPACE,action:ys(lS,e,!1)},{keyCode:Co.DELETE,action:ys(lS,e,!0)},{keyCode:Co.BACKSPACE,action:ys(oS,e,!1)},{keyCode:Co.DELETE,action:ys(oS,e,!0)},{keyCode:Co.BACKSPACE,action:ys(c6,e,n,!1)},{keyCode:Co.DELETE,action:ys(c6,e,n,!0)},{keyCode:Co.BACKSPACE,action:ys(ax,e,!1)},{keyCode:Co.DELETE,action:ys(ax,e,!0)},{keyCode:Co.BACKSPACE,action:ys(ah,e,!1,f)},{keyCode:Co.DELETE,action:ys(ah,e,!0,f)},...LI?[{keyCode:Co.BACKSPACE,altKey:!0,action:ys(ah,e,!1,h(!0))},{keyCode:Co.DELETE,altKey:!0,action:ys(ah,e,!0,h(!0))},{keyCode:Co.BACKSPACE,metaKey:!0,action:ys(ah,e,!1,h(!1))}]:[{keyCode:Co.BACKSPACE,ctrlKey:!0,action:ys(ah,e,!1,h(!0))},{keyCode:Co.DELETE,ctrlKey:!0,action:ys(ah,e,!0,h(!0))}],{keyCode:Co.BACKSPACE,action:ys(dS,e,!1)},{keyCode:Co.DELETE,action:ys(dS,e,!0)},{keyCode:Co.BACKSPACE,action:ys(OS,e,!1)},{keyCode:Co.DELETE,action:ys(OS,e,!0)},{keyCode:Co.BACKSPACE,action:ys(tS,e,!1)},{keyCode:Co.DELETE,action:ys(tS,e,!0)},{keyCode:Co.BACKSPACE,action:ys(o6,e,!1)},{keyCode:Co.DELETE,action:ys(o6,e,!0)},{keyCode:Co.BACKSPACE,action:ys(b9,e,!1)},{keyCode:Co.DELETE,action:ys(b9,e,!0)},{keyCode:Co.BACKSPACE,action:ys(cS,e,!1)},{keyCode:Co.DELETE,action:ys(cS,e,!0)},{keyCode:Co.BACKSPACE,action:ys(DS,e,!1)},{keyCode:Co.DELETE,action:ys(DS,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),Z9(e,i).isDefaultPrevented()||(_(),C6(e,i))})},NI=(e,n,o)=>p6([{keyCode:Co.BACKSPACE,action:ys(gR,e)},{keyCode:Co.DELETE,action:ys(gR,e)},...LI?[{keyCode:Co.BACKSPACE,altKey:!0,action:ys(E4,e)},{keyCode:Co.DELETE,altKey:!0,action:ys(E4,e)},...o?[{keyCode:OZ?224:91,action:ys(E4,e)}]:[]]:[{keyCode:Co.BACKSPACE,ctrlKey:!0,action:ys(E4,e)},{keyCode:Co.DELETE,ctrlKey:!0,action:ys(E4,e)}]],n),LZ=(e,n)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===Co.BACKSPACE,i.isDefaultPrevented()||DI(e,n,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||NI(e,i,o),o=!1})},DZ=(e,n)=>{const o=yt.fromDom(e),i=yt.fromDom(n),c=nu("span"),f=z(Ws,o),h=S=>da(S)&&tc(S,"font-size").isSome(),_=[...h(i)?[i]:[],...W(i,h,f)];I(_.slice(1),S=>{Sf(S,"font-size"),er(S,"data-mce-style"),c(S)&&zg(S)&&Fl(S)})},NZ=e=>{for(;e;){if(Vo(e)||Gn(e)&&e.data&&/[\r\n\s]/.test(e.data))return w.from(yt.fromDom(e));e=e.nextSibling}return w.none()},D4=(e,n)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=S=>/^(ul|ol|dl)$/.test(Fs(S)),h=S=>f(S)?w.from(S):Vr(S,f),_=S=>o.isEmpty(S.dom);NZ(n.firstChild).each(S=>{h(S).fold(()=>{if(_(S)){const F=AM(S,0).element;zf(F)||Lr(F,yt.fromText(Js))}},F=>{Qa(F,yt.fromText(Js))})})}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new ja(n,n);let h=n,_;for(;_=f.current();){if(Gn(_)){c.setStart(_,0),c.setEnd(_,0);break}if(i[_.nodeName.toLowerCase()]){c.setStartBefore(_),c.setEndBefore(_);break}h=_,_=f.next()}_||(c.setStart(h,0),c.setEnd(h,0))}else Qr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),dv(e,c)},N4=(e,n)=>{const o=e.getRoot();let i,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},iT=e=>w.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),RZ=e=>iT(e).fold(L(""),n=>n.nodeName.toUpperCase()),RI=e=>iT(e).filter(n=>Ip(yt.fromDom(n))).isSome(),lT=e=>{e.innerHTML='<br data-mce-bogus="1">'},MZ=(e,n,o)=>{const i=e.dom;w.from(o.style).map(i.parseStyle).each(S=>{const oe={...Wa(yt.fromDom(n)),...S};i.setStyles(n,oe)});const c=w.from(o.class).map(S=>S.split(/\s+/)),f=w.from(n.className).map(S=>G(S.split(/\s+/),F=>F!==""));Tt(c,f,(S,F)=>{const oe=G(F,Se=>!D(S,Se)),he=[...S,...oe];i.setAttrib(n,"class",he.join(" "))});const h=["style","class"],_=nn(o,(S,F)=>!D(h,F));i.setAttribs(n,_)},R4=(e,n)=>{if(Mr(e).toLowerCase()===n.tagName.toLowerCase()){const i=Oc(e);MZ(e,n,i)}},MI=(e,n,o,i,c=!0,f,h)=>{const _=e.dom,S=e.schema,F=Mr(e),oe=o?o.nodeName.toUpperCase():"";let he=n;const Se=S.getTextInlineElements();let Be;f||oe==="TABLE"||oe==="HR"?Be=_.create(f||F,h||{}):Be=o.cloneNode(!1);let it=Be;if(!c)_.setAttrib(Be,"style",null),_.setAttrib(Be,"class",null);else{do if(Se[he.nodeName]){if(Gi(he)||td(he))continue;const rt=he.cloneNode(!1);_.setAttrib(rt,"id",""),Be.hasChildNodes()?(rt.appendChild(Be.firstChild),Be.appendChild(rt)):(it=rt,Be.appendChild(rt))}while((he=he.parentNode)&&he!==i);DZ(Be,it)}return R4(e,Be),lT(it),Be},IZ=(e,n)=>e.dom.getParent(n,$h),BZ=(e,n,o)=>{let i=n;for(;i&&i!==e&&ht(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return $h(c);i=c}return!1},II=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Mr(e)&&e.dom.isEmpty(o)&&BZ(e.getBody(),o,i=>vn(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),BI=(e,n,o)=>{var i,c,f;const h=n(Mr(e)),_=IZ(e,o);_&&(e.dom.insertAfter(h,_),D4(e,h),((f=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},FZ=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,PZ=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},FI=(e,n)=>{const o=e==null?void 0:e.parentNode;return s(o)&&o.nodeName===n},PI=e=>s(e)&&/^(OL|UL|LI)$/.test(e.nodeName),cT=e=>s(e)&&/^(LI|DT|DD)$/.test(e.nodeName),$Z=e=>PI(e)&&PI(e.parentNode),G9=e=>{const n=e.parentNode;return cT(n)?n:e},Y9=(e,n,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!Vo(i);)i=i[o?"nextSibling":"previousSibling"];return i===n},HZ=e=>Le(bn(Wa(yt.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),zZ=(e,n,o,i,c)=>{const f=e.dom,h=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;$Z(o)&&(c="LI");const S=cT(i)?HZ(i):void 0;let F=cT(i)&&S?n(c,{style:HZ(i)}):n(c);if(Y9(o,i,!0)&&Y9(o,i,!1))if(FI(o,"LI")){const oe=G9(o);f.insertAfter(F,oe),PZ(o)?f.remove(oe):f.remove(o)}else f.replace(F,o);else if(Y9(o,i,!0))FI(o,"LI")?(f.insertAfter(F,G9(o)),F.appendChild(f.doc.createTextNode(" ")),F.appendChild(o)):_.insertBefore(F,o),f.remove(i);else if(Y9(o,i,!1))f.insertAfter(F,G9(o)),f.remove(i);else{o=G9(o);const oe=h.cloneRange();oe.setStartAfter(i),oe.setEndAfter(o);const he=oe.extractContents();if(c==="LI"&&FZ(he,"LI")){const Se=G(V(F.children,yt.fromDom),Q(nu("br")));F=he.firstChild,f.insertAfter(he,o),I(Se,Be=>su(yt.fromDom(F),Be)),S&&F.setAttribute("style",S)}else f.insertAfter(he,o),f.insertAfter(F,o);f.remove(i)}D4(e,F)},q9=e=>{I(Ie(yt.fromDom(e),Ha),n=>{const o=n.dom;o.nodeValue=Ac(o.data)})},$I=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},HI=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),dT=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,zI=(e,n)=>e.nodeName===n||e.nextSibling&&e.nextSibling.nodeName===n,X9=(e,n)=>s(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",UZ=(e,n,o)=>{var i;const c=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;Vo(f)&&!n[f.nodeName.toLowerCase()]&&c.push(f)}let h=c.length;for(;h--;)f=c[h],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((i=f.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||HI(e,f))&&e.remove(f)},uT=(e,n,o)=>Gn(n)?e?o===1&&n.data.charAt(o-1)===ui?0:o:o===n.data.length-1&&n.data.charAt(o)===ui?n.data.length:o:o,VZ=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,uT(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,uT(!1,e.endContainer,e.endOffset)),n},UI=e=>{let n=e;do Gn(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},WZ=(e,n,o,i,c)=>{var f,h;const _=e.dom,S=(f=N4(_,i))!==null&&f!==void 0?f:_.getRoot();let F=_.getParent(i,_.isBlock);if(!F||!X9(_,F)){if(F=F||S,!F.hasChildNodes()){const Be=_.create(n);return R4(e,Be),F.appendChild(Be),o.setStart(Be,0),o.setEnd(Be,0),Be}let oe=i;for(;oe&&oe.parentNode!==F;)oe=oe.parentNode;let he;for(;oe&&!_.isBlock(oe);)he=oe,oe=oe.previousSibling;const Se=(h=he==null?void 0:he.parentElement)===null||h===void 0?void 0:h.nodeName;if(he&&Se&&e.schema.isValidChild(Se,n.toLowerCase())){const Be=he.parentNode,it=_.create(n);for(R4(e,it),Be.insertBefore(it,he),oe=he;oe&&!_.isBlock(oe);){const rt=oe.nextSibling;it.appendChild(oe),oe=rt}o.setStart(i,c),o.setEnd(i,c)}}return i},fT=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Vo(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},KZ=(e,n)=>{const o=or(e);return us(n)?!1:lt(o)?D(Kn.explode(o),n.nodeName.toLowerCase()):o},pT={insert:(e,n)=>{let o,i,c,f,h=!1;const _=e.dom,S=e.schema,F=S.getNonEmptyElements(),oe=e.selection.getRng(),he=Mr(e),Se=yt.fromDom(oe.startContainer),Be=fc(Se,oe.startOffset),it=Be.exists(Rn=>xl(Rn)&&!Ed(Rn)),rt=oe.collapsed&&it,st=(Rn,Lo)=>MI(e,o,so,Sn,kC(e),Rn,Lo),Vt=Rn=>{const Lo=uT(Rn,o,i);if(Gn(o)&&(Rn?Lo>0:Lo<o.data.length))return!1;if((o.parentNode===so||o===so)&&h&&!Rn||Rn&&Vo(o)&&o===so.firstChild)return!0;if(dT(o,"TABLE")||dT(o,"HR"))return zI(o,"BR")?!Rn:h&&!Rn||!h&&Rn;const Qo=new ja(o,so);Gn(o)&&(Rn&&Lo===0?Qo.prev():!Rn&&Lo===o.data.length&&Qo.next());let Ms;for(;Ms=Qo.current();){if(Vo(Ms)){if(!Ms.getAttribute("data-mce-bogus")){const To=Ms.nodeName.toLowerCase();if(F[To]&&To!=="br")return!1}}else if(Gn(Ms)&&!du(Ms.data))return!1;Rn?Qo.prev():Qo.next()}return!0},Bt=()=>{let Rn;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Un!=="HGROUP"?Rn=st(he):Rn=st(),KZ(e,f)&&X9(_,f)&&_.isEmpty(so,void 0,{includeZwsp:!0})?Rn=_.split(f,so):_.insertAfter(Rn,so),D4(e,Rn),Rn};k0(_,oe).each(Rn=>{oe.setStart(Rn.startContainer,Rn.startOffset),oe.setEnd(Rn.endContainer,Rn.endOffset)}),o=oe.startContainer,i=oe.startOffset;const Yt=!!(n&&n.shiftKey),rn=!!(n&&n.ctrlKey);Vo(o)&&o.hasChildNodes()&&!rt&&(h=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,h&&Gn(o)?i=o.data.length:i=0);const Sn=N4(_,o);if(!Sn||$I(e,o))return;Yt||(o=WZ(e,he,oe,o,i));let so=_.getParent(o,_.isBlock)||_.getRoot();f=s(so==null?void 0:so.parentNode)?_.getParent(so.parentNode,_.isBlock):null,c=so?so.nodeName.toUpperCase():"";const Un=f?f.nodeName.toUpperCase():"";if(Un==="LI"&&!rn){const Rn=f;so=Rn,f=Rn.parentNode,c=Un}if(Vo(f)&&II(e,Yt,so))return BI(e,st,so);if(/^(LI|DT|DD)$/.test(c)&&Vo(f)&&_.isEmpty(so)){zZ(e,st,f,so,he);return}if(!rt&&(so===e.getBody()||!X9(_,so)))return;const gn=so.parentNode;let mn;if(rt)mn=st(he),Be.fold(()=>{Lr(Se,yt.fromDom(mn))},Rn=>{Qa(Rn,yt.fromDom(mn))}),e.selection.setCursorLocation(mn,0);else if(D1(so))mn=o0(so),_.isEmpty(so)&&lT(so),R4(e,mn),D4(e,mn);else if(Vt(!1))mn=Bt();else if(Vt(!0)&&gn){const Rn=hn.fromRangeStart(oe),Lo=$_(Rn),Qo=yt.fromDom(so),To=X7(Qo,Rn,e.schema)?Fk(Qo,Rn,e.schema).bind(lo=>w.from(lo.getNode())):w.none();mn=gn.insertBefore(st(),so);const Gt=dT(so,"HR")||Lo?mn:To.getOr(so);D4(e,Gt)}else{const Rn=VZ(oe).cloneRange();Rn.setEndAfter(so);const Lo=Rn.extractContents();q9(Lo),UI(Lo),mn=Lo.firstChild,so===mn?s(gn)&&_.insertAfter(Lo,gn):_.insertAfter(Lo,so),UZ(_,F,mn),fT(_,so),_.isEmpty(so)&&lT(so),mn.normalize(),_.isEmpty(mn)?(_.remove(mn),Bt()):(R4(e,mn),D4(e,mn))}_.setAttrib(mn,"id",""),e.dispatch("NewBlock",{newBlock:mn})},fakeEventName:"insertParagraph"},jZ=(e,n,o)=>{const i=new ja(n,o);let c;const f=e.getNonEmptyElements();for(;c=i.next();)if(f[c.nodeName.toLowerCase()]||Gn(c)&&c.length>0)return!0;return!1},VI=(e,n,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),dv(e,i)},ZZ=(e,n)=>{const o=e.selection,i=e.dom,c=o.getRng();let f,h=!1;k0(i,c).each(Be=>{c.setStart(Be.startContainer,Be.startOffset),c.setEnd(Be.endContainer,Be.endOffset)});let _=c.startOffset,S=c.startContainer;if(Vo(S)&&S.hasChildNodes()){const Be=_>S.childNodes.length-1;S=S.childNodes[Math.min(_,S.childNodes.length-1)]||S,Be&&Gn(S)?_=S.data.length:_=0}let F=i.getParent(S,i.isBlock);const oe=F&&F.parentNode?i.getParent(F.parentNode,i.isBlock):null,he=oe?oe.nodeName.toUpperCase():"",Se=!!(n&&n.ctrlKey);he==="LI"&&!Se&&(F=oe),Gn(S)&&_>=S.data.length&&(jZ(e.schema,S,F||i.getRoot())||(f=i.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),h=!0)),f=i.create("br"),$p(i,c,f),VI(e,f,h),e.undoManager.add()},GZ=(e,n)=>{const o=yt.fromTag("br");Qa(yt.fromDom(n),o),e.undoManager.add()},aJ=(e,n)=>{qZ(e.getBody(),n)||yd(yt.fromDom(n),yt.fromTag("br"));const o=yt.fromTag("br");yd(yt.fromDom(n),o),VI(e,o.dom,!1),e.undoManager.add()},YZ=e=>Qr(e.getNode()),qZ=(e,n)=>YZ(hn.after(n))?!0:cl(e,hn.after(n)).map(o=>Qr(o.getNode())).getOr(!1),WI=e=>e&&e.nodeName==="A"&&"href"in e,XZ=e=>e.fold(K,WI,WI,K),QZ=e=>{const n=z(D0,e),o=hn.fromRangeStart(e.selection.getRng());return Yi(n,e.getBody(),o).filter(XZ)},KI=(e,n)=>{n.fold(a,z(GZ,e),z(aJ,e),a)},s1={insert:(e,n)=>{const o=QZ(e);o.isSome()?o.each(z(KI,e)):ZZ(e,n)},fakeEventName:"insertLineBreak"},gT=(e,n)=>iT(e).filter(o=>n.length>0&&Ml(yt.fromDom(o),n)).isSome(),ZI=e=>gT(e,TC(e)),JZ=e=>gT(e,AC(e)),cc=qo.generate([{br:[]},{block:[]},{none:[]}]),mT=(e,n)=>JZ(e),hT=e=>(n,o)=>RI(n)===e,bT=(e,n)=>(o,i)=>RZ(o)===e.toUpperCase()===n,eG=e=>{const n=N4(e.dom,e.selection.getStart());return us(n)},_6=e=>bT("pre",e),tG=()=>bT("summary",!0),Q9=e=>(n,o)=>Kf(n)===e,nG=(e,n)=>ZI(e),E6=(e,n)=>n,oG=e=>{const n=Mr(e),o=N4(e.dom,e.selection.getStart());return s(o)&&e.schema.isValidChild(o.nodeName,n)},sG=e=>{const n=e.selection.getRng(),o=yt.fromDom(n.startContainer),c=fc(o,n.startOffset).map(f=>xl(f)&&!Ed(f));return n.collapsed&&c.getOr(!0)},hf=(e,n)=>(o,i)=>Le(e,(f,h)=>f&&h(o,i),!0)?w.some(n):w.none(),vT=(e,n)=>ER([hf([mT],cc.none()),hf([_6(!0),eG],cc.none()),hf([tG()],cc.br()),hf([_6(!0),Q9(!1),E6],cc.br()),hf([_6(!0),Q9(!1)],cc.block()),hf([_6(!0),Q9(!0),E6],cc.block()),hf([_6(!0),Q9(!0)],cc.br()),hf([hT(!0),E6],cc.br()),hf([hT(!0)],cc.block()),hf([nG],cc.br()),hf([E6],cc.br()),hf([oG],cc.block()),hf([sG],cc.block())],[e,!!(n&&n.shiftKey)]).getOr(cc.none()),J9=(e,n,o)=>{n.mode.isReadOnly()||(n.selection.isCollapsed()||nO(n),!(s(o)&&Z9(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),s(o)&&C6(n,e.fakeEventName)))},GI=(e,n)=>{if(e.mode.isReadOnly())return;const o=()=>J9(s1,e,n),i=()=>J9(pT,e,n),c=vT(e,n);switch(SC(e)){case"linebreak":c.fold(o,o,a);break;case"block":c.fold(i,i,a);break;case"invert":c.fold(i,o,a);break;default:c.fold(o,i,a);break}},YI=$c(),rG=YI.os.isiOS()&&YI.browser.isSafari(),qI=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),$U(e.undoManager),e.undoManager.transact(()=>{GI(e,n)}))},aG=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Gn(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=n.data.charAt(e.startOffset-1);return o.test(i)}else return!1},iG=e=>{let n=w.none();const o=c=>{n=w.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,f)=>{c.undoManager.undo(),n.fold(a,h=>c.selection.moveToBookmark(h)),qI(c,f),n=w.none()};e.on("keydown",c=>{c.keyCode===Co.ENTER&&(rG&&aG(e.selection.getRng())?o(e):qI(e,c))}),e.on("keyup",c=>{c.keyCode===Co.ENTER&&n.each(()=>i(e,c))})},lG=(e,n,o)=>{const i=fr.os.isMacOS()||fr.os.isiOS();p6([{keyCode:Co.END,action:ys(mM,e,!0)},{keyCode:Co.HOME,action:ys(mM,e,!1)},...i?[]:[{keyCode:Co.HOME,action:ys(E9,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Co.END,action:ys(E9,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Co.END,action:ys(EM,e,!0)},{keyCode:Co.HOME,action:ys(EM,e,!1)},{keyCode:Co.END,action:ys(l6,e,!0,n)},{keyCode:Co.HOME,action:ys(l6,e,!1,n)}],o).each(c=>{o.preventDefault()})},ey=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||lG(e,n,o)})},cG=e=>{e.on("input",n=>{n.isComposing||L0(e)})},dG=$c(),xT=(e,n,o)=>{p6([{keyCode:Co.PAGE_UP,action:ys(l6,e,!1,n)},{keyCode:Co.PAGE_DOWN,action:ys(l6,e,!0,n)}],o)},ty=e=>e.stopImmediatePropagation(),XI=e=>e.keyCode===Co.PAGE_UP||e.keyCode===Co.PAGE_DOWN,QI=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",ty,!0):!o&&e.get()&&n.off("NodeChange",ty),e.set(o)},JI=(e,n)=>{if(dG.os.isMacOS())return;const o=zn(!1);e.on("keydown",i=>{XI(i)&&QI(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||xT(e,n,i),XI(i)&&o.get()&&(QI(o,e,!1),e.nodeChanged())})},eB=(e,n)=>e===n||e.contains(n),uG=(e,n)=>!eB(e.getBody(),n.startContainer)||!eB(e.getBody(),n.endContainer)?!0:uk(e.dom,n),fG=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||U(n.getTargetRanges(),o=>!uG(e,o)))&&n.preventDefault()})},tB=(e,n)=>{const o=n.container(),i=n.offset();return Gn(o)?(o.insertData(i,e),w.some(hn(o,i+e.length))):H1(n).map(c=>{const f=yt.fromText(e);return n.isAtEnd()?yd(c,f):Qa(c,f),hn(f.dom,e.length)})},nB=z(tB,Js),oB=z(tB," "),sB=(e,n,o)=>Vk(e,n,o)?nB(n):oB(n),ny=e=>n=>n.fold(o=>Al(e.dom,hn.before(o)),o=>Bi(o),o=>Pd(o),o=>cl(e.dom,hn.after(o))),rB=(e,n,o)=>i=>Vk(e,i,o)?nB(n):oB(n),yT=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},pG=(e,n)=>e.isEditable(e.getParent(n,"summary")),gG=e=>{const n=hn.fromRangeStart(e.selection.getRng()),o=yt.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=z(D0,e),c=hn.fromRangeStart(e.selection.getRng());return Yi(i,e.getBody(),c).bind(ny(o)).map(f=>()=>rB(o,n,e.schema)(f).each(yT(e)))}else return w.none()},oy=e=>{const n=()=>{const o=yt.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=hn.fromRangeStart(e.selection.getRng());sB(o,i,e.schema).each(yT(e))};return qt(fr.browser.isFirefox()&&e.selection.isEditable()&&pG(e.dom,e.selection.getRng().startContainer),n)},mG=(e,n)=>{_M([{keyCode:Co.SPACEBAR,action:ys(gG,e)},{keyCode:Co.SPACEBAR,action:ys(oy,e)}],n).each(o=>{n.preventDefault(),Z9(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),C6(e,"insertText",{data:" "}))})},aB=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||mG(e,n)})},hG=e=>Gp(e)?[{keyCode:Co.TAB,action:ys(ZM,e,!0)},{keyCode:Co.TAB,shiftKey:!0,action:ys(ZM,e,!1)}]:[],iB=(e,n)=>{p6([...hG(e)],n).each(o=>{n.preventDefault()})},bG=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||iB(e,n)})},vG=e=>{if(e.addShortcut("Meta+P","","mcePrint"),bZ(e),tp(e))return zn(null);{const n=PR(e);return fG(e),oj(e),jS(e,n),LZ(e,n),iG(e),aB(e),cG(e),bG(e),ey(e,n),JI(e,n),n}},xG=(e,n)=>{const o=Z0(e);o===null||Zd(e,o)||e.undoManager.transact(()=>{Xn(n.styles)&&e.dom.setStyles(o,n.styles),Xn(n.attrs)&&Zt(n.attrs,(i,c)=>e.dom.setAttrib(o,c,i))})},CT=(e,n)=>()=>{const o=Z0(e);return s(o)&&o.nodeName===n},yG=e=>{e.addCommand("InsertUnorderedList",(n,o)=>{a9(e,"UL",o)}),e.addCommand("InsertOrderedList",(n,o)=>{a9(e,"OL",o)}),e.addCommand("InsertDefinitionList",(n,o)=>{a9(e,"DL",o)}),e.addCommand("RemoveList",()=>{o9(e)}),e.addCommand("mceListUpdate",(n,o)=>{Xn(o)&&xG(e,o)}),e.addCommand("mceListBackspaceDelete",(n,o)=>{Xw(e,o)}),e.addQueryStateHandler("InsertUnorderedList",CT(e,"UL")),e.addQueryStateHandler("InsertOrderedList",CT(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",CT(e,"DL"))},M4=e=>{e.on("keydown",n=>{n.keyCode===Co.BACKSPACE?Xw(e,!1)&&n.preventDefault():n.keyCode===Co.DELETE&&Xw(e,!0)&&n.preventDefault()})},lB=e=>e.type===3,cB=e=>e.length===0,dB=e=>{const n=(c,f)=>{const h=kl.create("li");I(c,_=>h.append(_)),f?e.insert(h,f,!0):e.append(h)},o=(c,f)=>lB(f)?[...c,f]:!cB(c)&&!lB(f)?(n(c,f),[]):c,i=Le(e.children(),o,[]);cB(i)||n(i)},CG=e=>{e.on("PreInit",()=>{const{parser:n}=e;n.addNodeFilter("ul,ol",o=>I(o,dB))})},_G=e=>{e.on("keydown",n=>{n.keyCode!==Co.TAB||Co.metaKeyPressed(n)||e.undoManager.transact(()=>{(n.shiftKey?zw(e):qN(e))&&n.preventDefault()})})},EG=e=>{g7(e)&&_G(e)},uB=e=>{M4(e),yG(e),CG(e),EG(e)};class wG{constructor(n){this.lastPath=[],this.editor=n;let o;const i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const f=n.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!A_(h,o))&&n.dispatch("SelectionChange"),o=h}),n.on("contextmenu",()=>{H3(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&w0(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&w0(n)&&(n.selection.getNode().nodeName==="IMG"?ku.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor,i=o.selection;let c;if(o.initialized&&i&&!q8(o)&&!Am(o)){const f=o.getBody();c=i.getStart(!0)||f,(c.ownerDocument!==o.getDoc()||!o.dom.isChildOf(c,f))&&(c=f);const h=[];o.dom.getParent(c,_=>_===f?!0:(h.push(_),!1)),o.dispatch("NodeChange",{...n,element:c,parents:h})}}isSameElementPath(n){let o;const i=this.editor,c=Me(i.dom.getParents(n,ee,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const fB="x-tinymce/html",_T=L(fB),I4="<!-- "+fB+" -->",SG=e=>I4+e,TG=e=>e.replace(I4,""),pB=e=>e.indexOf(I4)!==-1,AG=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),kG=(e,n)=>{let o="<"+e;const i=bn(n,(c,f)=>f+'="'+Lp.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},OG=(e,n,o)=>{const i=e.split(/\n\n/),c=kG(n,o),f="</"+n+">",h=V(i,S=>S.split(/\n/).join("<br />")),_=S=>c+S+f;return h.length===1?h[0]:V(h,_).join("")},gB="%MCEPASTEBIN%",LG=(e,n)=>{const{dom:o,selection:i}=e,c=e.getBody();n.set(i.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},gB);fr.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),f.focus(),i.select(f,!0)},DG=(e,n)=>{const o=e.dom;if(ET(e)){let i;const c=n.get();for(;i=ET(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}n.set(null)},ET=e=>e.dom.get("mcepastebin"),NG=e=>s(e)&&e.id==="mcepastebin",RG=e=>{const n=e.dom,o=(h,_)=>{h.appendChild(_),n.remove(_,!0)},[i,...c]=G(e.getBody().childNodes,NG);I(c,h=>{o(i,h)});const f=n.select("div[id=mcepastebin]",i);for(let h=f.length-1;h>=0;h--){const _=n.create("div");i.insertBefore(_,f[h]),o(_,f[h])}return i?i.innerHTML:""},mB=e=>e===gB,Br=e=>{const n=zn(null);return{create:()=>LG(e,n),remove:()=>DG(e,n),getEl:()=>ET(e),getHtml:()=>RG(e),getLastRng:n.get}},hB=(e,n)=>(Kn.each(n,o=>{Xt(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),bB=e=>{const n=oc(),o=q3({},n);let i="";const c=n.getVoidElements(),f=Kn.makeMap("script noscript style textarea video audio iframe object"," "),h=n.getBlockElements(),_=S=>{const F=S.name,oe=S;if(F==="br"){i+=`
`;return}if(F!=="wbr"){if(c[F]&&(i+=" "),f[F]){i+=" ";return}if(S.type===3&&(i+=S.value),!(S.name in n.getVoidElements())){let he=S.firstChild;if(he)do _(he);while(he=he.next)}h[F]&&oe.next&&(i+=`
`,F==="p"&&(i+=`
`))}};return e=hB(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),i},vB=e=>(e=hB(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Js],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),wT=e=>{let n=0;return()=>e+n++},xB=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},MG=(e,n)=>{const o=q3({sanitize:kb(e),sandbox_iframes:f7(e),sandbox_iframes_exclusions:Lb(e),convert_unsafe_embeds:KC(e)},e.schema);o.addNodeFilter("meta",c=>{Kn.each(c,f=>{f.remove()})});const i=o.parse(n,{forced_root_block:!1,isRootContent:!0});return O0({validate:!0},e.schema).serialize(i)},yB=(e,n)=>({content:e,cancelled:n}),IG=(e,n,o)=>{const i=e.dom.create("div",{style:"display:none"},n),c=yC(e,i,o);return yB(c.node.innerHTML,c.isDefaultPrevented())},CB=(e,n,o)=>{const i=Cs(e,n,o),c=MG(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?IG(e,c,o):yB(c,i.isDefaultPrevented())},sy=(e,n,o)=>CB(e,n,o),ST=(e,n)=>(e.insertContent(n,{merge:s7(e),paste:!0}),!0),TT=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),AT=(e,n)=>TT(n)&&U(d7(e),o=>Do(n.toLowerCase(),`.${o.toLowerCase()}`)),BG=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),FG=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),PG=(e,n,o)=>!e.selection.isCollapsed()&&TT(n)?FG(e,n,o):!1,$G=(e,n,o)=>AT(e,n)?BG(e,n,o):!1,_B=(e,n)=>{Kn.each([PG,$G,ST],o=>!o(e,n,ST))},HG=(e,n,o)=>{o||!E3(e)?ST(e,n):_B(e,n)},zG=wT("mceclip"),EB=e=>{const n=US();return DM(n,e),D9(n),n},wB=(e,n,o,i,c)=>{const f=sy(e,n,o);if(!f.cancelled){const h=f.content,_=()=>HG(e,h,i);c?Z9(e,"insertFromPaste",{dataTransfer:EB(h)}).isDefaultPrevented()||(_(),C6(e,"insertFromPaste")):_()}},ry=(e,n,o,i)=>{const c=o||pB(n);wB(e,TG(n),c,!1,i)},kT=(e,n,o)=>{const i=e.dom.encode(n).replace(/\r\n/g,`
`),c=n8(i,HC(e)),f=OG(c,Mr(e),Oc(e));wB(e,f,!1,!0,o)},w6=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{n[i]=e.getData(i)}catch{n[i]=""}}return n},ih=(e,n)=>n in e&&e[n].length>0,OT=e=>ih(e,"text/html")||ih(e,"text/plain"),UG=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return s(o)?e.dom.encode(o[1]):void 0},LT=(e,n,o,i)=>{const c=zG(),f=M1(e)&&s(o.name),h=f?UG(e,o.name):c,_=f?o.name:void 0,S=n.create(c,o,i,h,_);return n.add(S),S},VG=(e,n)=>{CE(n.uri).each(({data:o,type:i,base64Encoded:c})=>{const f=c?o:btoa(o),h=n.file,_=e.editorUpload.blobCache,S=_.getByData(f,i),F=S??LT(e,_,h,f);ry(e,`<img src="${F.blobUri()}">`,!1,!0)})},SB=e=>e.type==="paste",WG=e=>Promise.all(V(e,n=>Q1(n).then(o=>({file:n,uri:o})))),KG=e=>{const n=d7(e);return o=>Go(o.type,"image/")&&U(n,i=>xB(i)===o.type)},jG=(e,n)=>{const o=n.items?nt(_t(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=n.files?_t(n.files):[];return G(o.length>0?o:i,KG(e))},TB=(e,n,o)=>{const i=SB(n)?n.clipboardData:n.dataTransfer;if(jp(e)&&i){const c=jG(e,i);if(c.length>0)return n.preventDefault(),WG(c).then(f=>{o&&e.selection.setRng(o),I(f,h=>{VG(e,h)})}),!0}return!1},AB=e=>{var n,o;return fr.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},ZG=e=>Co.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,ay=(e,n,o,i,c)=>{let f=vB(o);const h=ih(n,_T())||pB(o),_=!h&&AG(f),S=TT(f);(mB(f)||!f.length||_&&!S)&&(i=!0),(i||S)&&(ih(n,"text/plain")&&_?f=n["text/plain"]:f=bB(f)),!mB(f)&&(i?kT(e,f,c):ry(e,f,h,c))},iy=(e,n,o)=>{let i;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{ZG(f)&&!f.isDefaultPrevented()&&(i=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||AB(f))return;const h=o.get()==="text"||i;i=!1;const _=w6(f.clipboardData);!OT(_)&&TB(e,f,c())||(ih(_,"text/html")?(f.preventDefault(),ay(e,_,_["text/html"],h,!0)):ih(_,"text/plain")&&ih(_,"text/uri-list")?(f.preventDefault(),ay(e,_,_["text/plain"],h,!0)):(n.create(),ku.setEditorTimeout(e,()=>{const S=n.getHtml();n.remove(),ay(e,_,S,h,!1)},0)))})},DT=e=>{const n=c=>Go(c,"webkit-fake-url"),o=c=>Go(c,"data:"),i=c=>{var f;return((f=c.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(c,f,h)=>{if(!jp(e)&&i(h))for(const _ of c){const S=_.attr("src");lt(S)&&!_.attr("data-mce-object")&&S!==fr.transparentSrc&&(n(S)||!a7(e)&&o(S))&&_.remove()}})},NT=(e,n,o)=>{iy(e,n,o),DT(e)},GG=(e,n)=>{n.get()==="text"?(n.set("html"),bb(e,!1)):(n.set("text"),bb(e,!0)),e.focus()},YG=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{GG(e,n)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&ry(e,i.html,i.internal,!1),i.text&&kT(e,i.text,!1)})},B4=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(_T(),n),!0}catch{return!1}else return!1},kB=(e,n,o,i)=>{B4(e.clipboardData,n.html,n.text)?(e.preventDefault(),i()):o(n.html,i)},g2=e=>(n,o)=>{const{dom:i,selection:c}=e,f=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=i.create("div",{contenteditable:"true"},n);i.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(h),i.add(e.getBody(),f);const _=c.getRng();h.focus();const S=i.createRng();S.selectNodeContents(h),c.setRng(S),ku.setEditorTimeout(e,()=>{c.setRng(_),i.remove(f),o()},0)},F4=e=>({html:SG(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),qG=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),OB=e=>!e.selection.isCollapsed()||qG(e),P4=(e,n)=>o=>{!o.isDefaultPrevented()&&OB(e)&&e.selection.isEditable()&&kB(o,F4(e),g2(e),()=>{if(fr.browser.isChromium()||fr.browser.isFirefox()){const i=e.selection.getRng();ku.setEditorTimeout(e,()=>{e.selection.setRng(i),NS(e,n)},0)}else NS(e,n)})},XG=e=>n=>{!n.isDefaultPrevented()&&OB(e)&&kB(n,F4(e),g2(e),a)},RT=(e,n)=>{e.on("cut",P4(e,n)),e.on("copy",XG(e))},LB=(e,n)=>{var o,i;return Z1.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(i=n.clientY)!==null&&i!==void 0?i:0,e.getDoc())},DB=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},MT=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},IT=e=>U(e.files,n=>/^image\//.test(n.type)),NB=(e,n,o,i)=>{const c=e.getParent(o,h=>ju(n,h));if(!ht(e.getParent(o,"summary")))return!0;if(c&&vn(i,"text/html")){const h=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!ht(h.querySelector(c.nodeName.toLowerCase()))}else return!1},QG=e=>{e.on("input",n=>{const o=i=>ht(i.querySelector("summary"));if(n.inputType==="deleteByDrag"){const i=G(e.dom.select("details"),o);I(i,c=>{Qr(c.firstChild)&&c.firstChild.remove();const f=e.dom.create("summary");f.appendChild(O1().dom),c.prepend(f)})}})},JG=(e,n)=>{$C(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),jp(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&IT(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=LB(e,o);if(us(i))return;const c=w6(o.dataTransfer),f=ih(c,_T());if((!OT(c)||DB(c))&&TB(e,o,i))return;const h=c[_T()],_=h||c["text/html"]||c["text/plain"],S=NB(e.dom,e.schema,i.startContainer,c),F=n.get();F&&!S||_&&(o.preventDefault(),ku.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||F&&S)&&e.execCommand("Delete"),MT(e,i);const oe=vB(_);c["text/html"]?ry(e,oe,f,!0):kT(e,oe,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{jp(e)&&!n.get()&&(o.preventDefault(),MT(e,LB(e,o))),o.type==="dragend"&&n.set(!1)}),QG(e)},RB=e=>{const n=c=>f=>{c(e,f)},o=Tm(e);b(o)&&e.on("PastePreProcess",n(o));const i=Zp(e);b(i)&&e.on("PastePostProcess",n(i))},eY=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},MB=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,ly=e=>Kn.trim(e).replace(MB,rm).toLowerCase(),IB=(e,n,o)=>{const i=n7(e);if(o||i==="all"||!o7(e))return n;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const f=e.dom,h=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,S,F,oe)=>{const he=f.parseStyle(f.decode(F)),Se={};for(let it=0;it<c.length;it++){const rt=he[c[it]];let st=rt,Vt=f.getStyle(h,c[it],!0);/color/.test(c[it])&&(st=ly(st),Vt=ly(Vt)),Vt!==st&&(Se[c[it]]=rt)}const Be=f.serializeStyle(Se,"span");return Be?S+' style="'+Be+'"'+oe:S+oe})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,h,_,S)=>h+' style="'+_+'"'+S),n},tY=e=>{(fr.browser.isChromium()||fr.browser.isSafari())&&eY(e,IB)},nY=(e,n)=>{const o=zn(!1),i=zn(r7(e)?"text":"html"),c=Br(e);tY(e),YG(e,i),RB(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>i.get()==="text"),e.on("PreInit",()=>{RT(e,n),JG(e,o),NT(e,c,i)})},oY=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},BB=e=>{e.parser.addNodeFilter("details",n=>{const o=u7(e);I(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=WC(e);I(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},BT=e=>{oY(e),BB(e)},sY=Qr,FT=Gn,FB=e=>Pr(e.dom),rY=e=>ni(e.dom),PT=e=>n=>Ws(yt.fromDom(e),n),aY=(e,n,o)=>_d(yt.fromDom(e),i=>rY(i)||o.isBlock(Fs(i)),PT(n)).getOr(yt.fromDom(n)).dom,PB=(e,n)=>_d(yt.fromDom(e),FB,PT(n)),S6=(e,n,o)=>{const i=new ja(e,n),c=o?i.next.bind(i):i.prev.bind(i);let f=e;for(let h=o?e:c();h&&!sY(h);h=c())jr(h)&&(f=h);return f},iY=(e,n,o)=>{const c=hn.fromRangeStart(e).getNode(),f=aY(c,n,o),h=S6(c,f,!1),_=S6(c,f,!0),S=document.createRange();return PB(h,f).fold(()=>{FT(h)?S.setStart(h,0):S.setStartBefore(h)},F=>S.setStartBefore(F.dom)),PB(_,f).fold(()=>{FT(_)?S.setEnd(_,_.data.length):S.setEndAfter(_)},F=>S.setEndAfter(F.dom)),S},lY=e=>{const n=iY(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(dx(n))},$B=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),lY(e))})};var m2;(function(e){e.Before="before",e.After="after"})(m2||(m2={}));const cY=(e,n)=>Math.abs(e.left-n),dY=(e,n)=>Math.abs(e.right-n),uY=(e,n)=>e>=n.top&&e<=n.bottom,fY=(e,n)=>e.top<n.bottom&&e.bottom>n.top,pY=(e,n)=>{const o=r3(e,n)/Math.min(e.height,n.height);return fY(e,n)&&o>.5},HB=(e,n)=>{const o=G(e,i=>uY(n,i));return Y5(o).fold(()=>[[],e],i=>{const{pass:c,fail:f}=ne(e,h=>pY(h,i));return[c,f]})},gY=(e,n)=>({node:e.node,position:cY(e,n)<dY(e,n)?m2.Before:m2.After}),mY=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),$T=(e,n,o,i)=>{const c=he=>jr(he.node)?w.some(he):Vo(he.node)?$T(_t(he.node.childNodes),n,o,!1):w.none(),f=(he,Se,Be)=>c(Se).filter(it=>Math.abs(Be(he,n,o)-Be(it,n,o))<2&&Gn(it.node)),h=(he,Se)=>{const Be=Ze(he,(it,rt)=>Se(it,n,o)-Se(rt,n,o));return mt(Be,c).map(it=>i&&!Gn(it.node)&&Be.length>1?f(it,Be[1],Se).getOr(it):it)},[_,S]=HB(bS(e),o),{pass:F,fail:oe}=ne(S,he=>he.top<o);return h(_,mY).orThunk(()=>h(oe,s3)).orThunk(()=>h(F,s3))},hY=(e,n,o,i)=>{const c=(f,h)=>{const _=F=>Vo(F)&&F.classList.contains("mce-drag-container"),S=G(f.dom.childNodes,Q(_));return h.fold(()=>$T(S,o,i,!0),F=>{const oe=G(S,he=>he!==F.dom);return $T(oe,o,i,!0)}).orThunk(()=>(Ws(f,e)?w.none():$u(f)).bind(oe=>c(oe,w.some(f))))};return c(n,w.none())},bY=(e,n,o)=>{const i=yt.fromDom(e),c=yi(i),h=yt.fromPoint(c,n,o).filter(_=>vl(i,_)).getOr(i);return hY(i,h,n,o)},zB=(e,n,o)=>bY(e,n,o).filter(i=>qp(i.node)).map(i=>gY(i,n)),UB=e=>{var n,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,f=c.documentElement,h=c.defaultView;return{top:i.top+((n=h==null?void 0:h.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:i.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},vY=e=>e.inline?UB(e.getBody()):{left:0,top:0},VB=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},WB=e=>{const n=e.getBody(),o=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?i:c},xY=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=UB(e.getContentAreaContainer()),i=WB(e);return{left:n.pageX-o.left+i.left,top:n.pageY-o.top+i.top}}return{left:n.pageX,top:n.pageY}},yY=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),CY=(e,n)=>yY(vY(e),VB(e),xY(e,n)),$4=e=>({target:e,srcElement:e}),_Y=(e,n,o,i)=>({...n,dataTransfer:i,type:e,...$4(o)}),EY=(e,n,o)=>{const i=H("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:a,stopImmediatePropagation:a,stopPropagation:a,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...$4(n)}},KB=(e,n)=>{const o=Dj(e);return n==="dragstart"?(Sj(o),PS(o)):n==="drop"?(JQ(o),D9(o)):(gf(o),kj(o)),o},wY=(e,n,o,i)=>{const c=KB(o,e);return Ls(i)?EY(e,n,c):_Y(e,i,n,c)},cy=32,SY=100,dy=8,uy=16,T6=Pr,jB=lC(T6,ni),ZB=(e,n,o)=>T6(o)&&o!==n&&e.isEditable(o.parentElement),TY=(e,n,o)=>us(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),AY=(e,n,o,i)=>{const c=e.dom,f=n.cloneNode(!0);c.setStyles(f,{width:o,height:i}),c.setAttrib(f,"data-mce-selected",null);const h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},kY=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},HT=(e,n)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+n,behavior:"smooth"})},GB=HT("left",-cy),YB=HT("left",cy),fy=HT("top",-cy),A6=HT("top",cy),OY=(e,n,o,i,c,f,h,_,S,F,oe,he)=>{let Se=0,Be=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(Se=n.pageX+o-c),n.pageY+i>f&&(Be=n.pageY+i-f),e.style.width=o-Se+"px",e.style.height=i-Be+"px";const it=S.clientHeight,rt=S.clientWidth,st=h+S.getBoundingClientRect().top,Vt=_+S.getBoundingClientRect().left;oe.on(Bt=>{Bt.intervalId.clear(),Bt.dragging&&he&&(h+dy>=it?Bt.intervalId.set(A6(F)):h-dy<=0?Bt.intervalId.set(fy(F)):_+dy>=rt?Bt.intervalId.set(YB(F)):_-dy<=0?Bt.intervalId.set(GB(F)):st+uy>=window.innerHeight?Bt.intervalId.set(A6(window)):st-uy<=0?Bt.intervalId.set(fy(window)):Vt+uy>=window.innerWidth?Bt.intervalId.set(YB(window)):Vt-uy<=0&&Bt.intervalId.set(GB(window)))})},qB=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},LY=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);qB(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&L1(yt.fromDom(o))},XB=e=>e.button===0,DY=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),zT=(e,n)=>o=>{if(XB(o)){const i=we(n.dom.getParents(o.target),jB).getOr(null);if(s(i)&&ZB(n.dom,n.getBody(),i)){const c=n.dom.getPos(i),f=n.getBody(),h=n.getDoc().documentElement;e.set({element:i,dataTransfer:US(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:h.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:AY(n,i,i.offsetWidth,i.offsetHeight),intervalId:eo(SY)})}}},QB=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),zB(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===m2.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},k6=(e,n,o,i,c)=>{n==="dragstart"&&DM(i,e.dom.getOuterHTML(o));const f=wY(n,o,i,c);return e.dispatch(n,f)},NY=(e,n)=>{const o=vi((c,f)=>QB(n,c,f),0);n.on("remove",o.cancel);const i=e;return c=>e.on(f=>{const h=Math.max(Math.abs(c.screenX-f.screenX),Math.abs(c.screenY-f.screenY));if(!f.dragging&&h>10){const _=k6(n,"dragstart",f.element,f.dataTransfer,c);if(s(_.dataTransfer)&&(f.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const _=c.currentTarget===n.getDoc().documentElement,S=DY(f,CY(n,c));kY(f.ghost,n.getBody()),OY(f.ghost,S,f.width,f.height,f.maxX,f.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),i,_),o.throttle(c.clientX,c.clientY)}})},JB=e=>{const n=e.getSel();if(s(n)){const i=n.getRangeAt(0).startContainer;return Gn(i)?i.parentNode:i}else return null},RY=(e,n)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(TY(n,JB(n.selection),i.element)){const f=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();k6(n,"drop",f,i.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{LY(n.dom,i.element),Nj(i.dataTransfer).each(_=>n.insertContent(_)),n._selectionOverrides.hideFakeCaret()})}k6(n,"dragend",n.getBody(),i.dataTransfer,o)}}),eF(e)},MY=(e,n,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>k6(n,"dragend",i.element,i.dataTransfer),c=>k6(n,"dragend",i.element,i.dataTransfer,c))}),eF(e)},IY=(e,n)=>o=>MY(e,n,w.some(o)),eF=e=>{e.on(n=>{n.intervalId.clear(),qB(n.ghost)}),e.clear()},BY=e=>{const n=hs(),o=kr.DOM,i=document,c=zT(n,e),f=NY(n,e),h=RY(n,e),_=IY(n,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",h),o.bind(i,"mousemove",f),o.bind(i,"mouseup",_),e.on("remove",()=>{o.unbind(i,"mousemove",f),o.unbind(i,"mouseup",_)}),e.on("keydown",S=>{S.keyCode===Co.ESC&&MY(n,e,w.none())})},tF=e=>{const n=c=>{if(!c.isDefaultPrevented()){const f=c.dataTransfer;f&&(D(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&qv(e,"Dropped file type is not supported"))}},o=c=>{S_(e,c.target)&&n(c)},i=()=>{const c=kr.DOM,f=e.dom,h=document,_=e.inline?e.getBody():e.getDoc(),S=["drop","dragover"];I(S,F=>{c.bind(h,F,o),f.bind(_,F,n)}),e.on("remove",()=>{I(S,F=>{c.unbind(h,F,o),f.unbind(_,F,n)})})};e.on("init",()=>{ku.setEditorTimeout(e,i,0)})},UT=e=>{BY(e),y3(e)&&tF(e)},py=e=>{const n=vi(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=nS(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},nF=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Zc(o)){const i=R0(e.getBody(),o),c=Pr(i)?i:o;e.selection.getNode()!==c&&e2(e,c).each(f=>e.selection.setRng(f))}})})},O6=Pr,oF=(e,n)=>R0(e.getBody(),n),FY=e=>{const n=e.selection,o=e.dom,i=e.getBody(),c=XC(e,i,o.isBlock,()=>Xf(e)),f="sel-"+o.uniqueId(),h="data-mce-selected";let _;const S=Un=>s(Un)&&o.hasClass(Un,"mce-offscreen-selection"),F=Un=>Un!==i&&(O6(Un)||Zc(Un))&&o.isChildOf(Un,i)&&o.isEditable(Un.parentNode),oe=Un=>{Un&&n.setRng(Un)},he=(Un,gn,mn,Rn=!0)=>e.dispatch("ShowCaret",{target:gn,direction:Un,before:mn}).isDefaultPrevented()?null:(Rn&&n.scrollIntoView(gn,Un===-1),c.show(mn,gn)),Se=Un=>{Un.hasAttribute("data-mce-caret")&&(o0(Un),n.scrollIntoView(Un))},Be=()=>{e.on("click",gn=>{o.isEditable(gn.target)||(gn.preventDefault(),e.focus())}),e.on("blur NewBlock",rn),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",gn=>{const mn=gn.target,Rn=oF(e,mn);O6(Rn)?(gn.preventDefault(),e2(e,Rn).each(Yt)):F(mn)&&e2(e,mn).each(Yt)},!0),e.on("mousedown",gn=>{const mn=gn.target;if(mn!==i&&mn.nodeName!=="HTML"&&!o.isChildOf(mn,i)||!JU(e,gn.clientX,gn.clientY))return;rn(),so();const Rn=oF(e,mn);O6(Rn)?(gn.preventDefault(),e2(e,Rn).each(Yt)):zB(i,gn.clientX,gn.clientY).each(Lo=>{gn.preventDefault();const Qo=he(1,Lo.node,Lo.position===m2.Before,!1);oe(Qo),uu(Rn)?Rn.focus():e.getBody().focus()})}),e.on("keypress",gn=>{Co.modifierPressed(gn)||O6(n.getNode())&&gn.preventDefault()}),e.on("GetSelectionRange",gn=>{let mn=gn.range;if(_){if(!_.parentNode){_=null;return}mn=mn.cloneRange(),mn.selectNode(_),gn.range=mn}}),e.on("focusin",gn=>{if(e.selection.isCollapsed()&&!Zc(gn.target)&&e.getBody().contains(gn.target)&&gn.target!==e.getBody()&&!e.dom.isEditable(gn.target.parentNode)){c.isShowing()&&c.hide(),gn.target.contains(e.selection.getNode())||(e.selection.select(gn.target,!0),e.selection.collapse(!0));const mn=Yt(e.selection.getRng(),!0);mn&&e.selection.setRng(mn)}}),e.on("SetSelectionRange",gn=>{gn.range=st(gn.range);const mn=Yt(gn.range,gn.forward);mn&&(gn.range=mn)});const Un=gn=>Vo(gn)&&gn.id==="mcepastebin";e.on("AfterSetSelectionRange",gn=>{const mn=gn.range,Rn=mn.startContainer.parentElement;!rt(mn)&&!Un(Rn)&&so(),S(Rn)||rn()}),UT(e),py(e),nF(e)},it=Un=>nr(Un)||t0(Un)||Qu(Un),rt=Un=>it(Un.startContainer)||it(Un.endContainer),st=Un=>{const gn=e.schema.getVoidElements(),mn=o.createRng(),Rn=Un.startContainer,Lo=Un.startOffset,Qo=Un.endContainer,Ms=Un.endOffset;return vn(gn,Rn.nodeName.toLowerCase())?Lo===0?mn.setStartBefore(Rn):mn.setStartAfter(Rn):mn.setStart(Rn,Lo),vn(gn,Qo.nodeName.toLowerCase())?Ms===0?mn.setEndBefore(Qo):mn.setEndAfter(Qo):mn.setEnd(Qo,Ms),mn},Vt=(Un,gn)=>{const mn=yt.fromDom(e.getBody()),Rn=e.getDoc(),Lo=Ma(mn,"#"+f).getOrThunk(()=>{const To=yt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Rn);return Mo(To,"id",f),Lr(mn,To),To}),Qo=o.createRng();Ps(Lo),Bl(Lo,[yt.fromText(Js,Rn),yt.fromDom(gn),yt.fromText(Js,Rn)]),Qo.setStart(Lo.dom.firstChild,1),Qo.setEnd(Lo.dom.lastChild,0),Ni(Lo,{top:o.getPos(Un,e.getBody()).y+"px"}),bp(Lo);const Ms=n.getSel();return Ms&&(Ms.removeAllRanges(),Ms.addRange(Qo)),Qo},Bt=Un=>{const gn=Un.cloneNode(!0),mn=e.dispatch("ObjectSelected",{target:Un,targetClone:gn});if(mn.isDefaultPrevented())return null;const Rn=Vt(Un,mn.targetClone),Lo=yt.fromDom(Un);return I(Nt(yt.fromDom(e.getBody()),`*[${h}]`),Qo=>{Ws(Lo,Qo)||er(Qo,h)}),o.getAttrib(Un,h)||Un.setAttribute(h,"1"),_=Un,so(),Rn},Yt=(Un,gn)=>{if(!Un)return null;if(Un.collapsed){if(!rt(Un)){const Qo=gn?1:-1,Ms=Jp(Qo,i,Un),To=Ms.getNode(!gn);if(s(To)){if(qp(To))return he(Qo,To,gn?!Ms.isAtEnd():!1,!1);if(yu(To)&&Pr(To.nextSibling)){const lo=o.createRng();return lo.setStart(To,0),lo.setEnd(To,0),lo}}const Gt=Ms.getNode(gn);if(s(Gt)){if(qp(Gt))return he(Qo,Gt,gn?!1:!Ms.isAtEnd(),!1);if(yu(Gt)&&Pr(Gt.previousSibling)){const lo=o.createRng();return lo.setStart(Gt,1),lo.setEnd(Gt,1),lo}}}return null}let mn=Un.startContainer,Rn=Un.startOffset;const Lo=Un.endOffset;if(Gn(mn)&&Rn===0&&O6(mn.parentNode)&&(mn=mn.parentNode,Rn=o.nodeIndex(mn),mn=mn.parentNode),!Vo(mn))return null;if(Lo===Rn+1&&mn===Un.endContainer){const Qo=mn.childNodes[Rn];if(F(Qo))return Bt(Qo)}return null},rn=()=>{_&&_.removeAttribute(h),Ma(yt.fromDom(e.getBody()),"#"+f).each(Ar),_=null},Sn=()=>{c.destroy(),_=null},so=()=>{c.hide()};return tp(e)||Be(),{showCaret:he,showBlockCaretContainer:Se,hideFakeCaret:so,destroy:Sn}},PY=(e,n)=>{let o=n;for(let i=e.previousSibling;Gn(i);i=i.previousSibling)o+=i.data.length;return o},VT=(e,n,o,i,c)=>{if(Gn(o)&&(i<0||i>o.data.length))return[];const f=c&&Gn(o)?[PY(o,i)]:[i];let h=o;for(;h!==n&&h.parentNode;)f.push(e.nodeIndex(h,c)),h=h.parentNode;return h===n?f.reverse():[]},WT=(e,n,o,i,c,f,h=!1)=>{const _=VT(e,n,o,i,h),S=VT(e,n,c,f,h);return{start:_,end:S}},KT=(e,n)=>{const o=n.slice(),i=o.pop();return B(i)?Le(o,(f,h)=>f.bind(_=>w.from(_.childNodes[h])),w.some(e)).bind(f=>Gn(f)&&(i<0||i>f.data.length)?w.none():w.some({node:f,offset:i})):w.none()},sF=(e,n)=>KT(e,n.start).bind(({node:o,offset:i})=>KT(e,n.end).map(({node:c,offset:f})=>{const h=document.createRange();return h.setStart(o,i),h.setEnd(c,f),h})),$Y=(e,n,o,i=!1)=>WT(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),lh=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const i=n.parentNode;e.remove(n,Gn(n.firstChild)&&du(n.firstChild.data)),lh(e,i,o)}},L6=(e,n,o,i=!0)=>{const c=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),i&&!o(n.startContainer)&&(Gn(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Gn(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),lh(e,c,o),c!==f&&lh(e,f,o))},jT=(e,n)=>w.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),ZT=(e,n,o)=>{const i=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:gb(i).concat(e.blockPatterns),inlinePatterns:f0(i).concat(e.inlinePatterns)}},gy=(e,n,o,i)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,i),c.toString()},rF=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),H4=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},aF=(e,n,o)=>{const i=sF(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,f=i.endContainer,h=i.endOffset===0?f:f.splitText(i.endOffset),_=i.startOffset===0?c:c.splitText(i.startOffset),S=_.parentNode,F=h.parentNode;return{prefix:n,end:F.insertBefore(rF(e,n+"-end"),h),start:S.insertBefore(rF(e,n+"-start"),_)}},iF=(e,n,o)=>{lh(e,e.get(n.prefix+"-end"),o),lh(e,e.get(n.prefix+"-start"),o)},GT=e=>e.start.length===0,lF=e=>(n,o)=>{const c=n.data.substring(0,o),f=c.lastIndexOf(e.charAt(e.length-1)),h=c.lastIndexOf(e);return h!==-1?h+e.length:f!==-1?f+1:-1},D6=(e,n,o,i)=>{const c=n.start;return ud(e,i.container,i.offset,lF(c),o).bind(h=>{var _,S;const F=(S=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(c))!==null&&S!==void 0?S:-1;if(F!==-1&&h.offset>=F+c.length){const he=e.createRng();return he.setStart(h.container,h.offset-c.length),he.setEnd(h.container,h.offset),w.some(he)}else{const he=h.offset-c.length;return ip(h.container,he,o).map(Se=>{const Be=e.createRng();return Be.setStart(Se.container,Se.offset),Be.setEnd(h.container,h.offset),Be}).filter(Se=>Se.toString()===c).orThunk(()=>D6(e,n,o,n1(h.container,0)))}})},cF=(e,n,o,i,c,f=!1)=>{if(n.start.length===0&&!f){const h=e.createRng();return h.setStart(o,i),h.setEnd(o,i),w.some(h)}return F9(o,i,c).bind(h=>D6(e,n,c,h).bind(S=>{var F;if(f){if(S.endContainer===h.container&&S.endOffset===h.offset)return w.none();if(h.offset===0&&((F=S.endContainer.textContent)===null||F===void 0?void 0:F.length)===S.endOffset)return w.none()}return w.some(S)}))},dF=(e,n,o,i)=>{const c=e.dom,f=c.getRoot(),h=o.pattern,_=o.position.container,S=o.position.offset;return ip(_,S-o.pattern.end.length,n).bind(F=>{const oe=WT(c,f,F.container,F.offset,_,S,i);if(GT(h))return w.some({matches:[{pattern:h,startRng:oe,endRng:oe}],position:F});{const he=my(e,o.remainingPatterns,F.container,F.offset,n,i),Se=he.getOr({matches:[],position:F}),Be=Se.position;return cF(c,h,Be.container,Be.offset,n,he.isNone()).map(rt=>{const st=$Y(c,f,rt,i);return{matches:Se.matches.concat([{pattern:h,startRng:st,endRng:oe}]),position:n1(rt.startContainer,rt.startOffset)}})}})},my=(e,n,o,i,c,f)=>{const h=e.dom;return F9(o,i,h.getRoot()).bind(_=>{const S=gy(h,c,o,i);for(let F=0;F<n.length;F++){const oe=n[F];if(!Do(S,oe.end))continue;const he=n.slice();he.splice(F,1);const Se=dF(e,c,{pattern:oe,remainingPatterns:he,position:_},f);if(Se.isNone()&&i>0)return my(e,n,o,i-1,c,f);if(Se.isSome())return Se}return w.none()})},uF=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?I(n.format,i=>{e.formatter.apply(i)}):e.execCommand(n.cmd,!1,n.value)},fF=(e,n,o,i)=>{const c=H4(e.dom,o);L6(e.dom,c,i),uF(e,n,c)},HY=(e,n,o,i,c)=>{const f=e.dom,h=H4(f,i),_=H4(f,o);L6(f,_,c),L6(f,h,c);const S={prefix:o.prefix,start:o.end,end:i.start},F=H4(f,S);uF(e,n,F)},zY=(e,n)=>{const o=J("mce_textpattern"),i=de(n,(c,f)=>{const h=aF(e,o+`_end${c.length}`,f.endRng);return c.concat([{...f,endMarker:h}])},[]);return de(i,(c,f)=>{const h=i.length-c.length-1,_=GT(f.pattern)?f.endMarker:aF(e,o+`_start${h}`,f.startRng);return c.concat([{...f,startMarker:_}])},[])},UY=e=>Ze(e,(n,o)=>o.end.length-n.end.length),YT=(e,n)=>{const o=ot(e,i=>U(n,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},pF=(e,n,o,i,c,f)=>{const h=my(e,c.inlinePatterns,o,i,n,f).fold(()=>[],S=>S.matches),_=my(e,UY(c.inlinePatterns),o,i,n,f).fold(()=>[],S=>S.matches);return YT(h,_)},gF=(e,n)=>{if(n.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=zY(o,n);I(c,f=>{const h=o.getParent(f.startMarker.start,o.isBlock),_=S=>S===h;GT(f.pattern)?fF(e,f.pattern,f.endMarker,_):HY(e,f.pattern,f.startMarker,f.endMarker,_),iF(o,f.endMarker,_),iF(o,f.startMarker,_)}),e.selection.moveToBookmark(i)},mF=(e,n,o)=>GS(n,0,n).map(i=>{const c=i.container;return YS(c,o.start.length,n).each(f=>{const h=e.createRng();h.setStart(c,0),h.setEnd(f.container,f.offset),L6(e,h,_=>_===n)}),c}),hF=e=>(n,o)=>{const i=n.dom,c=o.pattern,f=sF(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(_,S)=>{const F=S.get(_);return Eo(F)&&$e(F).exists(oe=>vn(oe,"block"))};return jT(n,f).each(_=>{c.type==="block-format"?h(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,_,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,_,c),n.execCommand(c.cmd,!1,c.value)})}),!0},VY=e=>Ze(e,(n,o)=>o.start.length-n.start.length),bF=e=>(n,o)=>{const i=VY(n),c=o.replace(Js," ");return we(i,f=>e(f,o,c))},hy=(e,n)=>(o,i,c,f,h)=>{var _;h===void 0&&(h=(_=i.textContent)!==null&&_!==void 0?_:"");const S=o.dom,F=Mr(o);return S.is(i,F)?e(c.blockPatterns,h).map(oe=>n&&Kn.trim(h).length===oe.start.length?[]:[{pattern:oe,range:WT(S,S.getRoot(),i,0,i,0,f)}]).getOr([]):[]},WY=e=>/^\s[^\s]/.test(e),KY=hF((e,n,o)=>{mF(e,n,o).each(i=>{const c=yt.fromDom(i),f=pr(c);WY(f)&&mc(c,f.slice(1))})}),vF=bF((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),jY=hy(vF,!0),ZY=(e,n)=>{const o=e.selection.getRng();return jT(e,o).map(i=>{var c;const f=Math.max(0,o.startOffset),h=ZT(n,i,(c=i.textContent)!==null&&c!==void 0?c:""),_=pF(e,i,o.startContainer,f,h,!0),S=jY(e,i,h,!0);return{inlineMatches:_,blockMatches:S}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},GY=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();I(n,i=>KY(e,i)),e.selection.moveToBookmark(o)},YY=hF(mF),qY=bF((e,n,o)=>n===e.start||o===e.start),XY=hy(qY,!1),QY=(e,n)=>{const o=e.selection.getRng();return jT(e,o).map(i=>{const c=Math.max(0,o.startOffset),f=gy(e.dom,i,o.startContainer,c),h=ZT(n,i,f);return XY(e,i,h,!1,f)}).filter(i=>i.length>0)},JY=(e,n)=>{I(n,o=>YY(e,o))},xF=(e,n)=>ZY(e,n).fold(K,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{W5(e),gF(e,o),GY(e,i);const c=e.selection.getRng(),f=F9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(h=>{const _=h.container;_.data.charAt(h.offset-1)===wa&&(_.deleteData(h.offset-1,1),lh(e.dom,_.parentNode,S=>S===e.dom.getRoot()))})}),!0)),eq=(e,n)=>{const o=e.selection.getRng();jT(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),f=gy(e.dom,i,o.startContainer,c),h=ZT(n,i,f),_=pF(e,i,o.startContainer,c,h,!1);_.length>0&&e.undoManager.transact(()=>{gF(e,_)})})},qT=(e,n)=>QY(e,n).fold(K,o=>(e.undoManager.transact(()=>{JY(e,o)}),!0)),yF=(e,n,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],n))return!0;return!1},tq=(e,n)=>yF(e,n,(o,i)=>o===i.keyCode&&!Co.modifierPressed(i)),nq=(e,n)=>yF(e,n,(o,i)=>o.charCodeAt(0)===i.charCode),oq=e=>{const n=[",",".",";",":","!","?"],o=[32],i=()=>I8(w3(e).filter(h=>h.type==="inline-command"||h.type==="block-command"?e.queryCommandSupported(h.cmd):!0),Tb(e)),c=()=>UC(e);e.on("keydown",h=>{if(h.keyCode===13&&!Co.modifierPressed(h)&&e.selection.isCollapsed()&&e.selection.isEditable()){const _=ef(i(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||c())&&xF(e,_)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const _=ef(i(),"space");(_.blockPatterns.length>0||c())&&qT(e,_)&&h.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const h=ef(i(),"space");(h.inlinePatterns.length>0||c())&&eq(e,h)}};e.on("keyup",h=>{tq(o,h)&&f()}),e.on("keypress",h=>{nq(n,h)&&ku.setEditorTimeout(e,f)})},sq=e=>{oq(e)},rq=e=>{const n=Kn.each,o=Co.BACKSPACE,i=Co.DELETE,c=e.dom,f=e.selection,h=e.parser,_=fr.browser,S=_.isFirefox(),F=_.isChromium()||_.isSafari(),oe=fr.deviceType.isiPhone()||fr.deviceType.isiPad(),he=fr.os.isMacOS()||fr.os.isiOS(),Se=(Pn,ho)=>{try{e.getDoc().execCommand(Pn,!1,String(ho))}catch{}},Be=Pn=>Pn.isDefaultPrevented(),it=()=>{const Pn=vs=>{const Ts=c.create("body"),vr=vs.cloneContents();return Ts.appendChild(vr),f.serializer.serialize(Ts,{format:"html"})},ho=vs=>{const Ts=Pn(vs),vr=c.createRng();vr.selectNode(e.getBody());const sa=Pn(vr);return Ts===sa};e.on("keydown",vs=>{const Ts=vs.keyCode;if(!Be(vs)&&(Ts===i||Ts===o)&&e.selection.isEditable()){const vr=e.selection.isCollapsed(),sa=e.getBody();if(vr&&!Of(e.schema,sa)||!vr&&!ho(e.selection.getRng()))return;vs.preventDefault(),e.setContent(""),sa.firstChild&&c.isBlock(sa.firstChild)?e.selection.setCursorLocation(sa.firstChild,0):e.selection.setCursorLocation(sa,0),e.nodeChanged()}})},rt=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},st=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Pn=>{let ho;if(Pn.target===e.getDoc().documentElement)if(ho=f.getRng(),e.getBody().focus(),Pn.type==="mousedown"){if(nr(ho.startContainer))return;f.placeCaretAt(Pn.clientX,Pn.clientY)}else f.setRng(ho)})},Vt=()=>{e.on("keydown",Pn=>{if(!Be(Pn)&&Pn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const ho=f.getNode(),vs=ho.previousSibling;if(ho.nodeName==="HR"){c.remove(ho),Pn.preventDefault();return}vs&&vs.nodeName&&vs.nodeName.toLowerCase()==="hr"&&(c.remove(vs),Pn.preventDefault())}}})},Bt=()=>{Range.prototype.getClientRects||e.on("mousedown",Pn=>{if(!Be(Pn)&&Pn.target.nodeName==="HTML"){const ho=e.getBody();ho.blur(),ku.setEditorTimeout(e,()=>{ho.focus()})}})},Yt=()=>{const Pn=Sm(e);e.on("click",ho=>{const vs=ho.target;/^(IMG|HR)$/.test(vs.nodeName)&&c.isEditable(vs)&&(ho.preventDefault(),e.selection.select(vs),e.nodeChanged()),vs.nodeName==="A"&&c.hasClass(vs,Pn)&&vs.childNodes.length===0&&c.isEditable(vs.parentNode)&&(ho.preventDefault(),f.select(vs))})},rn=()=>{const Pn=ho=>ho.nodeName==="IMG"&&e.dom.isEditable(ho);e.on("mousedown",ho=>{Tt(w.from(ho.clientX),w.from(ho.clientY),(vs,Ts)=>{const vr=e.getDoc().caretPositionFromPoint(vs,Ts),sa=(vr==null?void 0:vr.offsetNode.childNodes[vr.offset-(vr.offset>0?1:0)])||(vr==null?void 0:vr.offsetNode);if(sa&&Pn(sa)){const Mu=sa.getBoundingClientRect();ho.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(sa),ho.clientX<Mu.left||ho.clientY<Mu.top?e.selection.collapse(!0):(ho.clientX>Mu.right||ho.clientY>Mu.bottom)&&e.selection.collapse(!1)}})})},Sn=()=>{const Pn=()=>{const vs=c.getAttribs(f.getStart().cloneNode(!1));return()=>{const Ts=f.getStart();Ts!==e.getBody()&&(c.setAttrib(Ts,"style",null),n(vs,vr=>{Ts.setAttributeNode(vr.cloneNode(!0))}))}},ho=()=>!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock);e.on("keypress",vs=>{let Ts;return!Be(vs)&&(vs.keyCode===8||vs.keyCode===46)&&ho()?(Ts=Pn(),e.getDoc().execCommand("delete",!1),Ts(),vs.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",vs=>{if(!Be(vs)&&ho()){const Ts=Pn();ku.setEditorTimeout(e,()=>{Ts()})}})},so=()=>{e.on("keydown",Pn=>{if(!Be(Pn)&&Pn.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const ho=f.getNode().previousSibling;if(ho&&ho.nodeName&&ho.nodeName.toLowerCase()==="table")return Pn.preventDefault(),!1}return!0})},Un=()=>{e.on("keydown",Pn=>{if(Be(Pn)||Pn.keyCode!==Co.BACKSPACE)return;let ho=f.getRng();const vs=ho.startContainer,Ts=ho.startOffset,vr=c.getRoot();let sa=vs;if(!(!ho.collapsed||Ts!==0)){for(;sa.parentNode&&sa.parentNode.firstChild===sa&&sa.parentNode!==vr;)sa=sa.parentNode;sa.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,sa),ho=c.createRng(),ho.setStart(vs,0),ho.setEnd(vs,0),f.setRng(ho))}})},gn=()=>{const Pn=nu("figcaption");e.on("keydown",ho=>{if(ho.keyCode===Co.LEFT||ho.keyCode===Co.RIGHT){const vs=yt.fromDom(e.selection.getNode());Pn(vs)&&e.selection.isCollapsed()&&si(vs).bind(Ts=>{var vr;return e.selection.getRng().startOffset===0&&ho.keyCode===Co.LEFT?Qs(Ts):e.selection.getRng().endOffset===((vr=vs.dom.textContent)===null||vr===void 0?void 0:vr.length)&&ho.keyCode===Co.RIGHT?xd(Ts):w.none()}).each(Ts=>{e.selection.setCursorLocation(Ts.dom,0)})}})},mn=()=>{const Pn=()=>{Se("StyleWithCSS",!1),Se("enableInlineTableEditing",!1),j8(e)||Se("enableObjectResizing",!1)};PC(e)||e.on("BeforeExecCommand mousedown",Pn)},Rn=()=>{const Pn=()=>{n(c.select("a:not([data-mce-block])"),ho=>{var vs;let Ts=ho.parentNode;const vr=c.getRoot();if((Ts==null?void 0:Ts.lastChild)===ho){for(;Ts&&!c.isBlock(Ts);){if(((vs=Ts.parentNode)===null||vs===void 0?void 0:vs.lastChild)!==Ts||Ts===vr)return;Ts=Ts.parentNode}c.add(Ts,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ho=>{(ho.type==="setcontent"||ho.command==="mceInsertLink")&&Pn()})},Lo=()=>{e.on("init",()=>{Se("DefaultParagraphSeparator",Mr(e))})},Qo=Pn=>{const ho=Pn.getBody(),vs=Pn.selection.getRng();return vs.startContainer===vs.endContainer&&vs.startContainer===ho&&vs.startOffset===0&&vs.endOffset===ho.childNodes.length},Ms=()=>{e.on("keyup focusin mouseup",Pn=>{!Co.modifierPressed(Pn)&&!Qo(e)&&f.normalize()},!0)},To=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Gt=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},lo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Pn=>{let ho;Pn.target.nodeName==="HTML"&&(ho=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ho),e.selection.normalize(),e.nodeChanged())}))},rs=()=>{he&&e.on("keydown",Pn=>{Co.metaKeyPressed(Pn)&&!Pn.shiftKey&&(Pn.keyCode===37||Pn.keyCode===39)&&(Pn.preventDefault(),e.selection.getSel().modify("move",Pn.keyCode===37?"backward":"forward","lineboundary"))})},dr=()=>{e.on("click",Pn=>{let ho=Pn.target;do if(ho.tagName==="A"){Pn.preventDefault();return}while(ho=ho.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},va=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Pn=>{Pn.preventDefault()})})},Zn=()=>{h.addNodeFilter("br",Pn=>{let ho=Pn.length;for(;ho--;)Pn[ho].attr("class")==="Apple-interchange-newline"&&Pn[ho].remove()})},Ro=a,Xs=()=>{if(!S||e.removed)return!1;const Pn=e.selection.getSel();return!Pn||!Pn.rangeCount||Pn.rangeCount===0},rr=()=>{F&&(st(),Yt(),va(),rt(),oe&&(Gt(),lo(),dr())),S&&(Bt(),mn(),To(),rs())},Bo=()=>{Un(),it(),fr.windowsPhone||Ms(),F&&(st(),Yt(),Lo(),va(),so(),Zn(),oe?(Gt(),lo(),dr()):rt()),S&&(gn(),rn(),Vt(),Bt(),Sn(),mn(),Rn(),To(),rs(),so())};return tp(e)?rr():Bo(),{refreshContentEditable:Ro,isHidden:Xs}},z4=kr.DOM,aq=(e,n)=>{const o=yt.fromDom(e.getBody()),i=tl(ou(o)),c=yt.fromTag("style");Mo(c,"type","text/css"),Lr(c,yt.fromText(n)),Lr(i,c),e.on("remove",()=>{Ar(c)})},iq=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,XT=e=>nn(e,n=>Ls(n)===!1),CF=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return XT({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_html_in_comments:n("allow_html_in_comments"),allow_mathml_annotation_encodings:n("allow_mathml_annotation_encodings"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),extended_mathml_attributes:n("extended_mathml_attributes"),extended_mathml_elements:n("extended_mathml_elements"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:iq(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:Lb(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},_F=e=>{const n=e.options.get;return XT({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},lq=e=>{const n=e.options.get;return{...CF(e),..._F(e),...XT({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},cq=e=>{const n=q3(CF(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,f="data-mce-"+i;let h=o.length;for(;h--;){const _=o[h];let S=_.attr(i);if(S&&!_.attr(f)){if(S.indexOf("data:")===0||S.indexOf("blob:")===0)continue;i==="style"?(S=c.serializeStyle(c.parseStyle(S),_.name),S.length||(S=null),_.attr(f,S),_.attr(i,S)):i==="tabindex"?(_.attr(f,S),_.attr(i,null)):_.attr(f,e.convertURL(S,i,_.name))}}}),n.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),i7(e)&&n.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const f=o[c];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((i=f.value)!==null&&i!==void 0?i:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const f=o[i];f.isEmpty(c)&&f.getAll("br").length===0&&f.append(new kl("br",1))}}),n},dq=e=>{const n=J8(e);n&&ku.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},uq=e=>{const n=e.dom.getRoot();!e.inline&&(!w0(e)||e.selection.getStart(!0)===n)&&Bi(n).each(o=>{const i=o.getNode(),c=pu(i)?Bi(i).getOr(o):o;e.selection.setRng(c.toRange())})},EF=e=>{e.bindPendingEventDelegates(),e.initialized=!0,mb(e),e.focus(!0),uq(e),e.nodeChanged({initial:!0});const n=Q8(e);b(n)&&n.call(e,e),dq(e),Cg(e)&&wN(e,!0)},QT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,wF=(e,n,o)=>{const{pass:i,fail:c}=ne(n,_=>tinymce.Resource.has(Gx(_))),h=[...i.map(_=>{const S=tinymce.Resource.get(Gx(_));return lt(S)?Promise.resolve(QT(e).loadRawCss(_,S)):Promise.resolve()}),QT(e).loadAll(c)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},SF=e=>{const n=QT(e),o=x3(e),i=e.contentCSS,c=()=>{n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let S="";Kn.each(e.contentStyles,F=>{S+=F+`\r
`}),e.dom.addStyle(S)}const h=Promise.all(wF(e,i,o)).then(f).catch(f),_=v3(e);return _&&aq(e,_),h},fq=e=>{const n=e.getDoc(),o=e.getBody();gC(e),e7(e)||(n.body.spellcheck=!1,z4.setAttrib(o,"spellcheck","false")),e.quirks=rq(e),mC(e);const i=xb(e);i!==void 0&&(o.dir=i);const c=t7(e);c&&e.on("BeforeSetContent",f=>{Kn.each(c,h=>{f.content=f.content.replace(h,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},TF=e=>{tp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},h2=e=>{e.removed!==!0&&(TF(e),EF(e))},pq=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},JT=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(z4.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const i=e.getBody();i.disabled=!0,e.readonly=PC(e),e._editableRoot=X8(e),!Am(e)&&e.hasEditableRoot()&&(e.inline&&z4.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=xV(e),e.schema=oc(_F(e)),e.dom=kr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:g0(e),referrerPolicy:vb(e),crossOrigin:W8(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=cq(e),e.serializer=Vx(lq(e),e),e.selection=iw(e.dom,e.getWin(),e.serializer,e),e.annotator=T0(e),e.formatter=Ow(e),e.undoManager=BN(e),e._nodeChangeDispatcher=new wG(e),e._selectionOverrides=FY(e),uB(e),aM(e),BT(e),tj(e),tp(e)||($B(e),sq(e));const c=vG(e);RS(e,c),XK(e),AV(e),nY(e,c);const f=Vv(e);fq(e),f.fold(()=>{const h=pq(e);SF(e).then(()=>{h2(e),h()})},h=>{e.setProgressState(!0),SF(e).then(()=>{h().then(_=>{e.setProgressState(!1),h2(e),sw(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),h2(e),sw(e)})})})},eA=kr.DOM,gq=(e,n,o,i)=>{const c=yt.fromTag("iframe");return i.each(f=>Mo(c,"tabindex",f)),Aa(c,o),Aa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),b1(c,"tox-edit-area__iframe"),c},mq=e=>{let n=m3(e)+"<html><head>";Cm(e)!==e.editorManager.documentBaseURL&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=h3(e),i=_m(e),c=e.translate(tf(e));return p0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+p0(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},hq=(e,n)=>{const o=fr.browser.isFirefox()?tf(e):"Rich Text Area",i=e.translate(o),c=pa(yt.fromDom(e.getElement()),"tabindex").bind(Tr),f=gq(e.id,i,rc(e),c).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=f,e.iframeHTML=mq(e),eA.add(n.iframeContainer,f)},AF=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,JT(e)};if(C0(e)||fr.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=Vc(yt.fromDom(n),"load",()=>{i.unbind(),o()});n.srcdoc=e.iframeHTML}},bq=(e,n)=>{hq(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=eA.isHidden(n.editorContainer)),e.getElement().style.display="none",eA.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,AF(e)},tA=kr.DOM,vq=(e,n,o)=>{const i=H0.get(o),c=H0.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=Kn.trim(o),i&&Kn.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=i(e,c)||{};e.plugins[o]=f,b(f.init)&&(f.init(e,c),n.push(o))}catch(f){cd(e,o,f)}}},xq=e=>{const n=o=>{o.keyCode===Co.ESC&&!o.defaultPrevented&&_C(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",n),e.inline||e.on("keyup",n),e.on("remove",()=>{document.removeEventListener("keyup",n),e.inline||e.off("keyup",n)})},yq=e=>e.replace(/^\-/,""),Cq=e=>{const n=[];I(F1(e),o=>{vq(e,n,yq(o))})},_q=e=>{const n=Kn.trim(Vp(e)),o=e.ui.registry.getAll().icons,i={...Gv.get("default").icons,...Gv.get(n).icons};Zt(i,(c,f)=>{vn(o,f)||e.ui.registry.addIcon(f,c)})},Eq=e=>{const n=Wp(e);if(lt(n)){const o=vg.get(n);e.theme=o(e,vg.urls[n])||{},b(e.theme.init)&&e.theme.init(e,vg.urls[n]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},wq=e=>{const n=h0(e),o=n4.get(n);e.model=o(e,n4.urls[n])},Sq=e=>{yw.init(e)},Tq=e=>{const n=e.theme.renderUI;return n?n():nA(e)},kF=e=>{const n=e.getElement(),i=Wp(e)(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},by=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),OF=e=>{const n=tA.create("div");return tA.insertAfter(n,e),by(n,n)},nA=e=>{const n=e.getElement();return e.inline?by(null):OF(n)},Aq=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,lt(Wp(e))?Tq(e):b(Wp(e))?kF(e):nA(e)},kq=(e,n)=>{const o={show:w.from(n.show).getOr(a),hide:w.from(n.hide).getOr(a),isEnabled:w.from(n.isEnabled).getOr(ee),setEnabled:i=>{i&&(e.mode.get()==="readonly"||Cg(e))||w.from(n.setEnabled).each(f=>f(i))}};e.ui={...e.ui,...o}},Oq=async e=>{e.dispatch("ScriptsLoaded"),_q(e),xq(e),Eq(e),wq(e),Sq(e),Cq(e);const n=await Aq(e);kq(e,w.from(n.api).getOr({})),e.editorContainer=n.editorContainer,KQ(e),e.inline?JT(e):bq(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},ch=kr.DOM,oA=e=>e.charAt(0)==="-",Lq=(e,n)=>{const o=m0(n),i=LC(n);if(!qc.hasCode(o)&&o!=="en"){const c=bo(i)?i:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{Qv(n,c,o)})}},Dq=(e,n)=>{const o=Wp(e);if(lt(o)&&!oA(o)&&!vn(vg.urls,o)){const i=_b(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${n}.js`;vg.load(o,c).catch(()=>{nV(e,c,o)})}},sA=(e,n)=>{const o=h0(e);if(o!=="plugin"&&!vn(n4.urls,o)){const i=I1(e),c=lt(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${n}.js`;n4.load(o,c).catch(()=>{oV(e,c,o)})}},vy=(e,n)=>{yw.load(e,n)},LF=e=>w.from(ar(e)).filter(bo).map(n=>({url:n,name:w.none()})),rA=(e,n,o)=>w.from(n).filter(i=>bo(i)&&!Gv.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:w.some(i)})),DF=(e,n,o)=>{const i=rA(n,"default",o),c=LF(n).orThunk(()=>rA(n,Vp(n),""));I(kt([i,c]),f=>{e.add(f.url).catch(()=>{hN(n,f.url,f.name.getOrUndefined())})})},Nq=(e,n)=>{const o=(i,c)=>{i!=="licensekeymanager"&&H0.load(i,c).catch(()=>{gw(e,c,i)})};Zt(v0(e),(i,c)=>{o(c,i),e.options.set("plugins",F1(e).concat(c))}),I(F1(e),i=>{i=Kn.trim(i),i&&!H0.urls[i]&&!oA(i)&&o(i,`plugins/${i}/plugin${n}.js`)})},Rq=e=>{const n=Wp(e);return!lt(n)||s(vg.get(n))},Mq=e=>{const n=h0(e);return s(n4.get(n))},Iq=(e,n)=>{const o=Us.ScriptLoader,i=()=>{!e.removed&&Rq(e)&&Mq(e)&&Oq(e)};Dq(e,n),sA(e,n),vy(e,n),Lq(o,e),DF(o,e,n),Nq(e,n),o.loadQueue().then(i,i)},lp=(e,n)=>xr.forElement(e,{contentCssCors:Eb(n),referrerPolicy:vb(n)}),NF=e=>{const n=e.id;qc.setCode(m0(e));const o=()=>{ch.unbind(window,"ready",o),e.render()};if(!T1.Event.domLoaded){ch.bind(window,"ready",o);return}if(!e.getElement())return;const i=yt.fromDom(e.getElement()),c=ru(i);e.on("remove",()=>{N(i.dom.attributes,h=>er(i,h.name)),Aa(i,c)}),e.ui.styleSheetLoader=lp(i,e),Kp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||ch.getParent(n,"form");f&&(e.formElement=f,BC(e)&&!kf(e.getElement())&&(ch.insertAfter(ch.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},ch.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),B1(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=Yv(e),e.notificationManager=Du(e),VC(e)&&e.on("GetContent",h=>{h.save&&(h.content=ch.encode(h.content))}),G8(e)&&e.on("submit",()=>{e.initialized&&e.save()}),Y8(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Iq(e,e.suffix)},RF=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],MF=e=>{var n;return Intl.Segmenter?`${(n=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)===null||n===void 0?void 0:n.segment}`:e.trim()[0]},Bq=()=>{const e=Math.floor(ze()*RF.length);return RF[e]},Fq=(e,n,o=36)=>{const i=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${i}" cy="${i}" r="${i}" fill="${n}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${i}">`+MF(e)+"</text></svg>"},N6=e=>{const n=Fq(e,Bq());return"data:image/svg+xml,"+encodeURIComponent(n)},xy=fI([iZ("id"),vI("name"),vI("avatar"),hI("custom")]),Pq=e=>{const n={};return Zt(e,(o,i)=>{o.each(c=>{n[i]=c})}),n},$q=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const n=V(e,c=>y6("Invalid user object",xy,c)),{errors:o,values:i}=_n(n);if(o.length>0){const c=V(o,(f,h)=>`User at index ${h}: ${pI(f)}`);console.warn(`User validation errors:
`+c.join(`
`))}return V(i,c=>{const{id:f,name:h,avatar:_,...S}=c;return{id:f,name:h.getOr(f),avatar:_.getOr(N6(h.getOr(f))),...Pq(S)}})},Hq=e=>{const n=new Map,o=new Map,i=F=>w.from(n.get(F)),c=(F,oe)=>{n.set(oe,F)},f=(F,oe)=>w.from(o.get(F)).each(({reject:he})=>{he(oe),o.delete(F)}),h=(F,oe)=>w.from(o.get(F)).each(({resolve:he})=>{he(oe),o.delete(F)}),_=F=>{const oe=p7(e);if(Array.isArray(F)){if(!oe)return Ve(F,Se=>Promise.resolve({id:Se,name:Se,avatar:N6(Se)}))}else return{};const he=Lt(G(F,Se=>!i(Se).isSome()));return I(he,Se=>{const Be=new Promise((it,rt)=>{o.set(Se,{resolve:it,reject:rt})});c(Be,Se)}),he.length>0&&oe(he).then($q).then(Se=>{const Be=new Set(V(Se,it=>it.id));I(Se,it=>h(it.id,it)),I(he,it=>{Be.has(it)||f(it,new Error(`User ${it} not found`))})}).catch(Se=>{I(he,Be=>f(Be,Se instanceof Error?Se:new Error("Network error")))}),Le(F,(Se,Be)=>(Se[Be]=i(Be).getOr(Promise.resolve({id:Be,name:Be,avatar:N6(Be)})),Se),{})},S=_0(e);return Object.freeze({userId:S,fetchUsers:_})},IF=e=>Hq(e),zq=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,Cg(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),zA(e,n))},BF=e=>e._editableRoot,Uq=(e,n)=>({sections:L(e),options:L(n)}),FF=$c().deviceType,PF=FF.isPhone(),Vq=FF.isTablet(),R6=e=>{if(us(e))return[];{const n=Eo(e)?e:e.split(/[ ,]/),o=V(n,As);return G(o,bo)}},$F=(e,n)=>{const o=It(n,(i,c)=>D(e,c));return Uq(o.t,o.f)},yy=(e,n,o={})=>{const i=e.sections(),c=Mn(i,n).getOr({});return Kn.extend({},o,c)},M6=(e,n)=>vn(e.sections(),n),Wq=(e,n)=>M6(e,n)?e.sections()[n]:{},HF=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Mn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),zF=(e,n)=>{var o;const i=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Kn.extend({},e.external_plugins,i):i},Kq=(e,n)=>[...R6(e),...R6(n)],UF=(e,n,o,i)=>e&&M6(n,"mobile")?i:o,jq=(e,n,o,i)=>{const c=R6(o.forced_plugins),f=R6(i.plugins),h=Wq(n,"mobile"),_=h.plugins?R6(h.plugins):f,S=UF(e,n,f,_),F=Kq(c,S);return Kn.extend(i,{forced_plugins:c,plugins:F})},Zq=(e,n)=>e&&M6(n,"mobile"),Gq=(e,n,o,i,c)=>{var f;const h=e?{mobile:HF((f=c.mobile)!==null&&f!==void 0?f:{},n)}:{},_=$F(["mobile"],ft(h,c)),S=Kn.extend(o,i,_.options(),Zq(e,_)?yy(_,"mobile"):{},{external_plugins:zF(i,_.options())});return jq(e,_,i,S)},Yq=(e,n)=>{const o=gt(n);return Gq(PF||Vq,PF,o,e,o)},VF=(e,n)=>ZD(e,n),WF=e=>{const n=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{I("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&n("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},KF=e=>{const n=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return U(c,f=>s(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},jF=e=>{WF(e),KF(e)},ZF=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let i;try{o.execCommand(n)}catch{i=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(i=!0),i||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(fr.os.isMacOS()||fr.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},GF=(e,n,o,i)=>{const c=yt.fromDom(e.getRoot());return hv(c,hn.fromRangeStart(n),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),bv(c,hn.fromRangeEnd(n),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},aA=e=>{if(typeof e!="string"){const n=Kn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},YF=(e,n)=>{const o=e.selection,i=e.dom;return/^ | $/.test(n)?GF(i,o.getRng(),n,e.schema):n},I6=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:i}=aA(n);hg(e,{...i,content:YF(e,o),format:"html",set:!1,selection:!0}).each(c=>{const f=qU(e,c.content,i);bg(e,f,c),e.addVisual()})}},qF=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,i)=>{I6(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,i)=>{I6(e,e.dom.encode(i))},insertHTML:(n,o,i)=>{I6(e,i)},mceInsertContent:(n,o,i)=>{I6(e,i)},mceSetContent:(n,o,i)=>{e.setContent(i)},mceReplaceContent:(n,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(_3(e))}})},qq={"font-size":"size","font-family":"face"},Xq=nu("font"),XF=(e,n,o)=>{const i=f=>tc(f,e).orThunk(()=>Xq(f)?Mn(qq,e).bind(h=>pa(f,h)):w.none()),c=f=>Ws(yt.fromDom(n),f);return ma(yt.fromDom(o),f=>i(f),c)},QF=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),JF=(e,n)=>w.from(kr.DOM.getStyle(n,e,!0)),iA=e=>(n,o)=>w.from(o).map(yt.fromDom).filter(da).bind(i=>XF(e,n,i.dom).or(JF(e,i.dom))).getOr(""),lA=iA("font-size"),cA=p(QF,iA("font-family")),Cy=e=>Bi(e.getBody()).bind(n=>{const o=n.container();return w.from(Gn(o)?o.parentNode:o)}),eP=e=>w.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?w.none():w.from(e.selection.getStart(!0))}),tP=(e,n)=>eP(e).orThunk(z(Cy,e)).map(yt.fromDom).filter(da).bind(n),_y=(e,n)=>tP(e,M(w.some,n)),Ey=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const i=c7(e),c=Ob(e);return c.length>0?c[o-1]||n:i[o-1]||n}else return n}else return n},nP=e=>{const n=e.split(/\s*,\s*/);return V(n,o=>o.indexOf(" ")!==-1&&!(Go(o,'"')||Go(o,"'"))?`'${o}'`:o).join(",")},oP=(e,n)=>{const o=Ey(e,n);e.formatter.toggle("fontname",{value:nP(o)}),e.nodeChanged()},Qq=e=>_y(e,n=>cA(e.getBody(),n.dom)).getOr(""),sP=(e,n)=>{e.formatter.toggle("fontsize",{value:Ey(e,n)}),e.nodeChanged()},Jq=e=>_y(e,n=>lA(e.getBody(),n.dom)).getOr(""),eX=e=>_y(e,n=>{const o=yt.fromDom(e.getBody()),i=ma(n,f=>tc(f,"line-height"),z(Ws,o)),c=()=>{const f=parseFloat(Va(n,"line-height")),h=parseFloat(Va(n,"font-size"));return String(f/h)};return i.getOrThunk(c)}).getOr(""),tX=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},rP=e=>{const n=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,i,c)=>{n(o,{value:c})},BackColor:(o,i,c)=>{n("hilitecolor",{value:c})},FontName:(o,i,c)=>{oP(e,c)},FontSize:(o,i,c)=>{sP(e,c)},LineHeight:(o,i,c)=>{tX(e,c)},Lang:(o,i,c)=>{var f;n(o,{value:c.code,customValue:(f=c.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,i,c)=>{n(lt(c)?c:"p")},mceToggleFormat:(o,i,c)=>{n(c)}})},nX=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Qq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Jq(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>eX(e))},aP=e=>{rP(e),nX(e)},wy=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},oX=e=>{e.editorCommands.addCommands({Indent:()=>{YK(e)},Outdent:()=>{JR(e)}}),e.editorCommands.addCommands({Outdent:()=>y9(e),Indent:()=>YR(e)},"state")},iP=e=>{const n=(o,i,c)=>{if(e.mode.isReadOnly())return;const f=lt(c)?{href:c}:c,h=e.dom.getParent(e.selection.getNode(),"a");Xn(f)&&lt(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!h||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},sX=(e,n,o,i)=>{const c=e.dom,f=_=>c.isBlock(_)&&_.parentElement===o,h=f(n)?n:c.getParent(i,f,o);return w.from(h).map(yt.fromDom)},dA=(e,n)=>{if(e.mode.isReadOnly())return;const o=e.dom,i=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),f=n?i.startContainer:i.endContainer,h=N4(o,f);if(!h||!h.isContentEditable)return;const _=n?Qa:yd,S=Mr(e);sX(e,c,h,f).each(F=>{const oe=MI(e,f,F.dom,h,!1,S);_(F,yt.fromDom(oe)),e.selection.setCursorLocation(oe,0),e.dispatch("NewBlock",{newBlock:oe}),C6(e,"insertParagraph")})},uA=e=>dA(e,!0),rX=e=>dA(e,!1),aX=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{uA(e)},InsertNewBlockAfter:()=>{rX(e)}})},lP=e=>{e.editorCommands.addCommands({insertParagraph:()=>{J9(pT,e)},mceInsertNewLine:(n,o,i)=>{GI(e,i)},InsertLineBreak:(n,o,i)=>{J9(s1,e)}})},iX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),f=>Vo(f)&&c++===i?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,i)=>{e.selection.select(i)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ni);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},lX=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,i)=>{tk(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},cX=e=>{jF(e),ZF(e),wy(e),iX(e),qF(e),iP(e),oX(e),aX(e),lP(e),aP(e),lX(e)},dX=["toggleview"],cP=e=>D(dX,e.toLowerCase());class fA{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,i,c){const f=this.editor,h=n.toLowerCase(),_=c==null?void 0:c.skip_focus;if(f.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!_?f.focus():XP(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:i}).isDefaultPrevented()))return!1;const F=this.commands.exec[h];return b(F)?(F(h,o,i,c),f.dispatch("ExecCommand",{command:n,ui:o,value:i,args:c}),!0):!1}queryCommandState(n){if(!cP(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),i=this.commands.state[o];return b(i)?i(o):!1}queryCommandValue(n){if(!cP(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),i=this.commands.value[o];return b(i)?i(o):""}addCommands(n,o="exec"){const i=this.commands;Zt(n,(c,f)=>{I(f.toLowerCase().split(","),h=>{i[o][h]=c})})}addCommand(n,o,i){const c=n.toLowerCase();this.commands.exec[c]=(f,h,_,S)=>o.call(i??this.editor,h,_,S)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,i){this.commands.state[n.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(n,o,i){this.commands.value[n.toLowerCase()]=()=>o.call(i??this.editor)}}const dP=Kn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class pA{static isNative(n){return!!dP[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||K}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const i=n.toLowerCase(),c=am(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const f=this.bindings[i];if(f)for(let h=0,_=f.length;h<_;h++){const S=f[h];if(!S.removed){if(S.once&&this.off(i,S.func),c.isImmediatePropagationStopped())return c;if(S.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,i,c){if(o===!1&&(o=K),o){const f={func:o,removed:!1};c&&Kn.extend(f,c);const h=n.toLowerCase().split(" ");let _=h.length;for(;_--;){const S=h[_];let F=this.bindings[S];F||(F=[],this.toggleEvent(S,!0)),i?F=[f,...F]:F=[...F,f],this.bindings[S]=F}}return this}off(n,o){if(n){const i=n.toLowerCase().split(" ");let c=i.length;for(;c--;){const f=i[c];let h=this.bindings[f];if(!f)return Zt(this.bindings,(_,S)=>{this.toggleEvent(S,!1),delete this.bindings[S]}),this;if(h){if(!o)h.length=0;else{const _=ne(h,S=>S.func===o);h=_.fail,this.bindings[f]=h,I(_.pass,S=>{S.removed=!0})}h.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Zt(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,i){return this.on(n,o,i,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const B6=e=>(e._eventDispatcher||(e._eventDispatcher=new pA({scope:e,toggleEvent:(n,o)=>{pA.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),gA={fire(e,n,o){return IE("fire"),this.dispatch(e,n,o)},dispatch(e,n,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return am(e.toLowerCase(),n??{},i);const c=B6(i).dispatch(e,n);if(o!==!1&&i.parent){let f=i.parent();for(;f&&!c.isPropagationStopped();)f.dispatch(e,c,!1),f=f.parent?f.parent():void 0}return c},on(e,n,o){return B6(this).on(e,n,o)},off(e,n){return B6(this).off(e,n)},once(e,n){return B6(this).once(e,n)},hasEventListeners(e){return B6(this).has(e)}},Sy=kr.DOM;let t;const r=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Cb(e);return o?(e.eventRoot||(e.eventRoot=Sy.select(o)[0]),e.eventRoot):e.getBody()},l=e=>!e.hidden&&!Cg(e),d=(e,n,o)=>{l(e)?e.dispatch(n,o):Cg(e)&&AN(e,o)},g=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=r(e,n);if(Cb(e)){if(t||(t={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||t&&(Zt(t,(c,f)=>{e.dom.unbind(r(e,f))}),t=null)})),t[n])return;const i=c=>{const f=c.target,h=e.editorManager.get();let _=h.length;for(;_--;){const S=h[_].getBody();(S===f||Sy.isChildOf(f,S))&&d(h[_],n,c)}};t[n]=i,Sy.bind(o,n,i)}else{const i=c=>{d(e,n,c)};Sy.bind(o,n,i),e.delegates[n]=i}},v={...gA,bindPendingEventDelegates(){const e=this;Kn.each(e._pendingNativeEvents,n=>{g(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?g(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(r(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Zt(e.delegates,(i,c)=>{e.dom.unbind(r(e,c),c,i)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},y=e=>lt(e)?{value:e.split(/[ ,]/),valid:!0}:ge(e,lt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},k=e=>{const n=(()=>{switch(e){case"array":return Eo;case"boolean":return oo;case"function":return b;case"number":return B;case"object":return Xn;case"string":return lt;case"string[]":return y;case"object[]":return o=>ge(o,Xn);case"regexp":return o=>Xt(o,RegExp);default:return ee}})();return o=>Ee(o,n,`The value must be a ${e}.`)},$=e=>lt(e.processor),Y=(e,n)=>{const o=io(n.message)?"":`. ${n.message}`;return e+o},le=e=>e.valid,Ee=(e,n,o="")=>{const i=n(e);return oo(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},Fe=(e,n,o)=>{if(!Ls(n)){const i=Ee(n,o);if(le(i))return i.value;console.error(Y(`Invalid default value passed for the "${e}" option`,i))}},Qe=(e,n,o=n)=>{const i={},c={},f=(Be,it,rt)=>{const st=Ee(it,rt);return le(st)?(c[Be]=st.value,!0):(console.warn(Y(`Invalid value passed for the ${Be} option`,st)),!1)},h=(Be,it)=>{const rt=$(it)?k(it.processor):it.processor,st=Fe(Be,it.default,rt);i[Be]={...it,default:st,processor:rt},Mn(c,Be).orThunk(()=>Mn(n,Be)).each(Bt=>f(Be,Bt,rt))},_=Be=>vn(i,Be);return{register:h,isRegistered:_,get:Be=>Mn(c,Be).orThunk(()=>Mn(i,Be).map(it=>it.default)).getOrUndefined(),set:(Be,it)=>{if(_(Be)){const rt=i[Be];return rt.immutable?(console.error(`"${Be}" is an immutable option and cannot be updated`),!1):f(Be,it,rt.processor)}else return console.warn(`"${Be}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Be=>{const it=_(Be);return it&&delete c[Be],it},isSet:Be=>vn(c,Be),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(Be,it)=>oo(it)||B(it)||lt(it)||ht(it)||Eo(it)||gs(it)?it:Object.prototype.toString.call(it))))}catch(Be){console.error(Be)}}}},qe=(e,n)=>{e.dom.contentEditable="true"},vt=(e,n)=>{const o=yt.fromDom(e.getBody());n?(e.readonly=!0,e.hasEditableRoot()&&qe(o),_w(e)):(e.readonly=!1,s4(e))},Ot=e=>e.readonly,Ct=e=>{const n=e.undoManager.add();s(n)&&(e.undoManager.undo(),e.undoManager.reset())},$t=e=>U(e,n=>n.type==="characterData"||n.type==="childList"),Ut=e=>{const n=i=>{Ot(e)&&$t(i)&&Ct(e)},o=new MutationObserver(n);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",i=>{Ot(e)&&i.preventDefault()}),e.on("BeforeExecCommand",i=>{(i.command==="Undo"||i.command==="Redo")&&Ot(e)&&i.preventDefault()}),e.on("compositionstart",()=>{Ot(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(Ot(e)){const i=o.takeRecords();n(i)}o.disconnect()})},an=["design","readonly"],un=(e,n,o,i)=>{const c=o[n.get()],f=o[i];try{f.activate()}catch(h){console.error(`problem while activating editor mode ${i}:`,h);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&vt(e,f.editorReadOnly),n.set(i),B8(e,i)},uo=(e,n,o,i)=>{if(!(i===o.get()||e.initialized&&Cg(e))){if(!vn(n,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?un(e,o,n,i):e.on("init",()=>un(e,o,n,i))}},Fn=(e,n,o)=>{if(D(an,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${n}:`,i)}}}}},$n=e=>{const n=zn("design"),o=zn({design:{activate:a,deactivate:a,editorReadOnly:!1},readonly:{activate:a,deactivate:a,editorReadOnly:!0}});return Ut(e),fV(e),{isReadOnly:()=>Ot(e),set:i=>uo(e,o.get(),n,i),get:()=>n.get(),register:(i,c)=>{o.set(Fn(o.get(),i,c))}}},Nn=Kn.each,jo=Kn.explode,Po={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Zs=Kn.makeMap("alt,ctrl,shift,meta,access"),ss=e=>e in Zs,ks=e=>{const n={},o=fr.os.isMacOS()||fr.os.isiOS();Nn(jo(e.toLowerCase(),"+"),f=>{ss(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=Po[f]||f.toUpperCase().charCodeAt(0))});const i=[n.keyCode];let c;for(c in Zs)n[c]?i.push(c):n[c]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class Io{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(Nn(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,i,c){const f=this,h=f.normalizeCommandFunc(i);return Nn(jo(Kn.trim(n)),_=>{const S=f.createShortcut(_,o,h,c);f.shortcuts[S.id]=S}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,i=n;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Kn.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(n,o,i,c){const f=Kn.map(jo(n,">"),ks);return f[f.length-1]=Kn.extend(f[f.length-1],{func:i,scope:c||this.editor}),Kn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Ln=()=>{const e=bi();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},no=kr.DOM,is=Kn.extend,Os=Kn.each;class $o{constructor(n,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,is(this,v);const c=this;this.id=n,this.editorUid=pe(),this.hidden=!1;const f=Yq(i.defaultOptions,o);this.options=Qe(c,f,o),g3(c),this.userLookup=IF(this);const h=this.options.get;h("deprecation_warnings")&&KL(o,f);const _=h("suffix");_&&(i.suffix=_),this.suffix=i.suffix;const S=h("base_url");S&&i._setBaseUrl(S),this.baseUri=i.baseURI;const F=vb(c);F&&(Us.ScriptLoader._setReferrerPolicy(F),kr.DOM.styleSheetLoader._setReferrerPolicy(F)),Us.ScriptLoader._setCrossOrigin(Be=>W8(c)(Be,"script")),kr.DOM.styleSheetLoader._setCrossOrigin(Be=>W8(c)(Be,"stylesheet"));const oe=Eb(c);s(oe)&&kr.DOM.styleSheetLoader._setContentCssCors(oe),Zi.languageLoad=h("language_load"),Zi.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new Ud(Cm(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Kp(c),this.hasVisual=wb(c),this.shortcuts=new Io(this),this.editorCommands=new fA(this),cX(this);const he=h("cache_suffix");he&&(fr.cacheSuffix=he.replace(/^[\?\&]+/,"")),this.ui={registry:Ln(),styleSheetLoader:void 0,show:a,hide:a,setEnabled:a,isEnabled:ee},this.mode=$n(c),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),i.dispatch("SetupEditor",{editor:this});const Se=x0(c);b(Se)&&Se.call(c,c)}render(){NF(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Xf(this)}translate(n){return qc.translate(n)}getParam(n,o,i){const c=this.options;return c.isRegistered(n)||(s(i)?c.register(n,{processor:i,default:o}):c.register(n,{processor:ee,default:o})),!c.isSet(n)&&!Ls(o)?o:c.get(n)}hasPlugin(n,o){return D(F1(this),n)?o?H0.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,i){this.editorCommands.addCommand(n,o,i)}addQueryStateHandler(n,o,i){this.editorCommands.addQueryStateHandler(n,o,i)}addQueryValueHandler(n,o,i){this.editorCommands.addQueryValueHandler(n,o,i)}addShortcut(n,o,i,c){this.shortcuts.add(n,o,i,c)}execCommand(n,o,i,c){return this.editorCommands.execCommand(n,o,i,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(no.show(n.getContainer()),no.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(no.hide(n.getContainer()),no.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,i=o.getElement();if(!o.removed&&i){const c={...n,load:!0},f=kf(i)?i.value:i.innerHTML;o.setContent(f,c),c.no_events||o.dispatch("LoadContent",{...c,element:i})}}save(n={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...n,save:!0,element:i};let f=o.getContent(c);const h={...c,content:f};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),f=h.content,kf(i))i.value=f;else{(n.is_removing||!o.inline)&&(i.innerHTML=f);const _=no.getParent(o.id,"form");_&&Os(_.elements,S=>S.name===o.id?(S.value=f,!1):!0)}return h.element=c.element=i=null,h.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){jv(this,n,o)}getContent(n){return XU(this,n)}insertContent(n,o){o&&(n=is({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?jv(this,this.startContent,{initial:!0,format:"raw"}):jv(this,n,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||no.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=no.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const i=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(n,o,i){const c=this,f=c.options.get,h=Sb(c);if(b(h))return h.call(c,n,i,!0,o);if(!f("convert_urls")||i==="link"||Xn(i)&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const _=new Ud(n);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?n:f("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){VF(this,n)}setEditableRoot(n){zq(this,n)}hasEditableRoot(){return BF(this)}remove(){uw(this)}destroy(n){t4(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const _s=kr.DOM,Cr=Kn.each;let lr=!1,qi,cr=[];const Ll=e=>{const n=e.type;Cr(qd.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},ki=e=>{if(e!==lr){const n=kr.DOM;e?(n.bind(window,"resize",Ll),n.bind(window,"scroll",Ll)):(n.unbind(window,"resize",Ll),n.unbind(window,"scroll",Ll)),lr=e}},dc=e=>{const n=cr;return cr=G(cr,o=>e!==o),qd.activeEditor===e&&(qd.activeEditor=cr.length>0?cr[0]:null),qd.focusedEditor===e&&(qd.focusedEditor=null),n.length!==cr.length},Fc=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(dc(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Yd=document.compatMode!=="CSS1Compat",qd={...gA,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:pe(),majorVersion:"8",minorVersion:"0.2",releaseDate:"2025-08-14",i18n:qc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",i=Ud.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const f=document.getElementsByTagName("script");for(let h=0;h<f.length;h++){const _=f[h].src||"";if(_==="")continue;const S=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){S.indexOf(".min")!==-1&&(o=".min"),n=_.substring(0,_.lastIndexOf("/"));break}}if(!n&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),n=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new Ud(i).toAbsolute(n),e.documentBaseURL=i,e.baseURI=new Ud(e.baseURL),e.suffix=o,hQ(e),I(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],f=>Object.defineProperty(e,f,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&Zt(i,(c,f)=>{Zi.PluginManager.urls[f]=c})},init(e){const n=this;let o;const i=Kn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(oe,he)=>oe.inline&&he.tagName.toLowerCase()in i,f=oe=>{let he=oe.id;return he||(he=Mn(oe,"name").filter(Se=>!_s.get(Se)).getOrThunk(_s.uniqueId),oe.setAttribute("id",he)),he},h=oe=>{const he=e[oe];if(he)return he.apply(n,[])},_=oe=>fr.browser.isIE()||fr.browser.isEdge()?(qm("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):Yd?(qm("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):lt(oe.selector)?_s.select(oe.selector):s(oe.target)?[oe.target]:[];let S=oe=>{o=oe};const F=()=>{let oe=0;const he=[];let Se;const Be=(it,rt,st)=>{const Vt=new $o(it,rt,n);he.push(Vt),Vt.on("init",()=>{++oe===Se.length&&S(he)}),Vt.targetElm=Vt.targetElm||st,Vt.render()};_s.unbind(window,"ready",F),h("onpageload"),Se=Lt(_(e)),Kn.each(Se,it=>{Fc(n.get(it.id))}),Se=Kn.grep(Se,it=>!n.get(it.id)),Se.length===0?S([]):Cr(Se,it=>{c(e,it)?qm("Could not initialize inline editor on invalid inline target element",it):Be(f(it),e,it)})};return _s.bind(window,"ready",F),new Promise(oe=>{o?oe(o):S=he=>{oe(he)}})},get(e){return arguments.length===0?cr.slice(0):lt(e)?we(cr,n=>n.id===e).getOr(null):B(e)&&cr[e]?cr[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&cr.push(e),ki(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),qi||(qi=i=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",qi))),e},createEditor(e,n){return this.add(new $o(e,n,this))},remove(e){const n=this;let o;if(!e){for(let i=cr.length-1;i>=0;i--)n.remove(cr[i]);return}if(lt(e)){Cr(_s.select(e),i=>{o=n.get(i.id),o&&n.remove(o)});return}return o=e,ht(n.get(o.id))?null:(dc(o)&&n.dispatch("RemoveEditor",{editor:o}),cr.length===0&&window.removeEventListener("beforeunload",qi),o.remove(),ki(cr.length>0),o)},execCommand(e,n,o){var i;const c=this,f=Xn(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(f)){const h=o.options;new $o(f,h,c).render()}return!0}case"mceRemoveEditor":{const h=c.get(f);return h&&h.remove(),!0}case"mceToggleEditor":{const h=c.get(f);return h?(h.isHidden()?h.show():h.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Cr(cr,e=>{e.save()})},addI18n:(e,n)=>{qc.add(e,n)},translate:e=>qc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ud(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ud(this.baseURL)},_addLicenseKeyManager:e=>yw.add(e)};qd.setup();const U4=(()=>{const e=hs(),n=f=>({items:f,types:Rt(f),getType:h=>Mn(f,h).getOrUndefined()}),o=f=>{e.set(f)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:i,clear:c}})(),cp=Math.min,dp=Math.max,V4=Math.round,b2=(e,n,o)=>{let i=n.x,c=n.y;const f=e.w,h=e.h,_=n.w,S=n.h,F=(o||"").split("");return F[0]==="b"&&(c+=S),F[1]==="r"&&(i+=_),F[0]==="c"&&(c+=V4(S/2)),F[1]==="c"&&(i+=V4(_/2)),F[3]==="b"&&(c-=h),F[4]==="r"&&(i-=f),F[3]==="c"&&(c-=V4(h/2)),F[4]==="c"&&(i-=V4(f/2)),W4(i,c,f,h)},Ty=(e,n,o,i)=>{for(let c=0;c<i.length;c++){const f=b2(e,n,i[c]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return i[c]}return null},Ay=(e,n,o)=>W4(e.x-n,e.y-o,e.w+n*2,e.h+o*2),uP=(e,n)=>{const o=dp(e.x,n.x),i=dp(e.y,n.y),c=cp(e.x+e.w,n.x+n.w),f=cp(e.y+e.h,n.y+n.h);return c-o<0||f-i<0?null:W4(o,i,c-o,f-i)},fP=(e,n,o)=>{let i=e.x,c=e.y,f=e.x+e.w,h=e.y+e.h;const _=n.x+n.w,S=n.y+n.h,F=dp(0,n.x-i),oe=dp(0,n.y-c),he=dp(0,f-_),Se=dp(0,h-S);return i+=F,c+=oe,o&&(f+=F,h+=oe,i-=he,c-=Se),f-=he,h-=Se,W4(i,c,f-i,h-c)},W4=(e,n,o,i)=>({x:e,y:n,w:o,h:i}),F6={inflate:Ay,relativePosition:b2,findBestRelativePosition:Ty,intersect:uP,clamp:fP,create:W4,fromClientRect:e=>W4(e.left,e.top,e.width,e.height)},K4=(e,n,o=1e3)=>{let i=!1,c=null;const f=F=>(...oe)=>{i||(i=!0,c!==null&&(window.clearTimeout(c),c=null),F.apply(null,oe))},h=f(e),_=f(n);return{start:(...F)=>{!i&&c===null&&(c=window.setTimeout(()=>_.apply(null,F),o))},resolve:h,reject:_}},gP=(()=>{const e={},n={},o={};return{load:(S,F)=>{const oe=`Script at URL "${F}" failed to load`,he=`Script at URL "${F}" did not call \`tinymce.Resource.add('${S}', data)\` within 1 second`;if(e[S]!==void 0)return e[S];{const Se=new Promise((Be,it)=>{const rt=K4(Be,it);n[S]=rt.resolve,Us.ScriptLoader.loadScript(F).then(()=>rt.start(he),()=>rt.reject(oe))});return e[S]=Se,Se}},add:(S,F)=>{n[S]!==void 0&&(n[S](F),delete n[S]),e[S]=Promise.resolve(F),o[S]=F},has:S=>S in o,get:S=>o[S],unload:S=>{delete e[S],delete o[S]}}})(),mP=()=>(()=>{let e={},n=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{n.push(i),e[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete e[i]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let j4;try{const e="__storage_test__";j4=window.localStorage,j4.setItem(e,e),j4.removeItem(e)}catch{j4=mP()}var mA=j4;const hP={geom:{Rect:F6},util:{Delay:ku,Tools:Kn,VK:Co,URI:Ud,EventDispatcher:pA,Observable:gA,I18n:qc,LocalStorage:mA,ImageUploader:kw},dom:{EventUtils:T1,TreeWalker:ja,TextSeeker:Xu,DOMUtils:kr,ScriptLoader:Us,RangeUtils:Z1,Serializer:Vx,StyleSheetLoader:S5,ControlSelection:nk,BookmarkManager:Bm,Selection:iw,Event:T1.Event},html:{Styles:Zh,Entities:Lp,Node:kl,Schema:oc,DomParser:q3,Writer:Ek,Serializer:O0},Env:fr,AddOnManager:Zi,Annotator:T0,Formatter:Ow,UndoManager:BN,EditorCommands:fA,WindowManager:Yv,NotificationManager:Du,EditorObservable:v,Shortcuts:Io,Editor:$o,FocusManager:XA,EditorManager:qd,DOM:kr.DOM,ScriptLoader:Us.ScriptLoader,PluginManager:H0,ThemeManager:vg,ModelManager:n4,IconManager:Gv,Resource:gP,FakeClipboard:U4,trim:Kn.trim,isArray:Kn.isArray,is:Kn.is,toArray:Kn.toArray,makeMap:Kn.makeMap,each:Kn.each,map:Kn.map,grep:Kn.grep,inArray:Kn.inArray,extend:Kn.extend,walk:Kn.walk,resolve:Kn.resolve,explode:Kn.explode,_addCacheSuffix:Kn._addCacheSuffix},$6=Kn.extend(qd,hP),ky=e=>{try{E.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})($6),ky($6)})()})(Rte);var Tre=Rte.exports;const Are=Lte(Tre);tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary.tox-button--secondary--outline{background-color:#fff;border-color:#f0f0f0}.tox .tox-button--secondary.tox-button--secondary--outline:hover:not(:disabled){background-color:#f0f0f0;border-color:#e3e3e3}.tox .tox-button--secondary.tox-button--secondary--outline:active:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3}.tox .tox-button--secondary.tox-button--secondary--outline[disabled]{background-color:#fff;border-color:#f0f0f0;color:rgba(34,47,62,.5)}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0;width:34px}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits__toolbar{display:flex;align-content:center;align-self:stretch;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__toolbar--start{display:flex;align-items:start;flex:0;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__toolbar--end{display:flex;align-items:end;flex:0;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__title{color:#222f3e;font-size:20px;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;justify-content:flex-end;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px;position:sticky;top:0;background-color:#f0f0f0;margin:-4px -12px;z-index:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:0 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header{display:flex;flex:auto;flex-direction:row;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px;flex-direction:row}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--selected{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--selected:not(.tox-suggestededits__card--resolved){background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;z-index:1301;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:#cfefaf;-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:#cfefaf;box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:#cce2fc;-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:#cce2fc;box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:#f2a6a6;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:#f2a6a6;box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid #cfefaf;padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid #cfefaf;outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid #cce2fc;padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid #cce2fc;outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid #f2a6a6;padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid #f2a6a6;outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:#861313}div.tox-suggestededits__annotation--added__highlight>hr{border-color:#4f851a}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const E=Object.getPrototypeOf,R=(t,r,l)=>{var d;return l(t,r.prototype)?!0:((d=t.constructor)===null||d===void 0?void 0:d.name)===r.name},x=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&R(t,String,(l,d)=>d.isPrototypeOf(l))?"string":r},ce=t=>r=>x(r)===t,ke=t=>r=>typeof r===t,He=t=>r=>t===r,je=(t,r)=>Ft(t)&&R(t,r,(l,d)=>E(l)===d),dt=ce("string"),Ft=ce("object"),Oe=t=>je(t,Object),pn=ce("array"),On=He(null),ve=ke("boolean"),es=He(void 0),_o=t=>t==null,Ao=t=>!_o(t),jt=ke("function"),Zo=ke("number"),Xt=(t,r)=>{if(pn(t)){for(let l=0,d=t.length;l<d;++l)if(!r(t[l]))return!1;return!0}return!1},lt=()=>{},Xn=t=>()=>t(),gs=(t,r)=>(...l)=>t(r.apply(null,l)),Eo=(t,r)=>l=>t(r(l)),ht=t=>()=>t,oo=t=>t,Ls=(t,r)=>t===r;function us(t,...r){return(...l)=>{const d=r.concat(l);return t.apply(null,d)}}const s=t=>r=>!t(r),b=t=>()=>{throw new Error(t)},B=t=>t(),ge=ht(!1),a=ht(!0);class p{constructor(r,l){this.tag=r,this.value=l}static some(r){return new p(!0,r)}static none(){return p.singletonNone}fold(r,l){return this.tag?l(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?p.some(r(this.value)):p.none()}bind(r){return this.tag?r(this.value):p.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:p.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ao(r)?p.some(r):p.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}p.singletonNone=new p(!1);const M=Array.prototype.slice,L=Array.prototype.indexOf,A=Array.prototype.push,O=(t,r)=>L.call(t,r),z=(t,r)=>{const l=O(t,r);return l===-1?p.none():p.some(l)},Q=(t,r)=>O(t,r)>-1,H=(t,r)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];if(r(g,l))return!0}return!1},P=(t,r)=>{const l=[];for(let d=0;d<t;d++)l.push(r(d));return l},j=(t,r)=>{const l=[];for(let d=0;d<t.length;d+=r){const g=M.call(t,d,d+r);l.push(g)}return l},K=(t,r)=>{const l=t.length,d=new Array(l);for(let g=0;g<l;g++){const v=t[g];d[g]=r(v,g)}return d},ee=(t,r)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];r(g,l)}},w=(t,r)=>{for(let l=t.length-1;l>=0;l--){const d=t[l];r(d,l)}},xe=(t,r)=>{const l=[],d=[];for(let g=0,v=t.length;g<v;g++){const y=t[g];(r(y,g)?l:d).push(y)}return{pass:l,fail:d}},be=(t,r)=>{const l=[];for(let d=0,g=t.length;d<g;d++){const v=t[d];r(v,d)&&l.push(v)}return l},re=(t,r,l)=>(w(t,(d,g)=>{l=r(l,d,g)}),l),se=(t,r,l)=>(ee(t,(d,g)=>{l=r(l,d,g)}),l),ie=(t,r,l)=>{for(let d=0,g=t.length;d<g;d++){const v=t[d];if(r(v,d))return p.some(v);if(l(v,d))break}return p.none()},D=(t,r)=>ie(t,r,ge),U=(t,r)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];if(r(g,l))return p.some(l)}return p.none()},V=t=>{const r=[];for(let l=0,d=t.length;l<d;++l){if(!pn(t[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+t);A.apply(r,t[l])}return r},I=(t,r)=>V(K(t,r)),N=(t,r)=>{for(let l=0,d=t.length;l<d;++l){const g=t[l];if(r(g,l)!==!0)return!1}return!0},ne=t=>{const r=M.call(t,0);return r.reverse(),r},G=(t,r)=>be(t,l=>!Q(r,l)),q=(t,r)=>{const l={};for(let d=0,g=t.length;d<g;d++){const v=t[d];l[String(v)]=r(v,d)}return l},de=t=>[t],Le=(t,r)=>{const l=M.call(t,0);return l.sort(r),l},Ae=(t,r)=>r>=0&&r<t.length?p.some(t[r]):p.none(),we=t=>Ae(t,0),Pe=t=>Ae(t,t.length-1),We=jt(Array.from)?Array.from:t=>M.call(t),ut=(t,r)=>{for(let l=0;l<t.length;l++){const d=r(t[l],l);if(d.isSome())return d}return p.none()},nt=Object.keys,ot=Object.hasOwnProperty,Me=(t,r)=>{const l=nt(t);for(let d=0,g=l.length;d<g;d++){const v=l[d],y=t[v];r(y,v)}},et=(t,r)=>Ve(t,(l,d)=>({k:d,v:r(l,d)})),Ve=(t,r)=>{const l={};return Me(t,(d,g)=>{const v=r(d,g);l[v.k]=v.v}),l},Ze=t=>(r,l)=>{t[l]=r},Xe=(t,r,l,d)=>{Me(t,(g,v)=>{(r(g,v)?l:d)(g,v)})},$e=(t,r)=>{const l={},d={};return Xe(t,r,Ze(l),Ze(d)),{t:l,f:d}},tt=(t,r)=>{const l={};return Xe(t,r,Ze(l),lt),l},_t=(t,r)=>{const l=[];return Me(t,(d,g)=>{l.push(r(d,g))}),l},mt=(t,r)=>{const l=nt(t);for(let d=0,g=l.length;d<g;d++){const v=l[d],y=t[v];if(r(y,v,t))return p.some(y)}return p.none()},Lt=t=>_t(t,oo),Rt=(t,r)=>Wt(t,r)?p.from(t[r]):p.none(),Wt=(t,r)=>ot.call(t,r),Zt=(t,r)=>Wt(t,r)&&t[r]!==void 0&&t[r]!==null,Jn={generate:t=>{if(!pn(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],l={};return ee(t,(d,g)=>{const v=nt(d);if(v.length!==1)throw new Error("one and only one name per case");const y=v[0],k=d[y];if(l[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pn(k))throw new Error("case arguments must be an array");r.push(y),l[y]=(...$)=>{const Y=$.length;if(Y!==k.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+k.length+" ("+k+"), got "+Y);return{fold:(...Ee)=>{if(Ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+Ee.length);return Ee[g].apply(null,$)},match:Ee=>{const Fe=nt(Ee);if(r.length!==Fe.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Fe.join(","));if(!N(r,qe=>Q(Fe,qe)))throw new Error("Not all branches were specified when using match. Specified: "+Fe.join(", ")+`
Required: `+r.join(", "));return Ee[y].apply(null,$)},log:Ee=>{console.log(Ee,{constructors:r,constructor:y,params:$})}}}}),l}},Je=t=>{let r=t;return{get:()=>r,set:g=>{r=g}}},wt=t=>{let r=p.none(),l=[];const d=Y=>wt(le=>{g(Ee=>{le(Y(Ee))})}),g=Y=>{y()?$(Y):l.push(Y)},v=Y=>{y()||(r=p.some(Y),k(l),l=[])},y=()=>r.isSome(),k=Y=>{ee(Y,$)},$=Y=>{r.each(le=>{setTimeout(()=>{Y(le)},0)})};return t(v),{get:g,map:d,isReady:y}},nn={nu:wt,pure:t=>wt(r=>{r(t)})},bn=t=>{setTimeout(()=>{throw t},0)},Tn=t=>{const r=$=>{t().then($,bn)};return{map:$=>Tn(()=>t().then($)),bind:$=>Tn(()=>t().then(Y=>$(Y).toPromise())),anonBind:$=>Tn(()=>t().then(()=>$.toPromise())),toLazy:()=>nn.nu(r),toCached:()=>{let $=null;return Tn(()=>($===null&&($=t()),$))},toPromise:t,get:r}},Hn={nu:t=>Tn(()=>new Promise(t)),pure:t=>Tn(()=>Promise.resolve(t))},wo=t=>{const r=v=>v(t),l=ht(t),d=()=>g,g={tag:!0,inner:t,fold:(v,y)=>y(t),isValue:a,isError:ge,map:v=>zn.value(v(t)),mapError:d,bind:r,exists:r,forall:r,getOr:l,or:d,getOrThunk:l,orThunk:d,getOrDie:l,each:v=>{v(t)},toOptional:()=>p.some(t)};return g},ro=t=>{const r=()=>l,l={tag:!1,inner:t,fold:(d,g)=>d(t),isValue:ge,isError:a,map:r,mapError:d=>zn.error(d(t)),bind:r,exists:ge,forall:a,getOr:oo,or:oo,getOrThunk:B,orThunk:B,getOrDie:b(String(t)),each:lt,toOptional:p.none};return l},zn={value:wo,error:ro,fromOption:(t,r)=>t.fold(()=>ro(r),wo)},ls=t=>({...t,toCached:()=>ls(t.toCached()),bindFuture:$=>ls(t.bind(Y=>Y.fold(le=>Hn.pure(zn.error(le)),le=>$(le)))),bindResult:$=>ls(t.map(Y=>Y.bind($))),mapResult:$=>ls(t.map(Y=>Y.map($))),mapError:$=>ls(t.map(Y=>Y.mapError($))),foldResult:($,Y)=>t.map(le=>le.fold($,Y)),withTimeout:($,Y)=>ls(Hn.nu(le=>{let Ee=!1;const Fe=setTimeout(()=>{Ee=!0,le(zn.error(Y()))},$);t.get(Qe=>{Ee||(clearTimeout(Fe),le(Qe))})}))}),ms=t=>ls(Hn.nu(t)),Et=t=>ls(Hn.pure(zn.value(t))),Ce={nu:ms,wrap:ls,pure:Et,value:Et,error:t=>ls(Hn.pure(zn.error(t))),fromResult:t=>ls(Hn.pure(t)),fromFuture:t=>ls(t.map(zn.value)),fromPromise:t=>ms(r=>{t.then(l=>{r(zn.value(l))},l=>{r(zn.error(l))})})},ze=typeof window<"u"?window:Function("return this;")(),Re=(t,r,l,d)=>{const g=t+r;return g>d?l:g<l?d:g},J=(t,r,l)=>Math.min(Math.max(t,r),l),pe=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let me=0;const _e=t=>{const l=new Date().getTime(),d=Math.floor(pe()*1e9);return me++,t+"_"+d+me+String(l)},Ke=(t,r)=>r,ft=(t,r)=>Oe(t)&&Oe(r)?At(t,r):r,gt=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const l={};for(let d=0;d<r.length;d++){const g=r[d];for(const v in g)Wt(g,v)&&(l[v]=t(l[v],g[v]))}return l},At=gt(ft),zt=gt(Ke),kt=(t,r,l=Ls)=>t.exists(d=>l(d,r)),Tt=(t,r,l=Ls)=>Qt(t,r,l).getOr(t.isNone()&&r.isNone()),Mt=t=>{const r=[],l=d=>{r.push(d)};for(let d=0;d<t.length;d++)t[d].each(l);return r},qt=t=>{const r=[];for(let l=0;l<t.length;l++){const d=t[l];if(d.isSome())r.push(d.getOrDie());else return p.none()}return p.some(r)},Qt=(t,r,l)=>t.isSome()&&r.isSome()?p.some(l(t.getOrDie(),r.getOrDie())):p.none(),on=(t,r,l,d)=>t.isSome()&&r.isSome()&&l.isSome()?p.some(d(t.getOrDie(),r.getOrDie(),l.getOrDie())):p.none(),_n=(t,r)=>t!=null?p.some(r(t)):p.none(),Dn=(t,r)=>t?p.some(r):p.none(),eo=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),hs=(t,r)=>{let l=r??ze;for(let d=0;d<t.length&&l!==void 0&&l!==null;++d)l=l[t[d]];return l},Bs=(t,r)=>{const l=t.split(".");return hs(l,r)};Jn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const fs=t=>{const r=[],l=[];return ee(t,d=>{d.fold(g=>{r.push(g)},g=>{l.push(g)})}),{errors:r,values:l}},Is=t=>{const r=Je(p.none()),l=()=>r.get().each(t);return{clear:()=>{l(),r.set(p.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:k=>{l(),r.set(p.some(k))}}},bs=()=>Is(t=>t.destroy()),Go=()=>Is(t=>t.unbind()),Do=()=>{const t=Is(lt);return{...t,on:l=>t.get().each(l)}},zs=(t,r)=>t+r,As=(t,r)=>t.substring(r),Vs=(t,r,l)=>r===""||t.length>=r.length&&t.substr(l,l+r.length)===r,go=(t,r)=>po(t,r)?As(t,r.length):t,bo=(t,r)=>Tr(t,r)?t:zs(t,r),io=(t,r,l=0,d)=>{const g=t.indexOf(r,l);return g!==-1?es(d)?!0:g+r.length<=d:!1},po=(t,r)=>Vs(t,r,0),Tr=(t,r)=>Vs(t,r,t.length-r.length),Qn=(t=>r=>r.replace(t,""))(/^\s+|\s+$/g),Ur=t=>t.length>0,wa=t=>!Ur(t),Js=t=>{const r=parseFloat(t);return isNaN(r)?p.none():p.some(r)},ia=(t,r)=>{let l=null,d=null;return{cancel:()=>{On(l)||(clearTimeout(l),l=null,d=null)},throttle:(...y)=>{d=y,On(l)&&(l=setTimeout(()=>{const k=d;l=null,d=null,t.apply(null,k)},r))}}},Ne=(t,r)=>{let l=null;return{cancel:()=>{On(l)||(clearTimeout(l),l=null)},throttle:(...v)=>{On(l)&&(l=setTimeout(()=>{l=null,t.apply(null,v)},r))}}},pt=(t,r)=>{let l=null;const d=()=>{On(l)||(clearTimeout(l),l=null)};return{cancel:d,throttle:(...v)=>{d(),l=setTimeout(()=>{l=null,t.apply(null,v)},r)}}},St=t=>{let r=!1,l;return(...d)=>(r||(r=!0,l=t.apply(null,d)),l)},Pt="\uFEFF",Jt=" ",Vn=(t,r)=>{const d=(r||document).createElement("div");if(d.innerHTML=t,!d.hasChildNodes()||d.childNodes.length>1){const g="HTML does not have a single root node";throw console.error(g,t),new Error(g)}return mo(d.childNodes[0])},jn=(t,r)=>{const d=(r||document).createElement(t);return mo(d)},vo=(t,r)=>{const d=(r||document).createTextNode(t);return mo(d)},mo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},cn={fromHtml:Vn,fromTag:jn,fromText:vo,fromDom:mo,fromPoint:(t,r,l)=>p.from(t.dom.elementFromPoint(r,l)).map(mo)},cs=(t,r)=>{r.fold(l=>{t.setStartBefore(l.dom)},(l,d)=>{t.setStart(l.dom,d)},l=>{t.setStartAfter(l.dom)})},ds=(t,r)=>{r.fold(l=>{t.setEndBefore(l.dom)},(l,d)=>{t.setEnd(l.dom,d)},l=>{t.setEndAfter(l.dom)})},Ue=(t,r,l)=>{const d=t.document.createRange();return cs(d,r),ds(d,l),d},bt=(t,r,l,d,g)=>{const v=t.document.createRange();return v.setStart(r.dom,l),v.setEnd(d.dom,g),v},Ht=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),ln=t=>{const r=t.getClientRects(),l=r.length>0?r[0]:t.getBoundingClientRect();return l.width>0||l.height>0?p.some(l).map(Ht):p.none()},An=t=>{const r=t.getBoundingClientRect();return r.width>0||r.height>0?p.some(r).map(Ht):p.none()},Wn=Jn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yo=(t,r,l)=>r(cn.fromDom(l.startContainer),l.startOffset,cn.fromDom(l.endContainer),l.endOffset),Oo=(t,r)=>r.match({domRange:l=>({ltr:ht(l),rtl:p.none}),relative:(l,d)=>({ltr:St(()=>Ue(t,l,d)),rtl:St(()=>p.some(Ue(t,d,l)))}),exact:(l,d,g,v)=>({ltr:St(()=>bt(t,l,d,g,v)),rtl:St(()=>p.some(bt(t,g,v,l,d)))})}),So=(t,r)=>{const l=r.ltr();return l.collapsed?r.rtl().filter(g=>g.collapsed===!1).map(g=>Wn.rtl(cn.fromDom(g.endContainer),g.endOffset,cn.fromDom(g.startContainer),g.startOffset)).getOrThunk(()=>Yo(t,Wn.ltr,l)):Yo(t,Wn.ltr,l)},Te=(t,r)=>{const l=Oo(t,r);return So(t,l)},Ge=(t,r)=>Te(t,r).match({ltr:(d,g,v,y)=>{const k=t.document.createRange();return k.setStart(d.dom,g),k.setEnd(v.dom,y),k},rtl:(d,g,v,y)=>{const k=t.document.createRange();return k.setStart(v.dom,y),k.setEnd(d.dom,g),k}});Wn.ltr,Wn.rtl;const xt=9,Kt=11,Cn=1,Ko=3,ps=(t,r)=>{const l=t.dom;if(l.nodeType!==Cn)return!1;{const d=l;if(d.matches!==void 0)return d.matches(r);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(r);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(r);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},ir=t=>t.nodeType!==Cn&&t.nodeType!==xt&&t.nodeType!==Kt||t.childElementCount===0,Or=(t,r)=>{const l=r===void 0?document:r.dom;return ir(l)?[]:K(l.querySelectorAll(t),cn.fromDom)},Gr=(t,r)=>{const l=r===void 0?document:r.dom;return ir(l)?p.none():p.from(l.querySelector(t)).map(cn.fromDom)},Rs=(t,r)=>t.dom===r.dom,Sa=(t,r)=>{const l=t.dom,d=r.dom;return l===d?!1:l.contains(d)},Hi=(t,r,l,d)=>{const g=t.isiOS()&&/ipad/i.test(l)===!0,v=t.isiOS()&&!g,y=t.isiOS()||t.isAndroid(),k=y||d("(pointer:coarse)"),$=g||!v&&y&&d("(min-device-width:768px)"),Y=v||y&&!$,le=r.isSafari()&&t.isiOS()&&/safari/i.test(l)===!1,Ee=!Y&&!$&&!le;return{isiPad:ht(g),isiPhone:ht(v),isTablet:ht($),isPhone:ht(Y),isTouch:ht(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ht(le),isDesktop:ht(Ee)}},ta=(t,r)=>{for(let l=0;l<t.length;l++){const d=t[l];if(d.test(r))return d}},Ta=(t,r)=>{const l=ta(t,r);if(!l)return{major:0,minor:0};const d=g=>Number(r.replace(l,"$"+g));return Ji(d(1),d(2))},xi=(t,r)=>{const l=String(r).toLowerCase();return t.length===0?la():Ta(t,l)},la=()=>Ji(0,0),Ji=(t,r)=>({major:t,minor:r}),zi={nu:Ji,detect:xi,unknown:la},ml=(t,r)=>ut(r.brands,l=>{const d=l.brand.toLowerCase();return D(t,g=>{var v;return d===((v=g.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(g=>({current:g.name,version:zi.nu(parseInt(l.version,10),0)}))}),eu=(t,r)=>{const l=String(r).toLowerCase();return D(t,d=>d.search(l))},l1=(t,r)=>eu(t,r).map(l=>{const d=zi.detect(l.versionRegexes,r);return{current:l.name,version:d}}),Rg=(t,r)=>eu(t,r).map(l=>{const d=zi.detect(l.versionRegexes,r);return{current:l.name,version:d}}),md=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ui=t=>r=>io(r,t),gh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>io(t,"edge/")&&io(t,"chrome")&&io(t,"safari")&&io(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,md],search:t=>io(t,"chrome")&&!io(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>io(t,"msie")||io(t,"trident")},{name:"Opera",versionRegexes:[md,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ui("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ui("firefox")},{name:"Safari",versionRegexes:[md,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(io(t,"safari")||io(t,"mobile/"))&&io(t,"applewebkit")}],C2=[{name:"Windows",search:Ui("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>io(t,"iphone")||io(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ui("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ui("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ui("linux"),versionRegexes:[]},{name:"Solaris",search:Ui("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ui("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ui("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],e5={browsers:ht(gh),oses:ht(C2)},ql="Edge",_2="Chromium",E2="IE",$c="Opera",t5="Firefox",n5="Safari",o5=()=>mh({current:void 0,version:zi.unknown()}),mh=t=>{const r=t.current,l=t.version,d=g=>()=>r===g;return{current:r,version:l,isEdge:d(ql),isChromium:d(_2),isIE:d(E2),isOpera:d($c),isFirefox:d(t5),isSafari:d(n5)}},hh={unknown:o5,nu:mh},Q6="Windows",bh="iOS",hd="Android",bd="Linux",vd="macOS",s5="Solaris",fr="FreeBSD",w2="ChromeOS",S2=()=>vh({current:void 0,version:zi.unknown()}),vh=t=>{const r=t.current,l=t.version,d=g=>()=>r===g;return{current:r,version:l,isWindows:d(Q6),isiOS:d(bh),isAndroid:d(hd),isMacOS:d(vd),isLinux:d(bd),isSolaris:d(s5),isFreeBSD:d(fr),isChromeOS:d(w2)}},ga={unknown:S2,nu:vh},xh={detect:(t,r,l)=>{const d=e5.browsers(),g=e5.oses(),v=r.bind($=>ml(d,$)).orThunk(()=>l1(d,t)).fold(hh.unknown,hh.nu),y=Rg(g,t).fold(ga.unknown,ga.nu),k=Hi(y,v,t,l);return{browser:v,os:y,deviceType:k}}},r5=t=>window.matchMedia(t).matches;let e8=St(()=>xh.detect(window.navigator.userAgent,p.from(window.navigator.userAgentData),r5));const ca=()=>e8(),Cf=(t,r)=>Bs(t,r),Kn=(t,r)=>{const l=Cf(t,r);if(l==null)throw new Error(t+" not available on this browser");return l},a5=Object.getPrototypeOf,Nl=t=>Kn("HTMLElement",t),mp=t=>{const r=Bs("ownerDocument.defaultView",t);return Ft(t)&&(Nl(r).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(a5(t).constructor.name))},el=t=>t.dom.nodeName.toLowerCase(),i5=t=>t.dom.nodeType,yt=t=>r=>i5(r)===t,Bu=t=>hl(t)&&mp(t.dom),hl=yt(Cn),tu=yt(Ko),Mg=yt(xt),Fu=yt(Kt),bl=t=>r=>hl(r)&&el(r)===t,Rl=t=>cn.fromDom(t.dom.ownerDocument),yh=t=>Mg(t)?t:Rl(t),Ch=t=>cn.fromDom(yh(t).dom.documentElement),Pu=t=>cn.fromDom(yh(t).dom.defaultView),Xl=t=>p.from(t.dom.parentNode).map(cn.fromDom),_h=t=>Xl(t),Ql=t=>p.from(t.dom.parentElement).map(cn.fromDom),T2=(t,r)=>{const l=jt(r)?r:ge;let d=t.dom;const g=[];for(;d.parentNode!==null&&d.parentNode!==void 0;){const v=d.parentNode,y=cn.fromDom(v);if(g.push(y),l(y)===!0)break;d=v}return g},Ml=t=>p.from(t.dom.offsetParent).map(cn.fromDom),Eh=t=>p.from(t.dom.previousSibling).map(cn.fromDom),A2=t=>p.from(t.dom.nextSibling).map(cn.fromDom),Hc=t=>K(t.dom.childNodes,cn.fromDom),Ws=(t,r)=>{const l=t.dom.childNodes;return p.from(l[r]).map(cn.fromDom)},vl=t=>Ws(t,0),_f=(t,r)=>({element:t,offset:r}),hp=(t,r)=>{const l=Hc(t);return l.length>0&&r<l.length?_f(l[r],0):_f(t,r)},Fs=(t,r,l,d)=>{const v=Rl(t).dom.createRange();return v.setStart(t.dom,r),v.setEnd(l.dom,d),v},Ig=(t,r,l,d)=>{const g=Fs(t,r,l,d),v=Rs(t,l)&&r===d;return g.collapsed&&!v},zc=t=>Fu(t)&&Ao(t.dom.host),Ra=t=>cn.fromDom(t.dom.getRootNode()),xl=t=>zc(t)?t:cn.fromDom(yh(t).dom.body),da=t=>Ha(t).isSome(),Ha=t=>{const r=Ra(t);return zc(r)?p.some(r):p.none()},ua=t=>cn.fromDom(t.dom.host),l5=t=>{if(Ao(t.target)){const r=cn.fromDom(t.target);if(hl(r)&&nu(r)&&t.composed&&t.composedPath){const l=t.composedPath();if(l)return we(l)}}return p.from(t.target)},nu=t=>Ao(t.dom.shadowRoot),Vi=(t,r,l,d,g,v,y)=>({target:t,x:r,y:l,stop:d,prevent:g,kill:v,raw:y}),yi=t=>{const r=cn.fromDom(l5(t).getOr(t.target)),l=()=>t.stopPropagation(),d=()=>t.preventDefault(),g=gs(d,l);return Vi(r,t.clientX,t.clientY,l,d,g,t)},Bg=(t,r)=>l=>{t(l)&&r(yi(l))},fa=(t,r,l,d,g)=>{const v=Bg(l,d);return t.dom.addEventListener(r,v,g),{unbind:us(Jl,t,r,v,g)}},si=(t,r,l,d)=>fa(t,r,l,d,!1),$u=(t,r,l,d)=>fa(t,r,l,d,!0),Jl=(t,r,l,d)=>{t.dom.removeEventListener(r,l,d)},yl=a,Qs=(t,r,l)=>si(t,r,yl,l),xd=(t,r,l)=>$u(t,r,yl,l),Uc=yi,ri=()=>cn.fromDom(document),hr=(t,r=!1)=>t.dom.focus({preventScroll:r}),fc=t=>t.dom.blur(),pc=t=>{const r=Ra(t).dom;return t.dom===r.activeElement},Xa=(t=ri())=>p.from(t.dom.activeElement).map(cn.fromDom),za=t=>Xa(Ra(t)).filter(r=>t.dom.contains(r.dom)),c1=(t,r)=>{Xl(t).each(d=>{d.dom.insertBefore(r.dom,t.dom)})},Fg=(t,r)=>{A2(t).fold(()=>{Xl(t).each(g=>{tl(g,r)})},d=>{c1(d,r)})},ou=(t,r)=>{vl(t).fold(()=>{tl(t,r)},d=>{t.dom.insertBefore(r.dom,d.dom)})},tl=(t,r)=>{t.dom.appendChild(r.dom)},c5=(t,r,l)=>{Ws(t,l).fold(()=>{tl(t,r)},d=>{c1(d,r)})},k2=(t,r)=>{ee(r,l=>{tl(t,l)})},Ef=(t,r,l)=>{if(dt(l)||ve(l)||Zo(l))t.setAttribute(r,l+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",l,":: Element ",t),new Error("Attribute value was not simple")},os=(t,r,l)=>{Ef(t.dom,r,l)},O2=(t,r)=>{const l=t.dom;Me(r,(d,g)=>{Ef(l,g,d)})},Ua=(t,r)=>{const l=t.dom.getAttribute(r);return l===null?void 0:l},ai=(t,r)=>p.from(Ua(t,r)),ii=(t,r)=>{const l=t.dom;return l&&l.hasAttribute?l.hasAttribute(r):!1},Kr=(t,r)=>{t.dom.removeAttribute(r)},Hu=t=>se(t.dom.attributes,(r,l)=>(r[l.name]=l.value,r),{}),Pg=t=>{t.dom.textContent="",ee(Hc(t),r=>{ec(r)})},ec=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Vc=(t,r)=>cn.fromDom(t.dom.cloneNode(r)),$g=t=>Vc(t,!1),bp=t=>Vc(t,!0),wh=(t,r)=>{const d=(r||document).createElement("div");return d.innerHTML=t,Hc(cn.fromDom(d))},Il=t=>t.dom.innerHTML,wf=(t,r)=>{const d=Rl(t).dom,g=cn.fromDom(d.createDocumentFragment()),v=wh(r,d);k2(g,v),Pg(t),tl(t,g)},Qa=t=>{const r=cn.fromTag("div"),l=cn.fromDom(t.dom.cloneNode(!0));return tl(r,l),Il(r)},yd=t=>{if(zc(t))return"#shadow-root";{const r=$g(t);return Qa(r)}},su=t=>new Promise((r,l)=>{const d=()=>{v(),r(t)},g=[Qs(t,"load",d),Qs(t,"error",()=>{v(),l("Unable to load data from image: "+t.dom.src)})],v=()=>ee(g,y=>y.unbind());t.dom.complete&&d()}),Lr=t=>t.style!==void 0&&jt(t.style.getPropertyValue),nl=t=>{const r=tu(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const l=r.ownerDocument;return Ha(cn.fromDom(r)).fold(()=>l.body.contains(r),Eo(nl,ua))},gc=()=>Sh(cn.fromDom(document)),Sh=t=>{const r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return cn.fromDom(r)},Bl=(t,r,l)=>{if(!dt(l))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",l,":: Element ",t),new Error("CSS value must be a string: "+l);Lr(t)&&t.style.setProperty(r,l)},Hg=(t,r)=>{Lr(t)&&t.style.removeProperty(r)},Mo=(t,r,l)=>{const d=t.dom;Bl(d,r,l)},Aa=(t,r)=>{const l=t.dom;Me(r,(d,g)=>{Bl(l,g,d)})},Ja=(t,r)=>{const l=t.dom;Me(r,(d,g)=>{d.fold(()=>{Hg(l,g)},v=>{Bl(l,g,v)})})},pa=(t,r)=>{const l=t.dom,g=window.getComputedStyle(l).getPropertyValue(r);return g===""&&!nl(t)?zu(l,r):g},zu=(t,r)=>Lr(t)?t.style.getPropertyValue(r):"",er=(t,r)=>{const l=t.dom,d=zu(l,r);return p.from(d).filter(g=>g.length>0)},zg=t=>{const r={},l=t.dom;if(Lr(l))for(let d=0;d<l.style.length;d++){const g=l.style.item(d);r[g]=l.style[g]}return r},ru=(t,r,l)=>{const d=cn.fromTag(t);return Mo(d,r,l),er(d,r).isSome()},Ps=(t,r)=>{const l=t.dom;Hg(l,r),kt(ai(t,"style").map(Qn),"")&&Kr(t,"style")},Ar=t=>t.dom.offsetWidth,Fl=(t,r)=>{const l=(k,$)=>{if(!Zo($)&&!$.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+$);const Y=k.dom;Lr(Y)&&(Y.style[t]=$+"px")},d=k=>{const $=r(k);if($<=0||$===null){const Y=pa(k,t);return parseFloat(Y)||0}return $},g=d,v=(k,$)=>se($,(Y,le)=>{const Ee=pa(k,le),Fe=Ee===void 0?0:parseInt(Ee,10);return isNaN(Fe)?Y:Y+Fe},0);return{set:l,get:d,getOuter:g,aggregate:v,max:(k,$,Y)=>{const le=v(k,Y);return $>le?$-le:0}}},d1=Fl("height",t=>{const r=t.dom;return nl(t)?r.getBoundingClientRect().height:r.offsetHeight}),Yr=t=>d1.get(t),Di=t=>d1.getOuter(t),Uu=(t,r)=>{const l=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],d=d1.max(t,r,l);Mo(t,"max-height",d+"px")},au=t=>t.offsetWidth<=0&&t.offsetHeight<=0,u1=t=>!au(t.dom),Pl=Fl("width",t=>{const r=t.dom;return nl(t)?r.getBoundingClientRect().width:r.offsetWidth}),Th=(t,r)=>Pl.set(t,r),ei=t=>Pl.get(t),f1=t=>Pl.getOuter(t),vp=(t,r)=>{const l=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],d=Pl.max(t,r,l);Mo(t,"max-width",d+"px")},Cd=(t,r)=>({left:t,top:r,translate:(d,g)=>Cd(t+d,r+g)}),Dr=Cd,L2=t=>{const r=t.getBoundingClientRect();return Dr(r.left,r.top)},iu=(t,r)=>t!==void 0?t:r!==void 0?r:0,Ni=t=>{const r=t.dom.ownerDocument,l=r.body,d=r.defaultView,g=r.documentElement;if(l===t.dom)return Dr(l.offsetLeft,l.offsetTop);const v=iu(d==null?void 0:d.pageYOffset,g.scrollTop),y=iu(d==null?void 0:d.pageXOffset,g.scrollLeft),k=iu(g.clientTop,l.clientTop),$=iu(g.clientLeft,l.clientLeft);return Va(t).translate(y-$,v-k)},Va=t=>{const r=t.dom,d=r.ownerDocument.body;return d===r?Dr(d.offsetLeft,d.offsetTop):nl(t)?L2(r):Dr(0,0)},Ri=t=>{const r=t!==void 0?t.dom:document,l=r.body.scrollLeft||r.documentElement.scrollLeft,d=r.body.scrollTop||r.documentElement.scrollTop;return Dr(l,d)},tc=(t,r,l)=>{const g=(l!==void 0?l.dom:document).defaultView;g&&g.scrollTo(t,r)},Sf=((t,r)=>{const l=v=>{if(!t(v))throw new Error("Can only get "+r+" value of a "+r+" node");return d(v).getOr("")},d=v=>t(v)?p.from(v.dom.nodeValue):p.none();return{get:l,getOption:d,set:(v,y)=>{if(!t(v))throw new Error("Can only set raw "+r+" value of a "+r+" node");v.dom.nodeValue=y}}})(tu,"text"),d5=t=>Sf.get(t),D2=(t,r)=>l=>u5(l)==="rtl"?r:t,u5=t=>pa(t,"direction")==="rtl"?"rtl":"ltr",Wc=(t,r)=>{const l=Ua(t,r);return l===void 0||l===""?[]:l.split(" ")},N2=(t,r,l)=>{const g=Wc(t,r).concat([l]);return os(t,r,g.join(" ")),!0},Tf=(t,r,l)=>{const d=be(Wc(t,r),g=>g!==l);return d.length>0?os(t,r,d.join(" ")):Kr(t,r),!1};var p1=(t,r,l,d,g)=>t(l,d)?p.some(l):jt(g)&&g(l)?p.none():r(l,d,g);const xp=(t,r,l)=>{let d=t.dom;const g=jt(l)?l:ge;for(;d.parentNode;){d=d.parentNode;const v=cn.fromDom(d);if(r(v))return p.some(v);if(g(v))break}return p.none()},Ah=(t,r,l)=>p1((g,v)=>v(g),xp,t,r,l),Af=(t,r)=>{const l=t.dom;return l.parentNode?yp(cn.fromDom(l.parentNode),d=>!Rs(t,d)&&r(d)):p.none()},yp=(t,r)=>{const l=g=>r(cn.fromDom(g));return D(t.dom.childNodes,l).map(cn.fromDom)},R2=(t,r)=>{const l=d=>{for(let g=0;g<d.childNodes.length;g++){const v=cn.fromDom(d.childNodes[g]);if(r(v))return p.some(v);const y=l(d.childNodes[g]);if(y.isSome())return y}return p.none()};return l(t.dom)},M2=t=>Gr(t),Kc=(t,r,l)=>xp(t,d=>ps(d,r),l),Cp=(t,r)=>Af(t,l=>ps(l,r)),g1=(t,r)=>yp(t,l=>ps(l,r)),pr=(t,r)=>Gr(r,t),nc=(t,r,l)=>p1((g,v)=>ps(g,v),Kc,t,r,l),mc=(t,r)=>{t.dom.checked=r},kh=t=>t.dom.checked,m1=t=>t.dom.classList!==void 0,Oh=t=>Wc(t,"class"),Lh=(t,r)=>N2(t,"class",r),Mi=(t,r)=>Tf(t,"class",r),_d=(t,r)=>Q(Oh(t),r)?Mi(t,r):Lh(t,r),na=(t,r)=>{m1(t)?t.dom.classList.add(r):Lh(t,r)},I2=t=>{(m1(t)?t.dom.classList:Oh(t)).length===0&&Kr(t,"class")},Vr=(t,r)=>{m1(t)?t.dom.classList.remove(r):Mi(t,r),I2(t)},Vu=(t,r)=>{const l=m1(t)?t.dom.classList.toggle(r):_d(t,r);return I2(t),l},Ma=(t,r)=>m1(t)&&t.dom.classList.contains(r),$l=(t,r)=>{ee(r,l=>{na(t,l)})},Cl=(t,r)=>{ee(r,l=>{Vr(t,l)})},h1=(t,r)=>{ee(r,l=>{Vu(t,l)})},Ug=(t,r)=>N(r,l=>Ma(t,l)),Dh=t=>{const r=t.dom.classList,l=new Array(r.length);for(let d=0;d<r.length;d++){const g=r.item(d);g!==null&&(l[d]=g)}return l},B2=t=>m1(t)?Dh(t):Oh(t),b1=t=>t.dom.textContent,jc=t=>t.dom.value,Hl=(t,r)=>{if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},ti=(t,r,l)=>be(T2(t,l),r),Ia=(t,r)=>Or(r,t),F2=(t,r,l)=>Ah(t,r,l).isSome(),_p=(t,r,l)=>nc(t,r,l).isSome(),Vg=t=>jt(t)?t:ge,Ed=(t,r,l)=>{let d=t.dom;const g=Vg(l);for(;d.parentNode;){d=d.parentNode;const v=cn.fromDom(d),y=r(v);if(y.isSome())return y;if(g(v))break}return p.none()},Wg=(t,r,l)=>{const d=r(t),g=Vg(l);return d.orThunk(()=>g(t)?p.none():Ed(t,r,g))},W={create:(t,r,l,d)=>({start:t,soffset:r,finish:l,foffset:d})},te=Jn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ie=(t,r,l,d)=>t.fold(r,l,d),at=t=>t.fold(oo,oo,oo),Nt=te.before,En=te.on,co=te.after,Fo={before:Nt,on:En,after:co,cata:Ie,getStart:at},Ds=Jn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$s=t=>Ds.exact(t.start,t.soffset,t.finish,t.foffset),Nr=t=>t.match({domRange:r=>cn.fromDom(r.startContainer),relative:(r,l)=>Fo.getStart(r),exact:(r,l,d,g)=>r}),qr=Ds.domRange,ma=Ds.relative,zl=Ds.exact,lu=t=>{const r=Nr(t);return Pu(r)},cu=W.create,hc={domRange:qr,relative:ma,exact:zl,exactFromRange:$s,getWin:lu,range:cu},Rh=t=>p.from(t.getSelection()),Ep=t=>{if(t.rangeCount>0){const r=t.getRangeAt(0),l=t.getRangeAt(t.rangeCount-1);return p.some(W.create(cn.fromDom(r.startContainer),r.startOffset,cn.fromDom(l.endContainer),l.endOffset))}else return p.none()},v1=t=>{if(t.anchorNode===null||t.focusNode===null)return Ep(t);{const r=cn.fromDom(t.anchorNode),l=cn.fromDom(t.focusNode);return Ig(r,t.anchorOffset,l,t.focusOffset)?p.some(W.create(r,t.anchorOffset,l,t.focusOffset)):Ep(t)}},Wu=t=>Rh(t).filter(r=>r.rangeCount>0).bind(v1),Kg=(t,r)=>{const l=Ge(t,r);return ln(l)},jg=(t,r)=>{const l=Ge(t,r);return An(l)},Zg={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},f5=(()=>{const t="[0-9]+",l="[eE]"+("[+-]?"+t),d="\\.",g=k=>`(?:${k})?`,y=`[+-]?(?:${["Infinity",t+d+g(t)+g(l),d+t+g(l),t+g(l)].join("|")})`;return new RegExp(`^(${y})(.*)$`)})(),p5=(t,r)=>H(r,l=>H(Zg[l],d=>t===d)),Ks=(t,r)=>p.from(f5.exec(t)).bind(d=>{const g=Number(d[1]),v=d[2];return p5(v,r)?p.some({value:g,unit:v}):p.none()}),Xr=(t,r)=>Ks(t,r).map(({value:l,unit:d})=>l+d),Ci=t=>{const r=t===void 0?window:t;return ca().browser.isFirefox()?p.none():p.from(r.visualViewport)},_l=(t,r,l,d)=>({x:t,y:r,width:l,height:d,right:t+l,bottom:r+d}),Gg=t=>{const r=t===void 0?window:t,l=r.document,d=Ri(cn.fromDom(l));return Ci(r).fold(()=>{const g=r.document.documentElement,v=g.clientWidth,y=g.clientHeight;return _l(d.left,d.top,v,y)},g=>_l(Math.max(g.pageLeft,d.left),Math.max(g.pageTop,d.top),g.width,g.height))},wp=(t,r)=>t.view(r).fold(ht([]),d=>{const g=t.owner(d),v=wp(t,g);return[d].concat(v)}),Yg=(t,r)=>{const l=r.owner(t),d=wp(r,l);return p.some(d)};var bc=Object.freeze({__proto__:null,view:t=>{var r;return(t.dom===document?p.none():p.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(cn.fromDom)},owner:t=>Rl(t)});const Mh=t=>{const r=ri(),l=Ri(r);return Yg(t,bc).fold(us(Ni,t),g=>{const v=Va(t),y=re(g,(k,$)=>{const Y=Va($);return{left:k.left+Y.left,top:k.top+Y.top}},{left:0,top:0});return Dr(y.left+v.left+l.left,y.top+v.top+l.top)})},g5=(t,r,l)=>({point:t,width:r,height:l}),Vy=(t,r,l,d)=>({x:t,y:r,width:l,height:d}),Ka=(t,r,l,d)=>({x:t,y:r,width:l,height:d,right:t+l,bottom:r+d}),ha=t=>{const r=Ni(t),l=f1(t),d=Di(t);return Ka(r.left,r.top,l,d)},x1=t=>{const r=Mh(t),l=f1(t),d=Di(t);return Ka(r.left,r.top,l,d)},Sp=(t,r)=>{const l=Math.max(t.x,r.x),d=Math.max(t.y,r.y),g=Math.min(t.right,r.right),v=Math.min(t.bottom,r.bottom),y=g-l,k=v-d;return Ka(l,d,y,k)},m5=(t,r)=>se(r,(l,d)=>Sp(l,d),t),ol=()=>Gg(window),h5=(t,r)=>Rs(t.element,r.event.target),y1=t=>(kt(er(t,"position"),"fixed")?p.none():Ml(t)).orThunk(()=>{const d=cn.fromTag("span");return Xl(t).bind(g=>{tl(g,d);const v=Ml(d);return ec(d),v})}),Ih=t=>y1(t).map(Ni).getOrThunk(()=>Dr(0,0)),Ul=(t,r)=>{const l=p.from(Ua(t,"id")).getOrThunk(()=>{const d=_e("aria");return os(r,"id",d),d});os(t,"aria-describedby",l)},ja=t=>{Kr(t,"aria-describedby")};var vc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(vc||(vc={}));const du=(t,r,l)=>t.stype===vc.Error?r(t.serror):l(t.svalue),P2=t=>{const r=[],l=[];return ee(t,d=>{du(d,g=>l.push(g),g=>r.push(g))}),{values:r,errors:l}},Wy=(t,r)=>t.stype===vc.Error?{stype:vc.Error,serror:r(t.serror)}:t,b5=(t,r)=>t.stype===vc.Value?{stype:vc.Value,svalue:r(t.svalue)}:t,v5=(t,r)=>t.stype===vc.Value?r(t.svalue):t,n8=(t,r)=>t.stype===vc.Error?r(t.serror):t,C1=t=>({stype:vc.Value,svalue:t}),Xg=t=>({stype:vc.Error,serror:t}),Za={fromResult:t=>t.fold(Xg,C1),toResult:t=>du(t,zn.error,zn.value),svalue:C1,partition:P2,serror:Xg,bind:v5,bindError:n8,map:b5,mapError:Wy,fold:du},wd=t=>Ft(t)&&nt(t).length>100?" removed due to size":JSON.stringify(t,null,2),fu=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ht("... (only showing first ten failures)")}]):t;return K(r,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())},xc=(t,r)=>Za.serror([{path:t,getErrorInfo:r}]),x5=(t,r,l)=>xc(t,()=>'Could not find valid *required* value for "'+r+'" in '+wd(l)),Tp=(t,r)=>xc(t,()=>'Choice schema did not contain choice key: "'+r+'"'),Ky=(t,r,l)=>xc(t,()=>'The chosen schema: "'+l+'" did not exist in branches: '+wd(r)),pu=(t,r)=>xc(t,()=>"There are unsupported fields: ["+r.join(", ")+"] specified"),o8=(t,r)=>xc(t,ht(r)),kf=t=>{const r=(d,g)=>Za.bindError(t(g),v=>o8(d,v)),l=ht("val");return{extract:r,toString:l}},Gn=kf(Za.svalue),gu=ht(Gn),y5=(t,r)=>kf(l=>{const d=typeof l;return t(l)?Za.svalue(l):Za.serror(`Expected type: ${r} but got: ${d}`)}),Ku=y5(Zo,"number"),ka=y5(dt,"string"),Ys=y5(ve,"boolean"),Qr=y5(jt,"function"),Bh=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(r=>Bh(t[r]));default:return!1}},s8=kf(t=>Bh(t)?Za.svalue(t):Za.serror("Expected value to be acceptable for sending via postMessage")),ni=()=>({tag:"required",process:{}}),Pr=t=>({tag:"defaultedThunk",process:t}),Fh=t=>Pr(ht(t)),Ph=()=>({tag:"option",process:{}}),Ap=t=>({tag:"mergeWithThunk",process:t}),$2=t=>Ap(ht(t)),Zc=(t,r,l,d)=>({tag:"field",key:t,newKey:r,presence:l,prop:d}),r8=(t,r)=>({tag:"custom",newKey:t,instantiator:r}),$h=(t,r,l)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return l(t.newKey,t.instantiator)}},a8=(t,r)=>Za.svalue(At(r,zt.apply(void 0,t))),H2=t=>gs(Za.serror,V)(t),C5={consolidateObj:(t,r)=>{const l=Za.partition(t);return l.errors.length>0?H2(l.errors):a8(l.values,r)},consolidateArr:t=>{const r=Za.partition(t);return r.errors.length>0?H2(r.errors):Za.svalue(r.values)}},i8=(t,r,l,d)=>Rt(r,l).fold(()=>x5(t,l,r),d),z2=(t,r,l,d)=>{const g=Rt(t,r).getOrThunk(()=>l(t));return d(g)},Gy=(t,r,l)=>l(Rt(t,r)),Yy=(t,r,l,d)=>{const g=Rt(t,r).map(v=>v===!0?l(t):v);return d(g)},Hh=(t,r,l,d,g)=>{const v=k=>g.extract(r.concat([d]),k),y=k=>k.fold(()=>Za.svalue(p.none()),$=>{const Y=g.extract(r.concat([d]),$);return Za.map(Y,p.some)});switch(t.tag){case"required":return i8(r,l,d,v);case"defaultedThunk":return z2(l,d,t.process,v);case"option":return Gy(l,d,y);case"defaultedOptionThunk":return Yy(l,d,t.process,y);case"mergeWithThunk":return z2(l,d,ht({}),k=>{const $=At(t.process(l),k);return v($)})}},Of=(t,r,l)=>{const d={},g=[];for(const v of l)$h(v,(y,k,$,Y)=>{const le=Hh($,t,r,y,Y);Za.fold(le,Ee=>{g.push(...Ee)},Ee=>{d[k]=Ee})},(y,k)=>{d[y]=k(r)});return g.length>0?Za.serror(g):Za.svalue(d)},li=t=>({extract:(d,g)=>t().extract(d,g),toString:()=>t().toString()}),qy=t=>nt(tt(t,Ao)),yc=t=>{const r=ts(t),l=re(t,(g,v)=>$h(v,y=>At(g,{[y]:!0}),ht(g)),{});return{extract:(g,v)=>{const y=ve(v)?[]:qy(v),k=be(y,$=>!Zt(l,$));return k.length===0?r.extract(g,v):pu(g,k)},toString:r.toString}},ts=t=>({extract:(d,g)=>Of(d,g,t),toString:()=>`obj{
`+K(t,g=>$h(g,(v,y,k,$)=>v+" -> "+$.toString(),(v,y)=>"state("+v+")")).join(`
`)+"}"}),Gc=t=>({extract:(d,g)=>{const v=K(g,(y,k)=>t.extract(d.concat(["["+k+"]"]),y));return C5.consolidateArr(v)},toString:()=>"array("+t.toString()+")"}),Qg=(t,r)=>{const l=r!==void 0?r:oo;return{extract:(v,y)=>{const k=[];for(const $ of t){const Y=$.extract(v,y);if(Y.stype===vc.Value)return{stype:vc.Value,svalue:l(Y.svalue)};k.push(Y)}return C5.consolidateArr(k)},toString:()=>"oneOf("+K(t,v=>v.toString()).join(", ")+")"}},Xy=(t,r)=>{const l=(v,y)=>Gc(kf(t)).extract(v,y);return{extract:(v,y)=>{const k=nt(y),$=l(v,k);return Za.bind($,Y=>{const le=K(Y,Ee=>Zc(Ee,Ee,ni(),r));return ts(le).extract(v,y)})},toString:()=>"setOf("+r.toString()+")"}},Qy=(t,r)=>{const l=St(r);return{extract:(v,y)=>l().extract(v,y),toString:()=>l().toString()}},kp=gs(Gc,ts),l8=(t,r,l,d)=>Rt(l,d).fold(()=>Ky(t,l,d),v=>v.extract(t.concat(["branch: "+d]),r)),Lf=(t,r)=>({extract:(g,v)=>Rt(v,t).fold(()=>Tp(g,t),k=>l8(g,v,r,k)),toString:()=>"chooseOn("+t+"). Possible values: "+nt(r)}),_5=()=>Gc(Gn),_1=t=>kf(r=>t(r).fold(Za.serror,Za.svalue)),E5=(t,r)=>Xy(l=>Za.fromResult(t(l)),r),Jy=(t,r,l)=>{const d=r.extract([t],l);return Za.mapError(d,g=>({input:l,errors:g}))},ra=(t,r,l)=>Za.toResult(Jy(t,r,l)),Sd=t=>t.fold(r=>{throw new Error(Jg(r))},oo),sl=(t,r,l)=>Sd(ra(t,r,l)),Jg=t=>`Errors: 
`+fu(t.errors).join(`
`)+`

Input object: `+wd(t.input),El=(t,r)=>Lf(t,et(r,ts)),Df=(t,r)=>Qy(t,r),ci=Zc,Wi=r8,ju=t=>_1(r=>Q(t,r)?zn.value(r):zn.error(`Unsupported value: "${r}", choose one of "${t.join(", ")}".`)),Bn=t=>ci(t,t,ni(),gu()),Vl=(t,r)=>ci(t,t,ni(),r),w5=t=>Vl(t,Ku),Ga=t=>Vl(t,ka),Td=(t,r)=>ci(t,t,ni(),ju(r)),Cc=t=>Vl(t,Qr),eC=(t,r)=>ci(t,t,Ph(),kf(l=>Za.serror("The field: "+t+" is forbidden. "+r))),Nf=(t,r)=>ci(t,t,ni(),ts(r)),S5=(t,r)=>ci(t,t,ni(),kp(r)),_c=(t,r)=>ci(t,t,ni(),Gc(r)),xr=t=>ci(t,t,Ph(),gu()),mu=(t,r)=>ci(t,t,Ph(),r),em=t=>mu(t,Ku),xa=t=>mu(t,ka),T5=(t,r)=>mu(t,ju(r)),A5=t=>mu(t,Ys),hu=t=>mu(t,Qr),k5=(t,r)=>mu(t,Gc(r)),wl=(t,r)=>mu(t,ts(r)),tC=(t,r)=>mu(t,yc(r)),tn=(t,r)=>ci(t,t,Fh(r),gu()),Sl=(t,r,l)=>ci(t,t,Fh(r),l),O5=(t,r)=>Sl(t,r,Ku),aa=(t,r)=>Sl(t,r,ka),Ec=(t,r,l)=>Sl(t,r,ju(l)),Oa=(t,r)=>Sl(t,r,Ys),$r=(t,r)=>Sl(t,r,Qr),c8=(t,r)=>Sl(t,r,s8),Rf=(t,r,l)=>Sl(t,r,Gc(l)),U2=(t,r,l)=>Sl(t,r,ts(l)),Op=(t,r)=>{const l={};return Me(t,(d,g)=>{Q(r,g)||(l[g]=d)}),l},zh=(t,r)=>({[t]:r}),L5=t=>{const r={};return ee(t,l=>{r[l.key]=l.value}),r},D5=(t,r)=>Op(t,r),tm=(t,r)=>zh(t,r),Uh=t=>L5(t),Lp=(t,r)=>t.length===0?zn.value(r):zn.value(At(r,zt.apply(void 0,t))),Ki=t=>zn.error(V(t)),N5=(t,r)=>{const l=fs(t);return l.errors.length>0?Ki(l.errors):Lp(l.values,r)},Ii=ht,Mf=Ii("touchstart"),If=Ii("touchmove"),E1=Ii("touchend"),nm=Ii("touchcancel"),rl=Ii("mousedown"),om=Ii("mousemove"),Ya=Ii("mouseout"),R5=Ii("mouseup"),Ad=Ii("mouseover"),wc=Ii("focusin"),d8=Ii("focusout"),di=Ii("keydown"),sm=Ii("keyup"),Bf=Ii("input"),Zu=Ii("change"),bu=Ii("click"),vu=Ii("transitioncancel"),Vh=Ii("transitionend"),Dp=Ii("transitionstart"),u8=Ii("selectstart"),ya=t=>ht("alloy."+t),M5={tap:ya("tap")},oc=ya("focus"),Wh=ya("blur.post"),I5=ya("paste.post"),Ff=ya("receive"),Yc=ya("execute"),w1=ya("focus.item"),Np=M5.tap,f8=ya("longpress"),Kh=ya("sandbox.close"),B5=ya("typeahead.cancel"),jh=ya("system.init"),p8=ya("system.touchmove"),rm=ya("system.touchend"),Zh=ya("system.scroll"),Gh=ya("system.resize"),xu=ya("system.attached"),Pf=ya("system.detached"),Rp=ya("system.dismissRequested"),F5=ya("system.repositionRequested"),am=ya("focusmanager.shifted"),P5=ya("slotcontainer.visibility"),g8=ya("system.external.element.scroll"),V2=ya("change.tab"),Yh=ya("dismiss.tab"),W2=ya("highlight"),S1=ya("dehighlight"),$f=t=>yd(t),T1="unknown";var A1;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(A1||(A1={}));const $5=Je({}),K2=(t,r)=>{const l=[],d=new Date().getTime();return{logEventCut:(g,v,y)=>{l.push({outcome:"cut",target:v,purpose:y})},logEventStopped:(g,v,y)=>{l.push({outcome:"stopped",target:v,purpose:y})},logNoParent:(g,v,y)=>{l.push({outcome:"no-parent",target:v,purpose:y})},logEventNoHandlers:(g,v)=>{l.push({outcome:"no-handlers-left",target:v})},logEventResponse:(g,v,y)=>{l.push({outcome:"response",purpose:y,target:v})},write:()=>{const g=new Date().getTime();Q(["mousemove","mouseover","mouseout",jh()],t)||console.log(t,{event:t,time:g-d,target:r.dom,sequence:K(l,v=>Q(["cut","stopped","response"],v.outcome)?"{"+v.purpose+"} "+v.outcome+" at ("+$f(v.target)+")":v.outcome)})}}},FA=(t,r,l)=>{switch(Rt($5.get(),t).orThunk(()=>{const g=nt($5.get());return ut(g,v=>t.indexOf(v)>-1?p.some($5.get()[v]):p.none())}).getOr(A1.NORMAL)){case A1.NORMAL:return l(PA());case A1.LOGGING:{const g=K2(t,r),v=l(g);return g.write(),v}case A1.STOP:return!0}},ji=["alloy/data/Fields","alloy/debugging/Debugging"],m8=()=>{const t=new Error;if(t.stack!==void 0){const r=t.stack.split(`
`);return D(r,l=>l.indexOf("alloy")>0&&!H(ji,d=>l.indexOf(d)>-1)).getOr(T1)}else return T1},im={logEventCut:lt,logEventStopped:lt,logNoParent:lt,logEventNoHandlers:lt,logEventResponse:lt,write:lt},j2=(t,r,l)=>FA(t,r,l),PA=ht(im),h8=ht([Bn("menu"),Bn("selectedMenu")]),b8=ht([Bn("item"),Bn("selectedItem")]);ht(ts(b8().concat(h8())));const kr=ht(ts(b8())),qh=Nf("initSize",[Bn("numColumns"),Bn("numRows")]),v8=()=>Vl("markers",kr()),x8=()=>Nf("markers",[Bn("backgroundMenu")].concat(h8()).concat(b8())),Wl=t=>Nf("markers",K(t,Bn)),Xh=(t,r,l)=>(m8(),ci(r,r,l,_1(d=>zn.value((...g)=>d.apply(void 0,g))))),Us=t=>Xh("onHandler",t,Fh(lt)),sc=t=>Xh("onKeyboardHandler",t,Fh(p.none)),Qh=t=>Xh("onHandler",t,ni()),Z2=t=>Xh("onKeyboardHandler",t,ni()),Rr=(t,r)=>Wi(t,ht(r)),G2=t=>Wi(t,oo),H5=ht(qh),$A=(t,r,l)=>{const d=l.toString(),g=d.indexOf(")")+1,v=d.indexOf("("),y=d.substring(v+1,g-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:r,parameters:y8(y.slice(0,1).concat(y.slice(3)))}),t},y8=t=>K(t,r=>Tr(r,"/*")?r.substring(0,r.length-2):r),C8=(t,r)=>{const l=t.toString(),d=l.indexOf(")")+1,g=l.indexOf("("),v=l.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:r,parameters:y8(v)}),t},HA=(t,r)=>{const l=r.toString(),d=l.indexOf(")")+1,g=l.indexOf("("),v=l.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:y8(v.slice(1))}),t},nC=(t,r)=>{let l=null;return{cancel:()=>{l!==null&&(clearTimeout(l),l=null)},schedule:(...v)=>{l=setTimeout(()=>{t.apply(null,v),l=null},r)}}},oC=5,_8=400,qc=t=>{const r=t.raw;return r.touches===void 0||r.touches.length!==1?p.none():p.some(r.touches[0])},Zi=(t,r)=>{const l=Math.abs(t.clientX-r.x),d=Math.abs(t.clientY-r.y);return l>oC||d>oC},lm=t=>{const r=Do(),l=Je(!1),d=nC(Y=>{t.triggerEvent(f8(),Y),l.set(!0)},_8),g=Y=>(qc(Y).each(le=>{d.cancel();const Ee={x:le.clientX,y:le.clientY,target:Y.target};d.schedule(Y),l.set(!1),r.set(Ee)}),p.none()),v=Y=>(d.cancel(),qc(Y).each(le=>{r.on(Ee=>{Zi(le,Ee)&&r.clear()})}),p.none()),y=Y=>{d.cancel();const le=Ee=>Rs(Ee.target,Y.target);return r.get().filter(le).map(Ee=>l.get()?(Y.prevent(),!1):t.triggerEvent(Np(),Y))},k=Uh([{key:Mf(),value:g},{key:If(),value:v},{key:E1(),value:y}]);return{fireIfReady:(Y,le)=>Rt(k,le).bind(Ee=>Ee(Y))}};var Sc;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Sc||(Sc={}));const Gu="placeholder",Yu=Jn.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),k1=t=>Wt(t,"uiType"),qu=(t,r,l,d)=>t.exists(g=>g!==l.owner)?Yu.single(!0,ht(l)):Rt(d,l.name).fold(()=>{throw new Error("Unknown placeholder component: "+l.name+`
Known: [`+nt(d)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(l,null,2))},g=>g.replace()),cm=(t,r,l,d)=>k1(l)&&l.uiType===Gu?qu(t,r,l,d):Yu.single(!1,ht(l)),z5=(t,r,l,d)=>cm(t,r,l,d).fold((v,y)=>{const k=k1(l)?y(r,l.config,l.validated):y(r),$=Rt(k,"components").getOr([]),Y=I($,le=>z5(t,r,le,d));return[{...k,components:Y}]},(v,y)=>{if(k1(l)){const k=y(r,l.config,l.validated);return l.validated.preprocess.getOr(oo)(k)}else return y(r)}),E8=(t,r,l,d)=>I(l,g=>z5(t,r,g,d)),sC=(t,r)=>{let l=!1;const d=()=>l,g=()=>{if(l)throw new Error("Trying to use the same placeholder more than once: "+t);return l=!0,r},v=()=>r.fold((y,k)=>y,(y,k)=>y);return{name:ht(t),required:v,used:d,replace:g}},rC=(t,r,l,d)=>{const g=et(d,(y,k)=>sC(k,y)),v=E8(t,r,l,g);return Me(g,y=>{if(y.used()===!1&&y.required())throw new Error("Placeholder: "+y.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),v},Y2=Yu.single,U5=Yu.multiple,w8=ht(Gu),q2=Jn.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Hf=tn("factory",{sketch:oo}),Xu=tn("schema",[]),Jh=Bn("name"),X2=ci("pname","pname",Pr(t=>"<alloy."+_e(t.name)+">"),gu()),aC=Wi("schema",()=>[xr("preprocess")]),Q2=tn("defaults",ht({})),J2=tn("overrides",ht({})),S8=ts([Hf,Xu,Jh,X2,Q2,J2]),dm=ts([Hf,Xu,Jh,Q2,J2]),iC=ts([Hf,Xu,Jh,X2,Q2,J2]),zf=ts([Hf,aC,Jh,Bn("unit"),X2,Q2,J2]),e3=t=>t.fold(p.some,p.none,p.some,p.some),Mp=t=>{const r=l=>l.name;return t.fold(r,r,r,r)},Ip=t=>t.fold(oo,oo,oo,oo),e0=(t,r)=>l=>{const d=sl("Converting part type",r,l);return t(d)},_i=e0(q2.required,S8),Tc=e0(q2.external,dm),kd=e0(q2.optional,iC),t3=e0(q2.group,zf),O1=ht("entirety");var L1=Object.freeze({__proto__:null,required:_i,external:Tc,optional:kd,group:t3,asNamedPart:e3,name:Mp,asCommon:Ip,original:O1});const V5=(t,r,l,d)=>At(r.defaults(t,l,d),l,{uid:t.partUids[r.name]},r.overrides(t,l,d)),ui=(t,r,l)=>{const d={},g={};return ee(l,v=>{v.fold(y=>{d[y.pname]=Y2(!0,(k,$,Y)=>y.factory.sketch(V5(k,y,$,Y)))},y=>{const k=r.parts[y.name];g[y.name]=ht(y.factory.sketch(V5(r,y,k[O1()]),k))},y=>{d[y.pname]=Y2(!1,(k,$,Y)=>y.factory.sketch(V5(k,y,$,Y)))},y=>{d[y.pname]=U5(!0,(k,$,Y)=>{const le=k[y.name];return K(le,Ee=>y.factory.sketch(At(y.defaults(k,Ee,Y),Ee,y.overrides(k,Ee))))})})}),{internals:ht(d),externals:ht(g)}},um=(t,r)=>{const l={};return ee(r,d=>{e3(d).each(g=>{const v=Ac(t,g.pname);l[g.name]=y=>{const k=sl("Part: "+g.name+" in "+t,ts(g.schema),y);return{...v,config:y,validated:k}}})}),l},Ac=(t,r)=>({uiType:w8(),owner:t,name:r}),W5=(t,r,l)=>({uiType:w8(),owner:t,name:r,config:l,validated:{}}),T8=t=>I(t,r=>r.fold(p.none,p.some,p.none,p.none).map(l=>Nf(l.name,l.schema.concat([G2(O1())]))).toArray()),Bp=t=>K(t,Mp),D1=(t,r,l)=>ui(t,r,l),yu=(t,r,l)=>rC(p.some(t),r,r.components,l),nr=(t,r,l)=>{const d=r.partUids[l];return t.getSystem().getByUid(d).toOptional()},Fp=(t,r,l)=>nr(t,r,l).getOrDie("Could not find part: "+l),n3=(t,r,l)=>{const d={},g=r.partUids,v=t.getSystem();return ee(l,y=>{d[y]=ht(v.getByUid(g[y]))}),d},fm=(t,r)=>{const l=t.getSystem();return et(r.partUids,(d,g)=>ht(l.getByUid(d)))},o3=t=>nt(t.partUids),K5=(t,r,l)=>{const d={},g=r.partUids,v=t.getSystem();return ee(l,y=>{d[y]=ht(v.getByUid(g[y]).getOrDie())}),d},t0=(t,r)=>{const l=Bp(r);return Uh(K(l,d=>({key:d,value:t+"-"+d})))},Qu=t=>ci("partUids","partUids",Ap(r=>t0(r.uid,t)),gu());var n0=Object.freeze({__proto__:null,generate:um,generateOne:W5,schemas:T8,names:Bp,substitutes:D1,components:yu,defaultUids:t0,defaultUidsSchema:Qu,getAllParts:fm,getAllPartNames:o3,getPart:nr,getPartOrDie:Fp,getParts:n3,getPartsOrDie:K5});const o0=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Xc=(t,r,l,d=1)=>{const g=t*d,v=r*d,y=$=>Rt(l,$).getOr([]),k=($,Y,le)=>{const Ee=G(o0,le);return{offset:Dr($,Y),classesOn:I(le,y),classesOff:I(Ee,y)}};return{southeast:()=>k(-t,r,["top","alignLeft"]),southwest:()=>k(t,r,["top","alignRight"]),south:()=>k(-t/2,r,["top","alignCentre"]),northeast:()=>k(-t,-r,["bottom","alignLeft"]),northwest:()=>k(t,-r,["bottom","alignRight"]),north:()=>k(-t/2,-r,["bottom","alignCentre"]),east:()=>k(t,-r/2,["valignCentre","left"]),west:()=>k(-t,-r/2,["valignCentre","right"]),insetNortheast:()=>k(g,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-g,v,["top","alignRight","inset"]),insetNorth:()=>k(-g/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(g,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-g,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-g/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-g,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(g,-v/2,["valignCentre","left","inset"])}},Ju=()=>Xc(0,0,{}),La=(t,r,l,d,g,v,y,k=!1)=>({x:t,y:r,bubble:l,direction:d,placement:g,restriction:v,label:`${y}-${g}`,alwaysFit:k}),Cu=Jn.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),j5=(t,r,l,d,g,v,y,k,$)=>t.fold(r,l,d,g,v,y,k,$),Z5=(t,r,l,d)=>t.fold(r,r,d,d,r,d,l,l),pm=(t,r,l,d)=>t.fold(r,d,r,d,l,l,r,d),N1=Cu.southeast,G5=Cu.southwest,Y5=Cu.northeast,s3=Cu.northwest,r3=Cu.south,gm=Cu.north,Od=Cu.east,A8=Cu.west,k8=(t,r)=>{switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Ei=(t,r)=>q(["left","right","top","bottom"],l=>Rt(r,l).map(d=>k8(t,d))),lC=(t,r,l)=>{const d=($,Y)=>r[$].map(le=>{const Ee=$==="top"||$==="bottom",Fe=Ee?l.top:l.left,qe=($==="left"||$==="top"?Math.max:Math.min)(le,Y)+Fe;return Ee?J(qe,t.y,t.bottom):J(qe,t.x,t.right)}).getOr(Y),g=d("left",t.x),v=d("top",t.y),y=d("right",t.right),k=d("bottom",t.bottom);return Ka(g,v,y-g,k-v)},R1="layout",q5=t=>t.x,X5=(t,r)=>t.x+t.width/2-r.width/2,Q5=(t,r)=>t.x+t.width-r.width,s0=(t,r)=>t.y-r.height,J5=t=>t.y+t.height,eb=(t,r)=>t.y+t.height/2-r.height/2,cC=t=>t.x+t.width,r0=(t,r)=>t.x-r.width,jr=(t,r,l)=>La(q5(t),J5(t),l.southeast(),N1(),"southeast",Ei(t,{left:1,top:3}),R1),qa=(t,r,l)=>La(Q5(t,r),J5(t),l.southwest(),G5(),"southwest",Ei(t,{right:0,top:3}),R1),fi=(t,r,l)=>La(q5(t),s0(t,r),l.northeast(),Y5(),"northeast",Ei(t,{left:1,bottom:2}),R1),wi=(t,r,l)=>La(Q5(t,r),s0(t,r),l.northwest(),s3(),"northwest",Ei(t,{right:0,bottom:2}),R1),pi=(t,r,l)=>La(X5(t,r),s0(t,r),l.north(),gm(),"north",Ei(t,{bottom:2}),R1),Ba=(t,r,l)=>La(X5(t,r),J5(t),l.south(),r3(),"south",Ei(t,{top:3}),R1),a0=(t,r,l)=>La(cC(t),eb(t,r),l.east(),Od(),"east",Ei(t,{left:0}),R1),a3=(t,r,l)=>La(r0(t,r),eb(t,r),l.west(),A8(),"west",Ei(t,{right:1}),R1),tb=()=>[jr,qa,fi,wi,Ba,pi,a0,a3],nb=()=>[qa,jr,wi,fi,Ba,pi,a0,a3],ob=()=>[fi,wi,jr,qa,pi,Ba],mm=()=>[wi,fi,qa,jr,pi,Ba],sb=()=>[jr,qa,fi,wi,Ba,pi],Pp=()=>[qa,jr,wi,fi,Ba,pi],i0="data-alloy-placement",rb=(t,r)=>{os(t,i0,r)},l0=t=>ai(t,i0),ab=t=>Kr(t,i0),_u="layout-inset",i3=t=>t.x,l3=(t,r)=>t.x+t.width/2-r.width/2,c3=(t,r)=>t.x+t.width-r.width,c0=t=>t.y,d0=(t,r)=>t.y+t.height-r.height,Uf=(t,r)=>t.y+t.height/2-r.height/2,Eu=(t,r,l)=>La(c3(t,r),d0(t,r),l.insetSouthwest(),s3(),"southwest",Ei(t,{right:0,bottom:3}),_u),d3=(t,r,l)=>La(i3(t),d0(t,r),l.insetSoutheast(),Y5(),"southeast",Ei(t,{left:1,bottom:3}),_u),hn=(t,r,l)=>La(c3(t,r),c0(t),l.insetNorthwest(),G5(),"northwest",Ei(t,{right:0,top:2}),_u),Qc=(t,r,l)=>La(i3(t),c0(t),l.insetNortheast(),N1(),"northeast",Ei(t,{left:1,top:2}),_u),Jc=(t,r,l)=>La(l3(t,r),c0(t),l.insetNorth(),r3(),"north",Ei(t,{top:2}),_u),hm=(t,r,l)=>La(l3(t,r),d0(t,r),l.insetSouth(),gm(),"south",Ei(t,{bottom:3}),_u),$p=(t,r,l)=>La(c3(t,r),Uf(t,r),l.insetEast(),A8(),"east",Ei(t,{right:0}),_u),Ld=(t,r,l)=>La(i3(t),Uf(t,r),l.insetWest(),Od(),"west",Ei(t,{left:1}),_u),O8=t=>{switch(t){case"north":return Jc;case"northeast":return Qc;case"northwest":return hn;case"south":return hm;case"southeast":return d3;case"southwest":return Eu;case"east":return $p;case"west":return Ld}},al=(t,r,l,d,g)=>l0(d).map(O8).getOr(Jc)(t,r,l,d,g),u0=t=>{switch(t){case"north":return hm;case"northeast":return d3;case"northwest":return Eu;case"south":return Jc;case"southeast":return Qc;case"southwest":return hn;case"east":return Ld;case"west":return $p}},ib=(t,r,l,d,g)=>l0(d).map(u0).getOr(Jc)(t,r,l,d,g),L8=(t,r)=>{Uu(t,Math.floor(r))},lb=ht((t,r)=>{L8(t,r),Aa(t,{"overflow-x":"hidden","overflow-y":"auto"})}),bm=ht((t,r)=>{L8(t,r)}),u3=ht((t,r)=>{vp(t,Math.floor(r))});var Vf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Vf||(Vf={}));const f3="data-alloy-vertical-dir",dC=t=>F2(t,r=>hl(r)&&Ua(r,"data-alloy-vertical-dir")===Vf.BottomToTop);var il;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(il||(il={}));const Dd={init:()=>Tl({readState:ht("No State required")})},Tl=t=>t,uC={can:a,abort:ge,run:lt},Hp=t=>{if(!Zt(t,"can")&&!Zt(t,"abort")&&!Zt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...uC,...t}},fC=(t,r)=>(...l)=>se(t,(d,g)=>d&&r(g).apply(void 0,l),!0),cb=(t,r)=>(...l)=>se(t,(d,g)=>d||r(g).apply(void 0,l),!1),D8=t=>jt(t)?{can:a,abort:ge,run:t}:t,N8=t=>{const r=fC(t,g=>g.can),l=cb(t,g=>g.abort);return{can:r,abort:l,run:(...g)=>{ee(t,v=>{v.run.apply(void 0,g)})}}},Hs=(t,r)=>{ub(t,t.element,r,{})},Xo=(t,r,l)=>{ub(t,t.element,r,l)},vm=t=>{Hs(t,Yc())},db=(t,r,l)=>{ub(t,r,l,{})},ub=(t,r,l,d)=>{const g={target:r,...d};t.getSystem().triggerEvent(l,r,g)},R8=(t,r,l,d)=>{const g={...d,target:r};t.getSystem().triggerEvent(l,r,g)},fb=(t,r,l,d)=>{t.getSystem().triggerEvent(l,r,d.event)},Jr=t=>Uh(t),xm=(t,r)=>({key:t,value:Hp({abort:r})}),pb=(t,r)=>({key:t,value:Hp({can:r})}),M8=t=>({key:t,value:Hp({run:(r,l)=>{l.event.prevent()}})}),xn=(t,r)=>({key:t,value:Hp({run:r})}),p3=(t,r,l)=>({key:t,value:Hp({run:(d,g)=>{r.apply(void 0,[d,g].concat(l))}})}),gb=t=>r=>xn(t,r),f0=t=>r=>({key:t,value:Hp({run:(l,d)=>{h5(l,d)&&r(l,d)}})}),I8=(t,r)=>xn(t,(l,d)=>{l.getSystem().getByUid(r).each(g=>{fb(g,g.element,t,d)})}),ef=(t,r,l)=>{const d=r.partUids[l];return I8(t,d)},zp=(t,r)=>xn(t,(l,d)=>{const g=d.event,v=l.getSystem().getByDom(g.target).getOrThunk(()=>Wg(g.target,k=>l.getSystem().getByDom(k).toOptional(),ge).getOr(l));r(l,v,d)}),Up=t=>xn(t,(r,l)=>{l.cut()}),pC=t=>xn(t,(r,l)=>{l.stop()}),ym=(t,r)=>f0(t)(r),Wr=f0(xu()),wu=f0(Pf()),B8=f0(jh()),Wf=gb(Yc()),Nd=t=>({classes:es(t.classes)?[]:t.classes,attributes:es(t.attributes)?{}:t.attributes,styles:es(t.styles)?{}:t.styles}),gC=(t,r)=>({...t,attributes:{...t.attributes,...r.attributes},styles:{...t.styles,...r.styles},classes:t.classes.concat(r.classes)}),mC=(t,r,l)=>Wf(d=>{l(d,t,r)}),mb=(t,r,l)=>B8((d,g)=>{l(d,t,r)}),hC=(t,r,l,d,g,v)=>{const y=yc(t),k=wl(r,[tC("config",t)]);return H8(y,k,r,l,d,g,v)},F8=(t,r,l,d,g,v)=>{const y=t,k=wl(r,[mu("config",t)]);return H8(y,k,r,l,d,g,v)},P8=(t,r,l)=>$A((g,...v)=>{const y=[g].concat(v);return g.config({name:ht(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+l)},k=>{const $=Array.prototype.slice.call(y,1);return r.apply(void 0,[g,k.config,k.state].concat($))})},l,r),$8=t=>({key:t,value:void 0}),H8=(t,r,l,d,g,v,y)=>{const k=Ee=>Zt(Ee,l)?Ee[l]():p.none(),$=et(g,(Ee,Fe)=>P8(l,Ee,Fe)),le={...et(v,(Ee,Fe)=>C8(Ee,Fe)),...$,revoke:us($8,l),config:Ee=>{const Fe=sl(l+"-config",t,Ee);return{key:l,value:{config:Fe,me:le,configAsRaw:St(()=>sl(l+"-config",t,Ee)),initialConfig:Ee,state:y}}},schema:ht(r),exhibit:(Ee,Fe)=>Qt(k(Ee),Rt(d,"exhibit"),(Qe,qe)=>qe(Fe,Qe.config,Qe.state)).getOrThunk(()=>Nd({})),name:ht(l),handlers:Ee=>k(Ee).map(Fe=>Rt(d,"events").getOr(()=>({}))(Fe.config,Fe.state)).getOr({})};return le},Yn=t=>Uh(t),bC=yc([Bn("fields"),Bn("name"),tn("active",{}),tn("apis",{}),tn("state",Dd),tn("extra",{})]),gi=t=>{const r=sl("Creating behaviour: "+t.name,bC,t);return hC(r.fields,r.name,r.active,r.apis,r.extra,r.state)},vC=yc([Bn("branchKey"),Bn("branches"),Bn("name"),tn("active",{}),tn("apis",{}),tn("state",Dd),tn("extra",{})]),z8=t=>{const r=sl("Creating behaviour: "+t.name,vC,t);return F8(El(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},hb=ht(void 0),xC=(t,r)=>{const l=Jr(r);return gi({fields:[Bn("enabled")],name:t,active:{events:ht(l)}})},Cs=(t,r)=>{const l=xC(t,r);return{key:t,value:{config:{},me:l,configAsRaw:ht({}),initialConfig:{},state:Dd}}},yC=t=>({init:()=>{const l=Je(t);return{get:()=>l.get(),set:k=>l.set(k),clear:()=>l.set(t),readState:()=>l.get()}}}),bb=(t,r)=>{r.ignore||(hr(t.element),r.onFocus(t))};var _C=Object.freeze({__proto__:null,focus:bb,blur:(t,r)=>{r.ignore||fc(t.element)},isFocused:t=>pc(t.element)}),V8=Object.freeze({__proto__:null,exhibit:(t,r)=>{const l=r.ignore?{}:{attributes:{tabindex:"-1"}};return Nd(l)},events:t=>Jr([xn(oc(),(r,l)=>{bb(r,t),l.stop()})].concat(t.stopMousedown?[xn(rl(),(r,l)=>{l.event.prevent()})]:[]))}),wC=[Us("onFocus"),tn("stopMousedown",!1),tn("ignore",!1)];const Es=gi({fields:wC,name:"focusing",active:V8,apis:_C}),ko=[8],Rd=[9],kc=[13],g3=[27],rc=[32],m3=[37],Cm=[38],h3=[39],_m=[40],p0=ht("tooltipping.close.all"),Kf=ht("dismiss.popups"),Mr=ht("reposition.popups"),Oc=ht("mouse.released"),SC=(t,r,l)=>{const d=ne(t.slice(0,r)),g=ne(t.slice(r+1));return D(d.concat(g),l)},TC=(t,r,l)=>{const d=ne(t.slice(0,r));return D(d,l)},AC=(t,r,l)=>{const d=t.slice(0,r),g=t.slice(r+1);return D(g.concat(d),l)},kC=(t,r,l)=>{const d=t.slice(r+1);return D(d,l)},or=t=>r=>{const l=r.raw;return Q(t,l.which)},Md=t=>r=>N(t,l=>l(r)),M1=t=>t.raw.shiftKey===!0,UA=t=>t.raw.ctrlKey===!0,Vp=s(M1),ar=(t,r)=>({matches:t,classification:r}),VA=(t,r)=>D(t,d=>d.matches(r)).map(d=>d.classification),OC=(t,r,l,d)=>{const g=Ia(t.element,"."+r.highlightClass);ee(g,v=>{H(d,k=>Rs(k.element,v))||(Vr(v,r.highlightClass),t.getSystem().getByDom(v).each(k=>{r.onDehighlight(t,k),Hs(k,S1())}))})},WA=(t,r,l)=>OC(t,r,l,[]),KA=(t,r,l,d)=>{b3(t,r,l,d)&&(Vr(d.element,r.highlightClass),r.onDehighlight(t,d),Hs(d,S1()))},g0=(t,r,l,d)=>{OC(t,r,l,[d]),b3(t,r,l,d)||(na(d.element,r.highlightClass),r.onHighlight(t,d),Hs(d,W2()))},vb=(t,r,l)=>{v3(t,r).each(d=>{g0(t,r,l,d)})},W8=(t,r,l)=>{x3(t,r).each(d=>{g0(t,r,l,d)})},m0=(t,r,l,d)=>{NC(t,r,l,d).fold(g=>{throw g},g=>{g0(t,r,l,g)})},LC=(t,r,l,d)=>{const g=Z8(t,r);D(g,d).each(y=>{g0(t,r,l,y)})},b3=(t,r,l,d)=>Ma(d.element,r.highlightClass),DC=(t,r,l)=>pr(t.element,"."+r.highlightClass).bind(d=>t.getSystem().getByDom(d).toOptional()),NC=(t,r,l,d)=>{const g=Ia(t.element,"."+r.itemClass);return p.from(g[d]).fold(()=>zn.error(new Error("No element found with index "+d)),t.getSystem().getByDom)},v3=(t,r,l)=>pr(t.element,"."+r.itemClass).bind(d=>t.getSystem().getByDom(d).toOptional()),x3=(t,r,l)=>{const d=Ia(t.element,"."+r.itemClass);return(d.length>0?p.some(d[d.length-1]):p.none()).bind(v=>t.getSystem().getByDom(v).toOptional())},xb=(t,r,l,d)=>{const g=Ia(t.element,"."+r.itemClass);return U(g,y=>Ma(y,r.highlightClass)).bind(y=>{const k=Re(y,d,0,g.length-1);return t.getSystem().getByDom(g[k]).toOptional()})},K8=(t,r,l)=>xb(t,r,l,-1),j8=(t,r,l)=>xb(t,r,l,1),Z8=(t,r,l)=>{const d=Ia(t.element,"."+r.itemClass);return Mt(K(d,g=>t.getSystem().getByDom(g).toOptional()))};var yb=Object.freeze({__proto__:null,dehighlightAll:WA,dehighlight:KA,highlight:g0,highlightFirst:vb,highlightLast:W8,highlightAt:m0,highlightBy:LC,isHighlighted:b3,getHighlighted:DC,getFirst:v3,getLast:x3,getPrevious:K8,getNext:j8,getCandidates:Z8}),Cb=[Bn("highlightClass"),Bn("itemClass"),Us("onHighlight"),Us("onDehighlight")];const gr=gi({fields:Cb,name:"highlighting",apis:yb}),Wp=(t,r,l)=>{r.exists(g=>l.exists(v=>Rs(v,g)))||Xo(t,am(),{prevFocus:r,newFocus:l})},_b=()=>{const t=l=>za(l.element);return{get:t,set:(l,d)=>{const g=t(l);l.getSystem().triggerFocus(d,l.element);const v=t(l);Wp(l,g,v)}}},h0=()=>{const t=l=>gr.getHighlighted(l).map(d=>d.element);return{get:t,set:(l,d)=>{const g=t(l);l.getSystem().getByDom(d).fold(lt,y=>{gr.highlight(l,y)});const v=t(l);Wp(l,g,v)}}},I1=(t,r,l,d,g)=>{const v=()=>t.concat([tn("focusManager",_b()),Sl("focusInside","onFocus",_1(Y=>Q(["onFocus","onEnterOrSpace","onApi"],Y)?zn.value(Y):zn.error("Invalid value for focusInside"))),Rr("handler",$),Rr("state",r),Rr("sendFocusIn",g)]),y=(Y,le,Ee,Fe,Qe)=>{const qe=Ee(Y,le,Fe,Qe);return VA(qe,le.event).bind(vt=>vt(Y,le,Fe,Qe))},$={schema:v,processKey:y,toEvents:(Y,le)=>{const Ee=Y.focusInside!==Sc.OnFocusMode?p.none():g(Y).map(qe=>xn(oc(),(vt,Ot)=>{qe(vt,Y,le),Ot.stop()})),Fe=(qe,vt)=>{const Ot=or(rc.concat(kc))(vt.event);Y.focusInside===Sc.OnEnterOrSpaceMode&&Ot&&h5(qe,vt)&&g(Y).each(Ct=>{Ct(qe,Y,le),vt.stop()})},Qe=[xn(di(),(qe,vt)=>{y(qe,vt,l,Y,le).fold(()=>{Fe(qe,vt)},Ot=>{vt.stop()})}),xn(sm(),(qe,vt)=>{y(qe,vt,d,Y,le).each(Ot=>{vt.stop()})})];return Jr(Ee.toArray().concat(Qe))}};return $},Em=t=>{const r=[xr("onEscape"),xr("onEnter"),tn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),tn("firstTabstop",0),tn("useTabstopAt",a),xr("visibilitySelector")].concat([t]),l=(Ct,$t)=>{const Ut=Ct.visibilitySelector.bind(an=>nc($t,an)).getOr($t);return Yr(Ut)>0},d=(Ct,$t)=>{const Ut=Ia(Ct.element,$t.selector),an=be(Ut,un=>l($t,un));return p.from(an[$t.firstTabstop])},g=(Ct,$t)=>$t.focusManager.get(Ct).bind(Ut=>nc(Ut,$t.selector)),v=(Ct,$t)=>l(Ct,$t)&&Ct.useTabstopAt($t),y=(Ct,$t,Ut)=>{d(Ct,$t).each(an=>{$t.focusManager.set(Ct,an)})},k=(Ct,$t,Ut,an,un)=>un($t,Ut,uo=>v(an,uo)).fold(()=>an.cyclic?p.some(!0):p.none(),uo=>(an.focusManager.set(Ct,uo),p.some(!0))),$=(Ct,$t,Ut,an)=>{const un=be(Ia(Ct.element,Ut.selector),uo=>l(Ut,uo));return g(Ct,Ut).bind(uo=>U(un,us(Rs,uo)).bind($n=>k(Ct,un,$n,Ut,an)))},Y=(Ct,$t,Ut)=>{const an=Ut.cyclic?SC:TC;return $(Ct,$t,Ut,an)},le=(Ct,$t,Ut)=>{const an=Ut.cyclic?AC:kC;return $(Ct,$t,Ut,an)},Ee=Ct=>_h(Ct).bind(vl).exists($t=>Rs($t,Ct)),Fe=(Ct,$t,Ut)=>g(Ct,Ut).filter(an=>!Ut.useTabstopAt(an)).bind(an=>(Ee(an)?Y:le)(Ct,$t,Ut)),Qe=(Ct,$t,Ut)=>Ut.onEnter.bind(an=>an(Ct,$t)),qe=(Ct,$t,Ut)=>(Ct.getSystem().broadcastOn([p0()],{closedTooltip:()=>{$t.stop()}}),$t.isStopped()?p.none():Ut.onEscape.bind(an=>an(Ct,$t))),vt=ht([ar(Md([M1,or(Rd)]),Y),ar(or(Rd),le),ar(Md([Vp,or(kc)]),Qe)]),Ot=ht([ar(or(g3),qe),ar(or(Rd),Fe)]);return I1(r,Dd.init,vt,Ot,()=>p.some(y))};var RC=Em(Wi("cyclic",ge)),MC=Em(Wi("cyclic",a));const wm=t=>bl("input")(t)&&Ua(t,"type")!=="radio"||bl("textarea")(t),IC=(t,r,l)=>(db(t,l,Yc()),p.some(!0)),b0=(t,r,l)=>wm(l)&&or(rc)(r.event)?p.none():IC(t,r,l),Kp=(t,r)=>p.some(!0),BC=[tn("execute",b0),tn("useSpace",!1),tn("useEnter",!0),tn("useControlEnter",!1),tn("useDown",!1)],B1=(t,r,l)=>l.execute(t,r,t.element),G8=(t,r,l,d)=>{const g=l.useSpace&&!wm(t.element)?rc:[],v=l.useEnter?kc:[],y=l.useDown?_m:[],k=g.concat(v).concat(y);return[ar(or(k),B1)].concat(l.useControlEnter?[ar(Md([UA,or(kc)]),B1)]:[])},Y8=(t,r,l,d)=>l.useSpace&&!wm(t.element)?[ar(or(rc),Kp)]:[];var FC=I1(BC,Dd.init,G8,Y8,()=>p.none());const q8=()=>{const t=Do();return Tl({readState:()=>t.get().map(g=>({numRows:String(g.numRows),numColumns:String(g.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(g,v)=>{t.set({numRows:g,numColumns:v})},getNumRows:()=>t.get().map(g=>g.numRows),getNumColumns:()=>t.get().map(g=>g.numColumns)})};var X8=Object.freeze({__proto__:null,flatgrid:q8,init:t=>t.state(t)});const Eb=t=>(r,l,d,g)=>{const v=t(r.element);return wb(v,r,l,d,g)},F1=(t,r)=>{const l=D2(t,r);return Eb(l)},v0=(t,r)=>{const l=D2(r,t);return Eb(l)},y3=t=>(r,l,d,g)=>wb(t,r,l,d,g),wb=(t,r,l,d,g)=>d.focusManager.get(r).bind(y=>t(r.element,y,d,g)).map(y=>(d.focusManager.set(r,y),!0)),C3=y3,Sm=y3,tf=y3,x0=(t,r)=>U(t,r).map(l=>({index:l,candidates:t})),Q8=(t,r,l)=>{const d=y=>Rs(y,r),g=Ia(t,l),v=be(g,u1);return x0(v,d)},Sb=(t,r)=>U(t,l=>Rs(r,l)),J8=(t,r,l,d)=>{const g=Math.floor(r/l),v=r%l;return d(g,v).bind(y=>{const k=y.row*l+y.column;return k>=0&&k<t.length?p.some(t[k]):p.none()})},e7=(t,r,l,d,g)=>J8(t,r,d,(v,y)=>{const $=v===l-1?t.length-v*d:d,Y=Re(y,g,0,$-1);return p.some({row:v,column:Y})}),t7=(t,r,l,d,g)=>J8(t,r,d,(v,y)=>{const k=Re(v,g,0,l-1),Y=k===l-1?t.length-k*d:d,le=J(y,0,Y-1);return p.some({row:k,column:le})}),$C=(t,r,l,d)=>e7(t,r,l,d,1),jp=(t,r,l,d)=>e7(t,r,l,d,-1),Tm=(t,r,l,d)=>t7(t,r,l,d,-1),Zp=(t,r,l,d)=>t7(t,r,l,d,1),_3=[Bn("selector"),tn("execute",b0),sc("onEscape"),tn("captureTab",!1),H5()],n7=(t,r,l)=>{pr(t.element,r.selector).each(d=>{r.focusManager.set(t,d)})},o7=(t,r)=>r.focusManager.get(t).bind(l=>nc(l,r.selector)),s7=(t,r,l,d)=>o7(t,l).bind(g=>l.execute(t,r,g)),E3=t=>(r,l,d,g)=>Q8(r,l,d.selector).bind(v=>t(v.candidates,v.index,g.getNumRows().getOr(d.initSize.numRows),g.getNumColumns().getOr(d.initSize.numColumns))),r7=(t,r,l)=>l.captureTab?p.some(!0):p.none(),HC=(t,r,l)=>l.onEscape(t,r),a7=E3(jp),w3=E3($C),Tb=E3(Tm),y0=E3(Zp),Ab=ht([ar(or(m3),F1(a7,w3)),ar(or(h3),v0(a7,w3)),ar(or(Cm),C3(Tb)),ar(or(_m),Sm(y0)),ar(Md([M1,or(Rd)]),r7),ar(Md([Vp,or(Rd)]),r7),ar(or(rc.concat(kc)),s7)]),zC=ht([ar(or(g3),HC),ar(or(rc),Kp)]);var i7=I1(_3,q8,Ab,zC,()=>p.some(n7));const l7=(t,r,l,d,g)=>{const v=k=>el(k)==="button"&&Ua(k,"disabled")==="disabled",y=(k,$,Y)=>g(k,$,d,0,Y.length-1,Y[$],le=>v(Y[le])?y(k,le,Y):p.from(Y[le]));return Q8(t,l,r).bind(k=>{const $=k.index,Y=k.candidates;return y($,$,Y)})},kb=(t,r,l,d)=>l7(t,r,l,d,(g,v,y,k,$,Y,le)=>{const Ee=J(v+y,k,$);return Ee===g?p.from(Y):le(Ee)}),C0=(t,r,l,d)=>l7(t,r,l,d,(g,v,y,k,$,Y,le)=>{const Ee=Re(v,y,k,$);return Ee===g?p.none():le(Ee)}),UC=[Bn("selector"),tn("getInitial",p.none),tn("execute",b0),sc("onEscape"),tn("executeOnMove",!1),tn("allowVertical",!0),tn("allowHorizontal",!0),tn("cycles",!0)],c7=(t,r)=>r.focusManager.get(t).bind(l=>nc(l,r.selector)),Ob=(t,r,l)=>c7(t,l).bind(d=>l.execute(t,r,d)),VC=(t,r,l)=>{r.getInitial(t).orThunk(()=>pr(t.element,r.selector)).each(d=>{r.focusManager.set(t,d)})},d7=(t,r,l)=>(l.cycles?C0:kb)(t,l.selector,r,-1),Gp=(t,r,l)=>(l.cycles?C0:kb)(t,l.selector,r,1),u7=t=>(r,l,d,g)=>t(r,l,d,g).bind(()=>d.executeOnMove?Ob(r,l,d):p.some(!0)),WC=(t,r,l)=>l.onEscape(t,r),f7=(t,r,l,d)=>{const g=[...l.allowHorizontal?m3:[]].concat(l.allowVertical?Cm:[]),v=[...l.allowHorizontal?h3:[]].concat(l.allowVertical?_m:[]);return[ar(or(g),u7(F1(d7,Gp))),ar(or(v),u7(v0(d7,Gp))),ar(or(kc),Ob),ar(or(rc),Ob)]},Lb=ht([ar(or(rc),Kp),ar(or(g3),WC)]);var KC=I1(UC,Dd.init,f7,Lb,()=>p.some(VC));const Db=(t,r,l)=>p.from(t[r]).bind(d=>p.from(d[l]).map(g=>({rowIndex:r,columnIndex:l,cell:g}))),Nb=(t,r,l,d)=>{const v=t[r].length,y=Re(l,d,0,v-1);return Db(t,r,y)},Am=(t,r,l,d)=>{const g=Re(l,d,0,t.length-1),v=t[g].length,y=J(r,0,v-1);return Db(t,g,y)},_0=(t,r,l,d)=>{const v=t[r].length,y=J(l+d,0,v-1);return Db(t,r,y)},p7=(t,r,l,d)=>{const g=J(l+d,0,t.length-1),v=t[g].length,y=J(r,0,v-1);return Db(t,g,y)},g7=(t,r,l)=>Nb(t,r,l,1),m7=(t,r,l)=>Nb(t,r,l,-1),S3=(t,r,l)=>Am(t,l,r,-1),h7=(t,r,l)=>Am(t,l,r,1),b7=(t,r,l)=>_0(t,r,l,-1),jC=(t,r,l)=>_0(t,r,l,1),ZC=(t,r,l)=>p7(t,l,r,-1),Yp=(t,r,l)=>p7(t,l,r,1),Rb=[Nf("selectors",[Bn("row"),Bn("cell")]),tn("cycles",!0),tn("previousSelector",p.none),tn("execute",b0)],Mb=(t,r,l)=>{r.previousSelector(t).orThunk(()=>{const g=r.selectors;return pr(t.element,g.cell)}).each(g=>{r.focusManager.set(t,g)})},GC=(t,r,l)=>za(t.element).bind(d=>l.execute(t,r,d)),YC=(t,r)=>K(t,l=>Ia(l,r.selectors.cell)),T3=(t,r)=>(l,d,g)=>{const v=g.cycles?t:r;return nc(d,g.selectors.row).bind(y=>{const k=Ia(y,g.selectors.cell);return Sb(k,d).bind($=>{const Y=Ia(l,g.selectors.row);return Sb(Y,y).bind(le=>{const Ee=YC(Y,g);return v(Ee,le,$).map(Fe=>Fe.cell)})})})},P1=T3(m7,b7),v7=T3(g7,jC),A3=T3(S3,ZC),k3=T3(h7,Yp),x7=ht([ar(or(m3),F1(P1,v7)),ar(or(h3),v0(P1,v7)),ar(or(Cm),C3(A3)),ar(or(_m),Sm(k3)),ar(or(rc.concat(kc)),GC)]),y7=ht([ar(or(rc),Kp)]);var qC=I1(Rb,Dd.init,x7,y7,()=>p.some(Mb));const XC=[Bn("selector"),tn("execute",b0),tn("moveOnTab",!1)],km=(t,r,l)=>l.focusManager.get(t).bind(d=>l.execute(t,r,d)),Om=(t,r,l)=>{pr(t.element,r.selector).each(d=>{r.focusManager.set(t,d)})},qp=(t,r,l)=>C0(t,l.selector,r,-1),Ib=(t,r,l)=>C0(t,l.selector,r,1),jf=(t,r,l,d)=>l.moveOnTab?tf(qp)(t,r,l,d):p.none(),QC=(t,r,l,d)=>l.moveOnTab?tf(Ib)(t,r,l,d):p.none(),Su=ht([ar(or(Cm),tf(qp)),ar(or(_m),tf(Ib)),ar(Md([M1,or(Rd)]),jf),ar(Md([Vp,or(Rd)]),QC),ar(or(kc),km),ar(or(rc),km)]),C7=ht([ar(or(rc),Kp)]);var Bb=I1(XC,Dd.init,Su,C7,()=>p.some(Om));const JC=[sc("onSpace"),sc("onEnter"),sc("onShiftEnter"),sc("onLeft"),sc("onRight"),sc("onTab"),sc("onShiftTab"),sc("onUp"),sc("onDown"),sc("onEscape"),tn("stopSpaceKeyup",!1),xr("focusIn")],jA=(t,r,l)=>[ar(or(rc),l.onSpace),ar(Md([Vp,or(kc)]),l.onEnter),ar(Md([M1,or(kc)]),l.onShiftEnter),ar(Md([M1,or(Rd)]),l.onShiftTab),ar(Md([Vp,or(Rd)]),l.onTab),ar(or(Cm),l.onUp),ar(or(_m),l.onDown),ar(or(m3),l.onLeft),ar(or(h3),l.onRight),ar(or(rc),l.onSpace)],e_=(t,r,l)=>[...l.stopSpaceKeyup?[ar(or(rc),Kp)]:[],ar(or(g3),l.onEscape)];var Lm=I1(JC,Dd.init,jA,e_,t=>t.focusIn);const Xp=RC.schema(),O3=MC.schema(),Qp=KC.schema(),t_=i7.schema(),Zf=qC.schema(),Id=FC.schema(),Fb=Bb.schema(),_7=Lm.schema();var Pb=Object.freeze({__proto__:null,acyclic:Xp,cyclic:O3,flow:Qp,flatgrid:t_,matrix:Zf,execution:Id,menu:Fb,special:_7});const $b=t=>Zt(t,"setGridSize"),Ho=z8({branchKey:"mode",branches:Pb,name:"keying",active:{events:(t,r)=>t.handler.toEvents(t,r)},apis:{focusIn:(t,r,l)=>{r.sendFocusIn(r).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},d=>{d(t,r,l)})},setGridSize:(t,r,l,d,g)=>{$b(l)?l.setGridSize(d,g):console.error("Layout does not support setGridSize")}},state:X8}),$1=_e("alloy-premade"),L3=t=>(Object.defineProperty(t.element.dom,$1,{value:t.uid,writable:!0}),tm($1,t)),E7=t=>Wt(t.dom,$1),Jp=t=>Rt(t,$1),H1=t=>HA((r,...l)=>t(r.getApis(),r,...l),t),Hb=t=>t.getSystem().isConnected(),eg=t=>{Hs(t,Pf());const r=t.components();ee(r,eg)},Gf=t=>{const r=t.components();ee(r,Gf),Hs(t,xu())},zb=(t,r)=>{t.getSystem().addToWorld(r),nl(t.element)&&Gf(r)},Bd=t=>{eg(t),t.getSystem().removeFromWorld(t)},Ub=(t,r)=>{tl(t.element,r.element)},D3=t=>{ee(t.components(),r=>ec(r.element)),Pg(t.element),t.syncComponents()},tg=(t,r,l)=>{const d=t.components();D3(t);const g=l(r),v=G(d,g);ee(v,y=>{eg(y),t.getSystem().removeFromWorld(y)}),ee(g,y=>{Hb(y)?Ub(t,y):(t.getSystem().addToWorld(y),Ub(t,y),nl(t.element)&&Gf(y))}),t.syncComponents()},ng=(t,r,l)=>{const d=t.components(),g=I(r,k=>Jp(k).toArray());ee(d,k=>{Q(g,k)||Bd(k)});const v=l(r),y=G(d,v);ee(y,k=>{Hb(k)&&Bd(k)}),ee(v,k=>{Hb(k)||zb(t,k)}),t.syncComponents()},Fd=(t,r)=>{E0(t,r,tl)},E0=(t,r,l)=>{t.getSystem().addToWorld(r),l(t.element,r.element),nl(t.element)&&Gf(r),t.syncComponents()},z1=t=>{eg(t),ec(t.element),t.getSystem().removeFromWorld(t)},nf=t=>{const r=Xl(t.element).bind(l=>t.getSystem().getByDom(l).toOptional());z1(t),r.each(l=>{l.syncComponents()})},w7=t=>{const r=t.components();ee(r,z1),Pg(t.element),t.syncComponents()},og=(t,r)=>{S7(t,r,tl)},ll=(t,r)=>{S7(t,r,Fg)},S7=(t,r,l)=>{l(t,r.element);const d=Hc(r.element);ee(d,g=>{r.getByDom(g).each(Gf)})},T7=t=>{const r=Hc(t.element);ee(r,l=>{t.getByDom(l).each(eg)}),ec(t.element)},N3=(t,r,l)=>Ws(t,r).map(g=>{if(l.exists(y=>!Rs(y,g))){const y=l.map(el).getOr("span"),k=cn.fromTag(y);return c1(g,k),k}else return g}),Vb=(t,r,l)=>{l.fold(()=>tl(t,r),d=>{Rs(d,r)||(c1(d,r),ec(d))})},Wb=(t,r,l)=>{const d=K(r,l),g=Hc(t);return ee(g.slice(d.length),ec),d},n_=(t,r,l,d)=>{const g=Ws(t,r),v=d(l,g),y=N3(t,r,g);return Vb(t,v.element,y),v},ZA=(t,r,l)=>Wb(t,r,(d,g)=>n_(t,g,d,l)),ed=(t,r)=>Wb(t,r,(l,d)=>{const g=Ws(t,d);return Vb(t,l,g),l}),Tu=(t,r)=>{const l=Ra(r),d=Xa(l).bind(v=>{const y=k=>Rs(v,k);return y(r)?p.some(r):R2(r,y)}),g=t(r);return d.each(v=>{Xa(l).filter(y=>Rs(y,v)).fold(()=>{hr(v)},lt)}),g},Kb=(t,r)=>{Tu(()=>{tg(t,r,()=>K(r,t.getSystem().build))},t.element)},sg=(t,r)=>{Tu(()=>{ng(t,r,()=>ZA(t.element,r,t.getSystem().buildOrPatch))},t.element)},cl=(t,r,l,d)=>{Bd(r);const g=n_(t.element,l,d,t.getSystem().buildOrPatch);zb(t,g),t.syncComponents()},Al=(t,r,l)=>{const d=t.getSystem().build(l);E0(t,d,r)},Bi=(t,r,l,d)=>{nf(r),Al(t,(g,v)=>c5(g,v,l),d)},Pd=(t,r,l,d)=>(r.reuseDom?sg:Kb)(t,d),jb=(t,r,l,d)=>{Al(t,tl,d)},Gi=(t,r,l,d)=>{Al(t,ou,d)},of=(t,r,l,d)=>{const g=R3(t);D(g,y=>Rs(d.element,y.element)).each(nf)},R3=(t,r)=>t.components(),A7=(t,r,l,d,g)=>{const v=R3(t);return p.from(v[d]).map(y=>(g.fold(()=>nf(y),k=>{(r.reuseDom?cl:Bi)(t,y,d,k)}),y))};var Zb=Object.freeze({__proto__:null,append:jb,prepend:Gi,remove:of,replaceAt:A7,replaceBy:(t,r,l,d,g)=>{const v=R3(t);return U(v,d).bind(y=>A7(t,r,l,y,g))},set:Pd,contents:R3});const ws=gi({fields:[Oa("reuseDom",!0)],name:"replacing",apis:Zb}),Dm=(t,r,l)=>Rs(r,t.element)&&!Rs(r,l),Au=Jr([pb(oc(),(t,r)=>{const l=r.event,d=l.originator,g=l.target;return Dm(t,d,g)?(console.warn(oc()+` did not get interpreted by the desired target. 
Originator: `+$f(d)+`
Target: `+$f(g)+`
Check the `+oc()+" event handlers"),!1):!0})]);var o_=Object.freeze({__proto__:null,events:Au});const s_=ht("alloy-id-"),r_=ht("data-alloy-id"),a_=s_(),Gb=r_(),Yb=(t,r)=>{const l=_e(a_+t);return Nm(r,l),l},Nm=(t,r)=>{Object.defineProperty(t.dom,Gb,{value:r,writable:!0})},$d=t=>{const r=hl(t)?t.dom[Gb]:null;return p.from(r)},Rm=t=>_e(t),i_=oo,M3=t=>{const r=g=>`The component must be in a context to execute: ${g}`+(t?`
`+$f(t().element)+" is not in context.":""),l=g=>()=>{throw new Error(r(g))},d=g=>()=>{console.warn(r(g))};return{debugInfo:ht("fake"),triggerEvent:d("triggerEvent"),triggerFocus:d("triggerFocus"),triggerEscape:d("triggerEscape"),broadcast:d("broadcast"),broadcastOn:d("broadcastOn"),broadcastEvent:d("broadcastEvent"),build:l("build"),buildOrPatch:l("buildOrPatch"),addToWorld:l("addToWorld"),removeFromWorld:l("removeFromWorld"),addToGui:l("addToGui"),removeFromGui:l("removeFromGui"),getByUid:l("getByUid"),getByDom:l("getByDom"),isConnected:ge}},l_=M3(),I3=(t,r)=>{const l=K(r,g=>wl(g.name(),[Bn("config"),tn("state",Dd)])),d=ra("component.behaviours",ts(l),t.behaviours).fold(g=>{throw new Error(Jg(g)+`
Complete spec:
`+JSON.stringify(t,null,2))},oo);return{list:r,data:et(d,g=>{const v=g.map(y=>({config:y.config,state:y.state.init(y.config)}));return ht(v)})}},Si=t=>t.list,td=t=>t.data,k7=(t,r)=>{const l={};return Me(t,(d,g)=>{Me(d,(v,y)=>{const k=Rt(l,y).getOr([]);l[y]=k.concat([r(g,v)])})}),l},B3=(t,r,l,d)=>{const g={...r};ee(l,le=>{g[le.name()]=le.exhibit(t,d)});const v=k7(g,(le,Ee)=>({name:le,modification:Ee})),y=le=>re(le,(Ee,Fe)=>({...Fe.modification,...Ee}),{}),k=re(v.classes,(le,Ee)=>Ee.modification.concat(le),[]),$=y(v.attributes),Y=y(v.styles);return Nd({classes:k,attributes:$,styles:Y})},rg=(t,r,l,d)=>{try{const g=Le(l,(v,y)=>{const k=v[r],$=y[r],Y=d.indexOf(k),le=d.indexOf($);if(Y===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(d,null,2));if(le===-1)throw new Error("The ordering for "+t+" does not have an entry for "+$+`.
Order specified: `+JSON.stringify(d,null,2));return Y<le?-1:le<Y?1:0});return zn.value(g)}catch(g){return zn.error([g])}},qb=(t,r)=>({handler:t,purpose:r}),Xb=(t,r)=>({cHandler:t,purpose:r}),c_=(t,r)=>Xb(us.apply(void 0,[t.handler].concat(r)),t.purpose),Qb=t=>t.cHandler,d_=(t,r)=>({name:t,handler:r}),F3=(t,r)=>{const l={};return ee(t,d=>{l[d.name()]=d.handlers(r)}),l},Jb=(t,r,l)=>{const d={...l,...F3(r,t)};return k7(d,d_)},U1=(t,r,l,d)=>{const g=Jb(t,l,d);return tv(g,r)},ag=t=>{const r=D8(t);return(l,d,...g)=>{const v=[l,d].concat(g);r.abort.apply(void 0,v)?d.stop():r.can.apply(void 0,v)&&r.run.apply(void 0,v)}},O7=(t,r)=>zn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(K(r,l=>l.name),null,2)]),ev=(t,r,l)=>{const d=r[l];return d?rg("Event: "+l,"name",t,d).map(g=>{const v=K(g,y=>y.handler);return N8(v)}):O7(l,t)},tv=(t,r)=>{const l=_t(t,(d,g)=>(d.length===1?zn.value(d[0].handler):ev(d,r,g)).map(y=>{const k=ag(y),$=d.length>1?be(r[g],Y=>H(d,le=>le.name===Y)).join(" > "):d[0].name;return tm(g,qb(k,$))}));return N5(l,{})},sf="alloy.base.behaviour",P3=ts([ci("dom","dom",ni(),ts([Bn("tag"),tn("styles",{}),tn("classes",[]),tn("attributes",{}),xr("value"),xr("innerHtml")])),Bn("components"),Bn("uid"),tn("events",{}),tn("apis",{}),ci("eventOrder","eventOrder",$2({[Yc()]:["disabling",sf,"toggling","typeaheadevents"],[oc()]:[sf,"focusing","keying"],[jh()]:[sf,"disabling","toggling","representing","tooltipping"],[Bf()]:[sf,"representing","streaming","invalidating"],[Pf()]:[sf,"representing","item-events","toolbar-button-events","tooltipping"],[rl()]:["focusing",sf,"item-type-events"],[Mf()]:["focusing",sf,"item-type-events"],[Ad()]:["item-type-events","tooltipping"],[Ff()]:["receiving","reflecting","tooltipping"]}),gu()),xr("domModification")]),nv=t=>ra("custom.definition",P3,t),w0=t=>({...t.dom,uid:t.uid,domChildren:K(t.components,r=>r.element)}),$3=t=>t.domModification.fold(()=>Nd({}),Nd),L7=t=>t.events,Mm=(t,r)=>{const l=nt(t),d=nt(r),g=G(d,l),v=$e(t,(y,k)=>!Wt(r,k)||y!==r[k]).t;return{toRemove:g,toSet:v}},u_=(t,r)=>{const{class:l,style:d,...g}=Hu(r),{toSet:v,toRemove:y}=Mm(t.attributes,g),k=()=>{ee(y,Ut=>Kr(r,Ut)),O2(r,v)},$=zg(r),{toSet:Y,toRemove:le}=Mm(t.styles,$),Ee=()=>{ee(le,Ut=>Ps(r,Ut)),Aa(r,Y)},Fe=B2(r),Qe=G(Fe,t.classes),qe=G(t.classes,Fe),vt=()=>{$l(r,qe),Cl(r,Qe)},Ot=Ut=>{wf(r,Ut)},Ct=()=>{const Ut=t.domChildren;ed(r,Ut)},$t=()=>{const Ut=r,an=t.value.getOrUndefined();an!==jc(Ut)&&Hl(Ut,an??"")};return k(),vt(),Ee(),t.innerHtml.fold(Ct,Ot),$t(),r},f_=t=>{const r=cn.fromTag(t.tag);O2(r,t.attributes),$l(r,t.classes),Aa(r,t.styles),t.innerHtml.each(d=>wf(r,d));const l=t.domChildren;return k2(r,l),t.value.each(d=>{Hl(r,d)}),r},p_=(t,r)=>{try{const l=u_(t,r);return p.some(l)}catch{return p.none()}},ig=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ov=(t,r)=>{const l=g=>el(g)===t.tag&&!ig(t)&&!E7(g),d=r.filter(l).bind(g=>p_(t,g)).getOrThunk(()=>f_(t));return Nm(d,t.uid),d},g_=t=>{const r=Rt(t,"behaviours").getOr({});return I(nt(r),l=>{const d=r[l];return Ao(d)?[d.me]:[]})},sv=(t,r)=>I3(t,r),rv=t=>{const r=g_(t);return sv(t,r)},D7=(t,r,l)=>{const d=w0(t),g=$3(t),v={"alloy.base.modification":g},y=r.length>0?B3(l,v,r,d):g;return gC(d,y)},av=(t,r,l)=>{const d={"alloy.base.behaviour":L7(t)};return U1(l,t.eventOrder,r,d).getOrDie()},Im=(t,r)=>{const l=()=>Ut,d=Je(l_),g=Sd(nv(t)),v=rv(t),y=Si(v),k=td(v),$=D7(g,y,k),Y=ov($,r),le=av(g,y,k),Ee=Je(g.components),Fe=an=>{d.set(an)},Qe=()=>{d.set(M3(l))},qe=()=>{const an=Hc(Y),un=I(an,uo=>d.get().getByDom(uo).fold(()=>[],de));Ee.set(un)},vt=an=>{const un=k;return(jt(un[an.name()])?un[an.name()]:()=>{throw new Error("Could not find "+an.name()+" in "+JSON.stringify(t,null,2))})()},Ot=an=>jt(k[an.name()]),Ct=()=>g.apis,$t=an=>k[an]().map(un=>un.state.readState()).getOr("not enabled"),Ut={uid:t.uid,getSystem:d.get,config:vt,hasConfigured:Ot,spec:t,readState:$t,getApis:Ct,connect:Fe,disconnect:Qe,element:Y,syncComponents:qe,components:Ee.get,events:le};return Ut},iv=(t,r)=>{const l=Rt(t,"components").getOr([]);return r.fold(()=>K(l,C),d=>K(l,(g,v)=>m(g,Ws(d,v))))},m_=(t,r)=>{const{events:l,...d}=i_(t),g=iv(d,r),v={...d,events:{...o_,...l},components:g};return zn.value(Im(v,r))},Zr=t=>{const r=cn.fromText(t);return lv({element:r})},lv=t=>{const r=sl("external.component",yc([Bn("element"),xr("uid")]),t),l=Je(M3()),d=k=>{l.set(k)},g=()=>{l.set(M3(()=>y))},v=r.uid.getOrThunk(()=>Rm("external"));Nm(r.element,v);const y={uid:v,getSystem:l.get,config:p.none,hasConfigured:ge,connect:d,disconnect:g,getApis:()=>({}),element:r.element,spec:t,readState:ht("No state"),syncComponents:lt,components:ht([]),events:{}};return L3(y)},V1=Rm,u=t=>Wt(t,"uid"),m=(t,r)=>Jp(t).getOrThunk(()=>{const l=u(t)?t:{uid:V1(""),...t};return m_(l,r).getOrDie()}),C=t=>m(t,p.none()),T=L3;var Ye=Object.freeze({__proto__:null,block:(t,r,l,d)=>{os(t.element,"aria-busy",!0);const g=r.getRoot(t).getOr(t),v=Yn([Ho.config({mode:"special",onTab:()=>p.some(!0),onShiftTab:()=>p.some(!0)}),Es.config({})]),y=d(g,v),k=g.getSystem().build(y);ws.append(g,T(k)),k.hasConfigured(Ho)&&r.focus&&Ho.focusIn(k),l.isBlocked()||r.onBlock(t),l.blockWith(()=>ws.remove(g,k))},unblock:(t,r,l)=>{Kr(t.element,"aria-busy"),l.isBlocked()&&r.onUnblock(t),l.clear()},isBlocked:(t,r,l)=>l.isBlocked()}),ct=[$r("getRoot",p.none),Oa("focus",!0),Us("onBlock"),Us("onUnblock")],en=Object.freeze({__proto__:null,init:()=>{const t=bs(),r=l=>{t.set({destroy:l})};return Tl({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})}});const wn=gi({fields:ct,name:"blocking",apis:Ye,state:en});var xo=Object.freeze({__proto__:null,getCurrent:(t,r,l)=>r.find(t)});const Wo=[Bn("find")],yn=gi({fields:Wo,name:"composing",apis:xo});var Ss=Object.freeze({__proto__:null,getCoupled:(t,r,l,d)=>l.getOrCreate(t,r,d),getExistingCoupled:(t,r,l,d)=>l.getExisting(t,r,d)}),No=[Vl("others",E5(zn.value,gu()))],_r=Object.freeze({__proto__:null,init:()=>{const t={},r=(v,y)=>{if(nt(v.others).length===0)throw new Error("Cannot find any known coupled components");return Rt(t,y)},l=(v,y,k)=>r(y,k).getOrThunk(()=>{const Y=Rt(y.others,k).getOrDie("No information found for coupled component: "+k)(v),le=v.getSystem().build(Y);return t[k]=le,le}),d=(v,y,k)=>r(y,k).orThunk(()=>(Rt(y.others,k).getOrDie("No information found for coupled component: "+k),p.none())),g=ht({});return Tl({readState:g,getExisting:d,getOrCreate:l})}});const Ns=gi({fields:No,name:"coupling",apis:Ss,state:_r}),Da=["input","button","textarea","select"],Lc=(t,r,l)=>{(r.disabled()?Kl:Dc)(t,r)},Yf=(t,r)=>r.useNative===!0&&Q(Da,el(t.element)),W1=t=>ii(t.element,"disabled"),K1=t=>{os(t.element,"disabled","disabled")},Er=t=>{Kr(t.element,"disabled")},dl=t=>Ua(t.element,"aria-disabled")==="true",ul=t=>{os(t.element,"aria-disabled","true")},ac=t=>{os(t.element,"aria-disabled","false")},Kl=(t,r,l)=>{r.disableClass.each(g=>{na(t.element,g)}),(Yf(t,r)?K1:ul)(t),r.onDisabled(t)},Dc=(t,r,l)=>{r.disableClass.each(g=>{Vr(t.element,g)}),(Yf(t,r)?Er:ac)(t),r.onEnabled(t)},mi=(t,r)=>Yf(t,r)?W1(t):dl(t);var S0=Object.freeze({__proto__:null,enable:Dc,disable:Kl,isDisabled:mi,onLoad:Lc,set:(t,r,l,d)=>{(d?Kl:Dc)(t,r)}}),R7=Object.freeze({__proto__:null,exhibit:(t,r)=>Nd({classes:r.disabled()?r.disableClass.toArray():[]}),events:(t,r)=>Jr([xm(Yc(),(l,d)=>mi(l,t)),mb(t,r,Lc)])}),h_=[$r("disabled",ge),tn("useNative",!0),xr("disableClass"),Us("onDisabled"),Us("onEnabled")];const zo=gi({fields:h_,name:"disabling",active:R7,apis:S0}),Hd=(t,r,l,d,g)=>{const v=y=>y+"px";return{position:t,left:r.map(v),top:l.map(v),right:d.map(v),bottom:g.map(v)}},b_=t=>({...t,position:p.some(t.position)}),T0=(t,r)=>{Ja(t,b_(r))},Bm=(t,r)=>{const l=t.element;na(l,r.transitionClass),Vr(l,r.fadeOutClass),na(l,r.fadeInClass),r.onShow(t)},Fm=(t,r)=>{const l=t.element;na(l,r.transitionClass),Vr(l,r.fadeInClass),na(l,r.fadeOutClass),r.onHide(t)},YA=(t,r)=>t.y<r.bottom&&t.bottom>r.y,qA=(t,r)=>t.y>=r.y,v_=(t,r)=>t.bottom<=r.bottom,M7=(t,r,l)=>({location:"top",leftX:r,topY:l.bounds.y-t.y}),x_=(t,r,l)=>({location:"bottom",leftX:r,bottomY:t.bottom-l.bounds.bottom}),y_=t=>t.box.x-t.win.x,ZP=(t,r,l)=>{const d=r.win,g=r.box,v=y_(r);return ut(t,y=>{switch(y){case"bottom":return v_(g,l.bounds)?p.none():p.some(x_(d,v,l));case"top":return qA(g,l.bounds)?p.none():p.some(M7(d,v,l));default:return p.none()}}).getOr({location:"no-dock"})},GP=(t,r,l)=>N(t,d=>{switch(d){case"bottom":return v_(r,l.bounds);case"top":return qA(r,l.bounds)}}),YP=(t,r)=>{const l=r.optScrollEnv.fold(ht(t.bounds.y),d=>d.scrollElmTop+(t.bounds.y-d.currentScrollTop));return Dr(t.bounds.x,l)},qP=(t,r)=>{const l=r.optScrollEnv.fold(ht(t.y),d=>t.y+d.currentScrollTop-d.scrollElmTop);return Dr(t.x,l)},H3=(t,r,l)=>l.getInitialPos().map(d=>{const g=YP(d,r);return{box:Ka(g.left,g.top,ei(t),Yr(t)),location:d.location}}),I7=(t,r,l,d,g)=>{const v=qP(r,l),y=Ka(v.left,v.top,r.width,r.height);d.setInitialPos({style:zg(t),position:pa(t,"position")||"static",bounds:y,location:g.location})},XP=(t,r,l,d,g)=>{d.getInitialPos().fold(()=>I7(t,r,l,d,g),()=>lt)},QP=(t,r,l)=>l.getInitialPos().bind(d=>{var g;switch(l.clearInitialPos(),d.position){case"static":return p.some({morph:"static"});case"absolute":const v=y1(t).getOr(gc()),y=ha(v),k=(g=v.dom.scrollTop)!==null&&g!==void 0?g:0;return p.some({morph:"absolute",positionCss:Hd("absolute",Rt(d.style,"left").map($=>r.x-y.x),Rt(d.style,"top").map($=>r.y-y.y+k),Rt(d.style,"right").map($=>y.right-r.right),Rt(d.style,"bottom").map($=>y.bottom-r.bottom))});default:return p.none()}}),XA=(t,r,l)=>H3(t,r,l).filter(({box:d})=>GP(l.getModes(),d,r)).bind(({box:d})=>QP(t,d,l)),C_=t=>{switch(t.location){case"top":return p.some({morph:"fixed",positionCss:Hd("fixed",p.some(t.leftX),p.some(t.topY),p.none(),p.none())});case"bottom":return p.some({morph:"fixed",positionCss:Hd("fixed",p.some(t.leftX),p.none(),p.none(),p.some(t.bottomY))});default:return p.none()}},JP=(t,r,l)=>{const d=ha(t),g=ol(),v=ZP(l.getModes(),{win:g,box:d},r);return v.location==="top"||v.location==="bottom"?(I7(t,d,r,l,v),C_(v)):p.none()},ku=(t,r,l)=>XA(t,r,l).orThunk(()=>r.optScrollEnv.bind(d=>H3(t,r,l)).bind(({box:d,location:g})=>{const v=ol(),y=y_({win:v,box:d}),k=g==="top"?M7(v,y,r):x_(v,y,r);return C_(k)})),QA=(t,r,l)=>{const d=t.element;return kt(er(d,"position"),"fixed")?ku(d,r,l):JP(d,r,l)},e$=(t,r,l)=>{const d=t.element;return H3(d,r,l).bind(({box:g})=>QP(d,g,l))},gQ=(t,r,l,d)=>{const g=ha(t),v=ol(),y=y_({win:v,box:g}),k=d(v,y,r);return k.location==="bottom"||k.location==="top"?(XP(t,g,r,l,k),C_(k)):p.none()},t$=(t,r,l)=>{l.setDocked(!1),ee(["left","right","top","bottom","position"],d=>Ps(t.element,d)),r.onUndocked(t)},__=(t,r,l,d)=>{const g=d.position==="fixed";l.setDocked(g),T0(t.element,d),(g?r.onDocked:r.onUndocked)(t)},E_=(t,r,l,d,g=!1)=>{r.contextual.each(v=>{v.lazyContext(t).each(y=>{const k=YA(y,d.bounds);k!==l.isVisible()&&(l.setVisible(k),g&&!k?($l(t.element,[v.fadeOutClass]),v.onHide(t)):(k?Bm:Fm)(t,v))})})},JA=(t,r,l,d,g)=>{E_(t,r,l,d,!0),__(t,r,l,g.positionCss)},n$=(t,r,l,d,g)=>{switch(g.morph){case"static":return t$(t,r,l);case"absolute":return __(t,r,l,g.positionCss);case"fixed":return JA(t,r,l,d,g)}},o$=(t,r,l)=>{const d=r.lazyViewport(t);E_(t,r,l,d),QA(t,d,l).each(g=>{n$(t,r,l,d,g)})},s$=(t,r,l)=>{const d=t.element;l.setDocked(!1);const g=r.lazyViewport(t);e$(t,g,l).each(v=>{switch(v.morph){case"static":{t$(t,r,l);break}case"absolute":{__(t,r,l,v.positionCss);break}}}),l.setVisible(!0),r.contextual.each(v=>{Cl(d,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),B7(t,r,l)},B7=(t,r,l)=>{t.getSystem().isConnected()&&o$(t,r,l)},A0=(t,r,l)=>{l.isDocked()&&s$(t,r,l)},F7=t=>(r,l,d)=>{const g=l.lazyViewport(r);gQ(r.element,g,d,t).each(y=>{JA(r,l,d,g,y)})},r$=F7(M7),w_=F7(x_);var a$=Object.freeze({__proto__:null,refresh:B7,reset:A0,isDocked:(t,r,l)=>l.isDocked(),getModes:(t,r,l)=>l.getModes(),setModes:(t,r,l,d)=>l.setModes(d),forceDockToTop:r$,forceDockToBottom:w_}),i$=Object.freeze({__proto__:null,events:(t,r)=>Jr([ym(Vh(),(l,d)=>{t.contextual.each(g=>{Ma(l.element,g.transitionClass)&&(Cl(l.element,[g.transitionClass,g.fadeInClass]),(r.isVisible()?g.onShown:g.onHidden)(l)),d.stop()})}),xn(Zh(),(l,d)=>{B7(l,t,r)}),xn(g8(),(l,d)=>{B7(l,t,r)}),xn(Gh(),(l,d)=>{A0(l,t,r)})])}),l$=[wl("contextual",[Ga("fadeInClass"),Ga("fadeOutClass"),Ga("transitionClass"),Cc("lazyContext"),Us("onShow"),Us("onShown"),Us("onHide"),Us("onHidden")]),$r("lazyViewport",()=>({bounds:ol(),optScrollEnv:p.none()})),Rf("modes",["top","bottom"],ka),Us("onDocked"),Us("onUndocked")],c$=Object.freeze({__proto__:null,init:t=>{const r=Je(!1),l=Je(!0),d=Do(),g=Je(t.modes),v=()=>`docked:  ${r.get()}, visible: ${l.get()}, modes: ${g.get().join(",")}`;return Tl({isDocked:r.get,setDocked:r.set,getInitialPos:d.get,setInitialPos:d.set,clearInitialPos:d.clear,isVisible:l.get,setVisible:l.set,getModes:g.get,setModes:g.set,readState:v})}});const ea=gi({fields:l$,name:"docking",active:i$,apis:a$,state:c$}),z3=Jn.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),P7=t=>r=>r.translate(-t.left,-t.top),$7=t=>r=>r.translate(t.left,t.top),lg=t=>(r,l)=>se(t,(d,g)=>g(d),Dr(r,l)),H7=(t,r,l)=>t.fold(lg([$7(l),P7(r)]),lg([P7(r)]),lg([])),Xf=(t,r,l)=>t.fold(lg([$7(l)]),lg([]),lg([$7(r)])),z7=(t,r,l)=>t.fold(lg([]),lg([P7(l)]),lg([$7(r),P7(l)])),d$=(t,r,l,d,g,v)=>{const y=Xf(t,g,v),k=Xf(r,g,v);return Math.abs(y.left-k.left)<=l&&Math.abs(y.top-k.top)<=d},T_=(t,r,l,d,g,v)=>{const y=Xf(t,g,v),k=Xf(r,g,v),$=Math.abs(y.left-k.left),Y=Math.abs(y.top-k.top);return Dr($,Y)},tk=(t,r,l)=>{const d=t.fold((g,v)=>({position:p.some("absolute"),left:p.some(g+"px"),top:p.some(v+"px")}),(g,v)=>({position:p.some("absolute"),left:p.some(g-l.left+"px"),top:p.some(v-l.top+"px")}),(g,v)=>({position:p.some("fixed"),left:p.some(g+"px"),top:p.some(v+"px")}));return{right:p.none(),bottom:p.none(),...d}},Co=(t,r,l)=>t.fold((d,g)=>U7(d+r,g+l),(d,g)=>dg(d+r,g+l),(d,g)=>j1(d+r,g+l)),cg=(t,r,l,d)=>{const g=(v,y)=>(k,$)=>{const Y=v(r,l,d);return y(k.getOr(Y.left),$.getOr(Y.top))};return t.fold(g(z7,U7),g(Xf,dg),g(H7,j1))},U7=z3.offset,dg=z3.absolute,j1=z3.fixed,V7=(t,r)=>{const l=Ua(t,r);return es(l)?NaN:parseInt(l,10)},u$=(t,r)=>{const l=t.element,d=V7(l,r.leftAttr),g=V7(l,r.topAttr);return isNaN(d)||isNaN(g)?p.none():p.some(Dr(d,g))},nk=(t,r,l)=>{const d=t.element;os(d,r.leftAttr,l.left+"px"),os(d,r.topAttr,l.top+"px")},ok=(t,r)=>{const l=t.element;Kr(l,r.leftAttr),Kr(l,r.topAttr)},A_=(t,r,l,d)=>u$(t,r).fold(()=>l,g=>j1(g.left+d.left,g.top+d.top)),f$=(t,r,l,d,g,v)=>{const y=A_(t,r,l,d),k=r.mustSnap?p$(t,r,y,g,v):ak(t,r,y,g,v),$=H7(y,g,v);return nk(t,r,$),k.fold(()=>({coord:j1($.left,$.top),extra:p.none()}),Y=>({coord:Y.output,extra:Y.extra}))},sk=(t,r)=>{ok(t,r)},rk=(t,r,l,d)=>ut(t,g=>{const v=g.sensor;return d$(r,v,g.range.left,g.range.top,l,d)?p.some({output:cg(g.output,r,l,d),extra:g.extra}):p.none()}),p$=(t,r,l,d,g)=>{const v=r.getSnapPoints(t);return rk(v,l,d,g).orThunk(()=>se(v,($,Y)=>{const le=Y.sensor,Ee=T_(l,le,Y.range.left,Y.range.top,d,g);return $.deltas.fold(()=>({deltas:p.some(Ee),snap:p.some(Y)}),Fe=>{const Qe=(Ee.left+Ee.top)/2,qe=(Fe.left+Fe.top)/2;return Qe<=qe?{deltas:p.some(Ee),snap:p.some(Y)}:$})},{deltas:p.none(),snap:p.none()}).snap.map($=>({output:cg($.output,l,d,g),extra:$.extra})))},ak=(t,r,l,d,g)=>{const v=r.getSnapPoints(t);return rk(v,l,d,g)},g$=(t,r,l)=>({coord:cg(t.output,t.output,r,l),extra:t.extra});var k_=Object.freeze({__proto__:null,snapTo:(t,r,l,d)=>{const g=r.getTarget(t.element);if(r.repositionTarget){const v=Rl(t.element),y=Ri(v),k=Ih(g),$=g$(d,y,k),Y=tk($.coord,y,k);Ja(g,Y)}}});const Fi=(t,r)=>U2(t,{},K(r,l=>eC(l.name(),"Cannot configure "+l.name()+" for "+t)).concat([Wi("dump",oo)])),k0=t=>t.dump,Ti=(t,r)=>({...Yn(r),...t.dump}),nd={field:Fi,augment:Ti,get:k0},Z1=(t,r)=>(t.length>0?[Nf("parts",t)]:[]).concat([Bn("uid"),tn("dom",{}),tn("components",[]),G2("originalSpec"),tn("debug.sketcher",{})]).concat(r),W7=(t,r,l,d,g)=>{const v=Z1(d,g);return sl(t+" [SpecSchema]",yc(v.concat(r)),l)},m$=(t,r,l,d)=>{const g=L_(d),v=W7(t,r,g,[],[]);return l(v,g)},O_=(t,r,l,d,g)=>{const v=L_(g),y=T8(l),k=Qu(l),$=W7(t,r,v,y,[k]),Y=D1(t,$,l),le=yu(t,$,Y.internals());return d($,le,v,Y.externals())},h$=t=>Wt(t,"uid"),L_=t=>h$(t)?t:{...t,uid:Rm("uid")},b$=t=>t.uid!==void 0,v$=yc([Bn("name"),Bn("factory"),Bn("configFields"),tn("apis",{}),tn("extraApis",{})]),ik=yc([Bn("name"),Bn("factory"),Bn("configFields"),Bn("partFields"),tn("apis",{}),tn("extraApis",{})]),od=t=>{const r=sl("Sketcher for "+t.name,v$,t),l=v=>m$(r.name,r.configFields,r.factory,v),d=et(r.apis,H1),g=et(r.extraApis,(v,y)=>C8(v,y));return{name:r.name,configFields:r.configFields,sketch:l,...d,...g}},ic=t=>{const r=sl("Sketcher for "+t.name,ik,t),l=y=>O_(r.name,r.configFields,r.partFields,r.factory,y),d=um(r.name,r.partFields),g=et(r.apis,H1),v=et(r.extraApis,(y,k)=>C8(y,k));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:l,parts:d,...g,...v}},Qf=od({name:"Container",factory:t=>{const{attributes:r,...l}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...l},components:t.components,behaviours:k0(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[tn("components",[]),Fi("containerBehaviours",[]),tn("events",{}),tn("domModification",{}),tn("eventOrder",{})]}),cv="data-initial-z-index",lk=t=>{Xl(t.element).filter(hl).each(r=>{ai(r,cv).fold(()=>Ps(r,"z-index"),l=>Mo(r,"z-index",l)),Kr(r,cv)})},ck=t=>{Xl(t.element).filter(hl).each(r=>{er(r,"z-index").each(l=>{os(r,cv,l)}),Mo(r,"z-index",pa(t.element,"z-index"))})},D_=(t,r)=>{t.getSystem().addToGui(r),ck(r)},y$=t=>{lk(t),t.getSystem().removeFromGui(t)},dk=(t,r,l)=>t.getSystem().build(Qf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:l}));var C$=wl("snaps",[Bn("getSnapPoints"),Us("onSensor"),Bn("leftAttr"),Bn("topAttr"),tn("lazyViewport",ol),tn("mustSnap",!1)]);const N_=[tn("useFixed",ge),Bn("blockerClass"),tn("getTarget",oo),tn("onDrag",lt),tn("repositionTarget",!0),tn("onDrop",lt),$r("getBounds",ol),C$],_$=t=>on(er(t,"left"),er(t,"top"),er(t,"position"),(r,l,d)=>(d==="fixed"?j1:U7)(parseInt(r,10),parseInt(l,10))).getOrThunk(()=>{const r=Ni(t);return dg(r.left,r.top)}),dv=(t,r,l,d,g)=>{const v=g.bounds,y=Xf(r,l,d),k=J(y.left,v.x,v.x+v.width-g.width),$=J(y.top,v.y,v.y+v.height-g.height),Y=dg(k,$);return r.fold(()=>{const le=z7(Y,l,d);return U7(le.left,le.top)},ht(Y),()=>{const le=H7(Y,l,d);return j1(le.left,le.top)})},uk=(t,r,l,d,g,v,y)=>{const k=r.fold(()=>{const $=Co(l,v.left,v.top),Y=H7($,d,g);return j1(Y.left,Y.top)},$=>{const Y=f$(t,$,l,v,d,g);return Y.extra.each(le=>{$.onSensor(t,le)}),Y.coord});return dv(t,k,d,g,y)},fk=(t,r,l,d)=>{const g=r.getTarget(t.element);if(r.repositionTarget){const v=Rl(t.element),y=Ri(v),k=Ih(g),$=_$(g),Y=uk(t,r.snaps,$,y,k,d,l),le=tk(Y,y,k);Ja(g,le)}r.onDrag(t,g,d)},R_=(t,r)=>({bounds:t.getBounds(),height:Di(r.element),width:f1(r.element)}),K7=(t,r,l,d,g)=>{const v=l.update(d,g),y=l.getStartData().getOrThunk(()=>R_(r,t));v.each(k=>{fk(t,r,y,k)})},M_=(t,r,l,d)=>{r.each(y$),l.snaps.each(v=>{sk(t,v)});const g=l.getTarget(t.element);d.reset(),l.onDrop(t,g)},I_=t=>(r,l)=>{const d=g=>{l.setStartData(R_(r,g))};return Jr([xn(Zh(),g=>{l.getStartData().each(()=>d(g))}),...t(r,l,d)])},E$=t=>Jr([xn(rl(),t.forceDrop),xn(R5(),t.drop),xn(om(),(r,l)=>{t.move(l.event)}),xn(Ya(),t.delayDrop)]);var w$=Object.freeze({__proto__:null,getData:t=>p.from(Dr(t.x,t.y)),getDelta:(t,r)=>Dr(r.left-t.left,r.top-t.top)});const uv=(t,r,l)=>[xn(rl(),(d,g)=>{if(g.event.raw.button!==0)return;g.stop();const y=()=>M_(d,p.some(Y),t,r),k=nC(y,200),$={drop:y,delayDrop:k.schedule,forceDrop:y,move:Ee=>{k.cancel(),K7(d,t,r,w$,Ee)}},Y=dk(d,t.blockerClass,E$($));(()=>{l(d),D_(d,Y)})()})],S$=[...N_,Rr("dragger",{handlers:I_(uv)})],gk=t=>Jr([xn(Mf(),t.forceDrop),xn(E1(),t.drop),xn(nm(),t.drop),xn(If(),(r,l)=>{t.move(l.event)})]),kl=t=>{const r=t[0];return p.some(Dr(r.clientX,r.clientY))};var B_=Object.freeze({__proto__:null,getData:t=>{const l=t.raw.touches;return l.length===1?kl(l):p.none()},getDelta:(t,r)=>Dr(r.left-t.left,r.top-t.top)});const mk=(t,r,l)=>{const d=Do(),g=v=>{M_(v,d.get(),t,r),d.clear()};return[xn(Mf(),(v,y)=>{y.stop();const k=()=>g(v),$={drop:k,delayDrop:lt,forceDrop:k,move:Ee=>{K7(v,t,r,B_,Ee)}},Y=dk(v,t.blockerClass,gk($));d.set(Y),(()=>{l(v),D_(v,Y)})()}),xn(If(),(v,y)=>{y.stop(),K7(v,t,r,B_,y.event)}),xn(E1(),(v,y)=>{y.stop(),g(v)}),xn(nm(),g)]},hk=[...N_,Rr("dragger",{handlers:I_(mk)})],bk=(t,r,l)=>[...uv(t,r,l),...mk(t,r,l)],A$=[...N_,Rr("dragger",{handlers:I_(bk)})];var vk=Object.freeze({__proto__:null,mouse:S$,touch:hk,mouseOrTouch:A$}),k$=Object.freeze({__proto__:null,init:()=>{let t=p.none(),r=p.none();const l=()=>{t=p.none(),r=p.none()},d=($,Y)=>{const le=t.map(Ee=>$.getDelta(Ee,Y));return t=p.some(Y),le},g=($,Y)=>$.getData(Y).bind(le=>d($,le)),v=$=>{r=p.some($)},y=()=>r,k=ht({});return Tl({readState:k,reset:l,update:g,getStartData:y,setStartData:v})}});const Pm=z8({branchKey:"mode",branches:vk,name:"dragging",active:{events:(t,r)=>t.dragger.handlers(t,r)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:p.from(t.extra)})},state:k$,apis:k_}),xk=["input","textarea"],F_=t=>{const r=el(t);return Q(xk,r)},yk=(t,r)=>{const l=r.getRoot(t).getOr(t.element);Vr(l,r.invalidClass),r.notify.each(d=>{F_(t.element)&&os(t.element,"aria-invalid",!1),d.getContainer(t).each(g=>{wf(g,d.validHtml)}),d.onValid(t)})},Ck=(t,r,l,d)=>{const g=r.getRoot(t).getOr(t.element);na(g,r.invalidClass),r.notify.each(v=>{F_(t.element)&&os(t.element,"aria-invalid",!0),v.getContainer(t).each(y=>{wf(y,d)}),v.onInvalid(t,d)})},_k=(t,r,l)=>r.validator.fold(()=>Hn.pure(zn.value(!0)),d=>d.validate(t)),P_=(t,r,l)=>(r.notify.each(d=>{d.onValidate(t)}),_k(t,r).map(d=>t.getSystem().isConnected()?d.fold(g=>(Ck(t,r,l,g),zn.error(g)),g=>(yk(t,r),zn.value(g))):zn.error("No longer in system")));var Ek=Object.freeze({__proto__:null,markValid:yk,markInvalid:Ck,query:_k,run:P_,isInvalid:(t,r)=>{const l=r.getRoot(t).getOr(t.element);return Ma(l,r.invalidClass)}}),wk=Object.freeze({__proto__:null,events:(t,r)=>t.validator.map(l=>Jr([xn(l.onEvent,d=>{P_(d,t,r).get(oo)})].concat(l.validateOnLoad?[Wr(d=>{P_(d,t,r).get(lt)})]:[]))).getOr({})}),Sk=[Bn("invalidClass"),tn("getRoot",p.none),wl("notify",[tn("aria","alert"),tn("getContainer",p.none),tn("validHtml",""),Us("onValid"),Us("onInvalid"),Us("onValidate")]),wl("validator",[Bn("validate"),tn("onEvent","input"),tn("validateOnLoad",!0)])];const j7=(t,r,l)=>{r.store.manager.onLoad(t,r,l)},Tk=(t,r,l)=>{r.store.manager.onUnload(t,r,l)};var Ak=Object.freeze({__proto__:null,onLoad:j7,onUnload:Tk,setValue:(t,r,l,d)=>{r.store.manager.setValue(t,r,l,d)},getValue:(t,r,l)=>r.store.manager.getValue(t,r,l),getState:(t,r,l)=>l}),L$=Object.freeze({__proto__:null,events:(t,r)=>{const l=t.resetOnDom?[Wr((d,g)=>{j7(d,t,r)}),wu((d,g)=>{Tk(d,t,r)})]:[mb(t,r,j7)];return Jr(l)}});const kk=()=>{const t=Je(null),r=()=>({mode:"memory",value:t.get()}),l=()=>t.get()===null,d=()=>{t.set(null)};return Tl({set:t.set,get:t.get,isNotSet:l,clear:d,readState:r})},Ok=()=>Tl({readState:lt}),Z7=()=>{const t=Je({}),r=Je({});return Tl({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:r.get()}),lookup:y=>Rt(t.get(),y).orThunk(()=>Rt(r.get(),y)),update:y=>{const k=t.get(),$=r.get(),Y={},le={};ee(y,Ee=>{Y[Ee.value]=Ee,Rt(Ee,"meta").each(Fe=>{Rt(Fe,"text").each(Qe=>{le[Qe]=Ee})})}),t.set({...k,...Y}),r.set({...$,...le})},clear:()=>{t.set({}),r.set({})}})};var D$=Object.freeze({__proto__:null,memory:kk,dataset:Z7,manual:Ok,init:t=>t.store.manager.state(t)});const ug=(t,r,l,d)=>{const g=r.store;l.update([d]),g.setValue(t,d),r.onSetValue(t,d)},Dk=(t,r,l)=>{const d=r.store,g=d.getDataKey(t);return l.lookup(g).getOrThunk(()=>d.getFallbackEntry(g))},Nk=(t,r,l)=>{r.store.initialValue.each(g=>{ug(t,r,l,g)})},N$=(t,r,l)=>{l.clear()};var R$=[xr("initialValue"),Bn("getFallbackEntry"),Bn("getDataKey"),Bn("setValue"),Rr("manager",{setValue:ug,getValue:Dk,onLoad:Nk,onUnload:N$,state:Z7})];const pv=(t,r,l)=>r.store.getValue(t),gv=(t,r,l,d)=>{r.store.setValue(t,d),r.onSetValue(t,d)},Rk=(t,r,l)=>{r.store.initialValue.each(d=>{r.store.setValue(t,d)})};var $_=[Bn("getValue"),tn("setValue",lt),xr("initialValue"),Rr("manager",{setValue:gv,getValue:pv,onLoad:Rk,onUnload:lt,state:Dd.init})];const $m=(t,r,l,d)=>{l.set(d),r.onSetValue(t,d)},Hm=(t,r,l)=>l.get(),M$=(t,r,l)=>{r.store.initialValue.each(d=>{l.isNotSet()&&l.set(d)})},I$=(t,r,l)=>{l.clear()};var Mk=[xr("initialValue"),Rr("manager",{setValue:$m,getValue:Hm,onLoad:M$,onUnload:I$,state:kk})],fg=[Sl("store",{mode:"memory"},El("mode",{memory:Mk,manual:$_,dataset:R$})),Us("onSetValue"),tn("resetOnDom",!1)];const yo=gi({fields:fg,name:"representing",active:L$,apis:Ak,extra:{setValueFrom:(t,r)=>{const l=yo.getValue(r);yo.setValue(t,l)}},state:D$}),G1=gi({fields:Sk,name:"invalidating",active:wk,apis:Ek,extra:{validation:t=>r=>{const l=yo.getValue(r);return Hn.pure(t(l))}}});var Ik=Object.freeze({__proto__:null,exhibit:(t,r)=>Nd({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const G7=Jn.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Y7=(t,r,l,d,g,v)=>{const y=r.rect,k=y.x-l,$=y.y-d,Y=y.width,le=y.height,Ee=g-(k+Y),Fe=v-($+le),Qe=p.some(k),qe=p.some($),vt=p.some(Ee),Ot=p.some(Fe),Ct=p.none();return j5(r.direction,()=>Hd(t,Qe,qe,Ct,Ct),()=>Hd(t,Ct,qe,vt,Ct),()=>Hd(t,Qe,Ct,Ct,Ot),()=>Hd(t,Ct,Ct,vt,Ot),()=>Hd(t,Qe,qe,Ct,Ct),()=>Hd(t,Qe,Ct,Ct,Ot),()=>Hd(t,Qe,qe,Ct,Ct),()=>Hd(t,Ct,qe,vt,Ct))},H_=(t,r)=>t.fold(()=>{const l=r.rect;return Hd("absolute",p.some(l.x),p.some(l.y),p.none(),p.none())},(l,d,g,v)=>Y7("absolute",r,l,d,g,v),(l,d,g,v)=>Y7("fixed",r,l,d,g,v)),z_=(t,r)=>{const l=us(Mh,r),d=t.fold(l,l,()=>{const y=Ri();return Mh(r).translate(-y.left,-y.top)}),g=f1(r),v=Di(r);return Ka(d.left,d.top,g,v)},F$=(t,r)=>r.fold(()=>t.fold(ol,ol,Ka),l=>t.fold(ht(l),ht(l),()=>{const d=Bk(t,l.x,l.y);return Ka(d.left,d.top,l.width,l.height)})),Bk=(t,r,l)=>{const d=Dr(r,l),g=()=>{const v=Ri();return d.translate(-v.left,-v.top)};return t.fold(ht(d),ht(d),g)},q7=(t,r,l,d)=>t.fold(r,l,d);G7.none;const U_=G7.relative,X7=G7.fixed,Fk=(t,r)=>({anchorBox:t,origin:r}),P$=(t,r)=>Fk(t,r),mv=Jn.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Pk=(t,r)=>{const{x:l,y:d,right:g,bottom:v}=r,{x:y,y:k,right:$,bottom:Y,width:le,height:Ee}=t,Fe=y>=l&&y<=g,Qe=k>=d&&k<=v,qe=Fe&&Qe,vt=$<=g&&$>=l,Ot=Y<=v&&Y>=d,Ct=vt&&Ot,$t=Math.min(le,y>=l?g-y:$-l),Ut=Math.min(Ee,k>=d?v-k:Y-d);return{originInBounds:qe,sizeInBounds:Ct,visibleW:$t,visibleH:Ut}},$k=(t,r)=>{const{x:l,y:d,right:g,bottom:v}=r,{x:y,y:k,width:$,height:Y}=t,le=Math.max(l,g-$),Ee=Math.max(d,v-Y),Fe=J(y,l,le),Qe=J(k,d,Ee),qe=Math.min(Fe+$,g)-Fe,vt=Math.min(Qe+Y,v)-Qe;return Ka(Fe,Qe,qe,vt)},Hk=(t,r,l)=>{const d=ht(r.bottom-l.y),g=ht(l.bottom-r.y),v=Z5(t,g,g,d),y=ht(r.right-l.x),k=ht(l.right-r.x);return{maxWidth:pm(t,k,k,y),maxHeight:v}},$$=(t,r,l,d)=>{const g=t.bubble,v=g.offset,y=lC(d,t.restriction,v),k=t.x+v.left,$=t.y+v.top,Y=Ka(k,$,r,l),{originInBounds:le,sizeInBounds:Ee,visibleW:Fe,visibleH:Qe}=Pk(Y,y),qe=le&&Ee,vt=qe?Y:$k(Y,y),Ot=vt.width>0&&vt.height>0,{maxWidth:Ct,maxHeight:$t}=Hk(t.direction,vt,d),Ut={rect:vt,maxHeight:$t,maxWidth:Ct,direction:t.direction,placement:t.placement,classes:{on:g.classesOn,off:g.classesOff},layout:t.label,testY:$};return qe||t.alwaysFit?mv.fit(Ut):mv.nofit(Ut,Fe,Qe,Ot)},V_=(t,r,l,d,g,v)=>{const y=d.width,k=d.height,$=(le,Ee,Fe,Qe,qe)=>{const vt=le(l,d,g,t,v),Ot=$$(vt,y,k,v);return Ot.fold(ht(Ot),(Ct,$t,Ut,an)=>(qe===an?Ut>Qe||$t>Fe:!qe&&an)?Ot:mv.nofit(Ee,Fe,Qe,qe))};return se(r,(le,Ee)=>{const Fe=us($,Ee);return le.fold(ht(le),Fe)},mv.nofit({rect:l,maxHeight:d.height,maxWidth:d.width,direction:N1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:l.y},-1,-1,!1)).fold(oo,oo)},zk=["top","bottom","right","left"],Q7="data-alloy-transition-timer",H$=(t,r)=>Ug(t,r.classes),z$=(t,r,l)=>l.exists(d=>{const g=t.mode;return g==="all"?!0:d[g]!==r[g]}),Uk=(t,r)=>{const l=d=>parseFloat(d).toFixed(3);return mt(r,(d,g)=>{const v=t[g].map(l),y=d.map(l);return!Tt(v,y)}).isSome()},U$=t=>{const r=v=>{const k=pa(t,v).split(/\s*,\s*/);return be(k,Ur)},l=v=>{if(dt(v)&&/^[\d.]+/.test(v)){const y=parseFloat(v);return Tr(v,"ms")?y:y*1e3}else return 0},d=r("transition-delay"),g=r("transition-duration");return se(g,(v,y,k)=>{const $=l(d[k])+l(y);return Math.max(v,$)},0)},V$=(t,r)=>{const l=Go(),d=Go();let g;const v=Y=>{var le;const Ee=(le=Y.raw.pseudoElement)!==null&&le!==void 0?le:"";return Rs(Y.target,t)&&wa(Ee)&&Q(zk,Y.raw.propertyName)},y=Y=>{if(_o(Y)||v(Y)){l.clear(),d.clear();const le=Y==null?void 0:Y.raw.type;(_o(le)||le===Vh())&&(clearTimeout(g),Kr(t,Q7),Cl(t,r.classes))}},k=Qs(t,Dp(),Y=>{v(Y)&&(k.unbind(),l.set(Qs(t,Vh(),y)),d.set(Qs(t,vu(),y)))}),$=U$(t);window.requestAnimationFrame(()=>{g=setTimeout(y,$+17),os(t,Q7,g)})},Vk=(t,r)=>{$l(t,r.classes),ai(t,Q7).each(l=>{clearTimeout(parseInt(l,10)),Kr(t,Q7)}),V$(t,r)},hv=(t,r,l,d,g,v)=>{const y=z$(d,g,v);if(y||H$(t,d)){Mo(t,"position",l.position);const k=z_(r,t),$=H_(r,{...g,rect:k}),Y=q(zk,le=>$[le]);Uk(l,Y)&&(Ja(t,Y),y&&Vk(t,d),Ar(t))}else Cl(t,d.classes)},W$=t=>({width:Math.ceil(f1(t)),height:Di(t)}),bv=(t,r,l,d)=>{Ps(r,"max-height"),Ps(r,"max-width");const g=W$(r);return V_(r,d.preference,t,g,l,d.bounds)},W_=(t,r)=>{const l=r.classes;Cl(t,l.off),$l(t,l.on)},Wk=(t,r,l)=>{const d=l.maxHeightFunction;d(t,r.maxHeight)},Kk=(t,r,l)=>{const d=l.maxWidthFunction;d(t,r.maxWidth)},K$=(t,r,l)=>{const d=H_(l.origin,r);l.transition.each(g=>{hv(t,l.origin,d,g,r,l.lastPlacement)}),T0(t,d)},j$=(t,r)=>{rb(t,r.placement)},K_=(t,r,l)=>t[r]===void 0?l:t[r],Z$=(t,r,l,d,g,v,y,k)=>{const $=K_(y,"maxHeightFunction",lb()),Y=K_(y,"maxWidthFunction",lt),le=t.anchorBox,Ee=t.origin,Fe={bounds:F$(Ee,v),origin:Ee,preference:d,maxHeightFunction:$,maxWidthFunction:Y,lastPlacement:g,transition:k};return jk(le,r,l,Fe)},jk=(t,r,l,d)=>{const g=bv(t,r,l,d);return K$(r,g,d),j$(r,g),W_(r,g),Wk(r,g,d),Kk(r,g,d),{layout:g.layout,placement:g.placement}},J7=oo,L0=()=>wl("layouts",[Bn("onLtr"),Bn("onRtl"),xr("onBottomLtr"),xr("onBottomRtl")]),vv=(t,r,l,d,g,v,y)=>{const k=y.map(dC).getOr(!1),$=r.layouts.map(Qe=>Qe.onLtr(t)),Y=r.layouts.map(Qe=>Qe.onRtl(t)),le=k?r.layouts.bind(Qe=>Qe.onBottomLtr.map(qe=>qe(t))).or($).getOr(g):$.getOr(l),Ee=k?r.layouts.bind(Qe=>Qe.onBottomRtl.map(qe=>qe(t))).or(Y).getOr(v):Y.getOr(d);return D2(le,Ee)(t)},ex=(t,r,l)=>{const d=r.hotspot,g=z_(l,d.element),v=vv(t.element,r,sb(),Pp(),ob(),mm(),p.some(r.hotspot.element));return p.some(J7({anchorBox:g,bubble:r.bubble.getOr(Ju()),overrides:r.overrides,layouts:v}))};var j_=[Bn("hotspot"),xr("bubble"),tn("overrides",{}),L0(),Rr("placement",ex)];const Z_=(t,r,l)=>{const d=Bk(l,r.x,r.y),g=Ka(d.left,d.top,r.width,r.height),v=vv(t.element,r,tb(),nb(),tb(),nb(),p.none());return p.some(J7({anchorBox:g,bubble:r.bubble,overrides:r.overrides,layouts:v}))};var G$=[Bn("x"),Bn("y"),tn("height",0),tn("width",0),tn("bubble",Ju()),tn("overrides",{}),L0(),Rr("placement",Z_)];const Zk=Jn.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Y$=t=>t.fold(oo,(r,l,d)=>r.translate(-l,-d)),q$=t=>t.fold(oo,oo),G_=t=>se(t,(r,l)=>r.translate(l.left,l.top),Dr(0,0)),Gk=t=>{const r=K(t,Y$);return G_(r)},Yk=t=>{const r=K(t,q$);return G_(r)},X$=Zk.screen,Q$=Zk.absolute,J$=(t,r,l)=>{const d=Pu(l.root).dom,g=v=>{const y=Rl(v),k=Rl(t.element);return Rs(y,k)};return p.from(d.frameElement).map(cn.fromDom).filter(g).map(Ni)},qk=(t,r,l)=>{const d=Rl(t.element),g=Ri(d),v=J$(t,r,l).getOr(g);return Q$(v,g.left,g.top)},Y_=(t,r,l,d)=>{const g=X$(Dr(t,r));return p.some(g5(g,l,d))},q_=(t,r,l,d,g)=>t.map(v=>{const y=[r,v.point],k=q7(d,()=>Yk(y),()=>Yk(y),()=>Gk(y)),$=Vy(k.left,k.top,v.width,v.height),Y=l.showAbove?ob():sb(),le=l.showAbove?mm():Pp(),Ee=vv(g,l,Y,le,Y,le,p.none());return J7({anchorBox:$,bubble:l.bubble.getOr(Ju()),overrides:l.overrides,layouts:Ee})}),eH=(t,r,l)=>{const d=qk(t,l,r);return r.node.filter(nl).bind(g=>{const v=g.dom.getBoundingClientRect(),y=Y_(v.left,v.top,v.width,v.height),k=r.node.getOr(t.element);return q_(y,d,r,l,k)})};var tH=[Bn("node"),Bn("root"),xr("bubble"),L0(),tn("overrides",{}),tn("showAbove",!1),Rr("placement",eH)];const tx=(t,r)=>({element:t,offset:r}),nH=(t,r)=>{const l=Hc(t);if(l.length===0)return tx(t,r);if(r<l.length)return tx(l[r],0);{const d=l[l.length-1],g=tu(d)?d5(d).length:Hc(d).length;return tx(d,g)}},Xk=(t,r)=>tu(t)?tx(t,r):nH(t,r),Y1=t=>t.foffset!==void 0,Qk=(t,r)=>r.getSelection.getOrThunk(()=>()=>Wu(t))().map(d=>{if(Y1(d)){const g=Xk(d.start,d.soffset),v=Xk(d.finish,d.foffset);return hc.range(g.element,g.offset,v.element,v.offset)}else return d}),oH=(t,r,l)=>{const d=Pu(r.root).dom,g=qk(t,l,r),v=Qk(d,r).bind($=>{if(Y1($))return jg(d,hc.exactFromRange($)).orThunk(()=>{const le=cn.fromText(Pt);c1($.start,le);const Ee=Kg(d,hc.exact(le,0,le,1));return ec(le),Ee}).bind(le=>Y_(le.left,le.top,le.width,le.height));{const Y=et($,Ee=>Ee.dom.getBoundingClientRect()),le={left:Math.min(Y.firstCell.left,Y.lastCell.left),right:Math.max(Y.firstCell.right,Y.lastCell.right),top:Math.min(Y.firstCell.top,Y.lastCell.top),bottom:Math.max(Y.firstCell.bottom,Y.lastCell.bottom)};return Y_(le.left,le.top,le.right-le.left,le.bottom-le.top)}}),k=Qk(d,r).bind($=>Y1($)?hl($.start)?p.some($.start):Ql($.start):p.some($.firstCell)).getOr(t.element);return q_(v,g,r,l,k)};var D0=[xr("getSelection"),Bn("root"),xr("bubble"),L0(),tn("overrides",{}),tn("showAbove",!1),Rr("placement",oH)];const xv="link-layout",Jk=t=>t.x+t.width,pg=(t,r)=>t.x-r.width,eO=(t,r)=>t.y-r.height+t.height,tO=t=>t.y,zd=(t,r,l)=>La(Jk(t),tO(t),l.southeast(),N1(),"southeast",Ei(t,{left:0,top:2}),xv),X_=(t,r,l)=>La(pg(t,r),tO(t),l.southwest(),G5(),"southwest",Ei(t,{right:1,top:2}),xv),Q_=(t,r,l)=>La(Jk(t),eO(t,r),l.northeast(),Y5(),"northeast",Ei(t,{left:0,bottom:3}),xv),J_=(t,r,l)=>La(pg(t,r),eO(t,r),l.northwest(),s3(),"northwest",Ei(t,{right:1,bottom:3}),xv),nO=()=>[zd,X_,Q_,J_],yv=()=>[X_,zd,J_,Q_],oO=(t,r,l)=>{const d=z_(l,r.item.element),g=vv(t.element,r,nO(),yv(),nO(),yv(),p.none());return p.some(J7({anchorBox:d,bubble:Ju(),overrides:r.overrides,layouts:g}))};var sH=[Bn("item"),L0(),tn("overrides",{}),Rr("placement",oO)],rH=El("type",{selection:D0,node:tH,hotspot:j_,submenu:sH,makeshift:G$});const nx=[_c("classes",ka),Ec("mode","all",["all","layout","placement"])],eE=[tn("useFixed",ge),xr("getBounds")],sO=[Vl("anchor",rH),wl("transition",nx)],rO=()=>{const t=document.documentElement;return X7(0,0,t.clientWidth,t.clientHeight)},aO=t=>{const r=Ni(t.element),l=t.element.dom.getBoundingClientRect();return U_(r.left,r.top,l.width,l.height)},aH=(t,r,l,d,g,v)=>{const y=P$(r.anchorBox,t);return Z$(y,d.element,r.bubble,r.layouts,g,l,r.overrides,v)},tE=(t,r,l,d,g)=>{const v=p.none();nE(t,r,l,d,g,v)},nE=(t,r,l,d,g,v)=>{const y=sl("placement.info",ts(sO),g),k=y.anchor,$=d.element,Y=l.get(d.uid);Tu(()=>{Mo($,"position","fixed");const le=er($,"visibility");Mo($,"visibility","hidden");const Ee=r.useFixed()?rO():aO(t);k.placement(t,k,Ee).each(Fe=>{const Qe=v.orThunk(()=>r.getBounds.map(B)),qe=aH(Ee,Fe,Qe,d,Y,y.transition);l.set(d.uid,qe)}),le.fold(()=>{Ps($,"visibility")},Fe=>{Mo($,"visibility",Fe)}),er($,"left").isNone()&&er($,"top").isNone()&&er($,"right").isNone()&&er($,"bottom").isNone()&&kt(er($,"position"),"fixed")&&Ps($,"position")},$)};var iH=Object.freeze({__proto__:null,position:tE,positionWithinBounds:nE,getMode:(t,r,l)=>r.useFixed()?"fixed":"absolute",reset:(t,r,l,d)=>{const g=d.element;ee(["position","left","right","top","bottom"],v=>Ps(g,v)),ab(g),l.clear(d.uid)}}),lH=Object.freeze({__proto__:null,init:()=>{let t={};return Tl({readState:()=>t,clear:g=>{Ao(g)?delete t[g]:t={}},set:(g,v)=>{t[g]=v},get:g=>Rt(t,g)})}});const Ai=gi({fields:eE,name:"positioning",active:Ik,apis:iH,state:lH}),ox=(t,r)=>r.universal?t:be(t,l=>Q(r.channels,l));var lO=Object.freeze({__proto__:null,events:t=>Jr([xn(Ff(),(r,l)=>{const d=t.channels,g=nt(d),v=l,y=ox(g,v);ee(y,k=>{const $=d[k],Y=$.schema,le=sl("channel["+k+`] data
Receiver: `+$f(r.element),Y,v.data);$.onReceive(r,le)})})])}),dH=[Vl("channels",E5(zn.value,yc([Qh("onReceive"),tn("schema",gu())])))];const sd=gi({fields:dH,name:"receiving",active:lO});var uH=Object.freeze({__proto__:null,events:(t,r)=>{const l=(d,g)=>{t.updateState.each(v=>{const y=v(d,g);r.set(y)}),t.renderComponents.each(v=>{const y=v(g,r.get());(t.reuseDom?sg:Kb)(d,y)})};return Jr([xn(Ff(),(d,g)=>{const v=g;if(!v.universal){const y=t.channel;Q(v.channels,y)&&l(d,v.data)}}),Wr((d,g)=>{t.initialData.each(v=>{l(d,v)})})])}}),dO=Object.freeze({__proto__:null,getState:(t,r,l)=>l}),uO=[Bn("channel"),xr("renderComponents"),xr("updateState"),xr("initialData"),Oa("reuseDom",!0)],fH=Object.freeze({__proto__:null,init:()=>{const t=Je(p.none()),r=()=>t.set(p.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:r}}});const Nc=gi({fields:uO,name:"reflecting",active:uH,apis:dO,state:fH}),pO=(t,r,l,d)=>{l.get().each(y=>{w7(t)});const g=r.getAttachPoint(t);Fd(g,t);const v=t.getSystem().build(d);return Fd(t,v),l.set(v),v},gO=(t,r,l,d)=>{const g=pO(t,r,l,d);return r.onOpen(t,g),g},pH=(t,r,l,d)=>l.get().map(()=>pO(t,r,l,d)),mO=(t,r,l,d,g)=>{sx(t,r),gO(t,r,l,d),g(),yO(t,r)},hO=(t,r,l)=>{l.get().each(d=>{w7(t),nf(t),r.onClose(t,d),l.clear()})},bO=(t,r,l)=>l.isOpen(),oE=(t,r,l,d)=>bO(t,r,l)&&l.get().exists(g=>r.isPartOf(t,g,d)),vO=(t,r,l)=>l.get(),xO=(t,r,l,d)=>{er(t.element,r).fold(()=>{Kr(t.element,l)},g=>{os(t.element,l,g)}),Mo(t.element,r,d)},gH=(t,r,l)=>{ai(t.element,l).fold(()=>Ps(t.element,r),d=>Mo(t.element,r,d))},sx=(t,r,l)=>{const d=r.getAttachPoint(t);Mo(t.element,"position",Ai.getMode(d)),xO(t,"visibility",r.cloakVisibilityAttr,"hidden")},mH=t=>H(["top","left","right","bottom"],r=>er(t,r).isSome()),yO=(t,r,l)=>{mH(t.element)||Ps(t.element,"position"),gH(t,"visibility",r.cloakVisibilityAttr)};var hH=Object.freeze({__proto__:null,cloak:sx,decloak:yO,open:gO,openWhileCloaked:mO,close:hO,isOpen:bO,isPartOf:oE,getState:vO,setContent:pH}),bH=Object.freeze({__proto__:null,events:(t,r)=>Jr([xn(Kh(),(l,d)=>{hO(l,t,r)})])}),CO=[Us("onOpen"),Us("onClose"),Bn("isPartOf"),Bn("getAttachPoint"),tn("cloakVisibilityAttr","data-precloak-visibility")],vH=Object.freeze({__proto__:null,init:()=>{const t=Do(),r=ht("not-implemented");return Tl({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const sr=gi({fields:CO,name:"sandboxing",active:bH,apis:hH,state:vH}),Cv=(t,r)=>r.getAnimationRoot.fold(()=>t.element,l=>l(t)),gg=t=>t.dimension.property,N0=(t,r)=>t.dimension.getDimension(r),rx=(t,r)=>{const l=Cv(t,r);Cl(l,[r.shrinkingClass,r.growingClass])},sE=(t,r)=>{Vr(t.element,r.openClass),na(t.element,r.closedClass),Mo(t.element,gg(r),"0px"),Ar(t.element)},rE=(t,r)=>{Vr(t.element,r.closedClass),na(t.element,r.openClass),Ps(t.element,gg(r))},aE=(t,r,l,d)=>{l.setCollapsed(),Mo(t.element,gg(r),N0(r,t.element)),rx(t,r),sE(t,r),r.onStartShrink(t),r.onShrunk(t)},xH=(t,r,l,d)=>{const g=d.getOrThunk(()=>N0(r,t.element));l.setCollapsed(),Mo(t.element,gg(r),g),Ar(t.element);const v=Cv(t,r);Vr(v,r.growingClass),na(v,r.shrinkingClass),sE(t,r),r.onStartShrink(t)},EO=(t,r,l)=>{const d=N0(r,t.element);(d==="0px"?aE:xH)(t,r,l,p.some(d))},ax=(t,r,l)=>{const d=Cv(t,r),g=Ma(d,r.shrinkingClass),v=N0(r,t.element);rE(t,r);const y=N0(r,t.element);(g?()=>{Mo(t.element,gg(r),v),Ar(t.element)}:()=>{sE(t,r)})(),Vr(d,r.shrinkingClass),na(d,r.growingClass),rE(t,r),Mo(t.element,gg(r),y),l.setExpanded(),r.onStartGrow(t)},R0=(t,r,l)=>{if(l.isExpanded()){Ps(t.element,gg(r));const d=N0(r,t.element);Mo(t.element,gg(r),d)}},yH=(t,r,l)=>{l.isExpanded()||ax(t,r,l)},CH=(t,r,l)=>{l.isExpanded()&&EO(t,r,l)},iE=(t,r,l)=>{l.isExpanded()&&aE(t,r,l)},wO=(t,r,l)=>l.isExpanded(),_H=(t,r,l)=>l.isCollapsed(),U3=(t,r,l)=>{const d=Cv(t,r);return Ma(d,r.growingClass)===!0},SO=(t,r,l)=>{const d=Cv(t,r);return Ma(d,r.shrinkingClass)===!0};var wH=Object.freeze({__proto__:null,refresh:R0,grow:yH,shrink:CH,immediateShrink:iE,hasGrown:wO,hasShrunk:_H,isGrowing:U3,isShrinking:SO,isTransitioning:(t,r,l)=>U3(t,r)||SO(t,r),toggleGrow:(t,r,l)=>{(l.isExpanded()?EO:ax)(t,r,l)},disableTransitions:rx,immediateGrow:(t,r,l)=>{l.isExpanded()||(rE(t,r),Mo(t.element,gg(r),N0(r,t.element)),rx(t,r),l.setExpanded(),r.onStartGrow(t),r.onGrown(t))}}),lE=Object.freeze({__proto__:null,exhibit:(t,r,l)=>{const d=r.expanded;return Nd(d?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:tm(r.dimension.property,"0px")})},events:(t,r)=>Jr([ym(Vh(),(l,d)=>{d.event.raw.propertyName===t.dimension.property&&(rx(l,t),r.isExpanded()&&Ps(l.element,t.dimension.property),(r.isExpanded()?t.onGrown:t.onShrunk)(l))})])}),ix=[Bn("closedClass"),Bn("openClass"),Bn("shrinkingClass"),Bn("growingClass"),xr("getAnimationRoot"),Us("onShrunk"),Us("onStartShrink"),Us("onGrown"),Us("onStartGrow"),tn("expanded",!1),Vl("dimension",El("property",{width:[Rr("property","width"),Rr("getDimension",t=>ei(t)+"px")],height:[Rr("property","height"),Rr("getDimension",t=>Yr(t)+"px")]}))],Ou=Object.freeze({__proto__:null,init:t=>{const r=Je(t.expanded),l=()=>"expanded: "+r.get();return Tl({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:us(r.set,!1),setExpanded:us(r.set,!0),readState:l})}});const jl=gi({fields:ix,name:"sliding",active:lE,apis:wH,state:Ou});var AH=Object.freeze({__proto__:null,events:(t,r)=>{const d=t.stream.streams.setup(t,r);return Jr([xn(t.event,d),wu(()=>r.cancel())].concat(t.cancelEvent.map(g=>[xn(g,()=>r.cancel())]).getOr([])))}});const AO=t=>{const r=Je(null);return Tl({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:v=>{r.set(v)},cancel:()=>{const v=r.get();v!==null&&v.cancel()}})};var Ev=Object.freeze({__proto__:null,throttle:AO,init:t=>t.stream.streams.state(t)});const kH=(t,r)=>{const l=t.stream,d=pt(t.onStream,l.delay);return r.setTimer(d),(g,v)=>{d.throttle(g,v),l.stopEvent&&v.stop()}};var kO=[Vl("stream",El("mode",{throttle:[Bn("delay"),tn("stopEvent",!0),Rr("streams",{setup:kH,state:AO})]})),tn("event","input"),xr("cancelEvent"),Qh("onStream")];const wv=gi({fields:kO,name:"streaming",active:AH,state:Ev});var cE=Object.freeze({__proto__:null,exhibit:(t,r)=>Nd({attributes:Uh([{key:r.tabAttr,value:"true"}])})}),dE=[tn("tabAttr","data-alloy-tabstop")];const Hr=gi({fields:dE,name:"tabstopping",active:cE}),OO=(t,r,l)=>{const d=r.aria;d.update(t,d,l.get())},LO=(t,r,l)=>{r.toggleClass.each(d=>{l.get()?na(t.element,d):Vr(t.element,d)})},Sv=(t,r,l,d)=>{const g=l.get();l.set(d),LO(t,r,l),OO(t,r,l),g!==d&&r.onToggled(t,d)},uE=(t,r,l)=>{Sv(t,r,l,!l.get())},DO=(t,r,l)=>{Sv(t,r,l,!0)},OH=(t,r,l)=>{Sv(t,r,l,!1)},LH=(t,r,l)=>l.get(),NO=(t,r,l)=>{Sv(t,r,l,r.selected)};var DH=Object.freeze({__proto__:null,onLoad:NO,toggle:uE,isOn:LH,on:DO,off:OH,set:Sv}),RO=Object.freeze({__proto__:null,exhibit:()=>Nd({}),events:(t,r)=>{const l=mC(t,r,uE),d=mb(t,r,NO);return Jr(V([t.toggleOnExecute?[l]:[],[d]]))}});const RH=(t,r,l)=>{os(t.element,"aria-pressed",l),r.syncWithExpanded&&BO(t,r,l)},MO=(t,r,l)=>{os(t.element,"aria-selected",l)},IO=(t,r,l)=>{os(t.element,"aria-checked",l)},BO=(t,r,l)=>{os(t.element,"aria-expanded",l)};var MH=[tn("selected",!1),xr("toggleClass"),tn("toggleOnExecute",!0),Us("onToggled"),Sl("aria",{mode:"none"},El("mode",{pressed:[tn("syncWithExpanded",!1),Rr("update",RH)],checked:[Rr("update",IO)],expanded:[Rr("update",BO)],selected:[Rr("update",MO)],none:[Rr("update",lt)]}))];const qs=gi({fields:MH,name:"toggling",active:RO,apis:DH,state:yC(!1)}),fE=_e("tooltip.exclusive"),V3=_e("tooltip.show"),W3=_e("tooltip.hide"),Tv=_e("tooltip.immediateHide"),Av=_e("tooltip.immediateShow"),pE=(t,r,l)=>{t.getSystem().broadcastOn([fE],{})};var $O=Object.freeze({__proto__:null,hideAllExclusive:pE,immediateOpenClose:(t,r,l,d)=>Hs(t,d?Av:Tv),isEnabled:(t,r,l)=>l.isEnabled(),setComponents:(t,r,l,d)=>{l.getTooltip().each(g=>{g.getSystem().isConnected()&&ws.set(g,d)})},setEnabled:(t,r,l,d)=>l.setEnabled(d)}),gE=Object.freeze({__proto__:null,events:(t,r)=>{const l=y=>{r.getTooltip().each(k=>{k.getSystem().isConnected()&&(nf(k),t.onHide(y,k),r.clearTooltip())}),r.clearTimer()},d=y=>{if(!r.isShowing()&&r.isEnabled()){pE(y);const k=t.lazySink(y).getOrDie(),$=y.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Jr(t.mode==="normal"?[xn(Ad(),Y=>{Hs(y,V3)}),xn(Ya(),Y=>{Hs(y,W3)})]:[]),behaviours:Yn([ws.config({})])});r.setTooltip($),Fd(k,$),t.onShow(y,$),Ai.position(k,$,{anchor:t.anchor(y)})}},g=y=>{r.getTooltip().each(k=>{const $=t.lazySink(y).getOrDie();Ai.position($,k,{anchor:t.anchor(y)})})},v=()=>{switch(t.mode){case"normal":return[xn(wc(),y=>{Hs(y,Av)}),xn(Wh(),y=>{Hs(y,Tv)}),xn(Ad(),y=>{Hs(y,V3)}),xn(Ya(),y=>{Hs(y,W3)})];case"follow-highlight":return[xn(W2(),(y,k)=>{Hs(y,V3)}),xn(S1(),y=>{Hs(y,W3)})];case"children-normal":return[xn(wc(),(y,k)=>{za(y.element).each($=>{ps(k.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Hs(y,Av)},Y=>{r.isShowing()&&(t.onShow(y,Y),g(y))})})}),xn(Wh(),y=>{za(y.element).fold(()=>{Hs(y,Tv)},lt)}),xn(Ad(),y=>{pr(y.element,"[data-mce-tooltip]:hover").each(k=>{r.getTooltip().fold(()=>{Hs(y,V3)},$=>{r.isShowing()&&(t.onShow(y,$),g(y))})})}),xn(Ya(),y=>{pr(y.element,"[data-mce-tooltip]:hover").fold(()=>{Hs(y,W3)},lt)})];default:return[xn(wc(),(y,k)=>{za(y.element).each($=>{ps(k.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Hs(y,Av)},Y=>{r.isShowing()&&(t.onShow(y,Y),g(y))})})}),xn(Wh(),y=>{za(y.element).fold(()=>{Hs(y,Tv)},lt)})]}};return Jr(V([[B8(y=>{t.onSetup(y)}),xn(V3,y=>{r.resetTimer(()=>{d(y)},t.delayForShow())}),xn(W3,y=>{r.resetTimer(()=>{l(y)},t.delayForHide())}),xn(Av,y=>{r.resetTimer(()=>{d(y)},0)}),xn(Tv,y=>{r.resetTimer(()=>{l(y)},0)}),xn(Ff(),(y,k)=>{const $=k;$.universal||(Q($.channels,fE)||Q($.channels,p0()))&&($.data.closedTooltip&&r.isShowing()&&$.data.closedTooltip(),l(y))}),wu(y=>{l(y)})],v()]))}}),FH=[Bn("lazySink"),Bn("tooltipDom"),tn("exclusive",!0),tn("tooltipComponents",[]),$r("delayForShow",ht(300)),$r("delayForHide",ht(100)),$r("onSetup",lt),Ec("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),tn("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:ht([Ba,pi,jr,fi,qa,wi]),onRtl:ht([Ba,pi,jr,fi,qa,wi])},bubble:Xc(0,-2,{})})),Us("onHide"),Us("onShow")],HO=Object.freeze({__proto__:null,init:()=>{const t=Je(!0),r=Do(),l=Do(),d=()=>{r.on(clearTimeout)},g=(y,k)=>{d(),r.set(setTimeout(y,k))},v=ht("not-implemented");return Tl({getTooltip:l.get,isShowing:l.isSet,setTooltip:l.set,clearTooltip:l.clear,clearTimer:d,resetTimer:g,readState:v,isEnabled:()=>t.get(),setEnabled:y=>t.set(y)})}});const wr=gi({fields:FH,name:"tooltipping",active:gE,state:HO,apis:$O});var lx=Object.freeze({__proto__:null,events:()=>Jr([xm(u8(),a)]),exhibit:()=>Nd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const kv=gi({fields:[],name:"unselecting",active:lx}),UO=t=>{const r=t.dom.attributes!==void 0?t.dom.attributes:[];return se(r,(l,d)=>d.name==="class"?l:{...l,[d.name]:d.value},{})},VO=t=>Array.prototype.slice.call(t.dom.classList,0),q1=t=>{const r=cn.fromHtml(t),l=Hc(r),d=UO(r),g=VO(r),v=l.length===0?{}:{innerHtml:Il(r)};return{tag:el(r),classes:g,attributes:d,...v}},mr=t=>{const r=b$(t)&&Zt(t,"uid")?t.uid:Rm("memento");return{get:v=>v.getSystem().getByUid(r).getOrDie(),getOpt:v=>v.getSystem().getByUid(r).toOptional(),asSpec:()=>({...t,uid:r})}},hi=n0,X1=L1,WO=(t,r)=>{const l=Je(!1),d=Je(!1);return{stop:()=>{l.set(!0)},cut:()=>{d.set(!0)},isStopped:l.get,isCut:d.get,event:t,setSource:r.set,getSource:r.get}},KO=t=>{const r=Je(!1);return{stop:()=>{r.set(!0)},cut:lt,isStopped:r.get,isCut:ge,event:t,setSource:b("Cannot set source of a broadcasted event"),getSource:b("Cannot get source of a broadcasted event")}},jO=t=>t.raw.which===ko[0]&&!Q(["input","textarea"],el(t.target))&&!_p(t.target,'[contenteditable="true"]'),ZO=(t,r)=>{const l={stopBackspace:!0,...r},d=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],g=lm(l),v=K(d.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Qe=>Qs(t,Qe,qe=>{g.fireIfReady(qe,Qe).each(Ot=>{Ot&&qe.kill()}),l.triggerEvent(Qe,qe)&&qe.kill()})),y=Do(),k=Qs(t,"paste",Qe=>{g.fireIfReady(Qe,"paste").each(vt=>{vt&&Qe.kill()}),l.triggerEvent("paste",Qe)&&Qe.kill(),y.set(setTimeout(()=>{l.triggerEvent(I5(),Qe)},0))}),$=Qs(t,"keydown",Qe=>{l.triggerEvent("keydown",Qe)?Qe.kill():l.stopBackspace&&jO(Qe)&&Qe.prevent()}),Y=Qs(t,"focusin",Qe=>{l.triggerEvent("focusin",Qe)&&Qe.kill()}),le=Do(),Ee=Qs(t,"focusout",Qe=>{l.triggerEvent("focusout",Qe)&&Qe.kill(),le.set(setTimeout(()=>{l.triggerEvent(Wh(),Qe)},0))});return{unbind:()=>{ee(v,Qe=>{Qe.unbind()}),$.unbind(),Y.unbind(),Ee.unbind(),k.unbind(),y.on(clearTimeout),le.on(clearTimeout)}}},GO=(t,r)=>{const l=Rt(t,"target").getOr(r);return Je(l)},M0=Jn.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),YO=(t,r,l,d,g,v)=>{const y=t(r,d),k=WO(l,g);return y.fold(()=>(v.logEventNoHandlers(r,d),M0.complete()),$=>{const Y=$.descHandler;return Qb(Y)(k),k.isStopped()?(v.logEventStopped(r,$.element,Y.purpose),M0.stopped()):k.isCut()?(v.logEventCut(r,$.element,Y.purpose),M0.complete()):Xl($.element).fold(()=>(v.logNoParent(r,$.element,Y.purpose),M0.complete()),Ee=>(v.logEventResponse(r,$.element,Y.purpose),M0.resume(Ee)))})},qO=(t,r,l,d,g,v)=>YO(t,r,l,d,g,v).fold(a,y=>qO(t,r,l,y,g,v),ge),$H=(t,r,l,d,g)=>{const v=GO(l,d);return YO(t,r,l,d,v,g)},HH=(t,r,l)=>{const d=KO(r);return ee(t,g=>{const v=g.descHandler;Qb(v)(d)}),d.isStopped()},XO=(t,r,l,d)=>QO(t,r,l,l.target,d),QO=(t,r,l,d,g)=>{const v=GO(l,d);return qO(t,r,l,d,v,g)},Ov=(t,r)=>({element:t,descHandler:r}),JO=(t,r)=>({id:t,descHandler:r}),zH=()=>{const t={},r=(y,k,$)=>{Me($,(Y,le)=>{const Ee=t[le]!==void 0?t[le]:{};Ee[k]=c_(Y,y),t[le]=Ee})},l=(y,k)=>$d(k).bind($=>Rt(y,$)).map($=>Ov(k,$));return{registerId:r,unregisterId:y=>{Me(t,(k,$)=>{Wt(k,y)&&delete k[y]})},filterByType:y=>Rt(t,y).map(k=>_t(k,($,Y)=>JO(Y,$))).getOr([]),find:(y,k,$)=>Rt(t,k).bind(Y=>Wg($,le=>l(Y,le),y))}},UH=()=>{const t=zH(),r={},l=Y=>{const le=Y.element;return $d(le).getOrThunk(()=>Yb("uid-",Y.element))},d=(Y,le)=>{const Ee=r[le];if(Ee===Y)v(Y);else throw new Error('The tagId "'+le+'" is already used by: '+$f(Ee.element)+`
Cannot use it for: `+$f(Y.element)+`
The conflicting element is`+(nl(Ee.element)?" ":" not ")+"already in the DOM")},g=Y=>{const le=l(Y);Zt(r,le)&&d(Y,le);const Ee=[Y];t.registerId(Ee,le,Y.events),r[le]=Y},v=Y=>{$d(Y.element).each(le=>{delete r[le],t.unregisterId(le)})};return{find:(Y,le,Ee)=>t.find(Y,le,Ee),filter:Y=>t.filterByType(Y),register:g,unregister:v,getById:Y=>Rt(r,Y)}},Lv=t=>{const r=Ct=>Xl(t.element).fold(a,$t=>Rs(Ct,$t)),l=UH(),d=(Ct,$t)=>l.find(r,Ct,$t),g=ZO(t.element,{triggerEvent:(Ct,$t)=>j2(Ct,$t.target,Ut=>XO(d,Ct,$t,Ut))}),v={debugInfo:ht("real"),triggerEvent:(Ct,$t,Ut)=>{j2(Ct,$t,an=>QO(d,Ct,Ut,$t,an))},triggerFocus:(Ct,$t)=>{$d(Ct).fold(()=>{hr(Ct)},Ut=>{j2(oc(),Ct,an=>($H(d,oc(),{originator:$t,kill:lt,prevent:lt,target:Ct},Ct,an),!1))})},triggerEscape:(Ct,$t)=>{v.triggerEvent("keydown",Ct.element,$t.event)},getByUid:Ct=>vt(Ct),getByDom:Ct=>Ot(Ct),build:C,buildOrPatch:m,addToGui:Ct=>{$(Ct)},removeFromGui:Ct=>{Y(Ct)},addToWorld:Ct=>{y(Ct)},removeFromWorld:Ct=>{k(Ct)},broadcast:Ct=>{Fe(Ct)},broadcastOn:(Ct,$t)=>{Qe(Ct,$t)},broadcastEvent:(Ct,$t)=>{qe(Ct,$t)},isConnected:a},y=Ct=>{Ct.connect(v),tu(Ct.element)||(l.register(Ct),ee(Ct.components(),y),v.triggerEvent(jh(),Ct.element,{target:Ct.element}))},k=Ct=>{tu(Ct.element)||(ee(Ct.components(),k),l.unregister(Ct)),Ct.disconnect()},$=Ct=>{Fd(t,Ct)},Y=Ct=>{nf(Ct)},le=()=>{g.unbind(),ec(t.element)},Ee=Ct=>{const $t=l.filter(Ff());ee($t,Ut=>{const an=Ut.descHandler;Qb(an)(Ct)})},Fe=Ct=>{Ee({universal:!0,data:Ct})},Qe=(Ct,$t)=>{Ee({universal:!1,channels:Ct,data:$t})},qe=(Ct,$t)=>{const Ut=l.filter(Ct);return HH(Ut,$t)},vt=Ct=>l.getById(Ct).fold(()=>zn.error(new Error('Could not find component with uid: "'+Ct+'" in system.')),zn.value),Ot=Ct=>{const $t=$d(Ct).getOr("not found");return vt($t)};return y(t),{root:t,element:t.element,destroy:le,add:$,remove:Y,getByUid:vt,getByDom:Ot,addToWorld:y,removeFromWorld:k,broadcast:Fe,broadcastOn:Qe,broadcastEvent:qe}},eL=()=>{const t=(r,l)=>{l.stop(),vm(r)};return[xn(bu(),t),xn(Np(),t),Up(Mf()),Up(rl())]},mE=t=>{const r=l=>Wf((d,g)=>{l(d),g.stop()});return Jr(V([t.map(r).toArray(),eL()]))},pl=od({name:"Button",factory:t=>{const r=mE(t.action),l=t.dom.tag,d=v=>Rt(t.dom,"attributes").bind(y=>Rt(y,v)),g=()=>{if(l==="button"){const v=d("type").getOr("button"),y=d("role").map(k=>({role:k})).getOr({});return{type:v,...y}}else return{role:t.role.getOr(d("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:nd.augment(t.buttonBehaviours,[Es.config({}),Ho.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:g()},eventOrder:t.eventOrder}},configFields:[tn("uid",void 0),Bn("dom"),tn("components",[]),nd.field("buttonBehaviours",[Es,Ho]),xr("action"),xr("role"),tn("eventOrder",{})]}),VH=ht([tn("shell",!1),Bn("makeItem"),tn("setupItem",lt),nd.field("listBehaviours",[ws])]),KH=kd({name:"items",overrides:()=>({behaviours:Yn([ws.config({})])})}),jH=ht([KH]),ZH=ht("CustomList"),tL=(t,r,l,d)=>{const g=(k,$)=>{y(k).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},Y=>{const le=ws.contents(Y),Ee=$.length,Fe=Ee-le.length,Qe=Fe>0?P(Fe,()=>t.makeItem()):[],qe=le.slice(Ee);ee(qe,Ot=>ws.remove(Y,Ot)),ee(Qe,Ot=>ws.append(Y,Ot));const vt=ws.contents(Y);ee(vt,(Ot,Ct)=>{t.setupItem(k,Ot,$[Ct],Ct)})})},v=t.shell?{behaviours:[ws.config({})],components:[]}:{behaviours:[],components:r},y=k=>t.shell?p.some(k):nr(k,t,"items");return{uid:t.uid,dom:t.dom,components:v.components,behaviours:Ti(t.listBehaviours,v.behaviours),apis:{setItems:g}}},nL=ic({name:ZH(),configFields:VH(),partFields:jH(),factory:tL,apis:{setItems:(t,r,l)=>{t.setItems(r,l)}}}),Dv="aria-controls",oL=t=>Ah(t,l=>{if(!hl(l))return!1;const d=Ua(l,"id");return d!==void 0&&d.indexOf(Dv)>-1}).bind(l=>{const d=Ua(l,"id"),g=Ra(l);return pr(g,`[${Dv}="${d}"]`)}),sL=()=>{const t=_e(Dv);return{id:t,link:d=>{os(d,Dv,t)},unlink:d=>{Kr(d,Dv)}}},rL=(t,r)=>oL(r).exists(l=>zm(t,l)),zm=(t,r)=>F2(r,l=>Rs(l,t.element),ge)||rL(t,r),cx="alloy.item-hover",aL="alloy.item-focus",hE="alloy.item-toggled",iL=t=>{(za(t.element).isNone()||Es.isFocused(t))&&(Es.isFocused(t)||Es.focus(t),Xo(t,cx,{item:t}))},K3=t=>{Xo(t,aL,{item:t})},GH=(t,r)=>{Xo(t,hE,{item:t,state:r})},lL=ht(cx),YH=ht(aL),bE=ht(hE),cL=t=>t.role.fold(()=>t.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),oo),qH=(t,r)=>({aria:{mode:r?"selected":"checked"},...tt(t,(l,d)=>d!=="exclusive"),onToggled:(l,d)=>{jt(t.onToggled)&&t.onToggled(l,d),GH(l,d)}}),vE=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:cL(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:nd.augment(t.itemBehaviours,[t.toggling.fold(qs.revoke,r=>qs.config(qH(r,t.role.exists(l=>l==="option")))),Es.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:r=>{K3(r)}}),Ho.config({mode:"execution"}),yo.config({store:{mode:"memory",initialValue:t.data}}),Cs("item-type-events",[...eL(),xn(Ad(),iL),xn(w1(),Es.focus)])]),components:t.components,eventOrder:t.eventOrder});var XH=[Bn("data"),Bn("components"),Bn("dom"),tn("hasSubmenu",!1),xr("toggling"),xr("role"),nd.field("itemBehaviours",[qs,Es,Ho,yo]),tn("ignoreFocus",!1),tn("domModification",{}),Rr("builder",vE),tn("eventOrder",{})];const dx=t=>({dom:t.dom,components:t.components,events:Jr([pC(w1())])});var dL=[Bn("dom"),Bn("components"),Rr("builder",dx)];const xE=ht("item-widget"),yE=ht([_i({name:"widget",overrides:t=>({behaviours:Yn([yo.config({store:{mode:"manual",getValue:r=>t.data,setValue:lt}})])})})]),JH=t=>{const r=D1(xE(),t,yE()),l=yu(xE(),t,r.internals()),d=v=>nr(v,t,"widget").map(y=>(Ho.focusIn(y),y)),g=(v,y)=>wm(y.event.target)?p.none():(t.autofocus&&y.setSource(v.element),p.none());return{dom:t.dom,components:l,domModification:t.domModification,events:Jr([Wf((v,y)=>{d(v).each(k=>{y.stop()})}),xn(Ad(),iL),xn(w1(),(v,y)=>{t.autofocus?d(v):Es.focus(v)})]),behaviours:nd.augment(t.widgetBehaviours,[yo.config({store:{mode:"memory",initialValue:t.data}}),Es.config({ignore:t.ignoreFocus,onFocus:v=>{K3(v)}}),Ho.config({mode:"special",focusIn:t.autofocus?v=>{d(v)}:hb(),onLeft:g,onRight:g,onEscape:(v,y)=>!Es.isFocused(v)&&!t.autofocus?(Es.focus(v),p.some(!0)):(t.autofocus&&y.setSource(v.element),p.none())})])}};var ez=[Bn("uid"),Bn("data"),Bn("components"),Bn("dom"),tn("autofocus",!1),tn("ignoreFocus",!1),nd.field("widgetBehaviours",[yo,Es,Ho]),tn("domModification",{}),Qu(yE()),Rr("builder",JH)];const tz=El("type",{widget:ez,item:XH,separator:dL}),nz=(t,r)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}),oz=(t,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},previousSelector:r.previousSelector,focusManager:t.focusManager}),sz=(t,r)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}),rz=ht([t3({factory:{sketch:t=>{const r=sl("menu.spec item",tz,t);return r.builder(r)}},name:"items",unit:"item",defaults:(t,r)=>Wt(r,"uid")?r:{...r,uid:Rm("item")},overrides:(t,r)=>({type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),CE=ht([xa("role"),Bn("value"),Bn("items"),Bn("dom"),Bn("components"),tn("eventOrder",{}),Fi("menuBehaviours",[gr,yo,yn,Ho]),Sl("movement",{mode:"menu",moveOnTab:!0},El("mode",{grid:[H5(),Rr("config",nz)],matrix:[Rr("config",oz),Bn("rowSelector"),tn("previousSelector",p.none)],menu:[tn("moveOnTab",!0),Rr("config",sz)]})),v8(),tn("fakeFocus",!1),tn("focusManager",_b()),Us("onHighlight"),Us("onDehighlight"),tn("showMenuRole",!0)]),_E=ht("alloy.menu-focus"),az=(t,r)=>{const l=Ia(t.element,'[role="menuitemradio"][aria-checked="true"]');ee(l,d=>{Rs(d,r.element)||t.getSystem().getByDom(d).each(g=>{qs.off(g)})})},iz=(t,r,l,d)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ti(t.menuBehaviours,[gr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),yo.config({store:{mode:"memory",initialValue:t.value}}),yn.config({find:p.some}),Ho.config(t.movement.config(t,t.movement))]),events:Jr([xn(YH(),(g,v)=>{const y=v.event;g.getSystem().getByDom(y.target).each(k=>{gr.highlight(g,k),v.stop(),Xo(g,_E(),{menu:g,item:k})})}),xn(lL(),(g,v)=>{const y=v.event.item;gr.highlight(g,y)}),xn(bE(),(g,v)=>{const{item:y,state:k}=v.event;k&&Ua(y.element,"role")==="menuitemradio"&&az(g,y)})]),components:r,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),Q1=ic({name:"Menu",configFields:CE(),partFields:rz(),factory:iz}),lz=t=>Ve(t,(r,l)=>({k:r,v:l})),uL=(t,r,l,d)=>Rt(l,d).bind(g=>Rt(t,g).bind(v=>{const y=uL(t,r,l,v);return p.some([v].concat(y))})).getOr([]),fL=(t,r)=>{const l={};Me(t,(y,k)=>{ee(y,$=>{l[$]=k})});const d=r,g=lz(r),v=et(g,(y,k)=>[k].concat(uL(l,d,g,k)));return et(l,y=>Rt(v,y).getOr([y]))},pL=()=>{const t=Je({}),r=Je({}),l=Je({}),d=Do(),g=Je({}),v=()=>{t.set({}),r.set({}),l.set({}),d.clear()},y=()=>d.get().isNone(),k=(un,uo)=>{r.set({...r.get(),[un]:{type:"prepared",menu:uo}})},$=(un,uo,Fn,$n)=>{d.set(un),t.set(Fn),r.set(uo),g.set($n);const Nn=fL($n,Fn);l.set(Nn)},Y=un=>mt(t.get(),(uo,Fn)=>uo===un),le=(un,uo,Fn)=>vt(un).bind($n=>Y(un).bind(Nn=>uo(Nn).map(jo=>({triggeredMenu:$n,triggeringItem:jo,triggeringPath:Fn})))),Ee=(un,uo)=>{const Fn=be(Ct(un).toArray(),$n=>vt($n).isSome());return Rt(l.get(),un).bind($n=>{const Nn=ne(Fn.concat($n)),jo=I(Nn,(Po,Zs)=>le(Po,uo,Nn.slice(0,Zs+1)).fold(()=>kt(d.get(),Po)?[]:[p.none()],ss=>[p.some(ss)]));return qt(jo)})},Fe=un=>Rt(t.get(),un).map(uo=>{const Fn=Rt(l.get(),un).getOr([]);return[uo].concat(Fn)}),Qe=un=>Rt(l.get(),un).bind(uo=>uo.length>1?p.some(uo.slice(1)):p.none()),qe=un=>Rt(l.get(),un),vt=un=>Ot(un).bind(EE),Ot=un=>Rt(r.get(),un),Ct=un=>Rt(t.get(),un);return{setMenuBuilt:k,setContents:$,expand:Fe,refresh:qe,collapse:Qe,lookupMenu:Ot,lookupItem:Ct,otherMenus:un=>{const uo=g.get();return G(nt(uo),un)},getPrimary:()=>d.get().bind(vt),getMenus:()=>r.get(),clear:v,isClear:y,getTriggeringPath:Ee}},EE=t=>t.type==="prepared"?p.some(t.menu):p.none(),gL={init:pL,extractPreparedMenu:EE},mL=_e("tiered-menu-item-highlight"),hL=_e("tiered-menu-item-dehighlight"),bL=(t,r)=>{const l=Do(),d=(Ln,no,is)=>et(is,(Os,$o)=>{const _s=()=>Q1.sketch({...Os,value:$o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Cr,lr)=>{Xo(Cr,mL,{menuComp:Cr,itemComp:lr})},onDehighlight:(Cr,lr)=>{Xo(Cr,hL,{menuComp:Cr,itemComp:lr})},focusManager:t.fakeFocus?h0():_b()});return $o===no?{type:"prepared",menu:Ln.getSystem().build(_s())}:{type:"notbuilt",nbMenu:_s}}),g=gL.init(),v=Ln=>{const no=d(Ln,t.data.primary,t.data.menus),is=$();return g.setContents(t.data.primary,no,t.data.expansions,is),g.getPrimary()},y=Ln=>yo.getValue(Ln).value,k=(Ln,no,is)=>ut(no,Os=>{if(!Os.getSystem().isConnected())return p.none();const $o=gr.getCandidates(Os);return D($o,_s=>y(_s)===is)}),$=Ln=>et(t.data.menus,(no,is)=>I(no.items,Os=>Os.type==="separator"?[]:[Os.data.value])),Y=gr.highlight,le=(Ln,no)=>{Y(Ln,no),gr.getHighlighted(no).orThunk(()=>gr.getFirst(no)).each(is=>{t.fakeFocus?gr.highlight(no,is):db(Ln,is.element,w1())})},Ee=(Ln,no)=>Mt(K(no,is=>Ln.lookupMenu(is).bind(Os=>Os.type==="prepared"?p.some(Os.menu):p.none()))),Fe=(Ln,no,is)=>{const Os=Ee(no,no.otherMenus(is));ee(Os,$o=>{Cl($o.element,[t.markers.backgroundMenu]),t.stayInDom||ws.remove(Ln,$o)})},Qe=Ln=>l.get().getOrThunk(()=>{const no={},is=Ia(Ln.element,`.${t.markers.item}`),Os=be(is,$o=>Ua($o,"aria-haspopup")==="true");return ee(Os,$o=>{Ln.getSystem().getByDom($o).each(_s=>{const Cr=y(_s);no[Cr]=_s})}),l.set(no),no}),qe=(Ln,no)=>{const is=Qe(Ln);Me(is,(Os,$o)=>{const _s=Q(no,$o);os(Os.element,"aria-expanded",_s)})},vt=(Ln,no,is)=>p.from(is[0]).bind(Os=>no.lookupMenu(Os).bind($o=>{if($o.type==="notbuilt")return p.none();{const _s=$o.menu,Cr=Ee(no,is.slice(1));return ee(Cr,lr=>{na(lr.element,t.markers.backgroundMenu)}),nl(_s.element)||ws.append(Ln,T(_s)),Cl(_s.element,[t.markers.backgroundMenu]),le(Ln,_s),Fe(Ln,no,is),p.some(_s)}}));let Ot;(function(Ln){Ln[Ln.HighlightSubmenu=0]="HighlightSubmenu",Ln[Ln.HighlightParent=1]="HighlightParent"})(Ot||(Ot={}));const Ct=(Ln,no,is)=>{if(is.type==="notbuilt"){const Os=Ln.getSystem().build(is.nbMenu());return g.setMenuBuilt(no,Os),Os}else return is.menu},$t=(Ln,no,is=Ot.HighlightSubmenu)=>{if(no.hasConfigured(zo)&&zo.isDisabled(no))return p.some(no);{const Os=y(no);return g.expand(Os).bind($o=>(qe(Ln,$o),p.from($o[0]).bind(_s=>g.lookupMenu(_s).bind(Cr=>{const lr=Ct(Ln,_s,Cr);return nl(lr.element)||ws.append(Ln,T(lr)),t.onOpenSubmenu(Ln,no,lr,ne($o)),is===Ot.HighlightSubmenu?(gr.highlightFirst(lr),vt(Ln,g,$o)):(gr.dehighlightAll(lr),p.some(no))}))))}},Ut=(Ln,no)=>{const is=y(no);return g.collapse(is).bind(Os=>(qe(Ln,Os),vt(Ln,g,Os).map($o=>(t.onCollapseMenu(Ln,no,$o),$o))))},an=(Ln,no)=>{const is=y(no);return g.refresh(is).bind(Os=>(qe(Ln,Os),vt(Ln,g,Os)))},un=(Ln,no)=>wm(no.element)?p.none():$t(Ln,no,Ot.HighlightSubmenu),uo=(Ln,no)=>wm(no.element)?p.none():Ut(Ln,no),Fn=(Ln,no)=>Ut(Ln,no).orThunk(()=>t.onEscape(Ln,no).map(()=>Ln)),$n=Ln=>(no,is)=>nc(is.getSource(),`.${t.markers.item}`).bind(Os=>no.getSystem().getByDom(Os).toOptional().bind($o=>Ln(no,$o).map(a))),Nn=Jr([xn(_E(),(Ln,no)=>{const is=no.event.item;g.lookupItem(y(is)).each(()=>{const Os=no.event.menu;gr.highlight(Ln,Os);const $o=y(no.event.item);g.refresh($o).each(_s=>Fe(Ln,g,_s))})}),Wf((Ln,no)=>{const is=no.event.target;Ln.getSystem().getByDom(is).each(Os=>{y(Os).indexOf("collapse-item")===0&&Ut(Ln,Os),$t(Ln,Os,Ot.HighlightSubmenu).fold(()=>{t.onExecute(Ln,Os)},lt)})}),Wr((Ln,no)=>{v(Ln).each(is=>{ws.append(Ln,T(is)),t.onOpenMenu(Ln,is),t.highlightOnOpen===il.HighlightMenuAndItem?le(Ln,is):t.highlightOnOpen===il.HighlightJustMenu&&Y(Ln,is)})}),xn(mL,(Ln,no)=>{t.onHighlightItem(Ln,no.event.menuComp,no.event.itemComp)}),xn(hL,(Ln,no)=>{t.onDehighlightItem(Ln,no.event.menuComp,no.event.itemComp)}),...t.navigateOnHover?[xn(lL(),(Ln,no)=>{const is=no.event.item;an(Ln,is),$t(Ln,is,Ot.HighlightParent),t.onHover(Ln,is)})]:[]]),jo=Ln=>gr.getHighlighted(Ln).bind(gr.getHighlighted),Po=Ln=>{jo(Ln).each(no=>{Ut(Ln,no)})},Zs=Ln=>{g.getPrimary().each(no=>{le(Ln,no)})},ss=Ln=>p.from(Ln.components()[0]).filter(no=>Ua(no.element,"role")==="menu"),Io={collapseMenu:Po,highlightPrimary:Zs,repositionMenus:Ln=>{g.getPrimary().bind(is=>jo(Ln).bind(Os=>{const $o=y(Os),_s=Lt(g.getMenus()),Cr=Mt(K(_s,gL.extractPreparedMenu));return g.getTriggeringPath($o,lr=>k(Ln,Cr,lr))}).map(Os=>({primary:is,triggeringPath:Os}))).fold(()=>{ss(Ln).each(is=>{t.onRepositionMenu(Ln,is,[])})},({primary:is,triggeringPath:Os})=>{t.onRepositionMenu(Ln,is,Os)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ti(t.tmenuBehaviours,[Ho.config({mode:"special",onRight:$n(un),onLeft:$n(uo),onEscape:$n(Fn),focusIn:(Ln,no)=>{g.getPrimary().each(is=>{db(Ln,is.element,w1())})}}),gr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),yn.config({find:Ln=>gr.getHighlighted(Ln)}),ws.config({})]),eventOrder:t.eventOrder,apis:Io,events:Nn}},wE=ht("collapse-item"),cz=(t,r,l)=>({primary:t,menus:r,expansions:l}),dz=(t,r)=>({primary:t,menus:tm(t,r),expansions:{}}),uz=t=>({value:_e(wE()),meta:{text:t}}),I0=od({name:"TieredMenu",configFields:[Z2("onExecute"),Z2("onEscape"),Qh("onOpenMenu"),Qh("onOpenSubmenu"),Us("onRepositionMenu"),Us("onCollapseMenu"),tn("highlightOnOpen",il.HighlightMenuAndItem),Nf("data",[Bn("primary"),Bn("menus"),Bn("expansions")]),tn("fakeFocus",!1),Us("onHighlightItem"),Us("onDehighlightItem"),Us("onHover"),x8(),Bn("dom"),tn("navigateOnHover",!0),tn("stayInDom",!1),Fi("tmenuBehaviours",[Ho,gr,yn,ws]),tn("eventOrder",{})],apis:{collapseMenu:(t,r)=>{t.collapseMenu(r)},highlightPrimary:(t,r)=>{t.highlightPrimary(r)},repositionMenus:(t,r)=>{t.repositionMenus(r)}},factory:bL,extraApis:{tieredData:cz,singleData:dz,collapseItem:uz}}),vL=ht("sink"),fz=ht(kd({name:vL(),overrides:ht({dom:{tag:"div"},behaviours:Yn([Ai.config({useFixed:a})]),events:Jr([Up(di()),Up(rl()),Up(bu())])})})),xL=yc([tn("isExtraPart",ge),wl("fireEventInstead",[tn("event",Rp())])]),ux=t=>{const r=sl("Dismissal",xL,t);return{[Kf()]:{schema:yc([Bn("target")]),onReceive:(l,d)=>{sr.isOpen(l)&&(sr.isPartOf(l,d.target)||r.isExtraPart(l,d.target)||r.fireEventInstead.fold(()=>sr.close(l),v=>Hs(l,v.event)))}}}},pz=yc([wl("fireEventInstead",[tn("event",F5())]),Cc("doReposition")]),SE=t=>{const r=sl("Reposition",pz,t);return{[Mr()]:{onReceive:l=>{sr.isOpen(l)&&r.fireEventInstead.fold(()=>r.doReposition(l),d=>Hs(l,d.event))}}}},yL=(t,r)=>{const l=t.getHotspot(r).getOr(r),d="hotspot",g=t.getAnchorOverrides();return t.layouts.fold(()=>({type:d,hotspot:l,overrides:g}),v=>({type:d,hotspot:l,overrides:g,layouts:v}))},rd=(t,r,l)=>{const d=t.fetch;return d(l).map(r)},rf=(t,r,l,d,g,v,y)=>{const k=rd(t,r,d),$=CL(d,t);return k.map(Y=>Y.bind(le=>{const Ee=le.menus[le.primary];return p.from(Ee).each(Fe=>{t.listRole.each(Qe=>{Fe.role=Qe})}),p.from(I0.sketch({...v.menu(),uid:Rm(""),data:le,highlightOnOpen:y,onOpenMenu:(Fe,Qe)=>{const qe=$().getOrDie();Ai.position(qe,Qe,{anchor:l}),sr.decloak(g)},onOpenSubmenu:(Fe,Qe,qe)=>{const vt=$().getOrDie();Ai.position(vt,qe,{anchor:{type:"submenu",item:Qe}}),sr.decloak(g)},onRepositionMenu:(Fe,Qe,qe)=>{const vt=$().getOrDie();Ai.position(vt,Qe,{anchor:l}),ee(qe,Ot=>{Ai.position(vt,Ot.triggeredMenu,{anchor:{type:"submenu",item:Ot.triggeringItem}})})},onEscape:()=>(Es.focus(d),sr.close(g),p.some(!0))}))}))},Nv=(t,r,l,d,g,v,y)=>{const k=yL(t,l);return rf(t,r,k,l,d,g,y).map(Y=>(Y.fold(()=>{sr.isOpen(d)&&sr.close(d)},le=>{sr.cloak(d),sr.open(d,le),v(d)}),d))},TE=(t,r,l,d,g,v,y)=>(sr.close(d),Hn.pure(d)),fx=(t,r,l,d,g,v)=>{const y=Ns.getCoupled(l,"sandbox");return(sr.isOpen(y)?TE:Nv)(t,r,l,y,d,g,v)},px=(t,r,l)=>{const d=yn.getCurrent(r).getOr(r),g=ei(t.element);l?Mo(d.element,"min-width",g+"px"):Th(d.element,g)},CL=(t,r)=>t.getSystem().getByUid(r.uid+"-"+vL()).map(l=>()=>zn.value(l)).getOrThunk(()=>r.lazySink.fold(()=>()=>zn.error(new Error("No internal sink is specified, nor could an external sink be found")),l=>()=>l(t))),AE=t=>{sr.getState(t).each(r=>{I0.repositionMenus(r)})},j3=(t,r,l)=>{const d=sL(),g=(k,$)=>{const Y=yL(t,r);d.link(r.element),t.matchWidth&&px(Y.hotspot,$,t.useMinWidth),t.onOpen(Y,k,$),l!==void 0&&l.onOpen!==void 0&&l.onOpen(k,$)},v=(k,$)=>{d.unlink(r.element),y().getOr($).element.dom.dispatchEvent(new window.FocusEvent("focusout")),l!==void 0&&l.onClose!==void 0&&l.onClose(k,$)},y=CL(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:d.id}},behaviours:nd.augment(t.sandboxBehaviours,[yo.config({store:{mode:"memory",initialValue:r}}),sr.config({onOpen:g,onClose:v,isPartOf:(k,$,Y)=>zm($,Y)||zm(r,Y),getAttachPoint:()=>y().getOrDie()}),yn.config({find:k=>sr.getState(k).bind($=>yn.getCurrent($))}),sd.config({channels:{...ux({isExtraPart:ge}),...SE({doReposition:AE})}})])}},gz=t=>{const r=Ns.getCoupled(t,"sandbox");AE(r)},Rv=()=>[tn("sandboxClasses",[]),nd.field("sandboxBehaviours",[yn,sd,sr,yo])],kE=ht([Bn("dom"),Bn("fetch"),Us("onOpen"),sc("onExecute"),tn("getHotspot",p.some),tn("getAnchorOverrides",ht({})),L0(),Fi("dropdownBehaviours",[qs,Ns,Ho,Es]),Bn("toggleClass"),tn("eventOrder",{}),xr("lazySink"),tn("matchWidth",!1),tn("useMinWidth",!1),xr("role"),xr("listRole")].concat(Rv())),_L=ht([Tc({schema:[x8(),tn("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),fz()]),Mv=(t,r,l,d)=>{const g=le=>Rt(t.dom,"attributes").bind(Ee=>Rt(Ee,le)),v=le=>{sr.getState(le).each(Ee=>{I0.highlightPrimary(Ee)})},y=(le,Ee,Fe)=>fx(t,oo,le,d,Ee,Fe),k=le=>{y(le,v,il.HighlightMenuAndItem).get(lt)},$={expand:le=>{qs.isOn(le)||y(le,lt,il.HighlightNone).get(lt)},open:le=>{qs.isOn(le)||y(le,lt,il.HighlightMenuAndItem).get(lt)},refetch:le=>Ns.getExistingCoupled(le,"sandbox").fold(()=>y(le,lt,il.HighlightMenuAndItem).map(lt),Fe=>Nv(t,oo,le,Fe,d,lt,il.HighlightMenuAndItem).map(lt)),isOpen:qs.isOn,close:le=>{qs.isOn(le)&&y(le,lt,il.HighlightMenuAndItem).get(lt)},repositionMenus:le=>{qs.isOn(le)&&gz(le)}},Y=(le,Ee)=>(vm(le),p.some(!0));return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.dropdownBehaviours,[qs.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ns.config({others:{sandbox:le=>j3(t,le,{onOpen:()=>qs.on(le),onClose:()=>qs.off(le)})}}),Ho.config({mode:"special",onSpace:Y,onEnter:Y,onDown:(le,Ee)=>{if(ad.isOpen(le)){const Fe=Ns.getCoupled(le,"sandbox");v(Fe)}else ad.open(le);return p.some(!0)},onEscape:(le,Ee)=>ad.isOpen(le)?(ad.close(le),p.some(!0)):p.none()}),Es.config({})]),events:mE(p.some(k)),eventOrder:{...t.eventOrder,[Yc()]:["disabling","toggling","alloy.base.behaviour"]},apis:$,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),le=>({role:le})),...t.dom.tag==="button"?{type:g("type").getOr("button")}:{}}}}},ad=ic({name:"Dropdown",configFields:kE(),partFields:_L(),factory:Mv,apis:{open:(t,r)=>t.open(r),refetch:(t,r)=>t.refetch(r),expand:(t,r)=>t.expand(r),close:(t,r)=>t.close(r),isOpen:(t,r)=>t.isOpen(r),repositionMenus:(t,r)=>t.repositionMenus(r)}}),EL="form",Jf=[Fi("formBehaviours",[yo])],Rc=t=>"<alloy.field."+t+">",Iv=t=>{const r=(()=>{const v=[];return{field:(k,$)=>(v.push(k),W5(EL,Rc(k),$)),record:ht(v)}})(),l=t(r),d=r.record(),g=K(d,v=>_i({name:v,pname:Rc(v)}));return O_(EL,Jf,g,mz,l)},id=(t,r)=>t.fold(()=>zn.error(r),zn.value),mz=(t,r)=>({uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.formBehaviours,[yo.config({store:{mode:"manual",getValue:l=>{const d=fm(l,t);return et(d,(g,v)=>g().bind(y=>{const k=yn.getCurrent(y);return id(k,new Error(`Cannot find a current component to extract the value from for form part '${v}': `+$f(y.element)))}).map(yo.getValue))},setValue:(l,d)=>{Me(d,(g,v)=>{nr(l,t,v).each(y=>{yn.getCurrent(y).each(k=>{yo.setValue(k,g)})})})}}})]),apis:{getField:(l,d)=>nr(l,t,d).bind(yn.getCurrent)}}),Sr={getField:H1((t,r,l)=>t.getField(r,l)),sketch:Iv},Z3=ht([Bn("dom"),tn("shell",!0),Fi("toolbarBehaviours",[ws])]),Bv=ht([kd({name:"groups",overrides:()=>({behaviours:Yn([ws.config({})])})})]),wL=(t,r,l,d)=>{const g=(k,$)=>{v(k).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},Y=>{ws.set(Y,$)})},v=k=>t.shell?p.some(k):nr(k,t,"groups"),y=t.shell?{behaviours:[ws.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:y.components,behaviours:Ti(t.toolbarBehaviours,y.behaviours),apis:{setGroups:g,refresh:lt},domModification:{attributes:{role:"group"}}}},Lu=ic({name:"Toolbar",configFields:Z3(),partFields:Bv(),factory:wL,apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)}}}),OE=ht([Wl(["toggledClass"]),Bn("lazySink"),Cc("fetch"),hu("getBounds"),wl("fireDismissalEventInstead",[tn("event",Rp())]),L0(),Us("onToggled")]),hz=ht([Tc({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Yn([qs.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Tc({factory:Lu,schema:Z3(),name:"toolbar",overrides:t=>({toolbarBehaviours:Yn([Ho.config({mode:"cyclic",onEscape:r=>(nr(r,t,"button").each(Es.focus),p.none())})])})})]),G3=Do(),bz=(t,r)=>{G3.set(!0),gx(t,r),G3.clear()},gx=(t,r)=>{const l=Ns.getCoupled(t,"toolbarSandbox");sr.isOpen(l)?sr.close(l):sr.open(l,r.toolbar())},mx=(t,r,l,d)=>{const g=l.getBounds.map(y=>y()),v=l.lazySink(t).getOrDie();Ai.positionWithinBounds(v,r,{anchor:{type:"hotspot",hotspot:t,layouts:d,overrides:{maxWidthFunction:u3()}}},g)},hx=(t,r,l,d,g)=>{Lu.setGroups(r,g),mx(t,r,l,d),qs.on(t)},SL=(t,r,l)=>{const d=sL(),g=(y,k)=>{const $=G3.get().getOr(!1);l.fetch().get(Y=>{hx(t,k,l,r.layouts,Y),d.link(t.element),$||Ho.focusIn(k)})},v=()=>{qs.off(t),G3.get().getOr(!1)||Es.focus(t),d.unlink(t.element)};return{dom:{tag:"div",attributes:{id:d.id}},behaviours:Yn([Ho.config({mode:"special",onEscape:y=>(sr.close(y),p.some(!0))}),sr.config({onOpen:g,onClose:v,isPartOf:(y,k,$)=>zm(k,$)||zm(t,$),getAttachPoint:()=>l.lazySink(t).getOrDie()}),sd.config({channels:{...ux({isExtraPart:ge,...l.fireDismissalEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({})}),...SE({doReposition:()=>{sr.getState(Ns.getCoupled(t,"toolbarSandbox")).each(y=>{mx(t,y,l,r.layouts)})}})}})])}},Vm=ic({name:"FloatingToolbarButton",factory:(t,r,l,d)=>({...pl.sketch({...d.button(),action:g=>{gx(g,d)},buttonBehaviours:nd.augment({dump:d.button().buttonBehaviours},[Ns.config({others:{toolbarSandbox:g=>SL(g,l,t)}})])}),apis:{setGroups:(g,v)=>{sr.getState(Ns.getCoupled(g,"toolbarSandbox")).each(y=>{hx(g,y,t,l.layouts,v)})},reposition:g=>{sr.getState(Ns.getCoupled(g,"toolbarSandbox")).each(v=>{mx(g,v,t,l.layouts)})},toggle:g=>{gx(g,d)},toggleWithoutFocusing:g=>{bz(g,d)},getToolbar:g=>sr.getState(Ns.getCoupled(g,"toolbarSandbox")),isOpen:g=>sr.isOpen(Ns.getCoupled(g,"toolbarSandbox"))}}),configFields:OE(),partFields:hz(),apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)},reposition:(t,r)=>{t.reposition(r)},toggle:(t,r)=>{t.toggle(r)},toggleWithoutFocusing:(t,r)=>{t.toggleWithoutFocusing(r)},getToolbar:(t,r)=>t.getToolbar(r),isOpen:(t,r)=>t.isOpen(r)}}),vz=ht([tn("prefix","form-field"),Fi("fieldBehaviours",[yn,yo])]),xz=ht([kd({schema:[Bn("dom")],name:"label"}),kd({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Bn("text")],name:"aria-descriptor"}),_i({factory:{sketch:t=>{const r=D5(t,["factory"]);return t.factory.sketch(r)}},schema:[Bn("factory")],name:"field"})]),yz=(t,r,l,d)=>{const g=Ti(t.fieldBehaviours,[yn.config({find:k=>nr(k,t,"field")}),yo.config({store:{mode:"manual",getValue:k=>yn.getCurrent(k).bind(yo.getValue),setValue:(k,$)=>{yn.getCurrent(k).each(Y=>{yo.setValue(Y,$)})}}})]),v=Jr([Wr((k,$)=>{const Y=n3(k,t,["label","field","aria-descriptor"]);Y.field().each(le=>{const Ee=_e(t.prefix);Y.label().each(Fe=>{os(Fe.element,"for",Ee),os(le.element,"id",Ee)}),Y["aria-descriptor"]().each(Fe=>{const Qe=_e(t.prefix);os(Fe.element,"id",Qe),os(le.element,"aria-describedby",Qe)})})})]),y={getField:k=>nr(k,t,"field"),getLabel:k=>nr(k,t,"label")};return{uid:t.uid,dom:t.dom,components:r,behaviours:g,events:v,apis:y}},js=ic({name:"FormField",configFields:vz(),partFields:xz(),factory:yz,apis:{getField:(t,r)=>t.getField(r),getLabel:(t,r)=>t.getLabel(r)}}),TL=ht([tn("field1Name","field1"),tn("field2Name","field2"),Qh("onLockedChange"),Wl(["lockClass"]),tn("locked",!1),nd.field("coupledFieldBehaviours",[yn,yo]),$r("onInput",lt)]),Cz=(t,r,l)=>nr(t,r,l).bind(yn.getCurrent),AL=(t,r)=>_i({factory:js,name:t,overrides:l=>({fieldBehaviours:Yn([Cs("coupled-input-behaviour",[xn(Bf(),d=>{Cz(d,l,r).each(g=>{nr(d,l,"lock").each(v=>{qs.isOn(v)&&l.onLockedChange(d,g,v),l.onInput(d)})})})])])})}),kL=ht([AL("field1","field2"),AL("field2","field1"),_i({factory:pl,schema:[Bn("dom")],name:"lock",overrides:t=>({buttonBehaviours:Yn([qs.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),_z=(t,r,l,d)=>({uid:t.uid,dom:t.dom,components:r,behaviours:nd.augment(t.coupledFieldBehaviours,[yn.config({find:p.some}),yo.config({store:{mode:"manual",getValue:g=>{const v=K5(g,t,["field1","field2"]);return{[t.field1Name]:yo.getValue(v.field1()),[t.field2Name]:yo.getValue(v.field2())}},setValue:(g,v)=>{const y=K5(g,t,["field1","field2"]);Zt(v,t.field1Name)&&yo.setValue(y.field1(),v[t.field1Name]),Zt(v,t.field2Name)&&yo.setValue(y.field2(),v[t.field2Name])}}})]),apis:{getField1:g=>nr(g,t,"field1"),getField2:g=>nr(g,t,"field2"),getLock:g=>nr(g,t,"lock")}}),Ca=ic({name:"FormCoupledInputs",configFields:TL(),partFields:kL(),factory:_z,apis:{getField1:(t,r)=>t.getField1(r),getField2:(t,r)=>t.getField2(r),getLock:(t,r)=>t.getLock(r)}}),Fv=(t,r)=>{const l=K(t.options,g=>({dom:{tag:"option",value:g.value,innerHtml:g.text}})),d=t.data.map(g=>tm("initialValue",g)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:l,behaviours:Ti(t.selectBehaviours,[Es.config({}),yo.config({store:{mode:"manual",getValue:g=>jc(g.element),setValue:(g,v)=>{const y=we(t.options);D(t.options,$=>$.value===v).isSome()?Hl(g.element,v):g.element.dom.selectedIndex===-1&&v===""&&y.each($=>Hl(g.element,$.value))},...d}})])}},Ez=od({name:"HtmlSelect",configFields:[Bn("options"),Fi("selectBehaviours",[Es,yo]),tn("selectClasses",[]),tn("selectAttributes",{}),xr("data")],factory:Fv}),wz=(t,r,l,d,g)=>{const v=()=>t.lazySink(r),y=d.type==="horizontal"?{layouts:{onLtr:()=>sb(),onRtl:()=>Pp()}}:{},k=Y=>Y.length===2,$=Y=>k(Y)?y:{};return I0.sketch({dom:{tag:"div"},data:d.data,markers:d.menu.markers,highlightOnOpen:d.menu.highlightOnOpen,fakeFocus:d.menu.fakeFocus,onEscape:()=>(sr.close(r),t.onEscape.map(Y=>Y(r)),p.some(!0)),onExecute:()=>p.some(!0),onOpenMenu:(Y,le)=>{Ai.positionWithinBounds(v().getOrDie(),le,l,g())},onOpenSubmenu:(Y,le,Ee,Fe)=>{const Qe=v().getOrDie();Ai.position(Qe,Ee,{anchor:{type:"submenu",item:le,...$(Fe)}})},onRepositionMenu:(Y,le,Ee)=>{const Fe=v().getOrDie();Ai.positionWithinBounds(Fe,le,l,g()),ee(Ee,Qe=>{const qe=$(Qe.triggeringPath);Ai.position(Fe,Qe.triggeredMenu,{anchor:{type:"submenu",item:Qe.triggeringItem,...qe}})})}})},OL=(t,r)=>{const l=(Fe,Qe)=>t.getRelated(Fe).exists(vt=>zm(vt,Qe)),d=(Fe,Qe)=>{sr.setContent(Fe,Qe)},g=(Fe,Qe,qe)=>{const vt=p.none;v(Fe,Qe,qe,vt)},v=(Fe,Qe,qe,vt)=>{const Ot=t.lazySink(Fe).getOrDie();sr.openWhileCloaked(Fe,Qe,()=>Ai.positionWithinBounds(Ot,Fe,qe,vt())),yo.setValue(Fe,p.some({mode:"position",config:qe,getBounds:vt}))},y=(Fe,Qe,qe)=>{k(Fe,Qe,qe,p.none)},k=(Fe,Qe,qe,vt)=>{const Ot=wz(t,Fe,Qe,qe,vt);sr.open(Fe,Ot),yo.setValue(Fe,p.some({mode:"menu",menu:Ot}))},$=Fe=>{sr.isOpen(Fe)&&(yo.setValue(Fe,p.none()),sr.close(Fe))},Y=Fe=>sr.getState(Fe),le=Fe=>{sr.isOpen(Fe)&&yo.getValue(Fe).each(Qe=>{switch(Qe.mode){case"menu":sr.getState(Fe).each(I0.repositionMenus);break;case"position":const qe=t.lazySink(Fe).getOrDie();Ai.positionWithinBounds(qe,Fe,Qe.config,Qe.getBounds());break}})},Ee={setContent:d,showAt:g,showWithinBounds:v,showMenuAt:y,showMenuWithinBounds:k,hide:$,getContent:Y,reposition:le,isOpen:sr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Ti(t.inlineBehaviours,[sr.config({isPartOf:(Fe,Qe,qe)=>zm(Qe,qe)||l(Fe,qe),getAttachPoint:Fe=>t.lazySink(Fe).getOrDie(),onOpen:Fe=>{t.onShow(Fe)},onClose:Fe=>{t.onHide(Fe)}}),yo.config({store:{mode:"memory",initialValue:p.none()}}),sd.config({channels:{...ux({isExtraPart:r.isExtraPart,...t.fireDismissalEventInstead.map(Fe=>({fireEventInstead:{event:Fe.event}})).getOr({})}),...SE({...t.fireRepositionEventInstead.map(Fe=>({fireEventInstead:{event:Fe.event}})).getOr({}),doReposition:le})}})]),eventOrder:t.eventOrder,apis:Ee}},oa=od({name:"InlineView",configFields:[Bn("lazySink"),Us("onShow"),Us("onHide"),hu("onEscape"),Fi("inlineBehaviours",[sr,yo,sd]),wl("fireDismissalEventInstead",[tn("event",Rp())]),wl("fireRepositionEventInstead",[tn("event",F5())]),tn("getRelated",p.none),tn("isExtraPart",ge),tn("eventOrder",p.none)],factory:OL,apis:{showAt:(t,r,l,d)=>{t.showAt(r,l,d)},showWithinBounds:(t,r,l,d,g)=>{t.showWithinBounds(r,l,d,g)},showMenuAt:(t,r,l,d)=>{t.showMenuAt(r,l,d)},showMenuWithinBounds:(t,r,l,d,g)=>{t.showMenuWithinBounds(r,l,d,g)},hide:(t,r)=>{t.hide(r)},isOpen:(t,r)=>t.isOpen(r),getContent:(t,r)=>t.getContent(r),setContent:(t,r,l)=>{t.setContent(r,l)},reposition:(t,r)=>{t.reposition(r)}}}),bx=ht([aa("type","text"),xr("data"),tn("inputAttributes",{}),tn("inputStyles",{}),tn("tag","input"),tn("inputClasses",[]),Us("onSetValue"),$r("fromInputValue",oo),$r("toInputValue",oo),tn("styles",{}),tn("eventOrder",{}),Fi("inputBehaviours",[yo,Es]),tn("selectOnFocus",!0)]),DE=t=>Yn([Es.config({onFocus:t.selectOnFocus?r=>{const l=r.element,d=jc(l);t.type!=="range"&&l.dom.setSelectionRange(0,d.length)}:lt})]),Sz=t=>({...DE(t),...Ti(t.inputBehaviours,[yo.config({store:{mode:"manual",...t.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>t.fromInputValue(jc(r.element)),setValue:(r,l)=>{jc(r.element)!==l&&Hl(r.element,t.toInputValue(l))}},onSetValue:t.onSetValue})])}),LL=t=>({tag:t.tag,attributes:{type:t.type,...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),Tz=(t,r)=>({uid:t.uid,dom:LL(t),components:[],behaviours:Sz(t),eventOrder:t.eventOrder}),mg=od({name:"Input",configFields:bx(),factory:Tz}),NE=um(xE(),yE()),Az=(t,r)=>{const l=ai(t,"id").fold(()=>{const d=_e("dialog-label");return os(r,"id",d),d},oo);os(t,"aria-labelledby",l)},DL=ht([Bn("lazySink"),xr("dragBlockClass"),$r("getBounds",ol),tn("useTabstopAt",a),tn("firstTabstop",0),tn("eventOrder",{}),Fi("modalBehaviours",[Ho]),sc("onExecute"),Z2("onEscape")]),Ud={sketch:oo},kz=ht([kd({name:"draghandle",overrides:(t,r)=>({behaviours:Yn([Pm.config({mode:"mouse",getTarget:l=>Kc(l,'[role="dialog"]').getOr(l),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])})}),_i({schema:[Bn("dom")],name:"title"}),_i({factory:Ud,schema:[Bn("dom")],name:"close"}),_i({factory:Ud,schema:[Bn("dom")],name:"body"}),kd({factory:Ud,schema:[Bn("dom")],name:"footer"}),Tc({factory:{sketch:(t,r)=>({...t,dom:r.dom,components:r.components})},schema:[tn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),tn("components",[])],name:"blocker"})]),RE=(t,r,l,d)=>{const g=Do(),v=qe=>{g.set(qe);const vt=t.lazySink(qe).getOrDie(),Ot=d.blocker(),Ct=vt.getSystem().build({...Ot,components:Ot.components.concat([T(qe)]),behaviours:Yn([Es.config({}),Cs("dialog-blocker-events",[ym(wc(),()=>{wn.isBlocked(qe)?lt():Ho.focusIn(qe)})])])});Fd(vt,Ct),Ho.focusIn(qe)},y=qe=>{g.clear(),Xl(qe.element).each(vt=>{qe.getSystem().getByDom(vt).each(Ot=>{nf(Ot)})})},k=qe=>Fp(qe,t,"body"),$=qe=>nr(qe,t,"footer"),Y=(qe,vt)=>{wn.block(qe,vt)},le=qe=>{wn.unblock(qe)},Ee=_e("modal-events"),Fe={...t.eventOrder,[xu()]:[Ee].concat(t.eventOrder["alloy.system.attached"]||[])},Qe=ca();return{uid:t.uid,dom:t.dom,components:r,apis:{show:v,hide:y,getBody:k,getFooter:$,setIdle:le,setBusy:Y},eventOrder:Fe,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ti(t.modalBehaviours,[ws.config({}),Ho.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),wn.config({getRoot:g.get}),Cs(Ee,[Wr(qe=>{const vt=Fp(qe,t,"title").element,Ot=b1(vt);Qe.os.isMacOS()&&Ao(Ot)?os(qe.element,"aria-label",Ot):Az(qe.element,vt)})])])}},oi=ic({name:"ModalDialog",configFields:DL(),partFields:kz(),factory:RE,apis:{show:(t,r)=>{t.show(r)},hide:(t,r)=>{t.hide(r)},getBody:(t,r)=>t.getBody(r),getFooter:(t,r)=>t.getFooter(r),setBusy:(t,r,l)=>{t.setBusy(r,l)},setIdle:(t,r)=>{t.setIdle(r)}}}),NL=kd({schema:[Bn("dom")],name:"label"}),Wm=t=>kd({name:""+t+"-edge",overrides:r=>r.model.manager.edgeActions[t].fold(()=>({}),d=>({events:Jr([p3(Mf(),(g,v,y)=>d(g,y),[r]),p3(rl(),(g,v,y)=>d(g,y),[r]),p3(om(),(g,v,y)=>{y.mouseIsDown.get()&&d(g,y)},[r])])}))}),RL=Wm("top-left"),ML=Wm("top"),IL=Wm("top-right"),Oz=Wm("right"),Lz=Wm("bottom-right"),Dz=Wm("bottom"),Nz=Wm("bottom-left"),Rz=Wm("left"),Mz=_i({name:"thumb",defaults:ht({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Jr([ef(Mf(),t,"spectrum"),ef(If(),t,"spectrum"),ef(E1(),t,"spectrum"),ef(rl(),t,"spectrum"),ef(om(),t,"spectrum"),ef(R5(),t,"spectrum")])})}),vx=t=>M1(t.event),BL=_i({schema:[Wi("mouseIsDown",()=>Je(!1))],name:"spectrum",overrides:t=>{const l=t.model.manager,d=(g,v)=>l.getValueFromEvent(v).map(y=>l.setValueFrom(g,t,y));return{behaviours:Yn([Ho.config({mode:"special",onLeft:(g,v)=>l.onLeft(g,t,vx(v)),onRight:(g,v)=>l.onRight(g,t,vx(v)),onUp:(g,v)=>l.onUp(g,t,vx(v)),onDown:(g,v)=>l.onDown(g,t,vx(v))}),Hr.config({}),Es.config({})]),events:Jr([xn(Mf(),d),xn(If(),d),xn(rl(),d),xn(om(),(g,v)=>{t.mouseIsDown.get()&&d(g,v)})])}}});var FL=[NL,Rz,Oz,ML,Dz,RL,IL,Nz,Lz,Mz,BL];const Y3=ht("slider.change.value"),Bz=t=>t.type.indexOf("touch")!==-1,ME=t=>{const r=t.event.raw;if(Bz(r)){const l=r;return l.touches!==void 0&&l.touches.length===1?p.some(l.touches[0]).map(d=>Dr(d.clientX,d.clientY)):p.none()}else{const l=r;return l.clientX!==void 0?p.some(l).map(d=>Dr(d.clientX,d.clientY)):p.none()}},Fz="top",q3="right",xx="bottom",Pz="left",Km=t=>t.model.minX,jm=t=>t.model.minY,Pv=t=>t.model.minX-1,$v=t=>t.model.minY-1,hg=t=>t.model.maxX,bg=t=>t.model.maxY,yx=t=>t.model.maxX+1,Cx=t=>t.model.maxY+1,PL=(t,r,l)=>r(t)-l(t),_x=t=>PL(t,hg,Km),Ex=t=>PL(t,bg,jm),$L=t=>_x(t)/2,HL=t=>Ex(t)/2,B0=(t,r)=>r?t.stepSize*t.speedMultiplier:t.stepSize,zL=t=>t.snapToGrid,UL=t=>t.snapStart,VL=t=>t.rounded,wx=(t,r)=>t[r+"-edge"]!==void 0,WL=t=>wx(t,Pz),KL=t=>wx(t,q3),jL=t=>wx(t,Fz),IE=t=>wx(t,xx),J1=t=>t.model.value.get(),Zm=(t,r)=>({x:t,y:r}),af=(t,r)=>{Xo(t,Y3(),{value:r})},$z=(t,r)=>{af(t,Zm(Pv(r),$v(r)))},ZL=(t,r)=>{af(t,$v(r))},Hz=(t,r)=>{af(t,Zm($L(r),$v(r)))},zz=(t,r)=>{af(t,Zm(yx(r),$v(r)))},Uz=(t,r)=>{af(t,yx(r))},Sx=(t,r)=>{af(t,Zm(yx(r),HL(r)))},Vz=(t,r)=>{af(t,Zm(yx(r),Cx(r)))},Wz=(t,r)=>{af(t,Cx(r))},Kz=(t,r)=>{af(t,Zm($L(r),Cx(r)))},jz=(t,r)=>{af(t,Zm(Pv(r),Cx(r)))},Zz=(t,r)=>{af(t,Pv(r))},Gz=(t,r)=>{af(t,Zm(Pv(r),HL(r)))},BE=(t,r,l,d)=>t<r?t:t>l?l:t===r?r-1:Math.max(r,t-d),FE=(t,r,l,d)=>t>l?t:t<r?r:t===l?l+1:Math.min(l,t+d),GL=(t,r,l)=>Math.max(r,Math.min(l,t)),Yz=(t,r,l,d,g)=>g.fold(()=>{const v=t-r,y=Math.round(v/d)*d;return GL(r+y,r-1,l+1)},v=>{const y=(t-v)%d,k=Math.round(y/d),$=Math.floor((t-v)/d),Y=Math.floor((l-v)/d),le=Math.min(Y,$+k),Ee=v+le*d;return Math.max(v,Ee)}),qz=(t,r,l)=>Math.min(l,Math.max(t,r))-r,YL=t=>{const{min:r,max:l,range:d,value:g,step:v,snap:y,snapStart:k,rounded:$,hasMinEdge:Y,hasMaxEdge:le,minBound:Ee,maxBound:Fe,screenRange:Qe}=t,qe=Y?r-1:r,vt=le?l+1:l;if(g<Ee)return qe;if(g>Fe)return vt;{const Ot=qz(g,Ee,Fe),Ct=GL(Ot/Qe*d+r,qe,vt);return y&&Ct>=r&&Ct<=l?Yz(Ct,r,l,v,k):$?Math.round(Ct):Ct}},qL=t=>{const{min:r,max:l,range:d,value:g,hasMinEdge:v,hasMaxEdge:y,maxBound:k,maxOffset:$,centerMinEdge:Y,centerMaxEdge:le}=t;return g<r?v?0:Y:g>l?y?k:le:(g-r)/d*$},Hv="top",XL="right",QL="bottom",PE="left",JL="width",Xz="height",ep=t=>t.element.dom.getBoundingClientRect(),lf=(t,r)=>t[r],Tx=t=>{const r=ep(t);return lf(r,PE)},eD=t=>{const r=ep(t);return lf(r,XL)},Ax=t=>{const r=ep(t);return lf(r,Hv)},kx=t=>{const r=ep(t);return lf(r,QL)},tD=t=>{const r=ep(t);return lf(r,JL)},nD=t=>{const r=ep(t);return lf(r,Xz)},oD=(t,r,l)=>(t+r)/2-l,sD=(t,r)=>{const l=ep(t),d=ep(r),g=lf(l,PE),v=lf(l,XL),y=lf(d,PE);return oD(g,v,y)},rD=(t,r)=>{const l=ep(t),d=ep(r),g=lf(l,Hv),v=lf(l,QL),y=lf(d,Hv);return oD(g,v,y)},Ox=(t,r)=>{Xo(t,Y3(),{value:r})},$E=(t,r,l)=>{const d={min:Km(r),max:hg(r),range:_x(r),value:l,step:B0(r),snap:zL(r),snapStart:UL(r),rounded:VL(r),hasMinEdge:WL(r),hasMaxEdge:KL(r),minBound:Tx(t),maxBound:eD(t),screenRange:tD(t)};return YL(d)},Qz=(t,r,l)=>{const d=$E(t,r,l);return Ox(t,d),d},Jz=(t,r)=>{const l=Km(r);Ox(t,l)},eU=(t,r)=>{const l=hg(r);Ox(t,l)},tU=(t,r,l,d)=>{const v=(t>0?FE:BE)(J1(l),Km(l),hg(l),B0(l,d));return Ox(r,v),p.some(v)},aD=t=>(r,l,d)=>tU(t,r,l,d).map(a),nU=t=>ME(t).map(l=>l.left),oU=(t,r,l,d,g)=>{const y=tD(t),k=d.bind(le=>p.some(sD(le,t))).getOr(0),$=g.bind(le=>p.some(sD(le,t))).getOr(y),Y={min:Km(r),max:hg(r),range:_x(r),value:l,hasMinEdge:WL(r),hasMaxEdge:KL(r),minBound:Tx(t),maxBound:eD(t),maxOffset:y,centerMinEdge:k,centerMaxEdge:$};return qL(Y)},HE=(t,r,l,d,g,v)=>{const y=oU(r,v,l,d,g);return Tx(r)-Tx(t)+y},zE=(t,r,l,d)=>{const g=J1(l),v=HE(t,d.getSpectrum(t),g,d.getLeftEdge(t),d.getRightEdge(t),l),y=ei(r.element)/2;Mo(r.element,"left",v-y+"px")},sU=aD(-1),rU=aD(1),aU=p.none,zv=p.none,iD={"top-left":p.none(),top:p.none(),"top-right":p.none(),right:p.some(Uz),"bottom-right":p.none(),bottom:p.none(),"bottom-left":p.none(),left:p.some(Zz)};var iU=Object.freeze({__proto__:null,setValueFrom:Qz,setToMin:Jz,setToMax:eU,findValueOfOffset:$E,getValueFromEvent:nU,findPositionOfValue:HE,setPositionFromValue:zE,onLeft:sU,onRight:rU,onUp:aU,onDown:zv,edgeActions:iD});const Lx=(t,r)=>{Xo(t,Y3(),{value:r})},Dx=(t,r,l)=>{const d={min:jm(r),max:bg(r),range:Ex(r),value:l,step:B0(r),snap:zL(r),snapStart:UL(r),rounded:VL(r),hasMinEdge:jL(r),hasMaxEdge:IE(r),minBound:Ax(t),maxBound:kx(t),screenRange:nD(t)};return YL(d)},lU=(t,r,l)=>{const d=Dx(t,r,l);return Lx(t,d),d},cU=(t,r)=>{const l=jm(r);Lx(t,l)},dU=(t,r)=>{const l=bg(r);Lx(t,l)},uU=(t,r,l,d)=>{const v=(t>0?FE:BE)(J1(l),jm(l),bg(l),B0(l,d));return Lx(r,v),p.some(v)},lD=t=>(r,l,d)=>uU(t,r,l,d).map(a),fU=t=>ME(t).map(l=>l.top),pU=(t,r,l,d,g)=>{const y=nD(t),k=d.bind(le=>p.some(rD(le,t))).getOr(0),$=g.bind(le=>p.some(rD(le,t))).getOr(y),Y={min:jm(r),max:bg(r),range:Ex(r),value:l,hasMinEdge:jL(r),hasMaxEdge:IE(r),minBound:Ax(t),maxBound:kx(t),maxOffset:y,centerMinEdge:k,centerMaxEdge:$};return qL(Y)},UE=(t,r,l,d,g,v)=>{const y=pU(r,v,l,d,g);return Ax(r)-Ax(t)+y},cD=(t,r,l,d)=>{const g=J1(l),v=UE(t,d.getSpectrum(t),g,d.getTopEdge(t),d.getBottomEdge(t),l),y=Yr(r.element)/2;Mo(r.element,"top",v-y+"px")},dD=p.none,gU=p.none,uD=lD(-1),fD=lD(1),pD={"top-left":p.none(),top:p.some(ZL),"top-right":p.none(),right:p.none(),"bottom-right":p.none(),bottom:p.some(Wz),"bottom-left":p.none(),left:p.none()};var gD=Object.freeze({__proto__:null,setValueFrom:lU,setToMin:cU,setToMax:dU,findValueOfOffset:Dx,getValueFromEvent:fU,findPositionOfValue:UE,setPositionFromValue:cD,onLeft:dD,onRight:gU,onUp:uD,onDown:fD,edgeActions:pD});const Nx=(t,r)=>{Xo(t,Y3(),{value:r})},Rx=(t,r)=>({x:t,y:r}),mU=(t,r,l)=>{const d=$E(t,r,l.left),g=Dx(t,r,l.top),v=Rx(d,g);return Nx(t,v),v},hU=(t,r,l,d,g)=>{const v=t>0?FE:BE,y=r?J1(d).x:v(J1(d).x,Km(d),hg(d),B0(d,g)),k=r?v(J1(d).y,jm(d),bg(d),B0(d,g)):J1(d).y;return Nx(l,Rx(y,k)),p.some(y)},X3=(t,r)=>(l,d,g)=>hU(t,r,l,d,g).map(a),mD=(t,r)=>{const l=Km(r),d=jm(r);Nx(t,Rx(l,d))},bU=(t,r)=>{const l=hg(r),d=bg(r);Nx(t,Rx(l,d))},hD=t=>ME(t),vU=(t,r,l,d)=>{const g=J1(l),v=HE(t,d.getSpectrum(t),g.x,d.getLeftEdge(t),d.getRightEdge(t),l),y=UE(t,d.getSpectrum(t),g.y,d.getTopEdge(t),d.getBottomEdge(t),l),k=ei(r.element)/2,$=Yr(r.element)/2;Mo(r.element,"left",v-k+"px"),Mo(r.element,"top",y-$+"px")},xU=X3(-1,!1),yU=X3(1,!1),bD=X3(-1,!0),vD=X3(1,!0),xD={"top-left":p.some($z),top:p.some(Hz),"top-right":p.some(zz),right:p.some(Sx),"bottom-right":p.some(Vz),bottom:p.some(Kz),"bottom-left":p.some(jz),left:p.some(Gz)};var CU=Object.freeze({__proto__:null,setValueFrom:mU,setToMin:mD,setToMax:bU,getValueFromEvent:hD,setPositionFromValue:vU,onLeft:xU,onRight:yU,onUp:bD,onDown:vD,edgeActions:xD});const _U=[tn("stepSize",1),tn("speedMultiplier",10),tn("onChange",lt),tn("onChoose",lt),tn("onInit",lt),tn("onDragStart",lt),tn("onDragEnd",lt),tn("snapToGrid",!1),tn("rounded",!0),xr("snapStart"),Vl("model",El("mode",{x:[tn("minX",0),tn("maxX",100),Wi("value",t=>Je(t.mode.minX)),Bn("getInitialValue"),Rr("manager",iU)],y:[tn("minY",0),tn("maxY",100),Wi("value",t=>Je(t.mode.minY)),Bn("getInitialValue"),Rr("manager",gD)],xy:[tn("minX",0),tn("maxX",100),tn("minY",0),tn("maxY",100),Wi("value",t=>Je({x:t.mode.minX,y:t.mode.minY})),Bn("getInitialValue"),Rr("manager",CU)]})),Fi("sliderBehaviours",[Ho,yo]),Wi("mouseIsDown",()=>Je(!1))],cf=ic({name:"Slider",configFields:_U,partFields:FL,factory:(t,r,l,d)=>{const g=un=>Fp(un,t,"thumb"),v=un=>Fp(un,t,"spectrum"),y=un=>nr(un,t,"left-edge"),k=un=>nr(un,t,"right-edge"),$=un=>nr(un,t,"top-edge"),Y=un=>nr(un,t,"bottom-edge"),le=t.model,Ee=le.manager,Fe=(un,uo)=>{Ee.setPositionFromValue(un,uo,t,{getLeftEdge:y,getRightEdge:k,getTopEdge:$,getBottomEdge:Y,getSpectrum:v})},Qe=(un,uo)=>{le.value.set(uo);const Fn=g(un);Fe(un,Fn)},qe=(un,uo)=>{Qe(un,uo);const Fn=g(un);return t.onChange(un,Fn,uo),p.some(!0)},vt=un=>{Ee.setToMin(un,t)},Ot=un=>{Ee.setToMax(un,t)},Ct=un=>{const uo=()=>{nr(un,t,"thumb").each($n=>{const Nn=le.value.get();t.onChoose(un,$n,Nn)})},Fn=t.mouseIsDown.get();t.mouseIsDown.set(!1),Fn&&uo()},$t=(un,uo)=>{uo.stop(),t.mouseIsDown.set(!0),t.onDragStart(un,g(un))},Ut=(un,uo)=>{uo.stop(),t.onDragEnd(un,g(un)),Ct(un)},an=un=>{nr(un,t,"spectrum").map(Ho.focusIn)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.sliderBehaviours,[Ho.config({mode:"special",focusIn:an}),yo.config({store:{mode:"manual",getValue:un=>le.value.get(),setValue:Qe}}),sd.config({channels:{[Oc()]:{onReceive:Ct}}})]),events:Jr([xn(Y3(),(un,uo)=>{qe(un,uo.event.value)}),Wr((un,uo)=>{const Fn=le.getInitialValue();le.value.set(Fn);const $n=g(un);Fe(un,$n);const Nn=v(un);t.onInit(un,$n,Nn,le.value.get())}),xn(Mf(),$t),xn(E1(),Ut),xn(rl(),(un,uo)=>{an(un),$t(un,uo)}),xn(R5(),Ut)]),apis:{resetToMin:vt,resetToMax:Ot,setValue:Qe,refresh:Fe},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,r,l)=>{t.setValue(r,l)},resetToMin:(t,r)=>{t.resetToMin(r)},resetToMax:(t,r)=>{t.resetToMax(r)},refresh:(t,r)=>{t.refresh(r)}}}),yD="container",EU=[Fi("slotBehaviours",[])],CD=t=>"<alloy.field."+t+">",wU=t=>{const r=(()=>{const v=[];return{slot:(k,$)=>(v.push(k),W5(yD,CD(k),$)),record:ht(v)}})(),l=t(r),d=r.record(),g=K(d,v=>_i({name:v,pname:CD(v)}));return O_(yD,EU,g,SU,l)},SU=(t,r)=>{const l=vt=>o3(t),d=(vt,Ot)=>nr(vt,t,Ot),g=(vt,Ot)=>(Ct,$t)=>nr(Ct,t,$t).map(Ut=>vt(Ut,$t)).getOr(Ot),v=vt=>(Ot,Ct)=>{ee(Ct,$t=>vt(Ot,$t))},y=(vt,Ot)=>Ua(vt.element,"aria-hidden")!=="true",k=(vt,Ot)=>{if(!y(vt)){const Ct=vt.element;Ps(Ct,"display"),Kr(Ct,"aria-hidden"),Xo(vt,P5(),{name:Ot,visible:!0})}},$=(vt,Ot)=>{if(y(vt)){const Ct=vt.element;Mo(Ct,"display","none"),os(Ct,"aria-hidden","true"),Xo(vt,P5(),{name:Ot,visible:!1})}},Y=g(y,!1),le=g($),Ee=v(le),Fe=vt=>Ee(vt,l()),Qe=g(k),qe={getSlotNames:l,getSlot:d,isShowing:Y,hideSlot:le,hideAllSlots:Fe,showSlot:Qe};return{uid:t.uid,dom:t.dom,components:r,behaviours:k0(t.slotBehaviours),apis:qe}},Ol={...et({getSlotNames:(t,r)=>t.getSlotNames(r),getSlot:(t,r,l)=>t.getSlot(r,l),isShowing:(t,r,l)=>t.isShowing(r,l),hideSlot:(t,r,l)=>t.hideSlot(r,l),hideAllSlots:(t,r)=>t.hideAllSlots(r),showSlot:(t,r,l)=>t.showSlot(r,l)},t=>H1(t)),sketch:wU},_D=(t,r)=>se(t,(g,v)=>r(v,g.len).fold(ht(g),k=>({len:k.finish,list:g.list.concat([k])})),{len:0,list:[]}).list,VE=(t,r,l)=>({within:t,extra:r,withinWidth:l}),ED=(t,r,l)=>{const d=_D(t,(k,$)=>{const Y=l(k);return p.some({element:k,start:$,finish:$+Y,width:Y})}),g=be(d,k=>k.finish<=r),v=re(g,(k,$)=>k+$.width,0),y=d.slice(g.length);return{within:g,extra:y,withinWidth:v}},Mx=t=>K(t,r=>r.element),TU=(t,r,l)=>{const d=Mx(t.concat(r));return VE(d,[],l)},AU=(t,r,l,d)=>{const g=Mx(t).concat([l]);return VE(g,Mx(r),d)},Ix=(t,r,l)=>VE(Mx(t),[],l),wD=(t,r,l)=>{const d=ED(r,t,l);return d.extra.length===0?p.some(d):p.none()},kU=(t,r,l,d)=>{const g=wD(t,r,l).getOrThunk(()=>ED(r,t-l(d),l)),v=g.within,y=g.extra,k=g.withinWidth;return y.length===1&&y[0].width<=l(d)?TU(v,y,k):y.length>=1?AU(v,y,d,k):Ix(v,y,k)},SD=(t,r)=>{const l=K(r,d=>T(d));Lu.setGroups(t,l)},OU=t=>ut(t,r=>za(r.element).bind(l=>r.getSystem().getByDom(l).toOptional())),TD=(t,r,l)=>{const d=r.builtGroups.get();if(d.length===0)return;const g=Fp(t,r,"primary"),v=Ns.getCoupled(t,"overflowGroup");Mo(g.element,"visibility","hidden");const y=d.concat([v]),k=OU(y);l([]),SD(g,y);const $=ei(g.element),Y=kU($,r.builtGroups.get(),le=>Math.ceil(le.element.dom.getBoundingClientRect().width),v);Y.extra.length===0?(ws.remove(g,v),l([])):(SD(g,Y.within),l(Y.extra)),Ps(g.element,"visibility"),Ar(g.element),k.each(Es.focus)},AD=ht([Fi("splitToolbarBehaviours",[Ns]),Wi("builtGroups",()=>Je([]))]),LU=ht([Wl(["overflowToggledClass"]),hu("getOverflowBounds"),Bn("lazySink"),Wi("overflowGroups",()=>Je([])),Us("onOpened"),Us("onClosed")].concat(AD())),WE=ht([_i({factory:Lu,schema:Z3(),name:"primary"}),Tc({schema:Z3(),name:"overflow"}),Tc({name:"overflow-button"}),Tc({name:"overflow-group"})]),kD=ht([Bn("items"),Wl(["itemSelector"]),Fi("tgroupBehaviours",[Ho])]),OD=ht([t3({name:"items",unit:"item"})]),DU=(t,r,l,d)=>({uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.tgroupBehaviours,[Ho.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Uv=ic({name:"ToolbarGroup",configFields:kD(),partFields:OD(),factory:DU}),LD=t=>K(t,r=>T(r)),DD=(t,r,l)=>{TD(t,l,d=>{l.overflowGroups.set(d),r.getOpt(t).each(g=>{Vm.setGroups(g,LD(d))})})},NU=(t,r,l,d)=>{const g=mr(Vm.sketch({fetch:()=>Hn.nu(v=>{v(LD(t.overflowGroups.get()))}),layouts:{onLtr:()=>[qa,jr],onRtl:()=>[jr,qa],onBottomLtr:()=>[wi,fi],onBottomRtl:()=>[fi,wi]},getBounds:l.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:d["overflow-button"](),toolbar:d.overflow()},onToggled:(v,y)=>t[y?"onOpened":"onClosed"](v)}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.splitToolbarBehaviours,[Ns.config({others:{overflowGroup:()=>Uv.sketch({...d["overflow-group"](),items:[g.asSpec()]})}})]),apis:{setGroups:(v,y)=>{t.builtGroups.set(K(y,v.getSystem().build)),DD(v,g,t)},refresh:v=>DD(v,g,t),toggle:v=>{g.getOpt(v).each(y=>{Vm.toggle(y)})},toggleWithoutFocusing:v=>{g.getOpt(v).each(Vm.toggleWithoutFocusing)},isOpen:v=>g.getOpt(v).map(Vm.isOpen).getOr(!1),reposition:v=>{g.getOpt(v).each(y=>{Vm.reposition(y)})},getOverflow:v=>g.getOpt(v).bind(Vm.getToolbar)},domModification:{attributes:{role:"group"}}}},ND=ic({name:"SplitFloatingToolbar",configFields:LU(),partFields:WE(),factory:NU,apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)},refresh:(t,r)=>{t.refresh(r)},reposition:(t,r)=>{t.reposition(r)},toggle:(t,r)=>{t.toggle(r)},toggleWithoutFocusing:(t,r)=>{t.toggle(r)},isOpen:(t,r)=>t.isOpen(r),getOverflow:(t,r)=>t.getOverflow(r)}}),RU=ht([Wl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Us("onOpened"),Us("onClosed")].concat(AD())),MU=ht([_i({factory:Lu,schema:Z3(),name:"primary"}),_i({factory:Lu,schema:Z3(),name:"overflow",overrides:t=>({toolbarBehaviours:Yn([jl.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:r=>{nr(r,t,"overflow-button").each(l=>{qs.off(l)}),t.onClosed(r)},onGrown:r=>{t.onOpened(r)},onStartGrow:r=>{nr(r,t,"overflow-button").each(qs.on)}}),Ho.config({mode:"acyclic",onEscape:r=>(nr(r,t,"overflow-button").each(Es.focus),p.some(!0))})])})}),Tc({name:"overflow-button",overrides:t=>({buttonBehaviours:Yn([qs.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Tc({name:"overflow-group"})]),IU=(t,r)=>nr(t,r,"overflow").map(jl.hasGrown).getOr(!1),KE=(t,r,l)=>{nr(t,r,"overflow-button").each(d=>{nr(t,r,"overflow").each(g=>{if(jE(t,r),jl.hasShrunk(g)){const v=r.onOpened;r.onOpened=y=>{l||Ho.focusIn(g),v(y),r.onOpened=v}}else{const v=r.onClosed;r.onClosed=y=>{l||Es.focus(d),v(y),r.onClosed=v}}jl.toggleGrow(g)})})},jE=(t,r)=>{nr(t,r,"overflow").each(l=>{TD(t,r,d=>{const g=K(d,v=>T(v));Lu.setGroups(l,g)}),nr(t,r,"overflow-button").each(d=>{jl.hasGrown(l)&&qs.on(d)}),jl.refresh(l)})},BU=(t,r,l,d)=>{const g="alloy.toolbar.toggle",v=(y,k)=>{const $=K(k,y.getSystem().build);t.builtGroups.set($)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ti(t.splitToolbarBehaviours,[Ns.config({others:{overflowGroup:y=>Uv.sketch({...d["overflow-group"](),items:[pl.sketch({...d["overflow-button"](),action:k=>{Hs(y,g)}})]})}}),Cs("toolbar-toggle-events",[xn(g,y=>{KE(y,t,!1)})])]),apis:{setGroups:(y,k)=>{v(y,k),jE(y,t)},refresh:y=>jE(y,t),toggle:y=>{KE(y,t,!1)},toggleWithoutFocusing:y=>{KE(y,t,!0)},isOpen:y=>IU(y,t)},domModification:{attributes:{role:"group"}}}},Q3=ic({name:"SplitSlidingToolbar",configFields:RU(),partFields:MU(),factory:BU,apis:{setGroups:(t,r,l)=>{t.setGroups(r,l)},refresh:(t,r)=>{t.refresh(r)},toggle:(t,r)=>{t.toggle(r)},isOpen:(t,r)=>t.isOpen(r)}}),ZE=(t,r)=>({uid:t.uid,dom:t.dom,components:t.components,events:mE(t.action),behaviours:Ti(t.tabButtonBehaviours,[Es.config({}),Ho.config({mode:"execution",useSpace:!0,useEnter:!0}),yo.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),GE=od({name:"TabButton",configFields:[tn("uid",void 0),Bn("value"),ci("dom","dom",Ap(()=>({attributes:{role:"tab",id:_e("aria"),"aria-selected":"false"}})),gu()),xr("action"),tn("domModification",{}),Fi("tabButtonBehaviours",[Es,Ho,yo]),Bn("view")],factory:ZE}),RD=ht([Bn("tabs"),Bn("dom"),tn("clickToDismiss",!1),Fi("tabbarBehaviours",[gr,Ho]),Wl(["tabClass","selectedClass"])]),FU=t3({factory:GE,name:"tabs",unit:"tab",overrides:t=>{const r=(d,g)=>{gr.dehighlight(d,g),Xo(d,Yh(),{tabbar:d,button:g})},l=(d,g)=>{gr.highlight(d,g),Xo(d,V2(),{tabbar:d,button:g})};return{action:d=>{const g=d.getSystem().getByUid(t.uid).getOrDie(),v=gr.isHighlighted(g,d);(v&&t.clickToDismiss?r:v?lt:l)(g,d)},domModification:{classes:[t.markers.tabClass]}}}}),PU=ht([FU]),YE=(t,r,l,d)=>({uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ti(t.tabbarBehaviours,[gr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(g,v)=>{os(v.element,"aria-selected","true")},onDehighlight:(g,v)=>{os(v.element,"aria-selected","false")}}),Ho.config({mode:"flow",getInitial:g=>gr.getHighlighted(g).map(v=>v.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Bx=ic({name:"Tabbar",configFields:RD(),partFields:PU(),factory:YE}),Fx=(t,r)=>({uid:t.uid,dom:t.dom,behaviours:Ti(t.tabviewBehaviours,[ws.config({})]),domModification:{attributes:{role:"tabpanel"}}}),MD=od({name:"Tabview",configFields:[Fi("tabviewBehaviours",[ws])],factory:Fx}),$U=ht([tn("selectFirst",!0),Us("onChangeTab"),Us("onDismissTab"),tn("tabs",[]),Fi("tabSectionBehaviours",[])]),HU=_i({factory:Bx,schema:[Bn("dom"),Nf("markers",[Bn("tabClass"),Bn("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),zU=_i({factory:MD,name:"tabview"}),UU=ht([HU,zU]),VU=(t,r,l,d)=>{const g=y=>{const k=yo.getValue(y);nr(y,t,"tabview").each($=>{D(t.tabs,le=>le.value===k).each(le=>{const Ee=le.view();ai(y.element,"id").each(Fe=>{os($.element,"aria-labelledby",Fe)}),ws.set($,Ee),t.onChangeTab($,y,Ee)})})},v=(y,k)=>{nr(y,t,"tabbar").each($=>{k($).each(vm)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:k0(t.tabSectionBehaviours),events:Jr(V([t.selectFirst?[Wr((y,k)=>{v(y,gr.getFirst)})]:[],[xn(V2(),(y,k)=>{const $=k.event.button;g($)}),xn(Yh(),(y,k)=>{const $=k.event.button;t.onDismissTab(y,$)})]])),apis:{getViewItems:y=>nr(y,t,"tabview").map(k=>ws.contents(k)).getOr([]),showTab:(y,k)=>{v(y,Y=>{const le=gr.getCandidates(Y);return D(le,Fe=>yo.getValue(Fe)===k).filter(Fe=>!gr.isHighlighted(Y,Fe))})}}}},J3=ic({name:"TabSection",configFields:$U(),partFields:UU(),factory:VU,apis:{getViewItems:(t,r)=>t.getViewItems(r),showTab:(t,r,l)=>{t.showTab(r,l)}}}),Px=(t,r,l)=>{const d=yo.getValue(l);yo.setValue(r,d),BD(r)},ID=(t,r)=>{const l=t.element,d=jc(l),g=l.dom;Ua(l,"type")!=="number"&&r(g,d)},BD=t=>{ID(t,(r,l)=>r.setSelectionRange(l.length,l.length))},WU=(t,r)=>{ID(t,(l,d)=>l.setSelectionRange(r,d.length))},KU=(t,r,l)=>{if(t.selectsOver){const d=yo.getValue(r),g=t.getDisplayText(d),v=yo.getValue(l);return t.getDisplayText(v).indexOf(g)===0?p.some(()=>{Px(t,r,l),WU(r,g.length)}):p.none()}else return p.none()},qE=ht("alloy.typeahead.itemexecute"),jU=(t,r,l,d)=>{const g=(Ee,Fe,Qe)=>{t.previewing.set(!1);const qe=Ns.getCoupled(Ee,"sandbox");if(sr.isOpen(qe))yn.getCurrent(qe).each(vt=>{gr.getHighlighted(vt).fold(()=>{Qe(vt)},()=>{fb(qe,vt.element,"keydown",Fe)})});else{const vt=Ot=>{yn.getCurrent(Ot).each(Qe)};Nv(t,y(Ee),Ee,qe,d,vt,il.HighlightMenuAndItem).get(lt)}},v=DE(t),y=Ee=>Fe=>Fe.map(Qe=>{const qe=Lt(Qe.menus),vt=I(qe,Ct=>be(Ct.items,$t=>$t.type==="item"));return yo.getState(Ee).update(K(vt,Ct=>Ct.data)),Qe}),k=Ee=>yn.getCurrent(Ee),$="typeaheadevents",Y=[Es.config({}),yo.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:Ee=>jc(Ee.element),getFallbackEntry:Ee=>({value:Ee,meta:{}}),setValue:(Ee,Fe)=>{Hl(Ee.element,t.model.getDisplayText(Fe))},...t.initialData.map(Ee=>tm("initialValue",Ee)).getOr({})}}),wv.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(Ee,Fe)=>{const Qe=Ns.getCoupled(Ee,"sandbox");if(Es.isFocused(Ee)&&jc(Ee.element).length>=t.minChars){const vt=k(Qe).bind(Ct=>gr.getHighlighted(Ct).map(yo.getValue));t.previewing.set(!0);const Ot=Ct=>{k(Qe).each($t=>{vt.fold(()=>{t.model.selectsOver&&gr.highlightFirst($t)},Ut=>{gr.highlightBy($t,an=>yo.getValue(an).value===Ut.value),gr.getHighlighted($t).orThunk(()=>(gr.highlightFirst($t),p.none()))})})};Nv(t,y(Ee),Ee,Qe,d,Ot,il.HighlightJustMenu).get(lt)}},cancelEvent:B5()}),Ho.config({mode:"special",onDown:(Ee,Fe)=>(g(Ee,Fe,gr.highlightFirst),p.some(!0)),onEscape:Ee=>{const Fe=Ns.getCoupled(Ee,"sandbox");return sr.isOpen(Fe)?(sr.close(Fe),p.some(!0)):p.none()},onUp:(Ee,Fe)=>(g(Ee,Fe,gr.highlightLast),p.some(!0)),onEnter:Ee=>{const Fe=Ns.getCoupled(Ee,"sandbox"),Qe=sr.isOpen(Fe);if(Qe&&!t.previewing.get())return k(Fe).bind(qe=>gr.getHighlighted(qe)).map(qe=>(Xo(Ee,qE(),{item:qe}),!0));{const qe=yo.getValue(Ee);return Hs(Ee,B5()),t.onExecute(Fe,Ee,qe),Qe&&sr.close(Fe),p.some(!0)}}}),qs.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ns.config({others:{sandbox:Ee=>j3(t,Ee,{onOpen:()=>qs.on(Ee),onClose:()=>{t.lazyTypeaheadComp.get().each(Fe=>Kr(Fe.element,"aria-activedescendant")),qs.off(Ee)}})}}),Cs($,[Wr(Ee=>{t.lazyTypeaheadComp.set(p.some(Ee))}),wu(Ee=>{t.lazyTypeaheadComp.set(p.none())}),Wf(Ee=>{const Fe=lt;fx(t,y(Ee),Ee,d,Fe,il.HighlightMenuAndItem).get(lt)}),xn(qE(),(Ee,Fe)=>{const Qe=Ns.getCoupled(Ee,"sandbox");Px(t.model,Ee,Fe.event.item),Hs(Ee,B5()),t.onItemExecute(Ee,Qe,Fe.event.item,yo.getValue(Ee)),sr.close(Qe),BD(Ee)})].concat(t.dismissOnBlur?[xn(Wh(),Ee=>{const Fe=Ns.getCoupled(Ee,"sandbox");za(Fe.element).isNone()&&sr.close(Fe)})]:[]))],le={[Pf()]:[yo.name(),wv.name(),$],...t.eventOrder};return{uid:t.uid,dom:LL(At(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Ti(t.typeaheadBehaviours,Y)},eventOrder:le}},FD=ht([xr("lazySink"),Bn("fetch"),tn("minChars",5),tn("responseTime",1e3),Us("onOpen"),tn("getHotspot",p.some),tn("getAnchorOverrides",ht({})),tn("layouts",p.none()),tn("eventOrder",{}),U2("model",{},[tn("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),tn("selectsOver",!0),tn("populateFromBrowse",!0)]),Us("onSetValue"),sc("onExecute"),Us("onItemExecute"),tn("inputClasses",[]),tn("inputAttributes",{}),tn("inputStyles",{}),tn("matchWidth",!0),tn("useMinWidth",!1),tn("dismissOnBlur",!0),Wl(["openClass"]),xr("initialData"),xr("listRole"),Fi("typeaheadBehaviours",[Es,yo,wv,Ho,qs,Ns]),Wi("lazyTypeaheadComp",()=>Je(p.none)),Wi("previewing",()=>Je(!0))].concat(bx()).concat(Rv())),ZU=ht([Tc({schema:[x8()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(r,l,d)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(g=>{KU(t.model,g,d).fold(()=>{t.model.selectsOver?(gr.dehighlight(l,d),t.previewing.set(!0)):t.previewing.set(!1)},v=>{v(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(g=>{t.model.populateFromBrowse&&Px(t.model,g,d),ai(d.element,"id").each(v=>os(g.element,"aria-activedescendant",v))})},onExecute:(r,l)=>t.lazyTypeaheadComp.get().map(d=>(Xo(d,qE(),{item:l}),!0)),onHover:(r,l)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&Px(t.model,d,l)})}})})]),GU=ic({name:"Typeahead",configFields:FD(),partFields:ZU(),factory:jU});var tp=tinymce.util.Tools.resolve("tinymce.ThemeManager"),$x=tinymce.util.Tools.resolve("tinymce.util.Delay"),Vv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),XE=tinymce.util.Tools.resolve("tinymce.EditorManager"),Na=tinymce.util.Tools.resolve("tinymce.Env"),Vd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Vd||(Vd={}));var Wv;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Wv||(Wv={}));const Ir=t=>r=>r.options.get(t),Kv=t=>r=>p.from(t(r)),PD=t=>{const r=Na.deviceType.isPhone(),l=Na.deviceType.isTablet()||r,d=t.options.register,g=y=>dt(y)||y===!1,v=y=>dt(y)||Zo(y);d("skin",{processor:y=>dt(y)||y===!1,default:"oxide"}),d("skin_url",{processor:"string"}),d("height",{processor:v,default:Math.max(t.getElement().offsetHeight,400)}),d("width",{processor:v,default:Vv.DOM.getStyle(t.getElement(),"width")}),d("min_height",{processor:"number",default:100}),d("min_width",{processor:"number"}),d("max_height",{processor:"number"}),d("max_width",{processor:"number"}),d("style_formats",{processor:"object[]"}),d("style_formats_merge",{processor:"boolean",default:!1}),d("style_formats_autohide",{processor:"boolean",default:!1}),d("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),d("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),d("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),d("font_size_input_default_unit",{processor:"string",default:"pt"}),d("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),d("content_langs",{processor:"object[]"}),d("removed_menuitems",{processor:"string",default:""}),d("menubar",{processor:y=>dt(y)||ve(y),default:!r}),d("menu",{processor:"object",default:{}}),d("toolbar",{processor:y=>ve(y)||dt(y)||pn(y)?{value:y,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),P(9,y=>{d("toolbar"+(y+1),{processor:"string"})}),d("toolbar_mode",{processor:"string",default:l?"scrolling":"floating"}),d("toolbar_groups",{processor:"object",default:{}}),d("toolbar_location",{processor:"string",default:Wv.auto}),d("toolbar_persist",{processor:"boolean",default:!1}),d("toolbar_sticky",{processor:"boolean",default:t.inline}),d("toolbar_sticky_offset",{processor:"number",default:0}),d("fixed_toolbar_container",{processor:"string",default:""}),d("fixed_toolbar_container_target",{processor:"object"}),d("ui_mode",{processor:"string",default:"combined"}),d("file_picker_callback",{processor:"function"}),d("file_picker_validator_handler",{processor:"function"}),d("file_picker_types",{processor:"string"}),d("typeahead_urls",{processor:"boolean",default:!0}),d("anchor_top",{processor:g,default:"#top"}),d("anchor_bottom",{processor:g,default:"#bottom"}),d("draggable_modal",{processor:"boolean",default:!1}),d("statusbar",{processor:"boolean",default:!0}),d("elementpath",{processor:"boolean",default:!0}),d("branding",{processor:"boolean",default:!0}),d("promotion",{processor:"boolean",default:!0}),d("resize",{processor:y=>y==="both"||ve(y),default:!Na.deviceType.isTouch()}),d("sidebar_show",{processor:"string"}),d("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),d("default_font_stack",{processor:"string[]",default:[]})},$D=Ir("readonly"),Hx=Ir("disabled"),QE=Ir("height"),JE=Ir("width"),ew=Kv(Ir("min_width")),tw=Kv(Ir("min_height")),zx=Kv(Ir("max_width")),nw=Kv(Ir("max_height")),HD=Kv(Ir("style_formats")),zD=Ir("style_formats_merge"),UD=Ir("style_formats_autohide"),VD=Ir("content_langs"),WD=Ir("removed_menuitems"),F0=Ir("toolbar_mode"),KD=Ir("toolbar_groups"),ow=Ir("toolbar_location"),YU=Ir("fixed_toolbar_container"),qU=Ir("fixed_toolbar_container_target"),jD=Ir("toolbar_persist"),ZD=Ir("toolbar_sticky_offset"),sw=Ir("menubar"),Ux=Ir("toolbar"),rw=Ir("file_picker_callback"),GD=Ir("file_picker_validator_handler"),aw=Ir("font_size_input_default_unit"),YD=Ir("file_picker_types"),iw=Ir("typeahead_urls"),qD=Ir("anchor_top"),XD=Ir("anchor_bottom"),QD=Ir("draggable_modal"),JD=Ir("statusbar"),eN=Ir("elementpath"),lw=Ir("branding"),tN=Ir("resize"),nN=Ir("paste_as_text"),oN=Ir("sidebar_show"),sN=Ir("promotion"),rN=Ir("help_accessibility"),aN=Ir("default_font_stack"),iN=Ir("skin"),Vx=t=>t.options.get("skin")===!1,Wx=t=>t.options.get("menubar")!==!1,lN=t=>{const r=t.options.get("skin_url");if(Vx(t))return r;if(r)return t.documentBaseURI.toAbsolute(r);{const l=t.options.get("skin");return XE.baseURL+"/skins/ui/"+l}},XU=t=>p.from(t.options.get("skin_url")),cN=t=>t.options.get("line_height_formats").split(" "),Kx=t=>{const r=Ux(t),l=dt(r),d=pn(r)&&r.length>0;return!Gm(t)&&(d||l||r===!0)},jv=t=>{const r=P(9,d=>t.options.get("toolbar"+(d+1))),l=be(r,dt);return Dn(l.length>0,l)},Gm=t=>jv(t).fold(()=>{const r=Ux(t);return Xt(r,dt)&&r.length>0},a),cw=t=>ow(t)===Wv.bottom,Zv=t=>{var r;if(!t.inline)return p.none();const l=(r=YU(t))!==null&&r!==void 0?r:"";if(l.length>0)return pr(gc(),l);const d=qU(t);return Ao(d)?p.some(cn.fromDom(d)):p.none()},e4=t=>t.inline&&Zv(t).isSome(),dw=t=>Zv(t).getOrThunk(()=>xl(Ra(cn.fromDom(t.getElement())))),uw=t=>t.inline&&!Wx(t)&&!Kx(t)&&!Gm(t),t4=t=>(t.options.get("toolbar_sticky")||t.inline)&&!e4(t)&&!uw(t),P0=t=>!e4(t)&&t.options.get("ui_mode")==="split",Gv=t=>{const r=t.options.get("menu");return et(r,l=>({...l,items:l.items}))};var n4=Object.freeze({__proto__:null,get ToolbarMode(){return Vd},get ToolbarLocation(){return Wv},register:PD,getSkinUrl:lN,getSkinUrlOption:XU,isReadOnly:$D,isDisabled:Hx,getSkin:iN,isSkinDisabled:Vx,getHeightOption:QE,getWidthOption:JE,getMinWidthOption:ew,getMinHeightOption:tw,getMaxWidthOption:zx,getMaxHeightOption:nw,getUserStyleFormats:HD,shouldMergeStyleFormats:zD,shouldAutoHideStyleFormats:UD,getLineHeightFormats:cN,getContentLanguages:VD,getRemovedMenuItems:WD,isMenubarEnabled:Wx,isMultipleToolbars:Gm,isToolbarEnabled:Kx,isToolbarPersist:jD,getMultipleToolbarsOption:jv,getUiContainer:dw,useFixedContainer:e4,isSplitUiMode:P0,getToolbarMode:F0,isDraggableModal:QD,isDistractionFree:uw,isStickyToolbar:t4,getStickyToolbarOffset:ZD,getToolbarLocation:ow,isToolbarLocationBottom:cw,getToolbarGroups:KD,getMenus:Gv,getMenubar:sw,getToolbar:Ux,getFilePickerCallback:rw,getFilePickerTypes:YD,useTypeaheadUrls:iw,getAnchorTop:qD,getAnchorBottom:XD,getFilePickerValidatorHandler:GD,getFontSizeInputDefaultUnit:aw,useStatusBar:JD,useElementPath:eN,promotionEnabled:sN,useBranding:lw,getResize:tN,getPasteAsText:nN,getSidebarShow:oN,useHelpAccessibility:rN,getDefaultFontStack:aN});const dN=["visible","hidden","clip"],fw=t=>Qn(t).length>0&&!Q(dN,t),uN=t=>{if(Bu(t)){const r=pa(t,"overflow-x"),l=pa(t,"overflow-y");return fw(r)||fw(l)}else return!1},fN=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),QU=(t,r)=>{const l=ti(r,uN),d=l.length===0?Ha(r).map(ua).map(g=>ti(g,uN)).getOr([]):l;return we(d).map(g=>({element:g,others:d.slice(1),isFullscreen:()=>fN(t)}))},Ym=(t,r)=>P0(t)?QU(t,r):p.none(),$0=t=>{const r=[...K(t.others,ha),ol()];return t.isFullscreen()?ol():m5(ha(t.element),r)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:pN,setPrototypeOf:gN,isFrozen:JU,getPrototypeOf:eV,getOwnPropertyDescriptor:tV}=Object;let{freeze:ld,seal:Du,create:H0}=Object,{apply:vg,construct:pw}=typeof Reflect<"u"&&Reflect;ld||(ld=function(r){return r}),Du||(Du=function(r){return r}),vg||(vg=function(r,l,d){return r.apply(l,d)}),pw||(pw=function(r,l){return new r(...l)});const Yv=Mc(Array.prototype.forEach),mN=Mc(Array.prototype.lastIndexOf),qv=Mc(Array.prototype.pop),Xv=Mc(Array.prototype.push),o4=Mc(Array.prototype.splice),xg=Mc(String.prototype.toLowerCase),gw=Mc(String.prototype.toString),hN=Mc(String.prototype.match),Qv=Mc(String.prototype.replace),nV=Mc(String.prototype.indexOf),oV=Mc(String.prototype.trim),e1=Mc(Object.prototype.hasOwnProperty),cd=Mc(RegExp.prototype.test),qm=sV(TypeError);function Mc(t){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var l=arguments.length,d=new Array(l>1?l-1:0),g=1;g<l;g++)d[g-1]=arguments[g];return vg(t,r,d)}}function sV(t){return function(){for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return pw(t,l)}}function zr(t,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xg;gN&&gN(t,null);let d=r.length;for(;d--;){let g=r[d];if(typeof g=="string"){const v=l(g);v!==g&&(JU(r)||(r[d]=v),g=v)}t[g]=!0}return t}function rV(t){for(let r=0;r<t.length;r++)e1(t,r)||(t[r]=null);return t}function yg(t){const r=H0(null);for(const[l,d]of pN(t))e1(t,l)&&(Array.isArray(d)?r[l]=rV(d):d&&typeof d=="object"&&d.constructor===Object?r[l]=yg(d):r[l]=d);return r}function z0(t,r){for(;t!==null;){const d=tV(t,r);if(d){if(d.get)return Mc(d.get);if(typeof d.value=="function")return Mc(d.value)}t=eV(t)}function l(){return null}return l}const aV=ld(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jv=ld(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mw=ld(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iV=ld(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hw=ld(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bN=ld(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bw=ld(["#text"]),vN=ld(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vw=ld(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xw=ld(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jx=ld(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lV=Du(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zx=Du(/<%[\w\W]*|[\w\W]*%>/gm),cV=Du(/\$\{[\w\W]*/gm),WQ=Du(/^data-[\-\w.\u00B7-\uFFFF]+$/),yw=Du(/^aria-[\-\w]+$/),xN=Du(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cw=Du(/^(?:\w+script|data):/i),dV=Du(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yN=Du(/^html$/i),CN=Du(/^[a-z][.\w]*(-[.\w]+)+$/i);var _w=Object.freeze({__proto__:null,ARIA_ATTR:yw,ATTR_WHITESPACE:dV,CUSTOM_ELEMENT:CN,DATA_ATTR:WQ,DOCTYPE_NAME:yN,ERB_EXPR:Zx,IS_ALLOWED_URI:xN,IS_SCRIPT_OR_DATA:Cw,MUSTACHE_EXPR:lV,TMPLIT_EXPR:cV});const s4={element:1,text:3,progressingInstruction:7,comment:8,document:9},Cg=function(){return typeof window>"u"?null:window},U0=function(r,l){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let d=null;const g="data-tt-policy-suffix";l&&l.hasAttribute(g)&&(d=l.getAttribute(g));const v="dompurify"+(d?"#"+d:"");try{return r.createPolicy(v,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+v+" could not be created."),null}},_N=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function EN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cg();const r=To=>EN(To);if(r.version="3.2.6",r.removed=[],!t||!t.document||t.document.nodeType!==s4.document||!t.Element)return r.isSupported=!1,r;let{document:l}=t;const d=l,g=d.currentScript,{DocumentFragment:v,HTMLTemplateElement:y,Node:k,Element:$,NodeFilter:Y,NamedNodeMap:le=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:Ee,DOMParser:Fe,trustedTypes:Qe}=t,qe=$.prototype,vt=z0(qe,"cloneNode"),Ot=z0(qe,"remove"),Ct=z0(qe,"nextSibling"),$t=z0(qe,"childNodes"),Ut=z0(qe,"parentNode");if(typeof y=="function"){const To=l.createElement("template");To.content&&To.content.ownerDocument&&(l=To.content.ownerDocument)}let an,un="";const{implementation:uo,createNodeIterator:Fn,createDocumentFragment:$n,getElementsByTagName:Nn}=l,{importNode:jo}=d;let Po=_N();r.isSupported=typeof pN=="function"&&typeof Ut=="function"&&uo&&uo.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Zs,ERB_EXPR:ss,TMPLIT_EXPR:ks,DATA_ATTR:Io,ARIA_ATTR:Ln,IS_SCRIPT_OR_DATA:no,ATTR_WHITESPACE:is,CUSTOM_ELEMENT:Os}=_w;let{IS_ALLOWED_URI:$o}=_w,_s=null;const Cr=zr({},[...aV,...Jv,...mw,...hw,...bw]);let lr=null;const qi=zr({},[...vN,...vw,...xw,...jx]);let cr=Object.seal(H0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ll=null,ki=null,dc=!0,Fc=!0,Yd=!1,qd=!0,r1=!1,U4=!0,cp=!1,dp=!1,V4=!1,b2=!1,Ty=!1,Ay=!1,uP=!0,fP=!1;const W4="user-content-";let pP=!0,F6=!1,K4={},P6=null;const gP=zr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mP=null;const j4=zr({},["audio","video","img","source","image","track"]);let mA=null;const hP=zr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$6="http://www.w3.org/1998/Math/MathML",ky="http://www.w3.org/2000/svg",dh="http://www.w3.org/1999/xhtml";let e=dh,n=!1,o=null;const i=zr({},[$6,ky,dh],gw);let c=zr({},["mi","mo","mn","ms","mtext"]),f=zr({},["annotation-xml"]);const h=zr({},["title","style","font","a","script"]);let _=null;const S=["application/xhtml+xml","text/html"],F="text/html";let oe=null,he=null;const Se=l.createElement("form"),Be=function(Gt){return Gt instanceof RegExp||Gt instanceof Function},it=function(){let Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(he&&he===Gt)){if((!Gt||typeof Gt!="object")&&(Gt={}),Gt=yg(Gt),_=S.indexOf(Gt.PARSER_MEDIA_TYPE)===-1?F:Gt.PARSER_MEDIA_TYPE,oe=_==="application/xhtml+xml"?gw:xg,_s=e1(Gt,"ALLOWED_TAGS")?zr({},Gt.ALLOWED_TAGS,oe):Cr,lr=e1(Gt,"ALLOWED_ATTR")?zr({},Gt.ALLOWED_ATTR,oe):qi,o=e1(Gt,"ALLOWED_NAMESPACES")?zr({},Gt.ALLOWED_NAMESPACES,gw):i,mA=e1(Gt,"ADD_URI_SAFE_ATTR")?zr(yg(hP),Gt.ADD_URI_SAFE_ATTR,oe):hP,mP=e1(Gt,"ADD_DATA_URI_TAGS")?zr(yg(j4),Gt.ADD_DATA_URI_TAGS,oe):j4,P6=e1(Gt,"FORBID_CONTENTS")?zr({},Gt.FORBID_CONTENTS,oe):gP,Ll=e1(Gt,"FORBID_TAGS")?zr({},Gt.FORBID_TAGS,oe):yg({}),ki=e1(Gt,"FORBID_ATTR")?zr({},Gt.FORBID_ATTR,oe):yg({}),K4=e1(Gt,"USE_PROFILES")?Gt.USE_PROFILES:!1,dc=Gt.ALLOW_ARIA_ATTR!==!1,Fc=Gt.ALLOW_DATA_ATTR!==!1,Yd=Gt.ALLOW_UNKNOWN_PROTOCOLS||!1,qd=Gt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,r1=Gt.SAFE_FOR_TEMPLATES||!1,U4=Gt.SAFE_FOR_XML!==!1,cp=Gt.WHOLE_DOCUMENT||!1,b2=Gt.RETURN_DOM||!1,Ty=Gt.RETURN_DOM_FRAGMENT||!1,Ay=Gt.RETURN_TRUSTED_TYPE||!1,V4=Gt.FORCE_BODY||!1,uP=Gt.SANITIZE_DOM!==!1,fP=Gt.SANITIZE_NAMED_PROPS||!1,pP=Gt.KEEP_CONTENT!==!1,F6=Gt.IN_PLACE||!1,$o=Gt.ALLOWED_URI_REGEXP||xN,e=Gt.NAMESPACE||dh,c=Gt.MATHML_TEXT_INTEGRATION_POINTS||c,f=Gt.HTML_INTEGRATION_POINTS||f,cr=Gt.CUSTOM_ELEMENT_HANDLING||{},Gt.CUSTOM_ELEMENT_HANDLING&&Be(Gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(cr.tagNameCheck=Gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Gt.CUSTOM_ELEMENT_HANDLING&&Be(Gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(cr.attributeNameCheck=Gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Gt.CUSTOM_ELEMENT_HANDLING&&typeof Gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(cr.allowCustomizedBuiltInElements=Gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),r1&&(Fc=!1),Ty&&(b2=!0),K4&&(_s=zr({},bw),lr=[],K4.html===!0&&(zr(_s,aV),zr(lr,vN)),K4.svg===!0&&(zr(_s,Jv),zr(lr,vw),zr(lr,jx)),K4.svgFilters===!0&&(zr(_s,mw),zr(lr,vw),zr(lr,jx)),K4.mathMl===!0&&(zr(_s,hw),zr(lr,xw),zr(lr,jx))),Gt.ADD_TAGS&&(_s===Cr&&(_s=yg(_s)),zr(_s,Gt.ADD_TAGS,oe)),Gt.ADD_ATTR&&(lr===qi&&(lr=yg(lr)),zr(lr,Gt.ADD_ATTR,oe)),Gt.ADD_URI_SAFE_ATTR&&zr(mA,Gt.ADD_URI_SAFE_ATTR,oe),Gt.FORBID_CONTENTS&&(P6===gP&&(P6=yg(P6)),zr(P6,Gt.FORBID_CONTENTS,oe)),pP&&(_s["#text"]=!0),cp&&zr(_s,["html","head","body"]),_s.table&&(zr(_s,["tbody"]),delete Ll.tbody),Gt.TRUSTED_TYPES_POLICY){if(typeof Gt.TRUSTED_TYPES_POLICY.createHTML!="function")throw qm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Gt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');an=Gt.TRUSTED_TYPES_POLICY,un=an.createHTML("")}else an===void 0&&(an=U0(Qe,g)),an!==null&&typeof un=="string"&&(un=an.createHTML(""));ld&&ld(Gt),he=Gt}},rt=zr({},[...Jv,...mw,...iV]),st=zr({},[...hw,...bN]),Vt=function(Gt){let lo=Ut(Gt);(!lo||!lo.tagName)&&(lo={namespaceURI:e,tagName:"template"});const rs=xg(Gt.tagName),dr=xg(lo.tagName);return o[Gt.namespaceURI]?Gt.namespaceURI===ky?lo.namespaceURI===dh?rs==="svg":lo.namespaceURI===$6?rs==="svg"&&(dr==="annotation-xml"||c[dr]):!!rt[rs]:Gt.namespaceURI===$6?lo.namespaceURI===dh?rs==="math":lo.namespaceURI===ky?rs==="math"&&f[dr]:!!st[rs]:Gt.namespaceURI===dh?lo.namespaceURI===ky&&!f[dr]||lo.namespaceURI===$6&&!c[dr]?!1:!st[rs]&&(h[rs]||!rt[rs]):!!(_==="application/xhtml+xml"&&o[Gt.namespaceURI]):!1},Bt=function(Gt){Xv(r.removed,{element:Gt});try{Ut(Gt).removeChild(Gt)}catch{Ot(Gt)}},Yt=function(Gt,lo){try{Xv(r.removed,{attribute:lo.getAttributeNode(Gt),from:lo})}catch{Xv(r.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Gt),Gt==="is")if(b2||Ty)try{Bt(lo)}catch{}else try{lo.setAttribute(Gt,"")}catch{}},rn=function(Gt){let lo=null,rs=null;if(V4)Gt="<remove></remove>"+Gt;else{const Zn=hN(Gt,/^[\r\n\t ]+/);rs=Zn&&Zn[0]}_==="application/xhtml+xml"&&e===dh&&(Gt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Gt+"</body></html>");const dr=an?an.createHTML(Gt):Gt;if(e===dh)try{lo=new Fe().parseFromString(dr,_)}catch{}if(!lo||!lo.documentElement){lo=uo.createDocument(e,"template",null);try{lo.documentElement.innerHTML=n?un:dr}catch{}}const va=lo.body||lo.documentElement;return Gt&&rs&&va.insertBefore(l.createTextNode(rs),va.childNodes[0]||null),e===dh?Nn.call(lo,cp?"html":"body")[0]:cp?lo.documentElement:va},Sn=function(Gt){return Fn.call(Gt.ownerDocument||Gt,Gt,Y.SHOW_ELEMENT|Y.SHOW_COMMENT|Y.SHOW_TEXT|Y.SHOW_PROCESSING_INSTRUCTION|Y.SHOW_CDATA_SECTION,null)},so=function(Gt){return Gt instanceof Ee&&(typeof Gt.nodeName!="string"||typeof Gt.textContent!="string"||typeof Gt.removeChild!="function"||!(Gt.attributes instanceof le)||typeof Gt.removeAttribute!="function"||typeof Gt.setAttribute!="function"||typeof Gt.namespaceURI!="string"||typeof Gt.insertBefore!="function"||typeof Gt.hasChildNodes!="function")},Un=function(Gt){return typeof k=="function"&&Gt instanceof k};function gn(To,Gt,lo){Yv(To,rs=>{rs.call(r,Gt,lo,he)})}const mn=function(Gt){let lo=null;if(gn(Po.beforeSanitizeElements,Gt,null),so(Gt))return Bt(Gt),!0;const rs=oe(Gt.nodeName);if(gn(Po.uponSanitizeElement,Gt,{tagName:rs,allowedTags:_s}),U4&&Gt.hasChildNodes()&&!Un(Gt.firstElementChild)&&cd(/<[/\w!]/g,Gt.innerHTML)&&cd(/<[/\w!]/g,Gt.textContent)||Gt.nodeType===s4.progressingInstruction||U4&&Gt.nodeType===s4.comment&&cd(/<[/\w]/g,Gt.data))return Bt(Gt),!0;if(!_s[rs]||Ll[rs]){if(!Ll[rs]&&Lo(rs)&&(cr.tagNameCheck instanceof RegExp&&cd(cr.tagNameCheck,rs)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(rs)))return!1;if(pP&&!P6[rs]){const dr=Ut(Gt)||Gt.parentNode,va=$t(Gt)||Gt.childNodes;if(va&&dr){const Zn=va.length;for(let Ro=Zn-1;Ro>=0;--Ro){const Xs=vt(va[Ro],!0);Xs.__removalCount=(Gt.__removalCount||0)+1,dr.insertBefore(Xs,Ct(Gt))}}}return Bt(Gt),!0}return Gt instanceof $&&!Vt(Gt)||(rs==="noscript"||rs==="noembed"||rs==="noframes")&&cd(/<\/no(script|embed|frames)/i,Gt.innerHTML)?(Bt(Gt),!0):(r1&&Gt.nodeType===s4.text&&(lo=Gt.textContent,Yv([Zs,ss,ks],dr=>{lo=Qv(lo,dr," ")}),Gt.textContent!==lo&&(Xv(r.removed,{element:Gt.cloneNode()}),Gt.textContent=lo)),gn(Po.afterSanitizeElements,Gt,null),!1)},Rn=function(Gt,lo,rs){if(uP&&(lo==="id"||lo==="name")&&(rs in l||rs in Se))return!1;if(!(Fc&&!ki[lo]&&cd(Io,lo))){if(!(dc&&cd(Ln,lo))){if(!lr[lo]||ki[lo]){if(!(Lo(Gt)&&(cr.tagNameCheck instanceof RegExp&&cd(cr.tagNameCheck,Gt)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(Gt))&&(cr.attributeNameCheck instanceof RegExp&&cd(cr.attributeNameCheck,lo)||cr.attributeNameCheck instanceof Function&&cr.attributeNameCheck(lo))||lo==="is"&&cr.allowCustomizedBuiltInElements&&(cr.tagNameCheck instanceof RegExp&&cd(cr.tagNameCheck,rs)||cr.tagNameCheck instanceof Function&&cr.tagNameCheck(rs))))return!1}else if(!mA[lo]){if(!cd($o,Qv(rs,is,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Gt!=="script"&&nV(rs,"data:")===0&&mP[Gt])){if(!(Yd&&!cd(no,Qv(rs,is,"")))){if(rs)return!1}}}}}}return!0},Lo=function(Gt){return Gt!=="annotation-xml"&&hN(Gt,Os)},Qo=function(Gt){gn(Po.beforeSanitizeAttributes,Gt,null);const{attributes:lo}=Gt;if(!lo||so(Gt))return;const rs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:lr,forceKeepAttr:void 0};let dr=lo.length;for(;dr--;){const va=lo[dr],{name:Zn,namespaceURI:Ro,value:Xs}=va,rr=oe(Zn),Bo=Xs;let Pn=Zn==="value"?Bo:oV(Bo);if(rs.attrName=rr,rs.attrValue=Pn,rs.keepAttr=!0,rs.forceKeepAttr=void 0,gn(Po.uponSanitizeAttribute,Gt,rs),Pn=rs.attrValue,fP&&(rr==="id"||rr==="name")&&(Yt(Zn,Gt),Pn=W4+Pn),U4&&cd(/((--!?|])>)|<\/(style|title)/i,Pn)){Yt(Zn,Gt);continue}if(rs.forceKeepAttr)continue;if(!rs.keepAttr){Yt(Zn,Gt);continue}if(!qd&&cd(/\/>/i,Pn)){Yt(Zn,Gt);continue}r1&&Yv([Zs,ss,ks],vs=>{Pn=Qv(Pn,vs," ")});const ho=oe(Gt.nodeName);if(!Rn(ho,rr,Pn)){Yt(Zn,Gt);continue}if(an&&typeof Qe=="object"&&typeof Qe.getAttributeType=="function"&&!Ro)switch(Qe.getAttributeType(ho,rr)){case"TrustedHTML":{Pn=an.createHTML(Pn);break}case"TrustedScriptURL":{Pn=an.createScriptURL(Pn);break}}if(Pn!==Bo)try{Ro?Gt.setAttributeNS(Ro,Zn,Pn):Gt.setAttribute(Zn,Pn),so(Gt)?Bt(Gt):qv(r.removed)}catch{Yt(Zn,Gt)}}gn(Po.afterSanitizeAttributes,Gt,null)},Ms=function To(Gt){let lo=null;const rs=Sn(Gt);for(gn(Po.beforeSanitizeShadowDOM,Gt,null);lo=rs.nextNode();)gn(Po.uponSanitizeShadowNode,lo,null),mn(lo),Qo(lo),lo.content instanceof v&&To(lo.content);gn(Po.afterSanitizeShadowDOM,Gt,null)};return r.sanitize=function(To){let Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo=null,rs=null,dr=null,va=null;if(n=!To,n&&(To="<!-->"),typeof To!="string"&&!Un(To))if(typeof To.toString=="function"){if(To=To.toString(),typeof To!="string")throw qm("dirty is not a string, aborting")}else throw qm("toString is not a function");if(!r.isSupported)return To;if(dp||it(Gt),r.removed=[],typeof To=="string"&&(F6=!1),F6){if(To.nodeName){const Xs=oe(To.nodeName);if(!_s[Xs]||Ll[Xs])throw qm("root node is forbidden and cannot be sanitized in-place")}}else if(To instanceof k)lo=rn("<!---->"),rs=lo.ownerDocument.importNode(To,!0),rs.nodeType===s4.element&&rs.nodeName==="BODY"||rs.nodeName==="HTML"?lo=rs:lo.appendChild(rs);else{if(!b2&&!r1&&!cp&&To.indexOf("<")===-1)return an&&Ay?an.createHTML(To):To;if(lo=rn(To),!lo)return b2?null:Ay?un:""}lo&&V4&&Bt(lo.firstChild);const Zn=Sn(F6?To:lo);for(;dr=Zn.nextNode();)mn(dr),Qo(dr),dr.content instanceof v&&Ms(dr.content);if(F6)return To;if(b2){if(Ty)for(va=$n.call(lo.ownerDocument);lo.firstChild;)va.appendChild(lo.firstChild);else va=lo;return(lr.shadowroot||lr.shadowrootmode)&&(va=jo.call(d,va,!0)),va}let Ro=cp?lo.outerHTML:lo.innerHTML;return cp&&_s["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&cd(yN,lo.ownerDocument.doctype.name)&&(Ro="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+Ro),r1&&Yv([Zs,ss,ks],Xs=>{Ro=Qv(Ro,Xs," ")}),an&&Ay?an.createHTML(Ro):Ro},r.setConfig=function(){let To=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it(To),dp=!0},r.clearConfig=function(){he=null,dp=!1},r.isValidAttribute=function(To,Gt,lo){he||it({});const rs=oe(To),dr=oe(Gt);return Rn(rs,dr,lo)},r.addHook=function(To,Gt){typeof Gt=="function"&&Xv(Po[To],Gt)},r.removeHook=function(To,Gt){if(Gt!==void 0){const lo=mN(Po[To],Gt);return lo===-1?void 0:o4(Po[To],lo,1)[0]}return qv(Po[To])},r.removeHooks=function(To){Po[To]=[]},r.removeAllHooks=function(){Po=_N()},r}var wN=EN();const SN=t=>wN().sanitize(t);var gl=tinymce.util.Tools.resolve("tinymce.util.I18n");const uV={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},TN="temporary-placeholder",Ew=t=>()=>Rt(t,TN).getOr("!not found!"),ww=(t,r)=>{const l=t.toLowerCase();if(gl.isRtl()){const d=bo(l,"-rtl");return Wt(r,d)?d:l}else return l},AN=(t,r)=>Rt(r,ww(t,r)),kN=(t,r)=>{const l=r();return AN(t,l).getOrThunk(Ew(l))},fV=(t,r,l)=>{const d=r();return AN(t,d).or(l).getOrThunk(Ew(d))},pV=t=>gl.isRtl()?Wt(uV,t):!1,Gx=()=>Cs("add-focusable",[Wr(t=>{g1(t.element,"svg").each(r=>os(r,"focusable","false"))})]),ON=(t,r,l,d)=>{var g,v,y;const k=pV(r)?["tox-icon--flip"]:[],$=Rt(l,ww(r,l)).or(d).getOrThunk(Ew(l));return{dom:{tag:t.tag,attributes:(g=t.attributes)!==null&&g!==void 0?g:{},classes:t.classes.concat(k),innerHtml:$},behaviours:Yn([...(v=t.behaviours)!==null&&v!==void 0?v:[],Gx()]),eventOrder:(y=t.eventOrder)!==null&&y!==void 0?y:{}}},Wd=(t,r,l,d=p.none())=>ON(r,t,l(),d),gV=(t,r,l)=>{const d=l(),g=D(t,v=>Wt(d,ww(v,d)));return ON(r,g.getOr(TN),d,p.none())},LN={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Sw=od({name:"Notification",factory:t=>{const r=_e("notification-text"),l=mr({dom:q1(`<p id=${r}>${SN(t.backstageProvider.translate(t.text))}</p>`),behaviours:Yn([ws.config({})])}),d=qe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${qe}%`}}}),g=qe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${qe}%`}}),v=mr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(0)]},g(0)],behaviours:Yn([ws.config({})])}),$={updateProgress:(qe,vt)=>{qe.getSystem().isConnected()&&v.getOpt(qe).each(Ot=>{ws.set(Ot,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[d(vt)]},g(vt)])})},updateText:(qe,vt)=>{if(qe.getSystem().isConnected()){const Ot=l.get(qe);ws.set(Ot,[Zr(vt)])}}},Y=V([t.icon.toArray(),[t.level],p.from(LN[t.level]).toArray()]),le=mr(pl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[Wd("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:Yn([Hr.config({}),wr.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:qe=>{t.onAction(qe)}})),Ee=gV(Y,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),Fe={dom:{tag:"div",classes:["tox-notification__body"]},components:[l.asSpec()],behaviours:Yn([ws.config({})])},Qe=[Ee,Fe];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},behaviours:Yn([Hr.config({}),Es.config({}),Ho.config({mode:"special",onEscape:qe=>(t.onAction(qe),p.some(!0))})]),components:Qe.concat(t.progress?[v.asSpec()]:[]).concat([le.asSpec()]),apis:$}},configFields:[Ec("level","info",["success","error","warning","warn","info"]),Bn("progress"),xr("icon"),Bn("onAction"),Bn("text"),Bn("iconProvider"),Bn("backstageProvider")],apis:{updateProgress:(t,r,l)=>{t.updateProgress(r,l)},updateText:(t,r,l)=>{t.updateText(r,l)}}});var mV=(t,r,l,d)=>{const g=r.backstage.shared,v=()=>cn.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),y=()=>{const Ee=ha(v());return p.some(Ee)},k=Ee=>{y().each(Fe=>{ee(Ee,Qe=>{Ps(Qe.element,"width"),ei(Qe.element)>Fe.width&&Mo(Qe.element,"width",Fe.width+"px")})})};return{open:(Ee,Fe,Qe)=>{const qe=()=>{const Ut=Fn=>{ws.remove(Fn,Ot),Ct()},an=(Fn,$n)=>{Hc(Fn.element).length===0?un(Fn,$n):uo(Fn,$n)},un=(Fn,$n)=>{oa.hide(Fn),d.clear(),$n&&t.focus()},uo=(Fn,$n)=>{$n&&Ho.focusIn(Fn)};d.on(Fn=>{Fe();const $n=Qe();Ut(Fn),an(Fn,$n)})},vt=()=>!t4(t)||!g.header.isPositionedAtTop(),Ot=C(Sw.sketch({text:Ee.text,level:Q(["success","error","warning","warn","info"],Ee.type)?Ee.type:void 0,progress:Ee.progressBar===!0,icon:Ee.icon,onAction:qe,iconProvider:g.providers.icons,backstageProvider:g.providers}));if(d.isSet()){const Ut=T(Ot);d.on(an=>{ws.append(an,Ut),oa.reposition(an),Ot.hasConfigured(ea)&&ea.refresh(an),k(an.components())})}else{const Ut=C(oa.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:g.getSink,fireDismissalEventInstead:{},...g.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Yn([Ho.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),ws.config({}),...vt()?[ea.config({contextual:{lazyContext:()=>p.some(ha(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Fn=>Ym(t,Fn.element).map(Nn=>({bounds:$0(Nn),optScrollEnv:p.some({currentScrollTop:Nn.element.dom.scrollTop,scrollElmTop:Ni(Nn.element).top})})).getOrThunk(()=>({bounds:ol(),optScrollEnv:p.none()}))})]:[]])})),an=T(Ot),un={maxHeightFunction:bm()},uo={...g.anchors.banner(),overrides:un};d.set(Ut),l.add(Ut),oa.showWithinBounds(Ut,an,{anchor:uo},y)}Zo(Ee.timeout)&&Ee.timeout>0&&$x.setEditorTimeout(t,()=>{qe()},Ee.timeout);const Ct=()=>{d.on(Ut=>{oa.reposition(Ut),Ut.hasConfigured(ea)&&ea.refresh(Ut),k(Ut.components())})};return{close:qe,reposition:Ct,text:Ut=>{Sw.updateText(Ot,Ut)},settings:Ee,getEl:()=>Ot.element.dom,progressBar:{value:Ut=>{Sw.updateProgress(Ot,Ut)}}}},close:Ee=>{Ee.close()},getArgs:Ee=>Ee.settings}};const bV={setup:(t,r)=>{const l=(g,v)=>{Xo(g,di(),{raw:v})},d=()=>t.getMenu().bind(gr.getHighlighted);r.on("keydown",g=>{const v=g.which;t.isActive()&&(t.isMenuOpen()?v===13?(d().each(vm),g.preventDefault()):v===40?(d().fold(()=>{t.getMenu().each(gr.highlightFirst)},y=>{l(y,g)}),g.preventDefault(),g.stopImmediatePropagation()):(v===37||v===38||v===39)&&d().each(y=>{l(y,g),g.preventDefault(),g.stopImmediatePropagation()}):(v===13||v===38||v===40)&&t.cancelIfNecessary())}),r.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!r.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var Tw;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Tw||(Tw={}));var df=Tw;const Aw="tox-menu-nav__js",Yx="tox-collection__item",qx="tox-swatch",DN={normal:Aw,color:qx},kw="tox-collection__item--enabled",vV="tox-collection__group-heading",NN="tox-collection__item-icon",xV="tox-collection__item-image",yV="tox-collection__item-image-selector",Xx="tox-collection__item-label",r4="tox-collection__item-accessory",RN="tox-collection__item-caret",CV="tox-collection__item-checkmark",V0="tox-collection__item--active",e6="tox-collection__item-container",Nu="tox-collection__item-container--column",Qx="tox-collection__item-container--row",MN="tox-collection__item-container--align-right",_V="tox-collection__item-container--align-left",EV="tox-collection__item-container--valign-top",wV="tox-collection__item-container--valign-middle",SV="tox-collection__item-container--valign-bottom",Ow=t=>Rt(DN,t).getOr(Aw),IN=t=>t==="color"?"tox-swatches":"tox-menu",Lw=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:IN(t),tieredMenu:"tox-tiered-menu"}),Xm=t=>{const r=Lw(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:Ow(t)}},BN=(t,r,l)=>{const d=Lw(l);return{tag:"div",classes:V([[d.menu,`tox-menu-${r}-column`],t?[d.hasIcons]:[]])}},TV=[Q1.parts.items({})],a4=(t,r,l)=>{const d=Lw(l);return{dom:{tag:"div",classes:V([[d.tieredMenu]])},markers:Xm(l)}},Dw=_e("refetch-trigger-event"),Nw=_e("redirect-menu-item-interaction"),FN="tox-menu__searcher",Jx=t=>pr(t.element,`.${FN}`).bind(r=>t.getSystem().getByDom(r).toOptional()),PN=Jx,AV=(t,r)=>{yo.setValue(t,r.fetchPattern),t.element.dom.selectionStart=r.selectionStart,t.element.dom.selectionEnd=r.selectionEnd},$N=t=>{const r=yo.getValue(t),l=t.element.dom.selectionStart,d=t.element.dom.selectionEnd;return{fetchPattern:r,selectionStart:l,selectionEnd:d}},e9=(t,r)=>{ai(r.element,"id").each(l=>os(t.element,"aria-activedescendant",l))},np=t=>{const r=(g,v)=>(v.cut(),p.none()),l=(g,v)=>{const y={interactionEvent:v.event,eventType:v.event.raw.type};return Xo(g,Nw,y),p.some(!0)},d="searcher-events";return{dom:{tag:"div",classes:[Yx]},components:[mg.sketch({inputClasses:[FN,"tox-textfield"],inputAttributes:{...t.placeholder.map(g=>({placeholder:t.i18n(g)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Yn([Cs(d,[xn(Bf(),g=>{Hs(g,Dw)}),xn(di(),(g,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),Ho.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:l,onEscape:l,onUp:l,onDown:l})]),eventOrder:{keydown:[d,Ho.name()]}})]}},Qm="tox-collection--results__js",Kd=t=>{var r;return t.dom?{...t,dom:{...t.dom,attributes:{...(r=t.dom.attributes)!==null&&r!==void 0?r:{},id:_e("aria-item-search-result-id"),"aria-selected":"false"}}}:t},HN="Use arrow keys to navigate.",W0=(t,r)=>l=>{const d=j(l,r);return K(d,g=>({dom:t,components:g}))},kV=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":gl.translate(HN)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Q1.parts.items({preprocess:t!=="auto"?W0({tag:"div",classes:["tox-swatches__row"]},t):oo})]}]}),K0=t=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Q1.parts.items({preprocess:t!=="auto"?W0({tag:"div",classes:["tox-image-selector__row"]},t):oo})]}]}),OV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Q1.parts.items({preprocess:W0({tag:"div",classes:["tox-collection__group"]},t)})]}),t9=(t,r)=>{const l=[];let d=[];return ee(t,(g,v)=>{r(g,v)?(d.length>0&&l.push(d),d=[],(Wt(g.dom,"innerHtml")||g.components&&g.components.length>0)&&d.push(g)):d.push(g)}),d.length>0&&l.push(d),K(l,g=>({dom:{tag:"div",classes:["tox-collection__group"]},components:g}))},t6=(t,r,l)=>Q1.parts.items({preprocess:d=>{const g=K(d,l);return t!=="auto"&&t>1?W0({tag:"div",classes:["tox-collection__group"]},t)(g):t9(g,(v,y)=>r[y].type==="separator")}}),LV=t=>H(t,r=>r.type==="widget"),zN=(t,r,l=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...LV(r)?{"aria-label":gl.translate(HN)}:{}}},components:[t6(t,r,oo)]}),j0=(t,r,l=!0)=>{const d=_e("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Qm].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:d}},components:[t6(t,r,Kd)]}},UN=(t,r,l)=>{const d=_e("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[np({i18n:gl.translate,placeholder:l.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Qm],attributes:{id:d}},components:[t6(t,r,Kd)]}]}},VN=(t,r=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Q1.parts.items({preprocess:l=>t9(l,(d,g)=>t[g].type==="separator")})]}),Jm=t=>H(t,r=>"icon"in r&&r.icon!==void 0),Ic=t=>(console.error(Jg(t)),console.log(t),p.none()),i4=(t,r,l,d,g)=>{const v=VN(l);return{value:t,dom:v.dom,components:v.components,items:l}},eh=(t,r,l,d,g)=>{const v=()=>g.menuType!=="searchable"?zN(d,l):g.searchMode.searchMode==="search-with-field"?UN(d,l,g.searchMode):j0(d,l);if(g.menuType==="color"){const y=kV(d);return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="imageselector"&&d!=="auto"){const y=K0(d);return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="normal"&&d==="auto"){const y=zN(d,l);return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="normal"||g.menuType==="searchable"){const y=v();return{value:t,dom:y.dom,components:y.components,items:l}}else if(g.menuType==="listpreview"&&d!=="auto"){const y=OV(d);return{value:t,dom:y.dom,components:y.components,items:l}}else return{value:t,dom:BN(r,d,g.menuType),components:TV,items:l}},ba=Ga("type"),Rw=Ga("name"),l4=Ga("label"),op=Ga("text"),Mw=Ga("title"),Z0=Ga("icon"),DV=Ga("url"),c4=Ga("value"),NV=Cc("fetch"),RV=Cc("getSubmenuItems"),th=Cc("onAction"),MV=Cc("onItemAction"),_g=$r("onSetup",()=>lt),IV=xa("name"),uf=xa("text"),BV=xa("role"),jd=xa("icon"),G0=xa("tooltip"),FV=xa("chevronTooltip"),n6=xa("label"),Iw=xa("shortcut"),n9=hu("select"),Y0=Oa("active",!1),PV=Oa("borderless",!1),Zd=Oa("enabled",!0),sp=Oa("primary",!1),Bw=t=>tn("columns",t),q0=tn("meta",{}),Fw=$r("onAction",lt),nh=t=>aa("type",t),Pw=t=>ci("name","name",Pr(()=>_e(`${t}-name`)),ka),$V=t=>ci("value","value",Pr(()=>_e(`${t}-value`)),gu()),X0=[ba,op,Td("level",["info","warn","error","success"]),Z0,tn("url","")],WN=ts(X0),HV=t=>[ba,t],KN=[ba,op,Zd,Pw("button"),jd,PV,T5("buttonType",["primary","secondary","toolbar"]),sp,aa("context","mode:design")],zV=ts(KN),d4=[ba,Rw],t1=d4.concat([n6]),jN=d4.concat([l4,Zd,aa("context","mode:design")]),UV=ts(jN),VV=Ys,WV=t1.concat([Bw("auto"),aa("context","mode:design")]),KV=ts(WV),jV=kp([c4,op,Z0]),ZV=t1.concat([aa("storageKey","default"),aa("context","mode:design")]),GV=ts(ZV),YV=ka,XV=ts(t1),QV=ka,JV=d4.concat([aa("tag","textarea"),Ga("scriptId"),Ga("scriptUrl"),hu("onFocus"),c8("settings",void 0)]),eW=d4.concat([aa("tag","textarea"),Cc("init")]),tW=_1(t=>ra("customeditor.old",yc(eW),t).orThunk(()=>ra("customeditor.new",yc(JV),t))),nW=ka,Eg=[Zd,uf,BV,Iw,$V("menuitem"),q0,aa("context","mode:design")],ZN=ts([ba,Rw].concat(Eg)),oW=Ys,u4=[Pw("button"),jd,Ec("align","end",["start","end"]),sp,Zd,T5("buttonType",["primary","secondary"]),aa("context","mode:design")],GN=[...u4,op],$w=[Td("type",["submit","cancel","custom"]),...GN],sW=[Td("type",["menu"]),uf,G0,jd,_c("items",ZN),...u4],rW=[...u4,Td("type",["togglebutton"]),G0,jd,uf,Oa("active",!1)],aW=El("type",{submit:$w,cancel:$w,custom:$w,menu:sW,togglebutton:rW}),iW=t1.concat([aa("context","mode:design")]),lW=ts(iW),cW=_5(),oh=t=>[ba,w5("columns"),t],dW=[ba,Ga("html"),Ec("presets","presentation",["presentation","document"]),$r("onInit",lt),Oa("stretched",!1)],uW=ts(dW),YN=t1.concat([Oa("border",!1),Oa("sandboxed",!0),Oa("streamContent",!1),Oa("transparent",!0)]),fW=ts(YN),pW=ka,gW=ts(d4.concat([xa("height")])),mW=ts([Ga("url"),em("zoom"),em("cachedWidth"),em("cachedHeight")]),Hw=t1.concat([xa("inputMode"),xa("placeholder"),Oa("maximized",!1),Zd,aa("context","mode:design")]),qN=ts(Hw),zw=ka,o9=t=>[ba,l4,t,Ec("align","start",["start","center","end"]),xa("for")],f4=[op,c4],hW=[op,_c("items",Df("items",()=>Uw))],Uw=Qg([ts(f4),ts(hW)]),bW=t1.concat([_c("items",Uw),Zd,aa("context","mode:design")]),p4=ts(bW),vW=ka,s9=t1.concat([S5("items",[op,c4]),O5("size",1),Zd,aa("context","mode:design")]),Vw=ts(s9),xW=ka,yW=t1.concat([Oa("constrain",!0),Zd,aa("context","mode:design")]),CW=ts(yW),r9=ts([Ga("width"),Ga("height")]),_W=d4.concat([l4,O5("min",0),O5("max",0)]),EW=ts(_W),wW=Ku,XN=[ba,_c("header",ka),_c("cells",Gc(ka))],Ww=ts(XN),SW=t1.concat([xa("placeholder"),Oa("maximized",!1),Zd,aa("context","mode:design"),A5("spellcheck")]),TW=ts(SW),AW=ka,QN=[aa("buttonType","default"),xa("text"),xa("tooltip"),xa("icon"),Sl("search",!1,Qg([Ys,ts([xa("placeholder")])],t=>ve(t)?t?p.some({placeholder:p.none()}):p.none():p.some(t))),Cc("fetch"),$r("onSetup",()=>lt),aa("context","mode:design")],JN=ts([ba,...QN]),a9=t=>ra("menubutton",JN,t),Kw=[Td("type",["directory","leaf"]),Mw,Ga("id"),mu("menu",JN),xa("customStateIcon"),xa("customStateIconTooltip")],eR=ts(Kw),OW=Kw.concat([_c("children",Df("children",()=>Lf("type",{directory:jw,leaf:eR})))]),jw=ts(OW),Zw=Lf("type",{directory:jw,leaf:eR}),LW=[ba,_c("items",Zw),hu("onLeafAction"),hu("onToggleExpand"),Rf("defaultExpandedIds",[],ka),xa("defaultSelectedId")],DW=ts(LW),NW=t1.concat([Ec("filetype","file",["image","media","file"]),Zd,xa("picker_text"),aa("context","mode:design")]),RW=ts(NW),MW=ts([c4,q0]),Gw=t=>ci("items","items",ni(),Gc(_1(r=>ra(`Checking item of ${t}`,Yw,r).fold(l=>zn.error(Jg(l)),l=>zn.value(l))))),Yw=li(()=>Lf("type",{alertbanner:WN,bar:ts(HV(Gw("bar"))),button:zV,checkbox:UV,colorinput:GV,colorpicker:XV,dropzone:lW,grid:ts(oh(Gw("grid"))),iframe:fW,input:qN,listbox:p4,selectbox:Vw,sizeinput:CW,slider:EW,textarea:TW,urlinput:RW,customeditor:tW,htmlpanel:uW,imagepreview:gW,collection:KV,label:ts(o9(Gw("label"))),table:Ww,tree:DW,panel:tR})),qw=[ba,tn("classes",[]),_c("items",Yw)],tR=ts(qw),Xw=[Pw("tab"),Mw,_c("items",Yw)],IW=[ba,S5("tabs",Xw)],BW=ts(IW),Qw=GN,FW=aW,PW=ts([Ga("title"),Vl("body",Lf("type",{panel:tR,tabpanel:BW})),aa("size","normal"),Rf("buttons",[],FW),tn("initialData",{}),$r("onAction",lt),$r("onChange",lt),$r("onSubmit",lt),$r("onClose",lt),$r("onCancel",lt),$r("onTabChange",lt)]),nR=t=>ra("dialog",PW,t),$W=ts([Td("type",["cancel","custom"]),...Qw]),HW=ts([Ga("title"),Ga("url"),em("height"),em("width"),k5("buttons",$W),$r("onAction",lt),$r("onCancel",lt),$r("onClose",lt),$r("onMessage",lt)]),zW=t=>ra("dialog",HW,t),Jw=t=>Ft(t)?[t].concat(I(Lt(t),Jw)):pn(t)?I(t,Jw):[],UW=t=>dt(t.type)&&dt(t.name),VW={checkbox:VV,colorinput:YV,colorpicker:QV,dropzone:cW,input:zw,iframe:pW,imagepreview:mW,selectbox:xW,sizeinput:r9,slider:wW,listbox:vW,size:r9,textarea:AW,urlinput:MW,customeditor:nW,collection:jV,togglemenuitem:oW},WW=t=>p.from(VW[t.type]),oR=t=>be(Jw(t),UW),sR=t=>{const r=oR(t),l=I(r,d=>WW(d).fold(()=>[],g=>[Vl(d.name,g)]));return ts(l)},rR=t=>{var r;const l=Sd(nR(t)),d=sR(t),g=(r=t.initialData)!==null&&r!==void 0?r:{};return{internalDialog:l,dataValidator:d,initialData:g}},Q0={open:(t,r)=>{const l=rR(r);return t(l.internalDialog,l.initialData,l.dataValidator)},openUrl:(t,r)=>{const l=Sd(zW(r));return t(l)},redial:t=>rR(t)},aR=ts([ba,uf]),KW=t=>ra("separatormenuitem",aR,t),jW=ts([nh("autocompleteitem"),Y0,Zd,q0,c4,uf,jd]),ZW=t=>ra("Autocompleter.Separator",aR,t),iR=t=>ra("Autocompleter.Item",jW,t),J0=[Zd,G0,jd,uf,_g,aa("context","mode:design")],lR=ts([ba,th,Iw].concat(J0)),o6=t=>ra("toolbarbutton",lR,t),eS=[Y0].concat(J0),cR=ts(eS.concat([ba,th,Iw])),dR=t=>ra("ToggleButton",cR,t),i9=[$r("predicate",ge),Ec("scope","node",["node","editor"]),Ec("position","selection",["node","selection","line"])],GW=J0.concat([nh("contextformbutton"),aa("align","end"),sp,th,Wi("original",oo)]),YW=eS.concat([nh("contextformbutton"),aa("align","end"),sp,th,Wi("original",oo)]),tS=J0.concat([nh("contextformbutton")]),wg=eS.concat([nh("contextformtogglebutton")]),qW=El("type",{contextformbutton:GW,contextformtogglebutton:YW}),e2=[n6,_c("commands",qW),mu("launch",El("type",{contextformbutton:tS,contextformtogglebutton:wg})),$r("onInput",lt),$r("onSetup",lt)],XW=[...i9,...e2,Td("type",["contextform"]),$r("initValue",ht("")),xa("placeholder")],nS=[...i9,...e2,Td("type",["contextsliderform"]),$r("initValue",ht(0)),$r("min",ht(0)),$r("max",ht(100))],QW=[...i9,...e2,Td("type",["contextsizeinputform"]),$r("initValue",ht({width:"",height:""}))],JW=El("type",{contextform:XW,contextsliderform:nS,contextsizeinputform:QW}),eK=t=>ra("ContextForm",JW,t),uR=J0.concat([nh("contexttoolbarbutton")]),tK=ts([nh("contexttoolbar"),wl("launch",uR),Vl("items",Qg([ka,kp([xa("name"),xa("label"),_c("items",ka)])]))].concat(i9)),oS=t=>({name:t.name.getOrUndefined(),label:t.label.getOrUndefined(),items:t.items}),sS=t=>({...t,launch:t.launch.getOrUndefined(),items:dt(t.items)?t.items:K(t.items,oS)}),rS=t=>ra("ContextToolbar",tK,t),nK=[ba,Ga("src"),xa("alt"),Rf("classes",[],ka)],Gd=ts(nK),oK=[ba,op,IV,Rf("classes",["tox-collection__item-label"],ka)],sK=ts(oK),aS=li(()=>Lf("type",{cardimage:Gd,cardtext:sK,cardcontainer:fR})),fR=ts([ba,aa("direction","horizontal"),aa("align","left"),aa("valign","middle"),_c("items",aS)]),rK=ts([ba,n6,_c("items",aS),_g,Fw].concat(Eg)),aK=t=>ra("cardmenuitem",rK,t),iK=ts([ba,Y0,jd,n6].concat(Eg)),lK=t=>ra("choicemenuitem",iK,t),iS=[ba,Ga("fancytype"),Fw],cK=[tn("initData",{})].concat(iS),dK=[hu("select"),U2("initData",{},[Oa("allowCustomColors",!0),aa("storageKey","default"),k5("colors",gu())])].concat(iS),pR=[hu("select"),Nf("initData",[w5("columns"),Rf("items",[],gu())])].concat(iS),uK=El("fancytype",{inserttable:cK,colorswatch:dK,imageselect:pR}),fK=t=>ra("fancymenuitem",uK,t),pK=ts([ba,Y0,DV,n6,G0].concat(Eg)),gR=ts([ba,Y0,Z0,l4,G0,c4].concat(Eg)),lS=t=>ra("imagemenuitem",pK,t),mR=t=>ra("resetimageitem",gR,t),hR=ts([ba,_g,Fw,jd].concat(Eg)),bR=t=>ra("menuitem",hR,t),vR=ts([ba,RV,_g,jd].concat(Eg)),cS=t=>ra("nestedmenuitem",vR,t),gK=ts([ba,jd,Y0,_g,th].concat(Eg)),dS=t=>ra("togglemenuitem",gK,t),g4=ts([jd,G0,$r("onShow",lt),$r("onHide",lt),_g]),xR=t=>ra("sidebar",g4,t),yR=ts([ba,Vl("items",Qg([kp([Rw,_c("items",ka)]),ka]))].concat(J0)),CR=t=>ra("GroupToolbarButton",yR,t),mK=ts([ba,G0,FV,jd,uf,n9,NV,_g,Ec("presets","normal",["normal","color","listpreview"]),Bw(1),th,MV,aa("context","mode:design")]),hK=t=>ra("SplitButton",mK,t),s6=[uf,jd,xa("tooltip"),Ec("buttonType","secondary",["primary","secondary"]),Oa("borderless",!1),Cc("onAction"),aa("context","mode:design")],bK=[...s6,op,Td("type",["button"])],vK=[...s6,Oa("active",!1),Td("type",["togglebutton"])],uS={button:bK,togglebutton:vK},_R=[Td("type",["group"]),Rf("buttons",[],El("type",uS))],fS=El("type",{...uS,group:_R}),ER=ts([Rf("buttons",[],fS),Cc("onShow"),Cc("onHide")]),lc=t=>ra("view",ER,t),l9=(t,r,l)=>{const d=Ia(t.element,"."+l);if(d.length>0){const g=U(d,v=>{const y=v.dom.getBoundingClientRect().top,k=d[0].dom.getBoundingClientRect().top;return Math.abs(y-k)>r}).getOr(d.length);return p.some({numColumns:g,numRows:Math.ceil(d.length/g)})}else return p.none()},wR=(t,r)=>Yn([Cs(t,r)]),m4={namedEvents:wR,unnamedEvents:t=>wR(_e("unnamed-events"),t)},Yi={item:t=>zo.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>zo.config({disabled:t}),splitButton:t=>zo.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>zo.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},t2=(t,r)=>{const l=t.getApi(r);return d=>{d(l)}},ff=(t,r)=>Wr(l=>{jt(t.onBeforeSetup)&&t.onBeforeSetup(l),t2(t,l)(g=>{const v=t.onSetup(g);jt(v)&&r.set(v)})}),rp=(t,r)=>wu(l=>t2(t,l)(r.get())),r6=(t,r,l)=>wu(d=>(l.set(yo.getValue(d)),t2(t,d)(r.get()))),SR="silver.uistate",a6="setDisabled",yK="setEnabled",TR="init",CK=["switchmode",TR],i6=(t,r)=>{const l=t.mainUi.outerContainer,d=[t.mainUi.mothership,...t.uiMotherships];r===a6&&ee(d,g=>{g.broadcastOn([Kf()],{target:l.element})}),ee(d,g=>{g.broadcastOn([SR],r)})},pS=(t,r)=>{t.on("init SwitchMode",l=>{i6(r,l.type)}),t.on("DisabledStateChange",l=>{if(!l.isDefaultPrevented()){const d=l.state?a6:TR;i6(r,d),l.state||t.nodeChanged()}}),t.on("NodeChange",l=>{const d=t.ui.isEnabled()?l.type:a6;i6(r,d)}),$D(t)&&t.mode.set("readonly")},Fa=t=>sd.config({channels:{[SR]:{onReceive:(r,l)=>{if(l===a6||l===yK){zo.set(r,l===a6);return}const{contextType:d,shouldDisable:g}=t();d==="mode"&&!Q(CK,l)||zo.set(r,g)}}}}),ap=(t,r)=>Wf((l,d)=>{t2(t,l)(t.onAction),!t.triggersSubmenu&&r===df.CLOSE_ON_EXECUTE&&(l.getSystem().isConnected()&&Hs(l,Kh()),d.stop())}),c9={[Yc()]:["disabling","alloy.base.behaviour","toggling","item-events"]},h4=Mt,n2=(t,r,l,d)=>{const g=Je(lt);return{type:"item",dom:r.dom,components:h4(r.optComponents),data:t.data,eventOrder:c9,hasSubmenu:t.triggersSubmenu,itemBehaviours:Yn([Cs("item-events",[ap(t,l),ff(t,g),rp(t,g)]),Yi.item(()=>!t.enabled||d.checkUiComponentContext(t.context).shouldDisable),Fa(()=>d.checkUiComponentContext(t.context)),ws.config({})].concat(t.itemBehaviours))}},sh=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),AR=(t,r)=>{var l,d;const g=cn.fromTag("div");na(g,"tox-image-selector-loading-spinner");const v=k=>{na(k,"tox-image-selector-loading-spinner-wrapper"),tl(k,g)},y=k=>{Vr(k,"tox-image-selector-loading-spinner-wrapper"),ec(g)};return{dom:{tag:t.tag,attributes:(l=t.attributes)!==null&&l!==void 0?l:{},classes:t.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...t.checkMark.toArray()],behaviours:Yn([...(d=t.behaviours)!==null&&d!==void 0?d:[],Cs("render-image-events",[Wr(k=>{v(k.element),pr(k.element,"img").each($=>{su($).catch(Y=>{console.error(Y)}).finally(()=>{y(k.element)})})})])])}},gS=(t,r)=>AR(r,t),b4=t=>{const r=Na.os.isMacOS()||Na.os.isiOS(),g=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},v=t.split("+"),y=K(v,k=>{const $=k.toLowerCase().trim();return Wt(g,$)?g[$]:k});return r?y.join(""):y.join("+")},o2=(t,r,l=[NN])=>Wd(t,{tag:"div",classes:l},r),v4=t=>({dom:{tag:"div",classes:[Xx]},components:[Zr(gl.translate(t))]}),mS=(t,r)=>({dom:{tag:"div",classes:r,innerHtml:t}}),kR=(t,r)=>({dom:{tag:"div",classes:[Xx]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Zr(gl.translate(r))]}]}),OR=t=>({dom:{tag:"div",classes:[r4]},components:[Zr(b4(t))]}),d9=t=>o2("checkmark",t,[CV]),_K=t=>o2("chevron-right",t,[RN]),EK=t=>o2("chevron-down",t,[RN]),wK=(t,r)=>{const l=t.direction==="vertical"?Nu:Qx,d=t.align==="left"?_V:MN;return{dom:{tag:"div",classes:[e6,l,d,(()=>{switch(t.valign){case"top":return EV;case"middle":return wV;case"bottom":return SV}})()]},components:r}},SK=(t,r,l)=>({dom:{tag:"img",classes:r,attributes:{src:t,alt:l.getOr("")}}}),TK=(t,r,l)=>{const d="custom",g="remove",v=t.value,y=t.iconContent.map(Y=>fV(Y,r.icons,l)),k=t.ariaLabel.map(Y=>({"aria-label":r.translate(Y),"data-mce-name":Y})).getOr({});return{dom:(()=>{const Y=qx,le=y.getOr(""),Ee={tag:"div",attributes:k,classes:[Y]};return v===d?{...Ee,tag:"button",classes:[...Ee.classes,"tox-swatches__picker-btn"],innerHtml:le}:v===g?{...Ee,classes:[...Ee.classes,"tox-swatch--remove"],innerHtml:le}:Ao(v)?{...Ee,attributes:{...Ee.attributes,"data-mce-color":v},styles:{"background-color":v},innerHtml:le}:Ee})(),optComponents:[]}},u9=(t,r)=>{const l=t.map(d=>({attributes:{id:_e("menu-item"),"aria-label":gl.translate(d)}})).getOr({});return{tag:"div",classes:[Aw,Yx].concat(r),...l}},hS=t=>({dom:{tag:"label"},components:[Zr(t)]}),AK=(t,r,l,d)=>{const g={tag:"div",classes:[NN]},v=Fe=>Wd(Fe,g,r.icons,d),y=()=>p.some({dom:g}),k=l?t.iconContent.map(v).orThunk(y):p.none(),$=t.checkMark,Y=p.from(t.meta).fold(()=>v4,Fe=>Wt(Fe,"style")?us(kR,Fe.style):v4),le=t.htmlContent.fold(()=>t.textContent.map(Y),Fe=>p.some(mS(Fe,[Xx])));return{dom:u9(t.ariaLabel,[]),optComponents:[k,le,t.shortcutContent.map(OR),$,t.caret,t.labelContent.map(hS)]}},LR=t=>({dom:u9(t.ariaLabel,[yV]),optComponents:[p.some(gS(t.iconContent.getOrDie(),{tag:"div",classes:[xV],checkMark:t.checkMark})),t.labelContent.map(hS)]}),x4=(t,r,l,d=p.none())=>t.presets==="color"?TK(t,r,d):t.presets==="img"?LR(t):AK(t,r,l,d),bS=(t,r,l)=>Rt(t,"tooltipWorker").map(d=>[wr.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:g=>({type:"submenu",item:g,overrides:{maxHeightFunction:bm}}),mode:"follow-highlight",onShow:(g,v)=>{d(y=>{wr.setComponents(g,[lv({element:cn.fromDom(y)})])})}})]).getOrThunk(()=>l.map(d=>[wr.config({...r.providers.tooltips.getConfig({tooltipText:d}),mode:"follow-highlight"})]).getOr([])),s2=t=>Vv.DOM.encode(t),DR=(t,r)=>{const l=gl.translate(t),d=s2(l);if(r.length>0){const g=new RegExp(eo(r),"gi");return d.replace(g,v=>`<span class="tox-autocompleter-highlight">${v}</span>`)}else return d},NR=(t,r,l,d,g,v,y,k=!0)=>{const $=x4({presets:d,textContent:p.none(),htmlContent:l?t.text.map(le=>DR(le,r)):p.none(),ariaLabel:t.text,labelContent:p.none(),iconContent:t.icon,shortcutContent:p.none(),checkMark:p.none(),caret:p.none(),value:t.value},y.providers,k,t.icon),Y=t.text.filter(le=>!l&&le!=="");return n2({context:"mode:design",data:sh(t),enabled:t.enabled,getApi:ht({}),onAction:le=>g(t.value,t.meta),onSetup:ht(lt),triggersSubmenu:!1,itemBehaviours:bS(t,y,Y)},$,v,y.providers)},RR=(t,r)=>K(t,l=>{switch(l.type){case"cardcontainer":return wK(l,RR(l.items,r));case"cardimage":return SK(l.src,l.classes,l.alt);case"cardtext":const g=l.name.exists(v=>Q(r.cardText.highlightOn,v))?p.from(r.cardText.matchText).getOr(""):"";return mS(DR(l.text,g),l.classes)}}),kK=(t,r,l,d)=>{const g=y=>({isEnabled:()=>!zo.isDisabled(y),setEnabled:k=>{zo.set(y,!k),ee(Ia(y.element,"*"),$=>{y.getSystem().getByDom($).each(Y=>{Y.hasConfigured(zo)&&zo.set(Y,!k)})})}}),v={dom:u9(t.label,[]),optComponents:[p.some({dom:{tag:"div",classes:[e6,Qx]},components:RR(t.items,d)})]};return n2({context:"mode:design",data:sh({text:p.none(),...t}),enabled:t.enabled,getApi:g,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:p.from(d.itemBehaviours).getOr([])},v,r,l.providers)},MR=(t,r,l,d,g,v,y,k=!0)=>{const $=Ee=>({setActive:Fe=>{qs.set(Ee,Fe)},isActive:()=>qs.isOn(Ee),isEnabled:()=>!zo.isDisabled(Ee),setEnabled:Fe=>zo.set(Ee,!Fe)}),Y=x4({presets:l,textContent:r?t.text:p.none(),htmlContent:p.none(),labelContent:t.label,ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:p.none(),checkMark:r?p.some(d9(y.icons)):p.none(),caret:p.none(),value:t.value},y,k),le=t.text.filter(ht(!r)).map(Ee=>wr.config(y.tooltips.getConfig({tooltipText:y.translate(Ee)})));return At(n2({context:t.context,data:sh(t),enabled:t.enabled,getApi:$,onAction:Ee=>d(t.value),onSetup:Ee=>(Ee.setActive(g),lt),triggersSubmenu:!1,itemBehaviours:[...le.toArray()]},Y,v,y),{toggling:{toggleClass:kw,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},IR=t=>({value:f9(t)}),vS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,BR=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,xS=t=>vS.test(t)||BR.test(t),f9=t=>go(t,"#").toUpperCase(),Sg=t=>xS(t)?p.some({value:f9(t)}):p.none(),yS=t=>({value:t.value.replace(vS,(l,d,g,v)=>d+d+g+g+v+v)}),FR=t=>{const r=yS(t),l=BR.exec(r.value);return l===null?["FFFFFF","FF","FF","FF"]:l},p9=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},r2=t=>{const r=p9(t.red)+p9(t.green)+p9(t.blue);return IR(r)},y4=(t,r,l)=>({hue:t,saturation:r,value:l}),C4=t=>{let r=0,l=0,d=0;const g=t.red/255,v=t.green/255,y=t.blue/255,k=Math.min(g,Math.min(v,y)),$=Math.max(g,Math.max(v,y));if(k===$)return d=k,y4(0,0,d*100);const Y=g===k?v-y:y===k?g-v:y-g;return r=g===k?3:y===k?1:5,r=60*(r-Y/($-k)),l=($-k)/$,d=$,y4(Math.round(r),Math.round(l*100),Math.round(d*100))},CS=Math.min,_S=Math.max,g9=Math.round,OK=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,LK=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,a2=(t,r,l,d)=>({red:t,green:r,blue:l,alpha:d}),ES=t=>{const r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},wS=t=>{let r,l,d;const g=(t.hue||0)%360;let v=t.saturation/100,y=t.value/100;if(v=_S(0,CS(v,1)),y=_S(0,CS(y,1)),v===0)return r=l=d=g9(255*y),a2(r,l,d,1);const k=g/60,$=y*v,Y=$*(1-Math.abs(k%2-1)),le=y-$;switch(Math.floor(k)){case 0:r=$,l=Y,d=0;break;case 1:r=Y,l=$,d=0;break;case 2:r=0,l=$,d=Y;break;case 3:r=0,l=Y,d=$;break;case 4:r=Y,l=0,d=$;break;case 5:r=$,l=0,d=Y;break;default:r=l=d=0}return r=g9(255*(r+le)),l=g9(255*(l+le)),d=g9(255*(d+le)),a2(r,l,d,1)},_4=t=>{const r=FR(t),l=parseInt(r[1],16),d=parseInt(r[2],16),g=parseInt(r[3],16);return a2(l,d,g,1)},PR=(t,r,l,d)=>{const g=parseInt(t,10),v=parseInt(r,10),y=parseInt(l,10),k=parseFloat(d);return a2(g,v,y,k)},SS=t=>{const r=OK.exec(t);if(r!==null)return p.some(PR(r[1],r[2],r[3],"1"));const l=LK.exec(t);return l!==null?p.some(PR(l[1],l[2],l[3],l[4])):p.none()},$R=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,l6=a2(255,0,0,1),DK=t=>C4(_4(t)),HR=t=>r2(wS(t)),zR=t=>Sg(t).orThunk(()=>SS(t).map(r2)).getOrThunk(()=>{const r=document.createElement("canvas");r.height=1,r.width=1;const l=r.getContext("2d");l.clearRect(0,0,r.width,r.height),l.fillStyle="#FFFFFF",l.fillStyle=t,l.fillRect(0,0,1,1);const d=l.getImageData(0,0,1,1).data,g=d[0],v=d[1],y=d[2],k=d[3];return r2(a2(g,v,y,k))}),UR=t=>{t.dispatch("SkinLoaded")},NK=(t,r)=>{t.dispatch("SkinLoadError",r)},RK=t=>{t.dispatch("ResizeEditor")},c6=(t,r)=>{t.dispatch("ResizeContent",r)},MK=(t,r)=>{t.dispatch("ScrollContent",r)},TS=(t,r)=>{t.dispatch("TextColorChange",r)},IK=(t,r)=>{t.dispatch("AfterProgressState",{state:r})},BK=(t,r)=>t.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),FK=(t,r)=>{t.dispatch("ToggleToolbarDrawer",{state:r})},VR=(t,r)=>{t.dispatch("StylesTextUpdate",r)},WR=(t,r)=>{t.dispatch("AlignTextUpdate",r)},PK=(t,r)=>{t.dispatch("FontSizeTextUpdate",r)},$K=(t,r)=>{t.dispatch("FontSizeInputTextUpdate",r)},HK=(t,r)=>{t.dispatch("BlocksTextUpdate",r)},zK=(t,r)=>{t.dispatch("FontFamilyTextUpdate",r)},KR=t=>{t.dispatch("ToggleSidebar")},UK=t=>{t.dispatch("ToggleView")},AS=t=>{t.dispatch("ContextToolbarClose")},VK=t=>{t.dispatch("ContextFormSlideBack")},m9=(t,r)=>()=>{t(),r()},Zl=(t,r=a)=>i2(t,"NodeChange",l=>{l.setEnabled(t.selection.isEditable()&&r())}),WK=(t,r)=>l=>{const d=Go(),g=()=>{l.setActive(t.formatter.match(r));const v=t.formatter.formatChanged(r,l.setActive);d.set(v)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),d.clear()}},h9=(t,r)=>l=>{const d=Zl(t)(l),g=WK(t,r)(l);return()=>{d(),g()}},i2=(t,r,l)=>d=>{const g=()=>l(d),v=()=>{l(d),t.on(r,g)};return t.initialized?v():t.once("init",v),()=>{t.off("init",v),t.off(r,g)}},jR=t=>r=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})},dd=(t,r)=>()=>t.execCommand(r);var l2=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const b9={},KK=(t,r=10)=>{const l=l2.getItem(t),d=dt(l)?JSON.parse(l):[],v=(Y=>r-Y.length<0?Y.slice(0,r):Y)(d),y=Y=>{z(v,Y).each(k),v.unshift(Y),v.length>r&&v.pop(),l2.setItem(t,JSON.stringify(v))},k=Y=>{v.splice(Y,1)};return{add:y,state:()=>v.slice(0)}},ZR=t=>Rt(b9,t).getOrThunk(()=>{const r=`tinymce-custom-colors-${t}`,l=l2.getItem(r);if(_o(l)){const g=l2.getItem("tinymce-custom-colors");l2.setItem(r,Ao(g)?g:"[]")}const d=KK(r,10);return b9[t]=d,d}),jK=t=>K(ZR(t).state(),r=>({type:"choiceitem",text:r,icon:"checkmark",value:r})),E4=(t,r)=>{ZR(t).add(r)},d6="forecolor",kS="hilitecolor",ZK=5,OS=t=>GR(t.map((r,l)=>l%2===0?"#"+zR(r).value:r)),GR=t=>{const r=[];for(let l=0;l<t.length;l+=2)r.push({text:t[l+1],value:t[l],icon:"checkmark",type:"choiceitem"});return r},Ru=t=>r=>r.options.get(t),v9="#000000",GK=t=>{const r=t.options.register,l=v=>Xt(v,dt)?{value:OS(v),valid:!0}:{valid:!1,message:"Must be an array of strings."},d=v=>Xt(v,dt)?{value:GR(v),valid:!0}:{valid:!1,message:"Must be an array of strings."},g=v=>Zo(v)&&v>0?{value:v,valid:!0}:{valid:!1,message:"Must be a positive number."};r("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),r("color_map_raw",{processor:d}),r("color_map_background",{processor:l}),r("color_map_foreground",{processor:l}),r("color_cols",{processor:g,default:y9(t)}),r("color_cols_foreground",{processor:g,default:YR(t,d6)}),r("color_cols_background",{processor:g,default:YR(t,kS)}),r("custom_colors",{processor:"boolean",default:!0}),r("color_default_foreground",{processor:"string",default:v9}),r("color_default_background",{processor:"string",default:v9})},x9=(t,r)=>r===d6&&t.options.isSet("color_map_foreground")?Ru("color_map_foreground")(t):r===kS&&t.options.isSet("color_map_background")?Ru("color_map_background")(t):t.options.isSet("color_map_raw")?Ru("color_map_raw")(t):Ru("color_map")(t),y9=(t,r="default")=>Math.max(ZK,Math.ceil(Math.sqrt(x9(t,r).length))),YR=(t,r)=>{const l=Ru("color_cols")(t),d=y9(t,r);return l===y9(t)?d:l},LS=(t,r="default")=>Math.round(r===d6?Ru("color_cols_foreground")(t):r===kS?Ru("color_cols_background")(t):Ru("color_cols")(t)),qR=Ru("custom_colors"),XR=Ru("color_default_foreground"),QR=Ru("color_default_background"),YK="rgba(0, 0, 0, 0)",JR=t=>SS(t).exists(r=>r.alpha!==0),eM=t=>Wg(t,r=>{if(hl(r)){const l=pa(r,"background-color");return Dn(JR(l),l)}else return p.none()}).getOr(YK),tM=(t,r)=>{const l=cn.fromDom(t.selection.getStart()),d=r==="hilitecolor"?eM(l):pa(l,"color");return SS(d).map(g=>"#"+r2(g).value)},DS=(t,r,l)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(r,{value:l}),t.nodeChanged()})},nM=(t,r)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(r,{value:null},void 0,!0),t.nodeChanged()})},NS=t=>{t.addCommand("mceApplyTextcolor",(r,l)=>{DS(t,r,l)}),t.addCommand("mceRemoveTextcolor",r=>{nM(t,r)})},oM=t=>{const r="choiceitem",l={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[l,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[l]},RS=(t,r,l,d)=>{l==="custom"?cM(t)(v=>{v.each(y=>{E4(r,y),t.execCommand("mceApplyTextcolor",r,y),d(y)})},tM(t,r).getOr(v9)):l==="remove"?(d(""),t.execCommand("mceRemoveTextcolor",r)):(d(l),t.execCommand("mceApplyTextcolor",r,l))},C9=(t,r,l)=>t.concat(jK(r).concat(oM(l))),sM=(t,r,l)=>d=>{d(C9(t,r,l))},_9=(t,r,l)=>{const d=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(d,l)},rM=(t,r)=>{t.setTooltip(r)},aM=(t,r)=>l=>{const d=tM(t,r);return kt(d,l.toUpperCase())},u6=(t,r,l)=>{if(wa(l))return r==="forecolor"?"Text color":"Background color";const d=r==="forecolor"?"Text color {0}":"Background color {0}",g=C9(x9(t,r),r,!1),v=D(g,y=>y.value===l).getOr({text:""}).text;return t.translate([d,t.translate(v)])},iM=(t,r,l,d)=>{t.ui.registry.addSplitButton(r,{tooltip:u6(t,l,d.get()),chevronTooltip:r==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:aM(t,l),columns:LS(t,l),fetch:sM(x9(t,l),l,qR(t)),onAction:g=>{RS(t,l,d.get(),lt)},onItemAction:(g,v)=>{RS(t,l,v,y=>{d.set(y),TS(t,{name:r,color:y})})},onSetup:g=>{_9(g,r,d.get());const v=y=>{y.name===r&&(_9(g,y.name,y.color),rM(g,u6(t,l,y.color)))};return t.on("TextColorChange",v),m9(Zl(t)(g),()=>{t.off("TextColorChange",v)})}})},lM=(t,r,l,d,g)=>{t.ui.registry.addNestedMenuItem(r,{text:d,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(rM(v,u6(t,l,g.get())),_9(v,r,g.get()),Zl(t)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:aM(t,l),initData:{storageKey:l},onAction:v=>{RS(t,l,v.value,y=>{g.set(y),TS(t,{name:r,color:y})})}}]})},cM=t=>(r,l)=>{let d=!1;const g=k=>{const Y=k.getData().colorpicker;d?(r(p.from(Y)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",Y]))},v=(k,$)=>{$.name==="hex-valid"&&(d=$.value)},y={colorpicker:l};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y,onAction:v,onSubmit:g,onClose:lt,onCancel:()=>{r(p.none())}})},MS=t=>{NS(t);const r=XR(t),l=QR(t),d=Je(r),g=Je(l);iM(t,"forecolor","forecolor",d),iM(t,"backcolor","hilitecolor",g),lM(t,"forecolor","forecolor","Text color",d),lM(t,"backcolor","hilitecolor","Background color",g)},qK=(t,r,l,d,g)=>{const v=$=>({setActive:Y=>{qs.set($,Y)},isActive:()=>qs.isOn($),isEnabled:()=>!zo.isDisabled($),setEnabled:Y=>zo.set($,!Y)}),y=x4({presets:"img",textContent:p.none(),htmlContent:p.none(),ariaLabel:t.tooltip,iconContent:p.some(t.url),labelContent:t.label,shortcutContent:p.none(),checkMark:p.some(d9(g.icons)),caret:p.none(),value:t.value},g,!0),k=t.tooltip.map($=>wr.config(g.tooltips.getConfig({tooltipText:g.translate($)})));return At(n2({context:t.context,data:sh(t),enabled:t.enabled,getApi:v,onAction:$=>{r(t.value),$.setActive(!0)},onSetup:$=>($.setActive(l),lt),triggersSubmenu:!1,itemBehaviours:[...k.toArray()]},y,d,g),{toggling:{toggleClass:kw,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},f6=(t,r,l,d,g,v,y,k)=>{const $=Jm(r),le=XK(r,l,d,g!=="color"?"normal":"color",v,y,k);return eh(t,$,le,d,{menuType:g})},XK=(t,r,l,d,g,v,y)=>Mt(K(t,k=>k.type==="choiceitem"?lK(k).fold(Ic,$=>p.some(MR($,l===1,d,r,v($.value),g,y,Jm(t)))):k.type==="imageitem"?lS(k).fold(Ic,$=>p.some(qK($,r,v($.value),g,y))):k.type==="resetimage"?mR(k).fold(Ic,$=>p.some(MR({...$,text:$.tooltip,icon:p.some($.icon),label:p.some($.label)},l===1,d,r,v($.value),g,y,Jm(t)))):p.none())),w4=(t,r)=>{const l=Xm(r);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+l.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:g=>r==="color"?pr(g.element,"[aria-checked=true]"):p.none()}},QK=(t,r)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?`.${qx}`:`.${Yx}`}},JK=(t,r)=>{const l=ej(t,r),d=r.colorinput.getColorCols(t.initData.storageKey),g="color",y={...f6(_e("menu-value"),l,k=>{t.onAction({value:k})},d,g,df.CLOSE_ON_EXECUTE,t.select.getOr(ge),r.shared.providers),markers:Xm(g),movement:w4(d,g),showMenuRole:!1};return{type:"widget",data:{value:_e("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[NE.widget(Q1.sketch(y))]}},ej=(t,r)=>{const l=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(()=>C9(r.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,l),d=>d.concat(oM(l)))},tj=(t,r)=>{const l="imageselector",d=t.initData.columns,v={...f6(_e("menu-value"),t.initData.items,y=>{t.onAction({value:y})},d,l,df.CLOSE_ON_EXECUTE,t.select.getOr(ge),r.shared.providers),markers:Xm(l),movement:w4(d,l),showMenuRole:!1};return{type:"widget",data:{value:_e("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[NE.widget(Q1.sketch(v))]}},dM=_e("cell-over"),IS=_e("cell-execute"),nj=t=>(r,l)=>t.shared.providers.translate(["{0} columns, {1} rows",l,r]),oj=(t,r,l)=>{const d=y=>Xo(y,dM,{row:t,col:r}),g=y=>Xo(y,IS,{row:t,col:r}),v=(y,k)=>{k.stop(),g(y)};return C({dom:{tag:"div",attributes:{role:"button","aria-label":l}},behaviours:Yn([Cs("insert-table-picker-cell",[xn(Ad(),Es.focus),xn(Yc(),g),xn(bu(),v),xn(Np(),v)]),qs.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Es.config({onFocus:d})])})},uM=(t,r,l)=>{const d=[];for(let g=0;g<r;g++){const v=[];for(let y=0;y<l;y++){const k=t(g+1,y+1);v.push(oj(g,y,k))}d.push(v)}return d},sj=(t,r,l,d,g)=>{for(let v=0;v<d;v++)for(let y=0;y<g;y++)qs.set(t[v][y],v<=r&&y<=l)},rj=t=>I(t,r=>K(r,T)),fM=(t,r)=>Zr(`${r}x${t}`),ij={inserttable:(t,r)=>{const g=nj(r),v=uM(g,10,10),y=fM(0,0),k=mr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[y],behaviours:Yn([ws.config({})])});return{type:"widget",data:{value:_e("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[NE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:rj(v).concat(k.asSpec()),behaviours:Yn([Cs("insert-table-picker",[Wr($=>{ws.set(k.get($),[y])}),zp(dM,($,Y,le)=>{const{row:Ee,col:Fe}=le.event;sj(v,Ee,Fe,10,10),ws.set(k.get($),[fM(Ee+1,Fe+1)])}),zp(IS,($,Y,le)=>{const{row:Ee,col:Fe}=le.event;Hs($,Kh()),t.onAction({numRows:Ee+1,numColumns:Fe+1})})]),Ho.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:JK,imageselect:tj},lj=(t,r)=>Rt(ij,t.fancytype).map(l=>l(t,r)),cj=(t,r,l,d=!0,g=!1)=>{const v=g?EK(l.icons):_K(l.icons),y=$=>({isEnabled:()=>!zo.isDisabled($),setEnabled:Y=>zo.set($,!Y),setIconFill:(Y,le)=>{pr($.element,`svg path[class="${Y}"], rect[class="${Y}"]`).each(Ee=>{os(Ee,"fill",le)})},setTooltip:Y=>{const le=l.translate(Y);os($.element,"aria-label",le)}}),k=x4({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:p.none(),ariaLabel:t.text,labelContent:p.none(),caret:p.some(v),checkMark:p.none(),shortcutContent:t.shortcut},l,d);return n2({context:t.context,data:sh(t),getApi:y,enabled:t.enabled,onAction:lt,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,r,l)},pM=(t,r,l,d=!0)=>{const g=y=>({isEnabled:()=>!zo.isDisabled(y),setEnabled:k=>zo.set(y,!k)}),v=x4({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:p.none(),labelContent:p.none(),ariaLabel:t.text,caret:p.none(),checkMark:p.none(),shortcutContent:t.shortcut},l,d);return n2({context:t.context,data:sh(t),getApi:g,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,r,l)},gM=t=>({type:"separator",dom:{tag:"div",classes:[Yx,vV]},components:t.text.map(Zr).toArray()}),mM=(t,r,l,d=!0)=>{const g=y=>({setActive:k=>{qs.set(y,k)},isActive:()=>qs.isOn(y),isEnabled:()=>!zo.isDisabled(y),setEnabled:k=>zo.set(y,!k)}),v=x4({iconContent:t.icon,textContent:t.text,htmlContent:p.none(),labelContent:p.none(),ariaLabel:t.text,checkMark:p.some(d9(l.icons)),caret:p.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},l,d);return At(n2({context:t.context,data:sh(t),enabled:t.enabled,getApi:g,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,r,l),{toggling:{toggleClass:kw,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},E9=NR,hM=gM,dj=pM,uj=cj,fj=mM,bM=lj,pj=kK,gj=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},mj=t=>{const r=yo.getValue(t),l=Jx(t).map($N);ad.refetch(r).get(()=>{const d=Ns.getCoupled(r,"sandbox");l.each(g=>Jx(d).each(v=>AV(v,g)))})},vM=(t,r)=>{xM(t).each(l=>{R8(t,l.element,r.event.eventType,r.event.interactionEvent)})},xM=t=>sr.getState(t).bind(gr.getHighlighted).bind(gr.getHighlighted),hj=t=>Ma(t.element,Qm)?p.some(t.element):pr(t.element,"."+Qm),yM=(t,r,l)=>{PN(t).each(d=>{e9(d,l),hj(r).each(v=>{ai(v,"id").each(y=>os(d.element,"aria-controls",y))})}),os(l.element,"aria-selected","true")},CM=(t,r,l)=>{os(l.element,"aria-selected","false")},bj=t=>{PN(t).each(r=>Es.focus(r))},vj=t=>Ns.getExistingCoupled(t,"sandbox").bind(Jx).map($N).map(l=>l.fetchPattern).getOr("");var ys;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(ys||(ys={}));const p6=(t,r,l,d,g)=>{const v=l.shared.providers,y=k=>g?{...k,shortcut:p.none(),icon:k.text.isSome()?p.none():k.icon}:k;switch(t.type){case"menuitem":return bR(t).fold(Ic,k=>p.some(dj(y(k),r,v,d)));case"nestedmenuitem":return cS(t).fold(Ic,k=>p.some(uj(y(k),r,v,d,g)));case"togglemenuitem":return dS(t).fold(Ic,k=>p.some(fj(y(k),r,v,d)));case"separator":return KW(t).fold(Ic,k=>p.some(hM(k)));case"fancymenuitem":return fK(t).fold(Ic,k=>bM(k,l));default:return console.error("Unknown item in general menu",t),p.none()}},_M=(t,r,l,d,g,v,y)=>{const k=d===1,$=!k||Jm(t);return Mt(K(t,Y=>{switch(Y.type){case"separator":return ZW(Y).fold(Ic,le=>p.some(hM(le)));case"cardmenuitem":return aK(Y).fold(Ic,le=>p.some(pj({...le,onAction:Ee=>{le.onAction(Ee),l(le.value,le.meta)}},g,v,{itemBehaviours:bS(le.meta,v,p.none()),cardText:{matchText:r,highlightOn:y}})));case"autocompleteitem":default:return iR(Y).fold(Ic,le=>p.some(E9(le,r,k,"normal",l,g,v,$)))}}))},BS=(t,r,l,d,g,v)=>{const y=Jm(r),k=Mt(K(r,le=>{const Ee=Qe=>g?!Wt(Qe,"text"):y,Fe=Qe=>p6(Qe,l,d,Ee(Qe),g);return le.type==="nestedmenuitem"&&le.getSubmenuItems().length<=0?Fe({...le,enabled:!1}):Fe(le)})),$=gj(v);return(g?i4:eh)(t,y,k,1,$)},w9=t=>I0.singleData(t.value,t),EM=(t,r,l,d)=>{const g=w4(r,d),v=Xm(d);return{data:w9({...t,movement:g,menuBehaviours:m4.unnamedEvents(r!=="auto"?[]:[Wr((y,k)=>{l9(y,4,v.item).each(({numColumns:$,numRows:Y})=>{Ho.setGridSize(y,Y,$)})})])}),menu:{markers:Xm(d),fakeFocus:l===ys.ContentFocus}}},xj=t=>W.create(cn.fromDom(t.startContainer),t.startOffset,cn.fromDom(t.endContainer),t.endOffset),Cj={register:(t,r)=>{const l=_e("autocompleter"),d=Je(!1),g=Je(!1),v=Do(),y=C(oa.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:l}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Yn([Cs("dismissAutocompleter",[xn(Rp(),()=>Ee()),xn(W2(),(Ct,$t)=>{ai($t.event.target,"id").each(Ut=>os(cn.fromDom(t.getBody()),"aria-activedescendant",Ut))})])]),lazySink:r.getSink})),k=()=>oa.isOpen(y),$=g.get,Y=()=>{if(k()){oa.hide(y),t.dom.remove(l,!1);const Ct=cn.fromDom(t.getBody());ai(Ct,"aria-owns").filter($t=>$t===l).each(()=>{Kr(Ct,"aria-owns"),Kr(Ct,"aria-activedescendant")})}},le=()=>oa.getContent(y).bind(Ct=>Ae(Ct.components(),0)),Ee=()=>t.execCommand("mceAutocompleterClose"),Fe=Ct=>{const $t=ut(Ct,Ut=>p.from(Ut.columns)).getOr(1);return I(Ct,Ut=>{const an=Ut.items;return _M(an,Ut.matchText,(un,uo)=>{const Fn={hide:()=>Ee(),reload:$n=>{Y(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:$n})}};t.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each($n=>{d.set(!0),Ut.onAction(Fn,$n,un,uo),d.set(!1)})},$t,df.BUBBLE_TO_SANDBOX,r,Ut.highlightOn)})},Qe=(Ct,$t)=>{const Ut=ut(Ct,an=>p.from(an.columns)).getOr(1);oa.showMenuAt(y,{anchor:{type:"selection",getSelection:()=>v.get().map(xj),root:cn.fromDom(t.getBody())}},EM(eh("autocompleter-value",!0,$t,Ut,{menuType:"normal"}),Ut,ys.ContentFocus,"normal")),le().each(gr.highlightFirst)},qe=Ct=>{const $t=Fe(Ct);$t.length>0?(Qe(Ct,$t),os(cn.fromDom(t.getBody()),"aria-owns",l),t.inline||vt()):Y()},vt=()=>{t.dom.get(l)&&t.dom.remove(l,!1);const Ct=t.getDoc().documentElement,$t=t.selection.getNode(),Ut=bp(y.element);Aa(Ut,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${$t.offsetTop}px`,left:`${$t.offsetLeft}px`}),t.dom.add(Ct,Ut.dom),pr(Ut,'[role="menu"]').each(an=>{Ps(an,"position"),Ps(an,"max-height")})};t.on("AutocompleterStart",({lookupData:Ct})=>{g.set(!0),d.set(!1),qe(Ct)}),t.on("AutocompleterUpdate",({lookupData:Ct})=>qe(Ct)),t.on("AutocompleterUpdateActiveRange",({range:Ct})=>v.set(Ct)),t.on("AutocompleterEnd",()=>{Y(),g.set(!1),d.set(!1),v.clear()});const Ot={cancelIfNecessary:Ee,isMenuOpen:k,isActive:$,isProcessingAction:d.get,getMenu:le};bV.setup(Ot,t)}},_j=(t,r)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:K(t.items,r.interpreter)});var Ej=tinymce.util.Tools.resolve("tinymce.html.Entities");const S4=(t,r,l,d)=>{const g=XQ(t,r,l,d);return js.sketch(g)},wM=(t,r)=>S4(t,r,[],[]),XQ=(t,r,l,d)=>({dom:S9(l),components:t.toArray().concat([r]),fieldBehaviours:Yn(d)}),g6=()=>S9([]),S9=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Tg=(t,r)=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(t))]}),Bc=_e("form-component-change"),SM=_e("form-component-input"),m6=_e("form-close"),rh=_e("form-cancel"),pf=_e("form-action"),T4=_e("form-submit"),T9=_e("form-block"),FS=_e("form-unblock"),TM=_e("form-tabchange"),AM=_e("form-resize"),kM=(t,r,l)=>{const d=t.label.map(Qe=>Tg(Qe,r)),g=r.icons(),v=Qe=>{var qe;return(qe=g[Qe])!==null&&qe!==void 0?qe:Qe},y=Qe=>(qe,vt)=>{nc(vt.event.target,"[data-collection-item-value]").each(Ot=>{Qe(qe,vt,Ot,Ua(Ot,"data-collection-item-value"))})},k=(Qe,qe)=>{const Ot=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",Ct=K(qe,an=>{const un=gl.translate(an.text),uo=t.columns===1?`<div class="tox-collection__item-label">${un}</div>`:"",Fn=`<div class="tox-collection__item-icon">${v(an.icon)}</div>`,$n={_:" "," - ":" ","-":" "},Nn=un.replace(/\_| \- |\-/g,jo=>$n[jo]);return`<div data-mce-tooltip="${Nn}" class="tox-collection__item${Ot}" tabindex="-1" data-collection-item-value="${Ej.encodeAllRaw(an.value)}" aria-label="${Nn}">${Fn}${uo}</div>`}),$t=t.columns!=="auto"&&t.columns>1?j(Ct,t.columns):[Ct],Ut=K($t,an=>`<div class="tox-collection__group">${an.join("")}</div>`);wf(Qe.element,Ut.join(""))},$=y((Qe,qe,vt,Ot)=>{qe.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||Xo(Qe,pf,{name:t.name,value:Ot})}),Y=[xn(Ad(),y((Qe,qe,vt)=>{hr(vt,!0)})),xn(bu(),$),xn(Np(),$),xn(wc(),y((Qe,qe,vt)=>{pr(Qe.element,"."+V0).each(Ot=>{Vr(Ot,V0)}),na(vt,V0)})),xn(d8(),y(Qe=>{pr(Qe.element,"."+V0).each(qe=>{Vr(qe,V0),fc(qe)})})),Wf(y((Qe,qe,vt,Ot)=>{Xo(Qe,pf,{name:t.name,value:Ot})}))],le=(Qe,qe)=>K(Ia(Qe.element,".tox-collection__item"),qe),Ee=js.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:oo},behaviours:Yn([zo.config({disabled:()=>r.checkUiComponentContext(t.context).shouldDisable,onDisabled:Qe=>{le(Qe,qe=>{na(qe,"tox-collection__item--state-disabled"),os(qe,"aria-disabled",!0)})},onEnabled:Qe=>{le(Qe,qe=>{Vr(qe,"tox-collection__item--state-disabled"),Kr(qe,"aria-disabled")})}}),Fa(()=>r.checkUiComponentContext(t.context)),ws.config({}),wr.config({...r.tooltips.getConfig({tooltipText:"",onShow:Qe=>{pr(Qe.element,"."+V0+"[data-mce-tooltip]").each(qe=>{ai(qe,"data-mce-tooltip").each(vt=>{wr.setComponents(Qe,r.tooltips.getComponents({tooltipText:vt}))})})}}),mode:"children-keyboard-focus",anchor:Qe=>({type:"node",node:pr(Qe.element,"."+V0).orThunk(()=>M2(".tox-collection__item")),root:Qe.element,layouts:{onLtr:ht([Ba,pi,jr,fi,qa,wi]),onRtl:ht([Ba,pi,jr,fi,qa,wi])},bubble:Xc(0,-2,{})})}),yo.config({store:{mode:"memory",initialValue:l.getOr([])},onSetValue:(Qe,qe)=>{k(Qe,qe),t.columns==="auto"&&l9(Qe,5,"tox-collection__item").each(({numRows:vt,numColumns:Ot})=>{Ho.setGridSize(Qe,vt,Ot)}),Hs(Qe,AM)}}),Hr.config({}),Ho.config(QK(t.columns,"normal")),Cs("collection-events",Y)]),eventOrder:{[Yc()]:["disabling","alloy.base.behaviour","collection-events"],[wc()]:["collection-events","tooltipping"]}});return S4(d,Ee,["tox-form__group--collection"],[])},wj=(t,r)=>ad.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Yn([Yi.button(()=>r.providers.isDisabled()||r.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.providers.checkUiComponentContext(t.context)),kv.config({}),Hr.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:l=>Hn.nu(d=>t.fetch(d)).map(d=>p.from(w9(At(f6(_e("menu-value"),d,g=>{t.onItemAction(l,g)},t.columns,t.presets,df.CLOSE_ON_EXECUTE,ge,r.providers),{movement:w4(t.columns,t.presets)})))),parts:{menu:a4(!1,1,t.presets)}}),OM=_e("color-input-change"),A9=_e("color-swatch-change"),LM=_e("color-picker-cancel"),k9=(t,r,l,d)=>{const g=js.parts.field({factory:mg,inputClasses:["tox-textfield"],data:d,onSetValue:Y=>G1.run(Y).get(lt),inputBehaviours:Yn([zo.config({disabled:()=>r.providers.isDisabled()||r.providers.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.providers.checkUiComponentContext(t.context)),Hr.config({}),G1.config({invalidClass:"tox-textbox-field-invalid",getRoot:Y=>Ql(Y.element),notify:{onValid:Y=>{const le=yo.getValue(Y);Xo(Y,OM,{color:le})}},validator:{validateOnLoad:!1,validate:Y=>{const le=yo.getValue(Y);if(le.length===0)return Hn.pure(zn.value(!0));{const Ee=cn.fromTag("span");Mo(Ee,"background-color",le);const Fe=er(Ee,"background-color").fold(()=>zn.error("blah"),Qe=>zn.value(le));return Hn.pure(Fe)}}}})]),selectOnFocus:!1}),v=t.label.map(Y=>Tg(Y,r.providers)),y=(Y,le)=>{Xo(Y,A9,{value:le})},k=(Y,le)=>{$.getOpt(Y).each(Ee=>{le==="custom"?l.colorPicker(Fe=>{Fe.fold(()=>Hs(Ee,LM),Qe=>{y(Ee,Qe),E4(t.storageKey,Qe)})},"#ffffff"):le==="remove"?y(Ee,""):y(Ee,le)})},$=mr(wj({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:()=>[qa,jr,Ba],onLtr:()=>[jr,qa,Ba]},components:[],fetch:sM(l.getColors(t.storageKey),t.storageKey,l.hasCustomColors()),columns:l.getColorCols(t.storageKey),presets:"color",onItemAction:k,context:t.context},r));return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[g,$.asSpec()]}]),fieldBehaviours:Yn([Cs("form-field-events",[xn(OM,(Y,le)=>{$.getOpt(Y).each(Ee=>{Mo(Ee.element,"background-color",le.event.color)}),Xo(Y,Bc,{name:t.name})}),xn(A9,(Y,le)=>{js.getField(Y).each(Ee=>{yo.setValue(Ee,le.event.value),yn.getCurrent(Y).each(Es.focus)})}),xn(LM,(Y,le)=>{js.getField(Y).each(Ee=>{yn.getCurrent(Y).each(Es.focus)})})])])})},gf={self:()=>yn.config({find:p.some}),memento:t=>yn.config({find:t.getOpt}),childAt:t=>yn.config({find:r=>Ws(r.element,t).bind(l=>r.getSystem().getByDom(l).toOptional())})},eJ=ts([tn("preprocess",oo),tn("postprocess",oo)]),Tj=(t,r)=>{const l=sl("RepresentingConfigs.memento processors",eJ,r);return yo.config({store:{mode:"manual",getValue:d=>{const g=t.get(d),v=yo.getValue(g);return l.postprocess(v)},setValue:(d,g)=>{const v=l.preprocess(g),y=t.get(d);yo.setValue(y,v)}}})},c2=(t,r,l)=>yo.config({store:{mode:"manual",...t.map(d=>({initialValue:d})).getOr({}),getValue:r,setValue:l}}),O9=(t,r,l)=>c2(t,d=>r(d.element),(d,g)=>l(d.element,g)),Aj=t=>O9(t,Il,wf),d2=t=>yo.config({store:{mode:"memory",initialValue:t}}),L9=_e("rgb-hex-update"),PS=_e("slider-update"),D9=_e("palette-update"),kj=(t,r)=>{const l=cf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),d=cf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return cf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ht(0)},components:[l,d],sliderBehaviours:Yn([Es.config({})]),onChange:(g,v,y)=>{os(g.element,"aria-valuenow",Math.floor(360-y*3.6)),Xo(g,PS,{value:y})}})},$S=_e("valid-input"),u2=_e("invalid-input"),HS=_e("validating-input"),zS="colorcustom.rgb.",Oj={isEnabled:a,setEnabled:lt,immediatelyShow:lt,immediatelyHide:lt},Lj=(t,r,l,d,g,v)=>{const y=(vt,Ot)=>{const Ct=Ot.get();vt!==Ct.isEnabled()&&(Ct.setEnabled(vt),vt?Ct.immediatelyShow():Ct.immediatelyHide())},k=(vt,Ot,Ct)=>G1.config({invalidClass:r("invalid"),notify:{onValidate:$t=>{Xo($t,HS,{type:vt})},onValid:$t=>{y(!1,Ct),Xo($t,$S,{type:vt,value:yo.getValue($t)})},onInvalid:$t=>{y(!0,Ct),Xo($t,u2,{type:vt,value:yo.getValue($t)})}},validator:{validate:$t=>{const Ut=yo.getValue($t),an=Ot(Ut)?zn.value(!0):zn.error(t("aria.input.invalid"));return Hn.pure(an)},validateOnLoad:!1}}),$=(vt,Ot,Ct,$t,Ut)=>{const an=Je(Oj),un=t(zS+"range"),uo=js.parts.label({dom:{tag:"label"},components:[Zr(Ct)]}),Fn=js.parts.field({data:Ut,factory:mg,inputAttributes:{type:"text","aria-label":$t,...Ot==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:Yn([k(Ot,vt,an),Hr.config({}),wr.config({...g({tooltipText:"",onSetup:ks=>{an.set({isEnabled:()=>wr.isEnabled(ks),setEnabled:Io=>wr.setEnabled(ks,Io),immediatelyShow:()=>wr.immediateOpenClose(ks,!0),immediatelyHide:()=>wr.immediateOpenClose(ks,!1)}),wr.setEnabled(ks,!1)},onShow:(ks,Io)=>{wr.setComponents(ks,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[Zr(t(Ot==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:ks=>{G1.isInvalid(ks)&&G1.run(ks).get(lt)}}),$n=_e("aria-invalid"),Nn=mr(v("invalid",p.some($n),"warning")),jo=mr({dom:{tag:"div",classes:[r("invalid-icon")]},components:[Nn.asSpec()]}),Po=[uo,Fn,jo.asSpec()],Zs=Ot!=="hex"?[js.parts["aria-descriptor"]({text:un})]:[],ss=Po.concat(Zs);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:ss}},Y=(vt,Ot)=>{const Ct=r2(Ot);return Sr.getField(vt,"hex").each($t=>{Es.isFocused($t)||yo.setValue(vt,{hex:Ct.value})}),Ct},le=(vt,Ot)=>{const Ct=Ot.red,$t=Ot.green,Ut=Ot.blue;yo.setValue(vt,{red:Ct,green:$t,blue:Ut})},Ee=mr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Fe=(vt,Ot)=>{Ee.getOpt(vt).each(Ct=>{Mo(Ct.element,"background-color","#"+Ot.value)})};return od({factory:()=>{const vt={red:Je(p.some(255)),green:Je(p.some(255)),blue:Je(p.some(255)),hex:Je(p.some("ffffff"))},Ot=(Io,Ln)=>{const no=_4(Ln);le(Io,no),an(no)},Ct=Io=>vt[Io].get(),$t=(Io,Ln)=>{vt[Io].set(Ln)},Ut=()=>Ct("red").bind(Io=>Ct("green").bind(Ln=>Ct("blue").map(no=>a2(Io,Ln,no,1)))),an=Io=>{const Ln=Io.red,no=Io.green,is=Io.blue;$t("red",p.some(Ln)),$t("green",p.some(no)),$t("blue",p.some(is))},un=(Io,Ln)=>{const no=Ln.event;no.type!=="hex"?$t(no.type,p.none()):d(Io)},uo=(Io,Ln)=>{l(Io);const no=IR(Ln);$t("hex",p.some(no.value));const is=_4(no);le(Io,is),an(is),Xo(Io,L9,{hex:no}),Fe(Io,no)},Fn=(Io,Ln,no)=>{const is=parseInt(no,10);$t(Ln,p.some(is)),Ut().each(Os=>{const $o=Y(Io,Os);Xo(Io,L9,{hex:$o}),Fe(Io,$o)})},$n=Io=>Io.type==="hex",Nn=(Io,Ln)=>{const no=Ln.event;$n(no)?uo(Io,no.value):Fn(Io,no.type,no.value)},jo=Io=>({label:t(zS+Io+".label"),description:t(zS+Io+".description")}),Po=jo("red"),Zs=jo("green"),ss=jo("blue"),ks=jo("hex");return At(Sr.sketch(Io=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Io.field("red",js.sketch($(ES,"red",Po.label,Po.description,255))),Io.field("green",js.sketch($(ES,"green",Zs.label,Zs.description,255))),Io.field("blue",js.sketch($(ES,"blue",ss.label,ss.description,255))),Io.field("hex",js.sketch($(xS,"hex",ks.label,ks.description,"ffffff"))),Ee.asSpec()],formBehaviours:Yn([G1.config({invalidClass:r("form-invalid")}),Cs("rgb-form-events",[xn($S,Nn),xn(u2,un),xn(HS,un)])])})),{apis:{updateHex:(Io,Ln)=>{yo.setValue(Io,{hex:Ln.value}),Ot(Io,Ln),Fe(Io,Ln)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(vt,Ot,Ct)=>{vt.updateHex(Ot,Ct)}},extraApis:{}})},US=(t,r)=>{const l=cf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),d=cf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:`<div class=${r("sv-palette-inner-thumb")} role="presentation"></div>`}}),g=(Y,le)=>{const{width:Ee,height:Fe}=Y,Qe=Y.getContext("2d");if(Qe===null)return;Qe.fillStyle=le,Qe.fillRect(0,0,Ee,Fe);const qe=Qe.createLinearGradient(0,0,Ee,0);qe.addColorStop(0,"rgba(255,255,255,1)"),qe.addColorStop(1,"rgba(255,255,255,0)"),Qe.fillStyle=qe,Qe.fillRect(0,0,Ee,Fe);const vt=Qe.createLinearGradient(0,0,0,Fe);vt.addColorStop(0,"rgba(0,0,0,0)"),vt.addColorStop(1,"rgba(0,0,0,1)"),Qe.fillStyle=vt,Qe.fillRect(0,0,Ee,Fe)},v=(Y,le)=>{const Ee=Y.components()[0].element.dom,Fe=y4(le,100,100),Qe=wS(Fe);g(Ee,$R(Qe))},y=(Y,le)=>{const Ee=C4(_4(le));cf.setValue(Y,{x:Ee.saturation,y:100-Ee.value}),os(Y.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Ee.saturation,Ee.value]))};return od({factory:Y=>{const le=ht({x:0,y:0}),Ee=(qe,vt,Ot)=>{Zo(Ot)||os(qe.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Ot.x),Math.floor(100-Ot.y)])),Xo(qe,D9,{value:Ot})},Fe=(qe,vt,Ot,Ct)=>{g(Ot.element.dom,$R(l6))},Qe=Yn([yn.config({find:p.some}),Es.config({})]);return cf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:le},rounded:!1,components:[l,d],onChange:Ee,onInit:Fe,sliderBehaviours:Qe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Y,le,Ee)=>{v(le,Ee)},setThumb:(Y,le,Ee)=>{y(le,Ee)}},extraApis:{}})},Dj=(t,r,l,d)=>{const g=y=>{const k=Lj(t,r,y.onValidHex,y.onInvalidHex,l,d),$=US(t,r),Y=$n=>(100-$n)/100*360,le=$n=>100-$n/360*100,Ee={paletteRgba:Je(l6),paletteHue:Je(0)},Fe=mr(kj(t,r)),Qe=mr($.sketch({})),qe=mr(k.sketch({})),vt=($n,Nn,jo)=>{Qe.getOpt($n).each(Po=>{$.setHue(Po,jo)})},Ot=($n,Nn)=>{qe.getOpt($n).each(jo=>{k.updateHex(jo,Nn)})},Ct=($n,Nn,jo)=>{Fe.getOpt($n).each(Po=>{cf.setValue(Po,le(jo))})},$t=($n,Nn)=>{Qe.getOpt($n).each(jo=>{$.setThumb(jo,Nn)})},Ut=($n,Nn)=>{const jo=_4($n);Ee.paletteRgba.set(jo),Ee.paletteHue.set(Nn)},an=($n,Nn,jo,Po)=>{Ut(Nn,jo),ee(Po,Zs=>{Zs($n,Nn,jo)})},un=()=>{const $n=[Ot];return(Nn,jo)=>{const Po=jo.event.value,Zs=Ee.paletteHue.get(),ss=y4(Zs,Po.x,100-Po.y),ks=HR(ss);an(Nn,ks,Zs,$n)}},uo=()=>{const $n=[vt,Ot];return(Nn,jo)=>{const Po=Y(jo.event.value),Zs=Ee.paletteRgba.get(),ss=C4(Zs),ks=y4(Po,ss.saturation,ss.value),Io=HR(ks);an(Nn,Io,Po,$n)}},Fn=()=>{const $n=[vt,Ct,$t];return(Nn,jo)=>{const Po=jo.event.hex,Zs=DK(Po);an(Nn,Po,Zs.hue,$n)}};return{uid:y.uid,dom:y.dom,components:[Qe.asSpec(),Fe.asSpec(),qe.asSpec()],behaviours:Yn([Cs("colour-picker-events",[xn(L9,Fn()),xn(D9,un()),xn(PS,uo())]),yn.config({find:$n=>qe.getOpt($n)}),Ho.config({mode:"acyclic"})])}};return od({name:"ColourPicker",configFields:[Bn("dom"),tn("onValidHex",lt),tn("onInvalidHex",lt)],factory:g})},Nj={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},DM=t=>r=>dt(r)?t.translate(Nj[r]):t.translate(r),Rj=(t,r,l)=>{const d=Y=>"tox-"+Y,g=(Y,le,Ee=Y,Fe=Y)=>Wd(Ee,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Y],attributes:{title:r.translate(Fe),"aria-live":"polite",...le.fold(()=>({}),Qe=>({id:Qe}))}},r.icons),v=Dj(DM(r),d,r.tooltips.getConfig,g),y=Y=>{Xo(Y,pf,{name:"hex-valid",value:!0})},k=Y=>{Xo(Y,pf,{name:"hex-valid",value:!1})},$=mr(v.sketch({dom:{tag:"div",classes:[d("color-picker-container")],attributes:{role:"presentation"}},onValidHex:y,onInvalidHex:k}));return{dom:{tag:"div"},components:[$.asSpec()],behaviours:Yn([c2(l,Y=>{const le=$.get(Y);return yn.getCurrent(le).bind(Qe=>yo.getValue(Qe).hex).map(Qe=>"#"+go(Qe,"#")).getOr("")},(Y,le)=>{const Ee=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Fe=p.from(Ee.exec(le)).bind(vt=>Ae(vt,1)),Qe=$.get(Y);yn.getCurrent(Qe).fold(()=>{console.log("Can not find form")},vt=>{yo.setValue(vt,{hex:Fe.getOr("")}),Sr.getField(vt,"hex").each(Ot=>{Hs(Ot,Bf())})})}),gf.self()])}};var Mj=tinymce.util.Tools.resolve("tinymce.Resource");const NM=t=>Wt(t,"init"),RM=t=>{const r=Do(),l=mr({dom:{tag:t.tag}}),d=Do(),g=!NM(t)&&t.onFocus.isSome()?[Es.config({onFocus:v=>{t.onFocus.each(y=>{y(v.element.dom)})}}),Hr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Yn([Cs("custom-editor-events",[Wr(v=>{l.getOpt(v).each(y=>{(NM(t)?t.init(y.element.dom):Mj.load(t.scriptId,t.scriptUrl).then(k=>k(y.element.dom,t.settings))).then(k=>{d.on($=>{k.setValue($)}),d.clear(),r.set(k)})})})]),c2(p.none(),()=>r.get().fold(()=>d.get().getOr(""),v=>v.getValue()),(v,y)=>{r.get().fold(()=>d.set(y),k=>k.setValue(y))}),gf.self()].concat(g)),components:[l.asSpec()]}};var Ag=tinymce.util.Tools.resolve("tinymce.util.Tools");const VS=_e("browse.files.event"),Ij=(t,r)=>{const l=Ag.explode(r.getOption("images_file_types")),d=g=>H(l,v=>Tr(g.name.toLowerCase(),`.${v.toLowerCase()}`));return be(We(t),d)},Bj=(t,r,l)=>{const d=(Fe,Qe)=>{Qe.stop()},g=Fe=>(Qe,qe)=>{ee(Fe,vt=>{vt(Qe,qe)})},v=(Fe,Qe)=>{var qe;if(!zo.isDisabled(Fe)){const vt=Qe.event.raw;Xo(Fe,VS,{files:(qe=vt.dataTransfer)===null||qe===void 0?void 0:qe.files})}},y=(Fe,Qe)=>{const qe=Qe.event.raw.target;Xo(Fe,VS,{files:qe.files})},k=(Fe,Qe)=>{Qe&&(yo.setValue(Fe,Ij(Qe,r)),Xo(Fe,Bc,{name:t.name}))},$=mr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Yn([Cs("input-file-events",[Up(bu()),Up(Np())])])}),Y=t.label.map(Fe=>Tg(Fe,r)),le=js.parts.field({factory:pl,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Zr(r.translate("Browse for an image")),$.asSpec()],action:Fe=>{$.get(Fe).element.dom.click()},buttonBehaviours:Yn([gf.self(),d2(l.getOr([])),Hr.config({}),Yi.button(()=>r.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.checkUiComponentContext(t.context))])}),Ee={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Yn([zo.config({disabled:()=>r.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.checkUiComponentContext(t.context)),qs.config({toggleClass:"dragenter",toggleOnExecute:!1}),Cs("dropzone-events",[xn("dragenter",g([d,qs.toggle])),xn("dragleave",g([d,qs.toggle])),xn("dragover",d),xn("drop",g([d,v])),xn(Zu(),y)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Zr(r.translate("Drop an image here"))]},le]}]};return S4(Y,Ee,["tox-form__group--stretched"],[Cs("handle-files",[xn(VS,(Fe,Qe)=>{js.getField(Fe).each(qe=>{k(qe,Qe.event.files)})})])])},Fj=(t,r)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:K(t.items,r.interpreter)}),WS=_e("alloy-fake-before-tabstop"),KS=_e("alloy-fake-after-tabstop"),MM=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Yn([Es.config({ignore:!0}),Hr.config({})])}),IM=(t,r)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[MM([WS]),r,MM([KS])],behaviours:Yn([gf.childAt(1)])}),BM=(t,r)=>{Xo(t,di(),{raw:{which:9,shiftKey:r}})},Pj=(t,r)=>{const l=r.element;Ma(l,WS)?BM(t,!0):Ma(l,KS)&&BM(t,!1)},A4=t=>_p(t,["."+WS,"."+KS].join(","),ge),N9=_e("update-dialog"),FM=_e("update-title"),PM=_e("update-body"),$M=_e("update-footer"),HM=_e("body-send-message"),R9=_e("dialog-focus-shifted"),M9=ca().browser,h6=M9.isSafari(),zM=M9.isFirefox(),UM=h6||zM,VM=M9.isChromium(),WM=({scrollTop:t,scrollHeight:r,clientHeight:l})=>Math.ceil(t)+l>=r,I9=(t,r)=>t.scrollTo(0,r==="bottom"?99999999:r),$j=(t,r)=>{const l=t.body;return p.from(!/^<!DOCTYPE (html|HTML)/.test(r)&&(!VM&&!h6||Ao(l)&&(l.scrollTop!==0||Math.abs(l.scrollHeight-l.clientHeight)>1))?l:t.documentElement)},KM=(t,r,l)=>{const d=t.dom;p.from(d.contentDocument).fold(l,g=>{let v=0;const y=$j(g,r).map($=>(v=$.scrollTop,$)).forall(WM),k=()=>{const $=d.contentWindow;Ao($)&&(y?I9($,"bottom"):!y&&UM&&v!==0&&I9($,v))};h6&&d.addEventListener("load",k,{once:!0}),g.open(),g.write(r),g.close(),h6||k()})},zj=Dn(UM,h6?500:200).map(t=>ia(KM,t)),jM=(t,r)=>{const l=Je(t.getOr(""));return{getValue:d=>l.get(),setValue:(d,g)=>{if(l.get()!==g){const v=d.element,y=()=>os(v,"srcdoc",g);r?zj.fold(ht(KM),k=>k.throttle)(v,g,y):y()}l.set(g)}}},Uj=(t,r,l)=>{const d="tox-dialog__iframe",g=t.transparent?[]:[`${d}--opaque`],v=t.border?["tox-navobj-bordered"]:[],y={...t.label.map(Ee=>({title:Ee})).getOr({}),...l.map(Ee=>({srcdoc:Ee})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},k=jM(l,t.streamContent),$=t.label.map(Ee=>Tg(Ee,r)),Y=Ee=>IM(p.from(v),{uid:Ee.uid,dom:{tag:"iframe",attributes:y,classes:[d,...g]},behaviours:Yn([Hr.config({}),Es.config({}),c2(l,k.getValue,k.setValue),sd.config({channels:{[R9]:{onReceive:(Fe,Qe)=>{Qe.newFocus.each(qe=>{Ql(Fe.element).each(vt=>{(Rs(Fe.element,qe)?na:Vr)(vt,"tox-navobj-bordered-focus")})})}}}})])}),le=js.parts.field({factory:{sketch:Y}});return S4($,le,["tox-form__group--stretched"],[])},B9=(t,r,l,d,g)=>{const v=l*g,y=d*g,k=Math.max(0,t/2-v/2),$=Math.max(0,r/2-y/2);return{left:k.toString()+"px",top:$.toString()+"px",width:v.toString()+"px",height:y.toString()+"px"}},Vj=(t,r,l)=>{const d=ei(t),g=Yr(t);return Math.min(d/r,g/l,1)},ZM=(t,r)=>{const l=Je(r.getOr({url:""})),d=mr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:r.map($=>({src:$.url})).getOr({})}}),g=mr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[d.asSpec()]}),v=($,Y)=>{const le={url:Y.url};Y.zoom.each(Fe=>le.zoom=Fe),Y.cachedWidth.each(Fe=>le.cachedWidth=Fe),Y.cachedHeight.each(Fe=>le.cachedHeight=Fe),l.set(le);const Ee=()=>{const{cachedWidth:Fe,cachedHeight:Qe,zoom:qe}=le;if(!es(Fe)&&!es(Qe)){if(es(qe)){const Ot=Vj($.element,Fe,Qe);le.zoom=Ot}const vt=B9(ei($.element),Yr($.element),Fe,Qe,le.zoom);g.getOpt($).each(Ot=>{Aa(Ot.element,vt)})}};d.getOpt($).each(Fe=>{const Qe=Fe.element;Y.url!==Ua(Qe,"src")&&(os(Qe,"src",Y.url),Vr($.element,"tox-imagepreview__loaded")),Ee(),su(Qe).then(qe=>{$.getSystem().isConnected()&&(na($.element,"tox-imagepreview__loaded"),le.cachedWidth=qe.dom.naturalWidth,le.cachedHeight=qe.dom.naturalHeight,Ee())})})},y={};t.height.each($=>y.height=$);const k=r.map($=>({url:$.url,zoom:p.from($.zoom),cachedWidth:p.from($.cachedWidth),cachedHeight:p.from($.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[g.asSpec()],behaviours:Yn([gf.self(),c2(k,()=>l.get(),v)])}},Wj=(t,r,l)=>{const d="tox-label",g=t.align==="center"?[`${d}--center`]:[],v=t.align==="end"?[`${d}--end`]:[],y=mr({dom:{tag:"label",classes:[d,...g,...v]},components:[Zr(r.providers.translate(t.label))]}),k=K(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[y.asSpec(),...k],behaviours:Yn([gf.self(),ws.config({}),Aj(p.none()),Ho.config({mode:"acyclic"}),Cs("label",[Wr($=>{t.for.each(Y=>{l(Y).each(le=>{y.getOpt($).each(Ee=>{var Fe;const Qe=(Fe=Ua(le.element,"id"))!==null&&Fe!==void 0?Fe:_e("form-field");os(le.element,"id",Qe),os(Ee.element,"for",Qe)})})})})])])}},jS=_e("toolbar.button.execute"),n1=t=>Wf((r,l)=>{t2(t,r)(d=>{Xo(r,jS,{buttonApi:d}),t.onAction(d)})}),o1=_e("common-button-display-events"),b6={[Yc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[xu()]:["toolbar-button-events",o1],[Pf()]:["toolbar-button-events","dropdown-events","tooltipping"],[rl()]:["focusing","alloy.base.behaviour",o1]},ZS=t=>Mo(t.element,"width",pa(t.element,"width")),F9=(t,r,l)=>Wd(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:l},r),GS=(t,r)=>F9(t,r,[]),ip=(t,r)=>F9(t,r,[ws.config({})]),YS=(t,r,l)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Zr(l.translate(t))],behaviours:Yn([ws.config({})])}),ud=_e("update-menu-text"),f2=_e("update-menu-icon"),GM=_e("update-tooltip-text"),P9=(t,r,l,d)=>{const g=Je(lt),v=Je(t.tooltip),y=t.text.map(Ot=>mr(YS(Ot,r,l.providers))),k=t.icon.map(Ot=>mr(ip(Ot,l.providers.icons))),$=(Ot,Ct)=>{const $t=yo.getValue(Ot);return Es.focus($t),Xo($t,"keydown",{raw:Ct.event.raw}),ad.close($t),p.some(!0)},Y=t.role.fold(()=>({}),Ot=>({role:Ot})),le=p.from(t.listRole).map(Ot=>({listRole:Ot})).getOr({}),Ee=t.ariaLabel.fold(()=>({}),Ot=>({"aria-label":l.providers.translate(Ot)})),Fe=Wd("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},l.providers.icons),Qe=_e("common-button-display-events"),qe="dropdown-events";return mr(ad.sketch({...t.uid?{uid:t.uid}:{},...Y,...le,dom:{tag:"button",classes:[r,`${r}--select`].concat(K(t.classes,Ot=>`${r}--${Ot}`)),attributes:{...Ee,...Ao(d)?{"data-mce-name":d}:{}}},components:h4([k.map(Ot=>Ot.asSpec()),y.map(Ot=>Ot.asSpec()),p.some(Fe)]),matchWidth:!0,useMinWidth:!0,onOpen:(Ot,Ct,$t)=>{t.searchable&&bj($t)},dropdownBehaviours:Yn([...t.dropdownBehaviours,Yi.button(()=>t.disabled||l.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>l.providers.checkUiComponentContext(t.context)),kv.config({}),ws.config({}),...t.tooltip.map(Ot=>wr.config(l.providers.tooltips.getConfig({tooltipText:l.providers.translate(Ot),onShow:Ct=>{if(Qt(v.get(),t.tooltip,($t,Ut)=>Ut!==$t).getOr(!1)){const $t=l.providers.translate(v.get().getOr(""));wr.setComponents(Ct,l.providers.tooltips.getComponents({tooltipText:$t}))}}}))).toArray(),Cs(qe,[ff(t,g),rp(t,g)]),Cs(Qe,[Wr((Ot,Ct)=>{t.listRole!=="listbox"&&ZS(Ot)})]),Cs("update-dropdown-width-variable",[xn(Gh(),(Ot,Ct)=>ad.close(Ot))]),Cs("menubutton-update-display-text",[xn(ud,(Ot,Ct)=>{y.bind($t=>$t.getOpt(Ot)).each($t=>{ws.set($t,[Zr(l.providers.translate(Ct.event.text))])})}),xn(f2,(Ot,Ct)=>{k.bind($t=>$t.getOpt(Ot)).each($t=>{ws.set($t,[ip(Ct.event.icon,l.providers.icons)])})}),xn(GM,(Ot,Ct)=>{const $t=l.providers.translate(Ct.event.text);os(Ot.element,"aria-label",$t),v.set(p.some(Ct.event.text))})])]),eventOrder:At(b6,{[rl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[xu()]:["toolbar-button-events",wr.name(),qe,Qe]}),sandboxBehaviours:Yn([Ho.config({mode:"special",onLeft:$,onRight:$}),Cs("dropdown-sandbox-events",[xn(Dw,(Ot,Ct)=>{mj(Ot),Ct.stop()}),xn(Nw,(Ot,Ct)=>{vM(Ot,Ct),Ct.stop()})])]),lazySink:l.getSink,toggleClass:`${r}--active`,parts:{menu:{...a4(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:yM,onCollapseMenu:(Ot,Ct,$t)=>{gr.getHighlighted($t).each(Ut=>{yM(Ot,$t,Ut)})},onDehighlightItem:CM}}},getAnchorOverrides:()=>({maxHeightFunction:(Ot,Ct)=>{lb()(Ot,Ct-10)}}),fetch:Ot=>Hn.nu(us(t.fetch,Ot))})).asSpec()},Kj=t=>dt(t),YM=t=>t.type==="separator",qS=t=>Wt(t,"getSubmenuItems"),jj={type:"separator"},Zj=(t,r)=>{const l=se(t,(d,g)=>Kj(g)?g===""?d:g==="|"?d.length>0&&!YM(d[d.length-1])?d.concat([jj]):d:Wt(r,g.toLowerCase())?d.concat([r[g.toLowerCase()]]):d:d.concat([g]),[]);return l.length>0&&YM(l[l.length-1])&&l.pop(),l},qM=(t,r)=>{const l=t.getSubmenuItems(),d=QM(l,r),g=At(d.menus,{[t.value]:d.items}),v=At(d.expansions,{[t.value]:t.value});return{item:t,menus:g,expansions:v}},XM=t=>{const r=Rt(t,"value").getOrThunk(()=>_e("generated-menu-item"));return At({value:r},t)},QM=(t,r)=>{const l=Zj(dt(t)?t.split(" "):t,r);return re(l,(d,g)=>{if(qS(g)){const v=XM(g),y=qM(v,r);return{menus:At(d.menus,y.menus),items:[y.item,...d.items],expansions:At(d.expansions,y.expansions)}}else return{...d,items:[g,...d.items]}},{menus:{},expansions:{},items:[]})},Gj=t=>t.search.fold(()=>({searchMode:"no-search"}),r=>({searchMode:"search-with-field",placeholder:r.placeholder})),Yj=t=>t.search.fold(()=>({searchMode:"no-search"}),r=>({searchMode:"search-with-results"})),k4=(t,r,l,d)=>{const g=_e("primary-menu"),v=QM(t,l.shared.providers.menuItems());if(v.items.length===0)return p.none();const y=Gj(d),k=BS(g,v.items,r,l,d.isHorizontalMenu,y),$=Yj(d),Y=et(v.menus,(Ee,Fe)=>BS(Fe,Ee,r,l,!1,$)),le=At(Y,tm(g,k));return p.from(I0.tieredData(g,le,v.expansions))},v6=t=>!Wt(t,"items"),mf="data-value",$9=(t,r,l,d,g)=>K(l,v=>v6(v)?{type:"togglemenuitem",...g?{}:{role:"option"},text:v.text,value:v.value,active:v.value===d,onAction:()=>{yo.setValue(t,v.value),Xo(t,Bc,{name:r}),Es.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>$9(t,r,v.items,d,g)}),XS=(t,r)=>ut(t,l=>v6(l)?Dn(l.value===r,l):XS(l.items,r)),qj=(t,r,l)=>{const d=H(t.items,Y=>!v6(Y)),g=r.shared.providers,v=l.bind(Y=>XS(t.items,Y)).orThunk(()=>we(t.items).filter(v6)),y=t.label.map(Y=>Tg(Y,g)),k=js.parts.field({dom:{},factory:{sketch:Y=>P9({context:t.context,uid:Y.uid,text:v.map(le=>le.text),icon:p.none(),tooltip:p.none(),role:Dn(!d,"combobox"),...d?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(le,Ee)=>{const Fe=$9(le,t.name,t.items,yo.getValue(le),d);Ee(k4(Fe,df.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:p.none()}))},onSetup:ht(lt),getApi:ht({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Hr.config({}),c2(v.map(le=>le.value),le=>Ua(le.element,mf),(le,Ee)=>{XS(t.items,Ee).each(Fe=>{os(le.element,mf,Fe.value),Xo(le,ud,{text:Fe.text})})})]},"tox-listbox",r.shared)}}),$={dom:{tag:"div",classes:["tox-listboxfield"]},components:[k]};return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:V([y.toArray(),[$]]),fieldBehaviours:Yn([zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable,onDisabled:Y=>{js.getField(Y).each(zo.disable)},onEnabled:Y=>{js.getField(Y).each(zo.enable)}})])})},Xj=(t,r)=>({dom:{tag:"div",classes:t.classes},components:K(t.items,r.shared.interpreter)}),Qj=(t,r,l)=>{const d=K(t.items,$=>({text:r.translate($.text),value:$.value})),g=t.label.map($=>Tg($,r)),v=js.parts.field({dom:{},...l.map($=>({data:$})).getOr({}),selectAttributes:{size:t.size},options:d,factory:Ez,selectBehaviours:Yn([zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable}),Hr.config({}),Cs("selectbox-change",[xn(Zu(),($,Y)=>{Xo($,Bc,{name:t.name})})])])}),y=t.size>1?p.none():p.some(Wd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),k={dom:{tag:"div",classes:["tox-selectfield"]},components:V([[v],y.toArray()])};return js.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:V([g.toArray(),[k]]),fieldBehaviours:Yn([zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable,onDisabled:$=>{js.getField($).each(zo.disable)},onEnabled:$=>{js.getField($).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext(t.context))])})},JM=t=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},l=g=>g in r?r[g]:1;let d=t.value.toFixed(l(t.unit));return d.indexOf(".")!==-1&&(d=d.replace(/\.?0*$/,"")),d+t.unit},x6=t=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(l!==null){const d=parseFloat(l[1]),g=l[2];return zn.value({value:d,unit:g})}else return zn.error(t)},QS=(t,r)=>{const l={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},d=g=>Wt(l,g);return t.unit===r?p.some(t.value):d(t.unit)&&d(r)?l[t.unit]===l[r]?p.some(t.value):p.some(t.value/l[t.unit]*l[r]):p.none()},JS=t=>p.none(),tJ=(t,r)=>l=>QS(l,r).map(d=>({value:d*t,unit:r})),Gl=(t,r)=>{const l=x6(t).toOptional(),d=x6(r).toOptional();return Qt(l,d,(g,v)=>QS(g,v.unit).map(y=>v.value/y).map(y=>tJ(y,v.unit)).getOr(JS)).getOr(JS)},eI=(t,r)=>{let l=JS;const d=_e("ratio-event"),g=vt=>Wd(vt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+vt]},r.icons),v=()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable,y=Fa(()=>r.checkUiComponentContext(t.context)),k=t.label.getOr("Constrain proportions"),$=r.translate(k),Y=Ca.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":$,"data-mce-name":k}},components:[g("lock"),g("unlock")],buttonBehaviours:Yn([zo.config({disabled:v}),y,Hr.config({}),wr.config(r.tooltips.getConfig({tooltipText:$}))])}),le=vt=>({dom:{tag:"div",classes:["tox-form__group"]},components:vt}),Ee=vt=>js.parts.field({factory:mg,inputClasses:["tox-textfield"],inputBehaviours:Yn([zo.config({disabled:v}),y,Hr.config({}),Cs("size-input-events",[xn(wc(),(Ot,Ct)=>{Xo(Ot,d,{isField1:vt})}),xn(Zu(),(Ot,Ct)=>{Xo(Ot,Bc,{name:t.name})})])]),selectOnFocus:!1}),Fe=vt=>({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(vt))]}),Qe=Ca.parts.field1(le([js.parts.label(Fe("Width")),Ee(!0)])),qe=Ca.parts.field2(le([js.parts.label(Fe("Height")),Ee(!1)]));return Ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Qe,qe,le([Fe(Jt),Y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(vt,Ot,Ct)=>{x6(yo.getValue(vt)).each($t=>{l($t).each(Ut=>{yo.setValue(Ot,JM(Ut))})})},coupledFieldBehaviours:Yn([zo.config({disabled:v,onDisabled:vt=>{Ca.getField1(vt).bind(js.getField).each(zo.disable),Ca.getField2(vt).bind(js.getField).each(zo.disable),Ca.getLock(vt).each(zo.disable)},onEnabled:vt=>{Ca.getField1(vt).bind(js.getField).each(zo.enable),Ca.getField2(vt).bind(js.getField).each(zo.enable),Ca.getLock(vt).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext("mode:design")),Cs("size-input-events2",[xn(d,(vt,Ot)=>{const Ct=Ot.event.isField1,$t=Ct?Ca.getField1(vt):Ca.getField2(vt),Ut=Ct?Ca.getField2(vt):Ca.getField1(vt),an=$t.map(yo.getValue).getOr(""),un=Ut.map(yo.getValue).getOr("");l=Gl(an,un)})])])})},Jj=(t,r,l)=>{const d=cf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(t.label))]}),g=cf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=cf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return cf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:ht(l.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[d,g,v],sliderBehaviours:Yn([gf.self(),Es.config({})]),onChoose:(y,k,$)=>{Xo(y,Bc,{name:t.name,value:$})},onChange:(y,k,$)=>{Xo(y,Bc,{name:t.name,value:$})}})},tI=(t,r)=>{const l=k=>({dom:{tag:"th",innerHtml:r.translate(k)}}),d=k=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:K(k,l)}]}),g=k=>({dom:{tag:"td",innerHtml:r.translate(k)}}),v=k=>({dom:{tag:"tr"},components:K(k,g)}),y=k=>({dom:{tag:"tbody"},components:K(k,v)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[d(t.header),y(t.cells)],behaviours:Yn([Hr.config({}),Es.config({})])}},nI=(t,r)=>{const l=t.label.map(qe=>Tg(qe,r)),d=[zo.config({disabled:()=>t.disabled||r.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.checkUiComponentContext(t.context)),Ho.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:qe=>(Hs(qe,T4),p.some(!0))}),Cs("textfield-change",[xn(Bf(),(qe,vt)=>{Xo(qe,Bc,{name:t.name})}),xn(I5(),(qe,vt)=>{Xo(qe,Bc,{name:t.name})})]),Hr.config({})],g=t.validation.map(qe=>G1.config({getRoot:vt=>Ql(vt.element),invalidClass:"tox-invalid",validator:{validate:vt=>{const Ot=yo.getValue(vt),Ct=qe.validator(Ot);return Hn.pure(Ct===!0?zn.value(Ot):zn.error(Ct))},validateOnLoad:qe.validateOnLoad}})).toArray(),v=t.placeholder.fold(ht({}),qe=>({placeholder:r.translate(qe)})),y=t.inputMode.fold(ht({}),qe=>({inputmode:qe})),$={...t.spellcheck.fold(ht({}),qe=>({spellcheck:qe})),...v,...y,"data-mce-name":t.name},Y=js.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(qe=>({data:qe})).getOr({}),inputAttributes:$,inputClasses:[t.classname],inputBehaviours:Yn(V([d,g])),selectOnFocus:!1,factory:mg}),le=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[Y]}:Y,Fe=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),Qe=[zo.config({disabled:()=>t.disabled||r.checkUiComponentContext(t.context).shouldDisable,onDisabled:qe=>{js.getField(qe).each(zo.disable)},onEnabled:qe=>{js.getField(qe).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext(t.context))];return S4(l,le,Fe,Qe)},eZ=(t,r,l)=>nI({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:p.none(),maximized:t.maximized,data:l,context:t.context,spellcheck:p.none()},r),oI=(t,r,l)=>nI({name:t.name,multiline:!0,label:t.label,inputMode:p.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:p.none(),maximized:t.maximized,data:l,context:t.context,spellcheck:t.spellcheck},r),sI=t=>({isEnabled:()=>!zo.isDisabled(t),setEnabled:r=>zo.set(t,!r),setActive:r=>{const l=t.element;r?(na(l,"tox-tbtn--enabled"),os(l,"aria-pressed",!0)):(Vr(l,"tox-tbtn--enabled"),Kr(l,"aria-pressed"))},isActive:()=>Ma(t.element,"tox-tbtn--enabled"),setTooltip:r=>{Xo(t,GM,{text:r})},setText:r=>{Xo(t,ud,{text:r})},setIcon:r=>Xo(t,f2,{icon:r})}),p2=(t,r,l,d,g=!0,v)=>{const y=t.buttonType==="bordered"?["bordered"]:[];return P9({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:d,fetch:(k,$)=>{const Y={pattern:t.search.isSome()?vj(k):""};t.fetch(le=>{$(k4(le,df.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:t.search}))},Y,sI(k))},onSetup:t.onSetup,getApi:k=>sI(k),columns:1,presets:"normal",classes:y,dropdownBehaviours:[...g?[Hr.config({})]:[]],context:t.context},r,l.shared,v)},eT=(t,r,l)=>{const d=v=>y=>{const k=!y.isActive();y.setActive(k),v.storage.set(k),l.shared.getSink().each($=>{r().getOpt($).each(Y=>{hr(Y.element),Xo(Y,pf,{name:v.name,value:v.storage.get()})})})},g=v=>y=>{y.setActive(v.storage.get())};return v=>{v(K(t,y=>{const k=y.text.fold(()=>({}),$=>({text:$}));return{type:y.type,active:!1,...k,context:y.context,onAction:d(y),onSetup:g(y)}}))}},rI=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Zr(t)]}),H9=(t,r,l)=>{t.customStateIcon.each(d=>r.push(aI(d,l.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],g=>[wr.config(l.shared.providers.tooltips.getConfig({tooltipText:g}))]),["tox-icon-custom-state"])))},tT=_e("leaf-label-event-id"),z9=({leaf:t,onLeafAction:r,visible:l,treeId:d,selectedId:g,backstage:v})=>{const y=t.menu.map($=>p2($,"tox-mbtn",v,p.none(),l)),k=[rI(t.title)];return H9(t,k,v),y.each($=>k.push($)),pl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(l?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:$=>{r(t.id),$.getSystem().broadcastOn([`update-active-item-${d}`],{value:t.id})},eventOrder:{[di()]:[tT,"keying"]},buttonBehaviours:Yn([...l?[Hr.config({})]:[],qs.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),sd.config({channels:{[`update-active-item-${d}`]:{onReceive:($,Y)=>{(Y.value===t.id?qs.on:qs.off)($)}}}}),Cs(tT,[Wr(($,Y)=>{g.each(le=>{(le===t.id?qs.on:qs.off)($)})}),xn(di(),($,Y)=>{const le=Y.event.raw.code==="ArrowLeft",Ee=Y.event.raw.code==="ArrowRight";le?(Kc($.element,".tox-tree--directory").each(Fe=>{$.getSystem().getByDom(Fe).each(Qe=>{g1(Fe,".tox-tree--directory__label").each(qe=>{Qe.getSystem().getByDom(qe).each(Es.focus)})})}),Y.stop()):Ee&&Y.stop()})])])})},aI=(t,r,l,d,g)=>Wd(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(d||[]),behaviours:l,attributes:g},r),iI=(t,r)=>aI(t,r,[]),nT=_e("directory-label-event-id"),tZ=({directory:t,visible:r,noChildren:l,backstage:d})=>{const g=t.menu.map(k=>p2(k,"tox-mbtn",d,p.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[iI("chevron-right",d.shared.providers.icons)]},rI(t.title)];H9(t,v,d),g.each(k=>{v.push(k)});const y=k=>{Kc(k.element,".tox-tree--directory").each($=>{k.getSystem().getByDom($).each(Y=>{const le=!qs.isOn(Y);qs.toggle(Y),Xo(k,"expand-tree-node",{expanded:le,node:t.id})})})};return pl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:v,action:y,eventOrder:{[di()]:[nT,"keying"]},buttonBehaviours:Yn([...r?[Hr.config({})]:[],Cs(nT,[xn(di(),(k,$)=>{const Y=$.event.raw.code==="ArrowRight",le=$.event.raw.code==="ArrowLeft";Y&&l&&$.stop(),(Y||le)&&Kc(k.element,".tox-tree--directory").each(Ee=>{k.getSystem().getByDom(Ee).each(Fe=>{!qs.isOn(Fe)&&Y||qs.isOn(Fe)&&le?(y(k),$.stop()):le&&!qs.isOn(Fe)&&(Kc(Fe.element,".tox-tree--directory").each(Qe=>{g1(Qe,".tox-tree--directory__label").each(qe=>{Fe.getSystem().getByDom(qe).each(Es.focus)})}),$.stop())})})})])])})},lI=({children:t,onLeafAction:r,visible:l,treeId:d,expandedIds:g,selectedId:v,backstage:y})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(k=>k.type==="leaf"?z9({leaf:k,selectedId:v,onLeafAction:r,visible:l,treeId:d,backstage:y}):U9({directory:k,expandedIds:g,selectedId:v,onLeafAction:r,labelTabstopping:l,treeId:d,backstage:y})),behaviours:Yn([jl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:l}),ws.config({})])}),nZ=_e("directory-event-id"),U9=({directory:t,onLeafAction:r,labelTabstopping:l,treeId:d,backstage:g,expandedIds:v,selectedId:y})=>{const{children:k}=t,$=Je(v),Y=Ee=>k.map(Fe=>Fe.type==="leaf"?z9({leaf:Fe,selectedId:y,onLeafAction:r,visible:Ee,treeId:d,backstage:g}):U9({directory:Fe,expandedIds:$.get(),selectedId:y,onLeafAction:r,labelTabstopping:Ee,treeId:d,backstage:g})),le=v.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[tZ({directory:t,visible:l,noChildren:t.children.length===0,backstage:g}),lI({children:k,expandedIds:v,selectedId:y,onLeafAction:r,visible:le,treeId:d,backstage:g})],behaviours:Yn([Cs(nZ,[Wr((Ee,Fe)=>{qs.set(Ee,le)}),xn("expand-tree-node",(Ee,Fe)=>{const{expanded:Qe,node:qe}=Fe.event;$.set(Qe?[...$.get(),qe]:$.get().filter(vt=>vt!==qe))})]),qs.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Ee,Fe)=>{const Qe=Ee.components()[1],qe=Y(Fe);Fe?jl.grow(Qe):jl.shrink(Qe),ws.set(Qe,qe)}})])}},nJ=_e("tree-event-id"),oJ=(t,r)=>{const l=t.onLeafAction.getOr(lt),d=t.onToggleExpand.getOr(lt),g=t.defaultExpandedIds,v=Je(g),y=Je(t.defaultSelectedId),k=_e("tree-id"),$=(Y,le)=>t.items.map(Ee=>Ee.type==="leaf"?z9({leaf:Ee,selectedId:Y,onLeafAction:l,visible:!0,treeId:k,backstage:r}):U9({directory:Ee,selectedId:Y,onLeafAction:l,expandedIds:le,labelTabstopping:!0,treeId:k,backstage:r}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:$(y.get(),v.get()),behaviours:Yn([Ho.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Cs(nJ,[xn("expand-tree-node",(Y,le)=>{const{expanded:Ee,node:Fe}=le.event;v.set(Ee?[...v.get(),Fe]:v.get().filter(Qe=>Qe!==Fe)),d(v.get(),{expanded:Ee,node:Fe})})]),sd.config({channels:{[`update-active-item-${k}`]:{onReceive:(Y,le)=>{y.set(p.some(le.value)),ws.set(Y,$(p.some(le.value),v.get()))}}}}),ws.config({})])}},V9=(t,r,l=[],d,g,v,y)=>{const k=r.fold(()=>({}),le=>({action:le})),$={buttonBehaviours:Yn([Yi.item(()=>!t.enabled||y.checkUiComponentContext(t.context).shouldDisable),Fa(()=>y.checkUiComponentContext(t.context)),Hr.config({}),...v.map(le=>wr.config(y.tooltips.getConfig({tooltipText:y.translate(le)}))).toArray(),Cs("button press",[M8("click")])].concat(l)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},Y=At($,{dom:d});return At(Y,{components:g})},oZ=(t,r,l,d=[],g)=>{const v=t.tooltip.map(Y=>({"aria-label":l.translate(Y)})).getOr({}),y={tag:"button",classes:["tox-tbtn"],attributes:{...v,"data-mce-name":g}},k=t.icon.map(Y=>GS(Y,l.icons)),$=h4([k]);return V9(t,r,d,y,$,t.tooltip,l)},W9=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},cI=(t,r,l,d=[],g=[])=>{const v=l.translate(t.text),y=t.icon.map(Qe=>GS(Qe,l.icons)),k=[y.getOrThunk(()=>Zr(v))],$=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),Ee={tag:"button",classes:[...W9($),...y.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...g],attributes:{"aria-label":v,"data-mce-name":t.text}},Fe=t.icon.map(ht(v));return V9(t,r,d,Ee,k,Fe,l)},dI=(t,r,l,d=[],g=[])=>{const v=cI(t,p.some(r),l,d,g);return pl.sketch(v)},uI=(t,r)=>l=>{r==="custom"?Xo(l,pf,{name:t,value:{}}):r==="submit"?Hs(l,T4):r==="cancel"?Hs(l,rh):console.error("Unknown button type: ",r)},sZ=(t,r)=>r==="menu",fI=(t,r)=>r==="custom"||r==="cancel"||r==="submit",rZ=(t,r)=>r==="togglebutton",aZ=(t,r,l)=>{var d,g;const v=t.icon.map(Ut=>ip(Ut,r.icons)).map(mr),y=Ut=>{Xo(Ut,pf,{name:t.name,value:{setIcon:an=>{v.map(un=>un.getOpt(Ut).each(uo=>{ws.set(uo,[ip(an,r.icons)])}))}}})},k=t.buttonType.getOr(t.primary?"primary":"secondary"),$={...t,name:(d=t.name)!==null&&d!==void 0?d:"",tooltip:t.tooltip,enabled:(g=t.enabled)!==null&&g!==void 0?g:!1},Y=$.tooltip.or(t.text).map(Ut=>({"aria-label":r.translate(Ut)})).getOr({}),le=W9(k??"secondary"),Ee=t.icon.isSome()&&t.text.isSome(),Fe={tag:"button",classes:[...le.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...Ee?["tox-button--icon-and-text"]:[]],attributes:{...Y,...Ao(l)?{"data-mce-name":l}:{}}},Qe=[],qe=r.translate(t.text.getOr("")),vt=Zr(qe),Ct=[...h4([v.map(Ut=>Ut.asSpec())]),...t.text.isSome()?[vt]:[]],$t=V9($,p.some(y),Qe,Fe,Ct,t.tooltip,r);return pl.sketch($t)},y6=(t,r,l)=>{if(sZ(t,r)){const d=()=>y,g=t,v={...t,buttonType:"default",type:"menubutton",search:p.none(),onSetup:k=>(k.setEnabled(t.enabled),lt),fetch:eT(g.items,d,l)},y=mr(p2(v,"tox-tbtn",l,p.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return y.asSpec()}else if(fI(t,r)){const d=uI(t.name,r),g={...t,context:r==="cancel"?"any":t.context,borderless:!1};return dI(g,d,l.shared.providers,[])}else{if(rZ(t,r))return aZ(t,l.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")}},pI=(t,r)=>{const l=uI(t.name,"custom");return wM(p.none(),js.parts.field({factory:pl,...cI(t,p.some(l),r,[d2(""),gf.self()])}))},O4={type:"separator"},iZ=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:lt}),K9=(t,r)=>({type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:lt}),gI=t=>K(t,iZ),mI=(t,r)=>be(r,l=>l.type===t),hI=(t,r)=>gI(mI(t,r)),bI=t=>hI("header",t.targets),vI=t=>hI("anchor",t.targets),lZ=t=>p.from(t.anchorTop).map(r=>K9("<top>",r)).toArray(),cZ=t=>p.from(t.anchorBottom).map(r=>K9("<bottom>",r)).toArray(),xI=t=>K(t,r=>K9(r,r)),yI=t=>se(t,(r,l)=>r.length===0||l.length===0?r.concat(l):r.concat(O4,l),[]),oT=(t,r)=>{const l=t.toLowerCase();return be(r,d=>{var g;const v=d.meta!==void 0&&d.meta.text!==void 0?d.meta.text:d.text,y=(g=d.value)!==null&&g!==void 0?g:"";return io(v.toLowerCase(),l)||io(y.toLowerCase(),l)})},dZ=(t,r,l)=>{var d,g;const v=yo.getValue(r),y=(g=(d=v==null?void 0:v.meta)===null||d===void 0?void 0:d.text)!==null&&g!==void 0?g:v.value;return l.getLinkInformation().fold(()=>[],$=>{const Y=oT(y,xI(l.getHistory(t)));return t==="file"?yI([Y,oT(y,bI($)),oT(y,V([lZ($),vI($),cZ($)]))]):Y})},CI=_e("aria-invalid"),uZ=(t,r,l,d)=>{const g=r.shared.providers,v=$t=>{const Ut=yo.getValue($t);l.addToHistory(Ut.value,t.filetype)},y={...d.map($t=>({initialData:$t})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":CI,type:"url"},minChars:0,responseTime:0,fetch:$t=>{const Ut=dZ(t.filetype,$t,l),an=k4(Ut,df.BUBBLE_TO_SANDBOX,r,{isHorizontalMenu:!1,search:p.none()});return Hn.pure(an)},getHotspot:$t=>qe.getOpt($t),onSetValue:($t,Ut)=>{$t.hasConfigured(G1)&&G1.run($t).get(lt)},typeaheadBehaviours:Yn([...l.getValidationHandler().map($t=>G1.config({getRoot:Ut=>Ql(Ut.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ut,an)=>{le.getOpt(Ut).each(un=>{os(un.element,"title",g.translate(an))})}},validator:{validate:Ut=>{const an=yo.getValue(Ut);return Ce.nu(un=>{$t({type:t.filetype,url:an.value},uo=>{if(uo.status==="invalid"){const Fn=zn.error(uo.message);un(Fn)}else{const Fn=zn.value(uo.message);un(Fn)}})})},validateOnLoad:!1}})).toArray(),zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable}),Hr.config({}),Cs("urlinput-events",[xn(Bf(),$t=>{const Ut=jc($t.element),an=Ut.trim();an!==Ut&&Hl($t.element,an),t.filetype==="file"&&Xo($t,Bc,{name:t.name})}),xn(Zu(),$t=>{Xo($t,Bc,{name:t.name}),v($t)}),xn(I5(),$t=>{Xo($t,Bc,{name:t.name}),v($t)})])]),eventOrder:{[Bf()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:$t=>$t.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:a4(!1,1,"normal")},onExecute:($t,Ut,an)=>{Xo(Ut,T4,{})},onItemExecute:($t,Ut,an,un)=>{v($t),Xo($t,Bc,{name:t.name})}},k=js.parts.field({...y,factory:GU}),$=t.label.map($t=>Tg($t,g)),le=mr((($t,Ut,an=$t,un=$t)=>Wd(an,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+$t],attributes:{title:g.translate(un),"aria-live":"polite",...Ut.fold(()=>({}),uo=>({id:uo}))}},g.icons))("invalid",p.some(CI),"warning")),Ee=mr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[le.asSpec()]}),Fe=l.getUrlPicker(t.filetype),Qe=_e("browser.url.event"),qe=mr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[k,Ee.asSpec()],behaviours:Yn([zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable})])}),vt=mr(dI({context:t.context,name:t.name,icon:p.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:p.none(),borderless:!0},$t=>Hs($t,Qe),g,[],["tox-browse-url"])),Ot=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:V([[qe.asSpec()],Fe.map(()=>vt.asSpec()).toArray()])}),Ct=$t=>{yn.getCurrent($t).each(Ut=>{const an=yo.getValue(Ut),un={fieldname:t.name,...an};Fe.each(uo=>{uo(un).get(Fn=>{yo.setValue(Ut,Fn),Xo($t,Bc,{name:t.name})})})})};return js.sketch({dom:g6(),components:$.toArray().concat([Ot()]),fieldBehaviours:Yn([zo.config({disabled:()=>!t.enabled||g.checkUiComponentContext(t.context).shouldDisable,onDisabled:$t=>{js.getField($t).each(zo.disable),vt.getOpt($t).each(zo.disable)},onEnabled:$t=>{js.getField($t).each(zo.enable),vt.getOpt($t).each(zo.enable)}}),Fa(()=>g.checkUiComponentContext(t.context)),Cs("url-input-events",[xn(Qe,Ct)])])})},fZ=(t,r)=>{const l=kN(t.icon,r.icons);return Qf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:l},components:t.url?[pl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:l,attributes:{title:r.translate(t.iconTooltip)}},action:d=>Xo(d,pf,{name:"alert-banner",value:t.url}),buttonBehaviours:Yn([Gx()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},pZ=(t,r,l)=>{const d=$=>($.element.dom.click(),p.some(!0)),g=js.parts.field({factory:{sketch:oo},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Yn([gf.self(),zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable,onDisabled:$=>{Ql($.element).each(Y=>na(Y,"tox-checkbox--disabled"))},onEnabled:$=>{Ql($.element).each(Y=>Vr(Y,"tox-checkbox--disabled"))}}),Hr.config({}),Es.config({}),O9(l,kh,mc),Ho.config({mode:"special",onEnter:d,onSpace:d,stopSpaceKeyup:!0}),Cs("checkbox-events",[xn(Zu(),($,Y)=>{Xo($,Bc,{name:t.name})})])])}),v=js.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Zr(r.translate(t.label))],behaviours:Yn([kv.config({})])}),y=$=>Wd($==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+$]},r.icons),k=mr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[y("checked"),y("unchecked")]});return js.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[g,k.asSpec(),v],fieldBehaviours:Yn([zo.config({disabled:()=>!t.enabled||r.checkUiComponentContext(t.context).shouldDisable}),Fa(()=>r.checkUiComponentContext(t.context))])})},gZ=(t,r)=>{const l=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],d=Cs("htmlpanel",[Wr(g=>{t.onInit(g.element.dom)})]);return t.presets==="presentation"?Qf.sketch({dom:{tag:"div",classes:l,innerHtml:t.html},containerBehaviours:Yn([wr.config({...r.tooltips.getConfig({tooltipText:"",onShow:g=>{pr(g.element,"[data-mce-tooltip]:hover").orThunk(()=>za(g.element)).each(v=>{ai(v,"data-mce-tooltip").each(y=>{wr.setComponents(g,r.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:g=>({type:"node",node:pr(g.element,"[data-mce-tooltip]:hover").orThunk(()=>za(g.element).filter(v=>ai(v,"data-mce-tooltip").isSome())),root:g.element,layouts:{onLtr:ht([Ba,pi,jr,fi,qa,wi]),onRtl:ht([Ba,pi,jr,fi,qa,wi])},bubble:Xc(0,-2,{})})}),d])}):Qf.sketch({dom:{tag:"div",classes:l,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Yn([Hr.config({}),Es.config({}),d])})},bi=t=>(r,l,d,g,v)=>Rt(l,"name").fold(()=>t(l,g,p.none(),v),y=>r.field(y,t(l,g,Rt(d,y),v))),mZ=t=>(r,l,d,g,v)=>{const y=At(l,{source:"dynamic"});return bi(t)(r,y,d,g,v)},hZ={bar:bi((t,r)=>_j(t,r.shared)),collection:bi((t,r,l)=>kM(t,r.shared.providers,l)),alertbanner:bi((t,r)=>fZ(t,r.shared.providers)),input:bi((t,r,l)=>eZ(t,r.shared.providers,l)),textarea:bi((t,r,l)=>oI(t,r.shared.providers,l)),label:bi((t,r,l,d)=>Wj(t,r.shared,d)),iframe:mZ((t,r,l)=>Uj(t,r.shared.providers,l)),button:bi((t,r)=>pI(t,r.shared.providers)),checkbox:bi((t,r,l)=>pZ(t,r.shared.providers,l)),colorinput:bi((t,r,l)=>k9(t,r.shared,r.colorinput,l)),colorpicker:bi((t,r,l)=>Rj(t,r.shared.providers,l)),dropzone:bi((t,r,l)=>Bj(t,r.shared.providers,l)),grid:bi((t,r)=>Fj(t,r.shared)),listbox:bi((t,r,l)=>qj(t,r,l)),selectbox:bi((t,r,l)=>Qj(t,r.shared.providers,l)),sizeinput:bi((t,r)=>eI(t,r.shared.providers)),slider:bi((t,r,l)=>Jj(t,r.shared.providers,l)),urlinput:bi((t,r,l)=>uZ(t,r,r.urlinput,l)),customeditor:bi(RM),htmlpanel:bi((t,r)=>gZ(t,r.shared.providers)),imagepreview:bi((t,r,l)=>ZM(t,l)),table:bi((t,r)=>tI(t,r.shared.providers)),tree:bi((t,r)=>oJ(t,r)),panel:bi((t,r)=>Xj(t,r))},bZ={field:(t,r)=>r,record:ht([])},vZ=(t,r,l,d,g)=>{const v=At(d,{shared:{interpreter:y=>sT(t,y,l,v,g)}});return sT(t,r,l,v,g)},sT=(t,r,l,d,g)=>Rt(hZ,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),v=>v(t,r,l,d,g)),rT=(t,r,l,d)=>sT(bZ,t,r,l,d),L4={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},j9=(t,r,l)=>{const g={maxHeightFunction:bm()},v=()=>({type:"node",root:xl(Ra(t())),node:p.from(t()),bubble:Xc(12,12,L4),layouts:{onRtl:()=>[Qc],onLtr:()=>[hn]},overrides:g}),y=()=>({type:"hotspot",hotspot:r(),bubble:Xc(-12,12,L4),layouts:{onRtl:()=>[jr,qa,Ba],onLtr:()=>[qa,jr,Ba]},overrides:g});return()=>l()?v():y()},_I=(t,r,l,d)=>{const v={maxHeightFunction:bm()},y=()=>({type:"node",root:xl(Ra(r())),node:p.from(r()),bubble:Xc(12,12,L4),layouts:{onRtl:()=>[Jc],onLtr:()=>[Jc]},overrides:v}),k=()=>t?{type:"node",root:xl(Ra(r())),node:p.from(r()),bubble:Xc(0,-Di(r()),L4),layouts:{onRtl:()=>[pi],onLtr:()=>[pi]},overrides:v}:{type:"hotspot",hotspot:l(),bubble:Xc(0,0,L4),layouts:{onRtl:()=>[pi],onLtr:()=>[pi]},overrides:v};return()=>d()?y():k()},xZ=(t,r,l)=>{const d=()=>({type:"node",root:xl(Ra(t())),node:p.from(t()),layouts:{onRtl:()=>[Jc],onLtr:()=>[Jc]}}),g=()=>({type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Ba],onLtr:()=>[Ba]}});return()=>l()?d():g()},yZ=(t,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const l=t.selection.getRng(),d=t.model.table.getSelectedCells();if(d.length>1){const g=d[0],v=d[d.length-1],y={firstCell:cn.fromDom(g),lastCell:cn.fromDom(v)};return p.some(y)}return p.some(hc.range(cn.fromDom(l.startContainer),l.startOffset,cn.fromDom(l.endContainer),l.endOffset))}}),CZ=t=>r=>({type:"node",root:t(),node:r}),_Z=(t,r,l,d)=>{const g=e4(t),v=()=>cn.fromDom(t.getBody()),y=()=>cn.fromDom(t.getContentAreaContainer()),k=()=>g||!d();return{inlineDialog:j9(y,r,k),inlineBottomDialog:_I(t.inline,y,l,k),banner:xZ(y,r,k),cursor:yZ(t,v),node:CZ(v)}},EZ=t=>(r,l)=>{cM(t)(r,l)},wZ=t=>()=>qR(t),SZ=t=>r=>x9(t,r),EI=t=>r=>LS(t,r),wI=t=>({colorPicker:EZ(t),hasCustomColors:wZ(t),getColors:SZ(t),getColorCols:EI(t)}),TZ=t=>()=>QD(t),SI=t=>({isDraggableModal:TZ(t)}),AZ=t=>{const r=Je(cw(t)?"bottom":"top");return{isPositionedAtTop:()=>r.get()==="top",getDockingMode:r.get,setDockingMode:r.set}},TI=t=>Zt(t,"items"),AI=t=>Zt(t,"format"),ah=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],kI=t=>Wt(t,"items"),C6=t=>Wt(t,"block"),Z9=t=>Wt(t,"inline"),OI=t=>Wt(t,"selector"),aT=t=>se(t,(r,l)=>{if(kI(l)){const d=aT(l.items);return{customFormats:r.customFormats.concat(d.customFormats),formats:r.formats.concat([{title:l.title,items:d.formats}])}}else if(Z9(l)||C6(l)||OI(l)){const g=`custom-${dt(l.name)?l.name:l.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:g,format:l}]),formats:r.formats.concat([{title:l.title,format:g,icon:l.icon}])}}else return{...r,formats:r.formats.concat(l)}},{customFormats:[],formats:[]}),LI=(t,r)=>{const l=aT(r),d=g=>{ee(g,v=>{t.formatter.has(v.name)||t.formatter.register(v.name,v.format)})};return t.formatter?d(l.customFormats):t.on("init",()=>{d(l.customFormats)}),l.formats},kZ=t=>HD(t).map(r=>{const l=LI(t,r);return zD(t)?ah.concat(l):l}).getOr(ah),OZ=t=>{const r=nt(t);return r.length===1&&Q(r,"title")},DI=(t,r,l)=>({...t,type:"formatter",isSelected:r(t.format),getStylePreview:l(t.format)}),NI=(t,r,l,d)=>{const g=$=>DI($,l,d),v=$=>{const Y=k($.items);return{...$,type:"submenu",getStyleItems:ht(Y)}},y=$=>{const Y=dt($.name)?$.name:_e($.title),le=`custom-${Y}`,Ee={...$,type:"formatter",format:le,isSelected:l(le),getStylePreview:d(le)};return t.formatter.register(Y,Ee),Ee},k=$=>K($,Y=>TI(Y)?v(Y):AI(Y)?g(Y):OZ(Y)?{...Y,type:"separator"}:y(Y));return k(r)},LZ=t=>{const r=k=>()=>t.formatter.match(k),l=k=>()=>{const $=t.formatter.get(k);return $!==void 0?p.some({tag:$.length>0&&($[0].inline||$[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(k))}):p.none()},d=Je([]),g=Je([]),v=Je(!1);return t.on("PreInit",k=>{const $=kZ(t),Y=NI(t,$,r,l);d.set(Y)}),t.on("addStyleModifications",k=>{const $=NI(t,k.items,r,l);g.set($),v.set(k.replace)}),{getData:()=>{const k=v.get()?[]:d.get(),$=g.get();return k.concat($)}}},DZ=t=>{let d=0;const g=()=>d>0,v=k=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Zr(k.tooltipText)]}];return{getConfig:k=>({delayForShow:()=>g()?60:300,delayForHide:ht(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:v(k),onShow:($,Y)=>{d++,k.onShow&&k.onShow($,Y)},onHide:($,Y)=>{d--,k.onHide&&k.onHide($,Y)},onSetup:k.onSetup}),getComponents:v}},NZ=t=>Ao(t)&&t.nodeType===1,D4=Ag.trim,N4=t=>r=>!!(NZ(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),iT=N4("true"),RZ=N4("false"),RI=(t,r,l,d,g)=>({type:t,title:r,url:l,level:d,attach:g}),lT=t=>{let r=t;for(;r=r.parentNode;){const l=r.contentEditable;if(l&&l!=="inherit")return iT(r)}return!1},MZ=(t,r)=>K(Ia(cn.fromDom(r),t),l=>l.dom),R4=t=>t.innerText||t.textContent,MI=t=>t.id?t.id:_e("h"),IZ=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,BZ=t=>IZ(t)&&BI(t),II=t=>t&&/^(H[1-6])$/.test(t.nodeName),BI=t=>lT(t)&&!RZ(t),FZ=t=>II(t)&&BI(t),PZ=t=>II(t)?parseInt(t.nodeName.substr(1),10):0,FI=t=>{var r;const l=MI(t),d=()=>{t.id=l};return RI("header",(r=R4(t))!==null&&r!==void 0?r:"","#"+l,PZ(t),d)},PI=t=>{const r=t.id||t.name,l=R4(t);return RI("anchor",l||"#"+r,"#"+r,0,lt)},cT=t=>K(be(t,FZ),FI),$Z=t=>K(be(t,BZ),PI),G9=t=>MZ("h1,h2,h3,h4,h5,h6,a:not([href])",t),Y9=t=>D4(t.title).length>0,zZ={find:t=>{const r=G9(t);return be(cT(r).concat($Z(r)),Y9)}},q9="tinymce-url-history",$I=5,HI=t=>dt(t)&&/^https?/.test(t),dT=t=>pn(t)&&t.length<=$I&&N(t,HI),zI=t=>Ft(t)&&mt(t,r=>!dT(r)).isNone(),X9=()=>{const t=l2.getItem(q9);if(t===null)return{};let r;try{r=JSON.parse(t)}catch(l){if(l instanceof SyntaxError)return console.log("Local storage "+q9+" was not valid JSON",l),{};throw l}return zI(r)?r:(console.log("Local storage "+q9+" was not valid format",r),{})},UZ=t=>{if(!zI(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));l2.setItem(q9,JSON.stringify(t))},uT=t=>{const r=X9();return Rt(r,t).getOr([])},VZ=(t,r)=>{if(!HI(t))return;const l=X9(),d=Rt(l,r).getOr([]),g=be(d,v=>v!==t);l[r]=[t].concat(g).slice(0,$I),UZ(l)},UI=t=>!!t,WZ=t=>et(Ag.makeMap(t,/[, ]/),UI),fT=t=>p.from(rw(t)),KZ=t=>{const r=p.from(YD(t)).filter(UI).map(WZ);return fT(t).fold(ge,l=>r.fold(a,d=>nt(d).length>0?d:!1))},sJ=(t,r)=>{const l=KZ(t);return ve(l)?l?fT(t):p.none():l[r]?fT(t):p.none()},rJ=(t,r)=>sJ(t,r).map(l=>d=>Hn.nu(g=>{const v=(k,$)=>{if(!dt(k))throw new Error("Expected value to be string");if($!==void 0&&!Ft($))throw new Error("Expected meta to be a object");g({value:k,meta:$})},y={filetype:r,fieldname:d.fieldname,...p.from(d.meta).getOr({})};l.call(t,v,d.value,y)})),pT=t=>p.from(t).filter(dt).getOrUndefined(),jZ=t=>iw(t)?p.some({targets:zZ.find(t.getBody()),anchorTop:pT(qD(t)),anchorBottom:pT(XD(t))}):p.none(),VI=t=>p.from(GD(t)),ZZ=t=>({getHistory:uT,addToHistory:VZ,getLinkInformation:()=>jZ(t),getValidationHandler:()=>VI(t),getUrlPicker:r=>rJ(t,r)}),GZ=(t,r,l,d)=>{const g=Je(!1),v=AZ(r),y={icons:()=>r.ui.registry.getAll().icons,menuItems:()=>r.ui.registry.getAll().menuItems,translate:gl.translate,isDisabled:()=>!r.ui.isEnabled(),getOption:r.options.get,tooltips:DZ(t.dialog),checkUiComponentContext:Ct=>{if(Hx(r))return{contextType:"disabled",shouldDisable:!0};const[$t,Ut=""]=Ct.split(":"),an=r.ui.registry.getAll().contexts,un=Rt(an,$t).fold(()=>Rt(an,"mode").map(uo=>uo("design")).getOr(!1),uo=>Ut.charAt(0)==="!"?!uo(Ut.slice(1)):uo(Ut));return{contextType:$t,shouldDisable:!un}}},k=ZZ(r),$=LZ(r),Y=wI(r),le=SI(r),Ee=()=>g.get(),Fe=Ct=>g.set(Ct),Qe={shared:{providers:y,anchors:_Z(r,l,d,v.isPositionedAtTop),header:v},urlinput:k,styles:$,colorinput:Y,dialog:le,isContextMenuOpen:Ee,setContextMenuState:Fe},qe=Ct=>p.none(),vt={...Qe,shared:{...Qe.shared,interpreter:Ct=>rT(Ct,{},vt,qe),getSink:t.popup}},Ot={...Qe,shared:{...Qe.shared,interpreter:Ct=>rT(Ct,{},Ot,qe),getSink:t.dialog}};return{popup:vt,dialog:Ot}},YZ={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},qZ=t=>{console.warn(YZ[t],new Error().stack)},WI=(t,r,l)=>{const d=(Nn,jo)=>{ee([r,...l],Po=>{Po.broadcastEvent(Nn,jo)})},g=(Nn,jo)=>{ee([r,...l],Po=>{Po.broadcastOn([Nn],jo)})},v=Nn=>g(Kf(),{target:Nn.target}),y=Nn=>{g(p0(),{closedTooltip:()=>{Nn.preventDefault()}})},k=ri(),$=Qs(k,"touchstart",v),Y=Qs(k,"touchmove",Nn=>d(p8(),Nn)),le=Qs(k,"touchend",Nn=>d(rm(),Nn)),Ee=Qs(k,"mousedown",v),Fe=Qs(k,"mouseup",Nn=>{Nn.raw.button===0&&g(Oc(),{target:Nn.target})}),Qe=Nn=>g(Kf(),{target:cn.fromDom(Nn.target)}),qe=Nn=>{Nn.button===0&&g(Oc(),{target:cn.fromDom(Nn.target)})},vt=()=>{ee(t.editorManager.get(),Nn=>{t!==Nn&&Nn.dispatch("DismissPopups",{relatedTarget:t})})},Ot=Nn=>d(Zh(),Uc(Nn)),Ct=Nn=>{g(Mr(),{}),d(Gh(),Uc(Nn))},$t=Ra(cn.fromDom(t.getElement())),Ut=xd($t,"scroll",Nn=>{requestAnimationFrame(()=>{const jo=t.getContainer();if(jo!=null){const Zs=Ym(t,r.element).map(ss=>[ss.element,...ss.others]).getOr([]);H(Zs,ss=>Rs(ss,Nn.target))&&(t.dispatch("ElementScroll",{target:Nn.target.dom}),d(g8(),Nn))}})}),an=()=>g(Mr(),{}),un=Nn=>{Nn.state&&g(Kf(),{target:cn.fromDom(t.getContainer())})},uo=Nn=>{g(Kf(),{target:cn.fromDom(Nn.relatedTarget.getContainer())})},Fn=Nn=>t.dispatch("focusin",Nn),$n=Nn=>t.dispatch("focusout",Nn);t.on("PostRender",()=>{t.on("click",Qe),t.on("tap",Qe),t.on("mouseup",qe),t.on("mousedown",vt),t.on("ScrollWindow",Ot),t.on("ResizeWindow",Ct),t.on("ResizeEditor",an),t.on("AfterProgressState",un),t.on("DismissPopups",uo),t.on("CloseActiveTooltips",y),ee([r,...l],Nn=>{Nn.element.dom.addEventListener("focusin",Fn),Nn.element.dom.addEventListener("focusout",$n)})}),t.on("remove",()=>{t.off("click",Qe),t.off("tap",Qe),t.off("mouseup",qe),t.off("mousedown",vt),t.off("ScrollWindow",Ot),t.off("ResizeWindow",Ct),t.off("ResizeEditor",an),t.off("AfterProgressState",un),t.off("DismissPopups",uo),t.off("CloseActiveTooltips",y),ee([r,...l],Nn=>{Nn.element.dom.removeEventListener("focusin",Fn),Nn.element.dom.removeEventListener("focusout",$n)}),Ee.unbind(),$.unbind(),Y.unbind(),le.unbind(),Fe.unbind(),Ut.unbind()}),t.on("detach",()=>{ee([r,...l],T7),ee([r,...l],Nn=>Nn.destroy())})},XZ=lt,QZ=ge,KI=ht([]);var iJ=Object.freeze({__proto__:null,setup:XZ,isDocked:QZ,getBehaviours:KI});const jI=ht(_e("toolbar-height-change")),s1={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},gT="tox-tinymce--toolbar-sticky-on",ZI="tox-tinymce--toolbar-sticky-off",JZ=(t,r)=>{const l=Rl(r),g=Pu(r).dom.innerHeight,v=Ri(l),y=cn.fromDom(t.elm),k=x1(y),$=Yr(y),Y=k.y,le=Y+$,Ee=Ni(r),Fe=Yr(r),Qe=Ee.top,qe=Qe+Fe,vt=Math.abs(Qe-v.top)<2,Ot=Math.abs(qe-(v.top+g))<2;if(vt&&Y<qe)tc(v.left,Y-Fe,l);else if(Ot&&le>Qe){const Ct=Y-g+$+Fe;tc(v.left,Ct,l)}},cc=(t,r)=>Q(ea.getModes(t),r),mT=t=>{const r=d=>Di(d)+(parseInt(pa(d,"margin-top"),10)||0)+(parseInt(pa(d,"margin-bottom"),10)||0),l=t.element;Ql(l).each(d=>{const g="padding-"+ea.getModes(t)[0];if(ea.isDocked(t)){const v=ei(d);Mo(l,"width",v+"px"),Mo(d,g,r(l)+"px")}else Ps(l,"width"),Ps(d,g)})},hT=(t,r)=>{r?(Vr(t,s1.fadeOutClass),$l(t,[s1.transitionClass,s1.fadeInClass])):(Vr(t,s1.fadeInClass),$l(t,[s1.fadeOutClass,s1.transitionClass]))},bT=(t,r)=>{const l=cn.fromDom(t.getContainer());r?(na(l,gT),Vr(l,ZI)):(na(l,ZI),Vr(l,gT))},eG=(t,r)=>{const l=Rl(r);Xa(l).filter(d=>!Rs(r,d)).filter(d=>Rs(d,cn.fromDom(l.dom.body))||Sa(t,d)).each(()=>hr(r))},_6=(t,r)=>za(t).orThunk(()=>r().toOptional().bind(l=>za(l.element))),tG=(t,r,l)=>{t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{l().each(ea.reset)}),t.on("ResizeWindow ResizeEditor",()=>{l().each(mT)}),t.on("SkinLoaded",()=>{l().each(d=>{ea.isDocked(d)?ea.reset(d):ea.refresh(d)})}),t.on("FullscreenStateChanged",()=>{l().each(ea.reset)})),t.on("AfterScrollIntoView",d=>{l().each(g=>{ea.refresh(g);const v=g.element;u1(v)&&JZ(d,v)})}),t.on("PostRender",()=>{bT(t,!1)})},Q9=t=>t().map(ea.isDocked).getOr(!1),nG=()=>[sd.config({channels:{[jI()]:{onReceive:mT}}})],E6=(t,r)=>{const l=Do(),d=r.getSink,g=k=>{d().each($=>k($.element))},v=k=>{t.inline||mT(k),bT(t,ea.isDocked(k)),k.getSystem().broadcastOn([Mr()],{}),d().each($=>$.getSystem().broadcastOn([Mr()],{}))},y=t.inline?[]:nG();return[Es.config({}),ea.config({contextual:{lazyContext:k=>{const $=Di(k.element),Y=t.inline?t.getContentAreaContainer():t.getContainer();return p.from(Y).map(le=>{const Ee=ha(cn.fromDom(le));return Ym(t,k.element).fold(()=>{const Qe=Ee.height-$,qe=Ee.y+(cc(k,"top")?0:$);return Ka(Ee.x,qe,Ee.width,Qe)},Qe=>{const qe=Sp(Ee,$0(Qe)),vt=cc(k,"top")?qe.y:qe.y+$;return Ka(qe.x,vt,qe.width,qe.height-$)})})},onShow:()=>{g(k=>hT(k,!0))},onShown:k=>{g($=>Cl($,[s1.transitionClass,s1.fadeInClass])),l.get().each($=>{eG(k.element,$),l.clear()})},onHide:k=>{_6(k.element,d).fold(l.clear,l.set),g($=>hT($,!1))},onHidden:()=>{g(k=>Cl(k,[s1.transitionClass]))},...s1},lazyViewport:k=>Ym(t,k.element).fold(()=>{const Y=ol(),le=ZD(t),Ee=Y.y+(cc(k,"top")&&!fN(t)?le:0),Fe=Y.height-(cc(k,"bottom")?le:0);return{bounds:Ka(Y.x,Ee,Y.width,Fe),optScrollEnv:p.none()}},Y=>({bounds:$0(Y),optScrollEnv:p.some({currentScrollTop:Y.element.dom.scrollTop,scrollElmTop:Ni(Y.element).top})})),modes:[r.header.getDockingMode()],onDocked:v,onUndocked:v}),...y]};var oG=Object.freeze({__proto__:null,setup:tG,isDocked:Q9,getBehaviours:E6});const sG=t=>{const r=t.editor,l=t.sticky?E6:KI;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Yn(l(r,t.sharedBackstage))}};var vT=od({factory:(t,r)=>{const l=(g,v)=>{const y=K(v,k=>{const $={type:"menubutton",text:k.text,fetch:le=>{le(k.getItems())},context:"any"},Y=a9($).mapError(le=>Jg(le)).getOrDie();return p2(Y,"tox-mbtn",r.backstage,p.some("menuitem"))});ws.set(g,y)},d={focus:Ho.focusIn,setMenus:l};return{uid:t.uid,dom:t.dom,components:[],behaviours:Yn([ws.config({}),Cs("menubar-events",[Wr(g=>{t.onSetup(g)}),xn(Ad(),(g,v)=>{pr(g.element,".tox-mbtn--active").each(y=>{nc(v.event.target,".tox-mbtn").each(k=>{Rs(y,k)||g.getSystem().getByDom(y).each($=>{g.getSystem().getByDom(k).each(Y=>{ad.expand(Y),ad.close($),Es.focus(Y)})})})})}),xn(am(),(g,v)=>{v.event.prevFocus.bind(y=>g.getSystem().getByDom(y).toOptional()).each(y=>{v.event.newFocus.bind(k=>g.getSystem().getByDom(k).toOptional()).each(k=>{ad.isOpen(y)&&(ad.expand(k),ad.close(y))})})})]),Ho.config({mode:"flow",selector:".tox-mbtn",onEscape:g=>(t.onEscape(g),p.some(!0))}),Hr.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Bn("dom"),Bn("uid"),Bn("onEscape"),Bn("backstage"),tn("onSetup",lt)],apis:{focus:(t,r)=>{t.focus(r)},setMenus:(t,r,l)=>{t.setMenus(r,l)}}});const J9="💝 Get all features",GI="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",YI=t=>{const r=t.promotionLink?[{dom:{tag:"a",attributes:{href:GI,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:J9}}]:[];return{uid:t.uid,dom:t.dom,components:r}},rG=t=>{const{sidebars:r}=t.ui.registry.getAll();ee(nt(r),l=>{const d=r[l],g=()=>kt(p.from(t.queryCommandValue("ToggleSidebar")),l);t.ui.registry.addToggleButton(l,{icon:d.icon,tooltip:d.tooltip,onAction:v=>{t.execCommand("ToggleSidebar",!1,l),v.setActive(g())},onSetup:v=>{v.setActive(g());const y=()=>v.setActive(g());return t.on("ToggleSidebar",y),()=>{t.off("ToggleSidebar",y)}},context:"any"})})},qI=t=>({element:()=>t.element.dom}),aG=(t,r)=>{const l=K(nt(r),d=>{const g=r[d],v=Sd(xR(g));return{name:d,getApi:qI,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return K(l,d=>{const g=Je(lt);return t.slot(d.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:m4.unnamedEvents([ff(d,g),rp(d,g),xn(P5(),(v,y)=>{const k=y.event;D(l,Y=>Y.name===k.name).each(Y=>{(k.visible?Y.onShow:Y.onHide)(Y.getApi(v))})})])})})},iG=t=>Ol.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:aG(r,t),slotBehaviours:m4.unnamedEvents([Wr(l=>Ol.hideAllSlots(l))])})),lG=(t,r,l)=>{yn.getCurrent(t).each(g=>{ws.set(g,[iG(r)]);const v=l==null?void 0:l.toLowerCase();dt(v)&&Wt(r,v)&&yn.getCurrent(g).each(y=>{Ol.showSlot(y,v),jl.immediateGrow(g),Ps(g.element,"width"),ey(t.element,"region")})})},ey=(t,r)=>{os(t,"role",r)},cG=(t,r)=>{yn.getCurrent(t).each(d=>{yn.getCurrent(d).each(v=>{jl.hasGrown(d)?Ol.isShowing(v,r)?(jl.shrink(d),ey(t.element,"presentation")):(Ol.hideAllSlots(v),Ol.showSlot(v,r),ey(t.element,"region")):(Ol.hideAllSlots(v),Ol.showSlot(v,r),jl.grow(d),ey(t.element,"region"))})})},dG=t=>yn.getCurrent(t).bind(l=>jl.isGrowing(l)||jl.hasGrown(l)?yn.getCurrent(l).bind(v=>D(Ol.getSlotNames(v),y=>Ol.isShowing(v,y))):p.none()),xT=_e("FixSizeEvent"),ty=_e("AutoSizeEvent"),XI=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Yn([Hr.config({}),Es.config({}),jl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{yn.getCurrent(r).each(Ol.hideAllSlots),Hs(r,ty)},onGrown:r=>{Hs(r,ty)},onStartGrow:r=>{Xo(r,xT,{width:er(r.element,"width").getOr("")})},onStartShrink:r=>{Xo(r,xT,{width:ei(r.element)+"px"})}}),ws.config({}),yn.config({find:r=>{const l=ws.contents(r);return we(l)}})])}],behaviours:Yn([gf.childAt(0),Cs("sidebar-sliding-events",[xn(xT,(r,l)=>{Mo(r.element,"width",l.event.width)}),xn(ty,(r,l)=>{Ps(r.element,"width")})])])}),QI=t=>(r,l)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:q1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),JI=t=>yn.getCurrent(t).each(r=>hr(r.element,!0)),eB=(t,r)=>{const l="tabindex",d=`data-mce-${l}`;p.from(t.iframeElement).map(cn.fromDom).each(g=>{r?(ai(g,l).each(v=>os(g,d,v)),os(g,l,-1)):(Kr(g,l),ai(g,d).each(v=>{os(g,l,v),Kr(g,d)}))})},uG=(t,r,l,d)=>{const g=r.element;if(eB(t,l),l)wn.block(r,QI(d)),Ps(g,"display"),Kr(g,"aria-hidden"),t.hasFocus()&&JI(r);else{const v=yn.getCurrent(r).exists(y=>pc(y.element));wn.unblock(r),Mo(g,"display","none"),os(g,"aria-hidden","true"),v&&t.focus()}},fG=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Yn([ws.config({}),wn.config({focus:!1}),yn.config({find:r=>we(r.components())})]),components:[]}),tB=t=>t.type==="focusin",nB=t=>tB(t)?(t.composed?we(t.composedPath()):p.from(t.target)).map(cn.fromDom).filter(hl).exists(l=>Ma(l,"mce-pastebin")):!1,oB=(t,r,l)=>{const d=Je(!1),g=Do(),v=k=>{d.get()&&!nB(k)&&(k.preventDefault(),JI(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",v),t.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const y=k=>{k!==d.get()&&(d.set(k),uG(t,r(),k,l.providers),IK(t,k))};t.on("ProgressState",k=>{if(g.on(clearTimeout),Zo(k.time)){const $=$x.setEditorTimeout(t,()=>y(k.state),k.time);g.set($)}else y(k.state),g.clear()})},sB=t=>{const r=t.label.isNone()?t.title.fold(()=>({}),l=>({attributes:{"aria-label":l}})):t.label.fold(()=>({}),l=>({attributes:{"aria-label":l}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(t.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...t.label.map(l=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Zr(l)]})).toArray(),Uv.parts.items({})],items:t.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Yn([Hr.config({}),Es.config({ignore:!0})])}},ny=t=>Uv.sketch(sB(t)),rB=(t,r)=>{const l=Wr(d=>{const g=K(t.initGroups,ny);Lu.setGroups(d,g)});return Yn([Yi.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),Fa(()=>t.providers.checkUiComponentContext("any")),Ho.config({mode:r,onEscape:t.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Cs("toolbar-events",[l])])},yT=t=>{const r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":sB({title:p.none(),label:p.none(),items:[]}),"overflow-button":oZ({context:"any",icon:p.some("more-drawer"),enabled:!0,tooltip:p.some("Reveal or hide additional toolbar items")},p.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:rB(t,r)}},pG=t=>{const r=yT(t),l=4,d=ND.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return ND.sketch({...r,lazySink:t.getSink,getOverflowBounds:()=>{const g=t.moreDrawerData.lazyHeader().element,v=x1(g),y=Ch(g),k=x1(y),$=Math.max(y.dom.scrollHeight,k.height);return Ka(v.x+l,k.y,v.width-l*2,$)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>t.onToggled(g,!0),onClosed:g=>t.onToggled(g,!1)})},gG=t=>{const r=Q3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),l=Q3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=yT(t);return Q3.sketch({...d,components:[r,l],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>{g.getSystem().broadcastOn([jI()],{type:"opened"}),t.onToggled(g,!0)},onClosed:g=>{g.getSystem().broadcastOn([jI()],{type:"closed"}),t.onToggled(g,!1)}})},oy=t=>{const r=t.cyclicKeying?"cyclic":"acyclic";return Lu.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Vd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Lu.parts.groups({})],toolbarBehaviours:rB(t,r)})},mG=(t,r)=>{var l,d;const g=t.type==="togglebutton",v=t.icon.map(Ut=>ip(Ut,r.icons)).map(mr),k=Ut=>{const an=$n=>{v.map(Nn=>Nn.getOpt(Ut).each(jo=>{ws.set(jo,[ip($n,r.icons)])}))},un=$n=>{const Nn=Ut.element;$n?(na(Nn,"tox-button--enabled"),os(Nn,"aria-pressed",!0)):(Vr(Nn,"tox-button--enabled"),Kr(Nn,"aria-pressed"))},uo=()=>Ma(Ut.element,"tox-button--enabled"),Fn=()=>hr(Ut.element);if(g)return t.onAction({setIcon:an,setActive:un,isActive:uo,focus:Fn});if(t.type==="button")return t.onAction({setIcon:an})},$={...t,name:g?t.text.getOr(t.icon.getOr("")):(l=t.text)!==null&&l!==void 0?l:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:p.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},Y=W9((d=t.buttonType)!==null&&d!==void 0?d:"secondary"),le=g?t.text.map(r.translate):p.some(r.translate(t.text)),Ee=le.map(Zr),Fe=$.tooltip.or(le).map(Ut=>({"aria-label":r.translate(Ut)})).getOr({}),Qe=v.map(Ut=>Ut.asSpec()),qe=h4([Qe,Ee]),vt=t.icon.isSome()&&Ee.isSome(),Ot={tag:"button",classes:Y.concat(...t.icon.isSome()&&!vt?["tox-button--icon"]:[]).concat(...vt?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:Fe},Ct=[],$t=V9($,p.some(k),Ct,Ot,qe,t.tooltip,r);return pl.sketch($t)},aB=(t,r)=>mG(t,r),hG=(t,r)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:K(t.buttons,l=>aB(l,r))}),iB=ca().deviceType,bG=iB.isPhone(),vG=iB.isTablet(),xG=t=>{let r=!1;const l=K(t.buttons,d=>d.type==="group"?(r=!0,hG(d,t.providers)):aB(d,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...bG||vG?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Yn([Es.config({}),Ho.config({mode:"flow",selector:"button, .tox-button",focusInside:Sc.OnEnterOrSpaceMode})]),components:r?l:[Qf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Qf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:l})]}},CT=t=>({uid:t.uid,behaviours:Yn([Es.config({}),Hr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),yG=(t,r,l,d)=>{const g={getPane:v=>hi.getPart(v,t,"pane"),getOnShow:v=>t.viewConfig.onShow,getOnHide:v=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:r,behaviours:Yn([Es.config({}),Ho.config({mode:"cyclic",focusInside:Sc.OnEnterOrSpaceMode})]),apis:g}};var M4=ic({name:"silver.View",configFields:[Bn("viewConfig")],partFields:[kd({factory:{sketch:xG},schema:[Bn("buttons"),Bn("providers")],name:"header"}),kd({factory:{sketch:CT},schema:[],name:"pane"})],factory:yG,apis:{getPane:(t,r)=>t.getPane(r),getOnShow:(t,r)=>t.getOnShow(r),getOnHide:(t,r)=>t.getOnHide(r)}});const lB=(t,r,l)=>_t(r,(d,g)=>{const v=Sd(lc(d));return t.slot(g,M4.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[M4.parts.header({buttons:v.buttons,providers:l})]:[],M4.parts.pane({})]}))}),cB=(t,r)=>Ol.sketch(l=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:lB(l,t,r),slotBehaviours:m4.unnamedEvents([Wr(d=>Ol.hideAllSlots(d))])})),dB=t=>D(Ol.getSlotNames(t),r=>Ol.isShowing(t,r)),CG=t=>{const r=t.element;Mo(r,"display","none"),os(r,"aria-hidden","true")},_G=t=>{const r=t.element;Ps(r,"display"),Kr(r,"aria-hidden")},EG=t=>({getContainer:ht(t)}),uB=(t,r,l)=>{Ol.getSlot(t,r).each(d=>{M4.getPane(d).each(g=>{l(d)(EG(g.element.dom))})})},wG=(t,r)=>uB(t,r,M4.getOnShow),fB=(t,r)=>uB(t,r,M4.getOnHide);var I4=od({factory:(t,r)=>{const v={setViews:(y,k)=>{ws.set(y,[cB(k,r.backstage.shared.providers)])},whichView:y=>yn.getCurrent(y).bind(dB),toggleView:(y,k,$,Y)=>yn.getCurrent(y).exists(le=>{const Ee=dB(le),Fe=Ee.exists(qe=>Y===qe),Qe=Ol.getSlot(le,Y).isSome();return Qe&&(Ol.hideAllSlots(le),Fe?(CG(y),k()):($(),_G(y),Ol.showSlot(le,Y),wG(le,Y)),Ee.each(qe=>fB(le,qe))),Qe})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Yn([ws.config({}),yn.config({find:y=>{const k=ws.contents(y);return we(k)}})]),apis:v}},name:"silver.ViewWrapper",configFields:[Bn("backstage")],apis:{setViews:(t,r,l)=>t.setViews(r,l),toggleView:(t,r,l,d,g)=>t.toggleView(r,l,d,g),whichView:(t,r)=>t.whichView(r)}});const SG=(t,r,l)=>{let d=!1;const g=y=>{Cp(y,".tox-statusbar").each(k=>{pa(k,"display")==="none"&&Ua(k,"aria-hidden")==="true"?(Ps(k,"display"),Kr(k,"aria-hidden")):(Mo(k,"display","none"),os(k,"aria-hidden","true"))})},v={getSocket:y=>hi.getPart(y,t,"socket"),setSidebar:(y,k,$)=>{hi.getPart(y,t,"sidebar").each(Y=>lG(Y,k,$))},toggleSidebar:(y,k)=>{hi.getPart(y,t,"sidebar").each($=>cG($,k))},whichSidebar:y=>hi.getPart(y,t,"sidebar").bind(dG).getOrNull(),getHeader:y=>hi.getPart(y,t,"header"),getToolbar:y=>hi.getPart(y,t,"toolbar"),setToolbar:(y,k)=>{hi.getPart(y,t,"toolbar").each($=>{const Y=K(k,ny);$.getApis().setGroups($,Y)})},setToolbars:(y,k)=>{hi.getPart(y,t,"multiple-toolbar").each($=>{const Y=K(k,le=>K(le,ny));nL.setItems($,Y)})},refreshToolbar:y=>{hi.getPart(y,t,"toolbar").each($=>$.getApis().refresh($))},toggleToolbarDrawer:y=>{hi.getPart(y,t,"toolbar").each(k=>{_n(k.getApis().toggle,$=>$(k))})},toggleToolbarDrawerWithoutFocusing:y=>{hi.getPart(y,t,"toolbar").each(k=>{_n(k.getApis().toggleWithoutFocusing,$=>$(k))})},isToolbarDrawerToggled:y=>hi.getPart(y,t,"toolbar").bind(k=>p.from(k.getApis().isOpen).map($=>$(k))).getOr(!1),getThrobber:y=>hi.getPart(y,t,"throbber"),focusToolbar:y=>{hi.getPart(y,t,"toolbar").orThunk(()=>hi.getPart(y,t,"multiple-toolbar")).each($=>{Ho.focusIn($)})},setMenubar:(y,k)=>{hi.getPart(y,t,"menubar").each($=>{vT.setMenus($,k)})},focusMenubar:y=>{hi.getPart(y,t,"menubar").each(k=>{vT.focus(k)})},setViews:(y,k)=>{hi.getPart(y,t,"viewWrapper").each($=>{I4.setViews($,k)})},toggleView:(y,k)=>hi.getPart(y,t,"viewWrapper").exists($=>I4.toggleView($,()=>v.showMainView(y),()=>v.hideMainView(y),k)),whichView:y=>hi.getPart(y,t,"viewWrapper").bind(I4.whichView).getOrNull(),hideMainView:y=>{d=v.isToolbarDrawerToggled(y),d&&v.toggleToolbarDrawer(y),hi.getPart(y,t,"editorContainer").each(k=>{const $=k.element;g($),Mo($,"display","none"),os($,"aria-hidden","true")})},showMainView:y=>{d&&v.toggleToolbarDrawer(y),hi.getPart(y,t,"editorContainer").each(k=>{const $=k.element;g($),Ps($,"display"),Kr($,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:r,apis:v,behaviours:t.behaviours}},TG=X1.optional({factory:vT,name:"menubar",schema:[Bn("backstage")]}),pB=t=>t.type===Vd.sliding?gG:t.type===Vd.floating?pG:oy,AG=X1.optional({factory:{sketch:t=>nL.sketch({uid:t.uid,dom:t.dom,listBehaviours:Yn([Ho.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>oy({type:t.type,uid:_e("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),p.some(!0))}),setupItem:(r,l,d,g)=>{Lu.setGroups(l,d)},shell:!0})},name:"multiple-toolbar",schema:[Bn("dom"),Bn("onEscape")]}),kG=X1.optional({factory:{sketch:t=>{const r=pB(t),l={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),p.some(!0)),onToggled:(d,g)=>t.onToolbarToggled(g),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(l)}},name:"toolbar",schema:[Bn("dom"),Bn("onEscape"),Bn("getSink")]}),OG=X1.optional({factory:{sketch:sG},name:"header",schema:[Bn("dom")]}),gB=X1.optional({factory:{sketch:YI},name:"promotion",schema:[Bn("dom"),Bn("promotionLink")]}),LG=X1.optional({name:"socket",schema:[Bn("dom")]}),DG=X1.optional({factory:{sketch:XI},name:"sidebar",schema:[Bn("dom")]}),ET=X1.optional({factory:{sketch:fG},name:"throbber",schema:[Bn("dom")]}),NG=X1.optional({factory:I4,name:"viewWrapper",schema:[Bn("backstage")]}),RG=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),mB=X1.optional({factory:{sketch:RG},name:"editorContainer",schema:[]});var Br=ic({name:"OuterContainer",factory:SG,configFields:[Bn("dom"),Bn("behaviours")],partFields:[OG,TG,kG,AG,LG,DG,gB,ET,NG,mB],apis:{getSocket:(t,r)=>t.getSocket(r),setSidebar:(t,r,l,d)=>{t.setSidebar(r,l,d)},toggleSidebar:(t,r,l)=>{t.toggleSidebar(r,l)},whichSidebar:(t,r)=>t.whichSidebar(r),getHeader:(t,r)=>t.getHeader(r),getToolbar:(t,r)=>t.getToolbar(r),setToolbar:(t,r,l)=>{t.setToolbar(r,l)},setToolbars:(t,r,l)=>{t.setToolbars(r,l)},refreshToolbar:(t,r)=>t.refreshToolbar(r),toggleToolbarDrawer:(t,r)=>{t.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(t,r)=>{t.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(t,r)=>t.isToolbarDrawerToggled(r),getThrobber:(t,r)=>t.getThrobber(r),setMenubar:(t,r,l)=>{t.setMenubar(r,l)},focusMenubar:(t,r)=>{t.focusMenubar(r)},focusToolbar:(t,r)=>{t.focusToolbar(r)},setViews:(t,r,l)=>{t.setViews(r,l)},toggleView:(t,r,l)=>t.toggleView(r,l),whichView:(t,r)=>t.whichView(r)}});const hB="file edit view insert format tools table help",bB={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},vB=(t,r,l)=>{const d=WD(l).split(/[ ,]/);return{text:t.title,getItems:()=>I(t.items,g=>{const v=g.toLowerCase();return v.trim().length===0?[]:H(d,y=>y===v)?[]:v==="separator"||v==="|"?[{type:"separator"}]:r.menuItems[v]?[r.menuItems[v]]:[]})}},wT=t=>t.split(" "),xB=(t,r)=>{const l={...bB,...r.menus},d=nt(r.menus).length>0,g=r.menubar===void 0||r.menubar===!0?wT(hB):wT(r.menubar===!1?"":r.menubar),v=be(g,k=>{const $=Wt(bB,k);return d?$||Rt(r.menus,k).exists(Y=>Wt(Y,"items")):$}),y=K(v,k=>{const $=l[k];return vB({title:$.title,items:wT($.items)},r,t)});return be(y,k=>{const $=Y=>dt(Y)||Y.type!=="separator";return k.getItems().length>0&&H(k.getItems(),$)})},MG=t=>{const r=()=>{t._skinLoaded=!0,UR(t)};return()=>{t.initialized?r():t.on("init",r)}},yB=(t,r)=>()=>NK(t,{message:r}),IG=t=>{const r=iN(t);return r?p.from(r):p.none()},CB=(t,r,l)=>(t.on("remove",()=>l.unload(r)),l.load(r)),sy=(t,r,l,d)=>(t.on("remove",()=>d.unloadRawCss(r)),d.loadRawCss(r,l)),ST=(t,r)=>"ui/"+t+"/"+r,TT=t=>p.from(tinymce.Resource.get(t)).filter(dt),AT=(t,r,l="")=>{const d=IG(t).map(v=>ST(v,`${r}.css`)),g=d.bind(TT);return Qt(d,g,(v,y)=>({_kind:"load-raw",key:v,css:y})).getOrThunk(()=>{const v=t.editorManager.suffix;return{_kind:"load-stylesheet",url:l+`/${r}${v}.css`}})},BG=(t,r)=>{const l=t.ui.styleSheetLoader,d=AT(t,"skin",r);switch(d._kind){case"load-raw":const{key:g,css:v}=d;return sy(t,g,v,l),Promise.resolve();case"load-stylesheet":const{url:y}=d;return CB(t,y,l);default:return Promise.resolve()}},FG=(t,r)=>{if(da(cn.fromDom(t.getElement()))){const d=Vv.DOM.styleSheetLoader,g=AT(t,"skin.shadowdom",r);switch(g._kind){case"load-raw":const{key:v,css:y}=g;return sy(t,v,y,d),Promise.resolve();case"load-stylesheet":const{url:k}=g;return CB(t,k,d);default:return Promise.resolve()}}else return Promise.resolve()},PG=(t,r,l)=>{const g=AT(t,r?"content.inline":"content",l);switch(g._kind){case"load-raw":const{key:v,css:y}=g;return r?sy(t,v,y,t.ui.styleSheetLoader):t.on("PostRender",()=>{sy(t,v,y,t.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:k}=g;return l&&t.contentCSS.push(k),Promise.resolve();default:return Promise.resolve()}},$G=async(t,r)=>{const l=lN(r);if(await PG(r,t,l),!Vx(r)&&dt(l))return Promise.all([BG(r,l),FG(r,l)]).then()},_B=(t,r)=>$G(t,r).then(MG(r),yB(r,"Skin could not be loaded")),HG=us(_B,!1),zG=us(_B,!0),EB=t=>({isEnabled:()=>!zo.isDisabled(t),setEnabled:r=>zo.set(t,!r),setText:r=>Xo(t,ud,{text:r}),setIcon:r=>Xo(t,f2,{icon:r})}),wB=t=>({setActive:r=>{qs.set(t,r)},isActive:()=>qs.isOn(t),isEnabled:()=>!zo.isDisabled(t),setEnabled:r=>zo.set(t,!r),setText:r=>Xo(t,ud,{text:r}),setIcon:r=>Xo(t,f2,{icon:r})}),ry=(t,r)=>t.map(l=>({"aria-label":r.translate(l)})).getOr({}),kT=_e("focus-button"),w6=(t,r,l,d,g,v,y)=>{const k=r.map(Y=>mr(YS(Y,"tox-tbtn",g))),$=t.map(Y=>mr(ip(Y,g.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...ry(l,g),...Ao(y)?{"data-mce-name":y}:{}}},components:h4([$.map(Y=>Y.asSpec()),k.map(Y=>Y.asSpec())]),eventOrder:{[rl()]:["focusing","alloy.base.behaviour",o1],[xu()]:[o1,"toolbar-group-button-events"],[Pf()]:[o1,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Yn([Yi.toolbarButton(()=>g.checkUiComponentContext(v).shouldDisable),Fa(()=>g.checkUiComponentContext(v)),Cs(o1,[Wr((Y,le)=>ZS(Y)),xn(ud,(Y,le)=>{k.bind(Ee=>Ee.getOpt(Y)).each(Ee=>{ws.set(Ee,[Zr(g.translate(le.event.text))])})}),xn(f2,(Y,le)=>{$.bind(Ee=>Ee.getOpt(Y)).each(Ee=>{ws.set(Ee,[ip(le.event.icon,g.icons)])})}),xn(rl(),(Y,le)=>{le.event.prevent(),Hs(Y,kT)})])].concat(d.getOr([])))}},ih=(t,r,l,d,g)=>{const v=r.shared,y=Je(lt),k={toolbarButtonBehaviours:[],getApi:EB,onSetup:t.onSetup},$=[Cs("toolbar-group-button-events",[ff(k,y),rp(k,y)]),...t.tooltip.map(Y=>wr.config(r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(Y)}))).toArray()];return Vm.sketch({lazySink:v.getSink,fetch:()=>Hn.nu(Y=>{Y(K(l(t.items),ny))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:w6(t.icon,t.text,t.tooltip,p.some($),v.providers,t.context,g),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:d}}}})},OT=(t,r,l,d)=>{var g;const v=Je(lt),y=w6(t.icon,t.text,t.tooltip,p.none(),l,t.context,d);return pl.sketch({dom:y.dom,components:y.components,eventOrder:b6,buttonBehaviours:{...Yn([Cs("toolbar-button-events",[n1({onAction:t.onAction,getApi:r.getApi}),ff(r,v),rp(r,v)]),...t.tooltip.map(k=>wr.config(l.tooltips.getConfig({tooltipText:l.translate(k)+t.shortcut.map($=>` (${b4($)})`).getOr("")}))).toArray(),Yi.toolbarButton(()=>!t.enabled||l.checkUiComponentContext(t.context).shouldDisable),Fa(()=>l.checkUiComponentContext(t.context))].concat(r.toolbarButtonBehaviours)),[o1]:(g=y.buttonBehaviours)===null||g===void 0?void 0:g[o1]}})},UG=(t,r,l)=>LT(t,r,[],l),LT=(t,r,l,d)=>OT(t,{toolbarButtonBehaviours:l.length>0?[Cs("toolbarButtonWith",l)]:[],getApi:EB,onSetup:t.onSetup},r,d),VG=(t,r,l)=>SB(t,r,[],l),SB=(t,r,l,d)=>OT(t,{toolbarButtonBehaviours:[ws.config({}),qs.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(l.length>0?[Cs("toolbarToggleButtonWith",l)]:[]),getApi:wB,onSetup:t.onSetup},r,d),WG=(t,r,l)=>d=>Hn.nu(g=>r.fetch(g)).map(g=>p.from(w9(At(f6(_e("menu-value"),g,v=>{r.onItemAction(t(d),v)},r.columns,r.presets,df.CLOSE_ON_EXECUTE,r.select.getOr(ge),l),{movement:w4(r.columns,r.presets),menuBehaviours:m4.unnamedEvents(r.columns!=="auto"?[]:[Wr((v,y)=>{l9(v,4,Ow(r.presets)).each(({numRows:k,numColumns:$})=>{Ho.setGridSize(v,k,$)})})])})))),KG=(t,r,l)=>d=>{const g=d.getSystem(),v=d.element,y=()=>{const $=Ma(v,"tox-split-button__chevron"),Y=$?Eh(v).bind(Ee=>g.getByDom(Ee).toOptional()):p.some(d),le=$?p.some(d):A2(v).bind(Ee=>g.getByDom(Ee).toOptional().filter(Fe=>Ma(Fe.element,"tox-split-button__chevron")));return{mainOpt:Y,chevronOpt:le}},k=$=>{const{mainOpt:Y,chevronOpt:le}=y();Y.each($),le.each($)};return{isEnabled:()=>{const{mainOpt:$}=y();return $.exists(Y=>!zo.isDisabled(Y))},setEnabled:$=>k(Y=>zo.set(Y,!$)),setText:$=>{const{mainOpt:Y}=y();Y.each(le=>Xo(le,ud,{text:$}))},setIcon:$=>{const{mainOpt:Y}=y();Y.each(le=>Xo(le,f2,{icon:$}))},setIconFill:($,Y)=>k(le=>{pr(le.element,`svg path[class="${$}"], rect[class="${$}"]`).each(Ee=>{os(Ee,"fill",Y)})}),isActive:()=>{const{mainOpt:$}=y();return $.exists(Y=>qs.isOn(Y))},setActive:$=>{const{mainOpt:Y}=y();Y.each(le=>qs.set(le,$))},setTooltip:$=>{t.set($);const{mainOpt:Y,chevronOpt:le}=y();Y.each(Fe=>os(Fe.element,"aria-label",r.providers.translate($)));const Ee=l.chevronTooltip.map(Fe=>r.providers.translate(Fe)).getOr(r.providers.translate(`${$} menu`));le.each(Fe=>os(Fe.element,"aria-label",Ee))}}},jG=(t,r,l)=>{const d=Je(lt),g=Je(t.tooltip.getOr("")),v=KG(g,r,t),y=_e("tox-split-menu"),k=Je(!1),$=()=>({"aria-haspopup":"menu","aria-expanded":String(k.get()),"aria-controls":y}),Y=()=>t.tooltip.map(qe=>r.providers.translate(qe)).getOr(r.providers.translate("Text color")),le=()=>t.chevronTooltip.map(qe=>r.providers.translate(qe)).getOrThunk(()=>{const qe=Y();return r.providers.translate(["{0} menu",qe])}),Ee=(qe,vt)=>{k.set(qe),os(vt.element,"aria-expanded",String(qe))},Fe=ad.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:kN("chevron-down",r.providers.icons),attributes:{"aria-label":le(),...Ao(l)?{"data-mce-name":l+"-chevron"}:{},...$()}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:Yn([Cs("split-dropdown-events",[Wr((qe,vt)=>ZS(qe)),ff({getApi:v,onSetup:t.onSetup},d),xn("alloy-dropdown-open",qe=>Ee(!0,qe)),xn("alloy-dropdown-close",qe=>Ee(!1,qe))]),Yi.toolbarButton(()=>r.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.providers.checkUiComponentContext(t.context)),kv.config({}),wr.config(r.providers.tooltips.getConfig({tooltipText:le(),onShow:qe=>{if(g.get()!==t.tooltip.getOr("")){const vt=t.chevronTooltip.map(Ot=>r.providers.translate(Ot)).getOr(`${r.providers.translate(g.get())} menu`);wr.setComponents(qe,r.providers.tooltips.getComponents({tooltipText:vt}))}}}))]),lazySink:r.getSink,fetch:WG(v,t,r.providers),getHotspot:qe=>Eh(qe.element).bind(vt=>qe.getSystem().getByDom(vt).toOptional()),onOpen:(qe,vt,Ot)=>{gr.highlightBy(Ot,Ct=>Ma(Ct.element,"tox-collection__item--active")),gr.getHighlighted(Ot).each(Ho.focusIn)},parts:{menu:{...a4(!1,t.columns,t.presets),dom:{...a4(!1,t.columns,t.presets).dom,tag:"div",attributes:{id:y}}}}});return[pl.sketch({...w6(t.icon,t.text,p.none(),p.some([qs.config({toggleClass:"tox-tbtn--enabled",aria:t.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),Yi.toolbarButton(()=>r.providers.checkUiComponentContext(t.context).shouldDisable),Fa(()=>r.providers.checkUiComponentContext(t.context)),Cs("split-main-aria-events",[]),...t.tooltip.isSome()?[wr.config(r.providers.tooltips.getConfig({tooltipText:r.providers.translate(t.tooltip.getOr("")),onShow:qe=>{if(g.get()!==t.tooltip.getOr("")){const vt=r.providers.translate(g.get());wr.setComponents(qe,r.providers.tooltips.getComponents({tooltipText:vt}))}}}))]:[]]),r.providers,t.context,l),dom:{...w6(t.icon,t.text,p.none(),p.none(),r.providers,t.context,l).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":Y(),...Ao(l)?{"data-mce-name":l}:{}}},action:qe=>{if(t.onAction){const vt=v(qe);vt.isEnabled()&&t.onAction(vt)}}}),Fe]},TB=".tox-toolbar-slider__input,.tox-toolbar-textfield",AB=t=>{oa.getContent(t).each(r=>{pr(r.element,TB).fold(()=>Ho.focusIn(r),hr)})},ZG=t=>za(t.element).each(r=>{Kc(r,'[tabindex="-1"]').each(l=>{hr(l)})}),ay=_e("forward-slide"),iy=_e("backward-slide"),DT=_e("change-slide-event"),NT="tox-pop--resizing",GG=t=>{const r=Je([]);return{sketch:oa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:d=>{r.set([]),oa.getContent(d).each(g=>{Ps(g.element,"visibility")}),Vr(d.element,NT),Ps(d.element,"width")},onHide:()=>{r.set([]),t.onHide()},inlineBehaviours:Yn([Cs("context-toolbar-events",[ym(Vh(),(d,g)=>{g.event.raw.propertyName==="width"&&(Vr(d.element,NT),Ps(d.element,"width"))}),xn(DT,(d,g)=>{const v=d.element;Ps(v,"width");const y=ei(v),k=za(d.element).isSome();Ps(v,"left"),Ps(v,"right"),Ps(v,"max-width"),oa.setContent(d,g.event.contents),na(v,NT);const $=ei(v);Mo(v,"transition","none"),oa.reposition(d),Ps(v,"transition"),Mo(v,"width",y+"px"),g.event.focus.fold(()=>{k&&AB(d)},Y=>{Xa(Ra(d.element)).fold(()=>hr(Y),le=>{Rs(le,Y)||t.focusElement(Y)})}),setTimeout(()=>{Mo(d.element,"width",$+"px")},0)}),xn(ay,(d,g)=>{oa.getContent(d).each(v=>{r.set(r.get().concat([{bar:v,focus:Xa(Ra(d.element))}]))}),Xo(d,DT,{contents:g.event.forwardContents,focus:p.none()})}),xn(iy,(d,g)=>{t.onBack(),Pe(r.get()).each(v=>{r.set(r.get().slice(0,r.get().length-1)),Xo(d,DT,{contents:T(v.bar),focus:v.focus})})})]),Ho.config({mode:"special",onEscape:d=>Pe(r.get()).fold(()=>t.onEscape(),g=>(Hs(d,iy),p.some(!0)))})]),lazySink:()=>zn.value(t.sink)}),inSubtoolbar:()=>r.get().length>0}},YG=(t,r)=>{const l=Sd(o6({type:"button",icon:"chevron-left",tooltip:"Back",onAction:lt}));return LT(l,r.shared.providers,[xn(jS,d=>{Hs(d,iy)})])},B4=(t,r,l)=>wa(l)?t.translate(r):t.translate([r,t.translate(l)]),kB=(t,r)=>{const l=(y,k,$,Y)=>{const le=t.shared.providers.translate(y.title);if(y.type==="separator")return p.some({type:"separator",text:le});if(y.type==="submenu"){const Ee=I(y.getStyleItems(),Fe=>d(Fe,k,Y));return k===0&&Ee.length<=0?p.none():p.some({type:"nestedmenuitem",text:le,enabled:Ee.length>0,getSubmenuItems:()=>I(y.getStyleItems(),Fe=>d(Fe,k,Y))})}else return p.some({type:"togglemenuitem",text:le,icon:y.icon,active:y.isSelected(Y),enabled:!$,onAction:r.onAction(y),...y.getStylePreview().fold(()=>({}),Ee=>({meta:{style:Ee}}))})},d=(y,k,$)=>{const Y=y.type==="formatter"&&r.isInvalid(y);return k===0?Y?[]:l(y,k,!1,$).toArray():l(y,k,Y,$).toArray()},g=y=>{const k=r.getCurrentValue(),$=r.shouldHide?0:1;return I(y,Y=>d(Y,$,k))};return{validateItems:g,getFetch:(y,k)=>($,Y)=>{const le=k(),Ee=g(le),Fe=k4(Ee,df.CLOSE_ON_EXECUTE,y,{isHorizontalMenu:!1,search:p.none()});Y(Fe)}}},g2=(t,r)=>{const l=r.dataset,d=l.type==="basic"?()=>K(l.data,g=>DI(g,r.isSelectedFor,r.getPreviewFor)):l.getData;return{items:kB(t,r),getStyleItems:d}},F4=(t,r,l,d,g,v)=>{const{items:y,getStyleItems:k}=g2(r,l),$=Je(l.tooltip),Y=Ee=>({getComponent:ht(Ee),setTooltip:Fe=>{const Qe=r.shared.providers.translate(Fe);os(Ee.element,"aria-label",Qe),$.set(Fe)}}),le=Ee=>{const Fe=Qe=>Ee.setTooltip(B4(t,d(Qe.value),Qe.value));return t.on(g,Fe),m9(i2(t,"NodeChange",Qe=>{const qe=Qe.getComponent();l.updateText(qe),zo.set(Qe.getComponent(),!t.selection.isEditable()||k().length===0)})(Ee),()=>t.off(g,Fe))};return P9({context:"mode:design",text:l.icon.isSome()?p.none():l.text,icon:l.icon,ariaLabel:p.some(l.tooltip),tooltip:p.none(),role:p.none(),fetch:y.getFetch(r,k),onSetup:le,getApi:Y,columns:1,presets:"normal",classes:l.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[wr.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(l.tooltip),onShow:Ee=>{if(l.tooltip!==$.get()){const Fe=r.shared.providers.translate($.get());wr.setComponents(Ee,r.shared.providers.tooltips.getComponents({tooltipText:Fe}))}}})})]},"tox-tbtn",r.shared,v)},qG=t=>K(t,r=>{let l=r,d=r;const g=r.split("=");return g.length>1&&(l=g[0],d=g[1]),{title:l,format:d}}),OB=t=>({type:"basic",data:t});var P4;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(P4||(P4={}));const XG=(t,r)=>r===P4.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),RT=(t,r,l)=>{const d=t.options.get(r);return{type:"basic",data:qG(XG(d,l))}},LB="Align",DB=ht("Alignment {0}"),MT="left",IT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],NB=t=>{const r=()=>D(IT,k=>t.formatter.match(k.format)),l=k=>()=>t.formatter.match(k),d=k=>p.none,g=k=>{const Y=r().fold(ht(MT),le=>le.title.toLowerCase());Xo(k,f2,{icon:`align-${Y}`}),WR(t,{value:Y})},v=OB(IT),y=k=>()=>D(IT,$=>$.format===k.format).each($=>t.execCommand($.command));return{tooltip:B4(t,DB(),MT),text:p.none(),icon:p.some("align-left"),isSelectedFor:l,getCurrentValue:p.none,getPreviewFor:d,onAction:y,updateText:g,dataset:v,shouldHide:!1,isInvalid:k=>!t.formatter.canApply(k.format)}},QG=(t,r)=>F4(t,r,NB(t),DB,"AlignTextUpdate","align"),JG=(t,r)=>{const l=g2(r,NB(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate(LB),onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},RB=(t,r)=>{const l=r(),d=K(l,g=>g.format);return p.from(t.formatter.closest(d)).bind(g=>D(l,v=>v.format===g))},eY="Blocks",MB=ht("Block {0}"),ly="Paragraph",IB=t=>{const r=v=>()=>t.formatter.match(v),l=v=>()=>{const y=t.formatter.get(v);return y?p.some({tag:y.length>0&&(y[0].inline||y[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(v))}):p.none()},d=v=>{const k=RB(t,()=>g.data).fold(ht(ly),$=>$.title);Xo(v,ud,{text:k}),HK(t,{value:k})},g=RT(t,"block_formats",P4.SemiColon);return{tooltip:B4(t,MB(),ly),text:p.some(ly),icon:p.none(),isSelectedFor:r,getCurrentValue:p.none,getPreviewFor:l,onAction:jR(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:v=>!t.formatter.canApply(v.format)}},tY=(t,r)=>F4(t,r,IB(t),MB,"BlocksTextUpdate","blocks"),nY=(t,r)=>{const l=g2(r,IB(t));t.ui.registry.addNestedMenuItem("blocks",{text:eY,onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},oY="Fonts",BB=ht("Font {0}"),BT="System Font",sY=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FT=t=>{const r=t.split(/\s*,\s*/);return K(r,l=>l.replace(/^['"]+|['"]+$/g,""))},FB=(t,r)=>r.length>0&&N(r,l=>t.indexOf(l.toLowerCase())>-1),rY=(t,r)=>{if(t.indexOf("-apple-system")===0||r.length>0){const l=FT(t.toLowerCase());return FB(l,sY)||FB(l,r)}else return!1},PT=t=>{const r=()=>{const $=qe=>qe?FT(qe)[0]:"",Y=t.queryCommandValue("FontName"),le=k.data,Ee=Y?Y.toLowerCase():"",Fe=aN(t);return{matchOpt:D(le,qe=>{const vt=qe.format;return vt.toLowerCase()===Ee||$(vt).toLowerCase()===$(Ee).toLowerCase()}).orThunk(()=>Dn(rY(Ee,Fe),{title:BT,format:Ee})),font:Y}},l=$=>Y=>Y.exists(le=>le.format===$),d=()=>{const{matchOpt:$}=r();return $},g=$=>()=>p.some({tag:"div",styles:$.indexOf("dings")===-1?{"font-family":$}:{}}),v=$=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,$.format)})},y=$=>{const{matchOpt:Y,font:le}=r(),Ee=Y.fold(ht(le),Fe=>Fe.title);Xo($,ud,{text:Ee}),zK(t,{value:Ee})},k=RT(t,"font_family_formats",P4.SemiColon);return{tooltip:B4(t,BB(),BT),text:p.some(BT),icon:p.none(),isSelectedFor:l,getCurrentValue:d,getPreviewFor:g,onAction:v,updateText:y,dataset:k,shouldHide:!1,isInvalid:ge}},aY=(t,r)=>F4(t,r,PT(t),BB,"FontFamilyTextUpdate","fontfamily"),PB=(t,r)=>{const l=g2(r,PT(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:r.shared.providers.translate(oY),onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})};var S6=tinymce.util.Tools.resolve("tinymce.util.VK");const iY=(t,r,l,d)=>{let g=p.none();const v=Ut=>Ut.map(an=>yo.getValue(an)).getOr(""),y=i2(t,"NodeChange SwitchMode DisabledStateChange",Ut=>{const an=Ut.getComponent();g=p.some(an),l.updateInputValue(an),zo.set(an,!t.selection.isEditable()||Hx(t))}),k=Ut=>({getComponent:ht(Ut)}),$=Je(lt),Y=_e("custom-number-input-events"),le=(Ut,an,un)=>{const uo=v(g),Fn=l.getNewValue(uo,Ut),$n=uo.length-`${Fn}`.length,Nn=g.map(Po=>Po.element.dom.selectionStart-$n),jo=g.map(Po=>Po.element.dom.selectionEnd-$n);l.onAction(Fn,un),g.each(Po=>{yo.setValue(Po,Fn),an&&(Nn.each(Zs=>Po.element.dom.selectionStart=Zs),jo.each(Zs=>Po.element.dom.selectionEnd=Zs))})},Ee=(Ut,an)=>le((un,uo)=>un-uo,Ut,an),Fe=(Ut,an)=>le((un,uo)=>un+uo,Ut,an),Qe=Ut=>Ql(Ut.element).fold(p.none,an=>(hr(an),p.some(!0))),qe=Ut=>pc(Ut.element)?(vl(Ut.element).each(an=>hr(an)),p.some(!0)):p.none(),vt=(Ut,an,un,uo)=>{const Fn=Je(lt),$n=r.shared.providers.translate(un),Nn=_e("altExecuting"),jo=i2(t,"NodeChange SwitchMode DisabledStateChange",Zs=>{zo.set(Zs.getComponent(),!t.selection.isEditable()||Hx(t))}),Po=Zs=>{zo.isDisabled(Zs)||Ut(!0)};return pl.sketch({dom:{tag:"button",attributes:{"aria-label":$n,"data-mce-name":an},classes:uo.concat(an)},components:[GS(an,r.shared.providers.icons)],buttonBehaviours:Yn([zo.config({}),wr.config(r.shared.providers.tooltips.getConfig({tooltipText:$n})),Cs(Nn,[ff({onSetup:jo,getApi:k},Fn),rp({getApi:k},Fn),xn(di(),(Zs,ss)=>{(ss.event.raw.keyCode===S6.SPACEBAR||ss.event.raw.keyCode===S6.ENTER)&&(zo.isDisabled(Zs)||Ut(!1))}),xn(bu(),Po),xn(E1(),Po)])]),eventOrder:{[di()]:[Nn,"keying"],[bu()]:[Nn,"alloy.base.behaviour"],[E1()]:[Nn,"alloy.base.behaviour"],[xu()]:["alloy.base.behaviour",Nn,"tooltipping"],[Pf()]:[Nn,"tooltipping"]}})},Ot=mr(vt(Ut=>Ee(!1,Ut),"minus","Decrease font size",[])),Ct=mr(vt(Ut=>Fe(!1,Ut),"plus","Increase font size",[])),$t=mr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[mg.sketch({inputBehaviours:Yn([zo.config({}),Cs(Y,[ff({onSetup:y,getApi:k},$),rp({getApi:k},$)]),Cs("input-update-display-text",[xn(ud,(Ut,an)=>{yo.setValue(Ut,an.event.text)}),xn(d8(),Ut=>{l.onAction(yo.getValue(Ut))}),xn(Zu(),Ut=>{l.onAction(yo.getValue(Ut))})]),Ho.config({mode:"special",onEnter:Ut=>(le(oo,!0,!0),p.some(!0)),onEscape:Qe,onUp:Ut=>(Fe(!0,!1),p.some(!0)),onDown:Ut=>(Ee(!0,!1),p.some(!0)),onLeft:(Ut,an)=>(an.cut(),p.none()),onRight:(Ut,an)=>(an.cut(),p.none())})])})],behaviours:Yn([Es.config({}),Ho.config({mode:"special",onEnter:qe,onSpace:qe,onEscape:Qe}),Cs("input-wrapper-events",[xn(Ad(),Ut=>{ee([Ot,Ct],an=>{const un=cn.fromDom(an.get(Ut).element.dom);pc(un)&&fc(un)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ao(d)?{"data-mce-name":d}:{}}},components:[Ot.asSpec(),$t.asSpec(),Ct.asSpec()],behaviours:Yn([Es.config({}),Ho.config({mode:"flow",focusInside:Sc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ut=>pc(Ut.element)?p.none():(hr(Ut.element),p.some(!0))})])}},lY="Font sizes",$B=ht("Font size {0}"),m2="12pt",cY={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},dY={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},uY=(t,r)=>{const l=Math.pow(10,r);return Math.round(t*l)/l},fY=(t,r)=>/[0-9.]+px$/.test(t)?uY(parseInt(t,10)*72/96,r||0)+"pt":Rt(dY,t).getOr(t),pY=t=>Rt(cY,t).getOr(""),HB=t=>{const r=()=>{let $=p.none();const Y=k.data,le=t.queryCommandValue("FontSize");if(le)for(let Ee=3;$.isNone()&&Ee>=0;Ee--){const Fe=fY(le,Ee),Qe=pY(Fe);$=D(Y,qe=>qe.format===le||qe.format===Fe||qe.format===Qe)}return{matchOpt:$,size:le}},l=$=>Y=>Y.exists(le=>le.format===$),d=()=>{const{matchOpt:$}=r();return $},g=ht(p.none),v=$=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,$.format)})},y=$=>{const{matchOpt:Y,size:le}=r(),Ee=Y.fold(ht(le),Fe=>Fe.title);Xo($,ud,{text:Ee}),PK(t,{value:Ee})},k=RT(t,"font_size_formats",P4.Space);return{tooltip:B4(t,$B(),m2),text:p.some(m2),icon:p.none(),isSelectedFor:l,getPreviewFor:g,getCurrentValue:d,onAction:v,updateText:y,dataset:k,shouldHide:!1,isInvalid:ge}},gY=(t,r)=>F4(t,r,HB(t),$B,"FontSizeTextUpdate","fontsize"),mY=t=>{var r;const l={step:1};return(r={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&r!==void 0?r:l},$T=16,hY=t=>t>=0,bY=t=>{const r=()=>t.queryCommandValue("FontSize");return{updateInputValue:d=>Xo(d,ud,{text:r()}),onAction:(d,g)=>t.execCommand("FontSize",!1,d,{skip_focus:!g}),getNewValue:(d,g)=>{Ks(d,["unsupportedLength","empty"]);const v=r(),y=Ks(d,["unsupportedLength","empty"]).or(Ks(v,["unsupportedLength","empty"])),k=y.map(Fe=>Fe.value).getOr($T),$=aw(t),Y=y.map(Fe=>Fe.unit).filter(Fe=>Fe!=="").getOr($),le=g(k,mY(Y).step),Ee=`${hY(le)?le:k}${Y}`;return Ee!==v&&$K(t,{value:Ee}),Ee}}},zB=(t,r)=>iY(t,r,bY(t),"fontsizeinput"),UB=(t,r)=>{const l=g2(r,HB(t));t.ui.registry.addNestedMenuItem("fontsize",{text:lY,onSetup:Zl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},vY="Formats",VB=t=>wa(t)?"Formats":"Format {0}",WB=(t,r)=>{const l="Formats",d=y=>()=>t.formatter.match(y),g=y=>()=>{const k=t.formatter.get(y);return k!==void 0?p.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(y))}):p.none()},v=y=>{const k=Ee=>TI(Ee)?I(Ee.items,k):AI(Ee)?[{title:Ee.title,format:Ee.format}]:[],$=I(kZ(t),k),le=RB(t,ht($)).fold(ht({title:l,tooltipLabel:""}),Ee=>({title:Ee.title,tooltipLabel:Ee.title}));Xo(y,ud,{text:le.title}),VR(t,{value:le.tooltipLabel})};return{tooltip:B4(t,VB(""),""),text:p.some(l),icon:p.none(),isSelectedFor:d,getCurrentValue:p.none,getPreviewFor:g,onAction:jR(t),updateText:v,shouldHide:UD(t),isInvalid:y=>!t.formatter.canApply(y.format),dataset:r}},xY=(t,r)=>{const l={type:"advanced",...r.styles};return F4(t,r,WB(t,l),VB,"StylesTextUpdate","styles")},yY=(t,r)=>{const l={type:"advanced",...r.styles},d=g2(r,WB(t,l));t.ui.registry.addNestedMenuItem("styles",{text:vY,onSetup:Zl(t,()=>d.getStyleItems().length>0),getSubmenuItems:()=>d.items.validateItems(d.getStyleItems())})},CY=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],$4=(t,r)=>(l,d,g,v)=>{const y=t(l).mapError(k=>Jg(k)).getOrDie();return r(y,d,g,v)},_Y={button:$4(o6,(t,r,l,d)=>UG(t,r.shared.providers,d)),togglebutton:$4(dR,(t,r,l,d)=>VG(t,r.shared.providers,d)),menubutton:$4(a9,(t,r,l,d)=>p2(t,"tox-tbtn",r,p.none(),!1,d)),splitbutton:$4(hK,(t,r,l,d)=>jG(t,r.shared,d)),grouptoolbarbutton:$4(CR,(t,r,l,d)=>{const g=l.ui.registry.getAll().buttons,v=k=>T6(l,{buttons:g,toolbar:k,allowToolbarGroups:!1},r,p.none()),y={[f3]:r.shared.header.isPositionedAtTop()?Vf.TopToBottom:Vf.BottomToTop};switch(F0(l)){case Vd.floating:return ih(t,r,v,y,d);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},EY=(t,r,l,d)=>Rt(_Y,t.type).fold(()=>(console.error("skipping button defined by",t),p.none()),g=>p.some(g(t,r,l,d))),KB={styles:xY,fontsize:gY,fontsizeinput:zB,fontfamily:aY,blocks:tY,align:QG,navigateback:YG},wY=t=>{const r=K(CY,l=>{const d=be(l.items,g=>Wt(t,g)||Wt(KB,g));return{name:l.name,items:d}});return be(r,l=>l.items.length>0)},cy=t=>{const r=t.split("|");return K(r,l=>({items:l.trim().split(" ")}))},SY=t=>Xt(t,r=>(Wt(r,"name")||Wt(r,"label"))&&Wt(r,"items")),dy=t=>{const r=t.toolbar,l=t.buttons;return r===!1?[]:r===void 0||r===!0?wY(l):dt(r)?cy(r):SY(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},uy=(t,r,l,d,g,v)=>Rt(r,l.toLowerCase()).orThunk(()=>v.bind(y=>ut(y,k=>Rt(r,k+l.toLowerCase())))).fold(()=>Rt(KB,l.toLowerCase()).map(y=>y(t,g)),y=>y.type==="grouptoolbarbutton"&&!d?(console.warn(`Ignoring the '${l}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),p.none()):EY(y,g,t,l.toLowerCase())),T6=(t,r,l,d)=>{const g=dy(r),v=K(g,y=>{const k=I(y.items,$=>$.trim().length===0?[]:uy(t,r.buttons,$,r.allowToolbarGroups,l,d).map(Y=>Array.isArray(Y)?Y:[Y]).getOr([]));return{title:p.from(t.translate(y.name)),label:Dn(y.label!==void 0,t.translate(y.label)),items:k}});return be(v,y=>y.items.length>0)},jB=(t,r,l,d)=>{const g=r.mainUi.outerContainer,v=l.toolbar,y=l.buttons;if(Xt(v,dt)){const k=v.map($=>{const Y={toolbar:$,buttons:y,allowToolbarGroups:l.allowToolbarGroups};return T6(t,Y,d,p.none())});Br.setToolbars(g,k)}else Br.setToolbar(g,T6(t,l,d,p.none()))},ZB=ca(),TY=ZB.os.isiOS()&&ZB.os.version.major<=12,AY=(t,r)=>{const{uiMotherships:l}=r,d=t.dom;let g=t.getWin();const v=t.getDoc().documentElement,y=Je(Dr(g.innerWidth,g.innerHeight)),k=Je(Dr(v.offsetWidth,v.offsetHeight)),$=()=>{const Fe=y.get();(Fe.left!==g.innerWidth||Fe.top!==g.innerHeight)&&(y.set(Dr(g.innerWidth,g.innerHeight)),c6(t))},Y=()=>{const Fe=t.getDoc().documentElement,Qe=k.get();(Qe.left!==Fe.offsetWidth||Qe.top!==Fe.offsetHeight)&&(k.set(Dr(Fe.offsetWidth,Fe.offsetHeight)),c6(t))},le=Fe=>{MK(t,Fe)};d.bind(g,"resize",$),d.bind(g,"scroll",le);const Ee=xd(cn.fromDom(t.getBody()),"load",Y);t.on("hide",()=>{ee(l,Fe=>{Mo(Fe.element,"display","none")})}),t.on("show",()=>{ee(l,Fe=>{Ps(Fe.element,"display")})}),t.on("NodeChange",Y),t.on("remove",()=>{Ee.unbind(),d.unbind(g,"resize",$),d.unbind(g,"scroll",le),g=null})},kY=(t,r,l)=>{P0(t)&&ll(l.mainUi.mothership.element,l.popupUi.mothership),og(r,l.dialogUi.mothership)};var GB=Object.freeze({__proto__:null,render:(t,r,l,d,g)=>{const{mainUi:v,uiMotherships:y}=r,k=Je(0),$=v.outerContainer;HG(t);const Y=cn.fromDom(g.targetNode),le=xl(Ra(Y));ll(Y,v.mothership),kY(t,le,r),t.on("PostRender",()=>{Br.setSidebar($,l.sidebar,oN(t))}),t.on("SkinLoaded",()=>{jB(t,r,l,d),k.set(t.getWin().innerWidth),Br.setMenubar($,xB(t,l)),Br.setViews($,l.views),AY(t,r)});const Ee=Br.getSocket($).getOrDie("Could not find expected socket element");if(TY){Aa(Ee.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const vt=Ne(()=>{t.dispatch("ScrollContent")},20),Ot=Qs(Ee.element,"scroll",vt.throttle);t.on("remove",Ot.unbind)}pS(t,r),t.addCommand("ToggleSidebar",(vt,Ot)=>{Br.toggleSidebar($,Ot),KR(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var vt;return(vt=Br.whichSidebar($))!==null&&vt!==void 0?vt:""}),t.addCommand("ToggleView",(vt,Ot)=>{if(Br.toggleView($,Ot)){const Ct=$.element;v.mothership.broadcastOn([Kf()],{target:Ct}),ee(y,$t=>{$t.broadcastOn([Kf()],{target:Ct})}),On(Br.whichView($))&&(t.focus(),t.nodeChanged(),Br.refreshToolbar($)),UK(t)}}),t.addQueryValueHandler("ToggleView",()=>{var vt;return(vt=Br.whichView($))!==null&&vt!==void 0?vt:""});const Fe=F0(t),Qe=()=>{Br.refreshToolbar(r.mainUi.outerContainer)};(Fe===Vd.sliding||Fe===Vd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const vt=t.getWin().innerWidth;vt!==k.get()&&(Qe(),k.set(vt))});const qe={setEnabled:vt=>{i6(r,vt?"setEnabled":"setDisabled")},isEnabled:()=>!zo.isDisabled($)};return{iframeContainer:Ee.element.dom,editorContainer:$.element.dom,api:qe}}});const YB=t=>/^[0-9\.]+(|px)$/i.test(""+t)?p.some(parseInt(""+t,10)):p.none(),fy=t=>Zo(t)?t+"px":t,A6=(t,r,l)=>{const d=r.filter(v=>t<v),g=l.filter(v=>t>v);return d.or(g).getOr(t)},OY=(t,r)=>{if(typeof r=="number")return p.from(r);const l=/^([0-9.]+)(pt|em|px)$/.exec(r.trim());if(l){const d=l[2],g=Number.parseFloat(l[1]);if(Number.isNaN(g)||g<0)return p.none();if(d==="em")return p.from(g*Number.parseFloat(window.getComputedStyle(t.dom).fontSize));if(d==="pt")return p.from(g*(72/96));if(d==="px")return p.from(g)}return p.none()},qB=t=>{const r=OY(cn.fromDom(t.targetElm),QE(t)),l=tw(t),d=nw(t);return r.map(g=>A6(g,l,d))},LY=t=>qB(t).getOr(QE(t)),XB=t=>{const r=JE(t),l=ew(t),d=zx(t);return YB(r).map(g=>A6(g,l,d))},DY=t=>XB(t).getOr(JE(t)),{ToolbarLocation:zT,ToolbarMode:QB}=n4,k6=40,NY=(t,r,l,d,g)=>{const{mainUi:v,uiMotherships:y}=l,k=Vv.DOM,$=e4(t),Y=t4(t),le=zx(t).or(XB(t)),Ee=d.shared.header,Fe=Ee.isPositionedAtTop,Qe=150,qe=F0(t),vt=qe===QB.sliding||qe===QB.floating,Ot=Je(!1),Ct=()=>Ot.get()&&!t.removed,$t=Io=>vt?Io.fold(ht(0),Ln=>Ln.components().length>1?Yr(Ln.components()[1].element):0):0,Ut=Io=>{switch(ow(t)){case zT.auto:const Ln=Br.getToolbar(v.outerContainer),no=$t(Ln),is=Yr(Io.element)-no,Os=ha(r);if(Os.y>is)return"top";{const _s=Ch(r),Cr=Math.max(_s.dom.scrollHeight,Yr(_s));return Os.bottom<Cr-is||ol().bottom<Os.bottom-is?"bottom":"top"}case zT.bottom:return"bottom";case zT.top:default:return"top"}},an=Io=>{g.on(Ln=>{ea.setModes(Ln,[Io]),Ee.setDockingMode(Io);const no=Fe()?Vf.TopToBottom:Vf.BottomToTop;os(Ln.element,f3,no)})},un=()=>{g.on(Io=>{const Ln=le.getOrThunk(()=>Gg().width-Va(r).left-10);Mo(Io.element,"max-width",Ln+"px")})},uo=(Io,Ln)=>{g.on(no=>{const is=Br.getToolbar(v.outerContainer),Os=$t(is),$o=ha(r),_s=Fn(t,v.outerContainer.element),Cr=()=>_s.fold(()=>$o.x,ki=>{const dc=ha(ki);return Rs(ki,gc())?$o.x:$o.x-dc.x}),lr=()=>_s.fold(()=>Fe()?Math.max($o.y-Yr(no.element)+Os,0):$o.bottom,ki=>{var dc;const Fc=ha(ki),Yd=(dc=ki.dom.scrollTop)!==null&&dc!==void 0?dc:0,r1=Rs(ki,gc())?Math.max($o.y-Yr(no.element)+Os,0):$o.y-Fc.y+Yd-Yr(no.element)+Os;return Fe()?r1:$o.bottom}),qi=Cr(),cr=Dn(Io,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(ki=>ki>Qe).map(ki=>{const dc=Ln.getOr(Ri()),Fc=window.innerWidth-(qi-dc.left),Yd=Math.max(Math.min(ki,Fc),Qe);return Fc<ki&&Mo(v.outerContainer.element,"width",Yd+"px"),{width:Yd+"px"}}).getOr({width:"max-content"}),Ll={position:"absolute",left:Math.round(qi)+"px",top:lr()+"px"};Aa(v.outerContainer.element,{...Ll,...cr})})},Fn=(Io,Ln)=>P0(Io)?y1(Ln):p.none(),$n=()=>{ee(y,Io=>{Io.broadcastOn([Mr()],{})})},Nn=()=>!$&&(Ni(v.outerContainer.element).left+f1(v.outerContainer.element)>=window.innerWidth-k6||er(v.outerContainer.element,"width").isSome())?(Mo(v.outerContainer.element,"position","absolute"),Mo(v.outerContainer.element,"left","0px"),Ps(v.outerContainer.element,"width"),!0):!1,jo=Io=>{if(!Ct())return;$||un();const Ln=Ri(),no=$?!1:Nn();if(vt&&Br.refreshToolbar(v.outerContainer),!$){const is=Ri(),Os=Dn(Ln.left!==is.left,Ln);uo(no,Os),Os.each($o=>{tc($o.left,is.top)})}Y&&g.on(Io),$n()},Po=()=>$||!Y||!Ct()?!1:g.get().exists(Io=>{const Ln=Ee.getDockingMode(),no=Ut(Io);return no!==Ln?(an(no),!0):!1});return{isVisible:Ct,isPositionedAtTop:Fe,show:()=>{Ot.set(!0),Mo(v.outerContainer.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),ee(y,Io=>{Ps(Io.element,"display")}),Po(),P0(t)?jo(Io=>ea.isDocked(Io)?ea.reset(Io):ea.refresh(Io)):jo(ea.refresh)},hide:()=>{Ot.set(!1),Mo(v.outerContainer.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus"),ee(y,Io=>{Mo(Io.element,"display","none")})},update:jo,updateMode:()=>{Po()&&jo(ea.reset)},repositionPopups:$n}},JB=(t,r)=>{const l=ha(t);return{pos:r?l.y:l.bottom,bounds:l}},RY=(t,r,l,d)=>{const g=Je(JB(r,l.isPositionedAtTop())),v=Y=>{const{pos:le,bounds:Ee}=JB(r,l.isPositionedAtTop()),{pos:Fe,bounds:Qe}=g.get(),qe=Ee.height!==Qe.height||Ee.width!==Qe.width;g.set({pos:le,bounds:Ee}),qe&&c6(t,Y),l.isVisible()&&(Fe!==le?l.update(ea.reset):qe&&(l.updateMode(),l.repositionPopups()))};d||(t.on("activate",l.show),t.on("deactivate",l.hide)),t.on("SkinLoaded ResizeWindow",()=>l.update(ea.reset)),t.on("NodeChange keydown",Y=>{requestAnimationFrame(()=>v(Y))});let y=0;const k=pt(()=>l.update(ea.refresh),33);t.on("ScrollWindow",()=>{const Y=Ri().left;Y!==y&&(y=Y,k.throttle()),l.updateMode()}),P0(t)&&t.on("ElementScroll",Y=>{l.update(ea.refresh)});const $=Go();$.set(xd(cn.fromDom(t.getBody()),"load",Y=>v(Y.raw))),t.on("remove",()=>{$.clear()})};var IY=Object.freeze({__proto__:null,render:(t,r,l,d,g)=>{const{mainUi:v}=r,y=Do(),k=cn.fromDom(g.targetNode),$=NY(t,k,r,d,y),Y=jD(t);zG(t);const le=()=>{if(y.isSet()){$.show();return}y.set(Br.getHeader(v.outerContainer).getOrDie());const Fe=dw(t);P0(t)?(ll(k,v.mothership),ll(k,r.popupUi.mothership)):og(Fe,v.mothership),og(Fe,r.dialogUi.mothership);const Qe=()=>{jB(t,r,l,d),Br.setMenubar(v.outerContainer,xB(t,l)),$.show(),RY(t,k,$,Y),t.nodeChanged()};Y?t.once("SkinLoaded",Qe):Qe()};t.on("show",le),t.on("hide",$.hide),Y||(t.on("focus",le),t.on("blur",$.hide)),t.on("init",()=>{(t.hasFocus()||Y)&&le()}),pS(t,r);const Ee={show:le,hide:$.hide,setEnabled:Fe=>{i6(r,Fe?"setEnabled":"setDisabled")},isEnabled:()=>!zo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:Ee}}});const eF=()=>{const t=Do(),r=Do(),l=Do();return{dialogUi:t,popupUi:r,mainUi:l,getUiMotherships:()=>{const v=t.get().map(k=>k.mothership),y=r.get().map(k=>k.mothership);return v.fold(()=>y.toArray(),k=>y.fold(()=>[k],$=>Rs(k.element,$.element)?[k]:[k,$]))},lazyGetInOuterOrDie:(v,y)=>()=>l.get().bind(k=>y(k.outerContainer)).getOrDie(`Could not find ${v} element in OuterContainer`)}},BY="contexttoolbar-show",tF="contexttoolbar-hide",UT=(t,r,l)=>({setInputEnabled:d=>{!d&&l&&hr(l),zo.set(t,!d)},isInputEnabled:()=>!zo.isDisabled(t),hide:()=>{Hs(t,Kh())},back:()=>{Hs(t,iy)},getValue:()=>r.get().getOrThunk(()=>yo.getValue(t)),setValue:d=>{t.getSystem().isConnected()?yo.setValue(t,d):r.set(d)}}),py=(t,r,l)=>{const g=Xl(t.element).bind(v=>t.getSystem().getByDom(v).toOptional());return UT(g.getOr(t),r,l)},nF=(t,r,l)=>xn(jS,(d,g)=>{const v=t.get(d),y=UT(v,l,d.element);r.onAction(y,g.event.buttonApi)}),O6=(t,r,l,d)=>{const{primary:g,...v}=r.original,y=Sd(o6({...v,type:"button",onAction:lt}));return LT(y,l,[nF(t,r,d)])},oF=(t,r,l,d)=>{const{primary:g,...v}=r.original,y=Sd(dR({...v,type:"togglebutton",onAction:lt}));return SB(y,l,[nF(t,r,d)])},FY=t=>t.type==="contextformtogglebutton",PY=(t,r,l,d)=>FY(r)?oF(t,r,l,d):O6(t,r,l,d),VT=(t,r,l,d)=>{const g=K(r,k=>mr(PY(t,k,l,d)));return{asSpecs:()=>K(g,k=>k.asSpec()),findPrimary:k=>ut(r,($,Y)=>$.primary?p.from(g[Y]).bind(le=>le.getOpt(k)).filter(s(zo.isDisabled)):p.none())}},WT=(t,r,l,d)=>{const{width:g,height:v}=t.initValue();let y=JS;const k=_e("ratio-event"),$=Fn=>UT(Fn,d),Y=Fn=>Wd(Fn,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Fn]},r.icons),le=()=>!1,Ee=t.label.getOr("Constrain proportions"),Fe=r.translate(Ee),Qe=Ca.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":Fe,"data-mce-name":Ee}},components:[Y("lock"),Y("unlock")],buttonBehaviours:Yn([zo.config({disabled:le}),Hr.config({}),wr.config(r.tooltips.getConfig({tooltipText:Fe}))])}),qe=Fn=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Fn}),vt=Fn=>Kc(Fn.element,"div.tox-focusable-wrapper").fold(p.none,Nn=>(hr(Nn),p.some(!0))),Ot=Fn=>js.parts.field({factory:mg,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Fn?g:v,inputBehaviours:Yn([zo.config({disabled:le}),Hr.config({}),Cs("size-input-toolbar-events",[xn(wc(),($n,Nn)=>{Xo($n,k,{isField1:Fn})})]),Ho.config({mode:"special",onEnter:l,onEscape:vt})]),selectOnFocus:!1}),Ct=Fn=>({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(Fn))]}),$t=Fn=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Fn],behaviours:Yn([Hr.config({}),Es.config({}),Ho.config({mode:"special",onEnter:$n=>pr($n.element,"input").fold(p.none,jo=>(hr(jo),p.some(!0)))})])}),Ut=$t(Ca.parts.field1(qe([js.parts.label(Ct("Width:")),Ot(!0)]))),an=$t(Ca.parts.field2(qe([js.parts.label(Ct("Height:")),Ot(!1)]))),un=Je(lt),uo=[ff({onBeforeSetup:Fn=>pr(Fn.element,"input").each(hr),onSetup:t.onSetup,getApi:$},un),r6({getApi:$},un,d)];return Ca.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[Ut,qe([Qe]),an],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Fn,$n,Nn)=>{x6(yo.getValue(Fn)).each(jo=>{y(jo).each(Po=>{yo.setValue($n,JM(Po))})})},onInput:Fn=>Hs(Fn,SM),coupledFieldBehaviours:Yn([Es.config({}),Ho.config({mode:"flow",focusInside:Sc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),zo.config({disabled:le,onDisabled:Fn=>{Ca.getField1(Fn).bind(js.getField).each(zo.disable),Ca.getField2(Fn).bind(js.getField).each(zo.disable),Ca.getLock(Fn).each(zo.disable)},onEnabled:Fn=>{Ca.getField1(Fn).bind(js.getField).each(zo.enable),Ca.getField2(Fn).bind(js.getField).each(zo.enable),Ca.getLock(Fn).each(zo.enable)}}),Fa(()=>r.checkUiComponentContext("mode:design")),Cs("size-input-toolbar-events2",[xn(k,(Fn,$n)=>{const Nn=$n.event.isField1,jo=Nn?Ca.getField1(Fn):Ca.getField2(Fn),Po=Nn?Ca.getField2(Fn):Ca.getField1(Fn),Zs=jo.map(yo.getValue).getOr(""),ss=Po.map(yo.getValue).getOr("");y=Gl(Zs,ss)}),xn(SM,Fn=>t.onInput($(Fn))),...uo])])})},KT=(t,r,l)=>js.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...t.toArray(),r],fieldBehaviours:Yn([zo.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable,onDisabled:d=>{ZG(d),js.getField(d).each(zo.disable)},onEnabled:d=>{js.getField(d).each(zo.enable)}})])}),sF=(t,r,l,d)=>{const g=Je(lt),v=$=>py($,d),y=t.label.map($=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate($))]})),k=js.parts.field({factory:mg,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(t.min()),max:String(t.max())},data:t.initValue().toString(),fromInputValue:$=>Js($).getOr(t.min()),toInputValue:$=>String($),inputBehaviours:Yn([zo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),Fa(()=>r.checkUiComponentContext("mode:design")),Ho.config({mode:"special",onEnter:l,onLeft:($,Y)=>(Y.cut(),p.none()),onRight:($,Y)=>(Y.cut(),p.none())}),Cs("slider-events",[ff({onSetup:t.onSetup,getApi:v,onBeforeSetup:Ho.focusIn},g),r6({getApi:v},g,d),xn(Bf(),$=>{t.onInput(v($))})])])});return KT(y,k,r)},$Y=(t,r,l,d)=>{const g=Je(lt),v=le=>py(le,d),y=t.label.map(le=>js.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Zr(r.translate(le))]})),$={...t.placeholder.map(le=>({placeholder:r.translate(le)})).getOr({})},Y=js.parts.field({factory:mg,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:$,data:t.initValue(),selectOnFocus:!0,inputBehaviours:Yn([zo.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),Fa(()=>r.checkUiComponentContext("mode:design")),Ho.config({mode:"special",onEnter:l,onLeft:(le,Ee)=>(Ee.cut(),p.none()),onRight:(le,Ee)=>(Ee.cut(),p.none())}),Cs("input-events",[ff({onSetup:t.onSetup,getApi:le=>Kc(le.element,".tox-toolbar").bind(Fe=>pr(Fe,"button:enabled")).fold(()=>py(le,d),Fe=>py(le,d,Fe)),onBeforeSetup:Ho.focusIn},g),r6({getApi:v},g,d),xn(Bf(),le=>{t.onInput(v(le))})])])});return KT(y,Y,r)},lh=(t,r,l)=>{const d=Do(),v=mr(t(l,Y=>k.findPrimary(Y).orThunk(()=>$.findPrimary(Y)).map(le=>(vm(le),!0)),d)),y=xe(r.commands,Y=>Y.align==="start"),k=VT(v,y.pass,l,d),$=VT(v,y.fail,l,d);return be([{title:p.none(),label:p.none(),items:k.asSpecs()},{title:p.none(),label:p.none(),items:[v.asSpec()]},{title:p.none(),label:p.none(),items:$.asSpecs()}],Y=>Y.items.length>0)},L6=(t,r)=>{switch(t.type){case"contextform":return lh(us($Y,t),t,r);case"contextsliderform":return lh(us(sF,t),t,r);case"contextsizeinputform":return lh(us(WT,t),t,r)}},ZT={renderContextForm:(t,r,l)=>oy({type:t,uid:_e("context-toolbar"),initGroups:L6(r,l),onEscape:p.none,cyclicKeying:!0,providers:l}),buildInitGroups:L6},gy=(t,r,l)=>r.bottom-t.y>=l&&t.bottom-r.y>=l,rF=t=>{const r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){const l=hp(cn.fromDom(t.startContainer),t.startOffset).element;return(tu(l)?Xl(l):p.some(l)).filter(hl).map(g=>g.dom.getBoundingClientRect()).getOr(r)}else return r},H4=t=>{const r=t.selection.getRng(),l=rF(r);if(t.inline){const d=Ri();return Ka(d.left+l.left,d.top+l.top,l.width,l.height)}else{const d=x1(cn.fromDom(t.getBody()));return Ka(d.x+l.left,d.y+l.top,l.width,l.height)}},aF=(t,r)=>r.filter(l=>nl(l)&&Bu(l)).map(x1).getOrThunk(()=>H4(t)),iF=(t,r,l)=>{const d=Math.max(t.x+l,r.x),g=Math.min(t.right-l,r.right);return{x:d,width:g-d}},GT=(t,r,l,d,g,v)=>{const y=cn.fromDom(t.getContainer()),k=pr(y,".tox-editor-header").getOr(y),$=ha(k),Y=$.y>=r.bottom,le=d&&!Y;if(t.inline&&le)return{y:Math.max($.bottom+v,l.y),bottom:l.bottom};if(t.inline&&!le)return{y:l.y,bottom:Math.min($.y-v,l.bottom)};const Ee=g==="line"?ha(y):r;return le?{y:Math.max($.bottom+v,l.y),bottom:Math.min(Ee.bottom-v,l.bottom)}:{y:Math.max(Ee.y+v,l.y),bottom:Math.min($.y-v,l.bottom)}},lF=(t,r,l,d=0)=>{const g=Gg(window),v=ha(cn.fromDom(t.getContentAreaContainer())),y=Wx(t)||Kx(t)||Gm(t),{x:k,width:$}=iF(v,g,d);if(t.inline&&!y)return Ka(k,g.y,$,g.height);{const Y=r.header.isPositionedAtTop(),{y:le,bottom:Ee}=GT(t,v,g,Y,l,d);return Ka(k,le,$,Ee-le)}},D6=12,cF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},dF={maxHeightFunction:bm(),maxWidthFunction:u3()},my=(t,r)=>{const l=t.selection.getRng(),d=hp(cn.fromDom(l.startContainer),l.startOffset);return l.startContainer===l.endContainer&&l.startOffset===l.endOffset-1&&Rs(d.element,r)},uF=(t,r,l)=>{const d=er(t,"position");Mo(t,"position",r);const g=l(t);return d.each(v=>Mo(t,"position",v)),g},fF=t=>t==="node",HY=(t,r,l,d,g)=>{const v=H4(t),y=d.lastElement().exists(k=>Rs(l,k));if(my(t,l))return y?al:Jc;if(y)return uF(r,d.getMode(),()=>gy(v,ha(r),-20)&&!d.isReposition()?ib:al);{const k=d.getMode()==="fixed"?g.y+Ri().top:g.y,$=Yr(r)+D6;return k+$<=v.y?Jc:hm}},zY=(t,r,l,d)=>{const g=$=>(Y,le,Ee,Fe,Qe)=>{const qe=HY(t,Fe,$,l,Qe),vt={...Y,y:Qe.y,height:Qe.height};return{...qe(vt,le,Ee,Fe,Qe),alwaysFit:!0}},v=$=>fF(d)?[g($)]:[];return r?{onLtr:$=>[Ba,jr,qa,fi,wi,pi].concat(v($)),onRtl:$=>[Ba,qa,jr,wi,fi,pi].concat(v($))}:{onLtr:$=>[pi,Ba,fi,jr,wi,qa].concat(v($)),onRtl:$=>[pi,Ba,wi,qa,fi,jr].concat(v($))}},UY=(t,r,l,d)=>r==="line"?{bubble:Xc(D6,0,cF),layouts:{onLtr:()=>[a0],onRtl:()=>[a3]},overrides:dF}:{bubble:Xc(0,D6,cF,1/D6),layouts:zY(t,l,d,r),overrides:dF},YT=(t,r)=>{const l=be(r,v=>v.predicate(t.dom)),{pass:d,fail:g}=xe(l,v=>v.type==="contexttoolbar");return{contextToolbars:d,contextForms:g}},pF=t=>{if(t.length<=1)return t;{const r=v=>H(t,y=>y.position===v),l=v=>be(t,y=>y.position===v),d=r("selection"),g=r("node");if(d||g)if(g&&d){const v=l("node"),y=K(l("selection"),k=>({...k,position:"node"}));return v.concat(y)}else return l(d?"selection":"node");else return l("line")}},gF=t=>{if(t.length<=1)return t;{const r=d=>D(t,g=>g.position===d);return r("selection").orThunk(()=>r("node")).orThunk(()=>r("line")).map(d=>d.position).fold(()=>[],d=>be(t,g=>g.position===d))}},mF=(t,r,l)=>{const d=YT(t,r);if(d.contextForms.length>0)return p.some({elem:t,toolbars:[d.contextForms[0]]});{const g=YT(t,l);if(g.contextForms.length>0)return p.some({elem:t,toolbars:[g.contextForms[0]]});if(d.contextToolbars.length>0||g.contextToolbars.length>0){const v=pF(d.contextToolbars.concat(g.contextToolbars));return p.some({elem:t,toolbars:v})}else return p.none()}},hF=(t,r,l)=>t(r)?p.none():Ed(r,d=>{if(hl(d)){const{contextToolbars:g,contextForms:v}=YT(d,l.inNodeScope),y=v.length>0?v:gF(g);return y.length>0?p.some({elem:d,toolbars:y}):p.none()}else return p.none()},t),VY=(t,r)=>{const l=cn.fromDom(r.getBody()),d=y=>Rs(y,l),g=y=>!d(y)&&!Sa(l,y),v=cn.fromDom(r.selection.getNode());return g(v)?p.none():mF(v,t.inNodeScope,t.inEditorScope).orThunk(()=>hF(d,v,t))},bF=(t,r)=>{const l={},d=[],g=[],v={},y={},k=(le,Ee)=>{const Fe=Sd(eK(Ee));l[le]=Fe,Fe.launch.map(Qe=>{v["form:"+le]={...Ee.launch,type:Qe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(Fe)}}}),Fe.scope==="editor"?g.push(Fe):d.push(Fe),y[le]=Fe},$=(le,Ee)=>{rS(Ee).each(Fe=>{Fe.launch.isSome()&&(v["toolbar:"+le]={...Ee.launch,type:"button",onAction:()=>{r(Fe)}}),Ee.scope==="editor"?g.push(Fe):d.push(Fe),y[le]=Fe})},Y=nt(t);return ee(Y,le=>{const Ee=t[le];Ee.type==="contextform"||Ee.type==="contextsliderform"||Ee.type==="contextsizeinputform"?k(le,Ee):Ee.type==="contexttoolbar"&&$(le,Ee)}),{forms:l,inNodeScope:d,inEditorScope:g,lookupTable:y,formNavigators:v}},hy="tox-pop--transition",WY=t=>t===S6.ENTER||t===S6.SPACEBAR,lJ=(t,r,l,d)=>{const g=d.backstage,v=g.shared,y=ca().deviceType.isTouch,k=Do(),$=Do(),Y=Do(),le=GG({sink:l,onEscape:()=>(t.focus(),AS(t),p.some(!0)),onHide:()=>{AS(t)},onBack:()=>{VK(t)},focusElement:ss=>{t.getBody().contains(ss.dom)?t.focus():hr(ss)}}),Ee=C(le.sketch),Fe=()=>{const ss=Y.get().getOr("node"),ks=fF(ss)?1:0;return lF(t,v,ss,ks)},Qe=()=>!t.removed&&!(y()&&g.isContextMenuOpen()),qe=ss=>kt(Qt(ss,k.get(),Rs),!0),vt=()=>{if(Qe()){const ss=Fe(),ks=kt(Y.get(),"node")?aF(t,k.get()):H4(t);return ss.height<=0||!gy(ks,ss,.01)}else return!0},Ot=()=>{k.clear(),$.clear(),Y.clear(),oa.hide(Ee)},Ct=()=>{if(oa.isOpen(Ee)){const ss=Ee.element;Ps(ss,"display"),vt()?Mo(ss,"display","none"):($.set(0),oa.reposition(Ee))}},$t=ss=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ss],behaviours:Yn([Ho.config({mode:"acyclic"}),Cs("pop-dialog-wrap-events",[Wr(ks=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Ho.focusIn(ks))}),wu(ks=>{t.shortcuts.remove("ctrl+F9")})])])}),Ut=ss=>{const ks=Fn([ss]);Xo(Ee,ay,{forwardContents:$t(ks)})},an=St(()=>bF(r,Ut)),un=(ss,ks)=>T6(t,{buttons:ss,toolbar:ks.items,allowToolbarGroups:!1},d.backstage,p.some(["form:","toolbar:"])),uo=(ss,ks)=>ZT.buildInitGroups(ss,ks),Fn=ss=>{const{buttons:ks}=t.ui.registry.getAll(),Io=an(),Ln={...ks,...Io.formNavigators},no=F0(t)===Vd.scrolling?Vd.scrolling:Vd.default,is=V(K(ss,Os=>Os.type==="contexttoolbar"?un(Ln,sS(Os)):uo(Os,v.providers)));return oy({type:no,uid:_e("context-toolbar"),initGroups:is,onEscape:p.none,cyclicKeying:!0,providers:v.providers})},$n=(ss,ks)=>{const Io=ss==="node"?v.anchors.node(ks):v.anchors.cursor(),Ln=UY(t,ss,y(),{lastElement:k.get,isReposition:()=>kt($.get(),0),getMode:()=>Ai.getMode(l)});return At(Io,Ln)},Nn=(ss,ks)=>{if(Zs.cancel(),!Qe())return;const Io=Fn(ss),Ln=ss[0].position,no=$n(Ln,ks);Y.set(Ln),$.set(1);const is=Ee.element;Ps(is,"display"),qe(ks)||(Vr(is,hy),Ai.reset(l,Ee)),oa.showWithinBounds(Ee,$t(Io),{anchor:no,transition:{classes:[hy],mode:"placement"}},()=>p.some(Fe())),ks.fold(k.clear,k.set),vt()&&Mo(is,"display","none")},jo=()=>{Mo(Ee.element,"transition","none"),Ct(),Ps(Ee.element,"transition")};let Po=!1;const Zs=pt(()=>{if(!(!t.hasFocus()||t.removed||Po))if(Ma(Ee.element,hy))Zs.throttle();else{const ss=an();VY(ss,t).fold(Ot,ks=>{Nn(ks.toolbars,p.some(ks.elem))})}},17);t.on("init",()=>{t.on("remove",Ot),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ct),t.on("click focus SetContent",Zs.throttle),t.on("keyup",ss=>{(!WY(ss.keyCode)||!le.inSubtoolbar())&&Zs.throttle()}),t.on(tF,Ot),t.on(BY,ss=>{const ks=an();Rt(ks.lookupTable,ss.toolbarKey).each(Io=>{Nn([Io],Dn(ss.target!==t,ss.target)),AB(Ee)})}),t.on("focusout",ss=>{$x.setEditorTimeout(t,()=>{za(l.element).isNone()&&za(Ee.element).isNone()&&!t.hasFocus()&&Ot()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Ot()}),t.on("DisabledStateChange",ss=>{ss.state&&Ot()}),t.on("ExecCommand",({command:ss})=>{ss.toLowerCase()==="toggleview"&&Ot()}),t.on("AfterProgressState",ss=>{ss.state?Ot():t.hasFocus()&&Zs.throttle()}),t.on("dragstart",()=>{Po=!0}),t.on("dragend drop",()=>{Po=!1}),t.on("NodeChange",ss=>{le.inSubtoolbar()?jo():za(Ee.element).fold(Zs.throttle,lt)})})},KY=t=>{ee([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{t.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:dd(t,l.cmd),onSetup:h9(t,l.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Zl(t),onAction:dd(t,"JustifyNone")})},vF=(t,r)=>{const l=()=>{const d=r.getOptions(t),g=r.getCurrent(t).map(r.hash),v=Do();return K(d,y=>({type:"togglemenuitem",text:r.display(y),onSetup:k=>{const $=le=>{le&&(v.on(Ee=>Ee.setActive(!1)),v.set(k)),k.setActive(le)};$(kt(g,r.hash(y)));const Y=r.watcher(t,y,$);return()=>{v.clear(),Y()}},onAction:()=>r.setCurrent(t,y)}))};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:d=>d(l()),onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:l,onSetup:r.onMenuSetup})},jY=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:cN,hash:r=>Xr(r,["fixed","relative","empty"]).getOr(r),display:oo,watcher:(r,l,d)=>r.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:r=>p.from(r.queryCommandValue("LineHeight")),setCurrent:(r,l)=>r.execCommand("LineHeight",!1,l),onToolbarSetup:Zl(t),onMenuSetup:Zl(t)}),ZY=t=>p.from(VD(t)).map(l=>({name:"language",text:"Language",icon:"language",getOptions:ht(l),hash:d=>es(d.customCode)?d.code:`${d.code}/${d.customCode}`,display:d=>d.title,watcher:(d,g,v)=>{var y;return d.formatter.formatChanged("lang",v,!1,{value:g.code,customValue:(y=g.customCode)!==null&&y!==void 0?y:null}).unbind},getCurrent:d=>{const g=cn.fromDom(d.selection.getNode());return Wg(g,v=>p.some(v).filter(hl).bind(y=>ai(y,"lang").map($=>{const Y=ai(y,"data-mce-lang").getOrUndefined();return{code:$,customCode:Y,title:""}})))},setCurrent:(d,g)=>d.execCommand("Lang",!1,g),onToolbarSetup:d=>{const g=Go();return d.setActive(t.formatter.match("lang",{},void 0,!0)),g.set(t.formatter.formatChanged("lang",d.setActive,!0)),m9(g.clear,Zl(t)(d))},onMenuSetup:Zl(t)})),GY=t=>{vF(t,jY(t)),ZY(t).each(r=>vF(t,r))},YY=(t,r)=>{JG(t,r),PB(t,r),yY(t,r),nY(t,r),UB(t,r)},qY=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",r=>t.mode.get()===r),t.ui.registry.addContext("any",a),t.ui.registry.addContext("formatting",r=>t.formatter.canApply(r)),t.ui.registry.addContext("insert",r=>t.schema.isValidChild(t.selection.getNode().tagName,r))},XY=t=>i2(t,"NodeChange",r=>{r.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),QY=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:XY(t),onAction:dd(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Zl(t,()=>t.queryCommandState("indent")),onAction:dd(t,"indent")})},JY=t=>{QY(t)},xF=(t,r)=>l=>{l.setActive(r.get());const d=g=>{r.set(g.state),l.setActive(g.state)};return t.on("PastePlainTextToggle",d),m9(()=>t.off("PastePlainTextToggle",d),Zl(t)(l))},eq=t=>{const r=Je(nN(t)),l=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:l,onSetup:xF(t,r)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:l,onSetup:xF(t,r)})},qT=(t,r)=>()=>{t.execCommand("mceToggleFormat",!1,r)},yF=t=>{Ag.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(r,l)=>{t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onSetup:h9(t,r.name),onAction:qT(t,r.name),shortcut:r.shortcut})});for(let r=1;r<=6;r++){const l="h"+r,d=`Access+${r}`;t.ui.registry.addToggleButton(l,{text:l.toUpperCase(),tooltip:"Heading "+r,onSetup:h9(t,l),onAction:qT(t,l),shortcut:d})}},tq=t=>{Ag.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],r=>{t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:dd(t,r.action),shortcut:r.shortcut,context:r.context})}),Ag.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],r=>{t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onSetup:Zl(t),onAction:dd(t,r.action)})})},nq=t=>{Ag.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],r=>{t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:dd(t,r.action),onSetup:h9(t,r.name)})})},oq=t=>{yF(t),tq(t),nq(t)},sq=t=>{Ag.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],r=>{t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:dd(t,r.action),context:r.context})}),Ag.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],r=>{t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onSetup:Zl(t),onAction:dd(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Zl(t),onAction:qT(t,"code")})},rq=t=>{oq(t),sq(t)},z4=(t,r)=>i2(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",l=>{l.setEnabled(!t.mode.isReadOnly()&&t.undoManager[r]())}),aq=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:z4(t,"hasUndo"),onAction:dd(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:z4(t,"hasRedo"),onAction:dd(t,"redo")})},iq=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:z4(t,"hasUndo"),onAction:dd(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:z4(t,"hasRedo"),onAction:dd(t,"redo"),shortcut:"Meta+Y"})},XT=t=>{aq(t),iq(t)},CF=t=>i2(t,"VisualAid",r=>{r.setActive(t.hasVisual)}),_F=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:CF(t),onAction:dd(t,"mceToggleVisualAid"),context:"any"})},lq=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:dd(t,"mceToggleVisualAid"),context:"any"})},cq=t=>{lq(t),_F(t)},dq=(t,r)=>{KY(t),rq(t),YY(t,r),XT(t),MS(t),cq(t),JY(t),GY(t),eq(t),qY(t)},uq=t=>dt(t)?t.split(/[ ,]/):t,EF=t=>r=>r.options.get(t),QT=t=>{const r=t.options.register;r("contextmenu_avoid_overlap",{processor:"string",default:""}),r("contextmenu_never_use_native",{processor:"boolean",default:!1}),r("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:dt(l)||Xt(l,dt)?{value:uq(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},wF=EF("contextmenu_never_use_native"),SF=EF("contextmenu_avoid_overlap"),fq=t=>TF(t).length===0,TF=t=>{const r=t.ui.registry.getAll().contextMenus,l=t.options.get("contextmenu");return t.options.isSet("contextmenu")?l:be(l,d=>Wt(r,d))},h2=(t,r)=>({type:"makeshift",x:t,y:r}),pq=(t,r,l)=>h2(t.x+r,t.y+l),JT=t=>t.type==="longpress"||t.type.indexOf("touch")===0,eA=t=>{if(JT(t)){const r=t.touches[0];return h2(r.pageX,r.pageY)}else return h2(t.pageX,t.pageY)},gq=t=>{if(JT(t)){const r=t.touches[0];return h2(r.clientX,r.clientY)}else return h2(t.clientX,t.clientY)},mq=(t,r)=>{const l=Vv.DOM.getPos(t);return pq(r,l.x,l.y)},hq=(t,r)=>r.type==="contextmenu"||r.type==="longpress"?t.inline?eA(r):mq(t.getContentAreaContainer(),gq(r)):AF(t),AF=t=>({type:"selection",root:cn.fromDom(t.selection.getNode())}),bq=t=>({type:"node",node:p.some(cn.fromDom(t.selection.getNode())),root:cn.fromDom(t.getBody())}),tA=(t,r,l)=>{switch(l){case"node":return bq(t);case"point":return hq(t,r);case"selection":return AF(t)}},vq=(t,r,l,d,g,v)=>{const y=l(),k=tA(t,r,v);k4(y,df.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:p.none()}).map($=>{r.preventDefault(),oa.showMenuAt(g,{anchor:k},{menu:{markers:Xm("normal")},data:$})})},xq={onLtr:()=>[Ba,jr,qa,fi,wi,pi,Jc,hm,Qc,d3,hn,Eu],onRtl:()=>[Ba,qa,jr,wi,fi,pi,Jc,hm,hn,Eu,Qc,d3]},yq=12,Cq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},_q=(t,r)=>{const l=t.selection;if(l.isCollapsed()||r.touches.length<1)return!1;{const d=r.touches[0],g=l.getRng();return Kg(t.getWin(),hc.domRange(g)).exists(y=>y.left<=d.clientX&&y.right>=d.clientX&&y.top<=d.clientY&&y.bottom>=d.clientY)}},Eq=t=>{const r=t.selection.getRng(),l=()=>{$x.setEditorTimeout(t,()=>{t.selection.setRng(r)},10),v()};t.once("touchend",l);const d=y=>{y.preventDefault(),y.stopImmediatePropagation()};t.on("mousedown",d,!0);const g=()=>v();t.once("longpresscancel",g);const v=()=>{t.off("touchend",l),t.off("longpresscancel",g),t.off("mousedown",d)}},wq=(t,r,l)=>{const d=tA(t,r,l);return{bubble:Xc(0,l==="point"?yq:0,Cq),layouts:xq,overrides:{maxWidthFunction:u3(),maxHeightFunction:bm()},...d}},Sq=(t,r,l,d,g,v,y)=>{const k=wq(t,r,v);k4(l,df.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!0,search:p.none()}).map($=>{r.preventDefault();const Y=y?il.HighlightMenuAndItem:il.HighlightNone;oa.showMenuWithinBounds(g,{anchor:k},{menu:{markers:Xm("normal"),highlightOnOpen:Y},data:$,type:"horizontal"},()=>p.some(lF(t,d.shared,v==="node"?"node":"selection"))),t.dispatch(tF)})},Tq=(t,r,l,d,g,v)=>{const y=ca(),k=y.os.isiOS(),$=y.os.isMacOS(),Y=y.os.isAndroid(),le=y.deviceType.isTouch(),Ee=()=>!(Y||k||$&&le),Fe=()=>{const Qe=l();Sq(t,r,Qe,d,g,v,Ee())};if(($||k)&&v!=="node"){const Qe=()=>{Eq(t),Fe()};_q(t,r)?Qe():(t.once("selectionchange",Qe),t.once("touchend",()=>t.off("selectionchange",Qe)))}else Fe()},kF=t=>dt(t)?t==="|":t.type==="separator",by={type:"separator"},OF=t=>{const r=l=>({text:l.text,icon:l.icon,enabled:l.enabled,shortcut:l.shortcut});if(dt(t))return t;switch(t.type){case"separator":return by;case"submenu":return{type:"nestedmenuitem",...r(t),getSubmenuItems:()=>{const d=t.getSubmenuItems();return dt(d)?d:K(d,OF)}};default:const l=t;return{type:"menuitem",...r(l),onAction:Xn(l.onAction)}}},nA=(t,r)=>{if(r.length===0)return t;const d=Pe(t).filter(g=>!kF(g)).fold(()=>[],g=>[by]);return t.concat(d).concat(r).concat([by])},Aq=(t,r,l)=>{const d=se(r,(g,v)=>Rt(t,v.toLowerCase()).map(y=>{const k=y.update(l);if(dt(k)&&Ur(Qn(k)))return nA(g,k.split(" "));if(pn(k)&&k.length>0){const $=K(k,OF);return nA(g,$)}else return g}).getOrThunk(()=>g.concat([v])),[]);return d.length>0&&kF(d[d.length-1])&&d.pop(),d},kq=(t,r)=>r.ctrlKey&&!wF(t),Oq=t=>t.type==="longpress"||Wt(t,"touches"),ch=(t,r)=>!Oq(r)&&(r.button!==2||r.target===t.getBody()&&r.pointerType===""),oA=(t,r)=>ch(t,r)?t.selection.getStart(!0):r.target,Lq=(t,r)=>{const l=SF(t),d=ch(t,r)?"selection":"point";if(Ur(l)){const g=oA(t,r);return _p(cn.fromDom(g),l)?"node":d}else return d},Dq=(t,r,l)=>{const g=ca().deviceType.isTouch,v=C(oa.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>t.focus(),onShow:()=>l.setContextMenuState(!0),onHide:()=>l.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Yn([Cs("dismissContextMenu",[xn(Rp(),($,Y)=>{sr.close($),t.focus()})])])})),y=()=>oa.hide(v),k=$=>{if(wF(t)&&$.preventDefault(),kq(t,$)||fq(t))return;const Y=Lq(t,$),le=()=>{const Fe=oA(t,$),Qe=t.ui.registry.getAll(),qe=TF(t);return Aq(Qe.contextMenus,qe,Fe)};(g()?Tq:vq)(t,$,le,l,v,Y)};t.on("init",()=>{const $="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(g()?"":" ResizeWindow");t.on($,y),t.on("longpress contextmenu",k)})},sA=40,vy=sA/2,LF=(t,r,l,d,g,v)=>t.fold(()=>Pm.snap({sensor:dg(l-vy,d-vy),range:Dr(g,v),output:dg(p.some(l),p.some(d)),extra:{td:r}}),y=>{const k=l-vy,$=d-vy,Y=sA,le=sA,Ee=y.element.dom.getBoundingClientRect();return Pm.snap({sensor:dg(k,$),range:Dr(Y,le),output:dg(p.some(l-Ee.width/2),p.some(d-Ee.height/2)),extra:{td:r}})}),rA=(t,r,l)=>{const d=(g,v)=>g.exists(y=>Rs(y,v));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(g,v)=>{const y=v.td;d(r.get(),y)||(r.set(y),l(y))},mustSnap:!0}},DF=t=>mr(pl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Yn([Pm.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),kv.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Nq=(t,r)=>{const l=Je([]),d=Je([]),g=Je(!1),v=Do(),y=Do(),k=Fn=>{const $n=x1(Fn);return LF(Qe.getOpt(r),Fn,$n.x,$n.y,$n.width,$n.height)},$=()=>K(l.get(),Fn=>k(Fn)),Y=Fn=>{const $n=x1(Fn);return LF(qe.getOpt(r),Fn,$n.right,$n.bottom,$n.width,$n.height)},le=()=>K(d.get(),Fn=>Y(Fn)),Ee=rA($,v,Fn=>{y.get().each($n=>{t.dispatch("TableSelectorChange",{start:Fn,finish:$n})})}),Fe=rA(le,y,Fn=>{v.get().each($n=>{t.dispatch("TableSelectorChange",{start:$n,finish:Fn})})}),Qe=DF(Ee),qe=DF(Fe),vt=C(Qe.asSpec()),Ot=C(qe.asSpec()),Ct=(Fn,$n,Nn,jo)=>{const Po=$n.dom.getBoundingClientRect();Ps(Fn.element,"display");const Zs=Pu(cn.fromDom(t.getBody())).dom.innerHeight,ss=Nn(Po),ks=jo(Po,Zs);(ss||ks)&&Mo(Fn.element,"display","none")},$t=(Fn,$n,Nn,jo)=>{const Po=Nn($n);Pm.snapTo(Fn,Po),Ct(Fn,$n,ks=>ks[jo]<0,(ks,Io)=>ks[jo]>Io)},Ut=Fn=>$t(vt,Fn,k,"top"),an=()=>v.get().each(Ut),un=Fn=>$t(Ot,Fn,Y,"bottom"),uo=()=>y.get().each(un);if(ca().deviceType.isTouch()){const Fn=$n=>K($n,cn.fromDom);t.on("TableSelectionChange",$n=>{g.get()||(Fd(r,vt),Fd(r,Ot),g.set(!0));const Nn=cn.fromDom($n.start),jo=cn.fromDom($n.finish);v.set(Nn),y.set(jo),p.from($n.otherCells).each(Po=>{l.set(Fn(Po.upOrLeftCells)),d.set(Fn(Po.downOrRightCells)),Ut(Nn),un(jo)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{an(),uo()}),t.on("TableSelectionClear",()=>{g.get()&&(nf(vt),nf(Ot),g.set(!1)),v.clear(),y.clear()})}};var Rq=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const Mq=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",Iq=(t,r,l)=>{var d;const g=(d=r.delimiter)!==null&&d!==void 0?d:"›",v=(Y,le,Ee)=>pl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Ee}},components:[Zr(Y)],action:Fe=>{t.focus(),t.selection.select(le),t.nodeChanged()},buttonBehaviours:Yn([wr.config({...l.tooltips.getConfig({tooltipText:l.translate(["Select the {0} element",le.nodeName.toLowerCase()]),onShow:(Fe,Qe)=>{Ul(Fe.element,Qe.element)},onHide:Fe=>{ja(Fe.element)}})}),Yi.button(l.isDisabled),Fa(()=>l.checkUiComponentContext("any"))])}),y=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Zr(` ${g} `)]}),k=Y=>se(Y,(le,Ee,Fe)=>{const Qe=v(Ee.name,Ee.element,Fe);return Fe===0?le.concat([Qe]):le.concat([y(),Qe])},[]),$=Y=>{const le=[];let Ee=Y.length;for(;Ee-- >0;){const Fe=Y[Ee];if(Fe.nodeType===1&&!Mq(Fe)){const Qe=BK(t,Fe);if(Qe.isDefaultPrevented()||le.push({name:Qe.name,element:Fe}),Qe.isPropagationStopped())break}}return le};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Yn([Ho.config({mode:"flow",selector:"div[role=button]"}),zo.config({disabled:l.isDisabled}),Fa(()=>l.checkUiComponentContext("any")),Hr.config({}),ws.config({}),Cs("elementPathEvents",[Wr((Y,le)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Ho.focusIn(Y)),t.on("NodeChange",Ee=>{const Fe=$(Ee.parents),Qe=Fe.length>0?k(Fe):[];ws.set(Y,Qe)})})])]),components:[]}};var lp;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(lp||(lp={}));const NF=t=>{const r=cn.fromDom(t.getContainer()),l=Yr(r),d=ei(r);return{height:l,width:d}},RF=(t,r,l,d)=>({height:A6(d.height+r.top,tw(t),nw(t)),width:l===lp.Both?A6(d.width+r.left,ew(t),zx(t)):d.width}),MF=(t,r,l)=>{const d=cn.fromDom(t.getContainer()),g=NF(t),v=RF(t,r,l,g);return Me(v,(y,k)=>{Zo(y)&&Mo(d,k,fy(y))}),RK(t),v},Bq=t=>{const r=tN(t);return r===!1?lp.None:r==="both"?lp.Both:lp.Vertical},Fq=(t,r)=>r===lp.Both?gl.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",t.height,t.width]):gl.translate(["Editor's height: {0} pixels",t.height]),N6=(t,r,l)=>{os(t.element,"aria-valuetext",Fq(r,l))},xy=(t,r,l,d,g)=>{const y=Dr(d*20,g*20),k=MF(t,y,l);return N6(r,k,l),p.some(!0)},Pq=(t,r)=>{const l=Bq(t);if(l===lp.None)return p.none();const d=l===lp.Both?gl.translate("Press the arrow keys to resize the editor."):gl.translate("Press the Up and Down arrow keys to resize the editor."),g=l===lp.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return p.some(Wd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",g],attributes:{"aria-label":r.translate(d),"data-mce-name":"resize-handle",role:"separator"},behaviours:[Pm.config({mode:"mouse",repositionTarget:!1,onDrag:(v,y,k)=>{const $=MF(t,k,l);N6(v,$,l)},blockerClass:"tox-blocker"}),Ho.config({mode:"special",onLeft:v=>xy(t,v,l,-1,0),onRight:v=>xy(t,v,l,1,0),onUp:v=>xy(t,v,l,0,-1),onDown:v=>xy(t,v,l,0,1)}),Hr.config({}),Es.config({}),wr.config(r.tooltips.getConfig({tooltipText:r.translate("Resize")})),Cs("set-aria-valuetext",[Wr(v=>{const y=()=>{N6(v,NF(t),l)};t._skinLoaded?y():t.once("SkinLoaded",y)})])],eventOrder:{[xu()]:["add-focusable","set-aria-valuetext"]}},r.icons))},$q=(t,r)=>{const l=(d,g,v)=>ws.set(d,[Zr(r.translate(["{0} "+v,g[v]]))]);return pl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Yn([Yi.button(r.isDisabled),Fa(()=>r.checkUiComponentContext("any")),Hr.config({}),ws.config({}),yo.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Cs("wordcount-events",[Wf(d=>{const g=yo.getValue(d),v=g.mode==="words"?"characters":"words";yo.setValue(d,{mode:v,count:g.count}),l(d,g.count,v)}),Wr(d=>{t.on("wordCountUpdate",g=>{const{mode:v}=yo.getValue(d);yo.setValue(d,{mode:v,count:g.wordCount}),l(d,g.wordCount,v)})})])]),eventOrder:{[Yc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Hq=(t,r)=>{const l=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",Rq.trim()])},behaviours:Yn([Es.config({})])}]}),d=()=>{const k=b4("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Zr(gl.translate(["Press {0} for help",k]))]}},g=()=>{const k=[];return t.hasPlugin("wordcount")&&k.push($q(t,r)),lw(t)&&k.push(l()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}},v=()=>{const k=[],$=rN(t),Y=eN(t),le=lw(t)||t.hasPlugin("wordcount"),Ee=()=>{const Fe="tox-statusbar__text-container--flex-start",Qe="tox-statusbar__text-container--flex-end",qe="tox-statusbar__text-container--space-around";if($){const vt="tox-statusbar__text-container-3-cols";return!le&&!Y?[vt,qe]:le&&!Y?[vt,Qe]:[vt,Fe]}return[le&&!Y?Qe:Fe]};return Y&&k.push(Iq(t,{},r)),$&&k.push(d()),le&&k.push(g()),k.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Ee()]},components:k}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const k=v(),$=Pq(t,r);return k.concat($.toArray())})()}},IF=(t,r)=>r.get().getOrDie(`UI for ${t} has not been rendered`),zq=(t,r)=>{const l=t.inline,d=l?IY:GB,g=t4(t)?oG:iJ,v=eF(),y=Do(),k=Do(),$=Do(),Fe=ca().deviceType.isTouch()?["tox-platform-touch"]:[],Qe=cw(t),qe=F0(t),vt=mr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ot=mr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ct=()=>v.mainUi.get().map($o=>$o.outerContainer).bind(Br.getHeader),$t=()=>zn.fromOption(v.dialogUi.get().map($o=>$o.sink),"UI has not been rendered"),Ut=()=>zn.fromOption(v.popupUi.get().map($o=>$o.sink),"(popup) UI has not been rendered"),an=v.lazyGetInOuterOrDie("anchor bar",vt.getOpt),un=v.lazyGetInOuterOrDie("bottom anchor bar",Ot.getOpt),uo=v.lazyGetInOuterOrDie("toolbar",Br.getToolbar),Fn=v.lazyGetInOuterOrDie("throbber",Br.getThrobber),$n=GZ({popup:Ut,dialog:$t},t,an,un),Nn=()=>{const $o={attributes:{[f3]:Qe?Vf.BottomToTop:Vf.TopToBottom}},_s=Br.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:$n.popup,onEscape:()=>{t.focus()}}),Cr=Br.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:$n.popup.shared.getSink,providers:$n.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:r1=>{FK(t,r1)},type:qe,lazyToolbar:uo,lazyHeader:()=>Ct().getOrDie("Could not find header element"),...$o}),lr=Br.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:$n.popup.shared.providers,onEscape:()=>{t.focus()},type:qe}),qi=Gm(t),cr=Kx(t),Ll=Wx(t),ki=sN(t),dc=jo(ki),Fc=qi||cr||Ll,Yd=()=>qi?[lr]:cr?[Cr]:[],qd=[dc,_s];return Br.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Fc?[]:["tox-editor-header--empty"]),...$o},components:V([Ll?qd:[],Yd(),e4(t)?[]:[vt.asSpec()]]),sticky:t4(t),editor:t,sharedBackstage:$n.popup.shared})},jo=$o=>Br.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:$o}),Po=()=>{const $o=Br.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),_s=Br.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[$o,_s]}},Zs=()=>{const $o=dw(t),_s=Rs(gc(),$o)&&pa($o,"display")==="grid",Cr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Fe),attributes:{...gl.isRtl()?{dir:"rtl"}:{}}},behaviours:Yn([Ai.config({useFixed:()=>g.isDocked(Ct)})])},lr={dom:{styles:{width:document.body.clientWidth+"px"}},events:Jr([xn(Gh(),Ll=>{Mo(Ll.element,"width",document.body.clientWidth+"px")})])},qi=C(At(Cr,_s?lr:{})),cr=Lv(qi);return k.set(cr),{sink:qi,mothership:cr}},ss=()=>{const $o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(Fe),attributes:{...gl.isRtl()?{dir:"rtl"}:{}}},behaviours:Yn([Ai.config({useFixed:()=>g.isDocked(Ct),getBounds:()=>r.getPopupSinkBounds()})])},_s=C($o),Cr=Lv(_s);return $.set(Cr),{sink:_s,mothership:Cr}},ks=()=>{const $o=Nn(),_s=Po(),Cr=Br.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:$n.popup}),lr=Br.parts.viewWrapper({backstage:$n.popup}),qi=JD(t)&&!l?p.some(Hq(t,$n.popup.shared.providers)):p.none(),cr=V([Qe?[]:[$o],l?[]:[_s],Qe?[$o]:[]]),Ll=Br.parts.editorContainer({components:V([cr,l?[]:[Ot.asSpec()]])}),ki=uw(t),dc={role:"application",...gl.isRtl()?{dir:"rtl"}:{},...ki?{"aria-hidden":"true"}:{}},Fc=C(Br.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(l?["tox-tinymce-inline"]:[]).concat(Qe?["tox-tinymce--toolbar-bottom"]:[]).concat(Fe),styles:{visibility:"hidden",...ki?{opacity:"0",border:"0"}:{}},attributes:dc},components:[Ll,...l?[]:[lr,...qi.toArray()],Cr],behaviours:Yn([Fa(()=>$n.popup.shared.providers.checkUiComponentContext("any")),zo.config({disableClass:"tox-tinymce--disabled"}),Ho.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Yd=Lv(Fc);return y.set(Yd),{mothership:Yd,outerContainer:Fc}},Io=$o=>{const _s=fy(LY(t)),Cr=fy(DY(t));return t.inline||(ru("div","width",Cr)&&Mo($o.element,"width",Cr),ru("div","height",_s)?Mo($o.element,"height",_s):Mo($o.element,"height","400px")),_s},Ln=$o=>{t.addShortcut("alt+F9","focus menubar",()=>{Br.focusMenubar($o)}),t.addShortcut("alt+F10","focus toolbar",()=>{Br.focusToolbar($o)}),t.addCommand("ToggleToolbarDrawer",(_s,Cr,lr)=>{Cr!=null&&Cr.skipFocus?(qZ("skipFocus"),Br.toggleToolbarDrawerWithoutFocusing($o)):lr!=null&&lr.skip_focus?Br.toggleToolbarDrawerWithoutFocusing($o):Br.toggleToolbarDrawer($o)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Br.isToolbarDrawerToggled($o)),t.on("blur",()=>{F0(t)===Vd.floating&&Br.isToolbarDrawerToggled($o)&&Br.toggleToolbarDrawerWithoutFocusing($o)})},no=$o=>{const{mainUi:_s,popupUi:Cr,uiMotherships:lr}=$o;et(KD(t),(cp,dp)=>{t.ui.registry.addGroupToolbarButton(dp,cp)});const{buttons:qi,menuItems:cr,contextToolbars:Ll,sidebars:ki,views:dc}=t.ui.registry.getAll(),Fc=jv(t),Yd={menuItems:cr,menus:Gv(t),menubar:sw(t),toolbar:Fc.getOrThunk(()=>Ux(t)),allowToolbarGroups:qe===Vd.floating,buttons:qi,sidebar:ki,views:dc};Ln(_s.outerContainer),WI(t,_s.mothership,lr),g.setup(t,$n.popup.shared,Ct),dq(t,$n.popup),Dq(t,$n.popup.shared.getSink,$n.popup),rG(t),oB(t,Fn,$n.popup.shared),lJ(t,Ll,Cr.sink,{backstage:$n.popup}),Nq(t,Cr.sink);const qd=t.getElement(),r1=Io(_s.outerContainer),U4={targetNode:qd,height:r1};return d.render(t,$o,Yd,$n.popup,U4)},is=$o=>($.set($o.mothership),$o),Os=()=>{const $o=ks(),_s=Zs(),Cr=P0(t)?ss():is(_s);v.dialogUi.set(_s),v.popupUi.set(Cr),v.mainUi.set($o);const lr={popupUi:Cr,dialogUi:_s,mainUi:$o,uiMotherships:v.getUiMotherships()};return no(lr)};return{popups:{backstage:$n.popup,getMothership:()=>IF("popups",$)},dialogs:{backstage:$n.dialog,getMothership:()=>IF("dialogs",k)},renderUI:Os}},BF=t=>{const r=[],l={};return Me(t,(d,g)=>{d.fold(()=>{r.push(g)},v=>{l[g]=v})}),r.length>0?zn.error(r):zn.value(l)},Uq=(t,r,l,d)=>{const g=mr(Sr.sketch(v=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:K(t.items,y=>vZ(v,y,r,l,d))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[g.asSpec()]}],behaviours:Yn([Ho.config({mode:"acyclic",useTabstopAt:s(A4)}),gf.memento(g),Tj(g,{postprocess:v=>BF(v).fold(y=>(console.error(y),{}),oo)}),Cs("dialog-body-panel",[xn(wc(),(v,y)=>{v.getSystem().broadcastOn([R9],{newFocus:p.some(y.event.target)})})])])}},FF=(t,r,l)=>K(t,(d,g)=>{ws.set(l,t[g].view());const v=r.dom.getBoundingClientRect();return ws.set(l,[]),v.height}),PF=t=>we(Le(t,(r,l)=>r>l?-1:r<l?1:0)),Vq=(t,r,l)=>{const d=Ch(t).dom,g=Kc(t,".tox-dialog-wrap").getOr(t),v=pa(g,"position")==="fixed";let y;v?y=Math.max(d.clientHeight,window.innerHeight):y=Math.max(d.offsetHeight,d.scrollHeight);const k=Yr(r),Y=r.dom.offsetLeft>=l.dom.offsetLeft+ei(l)?Math.max(Yr(l),k):k,le=parseInt(pa(t,"margin-top"),10)||0,Ee=parseInt(pa(t,"margin-bottom"),10)||0,Qe=Yr(t)+le+Ee-Y;return y-Qe},R6=(t,r)=>{we(t).each(l=>J3.showTab(r,l.value))},$F=(t,r)=>{Mo(t,"height",r+"px"),Mo(t,"flex-basis",r+"px")},yy=(t,r,l)=>{Kc(t,'[role="dialog"]').each(d=>{pr(d,'[role="tablist"]').each(g=>{l.get().map(v=>(Mo(r,"height","0"),Mo(r,"flex-basis","0"),Math.min(v,Vq(d,r,g)))).each(v=>{$F(r,v)})})})},M6=t=>pr(t,'[role="tabpanel"]'),Wq=t=>{const r=Do();return{extraEvents:[Wr(g=>{const v=g.element;M6(v).each(y=>{Mo(y,"visibility","hidden"),g.getSystem().getByDom(y).toOptional().each(k=>{const $=FF(t,y,k);PF($).fold(r.clear,r.set)}),yy(v,y,r),Ps(y,"visibility"),R6(t,g),requestAnimationFrame(()=>{yy(v,y,r)})})}),xn(Gh(),g=>{const v=g.element;M6(v).each(y=>{yy(v,y,r)})}),xn(AM,(g,v)=>{const y=g.element;M6(y).each(k=>{const $=Xa(Ra(k));Mo(k,"visibility","hidden");const Y=er(k,"height").map(Fe=>parseInt(Fe,10));Ps(k,"height"),Ps(k,"flex-basis");const le=k.dom.getBoundingClientRect().height;Y.forall(Fe=>le>Fe)?(r.set(le),yy(y,k,r)):Y.each(Fe=>{$F(k,Fe)}),Ps(k,"visibility"),$.each(hr)})})],selectFirst:!1}},HF="send-data-to-section",zF="send-data-to-view",Kq=(t,r,l,d)=>{const g=Je({}),v=le=>{const Ee=yo.getValue(le),Fe=BF(Ee).getOr({}),Qe=g.get(),qe=At(Qe,Fe);g.set(qe)},y=le=>{const Ee=g.get();yo.setValue(le,Ee)},k=Je(null),$=K(t.tabs,le=>({value:le.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Zr(l.shared.providers.translate(le.title))],view:()=>[Sr.sketch(Ee=>({dom:{tag:"div",classes:["tox-form"]},components:K(le.items,Fe=>vZ(Ee,Fe,r,l,d)),formBehaviours:Yn([Ho.config({mode:"acyclic",useTabstopAt:s(A4)}),Cs("TabView.form.events",[Wr(y),wu(v)]),sd.config({channels:Uh([{key:HF,value:{onReceive:v}},{key:zF,value:{onReceive:y}}])})])}))]})),Y=Wq($);return J3.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(le,Ee,Fe)=>{const Qe=yo.getValue(Ee);Xo(le,TM,{name:Qe,oldName:k.get()}),k.set(Qe)},tabs:$,components:[J3.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Bx.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Yn([Hr.config({})])}),J3.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:Y.selectFirst,tabSectionBehaviours:Yn([Cs("tabpanel",Y.extraEvents),Ho.config({mode:"acyclic"}),yn.config({find:le=>we(J3.getViewItems(le))}),c2(p.none(),le=>(le.getSystem().broadcastOn([HF],{}),g.get()),(le,Ee)=>{g.set(Ee),le.getSystem().broadcastOn([zF],{})})])})},UF=(t,r,l,d,g,v)=>{const y=Y=>{const le=Y.body;switch(le.type){case"tabpanel":return[Kq(le,Y.initialData,d,v)];default:return[Uq(le,Y.initialData,d,v)]}},k=(Y,le)=>p.some({isTabPanel:()=>le.body.type==="tabpanel"}),$={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...l.map(Y=>({id:Y})).getOr({}),...g?$:{}}},components:[],behaviours:Yn([gf.childAt(0),Nc.config({channel:`${PM}-${r}`,updateState:k,renderComponents:y,initialData:t})])}},jq=(t,r,l,d,g,v)=>UF(t,r,p.some(l),d,g,v),Zq=(t,r,l,d)=>{const g=UF(t,r,p.none(),l,!1,d);return oi.parts.body(g)},Gq=t=>{const r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[IM(p.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Yn([Hr.config({}),Es.config({})])})]}],behaviours:Yn([Ho.config({mode:"acyclic",useTabstopAt:s(A4)})])};return oi.parts.body(r)},Yq=Na.deviceType.isTouch(),VF=(t,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}),WF=(t,r)=>oi.parts.close(pl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Yn([Hr.config({})])})),KF=()=>oi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),jF=(t,r)=>oi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:q1(`<p>${SN(r.translate(t))}</p>`)}]}]}),ZF=t=>oi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),GF=(t,r)=>[Qf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Qf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],aA=t=>{const r="tox-dialog",l=r+"-wrap",d=l+"__backdrop",g=r+"__disable-scroll";return oi.sketch({lazySink:t.lazySink,onEscape:v=>(t.onEscape(v),p.some(!0)),useTabstopAt:v=>!A4(v),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[r].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:q1(`<div class="${l}"></div>`),components:[{dom:{tag:"div",classes:Yq?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:l,modalBehaviours:Yn([Es.config({}),Cs("dialog-events",t.dialogEvents.concat([ym(wc(),(v,y)=>{wn.isBlocked(v)?lt():Ho.focusIn(v)}),xn(am(),(v,y)=>{v.getSystem().broadcastOn([R9],{newFocus:y.event.newFocus})})])),Cs("scroll-lock",[Wr(()=>{na(gc(),g)}),wu(()=>{Vr(gc(),g)})]),...t.extraBehaviours]),eventOrder:{[Yc()]:["dialog-events"],[xu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Pf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},YF=t=>pl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Yn([Hr.config({}),wr.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Wd("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:r=>{Hs(r,rh)}}),I6=(t,r,l,d)=>{const g=v=>[Zr(d.translate(v.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...l.map(v=>({id:v})).getOr({})}},components:[],behaviours:Yn([Nc.config({channel:`${FM}-${r}`,initialData:t,renderComponents:g})])}},qF=()=>({dom:q1('<div class="tox-dialog__draghandle"></div>')}),qq=(t,r,l,d)=>Qf.sketch({dom:q1('<div class="tox-dialog__header"></div>'),components:[I6(t,r,p.some(l),d),qF(),YF(d)],containerBehaviours:Yn([Pm.config({mode:"mouse",blockerClass:"blocker",getTarget:g=>nc(g,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(g,v)=>{g.getSystem().broadcastOn([Mr()],{target:v})}})])}),Xq=(t,r,l)=>{const d=oi.parts.title(I6(t,r,p.none(),l)),g=oi.parts.draghandle(qF()),v=oi.parts.close(YF(l)),y=[d].concat(t.draggable?[g]:[]).concat([v]);return Qf.sketch({dom:q1('<div class="tox-dialog__header"></div>'),components:y})},XF=(t,r,l)=>Xq({title:l.shared.providers.translate(t),draggable:l.dialog.isDraggableModal()},r,l.shared.providers),QF=(t,r,l,d)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":l.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${d.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:q1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),JF=(t,r,l)=>({onClose:()=>l.closeWindow(),onBlock:d=>{const g=pr(t().element,".tox-dialog__header").map(v=>Yr(v));oi.setBusy(t(),(v,y)=>QF(d.message,y,r,g))},onUnblock:()=>{oi.setIdle(t())}}),iA="tox-dialog--fullscreen",lA="tox-dialog--width-lg",cA="tox-dialog--width-md",Cy=t=>{switch(t){case"large":return p.some(lA);case"medium":return p.some(cA);default:return p.none()}},eP=(t,r)=>{const l=cn.fromDom(r.element.dom);Ma(l,iA)||(Cl(l,[lA,cA]),Cy(t).each(d=>na(l,d)))},tP=(t,r)=>{const l=cn.fromDom(t.element.dom),d=B2(l),g=D(d,v=>v===lA||v===cA).or(Cy(r));h1(l,[iA,...g.toArray()])},_y=(t,r,l)=>C(aA({...t,firstTabstop:1,lazySink:l.shared.getSink,extraBehaviours:[d2({}),...t.extraBehaviours],onEscape:d=>{Hs(d,rh)},dialogEvents:r,eventOrder:{[Ff()]:[Nc.name(),sd.name()],[xu()]:["scroll-lock",Nc.name(),"messages","dialog-events","alloy.base.behaviour"],[Pf()]:["alloy.base.behaviour","dialog-events","messages",Nc.name(),"scroll-lock"]}})),Ey=(t,r={})=>{const l=d=>{const g=K(d.items,v=>{const y=Rt(r,v.name).getOr(Je(!1));return{...v,storage:y}});return{...d,items:g}};return K(t,d=>d.type==="menu"?l(d):d)},nP=t=>se(t,(r,l)=>l.type==="menu"?se(l.items,(g,v)=>(g[v.name]=v.storage,g),r):r,{}),oP=(t,r)=>[zp(wc(),Pj),t(m6,(l,d,g,v)=>{pc(v.element)&&Xa(Ra(v.element)).each(fc),r.onClose(),d.onClose()}),t(rh,(l,d,g,v)=>{d.onCancel(l),Hs(v,m6)}),xn(FS,(l,d)=>r.onUnblock()),xn(T9,(l,d)=>r.onBlock(d.event))],Qq=(t,r)=>{const l=(g,v)=>xn(g,(y,k)=>{d(y,($,Y)=>{v(t(),$,k.event,y)})}),d=(g,v)=>{Nc.getState(g).get().each(y=>{v(y,g)})};return[...oP(l,r),l(pf,(g,v,y)=>{v.onAction(g,{name:y.name})})]},sP=(t,r,l)=>{const d=(v,y)=>xn(v,(k,$)=>{g(k,(Y,le)=>{y(t(),Y,$.event,k)})}),g=(v,y)=>{Nc.getState(v).get().each(k=>{y(k.internalDialog,v)})};return[...oP(d,r),d(T4,(v,y)=>y.onSubmit(v)),d(Bc,(v,y,k)=>{y.onChange(v,{name:k.name})}),d(pf,(v,y,k,$)=>{const Y=()=>$.getSystem().isConnected()?Ho.focusIn($):void 0,le=Qe=>ii(Qe,"disabled")||ai(Qe,"aria-disabled").exists(qe=>qe==="true"),Ee=Ra($.element),Fe=Xa(Ee);y.onAction(v,{name:k.name,value:k.value}),Xa(Ee).fold(Y,Qe=>{le(Qe)||Fe.exists(qe=>Sa(Qe,qe)&&le(qe))?Y():l().toOptional().filter(qe=>!Sa(qe.element,Qe)).each(Y)})}),d(TM,(v,y,k)=>{y.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),wu(v=>{const y=t();yo.setValue(v,y.getData())})]},Jq=(t,r)=>y6(t,t.type,r),eX=(t,r,l)=>D(r,d=>d.name===l).bind(d=>d.memento.getOpt(t)),tX=(t,r)=>{const l=r.map(k=>k.footerButtons).getOr([]),d=xe(l,k=>k.align==="start"),g=(k,$)=>Qf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${k}`]},components:K($,Y=>Y.memento.asSpec())}),v=g("start",d.pass),y=g("end",d.fail);return[v,y]},rP=(t,r,l)=>{const d=(g,v)=>{const y=K(v.buttons,$=>{const Y=mr(Jq($,l));return{name:$.name,align:$.align,memento:Y}}),k=$=>eX(g,y,$);return p.some({lookupByName:k,footerButtons:y})};return{dom:q1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Yn([Nc.config({channel:`${$M}-${r}`,initialData:t,updateState:d,renderComponents:tX})])}},nX=(t,r,l)=>rP(t,r,l),aP=(t,r,l)=>oi.parts.footer(rP(t,r,l)),wy=(t,r)=>{if(t.getRoot().getSystem().isConnected()){const d=yn.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Sr.getField(d,r).orThunk(()=>t.getFooter().bind(y=>Nc.getState(y).get()).bind(y=>y.lookupByName(r)))}else return p.none()},oX=(t,r)=>{const l=t.getRoot();return Nc.getState(l).get().map(d=>Sd(ra("data",d.dataValidator,r))).getOr(r)},iP=(t,r,l)=>{const d=qe=>{const vt=t.getRoot();vt.getSystem().isConnected()&&qe(vt)},Qe={getData:()=>{const qe=t.getRoot(),vt=qe.getSystem().isConnected()?t.getFormWrapper():qe,Ot=yo.getValue(vt),Ct=et(l,$t=>$t.get());return{...Ot,...Ct}},setData:qe=>{d(vt=>{const Ot=Qe.getData(),Ct=At(Ot,qe),$t=oX(t,Ct),Ut=t.getFormWrapper();yo.setValue(Ut,$t),Me(l,(an,un)=>{Wt(Ct,un)&&an.set(Ct[un])})})},setEnabled:(qe,vt)=>{wy(t,qe).each(vt?zo.enable:zo.disable)},focus:qe=>{wy(t,qe).each(Es.focus)},block:qe=>{if(!dt(qe))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");d(vt=>{Xo(vt,T9,{message:qe})})},unblock:()=>{d(qe=>{Hs(qe,FS)})},showTab:qe=>{d(vt=>{const Ot=t.getBody();Nc.getState(Ot).get().exists($t=>$t.isTabPanel())&&yn.getCurrent(Ot).each($t=>{J3.showTab($t,qe)})})},redial:qe=>{d(vt=>{const Ot=t.getId(),Ct=r(qe),$t=Ey(Ct.internalDialog.buttons,l);vt.getSystem().broadcastOn([`${N9}-${Ot}`],Ct),vt.getSystem().broadcastOn([`${FM}-${Ot}`],Ct.internalDialog),vt.getSystem().broadcastOn([`${PM}-${Ot}`],Ct.internalDialog),vt.getSystem().broadcastOn([`${$M}-${Ot}`],{...Ct.internalDialog,buttons:$t}),Qe.setData(Ct.initialData)})},close:()=>{d(qe=>{Hs(qe,m6)})},toggleFullscreen:t.toggleFullscreen};return Qe},sX=(t,r,l)=>{const d=_e("dialog"),g=t.internalDialog,v=XF(g.title,d,l),y=Je(g.size),k=Ut=>wy(Ct,Ut),$=Cy(y.get()).toArray(),Y=(Ut,an)=>(y.set(an.internalDialog.size),eP(an.internalDialog.size,Ut),p.some(an)),le=Zq({body:g.body,initialData:g.initialData},d,l,k),Ee=Ey(g.buttons),Fe=nP(Ee),Qe=Dn(Ee.length!==0,aP({buttons:Ee},d,l)),qe=sP(()=>$t,JF(()=>Ot,l.shared.providers,r),l.shared.getSink),vt={id:d,header:v,body:le,footer:Qe,extraClasses:$,extraBehaviours:[Nc.config({channel:`${N9}-${d}`,updateState:Y,initialData:t})],extraStyles:{}},Ot=_y(vt,qe,l),Ct=(()=>{const Ut=()=>{const un=oi.getBody(Ot);return yn.getCurrent(un).getOr(un)},an=()=>{tP(Ot,y.get())};return{getId:ht(d),getRoot:ht(Ot),getBody:()=>oi.getBody(Ot),getFooter:()=>oi.getFooter(Ot),getFormWrapper:Ut,toggleFullscreen:an}})(),$t=iP(Ct,r.redial,Fe);return{dialog:Ot,instanceApi:$t}},dA=(t,r,l,d=!1,g)=>{const v=_e("dialog"),y=_e("dialog-label"),k=_e("dialog-content"),$=t.internalDialog,Y=Nn=>wy(Fn,Nn),le=Je($.size),Ee=Cy(le.get()).toArray(),Fe=(Nn,jo)=>(le.set(jo.internalDialog.size),eP(jo.internalDialog.size,Nn),g(),p.some(jo)),Qe=mr(qq({title:$.title,draggable:!0},v,y,l.shared.providers)),qe=mr(jq({body:$.body,initialData:$.initialData},v,k,l,d,Y)),vt=Ey($.buttons),Ot=nP(vt),Ct=Dn(vt.length!==0,mr(nX({buttons:vt},v,l))),$t=sP(()=>$n,{onBlock:Nn=>{wn.block(un,(jo,Po)=>{const Zs=Qe.getOpt(un).map(ss=>Yr(ss.element));return QF(Nn.message,Po,l.shared.providers,Zs)})},onUnblock:()=>{wn.unblock(un)},onClose:()=>r.closeWindow()},l.shared.getSink),Ut="tox-dialog-inline",an=ca().os,un=C({dom:{tag:"div",classes:["tox-dialog",Ut,...Ee],attributes:{role:"dialog",...an.isMacOS()?{"aria-label":$.title}:{"aria-labelledby":y}}},eventOrder:{[Ff()]:[Nc.name(),sd.name()],[Yc()]:["execute-on-form"],[xu()]:["reflecting","execute-on-form"]},behaviours:Yn([Ho.config({mode:"cyclic",onEscape:Nn=>(Hs(Nn,m6),p.some(!0)),useTabstopAt:Nn=>!A4(Nn)&&(el(Nn)!=="button"||Ua(Nn,"disabled")!=="disabled"),firstTabstop:1}),Nc.config({channel:`${N9}-${v}`,updateState:Fe,initialData:t}),Es.config({}),Cs("execute-on-form",$t.concat([ym(wc(),(Nn,jo)=>{Ho.focusIn(Nn)}),xn(am(),(Nn,jo)=>{Nn.getSystem().broadcastOn([R9],{newFocus:jo.event.newFocus})})])),wn.config({getRoot:()=>p.some(un)}),ws.config({}),d2({})]),components:[Qe.asSpec(),qe.asSpec(),...Ct.map(Nn=>Nn.asSpec()).toArray()]}),uo=()=>{tP(un,le.get())},Fn={getId:ht(v),getRoot:ht(un),getFooter:()=>Ct.map(Nn=>Nn.get(un)),getBody:()=>qe.get(un),getFormWrapper:()=>{const Nn=qe.get(un);return yn.getCurrent(Nn).getOr(Nn)},toggleFullscreen:uo},$n=iP(Fn,r.redial,Ot);return{dialog:un,instanceApi:$n}};var uA=tinymce.util.Tools.resolve("tinymce.util.URI");const rX=t=>{const r=y=>{t.getSystem().isConnected()&&y(t)};return{block:y=>{if(!dt(y))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(k=>{Xo(k,T9,{message:y})})},unblock:()=>{r(y=>{Hs(y,FS)})},close:()=>{r(y=>{Hs(y,m6)})},sendMessage:y=>{r(k=>{k.getSystem().broadcastOn([HM],y)})}}},aX=["insertContent","setContent","execCommand","close","block","unblock"],lP=t=>Ft(t)&&aX.indexOf(t.mceAction)!==-1,iX=t=>!lP(t)&&Ft(t)&&Wt(t,"mceAction"),lX=(t,r,l)=>{switch(l.mceAction){case"insertContent":t.insertContent(l.content);break;case"setContent":t.setContent(l.content);break;case"execCommand":const d=ve(l.ui)?l.ui:!1;t.execCommand(l.cmd,d,l.value);break;case"close":r.close();break;case"block":r.block(l.message);break;case"unblock":r.unblock();break}},cX=(t,r,l,d)=>{const g=_e("dialog"),v=XF(t.title,g,d),y=Gq(t),k=t.buttons.bind(Ut=>Ut.length===0?p.none():p.some(aP({buttons:Ut},g,d))),$=Qq(()=>$t,JF(()=>Ct,d.shared.providers,r)),Y={...t.height.fold(()=>({}),Ut=>({height:Ut+"px","max-height":Ut+"px"})),...t.width.fold(()=>({}),Ut=>({width:Ut+"px","max-width":Ut+"px"}))},le=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],Ee=new uA(t.url,{base_uri:new uA(window.location.href)}),Fe=`${Ee.protocol}://${Ee.host}${Ee.port?":"+Ee.port:""}`,Qe=Go(),qe=(Ut,an)=>p.some(an),vt=[Nc.config({channel:`${N9}-${g}`,updateState:qe,initialData:t}),Cs("messages",[Wr(()=>{const Ut=Qs(cn.fromDom(window),"message",an=>{if(Ee.isSameOrigin(new uA(an.raw.origin))){const un=an.raw.data;lP(un)?lX(l,$t,un):iX(un)&&t.onMessage($t,un)}});Qe.set(Ut)}),wu(Qe.clear)]),sd.config({channels:{[HM]:{onReceive:(Ut,an)=>{pr(Ut.element,"iframe").each(un=>{const uo=un.dom.contentWindow;Ao(uo)&&uo.postMessage(an,Fe)})}}}})],Ct=_y({id:g,header:v,body:y,footer:k,extraClasses:le,extraBehaviours:vt,extraStyles:Y},$,d),$t=rX(Ct);return{dialog:Ct,instanceApi:$t}},dX=t=>{const r=t.shared;return{open:(d,g)=>{const v=()=>{oi.hide(Y),g()},y=mr(y6({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:p.some("primary"),align:"end",enabled:!0,icon:p.none()},"cancel",t)),k=KF(),$=WF(v,r.providers),Y=C(aA({lazySink:()=>r.getSink(),header:VF(k,$),body:jF(d,r.providers),footer:p.some(ZF(GF([],[y.asSpec()]))),onEscape:v,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xn(rh,v)],eventOrder:{}}));oi.show(Y);const le=y.get(Y);Es.focus(le)}}},cP=t=>{const r=t.shared;return{open:(d,g)=>{const v=Fe=>{oi.hide(le),g(Fe)},y=mr(y6({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:p.some("primary"),align:"end",enabled:!0,icon:p.none()},"submit",t)),k=y6({context:"any",name:"no",text:"No",primary:!1,buttonType:p.some("secondary"),align:"end",enabled:!0,icon:p.none()},"cancel",t),$=KF(),Y=WF(()=>v(!1),r.providers),le=C(aA({lazySink:()=>r.getSink(),header:VF($,Y),body:jF(d,r.providers),footer:p.some(ZF(GF([],[k,y.asSpec()]))),onEscape:()=>v(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xn(rh,()=>v(!1)),xn(T4,()=>v(!0))],eventOrder:{}}));oi.show(le);const Ee=y.get(le);Es.focus(Ee)}}},fA=(t,r)=>Sd(ra("data",r,t)),dP=t=>_p(t,".tox-alert-dialog")||_p(t,".tox-confirm-dialog"),pA=(t,r,l,d)=>r&&l?[]:[ea.config({contextual:{lazyContext:()=>p.some(ha(cn.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:d},modes:["top"],lazyViewport:g=>Ym(t,g.element).map(y=>({bounds:$0(y),optScrollEnv:p.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Ni(y.element).top})})).getOrThunk(()=>({bounds:ol(),optScrollEnv:p.none()}))})],B6=t=>{const r=t.editor,l=t4(r),d=dX(t.backstages.dialog),g=cP(t.backstages.dialog),v=(qe,vt,Ot)=>{if(!es(vt)){if(vt.inline==="toolbar")return Y(qe,t.backstages.popup.shared.anchors.inlineDialog(),Ot,vt);if(vt.inline==="bottom")return le(qe,t.backstages.popup.shared.anchors.inlineBottomDialog(),Ot,vt);if(vt.inline==="cursor")return Y(qe,t.backstages.popup.shared.anchors.cursor(),Ot,vt)}return $(qe,Ot)},y=(qe,vt)=>k(qe,vt),k=(qe,vt)=>{const Ot=Ct=>{const $t=cX(Ct,{closeWindow:()=>{oi.hide($t.dialog),vt($t.instanceApi)}},r,t.backstages.dialog);return oi.show($t.dialog),$t.instanceApi};return Q0.openUrl(Ot,qe)},$=(qe,vt)=>{const Ot=(Ct,$t,Ut)=>{const an=$t,uo=sX({dataValidator:Ut,initialData:an,internalDialog:Ct},{redial:Q0.redial,closeWindow:()=>{oi.hide(uo.dialog),vt(uo.instanceApi)}},t.backstages.dialog);return oi.show(uo.dialog),uo.instanceApi.setData(an),uo.instanceApi};return Q0.open(Ot,qe)},Y=(qe,vt,Ot,Ct)=>{const $t=(Ut,an,un)=>{const uo=fA(an,un),Fn=Do(),$n=t.backstages.popup.shared.header.isPositionedAtTop(),Nn={dataValidator:un,initialData:uo,internalDialog:Ut},jo=()=>Fn.on(Ln=>{oa.reposition(Ln),(!l||!$n)&&ea.refresh(Ln)}),Po=dA(Nn,{redial:Q0.redial,closeWindow:()=>{Fn.on(oa.hide),r.off("ResizeEditor",jo),r.off("ScrollWindow",Zs),Fn.clear(),Ot(Po.instanceApi)}},t.backstages.popup,Ct.ariaAttrs,jo),Zs=()=>Po.dialog.getSystem().broadcastOn([Mr()],{target:Po.dialog.element}),ss=()=>Po.dialog.getSystem().broadcastOn([Kf()],{target:Po.dialog.element}),ks=C(oa.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ct.persistent?{event:"doNotDismissYet"}:{},...$n?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Yn([Cs("window-manager-inline-events",[xn(Rp(),(Ln,no)=>{Hs(Po.dialog,rh)})]),...pA(r,l,$n,ss)]),isExtraPart:(Ln,no)=>dP(no)}));Fn.set(ks);const Io=()=>{const Ln=r.inline?gc():cn.fromDom(r.getContainer()),no=ha(Ln);return p.some(no)};return oa.showWithinBounds(ks,T(Po.dialog),{anchor:vt},Io),(!l||!$n)&&(ea.refresh(ks),r.on("ResizeEditor",jo)),r.on("ScrollWindow",Zs),Po.instanceApi.setData(uo),Ho.focusIn(Po.dialog),Po.instanceApi};return Q0.open($t,qe)},le=(qe,vt,Ot,Ct)=>{const $t=(Ut,an,un)=>{const uo=fA(an,un),Fn=Do(),$n=t.backstages.popup.shared.header.isPositionedAtTop(),Nn={dataValidator:un,initialData:uo,internalDialog:Ut},jo=()=>Fn.on(ks=>{oa.reposition(ks),ea.refresh(ks)}),Po=dA(Nn,{redial:Q0.redial,closeWindow:()=>{Fn.on(oa.hide),r.off("ResizeEditor ScrollWindow ElementScroll",jo),Fn.clear(),Ot(Po.instanceApi)}},t.backstages.popup,Ct.ariaAttrs,jo),Zs=C(oa.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ct.persistent?{event:"doNotDismissYet"}:{},...$n?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Yn([Cs("window-manager-inline-events",[xn(Rp(),(ks,Io)=>{Hs(Po.dialog,rh)})]),ea.config({contextual:{lazyContext:()=>p.some(ha(cn.fromDom(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ks=>Ym(r,ks.element).map(Ln=>({bounds:$0(Ln),optScrollEnv:p.some({currentScrollTop:Ln.element.dom.scrollTop,scrollElmTop:Ni(Ln.element).top})})).getOrThunk(()=>({bounds:ol(),optScrollEnv:p.none()}))})]),isExtraPart:(ks,Io)=>dP(Io)}));Fn.set(Zs);const ss=()=>t.backstages.popup.shared.getSink().toOptional().bind(ks=>{const Io=Ym(r,ks.element),Ln=15,no=Io.map($o=>$0($o)).getOr(ol()),is=ha(cn.fromDom(r.getContentAreaContainer())),Os=Sp(is,no);return p.some(Ka(Os.x,Os.y,Os.width,Os.height-Ln))});return oa.showWithinBounds(Zs,T(Po.dialog),{anchor:vt},ss),ea.refresh(Zs),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",jo),Po.instanceApi.setData(uo),Ho.focusIn(Po.dialog),Po.instanceApi};return Q0.open($t,qe)};return{open:v,openUrl:y,alert:(qe,vt)=>{d.open(qe,vt)},close:qe=>{qe.close()},confirm:(qe,vt)=>{g.open(qe,vt)}}},gA=t=>{PD(t),GK(t),QT(t)};var Sy=()=>{tp.add("silver",t=>{gA(t);let r=()=>ol();const{dialogs:l,popups:d,renderUI:g}=zq(t,{getPopupSinkBounds:()=>r()}),v=()=>{const le=g();return Ym(t,d.getMothership().element).each(Fe=>{r=()=>$0(Fe)}),le};Cj.register(t,d.backstage.shared);const y=B6({editor:t,backstages:{popup:d.backstage,dialog:l.backstage}}),k=Do(),$=()=>mV(t,{backstage:d.backstage},d.getMothership(),k),Y=()=>pr(cn.fromDom(t.getContainer()),".tox-promotion").map(le=>le.dom).getOrNull();return{renderUI:v,getWindowManagerImpl:ht(y),getNotificationManagerImpl:$,getPromotionElement:Y}})};Sy()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.ModelManager");const R=(u,m,C)=>{var T;return C(u,m.prototype)?!0:((T=u.constructor)===null||T===void 0?void 0:T.name)===m.name},x=u=>{const m=typeof u;return u===null?"null":m==="object"&&Array.isArray(u)?"array":m==="object"&&R(u,String,(C,T)=>T.isPrototypeOf(C))?"string":m},ce=u=>m=>x(m)===u,ke=u=>m=>typeof m===u,He=u=>m=>u===m,je=ce("string"),dt=ce("object"),Ft=ce("array"),Oe=He(null),pn=ke("boolean"),On=He(void 0),ve=u=>u==null,es=u=>!ve(u),_o=ke("function"),Ao=ke("number"),jt=()=>{},Zo=(u,m)=>(...C)=>u(m.apply(null,C)),Xt=(u,m)=>C=>u(m(C)),lt=u=>()=>u,Xn=u=>u,gs=(u,m)=>u===m;function Eo(u,...m){return(...C)=>{const T=m.concat(C);return u.apply(null,T)}}const ht=u=>m=>!u(m),oo=u=>()=>{throw new Error(u)},Ls=u=>u(),us=lt(!1),s=lt(!0);class b{constructor(m,C){this.tag=m,this.value=C}static some(m){return new b(!0,m)}static none(){return b.singletonNone}fold(m,C){return this.tag?C(this.value):m()}isSome(){return this.tag}isNone(){return!this.tag}map(m){return this.tag?b.some(m(this.value)):b.none()}bind(m){return this.tag?m(this.value):b.none()}exists(m){return this.tag&&m(this.value)}forall(m){return!this.tag||m(this.value)}filter(m){return!this.tag||m(this.value)?this:b.none()}getOr(m){return this.tag?this.value:m}or(m){return this.tag?this:m}getOrThunk(m){return this.tag?this.value:m()}orThunk(m){return this.tag?this:m()}getOrDie(m){if(this.tag)return this.value;throw new Error(m??"Called getOrDie on None")}static from(m){return es(m)?b.some(m):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(m){this.tag&&m(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(!1);const B=Array.prototype.slice,ge=Array.prototype.indexOf,a=Array.prototype.push,p=(u,m)=>ge.call(u,m),M=(u,m)=>p(u,m)>-1,L=(u,m)=>{for(let C=0,T=u.length;C<T;C++){const X=u[C];if(m(X,C))return!0}return!1},A=(u,m)=>{const C=[];for(let T=0;T<u;T++)C.push(m(T));return C},O=(u,m)=>{const C=u.length,T=new Array(C);for(let X=0;X<C;X++){const ue=u[X];T[X]=m(ue,X)}return T},z=(u,m)=>{for(let C=0,T=u.length;C<T;C++){const X=u[C];m(X,C)}},Q=(u,m)=>{for(let C=u.length-1;C>=0;C--){const T=u[C];m(T,C)}},H=(u,m)=>{const C=[],T=[];for(let X=0,ue=u.length;X<ue;X++){const De=u[X];(m(De,X)?C:T).push(De)}return{pass:C,fail:T}},P=(u,m)=>{const C=[];for(let T=0,X=u.length;T<X;T++){const ue=u[T];m(ue,T)&&C.push(ue)}return C},j=(u,m,C)=>(Q(u,(T,X)=>{C=m(C,T,X)}),C),K=(u,m,C)=>(z(u,(T,X)=>{C=m(C,T,X)}),C),ee=(u,m,C)=>{for(let T=0,X=u.length;T<X;T++){const ue=u[T];if(m(ue,T))return b.some(ue);if(C(ue,T))break}return b.none()},w=(u,m)=>ee(u,m,us),xe=(u,m)=>{for(let C=0,T=u.length;C<T;C++){const X=u[C];if(m(X,C))return b.some(C)}return b.none()},be=u=>{const m=[];for(let C=0,T=u.length;C<T;++C){if(!Ft(u[C]))throw new Error("Arr.flatten item "+C+" was not an array, input: "+u);a.apply(m,u[C])}return m},re=(u,m)=>be(O(u,m)),se=(u,m)=>{for(let C=0,T=u.length;C<T;++C){const X=u[C];if(m(X,C)!==!0)return!1}return!0},ie=u=>{const m=B.call(u,0);return m.reverse(),m},D=(u,m)=>{const C={};for(let T=0,X=u.length;T<X;T++){const ue=u[T];C[String(ue)]=m(ue,T)}return C},U=(u,m)=>{const C=B.call(u,0);return C.sort(m),C},V=(u,m)=>m>=0&&m<u.length?b.some(u[m]):b.none(),I=u=>V(u,0),N=u=>V(u,u.length-1),ne=(u,m)=>{for(let C=0;C<u.length;C++){const T=m(u[C],C);if(T.isSome())return T}return b.none()},G=Object.keys,q=Object.hasOwnProperty,de=(u,m)=>{const C=G(u);for(let T=0,X=C.length;T<X;T++){const ue=C[T],De=u[ue];m(De,ue)}},Le=(u,m)=>Ae(u,(C,T)=>({k:T,v:m(C,T)})),Ae=(u,m)=>{const C={};return de(u,(T,X)=>{const ue=m(T,X);C[ue.k]=ue.v}),C},we=u=>(m,C)=>{u[C]=m},Pe=(u,m,C,T)=>{de(u,(X,ue)=>{(m(X,ue)?C:T)(X,ue)})},We=(u,m)=>{const C={};return Pe(u,m,we(C),jt),C},ut=(u,m)=>{const C=[];return de(u,(T,X)=>{C.push(m(T,X))}),C},nt=u=>ut(u,Xn),ot=(u,m)=>Me(u,m)?b.from(u[m]):b.none(),Me=(u,m)=>q.call(u,m),et=(u,m)=>Me(u,m)&&u[m]!==void 0&&u[m]!==null,Ve=u=>{for(const m in u)if(q.call(u,m))return!1;return!0},Xe={generate:u=>{if(!Ft(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");const m=[],C={};return z(u,(T,X)=>{const ue=G(T);if(ue.length!==1)throw new Error("one and only one name per case");const De=ue[0],Ye=T[De];if(C[De]!==void 0)throw new Error("duplicate key detected:"+De);if(De==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ft(Ye))throw new Error("case arguments must be an array");m.push(De),C[De]=(...ct)=>{const Dt=ct.length;if(Dt!==Ye.length)throw new Error("Wrong number of arguments to case "+De+". Expected "+Ye.length+" ("+Ye+"), got "+Dt);return{fold:(...wn)=>{if(wn.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+wn.length);return wn[X].apply(null,ct)},match:wn=>{const to=G(wn);if(m.length!==to.length)throw new Error("Wrong number of arguments to match. Expected: "+m.join(",")+`
Actual: `+to.join(","));if(!se(m,Wo=>M(to,Wo)))throw new Error("Not all branches were specified when using match. Specified: "+to.join(", ")+`
Required: `+m.join(", "));return wn[De].apply(null,ct)},log:wn=>{console.log(wn,{constructors:m,constructor:De,params:ct})}}}}),C}},$e=u=>{let m=u;return{get:()=>m,set:X=>{m=X}}},tt=u=>u.slice(0).sort(),_t=(u,m)=>{throw new Error("All required keys ("+tt(u).join(", ")+") were not specified. Specified keys were: "+tt(m).join(", ")+".")},mt=u=>{throw new Error("Unsupported keys for object: "+tt(u).join(", "))},Lt=(u,m)=>{if(!Ft(m))throw new Error("The "+u+" fields must be an array. Was: "+m+".");z(m,C=>{if(!je(C))throw new Error("The value "+C+" in the "+u+" fields was not a string.")})},Rt=(u,m)=>{throw new Error("All values need to be of type: "+m+". Keys ("+tt(u).join(", ")+") were not.")},Wt=u=>{const m=tt(u);w(m,(T,X)=>X<m.length-1&&T===m[X+1]).each(T=>{throw new Error("The field: "+T+" occurs more than once in the combined fields: ["+m.join(", ")+"].")})},Zt=(u,m)=>kn(u,m,{validate:_o,label:"function"}),kn=(u,m,C)=>{if(m.length===0)throw new Error("You must specify at least one required field.");return Lt("required",m),Wt(m),T=>{const X=G(T);se(m,Ye=>M(X,Ye))||_t(m,X),u(m,X);const De=P(m,Ye=>!C.validate(T[Ye],Ye));return De.length>0&&Rt(De,C.label),T}},Jn=(u,m)=>{const C=P(m,T=>!M(u,T));C.length>0&&mt(C)},Je=u=>Zt(Jn,u),wt=u=>{const m=ue=>ue(u),C=lt(u),T=()=>X,X={tag:!0,inner:u,fold:(ue,De)=>De(u),isValue:s,isError:us,map:ue=>bn.value(ue(u)),mapError:T,bind:m,exists:m,forall:m,getOr:C,or:T,getOrThunk:C,orThunk:T,getOrDie:C,each:ue=>{ue(u)},toOptional:()=>b.some(u)};return X},It=u=>{const m=()=>C,C={tag:!1,inner:u,fold:(T,X)=>T(u),isValue:us,isError:s,map:m,mapError:T=>bn.error(T(u)),bind:m,exists:us,forall:s,getOr:Xn,or:Xn,getOrThunk:Ls,orThunk:Ls,getOrDie:oo(String(u)),each:jt,toOptional:b.none};return C},bn={value:wt,error:It,fromOption:(u,m)=>u.fold(()=>It(m),wt)},Tn=typeof window<"u"?window:Function("return this;")(),Mn=u=>{const m=u.replace(/\./g,"-");return{resolve:T=>m+"-"+T}},vn=(u,m,C=gs)=>u.exists(T=>C(T,m)),Hn=u=>{const m=[],C=T=>{m.push(T)};for(let T=0;T<u.length;T++)u[T].each(C);return m},wo=(u,m)=>u!=null?m(u):b.none(),ro=(u,m)=>u?b.some(m):b.none(),qo=(u,m)=>{let C=m??Tn;for(let T=0;T<u.length&&C!==void 0&&C!==null;++T)C=C[u[T]];return C},zn=(u,m)=>{const C=u.split(".");return qo(C,m)},ls=u=>{const m=$e(b.none()),C=()=>m.get().each(u);return{clear:()=>{C(),m.set(b.none())},isSet:()=>m.get().isSome(),get:()=>m.get(),set:Ye=>{C(),m.set(b.some(Ye))}}},ms=()=>{const u=ls(jt);return{...u,on:C=>u.get().each(C)}},Et=(u,m)=>u.substring(m),fe=(u,m,C)=>m===""||u.length>=m.length&&u.substr(C,C+m.length)===m,Z=(u,m)=>ye(u,m)?Et(u,m.length):u,ae=(u,m,C=0,T)=>{const X=u.indexOf(m,C);return X!==-1?On(T)?!0:X+m.length<=T:!1},ye=(u,m)=>fe(u,m,0),Ce=(u,m)=>fe(u,m,u.length-m.length),Re=(u=>m=>m.replace(u,""))(/^\s+|\s+$/g),J=u=>u.length>0,pe=u=>{const m=parseFloat(u);return isNaN(m)?b.none():b.some(m)},me=(u,m)=>{let C=null;const T=()=>{Oe(C)||(clearTimeout(C),C=null)};return{cancel:T,throttle:(...ue)=>{T(),C=setTimeout(()=>{C=null,u.apply(null,ue)},m)}}},_e=u=>{let m=!1,C;return(...T)=>(m||(m=!0,C=u.apply(null,T)),C)},Ke=" ",ft=["tfoot","thead","tbody","colgroup"],gt=u=>M(ft,u),At=(u,m)=>({rows:u,columns:m}),zt=(u,m)=>({row:u,column:m}),kt=(u,m,C)=>({element:u,rowspan:m,colspan:C}),Tt=(u,m,C,T)=>({element:u,rowspan:m,colspan:C,isNew:T}),Mt=(u,m,C,T,X,ue)=>({element:u,rowspan:m,colspan:C,row:T,column:X,isLocked:ue}),qt=(u,m,C)=>({element:u,cells:m,section:C}),Qt=(u,m,C,T)=>({element:u,cells:m,section:C,isNew:T}),on=(u,m,C)=>({element:u,isNew:m,isLocked:C}),_n=(u,m,C,T)=>({element:u,cells:m,section:C,isNew:T}),Dn=(u,m,C,T)=>({startRow:u,startCol:m,finishRow:C,finishCol:T}),eo=(u,m,C)=>({element:u,colspan:m,column:C}),hs=(u,m)=>({element:u,columns:m}),Bs=(u,m,C)=>{const T=u.cells,X=T.slice(0,m),ue=T.slice(m),De=X.concat(C).concat(ue);return bs(u,De)},fs=(u,m,C)=>Bs(u,m,[C]),Is=(u,m,C)=>{const T=u.cells;T[m]=C},bs=(u,m)=>_n(u.element,m,u.section,u.isNew),Go=(u,m)=>{const C=u.cells,T=O(C,m);return _n(u.element,T,u.section,u.isNew)},Do=(u,m)=>u.cells[m],zs=(u,m)=>Do(u,m).element,As=u=>u.cells.length,Vs=u=>{const m=H(u,C=>C.section==="colgroup");return{rows:m.fail,cols:m.pass}},go=(u,m,C)=>{const T=O(u.cells,C);return _n(m(u.element),T,u.section,!0)},bo=(u,m)=>{const T=(m||document).createElement("div");if(T.innerHTML=u,!T.hasChildNodes()||T.childNodes.length>1){const X="HTML does not have a single root node";throw console.error(X,u),new Error(X)}return Tr(T.childNodes[0])},io=(u,m)=>{const T=(m||document).createElement(u);return Tr(T)},po=(u,m)=>{const T=(m||document).createTextNode(u);return Tr(T)},Tr=u=>{if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Qn={fromHtml:bo,fromTag:io,fromText:po,fromDom:Tr,fromPoint:(u,m,C)=>b.from(u.dom.elementFromPoint(m,C)).map(Tr)},Ur=(u,m)=>{const C=u.document.createRange();return C.selectNode(m.dom),C},wa=(u,m)=>{const C=u.document.createRange();return Js(C,m),C},Js=(u,m)=>u.selectNodeContents(m.dom),ia=(u,m)=>{m.fold(C=>{u.setStartBefore(C.dom)},(C,T)=>{u.setStart(C.dom,T)},C=>{u.setStartAfter(C.dom)})},Ne=(u,m)=>{m.fold(C=>{u.setEndBefore(C.dom)},(C,T)=>{u.setEnd(C.dom,T)},C=>{u.setEndAfter(C.dom)})},pt=(u,m,C)=>{const T=u.document.createRange();return ia(T,m),Ne(T,C),T},St=(u,m,C,T,X)=>{const ue=u.document.createRange();return ue.setStart(m.dom,C),ue.setEnd(T.dom,X),ue},Pt=u=>({left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}),Jt=u=>{const m=u.getClientRects(),C=m.length>0?m[0]:u.getBoundingClientRect();return C.width>0||C.height>0?b.some(C).map(Pt):b.none()},Vn=Xe.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),jn=(u,m,C)=>m(Qn.fromDom(C.startContainer),C.startOffset,Qn.fromDom(C.endContainer),C.endOffset),vo=(u,m)=>m.match({domRange:C=>({ltr:lt(C),rtl:b.none}),relative:(C,T)=>({ltr:_e(()=>pt(u,C,T)),rtl:_e(()=>b.some(pt(u,T,C)))}),exact:(C,T,X,ue)=>({ltr:_e(()=>St(u,C,T,X,ue)),rtl:_e(()=>b.some(St(u,X,ue,C,T)))})}),mo=(u,m)=>{const C=m.ltr();return C.collapsed?m.rtl().filter(X=>X.collapsed===!1).map(X=>Vn.rtl(Qn.fromDom(X.endContainer),X.endOffset,Qn.fromDom(X.startContainer),X.startOffset)).getOrThunk(()=>jn(u,Vn.ltr,C)):jn(u,Vn.ltr,C)},Uo=(u,m)=>{const C=vo(u,m);return mo(u,C)},cn=(u,m)=>Uo(u,m).match({ltr:(T,X,ue,De)=>{const Ye=u.document.createRange();return Ye.setStart(T.dom,X),Ye.setEnd(ue.dom,De),Ye},rtl:(T,X,ue,De)=>{const Ye=u.document.createRange();return Ye.setStart(ue.dom,De),Ye.setEnd(T.dom,X),Ye}});Vn.ltr,Vn.rtl;const cs=8,ds=9,Ue=11,bt=1,Ht=3,ln=(u,m)=>{const C=u.dom;if(C.nodeType!==bt)return!1;{const T=C;if(T.matches!==void 0)return T.matches(m);if(T.msMatchesSelector!==void 0)return T.msMatchesSelector(m);if(T.webkitMatchesSelector!==void 0)return T.webkitMatchesSelector(m);if(T.mozMatchesSelector!==void 0)return T.mozMatchesSelector(m);throw new Error("Browser lacks native selectors")}},An=u=>u.nodeType!==bt&&u.nodeType!==ds&&u.nodeType!==Ue||u.childElementCount===0,Wn=(u,m)=>{const C=m===void 0?document:m.dom;return An(C)?[]:O(C.querySelectorAll(u),Qn.fromDom)},Yo=(u,m)=>{const C=m===void 0?document:m.dom;return An(C)?b.none():b.from(C.querySelector(u)).map(Qn.fromDom)},Oo=(u,m)=>u.dom===m.dom,So=(u,m)=>{const C=u.dom,T=m.dom;return C===T?!1:C.contains(T)},Te=ln,Ge=(u,m,C,T)=>{const X=u.isiOS()&&/ipad/i.test(C)===!0,ue=u.isiOS()&&!X,De=u.isiOS()||u.isAndroid(),Ye=De||T("(pointer:coarse)"),ct=X||!ue&&De&&T("(min-device-width:768px)"),Dt=ue||De&&!ct,en=m.isSafari()&&u.isiOS()&&/safari/i.test(C)===!1,wn=!Dt&&!ct&&!en;return{isiPad:lt(X),isiPhone:lt(ue),isTablet:lt(ct),isPhone:lt(Dt),isTouch:lt(Ye),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:lt(en),isDesktop:lt(wn)}},xt=(u,m)=>{for(let C=0;C<u.length;C++){const T=u[C];if(T.test(m))return T}},Kt=(u,m)=>{const C=xt(u,m);if(!C)return{major:0,minor:0};const T=X=>Number(m.replace(C,"$"+X));return ps(T(1),T(2))},Cn=(u,m)=>{const C=String(m).toLowerCase();return u.length===0?Ko():Kt(u,C)},Ko=()=>ps(0,0),ps=(u,m)=>({major:u,minor:m}),ir={nu:ps,detect:Cn,unknown:Ko},Or=(u,m)=>ne(m.brands,C=>{const T=C.brand.toLowerCase();return w(u,X=>{var ue;return T===((ue=X.brand)===null||ue===void 0?void 0:ue.toLowerCase())}).map(X=>({current:X.name,version:ir.nu(parseInt(C.version,10),0)}))}),Gr=(u,m)=>{const C=String(m).toLowerCase();return w(u,T=>T.search(C))},Rs=(u,m)=>Gr(u,m).map(C=>{const T=ir.detect(C.versionRegexes,m);return{current:C.name,version:T}}),Sa=(u,m)=>Gr(u,m).map(C=>{const T=ir.detect(C.versionRegexes,m);return{current:C.name,version:T}}),Hi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ta=u=>m=>ae(m,u),Ta=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:u=>ae(u,"edge/")&&ae(u,"chrome")&&ae(u,"safari")&&ae(u,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hi],search:u=>ae(u,"chrome")&&!ae(u,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:u=>ae(u,"msie")||ae(u,"trident")},{name:"Opera",versionRegexes:[Hi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ta("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ta("firefox")},{name:"Safari",versionRegexes:[Hi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:u=>(ae(u,"safari")||ae(u,"mobile/"))&&ae(u,"applewebkit")}],xi=[{name:"Windows",search:ta("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:u=>ae(u,"iphone")||ae(u,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ta("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ta("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ta("linux"),versionRegexes:[]},{name:"Solaris",search:ta("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ta("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ta("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],la={browsers:lt(Ta),oses:lt(xi)},Ji="Edge",zi="Chromium",ml="IE",eu="Opera",l1="Firefox",Rg="Safari",md=()=>Ui({current:void 0,version:ir.unknown()}),Ui=u=>{const m=u.current,C=u.version,T=X=>()=>m===X;return{current:m,version:C,isEdge:T(Ji),isChromium:T(zi),isIE:T(ml),isOpera:T(eu),isFirefox:T(l1),isSafari:T(Rg)}},gh={unknown:md,nu:Ui},C2="Windows",e5="iOS",ql="Android",_2="Linux",E2="macOS",$c="Solaris",t5="FreeBSD",n5="ChromeOS",o5=()=>mh({current:void 0,version:ir.unknown()}),mh=u=>{const m=u.current,C=u.version,T=X=>()=>m===X;return{current:m,version:C,isWindows:T(C2),isiOS:T(e5),isAndroid:T(ql),isMacOS:T(E2),isLinux:T(_2),isSolaris:T($c),isFreeBSD:T(t5),isChromeOS:T(n5)}},hh={unknown:o5,nu:mh},bh={detect:(u,m,C)=>{const T=la.browsers(),X=la.oses(),ue=m.bind(ct=>Or(T,ct)).orThunk(()=>Rs(T,u)).fold(gh.unknown,gh.nu),De=Sa(X,u).fold(hh.unknown,hh.nu),Ye=Ge(De,ue,u,C);return{browser:ue,os:De,deviceType:Ye}}},hd=u=>window.matchMedia(u).matches;let bd=_e(()=>bh.detect(window.navigator.userAgent,b.from(window.navigator.userAgentData),hd));const vd=()=>bd(),s5=(u,m)=>zn(u,m),fr=(u,m)=>{const C=s5(u,m);if(C==null)throw new Error(u+" not available on this browser");return C},w2=Object.getPrototypeOf,S2=u=>fr("HTMLElement",u),vh=u=>{const m=zn("ownerDocument.defaultView",u);return dt(u)&&(S2(m).prototype.isPrototypeOf(u)||/^HTML\w*Element$/.test(w2(u).constructor.name))},ga=u=>u.dom.nodeName.toLowerCase(),J6=u=>u.dom.nodeType,xh=u=>m=>J6(m)===u,r5=u=>J6(u)===cs||ga(u)==="#comment",e8=u=>ca(u)&&vh(u.dom),ca=xh(bt),Cf=xh(Ht),Kn=xh(ds),a5=xh(Ue),Nl=u=>m=>ca(m)&&ga(m)===u,mp=u=>Qn.fromDom(u.dom.ownerDocument),el=u=>Kn(u)?u:mp(u),i5=u=>Qn.fromDom(el(u).dom.documentElement),yt=u=>Qn.fromDom(el(u).dom.defaultView),Bu=u=>b.from(u.dom.parentNode).map(Qn.fromDom),hl=u=>b.from(u.dom.parentElement).map(Qn.fromDom),tu=(u,m)=>{const C=_o(m)?m:us;let T=u.dom;const X=[];for(;T.parentNode!==null&&T.parentNode!==void 0;){const ue=T.parentNode,De=Qn.fromDom(ue);if(X.push(De),C(De)===!0)break;T=ue}return X},Mg=u=>b.from(u.dom.previousSibling).map(Qn.fromDom),Fu=u=>b.from(u.dom.nextSibling).map(Qn.fromDom),bl=u=>O(u.dom.childNodes,Qn.fromDom),Rl=(u,m)=>{const C=u.dom.childNodes;return b.from(C[m]).map(Qn.fromDom)},yh=u=>Rl(u,0),Ch=(u,m,C,T)=>{const ue=mp(u).dom.createRange();return ue.setStart(u.dom,m),ue.setEnd(C.dom,T),ue},Pu=(u,m,C,T)=>{const X=Ch(u,m,C,T),ue=Oo(u,C)&&m===T;return X.collapsed&&!ue},Xl=u=>a5(u)&&es(u.dom.host),_h=u=>Qn.fromDom(u.dom.getRootNode()),Ql=u=>Xl(u)?u:Qn.fromDom(el(u).dom.body),T2=u=>{const m=_h(u);return Xl(m)?b.some(m):b.none()},Ml=u=>Qn.fromDom(u.dom.host),Eh=u=>{if(es(u.target)){const m=Qn.fromDom(u.target);if(ca(m)&&A2(m)&&u.composed&&u.composedPath){const C=u.composedPath();if(C)return I(C)}}return b.from(u.target)},A2=u=>es(u.dom.shadowRoot),Hc=(u,m,C,T,X,ue,De)=>({target:u,x:m,y:C,stop:T,prevent:X,kill:ue,raw:De}),Ws=u=>{const m=Qn.fromDom(Eh(u).getOr(u.target)),C=()=>u.stopPropagation(),T=()=>u.preventDefault(),X=Zo(T,C);return Hc(m,u.clientX,u.clientY,C,T,X,u)},vl=(u,m)=>C=>{u(C)&&m(Ws(C))},_f=(u,m,C,T,X)=>{const ue=vl(C,T);return u.dom.addEventListener(m,ue,X),{unbind:Eo(Fs,u,m,ue,X)}},hp=(u,m,C,T)=>_f(u,m,C,T,!1),Fs=(u,m,C,T)=>{u.dom.removeEventListener(m,C,T)},Ig=s,zc=(u,m,C)=>hp(u,m,Ig,C),Ra=Ws,xl=(u,m)=>{Bu(u).each(T=>{T.dom.insertBefore(m.dom,u.dom)})},da=(u,m)=>{Fu(u).fold(()=>{Bu(u).each(X=>{ua(X,m)})},T=>{xl(T,m)})},Ha=(u,m)=>{yh(u).fold(()=>{ua(u,m)},T=>{u.dom.insertBefore(m.dom,T.dom)})},ua=(u,m)=>{u.dom.appendChild(m.dom)},l5=(u,m,C)=>{Rl(u,C).fold(()=>{ua(u,m)},T=>{xl(T,m)})},nu=(u,m)=>{xl(u,m),ua(m,u)},Vi=(u,m)=>{z(m,(C,T)=>{const X=T===0?u:m[T-1];da(X,C)})},yi=(u,m)=>{z(m,C=>{ua(u,C)})},Bg=(u,m,C)=>{if(je(C)||pn(C)||Ao(C))u.setAttribute(m,C+"");else throw console.error("Invalid call to Attribute.set. Key ",m,":: Value ",C,":: Element ",u),new Error("Attribute value was not simple")},fa=(u,m,C)=>{Bg(u.dom,m,C)},si=(u,m)=>{const C=u.dom;de(m,(T,X)=>{Bg(C,X,T)})},$u=(u,m)=>{de(m,(C,T)=>{C.fold(()=>{Qs(u,T)},X=>{Bg(u.dom,T,X)})})},Jl=(u,m)=>{const C=u.dom.getAttribute(m);return C===null?void 0:C},yl=(u,m)=>b.from(Jl(u,m)),Qs=(u,m)=>{u.dom.removeAttribute(m)},xd=u=>K(u.dom.attributes,(m,C)=>(m[C.name]=C.value,m),{}),Uc=u=>{u.dom.textContent="",z(bl(u),m=>{ri(m)})},ri=u=>{const m=u.dom;m.parentNode!==null&&m.parentNode.removeChild(m)},hr=u=>{const m=bl(u);m.length>0&&Vi(u,m),ri(u)},fc=(u,m)=>Qn.fromDom(u.dom.cloneNode(m)),pc=u=>fc(u,!1),Xa=u=>fc(u,!0),za=(u,m)=>{const C=Qn.fromTag(m),T=xd(u);return si(C,T),C},c1=(u,m)=>{const C=za(u,m),T=bl(Xa(u));return yi(C,T),C},Fg=(u,m)=>{const C=za(u,m);da(u,C);const T=bl(u);return yi(C,T),ri(u),C},ou=(u,m)=>{const T=document.createElement("div");return T.innerHTML=u,bl(Qn.fromDom(T))},tl=u=>O(u,Qn.fromDom),c5=u=>u.dom.innerHTML,k2=u=>{const m=Qn.fromTag("div"),C=Qn.fromDom(u.dom.cloneNode(!0));return ua(m,C),c5(m)},Ef=u=>u.style!==void 0&&_o(u.style.getPropertyValue),os=u=>{const m=Cf(u)?u.dom.parentNode:u.dom;if(m==null||m.ownerDocument===null)return!1;const C=m.ownerDocument;return T2(Qn.fromDom(m)).fold(()=>C.body.contains(m),Xt(os,Ml))},O2=u=>{const m=u.dom.body;if(m==null)throw new Error("Body is not available yet");return Qn.fromDom(m)},Ua=(u,m,C)=>{if(!je(C))throw console.error("Invalid call to CSS.set. Property ",m,":: Value ",C,":: Element ",u),new Error("CSS value must be a string: "+C);Ef(u)&&u.style.setProperty(m,C)},ai=(u,m)=>{Ef(u)&&u.style.removeProperty(m)},ii=(u,m,C)=>{const T=u.dom;Ua(T,m,C)},Kr=(u,m)=>{const C=u.dom;de(m,(T,X)=>{Ua(C,X,T)})},Hu=(u,m)=>{const C=u.dom,X=window.getComputedStyle(C).getPropertyValue(m);return X===""&&!os(u)?Pg(C,m):X},Pg=(u,m)=>Ef(u)?u.style.getPropertyValue(m):"",ec=(u,m)=>{const C=u.dom,T=Pg(C,m);return b.from(T).filter(X=>X.length>0)},Vc=(u,m)=>{const C=u.dom;ai(C,m),vn(yl(u,"style").map(Re),"")&&Qs(u,"style")},$g=(u,m)=>{const C=u.dom,T=m.dom;Ef(C)&&Ef(T)&&(T.style.cssText=C.style.cssText)},bp=(u,m)=>{const C=(Ye,ct)=>{if(!Ao(ct)&&!ct.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ct);const Dt=Ye.dom;Ef(Dt)&&(Dt.style[u]=ct+"px")},T=Ye=>{const ct=m(Ye);if(ct<=0||ct===null){const Dt=Hu(Ye,u);return parseFloat(Dt)||0}return ct},X=T,ue=(Ye,ct)=>K(ct,(Dt,en)=>{const wn=Hu(Ye,en),to=wn===void 0?0:parseInt(wn,10);return isNaN(to)?Dt:Dt+to},0);return{set:C,get:T,getOuter:X,aggregate:ue,max:(Ye,ct,Dt)=>{const en=ue(Ye,Dt);return ct>en?ct-en:0}}},wh=(u,m)=>pe(u).getOr(m),Il=(u,m,C)=>wh(Hu(u,m),C),wf=(u,m,C,T)=>{const X=Il(u,`padding-${C}`,0),ue=Il(u,`padding-${T}`,0),De=Il(u,`border-${C}-width`,0),Ye=Il(u,`border-${T}-width`,0);return m-X-ue-De-Ye},Qa=(u,m)=>{const C=u.dom,T=C.getBoundingClientRect().width||C.offsetWidth;return wf(u,T,"left","right")},yd=u=>Il(u,"height",u.dom.offsetHeight),su=u=>Il(u,"width",u.dom.offsetWidth),Lr=u=>Qa(u),nl=bp("height",u=>{const m=u.dom;return os(u)?m.getBoundingClientRect().height:m.offsetHeight}),gc=u=>nl.get(u),Sh=u=>nl.getOuter(u),Bl=yd,Hg=bp("width",u=>{const m=u.dom;return os(u)?m.getBoundingClientRect().width:m.offsetWidth}),Mo=u=>Hg.get(u),Aa=u=>Hg.getOuter(u),Ja=Lr,pa=su,zu=(u,m)=>({left:u,top:m,translate:(T,X)=>zu(u+T,m+X)}),er=zu,zg=u=>{const m=u.getBoundingClientRect();return er(m.left,m.top)},ru=(u,m)=>u!==void 0?u:m!==void 0?m:0,Ps=u=>{const m=u.dom.ownerDocument,C=m.body,T=m.defaultView,X=m.documentElement;if(C===u.dom)return er(C.offsetLeft,C.offsetTop);const ue=ru(T==null?void 0:T.pageYOffset,X.scrollTop),De=ru(T==null?void 0:T.pageXOffset,X.scrollLeft),Ye=ru(X.clientTop,C.clientTop),ct=ru(X.clientLeft,C.clientLeft);return Ar(u).translate(De-ct,ue-Ye)},Ar=u=>{const m=u.dom,T=m.ownerDocument.body;return T===m?er(T.offsetLeft,T.offsetTop):os(u)?zg(m):er(0,0)},Fl=u=>{const m=u!==void 0?u.dom:document,C=m.body.scrollLeft||m.documentElement.scrollLeft,T=m.body.scrollTop||m.documentElement.scrollTop;return er(C,T)},d1=(u,m,C)=>{const X=(C!==void 0?C.dom:document).defaultView;X&&X.scrollBy(u,m)},Di=((u,m)=>{const C=ue=>{if(!u(ue))throw new Error("Can only get "+m+" value of a "+m+" node");return T(ue).getOr("")},T=ue=>u(ue)?b.from(ue.dom.nodeValue):b.none();return{get:C,getOption:T,set:(ue,De)=>{if(!u(ue))throw new Error("Can only set raw "+m+" value of a "+m+" node");ue.dom.nodeValue=De}}})(Cf,"text"),Uu=u=>Di.get(u),au=u=>Di.getOption(u),u1=(u,m)=>Di.set(u,m),Pl=(u,m)=>C=>Th(C)==="rtl"?m:u,Th=u=>Hu(u,"direction")==="rtl"?"rtl":"ltr",ei=(u,m)=>{const C=Jl(u,m);return C===void 0||C===""?[]:C.split(" ")},f1=(u,m,C)=>{const X=ei(u,m).concat([C]);return fa(u,m,X.join(" ")),!0},vp=(u,m,C)=>{const T=P(ei(u,m),X=>X!==C);return T.length>0?fa(u,m,T.join(" ")):Qs(u,m),!1};var Cd=(u,m,C,T,X)=>u(C,T)?b.some(C):_o(X)&&X(C)?b.none():m(C,T,X);const Dr=(u,m,C)=>{let T=u.dom;const X=_o(C)?C:us;for(;T.parentNode;){T=T.parentNode;const ue=Qn.fromDom(T);if(m(ue))return b.some(ue);if(X(ue))break}return b.none()},L2=(u,m,C)=>Cd((X,ue)=>ue(X),Dr,u,m,C),iu=(u,m)=>{const C=X=>m(Qn.fromDom(X));return w(u.dom.childNodes,C).map(Qn.fromDom)},Ni=(u,m)=>{const C=T=>{for(let X=0;X<T.childNodes.length;X++){const ue=Qn.fromDom(T.childNodes[X]);if(m(ue))return b.some(ue);const De=C(T.childNodes[X]);if(De.isSome())return De}return b.none()};return C(u.dom)},Va=(u,m,C)=>Dr(u,T=>ln(T,m),C),Ri=(u,m)=>iu(u,C=>ln(C,m)),tc=(u,m)=>Yo(m,u),Wa=(u,m,C)=>Cd((X,ue)=>ln(X,ue),Va,u,m,C),Sf=u=>u.dom.classList!==void 0,d5=u=>ei(u,"class"),D2=(u,m)=>f1(u,"class",m),u5=(u,m)=>vp(u,"class",m),Wc=(u,m)=>{Sf(u)?u.dom.classList.add(m):D2(u,m)},N2=u=>{(Sf(u)?u.dom.classList:d5(u)).length===0&&Qs(u,"class")},Tf=(u,m)=>{Sf(u)?u.dom.classList.remove(m):u5(u,m),N2(u)},p1=(u,m)=>Sf(u)&&u.dom.classList.contains(m),xp=(u,m)=>{z(m,C=>{Tf(u,C)})},Ah=u=>Wa(u,"[contenteditable]"),Af=(u,m=!1)=>os(u)?u.dom.isContentEditable:Ah(u).fold(lt(m),C=>yp(C)==="true"),yp=u=>u.dom.contentEditable,R2=u=>m=>{Wc(m,u)},M2=u=>m=>{xp(m,u)},Kc=(u,m,C)=>P(tu(u,C),m),Cp=(u,m)=>P(bl(u),m),g1=(u,m)=>{let C=[];return z(bl(u),T=>{m(T)&&(C=C.concat([T])),C=C.concat(g1(T,m))}),C},pr=(u,m,C)=>Kc(u,T=>ln(T,m),C),nc=(u,m)=>Cp(u,C=>ln(C,m)),mc=(u,m)=>Wn(m,u),kh=(u,m,C,T)=>({parent:u,children:m,element:C,index:T}),m1=u=>Bu(u).bind(m=>{const C=bl(m);return Oh(C,u).map(T=>kh(m,C,u,T))}),Oh=(u,m)=>xe(u,Eo(Oo,m)),Lh=(u,m,C)=>Dr(u,m,C).isSome(),Mi=u=>ga(u)==="img"?1:au(u).fold(()=>bl(u).length,m=>m.length),_d=u=>au(u).filter(m=>m.trim().length!==0||m.indexOf(Ke)>-1).isSome(),na=u=>e8(u)&&Jl(u,"contenteditable")==="false",I2=["img","br"],Vr=u=>_d(u)||M(I2,ga(u))||na(u),Vu=u=>Ni(u,Vr),Ma=u=>$l(u,Vr),$l=(u,m)=>{const C=T=>{const X=bl(T);for(let ue=X.length-1;ue>=0;ue--){const De=X[ue];if(m(De))return b.some(De);const Ye=C(De);if(Ye.isSome())return Ye}return b.none()};return C(u)},h1={create:(u,m,C,T)=>({start:u,soffset:m,finish:C,foffset:T})},Ug=Xe.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dh=(u,m,C,T)=>u.fold(m,C,T),B2=u=>u.fold(Xn,Xn,Xn),b1=Ug.before,jc=Ug.on,Hl=Ug.after,ti={before:b1,on:jc,after:Hl,cata:Dh,getStart:B2},Ia=Xe.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),F2=u=>Ia.exact(u.start,u.soffset,u.finish,u.foffset),_p=u=>u.match({domRange:m=>Qn.fromDom(m.startContainer),relative:(m,C)=>ti.getStart(m),exact:(m,C,T,X)=>m}),Vg=Ia.domRange,Ed=Ia.relative,Wg=Ia.exact,Nh=u=>{const m=_p(u);return yt(m)},W=h1.create,te={domRange:Vg,relative:Ed,exact:Wg,exactFromRange:F2,getWin:Nh,range:W},Ie=(u,m,C)=>{var T;return b.from((T=u.caretPositionFromPoint)===null||T===void 0?void 0:T.call(u,m,C)).bind(X=>{if(X.offsetNode===null)return b.none();const ue=u.createRange();return ue.setStart(X.offsetNode,X.offset),ue.collapse(),b.some(ue)})},at=(u,m,C)=>{var T;return b.from((T=u.caretRangeFromPoint)===null||T===void 0?void 0:T.call(u,m,C))},Nt=(u,m,C)=>u.caretPositionFromPoint?Ie(u,m,C):u.caretRangeFromPoint?at(u,m,C):b.none(),En=(u,m,C)=>{const T=u.document;return Nt(T,m,C).map(X=>h1.create(Qn.fromDom(X.startContainer),X.startOffset,Qn.fromDom(X.endContainer),X.endOffset))},co=(u,m)=>{const C=ga(u);return C==="input"?ti.after(u):M(["br","img"],C)?m===0?ti.before(u):ti.after(u):ti.on(u,m)},Fo=(u,m)=>{const C=u.fold(ti.before,co,ti.after),T=m.fold(ti.before,co,ti.after);return te.relative(C,T)},Ds=(u,m,C,T)=>{const X=co(u,m),ue=co(C,T);return te.relative(X,ue)},$s=u=>b.from(u.getSelection()),Nr=(u,m)=>{$s(u).each(C=>{C.removeAllRanges(),C.addRange(m)})},qr=(u,m,C,T,X)=>{const ue=St(u,m,C,T,X);Nr(u,ue)},ma=(u,m,C,T,X,ue)=>{m.collapse(C.dom,T),m.extend(X.dom,ue)},zl=(u,m)=>Uo(u,m).match({ltr:(C,T,X,ue)=>{qr(u,C,T,X,ue)},rtl:(C,T,X,ue)=>{$s(u).each(De=>{if(De.setBaseAndExtent)De.setBaseAndExtent(C.dom,T,X.dom,ue);else if(De.extend)try{ma(u,De,C,T,X,ue)}catch{qr(u,X,ue,C,T)}else qr(u,X,ue,C,T)})}}),lu=(u,m,C,T,X)=>{const ue=Ds(m,C,T,X);zl(u,ue)},cu=(u,m,C)=>{const T=Fo(m,C);zl(u,T)},hc=u=>{if(u.rangeCount>0){const m=u.getRangeAt(0),C=u.getRangeAt(u.rangeCount-1);return b.some(h1.create(Qn.fromDom(m.startContainer),m.startOffset,Qn.fromDom(C.endContainer),C.endOffset))}else return b.none()},Rh=u=>{if(u.anchorNode===null||u.focusNode===null)return hc(u);{const m=Qn.fromDom(u.anchorNode),C=Qn.fromDom(u.focusNode);return Pu(m,u.anchorOffset,C,u.focusOffset)?b.some(h1.create(m,u.anchorOffset,C,u.focusOffset)):hc(u)}},Ep=(u,m,C=!0)=>{const X=(C?wa:Ur)(u,m);Nr(u,X)},v1=u=>$s(u).filter(m=>m.rangeCount>0).bind(Rh),Wu=u=>v1(u).map(m=>te.exact(m.start,m.soffset,m.finish,m.foffset)),Kg=(u,m)=>{const C=cn(u,m);return Jt(C)},jg=(u,m,C)=>En(u,m,C),Zg=u=>{$s(u).each(m=>m.removeAllRanges())},f5={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},p5=(()=>{const u="[0-9]+",C="[eE]"+("[+-]?"+u),T="\\.",X=Ye=>`(?:${Ye})?`,De=`[+-]?(?:${["Infinity",u+T+X(u)+X(C),T+u+X(C),u+X(C)].join("|")})`;return new RegExp(`^(${De})(.*)$`)})(),Ks=(u,m)=>L(m,C=>L(f5[C],T=>u===T)),Xr=(u,m)=>b.from(p5.exec(u)).bind(T=>{const X=Number(T[1]),ue=T[2];return Ks(ue,m)?b.some({value:X,unit:ue}):b.none()}),Ci=u=>O(u,lt(0)),_l=(u,m,C,T,X)=>X(u.slice(0,m)).concat(T).concat(X(u.slice(C))),Gg=u=>(m,C,T,X)=>{if(u(T)){const ue=Math.max(X,m[C]-Math.abs(T)),De=Math.abs(ue-m[C]);return T>=0?De:-De}else return T},wp=Gg(u=>u<0),Yg=Gg(s),qg=()=>{const u=(Ye,ct,Dt,en,wn)=>{const to=wp(Ye,ct,en,wn);return _l(Ye,ct,Dt+1,[to,0],Ci)},m=(Ye,ct,Dt,en)=>{const wn=(100+Dt)/100,to=Math.max(en,(Ye[ct]+Dt)/wn);return O(Ye,(xo,Wo)=>(Wo===ct?to:xo/wn)-xo)},C=(Ye,ct,Dt,en,wn,to)=>to?m(Ye,ct,en,wn):u(Ye,ct,Dt,en,wn);return{resizeTable:(Ye,ct)=>Ye(ct),clampTableDelta:wp,calcLeftEdgeDeltas:C,calcMiddleDeltas:(Ye,ct,Dt,en,wn,to,xo)=>C(Ye,Dt,en,wn,to,xo),calcRightEdgeDeltas:(Ye,ct,Dt,en,wn,to)=>{if(to)return m(Ye,Dt,en,wn);{const xo=wp(Ye,Dt,en,wn);return Ci(Ye.slice(0,Dt)).concat([xo])}},calcRedestributedWidths:(Ye,ct,Dt,en)=>{if(en){const to=(ct+Dt)/ct,xo=O(Ye,Wo=>Wo/to);return{delta:to*100-100,newSizes:xo}}else return{delta:Dt,newSizes:Ye}}}},t8=()=>{const u=(De,Ye,ct,Dt,en)=>{const wn=Dt>=0?ct:Ye,to=Yg(De,wn,Dt,en);return _l(De,Ye,ct+1,[to,-to],Ci)};return{resizeTable:(De,Ye,ct)=>{ct&&De(Ye)},clampTableDelta:(De,Ye,ct,Dt,en)=>{if(en){if(ct>=0)return ct;{const wn=K(De,(to,xo)=>to+xo-Dt,0);return Math.max(-wn,ct)}}else return wp(De,Ye,ct,Dt)},calcLeftEdgeDeltas:u,calcMiddleDeltas:(De,Ye,ct,Dt,en,wn)=>u(De,ct,Dt,en,wn),calcRightEdgeDeltas:(De,Ye,ct,Dt,en,wn)=>{if(wn)return Ci(De);{const to=Dt/De.length;return O(De,lt(to))}},calcRedestributedWidths:(De,Ye,ct,Dt)=>({delta:0,newSizes:De})}},bc=(u,m,C=0)=>yl(u,m).map(T=>parseInt(T,10)).getOr(C),Mh=(u,m)=>bc(u,m,1),g5=u=>Nl("col")(u)?bc(u,"span",1)>1:Mh(u,"colspan")>1,Vy=u=>Mh(u,"rowspan")>1,Ka=(u,m)=>parseInt(Hu(u,m),10),ha=lt(10),x1=lt(10),Sp=(u,m)=>m5(u,m,s),m5=(u,m,C)=>re(bl(u),T=>ln(T,m)?C(T)?[T]:[]:m5(T,m,C)),ol=(u,m,C=us)=>{if(C(m))return b.none();if(M(u,ga(m)))return b.some(m);const T=X=>ln(X,"table")||C(X);return Va(m,u.join(","),T)},h5=(u,m)=>ol(["td","th"],u,m),y1=u=>Sp(u,"th,td"),Ih=u=>ln(u,"colgroup")?nc(u,"col"):re(vc(u),m=>nc(m,"col")),Ul=(u,m)=>Wa(u,"table",m),ja=u=>Sp(u,"tr"),vc=u=>Ul(u).fold(lt([]),m=>nc(m,"colgroup")),du=Nl("th"),P2=u=>se(u,m=>du(m.element)),Wy=(u,m)=>u&&m?"sectionCells":u?"section":"cells",b5=u=>{const m=u.section==="thead",C=vn(v5(u.cells),"th");return u.section==="tfoot"?{type:"footer"}:m||C?{type:"header",subType:Wy(m,C)}:{type:"body"}},v5=u=>{const m=P(u,C=>du(C.element));return m.length===0?b.some("td"):m.length===u.length?b.some("th"):b.none()},n8=u=>{const m=O(u,X=>b5(X).type),C=M(m,"header"),T=M(m,"footer");if(!C&&!T)return b.some("body");{const X=M(m,"body");return C&&!X&&!T?b.some("header"):!C&&!X&&T?b.some("footer"):b.none()}},C1=u=>ne(u.all,m=>{const C=b5(m);return C.type==="header"?b.from(C.subType):b.none()}),Xg=(u,m)=>O(u,C=>{if(ga(C)==="colgroup"){const T=O(Ih(C),X=>{const ue=bc(X,"span",1);return kt(X,1,ue)});return qt(C,T,"colgroup")}else{const T=O(y1(C),X=>{const ue=bc(X,"rowspan",1),De=bc(X,"colspan",1);return kt(X,ue,De)});return qt(C,T,m(C))}}),Vo=u=>Bu(u).map(m=>{const C=ga(m);return gt(C)?C:"tbody"}).getOr("tbody"),uu=u=>{const m=ja(u),T=[...vc(u),...m];return Xg(T,Vo)},Za=(u,m)=>Xg(u,()=>m),wd="data-snooker-locked-cols",fu=u=>yl(u,wd).bind(m=>b.from(m.match(/\d+/g))).map(m=>D(m,s)),xc=u=>{const m=K(Vs(u).rows,(T,X)=>(z(X.cells,(ue,De)=>{ue.isLocked&&(T[De]=!0)}),T),{}),C=ut(m,(T,X)=>parseInt(X,10));return U(C)},x5=(u,m)=>u+","+m,Tp=(u,m,C)=>b.from(u.access[x5(m,C)]),Ky=(u,m,C)=>{const T=pu(u,X=>C(m,X.element));return T.length>0?b.some(T[0]):b.none()},pu=(u,m)=>{const C=re(u.all,T=>T.cells);return P(C,m)},o8=u=>{const m={};let C=0;return z(u.cells,T=>{const X=T.colspan;A(X,ue=>{const De=C+ue;m[De]=eo(T.element,X,De)}),C+=X}),m},kf=u=>{const m={},C=[],X=I(u).map(xo=>xo.element).bind(Ul).bind(fu).getOr({});let ue=0,De=0,Ye=0;const{pass:ct,fail:Dt}=H(u,xo=>xo.section==="colgroup");z(Dt,xo=>{const Wo=[];z(xo.cells,yn=>{let In=0;for(;m[x5(Ye,In)]!==void 0;)In++;const ns=et(X,In.toString()),Ss=Mt(yn.element,yn.rowspan,yn.colspan,Ye,In,ns);for(let No=0;No<yn.colspan;No++)for(let yr=0;yr<yn.rowspan;yr++){const _r=Ye+yr,Ns=In+No,Da=x5(_r,Ns);m[Da]=Ss,De=Math.max(De,Ns+1)}Wo.push(Ss)}),ue++,C.push(qt(xo.element,Wo,xo.section)),Ye++});const{columns:en,colgroups:wn}=N(ct).map(xo=>{const Wo=o8(xo);return{colgroups:[hs(xo.element,nt(Wo))],columns:Wo}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:At(ue,De),access:m,all:C,columns:en,colgroups:wn}},Ys={fromTable:u=>{const m=uu(u);return kf(m)},generate:kf,getAt:Tp,findItem:Ky,filterItems:pu,justCells:u=>re(u.all,m=>m.cells),justColumns:u=>nt(u.columns),hasColumns:u=>G(u.columns).length>0,getColumnAt:(u,m)=>b.from(u.columns[m])},Qr=(u,m,C)=>on(C(u.element,m),!0,u.isLocked),Bh=(u,m)=>u.section!==m?_n(u.element,u.cells,m,u.isNew):u,s8=()=>({transformRow:Bh,transformCell:(u,m,C)=>{const T=C(u.element,m),X=ga(T)!=="td"?Fg(T,"td"):T;return on(X,u.isNew,u.isLocked)}}),ni=()=>({transformRow:Bh,transformCell:Qr}),Pr=()=>({transformRow:(u,m)=>Bh(u,m==="thead"?"tbody":m),transformCell:Qr}),Ap={getTableSectionType:(u,m)=>{const C=Ys.fromTable(u);switch(C1(C).getOr(m)){case"section":return s8();case"sectionCells":return ni();case"cells":return Pr()}},section:s8,sectionCells:ni,cells:Pr,fallback:()=>({transformRow:Xn,transformCell:Qr})},$2=(u,m=s)=>{const C=u.grid,T=A(C.columns,Xn),X=A(C.rows,Xn);return O(T,ue=>Zc(()=>re(X,Dt=>Ys.getAt(u,Dt,ue).filter(en=>en.column===ue).toArray()),Dt=>Dt.colspan===1&&m(Dt.element),()=>Ys.getAt(u,0,ue)))},Zc=(u,m,C)=>{const T=u();return w(T,m).orThunk(()=>b.from(T[0]).orThunk(C)).map(De=>De.element)},r8=u=>{const m=u.grid,C=A(m.rows,Xn),T=A(m.columns,Xn);return O(C,X=>Zc(()=>re(T,ct=>Ys.getAt(u,X,ct).filter(Dt=>Dt.row===X).fold(lt([]),Dt=>[Dt])),ct=>ct.rowspan===1,()=>Ys.getAt(u,X,0)))},$h=(u,m)=>{if(m<0||m>=u.length-1)return b.none();const C=u[m].fold(()=>{const X=ie(u.slice(0,m));return ne(X,(ue,De)=>ue.map(Ye=>({value:Ye,delta:De+1})))},X=>b.some({value:X,delta:0})),T=u[m+1].fold(()=>{const X=u.slice(m+1);return ne(X,(ue,De)=>ue.map(Ye=>({value:Ye,delta:De+1})))},X=>b.some({value:X,delta:1}));return C.bind(X=>T.map(ue=>{const De=ue.delta+X.delta;return Math.abs(ue.value-X.value)/De}))},a8=(u,m)=>({row:u,y:m}),H2=(u,m)=>({col:u,x:m}),jy=u=>Ps(u).left+Aa(u),Zy=u=>Ps(u).left,C5=(u,m)=>H2(u,Zy(m)),i8=(u,m)=>H2(u,jy(m)),z2=u=>Ps(u).top,Gy=(u,m)=>a8(u,z2(m)),Yy=(u,m)=>a8(u,z2(m)+Sh(m)),Hh=(u,m,C)=>{if(C.length===0)return[];const T=O(C.slice(1),(ue,De)=>ue.map(Ye=>u(De,Ye))),X=C[C.length-1].map(ue=>m(C.length-1,ue));return T.concat([X])},Of=u=>-u,li={delta:Xn,positions:u=>Hh(Gy,Yy,u),edge:z2},ts=Pl({delta:Xn,edge:Zy,positions:u=>Hh(C5,i8,u)},{delta:Of,edge:jy,positions:u=>Hh(i8,C5,u)}),Gc={delta:(u,m)=>ts(m).delta(u,m),positions:(u,m)=>ts(m).positions(u,m),edge:u=>ts(u).edge(u)},Qg=/(\d+(\.\d+)?)%/,Xy=/(\d+(\.\d+)?)px|em/,Qy=Nl("col"),kp=Nl("tr"),l8=(u,m,C)=>{const T=hl(u).getOrThunk(()=>O2(mp(u)));return m(u)/C(T)*100},Lf=(u,m)=>{ii(u,"width",m+"px")},_5=(u,m)=>{ii(u,"width",m+"%")},_1=(u,m)=>{ii(u,"height",m+"px")},E5=u=>{Vc(u,"height")},Jy=u=>Bl(u)+"px",ra=(u,m,C,T)=>{const X=Ul(u).map(ue=>{const De=C(ue);return Math.floor(m/100*De)}).getOr(m);return T(u,X),X},Sd=(u,m,C,T)=>{const X=parseFloat(u);return Ce(u,"%")&&ga(m)!=="table"?ra(m,X,C,T):X},sl=u=>{const m=Jy(u);return m?Sd(m,u,gc,_1):gc(u)},Jg=(u,m,C)=>{const T=C(u),X=Mh(u,m);return T/X},El=(u,m)=>ec(u,m).orThunk(()=>yl(u,m).map(C=>C+"px")),Df=u=>El(u,"width"),ci=u=>El(u,"height"),Wi=u=>l8(u,Mo,Ja),ju=u=>Qy(u)?Math.round(Mo(u)):pa(u),Bn=u=>kp(u)?gc(u):Jg(u,"rowspan",sl),Vl=u=>Df(u).bind(C=>Xr(C,["fixed","relative","empty"])),w5=(u,m,C)=>{ii(u,"width",m+C)},Ga=u=>Mo(u)+"px",Td=u=>gc(u)+"px",Cc=u=>l8(u,Mo,Ja)+"%",eC=u=>Df(u).exists(m=>Qg.test(m)),Nf=u=>Df(u).exists(m=>Xy.test(m)),S5=u=>Df(u).isNone(),_c=lt(Qg),xr=Nl("col"),mu=u=>Df(u).getOrThunk(()=>ju(u)+"px"),em=u=>ci(u).getOrThunk(()=>Bn(u)+"px"),xa=u=>O(Ys.justColumns(u),m=>b.from(m.element)),T5=u=>{const m=vd().browser,C=m.isChromium()||m.isFirefox();return xr(u)?C:!0},A5=(u,m,C,T,X,ue)=>u.filter(T).fold(()=>ue($h(C,m)),De=>X(De)),hu=(u,m,C,T)=>{const X=$2(u),ue=Ys.hasColumns(u)?xa(u):X,De=[b.some(Gc.edge(m))].concat(O(Gc.positions(X,m),ct=>ct.map(Dt=>Dt.x))),Ye=ht(g5);return O(ue,(ct,Dt)=>A5(ct,Dt,De,Ye,en=>{if(T5(en))return C(en);{const wn=wo(X[Dt],Xn);return A5(wn,Dt,De,Ye,to=>T(b.some(Math.round(Mo(to)))),T)}},T))},k5=u=>u.map(m=>m+"px").getOr(""),wl=(u,m)=>hu(u,m,mu,k5),tC=(u,m,C)=>hu(u,m,Wi,T=>T.fold(()=>C.minCellWidth(),X=>X/C.pixelWidth()*100)),tn=(u,m,C)=>hu(u,m,ju,T=>T.getOrThunk(C.minCellWidth)),Sl=(u,m,C,T)=>{const X=r8(u),ue=O(u.all,Ye=>b.some(Ye.element)),De=[b.some(li.edge(m))].concat(O(li.positions(X,m),Ye=>Ye.map(ct=>ct.y)));return O(ue,(Ye,ct)=>A5(Ye,ct,De,s,C,T))},O5=(u,m)=>Sl(u,m,Bn,C=>C.getOrThunk(x1)),aa=(u,m)=>Sl(u,m,em,k5),Ec=(u,m)=>()=>os(u)?m(u):parseFloat(ec(u,"width").getOr("0")),Oa=u=>{const m=Ec(u,Mo),C=lt(0);return{width:m,pixelWidth:m,getWidths:(X,ue)=>tn(X,u,ue),getCellDelta:C,singleColumnWidth:lt([0]),minCellWidth:C,setElementWidth:jt,adjustTableWidth:jt,isRelative:!0,label:"none"}},$r=u=>{const m=Ec(u,ct=>parseFloat(Cc(ct))),C=Ec(u,Mo);return{width:m,pixelWidth:C,getWidths:(ct,Dt)=>tC(ct,u,Dt),getCellDelta:ct=>ct/C()*100,singleColumnWidth:(ct,Dt)=>[100-ct],minCellWidth:()=>ha()/C()*100,setElementWidth:_5,adjustTableWidth:ct=>{const Dt=m(),en=ct/100*Dt,wn=Dt+en;_5(u,wn)},isRelative:!0,label:"percent"}},c8=u=>{const m=Ec(u,Mo);return{width:m,pixelWidth:m,getWidths:(De,Ye)=>tn(De,u,Ye),getCellDelta:Xn,singleColumnWidth:(De,Ye)=>[Math.max(ha(),De+Ye)-De],minCellWidth:ha,setElementWidth:Lf,adjustTableWidth:De=>{const Ye=m()+De;Lf(u,Ye)},isRelative:!1,label:"pixel"}},Rf=(u,m)=>_c().exec(m)!==null?$r(u):c8(u),Op={getTableSize:u=>Df(u).fold(()=>Oa(u),C=>Rf(u,C)),pixelSize:c8,percentageSize:$r,noneSize:Oa},zh=(u,m,C,T)=>{C===T?Qs(u,m):fa(u,m,C)},L5=(u,m,C)=>{N(nc(u,m)).fold(()=>Ha(u,C),T=>da(T,C))},D5=(u,m)=>{const C=Ri(u,m).getOrThunk(()=>{const T=Qn.fromTag(m,mp(u).dom);return m==="thead"?L5(u,"caption,colgroup",T):m==="colgroup"?L5(u,"caption",T):ua(u,T),T});return Uc(C),C},tm=(u,m)=>{const C=[],T=[],X=xo=>O(xo,Wo=>{Wo.isNew&&C.push(Wo.element);const yn=Wo.element;return Uc(yn),z(Wo.cells,In=>{In.isNew&&T.push(In.element),zh(In.element,"colspan",In.colspan,1),zh(In.element,"rowspan",In.rowspan,1),ua(yn,In.element)}),yn}),ue=xo=>re(xo,Wo=>O(Wo.cells,yn=>(zh(yn.element,"span",yn.colspan,1),yn.element))),De=(xo,Wo)=>{const yn=D5(u,Wo),ns=(Wo==="colgroup"?ue:X)(xo);yi(yn,ns)},Ye=xo=>{Ri(u,xo).each(ri)},ct=(xo,Wo)=>{xo.length>0?De(xo,Wo):Ye(Wo)},Dt=[],en=[],wn=[],to=[];return z(m,xo=>{switch(xo.section){case"thead":Dt.push(xo);break;case"tbody":en.push(xo);break;case"tfoot":wn.push(xo);break;case"colgroup":to.push(xo);break}}),ct(to,"colgroup"),ct(Dt,"thead"),ct(en,"tbody"),ct(wn,"tfoot"),{newRows:C,newCells:T}},Uh=u=>O(u,m=>{const C=pc(m.element);return z(m.cells,T=>{const X=Xa(T.element);zh(X,"colspan",T.colspan,1),zh(X,"rowspan",T.rowspan,1),ua(C,X)}),C}),Lp=(u,m)=>O(u,C=>Do(C,m)),Ki=(u,m)=>u[m],N5=(u,m)=>{if(u.length===0)return 0;const C=u[0];return xe(u,X=>!m(C.element,X.element)).getOr(u.length)},Ii=(u,m,C,T)=>{const X=Ki(u,m),ue=X.section==="colgroup",De=N5(X.cells.slice(C),T),Ye=ue?1:N5(Lp(u.slice(m),C),T);return{colspan:De,rowspan:Ye}},Mf=(u,m)=>{const C=O(u,X=>O(X.cells,us)),T=(X,ue,De,Ye)=>{for(let ct=X;ct<X+De;ct++)for(let Dt=ue;Dt<ue+Ye;Dt++)C[ct][Dt]=!0};return O(u,(X,ue)=>{const De=re(X.cells,(Ye,ct)=>{if(C[ue][ct]===!1){const Dt=Ii(u,ue,ct,m);return T(ue,ct,Dt.rowspan,Dt.colspan),[Tt(Ye.element,Dt.rowspan,Dt.colspan,Ye.isNew)]}else return[]});return Qt(X.element,De,X.section,X.isNew)})},If=(u,m,C)=>{const T=[];z(u.colgroups,X=>{const ue=[];for(let De=0;De<u.grid.columns;De++){const Ye=Ys.getColumnAt(u,De).map(ct=>on(ct.element,C,!1)).getOrThunk(()=>on(m.colGap(),!0,!1));ue.push(Ye)}T.push(_n(X.element,ue,"colgroup",C))});for(let X=0;X<u.grid.rows;X++){const ue=[];for(let ct=0;ct<u.grid.columns;ct++){const Dt=Ys.getAt(u,X,ct).map(en=>on(en.element,C,en.isLocked)).getOrThunk(()=>on(m.gap(),!0,!1));ue.push(Dt)}const De=u.all[X],Ye=_n(De.element,ue,De.section,C);T.push(Ye)}return T},E1=(u,m)=>If(u,m,!1),nm=u=>Mf(u,Oo),rl=(u,m)=>ne(u.all,C=>w(C.cells,T=>Oo(m,T.element))),om=(u,m,C)=>{const T=O(m.selection,ue=>h5(ue).bind(De=>rl(u,De)).filter(C)),X=Hn(T);return ro(X.length>0,X)},Ya=(u,m,C,T,X,ue,De,Ye,ct)=>{const Dt=Ys.fromTable(ue),en=b.from(ct==null?void 0:ct.section).getOrThunk(Ap.fallback);return m(Dt,De).map(to=>{const xo=E1(Dt,Ye),Wo=u(xo,to,Oo,X(Ye),en),yn=xc(Wo.grid),In=nm(Wo.grid);return{info:to,grid:In,cursor:Wo.cursor,lockedColumns:yn}}).bind(to=>{const xo=tm(ue,to.grid),Wo=b.from(ct==null?void 0:ct.sizing).getOrThunk(()=>Op.getTableSize(ue)),yn=b.from(ct==null?void 0:ct.resize).getOrThunk(t8);return C(ue,to.grid,to.info,{sizing:Wo,resize:yn,section:en}),T(ue),Qs(ue,wd),to.lockedColumns.length>0&&fa(ue,wd,to.lockedColumns.join(",")),b.some({cursor:to.cursor,newRows:xo.newRows,newCells:xo.newCells})})},R5=(u,m)=>h5(m.element).bind(C=>rl(u,C).map(T=>({...T,generators:m.generators,clipboard:m.clipboard}))),Ad=(u,m)=>om(u,m,s).map(C=>({cells:C,generators:m.generators,clipboard:m.clipboard})),wc=(u,m)=>m.mergable,d8=(u,m)=>m.unmergable,di=(u,m)=>om(u,m,s),sm=(u,m)=>om(u,m,C=>!C.isLocked),Bf=(u,m)=>rl(u,m).exists(C=>!C.isLocked),Zu=(u,m)=>se(m,C=>Bf(u,C)),bu=(u,m)=>wc(u,m).filter(C=>Zu(u,C.cells)),vu=(u,m)=>d8(u,m).filter(C=>Zu(u,C)),Dp={...Xe.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},u8=(u,m)=>u.length===0?Dp.none():u.length===1?Dp.only(0):m===0?Dp.left(0,1):m===u.length-1?Dp.right(m-1,m):m>0&&m<u.length-1?Dp.middle(m-1,m,m+1):Dp.none(),ya=(u,m,C,T,X)=>{const ue=u.slice(0),De=u8(u,m),Ye=lt(O(ue,lt(0))),ct=to=>T.singleColumnWidth(ue[to],C),Dt=(to,xo)=>X.calcLeftEdgeDeltas(ue,to,xo,C,T.minCellWidth(),T.isRelative),en=(to,xo,Wo)=>X.calcMiddleDeltas(ue,to,xo,Wo,C,T.minCellWidth(),T.isRelative),wn=(to,xo)=>X.calcRightEdgeDeltas(ue,to,xo,C,T.minCellWidth(),T.isRelative);return De.fold(Ye,ct,Dt,en,wn)},M5=(u,m,C)=>{let T=0;for(let X=u;X<m;X++)T+=C[X]!==void 0?C[X]:0;return T},oc=(u,m)=>{const C=Ys.justCells(u);return O(C,T=>{const X=M5(T.column,T.column+T.colspan,m);return{element:T.element,width:X,colspan:T.colspan}})},Wh=(u,m)=>{const C=Ys.justColumns(u);return O(C,(T,X)=>({element:T.element,width:m[X],colspan:T.colspan}))},I5=(u,m)=>O(u.all,(C,T)=>({element:C.element,height:m[T]})),Ff=u=>j(u,(m,C)=>m+C,0),Yc=(u,m)=>Ys.hasColumns(u)?Wh(u,m):oc(u,m),w1=(u,m,C)=>{const T=Yc(u,m);z(T,X=>{C.setElementWidth(X.element,X.width)})},Np=(u,m,C,T,X)=>{const ue=Ys.fromTable(u),De=X.getCellDelta(m),Ye=X.getWidths(ue,X),ct=C===ue.grid.columns-1,Dt=T.clampTableDelta(Ye,C,De,X.minCellWidth(),ct),en=ya(Ye,C,Dt,X,T),wn=O(en,(to,xo)=>to+Ye[xo]);w1(ue,wn,X),T.resizeTable(X.adjustTableWidth,Dt,ct)},f8=(u,m,C)=>{const T=Ys.fromTable(u),X=O5(T,u),ue=O(X,(ct,Dt)=>C===Dt?Math.max(m+ct,x1()):ct),De=I5(T,ue);z(De,ct=>{_1(ct.element,ct.height)}),z(Ys.justCells(T),ct=>{E5(ct.element)});const Ye=Ff(ue);_1(u,Ye)},Kh=(u,m,C,T,X)=>{const ue=Ys.generate(m),De=T.getWidths(ue,T),Ye=T.pixelWidth(),{newSizes:ct,delta:Dt}=X.calcRedestributedWidths(De,Ye,C.pixelDelta,T.isRelative);w1(ue,ct,T),T.adjustTableWidth(Dt)},B5=(u,m,C,T)=>{const X=Ys.generate(m),ue=T.getWidths(X,T);w1(X,ue,T)},jh=(u,m)=>{g5(u)||Vl(u).each(T=>{const X=T.value/2;w5(u,X,T.unit),w5(m,X,T.unit)})},p8=(u,m,C)=>{const T=bc(u,m,1);C===1||T<=1?Qs(u,m):fa(u,m,Math.min(C,T))},rm=(u,m)=>C=>{const T=C.column+C.colspan-1,X=C.column;return T>=u&&X<m},Zh=(u,m,C)=>{if(Ys.hasColumns(u)){const T=P(Ys.justColumns(u),rm(m,C)),X=O(T,De=>{const Ye=Xa(De.element);return p8(Ye,"span",C-m),Ye}),ue=Qn.fromTag("colgroup");return yi(ue,X),[ue]}else return[]},Gh=(u,m,C)=>O(u.all,T=>{const X=P(T.cells,rm(m,C)),ue=O(X,Ye=>{const ct=Xa(Ye.element);return p8(ct,"colspan",C-m),ct}),De=Qn.fromTag("tr");return yi(De,ue),De}),xu=(u,m)=>{const C=Ys.fromTable(u);return sm(C,m).map(X=>{const ue=X[X.length-1],De=X[0].column,Ye=ue.column+ue.colspan,ct=Zh(C,De,Ye),Dt=Gh(C,De,Ye);return[...ct,...Dt]})},Pf=(u,m,C)=>{const T=Ys.fromTable(u);return di(T,m).bind(ue=>{const De=If(T,C,!1),ct=Vs(De).rows.slice(ue[0].row,ue[ue.length-1].row+ue[ue.length-1].rowspan),Dt=re(ct,wn=>{const to=P(wn.cells,xo=>!xo.isLocked);return to.length>0?[{...wn,cells:to}]:[]}),en=nm(Dt);return ro(en.length>0,en)}).map(ue=>Uh(ue))},Rp=(u,m,C,T,X,ue)=>({minRow:u,minCol:m,maxRow:C,maxCol:T,allCells:X,selectedCells:ue}),F5=(u,m)=>{const C=u.grid.columns;let X=u.grid.rows,ue=C,De=0,Ye=0;const ct=[],Dt=[];return de(u.access,en=>{if(ct.push(en),m(en)){Dt.push(en);const wn=en.row,to=wn+en.rowspan-1,xo=en.column,Wo=xo+en.colspan-1;wn<X?X=wn:to>De&&(De=to),xo<ue?ue=xo:Wo>Ye&&(Ye=Wo)}}),Rp(X,ue,De,Ye,ct,Dt)},am=(u,m,C)=>{const T=u[C].element,X=Qn.fromTag("td");ua(X,Qn.fromTag("br")),(m?ua:Ha)(T,X)},P5=(u,m,C,T)=>{const X=P(u,Ye=>Ye.section!=="colgroup"),ue=m.grid.columns,De=m.grid.rows;for(let Ye=0;Ye<De;Ye++){let ct=!1;for(let Dt=0;Dt<ue;Dt++)Ye<C.minRow||Ye>C.maxRow||Dt<C.minCol||Dt>C.maxCol||(Ys.getAt(m,Ye,Dt).filter(T).isNone()?am(X,ct,Ye):ct=!0)}},g8=(u,m,C,T)=>{de(C.columns,De=>{(De.column<m.minCol||De.column>m.maxCol)&&ri(De.element)});const X=P(Sp(u,"tr"),De=>De.dom.childElementCount===0);z(X,ri),(m.minCol===m.maxCol||m.minRow===m.maxRow)&&z(Sp(u,"th,td"),De=>{Qs(De,"rowspan"),Qs(De,"colspan")}),Qs(u,wd),Qs(u,"data-snooker-col-series"),Op.getTableSize(u).adjustTableWidth(T)},V2=(u,m,C,T)=>{if(T.minCol===0&&m.grid.columns===T.maxCol+1)return 0;const X=tn(m,u,C),ue=K(X,(Dt,en)=>Dt+en,0),ct=K(X.slice(T.minCol,T.maxCol+1),(Dt,en)=>Dt+en,0)/ue*C.pixelWidth()-C.pixelWidth();return C.getCellDelta(ct)},Yh=(u,m)=>{const C=to=>ln(to.element,m),T=Xa(u),X=uu(T),ue=Op.getTableSize(u),De=Ys.generate(X),Ye=F5(De,C),ct="th:not("+m+"),td:not("+m+")",Dt=m5(T,"th,td",to=>ln(to,ct));z(Dt,ri),P5(X,De,Ye,C);const en=Ys.fromTable(u),wn=V2(u,en,ue,Ye);return g8(T,Ye,De,wn),T},W2=Nl("col"),S1=Nl("colgroup"),$f=u=>ga(u)==="tr"||S1(u),T1=u=>{const m=bc(u,"colspan",1),C=bc(u,"rowspan",1);return{element:u,colspan:m,rowspan:C}},A1=(u,m=T1)=>{const C=Ye=>W2(Ye.element)?u.col(Ye):u.cell(Ye),T=Ye=>S1(Ye.element)?u.colgroup(Ye):u.row(Ye),X=Ye=>{if($f(Ye))return T({element:Ye});{const ct=Ye,Dt=C(m(ct));return ue=b.some({item:ct,replacement:Dt}),Dt}};let ue=b.none();return{getOrInit:(Ye,ct)=>ue.fold(()=>X(Ye),Dt=>ct(Ye,Dt.item)?Dt.replacement:X(Ye))}},$5=u=>m=>{const C=[],T=(De,Ye)=>w(C,ct=>Ye(ct.item,De)),X=De=>{const Ye=u==="td"?{scope:null}:{},ct=m.replace(De,u,Ye);return C.push({item:De,sub:ct}),ct};return{replaceOrInit:(De,Ye)=>{if($f(De)||W2(De))return De;{const ct=De;return T(ct,Ye).fold(()=>X(ct),Dt=>Ye(De,Dt.item)?Dt.sub:X(ct))}}}},K2=u=>yl(u,"scope").map(m=>m.substr(0,3)),ji={modification:A1,transform:$5,merging:u=>({unmerge:T=>{const X=K2(T);return X.each(ue=>fa(T,"scope",ue)),()=>{const ue=u.cell({element:T,colspan:1,rowspan:1});return Vc(ue,"width"),Vc(T,"width"),X.each(De=>fa(ue,"scope",De)),ue}},merge:T=>{const X=()=>{const ue=Hn(O(T,K2));if(ue.length===0)return b.none();{const De=ue[0],Ye=["row","col"];return L(ue,Dt=>Dt!==De&&M(Ye,Dt))?b.none():b.from(De)}};return Vc(T[0],"width"),X().fold(()=>Qs(T[0],"scope"),ue=>fa(T[0],"scope",ue+"group")),lt(T[0])}})},m8=(u,m)=>{const C=u.slice(0,m[m.length-1].row+1),T=nm(C);return re(T,X=>{const ue=X.cells.slice(0,m[m.length-1].column+1);return O(ue,De=>De.element)})},im=(u,m)=>{const C=u.slice(m[0].row+m[0].rowspan-1,u.length),T=nm(C);return re(T,X=>{const ue=X.cells.slice(m[0].column+m[0].colspan-1,X.cells.length);return O(ue,De=>De.element)})},j2=(u,m,C)=>{const T=Ys.fromTable(u);return di(T,m).map(ue=>{const De=If(T,C,!1),{rows:Ye}=Vs(De),ct=m8(Ye,ue),Dt=im(Ye,ue);return{upOrLeftCells:ct,downOrRightCells:Dt}})},kr={only:(u,m)=>{const C=Kn(u)?i5(u):u;return{parent:lt(C),view:lt(u),dragContainer:lt(C),origin:lt(er(0,0)),isResizable:m}},detached:(u,m,C)=>{const T=()=>Ps(m);return{parent:lt(m),view:lt(u),dragContainer:lt(m),origin:T,isResizable:C}},body:(u,m)=>({parent:lt(u),view:lt(u),dragContainer:lt(u),origin:()=>Ps(u),isResizable:m})},qh=Xe.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),v8=(u,m,C)=>{const T=C.substring(0,C.length-u.length),X=parseFloat(T);return T===X.toString()?m(X):qh.invalid(C)},Wl={...qh,from:u=>Ce(u,"%")?v8("%",qh.percent,u):Ce(u,"px")?v8("px",qh.pixels,u):qh.invalid(u)},Xh=(u,m)=>O(u,C=>Wl.from(C).fold(()=>C,X=>X/m*100+"%",X=>X+"%")),Us=(u,m,C)=>{const T=C/m;return O(u,X=>Wl.from(X).fold(()=>X,De=>De*T+"px",De=>De/100*C+"px"))},sc=(u,m)=>{const C=u.fold(()=>lt(""),T=>{const X=T/m;return lt(X+"px")},()=>{const T=100/m;return lt(T+"%")});return A(m,C)},Qh=(u,m,C)=>u.fold(()=>m,T=>Us(m,C,T),T=>Xh(m,C)),Z2=(u,m,C)=>{const T=Wl.from(C),X=se(u,ue=>ue==="0px")?sc(T,u.length):Qh(T,u,m);return $A(X)},Rr=(u,m)=>u.length===0?m:j(u,(C,T)=>Wl.from(T).fold(lt(0),Xn,Xn)+C,0),G2=(u,m)=>{const C=Math.floor(u);return{value:C+m,remainder:u-C}},H5=(u,m)=>Wl.from(u).fold(lt(u),C=>C+m+"px",C=>C+m+"%"),$A=u=>{if(u.length===0)return u;const m=j(u,(T,X)=>{const ue=Wl.from(X).fold(()=>({value:X,remainder:0}),De=>G2(De,"px"),De=>({value:De+"%",remainder:0}));return{output:[ue.value].concat(T.output),remainder:T.remainder+ue.remainder}},{output:[],remainder:0}),C=m.output;return C.slice(0,C.length-1).concat([H5(C[C.length-1],Math.round(m.remainder))])},y8=Wl.from,C8=(u,m,C)=>{z(m,T=>{const X=u.slice(T.column,T.colspan+T.column),ue=Rr(X,ha());ii(T.element,"width",ue+C)})},HA=(u,m,C)=>{z(m,(T,X)=>{const ue=Rr([u[X]],ha());ii(T.element,"width",ue+C)})},nC=(u,m,C)=>{z(C,T=>{Vc(T.element,"height")}),z(m,(T,X)=>{ii(T.element,"height",u[X])})},oC=u=>y8(u).fold(lt("px"),lt("px"),lt("%")),_8=(u,m,C)=>{const T=Ys.fromTable(u),X=T.all,ue=Ys.justCells(T),De=Ys.justColumns(T);m.each(Ye=>{const ct=oC(Ye),Dt=Mo(u),en=wl(T,u),wn=Z2(en,Dt,Ye);Ys.hasColumns(T)?HA(wn,De,ct):C8(wn,ue,ct),ii(u,"width",Ye)}),C.each(Ye=>{const ct=gc(u),Dt=aa(T,u),en=Z2(Dt,ct,Ye);nC(en,X,ue),ii(u,"height",Ye)})},qc=eC,Zi=Nf,lm=S5;var Sc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Gu=()=>{const u=Dt=>Qn.fromDom(Dt.dom.cloneNode(!1)),m=Dt=>el(Dt).dom,C=Dt=>ca(Dt)?ga(Dt)==="body"?!0:M(Sc,ga(Dt)):!1,T=Dt=>ca(Dt)?M(["br","img","hr","input"],ga(Dt)):!1,X=Dt=>ca(Dt)&&Jl(Dt,"contenteditable")==="false",ue=(Dt,en)=>Dt.dom.compareDocumentPosition(en.dom),De=(Dt,en)=>{const wn=xd(Dt);si(en,wn)},Ye=Dt=>{const en=ga(Dt);return M(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],en)},ct=Dt=>ca(Dt)?yl(Dt,"lang"):b.none();return{up:lt({selector:Va,closest:Wa,predicate:Dr,all:tu}),down:lt({selector:mc,predicate:g1}),styles:lt({get:Hu,getRaw:ec,set:ii,remove:Vc}),attrs:lt({get:Jl,set:fa,remove:Qs,copyTo:De}),insert:lt({before:xl,after:da,afterAll:Vi,append:ua,appendAll:yi,prepend:Ha,wrap:nu}),remove:lt({unwrap:hr,remove:ri}),create:lt({nu:Qn.fromTag,clone:u,text:Qn.fromText}),query:lt({comparePosition:ue,prevSibling:Mg,nextSibling:Fu}),property:lt({children:bl,name:ga,parent:Bu,document:m,isText:Cf,isComment:r5,isElement:ca,isSpecial:Ye,getLanguage:ct,getText:Uu,setText:u1,isBoundary:C,isEmptyTag:T,isNonEditable:X}),eq:Oo,is:Te}};const Yu=(u,m)=>({item:u,mode:m}),k1=(u,m,C,T=qu)=>u.property().parent(m).map(X=>Yu(X,T)),qu=(u,m,C,T=cm)=>C.sibling(u,m).map(X=>Yu(X,T)),cm=(u,m,C,T=cm)=>{const X=u.property().children(m);return C.first(X).map(De=>Yu(De,T))},z5=[{current:k1,next:qu,fallback:b.none()},{current:qu,next:cm,fallback:b.some(k1)},{current:cm,next:cm,fallback:b.some(qu)}],E8=(u,m,C,T,X=z5)=>w(X,De=>De.current===C).bind(De=>De.current(u,m,T,De.next).orThunk(()=>De.fallback.bind(Ye=>E8(u,m,Ye,T)))),Y2={left:()=>({sibling:(C,T)=>C.query().prevSibling(T),first:C=>C.length>0?b.some(C[C.length-1]):b.none()}),right:()=>({sibling:(C,T)=>C.query().nextSibling(T),first:C=>C.length>0?b.some(C[0]):b.none()})},U5=(u,m,C,T,X,ue)=>E8(u,m,T,X).bind(Ye=>ue(Ye.item)?b.none():C(Ye.item)?b.some(Ye.item):U5(u,Ye.item,C,Ye.mode,X,ue)),w8=(u,m,C,T)=>U5(u,m,C,qu,Y2.left(),T),q2=(u,m,C,T)=>U5(u,m,C,qu,Y2.right(),T),Hf=(u,m)=>({element:u,offset:m}),Xu=(u,m,C)=>u.property().isText(m)&&u.property().getText(m).trim().length===0||u.property().isComment(m)?C(m).bind(T=>Xu(u,T,C).orThunk(()=>b.some(T))):b.none(),Jh=(u,m)=>u.property().isText(m)?u.property().getText(m).length:u.property().children(m).length,X2=(u,m)=>{const C=Xu(u,m,u.query().prevSibling).getOr(m);if(u.property().isText(C))return Hf(C,Jh(u,C));const T=u.property().children(C);return T.length>0?X2(u,T[T.length-1]):Hf(C,Jh(u,C))},aC=X2,Q2=Gu(),J2=u=>aC(Q2,u),S8=u=>m=>u.property().children(m).length===0,dm=(u,m,C)=>zf(u,m,S8(u),C),iC=(u,m,C)=>e3(u,m,S8(u),C),zf=w8,e3=q2,Mp=Gu(),Ip=(u,m)=>dm(Mp,u,m),e0=(u,m)=>iC(Mp,u,m),_i=(u,m,C)=>zf(Mp,u,m,C),Tc=(u,m,C)=>e3(Mp,u,m,C),kd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],t3=(u,m)=>{const C=u.property().name(m);return M(["ol","ul"],C)},O1=(u,m)=>{const C=u.property().name(m);return M(kd,C)},L1=(u,m)=>M(["br","img","hr","input"],u.property().name(m)),V5=(u,m,C,T)=>{const X=C[0],ue=C.slice(1);return T(u,m,X,ue)},ui=(u,m,C)=>C.length>0?V5(u,m,C,um):b.none(),um=(u,m,C,T)=>{const X=m(u,C);return j(T,(ue,De)=>{const Ye=m(u,De);return Ac(u,ue,Ye)},X)},Ac=(u,m,C)=>m.bind(T=>C.filter(Eo(u.eq,T))),W5=(u,m)=>Eo(u.eq,m),T8=(u,m,C,T=us)=>{const X=[m].concat(u.up().all(m)),ue=[C].concat(u.up().all(C)),De=en=>xe(en,T).fold(()=>en,to=>en.slice(0,to+1)),Ye=De(X),ct=De(ue),Dt=w(Ye,en=>L(ct,W5(u,en)));return{firstpath:Ye,secondpath:ct,shared:Dt}},Bp=ui,D1=T8,yu=Gu(),nr=(u,m)=>Bp(yu,(C,T)=>u(T),m),Fp=(u,m,C)=>D1(yu,u,m,C),n3=Gu(),fm=u=>O1(n3,u),o3=u=>t3(n3,u),K5=u=>L1(n3,u),t0=u=>{const m=Nl("br"),C=ct=>se(ct,Dt=>m(Dt)||Cf(Dt)&&Uu(Dt).trim().length===0),T=ct=>ga(ct)==="li"||Dr(ct,o3).isSome(),X=ct=>Fu(ct).map(Dt=>fm(Dt)?!0:K5(Dt)?ga(Dt)!=="img":!1).getOr(!1),ue=ct=>Ma(ct).bind(Dt=>{const en=X(Dt);return Bu(Dt).map(wn=>en===!0||T(wn)||m(Dt)||fm(wn)&&!Oo(ct,wn)?[]:[Qn.fromTag("br")])}).getOr([]),Ye=(()=>{const ct=re(u,Dt=>{const en=bl(Dt);return C(en)?[]:en.concat(ue(Dt))});return ct.length===0?[Qn.fromTag("br")]:ct})();Uc(u[0]),yi(u[0],Ye)},Qu=u=>{Qs(u,"width"),Qs(u,"height")},n0=u=>{const m=Cc(u);_8(u,b.some(m),b.none()),Qu(u)},o0=u=>{const m=Ga(u);_8(u,b.some(m),b.none()),Qu(u)},Xc=u=>{const m=Td(u);_8(u,b.none(),b.some(m)),Qu(u)},Ju=u=>{Vc(u,"width");const m=Ih(u),C=m.length>0?m:y1(u);z(C,T=>{Vc(T,"width"),Qu(T)}),Qu(u)},La={scope:["row","col"]},Cu=u=>()=>{const m=Qn.fromTag("td",u.dom);return ua(m,Qn.fromTag("br",u.dom)),m},j5=u=>()=>Qn.fromTag("col",u.dom),Z5=u=>()=>Qn.fromTag("colgroup",u.dom),pm=u=>()=>Qn.fromTag("tr",u.dom),N1=(u,m,C)=>{const T=c1(u,m);return de(C,(X,ue)=>{X===null?Qs(T,ue):fa(T,ue,X)}),T},G5=u=>u,Y5=(u,m,C)=>Vu(u).map(X=>{const ue=C.join(","),De=pr(X,ue,Ye=>Oo(Ye,u));return j(De,(Ye,ct)=>{const Dt=pc(ct);return ua(Ye,Dt),Dt},m)}).getOr(m),s3=(u,m)=>{de(La,(C,T)=>yl(u,T).filter(X=>M(C,X)).each(X=>fa(m,T,X)))},r3=(u,m,C)=>{const T=(De,Ye)=>{$g(De.element,Ye),Vc(Ye,"height"),De.colspan!==1&&Vc(Ye,"width")},X=De=>{const Ye=Qn.fromTag(ga(De.element),m.dom),ct=C.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Dt=ct.length>0?Y5(De.element,Ye,ct):Ye;return ua(Dt,Qn.fromTag("br")),T(De,Ye),s3(De.element,Ye),u(De.element,Ye),Ye};return{col:De=>{const Ye=Qn.fromTag(ga(De.element),m.dom);return T(De,Ye),u(De.element,Ye),Ye},colgroup:Z5(m),row:pm(m),cell:X,replace:N1,colGap:j5(m),gap:Cu(m)}},gm=u=>({col:j5(u),colgroup:Z5(u),row:pm(u),cell:Cu(u),replace:G5,colGap:j5(u),gap:Cu(u)}),Od=u=>Ys.fromTable(u).grid,A8=(u,m,C,T)=>{const X=Vs(u).rows;if(X.length===0)return u;for(let ue=m.startRow;ue<=m.finishRow;ue++)for(let De=m.startCol;De<=m.finishCol;De++){const Ye=X[ue],ct=Do(Ye,De).isLocked;Is(Ye,De,on(T(),!1,ct))}return u},k8=(u,m,C,T)=>{const X=Vs(u).rows;let ue=!0;for(let De=0;De<X.length;De++)for(let Ye=0;Ye<As(X[0]);Ye++){const ct=X[De],Dt=Do(ct,Ye),en=Dt.element,wn=C(en,m);wn&&!ue?Is(ct,Ye,on(T(),!0,Dt.isLocked)):wn&&(ue=!1)}return u},Ei=(u,m)=>K(u,(C,T)=>L(C,X=>m(X.element,T.element))?C:C.concat([T]),[]),lC=(u,m,C,T)=>(m>0&&m<u[0].cells.length&&z(u,X=>{const ue=X.cells[m-1];let De=0;const Ye=T();for(;X.cells.length>m+De&&C(ue.element,X.cells[m+De].element);)Is(X,m+De,on(Ye,!0,X.cells[m+De].isLocked)),De++}),u),R1=(u,m,C,T)=>{const X=Vs(u).rows;if(m>0&&m<X.length){const ue=X[m-1].cells,De=Ei(ue,C);z(De,Ye=>{let ct=b.none();for(let Dt=m;Dt<X.length;Dt++)for(let en=0;en<As(X[0]);en++){const wn=X[Dt],to=Do(wn,en);C(to.element,Ye.element)&&(ct.isNone()&&(ct=b.some(T())),ct.each(Wo=>{Is(wn,en,on(Wo,!0,to.isLocked))}))}})}return u},q5=(u,m,C)=>{if(u.row>=m.length||u.column>As(m[0]))return bn.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);const T=m.slice(u.row),X=T[0].cells.slice(u.column),ue=As(C[0]),De=C.length;return bn.value({rowDelta:T.length-De,colDelta:X.length-ue})},X5=(u,m)=>{const C=As(u[0]),T=As(m[0]);return{rowDelta:0,colDelta:C-T}},Q5=(u,m)=>{const C=u.length,T=m.length;return{rowDelta:C-T,colDelta:0}},s0=(u,m,C,T)=>{const X=m.section==="colgroup"?C.col:C.cell;return A(u,ue=>on(X(),!0,T(ue)))},J5=(u,m,C,T)=>{const X=u[u.length-1];return u.concat(A(m,()=>{const ue=X.section==="colgroup"?C.colgroup:C.row,De=go(X,ue,Xn),Ye=s0(De.cells.length,De,C,ct=>Me(T,ct.toString()));return bs(De,Ye)}))},eb=(u,m,C,T)=>O(u,X=>{const ue=s0(m,X,C,us);return Bs(X,T,ue)}),cC=(u,m,C)=>O(u,T=>K(C,(X,ue)=>{const De=s0(1,T,m,s)[0];return fs(X,ue,De)},T)),r0=(u,m,C)=>{const T=m.colDelta<0?eb:Xn,X=m.rowDelta<0?J5:Xn,ue=xc(u),De=As(u[0]),Ye=L(ue,en=>en===De-1),ct=T(u,Math.abs(m.colDelta),C,Ye?De-1:De),Dt=xc(ct);return X(ct,Math.abs(m.rowDelta),C,D(Dt,s))},jr=(u,m,C,T)=>{const X=Do(u[m],C),ue=Eo(T,X.element),De=u[m];return u.length>1&&As(De)>1&&(C>0&&ue(zs(De,C-1))||C<De.cells.length-1&&ue(zs(De,C+1))||m>0&&ue(zs(u[m-1],C))||m<u.length-1&&ue(zs(u[m+1],C)))},qa=(u,m,C,T,X,ue)=>{const De=u.row,Ye=u.column,ct=C.length,Dt=As(C[0]),en=De+ct,wn=Ye+Dt+ue.length,to=D(ue,s);for(let xo=De;xo<en;xo++){let Wo=0;for(let yn=Ye;yn<wn;yn++){if(to[yn]){Wo++;continue}jr(m,xo,yn,X)&&k8(m,zs(m[xo],yn),X,T.cell);const In=yn-Ye-Wo,ns=Do(C[xo-De],In),Ss=ns.element,No=T.replace(Ss);Is(m[xo],yn,on(No,!0,ns.isLocked))}}return m},fi=(u,m,C)=>{const T=As(m[0]),X=Vs(m).cols.length+u.row,ue=A(T-u.column,Ye=>Ye+u.column),De=w(ue,Ye=>se(C,ct=>ct!==Ye)).getOr(T-1);return{row:X,column:De}},wi=(u,m,C)=>P(C,T=>T>=u.column&&T<=As(m[0])+u.column),pi=(u,m,C,T,X)=>{const ue=xc(m),De=fi(u,m,ue),Ye=Vs(C).rows,ct=wi(De,Ye,ue);return q5(De,m,Ye).map(en=>{const wn={...en,colDelta:en.colDelta-ct.length},to=r0(m,wn,T),xo=xc(to),Wo=wi(De,Ye,xo);return qa(De,to,Ye,T,X,Wo)})},Ba=(u,m,C,T,X)=>{lC(m,u,X,T.cell);const ue=Q5(C,m),De=r0(C,ue,T),Ye=Q5(m,De),ct=r0(m,Ye,T);return O(ct,(Dt,en)=>Bs(Dt,u,De[en].cells))},a0=(u,m,C,T,X)=>{R1(m,u,X,T.cell);const ue=xc(m),De=X5(m,C),Ye={...De,colDelta:De.colDelta-ue.length},ct=r0(m,Ye,T),{cols:Dt,rows:en}=Vs(ct),wn=xc(ct),to=X5(C,m),xo={...to,colDelta:to.colDelta+wn.length},Wo=cC(C,T,wn),yn=r0(Wo,xo,T);return[...Dt,...en.slice(0,u),...yn,...en.slice(u,en.length)]},a3=(u,m,C,T)=>go(u,X=>T(X,C),m),tb=(u,m,C,T,X)=>{const{rows:ue,cols:De}=Vs(u),Ye=ue.slice(0,m),ct=ue.slice(m),Dt=a3(ue[C],(en,wn)=>m>0&&m<ue.length&&T(zs(ue[m-1],wn),zs(ue[m],wn))?Do(ue[m],wn):on(X(en.element,T),!0,en.isLocked),T,X);return[...De,...Ye,Dt,...ct]},nb=(u,m,C,T,X,ue,De)=>{if(C==="colgroup"||!T){const Ye=Do(u,X);return on(De(Ye.element,ue),!0,!1)}else return Do(u,m)},ob=(u,m,C,T,X)=>O(u,ue=>{const De=m>0&&m<As(ue)&&T(zs(ue,m-1),zs(ue,m)),Ye=nb(ue,m,ue.section,De,C,T,X);return fs(ue,m,Ye)}),mm=(u,m)=>re(u,C=>{const T=C.cells,X=j(m,(ue,De)=>De>=0&&De<ue.length?ue.slice(0,De).concat(ue.slice(De+1)):ue,T);return X.length>0?[_n(C.element,X,C.section,C.isNew)]:[]}),sb=(u,m,C)=>{const{rows:T,cols:X}=Vs(u);return[...X,...T.slice(0,m),...T.slice(C+1)]},Pp=(u,m,C,T)=>zs(u[m],C)!==void 0&&m>0&&T(zs(u[m-1],C),zs(u[m],C)),i0=(u,m,C)=>m>0&&C(zs(u,m-1),zs(u,m)),rb=(u,m,C,T)=>Pp(u,m,C,T)||i0(u[m],C,T),l0=(u,m)=>se(m,Xn)&&P2(u.cells)?s:(T,X,ue)=>!(ga(T.element)==="th"&&m[ue]),ab=(u,m)=>se(m,Xn)&&P2(u)?s:(T,X,ue)=>!(ga(T.element)==="th"&&m[X]),_u=(u,m,C,T)=>{const X=De=>De==="row"?Vy(m):g5(m),ue=De=>X(De)?`${De}group`:De;return u?du(m)?ue(C):null:T&&du(m)?ue(C==="row"?"col":"row"):null},i3=(u,m)=>(C,T,X)=>b.some(_u(u,C.element,"col",m[X])),l3=(u,m)=>(C,T)=>b.some(_u(u,C.element,"row",m[T])),c3=(u,m,C)=>on(C(u.element,m),!0,u.isLocked),c0=(u,m,C,T,X,ue,De)=>{const Ye=ct=>L(m,Dt=>C(ct.element,Dt.element));return O(u,(ct,Dt)=>Go(ct,(en,wn)=>{if(Ye(en)){const to=De(en,Dt,wn)?X(en,C,T):en;return ue(to,Dt,wn).each(xo=>{$u(to.element,{scope:b.from(xo)})}),to}else return en}))},d0=(u,m,C)=>re(u,(T,X)=>rb(u,X,m,C)?[]:[Do(T,m)]),Uf=(u,m,C)=>{const T=u[m];return re(T.cells,(X,ue)=>rb(u,m,ue,C)?[]:[X])},Eu=(u,m,C,T,X)=>{const ue=Vs(u).rows,De=re(m,en=>d0(ue,en,T)),Ye=O(ue,en=>P2(en.cells)),ct=ab(De,Ye),Dt=l3(C,Ye);return c0(u,De,T,X,c3,Dt,ct)},d3=(u,m,C,T,X,ue,De)=>{const{cols:Ye,rows:ct}=Vs(u),Dt=ct[m[0]],en=re(m,In=>Uf(ct,In,X)),wn=O(Dt.cells,(In,ns)=>P2(d0(ct,ns,X))),to=[...ct];z(m,In=>{to[In]=De.transformRow(ct[In],C)});const xo=[...Ye,...to],Wo=l0(Dt,wn),yn=i3(T,wn);return c0(xo,en,X,ue,De.transformCell,yn,Wo)},hn=(u,m,C,T)=>{const X=Vs(u).rows,ue=O(m,De=>Do(X[De.row],De.column));return c0(u,ue,C,T,c3,b.none,s)},Qc=u=>K(u,(C,T)=>L(C,ue=>ue.column===T.column)?C:C.concat([T]),[]).sort((C,T)=>C.column-T.column),Jc=u=>Af(u,!0),hm=u=>{y1(u).length===0&&ri(u)},$p=(u,m)=>({grid:u,cursor:m}),Ld=u=>ne(u,m=>ne(m.cells,C=>{const T=C.element;return ro(Jc(T),T)})),O8=(u,m,C)=>{var T,X;const ue=Vs(u).rows;return b.from((X=(T=ue[m])===null||T===void 0?void 0:T.cells[C])===null||X===void 0?void 0:X.element).filter(Jc).orThunk(()=>Ld(ue))},al=(u,m,C)=>{const T=O8(u,m,C);return $p(u,T)},u0=u=>K(u,(C,T)=>L(C,ue=>ue.row===T.row)?C:C.concat([T]),[]).sort((C,T)=>C.row-T.row),ib=(u,m,C,T)=>{const X=m[0].row,ue=u0(m),De=j(ue,(Ye,ct)=>({grid:tb(Ye.grid,X,ct.row+Ye.delta,C,T.getOrInit),delta:Ye.delta+1}),{grid:u,delta:0}).grid;return al(De,X,m[0].column)},L8=(u,m,C,T)=>{const X=u0(m),ue=X[X.length-1],De=ue.row+ue.rowspan,Ye=j(X,(ct,Dt)=>tb(ct,De,Dt.row,C,T.getOrInit),u);return al(Ye,De,m[0].column)},lb=(u,m,C,T)=>{const X=m.details,ue=Qc(X),De=ue[0].column,Ye=j(ue,(ct,Dt)=>({grid:ob(ct.grid,De,Dt.column+ct.delta,C,T.getOrInit),delta:ct.delta+1}),{grid:u,delta:0}).grid;return al(Ye,X[0].row,De)},bm=(u,m,C,T)=>{const X=m.details,ue=X[X.length-1],De=ue.column+ue.colspan,Ye=Qc(X),ct=j(Ye,(Dt,en)=>ob(Dt,De,en.column,C,T.getOrInit),u);return al(ct,X[0].row,De)},u3=(u,m,C,T)=>{const X=Qc(m),ue=O(X,Ye=>Ye.column),De=Eu(u,ue,!0,C,T.replaceOrInit);return al(De,m[0].row,m[0].column)},Vf=(u,m,C,T)=>{const X=hn(u,m,C,T.replaceOrInit);return al(X,m[0].row,m[0].column)},f3=(u,m,C,T)=>{const X=Qc(m),ue=O(X,Ye=>Ye.column),De=Eu(u,ue,!1,C,T.replaceOrInit);return al(De,m[0].row,m[0].column)},dC=(u,m,C,T)=>{const X=hn(u,m,C,T.replaceOrInit);return al(X,m[0].row,m[0].column)},il=(u,m)=>(C,T,X,ue,De)=>{const Ye=u0(T),ct=O(Ye,en=>en.row),Dt=d3(C,ct,u,m,X,ue.replaceOrInit,De);return al(Dt,T[0].row,T[0].column)},Dd=il("thead",!0),Tl=il("tbody",!1),uC=il("tfoot",!1),Hp=(u,m,C,T)=>{const X=Qc(m.details),ue=mm(u,O(X,Ye=>Ye.column)),De=ue.length>0?ue[0].cells.length-1:0;return al(ue,X[0].row,Math.min(X[0].column,De))},fC=(u,m,C,T)=>{const X=u0(m),ue=sb(u,X[0].row,X[X.length-1].row),De=Math.max(Vs(ue).rows.length-1,0);return al(ue,Math.min(m[0].row,De),m[0].column)},cb=(u,m,C,T)=>{const X=m.cells;t0(X);const ue=A8(u,m.bounds,C,T.merge(X));return $p(ue,b.from(X[0]))},D8=(u,m,C,T)=>{const ue=j(m,(De,Ye)=>k8(De,Ye,C,T.unmerge(Ye)),u);return $p(ue,b.from(m[0]))},N8=(u,m,C,T)=>{const ue=((ct,Dt)=>{const en=Ys.fromTable(ct);return If(en,Dt,!0)})(m.clipboard,m.generators),De=zt(m.row,m.column);return pi(De,u,ue,m.generators,C).fold(()=>$p(u,b.some(m.element)),ct=>al(ct,m.row,m.column))},Hs=(u,m,C)=>{const T=Za(u,C.section),X=Ys.generate(T);return If(X,m,!0)},Xo=(u,m,C,T)=>{const X=Vs(u).rows,ue=m.cells[0].column,De=X[m.cells[0].row],Ye=Hs(m.clipboard,m.generators,De),ct=Ba(ue,u,Ye,m.generators,C);return al(ct,m.cells[0].row,m.cells[0].column)},vm=(u,m,C,T)=>{const X=Vs(u).rows,ue=m.cells[m.cells.length-1].column+m.cells[m.cells.length-1].colspan,De=X[m.cells[0].row],Ye=Hs(m.clipboard,m.generators,De),ct=Ba(ue,u,Ye,m.generators,C);return al(ct,m.cells[0].row,ue)},db=(u,m,C,T)=>{const X=Vs(u).rows,ue=m.cells[0].row,De=X[ue],Ye=Hs(m.clipboard,m.generators,De),ct=a0(ue,u,Ye,m.generators,C);return al(ct,m.cells[0].row,m.cells[0].column)},ub=(u,m,C,T)=>{const X=Vs(u).rows,ue=m.cells[m.cells.length-1].row+m.cells[m.cells.length-1].rowspan,De=X[m.cells[0].row],Ye=Hs(m.clipboard,m.generators,De),ct=a0(ue,u,Ye,m.generators,C);return al(ct,ue,m.cells[0].column)},R8=(u,m)=>{const C=Ys.fromTable(u);return di(C,m).bind(X=>{const ue=X[X.length-1],De=X[0].column,Ye=ue.column+ue.colspan,ct=be(O(C.all,Dt=>P(Dt.cells,en=>en.column>=De&&en.column<Ye)));return v5(ct)}).getOr("")},fb=(u,m)=>{const C=Ys.fromTable(u);return di(C,m).bind(v5).getOr("")},Jr=(u,m)=>{const C=Ys.fromTable(u);return di(C,m).bind(X=>{const ue=X[X.length-1],De=X[0].row,Ye=ue.row+ue.rowspan,ct=C.all.slice(De,Ye);return n8(ct)}).getOr("")},xm=(u,m,C,T)=>B5(u,m,C,T.sizing),pb=(u,m,C,T)=>Kh(u,m,C,T.sizing,T.resize),M8=(u,m)=>L(m,C=>C.column===0&&C.isLocked),xn=(u,m)=>L(m,C=>C.column+C.colspan>=u.grid.columns&&C.isLocked),p3=(u,m)=>{const C=$2(u),T=Qc(m);return K(T,(X,ue)=>{const Ye=C[ue.column].map(Aa).getOr(0);return X+Ye},0)},gb=u=>(m,C)=>di(m,C).filter(T=>!(u?M8:xn)(m,T)).map(T=>({details:T,pixelDelta:p3(m,T)})),f0=(u,m)=>sm(u,m).map(C=>({details:C,pixelDelta:-p3(u,C)})),I8=u=>(m,C)=>Ad(m,C).filter(T=>!(u?M8:xn)(m,T.cells)),ef=ji.transform("th"),zp=ji.transform("td"),Up=(u,m,C,T)=>Ya(ib,di,jt,jt,ji.modification,u,m,C,T),pC=(u,m,C,T)=>Ya(L8,di,jt,jt,ji.modification,u,m,C,T),ym=(u,m,C,T)=>Ya(lb,gb(!0),pb,jt,ji.modification,u,m,C,T),Wr=(u,m,C,T)=>Ya(bm,gb(!1),pb,jt,ji.modification,u,m,C,T),wu=(u,m,C,T)=>Ya(Hp,f0,pb,hm,ji.modification,u,m,C,T),B8=(u,m,C,T)=>Ya(fC,di,jt,hm,ji.modification,u,m,C,T),Wf=(u,m,C,T)=>Ya(u3,sm,jt,jt,ef,u,m,C,T),Nd=(u,m,C,T)=>Ya(f3,sm,jt,jt,zp,u,m,C,T),gC=(u,m,C,T)=>Ya(Dd,di,jt,jt,ef,u,m,C,T),mC=(u,m,C,T)=>Ya(Tl,di,jt,jt,zp,u,m,C,T),mb=(u,m,C,T)=>Ya(uC,di,jt,jt,zp,u,m,C,T),hC=(u,m,C,T)=>Ya(Vf,sm,jt,jt,ef,u,m,C,T),F8=(u,m,C,T)=>Ya(dC,sm,jt,jt,zp,u,m,C,T),P8=(u,m,C,T)=>Ya(cb,bu,xm,jt,ji.merging,u,m,C,T),$8=(u,m,C,T)=>Ya(D8,vu,xm,jt,ji.merging,u,m,C,T),H8=(u,m,C,T)=>Ya(N8,R5,xm,jt,ji.modification,u,m,C,T),Yn=(u,m,C,T)=>Ya(Xo,I8(!0),jt,jt,ji.modification,u,m,C,T),bC=(u,m,C,T)=>Ya(vm,I8(!1),jt,jt,ji.modification,u,m,C,T),gi=(u,m,C,T)=>Ya(db,Ad,jt,jt,ji.modification,u,m,C,T),vC=(u,m,C,T)=>Ya(ub,Ad,jt,jt,ji.modification,u,m,C,T),z8=R8,hb=fb,xC=Jr,Cs=(u,m)=>{const C=m.column,T=m.column+m.colspan-1,X=m.row,ue=m.row+m.rowspan-1;return C<=u.finishCol&&T>=u.startCol&&X<=u.finishRow&&ue>=u.startRow},yC=(u,m)=>m.column>=u.startCol&&m.column+m.colspan-1<=u.finishCol&&m.row>=u.startRow&&m.row+m.rowspan-1<=u.finishRow,bb=(u,m)=>{let C=!0;const T=Eo(yC,m);for(let X=m.startRow;X<=m.finishRow;X++)for(let ue=m.startCol;ue<=m.finishCol;ue++)C=C&&Ys.getAt(u,X,ue).exists(T);return C?b.some(m):b.none()},zA=(u,m)=>Dn(Math.min(u.row,m.row),Math.min(u.column,m.column),Math.max(u.row+u.rowspan-1,m.row+m.rowspan-1),Math.max(u.column+u.colspan-1,m.column+m.colspan-1)),CC=(u,m,C)=>{const T=Ys.findItem(u,m,Oo),X=Ys.findItem(u,C,Oo);return T.bind(ue=>X.map(De=>zA(ue,De)))},_C=(u,m,C)=>CC(u,m,C).bind(T=>bb(u,T)),U8=(u,m,C,T)=>Ys.findItem(u,m,Oo).bind(X=>{const ue=C>0?X.row+X.rowspan-1:X.row,De=T>0?X.column+X.colspan-1:X.column;return Ys.getAt(u,ue+C,De+T).map(ct=>ct.element)}),EC=(u,m,C)=>CC(u,m,C).map(T=>{const X=Ys.filterItems(u,Eo(Cs,T));return O(X,ue=>ue.element)}),V8=(u,m)=>{const C=(T,X)=>So(X,T);return Ys.findItem(u,m,C).map(T=>T.element)},wC=(u,m,C)=>Ul(u).bind(T=>{const X=kc(T);return U8(X,u,m,C)}),Es=(u,m,C)=>{const T=kc(u);return EC(T,m,C)},ko=(u,m,C,T,X)=>{const ue=kc(u),De=Oo(u,C)?b.some(m):V8(ue,m),Ye=Oo(u,X)?b.some(T):V8(ue,T);return De.bind(ct=>Ye.bind(Dt=>EC(ue,ct,Dt)))},Rd=(u,m,C)=>{const T=kc(u);return _C(T,m,C)},kc=Ys.fromTable,g3={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},rc=()=>Qn.fromTag("th"),m3=()=>Qn.fromTag("td"),Cm=()=>Qn.fromTag("col"),h3=(u,m,C,T)=>{const X=Qn.fromTag("tr");for(let ue=0;ue<u;ue++){const De=T<m||ue<C?rc():m3();ue<C&&fa(De,"scope","row"),T<m&&fa(De,"scope","col"),ua(De,Qn.fromTag("br")),ua(X,De)}return X},_m=u=>{const m=Qn.fromTag("colgroup");return A(u,()=>ua(m,Cm())),m},p0=(u,m,C,T)=>A(u,X=>h3(m,C,T,X)),Kf=(u,m,C,T,X,ue=g3)=>{const De=Qn.fromTag("table"),Ye=X!=="cells";Kr(De,ue.styles),si(De,ue.attributes),ue.colGroups&&ua(De,_m(m));const ct=Math.min(u,C);if(Ye&&C>0){const xo=Qn.fromTag("thead");ua(De,xo);const yn=p0(C,m,X==="sectionCells"?ct:0,T);yi(xo,yn)}const Dt=Qn.fromTag("tbody");ua(De,Dt);const en=Ye?u-ct:u,to=p0(en,m,Ye?0:C,T);return yi(Dt,to),De},Mr=u=>{let m=[];return{bind:ue=>{if(ue===void 0)throw new Error("Event bind error: undefined handler");m.push(ue)},unbind:ue=>{m=P(m,De=>De!==ue)},trigger:(...ue)=>{const De={};z(u,(Ye,ct)=>{De[Ye]=ue[ct]}),z(m,Ye=>{Ye(De)})}}},Oc=u=>{const m=Le(u,T=>({bind:T.bind,unbind:T.unbind})),C=Le(u,T=>T.trigger);return{registry:m,trigger:C}},SC=Je(["compare","extract","mutate","sink"]),TC=Je(["element","start","stop","destroy"]),AC=Je(["forceDrop","drop","move","delayDrop"]),kC=()=>{let u=b.none();const m=()=>{u=b.none()},C=(ue,De)=>{const Ye=u.map(ct=>ue.compare(ct,De));return u=b.some(De),Ye},T=(ue,De)=>{De.extract(ue).each(ct=>{C(De,ct).each(en=>{X.trigger.move(en)})})},X=Oc({move:Mr(["info"])});return{onEvent:T,reset:m,events:X.registry}},or=()=>{const u=Oc({move:Mr(["info"])});return{onEvent:jt,reset:jt,events:u.registry}},Md=()=>{const u=or(),m=kC();let C=u;return{on:()=>{C.reset(),C=m},off:()=>{C.reset(),C=u},isOn:()=>C===m,onEvent:(Ye,ct)=>{C.onEvent(Ye,ct)},events:m.events}},M1=(u,m,C)=>{let T=!1;const X=Oc({start:Mr([]),stop:Mr([])}),ue=Md(),De=()=>{Wo.stop(),ue.isOn()&&(ue.off(),X.trigger.stop())},Ye=me(De,200),ct=In=>{Wo.start(In),ue.on(),X.trigger.start()},Dt=In=>{Ye.cancel(),ue.onEvent(In,m)};ue.events.move.bind(In=>{m.mutate(u,In.info)});const en=()=>{T=!0},wn=()=>{T=!1},to=()=>T,xo=In=>(...ns)=>{T&&In.apply(null,ns)},Wo=m.sink(AC({forceDrop:De,drop:xo(De),move:xo(Dt),delayDrop:xo(Ye.throttle)}),C),yn=()=>{Wo.destroy()};return{element:Wo.element,go:ct,on:en,off:wn,isActive:to,destroy:yn,events:X.registry}},Vp=Mn("ephox-dragster").resolve,ar=u=>{const m={layerClass:Vp("blocker"),...u},C=Qn.fromTag("div");return fa(C,"role","presentation"),Kr(C,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Wc(C,Vp("blocker")),Wc(C,m.layerClass),{element:lt(C),destroy:()=>{ri(C)}}};var g0=SC({compare:(u,m)=>er(m.left-u.left,m.top-u.top),extract:u=>b.some(er(u.x,u.y)),sink:(u,m)=>{const C=ar(m),T=zc(C.element(),"mousedown",u.forceDrop),X=zc(C.element(),"mouseup",u.drop),ue=zc(C.element(),"mousemove",u.move),De=zc(C.element(),"mouseout",u.delayDrop),Ye=()=>{C.destroy(),X.unbind(),ue.unbind(),De.unbind(),T.unbind()},ct=en=>{ua(en,C.element())},Dt=()=>{ri(C.element())};return TC({element:C.element,start:ct,stop:Dt,destroy:Ye})},mutate:(u,m)=>{u.mutate(m.left,m.top)}});const vb=(u,m={})=>{var C;const T=(C=m.mode)!==null&&C!==void 0?C:g0;return M1(u,T,m)},m0=Mn("ephox-snooker").resolve,LC=()=>{const u=Oc({drag:Mr(["xDelta","yDelta"])});return{mutate:(C,T)=>{u.trigger.drag(C,T)},events:u.registry}},b3=()=>{const u=Oc({drag:Mr(["xDelta","yDelta","target"])});let m=b.none();const C=LC();return C.events.drag.bind(ue=>{m.each(De=>{u.trigger.drag(ue.xDelta,ue.yDelta,De)})}),{assign:ue=>{m=b.some(ue)},get:()=>m,mutate:C.mutate,events:u.registry}},DC=(u,m,C,T,X)=>{const ue=Qn.fromTag("div");return Kr(ue,{position:"absolute",left:m-T/2+"px",top:C+"px",height:X+"px",width:T+"px"}),si(ue,{"data-mce-bogus":"all","data-column":u,role:"presentation"}),ue},NC=(u,m,C,T,X)=>{const ue=Qn.fromTag("div");return Kr(ue,{position:"absolute",left:m+"px",top:C-X/2+"px",height:X+"px",width:T+"px"}),si(ue,{"data-mce-bogus":"all","data-row":u,role:"presentation"}),ue},v3=m0("resizer-bar"),x3=m0("resizer-rows"),xb=m0("resizer-cols"),K8=7,j8=(u,m)=>re(u.all,(C,T)=>m(C.element)?[T]:[]),Z8=(u,m)=>{const C=[];return A(u.grid.columns,T=>{Ys.getColumnAt(u,T).map(ue=>ue.element).forall(m)&&C.push(T)}),P(C,T=>{const X=Ys.filterItems(u,ue=>ue.column===T);return se(X,ue=>m(ue.element))})},yb=u=>{const m=mc(u.parent(),"."+v3);z(m,ri)},Cb=(u,m,C)=>{const T=u.origin();z(m,X=>{X.each(ue=>{const De=C(T,ue);Wc(De,v3),ua(u.parent(),De)})})},gr=(u,m,C,T)=>{Cb(u,m,(X,ue)=>{const De=DC(ue.col,ue.x-X.left,C.top-X.top,K8,T);return Wc(De,xb),De})},Wp=(u,m,C,T)=>{Cb(u,m,(X,ue)=>{const De=NC(ue.row,C.left-X.left,ue.y-X.top,T,K8);return Wc(De,x3),De})},_b=(u,m,C,T,X)=>{const ue=Ps(C),De=m.isResizable,Ye=T.length>0?li.positions(T,C):[],ct=Ye.length>0?j8(u,De):[],Dt=P(Ye,(xo,Wo)=>L(ct,yn=>Wo===yn));Wp(m,Dt,ue,Aa(C));const en=X.length>0?Gc.positions(X,C):[],wn=en.length>0?Z8(u,De):[],to=P(en,(xo,Wo)=>L(wn,yn=>Wo===yn));gr(m,to,ue,Sh(C))},h0=(u,m)=>{if(yb(u),u.isResizable(m)){const C=Ys.fromTable(m),T=r8(C),X=$2(C);_b(C,u,m,T,X)}},I1=(u,m)=>{const C=mc(u.parent(),"."+v3);z(C,m)},Em=u=>{I1(u,m=>{ii(m,"display","none")})},RC=u=>{I1(u,m=>{ii(m,"display","block")})},MC=u=>p1(u,x3),wm=u=>p1(u,xb),IC=m0("resizer-bar-dragging"),b0=u=>{const m=b3(),C=vb(m,{});let T=b.none();const X=(yn,In)=>b.from(Jl(yn,In));m.events.drag.bind(yn=>{X(yn.target,"data-row").each(In=>{const ns=Ka(yn.target,"top");ii(yn.target,"top",ns+yn.yDelta+"px")}),X(yn.target,"data-column").each(In=>{const ns=Ka(yn.target,"left");ii(yn.target,"left",ns+yn.xDelta+"px")})});const ue=(yn,In)=>{const ns=Ka(yn,In),Ss=bc(yn,"data-initial-"+In,0);return ns-Ss};C.events.stop.bind(()=>{m.get().each(yn=>{T.each(In=>{X(yn,"data-row").each(ns=>{const Ss=ue(yn,"top");Qs(yn,"data-initial-top"),Wo.trigger.adjustHeight(In,Ss,parseInt(ns,10))}),X(yn,"data-column").each(ns=>{const Ss=ue(yn,"left");Qs(yn,"data-initial-left"),Wo.trigger.adjustWidth(In,Ss,parseInt(ns,10))}),h0(u,In)})})});const De=(yn,In)=>{Wo.trigger.startAdjust(),m.assign(yn),fa(yn,"data-initial-"+In,Ka(yn,In)),Wc(yn,IC),ii(yn,"opacity","0.2"),C.go(u.dragContainer())},Ye=zc(u.parent(),"mousedown",yn=>{MC(yn.target)&&De(yn.target,"top"),wm(yn.target)&&De(yn.target,"left")}),ct=yn=>Oo(yn,u.view()),Dt=yn=>Wa(yn,"table",ct).filter(Af),en=yn=>p1(yn,"ephox-snooker-resizer-bar")||p1(yn,"ephox-dragster-blocker"),wn=zc(u.view(),"mouseover",yn=>{Dt(yn.target).fold(()=>{os(yn.target)&&!en(yn.target)&&yb(u)},In=>{C.isActive()&&(T=b.some(In),h0(u,In))})}),to=()=>{Ye.unbind(),wn.unbind(),C.destroy(),yb(u)},xo=yn=>{h0(u,yn)},Wo=Oc({adjustHeight:Mr(["table","delta","row"]),adjustWidth:Mr(["table","delta","column"]),startAdjust:Mr([])});return{destroy:to,refresh:xo,on:C.on,off:C.off,hideBars:Eo(Em,u),showBars:Eo(RC,u),events:Wo.registry}},BC={create:(u,m,C)=>{const T=li,X=Gc,ue=b0(u),De=Oc({beforeResize:Mr(["table","type"]),afterResize:Mr(["table","type"]),startDrag:Mr([])});return ue.events.adjustHeight.bind(Ye=>{const ct=Ye.table;De.trigger.beforeResize(ct,"row");const Dt=T.delta(Ye.delta,ct);f8(ct,Dt,Ye.row),De.trigger.afterResize(ct,"row")}),ue.events.startAdjust.bind(Ye=>{De.trigger.startDrag()}),ue.events.adjustWidth.bind(Ye=>{const ct=Ye.table;De.trigger.beforeResize(ct,"col");const Dt=X.delta(Ye.delta,ct),en=C(ct);Np(ct,Dt,Ye.column,m,en),De.trigger.afterResize(ct,"col")}),{on:ue.on,off:ue.off,refreshBars:ue.refresh,hideBars:ue.hideBars,showBars:ue.showBars,destroy:ue.destroy,events:De.registry}}},B1=u=>m=>m.options.get(u),G8="100%",Y8=u=>{var m;const C=u.dom,T=(m=C.getParent(u.selection.getStart(),C.isBlock))!==null&&m!==void 0?m:u.getBody();return Ja(Qn.fromDom(T))+"px"},FC=(u,m)=>x0(u)||!Sb(u)?m:tf(u)?{...m,width:Y8(u)}:{...m,width:G8},q8=(u,m)=>x0(u)||Sb(u)?m:tf(u)?{...m,width:Y8(u)}:{...m,width:G8},PC=u=>{const m=u.options.register;m("table_clone_elements",{processor:"string[]"}),m("table_use_colgroups",{processor:"boolean",default:!0}),m("table_header_type",{processor:C=>{const T=M(["section","cells","sectionCells","auto"],C);return T?{value:C,valid:T}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),m("table_sizing_mode",{processor:"string",default:"auto"}),m("table_default_attributes",{processor:"object",default:{border:"1"}}),m("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),m("table_column_resizing",{processor:C=>{const T=M(["preservetable","resizetable"],C);return T?{value:C,valid:T}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),m("table_resize_bars",{processor:"boolean",default:!0}),m("table_style_by_css",{processor:"boolean",default:!0}),m("table_merge_content_on_paste",{processor:"boolean",default:!0})},X8=u=>b.from(u.options.get("table_clone_elements")),Eb=u=>{const m=u.options.get("object_resizing");return M(m.split(","),"table")},F1=B1("table_header_type"),v0=B1("table_column_resizing"),y3=u=>v0(u)==="preservetable",wb=u=>v0(u)==="resizetable",C3=B1("table_sizing_mode"),Sm=u=>C3(u)==="relative",tf=u=>C3(u)==="fixed",x0=u=>C3(u)==="responsive",Q8=B1("table_resize_bars"),Sb=B1("table_style_by_css"),J8=B1("table_merge_content_on_paste"),e7=u=>{const m=u.options,C=m.get("table_default_attributes");return m.isSet("table_default_attributes")?C:q8(u,C)},t7=u=>{const m=u.options,C=m.get("table_default_styles");return m.isSet("table_default_styles")?C:FC(u,C)},$C=B1("table_use_colgroups"),jp=u=>Qn.fromDom(u.getBody()),Tm=u=>m=>Oo(m,jp(u)),Zp=u=>{Qs(u,"data-mce-style");const m=C=>Qs(C,"data-mce-style");z(y1(u),m),z(Ih(u),m),z(ja(u),m)},_3=u=>Qn.fromDom(u.selection.getStart()),n7=u=>u.getBoundingClientRect().width,o7=u=>u.getBoundingClientRect().height,s7=u=>(m,C)=>{const T=m.dom.getStyle(C,u)||m.dom.getAttrib(C,u);return b.from(T).filter(J)},E3=s7("width"),r7=s7("height"),HC=u=>/^(\d+(\.\d+)?)%$/.test(u),a7=u=>/^(\d+(\.\d+)?)px$/.test(u),w3=u=>L2(u,Nl("table")).exists(Af),Tb=u=>Va(u,"table"),y0=(u,m,C)=>{const T=X=>ue=>C!==void 0&&C(ue)||Oo(ue,X);return Oo(u,m)?b.some({boxes:b.some([u]),start:u,finish:m}):Tb(u).bind(X=>Tb(m).bind(ue=>{if(Oo(X,ue))return b.some({boxes:Es(X,u,m),start:u,finish:m});if(So(X,ue)){const De=pr(m,"td,th",T(X)),Ye=De.length>0?De[De.length-1]:m;return b.some({boxes:ko(X,u,X,m,ue),start:u,finish:Ye})}else if(So(ue,X)){const De=pr(u,"td,th",T(ue)),Ye=De.length>0?De[De.length-1]:u;return b.some({boxes:ko(ue,u,X,m,ue),start:u,finish:Ye})}else return Fp(u,m).shared.bind(De=>Wa(De,"table",C).bind(Ye=>{const ct=pr(m,"td,th",T(Ye)),Dt=ct.length>0?ct[ct.length-1]:m,en=pr(u,"td,th",T(Ye)),wn=en.length>0?en[en.length-1]:u;return b.some({boxes:ko(Ye,u,X,m,ue),start:wn,finish:Dt})}))}))},Ab=(u,m)=>{const C=mc(u,m);return C.length>0?b.some(C):b.none()},zC=(u,m)=>w(u,C=>ln(C,m)),i7=(u,m,C)=>tc(u,m).bind(T=>tc(u,C).bind(X=>nr(Tb,[T,X]).map(ue=>({first:T,last:X,table:ue})))),l7=(u,m)=>Va(u,"table").bind(C=>tc(C,m).bind(T=>y0(T,u).bind(X=>X.boxes.map(ue=>({boxes:ue,start:X.start,finish:X.finish}))))),kb=(u,m,C,T,X)=>zC(u,X).bind(ue=>wC(ue,m,C).bind(De=>l7(De,T))),C0=(u,m)=>Ab(u,m),UC=(u,m,C)=>i7(u,m,C).bind(T=>{const X=ct=>Oo(u,ct),ue="thead,tfoot,tbody,table",De=Va(T.first,ue,X),Ye=Va(T.last,ue,X);return De.bind(ct=>Ye.bind(Dt=>Oo(ct,Dt)?Rd(T.table,T.first,T.last):b.none()))}),c7=Xn,Ob=u=>{const m=(T,X)=>yl(T,X).exists(ue=>parseInt(ue,10)>1),C=T=>m(T,"rowspan")||m(T,"colspan");return u.length>0&&se(u,C)?b.some(u):b.none()},VC=(u,m,C)=>m.length<=1?b.none():UC(u,C.firstSelectedSelector,C.lastSelectedSelector).map(T=>({bounds:T,cells:m})),Gp={create:(u,m)=>({selection:u,kill:m})},u7=(u,m,C,T)=>{switch(u.tag){case"none":return m();case"single":return T(u.element);case"multiple":return C(u.elements)}},WC=()=>({tag:"none"}),f7=u=>({tag:"multiple",elements:u}),Lb=u=>({tag:"single",element:u}),KC=(u,m,C)=>({get:()=>C0(u(),C).fold(()=>m().fold(WC,Lb),f7)}),Nb={create:(u,m,C,T)=>({start:ti.on(u,m),finish:ti.on(C,T)})},Am=(u,m)=>{const C=cn(u,m);return h1.create(Qn.fromDom(C.startContainer),C.startOffset,Qn.fromDom(C.endContainer),C.endOffset)},_0=Nb.create,p7=(u,m,C,T,X,ue,De)=>Oo(C,X)&&T===ue?b.none():Wa(C,"td,th",m).bind(Ye=>Wa(X,"td,th",m).bind(ct=>g7(u,m,Ye,ct,De))),g7=(u,m,C,T,X)=>Oo(C,T)?b.none():y0(C,T,m).bind(ue=>{const De=ue.boxes.getOr([]);return De.length>1?(X(u,De,ue.start,ue.finish),b.some(Gp.create(b.some(_0(C,0,C,Mi(C))),!0))):b.none()}),m7=(u,m,C,T,X)=>{const ue=De=>(X.clearBeforeUpdate(C),X.selectRange(C,De.boxes,De.start,De.finish),De.boxes);return kb(T,u,m,X.firstSelectedSelector,X.lastSelectedSelector).map(ue)},S3=Xe.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),h7=(u,m,C)=>{const T=u.getRect(m),X=u.getRect(C);return X.right>T.left&&X.left<T.right},b7=u=>Wa(u,"tr"),Yp={...S3,verify:(u,m,C,T,X,ue,De)=>Wa(T,"td,th",De).bind(Ye=>Wa(m,"td,th",De).map(ct=>Oo(Ye,ct)?Oo(T,Ye)&&Mi(Ye)===X?ue(ct):S3.none("in same cell"):nr(b7,[Ye,ct]).fold(()=>h7(u,ct,Ye)?S3.success():ue(ct),Dt=>ue(ct)))).getOr(S3.none("default")),cata:(u,m,C,T,X)=>u.fold(m,C,T,X)},Rb=Nl("br"),Mb=(u,m,C)=>m(u,C).bind(T=>Cf(T)&&Uu(T).trim().length===0?Mb(T,m,C):b.some(T)),GC=(u,m,C)=>C.traverse(m).orThunk(()=>Mb(m,C.gather,u)).map(C.relative),YC=(u,m)=>Rl(u,m).filter(Rb).orThunk(()=>Rl(u,m-1).filter(Rb)),T3=(u,m,C,T)=>YC(m,C).bind(X=>T.traverse(X).fold(()=>Mb(X,T.gather,u).map(T.relative),ue=>m1(ue).map(De=>ti.on(De.parent,De.index)))),P1=(u,m,C,T)=>(Rb(m)?GC(u,m,T):T3(u,m,C,T)).map(ue=>({start:ue,finish:ue})),v7=u=>Yp.cata(u,m=>b.none(),()=>b.none(),m=>b.some(Hf(m,0)),m=>b.some(Hf(m,Mi(m)))),A3=(u,m)=>({left:u.left,top:u.top+m,right:u.right,bottom:u.bottom+m}),k3=(u,m)=>({left:u.left,top:u.top-m,right:u.right,bottom:u.bottom-m}),x7=(u,m,C)=>({left:u.left+m,top:u.top+C,right:u.right+m,bottom:u.bottom+C}),y7=u=>u.top,qC=u=>u.bottom,XC=(u,m,C)=>C>=0&&C<Mi(m)?u.getRangedRect(m,C,m,C+1):C>0?u.getRangedRect(m,C-1,m,C):b.none(),km=u=>({left:u.left,top:u.top,right:u.right,bottom:u.bottom}),Om=(u,m)=>b.some(u.getRect(m)),qp=(u,m,C)=>ca(m)?Om(u,m).map(km):Cf(m)?XC(u,m,C).map(km):b.none(),Ib=(u,m)=>ca(m)?Om(u,m).map(km):Cf(m)?u.getRangedRect(m,0,m,Mi(m)).map(km):b.none(),jf=5,QC=100,Su=Xe.generate([{none:[]},{retry:["caret"]}]),C7=(u,m)=>u.left<m.left||Math.abs(m.right-u.left)<1||u.left>m.right,Bb=(u,m,C)=>L2(m,fm).fold(us,T=>Ib(u,T).exists(X=>C7(C,X))),JC=(u,m,C,T,X)=>{const ue=A3(X,jf);return Math.abs(C.bottom-T.bottom)<1||C.top>X.bottom?Su.retry(ue):C.top===X.bottom?Su.retry(A3(X,1)):Bb(u,m,X)?Su.retry(x7(ue,jf,0)):Su.none()},e_={point:y7,adjuster:(u,m,C,T,X)=>{const ue=k3(X,jf);return Math.abs(C.top-T.top)<1||C.bottom<X.top?Su.retry(ue):C.bottom===X.top?Su.retry(k3(X,1)):Bb(u,m,X)?Su.retry(x7(ue,jf,0)):Su.none()},move:k3,gather:Ip},Lm={point:qC,adjuster:JC,move:A3,gather:e0},Xp=(u,m,C)=>u.elementFromPoint(m,C).filter(T=>ga(T)==="table").isSome(),O3=(u,m,C,T,X)=>Qp(u,m,C,m.move(T,jf),X),Qp=(u,m,C,T,X)=>X===0?b.some(T):Xp(u,T.left,m.point(T))?O3(u,m,C,T,X-1):u.situsFromPoint(T.left,m.point(T)).bind(ue=>ue.start.fold(b.none,De=>Ib(u,De).bind(Ye=>m.adjuster(u,De,Ye,C,T).fold(b.none,ct=>Qp(u,m,C,ct,X-1))).orThunk(()=>b.some(T)),b.none)),t_=(u,m,C)=>u.point(m)>C.getInnerHeight()?b.some(u.point(m)-C.getInnerHeight()):u.point(m)<0?b.some(-u.point(m)):b.none(),Zf=(u,m,C)=>{const T=u.move(C,jf),X=Qp(m,u,C,T,QC).getOr(T);return t_(u,X,m).fold(()=>m.situsFromPoint(X.left,u.point(X)),ue=>(m.scrollBy(0,ue),m.situsFromPoint(X.left,u.point(X)-ue)))},Id={tryUp:Eo(Zf,e_),tryDown:Eo(Zf,Lm),getJumpSize:lt(jf)},Fb=20,_7=(u,m,C)=>u.getSelection().bind(T=>P1(m,T.finish,T.foffset,C).fold(()=>b.some(Hf(T.finish,T.foffset)),X=>{const ue=u.fromSitus(X),De=Yp.verify(u,T.finish,T.foffset,ue.finish,ue.foffset,C.failure,m);return v7(De)})),Pb=(u,m,C,T,X,ue)=>ue===0?b.none():$1(u,m,C,T,X).bind(De=>{const Ye=u.fromSitus(De),ct=Yp.verify(u,C,T,Ye.finish,Ye.foffset,X.failure,m);return Yp.cata(ct,()=>b.none(),()=>b.some(De),Dt=>Oo(C,Dt)&&T===0?$b(u,C,T,k3,X):Pb(u,m,Dt,0,X,ue-1),Dt=>Oo(C,Dt)&&T===Mi(Dt)?$b(u,C,T,A3,X):Pb(u,m,Dt,Mi(Dt),X,ue-1))}),$b=(u,m,C,T,X)=>qp(u,m,C).bind(ue=>Ho(u,X,T(ue,Id.getJumpSize()))),Ho=(u,m,C)=>{const T=vd().browser;return T.isChromium()||T.isSafari()||T.isFirefox()?m.retry(u,C):b.none()},$1=(u,m,C,T,X)=>qp(u,C,T).bind(ue=>Ho(u,X,ue)),L3=(u,m,C)=>_7(u,m,C).bind(T=>Pb(u,m,T.element,T.offset,C,Fb).map(u.fromSitus)),E7=(u,m)=>Lh(u,C=>Bu(C).exists(T=>Oo(T,m))),Jp=(u,m,C,T,X)=>Wa(T,"td,th",m).bind(ue=>Wa(ue,"table",m).bind(De=>E7(X,De)?L3(u,m,C).bind(Ye=>Wa(Ye.finish,"td,th",m).map(ct=>({start:ue,finish:ct,range:Ye}))):b.none())),H1=(u,m,C,T,X,ue)=>ue(T,m).orThunk(()=>Jp(u,m,C,T,X).map(De=>{const Ye=De.range;return Gp.create(b.some(_0(Ye.start,Ye.soffset,Ye.finish,Ye.foffset)),!0)})),Hb=(u,m)=>Wa(u,"tr",m).bind(C=>Wa(C,"table",m).bind(T=>{const X=mc(T,"tr");return Oo(C,X[0])?_i(T,ue=>Ma(ue).isSome(),m).map(ue=>{const De=Mi(ue);return Gp.create(b.some(_0(ue,De,ue,De)),!0)}):b.none()})),eg=(u,m)=>Wa(u,"tr",m).bind(C=>Wa(C,"table",m).bind(T=>{const X=mc(T,"tr");return Oo(C,X[X.length-1])?Tc(T,ue=>Vu(ue).isSome(),m).map(ue=>Gp.create(b.some(_0(ue,0,ue,0)),!0)):b.none()})),Gf=(u,m,C,T,X,ue,De)=>Jp(u,C,T,X,ue).bind(Ye=>g7(m,C,Ye.start,Ye.finish,De)),zb=(u,m)=>Wa(u,"td,th",m),Bd=u=>hl(u).exists(Af),Ub=(u,m,C,T)=>{const X=ms(),ue=X.clear,De=en=>{X.on(wn=>{T.clearBeforeUpdate(m),zb(en.target,C).each(to=>{y0(wn,to,C).each(xo=>{const Wo=xo.boxes.getOr([]);if(Wo.length===1){const yn=Wo[0],In=yp(yn)==="false",ns=vn(Ah(en.target),yn,Oo);In&&ns&&T.selectRange(m,Wo,yn,yn)}else Wo.length>1&&(T.selectRange(m,Wo,xo.start,xo.finish),u.selectContents(to))})})})};return{clearstate:ue,mousedown:en=>{T.clear(m),zb(en.target,C).filter(Bd).each(X.set)},mouseover:en=>{De(en)},mouseup:en=>{De(en),ue()}}},D3={traverse:Fu,gather:e0,relative:ti.before,retry:Id.tryDown,failure:Yp.failedDown},tg={traverse:Mg,gather:Ip,relative:ti.before,retry:Id.tryUp,failure:Yp.failedUp},ng=u=>m=>m===u,Fd=ng(38),E0=ng(40),z1=u=>u>=37&&u<=40,nf={isBackward:ng(37),isForward:ng(39)},w7={isBackward:ng(39),isForward:ng(37)},og=u=>({elementFromPoint:(In,ns)=>Qn.fromPoint(Qn.fromDom(u.document),In,ns),getRect:In=>In.dom.getBoundingClientRect(),getRangedRect:(In,ns,Ss,No)=>{const yr=te.exact(In,ns,Ss,No);return Kg(u,yr)},getSelection:()=>Wu(u).map(In=>Am(u,In)),fromSitus:In=>{const ns=te.relative(In.start,In.finish);return Am(u,ns)},situsFromPoint:(In,ns)=>jg(u,In,ns).map(Ss=>Nb.create(Ss.start,Ss.soffset,Ss.finish,Ss.foffset)),clearSelection:()=>{Zg(u)},collapseSelection:(In=!1)=>{Wu(u).each(ns=>ns.fold(Ss=>Ss.collapse(In),(Ss,No)=>{const yr=In?Ss:No;cu(u,yr,yr)},(Ss,No,yr,_r)=>{const Ns=In?Ss:yr,Da=In?No:_r;lu(u,Ns,Da,Ns,Da)}))},setSelection:In=>{lu(u,In.start,In.soffset,In.finish,In.foffset)},setRelativeSelection:(In,ns)=>{cu(u,In,ns)},selectNode:In=>{Ep(u,In,!1)},selectContents:In=>{Ep(u,In)},getInnerHeight:()=>u.innerHeight,getScrollY:()=>Fl(Qn.fromDom(u.document)).top,scrollBy:(In,ns)=>{d1(In,ns,Qn.fromDom(u.document))}}),ll=(u,m)=>({rows:u,cols:m}),S7=(u,m,C,T)=>{const X=og(u),ue=Ub(X,m,C,T);return{clearstate:ue.clearstate,mousedown:ue.mousedown,mouseover:ue.mouseover,mouseup:ue.mouseup}},T7=u=>L2(u,e8).exists(Af),N3=(u,m)=>T7(u)||T7(m),Vb=(u,m,C,T)=>{const X=og(u),ue=()=>(T.clear(m),b.none());return{keydown:(ct,Dt,en,wn,to,xo)=>{const Wo=ct.raw,yn=Wo.which,In=Wo.shiftKey===!0;return Ab(m,T.selectedSelector).fold(()=>(z1(yn)&&!In&&T.clearBeforeUpdate(m),z1(yn)&&In&&!N3(Dt,wn)?b.none:E0(yn)&&In?Eo(Gf,X,m,C,D3,wn,Dt,T.selectRange):Fd(yn)&&In?Eo(Gf,X,m,C,tg,wn,Dt,T.selectRange):E0(yn)?Eo(H1,X,C,D3,wn,Dt,eg):Fd(yn)?Eo(H1,X,C,tg,wn,Dt,Hb):b.none),Ss=>{const No=yr=>()=>ne(yr,Ns=>m7(Ns.rows,Ns.cols,m,Ss,T)).fold(()=>i7(m,T.firstSelectedSelector,T.lastSelectedSelector).map(Ns=>{const Da=E0(yn)||xo.isForward(yn)?ti.after:ti.before;return X.setRelativeSelection(ti.on(Ns.first,0),Da(Ns.table)),T.clear(m),Gp.create(b.none(),!0)}),Ns=>b.some(Gp.create(b.none(),!0)));return z1(yn)&&In&&!N3(Dt,wn)?b.none:E0(yn)&&In?No([ll(1,0)]):Fd(yn)&&In?No([ll(-1,0)]):xo.isBackward(yn)&&In?No([ll(0,-1),ll(-1,0)]):xo.isForward(yn)&&In?No([ll(0,1),ll(1,0)]):z1(yn)&&!In?ue:b.none})()},keyup:(ct,Dt,en,wn,to)=>Ab(m,T.selectedSelector).fold(()=>{const xo=ct.raw,Wo=xo.which;return xo.shiftKey===!0&&z1(Wo)&&N3(Dt,wn)?p7(m,C,Dt,en,wn,to,T.selectRange):b.none()},b.none)}},Wb=(u,m,C,T)=>{const X=og(u);return(ue,De)=>{T.clearBeforeUpdate(m),y0(ue,De,C).each(Ye=>{const ct=Ye.boxes.getOr([]);T.selectRange(m,ct,Ye.start,Ye.finish),X.selectContents(De),X.collapseSelection()})}},ed={byClass:u=>{const m=R2(u.selected),C=M2([u.selected,u.lastSelected,u.firstSelected]),T=ue=>{const De=mc(ue,u.selectedSelector);z(De,C)};return{clearBeforeUpdate:T,clear:T,selectRange:(ue,De,Ye,ct)=>{T(ue),z(De,m),Wc(Ye,u.firstSelected),Wc(ct,u.lastSelected)},selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},byAttr:(u,m,C)=>{const T=ct=>{Qs(ct,u.selected),Qs(ct,u.firstSelected),Qs(ct,u.lastSelected)},X=ct=>{fa(ct,u.selected,"1")},ue=ct=>{De(ct),C()},De=ct=>{const Dt=mc(ct,`${u.selectedSelector},${u.firstSelectedSelector},${u.lastSelectedSelector}`);z(Dt,T)};return{clearBeforeUpdate:De,clear:ue,selectRange:(ct,Dt,en,wn)=>{ue(ct),z(Dt,X),fa(en,u.firstSelected,"1"),fa(wn,u.lastSelected,"1"),m(Dt,en,wn)},selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}}},Tu="data-mce-selected",Kb="td["+Tu+"],th["+Tu+"]",sg="["+Tu+"]",cl="data-mce-first-selected",Al="td["+cl+"],th["+cl+"]",Bi="data-mce-last-selected",Pd="td["+Bi+"],th["+Bi+"]",jb=sg,Gi={selected:Tu,selectedSelector:Kb,firstSelected:cl,firstSelectedSelector:Al,lastSelected:Bi,lastSelectedSelector:Pd},of=(u,m,C)=>({element:C,mergable:VC(m,u,Gi),unmergable:Ob(u),selection:c7(u)}),R3=(u,m,C)=>({element:u,clipboard:m,generators:C}),A7=(u,m,C,T)=>({selection:c7(u),clipboard:C,generators:T}),GA=u=>Ul(u).bind(m=>C0(m,Gi.firstSelectedSelector)).fold(lt(u),m=>m[0]),Zb=u=>(m,C)=>{const T=ga(m),X=T==="col"||T==="colgroup"?GA(m):m;return Wa(X,u,C)},ws=Zb("th,td,caption"),Dm=Zb("th,td"),Au=u=>tl(u.model.table.getSelectedCells()),o_=u=>P(Au(u),m=>ln(m,Gi.selectedSelector)),s_=u=>Ul(u[0]).map(m=>{const C=Yh(m,jb);return Zp(C),[C]}),r_=(u,m)=>O(m,C=>u.selection.serializer.serialize(C.dom,{})).join(""),a_=(u,m)=>{const C=u.getDoc(),T=_h(Qn.fromDom(u.getBody())),X=Qn.fromTag("div",C);fa(X,"data-mce-bogus","all"),Kr(X,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const ue=Ql(T);yi(X,m),ua(ue,X);const De=X.dom.innerText;return ri(X),De},Gb=(u,m)=>{u.on("BeforeGetContent",C=>{const T=X=>{C.preventDefault(),s_(X).each(ue=>{const De=C.format==="text"?a_(u,ue):r_(u,ue);C.content=De})};if(C.selection===!0){const X=o_(u);X.length>=1&&T(X)}}),u.on("BeforeSetContent",C=>{if(C.selection===!0&&C.paste===!0){const T=Au(u);I(T).each(X=>{Ul(X).each(ue=>{const De=P(ou(C.content),ct=>ga(ct)!=="meta"),Ye=Nl("table");if(J8(u)&&De.length===1&&Ye(De[0])){C.preventDefault();const ct=Qn.fromDom(u.getDoc()),Dt=gm(ct),en=R3(X,De[0],Dt);m.pasteCells(ue,en).each(()=>{u.focus()})}})})}})},Yb=(u,m)=>u.dispatch("NewRow",{node:m}),Nm=(u,m)=>u.dispatch("NewCell",{node:m}),$d=(u,m,C)=>{u.dispatch("TableModified",{...C,table:m})},Rm=(u,m,C,T,X)=>{u.dispatch("TableSelectionChange",{cells:m,start:C,finish:T,otherCells:X})},i_=u=>{u.dispatch("TableSelectionClear")},M3=(u,m,C,T,X)=>{u.dispatch("ObjectResizeStart",{target:m,width:C,height:T,origin:X})},l_=(u,m,C,T,X)=>{u.dispatch("ObjectResized",{target:m,width:C,height:T,origin:X})},I3={structure:!1,style:!0},Si={structure:!0,style:!1},td={structure:!0,style:!0},k7=(u,m)=>Sm(u)?Op.percentageSize(m):tf(u)?Op.pixelSize(m):Op.getTableSize(m),B3=(u,m,C)=>{const T=mi=>ga(jp(mi))==="table",X=mi=>!T(u)||Od(mi).rows>1,ue=mi=>!T(u)||Od(mi).columns>1,De=X8(u),Ye=wb(u)?jt:jh,ct=mi=>{switch(F1(u)){case"section":return Ap.section();case"sectionCells":return Ap.sectionCells();case"cells":return Ap.cells();default:return Ap.getTableSectionType(mi,"section")}},Dt=(mi,N7)=>N7.cursor.fold(()=>{const S0=y1(mi);return I(S0).filter(os).map(qf=>{C.clearSelectedCells(mi.dom);const fl=u.dom.createRng();return fl.selectNode(qf.dom),u.selection.setRng(fl),fa(qf,"data-mce-selected","1"),fl})},S0=>{const qf=J2(S0),fl=u.dom.createRng();return fl.setStart(qf.element.dom,qf.offset),fl.setEnd(qf.element.dom,qf.offset),u.selection.setRng(fl),C.clearSelectedCells(mi.dom),b.some(fl)}),en=(mi,N7,S0,qf)=>(fl,R7,h_=!1)=>{Zp(fl);const zo=Qn.fromDom(u.getDoc()),Hd=r3(S0,zo,De),b_={sizing:k7(u,fl),resize:wb(u)?qg():t8(),section:ct(fl)};return N7(fl)?mi(fl,R7,Hd,b_).bind(T0=>{m.refresh(fl.dom),z(T0.newRows,Fm=>{Yb(u,Fm.dom)}),z(T0.newCells,Fm=>{Nm(u,Fm.dom)});const Bm=Dt(fl,T0);return os(fl)&&(Zp(fl),h_||$d(u,fl.dom,qf)),Bm.map(Fm=>({rng:Fm,effect:qf}))}):b.none()},wn=en(B8,X,jt,Si),to=en(wu,ue,jt,Si),xo=en(Up,s,jt,Si),Wo=en(pC,s,jt,Si),yn=en(ym,s,Ye,Si),In=en(Wr,s,Ye,Si),ns=en(P8,s,jt,Si),Ss=en($8,s,jt,Si),No=en(Yn,s,jt,Si),yr=en(bC,s,jt,Si),_r=en(gi,s,jt,Si),Ns=en(vC,s,jt,Si),Da=en(H8,s,jt,td),Lc=en(hC,s,jt,Si),Yf=en(F8,s,jt,Si),W1=en(Wf,s,jt,Si),K1=en(Nd,s,jt,Si),Er=en(gC,s,jt,Si),dl=en(mC,s,jt,Si),ul=en(mb,s,jt,Si);return{deleteRow:wn,deleteColumn:to,insertRowsBefore:xo,insertRowsAfter:Wo,insertColumnsBefore:yn,insertColumnsAfter:In,mergeCells:ns,unmergeCells:Ss,pasteColsBefore:No,pasteColsAfter:yr,pasteRowsBefore:_r,pasteRowsAfter:Ns,pasteCells:Da,makeCellsHeader:Lc,unmakeCellsHeader:Yf,makeColumnsHeader:W1,unmakeColumnsHeader:K1,makeRowsHeader:Er,makeRowsBody:dl,makeRowsFooter:ul,getTableRowType:xC,getTableCellType:hb,getTableColType:z8}},rg=(u,m)=>{u.selection.select(m.dom,!0),u.selection.collapse(!0)},qb=(u,m)=>{tc(m,"td,th").each(Eo(rg,u))},Xb=(u,m)=>{z(mc(m,"tr"),C=>{Yb(u,C.dom),z(mc(C,"th,td"),T=>{Nm(u,T.dom)})})},c_=u=>je(u)&&u.indexOf("%")!==-1,Qb=(u,m,C,T,X)=>{const ue=t7(u),De={styles:ue,attributes:e7(u),colGroups:$C(u)};return u.undoManager.ignore(()=>{const Ye=Kf(C,m,X,T,F1(u),De);fa(Ye,"data-mce-id","__mce");const ct=k2(Ye);u.insertContent(ct),u.addVisual()}),tc(jp(u),'table[data-mce-id="__mce"]').map(Ye=>(tf(u)?o0(Ye):x0(u)?Ju(Ye):(Sm(u)||c_(ue.width))&&n0(Ye),Zp(Ye),Qs(Ye,"data-mce-id"),Xb(u,Ye),qb(u,Ye),Ye.dom)).getOrNull()},d_=(u,m,C,T={})=>{const X=ue=>Ao(ue)&&ue>0;if(X(m)&&X(C)){const ue=T.headerRows||0,De=T.headerColumns||0;return Qb(u,C,m,De,ue)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var F3=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Jb="x-tinymce/dom-table-",U1=Jb+"rows",ag=Jb+"columns",O7=u=>{const m=F3.FakeClipboardItem(u);F3.write([m])},ev=u=>{var m;const C=(m=F3.read())!==null&&m!==void 0?m:[];return ne(C,T=>b.from(T.getType(u)))},tv=u=>{ev(u).isSome()&&F3.clear()},sf=u=>{u.fold(nv,m=>O7({[U1]:m}))},P3=()=>ev(U1),nv=()=>tv(U1),w0=u=>{u.fold(L7,m=>O7({[ag]:m}))},$3=()=>ev(ag),L7=()=>tv(ag),Mm=u=>ws(_3(u),Tm(u)).filter(w3),u_=u=>Dm(_3(u),Tm(u)).filter(w3),f_=(u,m)=>{const C=Tm(u),T=()=>Mm(u).each(In=>{Ul(In,C).filter(ht(C)).each(ns=>{const Ss=Qn.fromText("");if(da(ns,Ss),ri(ns),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{const No=u.dom.createRng();No.setStart(Ss.dom,0),No.setEnd(Ss.dom,0),u.selection.setRng(No),u.nodeChanged()}})}),X=In=>Mm(u).each(ns=>{x0(u)||tf(u)||Sm(u)||Ul(ns,C).each(No=>{In==="relative"&&!qc(No)?n0(No):In==="fixed"&&!Zi(No)?o0(No):In==="responsive"&&!lm(No)&&Ju(No),Zp(No),$d(u,No.dom,Si)})}),ue=In=>Ul(In,C),De=In=>u_(u).bind(ns=>ue(ns).map(Ss=>In(Ss,ns))),Ye=(In,ns)=>{De(Ss=>{u.formatter.toggle("tableclass",{value:ns},Ss.dom),$d(u,Ss.dom,I3)})},ct=(In,ns)=>{De(Ss=>{const No=Au(u),_r=se(No,Ns=>u.formatter.match("tablecellclass",{value:ns},Ns.dom))?u.formatter.remove:u.formatter.apply;z(No,Ns=>_r("tablecellclass",{value:ns},Ns.dom)),$d(u,Ss.dom,I3)})},Dt=()=>{Mm(u).each(In=>{Ul(In,C).each(ns=>{Ri(ns,"caption").fold(()=>{const Ss=Qn.fromTag("caption");ua(Ss,Qn.fromText("Caption")),l5(ns,Ss,0),u.selection.setCursorLocation(Ss.dom,0)},Ss=>{Nl("caption")(In)&&Yo("td",ns).each(No=>u.selection.setCursorLocation(No.dom,0)),ri(Ss)}),$d(u,ns.dom,Si)})})},en=In=>{u.focus()},wn=(In,ns=!1)=>De((Ss,No)=>{const yr=of(Au(u),Ss,No);In(Ss,yr,ns).each(en)}),to=()=>De((In,ns)=>{const Ss=of(Au(u),In,ns),No=r3(jt,Qn.fromDom(u.getDoc()),b.none());return Pf(In,Ss,No)}),xo=()=>De((In,ns)=>{const Ss=of(Au(u),In,ns);return xu(In,Ss)}),Wo=(In,ns)=>ns().each(Ss=>{const No=O(Ss,yr=>Xa(yr));De((yr,_r)=>{const Ns=gm(Qn.fromDom(u.getDoc())),Da=A7(Au(u),_r,No,Ns);In(yr,Da).each(en)})}),yn=In=>(ns,Ss)=>ot(Ss,"type").each(No=>{wn(In(No),Ss.no_events)});de({mceTableSplitCells:()=>wn(m.unmergeCells),mceTableMergeCells:()=>wn(m.mergeCells),mceTableInsertRowBefore:()=>wn(m.insertRowsBefore),mceTableInsertRowAfter:()=>wn(m.insertRowsAfter),mceTableInsertColBefore:()=>wn(m.insertColumnsBefore),mceTableInsertColAfter:()=>wn(m.insertColumnsAfter),mceTableDeleteCol:()=>wn(m.deleteColumn),mceTableDeleteRow:()=>wn(m.deleteRow),mceTableCutCol:()=>xo().each(In=>{w0(In),wn(m.deleteColumn)}),mceTableCutRow:()=>to().each(In=>{sf(In),wn(m.deleteRow)}),mceTableCopyCol:()=>xo().each(In=>w0(In)),mceTableCopyRow:()=>to().each(In=>sf(In)),mceTablePasteColBefore:()=>Wo(m.pasteColsBefore,$3),mceTablePasteColAfter:()=>Wo(m.pasteColsAfter,$3),mceTablePasteRowBefore:()=>Wo(m.pasteRowsBefore,P3),mceTablePasteRowAfter:()=>Wo(m.pasteRowsAfter,P3),mceTableDelete:T,mceTableCellToggleClass:ct,mceTableToggleClass:Ye,mceTableToggleCaption:Dt,mceTableSizingMode:(In,ns)=>X(ns),mceTableCellType:yn(In=>In==="th"?m.makeCellsHeader:m.unmakeCellsHeader),mceTableColType:yn(In=>In==="th"?m.makeColumnsHeader:m.unmakeColumnsHeader),mceTableRowType:yn(In=>{switch(In){case"header":return m.makeRowsHeader;case"footer":return m.makeRowsFooter;default:return m.makeRowsBody}})},(In,ns)=>u.addCommand(ns,In)),u.addCommand("mceInsertTable",(In,ns)=>{d_(u,ns.rows,ns.columns,ns.options)}),u.addCommand("mceTableApplyCellStyle",(In,ns)=>{const Ss=_r=>"tablecell"+_r.toLowerCase().replace("-","");if(!dt(ns))return;const No=P(Au(u),w3);if(No.length===0)return;const yr=We(ns,(_r,Ns)=>u.formatter.has(Ss(Ns))&&je(_r));Ve(yr)||(de(yr,(_r,Ns)=>{const Da=Ss(Ns);z(No,Lc=>{_r===""?u.formatter.remove(Da,{value:null},Lc.dom,!0):u.formatter.apply(Da,{value:_r},Lc.dom)})}),ue(No[0]).each(_r=>$d(u,_r.dom,I3)))})},p_=(u,m)=>{const C=Tm(u),T=X=>Dm(_3(u)).bind(ue=>Ul(ue,C).map(De=>{const Ye=of(Au(u),De,ue);return X(De,Ye)})).getOr("");de({mceTableRowType:()=>T(m.getTableRowType),mceTableCellType:()=>T(m.getTableCellType),mceTableColType:()=>T(m.getTableColType)},(X,ue)=>u.addQueryValueHandler(ue,X))},ig=u=>!p1(Qn.fromDom(u.target),"ephox-snooker-resizer-bar"),ov=(u,m)=>{const C=KC(()=>Qn.fromDom(u.getBody()),()=>Dm(_3(u),Tm(u)),Gi.selectedSelector),T=(ct,Dt,en)=>{Ul(Dt).each(to=>{const xo=O(ct,Ss=>Ss.dom),Wo=X8(u),yn=r3(jt,Qn.fromDom(u.getDoc()),Wo),In=Au(u),ns=j2(to,{selection:In},yn).map(Ss=>Le(Ss,No=>O(No,yr=>yr.dom))).getOrUndefined();Rm(u,xo,Dt.dom,en.dom,ns)})},X=()=>i_(u),ue=ed.byAttr(Gi,T,X);return u.on("init",ct=>{const Dt=u.getWin(),en=jp(u),wn=Tm(u),to=()=>{const Er=u.selection,dl=Qn.fromDom(Er.getStart()),ul=Qn.fromDom(Er.getEnd());nr(Ul,[dl,ul]).fold(()=>ue.clear(en),jt)},xo=S7(Dt,en,wn,ue),Wo=Vb(Dt,en,wn,ue),yn=Wb(Dt,en,wn,ue),In=Er=>Er.raw.shiftKey===!0;u.on("TableSelectorChange",Er=>yn(Er.start,Er.finish));const ns=(Er,dl)=>{In(Er)&&(dl.kill&&Er.kill(),dl.selection.each(ul=>{const ac=te.relative(ul.start,ul.finish),Kl=cn(Dt,ac);u.selection.setRng(Kl)}))},Ss=Er=>{const dl=Ra(Er);if(dl.raw.shiftKey&&z1(dl.raw.which)){const ul=u.selection.getRng(),ac=Qn.fromDom(ul.startContainer),Kl=Qn.fromDom(ul.endContainer);Wo.keyup(dl,ac,ul.startOffset,Kl,ul.endOffset).each(Dc=>{ns(dl,Dc)})}},No=Er=>{const dl=Ra(Er);m.hide();const ul=u.selection.getRng(),ac=Qn.fromDom(ul.startContainer),Kl=Qn.fromDom(ul.endContainer),Dc=Pl(nf,w7)(Qn.fromDom(u.selection.getStart()));Wo.keydown(dl,ac,ul.startOffset,Kl,ul.endOffset,Dc).each(mi=>{ns(dl,mi)}),m.show()},yr=Er=>Er.button===0,_r=Er=>Er.buttons===void 0?!0:(Er.buttons&1)!==0,Ns=Er=>{xo.clearstate()},Da=Er=>{yr(Er)&&ig(Er)&&xo.mousedown(Ra(Er))},Lc=Er=>{_r(Er)&&ig(Er)&&xo.mouseover(Ra(Er))},Yf=Er=>{yr(Er)&&ig(Er)&&xo.mouseup(Ra(Er))},K1=(()=>{const Er=$e(Qn.fromDom(en)),dl=$e(0);return{touchEnd:ac=>{const Kl=Qn.fromDom(ac.target);if(Nl("td")(Kl)||Nl("th")(Kl)){const Dc=Er.get(),mi=dl.get();Oo(Dc,Kl)&&ac.timeStamp-mi<300&&(ac.preventDefault(),yn(Kl,Kl))}Er.set(Kl),dl.set(ac.timeStamp)}}})();u.on("dragstart",Ns),u.on("mousedown",Da),u.on("mouseover",Lc),u.on("mouseup",Yf),u.on("touchend",K1.touchEnd),u.on("keyup",Ss),u.on("keydown",No),u.on("NodeChange",to)}),u.on("PreInit",()=>{u.serializer.addTempAttr(Gi.firstSelected),u.serializer.addTempAttr(Gi.lastSelected)}),{getSelectedCells:()=>u7(C.get(),lt([]),ct=>O(ct,Dt=>Dt.dom),ct=>[ct.dom]),clearSelectedCells:ct=>ue.clear(Qn.fromDom(ct))}},g_=(u,m)=>{const C=Qn.fromDom(u.getBody());return kr.body(C,m)},sv=u=>es(u)&&u.nodeName==="TABLE",rv="bar-",D7=u=>Jl(u,"data-mce-resize")!=="false",av=u=>{const m=Ys.fromTable(u);Ys.hasColumns(m)||z(y1(u),C=>{const T=Hu(C,"width");ii(C,"width",T),Qs(C,"width")})},Im=u=>ye(u,"corner-"),iv=u=>Z(u,"corner-"),m_=u=>{const m=ms(),C=ms(),T=ms();let X,ue,De,Ye;const ct=No=>k7(u,No),Dt=()=>y3(u)?t8():qg(),en=No=>Od(No).columns,wn=No=>Od(No).rows,to=(No,yr,_r,Ns)=>{const Da=iv(yr),Lc=Ce(Da,"e"),Yf=ye(Da,"n");if(ue===""&&n0(No),Ye===""&&Xc(No),_r!==X&&ue!==""){ii(No,"width",ue);const W1=Dt(),K1=ct(No),Er=y3(u)||Lc?en(No)-1:0;Np(No,_r-X,Er,W1,K1)}else if(HC(ue)){const W1=parseFloat(ue.replace("%","")),K1=_r*W1/X;ii(No,"width",K1+"%")}if(a7(ue)&&av(No),Ns!==De&&Ye!==""){ii(No,"height",Ye);const W1=Yf?0:wn(No)-1;f8(No,Ns-De,W1)}},xo=()=>{C.on(No=>{No.destroy()})};u.on("init",()=>{const No=g_(u,D7);if(T.set(No),Eb(u)&&Q8(u)){const yr=Dt(),_r=BC.create(No,yr,ct);u.mode.isReadOnly()||_r.on(),_r.events.startDrag.bind(Ns=>{m.set(u.selection.getRng())}),_r.events.beforeResize.bind(Ns=>{const Da=Ns.table.dom;M3(u,Da,n7(Da),o7(Da),rv+Ns.type)}),_r.events.afterResize.bind(Ns=>{const Da=Ns.table,Lc=Da.dom;Zp(Da),m.on(Yf=>{u.selection.setRng(Yf),u.focus()}),l_(u,Lc,n7(Lc),o7(Lc),rv+Ns.type),u.undoManager.add()}),C.set(_r)}}),u.on("ObjectResizeStart",No=>{const yr=No.target;if(sv(yr)&&!u.mode.isReadOnly()){const _r=Qn.fromDom(yr);z(u.dom.select(".mce-clonedresizable"),Ns=>{u.dom.addClass(Ns,"mce-"+v0(u)+"-columns")}),!Zi(_r)&&tf(u)?o0(_r):!qc(_r)&&Sm(u)&&n0(_r),lm(_r)&&ye(No.origin,rv)&&n0(_r),X=No.width,ue=x0(u)?"":E3(u,yr).getOr(""),De=No.height,Ye=r7(u,yr).getOr("")}}),u.on("ObjectResized",No=>{const yr=No.target;if(sv(yr)){const _r=Qn.fromDom(yr),Ns=No.origin;Im(Ns)&&to(_r,Ns,No.width,No.height),Zp(_r),$d(u,_r.dom,I3)}});const Wo=()=>{C.on(No=>{No.on(),No.showBars()})},yn=()=>{C.on(No=>{No.off(),No.hideBars()})};return u.on("DisabledStateChange",No=>{No.state?yn():Wo()}),u.on("SwitchMode",()=>{u.mode.isReadOnly()?yn():Wo()}),u.on("dragstart dragend",No=>{No.type==="dragstart"?yn():Wo()}),u.on("remove",()=>{xo()}),{refresh:No=>{C.on(yr=>yr.refreshBars(Qn.fromDom(No)))},hide:()=>{C.on(No=>No.hideBars())},show:()=>{C.on(No=>No.showBars())}}},Zr=u=>{PC(u);const m=m_(u),C=ov(u,m),T=B3(u,m,C);return f_(u,T),p_(u,T),Gb(u,T),{getSelectedCells:C.getSelectedCells,clearSelectedCells:C.clearSelectedCells}},lv=u=>({table:Zr(u)});var V1=()=>{E.add("dom",lv)};V1()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=(fe,Z,ae)=>{var ye;return ae(fe,Z.prototype)?!0:((ye=fe.constructor)===null||ye===void 0?void 0:ye.name)===Z.name},x=fe=>{const Z=typeof fe;return fe===null?"null":Z==="object"&&Array.isArray(fe)?"array":Z==="object"&&R(fe,String,(ae,ye)=>ye.isPrototypeOf(ae))?"string":Z},ce=fe=>Z=>x(Z)===fe,ke=ce("string"),He=ce("object"),je=ce("array"),dt=fe=>fe==null,Ft=fe=>!dt(fe);class Oe{constructor(Z,ae){this.tag=Z,this.value=ae}static some(Z){return new Oe(!0,Z)}static none(){return Oe.singletonNone}fold(Z,ae){return this.tag?ae(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?Oe.some(Z(this.value)):Oe.none()}bind(Z){return this.tag?Z(this.value):Oe.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:Oe.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return Ft(Z)?Oe.some(Z):Oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Oe.singletonNone=new Oe(!1);const pn=Array.prototype.push,On=(fe,Z)=>{for(let ae=0,ye=fe.length;ae<ye;ae++){const Ce=fe[ae];Z(Ce,ae)}},ve=fe=>{const Z=[];for(let ae=0,ye=fe.length;ae<ye;++ae){if(!je(fe[ae]))throw new Error("Arr.flatten item "+ae+" was not an array, input: "+fe);pn.apply(Z,fe[ae])}return Z},es=Object.keys,_o=Object.hasOwnProperty,Ao=(fe,Z)=>{const ae=es(fe);for(let ye=0,Ce=ae.length;ye<Ce;ye++){const ze=ae[ye],Re=fe[ze];Z(Re,ze)}},jt=(fe,Z)=>Zo(fe,Z)?Oe.from(fe[Z]):Oe.none(),Zo=(fe,Z)=>_o.call(fe,Z),Xt=fe=>{let Z=fe;return{get:()=>Z,set:Ce=>{Z=Ce}}},lt=(fe,Z,ae)=>fe.length>=Z.length&&fe.substr(ae,ae+Z.length)===Z,Xn=(fe,Z)=>lt(fe,Z,0),gs=fe=>Z=>Z.options.get(fe),Eo=fe=>{const Z=fe.options.register;Z("audio_template_callback",{processor:"function"}),Z("video_template_callback",{processor:"function"}),Z("iframe_template_callback",{processor:"function"}),Z("media_live_embeds",{processor:"boolean",default:!0}),Z("media_filter_html",{processor:"boolean",default:!0}),Z("media_url_resolver",{processor:"function"}),Z("media_alt_source",{processor:"boolean",default:!0}),Z("media_poster",{processor:"boolean",default:!0}),Z("media_dimensions",{processor:"boolean",default:!0})},ht=gs("audio_template_callback"),oo=gs("video_template_callback"),Ls=gs("iframe_template_callback"),us=gs("media_live_embeds"),s=gs("media_filter_html"),b=gs("media_url_resolver"),B=gs("media_alt_source"),ge=gs("media_poster"),a=gs("media_dimensions");var p=tinymce.util.Tools.resolve("tinymce.util.Tools"),M=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),L=tinymce.util.Tools.resolve("tinymce.html.DomParser");const A=M.DOM,O=fe=>fe.replace(/px$/,""),z=fe=>{const Z=fe.attr("style"),ae=Z?A.parseStyle(Z):{};return{type:"ephox-embed-iri",source:fe.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:jt(ae,"max-width").map(O).getOr(""),height:jt(ae,"max-height").map(O).getOr("")}},Q=(fe,Z)=>{let ae={};const Ce=L({validate:!1,forced_root_block:!1},Z).parse(fe);for(let ze=Ce;ze;ze=ze.walk())if(ze.type===1){const Re=ze.name;if(ze.attr("data-ephox-embed-iri")){ae=z(ze);break}else!ae.source&&Re==="param"&&(ae.source=ze.attr("movie")),(Re==="iframe"||Re==="object"||Re==="embed"||Re==="video"||Re==="audio")&&(ae.type||(ae.type=Re),ae=p.extend(ze.attributes.map,ae)),Re==="source"&&(ae.source?ae.altsource||(ae.altsource=ze.attr("src")):ae.source=ze.attr("src")),Re==="img"&&!ae.poster&&(ae.poster=ze.attr("src"))}return ae.source=ae.source||ae.src||"",ae.altsource=ae.altsource||"",ae.poster=ae.poster||"",ae},H=fe=>{var Z;const ae={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ye=(Z=fe.toLowerCase().split(".").pop())!==null&&Z!==void 0?Z:"";return jt(ae,ye).getOr("")};var P=tinymce.util.Tools.resolve("tinymce.html.Node"),j=tinymce.util.Tools.resolve("tinymce.html.Serializer");const K=(fe,Z={})=>L({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Z},fe),ee=M.DOM,w=fe=>/^[0-9.]+$/.test(fe)?fe+"px":fe,xe=(fe,Z)=>{const ae=Z.attr("style"),ye=ae?ee.parseStyle(ae):{};Ft(fe.width)&&(ye["max-width"]=w(fe.width)),Ft(fe.height)&&(ye["max-height"]=w(fe.height)),Z.attr("style",ee.serializeStyle(ye))},be=["source","altsource"],re=(fe,Z,ae,ye)=>{let Ce=0,ze=0;const Re=K(ye);Re.addNodeFilter("source",pe=>Ce=pe.length);const J=Re.parse(fe);for(let pe=J;pe;pe=pe.walk())if(pe.type===1){const me=pe.name;if(pe.attr("data-ephox-embed-iri")){xe(Z,pe);break}else{switch(me){case"video":case"object":case"embed":case"img":case"iframe":Z.height!==void 0&&Z.width!==void 0&&(pe.attr("width",Z.width),pe.attr("height",Z.height));break}if(ae)switch(me){case"video":pe.attr("poster",Z.poster),pe.attr("src",null);for(let Ke=Ce;Ke<2;Ke++)if(Z[be[Ke]]){const ft=new P("source",1);ft.attr("src",Z[be[Ke]]),ft.attr("type",Z[be[Ke]+"mime"]||null),pe.append(ft)}break;case"iframe":pe.attr("src",Z.source);break;case"object":const _e=pe.getAll("img").length>0;if(Z.poster&&!_e){pe.attr("src",Z.poster);const Ke=new P("img",1);Ke.attr("src",Z.poster),Ke.attr("width",Z.width),Ke.attr("height",Z.height),pe.append(Ke)}break;case"source":if(ze<2&&(pe.attr("src",Z[be[ze]]),pe.attr("type",Z[be[ze]+"mime"]||null),!Z[be[ze]])){pe.remove();continue}ze++;break;case"img":Z.poster||pe.remove();break}}}return j({},ye).serialize(J)},se=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],ie=fe=>{const Z=fe.match(/^(https?:\/\/|www\.)(.+)$/i);return Z&&Z.length>1?Z[1]==="www."?"https://":Z[1]:"https://"},D=(fe,Z)=>{const ae=ie(Z),ye=fe.regex.exec(Z);let Ce=ae+fe.url;if(Ft(ye))for(let ze=0;ze<ye.length;ze++)Ce=Ce.replace("$"+ze,()=>ye[ze]?ye[ze]:"");return Ce.replace(/\?$/,"")},U=fe=>{const Z=se.filter(ae=>ae.regex.test(fe));return Z.length>0?p.extend({},Z[0],{url:D(Z[0],fe)}):null},V=(fe,Z)=>{if(Z)return Z(fe);{const ae=fe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+fe.source+'" width="'+fe.width+'" height="'+fe.height+'"'+ae+"></iframe>"}},I=fe=>{let Z='<object data="'+fe.source+'" width="'+fe.width+'" height="'+fe.height+'" type="application/x-shockwave-flash">';return fe.poster&&(Z+='<img src="'+fe.poster+'" width="'+fe.width+'" height="'+fe.height+'" />'),Z+="</object>",Z},N=(fe,Z)=>Z?Z(fe):'<audio controls="controls" src="'+fe.source+'">'+(fe.altsource?`
<source src="`+fe.altsource+'"'+(fe.altsourcemime?' type="'+fe.altsourcemime+'"':"")+` />
`:"")+"</audio>",ne=(fe,Z)=>Z?Z(fe):'<video width="'+fe.width+'" height="'+fe.height+'"'+(fe.poster?' poster="'+fe.poster+'"':"")+` controls="controls">
<source src="`+fe.source+'"'+(fe.sourcemime?' type="'+fe.sourcemime+'"':"")+` />
`+(fe.altsource?'<source src="'+fe.altsource+'"'+(fe.altsourcemime?' type="'+fe.altsourcemime+'"':"")+` />
`:"")+"</video>",G=(fe,Z)=>{var ae;const ye=p.extend({},Z);if(!ye.source&&(p.extend(ye,Q((ae=ye.embed)!==null&&ae!==void 0?ae:"",fe.schema)),!ye.source))return"";ye.altsource||(ye.altsource=""),ye.poster||(ye.poster=""),ye.source=fe.convertURL(ye.source,"source"),ye.altsource=fe.convertURL(ye.altsource,"source"),ye.sourcemime=H(ye.source),ye.altsourcemime=H(ye.altsource),ye.poster=fe.convertURL(ye.poster,"poster");const Ce=U(ye.source);if(Ce&&(ye.source=Ce.url,ye.type=Ce.type,ye.allowfullscreen=Ce.allowFullscreen,ye.width=ye.width||String(Ce.w),ye.height=ye.height||String(Ce.h)),ye.embed)return re(ye.embed,ye,!0,fe.schema);{const ze=ht(fe),Re=oo(fe),J=Ls(fe);return ye.width=ye.width||"300",ye.height=ye.height||"150",p.each(ye,(pe,me)=>{ye[me]=fe.dom.encode(""+pe)}),ye.type==="iframe"?V(ye,J):ye.sourcemime==="application/x-shockwave-flash"?I(ye):ye.sourcemime.indexOf("audio")!==-1?N(ye,ze):ne(ye,Re)}},q=fe=>fe.hasAttribute("data-mce-object")||fe.hasAttribute("data-ephox-embed-iri"),de=fe=>{fe.on("mousedown",Z=>{const ae=fe.dom.getParent(Z.target,".mce-preview-object");ae&&fe.dom.getAttrib(ae,"data-mce-selected")==="2"&&Z.stopImmediatePropagation()}),fe.on("click keyup touchend",()=>{const Z=fe.selection.getNode();Z&&fe.dom.hasClass(Z,"mce-preview-object")&&fe.dom.getAttrib(Z,"data-mce-selected")&&Z.setAttribute("data-mce-selected","2")}),fe.on("ObjectResized",Z=>{const ae=Z.target;if(ae.getAttribute("data-mce-object")){let ye=ae.getAttribute("data-mce-html");ye&&(ye=unescape(ye),ae.setAttribute("data-mce-html",escape(re(ye,{width:String(Z.width),height:String(Z.height)},!1,fe.schema))))}})},Le={},Ae=(fe,Z,ae)=>new Promise((ye,Ce)=>{const ze=Re=>(Re.html&&(Le[fe.source]=Re),ye({url:fe.source,html:Re.html?Re.html:Z(fe)}));Le[fe.source]?ze(Le[fe.source]):ae({url:fe.source}).then(ze).catch(Ce)}),we=(fe,Z)=>Promise.resolve({html:Z(fe),url:fe.source}),Pe=fe=>Z=>G(fe,Z),We=(fe,Z)=>{const ae=b(fe);return ae?Ae(Z,Pe(fe),ae):we(Z,Pe(fe))},ut=fe=>Zo(Le,fe),nt=(fe,Z)=>jt(Z,fe).bind(ae=>jt(ae,"meta")),ot=(fe,Z,ae)=>ye=>{const Ce=()=>jt(fe,ye),ze=()=>jt(Z,ye),Re=me=>jt(me,"value").bind(_e=>_e.length>0?Oe.some(_e):Oe.none()),J=()=>Ce().bind(me=>He(me)?Re(me).orThunk(ze):ze().orThunk(()=>Oe.from(me))),pe=()=>ze().orThunk(()=>Ce().bind(me=>He(me)?Re(me):Oe.from(me)));return{[ye]:(ye===ae?J():pe()).getOr("")}},Me=(fe,Z)=>{const ae={};return jt(fe,"dimensions").each(ye=>{On(["width","height"],Ce=>{jt(Z,Ce).orThunk(()=>jt(ye,Ce)).each(ze=>ae[Ce]=ze)})}),ae},et=(fe,Z)=>{const ae=Z&&Z!=="dimensions"?nt(Z,fe).getOr({}):{},ye=ot(fe,ae,Z);return{...ye("source"),...ye("altsource"),...ye("poster"),...ye("embed"),...Me(fe,ae)}},Ve=fe=>{const Z={...fe,source:{value:jt(fe,"source").getOr("")},altsource:{value:jt(fe,"altsource").getOr("")},poster:{value:jt(fe,"poster").getOr("")}};return On(["width","height"],ae=>{jt(fe,ae).each(ye=>{const Ce=Z.dimensions||{};Ce[ae]=ye,Z.dimensions=Ce})}),Z},Ze=fe=>Z=>{const ae=Z&&Z.msg?"Media embed handler error: "+Z.msg:"Media embed handler threw unknown error.";fe.notificationManager.open({type:"error",text:ae})},Xe=fe=>{const Z=fe.selection.getNode(),ae=q(Z)?fe.serializer.serialize(Z,{selection:!0}):"",ye=Q(ae,fe.schema),ze=(()=>{if(mt(ye.source,ye.type)){const Re=fe.dom.getRect(Z);return{width:Re.w.toString().replace(/px$/,""),height:Re.h.toString().replace(/px$/,"")}}else return{}})();return{embed:ae,...ye,...ze}},$e=(fe,Z)=>ae=>{if(ke(ae.url)&&ae.url.trim().length>0){const ye=ae.html,ze={...Q(ye,Z.schema),source:ae.url,embed:ye};fe.setData(Ve(ze))}},tt=(fe,Z)=>{const ae=fe.dom.select("*[data-mce-object]");for(let ye=0;ye<Z.length;ye++)for(let Ce=ae.length-1;Ce>=0;Ce--)Z[ye]===ae[Ce]&&ae.splice(Ce,1);fe.selection.select(ae[0])},_t=(fe,Z)=>{const ae=fe.dom.select("*[data-mce-object]");fe.insertContent(Z),tt(fe,ae),fe.nodeChanged()},mt=(fe,Z)=>Ft(Z)&&Z==="ephox-embed-iri"&&Ft(U(fe)),Lt=(fe,Z)=>((ye,Ce)=>ye.width!==Ce.width||ye.height!==Ce.height)(fe,Z)&&mt(Z.source,fe.type),Rt=(fe,Z,ae)=>{var ye;Z.embed=Lt(fe,Z)&&a(ae)?G(ae,{...Z,embed:""}):re((ye=Z.embed)!==null&&ye!==void 0?ye:"",Z,!1,ae.schema),Z.embed&&(fe.source===Z.source||ut(Z.source))?_t(ae,Z.embed):We(ae,Z).then(Ce=>{_t(ae,Ce.html)}).catch(Ze(ae))},Wt=fe=>{const Z=Xe(fe),ae=Xt(Z),ye=Ve(Z),Ce=(Tt,Mt)=>{const qt=et(Mt.getData(),"source");Tt.source!==qt.source&&($e(kt,fe)({url:qt.source,html:""}),We(fe,qt).then($e(kt,fe)).catch(Ze(fe)))},ze=Tt=>{var Mt;const qt=et(Tt.getData()),Qt=Q((Mt=qt.embed)!==null&&Mt!==void 0?Mt:"",fe.schema);Tt.setData(Ve(Qt))},Re=(Tt,Mt,qt)=>{const Qt=et(Tt.getData(),Mt),on=Lt(qt,Qt)&&a(fe)?{...Qt,embed:""}:Qt,_n=G(fe,on);Tt.setData(Ve({...on,embed:_n}))},J=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],pe=a(fe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],me={title:"General",name:"general",items:ve([J,pe])},Ke={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},ft=[];B(fe)&&ft.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ge(fe)&&ft.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const gt={title:"Advanced",name:"advanced",items:ft},At=[me,Ke];ft.length>0&&At.push(gt);const zt={type:"tabpanel",tabs:At},kt=fe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:zt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Tt=>{const Mt=et(Tt.getData());Rt(ae.get(),Mt,fe),Tt.close()},onChange:(Tt,Mt)=>{switch(Mt.name){case"source":Ce(ae.get(),Tt);break;case"embed":ze(Tt);break;case"dimensions":case"altsource":case"poster":Re(Tt,Mt.name,ae.get());break}ae.set(et(Tt.getData()))},initialData:ye})},Zt=fe=>({showDialog:()=>{Wt(fe)}}),kn=fe=>{const Z=()=>{Wt(fe)};fe.addCommand("mceMedia",Z)};var Jn=tinymce.util.Tools.resolve("tinymce.Env");const Je=fe=>{const Z=fe.name;return Z==="iframe"||Z==="video"||Z==="audio"},wt=(fe,Z,ae,ye=null)=>{const Ce=fe.attr(ae);return Ft(Ce)?Ce:Zo(Z,ae)?null:ye},It=(fe,Z,ae)=>{const ye=Z.name==="img"||fe.name==="video",Ce=ye?"300":null,ze=fe.name==="audio"?"30":"150",Re=ye?ze:null;Z.attr({width:wt(fe,ae,"width",Ce),height:wt(fe,ae,"height",Re)})},nn=(fe,Z,ae,ye)=>{const Ce=K(fe.schema).parse(ye,{context:Z});for(;Ce.firstChild;)ae.append(Ce.firstChild)},bn=(fe,Z)=>{const ae=Z.name,ye=new P("img",1);return Mn(fe,Z,ye),It(Z,ye,{}),ye.attr({style:Z.attr("style"),src:Jn.transparentSrc,"data-mce-object":ae,class:"mce-object mce-object-"+ae}),ye},Tn=(fe,Z)=>{var ae;const ye=Z.name,Ce=new P("span",1);Ce.attr({contentEditable:"false",style:Z.attr("style"),"data-mce-object":ye,class:"mce-preview-object mce-object-"+ye}),Mn(fe,Z,Ce);const ze=fe.dom.parseStyle((ae=Z.attr("style"))!==null&&ae!==void 0?ae:""),Re=new P(ye,1);if(It(Z,Re,ze),Re.attr({src:Z.attr("src"),style:Z.attr("style"),class:Z.attr("class")}),ye==="iframe")Re.attr({allowfullscreen:Z.attr("allowfullscreen"),frameborder:"0",sandbox:Z.attr("sandbox"),referrerpolicy:Z.attr("referrerpolicy")});else{On(["controls","crossorigin","currentTime","loop","muted","poster","preload"],_e=>{Re.attr(_e,Z.attr(_e))});const me=Ce.attr("data-mce-html");Ft(me)&&nn(fe,ye,Re,unescape(me))}const J=new P("span",1);return J.attr("class","mce-shim"),Ce.append(Re),Ce.append(J),Ce},Mn=(fe,Z,ae)=>{var ye;const Ce=(ye=Z.attributes)!==null&&ye!==void 0?ye:[];let ze=Ce.length;for(;ze--;){const me=Ce[ze].name;let _e=Ce[ze].value;me!=="width"&&me!=="height"&&me!=="style"&&!Xn(me,"data-mce-")&&((me==="data"||me==="src")&&(_e=fe.convertURL(_e,me)),ae.attr("data-mce-p-"+me,_e))}const Re=j({inner:!0},fe.schema),J=new P("div",1);On(Z.children(),me=>J.append(me));const pe=Re.serialize(J);pe&&(ae.attr("data-mce-html",escape(pe)),ae.empty())},vn=fe=>{const Z=fe.attr("class");return ke(Z)&&/\btiny-pageembed\b/.test(Z)},Hn=fe=>{let Z=fe;for(;Z=Z.parent;)if(Z.attr("data-ephox-embed-iri")||vn(Z))return!0;return!1},wo=fe=>Z=>{let ae=Z.length,ye;for(;ae--;)ye=Z[ae],ye.parent&&(ye.parent.attr("data-mce-object")||(Je(ye)&&us(fe)?Hn(ye)||ye.replace(Tn(fe,ye)):Hn(ye)||ye.replace(bn(fe,ye))))},ro=(fe,Z,ae)=>{const ye=fe.options.get,Ce=ye("xss_sanitization"),ze=s(fe);return K(fe.schema,{sanitize:Ce,validate:ze}).parse(ae,{context:Z})},qo=fe=>{fe.on("PreInit",()=>{const{schema:Z,serializer:ae,parser:ye}=fe,Ce=Z.getBoolAttrs();On("webkitallowfullscreen mozallowfullscreen".split(" "),ze=>{Ce[ze]={}}),Ao({embed:["wmode"]},(ze,Re)=>{const J=Z.getElementRule(Re);J&&On(ze,pe=>{J.attributes[pe]={},J.attributesOrder.push(pe)})}),ye.addNodeFilter("iframe,video,audio,object,embed",wo(fe)),ae.addAttributeFilter("data-mce-object",(ze,Re)=>{var J;let pe=ze.length;for(;pe--;){const me=ze[pe];if(!me.parent)continue;const _e=me.attr(Re),Ke=new P(_e,1);if(_e!=="audio"){const zt=me.attr("class");zt&&zt.indexOf("mce-preview-object")!==-1&&me.firstChild?Ke.attr({width:me.firstChild.attr("width"),height:me.firstChild.attr("height")}):Ke.attr({width:me.attr("width"),height:me.attr("height")})}Ke.attr({style:me.attr("style")});const ft=(J=me.attributes)!==null&&J!==void 0?J:[];let gt=ft.length;for(;gt--;){const zt=ft[gt].name;zt.indexOf("data-mce-p-")===0&&Ke.attr(zt.substr(11),ft[gt].value)}const At=me.attr("data-mce-html");if(At){const zt=ro(fe,_e,unescape(At));On(zt.children(),kt=>Ke.append(kt))}me.replace(Ke)}})}),fe.on("SetContent",()=>{const Z=fe.dom;On(Z.select("span.mce-preview-object"),ae=>{Z.select("span.mce-shim",ae).length===0&&Z.add(ae,"span",{class:"mce-shim"})})})},zn=fe=>{fe.on("ResolveName",Z=>{let ae;Z.target.nodeType===1&&(ae=Z.target.getAttribute("data-mce-object"))&&(Z.name=ae)})},ls=fe=>Z=>{const ae=()=>{Z.setEnabled(fe.selection.isEditable())};return fe.on("NodeChange",ae),ae(),()=>{fe.off("NodeChange",ae)}},ms=fe=>{const Z=()=>fe.execCommand("mceMedia");fe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Z,onSetup:ae=>{const ye=fe.selection;ae.setActive(q(ye.getNode()));const Ce=ye.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ae.setActive).unbind,ze=ls(fe)(ae);return()=>{Ce(),ze()}}}),fe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Z,onSetup:ls(fe)})};var Et=()=>{E.add("media",fe=>(Eo(fe),kn(fe),ms(fe),zn(fe),qo(fe),de(fe),Zt(fe)))};Et()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=Object.getPrototypeOf,x=(Te,Ge,xt)=>{var Kt;return xt(Te,Ge.prototype)?!0:((Kt=Te.constructor)===null||Kt===void 0?void 0:Kt.name)===Ge.name},ce=Te=>{const Ge=typeof Te;return Te===null?"null":Ge==="object"&&Array.isArray(Te)?"array":Ge==="object"&&x(Te,String,(xt,Kt)=>Kt.isPrototypeOf(xt))?"string":Ge},ke=Te=>Ge=>ce(Ge)===Te,He=Te=>Ge=>typeof Ge===Te,je=Te=>Ge=>Te===Ge,dt=(Te,Ge)=>Oe(Te)&&x(Te,Ge,(xt,Kt)=>R(xt)===Kt),Ft=ke("string"),Oe=ke("object"),pn=Te=>dt(Te,Object),On=ke("array"),ve=je(null),es=He("boolean"),_o=Te=>Te==null,Ao=Te=>!_o(Te),jt=He("function"),Zo=He("number"),Xt=(Te,Ge)=>{if(On(Te)){for(let xt=0,Kt=Te.length;xt<Kt;++xt)if(!Ge(Te[xt]))return!1;return!0}return!1},lt=()=>{};class Xn{constructor(Ge,xt){this.tag=Ge,this.value=xt}static some(Ge){return new Xn(!0,Ge)}static none(){return Xn.singletonNone}fold(Ge,xt){return this.tag?xt(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?Xn.some(Ge(this.value)):Xn.none()}bind(Ge){return this.tag?Ge(this.value):Xn.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:Xn.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return Ao(Ge)?Xn.some(Ge):Xn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xn.singletonNone=new Xn(!1);const gs=Array.prototype.push,Eo=Te=>{const Ge=[];for(let xt=0,Kt=Te.length;xt<Kt;++xt){if(!On(Te[xt]))throw new Error("Arr.flatten item "+xt+" was not an array, input: "+Te);gs.apply(Ge,Te[xt])}return Ge},ht=(Te,Ge)=>Ge>=0&&Ge<Te.length?Xn.some(Te[Ge]):Xn.none(),oo=Te=>ht(Te,0),Ls=(Te,Ge)=>{for(let xt=0;xt<Te.length;xt++){const Kt=Ge(Te[xt],xt);if(Kt.isSome())return Kt}return Xn.none()},us=Object.keys,s=Object.hasOwnProperty,b=(Te,Ge)=>{const xt=us(Te);for(let Kt=0,Cn=xt.length;Kt<Cn;Kt++){const Ko=xt[Kt],ps=Te[Ko];Ge(ps,Ko)}},B=Te=>(Ge,xt)=>{Te[xt]=Ge},ge=(Te,Ge,xt,Kt)=>{b(Te,(Cn,Ko)=>{(Ge(Cn,Ko)?xt:Kt)(Cn,Ko)})},a=(Te,Ge)=>{const xt={};return ge(Te,Ge,B(xt),lt),xt},p=(Te,Ge)=>s.call(Te,Ge),M=(Te,Ge)=>p(Te,Ge)&&Te[Ge]!==void 0&&Te[Ge]!==null,O=(Te=>(...Ge)=>{if(Ge.length===0)throw new Error("Can't merge zero objects");const xt={};for(let Kt=0;Kt<Ge.length;Kt++){const Cn=Ge[Kt];for(const Ko in Cn)p(Cn,Ko)&&(xt[Ko]=Te(xt[Ko],Cn[Ko]))}return xt})((Te,Ge)=>pn(Te)&&pn(Ge)?O(Te,Ge):Ge),z=Te=>Te.length>0,Q=(Te,Ge)=>{const Kt=(Ge||document).createElement("div");if(Kt.innerHTML=Te,!Kt.hasChildNodes()||Kt.childNodes.length>1){const Cn="HTML does not have a single root node";throw console.error(Cn,Te),new Error(Cn)}return j(Kt.childNodes[0])},H=(Te,Ge)=>{const Kt=(Ge||document).createElement(Te);return j(Kt)},P=(Te,Ge)=>{const Kt=(Ge||document).createTextNode(Te);return j(Kt)},j=Te=>{if(Te==null)throw new Error("Node cannot be null or undefined");return{dom:Te}},ee={fromHtml:Q,fromTag:H,fromText:P,fromDom:j,fromPoint:(Te,Ge,xt)=>Xn.from(Te.dom.elementFromPoint(Ge,xt)).map(j)},w=(Te,Ge,xt)=>{if(Ft(xt)||es(xt)||Zo(xt))Te.setAttribute(Ge,xt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ge,":: Value ",xt,":: Element ",Te),new Error("Attribute value was not simple")},xe=(Te,Ge,xt)=>{w(Te.dom,Ge,xt)},be=(Te,Ge)=>{Te.dom.removeAttribute(Ge)};var re=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),se=tinymce.util.Tools.resolve("tinymce.util.URI");const ie=Te=>Ge=>Ge.options.get(Te),D=Te=>{const Ge=Te.options.register;Ge("image_dimensions",{processor:"boolean",default:!0}),Ge("image_advtab",{processor:"boolean",default:!1}),Ge("image_uploadtab",{processor:"boolean",default:!0}),Ge("image_prepend_url",{processor:"string",default:""}),Ge("image_class_list",{processor:"object[]"}),Ge("image_description",{processor:"boolean",default:!0}),Ge("image_title",{processor:"boolean",default:!1}),Ge("image_caption",{processor:"boolean",default:!1}),Ge("image_list",{processor:xt=>{const Kt=xt===!1||Ft(xt)||Xt(xt,Oe)||jt(xt);return Kt?{value:xt,valid:Kt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},U=ie("image_dimensions"),V=ie("image_advtab"),I=ie("image_uploadtab"),N=ie("image_prepend_url"),ne=ie("image_class_list"),G=ie("image_description"),q=ie("image_title"),de=ie("image_caption"),Le=ie("image_list"),Ae=ie("a11y_advanced_options"),we=ie("automatic_uploads"),Pe=Te=>z(Te.options.get("images_upload_url")),We=Te=>Ao(Te.options.get("images_upload_handler")),ut=(Te,Ge)=>Math.max(parseInt(Te,10),parseInt(Ge,10)),nt=Te=>new Promise(Ge=>{const xt=document.createElement("img"),Kt=Ko=>{xt.parentNode&&xt.parentNode.removeChild(xt),Ge(Ko)};xt.addEventListener("load",()=>{const Ko=ut(xt.width,xt.clientWidth),ps=ut(xt.height,xt.clientHeight),ir={width:Ko,height:ps};Kt(Promise.resolve(ir))}),xt.addEventListener("error",()=>{Kt(Promise.reject(`Failed to get image dimensions for: ${Te}`))});const Cn=xt.style;Cn.visibility="hidden",Cn.position="fixed",Cn.bottom=Cn.left="0px",Cn.width=Cn.height="auto",document.body.appendChild(xt),xt.src=Te}),ot=Te=>(Te&&(Te=Te.replace(/px$/,"")),Te),Me=Te=>(Te.length>0&&/^[0-9]+$/.test(Te)&&(Te+="px"),Te),et=Te=>{if(Te.margin){const Ge=String(Te.margin).split(" ");switch(Ge.length){case 1:Te["margin-top"]=Te["margin-top"]||Ge[0],Te["margin-right"]=Te["margin-right"]||Ge[0],Te["margin-bottom"]=Te["margin-bottom"]||Ge[0],Te["margin-left"]=Te["margin-left"]||Ge[0];break;case 2:Te["margin-top"]=Te["margin-top"]||Ge[0],Te["margin-right"]=Te["margin-right"]||Ge[1],Te["margin-bottom"]=Te["margin-bottom"]||Ge[0],Te["margin-left"]=Te["margin-left"]||Ge[1];break;case 3:Te["margin-top"]=Te["margin-top"]||Ge[0],Te["margin-right"]=Te["margin-right"]||Ge[1],Te["margin-bottom"]=Te["margin-bottom"]||Ge[2],Te["margin-left"]=Te["margin-left"]||Ge[1];break;case 4:Te["margin-top"]=Te["margin-top"]||Ge[0],Te["margin-right"]=Te["margin-right"]||Ge[1],Te["margin-bottom"]=Te["margin-bottom"]||Ge[2],Te["margin-left"]=Te["margin-left"]||Ge[3]}delete Te.margin}return Te},Ve=(Te,Ge)=>{const xt=Le(Te);Ft(xt)?fetch(xt).then(Kt=>{Kt.ok&&Kt.json().then(Ge)}):jt(xt)?xt(Ge):Ge(xt)},Ze=(Te,Ge,xt)=>{const Kt=()=>{xt.onload=xt.onerror=null,Te.selection&&(Te.selection.select(xt),Te.nodeChanged())};xt.onload=()=>{!Ge.width&&!Ge.height&&U(Te)&&Te.dom.setAttribs(xt,{width:String(xt.clientWidth),height:String(xt.clientHeight)}),Kt()},xt.onerror=Kt},Xe=Te=>new Promise((Ge,xt)=>{const Kt=new FileReader;Kt.onload=()=>{Ge(Kt.result)},Kt.onerror=()=>{var Cn;xt((Cn=Kt.error)===null||Cn===void 0?void 0:Cn.message)},Kt.readAsDataURL(Te)}),$e=Te=>Te.nodeName==="IMG"&&(Te.hasAttribute("data-mce-object")||Te.hasAttribute("data-mce-placeholder")),tt=(Te,Ge)=>{const xt=Te.options.get;return se.isDomSafe(Ge,"img",{allow_html_data_urls:xt("allow_html_data_urls"),allow_script_urls:xt("allow_script_urls"),allow_svg_data_urls:xt("allow_svg_data_urls")})},_t=re.DOM,mt=Te=>Te.style.marginLeft&&Te.style.marginRight&&Te.style.marginLeft===Te.style.marginRight?ot(Te.style.marginLeft):"",Lt=Te=>Te.style.marginTop&&Te.style.marginBottom&&Te.style.marginTop===Te.style.marginBottom?ot(Te.style.marginTop):"",Rt=Te=>Te.style.borderWidth?ot(Te.style.borderWidth):"",Wt=(Te,Ge)=>{var xt;return Te.hasAttribute(Ge)&&(xt=Te.getAttribute(Ge))!==null&&xt!==void 0?xt:""},Zt=Te=>Te.parentNode!==null&&Te.parentNode.nodeName==="FIGURE",kn=(Te,Ge,xt)=>{xt===""||xt===null?Te.removeAttribute(Ge):Te.setAttribute(Ge,xt)},Jn=Te=>{const Ge=_t.create("figure",{class:"image"});_t.insertAfter(Ge,Te),Ge.appendChild(Te),Ge.appendChild(_t.create("figcaption",{contentEditable:"true"},"Caption")),Ge.contentEditable="false"},Je=Te=>{const Ge=Te.parentNode;Ao(Ge)&&(_t.insertAfter(Te,Ge),_t.remove(Ge))},wt=Te=>{Zt(Te)?Je(Te):Jn(Te)},It=(Te,Ge)=>{const xt=Te.getAttribute("style"),Kt=Ge(xt!==null?xt:"");Kt.length>0?(Te.setAttribute("style",Kt),Te.setAttribute("data-mce-style",Kt)):Te.removeAttribute("style")},nn=(Te,Ge)=>(xt,Kt,Cn)=>{const Ko=xt.style;Ko[Kt]?(Ko[Kt]=Me(Cn),It(xt,Ge)):kn(xt,Kt,Cn)},bn=(Te,Ge)=>Te.style[Ge]?ot(Te.style[Ge]):Wt(Te,Ge),Tn=(Te,Ge)=>{const xt=Me(Ge);Te.style.marginLeft=xt,Te.style.marginRight=xt},Mn=(Te,Ge)=>{const xt=Me(Ge);Te.style.marginTop=xt,Te.style.marginBottom=xt},vn=(Te,Ge)=>{const xt=Me(Ge);Te.style.borderWidth=xt},Hn=(Te,Ge)=>{Te.style.borderStyle=Ge},wo=Te=>{var Ge;return(Ge=Te.style.borderStyle)!==null&&Ge!==void 0?Ge:""},ro=Te=>Ao(Te)&&Te.nodeName==="FIGURE",qo=Te=>Te.nodeName==="IMG",zn=Te=>{const Ge=_t.getAttrib(Te,"alt"),xt=_t.getAttrib(Te,"role");return Te.hasAttribute("alt")&&Ge.length===0||xt==="presentation"||xt==="none"},ls=Te=>zn(Te)?"":Wt(Te,"alt"),ms=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Et=(Te,Ge)=>{var xt;const Kt=document.createElement("img");return kn(Kt,"style",Ge.style),(mt(Kt)||Ge.hspace!=="")&&Tn(Kt,Ge.hspace),(Lt(Kt)||Ge.vspace!=="")&&Mn(Kt,Ge.vspace),(Rt(Kt)||Ge.border!=="")&&vn(Kt,Ge.border),(wo(Kt)||Ge.borderStyle!=="")&&Hn(Kt,Ge.borderStyle),Te((xt=Kt.getAttribute("style"))!==null&&xt!==void 0?xt:"")},fe=(Te,Ge)=>{const xt=document.createElement("img");if(Re(Te,{...Ge,caption:!1},xt),ye(xt,Ge.alt,Ge.isDecorative),Ge.caption){const Kt=_t.create("figure",{class:"image"});return Kt.appendChild(xt),Kt.appendChild(_t.create("figcaption",{contentEditable:"true"},"Caption")),Kt.contentEditable="false",Kt}else return xt},Z=(Te,Ge)=>({src:Wt(Ge,"src"),alt:ls(Ge),title:Wt(Ge,"title"),width:bn(Ge,"width"),height:bn(Ge,"height"),class:Wt(Ge,"class"),style:Te(Wt(Ge,"style")),caption:Zt(Ge),hspace:mt(Ge),vspace:Lt(Ge),border:Rt(Ge),borderStyle:wo(Ge),isDecorative:zn(Ge)}),ae=(Te,Ge,xt,Kt,Cn)=>{xt[Kt]!==Ge[Kt]&&Cn(Te,Kt,String(xt[Kt]))},ye=(Te,Ge,xt)=>{if(xt){_t.setAttrib(Te,"role","presentation");const Kt=ee.fromDom(Te);xe(Kt,"alt","")}else{if(ve(Ge)){const Kt=ee.fromDom(Te);be(Kt,"alt")}else{const Kt=ee.fromDom(Te);xe(Kt,"alt",Ge)}_t.getAttrib(Te,"role")==="presentation"&&_t.setAttrib(Te,"role","")}},Ce=(Te,Ge,xt)=>{(xt.alt!==Ge.alt||xt.isDecorative!==Ge.isDecorative)&&ye(Te,xt.alt,xt.isDecorative)},ze=(Te,Ge)=>(xt,Kt,Cn)=>{Te(xt,Cn),It(xt,Ge)},Re=(Te,Ge,xt)=>{const Kt=Z(Te,xt);ae(xt,Kt,Ge,"caption",(Cn,Ko,ps)=>wt(Cn)),ae(xt,Kt,Ge,"src",kn),ae(xt,Kt,Ge,"title",kn),ae(xt,Kt,Ge,"width",nn("width",Te)),ae(xt,Kt,Ge,"height",nn("height",Te)),ae(xt,Kt,Ge,"class",kn),ae(xt,Kt,Ge,"style",ze((Cn,Ko)=>kn(Cn,"style",Ko),Te)),ae(xt,Kt,Ge,"hspace",ze(Tn,Te)),ae(xt,Kt,Ge,"vspace",ze(Mn,Te)),ae(xt,Kt,Ge,"border",ze(vn,Te)),ae(xt,Kt,Ge,"borderStyle",ze(Hn,Te)),Ce(xt,Kt,Ge)},J=(Te,Ge)=>{const xt=Te.dom.styles.parse(Ge),Kt=et(xt),Cn=Te.dom.styles.parse(Te.dom.styles.serialize(Kt));return Te.dom.styles.serialize(Cn)},pe=Te=>{const Ge=Te.selection.getNode(),xt=Te.dom.getParent(Ge,"figure.image");return xt?Te.dom.select("img",xt)[0]:Ge&&(Ge.nodeName!=="IMG"||$e(Ge))?null:Ge},me=(Te,Ge)=>{var xt;const Kt=Te.dom,Cn=a(Te.schema.getTextBlockElements(),(ps,ir)=>!Te.schema.isValidChild(ir,"figure")),Ko=Kt.getParent(Ge.parentNode,ps=>M(Cn,ps.nodeName),Te.getBody());return Ko&&(xt=Kt.split(Ko,Ge))!==null&&xt!==void 0?xt:Ge},_e=Te=>{const Ge=pe(Te);return Ge?Z(xt=>J(Te,xt),Ge):ms()},Ke=(Te,Ge)=>{const xt=fe(Cn=>J(Te,Cn),Ge);Te.dom.setAttrib(xt,"data-mce-id","__mcenew"),Te.focus(),Te.insertContent(xt.outerHTML);const Kt=Te.dom.select('*[data-mce-id="__mcenew"]')[0];if(Te.dom.setAttrib(Kt,"data-mce-id",null),ro(Kt)){const Cn=me(Te,Kt);Te.selection.select(Cn)}else Te.selection.select(Kt)},ft=(Te,Ge)=>{Te.dom.setAttrib(Ge,"src",Ge.getAttribute("src"))},gt=(Te,Ge)=>{if(Ge){const xt=Te.dom.is(Ge.parentNode,"figure.image")?Ge.parentNode:Ge;Te.dom.remove(xt),Te.focus(),Te.nodeChanged(),Te.dom.isEmpty(Te.getBody())&&(Te.setContent(""),Te.selection.setCursorLocation())}},At=(Te,Ge)=>{const xt=pe(Te);if(xt)if(Re(Kt=>J(Te,Kt),Ge,xt),ft(Te,xt),ro(xt.parentNode)){Te.dom.setStyle(xt,"float","");const Kt=xt.parentNode;me(Te,Kt),Te.selection.select(xt.parentNode)}else Te.selection.select(xt),Ze(Te,Ge,xt)},zt=(Te,Ge)=>{const xt=Ge.src;return{...Ge,src:tt(Te,xt)?xt:""}},kt=(Te,Ge)=>{const xt=pe(Te);if(xt){const Cn={...Z(ps=>J(Te,ps),xt),...Ge},Ko=zt(Te,Cn);Cn.src?At(Te,Ko):gt(Te,xt)}else Ge.src&&Ke(Te,{...ms(),...Ge})};var Tt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Mt=tinymce.util.Tools.resolve("tinymce.util.Tools");const qt=Te=>Ft(Te.value)?Te.value:"",Qt=Te=>Ft(Te.text)?Te.text:Ft(Te.title)?Te.title:"",on=(Te,Ge)=>{const xt=[];return Mt.each(Te,Kt=>{const Cn=Qt(Kt);if(Kt.menu!==void 0){const Ko=on(Kt.menu,Ge);xt.push({text:Cn,items:Ko})}else{const Ko=Ge(Kt);xt.push({text:Cn,value:Ko})}}),xt},_n=(Te=qt)=>Ge=>Ge?Xn.from(Ge).map(xt=>on(xt,Te)):Xn.none(),Dn=Te=>_n(qt)(Te),eo=Te=>p(Te,"items"),hs=(Te,Ge)=>Ls(Te,xt=>eo(xt)?hs(xt.items,Ge):xt.value===Ge?Xn.some(xt):Xn.none()),fs={sanitizer:_n,sanitize:Dn,findEntry:(Te,Ge)=>Te.bind(xt=>hs(xt,Ge))},bs={makeTab:Te=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Go=Te=>{const Ge=fs.sanitizer(la=>Te.convertURL(la.value||la.url||"","src")),xt=new Promise(la=>{Ve(Te,Ji=>{la(Ge(Ji).map(zi=>Eo([[{text:"None",value:""}],zi])))})}),Kt=fs.sanitize(ne(Te)),Cn=V(Te),Ko=I(Te),ps=Pe(Te),ir=We(Te),Or=_e(Te),Gr=G(Te),Rs=q(Te),Sa=U(Te),Hi=de(Te),ta=Ae(Te),Ta=we(Te),xi=Xn.some(N(Te)).filter(la=>Ft(la)&&la.length>0);return xt.then(la=>({image:Or,imageList:la,classList:Kt,hasAdvTab:Cn,hasUploadTab:Ko,hasUploadUrl:ps,hasUploadHandler:ir,hasDescription:Gr,hasImageTitle:Rs,hasDimensions:Sa,hasImageCaption:Hi,prependURL:xi,hasAccessibilityOptions:ta,automaticUploads:Ta}))},Do=Te=>{const Ge={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},xt=Te.imageList.map(Rs=>({name:"images",type:"listbox",label:"Image list",items:Rs})),Kt={name:"alt",type:"input",label:"Alternative description",enabled:!(Te.hasAccessibilityOptions&&Te.image.isDecorative)},Cn={name:"title",type:"input",label:"Image title"},Ko={name:"dimensions",type:"sizeinput"},ps={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ir=Te.classList.map(Rs=>({name:"classes",type:"listbox",label:"Class",items:Rs})),Or={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Gr=Rs=>Rs?{type:"grid",columns:2}:{type:"panel"};return Eo([[Ge],xt.toArray(),Te.hasAccessibilityOptions&&Te.hasDescription?[ps]:[],Te.hasDescription?[Kt]:[],Te.hasImageTitle?[Cn]:[],Te.hasDimensions?[Ko]:[],[{...Gr(Te.classList.isSome()&&Te.hasImageCaption),items:Eo([ir.toArray(),Te.hasImageCaption?[Or]:[]])}]])},As={makeTab:Te=>({title:"General",name:"general",items:Do(Te)}),makeItems:Do},go={makeTab:Te=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},bo=Te=>({prevImage:fs.findEntry(Te.imageList,Te.image.src),prevAlt:Te.image.alt,open:!0}),io=Te=>({src:{value:Te.src,meta:{}},images:Te.src,alt:Te.alt,title:Te.title,dimensions:{width:Te.width,height:Te.height},classes:Te.class,caption:Te.caption,style:Te.style,vspace:Te.vspace,border:Te.border,hspace:Te.hspace,borderstyle:Te.borderStyle,fileinput:[],isDecorative:Te.isDecorative}),po=(Te,Ge)=>({src:Te.src.value,alt:(Te.alt===null||Te.alt.length===0)&&Ge?null:Te.alt,title:Te.title,width:Te.dimensions.width,height:Te.dimensions.height,class:Te.classes,style:Te.style,caption:Te.caption,hspace:Te.hspace,vspace:Te.vspace,border:Te.border,borderStyle:Te.borderstyle,isDecorative:Te.isDecorative}),Tr=(Te,Ge)=>/^(?:[a-zA-Z]+:)?\/\//.test(Ge)?Xn.none():Te.prependURL.bind(xt=>Ge.substring(0,xt.length)!==xt?Xn.some(xt+Ge):Xn.none()),vi=(Te,Ge)=>{const xt=Ge.getData();Tr(Te,xt.src.value).each(Kt=>{Ge.setData({src:{value:Kt,meta:xt.src.meta}})})},Qn=(Te,Ge,xt)=>{Te.hasDescription&&Ft(xt.alt)&&(Ge.alt=xt.alt),Te.hasAccessibilityOptions&&(Ge.isDecorative=xt.isDecorative||Ge.isDecorative||!1),Te.hasImageTitle&&Ft(xt.title)&&(Ge.title=xt.title),Te.hasDimensions&&(Ft(xt.width)&&(Ge.dimensions.width=xt.width),Ft(xt.height)&&(Ge.dimensions.height=xt.height)),Ft(xt.class)&&fs.findEntry(Te.classList,xt.class).each(Kt=>{Ge.classes=Kt.value}),Te.hasImageCaption&&es(xt.caption)&&(Ge.caption=xt.caption),Te.hasAdvTab&&(Ft(xt.style)&&(Ge.style=xt.style),Ft(xt.vspace)&&(Ge.vspace=xt.vspace),Ft(xt.border)&&(Ge.border=xt.border),Ft(xt.hspace)&&(Ge.hspace=xt.hspace),Ft(xt.borderstyle)&&(Ge.borderstyle=xt.borderstyle))},Ur=(Te,Ge)=>{const xt=Ge.getData(),Kt=xt.src.meta;if(Kt!==void 0){const Cn=O({},xt);Qn(Te,Cn,Kt),Ge.setData(Cn)}},wa=(Te,Ge,xt,Kt)=>{const Cn=Kt.getData(),Ko=Cn.src.value,ps=Cn.src.meta||{};!ps.width&&!ps.height&&Ge.hasDimensions&&(z(Ko)?Te.imageSize(Ko).then(ir=>{xt.open&&Kt.setData({dimensions:ir})}).catch(ir=>console.error(ir)):Kt.setData({dimensions:{width:"",height:""}}))},Js=(Te,Ge,xt)=>{const Kt=xt.getData(),Cn=fs.findEntry(Te.imageList,Kt.src.value);Ge.prevImage=Cn,xt.setData({images:Cn.map(Ko=>Ko.value).getOr("")})},ia=(Te,Ge,xt,Kt)=>{vi(Ge,Kt),Ur(Ge,Kt),wa(Te,Ge,xt,Kt),Js(Ge,xt,Kt)},Ne=(Te,Ge,xt,Kt)=>{const Cn=Kt.getData(),Ko=fs.findEntry(Ge.imageList,Cn.images);Ko.each(ps=>{Cn.alt===""||xt.prevImage.map(Or=>Or.text===Cn.alt).getOr(!1)?ps.value===""?Kt.setData({src:ps,alt:xt.prevAlt}):Kt.setData({src:ps,alt:ps.text}):Kt.setData({src:ps})}),xt.prevImage=Ko,ia(Te,Ge,xt,Kt)},pt=(Te,Ge,xt,Kt)=>{const Cn=Kt.getData();Kt.block("Uploading image"),oo(Cn.fileinput).fold(()=>{Kt.unblock()},Ko=>{const ps=URL.createObjectURL(Ko),ir=()=>{Kt.unblock(),URL.revokeObjectURL(ps)},Or=Gr=>{Kt.setData({src:{value:Gr,meta:{}}}),Kt.showTab("general"),ia(Te,Ge,xt,Kt),Kt.focus("src")};Xe(Ko).then(Gr=>{const Rs=Te.createBlobCache(Ko,ps,Gr);Ge.automaticUploads?Te.uploadImage(Rs).then(Sa=>{Or(Sa.url),ir()}).catch(Sa=>{ir(),Te.alertErr(Sa,()=>{Kt.focus("fileinput")})}):(Te.addToBlobCache(Rs),Or(Rs.blobUri()),Kt.unblock())})})},St=(Te,Ge,xt)=>(Kt,Cn)=>{Cn.name==="src"?ia(Te,Ge,xt,Kt):Cn.name==="images"?Ne(Te,Ge,xt,Kt):Cn.name==="alt"?xt.prevAlt=Kt.getData().alt:Cn.name==="fileinput"?pt(Te,Ge,xt,Kt):Cn.name==="isDecorative"&&Kt.setEnabled("alt",!Kt.getData().isDecorative)},Pt=Te=>()=>{Te.open=!1},Jt=Te=>Te.hasAdvTab||Te.hasUploadUrl||Te.hasUploadHandler?{type:"tabpanel",tabs:Eo([[As.makeTab(Te)],Te.hasAdvTab?[bs.makeTab(Te)]:[],Te.hasUploadTab&&(Te.hasUploadUrl||Te.hasUploadHandler)?[go.makeTab(Te)]:[]])}:{type:"panel",items:As.makeItems(Te)},Vn=(Te,Ge,xt)=>Kt=>{const Cn=O(io(Ge.image),Kt.getData()),Ko={...Cn,style:Et(xt.normalizeCss,po(Cn,!1))};Te.execCommand("mceUpdateImage",!1,po(Ko,Ge.hasAccessibilityOptions)),Te.editorUpload.uploadImagesAuto(),Kt.close()},jn=Te=>Ge=>tt(Te,Ge)?nt(Te.documentBaseURI.toAbsolute(Ge)).then(xt=>({width:String(xt.width),height:String(xt.height)})):Promise.resolve({width:"",height:""}),vo=Te=>(Ge,xt,Kt)=>{var Cn;return Te.editorUpload.blobCache.create({blob:Ge,blobUri:xt,name:(Cn=Ge.name)===null||Cn===void 0?void 0:Cn.replace(/\.[^\.]+$/,""),filename:Ge.name,base64:Kt.split(",")[1]})},mo=Te=>Ge=>{Te.editorUpload.blobCache.add(Ge)},Uo=Te=>(Ge,xt)=>{Te.windowManager.alert(Ge,xt)},cn=Te=>Ge=>J(Te,Ge),cs=Te=>Ge=>Te.dom.parseStyle(Ge),ds=Te=>(Ge,xt)=>Te.dom.serializeStyle(Ge,xt),Ue=Te=>Ge=>Tt(Te).upload([Ge],!1).then(xt=>{var Kt;return xt.length===0?Promise.reject("Failed to upload image"):xt[0].status===!1?Promise.reject((Kt=xt[0].error)===null||Kt===void 0?void 0:Kt.message):xt[0]}),bt=Te=>{const Ge={imageSize:jn(Te),addToBlobCache:mo(Te),createBlobCache:vo(Te),alertErr:Uo(Te),normalizeCss:cn(Te),parseStyle:cs(Te),serializeStyle:ds(Te),uploadImage:Ue(Te)};return{open:()=>{Go(Te).then(Kt=>{const Cn=bo(Kt);return{title:"Insert/Edit Image",size:"normal",body:Jt(Kt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:io(Kt.image),onSubmit:Vn(Te,Kt,Ge),onChange:St(Ge,Kt,Cn),onClose:Pt(Cn)}}).then(Te.windowManager.open)}}},Ht=Te=>{Te.addCommand("mceImage",bt(Te).open),Te.addCommand("mceUpdateImage",(Ge,xt)=>{Te.undoManager.transact(()=>kt(Te,xt))})},ln=Te=>{const Ge=Te.attr("class");return Ao(Ge)&&/\bimage\b/.test(Ge)},An=Te=>Ge=>{let xt=Ge.length;const Kt=Cn=>{Cn.attr("contenteditable",Te?"true":null)};for(;xt--;){const Cn=Ge[xt];ln(Cn)&&(Cn.attr("contenteditable",Te?"false":null),Mt.each(Cn.getAll("figcaption"),Kt))}},Wn=Te=>{Te.on("PreInit",()=>{Te.parser.addNodeFilter("figure",An(!0)),Te.serializer.addNodeFilter("figure",An(!1))})},Yo=Te=>Ge=>{const xt=()=>{Ge.setEnabled(Te.selection.isEditable())};return Te.on("NodeChange",xt),xt(),()=>{Te.off("NodeChange",xt)}},Oo=Te=>{Te.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:bt(Te).open,onSetup:Ge=>{Ge.setActive(Ao(pe(Te)));const xt=Te.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Ge.setActive).unbind,Kt=Yo(Te)(Ge);return()=>{xt(),Kt()}}}),Te.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:bt(Te).open,onSetup:Yo(Te)}),Te.ui.registry.addContextMenu("image",{update:Ge=>Te.selection.isEditable()&&(ro(Ge)||qo(Ge)&&!$e(Ge))?["image"]:[]})};var So=()=>{E.add("image",Te=>{D(Te),Wn(Te),Oo(Te),Ht(Te)})};So()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=(L,A,O)=>{var z;return O(L,A.prototype)?!0:((z=L.constructor)===null||z===void 0?void 0:z.name)===A.name},x=L=>{const A=typeof L;return L===null?"null":A==="object"&&Array.isArray(L)?"array":A==="object"&&R(L,String,(O,z)=>z.isPrototypeOf(O))?"string":A},ce=L=>A=>x(A)===L,ke=L=>A=>L===A,He=ce("string"),je=ke(void 0);var dt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ft=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const pn=L=>L.dispatch("RestoreDraft"),On=L=>L.dispatch("StoreDraft"),ve=L=>L.dispatch("RemoveDraft"),es=L=>{const A={s:1e3,m:6e4},O=/^(\d+)([ms]?)$/.exec(L);return(O&&O[2]?A[O[2]]:1)*parseInt(L,10)},_o=L=>A=>A.options.get(L),Ao=L=>{const A=L.options.register,O=z=>{const Q=He(z);return Q?{value:es(z),valid:Q}:{valid:!1,message:"Must be a string."}};A("autosave_ask_before_unload",{processor:"boolean",default:!0}),A("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),A("autosave_restore_when_empty",{processor:"boolean",default:!1}),A("autosave_interval",{processor:O,default:"30s"}),A("autosave_retention",{processor:O,default:"20m"})},jt=_o("autosave_ask_before_unload"),Zo=_o("autosave_restore_when_empty"),Xt=_o("autosave_interval"),lt=_o("autosave_retention"),Xn=L=>{const A=document.location;return L.options.get("autosave_prefix").replace(/{path}/g,A.pathname).replace(/{query}/g,A.search).replace(/{hash}/g,A.hash).replace(/{id}/g,L.id)},gs=(L,A)=>{if(je(A))return L.dom.isEmpty(L.getBody());{const O=Oe.trim(A);if(O==="")return!0;{const z=new DOMParser().parseFromString(O,"text/html");return L.dom.isEmpty(z)}}},Eo=L=>{var A;const O=parseInt((A=Ft.getItem(Xn(L)+"time"))!==null&&A!==void 0?A:"0",10)||0;return new Date().getTime()-O>lt(L)?(ht(L,!1),!1):!0},ht=(L,A)=>{const O=Xn(L);Ft.removeItem(O+"draft"),Ft.removeItem(O+"time"),A!==!1&&ve(L)},oo=L=>{const A=Xn(L);!gs(L)&&L.isDirty()&&(Ft.setItem(A+"draft",L.getContent({format:"raw",no_events:!0})),Ft.setItem(A+"time",new Date().getTime().toString()),On(L))},Ls=L=>{var A;const O=Xn(L);Eo(L)&&(L.setContent((A=Ft.getItem(O+"draft"))!==null&&A!==void 0?A:"",{format:"raw"}),pn(L))},us=L=>{const A=Xt(L);dt.setEditorInterval(L,()=>{oo(L)},A)},s=L=>{L.undoManager.transact(()=>{Ls(L),ht(L)}),L.focus()},b=L=>({hasDraft:()=>Eo(L),storeDraft:()=>oo(L),restoreDraft:()=>Ls(L),removeDraft:A=>ht(L,A),isEmpty:A=>gs(L,A)});var B=tinymce.util.Tools.resolve("tinymce.EditorManager");const ge=L=>{L.editorManager.on("BeforeUnload",A=>{let O;Oe.each(B.get(),z=>{z.plugins.autosave&&z.plugins.autosave.storeDraft(),!O&&z.isDirty()&&jt(z)&&(O=z.translate("You have unsaved changes are you sure you want to navigate away?"))}),O&&(A.preventDefault(),A.returnValue=O)})},a=L=>A=>{const O=()=>Eo(L)&&!L.mode.isReadOnly();A.setEnabled(O());const z=()=>A.setEnabled(O());return L.on("StoreDraft RestoreDraft RemoveDraft",z),()=>L.off("StoreDraft RestoreDraft RemoveDraft",z)},p=L=>{us(L);const A=()=>{s(L)};L.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:A,onSetup:a(L)}),L.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:A,onSetup:a(L)})};var M=()=>{E.add("autosave",L=>(Ao(L),ge(L),p(L),L.on("init",()=>{Zo(L)&&L.dom.isEmpty(L.getBody())&&Ls(L)}),b(L)))};M()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=(P,j,K)=>{var ee;return K(P,j.prototype)?!0:((ee=P.constructor)===null||ee===void 0?void 0:ee.name)===j.name},x=P=>{const j=typeof P;return P===null?"null":j==="object"&&Array.isArray(P)?"array":j==="object"&&R(P,String,(K,ee)=>ee.isPrototypeOf(K))?"string":j},ce=P=>j=>x(j)===P,ke=P=>j=>P===j,He=ce("string"),je=ke(void 0),dt=P=>P==null,Ft=P=>!dt(P),Oe=P=>j=>!P(j),pn=Object.hasOwnProperty,On=(P,j)=>pn.call(P,j),ve=(P,j,K)=>P.length>=j.length&&P.substr(K,K+j.length)===j,es=(P,j,K=0,ee)=>{const w=P.indexOf(j,K);return w!==-1?je(ee)?!0:w+j.length<=ee:!1},_o=(P,j)=>ve(P,j,0),Ao="\uFEFF",jt=P=>P===Ao,Zo=P=>P.replace(/\uFEFF/g,""),Xt=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,lt=P=>j=>j.options.get(P),Xn=P=>{const j=P.options.register;j("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Xt().source+"$","i")}),j("link_default_target",{processor:"string"}),j("link_default_protocol",{processor:"string",default:"https"})},gs=lt("autolink_pattern"),Eo=lt("link_default_target"),ht=lt("link_default_protocol"),oo=lt("allow_unsafe_link_target");var Ls=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const us=P=>P.nodeType===3,s=P=>P.nodeType===1,b=P=>/^[(\[{ \u00a0]$/.test(P),B=P=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(P),ge=P=>/[?!,.;:]/.test(P),a=(P,j,K)=>{for(let ee=j-1;ee>=0;ee--){const w=P.charAt(ee);if(!jt(w)&&K(w))return ee}return-1},p=(P,j)=>{let K=P,ee=j;for(;s(K)&&K.childNodes[ee];)K=K.childNodes[ee],ee=us(K)?K.data.length:K.childNodes.length;return{container:K,offset:ee}},M=(P,j)=>{var K;const ee=P.schema.getVoidElements(),w=gs(P),{dom:xe,selection:be}=P;if(xe.getParent(be.getNode(),"a[href]")!==null||P.mode.isReadOnly())return null;const re=be.getRng(),se=Ls(xe,de=>xe.isBlock(de)||On(ee,de.nodeName.toLowerCase())||xe.getContentEditable(de)==="false"||xe.getParent(de,"a[href]")!==null),{container:ie,offset:D}=p(re.endContainer,re.endOffset),U=(K=xe.getParent(ie,xe.isBlock))!==null&&K!==void 0?K:xe.getRoot(),V=se.backwards(ie,D+j,(de,Le)=>{const Ae=de.data,we=a(Ae,Le,Oe(b));return we===-1||ge(Ae[we])?we:we+1},U);if(!V)return null;let I=V.container;const N=se.backwards(V.container,V.offset,(de,Le)=>{I=de;const Ae=a(de.data,Le,b);return Ae===-1?Ae:Ae+1},U),ne=xe.createRng();N?ne.setStart(N.container,N.offset):ne.setStart(I,0),ne.setEnd(V.container,V.offset);const q=Zo(ne.toString()).match(w);if(q){let de=q[0];return _o(de,"www.")?de=ht(P)+"://"+de:es(de,"@")&&!B(de)&&(de="mailto:"+de),{rng:ne,url:de}}else return null},L=(P,j)=>{const{dom:K,selection:ee}=P,{rng:w,url:xe}=j,be=ee.getBookmark();ee.setRng(w);const re="createlink",se={command:re,ui:!1,value:xe};if(!P.dispatch("BeforeExecCommand",se).isDefaultPrevented()){P.getDoc().execCommand(re,!1,xe),P.dispatch("ExecCommand",se);const D=Eo(P);if(He(D)){const U=ee.getNode();K.setAttrib(U,"target",D),D==="_blank"&&!oo(P)&&K.setAttrib(U,"rel","noopener")}}ee.moveToBookmark(be),P.nodeChanged()},A=P=>{const j=M(P,-1);Ft(j)&&L(P,j)},O=A,z=P=>{const j=M(P,0);Ft(j)&&L(P,j)},Q=P=>{P.on("keydown",j=>{j.keyCode===13&&!j.isDefaultPrevented()&&z(P)}),P.on("keyup",j=>{j.keyCode===32?A(P):(j.keyCode===48&&j.shiftKey||j.keyCode===221)&&O(P)})};var H=()=>{E.add("autolink",P=>{Xn(P),Q(P)})};H()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=(Ue,bt,Ht)=>{var ln;return Ht(Ue,bt.prototype)?!0:((ln=Ue.constructor)===null||ln===void 0?void 0:ln.name)===bt.name},x=Ue=>{const bt=typeof Ue;return Ue===null?"null":bt==="object"&&Array.isArray(Ue)?"array":bt==="object"&&R(Ue,String,(Ht,ln)=>ln.isPrototypeOf(Ht))?"string":bt},ce=Ue=>bt=>x(bt)===Ue,ke=Ue=>bt=>typeof bt===Ue,He=Ue=>bt=>Ue===bt,je=ce("string"),dt=ce("object"),Ft=ce("array"),Oe=He(null),pn=ke("boolean"),On=Ue=>Ue==null,ve=Ue=>!On(Ue),es=ke("function"),_o=(Ue,bt)=>{if(Ft(Ue)){for(let Ht=0,ln=Ue.length;Ht<ln;++Ht)if(!bt(Ue[Ht]))return!1;return!0}return!1},Ao=()=>{},jt=Ue=>()=>Ue,Zo=(Ue,bt)=>Ue===bt;class Xt{constructor(bt,Ht){this.tag=bt,this.value=Ht}static some(bt){return new Xt(!0,bt)}static none(){return Xt.singletonNone}fold(bt,Ht){return this.tag?Ht(this.value):bt()}isSome(){return this.tag}isNone(){return!this.tag}map(bt){return this.tag?Xt.some(bt(this.value)):Xt.none()}bind(bt){return this.tag?bt(this.value):Xt.none()}exists(bt){return this.tag&&bt(this.value)}forall(bt){return!this.tag||bt(this.value)}filter(bt){return!this.tag||bt(this.value)?this:Xt.none()}getOr(bt){return this.tag?this.value:bt}or(bt){return this.tag?this:bt}getOrThunk(bt){return this.tag?this.value:bt()}orThunk(bt){return this.tag?this:bt()}getOrDie(bt){if(this.tag)return this.value;throw new Error(bt??"Called getOrDie on None")}static from(bt){return ve(bt)?Xt.some(bt):Xt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(bt){this.tag&&bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xt.singletonNone=new Xt(!1);const lt=Array.prototype.indexOf,Xn=Array.prototype.push,gs=(Ue,bt)=>lt.call(Ue,bt),Eo=(Ue,bt)=>gs(Ue,bt)>-1,ht=(Ue,bt)=>{const Ht=Ue.length,ln=new Array(Ht);for(let An=0;An<Ht;An++){const Wn=Ue[An];ln[An]=bt(Wn,An)}return ln},oo=(Ue,bt)=>{for(let Ht=0,ln=Ue.length;Ht<ln;Ht++){const An=Ue[Ht];bt(An,Ht)}},Ls=(Ue,bt,Ht)=>(oo(Ue,(ln,An)=>{Ht=bt(Ht,ln,An)}),Ht),us=Ue=>{const bt=[];for(let Ht=0,ln=Ue.length;Ht<ln;++Ht){if(!Ft(Ue[Ht]))throw new Error("Arr.flatten item "+Ht+" was not an array, input: "+Ue);Xn.apply(bt,Ue[Ht])}return bt},s=(Ue,bt)=>us(ht(Ue,bt)),b=(Ue,bt)=>{for(let Ht=0;Ht<Ue.length;Ht++){const ln=bt(Ue[Ht],Ht);if(ln.isSome())return ln}return Xt.none()},B=Object.keys,ge=Object.hasOwnProperty,a=(Ue,bt)=>{const Ht=B(Ue);for(let ln=0,An=Ht.length;ln<An;ln++){const Wn=Ht[ln],Yo=Ue[Wn];bt(Yo,Wn)}},p=Ue=>(bt,Ht)=>{Ue[Ht]=bt},M=(Ue,bt,Ht,ln)=>{a(Ue,(An,Wn)=>{(bt(An,Wn)?Ht:ln)(An,Wn)})},L=(Ue,bt)=>{const Ht={};return M(Ue,bt,p(Ht),Ao),Ht},A=(Ue,bt)=>ge.call(Ue,bt),O=(Ue,bt)=>A(Ue,bt)&&Ue[bt]!==void 0&&Ue[bt]!==null,z=Ue=>{let bt=Ue;return{get:()=>bt,set:An=>{bt=An}}},Q=(Ue,bt,Ht=Zo)=>Ue.exists(ln=>Ht(ln,bt)),H=Ue=>{const bt=[],Ht=ln=>{bt.push(ln)};for(let ln=0;ln<Ue.length;ln++)Ue[ln].each(Ht);return bt},P=(Ue,bt)=>Ue?Xt.some(bt):Xt.none(),j=Ue=>{const bt=z(Xt.none()),Ht=()=>bt.get().each(Ue);return{clear:()=>{Ht(),bt.set(Xt.none())},isSet:()=>bt.get().isSome(),get:()=>bt.get(),set:Oo=>{Ht(),bt.set(Xt.some(Oo))}}},K=()=>{const Ue=j(Ao);return{...Ue,on:Ht=>Ue.get().each(Ht)}},ee=(Ue,bt)=>Ue.substring(bt),w=(Ue,bt,Ht)=>bt===""||Ue.length>=bt.length&&Ue.substr(Ht,Ht+bt.length)===bt,xe=(Ue,bt)=>be(Ue,bt)?ee(Ue,bt.length):Ue,be=(Ue,bt)=>w(Ue,bt,0),re=Ue=>bt=>bt.options.get(Ue),se=Ue=>{const bt=Ue.options.register;bt("link_assume_external_targets",{processor:Ht=>{const ln=je(Ht)||pn(Ht);return ln?Ht===!0?{value:1,valid:ln}:Ht==="http"||Ht==="https"?{value:Ht,valid:ln}:{value:0,valid:ln}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),bt("link_context_toolbar",{processor:"boolean",default:!1}),bt("link_list",{processor:Ht=>je(Ht)||es(Ht)||_o(Ht,dt)}),bt("link_default_target",{processor:"string"}),bt("link_default_protocol",{processor:"string",default:"https"}),bt("link_target_list",{processor:Ht=>pn(Ht)||_o(Ht,dt),default:!0}),bt("link_rel_list",{processor:"object[]",default:[]}),bt("link_class_list",{processor:"object[]",default:[]}),bt("link_title",{processor:"boolean",default:!0}),bt("allow_unsafe_link_target",{processor:"boolean",default:!1}),bt("link_quicklink",{processor:"boolean",default:!1}),bt("link_attributes_postprocess",{processor:"function"})},ie=re("link_assume_external_targets"),D=re("link_context_toolbar"),U=re("link_list"),V=re("link_default_target"),I=re("link_default_protocol"),N=re("link_target_list"),ne=re("link_rel_list"),G=re("link_class_list"),q=re("link_title"),de=re("allow_unsafe_link_target"),Le=re("link_quicklink"),Ae=re("link_attributes_postprocess");var we=tinymce.util.Tools.resolve("tinymce.util.URI"),Pe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),We=tinymce.util.Tools.resolve("tinymce.util.Tools");const ut=Ue=>ve(Ue)&&Ue.nodeName.toLowerCase()==="a",nt=Ue=>ut(Ue)&&!!et(Ue),ot=(Ue,bt)=>{if(Ue.collapsed)return[];{const Ht=Ue.cloneContents(),ln=Ht.firstChild,An=new Pe(ln,Ht),Wn=[];let Yo=ln;do bt(Yo)&&Wn.push(Yo);while(Yo=An.next());return Wn}},Me=Ue=>/^\w+:/i.test(Ue),et=Ue=>{var bt,Ht;return(Ht=(bt=Ue.getAttribute("data-mce-href"))!==null&&bt!==void 0?bt:Ue.getAttribute("href"))!==null&&Ht!==void 0?Ht:""},Ve=(Ue,bt)=>{const Ht=["noopener"],ln=Ue?Ue.split(/\s+/):[],An=So=>We.trim(So.sort().join(" ")),Wn=So=>(So=Yo(So),So.length>0?So.concat(Ht):Ht),Yo=So=>So.filter(Te=>We.inArray(Ht,Te)===-1),Oo=bt?Wn(ln):Yo(ln);return Oo.length>0?An(Oo):""},Ze=Ue=>Ue.replace(/\uFEFF/g,""),Xe=(Ue,bt)=>(bt=bt||_t(Ue.selection.getRng())[0]||Ue.selection.getNode(),Zt(bt)?Xt.from(Ue.dom.select("a[href]",bt)[0]):Xt.from(Ue.dom.getParent(bt,"a[href]"))),$e=(Ue,bt)=>Xe(Ue,bt).isSome(),tt=(Ue,bt)=>{const Ht=bt.fold(()=>Ue.getContent({format:"text"}),ln=>ln.innerText||ln.textContent||"");return Ze(Ht)},_t=Ue=>ot(Ue,nt),mt=Ue=>We.grep(Ue,nt),Lt=Ue=>mt(Ue).length>0,Rt=Ue=>_t(Ue).length>0,Wt=Ue=>{const bt=Ue.schema.getTextInlineElements(),Ht=Wn=>Wn.nodeType===1&&!ut(Wn)&&!A(bt,Wn.nodeName.toLowerCase());if(Xe(Ue).exists(Wn=>Wn.hasAttribute("data-mce-block")))return!1;const An=Ue.selection.getRng();return An.collapsed?!0:ot(An,Ht).length===0},Zt=Ue=>ve(Ue)&&Ue.nodeName==="FIGURE"&&/\bimage\b/i.test(Ue.className),kn=Ue=>Ls(["title","rel","class","target"],(Ht,ln)=>(Ue[ln].each(An=>{Ht[ln]=An.length>0?An:null}),Ht),{href:Ue.href}),Jn=(Ue,bt)=>(bt==="http"||bt==="https")&&!Me(Ue)?bt+"://"+Ue:Ue,Je=(Ue,bt)=>{const Ht={...bt};if(ne(Ue).length===0&&!de(Ue)){const ln=Ve(Ht.rel,Ht.target==="_blank");Ht.rel=ln||null}return Xt.from(Ht.target).isNone()&&N(Ue)===!1&&(Ht.target=V(Ue)),Ht.href=Jn(Ht.href,ie(Ue)),Ht},wt=(Ue,bt,Ht,ln)=>{Ht.each(Wn=>{A(bt,"innerText")?bt.innerText=Wn:bt.textContent=Wn}),Ue.dom.setAttribs(bt,ln);const An=Ue.dom.createRng();An.setStartAfter(bt),An.setEndAfter(bt),Ue.selection.setRng(An)},It=(Ue,bt,Ht,ln)=>{const An=Ue.dom;Zt(bt)?qo(An,bt,ln):Ht.fold(()=>{Ue.execCommand("mceInsertLink",!1,ln);const Wn=Ue.selection.getEnd(),Yo=An.createRng();Yo.setStartAfter(Wn),Yo.setEndAfter(Wn),Ue.selection.setRng(Yo)},Wn=>{Ue.insertContent(An.createHTML("a",ln,An.encode(Wn)))})},nn=(Ue,bt,Ht)=>{const ln=Ue.selection.getNode(),An=Xe(Ue,ln),Wn=Je(Ue,kn(Ht)),Yo=Ae(Ue);ve(Yo)&&Yo(Wn),Ue.undoManager.transact(()=>{Ht.href===bt.href&&bt.attach(),An.fold(()=>{It(Ue,ln,Ht.text,Wn)},Oo=>{Ue.focus(),wt(Ue,Oo,Ht.text,Wn)})})},bn=Ue=>{const bt=Ue.dom,Ht=Ue.selection,ln=Ht.getBookmark(),An=Ht.getRng().cloneRange(),Wn=bt.getParent(An.startContainer,"a[href]",Ue.getBody()),Yo=bt.getParent(An.endContainer,"a[href]",Ue.getBody());Wn&&An.setStartBefore(Wn),Yo&&An.setEndAfter(Yo),Ht.setRng(An),Ue.execCommand("unlink"),Ht.moveToBookmark(ln)},Tn=Ue=>{Ue.undoManager.transact(()=>{const bt=Ue.selection.getNode();Zt(bt)?ro(Ue,bt):bn(Ue),Ue.focus()})},Mn=Ue=>{const{class:bt,href:Ht,rel:ln,target:An,text:Wn,title:Yo}=Ue;return L({class:bt.getOrNull(),href:Ht,rel:ln.getOrNull(),target:An.getOrNull(),text:Wn.getOrNull(),title:Yo.getOrNull()},(Oo,So)=>Oe(Oo)===!1)},vn=(Ue,bt)=>{const Ht=Ue.options.get,ln={allow_html_data_urls:Ht("allow_html_data_urls"),allow_script_urls:Ht("allow_script_urls"),allow_svg_data_urls:Ht("allow_svg_data_urls")},An=bt.href;return{...bt,href:we.isDomSafe(An,"a",ln)?An:""}},Hn=(Ue,bt,Ht)=>{const ln=vn(Ue,Ht);Ue.hasPlugin("rtc",!0)?Ue.execCommand("createlink",!1,Mn(ln)):nn(Ue,bt,ln)},wo=Ue=>{Ue.hasPlugin("rtc",!0)?Ue.execCommand("unlink"):Tn(Ue)},ro=(Ue,bt)=>{var Ht;const ln=Ue.dom.select("img",bt)[0];if(ln){const An=Ue.dom.getParents(ln,"a[href]",bt)[0];An&&((Ht=An.parentNode)===null||Ht===void 0||Ht.insertBefore(ln,An),Ue.dom.remove(An))}},qo=(Ue,bt,Ht)=>{var ln;const An=Ue.select("img",bt)[0];if(An){const Wn=Ue.create("a",Ht);(ln=An.parentNode)===null||ln===void 0||ln.insertBefore(Wn,An),Wn.appendChild(An)}},zn=Ue=>je(Ue.value)?Ue.value:"",ls=Ue=>je(Ue.text)?Ue.text:je(Ue.title)?Ue.title:"",ms=(Ue,bt)=>{const Ht=[];return We.each(Ue,ln=>{const An=ls(ln);if(ln.menu!==void 0){const Wn=ms(ln.menu,bt);Ht.push({text:An,items:Wn})}else{const Wn=bt(ln);Ht.push({text:An,value:Wn})}}),Ht},Et=(Ue=zn)=>bt=>Xt.from(bt).map(Ht=>ms(Ht,Ue)),ae={sanitize:Ue=>Et(zn)(Ue),sanitizeWith:Et,createUi:(Ue,bt)=>Ht=>({name:Ue,type:"listbox",label:bt,items:Ht}),getValue:zn},ye=Ue=>O(Ue,"items"),Ce=(Ue,bt)=>b(bt,Ht=>ye(Ht)?Ce(Ue,Ht.items):P(Ht.value===Ue,Ht)),ze=(Ue,bt,Ht,ln)=>{const An=ln[bt],Wn=Ue.length>0;return An!==void 0?Ce(An,Ht).map(Yo=>({url:{value:Yo.value,meta:{text:Wn?Ue:Yo.text,attach:Ao}},text:Wn?Ue:Yo.text})):Xt.none()},Re=(Ue,bt)=>bt==="link"?Ue.link:bt==="anchor"?Ue.anchor:Xt.none(),pe={init:(Ue,bt)=>{const Ht={text:Ue.text,title:Ue.title},ln=So=>{var Te;return P(Ht.title.length<=0,Xt.from((Te=So.meta)===null||Te===void 0?void 0:Te.title).getOr(""))},An=So=>{var Te;return P(Ht.text.length<=0,Xt.from((Te=So.meta)===null||Te===void 0?void 0:Te.text).getOr(So.value))},Wn=So=>{const Te=An(So.url),Ge=ln(So.url);return Te.isSome()||Ge.isSome()?Xt.some({...Te.map(xt=>({text:xt})).getOr({}),...Ge.map(xt=>({title:xt})).getOr({})}):Xt.none()},Yo=(So,Te)=>{const Ge=Re(bt,Te).getOr([]);return ze(Ht.text,Te,Ge,So)};return{onChange:(So,Te)=>{const Ge=Te.name;return Ge==="url"?Wn(So()):Eo(["anchor","link"],Ge)?Yo(So(),Ge):((Ge==="text"||Ge==="title")&&(Ht[Ge]=So()[Ge]),Xt.none())}}},getDelta:ze};var me=tinymce.util.Tools.resolve("tinymce.util.Delay");const _e=(Ue,bt,Ht)=>{const ln=Ue.selection.getRng();me.setEditorTimeout(Ue,()=>{Ue.windowManager.confirm(bt,An=>{Ue.selection.setRng(ln),Ht(An)})})},Ke=Ue=>{const bt=Ue.href;return bt.indexOf("@")>0&&bt.indexOf("/")===-1&&bt.indexOf("mailto:")===-1?Xt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:ln=>({...ln,href:"mailto:"+bt})}):Xt.none()},ft=(Ue,bt)=>Ht=>{const ln=Ht.href;return Ue===1&&!Me(ln)||Ue===0&&/^\s*www(\.|\d\.)/i.test(ln)?Xt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${bt}:// prefix?`,preprocess:Wn=>({...Wn,href:bt+"://"+ln})}):Xt.none()},At={preprocess:(Ue,bt)=>b([Ke,ft(ie(Ue),I(Ue))],Ht=>Ht(bt)).fold(()=>Promise.resolve(bt),Ht=>new Promise(ln=>{_e(Ue,Ht.message,An=>{ln(An?Ht.preprocess(bt):bt)})}))},kt={getAnchors:Ue=>{const bt=Ue.dom.select("a:not([href])"),Ht=s(bt,ln=>{const An=ln.name||ln.id;return An?[{text:An,value:"#"+An}]:[]});return Ht.length>0?Xt.some([{text:"None",value:""}].concat(Ht)):Xt.none()}},Mt={getClasses:Ue=>{const bt=G(Ue);return bt.length>0?ae.sanitize(bt):Xt.none()}},qt=Ue=>{try{return Xt.some(JSON.parse(Ue))}catch{return Xt.none()}},on={getLinks:Ue=>{const bt=ln=>Ue.convertURL(ln.value||ln.url||"","href"),Ht=U(Ue);return new Promise(ln=>{je(Ht)?fetch(Ht).then(An=>An.ok?An.text().then(qt):Promise.reject()).then(ln,()=>ln(Xt.none())):es(Ht)?Ht(An=>ln(Xt.some(An))):ln(Xt.from(Ht))}).then(ln=>ln.bind(ae.sanitizeWith(bt)).map(An=>An.length>0?[{text:"None",value:""}].concat(An):An))}},Dn={getRels:(Ue,bt)=>{const Ht=ne(Ue);if(Ht.length>0){const ln=Q(bt,"_blank"),An=de(Ue)===!1,Wn=Oo=>Ve(ae.getValue(Oo),ln);return(An?ae.sanitizeWith(Wn):ae.sanitize)(Ht)}return Xt.none()}},eo=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Bs={getTargets:Ue=>{const bt=N(Ue);return Ft(bt)?ae.sanitize(bt).orThunk(()=>Xt.some(eo)):bt===!1?Xt.none():Xt.some(eo)}},fs=(Ue,bt,Ht)=>{const ln=Ue.getAttrib(bt,Ht);return ln!==null&&ln.length>0?Xt.some(ln):Xt.none()},Is=(Ue,bt)=>{const Ht=Ue.dom,An=Wt(Ue)?Xt.some(tt(Ue.selection,bt)):Xt.none(),Wn=bt.bind(Ge=>Xt.from(Ht.getAttrib(Ge,"href"))),Yo=bt.bind(Ge=>Xt.from(Ht.getAttrib(Ge,"target"))),Oo=bt.bind(Ge=>fs(Ht,Ge,"rel")),So=bt.bind(Ge=>fs(Ht,Ge,"class")),Te=bt.bind(Ge=>fs(Ht,Ge,"title"));return{url:Wn,text:An,title:Te,target:Yo,rel:Oo,linkClass:So}},Go={collect:(Ue,bt)=>on.getLinks(Ue).then(Ht=>{const ln=Is(Ue,bt);return{anchor:ln,catalogs:{targets:Bs.getTargets(Ue),rels:Dn.getRels(Ue,ln.target),classes:Mt.getClasses(Ue),anchor:kt.getAnchors(Ue),link:Ht},optNode:bt,flags:{titleEnabled:q(Ue)}}})},Do=(Ue,bt)=>Ht=>{const ln=Ht.getData();if(!ln.url.value){wo(Ue),Ht.close();return}const An=Oo=>Xt.from(ln[Oo]).filter(So=>!Q(bt.anchor[Oo],So)),Wn={href:ln.url.value,text:An("text"),target:An("target"),rel:An("rel"),class:An("linkClass"),title:An("title")},Yo={href:ln.url.value,attach:ln.url.meta!==void 0&&ln.url.meta.attach?ln.url.meta.attach:Ao};At.preprocess(Ue,Wn).then(Oo=>{Hn(Ue,Yo,Oo)}),Ht.close()},zs=Ue=>{const bt=Xe(Ue);return Go.collect(Ue,bt)},As=(Ue,bt)=>{const Ht=Ue.anchor,ln=Ht.url.getOr("");return{url:{value:ln,meta:{original:{value:ln}}},text:Ht.text.getOr(""),title:Ht.title.getOr(""),anchor:ln,link:ln,rel:Ht.rel.getOr(""),target:Ht.target.or(bt).getOr(""),linkClass:Ht.linkClass.getOr("")}},Vs=(Ue,bt,Ht)=>{const ln=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],An=Ue.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Wn=Ue.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Yo=Xt.from(V(Ht)),Oo=As(Ue,Yo),So=Ue.catalogs,Te=pe.init(Oo,So);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:us([ln,An,Wn,H([So.anchor.map(ae.createUi("anchor","Anchors")),So.rels.map(ae.createUi("rel","Rel")),So.targets.map(ae.createUi("target","Open link in...")),So.link.map(ae.createUi("link","Link list")),So.classes.map(ae.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Oo,onChange:(xt,{name:Kt})=>{Te.onChange(xt.getData,{name:Kt}).each(Cn=>{xt.setData(Cn)})},onSubmit:bt}},go=Ue=>{zs(Ue).then(Ht=>{const ln=Do(Ue,Ht);return Vs(Ht,ln,Ue)}).then(Ht=>{Ue.windowManager.open(Ht)})},bo=Ue=>{Ue.addCommand("mceLink",(bt,Ht)=>{(Ht==null?void 0:Ht.dialog)===!0||!Le(Ue)?go(Ue):Ue.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},io=Ue=>{Ue.addShortcut("Meta+K","",()=>{Ue.execCommand("mceLink")})};var po=tinymce.util.Tools.resolve("tinymce.util.VK");const Tr=(Ue,bt)=>{document.body.appendChild(Ue),Ue.dispatchEvent(bt),document.body.removeChild(Ue)},vi=Ue=>{const bt=document.createElement("a");bt.target="_blank",bt.href=Ue,bt.rel="noreferrer noopener";const Ht=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ht),Tr(bt,Ht)},Qn=Ue=>Ue.altKey===!0&&Ue.shiftKey===!1&&Ue.ctrlKey===!1&&Ue.metaKey===!1,Ur=(Ue,bt)=>{if(bt){const Ht=et(bt);if(/^#/.test(Ht)){const ln=Ue.dom.select(`${Ht},[name="${xe(Ht,"#")}"]`);ln.length&&Ue.selection.scrollIntoView(ln[0],!0)}else vi(bt.href)}},wa=Ue=>{const bt=Ue.selection.getRng(),Ht=bt.startContainer;return nt(Ht)&&bt.startContainer===bt.endContainer&&Ue.dom.select("img",Ht).length===1},Js=(Ue,bt)=>{const Ht=mt(Ue.dom.getParents(bt));return P(Ht.length===1,Ht[0])},ia=Ue=>{const bt=_t(Ue.selection.getRng());return P(bt.length>0,bt[0]).or(Js(Ue,Ue.selection.getNode()))},Ne=Ue=>Ue.selection.isCollapsed()||wa(Ue)?Js(Ue,Ue.selection.getStart()):ia(Ue),pt=Ue=>{const bt=K(),Ht=()=>bt.get().or(Ne(Ue)),ln=()=>Ht().each(An=>Ur(Ue,An));return Ue.on("contextmenu",An=>{Js(Ue,An.target).each(bt.set)}),Ue.on("SelectionChange",()=>{bt.isSet()||Ne(Ue).each(bt.set)}),Ue.on("click",An=>{bt.clear();const Wn=mt(Ue.dom.getParents(An.target));Wn.length===1&&po.metaKeyPressed(An)&&(An.preventDefault(),Ur(Ue,Wn[0]))}),Ue.on("keydown",An=>{bt.clear(),!An.isDefaultPrevented()&&An.keyCode===13&&Qn(An)&&Ht().each(Wn=>{An.preventDefault(),Ur(Ue,Wn)})}),{gotoSelectedLink:ln}},St=Ue=>()=>{Ue.execCommand("mceLink",!1,{dialog:!0})},Pt=(Ue,bt)=>(Ue.on("NodeChange",bt),()=>Ue.off("NodeChange",bt)),Jt=Ue=>bt=>{const Ht=()=>{bt.setActive(!Ue.mode.isReadOnly()&&$e(Ue,Ue.selection.getNode())),bt.setEnabled(Ue.selection.isEditable())};return Ht(),Pt(Ue,Ht)},Vn=Ue=>bt=>{const Ht=()=>{bt.setEnabled(Ue.selection.isEditable())};return Ht(),Pt(Ue,Ht)},jn=Ue=>bt=>{const Ht=Wn=>Lt(Wn)||Rt(Ue.selection.getRng()),ln=Ue.dom.getParents(Ue.selection.getStart()),An=Wn=>{bt.setEnabled(Ht(Wn)&&Ue.selection.isEditable())};return An(ln),Pt(Ue,Wn=>An(Wn.parents))},vo=(Ue,bt)=>{Ue.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:St(Ue),onSetup:Jt(Ue)}),Ue.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:bt.gotoSelectedLink,onSetup:jn(Ue)}),Ue.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>wo(Ue),onSetup:jn(Ue)})},mo=(Ue,bt)=>{Ue.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:bt.gotoSelectedLink,onSetup:jn(Ue)}),Ue.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:St(Ue),onSetup:Vn(Ue)}),Ue.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>wo(Ue),onSetup:jn(Ue)})},Uo=Ue=>{const bt="link unlink openlink",Ht="link";Ue.ui.registry.addContextMenu("link",{update:ln=>Ue.dom.isEditable(ln)?Lt(Ue.dom.getParents(ln,"a"))?bt:Ht:""})},cn=(Ue,bt)=>{const Ht=Wn=>{Wn.selection.collapse(!1)},ln=Wn=>{const Yo=Ue.selection.getNode();return Wn.setEnabled($e(Ue,Yo)&&Ue.selection.isEditable()),Ao},An=Wn=>{const Yo=Xe(Ue),Oo=Wt(Ue);if(Yo.isNone()&&Oo){const So=tt(Ue.selection,Yo);return P(So.length===0,Wn)}else return Xt.none()};Ue.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Jt(Ue)},label:"Link",predicate:Wn=>D(Ue)&&$e(Ue,Wn),initValue:()=>Xe(Ue).fold(jt(""),et),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Wn=>{const Yo=Ue.selection.getNode();return Wn.setActive($e(Ue,Yo)),Jt(Ue)(Wn)},onAction:Wn=>{const Yo=Wn.getValue(),Oo=An(Yo);Hn(Ue,{href:Yo,attach:Ao},{href:Yo,text:Oo,title:Xt.none(),rel:Xt.none(),target:Xt.from(V(Ue)),class:Xt.none()}),Ht(Ue),Wn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ln,onAction:Wn=>{wo(Ue),Wn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ln,onAction:Wn=>{bt.gotoSelectedLink(),Wn.hide()}}]})},cs=Ue=>{const bt=pt(Ue);vo(Ue,bt),mo(Ue,bt),Uo(Ue),cn(Ue,bt)};var ds=()=>{E.add("link",Ue=>{se(Ue),bo(Ue),cs(Ue),io(Ue)})};ds()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=N=>({backspaceDelete:ne=>{N.execCommand("mceListBackspaceDelete",!1,ne)}}),x=N=>N==null,ce=N=>!x(N),ke=N=>()=>N,He=(N,ne)=>N===ne,je=ke(!1);class dt{constructor(ne,G){this.tag=ne,this.value=G}static some(ne){return new dt(!0,ne)}static none(){return dt.singletonNone}fold(ne,G){return this.tag?G(this.value):ne()}isSome(){return this.tag}isNone(){return!this.tag}map(ne){return this.tag?dt.some(ne(this.value)):dt.none()}bind(ne){return this.tag?ne(this.value):dt.none()}exists(ne){return this.tag&&ne(this.value)}forall(ne){return!this.tag||ne(this.value)}filter(ne){return!this.tag||ne(this.value)?this:dt.none()}getOr(ne){return this.tag?this.value:ne}or(ne){return this.tag?this:ne}getOrThunk(ne){return this.tag?this.value:ne()}orThunk(ne){return this.tag?this:ne()}getOrDie(ne){if(this.tag)return this.value;throw new Error(ne??"Called getOrDie on None")}static from(ne){return ce(ne)?dt.some(ne):dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ne){this.tag&&ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}dt.singletonNone=new dt(!1);const Ft=Array.prototype.slice,Oe=(N,ne)=>{for(let G=0,q=N.length;G<q;G++){const de=N[G];if(ne(de,G))return!0}return!1},pn=(N,ne)=>{const G=N.length,q=new Array(G);for(let de=0;de<G;de++){const Le=N[de];q[de]=ne(Le,de)}return q},On=(N,ne)=>{for(let G=0,q=N.length;G<q;G++){const de=N[G];ne(de,G)}},ve=(N,ne,G)=>(On(N,(q,de)=>{G=ne(G,q,de)}),G),es=(N,ne,G)=>{for(let q=0,de=N.length;q<de;q++){const Le=N[q];if(ne(Le,q))return dt.some(Le);if(G(Le,q))break}return dt.none()},_o=(N,ne)=>es(N,ne,je),Ao=N=>{const ne=Ft.call(N,0);return ne.reverse(),ne},jt=(N,ne,G=He)=>N.exists(q=>G(q,ne)),Xt=(N=>ne=>ne.replace(N,""))(/^\s+|\s+$/g),lt=N=>N.length>0,Xn=N=>!lt(N),gs=N=>{const ne=Ao(Xt(N).split("")),G=pn(ne,(q,de)=>{const Le=q.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,de)*Le});return ve(G,(q,de)=>q+de,0)},Eo=N=>{if(N--,N<0)return"";{const ne=N%26,G=Math.floor(N/26),q=Eo(G),de=String.fromCharCode(65+ne);return q+de}},ht=N=>/^[A-Z]+$/.test(N),oo=N=>/^[a-z]+$/.test(N),Ls=N=>/^[0-9]+$/.test(N),us=N=>Ls(N)?2:ht(N)?0:oo(N)?1:Xn(N)?3:4,s=N=>{switch(us(N)){case 2:return dt.some({listStyleType:dt.none(),start:N});case 0:return dt.some({listStyleType:dt.some("upper-alpha"),start:gs(N).toString()});case 1:return dt.some({listStyleType:dt.some("lower-alpha"),start:gs(N).toString()});case 3:return dt.some({listStyleType:dt.none(),start:""});case 4:return dt.none()}},b=N=>{const ne=parseInt(N.start,10);return jt(N.listStyleType,"upper-alpha")?Eo(ne):jt(N.listStyleType,"lower-alpha")?Eo(ne).toLowerCase():N.start},ge=(N=>ne=>ne.options.get(N))("forced_root_block"),a=N=>/\btox\-/.test(N.className),p=N=>ne=>ce(ne)&&N.test(ne.nodeName),M=N=>ne=>ce(ne)&&ne.nodeName.toLowerCase()===N,L=p(/^(OL|UL|DL)$/),A=p(/^(TH|TD)$/),O=p(/^(LI|DT|DD)$/),z=(N,ne)=>es(N,L,A).exists(G=>G.nodeName===ne&&!a(G)),Q=(N,ne)=>{const G=N.selection.getNode();return ne({parents:N.dom.getParents(G),element:G}),N.on("NodeChange",ne),()=>N.off("NodeChange",ne)},H=(N,ne)=>ne!==null&&!N.dom.isEditable(ne),P=(N,ne)=>{const G=N.dom.getParent(ne,"ol,ul,dl");return H(N,G)||!N.selection.isEditable()},j=M("ol"),K=["OL","UL","DL"],ee=K.join(","),w=(N,ne)=>{const G=ne||N.selection.getStart(!0);return N.dom.getParent(G,ee,xe(N,G))},xe=(N,ne)=>{const G=N.dom.getParents(ne,N.dom.isBlock),q=Le=>Le.nodeName.toLowerCase()!==ge(N);return _o(G,Le=>q(Le)&&be(N.schema,Le)).getOr(N.getBody())},be=(N,ne)=>!L(ne)&&!O(ne)&&Oe(K,G=>N.isValidChild(ne.nodeName,G)),re=N=>{const ne=w(N);!j(ne)||P(N,ne)||N.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:b({start:N.dom.getAttrib(ne,"start","1"),listStyleType:dt.from(N.dom.getStyle(ne,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:G=>{const q=G.getData();s(q.start).each(de=>{N.execCommand("mceListUpdate",!1,{attrs:{start:de.start==="1"?"":de.start},styles:{"list-style-type":de.listStyleType.getOr("")}})}),G.close()}})},se=N=>{N.addCommand("mceListProps",()=>{re(N)})},ie=(N,ne)=>G=>{const q=de=>{G.setActive(z(de.parents,ne)),G.setEnabled(!P(N,de.element)&&N.selection.isEditable())};return G.setEnabled(N.selection.isEditable()),Q(N,q)},D=N=>{const ne=G=>()=>N.execCommand(G);N.hasPlugin("advlist")||(N.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:ne("InsertOrderedList"),onSetup:ie(N,"OL")}),N.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:ne("InsertUnorderedList"),onSetup:ie(N,"UL")}))},U=(N,ne)=>G=>Q(N,de=>G.setEnabled(z(de.parents,ne)&&!P(N,de.element))),V=N=>{const ne={text:"List properties...",icon:"ordered-list",onAction:()=>N.execCommand("mceListProps"),onSetup:U(N,"OL")};N.ui.registry.addMenuItem("listprops",ne),N.ui.registry.addContextMenu("lists",{update:G=>{const q=w(N,G);return j(q)?["listprops"]:[]}})};var I=()=>{E.add("lists",N=>(se(N),D(N),V(N),R(N)))};I()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=(W,te,Ie)=>{var at;return Ie(W,te.prototype)?!0:((at=W.constructor)===null||at===void 0?void 0:at.name)===te.name},x=W=>{const te=typeof W;return W===null?"null":te==="object"&&Array.isArray(W)?"array":te==="object"&&R(W,String,(Ie,at)=>at.isPrototypeOf(Ie))?"string":te},ce=W=>te=>x(te)===W,ke=W=>te=>typeof te===W,He=W=>te=>W===te,je=ce("string"),dt=ce("array"),Ft=ke("boolean"),Oe=He(void 0),pn=W=>W==null,On=W=>!pn(W),ve=ke("function"),es=ke("number"),_o=()=>{},Ao=(W,te)=>Ie=>W(te(Ie)),jt=W=>()=>W,Zo=W=>W,Xt=(W,te)=>W===te;function lt(W,...te){return(...Ie)=>{const at=te.concat(Ie);return W.apply(null,at)}}const Xn=W=>{W()},gs=jt(!1),Eo=jt(!0);class ht{constructor(te,Ie){this.tag=te,this.value=Ie}static some(te){return new ht(!0,te)}static none(){return ht.singletonNone}fold(te,Ie){return this.tag?Ie(this.value):te()}isSome(){return this.tag}isNone(){return!this.tag}map(te){return this.tag?ht.some(te(this.value)):ht.none()}bind(te){return this.tag?te(this.value):ht.none()}exists(te){return this.tag&&te(this.value)}forall(te){return!this.tag||te(this.value)}filter(te){return!this.tag||te(this.value)?this:ht.none()}getOr(te){return this.tag?this.value:te}or(te){return this.tag?this:te}getOrThunk(te){return this.tag?this.value:te()}orThunk(te){return this.tag?this:te()}getOrDie(te){if(this.tag)return this.value;throw new Error(te??"Called getOrDie on None")}static from(te){return On(te)?ht.some(te):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(te){this.tag&&te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const oo=Array.prototype.indexOf,Ls=Array.prototype.push,us=(W,te)=>oo.call(W,te),s=(W,te)=>us(W,te)>-1,b=(W,te)=>{for(let Ie=0,at=W.length;Ie<at;Ie++){const Nt=W[Ie];if(te(Nt,Ie))return!0}return!1},B=(W,te)=>{const Ie=[];for(let at=0;at<W;at++)Ie.push(te(at));return Ie},ge=(W,te)=>{const Ie=W.length,at=new Array(Ie);for(let Nt=0;Nt<Ie;Nt++){const En=W[Nt];at[Nt]=te(En,Nt)}return at},a=(W,te)=>{for(let Ie=0,at=W.length;Ie<at;Ie++){const Nt=W[Ie];te(Nt,Ie)}},p=(W,te)=>{for(let Ie=W.length-1;Ie>=0;Ie--){const at=W[Ie];te(at,Ie)}},M=(W,te)=>{const Ie=[],at=[];for(let Nt=0,En=W.length;Nt<En;Nt++){const co=W[Nt];(te(co,Nt)?Ie:at).push(co)}return{pass:Ie,fail:at}},L=(W,te)=>{const Ie=[];for(let at=0,Nt=W.length;at<Nt;at++){const En=W[at];te(En,at)&&Ie.push(En)}return Ie},A=(W,te,Ie)=>(p(W,(at,Nt)=>{Ie=te(Ie,at,Nt)}),Ie),O=(W,te,Ie)=>(a(W,(at,Nt)=>{Ie=te(Ie,at,Nt)}),Ie),z=(W,te,Ie)=>{for(let at=0,Nt=W.length;at<Nt;at++){const En=W[at];if(te(En,at))return ht.some(En);if(Ie(En,at))break}return ht.none()},Q=(W,te)=>z(W,te,gs),H=W=>{const te=[];for(let Ie=0,at=W.length;Ie<at;++Ie){if(!dt(W[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+W);Ls.apply(te,W[Ie])}return te},P=(W,te)=>H(ge(W,te)),j=(W,te)=>{for(let Ie=0,at=W.length;Ie<at;++Ie){const Nt=W[Ie];if(te(Nt,Ie)!==!0)return!1}return!0},K=(W,te)=>{const Ie={};for(let at=0,Nt=W.length;at<Nt;at++){const En=W[at];Ie[String(En)]=te(En,at)}return Ie},ee=(W,te)=>te>=0&&te<W.length?ht.some(W[te]):ht.none(),w=W=>ee(W,0),xe=W=>ee(W,W.length-1),be=(W,te)=>{for(let Ie=0;Ie<W.length;Ie++){const at=te(W[Ie],Ie);if(at.isSome())return at}return ht.none()},re=Object.keys,se=Object.hasOwnProperty,ie=(W,te)=>{const Ie=re(W);for(let at=0,Nt=Ie.length;at<Nt;at++){const En=Ie[at],co=W[En];te(co,En)}},D=W=>(te,Ie)=>{W[Ie]=te},U=(W,te,Ie,at)=>{ie(W,(Nt,En)=>{(te(Nt,En)?Ie:at)(Nt,En)})},V=(W,te)=>{const Ie={};return U(W,te,D(Ie),_o),Ie},I=(W,te)=>{const Ie=[];return ie(W,(at,Nt)=>{Ie.push(te(at,Nt))}),Ie},N=W=>I(W,Zo),ne=W=>re(W).length,G=(W,te)=>q(W,te)?ht.from(W[te]):ht.none(),q=(W,te)=>se.call(W,te),de=(W,te)=>q(W,te)&&W[te]!==void 0&&W[te]!==null,Le=W=>{for(const te in W)if(se.call(W,te))return!1;return!0},Ae=W=>{let te=W;return{get:()=>te,set:Nt=>{te=Nt}}},we=(W,te,Ie=Xt)=>W.exists(at=>Ie(at,te)),Pe=W=>{const te=[],Ie=at=>{te.push(at)};for(let at=0;at<W.length;at++)W[at].each(Ie);return te},We=(W,te,Ie)=>W.isSome()&&te.isSome()?ht.some(Ie(W.getOrDie(),te.getOrDie())):ht.none(),ut=W=>W.bind(Zo),nt=(W,te)=>W?ht.some(te):ht.none(),ot=W=>{const te=Ae(ht.none()),Ie=()=>te.get().each(W);return{clear:()=>{Ie(),te.set(ht.none())},isSet:()=>te.get().isSome(),get:()=>te.get(),set:Fo=>{Ie(),te.set(ht.some(Fo))}}},Me=()=>ot(W=>W.unbind()),et=(W,te)=>W.substring(te),Ve=(W,te,Ie)=>te===""||W.length>=te.length&&W.substr(Ie,Ie+te.length)===te,Ze=(W,te)=>Xe(W,te)?et(W,te.length):W,Xe=(W,te)=>Ve(W,te,0),tt=(W=>te=>te.replace(W,""))(/^\s+|\s+$/g),_t=W=>W.length>0,mt=W=>!_t(W),Lt=(W,te=10)=>{const Ie=parseInt(W,te);return isNaN(Ie)?ht.none():ht.some(Ie)},Rt=W=>{const te=parseFloat(W);return isNaN(te)?ht.none():ht.some(te)},Wt=W=>{let te=!1,Ie;return(...at)=>(te||(te=!0,Ie=W.apply(null,at)),Ie)},Zt=(W,te)=>{const at=(te||document).createElement("div");if(at.innerHTML=W,!at.hasChildNodes()||at.childNodes.length>1){const Nt="HTML does not have a single root node";throw console.error(Nt,W),new Error(Nt)}return Je(at.childNodes[0])},kn=(W,te)=>{const at=(te||document).createElement(W);return Je(at)},Jn=(W,te)=>{const at=(te||document).createTextNode(W);return Je(at)},Je=W=>{if(W==null)throw new Error("Node cannot be null or undefined");return{dom:W}},It={fromHtml:Zt,fromTag:kn,fromText:Jn,fromDom:Je,fromPoint:(W,te,Ie)=>ht.from(W.dom.elementFromPoint(te,Ie)).map(Je)},nn=8,bn=9,Tn=11,Mn=1,vn=3,Hn=(W,te)=>{const Ie=W.dom;if(Ie.nodeType!==Mn)return!1;{const at=Ie;if(at.matches!==void 0)return at.matches(te);if(at.msMatchesSelector!==void 0)return at.msMatchesSelector(te);if(at.webkitMatchesSelector!==void 0)return at.webkitMatchesSelector(te);if(at.mozMatchesSelector!==void 0)return at.mozMatchesSelector(te);throw new Error("Browser lacks native selectors")}},wo=W=>W.nodeType!==Mn&&W.nodeType!==bn&&W.nodeType!==Tn||W.childElementCount===0,ro=(W,te)=>{const Ie=te===void 0?document:te.dom;return wo(Ie)?[]:ge(Ie.querySelectorAll(W),It.fromDom)},qo=(W,te)=>{const Ie=te===void 0?document:te.dom;return wo(Ie)?ht.none():ht.from(Ie.querySelector(W)).map(It.fromDom)},zn=(W,te)=>W.dom===te.dom,ls=Hn,ms=W=>W.dom.nodeName.toLowerCase(),Et=W=>W.dom.nodeType,fe=W=>te=>Et(te)===W,Z=W=>Et(W)===nn||ms(W)==="#comment",ae=fe(Mn),ye=fe(vn),Ce=fe(bn),ze=fe(Tn),Re=W=>te=>ae(te)&&ms(te)===W,J=W=>It.fromDom(W.dom.ownerDocument),pe=W=>Ce(W)?W:J(W),me=W=>ht.from(W.dom.parentNode).map(It.fromDom),_e=(W,te)=>{const Ie=ve(te)?te:gs;let at=W.dom;const Nt=[];for(;at.parentNode!==null&&at.parentNode!==void 0;){const En=at.parentNode,co=It.fromDom(En);if(Nt.push(co),Ie(co)===!0)break;at=En}return Nt},Ke=W=>ht.from(W.dom.previousSibling).map(It.fromDom),ft=W=>ht.from(W.dom.nextSibling).map(It.fromDom),gt=W=>ge(W.dom.childNodes,It.fromDom),At=(W,te)=>{const Ie=W.dom.childNodes;return ht.from(Ie[te]).map(It.fromDom)},zt=W=>At(W,0),kt=W=>ze(W)&&On(W.dom.host),Tt=W=>It.fromDom(W.dom.getRootNode()),Mt=W=>{const te=Tt(W);return kt(te)?ht.some(te):ht.none()},qt=W=>It.fromDom(W.dom.host),Qt=(W,te)=>{me(W).each(at=>{at.dom.insertBefore(te.dom,W.dom)})},on=(W,te)=>{ft(W).fold(()=>{me(W).each(Nt=>{Dn(Nt,te)})},at=>{Qt(at,te)})},_n=(W,te)=>{zt(W).fold(()=>{Dn(W,te)},at=>{W.dom.insertBefore(te.dom,at.dom)})},Dn=(W,te)=>{W.dom.appendChild(te.dom)},eo=(W,te)=>{Qt(W,te),Dn(te,W)},hs=(W,te)=>{a(te,(Ie,at)=>{const Nt=at===0?W:te[at-1];on(Nt,Ie)})},Bs=(W,te)=>{a(te,Ie=>{Dn(W,Ie)})},fs=(W,te,Ie)=>{if(je(Ie)||Ft(Ie)||es(Ie))W.setAttribute(te,Ie+"");else throw console.error("Invalid call to Attribute.set. Key ",te,":: Value ",Ie,":: Element ",W),new Error("Attribute value was not simple")},Is=(W,te,Ie)=>{fs(W.dom,te,Ie)},bs=(W,te)=>{const Ie=W.dom;ie(te,(at,Nt)=>{fs(Ie,Nt,at)})},Go=(W,te)=>{const Ie=W.dom.getAttribute(te);return Ie===null?void 0:Ie},Do=(W,te)=>ht.from(Go(W,te)),zs=(W,te)=>{W.dom.removeAttribute(te)},As=W=>O(W.dom.attributes,(te,Ie)=>(te[Ie.name]=Ie.value,te),{}),Vs=W=>{const te=W.dom;te.parentNode!==null&&te.parentNode.removeChild(te)},go=W=>{const te=gt(W);te.length>0&&hs(W,te),Vs(W)},bo=W=>ge(W,It.fromDom),io=W=>W.style!==void 0&&ve(W.style.getPropertyValue),po=W=>{const te=ye(W)?W.dom.parentNode:W.dom;if(te==null||te.ownerDocument===null)return!1;const Ie=te.ownerDocument;return Mt(It.fromDom(te)).fold(()=>Ie.body.contains(te),Ao(po,qt))},Tr=(W,te,Ie)=>{if(!je(Ie))throw console.error("Invalid call to CSS.set. Property ",te,":: Value ",Ie,":: Element ",W),new Error("CSS value must be a string: "+Ie);io(W)&&W.style.setProperty(te,Ie)},vi=(W,te)=>{io(W)&&W.style.removeProperty(te)},Qn=(W,te,Ie)=>{const at=W.dom;Tr(at,te,Ie)},Ur=(W,te)=>{const Ie=W.dom,Nt=window.getComputedStyle(Ie).getPropertyValue(te);return Nt===""&&!po(W)?wa(Ie,te):Nt},wa=(W,te)=>io(W)?W.style.getPropertyValue(te):"",Js=(W,te)=>{const Ie=W.dom,at=wa(Ie,te);return ht.from(at).filter(Nt=>Nt.length>0)},ia=(W,te)=>{const Ie=W.dom;vi(Ie,te),we(Do(W,"style").map(tt),"")&&zs(W,"style")},Ne=(W,te)=>Rt(W).getOr(te),pt=(W,te,Ie)=>Ne(Ur(W,te),Ie),St=(W,te,Ie,at)=>{const Nt=pt(W,`padding-${Ie}`,0),En=pt(W,`padding-${at}`,0),co=pt(W,`border-${Ie}-width`,0),Fo=pt(W,`border-${at}-width`,0);return te-Nt-En-co-Fo},Pt=(W,te)=>{const Ie=W.dom,at=Ie.getBoundingClientRect().width||Ie.offsetWidth;return St(W,at,"left","right")},Vn=W=>Pt(W),vo=((W,te)=>{const Ie=En=>{if(!W(En))throw new Error("Can only get "+te+" value of a "+te+" node");return at(En).getOr("")},at=En=>W(En)?ht.from(En.dom.nodeValue):ht.none();return{get:Ie,getOption:at,set:(En,co)=>{if(!W(En))throw new Error("Can only set raw "+te+" value of a "+te+" node");En.dom.nodeValue=co}}})(ye,"text"),mo=W=>vo.get(W),Uo=(W,te)=>vo.set(W,te);var cn=(W,te,Ie,at,Nt)=>W(Ie,at)?ht.some(Ie):ve(Nt)&&Nt(Ie)?ht.none():te(Ie,at,Nt);const cs=(W,te,Ie)=>{let at=W.dom;const Nt=ve(Ie)?Ie:gs;for(;at.parentNode;){at=at.parentNode;const En=It.fromDom(at);if(te(En))return ht.some(En);if(Nt(En))break}return ht.none()},ds=(W,te,Ie)=>cn((Nt,En)=>En(Nt),cs,W,te,Ie),Ue=(W,te)=>{const Ie=Nt=>te(It.fromDom(Nt));return Q(W.dom.childNodes,Ie).map(It.fromDom)},bt=(W,te,Ie)=>cs(W,at=>Hn(at,te),Ie),Ht=(W,te)=>Ue(W,Ie=>Hn(Ie,te)),ln=(W,te)=>qo(te,W),An=(W,te,Ie)=>cn((Nt,En)=>Hn(Nt,En),bt,W,te,Ie),Wn=W=>An(W,"[contenteditable]"),Yo=(W,te=!1)=>po(W)?W.dom.isContentEditable:Wn(W).fold(jt(te),Ie=>Oo(Ie)==="true"),Oo=W=>W.dom.contentEditable,So=(W,te)=>L(gt(W),te),Te=(W,te)=>{let Ie=[];return a(gt(W),at=>{te(at)&&(Ie=Ie.concat([at])),Ie=Ie.concat(Te(at,te))}),Ie},Ge=(W,te)=>So(W,Ie=>Hn(Ie,te)),xt=(W,te)=>ro(te,W),Kt=(W,te)=>Ht(W,te).isSome(),Cn=W=>W.nodeName.toLowerCase(),Ko=W=>It.fromDom(W.getBody()),ps=W=>te=>zn(te,Ko(W)),ir=W=>W?W.replace(/px$/,""):"",Or=W=>/^\d+(\.\d+)?$/.test(W)?W+"px":W,Gr=W=>It.fromDom(W.selection.getStart()),Rs=W=>It.fromDom(W.selection.getEnd()),Sa=W=>ds(W,Re("table")).forall(Yo),Hi=["tfoot","thead","tbody","colgroup"],ta=W=>s(Hi,W),Ta=(W,te)=>({rows:W,columns:te}),xi=(W,te,Ie)=>({element:W,rowspan:te,colspan:Ie}),la=(W,te,Ie,at,Nt,En)=>({element:W,rowspan:te,colspan:Ie,row:at,column:Nt,isLocked:En}),Ji=(W,te,Ie)=>({element:W,cells:te,section:Ie}),zi=(W,te,Ie,at)=>({startRow:W,startCol:te,finishRow:Ie,finishCol:at}),ml=(W,te,Ie)=>({element:W,colspan:te,column:Ie}),eu=(W,te)=>({element:W,columns:te}),l1=(W,te,Ie=0)=>Do(W,te).map(at=>parseInt(at,10)).getOr(Ie),Rg=(W,te)=>md(W,te,Eo),md=(W,te,Ie)=>P(gt(W),at=>Hn(at,te)?Ie(at)?[at]:[]:md(at,te,Ie)),Ui=(W,te,Ie=gs)=>{if(Ie(te))return ht.none();if(s(W,ms(te)))return ht.some(te);const at=Nt=>Hn(Nt,"table")||Ie(Nt);return bt(te,W.join(","),at)},gh=(W,te)=>Ui(["td","th"],W,te),C2=W=>Rg(W,"th,td"),e5=W=>Hn(W,"colgroup")?Ge(W,"col"):P(E2(W),te=>Ge(te,"col")),ql=(W,te)=>An(W,"table",te),_2=W=>Rg(W,"tr"),E2=W=>ql(W).fold(jt([]),te=>Ge(te,"colgroup")),$c=Re("th"),t5=(W,te)=>W&&te?"sectionCells":W?"section":"cells",n5=W=>{const te=W.section==="thead",Ie=we(o5(W.cells),"th");return W.section==="tfoot"?{type:"footer"}:te||Ie?{type:"header",subType:t5(te,Ie)}:{type:"body"}},o5=W=>{const te=L(W,Ie=>$c(Ie.element));return te.length===0?ht.some("td"):te.length===W.length?ht.some("th"):ht.none()},mh=W=>{const te=ge(W,Nt=>n5(Nt).type),Ie=s(te,"header"),at=s(te,"footer");if(!Ie&&!at)return ht.some("body");{const Nt=s(te,"body");return Ie&&!Nt&&!at?ht.some("header"):!Ie&&!Nt&&at?ht.some("footer"):ht.none()}},hh=(W,te)=>ge(W,Ie=>{if(ms(Ie)==="colgroup"){const at=ge(e5(Ie),Nt=>{const En=l1(Nt,"span",1);return xi(Nt,1,En)});return Ji(Ie,at,"colgroup")}else{const at=ge(C2(Ie),Nt=>{const En=l1(Nt,"rowspan",1),co=l1(Nt,"colspan",1);return xi(Nt,En,co)});return Ji(Ie,at,te(Ie))}}),Q6=W=>me(W).map(te=>{const Ie=ms(te);return ta(Ie)?Ie:"tbody"}).getOr("tbody"),bh=W=>{const te=_2(W),at=[...E2(W),...te];return hh(at,Q6)},hd="data-snooker-locked-cols",bd=W=>Do(W,hd).bind(te=>ht.from(te.match(/\d+/g))).map(te=>K(te,Eo)),vd=(W,te)=>W+","+te,s5=(W,te,Ie)=>ht.from(W.access[vd(te,Ie)]),fr=(W,te,Ie)=>{const at=w2(W,Nt=>Ie(te,Nt.element));return at.length>0?ht.some(at[0]):ht.none()},w2=(W,te)=>{const Ie=P(W.all,at=>at.cells);return L(Ie,te)},S2=W=>{const te={};let Ie=0;return a(W.cells,at=>{const Nt=at.colspan;B(Nt,En=>{const co=Ie+En;te[co]=ml(at.element,Nt,co)}),Ie+=Nt}),te},vh=W=>{const te={},Ie=[],Nt=w(W).map(zl=>zl.element).bind(ql).bind(bd).getOr({});let En=0,co=0,Fo=0;const{pass:Ds,fail:$s}=M(W,zl=>zl.section==="colgroup");a($s,zl=>{const lu=[];a(zl.cells,cu=>{let hc=0;for(;te[vd(Fo,hc)]!==void 0;)hc++;const Rh=de(Nt,hc.toString()),Ep=la(cu.element,cu.rowspan,cu.colspan,Fo,hc,Rh);for(let v1=0;v1<cu.colspan;v1++)for(let Wu=0;Wu<cu.rowspan;Wu++){const Kg=Fo+Wu,jg=hc+v1,Zg=vd(Kg,jg);te[Zg]=Ep,co=Math.max(co,jg+1)}lu.push(Ep)}),En++,Ie.push(Ji(zl.element,lu,zl.section)),Fo++});const{columns:Nr,colgroups:qr}=xe(Ds).map(zl=>{const lu=S2(zl);return{colgroups:[eu(zl.element,N(lu))],columns:lu}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ta(En,co),access:te,all:Ie,columns:Nr,colgroups:qr}},ca={fromTable:W=>{const te=bh(W);return vh(te)},generate:vh,getAt:s5,findItem:fr,filterItems:w2,justCells:W=>P(W.all,te=>te.cells),justColumns:W=>N(W.columns),hasColumns:W=>re(W.columns).length>0,getColumnAt:(W,te)=>ht.from(W.columns[te])},Cf=(W,te)=>be(W.all,Ie=>Q(Ie.cells,at=>zn(te,at.element))),Kn=(W,te,Ie)=>{const at=ge(te.selection,En=>gh(En).bind(co=>Cf(W,co)).filter(Ie)),Nt=Pe(at);return nt(Nt.length>0,Nt)},a5=(W,te)=>te.mergable,Nl=(W,te)=>te.unmergable,mp=(W,te)=>Kn(W,te,Eo),el=(W,te)=>Cf(W,te).exists(Ie=>!Ie.isLocked),i5=(W,te)=>j(te,Ie=>el(W,Ie)),yt=(W,te)=>a5(W,te).filter(Ie=>i5(W,Ie.cells)),Bu=(W,te)=>Nl(W,te).filter(Ie=>i5(W,Ie));var hl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],tu=()=>{const W=$s=>It.fromDom($s.dom.cloneNode(!1)),te=$s=>pe($s).dom,Ie=$s=>ae($s)?ms($s)==="body"?!0:s(hl,ms($s)):!1,at=$s=>ae($s)?s(["br","img","hr","input"],ms($s)):!1,Nt=$s=>ae($s)&&Go($s,"contenteditable")==="false",En=($s,Nr)=>$s.dom.compareDocumentPosition(Nr.dom),co=($s,Nr)=>{const qr=As($s);bs(Nr,qr)},Fo=$s=>{const Nr=ms($s);return s(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Nr)},Ds=$s=>ae($s)?Do($s,"lang"):ht.none();return{up:jt({selector:bt,closest:An,predicate:cs,all:_e}),down:jt({selector:xt,predicate:Te}),styles:jt({get:Ur,getRaw:Js,set:Qn,remove:ia}),attrs:jt({get:Go,set:Is,remove:zs,copyTo:co}),insert:jt({before:Qt,after:on,afterAll:hs,append:Dn,appendAll:Bs,prepend:_n,wrap:eo}),remove:jt({unwrap:go,remove:Vs}),create:jt({nu:It.fromTag,clone:W,text:It.fromText}),query:jt({comparePosition:En,prevSibling:Ke,nextSibling:ft}),property:jt({children:gt,name:ms,parent:me,document:te,isText:ye,isComment:Z,isElement:ae,isSpecial:Fo,getLanguage:Ds,getText:mo,setText:Uo,isBoundary:Ie,isEmptyTag:at,isNonEditable:Nt}),eq:zn,is:ls}};const Mg=(W,te,Ie,at)=>{const Nt=Ie[0],En=Ie.slice(1);return at(W,te,Nt,En)},Fu=(W,te,Ie)=>Ie.length>0?Mg(W,te,Ie,bl):ht.none(),bl=(W,te,Ie,at)=>{const Nt=te(W,Ie);return A(at,(En,co)=>{const Fo=te(W,co);return Rl(W,En,Fo)},Nt)},Rl=(W,te,Ie)=>te.bind(at=>Ie.filter(lt(W.eq,at))),yh=Fu,Ch=tu(),Pu=(W,te)=>yh(Ch,(Ie,at)=>W(at),te),_h=(W,te)=>{const Ie=ca.fromTable(W);return mp(Ie,te).bind(Nt=>{const En=Nt[Nt.length-1],co=Nt[0].row,Fo=En.row+En.rowspan,Ds=Ie.all.slice(co,Fo);return mh(Ds)}).getOr("")},Ql=(W,te)=>te.column>=W.startCol&&te.column+te.colspan-1<=W.finishCol&&te.row>=W.startRow&&te.row+te.rowspan-1<=W.finishRow,T2=(W,te)=>{let Ie=!0;const at=lt(Ql,te);for(let Nt=te.startRow;Nt<=te.finishRow;Nt++)for(let En=te.startCol;En<=te.finishCol;En++)Ie=Ie&&ca.getAt(W,Nt,En).exists(at);return Ie?ht.some(te):ht.none()},Ml=(W,te)=>zi(Math.min(W.row,te.row),Math.min(W.column,te.column),Math.max(W.row+W.rowspan-1,te.row+te.rowspan-1),Math.max(W.column+W.colspan-1,te.column+te.colspan-1)),Eh=(W,te,Ie)=>{const at=ca.findItem(W,te,zn),Nt=ca.findItem(W,Ie,zn);return at.bind(En=>Nt.map(co=>Ml(En,co)))},A2=(W,te,Ie)=>Eh(W,te,Ie).bind(at=>T2(W,at)),Hc=(W,te,Ie)=>{const at=Ws(W);return A2(at,te,Ie)},Ws=ca.fromTable;var vl=tinymce.util.Tools.resolve("tinymce.util.Tools");const _f=(W,te,Ie)=>{const at=W.select("td,th",te);let Nt;for(let En=0;En<at.length;En++){const co=W.getStyle(at[En],Ie);if(Oe(Nt)&&(Nt=co),Nt!==co)return""}return Nt},hp=(W,te,Ie)=>{vl.each("left center right".split(" "),at=>{at!==Ie&&W.formatter.remove("align"+at,{},te)}),Ie&&W.formatter.apply("align"+Ie,{},te)},Fs=(W,te,Ie)=>{vl.each("top middle bottom".split(" "),at=>{at!==Ie&&W.formatter.remove("valign"+at,{},te)}),Ie&&W.formatter.apply("valign"+Ie,{},te)},Ig=(W,te,Ie)=>{W.dispatch("TableModified",{...Ie,table:te})};var zc=tinymce.util.Tools.resolve("tinymce.Env");const Ra="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",xl=B(5,W=>{const te=`${W+1}px`;return{title:te,value:te}}),da=ge(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],W=>({title:W,value:W.toLowerCase()})),Ha="100%",ua=W=>{var te;const Ie=W.dom,at=(te=Ie.getParent(W.selection.getStart(),Ie.isBlock))!==null&&te!==void 0?te:W.getBody();return Vn(It.fromDom(at))+"px"},l5=(W,te)=>Fg(W)||!Uc(W)?te:c1(W)?{...te,width:ua(W)}:{...te,width:Ha},nu=(W,te)=>Fg(W)||Uc(W)?te:c1(W)?{...te,width:ua(W)}:{...te,width:Ha},Vi=W=>te=>te.options.get(W),yi=W=>{const te=W.options.register;te("table_border_widths",{processor:"object[]",default:xl}),te("table_border_styles",{processor:"object[]",default:da}),te("table_cell_advtab",{processor:"boolean",default:!0}),te("table_row_advtab",{processor:"boolean",default:!0}),te("table_advtab",{processor:"boolean",default:!0}),te("table_appearance_options",{processor:"boolean",default:!0}),te("table_grid",{processor:"boolean",default:!zc.deviceType.isTouch()}),te("table_cell_class_list",{processor:"object[]",default:[]}),te("table_row_class_list",{processor:"object[]",default:[]}),te("table_class_list",{processor:"object[]",default:[]}),te("table_toolbar",{processor:"string",default:Ra}),te("table_background_color_map",{processor:"object[]",default:[]}),te("table_border_color_map",{processor:"object[]",default:[]})},Bg=Vi("table_sizing_mode"),fa=Vi("table_border_widths"),si=Vi("table_border_styles"),$u=Vi("table_cell_advtab"),Jl=Vi("table_row_advtab"),yl=Vi("table_advtab"),Qs=Vi("table_appearance_options"),xd=Vi("table_grid"),Uc=Vi("table_style_by_css"),ri=Vi("table_cell_class_list"),hr=Vi("table_row_class_list"),fc=Vi("table_class_list"),pc=Vi("table_toolbar"),Xa=Vi("table_background_color_map"),za=Vi("table_border_color_map"),c1=W=>Bg(W)==="fixed",Fg=W=>Bg(W)==="responsive",ou=W=>{const te=W.options,Ie=te.get("table_default_styles");return te.isSet("table_default_styles")?Ie:l5(W,Ie)},tl=W=>{const te=W.options,Ie=te.get("table_default_attributes");return te.isSet("table_default_attributes")?Ie:nu(W,Ie)},c5=W=>bt(W,"table"),k2=(W,te)=>{const Ie=xt(W,te);return Ie.length>0?ht.some(Ie):ht.none()},Ef=(W,te,Ie)=>ln(W,te).bind(at=>ln(W,Ie).bind(Nt=>Pu(c5,[at,Nt]).map(En=>({first:at,last:Nt,table:En})))),os=(W,te)=>k2(W,te),O2=(W,te,Ie)=>Ef(W,te,Ie).bind(at=>{const Nt=Ds=>zn(W,Ds),En="thead,tfoot,tbody,table",co=bt(at.first,En,Nt),Fo=bt(at.last,En,Nt);return co.bind(Ds=>Fo.bind($s=>zn(Ds,$s)?Hc(at.table,at.first,at.last):ht.none()))}),Ua=Zo,ai=W=>{const te=(at,Nt)=>Do(at,Nt).exists(En=>parseInt(En,10)>1),Ie=at=>te(at,"rowspan")||te(at,"colspan");return W.length>0&&j(W,Ie)?ht.some(W):ht.none()},ii=(W,te,Ie)=>te.length<=1?ht.none():O2(W,Ie.firstSelectedSelector,Ie.lastSelectedSelector).map(at=>({bounds:at,cells:te})),Kr="data-mce-selected",Hu="data-mce-first-selected",Pg="td["+Hu+"],th["+Hu+"]",ec="data-mce-last-selected",Vc="td["+ec+"],th["+ec+"]",$g={selected:Kr,firstSelectedSelector:Pg,lastSelectedSelector:Vc},bp=W=>ql(W).bind(te=>os(te,$g.firstSelectedSelector)).fold(jt(W),te=>te[0]),wh=W=>(te,Ie)=>{const at=ms(te),Nt=at==="col"||at==="colgroup"?bp(te):te;return An(Nt,W,Ie)},Il=wh("th,td,caption"),wf=wh("th,td"),Qa=W=>bo(W.model.table.getSelectedCells()),yd=(W,te)=>{const Ie=wf(W),at=Ie.bind(Nt=>ql(Nt)).map(Nt=>_2(Nt));return We(Ie,at,(Nt,En)=>L(En,co=>b(bo(co.dom.cells),Fo=>Go(Fo,te)==="1"||zn(Fo,Nt)))).getOr([])},su=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Lr=W=>({value:Bl(W)}),nl=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gc=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Sh=W=>nl.test(W)||gc.test(W),Bl=W=>Ze(W,"#").toUpperCase(),Hg=W=>Sh(W)?ht.some({value:Bl(W)}):ht.none(),Mo=W=>{const te=W.toString(16);return(te.length===1?"0"+te:te).toUpperCase()},Aa=W=>{const te=Mo(W.red)+Mo(W.green)+Mo(W.blue);return Lr(te)},Ja=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,pa=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,zu=(W,te,Ie,at)=>({red:W,green:te,blue:Ie,alpha:at}),er=(W,te,Ie,at)=>{const Nt=parseInt(W,10),En=parseInt(te,10),co=parseInt(Ie,10),Fo=parseFloat(at);return zu(Nt,En,co,Fo)},zg=W=>{const te=Ja.exec(W);if(te!==null)return ht.some(er(te[1],te[2],te[3],"1"));const Ie=pa.exec(W);return Ie!==null?ht.some(er(Ie[1],Ie[2],Ie[3],Ie[4])):ht.none()},ru=W=>Hg(W).orThunk(()=>zg(W).map(Aa)).getOrThunk(()=>{const te=document.createElement("canvas");te.height=1,te.width=1;const Ie=te.getContext("2d");Ie.clearRect(0,0,te.width,te.height),Ie.fillStyle="#FFFFFF",Ie.fillStyle=W,Ie.fillRect(0,0,1,1);const at=Ie.getImageData(0,0,1,1).data,Nt=at[0],En=at[1],co=at[2],Fo=at[3];return Aa(zu(Nt,En,co,Fo))}),Ps=W=>zg(W).map(Aa).map(te=>"#"+te.value).getOr(W),Ar=(W,te,Ie)=>at=>{const Nt=Me(),En=mt(Ie),co=()=>{const Fo=Qa(W),Ds=$s=>W.formatter.match(te,{value:Ie},$s.dom,En);En?(at.setActive(!b(Fo,Ds)),Nt.set(W.formatter.formatChanged(te,$s=>at.setActive(!$s),!0))):(at.setActive(j(Fo,Ds)),Nt.set(W.formatter.formatChanged(te,at.setActive,!1,{value:Ie})))};return W.initialized?co():W.on("init",co),Nt.clear},Fl=W=>de(W,"menu"),d1=W=>ge(W,te=>{const Ie=te.text||te.title||"";return Fl(te)?{text:Ie,items:d1(te.menu)}:{text:Ie,value:te.value}}),Yr=W=>W.length?ht.some(d1([{text:"Select...",value:"mce-no-match"},...W])):ht.none(),Di=(W,te,Ie,at)=>ge(te,Nt=>{const En=Nt.text||Nt.title;return Fl(Nt)?{type:"nestedmenuitem",text:En,getSubmenuItems:()=>Di(W,Nt.menu,Ie,at)}:{text:En,type:"togglemenuitem",onAction:()=>at(Nt.value),onSetup:Ar(W,Ie,Nt.value)}}),Uu=(W,te)=>Ie=>{W.execCommand("mceTableApplyCellStyle",!1,{[te]:Ie})},au=W=>P(W,te=>Fl(te)?[{...te,menu:au(te.menu)}]:_t(te.value)?[te]:[]),u1=(W,te,Ie,at)=>Nt=>Nt(Di(W,te,Ie,at)),Pl=(W,te,Ie)=>{const at=ge(te,Nt=>({text:Nt.title,value:"#"+ru(Nt.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:at.length>0?at:void 0,allowCustomColors:!1},onAction:Nt=>{const En=Nt.value==="remove"?"":Nt.value;W.execCommand("mceTableApplyCellStyle",!1,{[Ie]:En})}}]},Th=W=>()=>{const Ie=W.queryCommandValue("mceTableRowType")==="header"?"body":"header";W.execCommand("mceTableRowType",!1,{type:Ie})},ei=W=>()=>{const Ie=W.queryCommandValue("mceTableColType")==="th"?"td":"th";W.execCommand("mceTableColType",!1,{type:Ie})},f1=W=>Yr(ri(W)).map(te=>({name:"class",type:"listbox",label:"Class",items:te})),vp=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:su}],Cd=W=>vp.concat(f1(W).toArray()),Dr=(W,te)=>{const at=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(d1(si(W)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:te==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(at):at}},iu={normal:(W,te)=>{const Ie=W.dom;return{setAttrib:(co,Fo)=>{Ie.setAttrib(te,co,Fo)},setStyle:(co,Fo)=>{Ie.setStyle(te,co,Fo)},setFormat:(co,Fo)=>{Fo===""?W.formatter.remove(co,{value:null},te,!0):W.formatter.apply(co,{value:Fo},te)}}}},Ni=W=>Xe(W,"rgb")?Ps(W):W,Va=W=>{const te=It.fromDom(W);return{borderwidth:Js(te,"border-width").getOr(""),borderstyle:Js(te,"border-style").getOr(""),bordercolor:Js(te,"border-color").map(Ni).getOr(""),backgroundcolor:Js(te,"background-color").map(Ni).getOr("")}},Ri=W=>{const te=W[0],Ie=W.slice(1);return a(Ie,at=>{a(re(te),Nt=>{ie(at,(En,co)=>{const Fo=te[Nt];Fo!==""&&Nt===co&&Fo!==En&&(te[Nt]=Nt==="class"?"mce-no-match":"")})})}),te},tc=(W,te,Ie,at)=>Q(W,Nt=>!Oe(Ie.formatter.matchNode(at,te+Nt))).getOr(""),Wa=lt(tc,["left","center","right"],"align"),Sf=lt(tc,["top","middle","bottom"],"valign"),d5=(W,te)=>{const Ie=ou(W),at=tl(W),Nt=()=>({borderstyle:G(Ie,"border-style").getOr(""),bordercolor:Ni(G(Ie,"border-color").getOr("")),backgroundcolor:Ni(G(Ie,"background-color").getOr(""))}),En={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},co=()=>{const Nr=Ie["border-width"];return Uc(W)&&Nr?{border:Nr}:G(at,"border").fold(()=>({}),qr=>({border:qr}))},Fo=te?Nt():{},Ds=()=>{const Nr=G(Ie,"border-spacing").or(G(at,"cellspacing")).fold(()=>({}),ma=>({cellspacing:ma})),qr=G(Ie,"border-padding").or(G(at,"cellpadding")).fold(()=>({}),ma=>({cellpadding:ma}));return{...Nr,...qr}};return{...En,...Ie,...at,...Fo,...co(),...Ds()}},D2=W=>ql(It.fromDom(W)).map(te=>{const Ie={selection:bo(W.cells)};return _h(te,Ie)}).getOr(""),u5=(W,te,Ie)=>{const at=(Fo,Ds)=>{const $s=Js(It.fromDom(Ds),"border-width");return Uc(W)&&$s.isSome()?$s.getOr(""):Fo.getAttrib(Ds,"border")||_f(W.dom,Ds,"border-width")||_f(W.dom,Ds,"border")||""},Nt=W.dom,En=Uc(W)?Nt.getStyle(te,"border-spacing")||Nt.getAttrib(te,"cellspacing"):Nt.getAttrib(te,"cellspacing")||Nt.getStyle(te,"border-spacing"),co=Uc(W)?_f(Nt,te,"padding")||Nt.getAttrib(te,"cellpadding"):Nt.getAttrib(te,"cellpadding")||_f(Nt,te,"padding");return{width:Nt.getStyle(te,"width")||Nt.getAttrib(te,"width"),height:Nt.getStyle(te,"height")||Nt.getAttrib(te,"height"),cellspacing:En??"",cellpadding:co??"",border:at(Nt,te),caption:!!Nt.select("caption",te)[0],class:Nt.getAttrib(te,"class",""),align:Wa(W,te),...Ie?Va(te):{}}},Wc=(W,te,Ie)=>{const at=W.dom;return{height:at.getStyle(te,"height")||at.getAttrib(te,"height"),class:at.getAttrib(te,"class",""),type:D2(te),align:Wa(W,te),...Ie?Va(te):{}}},N2=(W,te,Ie,at)=>{const Nt=W.dom,En=at.getOr(te);return{width:((Fo,Ds)=>Nt.getStyle(Fo,Ds)||Nt.getAttrib(Fo,Ds))(En,"width"),scope:Nt.getAttrib(te,"scope"),celltype:Cn(te),class:Nt.getAttrib(te,"class",""),halign:Wa(W,te),valign:Sf(W,te),...Ie?Va(te):{}}},Tf=(W,te)=>{const Ie=ca.fromTable(W),at=ca.justCells(Ie),Nt=L(at,En=>b(te,co=>zn(En.element,co)));return ge(Nt,En=>({element:En.element.dom,column:ca.getColumnAt(Ie,En.column).map(co=>co.element.dom)}))},p1=(W,te,Ie,at)=>{at("scope")&&W.setAttrib("scope",Ie.scope),at("class")&&Ie.class!=="mce-no-match"&&W.setAttrib("class",Ie.class),at("width")&&te.setStyle("width",Or(Ie.width))},xp=(W,te,Ie)=>{Ie("backgroundcolor")&&W.setFormat("tablecellbackgroundcolor",te.backgroundcolor),Ie("bordercolor")&&W.setFormat("tablecellbordercolor",te.bordercolor),Ie("borderstyle")&&W.setFormat("tablecellborderstyle",te.borderstyle),Ie("borderwidth")&&W.setFormat("tablecellborderwidth",Or(te.borderwidth))},Ah=(W,te,Ie,at)=>{const Nt=te.length===1;a(te,En=>{const co=En.element,Fo=Nt?Eo:at,Ds=iu.normal(W,co),$s=En.column.map(Nr=>iu.normal(W,Nr)).getOr(Ds);p1(Ds,$s,Ie,Fo),$u(W)&&xp(Ds,Ie,Fo),at("halign")&&hp(W,co,Ie.halign),at("valign")&&Fs(W,co,Ie.valign)})},Af=(W,te)=>{W.execCommand("mceTableCellType",!1,{type:te.celltype,no_events:!0})},yp=(W,te,Ie,at)=>{const Nt=V(at,(En,co)=>Ie[co]!==En);ne(Nt)>0&&te.length>=1&&ql(te[0]).each(En=>{const co=Tf(En,te),Fo=ne(V(Nt,($s,Nr)=>Nr!=="scope"&&Nr!=="celltype"))>0,Ds=q(Nt,"celltype");(Fo||q(Nt,"scope"))&&Ah(W,co,at,lt(q,Nt)),Ds&&Af(W,at),Ig(W,En.dom,{structure:Ds,style:Fo})})},R2=(W,te,Ie,at)=>{const Nt=at.getData();at.close(),W.undoManager.transact(()=>{yp(W,te,Ie,Nt),W.focus()})},M2=(W,te)=>{const Ie=ql(te[0]).map(at=>ge(Tf(at,te),Nt=>N2(W,Nt.element,$u(W),Nt.column)));return Ri(Ie.getOrDie())},Kc=W=>{const te=Qa(W);if(te.length===0)return;const Ie=M2(W,te),at={type:"tabpanel",tabs:[{title:"General",name:"general",items:Cd(W)},Dr(W,"cell")]},Nt={type:"panel",items:[{type:"grid",columns:2,items:Cd(W)}]};W.windowManager.open({title:"Cell Properties",size:"normal",body:$u(W)?at:Nt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ie,onSubmit:lt(R2,W,te,Ie)})},Cp=W=>Yr(hr(W)).map(te=>({name:"class",type:"listbox",label:"Class",items:te})),g1=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],pr=W=>g1.concat(Cp(W).toArray()),nc=(W,te,Ie)=>{Ie("class")&&te.class!=="mce-no-match"&&W.setAttrib("class",te.class),Ie("height")&&W.setStyle("height",Or(te.height))},mc=(W,te,Ie)=>{Ie("backgroundcolor")&&W.setStyle("background-color",te.backgroundcolor),Ie("bordercolor")&&W.setStyle("border-color",te.bordercolor),Ie("borderstyle")&&W.setStyle("border-style",te.borderstyle)},kh=(W,te,Ie,at)=>{const En=te.length===1?Eo:at;a(te,co=>{const Fo=Ge(It.fromDom(co),"td,th"),Ds=iu.normal(W,co);nc(Ds,Ie,En),Jl(W)&&mc(Ds,Ie,En),at("height")&&a(Fo,$s=>{W.dom.setStyle($s.dom,"height",null)}),at("align")&&hp(W,co,Ie.align)})},m1=(W,te)=>{W.execCommand("mceTableRowType",!1,{type:te.type,no_events:!0})},Oh=(W,te,Ie,at)=>{const Nt=V(at,(En,co)=>Ie[co]!==En);if(ne(Nt)>0){const En=q(Nt,"type"),co=En?ne(Nt)>1:!0;co&&kh(W,te,at,lt(q,Nt)),En&&m1(W,at),ql(It.fromDom(te[0])).each(Fo=>Ig(W,Fo.dom,{structure:En,style:co}))}},Lh=(W,te,Ie,at)=>{const Nt=at.getData();at.close(),W.undoManager.transact(()=>{Oh(W,te,Ie,Nt),W.focus()})},Mi=W=>{const te=yd(Gr(W),$g.selected);if(te.length===0)return;const Ie=ge(te,co=>Wc(W,co.dom,Jl(W))),at=Ri(Ie),Nt={type:"tabpanel",tabs:[{title:"General",name:"general",items:pr(W)},Dr(W,"row")]},En={type:"panel",items:[{type:"grid",columns:2,items:pr(W)}]};W.windowManager.open({title:"Row Properties",size:"normal",body:Jl(W)?Nt:En,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:at,onSubmit:lt(Lh,W,ge(te,co=>co.dom),at)})},_d=(W,te,Ie)=>{const at=Ie?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Nt=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],En=Qs(W)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],co=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Fo=te.length>0?[{name:"class",type:"listbox",label:"Class",items:te}]:[];return at.concat(Nt).concat(En).concat(co).concat(Fo)},na=(W,te,Ie,at)=>{if(te.tagName==="TD"||te.tagName==="TH")je(Ie)&&On(at)?W.setStyle(te,Ie,at):W.setStyles(te,Ie);else if(te.children)for(let Nt=0;Nt<te.children.length;Nt++)na(W,te.children[Nt],Ie,at)},I2=(W,te,Ie,at)=>{const Nt=W.dom,En={},co={},Fo=Uc(W),Ds=yl(W),$s=parseFloat(Ie.border)===0;if(!Oe(Ie.class)&&Ie.class!=="mce-no-match"&&(En.class=Ie.class),co.height=Or(Ie.height),Fo?co.width=Or(Ie.width):Nt.getAttrib(te,"width")&&(En.width=ir(Ie.width)),Fo?($s?(En.border=0,co["border-width"]=""):(co["border-width"]=Or(Ie.border),En.border=1),co["border-spacing"]=Or(Ie.cellspacing)):(En.border=$s?0:Ie.border,En.cellpadding=Ie.cellpadding,En.cellspacing=Ie.cellspacing),Fo&&te.children){const Nr={};if($s?Nr["border-width"]="":at.border&&(Nr["border-width"]=Or(Ie.border)),at.cellpadding&&(Nr.padding=Or(Ie.cellpadding)),Ds&&at.bordercolor&&(Nr["border-color"]=Ie.bordercolor),!Le(Nr))for(let qr=0;qr<te.children.length;qr++)na(Nt,te.children[qr],Nr)}if(Ds){const Nr=Ie;co["background-color"]=Nr.backgroundcolor,co["border-color"]=Nr.bordercolor,co["border-style"]=Nr.borderstyle}Nt.setStyles(te,{...ou(W),...co}),Nt.setAttribs(te,{...tl(W),...En})},Vr=(W,te,Ie,at)=>{const Nt=W.dom,En=at.getData(),co=V(En,(Fo,Ds)=>Ie[Ds]!==Fo);at.close(),W.undoManager.transact(()=>{if(!te){const Fo=Lt(En.cols).getOr(1),Ds=Lt(En.rows).getOr(1);W.execCommand("mceInsertTable",!1,{rows:Ds,columns:Fo}),te=wf(Gr(W),ps(W)).bind($s=>ql($s,ps(W))).map($s=>$s.dom).getOrDie()}if(ne(co)>0){const Fo={border:q(co,"border"),bordercolor:q(co,"bordercolor"),cellpadding:q(co,"cellpadding")};I2(W,te,En,Fo);const Ds=Nt.select("caption",te)[0];(Ds&&!En.caption||!Ds&&En.caption)&&W.execCommand("mceTableToggleCaption"),hp(W,te,En.align)}if(W.focus(),W.addVisual(),ne(co)>0){const Fo=q(co,"caption"),Ds=Fo?ne(co)>1:!0;Ig(W,te,{structure:Fo,style:Ds})}})},Vu=(W,te)=>{const Ie=W.dom;let at,Nt=d5(W,yl(W));te?(Nt.cols="1",Nt.rows="1",yl(W)&&(Nt.borderstyle="",Nt.bordercolor="",Nt.backgroundcolor="")):(at=Ie.getParent(W.selection.getStart(),"table",W.getBody()),at?Nt=u5(W,at,yl(W)):yl(W)&&(Nt.borderstyle="",Nt.bordercolor="",Nt.backgroundcolor=""));const En=Yr(fc(W));En.isSome()&&Nt.class&&(Nt.class=Nt.class.replace(/\s*mce\-item\-table\s*/g,""));const co={type:"grid",columns:2,items:_d(W,En.getOr([]),te)},Fo=()=>({type:"panel",items:[co]}),Ds=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[co]},Dr(W,"table")]}),$s=yl(W)?Ds():Fo();W.windowManager.open({title:"Table Properties",size:"normal",body:$s,onSubmit:lt(Vr,W,at,Nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Nt})},Ma=W=>{const te=Ie=>{Sa(Gr(W))&&Ie()};ie({mceTableProps:lt(Vu,W,!1),mceTableRowProps:lt(Mi,W),mceTableCellProps:lt(Kc,W),mceInsertTableDialog:lt(Vu,W,!0)},(Ie,at)=>W.addCommand(at,()=>te(Ie)))},$l=W=>({element:W,mergable:ht.none(),unmergable:ht.none(),selection:[W]}),Cl=(W,te,Ie)=>({element:Ie,mergable:ii(te,W,$g),unmergable:ai(W),selection:Ua(W)}),h1=W=>{const te=Ae(ht.none()),Ie=Ae([]);let at=ht.none();const Nt=Re("caption"),En=Ks=>at.forall(Xr=>!Xr[Ks]),co=()=>Il(Gr(W),ps(W)),Fo=()=>Il(Rs(W),ps(W)),Ds=()=>co().bind(Ks=>ut(We(ql(Ks),Fo().bind(ql),(Xr,Ci)=>zn(Xr,Ci)?Nt(Ks)?ht.some($l(Ks)):ht.some(Cl(Qa(W),Xr,Ks)):ht.none()))),$s=Ks=>ql(Ks.element).map(Ci=>{const _l=ca.fromTable(Ci),Gg=mp(_l,Ks).getOr([]),wp=O(Gg,(Yg,qg)=>(qg.isLocked&&(Yg.onAny=!0,qg.column===0?Yg.onFirst=!0:qg.column+qg.colspan>=_l.grid.columns&&(Yg.onLast=!0)),Yg),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:yt(_l,Ks).isSome(),unmergeable:Bu(_l,Ks).isSome(),locked:wp}}),Nr=()=>{te.set(Wt(Ds)()),at=te.get().bind($s),a(Ie.get(),Xn)},qr=Ks=>(Ks(),Ie.set(Ie.get().concat([Ks])),()=>{Ie.set(L(Ie.get(),Xr=>Xr!==Ks))}),ma=(Ks,Xr)=>qr(()=>te.get().fold(()=>{Ks.setEnabled(!1)},Ci=>{Ks.setEnabled(!Xr(Ci)&&W.selection.isEditable())})),zl=(Ks,Xr,Ci)=>qr(()=>te.get().fold(()=>{Ks.setEnabled(!1),Ks.setActive(!1)},_l=>{Ks.setEnabled(!Xr(_l)&&W.selection.isEditable()),Ks.setActive(Ci(_l))})),lu=Ks=>at.exists(Xr=>Xr.locked[Ks]),cu=Ks=>ma(Ks,Xr=>!1),hc=Ks=>ma(Ks,Xr=>Nt(Xr.element)),Rh=Ks=>Xr=>ma(Xr,Ci=>Nt(Ci.element)||lu(Ks)),Ep=Ks=>Xr=>ma(Xr,Ci=>Nt(Ci.element)||Ks().isNone()),v1=(Ks,Xr)=>Ci=>ma(Ci,_l=>Nt(_l.element)||Ks().isNone()||lu(Xr)),Wu=Ks=>ma(Ks,Xr=>En("mergeable")),Kg=Ks=>ma(Ks,Xr=>En("unmergeable")),jg=Ks=>zl(Ks,gs,Xr=>ql(Xr.element,ps(W)).exists(_l=>Kt(_l,"caption"))),Zg=(Ks,Xr)=>Ci=>zl(Ci,_l=>Nt(_l.element),()=>W.queryCommandValue(Ks)===Xr),f5=Zg("mceTableRowType","header"),p5=Zg("mceTableColType","th");return W.on("NodeChange ExecCommand TableSelectorChange",Nr),{onSetupTable:cu,onSetupCellOrRow:hc,onSetupColumn:Rh,onSetupPasteable:Ep,onSetupPasteableColumn:v1,onSetupMergeable:Wu,onSetupUnmergeable:Kg,resetTargets:Nr,onSetupTableWithCaption:jg,onSetupTableRowHeaders:f5,onSetupTableColumnHeaders:p5,targets:te.get}};var Ug=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Dh="x-tinymce/dom-table-",B2=Dh+"rows",b1=Dh+"columns",jc=W=>{var te;const Ie=(te=Ug.read())!==null&&te!==void 0?te:[];return be(Ie,at=>ht.from(at.getType(W)))},Hl=()=>jc(B2),ti=()=>jc(b1),Ia=W=>te=>{const Ie=()=>{te.setEnabled(W.selection.isEditable())};return W.on("NodeChange",Ie),Ie(),()=>{W.off("NodeChange",Ie)}},F2=(W,te)=>{W.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ia(W),fetch:Fo=>Fo("inserttable | cell row column | advtablesort | tableprops deletetable")});const Ie=Fo=>()=>W.execCommand(Fo),at=(Fo,Ds)=>{W.queryCommandSupported(Ds.command)&&W.ui.registry.addButton(Fo,{...Ds,onAction:ve(Ds.onAction)?Ds.onAction:Ie(Ds.command)})},Nt=(Fo,Ds)=>{W.queryCommandSupported(Ds.command)&&W.ui.registry.addToggleButton(Fo,{...Ds,onAction:ve(Ds.onAction)?Ds.onAction:Ie(Ds.command)})};at("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:te.onSetupTable}),at("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:te.onSetupTable}),at("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:te.onSetupCellOrRow}),at("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:te.onSetupMergeable}),at("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:te.onSetupUnmergeable}),at("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:te.onSetupCellOrRow}),at("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:te.onSetupCellOrRow}),at("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:te.onSetupCellOrRow}),at("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:te.onSetupCellOrRow}),at("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:te.onSetupColumn("onFirst")}),at("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:te.onSetupColumn("onLast")}),at("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:te.onSetupColumn("onAny")}),at("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:te.onSetupCellOrRow}),at("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:te.onSetupCellOrRow}),at("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:te.onSetupPasteable(Hl)}),at("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:te.onSetupPasteable(Hl)}),at("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:te.onSetupColumn("onAny")}),at("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:te.onSetupColumn("onAny")}),at("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:te.onSetupPasteableColumn(ti,"onFirst")}),at("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:te.onSetupPasteableColumn(ti,"onLast")}),at("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ia(W)});const En=au(fc(W));En.length!==0&&W.queryCommandSupported("mceTableToggleClass")&&W.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:u1(W,En,"tableclass",Fo=>W.execCommand("mceTableToggleClass",!1,Fo)),onSetup:te.onSetupTable});const co=au(ri(W));co.length!==0&&W.queryCommandSupported("mceTableCellToggleClass")&&W.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:u1(W,co,"tablecellclass",Fo=>W.execCommand("mceTableCellToggleClass",!1,Fo)),onSetup:te.onSetupCellOrRow}),W.queryCommandSupported("mceTableApplyCellStyle")&&(W.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:u1(W,su,"tablecellverticalalign",Uu(W,"vertical-align")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:u1(W,fa(W),"tablecellborderwidth",Uu(W,"border-width")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:u1(W,si(W),"tablecellborderstyle",Uu(W,"border-style")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Fo=>Fo(Pl(W,Xa(W),"background-color")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Fo=>Fo(Pl(W,za(W),"border-color")),onSetup:te.onSetupCellOrRow})),Nt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:te.onSetupTableWithCaption}),Nt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Th(W),onSetup:te.onSetupTableRowHeaders}),Nt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ei(W),onSetup:te.onSetupTableColumnHeaders})},_p=W=>{const te=at=>W.dom.is(at,"table")&&W.getBody().contains(at)&&W.dom.isEditable(at.parentNode),Ie=pc(W);Ie.length>0&&W.ui.registry.addContextToolbar("table",{predicate:te,items:Ie,scope:"node",position:"node"})},Vg=W=>te=>{const Ie=()=>{te.setEnabled(W.selection.isEditable())};return W.on("NodeChange",Ie),Ie(),()=>{W.off("NodeChange",Ie)}},Ed=(W,te)=>{const Ie=qr=>()=>W.execCommand(qr),at=(qr,ma)=>W.queryCommandSupported(ma.command)?(W.ui.registry.addMenuItem(qr,{...ma,onAction:ve(ma.onAction)?ma.onAction:Ie(ma.command)}),!0):!1,Nt=(qr,ma)=>{W.queryCommandSupported(ma.command)&&W.ui.registry.addToggleMenuItem(qr,{...ma,onAction:ve(ma.onAction)?ma.onAction:Ie(ma.command)})},En=qr=>{W.execCommand("mceInsertTable",!1,{rows:qr.numRows,columns:qr.numColumns})},co=[at("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:te.onSetupCellOrRow}),at("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:te.onSetupCellOrRow}),at("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:te.onSetupCellOrRow}),at("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:te.onSetupCellOrRow}),at("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:te.onSetupCellOrRow}),at("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:te.onSetupCellOrRow}),at("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:te.onSetupPasteable(Hl)}),at("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:te.onSetupPasteable(Hl)})],Fo=[at("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:te.onSetupColumn("onFirst")}),at("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:te.onSetupColumn("onLast")}),at("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:te.onSetupColumn("onAny")}),at("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:te.onSetupColumn("onAny")}),at("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:te.onSetupColumn("onAny")}),at("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:te.onSetupPasteableColumn(ti,"onFirst")}),at("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:te.onSetupPasteableColumn(ti,"onLast")})],Ds=[at("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:te.onSetupCellOrRow}),at("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:te.onSetupMergeable}),at("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:te.onSetupUnmergeable})];xd(W)?W.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:En}],onSetup:Vg(W)}):W.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Ie("mceInsertTableDialog"),onSetup:Vg(W)}),W.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Ie("mceInsertTableDialog"),onSetup:Vg(W)}),at("tableprops",{text:"Table properties",onSetup:te.onSetupTable,command:"mceTableProps"}),at("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:te.onSetupTable,command:"mceTableDelete"}),s(co,!0)&&W.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:jt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),s(Fo,!0)&&W.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:jt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),s(Ds,!0)&&W.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:jt("tablecellprops tablemergecells tablesplitcells")}),W.ui.registry.addContextMenu("table",{update:()=>(te.resetTargets(),te.targets().fold(jt(""),qr=>ms(qr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const $s=au(fc(W));$s.length!==0&&W.queryCommandSupported("mceTableToggleClass")&&W.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Di(W,$s,"tableclass",qr=>W.execCommand("mceTableToggleClass",!1,qr)),onSetup:te.onSetupTable});const Nr=au(ri(W));Nr.length!==0&&W.queryCommandSupported("mceTableCellToggleClass")&&W.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Di(W,Nr,"tablecellclass",qr=>W.execCommand("mceTableCellToggleClass",!1,qr)),onSetup:te.onSetupCellOrRow}),W.queryCommandSupported("mceTableApplyCellStyle")&&(W.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Di(W,su,"tablecellverticalalign",Uu(W,"vertical-align")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Di(W,fa(W),"tablecellborderwidth",Uu(W,"border-width")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Di(W,si(W),"tablecellborderstyle",Uu(W,"border-style")),onSetup:te.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Pl(W,Xa(W),"background-color"),onSetup:te.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Pl(W,za(W),"border-color"),onSetup:te.onSetupCellOrRow})),Nt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:te.onSetupTableWithCaption}),Nt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Th(W),onSetup:te.onSetupTableRowHeaders}),Nt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ei(W),onSetup:te.onSetupTableRowHeaders})},Wg=W=>{const te=h1(W);yi(W),Ma(W),Ed(W,te),F2(W,te),_p(W)};var Nh=()=>{E.add("table",Wg)};Nh()})();(function(){const E=Xt=>{let lt=Xt;return{get:()=>lt,set:Eo=>{lt=Eo}}};var R=tinymce.util.Tools.resolve("tinymce.PluginManager"),x=tinymce.util.Tools.resolve("tinymce.Env");const ce=Xt=>Xt.dispatch("ResizeEditor"),ke=Xt=>lt=>lt.options.get(Xt),He=Xt=>{const lt=Xt.options.register;lt("autoresize_overflow_padding",{processor:"number",default:1}),lt("autoresize_bottom_margin",{processor:"number",default:50})},je=ke("min_height"),dt=ke("max_height"),Ft=ke("autoresize_overflow_padding"),Oe=ke("autoresize_bottom_margin"),pn=Xt=>Xt.plugins.fullscreen&&Xt.plugins.fullscreen.isFullscreen(),On=(Xt,lt)=>{const Xn=Xt.getBody();Xn&&(Xn.style.overflowY=lt?"":"hidden",lt||(Xn.scrollTop=0))},ve=(Xt,lt,Xn,gs)=>{var Eo;const ht=parseInt((Eo=Xt.getStyle(lt,Xn,gs))!==null&&Eo!==void 0?Eo:"",10);return isNaN(ht)?0:ht},es=Xt=>{if((Xt==null?void 0:Xt.type.toLowerCase())==="setcontent"){const lt=Xt;return lt.selection===!0||lt.paste===!0}else return!1},_o=(Xt,lt,Xn,gs)=>{var Eo;const ht=Xt.dom,oo=Xt.getDoc();if(!oo)return;if(pn(Xt)){On(Xt,!0);return}const Ls=oo.documentElement,us=gs?gs():Ft(Xt),s=(Eo=je(Xt))!==null&&Eo!==void 0?Eo:Xt.getElement().offsetHeight;let b=s;const B=ve(ht,Ls,"margin-top",!0),ge=ve(ht,Ls,"margin-bottom",!0);let a=Ls.offsetHeight+B+ge+us;a<0&&(a=0);const p=Xt.getContainer().offsetHeight,M=Xt.getContentAreaContainer().offsetHeight,L=p-M;a+L>s&&(b=a+L);const A=dt(Xt);A&&b>A?(b=A,On(Xt,!0)):On(Xt,!1);const O=lt.get();if(O.set&&(Xt.dom.setStyles(Xt.getDoc().documentElement,{"min-height":0}),Xt.dom.setStyles(Xt.getBody(),{"min-height":"inherit"})),b!==O.totalHeight&&(a-us!==O.contentHeight||!O.set)){const z=b-O.totalHeight;if(ht.setStyle(Xt.getContainer(),"height",b+"px"),lt.set({totalHeight:b,contentHeight:a,set:!0}),ce(Xt),x.browser.isSafari()&&(x.os.isMacOS()||x.os.isiOS())){const Q=Xt.getWin();Q.scrollTo(Q.pageXOffset,Q.pageYOffset)}Xt.hasFocus()&&es(Xn)&&Xt.selection.scrollIntoView(),(x.browser.isSafari()||x.browser.isChromium())&&z<0&&_o(Xt,lt,Xn,gs)}},Ao=(Xt,lt)=>{const Xn=()=>Oe(Xt);Xt.on("init",gs=>{const Eo=Ft(Xt),ht=Xt.dom;ht.setStyles(Xt.getDoc().documentElement,{height:"auto"}),x.browser.isEdge()||x.browser.isIE()?ht.setStyles(Xt.getBody(),{paddingLeft:Eo,paddingRight:Eo,"min-height":0}):ht.setStyles(Xt.getBody(),{paddingLeft:Eo,paddingRight:Eo}),_o(Xt,lt,gs,Xn)}),Xt.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",gs=>{_o(Xt,lt,gs,Xn)})},jt=(Xt,lt)=>{Xt.addCommand("mceAutoResize",()=>{_o(Xt,lt)})};var Zo=()=>{R.add("autoresize",Xt=>{if(He(Xt),Xt.options.isSet("resize")||Xt.options.set("resize",!1),!Xt.inline){const lt=E({totalHeight:0,contentHeight:0,set:!1});jt(Xt,lt),Ao(Xt,lt)}})};Zo()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const x=(et=>Ve=>et===Ve)(void 0),ce=et=>et==null,ke=et=>!ce(et),He=et=>()=>et,je=He(!1);class dt{constructor(Ve,Ze){this.tag=Ve,this.value=Ze}static some(Ve){return new dt(!0,Ve)}static none(){return dt.singletonNone}fold(Ve,Ze){return this.tag?Ze(this.value):Ve()}isSome(){return this.tag}isNone(){return!this.tag}map(Ve){return this.tag?dt.some(Ve(this.value)):dt.none()}bind(Ve){return this.tag?Ve(this.value):dt.none()}exists(Ve){return this.tag&&Ve(this.value)}forall(Ve){return!this.tag||Ve(this.value)}filter(Ve){return!this.tag||Ve(this.value)?this:dt.none()}getOr(Ve){return this.tag?this.value:Ve}or(Ve){return this.tag?this:Ve}getOrThunk(Ve){return this.tag?this.value:Ve()}orThunk(Ve){return this.tag?this:Ve()}getOrDie(Ve){if(this.tag)return this.value;throw new Error(Ve??"Called getOrDie on None")}static from(Ve){return ke(Ve)?dt.some(Ve):dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ve){this.tag&&Ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}dt.singletonNone=new dt(!1);const Ft=(et,Ve,Ze)=>{for(let Xe=0,$e=et.length;Xe<$e;Xe++){const tt=et[Xe];if(Ve(tt,Xe))return dt.some(tt);if(Ze(tt,Xe))break}return dt.none()},Oe=(et,Ve)=>Ft(et,Ve,je),pn=(et,Ve)=>{for(let Ze=0;Ze<et.length;Ze++){const Xe=Ve(et[Ze],Ze);if(Xe.isSome())return Xe}return dt.none()},On=(et,Ve,Ze=0,Xe)=>{const $e=et.indexOf(Ve,Ze);return $e!==-1?x(Xe)?!0:$e+Ve.length<=Xe:!1},ve=et=>{let Ve=!1,Ze;return(...Xe)=>(Ve||(Ve=!0,Ze=et.apply(null,Xe)),Ze)},es=(et,Ve,Ze,Xe)=>{const $e=et.isiOS()&&/ipad/i.test(Ze)===!0,tt=et.isiOS()&&!$e,_t=et.isiOS()||et.isAndroid(),mt=_t||Xe("(pointer:coarse)"),Lt=$e||!tt&&_t&&Xe("(min-device-width:768px)"),Rt=tt||_t&&!Lt,Wt=Ve.isSafari()&&et.isiOS()&&/safari/i.test(Ze)===!1,Zt=!Rt&&!Lt&&!Wt;return{isiPad:He($e),isiPhone:He(tt),isTablet:He(Lt),isPhone:He(Rt),isTouch:He(mt),isAndroid:et.isAndroid,isiOS:et.isiOS,isWebView:He(Wt),isDesktop:He(Zt)}},_o=(et,Ve)=>{for(let Ze=0;Ze<et.length;Ze++){const Xe=et[Ze];if(Xe.test(Ve))return Xe}},Ao=(et,Ve)=>{const Ze=_o(et,Ve);if(!Ze)return{major:0,minor:0};const Xe=$e=>Number(Ve.replace(Ze,"$"+$e));return Xt(Xe(1),Xe(2))},jt=(et,Ve)=>{const Ze=String(Ve).toLowerCase();return et.length===0?Zo():Ao(et,Ze)},Zo=()=>Xt(0,0),Xt=(et,Ve)=>({major:et,minor:Ve}),lt={nu:Xt,detect:jt,unknown:Zo},Xn=(et,Ve)=>pn(Ve.brands,Ze=>{const Xe=Ze.brand.toLowerCase();return Oe(et,$e=>{var tt;return Xe===((tt=$e.brand)===null||tt===void 0?void 0:tt.toLowerCase())}).map($e=>({current:$e.name,version:lt.nu(parseInt(Ze.version,10),0)}))}),gs=(et,Ve)=>{const Ze=String(Ve).toLowerCase();return Oe(et,Xe=>Xe.search(Ze))},Eo=(et,Ve)=>gs(et,Ve).map(Ze=>{const Xe=lt.detect(Ze.versionRegexes,Ve);return{current:Ze.name,version:Xe}}),ht=(et,Ve)=>gs(et,Ve).map(Ze=>{const Xe=lt.detect(Ze.versionRegexes,Ve);return{current:Ze.name,version:Xe}}),oo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ls=et=>Ve=>On(Ve,et),us=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:et=>On(et,"edge/")&&On(et,"chrome")&&On(et,"safari")&&On(et,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,oo],search:et=>On(et,"chrome")&&!On(et,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:et=>On(et,"msie")||On(et,"trident")},{name:"Opera",versionRegexes:[oo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ls("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ls("firefox")},{name:"Safari",versionRegexes:[oo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:et=>(On(et,"safari")||On(et,"mobile/"))&&On(et,"applewebkit")}],s=[{name:"Windows",search:Ls("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:et=>On(et,"iphone")||On(et,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ls("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ls("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ls("linux"),versionRegexes:[]},{name:"Solaris",search:Ls("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ls("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ls("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],b={browsers:He(us),oses:He(s)},B="Edge",ge="Chromium",a="IE",p="Opera",M="Firefox",L="Safari",A=()=>O({current:void 0,version:lt.unknown()}),O=et=>{const Ve=et.current,Ze=et.version,Xe=$e=>()=>Ve===$e;return{current:Ve,version:Ze,isEdge:Xe(B),isChromium:Xe(ge),isIE:Xe(a),isOpera:Xe(p),isFirefox:Xe(M),isSafari:Xe(L)}},z={unknown:A,nu:O},Q="Windows",H="iOS",P="Android",j="Linux",K="macOS",ee="Solaris",w="FreeBSD",xe="ChromeOS",be=()=>re({current:void 0,version:lt.unknown()}),re=et=>{const Ve=et.current,Ze=et.version,Xe=$e=>()=>Ve===$e;return{current:Ve,version:Ze,isWindows:Xe(Q),isiOS:Xe(H),isAndroid:Xe(P),isMacOS:Xe(K),isLinux:Xe(j),isSolaris:Xe(ee),isFreeBSD:Xe(w),isChromeOS:Xe(xe)}},se={unknown:be,nu:re},D={detect:(et,Ve,Ze)=>{const Xe=b.browsers(),$e=b.oses(),tt=Ve.bind(Lt=>Xn(Xe,Lt)).orThunk(()=>Eo(Xe,et)).fold(z.unknown,z.nu),_t=ht($e,et).fold(se.unknown,se.nu),mt=es(_t,tt,et,Ze);return{browser:tt,os:_t,deviceType:mt}}},U=et=>window.matchMedia(et).matches;let V=ve(()=>D.detect(window.navigator.userAgent,dt.from(window.navigator.userAgentData),U));const I=()=>V(),N=()=>I().os.isMacOS(),ne=()=>I().os.isiOS(),G=()=>{const et=N()||ne();return`<script>(${(Ze=>{document.addEventListener("click",Xe=>{for(let $e=Xe.target;$e;$e=$e.parentNode)if($e.nodeName==="A"){const _t=$e.getAttribute("href");if(_t&&_t.startsWith("#")){Xe.preventDefault();const Lt=document.getElementById(_t.substring(1));Lt&&Lt.scrollIntoView({behavior:"smooth"});return}(Ze?Xe.metaKey:Xe.ctrlKey&&!Xe.altKey)||Xe.preventDefault()}},!1)}).toString()})(${et})<\/script>`};var q=tinymce.util.Tools.resolve("tinymce.util.Tools");const de=et=>Ve=>Ve.options.get(et),Le=de("content_style"),Ae=de("content_css_cors"),we=de("body_class"),Pe=de("body_id"),We=et=>{var Ve;let Ze="";const Xe=et.dom.encode,$e=(Ve=Le(et))!==null&&Ve!==void 0?Ve:"";Ze+=`<base href="${Xe(et.documentBaseURI.getURI())}">`;const tt=Ae(et)?' crossorigin="anonymous"':"";q.each(et.contentCSS,Zt=>{Ze+='<link type="text/css" rel="stylesheet" href="'+Xe(et.documentBaseURI.toAbsolute(Zt))+'"'+tt+">"}),$e&&(Ze+='<style type="text/css">'+$e+"</style>");const _t=Pe(et),mt=we(et),Lt=et.getBody().dir,Rt=Lt?' dir="'+Xe(Lt)+'"':"";return"<!DOCTYPE html><html><head>"+Ze+'</head><body id="'+Xe(_t)+'" class="mce-content-body '+Xe(mt)+'"'+Rt+">"+et.getContent()+G()+"</body></html>"},ut=et=>{const Ve=We(et);et.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:Ve}}).focus("close")},nt=et=>{et.addCommand("mcePreview",()=>{ut(et)})},ot=et=>{const Ve=()=>et.execCommand("mcePreview");et.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:Ve,context:"any"}),et.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:Ve,context:"any"})};var Me=()=>{E.add("preview",et=>{nt(et),ot(et)})};Me()})();(function(){var E=tinymce.util.Tools.resolve("tinymce.PluginManager");const x=(D=>U=>D===U)(null),ce=D=>D,ke=(D,U)=>{const V=D.length,I=new Array(V);for(let N=0;N<V;N++){const ne=D[N];I[N]=U(ne,N)}return I},He=(D,U)=>{let V=null;return{cancel:()=>{x(V)||(clearTimeout(V),V=null)},throttle:(...ne)=>{x(V)&&(V=setTimeout(()=>{V=null,D.apply(null,ne)},U))}}},je=D=>D.replace(/\uFEFF/g,""),Ft={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},Oe={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},pn=[new RegExp(Ft.aletter),new RegExp(Ft.midnumlet),new RegExp(Ft.midletter),new RegExp(Ft.midnum),new RegExp(Ft.numeric),new RegExp(Ft.cr),new RegExp(Ft.lf),new RegExp(Ft.newline),new RegExp(Ft.extend),new RegExp(Ft.format),new RegExp(Ft.katakana),new RegExp(Ft.extendnumlet),new RegExp("@")],On="",ve=new RegExp("^"+Ft.punctuation+"$"),es=/^\s+$/,_o=pn,Ao=Oe.OTHER,jt=D=>{let U=Ao;const V=_o.length;for(let I=0;I<V;++I){const N=_o[I];if(N&&N.test(D)){U=I;break}}return U},Zo=D=>{const U={};return V=>{if(U[V])return U[V];{const I=D(V);return U[V]=I,I}}},Xt=D=>{const U=Zo(jt);return ke(D,U)},lt=(D,U)=>{const V=D[U],I=D[U+1];if(U<0||U>D.length-1&&U!==0||V===Oe.ALETTER&&I===Oe.ALETTER)return!1;const N=D[U+2];if(V===Oe.ALETTER&&(I===Oe.MIDLETTER||I===Oe.MIDNUMLET||I===Oe.AT)&&N===Oe.ALETTER)return!1;const ne=D[U-1];return(V===Oe.MIDLETTER||V===Oe.MIDNUMLET||I===Oe.AT)&&I===Oe.ALETTER&&ne===Oe.ALETTER||(V===Oe.NUMERIC||V===Oe.ALETTER)&&(I===Oe.NUMERIC||I===Oe.ALETTER)||(V===Oe.MIDNUM||V===Oe.MIDNUMLET)&&I===Oe.NUMERIC&&ne===Oe.NUMERIC||V===Oe.NUMERIC&&(I===Oe.MIDNUM||I===Oe.MIDNUMLET)&&N===Oe.NUMERIC||(V===Oe.EXTEND||V===Oe.FORMAT)&&(I===Oe.ALETTER||I===Oe.NUMERIC||I===Oe.KATAKANA||I===Oe.EXTEND||I===Oe.FORMAT)||(I===Oe.EXTEND||I===Oe.FORMAT&&(N===Oe.ALETTER||N===Oe.NUMERIC||N===Oe.KATAKANA||N===Oe.EXTEND||N===Oe.FORMAT))&&(V===Oe.ALETTER||V===Oe.NUMERIC||V===Oe.KATAKANA||V===Oe.EXTEND||V===Oe.FORMAT)||V===Oe.CR&&I===Oe.LF?!1:V===Oe.NEWLINE||V===Oe.CR||V===Oe.LF||I===Oe.NEWLINE||I===Oe.CR||I===Oe.LF?!0:!(V===Oe.KATAKANA&&I===Oe.KATAKANA||I===Oe.EXTENDNUMLET&&(V===Oe.ALETTER||V===Oe.NUMERIC||V===Oe.KATAKANA||V===Oe.EXTENDNUMLET)||V===Oe.EXTENDNUMLET&&(I===Oe.ALETTER||I===Oe.NUMERIC||I===Oe.KATAKANA)||V===Oe.AT)},Xn=On,gs=es,Eo=ve,ht=D=>D==="http"||D==="https",oo=(D,U)=>{let V;for(V=U;V<D.length&&!gs.test(D[V]);V++);return V},Ls=(D,U)=>{const V=oo(D,U+1);return D.slice(U+1,V).join(Xn).substr(0,3)==="://"?V:U},us=(D,U,V,I)=>{const N=[],ne=[];let G=[];for(let q=0;q<V.length;++q)if(G.push(D[q]),lt(V,q)){const de=U[q];if((I.includeWhitespace||!gs.test(de))&&(I.includePunctuation||!Eo.test(de))){const Le=q-G.length+1,Ae=q+1,we=U.slice(Le,Ae).join(Xn);if(ht(we)){const Pe=Ls(U,q),We=D.slice(Ae,Pe);Array.prototype.push.apply(G,We),q=Pe}U[q+1]==="."&&/^([a-zA-Z]\.)+$/.test(we+".")?(G.push(D[q+1]),ne.push({start:Le,end:Ae+1})):ne.push({start:Le,end:Ae}),N.push(G)}G=[]}return{words:N,indices:ne}},s=()=>({includeWhitespace:!1,includePunctuation:!1}),b=(D,U,V)=>{V={...s(),...V};const I=ke(D,U),N=Xt(I);return us(D,I,N,V)},ge=(D,U,V)=>b(D,U,V).words;var a=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const p=(D,U)=>{const V=U.getBlockElements(),I=U.getVoidElements(),N=Le=>V[Le.nodeName]||I[Le.nodeName],ne=[];let G="";const q=new a(D,D);let de;for(;de=q.next();)de.nodeType===3?G+=je(de.data):N(de)&&G.length&&(ne.push(G),G="");return G.length&&ne.push(G),ne},M=D=>D.replace(/\u200B/g,""),L=D=>D.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,A=(D,U)=>{const V=M(p(D,U).join(`
`));return ge(V.split(""),ce).length},O=(D,U)=>{const V=p(D,U).join("");return L(V)},z=(D,U)=>{const V=p(D,U).join("").replace(/\s/g,"");return L(V)},Q=(D,U)=>()=>U(D.getBody(),D.schema),H=(D,U)=>()=>U(D.selection.getRng().cloneContents(),D.schema),P=D=>Q(D,A),j=D=>({body:{getWordCount:P(D),getCharacterCount:Q(D,O),getCharacterCountWithoutSpaces:Q(D,z)},selection:{getWordCount:H(D,A),getCharacterCount:H(D,O),getCharacterCountWithoutSpaces:H(D,z)},getCount:P(D)}),K=(D,U)=>{D.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(U.body.getWordCount()),String(U.selection.getWordCount())],["Characters (no spaces)",String(U.body.getCharacterCountWithoutSpaces()),String(U.selection.getCharacterCountWithoutSpaces())],["Characters",String(U.body.getCharacterCount()),String(U.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},ee=(D,U)=>{D.addCommand("mceWordCount",()=>K(D,U))};var w=tinymce.util.Tools.resolve("tinymce.util.Delay");const xe=(D,U)=>{D.dispatch("wordCountUpdate",{wordCount:{words:U.body.getWordCount(),characters:U.body.getCharacterCount(),charactersWithoutSpaces:U.body.getCharacterCountWithoutSpaces()}})},be=(D,U)=>{xe(D,U)},re=(D,U,V)=>{const I=He(()=>be(D,U),V);D.on("init",()=>{be(D,U),w.setEditorTimeout(D,()=>{D.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",I.throttle)},0),D.on("remove",I.cancel)})},se=D=>{const U=()=>D.execCommand("mceWordCount");D.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:U,context:"any"}),D.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:U,context:"any"})};var ie=(D=300)=>{E.add("wordcount",U=>{const V=j(U);return ee(U,V),se(U),re(U,V,D),V})};ie()})();window.Alpine=Ote;Ote.start();window.FroalaEditor=Cre;window.tinymce=Are;
